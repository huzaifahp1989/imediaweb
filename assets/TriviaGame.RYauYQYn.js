import{r as a,g as p,j as e,C as w,a as k,b as P,c as j,m as x,S as Q,T as H,B as G,H as $,P as X,A as V,i as ee,k as te,l as se}from"./index.BBgcJUim.js";const ae={easy:[{id:"easy_1",question:"How many pillars of Islam are there?",options:["3","4","5","6"],correct:2,points:2},{id:"easy_2",question:"What is the first pillar of Islam?",options:["Salah","Shahada","Zakat","Hajj"],correct:1,points:2},{id:"easy_3",question:"In which month do Muslims fast?",options:["Rajab","Ramadan","Shawwal","Muharram"],correct:1,points:2},{id:"easy_4",question:"How many times do Muslims pray each day?",options:["3","4","5","6"],correct:2,points:2},{id:"easy_5",question:"What is the holy book of Islam?",options:["Torah","Bible","Quran","Psalms"],correct:2,points:2},{id:"easy_6",question:"Which city is home to the Kaaba?",options:["Medina","Jerusalem","Mecca","Damascus"],correct:2,points:2},{id:"easy_7",question:"What color is often associated with Islam?",options:["Red","Blue","Green","Yellow"],correct:2,points:2},{id:"easy_8",question:"What do Muslims say before starting something?",options:["Alhamdulillah","Bismillah","Masha'Allah","Insha'Allah"],correct:1,points:2},{id:"easy_9",question:"What is the name of the Islamic month of fasting?",options:["Shawwal","Ramadan","Dhul Hijjah","Rajab"],correct:1,points:2},{id:"easy_10",question:"What do Muslims say when they hear good news?",options:["Subhanallah","Alhamdulillah","Allahu Akbar","Masha'Allah"],correct:1,points:2},{id:"easy_11",question:"Which direction do Muslims face when praying?",options:["North","Towards the Kaaba","East","West"],correct:1,points:2},{id:"easy_12",question:"What is the Islamic greeting?",options:["Hello","As-salamu alaikum","Good morning","Hi"],correct:1,points:2},{id:"easy_13",question:"What is Zakat?",options:["Prayer","Fasting","Charity","Pilgrimage"],correct:2,points:2},{id:"easy_14",question:"What is the night prayer called?",options:["Fajr","Maghrib","Isha","Dhuhr"],correct:2,points:2},{id:"easy_15",question:"How many rakats are in Fajr prayer?",options:["2","3","4","5"],correct:0,points:2}],medium:[{id:"medium_1",question:"Who is considered the last prophet in Islam?",options:["Musa (Moses)","Isa (Jesus)","Muhammad ï·º","Ibrahim (Abraham)"],correct:2,points:2},{id:"medium_2",question:"What is the name of the pilgrimage to Mecca?",options:["Umrah","Zakat","Hajj","Eid"],correct:2,points:2},{id:"medium_3",question:"What is the Arabic term for 'God is Great'?",options:["Alhamdulillah","Subhanallah","Allahu Akbar","Insha'Allah"],correct:2,points:2},{id:"medium_4",question:"How many Surahs are in the Quran?",options:["100","114","120","99"],correct:1,points:2},{id:"medium_5",question:"What is the night journey of Prophet Muhammad ï·º called?",options:["Hijrah","Isra and Mi'raj","Badr","Uhud"],correct:1,points:2},{id:"medium_6",question:"Which angel brought revelations to Prophet Muhammad ï·º?",options:["Mikail","Israfil","Jibreel (Gabriel)","Azrael"],correct:2,points:2},{id:"medium_7",question:"What is the first Surah in the Quran?",options:["Al-Baqarah","Al-Fatiha","Al-Ikhlas","An-Nas"],correct:1,points:2},{id:"medium_8",question:"What is the name of the holy month of Hajj?",options:["Ramadan","Shawwal","Dhul Hijjah","Muharram"],correct:2,points:2},{id:"medium_9",question:"What does 'Insha'Allah' mean?",options:["God willing","Thank God","God is great","Praise God"],correct:0,points:2},{id:"medium_10",question:"Which prayer is performed before sunrise?",options:["Fajr","Dhuhr","Asr","Maghrib"],correct:0,points:2},{id:"medium_11",question:"What is the reward for fasting during Ramadan?",options:["Money","Forgiveness of sins","Food","Gifts"],correct:1,points:2},{id:"medium_12",question:"What is Laylat al-Qadr?",options:["Night of Power","Day of Arafah","Eid night","Friday night"],correct:0,points:2},{id:"medium_13",question:"Who was the first person to accept Islam after the Prophet ï·º?",options:["Abu Bakr","Umar","Khadijah","Ali"],correct:2,points:2},{id:"medium_14",question:"What is the meaning of 'Alhamdulillah'?",options:["God is great","All praise is for Allah","God willing","Peace be upon you"],correct:1,points:2},{id:"medium_15",question:"Which Surah is known as the 'Heart of the Quran'?",options:["Al-Fatiha","Yasin","Al-Mulk","Ar-Rahman"],correct:1,points:2}],hard:[{id:"hard_1",question:"What is the literal meaning of 'Islam'?",options:["Peace","Submission to God","Guidance","Religion"],correct:1,points:2},{id:"hard_2",question:"In which year did the Hijrah (migration to Medina) occur?",options:["610 CE","622 CE","630 CE","632 CE"],correct:1,points:2},{id:"hard_3",question:"What is the longest Surah in the Quran?",options:["Al-Fatiha","Al-Baqarah","Al-Imran","An-Nisa"],correct:1,points:2},{id:"hard_4",question:"How many Prophets are mentioned by name in the Quran?",options:["25","20","30","15"],correct:0,points:2},{id:"hard_5",question:"What is the last Surah revealed in the Quran?",options:["Al-Fatiha","An-Nasr","Al-Ikhlas","Al-Falaq"],correct:1,points:2},{id:"hard_6",question:"Which Surah is called 'the heart of the Quran'?",options:["Yasin","Al-Mulk","Ar-Rahman","Al-Waqi'ah"],correct:0,points:2},{id:"hard_7",question:"How many years did the Quran take to be revealed?",options:["10 years","23 years","30 years","40 years"],correct:1,points:2},{id:"hard_8",question:"What is the shortest Surah in the Quran?",options:["Al-Ikhlas","Al-Kawthar","An-Nasr","Al-Asr"],correct:1,points:2},{id:"hard_9",question:"How many verses (ayat) are in the Quran?",options:["6000","6236","7000","5500"],correct:1,points:2},{id:"hard_10",question:"Which Prophet could speak to animals?",options:["Prophet Musa","Prophet Sulaiman","Prophet Ibrahim","Prophet Nuh"],correct:1,points:2},{id:"hard_11",question:"What is the name of the cave where the Quran was first revealed?",options:["Cave of Thawr","Cave of Hira","Cave of Uhud","Cave of Badr"],correct:1,points:2},{id:"hard_12",question:"How many times is Prophet Muhammad ï·º mentioned by name in the Quran?",options:["4","5","10","25"],correct:0,points:2},{id:"hard_13",question:"What is the meaning of 'Tawhid'?",options:["Prayer","Oneness of Allah","Charity","Fasting"],correct:1,points:2},{id:"hard_14",question:"Which battle is mentioned in Surah Al-Imran?",options:["Badr","Uhud","Khandaq","Hunayn"],correct:1,points:2},{id:"hard_15",question:"What is the name of the angel who will blow the trumpet on the Day of Judgment?",options:["Jibreel","Mikail","Israfil","Azrael"],correct:2,points:2}]},ie=(g,r)=>{const f=g[r],i=[...g].sort(()=>Math.random()-.5),y=i.indexOf(f);return{shuffled:i,newCorrectIndex:y}};function re({onComplete:g}){const[r,f]=a.useState(null),[i,y]=a.useState(0),[d,N]=a.useState(0),[v,S]=a.useState(3),[E,_]=a.useState(null),[u,q]=a.useState(!1),[F,W]=a.useState(!1),[m,T]=a.useState(null),[R,U]=a.useState([]),[C,B]=a.useState(0),[o,D]=a.useState([]),[n,z]=a.useState(null),A=[{id:"easy",name:"Easy",icon:"ðŸŒ±",color:"from-green-500 to-green-600",description:"5 questions, 3 lives",lives:3,count:5},{id:"medium",name:"Medium",icon:"âš¡",color:"from-yellow-500 to-orange-500",description:"7 questions, 2 lives",lives:2,count:7},{id:"hard",name:"Hard",icon:"ðŸ”¥",color:"from-red-500 to-red-600",description:"10 questions, 1 life",lives:1,count:10}];a.useEffect(()=>{L()},[]),a.useEffect(()=>{r&&m&&Y()},[r,m]),a.useEffect(()=>{if(o.length>0&&i<o.length){const t=o[i],{shuffled:s,newCorrectIndex:l}=ie(t.options,t.correct);U(s),B(l)}},[i,o]);const L=async()=>{try{if(await p.auth.isAuthenticated()){const s=await p.auth.me();T(s)}}catch{console.log("User not authenticated")}},Y=async()=>{try{let s=(await p.entities.UserGameProgress.filter({user_id:m.id,game_type:"trivia"}))[0];s||(s=await p.entities.UserGameProgress.create({user_id:m.id,game_type:"trivia",completed_questions:[],highest_difficulty:"easy",total_games_played:0,best_score:0})),z(s),M(s.completed_questions||[])}catch(t){console.error("Error loading progress:",t),M([])}},M=t=>{const s=A.find(h=>h.id===r),l=ae[r];let c=l.filter(h=>!t.includes(h.id));c.length<s.count&&(c=[...l]);for(let h=0;h<3;h++)c=c.sort(()=>Math.random()-.5);const b=c.slice(0,s.count);D(b),S(s.lives)},J=t=>{_(t),q(!0);const s=o[i];if(t===C)N(d+s.points);else{const c=v-1;if(S(c),c<=0){setTimeout(()=>{I()},1500);return}}setTimeout(()=>{i<o.length-1?(y(i+1),_(null),q(!1)):I()},1500)},I=async()=>{if(W(!0),m&&n)try{const t=o.map(l=>l.id),s=[...n.completed_questions||[],...t];await p.entities.UserGameProgress.update(n.id,{completed_questions:s,highest_difficulty:r,total_games_played:(n.total_games_played||0)+1,best_score:Math.max(d,n.best_score||0)}),await se(m,"trivia",{fallbackScore:d})}catch(t){console.error("Error saving game score:",t)}g(d)};if(!r)return e.jsxs(w,{className:"max-w-4xl mx-auto shadow-lg",children:[e.jsxs(k,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white p-8",children:[e.jsx(P,{className:"text-3xl text-center",children:"Choose Your Difficulty"}),e.jsx("p",{className:"text-center mt-2 text-blue-100",children:"Select a level to start your Islamic trivia challenge!"})]}),e.jsxs(j,{className:"p-8",children:[e.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:A.map((t,s)=>e.jsx(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:s*.1},whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsxs("button",{onClick:()=>f(t.id),className:`w-full p-8 rounded-2xl bg-gradient-to-br ${t.color} text-white shadow-xl hover:shadow-2xl transition-all duration-300`,children:[e.jsx("div",{className:"text-6xl mb-4",children:t.icon}),e.jsx("h3",{className:"text-2xl font-bold mb-2",children:t.name}),e.jsx("p",{className:"text-sm opacity-90",children:t.description})]})},t.id))}),n&&n.total_games_played>0&&e.jsxs(x.div,{initial:{opacity:0},animate:{opacity:1},className:"mt-8 bg-blue-50 rounded-xl p-6 text-center",children:[e.jsxs("p",{className:"text-gray-700 mb-2",children:[e.jsx(Q,{className:"w-5 h-5 inline text-amber-500"})," Your Stats:"]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Games Played: ",n.total_games_played," â€¢ Best Score: ",n.best_score," â€¢ Questions Completed: ",(n.completed_questions||[]).length]})]})]})]});if(F)return e.jsx(x.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"text-center py-12",children:e.jsx(w,{className:"max-w-md mx-auto border-2 border-amber-400 shadow-2xl",children:e.jsxs(j,{className:"pt-12 pb-8",children:[e.jsx(x.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200},children:e.jsx(H,{className:"w-24 h-24 mx-auto mb-6 text-amber-500"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Masha'Allah! ðŸŽ‰"}),e.jsxs("p",{className:"text-xl text-gray-600 mb-6",children:["You earned ",e.jsxs("span",{className:"font-bold text-amber-600",children:[d," points!"]})]}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 mb-4",children:[e.jsxs("p",{className:"text-sm text-gray-700",children:["Difficulty: ",e.jsx("span",{className:"font-bold capitalize",children:r})]}),e.jsxs("p",{className:"text-sm text-gray-700",children:["Questions Answered: ",o.length]})]}),e.jsx(G,{onClick:()=>{f(null),y(0),N(0),W(!1),_(null),q(!1)},className:"bg-gradient-to-r from-blue-500 to-purple-500",children:"Play Again"})]})})});if(o.length===0)return e.jsx(w,{className:"max-w-2xl mx-auto shadow-lg",children:e.jsxs(j,{className:"p-12 text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"â³"}),e.jsx("p",{className:"text-gray-600",children:"Loading questions..."})]})});const K=o[i],O=(i+1)/o.length*100,Z=A.find(t=>t.id===r);return e.jsxs(w,{className:"max-w-2xl mx-auto shadow-lg",children:[e.jsxs(k,{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx(P,{className:"text-2xl",children:"Islamic Trivia Quiz"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex items-center gap-2 bg-white/30 backdrop-blur-sm px-4 py-2 rounded-full border border-white/40",children:[...Array(Z.lives)].map((t,s)=>e.jsx($,{className:`w-5 h-5 ${s<v?"text-red-300 fill-red-300":"text-white/40"}`},s))}),e.jsxs("div",{className:"flex items-center gap-2 bg-white/30 backdrop-blur-sm px-4 py-2 rounded-full border border-white/40",children:[e.jsx(Q,{className:"w-5 h-5 text-yellow-300"}),e.jsxs("span",{className:"font-bold text-white",children:[d," pts"]})]})]})]}),e.jsxs("div",{className:"bg-white text-gray-900 p-3 rounded-lg text-center text-sm font-bold flex items-center justify-center gap-2 mb-4 shadow-lg",children:[e.jsx(H,{className:"w-5 h-5 text-amber-600"}),e.jsx("span",{className:"text-gray-900",children:"Win a monthly prize! Top scores compete."})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-2 text-white",children:[e.jsxs("span",{children:["Question ",i+1," of ",o.length]}),e.jsxs("span",{className:"capitalize",children:[r," Mode"]})]}),e.jsx(X,{value:O,className:"bg-white/30"})]})]}),e.jsx(j,{className:"p-4 md:p-8",children:e.jsx(V,{mode:"wait",children:e.jsxs(x.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[e.jsx("h3",{className:"text-base md:text-2xl font-bold text-gray-900 mb-4 md:mb-8 leading-snug px-2",children:K.question}),e.jsx("div",{className:"grid gap-2 md:gap-4",children:R.map((t,s)=>{const l=s===C,c=s===E,b=u&&l,h=u&&c&&!l;return e.jsxs(G,{onClick:()=>!u&&J(s),disabled:u,className:`h-auto py-3 md:py-4 px-3 md:px-4 text-sm md:text-lg justify-start transition-all duration-300 ${b?"bg-green-500 hover:bg-green-600 text-white":h?"bg-red-500 hover:bg-red-600 text-white":"bg-white hover:bg-blue-50 text-gray-900 border-2"}`,variant:u?"default":"outline",children:[e.jsx("span",{className:"flex-1 text-left leading-snug break-words",children:t}),b&&e.jsx(ee,{className:"w-4 md:w-6 h-4 md:h-6 ml-2 flex-shrink-0"}),h&&e.jsx(te,{className:"w-4 md:w-6 h-4 md:h-6 ml-2 flex-shrink-0"})]},s)})})]},i)})})]})}export{re as default};
