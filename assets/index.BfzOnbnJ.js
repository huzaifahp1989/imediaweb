var Ek=t=>{throw TypeError(t)};var Dv=(t,e,n)=>e.has(t)||Ek("Cannot "+n);var Y=(t,e,n)=>(Dv(t,e,"read from private field"),n?n.call(t):e.get(t)),lt=(t,e,n)=>e.has(t)?Ek("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Be=(t,e,n,r)=>(Dv(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Ot=(t,e,n)=>(Dv(t,e,"access private method"),n);var ig=(t,e,n,r)=>({set _(i){Be(t,e,i,n)},get _(){return Y(t,e,r)}});function NI(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function nu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function RU(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Lv={exports:{}},ff={},Fv={exports:{}},Lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kk;function IU(){if(kk)return Lt;kk=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.iterator;function g(z){return z===null||typeof z!="object"?null:(z=m&&z[m]||z["@@iterator"],typeof z=="function"?z:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,w={};function j(z,X,q){this.props=z,this.context=X,this.refs=w,this.updater=q||x}j.prototype.isReactComponent={},j.prototype.setState=function(z,X){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,X,"setState")},j.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function N(){}N.prototype=j.prototype;function S(z,X,q){this.props=z,this.context=X,this.refs=w,this.updater=q||x}var k=S.prototype=new N;k.constructor=S,_(k,j.prototype),k.isPureReactComponent=!0;var C=Array.isArray,R=Object.prototype.hasOwnProperty,O={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function M(z,X,q){var ye,_e={},Ee=null,ve=null;if(X!=null)for(ye in X.ref!==void 0&&(ve=X.ref),X.key!==void 0&&(Ee=""+X.key),X)R.call(X,ye)&&!A.hasOwnProperty(ye)&&(_e[ye]=X[ye]);var Fe=arguments.length-2;if(Fe===1)_e.children=q;else if(1<Fe){for(var Ie=Array(Fe),ze=0;ze<Fe;ze++)Ie[ze]=arguments[ze+2];_e.children=Ie}if(z&&z.defaultProps)for(ye in Fe=z.defaultProps,Fe)_e[ye]===void 0&&(_e[ye]=Fe[ye]);return{$$typeof:t,type:z,key:Ee,ref:ve,props:_e,_owner:O.current}}function P(z,X){return{$$typeof:t,type:z.type,key:X,ref:z.ref,props:z.props,_owner:z._owner}}function F(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function L(z){var X={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(q){return X[q]})}var D=/\/+/g;function V(z,X){return typeof z=="object"&&z!==null&&z.key!=null?L(""+z.key):X.toString(36)}function G(z,X,q,ye,_e){var Ee=typeof z;(Ee==="undefined"||Ee==="boolean")&&(z=null);var ve=!1;if(z===null)ve=!0;else switch(Ee){case"string":case"number":ve=!0;break;case"object":switch(z.$$typeof){case t:case e:ve=!0}}if(ve)return ve=z,_e=_e(ve),z=ye===""?"."+V(ve,0):ye,C(_e)?(q="",z!=null&&(q=z.replace(D,"$&/")+"/"),G(_e,X,q,"",function(ze){return ze})):_e!=null&&(F(_e)&&(_e=P(_e,q+(!_e.key||ve&&ve.key===_e.key?"":(""+_e.key).replace(D,"$&/")+"/")+z)),X.push(_e)),1;if(ve=0,ye=ye===""?".":ye+":",C(z))for(var Fe=0;Fe<z.length;Fe++){Ee=z[Fe];var Ie=ye+V(Ee,Fe);ve+=G(Ee,X,q,Ie,_e)}else if(Ie=g(z),typeof Ie=="function")for(z=Ie.call(z),Fe=0;!(Ee=z.next()).done;)Ee=Ee.value,Ie=ye+V(Ee,Fe++),ve+=G(Ee,X,q,Ie,_e);else if(Ee==="object")throw X=String(z),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return ve}function ee(z,X,q){if(z==null)return z;var ye=[],_e=0;return G(z,ye,"","",function(Ee){return X.call(q,Ee,_e++)}),ye}function ae(z){if(z._status===-1){var X=z._result;X=X(),X.then(function(q){(z._status===0||z._status===-1)&&(z._status=1,z._result=q)},function(q){(z._status===0||z._status===-1)&&(z._status=2,z._result=q)}),z._status===-1&&(z._status=0,z._result=X)}if(z._status===1)return z._result.default;throw z._result}var ue={current:null},Q={transition:null},K={ReactCurrentDispatcher:ue,ReactCurrentBatchConfig:Q,ReactCurrentOwner:O};function B(){throw Error("act(...) is not supported in production builds of React.")}return Lt.Children={map:ee,forEach:function(z,X,q){ee(z,function(){X.apply(this,arguments)},q)},count:function(z){var X=0;return ee(z,function(){X++}),X},toArray:function(z){return ee(z,function(X){return X})||[]},only:function(z){if(!F(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Lt.Component=j,Lt.Fragment=n,Lt.Profiler=i,Lt.PureComponent=S,Lt.StrictMode=r,Lt.Suspense=u,Lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K,Lt.act=B,Lt.cloneElement=function(z,X,q){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var ye=_({},z.props),_e=z.key,Ee=z.ref,ve=z._owner;if(X!=null){if(X.ref!==void 0&&(Ee=X.ref,ve=O.current),X.key!==void 0&&(_e=""+X.key),z.type&&z.type.defaultProps)var Fe=z.type.defaultProps;for(Ie in X)R.call(X,Ie)&&!A.hasOwnProperty(Ie)&&(ye[Ie]=X[Ie]===void 0&&Fe!==void 0?Fe[Ie]:X[Ie])}var Ie=arguments.length-2;if(Ie===1)ye.children=q;else if(1<Ie){Fe=Array(Ie);for(var ze=0;ze<Ie;ze++)Fe[ze]=arguments[ze+2];ye.children=Fe}return{$$typeof:t,type:z.type,key:_e,ref:Ee,props:ye,_owner:ve}},Lt.createContext=function(z){return z={$$typeof:o,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:a,_context:z},z.Consumer=z},Lt.createElement=M,Lt.createFactory=function(z){var X=M.bind(null,z);return X.type=z,X},Lt.createRef=function(){return{current:null}},Lt.forwardRef=function(z){return{$$typeof:c,render:z}},Lt.isValidElement=F,Lt.lazy=function(z){return{$$typeof:f,_payload:{_status:-1,_result:z},_init:ae}},Lt.memo=function(z,X){return{$$typeof:h,type:z,compare:X===void 0?null:X}},Lt.startTransition=function(z){var X=Q.transition;Q.transition={};try{z()}finally{Q.transition=X}},Lt.unstable_act=B,Lt.useCallback=function(z,X){return ue.current.useCallback(z,X)},Lt.useContext=function(z){return ue.current.useContext(z)},Lt.useDebugValue=function(){},Lt.useDeferredValue=function(z){return ue.current.useDeferredValue(z)},Lt.useEffect=function(z,X){return ue.current.useEffect(z,X)},Lt.useId=function(){return ue.current.useId()},Lt.useImperativeHandle=function(z,X,q){return ue.current.useImperativeHandle(z,X,q)},Lt.useInsertionEffect=function(z,X){return ue.current.useInsertionEffect(z,X)},Lt.useLayoutEffect=function(z,X){return ue.current.useLayoutEffect(z,X)},Lt.useMemo=function(z,X){return ue.current.useMemo(z,X)},Lt.useReducer=function(z,X,q){return ue.current.useReducer(z,X,q)},Lt.useRef=function(z){return ue.current.useRef(z)},Lt.useState=function(z){return ue.current.useState(z)},Lt.useSyncExternalStore=function(z,X,q){return ue.current.useSyncExternalStore(z,X,q)},Lt.useTransition=function(){return ue.current.useTransition()},Lt.version="18.3.1",Lt}var Ck;function oy(){return Ck||(Ck=1,Fv.exports=IU()),Fv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ak;function PU(){if(Ak)return ff;Ak=1;var t=oy(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(c,u,h){var f,m={},g=null,x=null;h!==void 0&&(g=""+h),u.key!==void 0&&(g=""+u.key),u.ref!==void 0&&(x=u.ref);for(f in u)r.call(u,f)&&!a.hasOwnProperty(f)&&(m[f]=u[f]);if(c&&c.defaultProps)for(f in u=c.defaultProps,u)m[f]===void 0&&(m[f]=u[f]);return{$$typeof:e,type:c,key:g,ref:x,props:m,_owner:i.current}}return ff.Fragment=n,ff.jsx=o,ff.jsxs=o,ff}var Tk;function OU(){return Tk||(Tk=1,Lv.exports=PU()),Lv.exports}var s=OU(),y=oy();const Nt=nu(y),M_=NI({__proto__:null,default:Nt},[y]);var ag={},Vv={exports:{}},ps={},Uv={exports:{}},$v={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rk;function MU(){return Rk||(Rk=1,(function(t){function e(Q,K){var B=Q.length;Q.push(K);e:for(;0<B;){var z=B-1>>>1,X=Q[z];if(0<i(X,K))Q[z]=K,Q[B]=X,B=z;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var K=Q[0],B=Q.pop();if(B!==K){Q[0]=B;e:for(var z=0,X=Q.length,q=X>>>1;z<q;){var ye=2*(z+1)-1,_e=Q[ye],Ee=ye+1,ve=Q[Ee];if(0>i(_e,B))Ee<X&&0>i(ve,_e)?(Q[z]=ve,Q[Ee]=B,z=Ee):(Q[z]=_e,Q[ye]=B,z=ye);else if(Ee<X&&0>i(ve,B))Q[z]=ve,Q[Ee]=B,z=Ee;else break e}}return K}function i(Q,K){var B=Q.sortIndex-K.sortIndex;return B!==0?B:Q.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var u=[],h=[],f=1,m=null,g=3,x=!1,_=!1,w=!1,j=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(Q){for(var K=n(h);K!==null;){if(K.callback===null)r(h);else if(K.startTime<=Q)r(h),K.sortIndex=K.expirationTime,e(u,K);else break;K=n(h)}}function C(Q){if(w=!1,k(Q),!_)if(n(u)!==null)_=!0,ae(R);else{var K=n(h);K!==null&&ue(C,K.startTime-Q)}}function R(Q,K){_=!1,w&&(w=!1,N(M),M=-1),x=!0;var B=g;try{for(k(K),m=n(u);m!==null&&(!(m.expirationTime>K)||Q&&!L());){var z=m.callback;if(typeof z=="function"){m.callback=null,g=m.priorityLevel;var X=z(m.expirationTime<=K);K=t.unstable_now(),typeof X=="function"?m.callback=X:m===n(u)&&r(u),k(K)}else r(u);m=n(u)}if(m!==null)var q=!0;else{var ye=n(h);ye!==null&&ue(C,ye.startTime-K),q=!1}return q}finally{m=null,g=B,x=!1}}var O=!1,A=null,M=-1,P=5,F=-1;function L(){return!(t.unstable_now()-F<P)}function D(){if(A!==null){var Q=t.unstable_now();F=Q;var K=!0;try{K=A(!0,Q)}finally{K?V():(O=!1,A=null)}}else O=!1}var V;if(typeof S=="function")V=function(){S(D)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,ee=G.port2;G.port1.onmessage=D,V=function(){ee.postMessage(null)}}else V=function(){j(D,0)};function ae(Q){A=Q,O||(O=!0,V())}function ue(Q,K){M=j(function(){Q(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){_||x||(_=!0,ae(R))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(Q){switch(g){case 1:case 2:case 3:var K=3;break;default:K=g}var B=g;g=K;try{return Q()}finally{g=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,K){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var B=g;g=Q;try{return K()}finally{g=B}},t.unstable_scheduleCallback=function(Q,K,B){var z=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?z+B:z):B=z,Q){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=B+X,Q={id:f++,callback:K,priorityLevel:Q,startTime:B,expirationTime:X,sortIndex:-1},B>z?(Q.sortIndex=B,e(h,Q),n(u)===null&&Q===n(h)&&(w?(N(M),M=-1):w=!0,ue(C,B-z))):(Q.sortIndex=X,e(u,Q),_||x||(_=!0,ae(R))),Q},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(Q){var K=g;return function(){var B=g;g=K;try{return Q.apply(this,arguments)}finally{g=B}}}})($v)),$v}var Ik;function DU(){return Ik||(Ik=1,Uv.exports=MU()),Uv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pk;function LU(){if(Pk)return ps;Pk=1;var t=oy(),e=DU();function n(l){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+l,p=1;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+l+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(l,d){o(l,d),o(l+"Capture",d)}function o(l,d){for(i[l]=d,l=0;l<d.length;l++)r.add(d[l])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},m={};function g(l){return u.call(m,l)?!0:u.call(f,l)?!1:h.test(l)?m[l]=!0:(f[l]=!0,!1)}function x(l,d,p,b){if(p!==null&&p.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return b?!1:p!==null?!p.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function _(l,d,p,b){if(d===null||typeof d>"u"||x(l,d,p,b))return!0;if(b)return!1;if(p!==null)switch(p.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function w(l,d,p,b,E,T,$){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=b,this.attributeNamespace=E,this.mustUseProperty=p,this.propertyName=l,this.type=d,this.sanitizeURL=T,this.removeEmptyString=$}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){j[l]=new w(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var d=l[0];j[d]=new w(d,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){j[l]=new w(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){j[l]=new w(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){j[l]=new w(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){j[l]=new w(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){j[l]=new w(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){j[l]=new w(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){j[l]=new w(l,5,!1,l.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function S(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var d=l.replace(N,S);j[d]=new w(d,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var d=l.replace(N,S);j[d]=new w(d,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var d=l.replace(N,S);j[d]=new w(d,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){j[l]=new w(l,1,!1,l.toLowerCase(),null,!1,!1)}),j.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){j[l]=new w(l,1,!1,l.toLowerCase(),null,!0,!0)});function k(l,d,p,b){var E=j.hasOwnProperty(d)?j[d]:null;(E!==null?E.type!==0:b||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(_(d,p,E,b)&&(p=null),b||E===null?g(d)&&(p===null?l.removeAttribute(d):l.setAttribute(d,""+p)):E.mustUseProperty?l[E.propertyName]=p===null?E.type===3?!1:"":p:(d=E.attributeName,b=E.attributeNamespace,p===null?l.removeAttribute(d):(E=E.type,p=E===3||E===4&&p===!0?"":""+p,b?l.setAttributeNS(b,d,p):l.setAttribute(d,p))))}var C=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,R=Symbol.for("react.element"),O=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),L=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),ue=Symbol.for("react.offscreen"),Q=Symbol.iterator;function K(l){return l===null||typeof l!="object"?null:(l=Q&&l[Q]||l["@@iterator"],typeof l=="function"?l:null)}var B=Object.assign,z;function X(l){if(z===void 0)try{throw Error()}catch(p){var d=p.stack.trim().match(/\n( *(at )?)/);z=d&&d[1]||""}return`
`+z+l}var q=!1;function ye(l,d){if(!l||q)return"";q=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(he){var b=he}Reflect.construct(l,[],d)}else{try{d.call()}catch(he){b=he}l.call(d.prototype)}else{try{throw Error()}catch(he){b=he}l()}}catch(he){if(he&&b&&typeof he.stack=="string"){for(var E=he.stack.split(`
`),T=b.stack.split(`
`),$=E.length-1,J=T.length-1;1<=$&&0<=J&&E[$]!==T[J];)J--;for(;1<=$&&0<=J;$--,J--)if(E[$]!==T[J]){if($!==1||J!==1)do if($--,J--,0>J||E[$]!==T[J]){var Z=`
`+E[$].replace(" at new "," at ");return l.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",l.displayName)),Z}while(1<=$&&0<=J);break}}}finally{q=!1,Error.prepareStackTrace=p}return(l=l?l.displayName||l.name:"")?X(l):""}function _e(l){switch(l.tag){case 5:return X(l.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return l=ye(l.type,!1),l;case 11:return l=ye(l.type.render,!1),l;case 1:return l=ye(l.type,!0),l;default:return""}}function Ee(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case A:return"Fragment";case O:return"Portal";case P:return"Profiler";case M:return"StrictMode";case V:return"Suspense";case G:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case L:return(l.displayName||"Context")+".Consumer";case F:return(l._context.displayName||"Context")+".Provider";case D:var d=l.render;return l=l.displayName,l||(l=d.displayName||d.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case ee:return d=l.displayName||null,d!==null?d:Ee(l.type)||"Memo";case ae:d=l._payload,l=l._init;try{return Ee(l(d))}catch{}}return null}function ve(l){var d=l.type;switch(l.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=d.render,l=l.displayName||l.name||"",d.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ee(d);case 8:return d===M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function Fe(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function Ie(l){var d=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function ze(l){var d=Ie(l)?"checked":"value",p=Object.getOwnPropertyDescriptor(l.constructor.prototype,d),b=""+l[d];if(!l.hasOwnProperty(d)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var E=p.get,T=p.set;return Object.defineProperty(l,d,{configurable:!0,get:function(){return E.call(this)},set:function($){b=""+$,T.call(this,$)}}),Object.defineProperty(l,d,{enumerable:p.enumerable}),{getValue:function(){return b},setValue:function($){b=""+$},stopTracking:function(){l._valueTracker=null,delete l[d]}}}}function rt(l){l._valueTracker||(l._valueTracker=ze(l))}function de(l){if(!l)return!1;var d=l._valueTracker;if(!d)return!0;var p=d.getValue(),b="";return l&&(b=Ie(l)?l.checked?"true":"false":l.value),l=b,l!==p?(d.setValue(l),!0):!1}function se(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function ge(l,d){var p=d.checked;return B({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??l._wrapperState.initialChecked})}function Re(l,d){var p=d.defaultValue==null?"":d.defaultValue,b=d.checked!=null?d.checked:d.defaultChecked;p=Fe(d.value!=null?d.value:p),l._wrapperState={initialChecked:b,initialValue:p,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function Xe(l,d){d=d.checked,d!=null&&k(l,"checked",d,!1)}function It(l,d){Xe(l,d);var p=Fe(d.value),b=d.type;if(p!=null)b==="number"?(p===0&&l.value===""||l.value!=p)&&(l.value=""+p):l.value!==""+p&&(l.value=""+p);else if(b==="submit"||b==="reset"){l.removeAttribute("value");return}d.hasOwnProperty("value")?kt(l,d.type,p):d.hasOwnProperty("defaultValue")&&kt(l,d.type,Fe(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(l.defaultChecked=!!d.defaultChecked)}function Ln(l,d,p){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var b=d.type;if(!(b!=="submit"&&b!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+l._wrapperState.initialValue,p||d===l.value||(l.value=d),l.defaultValue=d}p=l.name,p!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,p!==""&&(l.name=p)}function kt(l,d,p){(d!=="number"||se(l.ownerDocument)!==l)&&(p==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+p&&(l.defaultValue=""+p))}var qt=Array.isArray;function Hn(l,d,p,b){if(l=l.options,d){d={};for(var E=0;E<p.length;E++)d["$"+p[E]]=!0;for(p=0;p<l.length;p++)E=d.hasOwnProperty("$"+l[p].value),l[p].selected!==E&&(l[p].selected=E),E&&b&&(l[p].defaultSelected=!0)}else{for(p=""+Fe(p),d=null,E=0;E<l.length;E++){if(l[E].value===p){l[E].selected=!0,b&&(l[E].defaultSelected=!0);return}d!==null||l[E].disabled||(d=l[E])}d!==null&&(d.selected=!0)}}function Gs(l,d){if(d.dangerouslySetInnerHTML!=null)throw Error(n(91));return B({},d,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function is(l,d){var p=d.value;if(p==null){if(p=d.children,d=d.defaultValue,p!=null){if(d!=null)throw Error(n(92));if(qt(p)){if(1<p.length)throw Error(n(93));p=p[0]}d=p}d==null&&(d=""),p=d}l._wrapperState={initialValue:Fe(p)}}function Cr(l,d){var p=Fe(d.value),b=Fe(d.defaultValue);p!=null&&(p=""+p,p!==l.value&&(l.value=p),d.defaultValue==null&&l.defaultValue!==p&&(l.defaultValue=p)),b!=null&&(l.defaultValue=""+b)}function Ar(l){var d=l.textContent;d===l._wrapperState.initialValue&&d!==""&&d!==null&&(l.value=d)}function xe(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Te(l,d){return l==null||l==="http://www.w3.org/1999/xhtml"?xe(d):l==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var ot,Tt=(function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,p,b,E){MSApp.execUnsafeLocalFunction(function(){return l(d,p,b,E)})}:l})(function(l,d){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=d;else{for(ot=ot||document.createElement("div"),ot.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=ot.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;d.firstChild;)l.appendChild(d.firstChild)}});function Ft(l,d){if(d){var p=l.firstChild;if(p&&p===l.lastChild&&p.nodeType===3){p.nodeValue=d;return}}l.textContent=d}var Rn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},as=["Webkit","ms","Moz","O"];Object.keys(Rn).forEach(function(l){as.forEach(function(d){d=d+l.charAt(0).toUpperCase()+l.substring(1),Rn[d]=Rn[l]})});function Wn(l,d,p){return d==null||typeof d=="boolean"||d===""?"":p||typeof d!="number"||d===0||Rn.hasOwnProperty(l)&&Rn[l]?(""+d).trim():d+"px"}function qr(l,d){l=l.style;for(var p in d)if(d.hasOwnProperty(p)){var b=p.indexOf("--")===0,E=Wn(p,d[p],b);p==="float"&&(p="cssFloat"),b?l.setProperty(p,E):l[p]=E}}var ks=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cn(l,d){if(d){if(ks[l]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(n(137,l));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(n(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(n(61))}if(d.style!=null&&typeof d.style!="object")throw Error(n(62))}}function Tr(l,d){if(l.indexOf("-")===-1)return typeof d.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fe=null;function Ze(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var et=null,Ge=null,gt=null;function xt(l){if(l=Yh(l)){if(typeof et!="function")throw Error(n(280));var d=l.stateNode;d&&(d=bp(d),et(l.stateNode,l.type,d))}}function dn(l){Ge?gt?gt.push(l):gt=[l]:Ge=l}function xn(){if(Ge){var l=Ge,d=gt;if(gt=Ge=null,xt(l),d)for(l=0;l<d.length;l++)xt(d[l])}}function La(l,d){return l(d)}function $i(){}var Hr=!1;function Bi(l,d,p){if(Hr)return l(d,p);Hr=!0;try{return La(l,d,p)}finally{Hr=!1,(Ge!==null||gt!==null)&&($i(),xn())}}function os(l,d){var p=l.stateNode;if(p===null)return null;var b=bp(p);if(b===null)return null;p=b[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(l=l.type,b=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!b;break e;default:l=!1}if(l)return null;if(p&&typeof p!="function")throw Error(n(231,d,typeof p));return p}var Wr=!1;if(c)try{var ls={};Object.defineProperty(ls,"passive",{get:function(){Wr=!0}}),window.addEventListener("test",ls,ls),window.removeEventListener("test",ls,ls)}catch{Wr=!1}function Bl(l,d,p,b,E,T,$,J,Z){var he=Array.prototype.slice.call(arguments,3);try{d.apply(p,he)}catch(Se){this.onError(Se)}}var Qs=!1,Cs=null,Fa=!1,Kr=null,zl={onError:function(l){Qs=!0,Cs=l}};function As(l,d,p,b,E,T,$,J,Z){Qs=!1,Cs=null,Bl.apply(zl,arguments)}function zi(l,d,p,b,E,T,$,J,Z){if(As.apply(this,arguments),Qs){if(Qs){var he=Cs;Qs=!1,Cs=null}else throw Error(n(198));Fa||(Fa=!0,Kr=he)}}function vr(l){var d=l,p=l;if(l.alternate)for(;d.return;)d=d.return;else{l=d;do d=l,(d.flags&4098)!==0&&(p=d.return),l=d.return;while(l)}return d.tag===3?p:null}function Ts(l){if(l.tag===13){var d=l.memoizedState;if(d===null&&(l=l.alternate,l!==null&&(d=l.memoizedState)),d!==null)return d.dehydrated}return null}function In(l){if(vr(l)!==l)throw Error(n(188))}function Rr(l){var d=l.alternate;if(!d){if(d=vr(l),d===null)throw Error(n(188));return d!==l?null:l}for(var p=l,b=d;;){var E=p.return;if(E===null)break;var T=E.alternate;if(T===null){if(b=E.return,b!==null){p=b;continue}break}if(E.child===T.child){for(T=E.child;T;){if(T===p)return In(E),l;if(T===b)return In(E),d;T=T.sibling}throw Error(n(188))}if(p.return!==b.return)p=E,b=T;else{for(var $=!1,J=E.child;J;){if(J===p){$=!0,p=E,b=T;break}if(J===b){$=!0,b=E,p=T;break}J=J.sibling}if(!$){for(J=T.child;J;){if(J===p){$=!0,p=T,b=E;break}if(J===b){$=!0,b=T,p=E;break}J=J.sibling}if(!$)throw Error(n(189))}}if(p.alternate!==b)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?l:d}function _o(l){return l=Rr(l),l!==null?yi(l):null}function yi(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var d=yi(l);if(d!==null)return d;l=l.sibling}return null}var qi=e.unstable_scheduleCallback,Js=e.unstable_cancelCallback,cs=e.unstable_shouldYield,wt=e.unstable_requestPaint,He=e.unstable_now,Gr=e.unstable_getCurrentPriorityLevel,Va=e.unstable_ImmediatePriority,Ch=e.unstable_UserBlockingPriority,ql=e.unstable_NormalPriority,Ah=e.unstable_LowPriority,uu=e.unstable_IdlePriority,Hl=null,Rs=null;function rp(l){if(Rs&&typeof Rs.onCommitFiberRoot=="function")try{Rs.onCommitFiberRoot(Hl,l,void 0,(l.current.flags&128)===128)}catch{}}var Is=Math.clz32?Math.clz32:Wl,Hi=Math.log,Ys=Math.LN2;function Wl(l){return l>>>=0,l===0?32:31-(Hi(l)/Ys|0)|0}var Wi=64,No=4194304;function en(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function Ua(l,d){var p=l.pendingLanes;if(p===0)return 0;var b=0,E=l.suspendedLanes,T=l.pingedLanes,$=p&268435455;if($!==0){var J=$&~E;J!==0?b=en(J):(T&=$,T!==0&&(b=en(T)))}else $=p&~E,$!==0?b=en($):T!==0&&(b=en(T));if(b===0)return 0;if(d!==0&&d!==b&&(d&E)===0&&(E=b&-b,T=d&-d,E>=T||E===16&&(T&4194240)!==0))return d;if((b&4)!==0&&(b|=p&16),d=l.entangledLanes,d!==0)for(l=l.entanglements,d&=b;0<d;)p=31-Is(d),E=1<<p,b|=l[p],d&=~E;return b}function Kl(l,d){switch(l){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gl(l,d){for(var p=l.suspendedLanes,b=l.pingedLanes,E=l.expirationTimes,T=l.pendingLanes;0<T;){var $=31-Is(T),J=1<<$,Z=E[$];Z===-1?((J&p)===0||(J&b)!==0)&&(E[$]=Kl(J,d)):Z<=d&&(l.expiredLanes|=J),T&=~J}}function Th(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function Rh(){var l=Wi;return Wi<<=1,(Wi&4194240)===0&&(Wi=64),l}function Ih(l){for(var d=[],p=0;31>p;p++)d.push(l);return d}function Ql(l,d,p){l.pendingLanes|=d,d!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,d=31-Is(d),l[d]=p}function m0(l,d){var p=l.pendingLanes&~d;l.pendingLanes=d,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=d,l.mutableReadLanes&=d,l.entangledLanes&=d,d=l.entanglements;var b=l.eventTimes;for(l=l.expirationTimes;0<p;){var E=31-Is(p),T=1<<E;d[E]=0,b[E]=-1,l[E]=-1,p&=~T}}function Ph(l,d){var p=l.entangledLanes|=d;for(l=l.entanglements;p;){var b=31-Is(p),E=1<<b;E&d|l[b]&d&&(l[b]|=d),p&=~E}}var $t=0;function Ki(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var Oh,du,Mh,Dh,Lh,Gi=!1,hu=[],Qi=null,Ji=null,br=null,Jl=new Map,$a=new Map,Ps=[],sp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function So(l,d){switch(l){case"focusin":case"focusout":Qi=null;break;case"dragenter":case"dragleave":Ji=null;break;case"mouseover":case"mouseout":br=null;break;case"pointerover":case"pointerout":Jl.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":$a.delete(d.pointerId)}}function vi(l,d,p,b,E,T){return l===null||l.nativeEvent!==T?(l={blockedOn:d,domEventName:p,eventSystemFlags:b,nativeEvent:T,targetContainers:[E]},d!==null&&(d=Yh(d),d!==null&&du(d)),l):(l.eventSystemFlags|=b,d=l.targetContainers,E!==null&&d.indexOf(E)===-1&&d.push(E),l)}function ip(l,d,p,b,E){switch(d){case"focusin":return Qi=vi(Qi,l,d,p,b,E),!0;case"dragenter":return Ji=vi(Ji,l,d,p,b,E),!0;case"mouseover":return br=vi(br,l,d,p,b,E),!0;case"pointerover":var T=E.pointerId;return Jl.set(T,vi(Jl.get(T)||null,l,d,p,b,E)),!0;case"gotpointercapture":return T=E.pointerId,$a.set(T,vi($a.get(T)||null,l,d,p,b,E)),!0}return!1}function fu(l){var d=ec(l.target);if(d!==null){var p=vr(d);if(p!==null){if(d=p.tag,d===13){if(d=Ts(p),d!==null){l.blockedOn=d,Lh(l.priority,function(){Mh(p)});return}}else if(d===3&&p.stateNode.current.memoizedState.isDehydrated){l.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}l.blockedOn=null}function hn(l){if(l.blockedOn!==null)return!1;for(var d=l.targetContainers;0<d.length;){var p=mu(l.domEventName,l.eventSystemFlags,d[0],l.nativeEvent);if(p===null){p=l.nativeEvent;var b=new p.constructor(p.type,p);fe=b,p.target.dispatchEvent(b),fe=null}else return d=Yh(p),d!==null&&du(d),l.blockedOn=p,!1;d.shift()}return!0}function ap(l,d,p){hn(l)&&p.delete(d)}function p0(){Gi=!1,Qi!==null&&hn(Qi)&&(Qi=null),Ji!==null&&hn(Ji)&&(Ji=null),br!==null&&hn(br)&&(br=null),Jl.forEach(ap),$a.forEach(ap)}function Eo(l,d){l.blockedOn===d&&(l.blockedOn=null,Gi||(Gi=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,p0)))}function ko(l){function d(E){return Eo(E,l)}if(0<hu.length){Eo(hu[0],l);for(var p=1;p<hu.length;p++){var b=hu[p];b.blockedOn===l&&(b.blockedOn=null)}}for(Qi!==null&&Eo(Qi,l),Ji!==null&&Eo(Ji,l),br!==null&&Eo(br,l),Jl.forEach(d),$a.forEach(d),p=0;p<Ps.length;p++)b=Ps[p],b.blockedOn===l&&(b.blockedOn=null);for(;0<Ps.length&&(p=Ps[0],p.blockedOn===null);)fu(p),p.blockedOn===null&&Ps.shift()}var Ba=C.ReactCurrentBatchConfig,za=!0;function Yi(l,d,p,b){var E=$t,T=Ba.transition;Ba.transition=null;try{$t=1,Fh(l,d,p,b)}finally{$t=E,Ba.transition=T}}function op(l,d,p,b){var E=$t,T=Ba.transition;Ba.transition=null;try{$t=4,Fh(l,d,p,b)}finally{$t=E,Ba.transition=T}}function Fh(l,d,p,b){if(za){var E=mu(l,d,p,b);if(E===null)E0(l,d,b,Xi,p),So(l,b);else if(ip(E,l,d,p,b))b.stopPropagation();else if(So(l,b),d&4&&-1<sp.indexOf(l)){for(;E!==null;){var T=Yh(E);if(T!==null&&Oh(T),T=mu(l,d,p,b),T===null&&E0(l,d,b,Xi,p),T===E)break;E=T}E!==null&&b.stopPropagation()}else E0(l,d,b,null,p)}}var Xi=null;function mu(l,d,p,b){if(Xi=null,l=Ze(b),l=ec(l),l!==null)if(d=vr(l),d===null)l=null;else if(p=d.tag,p===13){if(l=Ts(d),l!==null)return l;l=null}else if(p===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;l=null}else d!==l&&(l=null);return Xi=l,null}function pu(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Gr()){case Va:return 1;case Ch:return 4;case ql:case Ah:return 16;case uu:return 536870912;default:return 16}default:return 16}}var Os=null,gu=null,qa=null;function lp(){if(qa)return qa;var l,d=gu,p=d.length,b,E="value"in Os?Os.value:Os.textContent,T=E.length;for(l=0;l<p&&d[l]===E[l];l++);var $=p-l;for(b=1;b<=$&&d[p-b]===E[T-b];b++);return qa=E.slice(l,1<b?1-b:void 0)}function Yl(l){var d=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&d===13&&(l=13)):l=d,l===10&&(l=13),32<=l||l===13?l:0}function Zi(){return!0}function Vh(){return!1}function Ir(l){function d(p,b,E,T,$){this._reactName=p,this._targetInst=E,this.type=b,this.nativeEvent=T,this.target=$,this.currentTarget=null;for(var J in l)l.hasOwnProperty(J)&&(p=l[J],this[J]=p?p(T):T[J]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Zi:Vh,this.isPropagationStopped=Vh,this}return B(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Zi)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Zi)},persist:function(){},isPersistent:Zi}),d}var ea={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xl=Ir(ea),Co=B({},ea,{view:0,detail:0}),xu=Ir(Co),yu,vu,Ms,Zl=B({},Co,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:St,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Ms&&(Ms&&l.type==="mousemove"?(yu=l.screenX-Ms.screenX,vu=l.screenY-Ms.screenY):vu=yu=0,Ms=l),yu)},movementY:function(l){return"movementY"in l?l.movementY:vu}}),Uh=Ir(Zl),cp=B({},Zl,{dataTransfer:0}),up=Ir(cp),bu=B({},Co,{relatedTarget:0}),wr=Ir(bu),dp=B({},ea,{animationName:0,elapsedTime:0,pseudoElement:0}),hp=Ir(dp),Ao=B({},ea,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),v=Ir(Ao),I=B({},ea,{data:0}),U=Ir(I),H={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},le={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},me={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ve(l){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(l):(l=me[l])?!!d[l]:!1}function St(){return Ve}var Fn=B({},Co,{key:function(l){if(l.key){var d=H[l.key]||l.key;if(d!=="Unidentified")return d}return l.type==="keypress"?(l=Yl(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?le[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:St,charCode:function(l){return l.type==="keypress"?Yl(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?Yl(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),on=Ir(Fn),Kn=B({},Zl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ds=Ir(Kn),Ha=B({},Co,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:St}),ta=Ir(Ha),na=B({},ea,{propertyName:0,elapsedTime:0,pseudoElement:0}),wu=Ir(na),$h=B({},Zl,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),SV=Ir($h),EV=[9,13,27,32],g0=c&&"CompositionEvent"in window,Bh=null;c&&"documentMode"in document&&(Bh=document.documentMode);var kV=c&&"TextEvent"in window&&!Bh,yS=c&&(!g0||Bh&&8<Bh&&11>=Bh),vS=" ",bS=!1;function wS(l,d){switch(l){case"keyup":return EV.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jS(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var ju=!1;function CV(l,d){switch(l){case"compositionend":return jS(d);case"keypress":return d.which!==32?null:(bS=!0,vS);case"textInput":return l=d.data,l===vS&&bS?null:l;default:return null}}function AV(l,d){if(ju)return l==="compositionend"||!g0&&wS(l,d)?(l=lp(),qa=gu=Os=null,ju=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return yS&&d.locale!=="ko"?null:d.data;default:return null}}var TV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _S(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d==="input"?!!TV[l.type]:d==="textarea"}function NS(l,d,p,b){dn(b),d=xp(d,"onChange"),0<d.length&&(p=new Xl("onChange","change",null,p,b),l.push({event:p,listeners:d}))}var zh=null,qh=null;function RV(l){BS(l,0)}function fp(l){var d=ku(l);if(de(d))return l}function IV(l,d){if(l==="change")return d}var SS=!1;if(c){var x0;if(c){var y0="oninput"in document;if(!y0){var ES=document.createElement("div");ES.setAttribute("oninput","return;"),y0=typeof ES.oninput=="function"}x0=y0}else x0=!1;SS=x0&&(!document.documentMode||9<document.documentMode)}function kS(){zh&&(zh.detachEvent("onpropertychange",CS),qh=zh=null)}function CS(l){if(l.propertyName==="value"&&fp(qh)){var d=[];NS(d,qh,l,Ze(l)),Bi(RV,d)}}function PV(l,d,p){l==="focusin"?(kS(),zh=d,qh=p,zh.attachEvent("onpropertychange",CS)):l==="focusout"&&kS()}function OV(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return fp(qh)}function MV(l,d){if(l==="click")return fp(d)}function DV(l,d){if(l==="input"||l==="change")return fp(d)}function LV(l,d){return l===d&&(l!==0||1/l===1/d)||l!==l&&d!==d}var bi=typeof Object.is=="function"?Object.is:LV;function Hh(l,d){if(bi(l,d))return!0;if(typeof l!="object"||l===null||typeof d!="object"||d===null)return!1;var p=Object.keys(l),b=Object.keys(d);if(p.length!==b.length)return!1;for(b=0;b<p.length;b++){var E=p[b];if(!u.call(d,E)||!bi(l[E],d[E]))return!1}return!0}function AS(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function TS(l,d){var p=AS(l);l=0;for(var b;p;){if(p.nodeType===3){if(b=l+p.textContent.length,l<=d&&b>=d)return{node:p,offset:d-l};l=b}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=AS(p)}}function RS(l,d){return l&&d?l===d?!0:l&&l.nodeType===3?!1:d&&d.nodeType===3?RS(l,d.parentNode):"contains"in l?l.contains(d):l.compareDocumentPosition?!!(l.compareDocumentPosition(d)&16):!1:!1}function IS(){for(var l=window,d=se();d instanceof l.HTMLIFrameElement;){try{var p=typeof d.contentWindow.location.href=="string"}catch{p=!1}if(p)l=d.contentWindow;else break;d=se(l.document)}return d}function v0(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d&&(d==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||d==="textarea"||l.contentEditable==="true")}function FV(l){var d=IS(),p=l.focusedElem,b=l.selectionRange;if(d!==p&&p&&p.ownerDocument&&RS(p.ownerDocument.documentElement,p)){if(b!==null&&v0(p)){if(d=b.start,l=b.end,l===void 0&&(l=d),"selectionStart"in p)p.selectionStart=d,p.selectionEnd=Math.min(l,p.value.length);else if(l=(d=p.ownerDocument||document)&&d.defaultView||window,l.getSelection){l=l.getSelection();var E=p.textContent.length,T=Math.min(b.start,E);b=b.end===void 0?T:Math.min(b.end,E),!l.extend&&T>b&&(E=b,b=T,T=E),E=TS(p,T);var $=TS(p,b);E&&$&&(l.rangeCount!==1||l.anchorNode!==E.node||l.anchorOffset!==E.offset||l.focusNode!==$.node||l.focusOffset!==$.offset)&&(d=d.createRange(),d.setStart(E.node,E.offset),l.removeAllRanges(),T>b?(l.addRange(d),l.extend($.node,$.offset)):(d.setEnd($.node,$.offset),l.addRange(d)))}}for(d=[],l=p;l=l.parentNode;)l.nodeType===1&&d.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<d.length;p++)l=d[p],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var VV=c&&"documentMode"in document&&11>=document.documentMode,_u=null,b0=null,Wh=null,w0=!1;function PS(l,d,p){var b=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;w0||_u==null||_u!==se(b)||(b=_u,"selectionStart"in b&&v0(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),Wh&&Hh(Wh,b)||(Wh=b,b=xp(b0,"onSelect"),0<b.length&&(d=new Xl("onSelect","select",null,d,p),l.push({event:d,listeners:b}),d.target=_u)))}function mp(l,d){var p={};return p[l.toLowerCase()]=d.toLowerCase(),p["Webkit"+l]="webkit"+d,p["Moz"+l]="moz"+d,p}var Nu={animationend:mp("Animation","AnimationEnd"),animationiteration:mp("Animation","AnimationIteration"),animationstart:mp("Animation","AnimationStart"),transitionend:mp("Transition","TransitionEnd")},j0={},OS={};c&&(OS=document.createElement("div").style,"AnimationEvent"in window||(delete Nu.animationend.animation,delete Nu.animationiteration.animation,delete Nu.animationstart.animation),"TransitionEvent"in window||delete Nu.transitionend.transition);function pp(l){if(j0[l])return j0[l];if(!Nu[l])return l;var d=Nu[l],p;for(p in d)if(d.hasOwnProperty(p)&&p in OS)return j0[l]=d[p];return l}var MS=pp("animationend"),DS=pp("animationiteration"),LS=pp("animationstart"),FS=pp("transitionend"),VS=new Map,US="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function To(l,d){VS.set(l,d),a(d,[l])}for(var _0=0;_0<US.length;_0++){var N0=US[_0],UV=N0.toLowerCase(),$V=N0[0].toUpperCase()+N0.slice(1);To(UV,"on"+$V)}To(MS,"onAnimationEnd"),To(DS,"onAnimationIteration"),To(LS,"onAnimationStart"),To("dblclick","onDoubleClick"),To("focusin","onFocus"),To("focusout","onBlur"),To(FS,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BV=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kh));function $S(l,d,p){var b=l.type||"unknown-event";l.currentTarget=p,zi(b,d,void 0,l),l.currentTarget=null}function BS(l,d){d=(d&4)!==0;for(var p=0;p<l.length;p++){var b=l[p],E=b.event;b=b.listeners;e:{var T=void 0;if(d)for(var $=b.length-1;0<=$;$--){var J=b[$],Z=J.instance,he=J.currentTarget;if(J=J.listener,Z!==T&&E.isPropagationStopped())break e;$S(E,J,he),T=Z}else for($=0;$<b.length;$++){if(J=b[$],Z=J.instance,he=J.currentTarget,J=J.listener,Z!==T&&E.isPropagationStopped())break e;$S(E,J,he),T=Z}}}if(Fa)throw l=Kr,Fa=!1,Kr=null,l}function yn(l,d){var p=d[I0];p===void 0&&(p=d[I0]=new Set);var b=l+"__bubble";p.has(b)||(zS(d,l,2,!1),p.add(b))}function S0(l,d,p){var b=0;d&&(b|=4),zS(p,l,b,d)}var gp="_reactListening"+Math.random().toString(36).slice(2);function Gh(l){if(!l[gp]){l[gp]=!0,r.forEach(function(p){p!=="selectionchange"&&(BV.has(p)||S0(p,!1,l),S0(p,!0,l))});var d=l.nodeType===9?l:l.ownerDocument;d===null||d[gp]||(d[gp]=!0,S0("selectionchange",!1,d))}}function zS(l,d,p,b){switch(pu(d)){case 1:var E=Yi;break;case 4:E=op;break;default:E=Fh}p=E.bind(null,d,p,l),E=void 0,!Wr||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(E=!0),b?E!==void 0?l.addEventListener(d,p,{capture:!0,passive:E}):l.addEventListener(d,p,!0):E!==void 0?l.addEventListener(d,p,{passive:E}):l.addEventListener(d,p,!1)}function E0(l,d,p,b,E){var T=b;if((d&1)===0&&(d&2)===0&&b!==null)e:for(;;){if(b===null)return;var $=b.tag;if($===3||$===4){var J=b.stateNode.containerInfo;if(J===E||J.nodeType===8&&J.parentNode===E)break;if($===4)for($=b.return;$!==null;){var Z=$.tag;if((Z===3||Z===4)&&(Z=$.stateNode.containerInfo,Z===E||Z.nodeType===8&&Z.parentNode===E))return;$=$.return}for(;J!==null;){if($=ec(J),$===null)return;if(Z=$.tag,Z===5||Z===6){b=T=$;continue e}J=J.parentNode}}b=b.return}Bi(function(){var he=T,Se=Ze(p),Ae=[];e:{var Ne=VS.get(l);if(Ne!==void 0){var qe=Xl,Qe=l;switch(l){case"keypress":if(Yl(p)===0)break e;case"keydown":case"keyup":qe=on;break;case"focusin":Qe="focus",qe=wr;break;case"focusout":Qe="blur",qe=wr;break;case"beforeblur":case"afterblur":qe=wr;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":qe=Uh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":qe=up;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":qe=ta;break;case MS:case DS:case LS:qe=hp;break;case FS:qe=wu;break;case"scroll":qe=xu;break;case"wheel":qe=SV;break;case"copy":case"cut":case"paste":qe=v;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":qe=Ds}var tt=(d&4)!==0,Vn=!tt&&l==="scroll",oe=tt?Ne!==null?Ne+"Capture":null:Ne;tt=[];for(var ne=he,ce;ne!==null;){ce=ne;var De=ce.stateNode;if(ce.tag===5&&De!==null&&(ce=De,oe!==null&&(De=os(ne,oe),De!=null&&tt.push(Qh(ne,De,ce)))),Vn)break;ne=ne.return}0<tt.length&&(Ne=new qe(Ne,Qe,null,p,Se),Ae.push({event:Ne,listeners:tt}))}}if((d&7)===0){e:{if(Ne=l==="mouseover"||l==="pointerover",qe=l==="mouseout"||l==="pointerout",Ne&&p!==fe&&(Qe=p.relatedTarget||p.fromElement)&&(ec(Qe)||Qe[Wa]))break e;if((qe||Ne)&&(Ne=Se.window===Se?Se:(Ne=Se.ownerDocument)?Ne.defaultView||Ne.parentWindow:window,qe?(Qe=p.relatedTarget||p.toElement,qe=he,Qe=Qe?ec(Qe):null,Qe!==null&&(Vn=vr(Qe),Qe!==Vn||Qe.tag!==5&&Qe.tag!==6)&&(Qe=null)):(qe=null,Qe=he),qe!==Qe)){if(tt=Uh,De="onMouseLeave",oe="onMouseEnter",ne="mouse",(l==="pointerout"||l==="pointerover")&&(tt=Ds,De="onPointerLeave",oe="onPointerEnter",ne="pointer"),Vn=qe==null?Ne:ku(qe),ce=Qe==null?Ne:ku(Qe),Ne=new tt(De,ne+"leave",qe,p,Se),Ne.target=Vn,Ne.relatedTarget=ce,De=null,ec(Se)===he&&(tt=new tt(oe,ne+"enter",Qe,p,Se),tt.target=ce,tt.relatedTarget=Vn,De=tt),Vn=De,qe&&Qe)t:{for(tt=qe,oe=Qe,ne=0,ce=tt;ce;ce=Su(ce))ne++;for(ce=0,De=oe;De;De=Su(De))ce++;for(;0<ne-ce;)tt=Su(tt),ne--;for(;0<ce-ne;)oe=Su(oe),ce--;for(;ne--;){if(tt===oe||oe!==null&&tt===oe.alternate)break t;tt=Su(tt),oe=Su(oe)}tt=null}else tt=null;qe!==null&&qS(Ae,Ne,qe,tt,!1),Qe!==null&&Vn!==null&&qS(Ae,Vn,Qe,tt,!0)}}e:{if(Ne=he?ku(he):window,qe=Ne.nodeName&&Ne.nodeName.toLowerCase(),qe==="select"||qe==="input"&&Ne.type==="file")var st=IV;else if(_S(Ne))if(SS)st=DV;else{st=OV;var dt=PV}else(qe=Ne.nodeName)&&qe.toLowerCase()==="input"&&(Ne.type==="checkbox"||Ne.type==="radio")&&(st=MV);if(st&&(st=st(l,he))){NS(Ae,st,p,Se);break e}dt&&dt(l,Ne,he),l==="focusout"&&(dt=Ne._wrapperState)&&dt.controlled&&Ne.type==="number"&&kt(Ne,"number",Ne.value)}switch(dt=he?ku(he):window,l){case"focusin":(_S(dt)||dt.contentEditable==="true")&&(_u=dt,b0=he,Wh=null);break;case"focusout":Wh=b0=_u=null;break;case"mousedown":w0=!0;break;case"contextmenu":case"mouseup":case"dragend":w0=!1,PS(Ae,p,Se);break;case"selectionchange":if(VV)break;case"keydown":case"keyup":PS(Ae,p,Se)}var ht;if(g0)e:{switch(l){case"compositionstart":var jt="onCompositionStart";break e;case"compositionend":jt="onCompositionEnd";break e;case"compositionupdate":jt="onCompositionUpdate";break e}jt=void 0}else ju?wS(l,p)&&(jt="onCompositionEnd"):l==="keydown"&&p.keyCode===229&&(jt="onCompositionStart");jt&&(yS&&p.locale!=="ko"&&(ju||jt!=="onCompositionStart"?jt==="onCompositionEnd"&&ju&&(ht=lp()):(Os=Se,gu="value"in Os?Os.value:Os.textContent,ju=!0)),dt=xp(he,jt),0<dt.length&&(jt=new U(jt,l,null,p,Se),Ae.push({event:jt,listeners:dt}),ht?jt.data=ht:(ht=jS(p),ht!==null&&(jt.data=ht)))),(ht=kV?CV(l,p):AV(l,p))&&(he=xp(he,"onBeforeInput"),0<he.length&&(Se=new U("onBeforeInput","beforeinput",null,p,Se),Ae.push({event:Se,listeners:he}),Se.data=ht))}BS(Ae,d)})}function Qh(l,d,p){return{instance:l,listener:d,currentTarget:p}}function xp(l,d){for(var p=d+"Capture",b=[];l!==null;){var E=l,T=E.stateNode;E.tag===5&&T!==null&&(E=T,T=os(l,p),T!=null&&b.unshift(Qh(l,T,E)),T=os(l,d),T!=null&&b.push(Qh(l,T,E))),l=l.return}return b}function Su(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function qS(l,d,p,b,E){for(var T=d._reactName,$=[];p!==null&&p!==b;){var J=p,Z=J.alternate,he=J.stateNode;if(Z!==null&&Z===b)break;J.tag===5&&he!==null&&(J=he,E?(Z=os(p,T),Z!=null&&$.unshift(Qh(p,Z,J))):E||(Z=os(p,T),Z!=null&&$.push(Qh(p,Z,J)))),p=p.return}$.length!==0&&l.push({event:d,listeners:$})}var zV=/\r\n?/g,qV=/\u0000|\uFFFD/g;function HS(l){return(typeof l=="string"?l:""+l).replace(zV,`
`).replace(qV,"")}function yp(l,d,p){if(d=HS(d),HS(l)!==d&&p)throw Error(n(425))}function vp(){}var k0=null,C0=null;function A0(l,d){return l==="textarea"||l==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var T0=typeof setTimeout=="function"?setTimeout:void 0,HV=typeof clearTimeout=="function"?clearTimeout:void 0,WS=typeof Promise=="function"?Promise:void 0,WV=typeof queueMicrotask=="function"?queueMicrotask:typeof WS<"u"?function(l){return WS.resolve(null).then(l).catch(KV)}:T0;function KV(l){setTimeout(function(){throw l})}function R0(l,d){var p=d,b=0;do{var E=p.nextSibling;if(l.removeChild(p),E&&E.nodeType===8)if(p=E.data,p==="/$"){if(b===0){l.removeChild(E),ko(d);return}b--}else p!=="$"&&p!=="$?"&&p!=="$!"||b++;p=E}while(p);ko(d)}function Ro(l){for(;l!=null;l=l.nextSibling){var d=l.nodeType;if(d===1||d===3)break;if(d===8){if(d=l.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return l}function KS(l){l=l.previousSibling;for(var d=0;l;){if(l.nodeType===8){var p=l.data;if(p==="$"||p==="$!"||p==="$?"){if(d===0)return l;d--}else p==="/$"&&d++}l=l.previousSibling}return null}var Eu=Math.random().toString(36).slice(2),ra="__reactFiber$"+Eu,Jh="__reactProps$"+Eu,Wa="__reactContainer$"+Eu,I0="__reactEvents$"+Eu,GV="__reactListeners$"+Eu,QV="__reactHandles$"+Eu;function ec(l){var d=l[ra];if(d)return d;for(var p=l.parentNode;p;){if(d=p[Wa]||p[ra]){if(p=d.alternate,d.child!==null||p!==null&&p.child!==null)for(l=KS(l);l!==null;){if(p=l[ra])return p;l=KS(l)}return d}l=p,p=l.parentNode}return null}function Yh(l){return l=l[ra]||l[Wa],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function ku(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(n(33))}function bp(l){return l[Jh]||null}var P0=[],Cu=-1;function Io(l){return{current:l}}function vn(l){0>Cu||(l.current=P0[Cu],P0[Cu]=null,Cu--)}function fn(l,d){Cu++,P0[Cu]=l.current,l.current=d}var Po={},Pr=Io(Po),us=Io(!1),tc=Po;function Au(l,d){var p=l.type.contextTypes;if(!p)return Po;var b=l.stateNode;if(b&&b.__reactInternalMemoizedUnmaskedChildContext===d)return b.__reactInternalMemoizedMaskedChildContext;var E={},T;for(T in p)E[T]=d[T];return b&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=d,l.__reactInternalMemoizedMaskedChildContext=E),E}function ds(l){return l=l.childContextTypes,l!=null}function wp(){vn(us),vn(Pr)}function GS(l,d,p){if(Pr.current!==Po)throw Error(n(168));fn(Pr,d),fn(us,p)}function QS(l,d,p){var b=l.stateNode;if(d=d.childContextTypes,typeof b.getChildContext!="function")return p;b=b.getChildContext();for(var E in b)if(!(E in d))throw Error(n(108,ve(l)||"Unknown",E));return B({},p,b)}function jp(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||Po,tc=Pr.current,fn(Pr,l),fn(us,us.current),!0}function JS(l,d,p){var b=l.stateNode;if(!b)throw Error(n(169));p?(l=QS(l,d,tc),b.__reactInternalMemoizedMergedChildContext=l,vn(us),vn(Pr),fn(Pr,l)):vn(us),fn(us,p)}var Ka=null,_p=!1,O0=!1;function YS(l){Ka===null?Ka=[l]:Ka.push(l)}function JV(l){_p=!0,YS(l)}function Oo(){if(!O0&&Ka!==null){O0=!0;var l=0,d=$t;try{var p=Ka;for($t=1;l<p.length;l++){var b=p[l];do b=b(!0);while(b!==null)}Ka=null,_p=!1}catch(E){throw Ka!==null&&(Ka=Ka.slice(l+1)),qi(Va,Oo),E}finally{$t=d,O0=!1}}return null}var Tu=[],Ru=0,Np=null,Sp=0,Xs=[],Zs=0,nc=null,Ga=1,Qa="";function rc(l,d){Tu[Ru++]=Sp,Tu[Ru++]=Np,Np=l,Sp=d}function XS(l,d,p){Xs[Zs++]=Ga,Xs[Zs++]=Qa,Xs[Zs++]=nc,nc=l;var b=Ga;l=Qa;var E=32-Is(b)-1;b&=~(1<<E),p+=1;var T=32-Is(d)+E;if(30<T){var $=E-E%5;T=(b&(1<<$)-1).toString(32),b>>=$,E-=$,Ga=1<<32-Is(d)+E|p<<E|b,Qa=T+l}else Ga=1<<T|p<<E|b,Qa=l}function M0(l){l.return!==null&&(rc(l,1),XS(l,1,0))}function D0(l){for(;l===Np;)Np=Tu[--Ru],Tu[Ru]=null,Sp=Tu[--Ru],Tu[Ru]=null;for(;l===nc;)nc=Xs[--Zs],Xs[Zs]=null,Qa=Xs[--Zs],Xs[Zs]=null,Ga=Xs[--Zs],Xs[Zs]=null}var Ls=null,Fs=null,bn=!1,wi=null;function ZS(l,d){var p=ri(5,null,null,0);p.elementType="DELETED",p.stateNode=d,p.return=l,d=l.deletions,d===null?(l.deletions=[p],l.flags|=16):d.push(p)}function eE(l,d){switch(l.tag){case 5:var p=l.type;return d=d.nodeType!==1||p.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(l.stateNode=d,Ls=l,Fs=Ro(d.firstChild),!0):!1;case 6:return d=l.pendingProps===""||d.nodeType!==3?null:d,d!==null?(l.stateNode=d,Ls=l,Fs=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(p=nc!==null?{id:Ga,overflow:Qa}:null,l.memoizedState={dehydrated:d,treeContext:p,retryLane:1073741824},p=ri(18,null,null,0),p.stateNode=d,p.return=l,l.child=p,Ls=l,Fs=null,!0):!1;default:return!1}}function L0(l){return(l.mode&1)!==0&&(l.flags&128)===0}function F0(l){if(bn){var d=Fs;if(d){var p=d;if(!eE(l,d)){if(L0(l))throw Error(n(418));d=Ro(p.nextSibling);var b=Ls;d&&eE(l,d)?ZS(b,p):(l.flags=l.flags&-4097|2,bn=!1,Ls=l)}}else{if(L0(l))throw Error(n(418));l.flags=l.flags&-4097|2,bn=!1,Ls=l}}}function tE(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;Ls=l}function Ep(l){if(l!==Ls)return!1;if(!bn)return tE(l),bn=!0,!1;var d;if((d=l.tag!==3)&&!(d=l.tag!==5)&&(d=l.type,d=d!=="head"&&d!=="body"&&!A0(l.type,l.memoizedProps)),d&&(d=Fs)){if(L0(l))throw nE(),Error(n(418));for(;d;)ZS(l,d),d=Ro(d.nextSibling)}if(tE(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));e:{for(l=l.nextSibling,d=0;l;){if(l.nodeType===8){var p=l.data;if(p==="/$"){if(d===0){Fs=Ro(l.nextSibling);break e}d--}else p!=="$"&&p!=="$!"&&p!=="$?"||d++}l=l.nextSibling}Fs=null}}else Fs=Ls?Ro(l.stateNode.nextSibling):null;return!0}function nE(){for(var l=Fs;l;)l=Ro(l.nextSibling)}function Iu(){Fs=Ls=null,bn=!1}function V0(l){wi===null?wi=[l]:wi.push(l)}var YV=C.ReactCurrentBatchConfig;function Xh(l,d,p){if(l=p.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(n(309));var b=p.stateNode}if(!b)throw Error(n(147,l));var E=b,T=""+l;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===T?d.ref:(d=function($){var J=E.refs;$===null?delete J[T]:J[T]=$},d._stringRef=T,d)}if(typeof l!="string")throw Error(n(284));if(!p._owner)throw Error(n(290,l))}return l}function kp(l,d){throw l=Object.prototype.toString.call(d),Error(n(31,l==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":l))}function rE(l){var d=l._init;return d(l._payload)}function sE(l){function d(oe,ne){if(l){var ce=oe.deletions;ce===null?(oe.deletions=[ne],oe.flags|=16):ce.push(ne)}}function p(oe,ne){if(!l)return null;for(;ne!==null;)d(oe,ne),ne=ne.sibling;return null}function b(oe,ne){for(oe=new Map;ne!==null;)ne.key!==null?oe.set(ne.key,ne):oe.set(ne.index,ne),ne=ne.sibling;return oe}function E(oe,ne){return oe=Bo(oe,ne),oe.index=0,oe.sibling=null,oe}function T(oe,ne,ce){return oe.index=ce,l?(ce=oe.alternate,ce!==null?(ce=ce.index,ce<ne?(oe.flags|=2,ne):ce):(oe.flags|=2,ne)):(oe.flags|=1048576,ne)}function $(oe){return l&&oe.alternate===null&&(oe.flags|=2),oe}function J(oe,ne,ce,De){return ne===null||ne.tag!==6?(ne=Tv(ce,oe.mode,De),ne.return=oe,ne):(ne=E(ne,ce),ne.return=oe,ne)}function Z(oe,ne,ce,De){var st=ce.type;return st===A?Se(oe,ne,ce.props.children,De,ce.key):ne!==null&&(ne.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===ae&&rE(st)===ne.type)?(De=E(ne,ce.props),De.ref=Xh(oe,ne,ce),De.return=oe,De):(De=Yp(ce.type,ce.key,ce.props,null,oe.mode,De),De.ref=Xh(oe,ne,ce),De.return=oe,De)}function he(oe,ne,ce,De){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==ce.containerInfo||ne.stateNode.implementation!==ce.implementation?(ne=Rv(ce,oe.mode,De),ne.return=oe,ne):(ne=E(ne,ce.children||[]),ne.return=oe,ne)}function Se(oe,ne,ce,De,st){return ne===null||ne.tag!==7?(ne=dc(ce,oe.mode,De,st),ne.return=oe,ne):(ne=E(ne,ce),ne.return=oe,ne)}function Ae(oe,ne,ce){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return ne=Tv(""+ne,oe.mode,ce),ne.return=oe,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case R:return ce=Yp(ne.type,ne.key,ne.props,null,oe.mode,ce),ce.ref=Xh(oe,null,ne),ce.return=oe,ce;case O:return ne=Rv(ne,oe.mode,ce),ne.return=oe,ne;case ae:var De=ne._init;return Ae(oe,De(ne._payload),ce)}if(qt(ne)||K(ne))return ne=dc(ne,oe.mode,ce,null),ne.return=oe,ne;kp(oe,ne)}return null}function Ne(oe,ne,ce,De){var st=ne!==null?ne.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number")return st!==null?null:J(oe,ne,""+ce,De);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case R:return ce.key===st?Z(oe,ne,ce,De):null;case O:return ce.key===st?he(oe,ne,ce,De):null;case ae:return st=ce._init,Ne(oe,ne,st(ce._payload),De)}if(qt(ce)||K(ce))return st!==null?null:Se(oe,ne,ce,De,null);kp(oe,ce)}return null}function qe(oe,ne,ce,De,st){if(typeof De=="string"&&De!==""||typeof De=="number")return oe=oe.get(ce)||null,J(ne,oe,""+De,st);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case R:return oe=oe.get(De.key===null?ce:De.key)||null,Z(ne,oe,De,st);case O:return oe=oe.get(De.key===null?ce:De.key)||null,he(ne,oe,De,st);case ae:var dt=De._init;return qe(oe,ne,ce,dt(De._payload),st)}if(qt(De)||K(De))return oe=oe.get(ce)||null,Se(ne,oe,De,st,null);kp(ne,De)}return null}function Qe(oe,ne,ce,De){for(var st=null,dt=null,ht=ne,jt=ne=0,fr=null;ht!==null&&jt<ce.length;jt++){ht.index>jt?(fr=ht,ht=null):fr=ht.sibling;var Yt=Ne(oe,ht,ce[jt],De);if(Yt===null){ht===null&&(ht=fr);break}l&&ht&&Yt.alternate===null&&d(oe,ht),ne=T(Yt,ne,jt),dt===null?st=Yt:dt.sibling=Yt,dt=Yt,ht=fr}if(jt===ce.length)return p(oe,ht),bn&&rc(oe,jt),st;if(ht===null){for(;jt<ce.length;jt++)ht=Ae(oe,ce[jt],De),ht!==null&&(ne=T(ht,ne,jt),dt===null?st=ht:dt.sibling=ht,dt=ht);return bn&&rc(oe,jt),st}for(ht=b(oe,ht);jt<ce.length;jt++)fr=qe(ht,oe,jt,ce[jt],De),fr!==null&&(l&&fr.alternate!==null&&ht.delete(fr.key===null?jt:fr.key),ne=T(fr,ne,jt),dt===null?st=fr:dt.sibling=fr,dt=fr);return l&&ht.forEach(function(zo){return d(oe,zo)}),bn&&rc(oe,jt),st}function tt(oe,ne,ce,De){var st=K(ce);if(typeof st!="function")throw Error(n(150));if(ce=st.call(ce),ce==null)throw Error(n(151));for(var dt=st=null,ht=ne,jt=ne=0,fr=null,Yt=ce.next();ht!==null&&!Yt.done;jt++,Yt=ce.next()){ht.index>jt?(fr=ht,ht=null):fr=ht.sibling;var zo=Ne(oe,ht,Yt.value,De);if(zo===null){ht===null&&(ht=fr);break}l&&ht&&zo.alternate===null&&d(oe,ht),ne=T(zo,ne,jt),dt===null?st=zo:dt.sibling=zo,dt=zo,ht=fr}if(Yt.done)return p(oe,ht),bn&&rc(oe,jt),st;if(ht===null){for(;!Yt.done;jt++,Yt=ce.next())Yt=Ae(oe,Yt.value,De),Yt!==null&&(ne=T(Yt,ne,jt),dt===null?st=Yt:dt.sibling=Yt,dt=Yt);return bn&&rc(oe,jt),st}for(ht=b(oe,ht);!Yt.done;jt++,Yt=ce.next())Yt=qe(ht,oe,jt,Yt.value,De),Yt!==null&&(l&&Yt.alternate!==null&&ht.delete(Yt.key===null?jt:Yt.key),ne=T(Yt,ne,jt),dt===null?st=Yt:dt.sibling=Yt,dt=Yt);return l&&ht.forEach(function(TU){return d(oe,TU)}),bn&&rc(oe,jt),st}function Vn(oe,ne,ce,De){if(typeof ce=="object"&&ce!==null&&ce.type===A&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case R:e:{for(var st=ce.key,dt=ne;dt!==null;){if(dt.key===st){if(st=ce.type,st===A){if(dt.tag===7){p(oe,dt.sibling),ne=E(dt,ce.props.children),ne.return=oe,oe=ne;break e}}else if(dt.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===ae&&rE(st)===dt.type){p(oe,dt.sibling),ne=E(dt,ce.props),ne.ref=Xh(oe,dt,ce),ne.return=oe,oe=ne;break e}p(oe,dt);break}else d(oe,dt);dt=dt.sibling}ce.type===A?(ne=dc(ce.props.children,oe.mode,De,ce.key),ne.return=oe,oe=ne):(De=Yp(ce.type,ce.key,ce.props,null,oe.mode,De),De.ref=Xh(oe,ne,ce),De.return=oe,oe=De)}return $(oe);case O:e:{for(dt=ce.key;ne!==null;){if(ne.key===dt)if(ne.tag===4&&ne.stateNode.containerInfo===ce.containerInfo&&ne.stateNode.implementation===ce.implementation){p(oe,ne.sibling),ne=E(ne,ce.children||[]),ne.return=oe,oe=ne;break e}else{p(oe,ne);break}else d(oe,ne);ne=ne.sibling}ne=Rv(ce,oe.mode,De),ne.return=oe,oe=ne}return $(oe);case ae:return dt=ce._init,Vn(oe,ne,dt(ce._payload),De)}if(qt(ce))return Qe(oe,ne,ce,De);if(K(ce))return tt(oe,ne,ce,De);kp(oe,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"?(ce=""+ce,ne!==null&&ne.tag===6?(p(oe,ne.sibling),ne=E(ne,ce),ne.return=oe,oe=ne):(p(oe,ne),ne=Tv(ce,oe.mode,De),ne.return=oe,oe=ne),$(oe)):p(oe,ne)}return Vn}var Pu=sE(!0),iE=sE(!1),Cp=Io(null),Ap=null,Ou=null,U0=null;function $0(){U0=Ou=Ap=null}function B0(l){var d=Cp.current;vn(Cp),l._currentValue=d}function z0(l,d,p){for(;l!==null;){var b=l.alternate;if((l.childLanes&d)!==d?(l.childLanes|=d,b!==null&&(b.childLanes|=d)):b!==null&&(b.childLanes&d)!==d&&(b.childLanes|=d),l===p)break;l=l.return}}function Mu(l,d){Ap=l,U0=Ou=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&d)!==0&&(hs=!0),l.firstContext=null)}function ei(l){var d=l._currentValue;if(U0!==l)if(l={context:l,memoizedValue:d,next:null},Ou===null){if(Ap===null)throw Error(n(308));Ou=l,Ap.dependencies={lanes:0,firstContext:l}}else Ou=Ou.next=l;return d}var sc=null;function q0(l){sc===null?sc=[l]:sc.push(l)}function aE(l,d,p,b){var E=d.interleaved;return E===null?(p.next=p,q0(d)):(p.next=E.next,E.next=p),d.interleaved=p,Ja(l,b)}function Ja(l,d){l.lanes|=d;var p=l.alternate;for(p!==null&&(p.lanes|=d),p=l,l=l.return;l!==null;)l.childLanes|=d,p=l.alternate,p!==null&&(p.childLanes|=d),p=l,l=l.return;return p.tag===3?p.stateNode:null}var Mo=!1;function H0(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function oE(l,d){l=l.updateQueue,d.updateQueue===l&&(d.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function Ya(l,d){return{eventTime:l,lane:d,tag:0,payload:null,callback:null,next:null}}function Do(l,d,p){var b=l.updateQueue;if(b===null)return null;if(b=b.shared,(Kt&2)!==0){var E=b.pending;return E===null?d.next=d:(d.next=E.next,E.next=d),b.pending=d,Ja(l,p)}return E=b.interleaved,E===null?(d.next=d,q0(b)):(d.next=E.next,E.next=d),b.interleaved=d,Ja(l,p)}function Tp(l,d,p){if(d=d.updateQueue,d!==null&&(d=d.shared,(p&4194240)!==0)){var b=d.lanes;b&=l.pendingLanes,p|=b,d.lanes=p,Ph(l,p)}}function lE(l,d){var p=l.updateQueue,b=l.alternate;if(b!==null&&(b=b.updateQueue,p===b)){var E=null,T=null;if(p=p.firstBaseUpdate,p!==null){do{var $={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};T===null?E=T=$:T=T.next=$,p=p.next}while(p!==null);T===null?E=T=d:T=T.next=d}else E=T=d;p={baseState:b.baseState,firstBaseUpdate:E,lastBaseUpdate:T,shared:b.shared,effects:b.effects},l.updateQueue=p;return}l=p.lastBaseUpdate,l===null?p.firstBaseUpdate=d:l.next=d,p.lastBaseUpdate=d}function Rp(l,d,p,b){var E=l.updateQueue;Mo=!1;var T=E.firstBaseUpdate,$=E.lastBaseUpdate,J=E.shared.pending;if(J!==null){E.shared.pending=null;var Z=J,he=Z.next;Z.next=null,$===null?T=he:$.next=he,$=Z;var Se=l.alternate;Se!==null&&(Se=Se.updateQueue,J=Se.lastBaseUpdate,J!==$&&(J===null?Se.firstBaseUpdate=he:J.next=he,Se.lastBaseUpdate=Z))}if(T!==null){var Ae=E.baseState;$=0,Se=he=Z=null,J=T;do{var Ne=J.lane,qe=J.eventTime;if((b&Ne)===Ne){Se!==null&&(Se=Se.next={eventTime:qe,lane:0,tag:J.tag,payload:J.payload,callback:J.callback,next:null});e:{var Qe=l,tt=J;switch(Ne=d,qe=p,tt.tag){case 1:if(Qe=tt.payload,typeof Qe=="function"){Ae=Qe.call(qe,Ae,Ne);break e}Ae=Qe;break e;case 3:Qe.flags=Qe.flags&-65537|128;case 0:if(Qe=tt.payload,Ne=typeof Qe=="function"?Qe.call(qe,Ae,Ne):Qe,Ne==null)break e;Ae=B({},Ae,Ne);break e;case 2:Mo=!0}}J.callback!==null&&J.lane!==0&&(l.flags|=64,Ne=E.effects,Ne===null?E.effects=[J]:Ne.push(J))}else qe={eventTime:qe,lane:Ne,tag:J.tag,payload:J.payload,callback:J.callback,next:null},Se===null?(he=Se=qe,Z=Ae):Se=Se.next=qe,$|=Ne;if(J=J.next,J===null){if(J=E.shared.pending,J===null)break;Ne=J,J=Ne.next,Ne.next=null,E.lastBaseUpdate=Ne,E.shared.pending=null}}while(!0);if(Se===null&&(Z=Ae),E.baseState=Z,E.firstBaseUpdate=he,E.lastBaseUpdate=Se,d=E.shared.interleaved,d!==null){E=d;do $|=E.lane,E=E.next;while(E!==d)}else T===null&&(E.shared.lanes=0);oc|=$,l.lanes=$,l.memoizedState=Ae}}function cE(l,d,p){if(l=d.effects,d.effects=null,l!==null)for(d=0;d<l.length;d++){var b=l[d],E=b.callback;if(E!==null){if(b.callback=null,b=p,typeof E!="function")throw Error(n(191,E));E.call(b)}}}var Zh={},sa=Io(Zh),ef=Io(Zh),tf=Io(Zh);function ic(l){if(l===Zh)throw Error(n(174));return l}function W0(l,d){switch(fn(tf,d),fn(ef,l),fn(sa,Zh),l=d.nodeType,l){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:Te(null,"");break;default:l=l===8?d.parentNode:d,d=l.namespaceURI||null,l=l.tagName,d=Te(d,l)}vn(sa),fn(sa,d)}function Du(){vn(sa),vn(ef),vn(tf)}function uE(l){ic(tf.current);var d=ic(sa.current),p=Te(d,l.type);d!==p&&(fn(ef,l),fn(sa,p))}function K0(l){ef.current===l&&(vn(sa),vn(ef))}var jn=Io(0);function Ip(l){for(var d=l;d!==null;){if(d.tag===13){var p=d.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var G0=[];function Q0(){for(var l=0;l<G0.length;l++)G0[l]._workInProgressVersionPrimary=null;G0.length=0}var Pp=C.ReactCurrentDispatcher,J0=C.ReactCurrentBatchConfig,ac=0,_n=null,rr=null,dr=null,Op=!1,nf=!1,rf=0,XV=0;function Or(){throw Error(n(321))}function Y0(l,d){if(d===null)return!1;for(var p=0;p<d.length&&p<l.length;p++)if(!bi(l[p],d[p]))return!1;return!0}function X0(l,d,p,b,E,T){if(ac=T,_n=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,Pp.current=l===null||l.memoizedState===null?nU:rU,l=p(b,E),nf){T=0;do{if(nf=!1,rf=0,25<=T)throw Error(n(301));T+=1,dr=rr=null,d.updateQueue=null,Pp.current=sU,l=p(b,E)}while(nf)}if(Pp.current=Lp,d=rr!==null&&rr.next!==null,ac=0,dr=rr=_n=null,Op=!1,d)throw Error(n(300));return l}function Z0(){var l=rf!==0;return rf=0,l}function ia(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dr===null?_n.memoizedState=dr=l:dr=dr.next=l,dr}function ti(){if(rr===null){var l=_n.alternate;l=l!==null?l.memoizedState:null}else l=rr.next;var d=dr===null?_n.memoizedState:dr.next;if(d!==null)dr=d,rr=l;else{if(l===null)throw Error(n(310));rr=l,l={memoizedState:rr.memoizedState,baseState:rr.baseState,baseQueue:rr.baseQueue,queue:rr.queue,next:null},dr===null?_n.memoizedState=dr=l:dr=dr.next=l}return dr}function sf(l,d){return typeof d=="function"?d(l):d}function ev(l){var d=ti(),p=d.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=l;var b=rr,E=b.baseQueue,T=p.pending;if(T!==null){if(E!==null){var $=E.next;E.next=T.next,T.next=$}b.baseQueue=E=T,p.pending=null}if(E!==null){T=E.next,b=b.baseState;var J=$=null,Z=null,he=T;do{var Se=he.lane;if((ac&Se)===Se)Z!==null&&(Z=Z.next={lane:0,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null}),b=he.hasEagerState?he.eagerState:l(b,he.action);else{var Ae={lane:Se,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null};Z===null?(J=Z=Ae,$=b):Z=Z.next=Ae,_n.lanes|=Se,oc|=Se}he=he.next}while(he!==null&&he!==T);Z===null?$=b:Z.next=J,bi(b,d.memoizedState)||(hs=!0),d.memoizedState=b,d.baseState=$,d.baseQueue=Z,p.lastRenderedState=b}if(l=p.interleaved,l!==null){E=l;do T=E.lane,_n.lanes|=T,oc|=T,E=E.next;while(E!==l)}else E===null&&(p.lanes=0);return[d.memoizedState,p.dispatch]}function tv(l){var d=ti(),p=d.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=l;var b=p.dispatch,E=p.pending,T=d.memoizedState;if(E!==null){p.pending=null;var $=E=E.next;do T=l(T,$.action),$=$.next;while($!==E);bi(T,d.memoizedState)||(hs=!0),d.memoizedState=T,d.baseQueue===null&&(d.baseState=T),p.lastRenderedState=T}return[T,b]}function dE(){}function hE(l,d){var p=_n,b=ti(),E=d(),T=!bi(b.memoizedState,E);if(T&&(b.memoizedState=E,hs=!0),b=b.queue,nv(pE.bind(null,p,b,l),[l]),b.getSnapshot!==d||T||dr!==null&&dr.memoizedState.tag&1){if(p.flags|=2048,af(9,mE.bind(null,p,b,E,d),void 0,null),hr===null)throw Error(n(349));(ac&30)!==0||fE(p,d,E)}return E}function fE(l,d,p){l.flags|=16384,l={getSnapshot:d,value:p},d=_n.updateQueue,d===null?(d={lastEffect:null,stores:null},_n.updateQueue=d,d.stores=[l]):(p=d.stores,p===null?d.stores=[l]:p.push(l))}function mE(l,d,p,b){d.value=p,d.getSnapshot=b,gE(d)&&xE(l)}function pE(l,d,p){return p(function(){gE(d)&&xE(l)})}function gE(l){var d=l.getSnapshot;l=l.value;try{var p=d();return!bi(l,p)}catch{return!0}}function xE(l){var d=Ja(l,1);d!==null&&Si(d,l,1,-1)}function yE(l){var d=ia();return typeof l=="function"&&(l=l()),d.memoizedState=d.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sf,lastRenderedState:l},d.queue=l,l=l.dispatch=tU.bind(null,_n,l),[d.memoizedState,l]}function af(l,d,p,b){return l={tag:l,create:d,destroy:p,deps:b,next:null},d=_n.updateQueue,d===null?(d={lastEffect:null,stores:null},_n.updateQueue=d,d.lastEffect=l.next=l):(p=d.lastEffect,p===null?d.lastEffect=l.next=l:(b=p.next,p.next=l,l.next=b,d.lastEffect=l)),l}function vE(){return ti().memoizedState}function Mp(l,d,p,b){var E=ia();_n.flags|=l,E.memoizedState=af(1|d,p,void 0,b===void 0?null:b)}function Dp(l,d,p,b){var E=ti();b=b===void 0?null:b;var T=void 0;if(rr!==null){var $=rr.memoizedState;if(T=$.destroy,b!==null&&Y0(b,$.deps)){E.memoizedState=af(d,p,T,b);return}}_n.flags|=l,E.memoizedState=af(1|d,p,T,b)}function bE(l,d){return Mp(8390656,8,l,d)}function nv(l,d){return Dp(2048,8,l,d)}function wE(l,d){return Dp(4,2,l,d)}function jE(l,d){return Dp(4,4,l,d)}function _E(l,d){if(typeof d=="function")return l=l(),d(l),function(){d(null)};if(d!=null)return l=l(),d.current=l,function(){d.current=null}}function NE(l,d,p){return p=p!=null?p.concat([l]):null,Dp(4,4,_E.bind(null,d,l),p)}function rv(){}function SE(l,d){var p=ti();d=d===void 0?null:d;var b=p.memoizedState;return b!==null&&d!==null&&Y0(d,b[1])?b[0]:(p.memoizedState=[l,d],l)}function EE(l,d){var p=ti();d=d===void 0?null:d;var b=p.memoizedState;return b!==null&&d!==null&&Y0(d,b[1])?b[0]:(l=l(),p.memoizedState=[l,d],l)}function kE(l,d,p){return(ac&21)===0?(l.baseState&&(l.baseState=!1,hs=!0),l.memoizedState=p):(bi(p,d)||(p=Rh(),_n.lanes|=p,oc|=p,l.baseState=!0),d)}function ZV(l,d){var p=$t;$t=p!==0&&4>p?p:4,l(!0);var b=J0.transition;J0.transition={};try{l(!1),d()}finally{$t=p,J0.transition=b}}function CE(){return ti().memoizedState}function eU(l,d,p){var b=Uo(l);if(p={lane:b,action:p,hasEagerState:!1,eagerState:null,next:null},AE(l))TE(d,p);else if(p=aE(l,d,p,b),p!==null){var E=Jr();Si(p,l,b,E),RE(p,d,b)}}function tU(l,d,p){var b=Uo(l),E={lane:b,action:p,hasEagerState:!1,eagerState:null,next:null};if(AE(l))TE(d,E);else{var T=l.alternate;if(l.lanes===0&&(T===null||T.lanes===0)&&(T=d.lastRenderedReducer,T!==null))try{var $=d.lastRenderedState,J=T($,p);if(E.hasEagerState=!0,E.eagerState=J,bi(J,$)){var Z=d.interleaved;Z===null?(E.next=E,q0(d)):(E.next=Z.next,Z.next=E),d.interleaved=E;return}}catch{}finally{}p=aE(l,d,E,b),p!==null&&(E=Jr(),Si(p,l,b,E),RE(p,d,b))}}function AE(l){var d=l.alternate;return l===_n||d!==null&&d===_n}function TE(l,d){nf=Op=!0;var p=l.pending;p===null?d.next=d:(d.next=p.next,p.next=d),l.pending=d}function RE(l,d,p){if((p&4194240)!==0){var b=d.lanes;b&=l.pendingLanes,p|=b,d.lanes=p,Ph(l,p)}}var Lp={readContext:ei,useCallback:Or,useContext:Or,useEffect:Or,useImperativeHandle:Or,useInsertionEffect:Or,useLayoutEffect:Or,useMemo:Or,useReducer:Or,useRef:Or,useState:Or,useDebugValue:Or,useDeferredValue:Or,useTransition:Or,useMutableSource:Or,useSyncExternalStore:Or,useId:Or,unstable_isNewReconciler:!1},nU={readContext:ei,useCallback:function(l,d){return ia().memoizedState=[l,d===void 0?null:d],l},useContext:ei,useEffect:bE,useImperativeHandle:function(l,d,p){return p=p!=null?p.concat([l]):null,Mp(4194308,4,_E.bind(null,d,l),p)},useLayoutEffect:function(l,d){return Mp(4194308,4,l,d)},useInsertionEffect:function(l,d){return Mp(4,2,l,d)},useMemo:function(l,d){var p=ia();return d=d===void 0?null:d,l=l(),p.memoizedState=[l,d],l},useReducer:function(l,d,p){var b=ia();return d=p!==void 0?p(d):d,b.memoizedState=b.baseState=d,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:d},b.queue=l,l=l.dispatch=eU.bind(null,_n,l),[b.memoizedState,l]},useRef:function(l){var d=ia();return l={current:l},d.memoizedState=l},useState:yE,useDebugValue:rv,useDeferredValue:function(l){return ia().memoizedState=l},useTransition:function(){var l=yE(!1),d=l[0];return l=ZV.bind(null,l[1]),ia().memoizedState=l,[d,l]},useMutableSource:function(){},useSyncExternalStore:function(l,d,p){var b=_n,E=ia();if(bn){if(p===void 0)throw Error(n(407));p=p()}else{if(p=d(),hr===null)throw Error(n(349));(ac&30)!==0||fE(b,d,p)}E.memoizedState=p;var T={value:p,getSnapshot:d};return E.queue=T,bE(pE.bind(null,b,T,l),[l]),b.flags|=2048,af(9,mE.bind(null,b,T,p,d),void 0,null),p},useId:function(){var l=ia(),d=hr.identifierPrefix;if(bn){var p=Qa,b=Ga;p=(b&~(1<<32-Is(b)-1)).toString(32)+p,d=":"+d+"R"+p,p=rf++,0<p&&(d+="H"+p.toString(32)),d+=":"}else p=XV++,d=":"+d+"r"+p.toString(32)+":";return l.memoizedState=d},unstable_isNewReconciler:!1},rU={readContext:ei,useCallback:SE,useContext:ei,useEffect:nv,useImperativeHandle:NE,useInsertionEffect:wE,useLayoutEffect:jE,useMemo:EE,useReducer:ev,useRef:vE,useState:function(){return ev(sf)},useDebugValue:rv,useDeferredValue:function(l){var d=ti();return kE(d,rr.memoizedState,l)},useTransition:function(){var l=ev(sf)[0],d=ti().memoizedState;return[l,d]},useMutableSource:dE,useSyncExternalStore:hE,useId:CE,unstable_isNewReconciler:!1},sU={readContext:ei,useCallback:SE,useContext:ei,useEffect:nv,useImperativeHandle:NE,useInsertionEffect:wE,useLayoutEffect:jE,useMemo:EE,useReducer:tv,useRef:vE,useState:function(){return tv(sf)},useDebugValue:rv,useDeferredValue:function(l){var d=ti();return rr===null?d.memoizedState=l:kE(d,rr.memoizedState,l)},useTransition:function(){var l=tv(sf)[0],d=ti().memoizedState;return[l,d]},useMutableSource:dE,useSyncExternalStore:hE,useId:CE,unstable_isNewReconciler:!1};function ji(l,d){if(l&&l.defaultProps){d=B({},d),l=l.defaultProps;for(var p in l)d[p]===void 0&&(d[p]=l[p]);return d}return d}function sv(l,d,p,b){d=l.memoizedState,p=p(b,d),p=p==null?d:B({},d,p),l.memoizedState=p,l.lanes===0&&(l.updateQueue.baseState=p)}var Fp={isMounted:function(l){return(l=l._reactInternals)?vr(l)===l:!1},enqueueSetState:function(l,d,p){l=l._reactInternals;var b=Jr(),E=Uo(l),T=Ya(b,E);T.payload=d,p!=null&&(T.callback=p),d=Do(l,T,E),d!==null&&(Si(d,l,E,b),Tp(d,l,E))},enqueueReplaceState:function(l,d,p){l=l._reactInternals;var b=Jr(),E=Uo(l),T=Ya(b,E);T.tag=1,T.payload=d,p!=null&&(T.callback=p),d=Do(l,T,E),d!==null&&(Si(d,l,E,b),Tp(d,l,E))},enqueueForceUpdate:function(l,d){l=l._reactInternals;var p=Jr(),b=Uo(l),E=Ya(p,b);E.tag=2,d!=null&&(E.callback=d),d=Do(l,E,b),d!==null&&(Si(d,l,b,p),Tp(d,l,b))}};function IE(l,d,p,b,E,T,$){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(b,T,$):d.prototype&&d.prototype.isPureReactComponent?!Hh(p,b)||!Hh(E,T):!0}function PE(l,d,p){var b=!1,E=Po,T=d.contextType;return typeof T=="object"&&T!==null?T=ei(T):(E=ds(d)?tc:Pr.current,b=d.contextTypes,T=(b=b!=null)?Au(l,E):Po),d=new d(p,T),l.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Fp,l.stateNode=d,d._reactInternals=l,b&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=E,l.__reactInternalMemoizedMaskedChildContext=T),d}function OE(l,d,p,b){l=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(p,b),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(p,b),d.state!==l&&Fp.enqueueReplaceState(d,d.state,null)}function iv(l,d,p,b){var E=l.stateNode;E.props=p,E.state=l.memoizedState,E.refs={},H0(l);var T=d.contextType;typeof T=="object"&&T!==null?E.context=ei(T):(T=ds(d)?tc:Pr.current,E.context=Au(l,T)),E.state=l.memoizedState,T=d.getDerivedStateFromProps,typeof T=="function"&&(sv(l,d,T,p),E.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(d=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),d!==E.state&&Fp.enqueueReplaceState(E,E.state,null),Rp(l,p,E,b),E.state=l.memoizedState),typeof E.componentDidMount=="function"&&(l.flags|=4194308)}function Lu(l,d){try{var p="",b=d;do p+=_e(b),b=b.return;while(b);var E=p}catch(T){E=`
Error generating stack: `+T.message+`
`+T.stack}return{value:l,source:d,stack:E,digest:null}}function av(l,d,p){return{value:l,source:null,stack:p??null,digest:d??null}}function ov(l,d){try{console.error(d.value)}catch(p){setTimeout(function(){throw p})}}var iU=typeof WeakMap=="function"?WeakMap:Map;function ME(l,d,p){p=Ya(-1,p),p.tag=3,p.payload={element:null};var b=d.value;return p.callback=function(){Hp||(Hp=!0,jv=b),ov(l,d)},p}function DE(l,d,p){p=Ya(-1,p),p.tag=3;var b=l.type.getDerivedStateFromError;if(typeof b=="function"){var E=d.value;p.payload=function(){return b(E)},p.callback=function(){ov(l,d)}}var T=l.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(p.callback=function(){ov(l,d),typeof b!="function"&&(Fo===null?Fo=new Set([this]):Fo.add(this));var $=d.stack;this.componentDidCatch(d.value,{componentStack:$!==null?$:""})}),p}function LE(l,d,p){var b=l.pingCache;if(b===null){b=l.pingCache=new iU;var E=new Set;b.set(d,E)}else E=b.get(d),E===void 0&&(E=new Set,b.set(d,E));E.has(p)||(E.add(p),l=vU.bind(null,l,d,p),d.then(l,l))}function FE(l){do{var d;if((d=l.tag===13)&&(d=l.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return l;l=l.return}while(l!==null);return null}function VE(l,d,p,b,E){return(l.mode&1)===0?(l===d?l.flags|=65536:(l.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(d=Ya(-1,1),d.tag=2,Do(p,d,1))),p.lanes|=1),l):(l.flags|=65536,l.lanes=E,l)}var aU=C.ReactCurrentOwner,hs=!1;function Qr(l,d,p,b){d.child=l===null?iE(d,null,p,b):Pu(d,l.child,p,b)}function UE(l,d,p,b,E){p=p.render;var T=d.ref;return Mu(d,E),b=X0(l,d,p,b,T,E),p=Z0(),l!==null&&!hs?(d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~E,Xa(l,d,E)):(bn&&p&&M0(d),d.flags|=1,Qr(l,d,b,E),d.child)}function $E(l,d,p,b,E){if(l===null){var T=p.type;return typeof T=="function"&&!Av(T)&&T.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(d.tag=15,d.type=T,BE(l,d,T,b,E)):(l=Yp(p.type,null,b,d,d.mode,E),l.ref=d.ref,l.return=d,d.child=l)}if(T=l.child,(l.lanes&E)===0){var $=T.memoizedProps;if(p=p.compare,p=p!==null?p:Hh,p($,b)&&l.ref===d.ref)return Xa(l,d,E)}return d.flags|=1,l=Bo(T,b),l.ref=d.ref,l.return=d,d.child=l}function BE(l,d,p,b,E){if(l!==null){var T=l.memoizedProps;if(Hh(T,b)&&l.ref===d.ref)if(hs=!1,d.pendingProps=b=T,(l.lanes&E)!==0)(l.flags&131072)!==0&&(hs=!0);else return d.lanes=l.lanes,Xa(l,d,E)}return lv(l,d,p,b,E)}function zE(l,d,p){var b=d.pendingProps,E=b.children,T=l!==null?l.memoizedState:null;if(b.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null,transitions:null},fn(Vu,Vs),Vs|=p;else{if((p&1073741824)===0)return l=T!==null?T.baseLanes|p:p,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:l,cachePool:null,transitions:null},d.updateQueue=null,fn(Vu,Vs),Vs|=l,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},b=T!==null?T.baseLanes:p,fn(Vu,Vs),Vs|=b}else T!==null?(b=T.baseLanes|p,d.memoizedState=null):b=p,fn(Vu,Vs),Vs|=b;return Qr(l,d,E,p),d.child}function qE(l,d){var p=d.ref;(l===null&&p!==null||l!==null&&l.ref!==p)&&(d.flags|=512,d.flags|=2097152)}function lv(l,d,p,b,E){var T=ds(p)?tc:Pr.current;return T=Au(d,T),Mu(d,E),p=X0(l,d,p,b,T,E),b=Z0(),l!==null&&!hs?(d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~E,Xa(l,d,E)):(bn&&b&&M0(d),d.flags|=1,Qr(l,d,p,E),d.child)}function HE(l,d,p,b,E){if(ds(p)){var T=!0;jp(d)}else T=!1;if(Mu(d,E),d.stateNode===null)Up(l,d),PE(d,p,b),iv(d,p,b,E),b=!0;else if(l===null){var $=d.stateNode,J=d.memoizedProps;$.props=J;var Z=$.context,he=p.contextType;typeof he=="object"&&he!==null?he=ei(he):(he=ds(p)?tc:Pr.current,he=Au(d,he));var Se=p.getDerivedStateFromProps,Ae=typeof Se=="function"||typeof $.getSnapshotBeforeUpdate=="function";Ae||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(J!==b||Z!==he)&&OE(d,$,b,he),Mo=!1;var Ne=d.memoizedState;$.state=Ne,Rp(d,b,$,E),Z=d.memoizedState,J!==b||Ne!==Z||us.current||Mo?(typeof Se=="function"&&(sv(d,p,Se,b),Z=d.memoizedState),(J=Mo||IE(d,p,J,b,Ne,Z,he))?(Ae||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(d.flags|=4194308)):(typeof $.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=b,d.memoizedState=Z),$.props=b,$.state=Z,$.context=he,b=J):(typeof $.componentDidMount=="function"&&(d.flags|=4194308),b=!1)}else{$=d.stateNode,oE(l,d),J=d.memoizedProps,he=d.type===d.elementType?J:ji(d.type,J),$.props=he,Ae=d.pendingProps,Ne=$.context,Z=p.contextType,typeof Z=="object"&&Z!==null?Z=ei(Z):(Z=ds(p)?tc:Pr.current,Z=Au(d,Z));var qe=p.getDerivedStateFromProps;(Se=typeof qe=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(J!==Ae||Ne!==Z)&&OE(d,$,b,Z),Mo=!1,Ne=d.memoizedState,$.state=Ne,Rp(d,b,$,E);var Qe=d.memoizedState;J!==Ae||Ne!==Qe||us.current||Mo?(typeof qe=="function"&&(sv(d,p,qe,b),Qe=d.memoizedState),(he=Mo||IE(d,p,he,b,Ne,Qe,Z)||!1)?(Se||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(b,Qe,Z),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(b,Qe,Z)),typeof $.componentDidUpdate=="function"&&(d.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof $.componentDidUpdate!="function"||J===l.memoizedProps&&Ne===l.memoizedState||(d.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||J===l.memoizedProps&&Ne===l.memoizedState||(d.flags|=1024),d.memoizedProps=b,d.memoizedState=Qe),$.props=b,$.state=Qe,$.context=Z,b=he):(typeof $.componentDidUpdate!="function"||J===l.memoizedProps&&Ne===l.memoizedState||(d.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||J===l.memoizedProps&&Ne===l.memoizedState||(d.flags|=1024),b=!1)}return cv(l,d,p,b,T,E)}function cv(l,d,p,b,E,T){qE(l,d);var $=(d.flags&128)!==0;if(!b&&!$)return E&&JS(d,p,!1),Xa(l,d,T);b=d.stateNode,aU.current=d;var J=$&&typeof p.getDerivedStateFromError!="function"?null:b.render();return d.flags|=1,l!==null&&$?(d.child=Pu(d,l.child,null,T),d.child=Pu(d,null,J,T)):Qr(l,d,J,T),d.memoizedState=b.state,E&&JS(d,p,!0),d.child}function WE(l){var d=l.stateNode;d.pendingContext?GS(l,d.pendingContext,d.pendingContext!==d.context):d.context&&GS(l,d.context,!1),W0(l,d.containerInfo)}function KE(l,d,p,b,E){return Iu(),V0(E),d.flags|=256,Qr(l,d,p,b),d.child}var uv={dehydrated:null,treeContext:null,retryLane:0};function dv(l){return{baseLanes:l,cachePool:null,transitions:null}}function GE(l,d,p){var b=d.pendingProps,E=jn.current,T=!1,$=(d.flags&128)!==0,J;if((J=$)||(J=l!==null&&l.memoizedState===null?!1:(E&2)!==0),J?(T=!0,d.flags&=-129):(l===null||l.memoizedState!==null)&&(E|=1),fn(jn,E&1),l===null)return F0(d),l=d.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((d.mode&1)===0?d.lanes=1:l.data==="$!"?d.lanes=8:d.lanes=1073741824,null):($=b.children,l=b.fallback,T?(b=d.mode,T=d.child,$={mode:"hidden",children:$},(b&1)===0&&T!==null?(T.childLanes=0,T.pendingProps=$):T=Xp($,b,0,null),l=dc(l,b,p,null),T.return=d,l.return=d,T.sibling=l,d.child=T,d.child.memoizedState=dv(p),d.memoizedState=uv,l):hv(d,$));if(E=l.memoizedState,E!==null&&(J=E.dehydrated,J!==null))return oU(l,d,$,b,J,E,p);if(T){T=b.fallback,$=d.mode,E=l.child,J=E.sibling;var Z={mode:"hidden",children:b.children};return($&1)===0&&d.child!==E?(b=d.child,b.childLanes=0,b.pendingProps=Z,d.deletions=null):(b=Bo(E,Z),b.subtreeFlags=E.subtreeFlags&14680064),J!==null?T=Bo(J,T):(T=dc(T,$,p,null),T.flags|=2),T.return=d,b.return=d,b.sibling=T,d.child=b,b=T,T=d.child,$=l.child.memoizedState,$=$===null?dv(p):{baseLanes:$.baseLanes|p,cachePool:null,transitions:$.transitions},T.memoizedState=$,T.childLanes=l.childLanes&~p,d.memoizedState=uv,b}return T=l.child,l=T.sibling,b=Bo(T,{mode:"visible",children:b.children}),(d.mode&1)===0&&(b.lanes=p),b.return=d,b.sibling=null,l!==null&&(p=d.deletions,p===null?(d.deletions=[l],d.flags|=16):p.push(l)),d.child=b,d.memoizedState=null,b}function hv(l,d){return d=Xp({mode:"visible",children:d},l.mode,0,null),d.return=l,l.child=d}function Vp(l,d,p,b){return b!==null&&V0(b),Pu(d,l.child,null,p),l=hv(d,d.pendingProps.children),l.flags|=2,d.memoizedState=null,l}function oU(l,d,p,b,E,T,$){if(p)return d.flags&256?(d.flags&=-257,b=av(Error(n(422))),Vp(l,d,$,b)):d.memoizedState!==null?(d.child=l.child,d.flags|=128,null):(T=b.fallback,E=d.mode,b=Xp({mode:"visible",children:b.children},E,0,null),T=dc(T,E,$,null),T.flags|=2,b.return=d,T.return=d,b.sibling=T,d.child=b,(d.mode&1)!==0&&Pu(d,l.child,null,$),d.child.memoizedState=dv($),d.memoizedState=uv,T);if((d.mode&1)===0)return Vp(l,d,$,null);if(E.data==="$!"){if(b=E.nextSibling&&E.nextSibling.dataset,b)var J=b.dgst;return b=J,T=Error(n(419)),b=av(T,b,void 0),Vp(l,d,$,b)}if(J=($&l.childLanes)!==0,hs||J){if(b=hr,b!==null){switch($&-$){case 4:E=2;break;case 16:E=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:E=32;break;case 536870912:E=268435456;break;default:E=0}E=(E&(b.suspendedLanes|$))!==0?0:E,E!==0&&E!==T.retryLane&&(T.retryLane=E,Ja(l,E),Si(b,l,E,-1))}return Cv(),b=av(Error(n(421))),Vp(l,d,$,b)}return E.data==="$?"?(d.flags|=128,d.child=l.child,d=bU.bind(null,l),E._reactRetry=d,null):(l=T.treeContext,Fs=Ro(E.nextSibling),Ls=d,bn=!0,wi=null,l!==null&&(Xs[Zs++]=Ga,Xs[Zs++]=Qa,Xs[Zs++]=nc,Ga=l.id,Qa=l.overflow,nc=d),d=hv(d,b.children),d.flags|=4096,d)}function QE(l,d,p){l.lanes|=d;var b=l.alternate;b!==null&&(b.lanes|=d),z0(l.return,d,p)}function fv(l,d,p,b,E){var T=l.memoizedState;T===null?l.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:b,tail:p,tailMode:E}:(T.isBackwards=d,T.rendering=null,T.renderingStartTime=0,T.last=b,T.tail=p,T.tailMode=E)}function JE(l,d,p){var b=d.pendingProps,E=b.revealOrder,T=b.tail;if(Qr(l,d,b.children,p),b=jn.current,(b&2)!==0)b=b&1|2,d.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=d.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&QE(l,p,d);else if(l.tag===19)QE(l,p,d);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===d)break e;for(;l.sibling===null;){if(l.return===null||l.return===d)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}b&=1}if(fn(jn,b),(d.mode&1)===0)d.memoizedState=null;else switch(E){case"forwards":for(p=d.child,E=null;p!==null;)l=p.alternate,l!==null&&Ip(l)===null&&(E=p),p=p.sibling;p=E,p===null?(E=d.child,d.child=null):(E=p.sibling,p.sibling=null),fv(d,!1,E,p,T);break;case"backwards":for(p=null,E=d.child,d.child=null;E!==null;){if(l=E.alternate,l!==null&&Ip(l)===null){d.child=E;break}l=E.sibling,E.sibling=p,p=E,E=l}fv(d,!0,p,null,T);break;case"together":fv(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Up(l,d){(d.mode&1)===0&&l!==null&&(l.alternate=null,d.alternate=null,d.flags|=2)}function Xa(l,d,p){if(l!==null&&(d.dependencies=l.dependencies),oc|=d.lanes,(p&d.childLanes)===0)return null;if(l!==null&&d.child!==l.child)throw Error(n(153));if(d.child!==null){for(l=d.child,p=Bo(l,l.pendingProps),d.child=p,p.return=d;l.sibling!==null;)l=l.sibling,p=p.sibling=Bo(l,l.pendingProps),p.return=d;p.sibling=null}return d.child}function lU(l,d,p){switch(d.tag){case 3:WE(d),Iu();break;case 5:uE(d);break;case 1:ds(d.type)&&jp(d);break;case 4:W0(d,d.stateNode.containerInfo);break;case 10:var b=d.type._context,E=d.memoizedProps.value;fn(Cp,b._currentValue),b._currentValue=E;break;case 13:if(b=d.memoizedState,b!==null)return b.dehydrated!==null?(fn(jn,jn.current&1),d.flags|=128,null):(p&d.child.childLanes)!==0?GE(l,d,p):(fn(jn,jn.current&1),l=Xa(l,d,p),l!==null?l.sibling:null);fn(jn,jn.current&1);break;case 19:if(b=(p&d.childLanes)!==0,(l.flags&128)!==0){if(b)return JE(l,d,p);d.flags|=128}if(E=d.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),fn(jn,jn.current),b)break;return null;case 22:case 23:return d.lanes=0,zE(l,d,p)}return Xa(l,d,p)}var YE,mv,XE,ZE;YE=function(l,d){for(var p=d.child;p!==null;){if(p.tag===5||p.tag===6)l.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===d)break;for(;p.sibling===null;){if(p.return===null||p.return===d)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},mv=function(){},XE=function(l,d,p,b){var E=l.memoizedProps;if(E!==b){l=d.stateNode,ic(sa.current);var T=null;switch(p){case"input":E=ge(l,E),b=ge(l,b),T=[];break;case"select":E=B({},E,{value:void 0}),b=B({},b,{value:void 0}),T=[];break;case"textarea":E=Gs(l,E),b=Gs(l,b),T=[];break;default:typeof E.onClick!="function"&&typeof b.onClick=="function"&&(l.onclick=vp)}cn(p,b);var $;p=null;for(he in E)if(!b.hasOwnProperty(he)&&E.hasOwnProperty(he)&&E[he]!=null)if(he==="style"){var J=E[he];for($ in J)J.hasOwnProperty($)&&(p||(p={}),p[$]="")}else he!=="dangerouslySetInnerHTML"&&he!=="children"&&he!=="suppressContentEditableWarning"&&he!=="suppressHydrationWarning"&&he!=="autoFocus"&&(i.hasOwnProperty(he)?T||(T=[]):(T=T||[]).push(he,null));for(he in b){var Z=b[he];if(J=E!=null?E[he]:void 0,b.hasOwnProperty(he)&&Z!==J&&(Z!=null||J!=null))if(he==="style")if(J){for($ in J)!J.hasOwnProperty($)||Z&&Z.hasOwnProperty($)||(p||(p={}),p[$]="");for($ in Z)Z.hasOwnProperty($)&&J[$]!==Z[$]&&(p||(p={}),p[$]=Z[$])}else p||(T||(T=[]),T.push(he,p)),p=Z;else he==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,J=J?J.__html:void 0,Z!=null&&J!==Z&&(T=T||[]).push(he,Z)):he==="children"?typeof Z!="string"&&typeof Z!="number"||(T=T||[]).push(he,""+Z):he!=="suppressContentEditableWarning"&&he!=="suppressHydrationWarning"&&(i.hasOwnProperty(he)?(Z!=null&&he==="onScroll"&&yn("scroll",l),T||J===Z||(T=[])):(T=T||[]).push(he,Z))}p&&(T=T||[]).push("style",p);var he=T;(d.updateQueue=he)&&(d.flags|=4)}},ZE=function(l,d,p,b){p!==b&&(d.flags|=4)};function of(l,d){if(!bn)switch(l.tailMode){case"hidden":d=l.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?l.tail=null:p.sibling=null;break;case"collapsed":p=l.tail;for(var b=null;p!==null;)p.alternate!==null&&(b=p),p=p.sibling;b===null?d||l.tail===null?l.tail=null:l.tail.sibling=null:b.sibling=null}}function Mr(l){var d=l.alternate!==null&&l.alternate.child===l.child,p=0,b=0;if(d)for(var E=l.child;E!==null;)p|=E.lanes|E.childLanes,b|=E.subtreeFlags&14680064,b|=E.flags&14680064,E.return=l,E=E.sibling;else for(E=l.child;E!==null;)p|=E.lanes|E.childLanes,b|=E.subtreeFlags,b|=E.flags,E.return=l,E=E.sibling;return l.subtreeFlags|=b,l.childLanes=p,d}function cU(l,d,p){var b=d.pendingProps;switch(D0(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mr(d),null;case 1:return ds(d.type)&&wp(),Mr(d),null;case 3:return b=d.stateNode,Du(),vn(us),vn(Pr),Q0(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(l===null||l.child===null)&&(Ep(d)?d.flags|=4:l===null||l.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,wi!==null&&(Sv(wi),wi=null))),mv(l,d),Mr(d),null;case 5:K0(d);var E=ic(tf.current);if(p=d.type,l!==null&&d.stateNode!=null)XE(l,d,p,b,E),l.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!b){if(d.stateNode===null)throw Error(n(166));return Mr(d),null}if(l=ic(sa.current),Ep(d)){b=d.stateNode,p=d.type;var T=d.memoizedProps;switch(b[ra]=d,b[Jh]=T,l=(d.mode&1)!==0,p){case"dialog":yn("cancel",b),yn("close",b);break;case"iframe":case"object":case"embed":yn("load",b);break;case"video":case"audio":for(E=0;E<Kh.length;E++)yn(Kh[E],b);break;case"source":yn("error",b);break;case"img":case"image":case"link":yn("error",b),yn("load",b);break;case"details":yn("toggle",b);break;case"input":Re(b,T),yn("invalid",b);break;case"select":b._wrapperState={wasMultiple:!!T.multiple},yn("invalid",b);break;case"textarea":is(b,T),yn("invalid",b)}cn(p,T),E=null;for(var $ in T)if(T.hasOwnProperty($)){var J=T[$];$==="children"?typeof J=="string"?b.textContent!==J&&(T.suppressHydrationWarning!==!0&&yp(b.textContent,J,l),E=["children",J]):typeof J=="number"&&b.textContent!==""+J&&(T.suppressHydrationWarning!==!0&&yp(b.textContent,J,l),E=["children",""+J]):i.hasOwnProperty($)&&J!=null&&$==="onScroll"&&yn("scroll",b)}switch(p){case"input":rt(b),Ln(b,T,!0);break;case"textarea":rt(b),Ar(b);break;case"select":case"option":break;default:typeof T.onClick=="function"&&(b.onclick=vp)}b=E,d.updateQueue=b,b!==null&&(d.flags|=4)}else{$=E.nodeType===9?E:E.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=xe(p)),l==="http://www.w3.org/1999/xhtml"?p==="script"?(l=$.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof b.is=="string"?l=$.createElement(p,{is:b.is}):(l=$.createElement(p),p==="select"&&($=l,b.multiple?$.multiple=!0:b.size&&($.size=b.size))):l=$.createElementNS(l,p),l[ra]=d,l[Jh]=b,YE(l,d,!1,!1),d.stateNode=l;e:{switch($=Tr(p,b),p){case"dialog":yn("cancel",l),yn("close",l),E=b;break;case"iframe":case"object":case"embed":yn("load",l),E=b;break;case"video":case"audio":for(E=0;E<Kh.length;E++)yn(Kh[E],l);E=b;break;case"source":yn("error",l),E=b;break;case"img":case"image":case"link":yn("error",l),yn("load",l),E=b;break;case"details":yn("toggle",l),E=b;break;case"input":Re(l,b),E=ge(l,b),yn("invalid",l);break;case"option":E=b;break;case"select":l._wrapperState={wasMultiple:!!b.multiple},E=B({},b,{value:void 0}),yn("invalid",l);break;case"textarea":is(l,b),E=Gs(l,b),yn("invalid",l);break;default:E=b}cn(p,E),J=E;for(T in J)if(J.hasOwnProperty(T)){var Z=J[T];T==="style"?qr(l,Z):T==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,Z!=null&&Tt(l,Z)):T==="children"?typeof Z=="string"?(p!=="textarea"||Z!=="")&&Ft(l,Z):typeof Z=="number"&&Ft(l,""+Z):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(i.hasOwnProperty(T)?Z!=null&&T==="onScroll"&&yn("scroll",l):Z!=null&&k(l,T,Z,$))}switch(p){case"input":rt(l),Ln(l,b,!1);break;case"textarea":rt(l),Ar(l);break;case"option":b.value!=null&&l.setAttribute("value",""+Fe(b.value));break;case"select":l.multiple=!!b.multiple,T=b.value,T!=null?Hn(l,!!b.multiple,T,!1):b.defaultValue!=null&&Hn(l,!!b.multiple,b.defaultValue,!0);break;default:typeof E.onClick=="function"&&(l.onclick=vp)}switch(p){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}}b&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return Mr(d),null;case 6:if(l&&d.stateNode!=null)ZE(l,d,l.memoizedProps,b);else{if(typeof b!="string"&&d.stateNode===null)throw Error(n(166));if(p=ic(tf.current),ic(sa.current),Ep(d)){if(b=d.stateNode,p=d.memoizedProps,b[ra]=d,(T=b.nodeValue!==p)&&(l=Ls,l!==null))switch(l.tag){case 3:yp(b.nodeValue,p,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&yp(b.nodeValue,p,(l.mode&1)!==0)}T&&(d.flags|=4)}else b=(p.nodeType===9?p:p.ownerDocument).createTextNode(b),b[ra]=d,d.stateNode=b}return Mr(d),null;case 13:if(vn(jn),b=d.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(bn&&Fs!==null&&(d.mode&1)!==0&&(d.flags&128)===0)nE(),Iu(),d.flags|=98560,T=!1;else if(T=Ep(d),b!==null&&b.dehydrated!==null){if(l===null){if(!T)throw Error(n(318));if(T=d.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(n(317));T[ra]=d}else Iu(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Mr(d),T=!1}else wi!==null&&(Sv(wi),wi=null),T=!0;if(!T)return d.flags&65536?d:null}return(d.flags&128)!==0?(d.lanes=p,d):(b=b!==null,b!==(l!==null&&l.memoizedState!==null)&&b&&(d.child.flags|=8192,(d.mode&1)!==0&&(l===null||(jn.current&1)!==0?sr===0&&(sr=3):Cv())),d.updateQueue!==null&&(d.flags|=4),Mr(d),null);case 4:return Du(),mv(l,d),l===null&&Gh(d.stateNode.containerInfo),Mr(d),null;case 10:return B0(d.type._context),Mr(d),null;case 17:return ds(d.type)&&wp(),Mr(d),null;case 19:if(vn(jn),T=d.memoizedState,T===null)return Mr(d),null;if(b=(d.flags&128)!==0,$=T.rendering,$===null)if(b)of(T,!1);else{if(sr!==0||l!==null&&(l.flags&128)!==0)for(l=d.child;l!==null;){if($=Ip(l),$!==null){for(d.flags|=128,of(T,!1),b=$.updateQueue,b!==null&&(d.updateQueue=b,d.flags|=4),d.subtreeFlags=0,b=p,p=d.child;p!==null;)T=p,l=b,T.flags&=14680066,$=T.alternate,$===null?(T.childLanes=0,T.lanes=l,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=$.childLanes,T.lanes=$.lanes,T.child=$.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=$.memoizedProps,T.memoizedState=$.memoizedState,T.updateQueue=$.updateQueue,T.type=$.type,l=$.dependencies,T.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),p=p.sibling;return fn(jn,jn.current&1|2),d.child}l=l.sibling}T.tail!==null&&He()>Uu&&(d.flags|=128,b=!0,of(T,!1),d.lanes=4194304)}else{if(!b)if(l=Ip($),l!==null){if(d.flags|=128,b=!0,p=l.updateQueue,p!==null&&(d.updateQueue=p,d.flags|=4),of(T,!0),T.tail===null&&T.tailMode==="hidden"&&!$.alternate&&!bn)return Mr(d),null}else 2*He()-T.renderingStartTime>Uu&&p!==1073741824&&(d.flags|=128,b=!0,of(T,!1),d.lanes=4194304);T.isBackwards?($.sibling=d.child,d.child=$):(p=T.last,p!==null?p.sibling=$:d.child=$,T.last=$)}return T.tail!==null?(d=T.tail,T.rendering=d,T.tail=d.sibling,T.renderingStartTime=He(),d.sibling=null,p=jn.current,fn(jn,b?p&1|2:p&1),d):(Mr(d),null);case 22:case 23:return kv(),b=d.memoizedState!==null,l!==null&&l.memoizedState!==null!==b&&(d.flags|=8192),b&&(d.mode&1)!==0?(Vs&1073741824)!==0&&(Mr(d),d.subtreeFlags&6&&(d.flags|=8192)):Mr(d),null;case 24:return null;case 25:return null}throw Error(n(156,d.tag))}function uU(l,d){switch(D0(d),d.tag){case 1:return ds(d.type)&&wp(),l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 3:return Du(),vn(us),vn(Pr),Q0(),l=d.flags,(l&65536)!==0&&(l&128)===0?(d.flags=l&-65537|128,d):null;case 5:return K0(d),null;case 13:if(vn(jn),l=d.memoizedState,l!==null&&l.dehydrated!==null){if(d.alternate===null)throw Error(n(340));Iu()}return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 19:return vn(jn),null;case 4:return Du(),null;case 10:return B0(d.type._context),null;case 22:case 23:return kv(),null;case 24:return null;default:return null}}var $p=!1,Dr=!1,dU=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function Fu(l,d){var p=l.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(b){Pn(l,d,b)}else p.current=null}function pv(l,d,p){try{p()}catch(b){Pn(l,d,b)}}var ek=!1;function hU(l,d){if(k0=za,l=IS(),v0(l)){if("selectionStart"in l)var p={start:l.selectionStart,end:l.selectionEnd};else e:{p=(p=l.ownerDocument)&&p.defaultView||window;var b=p.getSelection&&p.getSelection();if(b&&b.rangeCount!==0){p=b.anchorNode;var E=b.anchorOffset,T=b.focusNode;b=b.focusOffset;try{p.nodeType,T.nodeType}catch{p=null;break e}var $=0,J=-1,Z=-1,he=0,Se=0,Ae=l,Ne=null;t:for(;;){for(var qe;Ae!==p||E!==0&&Ae.nodeType!==3||(J=$+E),Ae!==T||b!==0&&Ae.nodeType!==3||(Z=$+b),Ae.nodeType===3&&($+=Ae.nodeValue.length),(qe=Ae.firstChild)!==null;)Ne=Ae,Ae=qe;for(;;){if(Ae===l)break t;if(Ne===p&&++he===E&&(J=$),Ne===T&&++Se===b&&(Z=$),(qe=Ae.nextSibling)!==null)break;Ae=Ne,Ne=Ae.parentNode}Ae=qe}p=J===-1||Z===-1?null:{start:J,end:Z}}else p=null}p=p||{start:0,end:0}}else p=null;for(C0={focusedElem:l,selectionRange:p},za=!1,Ke=d;Ke!==null;)if(d=Ke,l=d.child,(d.subtreeFlags&1028)!==0&&l!==null)l.return=d,Ke=l;else for(;Ke!==null;){d=Ke;try{var Qe=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if(Qe!==null){var tt=Qe.memoizedProps,Vn=Qe.memoizedState,oe=d.stateNode,ne=oe.getSnapshotBeforeUpdate(d.elementType===d.type?tt:ji(d.type,tt),Vn);oe.__reactInternalSnapshotBeforeUpdate=ne}break;case 3:var ce=d.stateNode.containerInfo;ce.nodeType===1?ce.textContent="":ce.nodeType===9&&ce.documentElement&&ce.removeChild(ce.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(De){Pn(d,d.return,De)}if(l=d.sibling,l!==null){l.return=d.return,Ke=l;break}Ke=d.return}return Qe=ek,ek=!1,Qe}function lf(l,d,p){var b=d.updateQueue;if(b=b!==null?b.lastEffect:null,b!==null){var E=b=b.next;do{if((E.tag&l)===l){var T=E.destroy;E.destroy=void 0,T!==void 0&&pv(d,p,T)}E=E.next}while(E!==b)}}function Bp(l,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&l)===l){var b=p.create;p.destroy=b()}p=p.next}while(p!==d)}}function gv(l){var d=l.ref;if(d!==null){var p=l.stateNode;switch(l.tag){case 5:l=p;break;default:l=p}typeof d=="function"?d(l):d.current=l}}function tk(l){var d=l.alternate;d!==null&&(l.alternate=null,tk(d)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(d=l.stateNode,d!==null&&(delete d[ra],delete d[Jh],delete d[I0],delete d[GV],delete d[QV])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function nk(l){return l.tag===5||l.tag===3||l.tag===4}function rk(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||nk(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function xv(l,d,p){var b=l.tag;if(b===5||b===6)l=l.stateNode,d?p.nodeType===8?p.parentNode.insertBefore(l,d):p.insertBefore(l,d):(p.nodeType===8?(d=p.parentNode,d.insertBefore(l,p)):(d=p,d.appendChild(l)),p=p._reactRootContainer,p!=null||d.onclick!==null||(d.onclick=vp));else if(b!==4&&(l=l.child,l!==null))for(xv(l,d,p),l=l.sibling;l!==null;)xv(l,d,p),l=l.sibling}function yv(l,d,p){var b=l.tag;if(b===5||b===6)l=l.stateNode,d?p.insertBefore(l,d):p.appendChild(l);else if(b!==4&&(l=l.child,l!==null))for(yv(l,d,p),l=l.sibling;l!==null;)yv(l,d,p),l=l.sibling}var jr=null,_i=!1;function Lo(l,d,p){for(p=p.child;p!==null;)sk(l,d,p),p=p.sibling}function sk(l,d,p){if(Rs&&typeof Rs.onCommitFiberUnmount=="function")try{Rs.onCommitFiberUnmount(Hl,p)}catch{}switch(p.tag){case 5:Dr||Fu(p,d);case 6:var b=jr,E=_i;jr=null,Lo(l,d,p),jr=b,_i=E,jr!==null&&(_i?(l=jr,p=p.stateNode,l.nodeType===8?l.parentNode.removeChild(p):l.removeChild(p)):jr.removeChild(p.stateNode));break;case 18:jr!==null&&(_i?(l=jr,p=p.stateNode,l.nodeType===8?R0(l.parentNode,p):l.nodeType===1&&R0(l,p),ko(l)):R0(jr,p.stateNode));break;case 4:b=jr,E=_i,jr=p.stateNode.containerInfo,_i=!0,Lo(l,d,p),jr=b,_i=E;break;case 0:case 11:case 14:case 15:if(!Dr&&(b=p.updateQueue,b!==null&&(b=b.lastEffect,b!==null))){E=b=b.next;do{var T=E,$=T.destroy;T=T.tag,$!==void 0&&((T&2)!==0||(T&4)!==0)&&pv(p,d,$),E=E.next}while(E!==b)}Lo(l,d,p);break;case 1:if(!Dr&&(Fu(p,d),b=p.stateNode,typeof b.componentWillUnmount=="function"))try{b.props=p.memoizedProps,b.state=p.memoizedState,b.componentWillUnmount()}catch(J){Pn(p,d,J)}Lo(l,d,p);break;case 21:Lo(l,d,p);break;case 22:p.mode&1?(Dr=(b=Dr)||p.memoizedState!==null,Lo(l,d,p),Dr=b):Lo(l,d,p);break;default:Lo(l,d,p)}}function ik(l){var d=l.updateQueue;if(d!==null){l.updateQueue=null;var p=l.stateNode;p===null&&(p=l.stateNode=new dU),d.forEach(function(b){var E=wU.bind(null,l,b);p.has(b)||(p.add(b),b.then(E,E))})}}function Ni(l,d){var p=d.deletions;if(p!==null)for(var b=0;b<p.length;b++){var E=p[b];try{var T=l,$=d,J=$;e:for(;J!==null;){switch(J.tag){case 5:jr=J.stateNode,_i=!1;break e;case 3:jr=J.stateNode.containerInfo,_i=!0;break e;case 4:jr=J.stateNode.containerInfo,_i=!0;break e}J=J.return}if(jr===null)throw Error(n(160));sk(T,$,E),jr=null,_i=!1;var Z=E.alternate;Z!==null&&(Z.return=null),E.return=null}catch(he){Pn(E,d,he)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)ak(d,l),d=d.sibling}function ak(l,d){var p=l.alternate,b=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(Ni(d,l),aa(l),b&4){try{lf(3,l,l.return),Bp(3,l)}catch(tt){Pn(l,l.return,tt)}try{lf(5,l,l.return)}catch(tt){Pn(l,l.return,tt)}}break;case 1:Ni(d,l),aa(l),b&512&&p!==null&&Fu(p,p.return);break;case 5:if(Ni(d,l),aa(l),b&512&&p!==null&&Fu(p,p.return),l.flags&32){var E=l.stateNode;try{Ft(E,"")}catch(tt){Pn(l,l.return,tt)}}if(b&4&&(E=l.stateNode,E!=null)){var T=l.memoizedProps,$=p!==null?p.memoizedProps:T,J=l.type,Z=l.updateQueue;if(l.updateQueue=null,Z!==null)try{J==="input"&&T.type==="radio"&&T.name!=null&&Xe(E,T),Tr(J,$);var he=Tr(J,T);for($=0;$<Z.length;$+=2){var Se=Z[$],Ae=Z[$+1];Se==="style"?qr(E,Ae):Se==="dangerouslySetInnerHTML"?Tt(E,Ae):Se==="children"?Ft(E,Ae):k(E,Se,Ae,he)}switch(J){case"input":It(E,T);break;case"textarea":Cr(E,T);break;case"select":var Ne=E._wrapperState.wasMultiple;E._wrapperState.wasMultiple=!!T.multiple;var qe=T.value;qe!=null?Hn(E,!!T.multiple,qe,!1):Ne!==!!T.multiple&&(T.defaultValue!=null?Hn(E,!!T.multiple,T.defaultValue,!0):Hn(E,!!T.multiple,T.multiple?[]:"",!1))}E[Jh]=T}catch(tt){Pn(l,l.return,tt)}}break;case 6:if(Ni(d,l),aa(l),b&4){if(l.stateNode===null)throw Error(n(162));E=l.stateNode,T=l.memoizedProps;try{E.nodeValue=T}catch(tt){Pn(l,l.return,tt)}}break;case 3:if(Ni(d,l),aa(l),b&4&&p!==null&&p.memoizedState.isDehydrated)try{ko(d.containerInfo)}catch(tt){Pn(l,l.return,tt)}break;case 4:Ni(d,l),aa(l);break;case 13:Ni(d,l),aa(l),E=l.child,E.flags&8192&&(T=E.memoizedState!==null,E.stateNode.isHidden=T,!T||E.alternate!==null&&E.alternate.memoizedState!==null||(wv=He())),b&4&&ik(l);break;case 22:if(Se=p!==null&&p.memoizedState!==null,l.mode&1?(Dr=(he=Dr)||Se,Ni(d,l),Dr=he):Ni(d,l),aa(l),b&8192){if(he=l.memoizedState!==null,(l.stateNode.isHidden=he)&&!Se&&(l.mode&1)!==0)for(Ke=l,Se=l.child;Se!==null;){for(Ae=Ke=Se;Ke!==null;){switch(Ne=Ke,qe=Ne.child,Ne.tag){case 0:case 11:case 14:case 15:lf(4,Ne,Ne.return);break;case 1:Fu(Ne,Ne.return);var Qe=Ne.stateNode;if(typeof Qe.componentWillUnmount=="function"){b=Ne,p=Ne.return;try{d=b,Qe.props=d.memoizedProps,Qe.state=d.memoizedState,Qe.componentWillUnmount()}catch(tt){Pn(b,p,tt)}}break;case 5:Fu(Ne,Ne.return);break;case 22:if(Ne.memoizedState!==null){ck(Ae);continue}}qe!==null?(qe.return=Ne,Ke=qe):ck(Ae)}Se=Se.sibling}e:for(Se=null,Ae=l;;){if(Ae.tag===5){if(Se===null){Se=Ae;try{E=Ae.stateNode,he?(T=E.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none"):(J=Ae.stateNode,Z=Ae.memoizedProps.style,$=Z!=null&&Z.hasOwnProperty("display")?Z.display:null,J.style.display=Wn("display",$))}catch(tt){Pn(l,l.return,tt)}}}else if(Ae.tag===6){if(Se===null)try{Ae.stateNode.nodeValue=he?"":Ae.memoizedProps}catch(tt){Pn(l,l.return,tt)}}else if((Ae.tag!==22&&Ae.tag!==23||Ae.memoizedState===null||Ae===l)&&Ae.child!==null){Ae.child.return=Ae,Ae=Ae.child;continue}if(Ae===l)break e;for(;Ae.sibling===null;){if(Ae.return===null||Ae.return===l)break e;Se===Ae&&(Se=null),Ae=Ae.return}Se===Ae&&(Se=null),Ae.sibling.return=Ae.return,Ae=Ae.sibling}}break;case 19:Ni(d,l),aa(l),b&4&&ik(l);break;case 21:break;default:Ni(d,l),aa(l)}}function aa(l){var d=l.flags;if(d&2){try{e:{for(var p=l.return;p!==null;){if(nk(p)){var b=p;break e}p=p.return}throw Error(n(160))}switch(b.tag){case 5:var E=b.stateNode;b.flags&32&&(Ft(E,""),b.flags&=-33);var T=rk(l);yv(l,T,E);break;case 3:case 4:var $=b.stateNode.containerInfo,J=rk(l);xv(l,J,$);break;default:throw Error(n(161))}}catch(Z){Pn(l,l.return,Z)}l.flags&=-3}d&4096&&(l.flags&=-4097)}function fU(l,d,p){Ke=l,ok(l)}function ok(l,d,p){for(var b=(l.mode&1)!==0;Ke!==null;){var E=Ke,T=E.child;if(E.tag===22&&b){var $=E.memoizedState!==null||$p;if(!$){var J=E.alternate,Z=J!==null&&J.memoizedState!==null||Dr;J=$p;var he=Dr;if($p=$,(Dr=Z)&&!he)for(Ke=E;Ke!==null;)$=Ke,Z=$.child,$.tag===22&&$.memoizedState!==null?uk(E):Z!==null?(Z.return=$,Ke=Z):uk(E);for(;T!==null;)Ke=T,ok(T),T=T.sibling;Ke=E,$p=J,Dr=he}lk(l)}else(E.subtreeFlags&8772)!==0&&T!==null?(T.return=E,Ke=T):lk(l)}}function lk(l){for(;Ke!==null;){var d=Ke;if((d.flags&8772)!==0){var p=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:Dr||Bp(5,d);break;case 1:var b=d.stateNode;if(d.flags&4&&!Dr)if(p===null)b.componentDidMount();else{var E=d.elementType===d.type?p.memoizedProps:ji(d.type,p.memoizedProps);b.componentDidUpdate(E,p.memoizedState,b.__reactInternalSnapshotBeforeUpdate)}var T=d.updateQueue;T!==null&&cE(d,T,b);break;case 3:var $=d.updateQueue;if($!==null){if(p=null,d.child!==null)switch(d.child.tag){case 5:p=d.child.stateNode;break;case 1:p=d.child.stateNode}cE(d,$,p)}break;case 5:var J=d.stateNode;if(p===null&&d.flags&4){p=J;var Z=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":Z.autoFocus&&p.focus();break;case"img":Z.src&&(p.src=Z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var he=d.alternate;if(he!==null){var Se=he.memoizedState;if(Se!==null){var Ae=Se.dehydrated;Ae!==null&&ko(Ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Dr||d.flags&512&&gv(d)}catch(Ne){Pn(d,d.return,Ne)}}if(d===l){Ke=null;break}if(p=d.sibling,p!==null){p.return=d.return,Ke=p;break}Ke=d.return}}function ck(l){for(;Ke!==null;){var d=Ke;if(d===l){Ke=null;break}var p=d.sibling;if(p!==null){p.return=d.return,Ke=p;break}Ke=d.return}}function uk(l){for(;Ke!==null;){var d=Ke;try{switch(d.tag){case 0:case 11:case 15:var p=d.return;try{Bp(4,d)}catch(Z){Pn(d,p,Z)}break;case 1:var b=d.stateNode;if(typeof b.componentDidMount=="function"){var E=d.return;try{b.componentDidMount()}catch(Z){Pn(d,E,Z)}}var T=d.return;try{gv(d)}catch(Z){Pn(d,T,Z)}break;case 5:var $=d.return;try{gv(d)}catch(Z){Pn(d,$,Z)}}}catch(Z){Pn(d,d.return,Z)}if(d===l){Ke=null;break}var J=d.sibling;if(J!==null){J.return=d.return,Ke=J;break}Ke=d.return}}var mU=Math.ceil,zp=C.ReactCurrentDispatcher,vv=C.ReactCurrentOwner,ni=C.ReactCurrentBatchConfig,Kt=0,hr=null,Gn=null,_r=0,Vs=0,Vu=Io(0),sr=0,cf=null,oc=0,qp=0,bv=0,uf=null,fs=null,wv=0,Uu=1/0,Za=null,Hp=!1,jv=null,Fo=null,Wp=!1,Vo=null,Kp=0,df=0,_v=null,Gp=-1,Qp=0;function Jr(){return(Kt&6)!==0?He():Gp!==-1?Gp:Gp=He()}function Uo(l){return(l.mode&1)===0?1:(Kt&2)!==0&&_r!==0?_r&-_r:YV.transition!==null?(Qp===0&&(Qp=Rh()),Qp):(l=$t,l!==0||(l=window.event,l=l===void 0?16:pu(l.type)),l)}function Si(l,d,p,b){if(50<df)throw df=0,_v=null,Error(n(185));Ql(l,p,b),((Kt&2)===0||l!==hr)&&(l===hr&&((Kt&2)===0&&(qp|=p),sr===4&&$o(l,_r)),ms(l,b),p===1&&Kt===0&&(d.mode&1)===0&&(Uu=He()+500,_p&&Oo()))}function ms(l,d){var p=l.callbackNode;Gl(l,d);var b=Ua(l,l===hr?_r:0);if(b===0)p!==null&&Js(p),l.callbackNode=null,l.callbackPriority=0;else if(d=b&-b,l.callbackPriority!==d){if(p!=null&&Js(p),d===1)l.tag===0?JV(hk.bind(null,l)):YS(hk.bind(null,l)),WV(function(){(Kt&6)===0&&Oo()}),p=null;else{switch(Ki(b)){case 1:p=Va;break;case 4:p=Ch;break;case 16:p=ql;break;case 536870912:p=uu;break;default:p=ql}p=bk(p,dk.bind(null,l))}l.callbackPriority=d,l.callbackNode=p}}function dk(l,d){if(Gp=-1,Qp=0,(Kt&6)!==0)throw Error(n(327));var p=l.callbackNode;if($u()&&l.callbackNode!==p)return null;var b=Ua(l,l===hr?_r:0);if(b===0)return null;if((b&30)!==0||(b&l.expiredLanes)!==0||d)d=Jp(l,b);else{d=b;var E=Kt;Kt|=2;var T=mk();(hr!==l||_r!==d)&&(Za=null,Uu=He()+500,cc(l,d));do try{xU();break}catch(J){fk(l,J)}while(!0);$0(),zp.current=T,Kt=E,Gn!==null?d=0:(hr=null,_r=0,d=sr)}if(d!==0){if(d===2&&(E=Th(l),E!==0&&(b=E,d=Nv(l,E))),d===1)throw p=cf,cc(l,0),$o(l,b),ms(l,He()),p;if(d===6)$o(l,b);else{if(E=l.current.alternate,(b&30)===0&&!pU(E)&&(d=Jp(l,b),d===2&&(T=Th(l),T!==0&&(b=T,d=Nv(l,T))),d===1))throw p=cf,cc(l,0),$o(l,b),ms(l,He()),p;switch(l.finishedWork=E,l.finishedLanes=b,d){case 0:case 1:throw Error(n(345));case 2:uc(l,fs,Za);break;case 3:if($o(l,b),(b&130023424)===b&&(d=wv+500-He(),10<d)){if(Ua(l,0)!==0)break;if(E=l.suspendedLanes,(E&b)!==b){Jr(),l.pingedLanes|=l.suspendedLanes&E;break}l.timeoutHandle=T0(uc.bind(null,l,fs,Za),d);break}uc(l,fs,Za);break;case 4:if($o(l,b),(b&4194240)===b)break;for(d=l.eventTimes,E=-1;0<b;){var $=31-Is(b);T=1<<$,$=d[$],$>E&&(E=$),b&=~T}if(b=E,b=He()-b,b=(120>b?120:480>b?480:1080>b?1080:1920>b?1920:3e3>b?3e3:4320>b?4320:1960*mU(b/1960))-b,10<b){l.timeoutHandle=T0(uc.bind(null,l,fs,Za),b);break}uc(l,fs,Za);break;case 5:uc(l,fs,Za);break;default:throw Error(n(329))}}}return ms(l,He()),l.callbackNode===p?dk.bind(null,l):null}function Nv(l,d){var p=uf;return l.current.memoizedState.isDehydrated&&(cc(l,d).flags|=256),l=Jp(l,d),l!==2&&(d=fs,fs=p,d!==null&&Sv(d)),l}function Sv(l){fs===null?fs=l:fs.push.apply(fs,l)}function pU(l){for(var d=l;;){if(d.flags&16384){var p=d.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var b=0;b<p.length;b++){var E=p[b],T=E.getSnapshot;E=E.value;try{if(!bi(T(),E))return!1}catch{return!1}}}if(p=d.child,d.subtreeFlags&16384&&p!==null)p.return=d,d=p;else{if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function $o(l,d){for(d&=~bv,d&=~qp,l.suspendedLanes|=d,l.pingedLanes&=~d,l=l.expirationTimes;0<d;){var p=31-Is(d),b=1<<p;l[p]=-1,d&=~b}}function hk(l){if((Kt&6)!==0)throw Error(n(327));$u();var d=Ua(l,0);if((d&1)===0)return ms(l,He()),null;var p=Jp(l,d);if(l.tag!==0&&p===2){var b=Th(l);b!==0&&(d=b,p=Nv(l,b))}if(p===1)throw p=cf,cc(l,0),$o(l,d),ms(l,He()),p;if(p===6)throw Error(n(345));return l.finishedWork=l.current.alternate,l.finishedLanes=d,uc(l,fs,Za),ms(l,He()),null}function Ev(l,d){var p=Kt;Kt|=1;try{return l(d)}finally{Kt=p,Kt===0&&(Uu=He()+500,_p&&Oo())}}function lc(l){Vo!==null&&Vo.tag===0&&(Kt&6)===0&&$u();var d=Kt;Kt|=1;var p=ni.transition,b=$t;try{if(ni.transition=null,$t=1,l)return l()}finally{$t=b,ni.transition=p,Kt=d,(Kt&6)===0&&Oo()}}function kv(){Vs=Vu.current,vn(Vu)}function cc(l,d){l.finishedWork=null,l.finishedLanes=0;var p=l.timeoutHandle;if(p!==-1&&(l.timeoutHandle=-1,HV(p)),Gn!==null)for(p=Gn.return;p!==null;){var b=p;switch(D0(b),b.tag){case 1:b=b.type.childContextTypes,b!=null&&wp();break;case 3:Du(),vn(us),vn(Pr),Q0();break;case 5:K0(b);break;case 4:Du();break;case 13:vn(jn);break;case 19:vn(jn);break;case 10:B0(b.type._context);break;case 22:case 23:kv()}p=p.return}if(hr=l,Gn=l=Bo(l.current,null),_r=Vs=d,sr=0,cf=null,bv=qp=oc=0,fs=uf=null,sc!==null){for(d=0;d<sc.length;d++)if(p=sc[d],b=p.interleaved,b!==null){p.interleaved=null;var E=b.next,T=p.pending;if(T!==null){var $=T.next;T.next=E,b.next=$}p.pending=b}sc=null}return l}function fk(l,d){do{var p=Gn;try{if($0(),Pp.current=Lp,Op){for(var b=_n.memoizedState;b!==null;){var E=b.queue;E!==null&&(E.pending=null),b=b.next}Op=!1}if(ac=0,dr=rr=_n=null,nf=!1,rf=0,vv.current=null,p===null||p.return===null){sr=1,cf=d,Gn=null;break}e:{var T=l,$=p.return,J=p,Z=d;if(d=_r,J.flags|=32768,Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var he=Z,Se=J,Ae=Se.tag;if((Se.mode&1)===0&&(Ae===0||Ae===11||Ae===15)){var Ne=Se.alternate;Ne?(Se.updateQueue=Ne.updateQueue,Se.memoizedState=Ne.memoizedState,Se.lanes=Ne.lanes):(Se.updateQueue=null,Se.memoizedState=null)}var qe=FE($);if(qe!==null){qe.flags&=-257,VE(qe,$,J,T,d),qe.mode&1&&LE(T,he,d),d=qe,Z=he;var Qe=d.updateQueue;if(Qe===null){var tt=new Set;tt.add(Z),d.updateQueue=tt}else Qe.add(Z);break e}else{if((d&1)===0){LE(T,he,d),Cv();break e}Z=Error(n(426))}}else if(bn&&J.mode&1){var Vn=FE($);if(Vn!==null){(Vn.flags&65536)===0&&(Vn.flags|=256),VE(Vn,$,J,T,d),V0(Lu(Z,J));break e}}T=Z=Lu(Z,J),sr!==4&&(sr=2),uf===null?uf=[T]:uf.push(T),T=$;do{switch(T.tag){case 3:T.flags|=65536,d&=-d,T.lanes|=d;var oe=ME(T,Z,d);lE(T,oe);break e;case 1:J=Z;var ne=T.type,ce=T.stateNode;if((T.flags&128)===0&&(typeof ne.getDerivedStateFromError=="function"||ce!==null&&typeof ce.componentDidCatch=="function"&&(Fo===null||!Fo.has(ce)))){T.flags|=65536,d&=-d,T.lanes|=d;var De=DE(T,J,d);lE(T,De);break e}}T=T.return}while(T!==null)}gk(p)}catch(st){d=st,Gn===p&&p!==null&&(Gn=p=p.return);continue}break}while(!0)}function mk(){var l=zp.current;return zp.current=Lp,l===null?Lp:l}function Cv(){(sr===0||sr===3||sr===2)&&(sr=4),hr===null||(oc&268435455)===0&&(qp&268435455)===0||$o(hr,_r)}function Jp(l,d){var p=Kt;Kt|=2;var b=mk();(hr!==l||_r!==d)&&(Za=null,cc(l,d));do try{gU();break}catch(E){fk(l,E)}while(!0);if($0(),Kt=p,zp.current=b,Gn!==null)throw Error(n(261));return hr=null,_r=0,sr}function gU(){for(;Gn!==null;)pk(Gn)}function xU(){for(;Gn!==null&&!cs();)pk(Gn)}function pk(l){var d=vk(l.alternate,l,Vs);l.memoizedProps=l.pendingProps,d===null?gk(l):Gn=d,vv.current=null}function gk(l){var d=l;do{var p=d.alternate;if(l=d.return,(d.flags&32768)===0){if(p=cU(p,d,Vs),p!==null){Gn=p;return}}else{if(p=uU(p,d),p!==null){p.flags&=32767,Gn=p;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{sr=6,Gn=null;return}}if(d=d.sibling,d!==null){Gn=d;return}Gn=d=l}while(d!==null);sr===0&&(sr=5)}function uc(l,d,p){var b=$t,E=ni.transition;try{ni.transition=null,$t=1,yU(l,d,p,b)}finally{ni.transition=E,$t=b}return null}function yU(l,d,p,b){do $u();while(Vo!==null);if((Kt&6)!==0)throw Error(n(327));p=l.finishedWork;var E=l.finishedLanes;if(p===null)return null;if(l.finishedWork=null,l.finishedLanes=0,p===l.current)throw Error(n(177));l.callbackNode=null,l.callbackPriority=0;var T=p.lanes|p.childLanes;if(m0(l,T),l===hr&&(Gn=hr=null,_r=0),(p.subtreeFlags&2064)===0&&(p.flags&2064)===0||Wp||(Wp=!0,bk(ql,function(){return $u(),null})),T=(p.flags&15990)!==0,(p.subtreeFlags&15990)!==0||T){T=ni.transition,ni.transition=null;var $=$t;$t=1;var J=Kt;Kt|=4,vv.current=null,hU(l,p),ak(p,l),FV(C0),za=!!k0,C0=k0=null,l.current=p,fU(p),wt(),Kt=J,$t=$,ni.transition=T}else l.current=p;if(Wp&&(Wp=!1,Vo=l,Kp=E),T=l.pendingLanes,T===0&&(Fo=null),rp(p.stateNode),ms(l,He()),d!==null)for(b=l.onRecoverableError,p=0;p<d.length;p++)E=d[p],b(E.value,{componentStack:E.stack,digest:E.digest});if(Hp)throw Hp=!1,l=jv,jv=null,l;return(Kp&1)!==0&&l.tag!==0&&$u(),T=l.pendingLanes,(T&1)!==0?l===_v?df++:(df=0,_v=l):df=0,Oo(),null}function $u(){if(Vo!==null){var l=Ki(Kp),d=ni.transition,p=$t;try{if(ni.transition=null,$t=16>l?16:l,Vo===null)var b=!1;else{if(l=Vo,Vo=null,Kp=0,(Kt&6)!==0)throw Error(n(331));var E=Kt;for(Kt|=4,Ke=l.current;Ke!==null;){var T=Ke,$=T.child;if((Ke.flags&16)!==0){var J=T.deletions;if(J!==null){for(var Z=0;Z<J.length;Z++){var he=J[Z];for(Ke=he;Ke!==null;){var Se=Ke;switch(Se.tag){case 0:case 11:case 15:lf(8,Se,T)}var Ae=Se.child;if(Ae!==null)Ae.return=Se,Ke=Ae;else for(;Ke!==null;){Se=Ke;var Ne=Se.sibling,qe=Se.return;if(tk(Se),Se===he){Ke=null;break}if(Ne!==null){Ne.return=qe,Ke=Ne;break}Ke=qe}}}var Qe=T.alternate;if(Qe!==null){var tt=Qe.child;if(tt!==null){Qe.child=null;do{var Vn=tt.sibling;tt.sibling=null,tt=Vn}while(tt!==null)}}Ke=T}}if((T.subtreeFlags&2064)!==0&&$!==null)$.return=T,Ke=$;else e:for(;Ke!==null;){if(T=Ke,(T.flags&2048)!==0)switch(T.tag){case 0:case 11:case 15:lf(9,T,T.return)}var oe=T.sibling;if(oe!==null){oe.return=T.return,Ke=oe;break e}Ke=T.return}}var ne=l.current;for(Ke=ne;Ke!==null;){$=Ke;var ce=$.child;if(($.subtreeFlags&2064)!==0&&ce!==null)ce.return=$,Ke=ce;else e:for($=ne;Ke!==null;){if(J=Ke,(J.flags&2048)!==0)try{switch(J.tag){case 0:case 11:case 15:Bp(9,J)}}catch(st){Pn(J,J.return,st)}if(J===$){Ke=null;break e}var De=J.sibling;if(De!==null){De.return=J.return,Ke=De;break e}Ke=J.return}}if(Kt=E,Oo(),Rs&&typeof Rs.onPostCommitFiberRoot=="function")try{Rs.onPostCommitFiberRoot(Hl,l)}catch{}b=!0}return b}finally{$t=p,ni.transition=d}}return!1}function xk(l,d,p){d=Lu(p,d),d=ME(l,d,1),l=Do(l,d,1),d=Jr(),l!==null&&(Ql(l,1,d),ms(l,d))}function Pn(l,d,p){if(l.tag===3)xk(l,l,p);else for(;d!==null;){if(d.tag===3){xk(d,l,p);break}else if(d.tag===1){var b=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(Fo===null||!Fo.has(b))){l=Lu(p,l),l=DE(d,l,1),d=Do(d,l,1),l=Jr(),d!==null&&(Ql(d,1,l),ms(d,l));break}}d=d.return}}function vU(l,d,p){var b=l.pingCache;b!==null&&b.delete(d),d=Jr(),l.pingedLanes|=l.suspendedLanes&p,hr===l&&(_r&p)===p&&(sr===4||sr===3&&(_r&130023424)===_r&&500>He()-wv?cc(l,0):bv|=p),ms(l,d)}function yk(l,d){d===0&&((l.mode&1)===0?d=1:(d=No,No<<=1,(No&130023424)===0&&(No=4194304)));var p=Jr();l=Ja(l,d),l!==null&&(Ql(l,d,p),ms(l,p))}function bU(l){var d=l.memoizedState,p=0;d!==null&&(p=d.retryLane),yk(l,p)}function wU(l,d){var p=0;switch(l.tag){case 13:var b=l.stateNode,E=l.memoizedState;E!==null&&(p=E.retryLane);break;case 19:b=l.stateNode;break;default:throw Error(n(314))}b!==null&&b.delete(d),yk(l,p)}var vk;vk=function(l,d,p){if(l!==null)if(l.memoizedProps!==d.pendingProps||us.current)hs=!0;else{if((l.lanes&p)===0&&(d.flags&128)===0)return hs=!1,lU(l,d,p);hs=(l.flags&131072)!==0}else hs=!1,bn&&(d.flags&1048576)!==0&&XS(d,Sp,d.index);switch(d.lanes=0,d.tag){case 2:var b=d.type;Up(l,d),l=d.pendingProps;var E=Au(d,Pr.current);Mu(d,p),E=X0(null,d,b,l,E,p);var T=Z0();return d.flags|=1,typeof E=="object"&&E!==null&&typeof E.render=="function"&&E.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,ds(b)?(T=!0,jp(d)):T=!1,d.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,H0(d),E.updater=Fp,d.stateNode=E,E._reactInternals=d,iv(d,b,l,p),d=cv(null,d,b,!0,T,p)):(d.tag=0,bn&&T&&M0(d),Qr(null,d,E,p),d=d.child),d;case 16:b=d.elementType;e:{switch(Up(l,d),l=d.pendingProps,E=b._init,b=E(b._payload),d.type=b,E=d.tag=_U(b),l=ji(b,l),E){case 0:d=lv(null,d,b,l,p);break e;case 1:d=HE(null,d,b,l,p);break e;case 11:d=UE(null,d,b,l,p);break e;case 14:d=$E(null,d,b,ji(b.type,l),p);break e}throw Error(n(306,b,""))}return d;case 0:return b=d.type,E=d.pendingProps,E=d.elementType===b?E:ji(b,E),lv(l,d,b,E,p);case 1:return b=d.type,E=d.pendingProps,E=d.elementType===b?E:ji(b,E),HE(l,d,b,E,p);case 3:e:{if(WE(d),l===null)throw Error(n(387));b=d.pendingProps,T=d.memoizedState,E=T.element,oE(l,d),Rp(d,b,null,p);var $=d.memoizedState;if(b=$.element,T.isDehydrated)if(T={element:b,isDehydrated:!1,cache:$.cache,pendingSuspenseBoundaries:$.pendingSuspenseBoundaries,transitions:$.transitions},d.updateQueue.baseState=T,d.memoizedState=T,d.flags&256){E=Lu(Error(n(423)),d),d=KE(l,d,b,p,E);break e}else if(b!==E){E=Lu(Error(n(424)),d),d=KE(l,d,b,p,E);break e}else for(Fs=Ro(d.stateNode.containerInfo.firstChild),Ls=d,bn=!0,wi=null,p=iE(d,null,b,p),d.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(Iu(),b===E){d=Xa(l,d,p);break e}Qr(l,d,b,p)}d=d.child}return d;case 5:return uE(d),l===null&&F0(d),b=d.type,E=d.pendingProps,T=l!==null?l.memoizedProps:null,$=E.children,A0(b,E)?$=null:T!==null&&A0(b,T)&&(d.flags|=32),qE(l,d),Qr(l,d,$,p),d.child;case 6:return l===null&&F0(d),null;case 13:return GE(l,d,p);case 4:return W0(d,d.stateNode.containerInfo),b=d.pendingProps,l===null?d.child=Pu(d,null,b,p):Qr(l,d,b,p),d.child;case 11:return b=d.type,E=d.pendingProps,E=d.elementType===b?E:ji(b,E),UE(l,d,b,E,p);case 7:return Qr(l,d,d.pendingProps,p),d.child;case 8:return Qr(l,d,d.pendingProps.children,p),d.child;case 12:return Qr(l,d,d.pendingProps.children,p),d.child;case 10:e:{if(b=d.type._context,E=d.pendingProps,T=d.memoizedProps,$=E.value,fn(Cp,b._currentValue),b._currentValue=$,T!==null)if(bi(T.value,$)){if(T.children===E.children&&!us.current){d=Xa(l,d,p);break e}}else for(T=d.child,T!==null&&(T.return=d);T!==null;){var J=T.dependencies;if(J!==null){$=T.child;for(var Z=J.firstContext;Z!==null;){if(Z.context===b){if(T.tag===1){Z=Ya(-1,p&-p),Z.tag=2;var he=T.updateQueue;if(he!==null){he=he.shared;var Se=he.pending;Se===null?Z.next=Z:(Z.next=Se.next,Se.next=Z),he.pending=Z}}T.lanes|=p,Z=T.alternate,Z!==null&&(Z.lanes|=p),z0(T.return,p,d),J.lanes|=p;break}Z=Z.next}}else if(T.tag===10)$=T.type===d.type?null:T.child;else if(T.tag===18){if($=T.return,$===null)throw Error(n(341));$.lanes|=p,J=$.alternate,J!==null&&(J.lanes|=p),z0($,p,d),$=T.sibling}else $=T.child;if($!==null)$.return=T;else for($=T;$!==null;){if($===d){$=null;break}if(T=$.sibling,T!==null){T.return=$.return,$=T;break}$=$.return}T=$}Qr(l,d,E.children,p),d=d.child}return d;case 9:return E=d.type,b=d.pendingProps.children,Mu(d,p),E=ei(E),b=b(E),d.flags|=1,Qr(l,d,b,p),d.child;case 14:return b=d.type,E=ji(b,d.pendingProps),E=ji(b.type,E),$E(l,d,b,E,p);case 15:return BE(l,d,d.type,d.pendingProps,p);case 17:return b=d.type,E=d.pendingProps,E=d.elementType===b?E:ji(b,E),Up(l,d),d.tag=1,ds(b)?(l=!0,jp(d)):l=!1,Mu(d,p),PE(d,b,E),iv(d,b,E,p),cv(null,d,b,!0,l,p);case 19:return JE(l,d,p);case 22:return zE(l,d,p)}throw Error(n(156,d.tag))};function bk(l,d){return qi(l,d)}function jU(l,d,p,b){this.tag=l,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ri(l,d,p,b){return new jU(l,d,p,b)}function Av(l){return l=l.prototype,!(!l||!l.isReactComponent)}function _U(l){if(typeof l=="function")return Av(l)?1:0;if(l!=null){if(l=l.$$typeof,l===D)return 11;if(l===ee)return 14}return 2}function Bo(l,d){var p=l.alternate;return p===null?(p=ri(l.tag,d,l.key,l.mode),p.elementType=l.elementType,p.type=l.type,p.stateNode=l.stateNode,p.alternate=l,l.alternate=p):(p.pendingProps=d,p.type=l.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=l.flags&14680064,p.childLanes=l.childLanes,p.lanes=l.lanes,p.child=l.child,p.memoizedProps=l.memoizedProps,p.memoizedState=l.memoizedState,p.updateQueue=l.updateQueue,d=l.dependencies,p.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},p.sibling=l.sibling,p.index=l.index,p.ref=l.ref,p}function Yp(l,d,p,b,E,T){var $=2;if(b=l,typeof l=="function")Av(l)&&($=1);else if(typeof l=="string")$=5;else e:switch(l){case A:return dc(p.children,E,T,d);case M:$=8,E|=8;break;case P:return l=ri(12,p,d,E|2),l.elementType=P,l.lanes=T,l;case V:return l=ri(13,p,d,E),l.elementType=V,l.lanes=T,l;case G:return l=ri(19,p,d,E),l.elementType=G,l.lanes=T,l;case ue:return Xp(p,E,T,d);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case F:$=10;break e;case L:$=9;break e;case D:$=11;break e;case ee:$=14;break e;case ae:$=16,b=null;break e}throw Error(n(130,l==null?l:typeof l,""))}return d=ri($,p,d,E),d.elementType=l,d.type=b,d.lanes=T,d}function dc(l,d,p,b){return l=ri(7,l,b,d),l.lanes=p,l}function Xp(l,d,p,b){return l=ri(22,l,b,d),l.elementType=ue,l.lanes=p,l.stateNode={isHidden:!1},l}function Tv(l,d,p){return l=ri(6,l,null,d),l.lanes=p,l}function Rv(l,d,p){return d=ri(4,l.children!==null?l.children:[],l.key,d),d.lanes=p,d.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},d}function NU(l,d,p,b,E){this.tag=d,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ih(0),this.expirationTimes=Ih(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ih(0),this.identifierPrefix=b,this.onRecoverableError=E,this.mutableSourceEagerHydrationData=null}function Iv(l,d,p,b,E,T,$,J,Z){return l=new NU(l,d,p,J,Z),d===1?(d=1,T===!0&&(d|=8)):d=0,T=ri(3,null,null,d),l.current=T,T.stateNode=l,T.memoizedState={element:b,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},H0(T),l}function SU(l,d,p){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:b==null?null:""+b,children:l,containerInfo:d,implementation:p}}function wk(l){if(!l)return Po;l=l._reactInternals;e:{if(vr(l)!==l||l.tag!==1)throw Error(n(170));var d=l;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(ds(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(n(171))}if(l.tag===1){var p=l.type;if(ds(p))return QS(l,p,d)}return d}function jk(l,d,p,b,E,T,$,J,Z){return l=Iv(p,b,!0,l,E,T,$,J,Z),l.context=wk(null),p=l.current,b=Jr(),E=Uo(p),T=Ya(b,E),T.callback=d??null,Do(p,T,E),l.current.lanes=E,Ql(l,E,b),ms(l,b),l}function Zp(l,d,p,b){var E=d.current,T=Jr(),$=Uo(E);return p=wk(p),d.context===null?d.context=p:d.pendingContext=p,d=Ya(T,$),d.payload={element:l},b=b===void 0?null:b,b!==null&&(d.callback=b),l=Do(E,d,$),l!==null&&(Si(l,E,$,T),Tp(l,E,$)),$}function eg(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function _k(l,d){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var p=l.retryLane;l.retryLane=p!==0&&p<d?p:d}}function Pv(l,d){_k(l,d),(l=l.alternate)&&_k(l,d)}function EU(){return null}var Nk=typeof reportError=="function"?reportError:function(l){console.error(l)};function Ov(l){this._internalRoot=l}tg.prototype.render=Ov.prototype.render=function(l){var d=this._internalRoot;if(d===null)throw Error(n(409));Zp(l,d,null,null)},tg.prototype.unmount=Ov.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var d=l.containerInfo;lc(function(){Zp(null,l,null,null)}),d[Wa]=null}};function tg(l){this._internalRoot=l}tg.prototype.unstable_scheduleHydration=function(l){if(l){var d=Dh();l={blockedOn:null,target:l,priority:d};for(var p=0;p<Ps.length&&d!==0&&d<Ps[p].priority;p++);Ps.splice(p,0,l),p===0&&fu(l)}};function Mv(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function ng(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function Sk(){}function kU(l,d,p,b,E){if(E){if(typeof b=="function"){var T=b;b=function(){var he=eg($);T.call(he)}}var $=jk(d,b,l,0,null,!1,!1,"",Sk);return l._reactRootContainer=$,l[Wa]=$.current,Gh(l.nodeType===8?l.parentNode:l),lc(),$}for(;E=l.lastChild;)l.removeChild(E);if(typeof b=="function"){var J=b;b=function(){var he=eg(Z);J.call(he)}}var Z=Iv(l,0,!1,null,null,!1,!1,"",Sk);return l._reactRootContainer=Z,l[Wa]=Z.current,Gh(l.nodeType===8?l.parentNode:l),lc(function(){Zp(d,Z,p,b)}),Z}function rg(l,d,p,b,E){var T=p._reactRootContainer;if(T){var $=T;if(typeof E=="function"){var J=E;E=function(){var Z=eg($);J.call(Z)}}Zp(d,$,l,E)}else $=kU(p,d,l,E,b);return eg($)}Oh=function(l){switch(l.tag){case 3:var d=l.stateNode;if(d.current.memoizedState.isDehydrated){var p=en(d.pendingLanes);p!==0&&(Ph(d,p|1),ms(d,He()),(Kt&6)===0&&(Uu=He()+500,Oo()))}break;case 13:lc(function(){var b=Ja(l,1);if(b!==null){var E=Jr();Si(b,l,1,E)}}),Pv(l,1)}},du=function(l){if(l.tag===13){var d=Ja(l,134217728);if(d!==null){var p=Jr();Si(d,l,134217728,p)}Pv(l,134217728)}},Mh=function(l){if(l.tag===13){var d=Uo(l),p=Ja(l,d);if(p!==null){var b=Jr();Si(p,l,d,b)}Pv(l,d)}},Dh=function(){return $t},Lh=function(l,d){var p=$t;try{return $t=l,d()}finally{$t=p}},et=function(l,d,p){switch(d){case"input":if(It(l,p),d=p.name,p.type==="radio"&&d!=null){for(p=l;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<p.length;d++){var b=p[d];if(b!==l&&b.form===l.form){var E=bp(b);if(!E)throw Error(n(90));de(b),It(b,E)}}}break;case"textarea":Cr(l,p);break;case"select":d=p.value,d!=null&&Hn(l,!!p.multiple,d,!1)}},La=Ev,$i=lc;var CU={usingClientEntryPoint:!1,Events:[Yh,ku,bp,dn,xn,Ev]},hf={findFiberByHostInstance:ec,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},AU={bundleType:hf.bundleType,version:hf.version,rendererPackageName:hf.rendererPackageName,rendererConfig:hf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=_o(l),l===null?null:l.stateNode},findFiberByHostInstance:hf.findFiberByHostInstance||EU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sg.isDisabled&&sg.supportsFiber)try{Hl=sg.inject(AU),Rs=sg}catch{}}return ps.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CU,ps.createPortal=function(l,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mv(d))throw Error(n(200));return SU(l,d,null,p)},ps.createRoot=function(l,d){if(!Mv(l))throw Error(n(299));var p=!1,b="",E=Nk;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(b=d.identifierPrefix),d.onRecoverableError!==void 0&&(E=d.onRecoverableError)),d=Iv(l,1,!1,null,null,p,!1,b,E),l[Wa]=d.current,Gh(l.nodeType===8?l.parentNode:l),new Ov(d)},ps.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var d=l._reactInternals;if(d===void 0)throw typeof l.render=="function"?Error(n(188)):(l=Object.keys(l).join(","),Error(n(268,l)));return l=_o(d),l=l===null?null:l.stateNode,l},ps.flushSync=function(l){return lc(l)},ps.hydrate=function(l,d,p){if(!ng(d))throw Error(n(200));return rg(null,l,d,!0,p)},ps.hydrateRoot=function(l,d,p){if(!Mv(l))throw Error(n(405));var b=p!=null&&p.hydratedSources||null,E=!1,T="",$=Nk;if(p!=null&&(p.unstable_strictMode===!0&&(E=!0),p.identifierPrefix!==void 0&&(T=p.identifierPrefix),p.onRecoverableError!==void 0&&($=p.onRecoverableError)),d=jk(d,null,l,1,p??null,E,!1,T,$),l[Wa]=d.current,Gh(l),b)for(l=0;l<b.length;l++)p=b[l],E=p._getVersion,E=E(p._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[p,E]:d.mutableSourceEagerHydrationData.push(p,E);return new tg(d)},ps.render=function(l,d,p){if(!ng(d))throw Error(n(200));return rg(null,l,d,!1,p)},ps.unmountComponentAtNode=function(l){if(!ng(l))throw Error(n(40));return l._reactRootContainer?(lc(function(){rg(null,null,l,!1,function(){l._reactRootContainer=null,l[Wa]=null})}),!0):!1},ps.unstable_batchedUpdates=Ev,ps.unstable_renderSubtreeIntoContainer=function(l,d,p,b){if(!ng(p))throw Error(n(200));if(l==null||l._reactInternals===void 0)throw Error(n(38));return rg(l,d,p,!1,b)},ps.version="18.3.1-next-f1338f8080-20240426",ps}var Ok;function SI(){if(Ok)return Vv.exports;Ok=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Vv.exports=LU(),Vv.exports}var Mk;function FU(){if(Mk)return ag;Mk=1;var t=SI();return ag.createRoot=t.createRoot,ag.hydrateRoot=t.hydrateRoot,ag}var VU=FU();const UU=nu(VU);/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Dk="popstate";function $U(t={}){function e(r,i){let{pathname:a,search:o,hash:c}=r.location;return Ew("",{pathname:a,search:o,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Xf(i)}return zU(e,n,null,t)}function Cn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function _a(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function BU(){return Math.random().toString(36).substring(2,10)}function Lk(t,e){return{usr:t.state,key:t.key,idx:e}}function Ew(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ah(e):e,state:n,key:e&&e.key||r||BU()}}function Xf({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ah(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function zU(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,c="POP",u=null,h=f();h==null&&(h=0,o.replaceState({...o.state,idx:h},""));function f(){return(o.state||{idx:null}).idx}function m(){c="POP";let j=f(),N=j==null?null:j-h;h=j,u&&u({action:c,location:w.location,delta:N})}function g(j,N){c="PUSH";let S=Ew(w.location,j,N);h=f()+1;let k=Lk(S,h),C=w.createHref(S);try{o.pushState(k,"",C)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(C)}a&&u&&u({action:c,location:w.location,delta:1})}function x(j,N){c="REPLACE";let S=Ew(w.location,j,N);h=f();let k=Lk(S,h),C=w.createHref(S);o.replaceState(k,"",C),a&&u&&u({action:c,location:w.location,delta:0})}function _(j){return qU(j)}let w={get action(){return c},get location(){return t(i,o)},listen(j){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Dk,m),u=j,()=>{i.removeEventListener(Dk,m),u=null}},createHref(j){return e(i,j)},createURL:_,encodeLocation(j){let N=_(j);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:g,replace:x,go(j){return o.go(j)}};return w}function qU(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Cn(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Xf(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function EI(t,e,n="/"){return HU(t,e,n,!1)}function HU(t,e,n,r){let i=typeof e=="string"?ah(e):e,a=uo(i.pathname||"/",n);if(a==null)return null;let o=kI(t);WU(o);let c=null;for(let u=0;c==null&&u<o.length;++u){let h=r$(a);c=t$(o[u],h,r)}return c}function kI(t,e=[],n=[],r="",i=!1){let a=(o,c,u=i,h)=>{let f={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(r)&&u)return;Cn(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length)}let m=lo([r,f.relativePath]),g=n.concat(f);o.children&&o.children.length>0&&(Cn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),kI(o.children,e,g,m,u)),!(o.path==null&&!o.index)&&e.push({path:m,score:ZU(m,o.index),routesMeta:g})};return t.forEach((o,c)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))a(o,c);else for(let h of CI(o.path))a(o,c,!0,h)}),e}function CI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=CI(r.join("/")),c=[];return c.push(...o.map(u=>u===""?a:[a,u].join("/"))),i&&c.push(...o),c.map(u=>t.startsWith("/")&&u===""?"/":u)}function WU(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:e$(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var KU=/^:[\w-]+$/,GU=3,QU=2,JU=1,YU=10,XU=-2,Fk=t=>t==="*";function ZU(t,e){let n=t.split("/"),r=n.length;return n.some(Fk)&&(r+=XU),e&&(r+=QU),n.filter(i=>!Fk(i)).reduce((i,a)=>i+(KU.test(a)?GU:a===""?JU:YU),r)}function e$(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function t$(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",o=[];for(let c=0;c<r.length;++c){let u=r[c],h=c===r.length-1,f=a==="/"?e:e.slice(a.length)||"/",m=vx({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},f),g=u.route;if(!m&&h&&n&&!r[r.length-1].route.index&&(m=vx({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!m)return null;Object.assign(i,m.params),o.push({params:i,pathname:lo([a,m.pathname]),pathnameBase:o$(lo([a,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(a=lo([a,m.pathnameBase]))}return o}function vx(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=n$(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((h,{paramName:f,isOptional:m},g)=>{if(f==="*"){let _=c[g]||"";o=a.slice(0,a.length-_.length).replace(/(.)\/+$/,"$1")}const x=c[g];return m&&!x?h[f]=void 0:h[f]=(x||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:o,pattern:t}}function n$(t,e=!1,n=!0){_a(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,u)=>(r.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function r$(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _a(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function uo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function s$(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ah(t):t;return{pathname:n?n.startsWith("/")?n:i$(n,e):e,search:l$(r),hash:c$(i)}}function i$(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Bv(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function a$(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function AI(t){let e=a$(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function TI(t,e,n,r=!1){let i;typeof t=="string"?i=ah(t):(i={...t},Cn(!i.pathname||!i.pathname.includes("?"),Bv("?","pathname","search",i)),Cn(!i.pathname||!i.pathname.includes("#"),Bv("#","pathname","hash",i)),Cn(!i.search||!i.search.includes("#"),Bv("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,c;if(o==null)c=n;else{let m=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),m-=1;i.pathname=g.join("/")}c=m>=0?e[m]:"/"}let u=s$(i,c),h=o&&o!=="/"&&o.endsWith("/"),f=(a||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||f)&&(u.pathname+="/"),u}var lo=t=>t.join("/").replace(/\/\/+/g,"/"),o$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),l$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,c$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function u$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var RI=["POST","PUT","PATCH","DELETE"];new Set(RI);var d$=["GET",...RI];new Set(d$);var oh=y.createContext(null);oh.displayName="DataRouter";var ly=y.createContext(null);ly.displayName="DataRouterState";y.createContext(!1);var II=y.createContext({isTransitioning:!1});II.displayName="ViewTransition";var h$=y.createContext(new Map);h$.displayName="Fetchers";var f$=y.createContext(null);f$.displayName="Await";var Ra=y.createContext(null);Ra.displayName="Navigation";var Am=y.createContext(null);Am.displayName="Location";var vo=y.createContext({outlet:null,matches:[],isDataRoute:!1});vo.displayName="Route";var D_=y.createContext(null);D_.displayName="RouteError";function m$(t,{relative:e}={}){Cn(Tm(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=y.useContext(Ra),{hash:i,pathname:a,search:o}=Rm(t,{relative:e}),c=a;return n!=="/"&&(c=a==="/"?n:lo([n,a])),r.createHref({pathname:c,search:o,hash:i})}function Tm(){return y.useContext(Am)!=null}function Ia(){return Cn(Tm(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(Am).location}var PI="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function OI(t){y.useContext(Ra).static||y.useLayoutEffect(t)}function nr(){let{isDataRoute:t}=y.useContext(vo);return t?k$():p$()}function p$(){Cn(Tm(),"useNavigate() may be used only in the context of a <Router> component.");let t=y.useContext(oh),{basename:e,navigator:n}=y.useContext(Ra),{matches:r}=y.useContext(vo),{pathname:i}=Ia(),a=JSON.stringify(AI(r)),o=y.useRef(!1);return OI(()=>{o.current=!0}),y.useCallback((u,h={})=>{if(_a(o.current,PI),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=TI(u,JSON.parse(a),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:lo([e,f.pathname])),(h.replace?n.replace:n.push)(f,h.state,h)},[e,n,a,i,t])}y.createContext(null);function Rm(t,{relative:e}={}){let{matches:n}=y.useContext(vo),{pathname:r}=Ia(),i=JSON.stringify(AI(n));return y.useMemo(()=>TI(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function g$(t,e){return MI(t,e)}function MI(t,e,n,r,i){var S;Cn(Tm(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=y.useContext(Ra),{matches:o}=y.useContext(vo),c=o[o.length-1],u=c?c.params:{},h=c?c.pathname:"/",f=c?c.pathnameBase:"/",m=c&&c.route;{let k=m&&m.path||"";DI(h,!m||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let g=Ia(),x;if(e){let k=typeof e=="string"?ah(e):e;Cn(f==="/"||((S=k.pathname)==null?void 0:S.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${k.pathname}" was given in the \`location\` prop.`),x=k}else x=g;let _=x.pathname||"/",w=_;if(f!=="/"){let k=f.replace(/^\//,"").split("/");w="/"+_.replace(/^\//,"").split("/").slice(k.length).join("/")}let j=EI(t,{pathname:w});_a(m||j!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),_a(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=w$(j&&j.map(k=>Object.assign({},k,{params:Object.assign({},u,k.params),pathname:lo([f,a.encodeLocation?a.encodeLocation(k.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?f:lo([f,a.encodeLocation?a.encodeLocation(k.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathnameBase])})),o,n,r,i);return e&&N?y.createElement(Am.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},N):N}function x$(){let t=E$(),e=u$(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=y.createElement(y.Fragment,null,y.createElement("p",null," Hey developer "),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:a},"ErrorBoundary")," or"," ",y.createElement("code",{style:a},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:i},n):null,o)}var y$=y.createElement(x$,null),v$=class extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?y.createElement(vo.Provider,{value:this.props.routeContext},y.createElement(D_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function b$({routeContext:t,match:e,children:n}){let r=y.useContext(oh);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),y.createElement(vo.Provider,{value:t},n)}function w$(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=n==null?void 0:n.errors;if(o!=null){let h=a.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);Cn(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,u=-1;if(n)for(let h=0;h<a.length;h++){let f=a[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:m,errors:g}=n,x=f.route.loader&&!m.hasOwnProperty(f.route.id)&&(!g||g[f.route.id]===void 0);if(f.route.lazy||x){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((h,f,m)=>{let g,x=!1,_=null,w=null;n&&(g=o&&f.route.id?o[f.route.id]:void 0,_=f.route.errorElement||y$,c&&(u<0&&m===0?(DI("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,w=null):u===m&&(x=!0,w=f.route.hydrateFallbackElement||null)));let j=e.concat(a.slice(0,m+1)),N=()=>{let S;return g?S=_:x?S=w:f.route.Component?S=y.createElement(f.route.Component,null):f.route.element?S=f.route.element:S=h,y.createElement(b$,{match:f,routeContext:{outlet:h,matches:j,isDataRoute:n!=null},children:S})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?y.createElement(v$,{location:n.location,revalidation:n.revalidation,component:_,error:g,children:N(),routeContext:{outlet:null,matches:j,isDataRoute:!0},unstable_onError:r}):N()},null)}function L_(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function j$(t){let e=y.useContext(oh);return Cn(e,L_(t)),e}function _$(t){let e=y.useContext(ly);return Cn(e,L_(t)),e}function N$(t){let e=y.useContext(vo);return Cn(e,L_(t)),e}function F_(t){let e=N$(t),n=e.matches[e.matches.length-1];return Cn(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function S$(){return F_("useRouteId")}function E$(){var r;let t=y.useContext(D_),e=_$("useRouteError"),n=F_("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function k$(){let{router:t}=j$("useNavigate"),e=F_("useNavigate"),n=y.useRef(!1);return OI(()=>{n.current=!0}),y.useCallback(async(i,a={})=>{_a(n.current,PI),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var Vk={};function DI(t,e,n){!e&&!Vk[t]&&(Vk[t]=!0,_a(!1,n))}y.memo(C$);function C$({routes:t,future:e,state:n,unstable_onError:r}){return MI(t,void 0,n,r,e)}function Ue(t){Cn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function A$({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){Cn(!Tm(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),c=y.useMemo(()=>({basename:o,navigator:i,static:a,future:{}}),[o,i,a]);typeof n=="string"&&(n=ah(n));let{pathname:u="/",search:h="",hash:f="",state:m=null,key:g="default"}=n,x=y.useMemo(()=>{let _=uo(u,o);return _==null?null:{location:{pathname:_,search:h,hash:f,state:m,key:g},navigationType:r}},[o,u,h,f,m,g,r]);return _a(x!=null,`<Router basename="${o}"> is not able to match the URL "${u}${h}${f}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:y.createElement(Ra.Provider,{value:c},y.createElement(Am.Provider,{children:e,value:x}))}function T$({children:t,location:e}){return g$(kw(t),e)}function kw(t,e=[]){let n=[];return y.Children.forEach(t,(r,i)=>{if(!y.isValidElement(r))return;let a=[...e,i];if(r.type===y.Fragment){n.push.apply(n,kw(r.props.children,a));return}Cn(r.type===Ue,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Cn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=kw(r.props.children,a)),n.push(o)}),n}var Kg="get",Gg="application/x-www-form-urlencoded";function cy(t){return t!=null&&typeof t.tagName=="string"}function R$(t){return cy(t)&&t.tagName.toLowerCase()==="button"}function I$(t){return cy(t)&&t.tagName.toLowerCase()==="form"}function P$(t){return cy(t)&&t.tagName.toLowerCase()==="input"}function O$(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function M$(t,e){return t.button===0&&(!e||e==="_self")&&!O$(t)}var og=null;function D$(){if(og===null)try{new FormData(document.createElement("form"),0),og=!1}catch{og=!0}return og}var L$=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zv(t){return t!=null&&!L$.has(t)?(_a(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Gg}"`),null):t}function F$(t,e){let n,r,i,a,o;if(I$(t)){let c=t.getAttribute("action");r=c?uo(c,e):null,n=t.getAttribute("method")||Kg,i=zv(t.getAttribute("enctype"))||Gg,a=new FormData(t)}else if(R$(t)||P$(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||c.getAttribute("action");if(r=u?uo(u,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||Kg,i=zv(t.getAttribute("formenctype"))||zv(c.getAttribute("enctype"))||Gg,a=new FormData(c,t),!D$()){let{name:h,type:f,value:m}=t;if(f==="image"){let g=h?`${h}.`:"";a.append(`${g}x`,"0"),a.append(`${g}y`,"0")}else h&&a.append(h,m)}}else{if(cy(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Kg,r=null,i=Gg,o=t}return a&&i==="text/plain"&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function V_(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function V$(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&uo(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function U$(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $$(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function B$(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let o=await U$(a,n);return o.links?o.links():[]}return[]}));return W$(r.flat(1).filter($$).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Uk(t,e,n,r,i,a){let o=(u,h)=>n[h]?u.route.id!==n[h].route.id:!0,c=(u,h)=>{var f;return n[h].pathname!==u.pathname||((f=n[h].route.path)==null?void 0:f.endsWith("*"))&&n[h].params["*"]!==u.params["*"]};return a==="assets"?e.filter((u,h)=>o(u,h)||c(u,h)):a==="data"?e.filter((u,h)=>{var m;let f=r.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(o(u,h)||c(u,h))return!0;if(u.route.shouldRevalidate){let g=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function z$(t,e,{includeHydrateFallback:n}={}){return q$(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function q$(t){return[...new Set(t)]}function H$(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function W$(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(H$(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function LI(){let t=y.useContext(oh);return V_(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function K$(){let t=y.useContext(ly);return V_(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var U_=y.createContext(void 0);U_.displayName="FrameworkContext";function FI(){let t=y.useContext(U_);return V_(t,"You must render this element inside a <HydratedRouter> element"),t}function G$(t,e){let n=y.useContext(U_),[r,i]=y.useState(!1),[a,o]=y.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:h,onMouseLeave:f,onTouchStart:m}=e,g=y.useRef(null);y.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let w=N=>{N.forEach(S=>{o(S.isIntersecting)})},j=new IntersectionObserver(w,{threshold:.5});return g.current&&j.observe(g.current),()=>{j.disconnect()}}},[t]),y.useEffect(()=>{if(r){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[r]);let x=()=>{i(!0)},_=()=>{i(!1),o(!1)};return n?t!=="intent"?[a,g,{}]:[a,g,{onFocus:mf(c,x),onBlur:mf(u,_),onMouseEnter:mf(h,x),onMouseLeave:mf(f,_),onTouchStart:mf(m,x)}]:[!1,g,{}]}function mf(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Q$({page:t,...e}){let{router:n}=LI(),r=y.useMemo(()=>EI(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?y.createElement(Y$,{page:t,matches:r,...e}):null}function J$(t){let{manifest:e,routeModules:n}=FI(),[r,i]=y.useState([]);return y.useEffect(()=>{let a=!1;return B$(t,e,n).then(o=>{a||i(o)}),()=>{a=!0}},[t,e,n]),r}function Y$({page:t,matches:e,...n}){let r=Ia(),{manifest:i,routeModules:a}=FI(),{basename:o}=LI(),{loaderData:c,matches:u}=K$(),h=y.useMemo(()=>Uk(t,e,u,i,r,"data"),[t,e,u,i,r]),f=y.useMemo(()=>Uk(t,e,u,i,r,"assets"),[t,e,u,i,r]),m=y.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let _=new Set,w=!1;if(e.forEach(N=>{var k;let S=i.routes[N.route.id];!S||!S.hasLoader||(!h.some(C=>C.route.id===N.route.id)&&N.route.id in c&&((k=a[N.route.id])!=null&&k.shouldRevalidate)||S.hasClientLoader?w=!0:_.add(N.route.id))}),_.size===0)return[];let j=V$(t,o,"data");return w&&_.size>0&&j.searchParams.set("_routes",e.filter(N=>_.has(N.route.id)).map(N=>N.route.id).join(",")),[j.pathname+j.search]},[o,c,r,i,h,e,t,a]),g=y.useMemo(()=>z$(f,i),[f,i]),x=J$(f);return y.createElement(y.Fragment,null,m.map(_=>y.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),g.map(_=>y.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),x.map(({key:_,link:w})=>y.createElement("link",{key:_,nonce:n.nonce,...w})))}function X$(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var VI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{VI&&(window.__reactRouterVersion="7.9.5")}catch{}function Z$({basename:t,children:e,window:n}){let r=y.useRef();r.current==null&&(r.current=$U({window:n,v5Compat:!0}));let i=r.current,[a,o]=y.useState({action:i.action,location:i.location}),c=y.useCallback(u=>{y.startTransition(()=>o(u))},[o]);return y.useLayoutEffect(()=>i.listen(c),[i,c]),y.createElement(A$,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var UI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mt=y.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:o,state:c,target:u,to:h,preventScrollReset:f,viewTransition:m,...g},x){let{basename:_}=y.useContext(Ra),w=typeof h=="string"&&UI.test(h),j,N=!1;if(typeof h=="string"&&w&&(j=h,VI))try{let P=new URL(window.location.href),F=h.startsWith("//")?new URL(P.protocol+h):new URL(h),L=uo(F.pathname,_);F.origin===P.origin&&L!=null?h=L+F.search+F.hash:N=!0}catch{_a(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=m$(h,{relative:i}),[k,C,R]=G$(r,g),O=rB(h,{replace:o,state:c,target:u,preventScrollReset:f,relative:i,viewTransition:m});function A(P){e&&e(P),P.defaultPrevented||O(P)}let M=y.createElement("a",{...g,...R,href:j||S,onClick:N||a?e:A,ref:X$(x,C),target:u,"data-discover":!w&&n==="render"?"true":void 0});return k&&!w?y.createElement(y.Fragment,null,M,y.createElement(Q$,{page:S})):M});Mt.displayName="Link";var eB=y.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:o,viewTransition:c,children:u,...h},f){let m=Rm(o,{relative:h.relative}),g=Ia(),x=y.useContext(ly),{navigator:_,basename:w}=y.useContext(Ra),j=x!=null&&lB(m)&&c===!0,N=_.encodeLocation?_.encodeLocation(m).pathname:m.pathname,S=g.pathname,k=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(S=S.toLowerCase(),k=k?k.toLowerCase():null,N=N.toLowerCase()),k&&w&&(k=uo(k,w)||k);const C=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let R=S===N||!i&&S.startsWith(N)&&S.charAt(C)==="/",O=k!=null&&(k===N||!i&&k.startsWith(N)&&k.charAt(N.length)==="/"),A={isActive:R,isPending:O,isTransitioning:j},M=R?e:void 0,P;typeof r=="function"?P=r(A):P=[r,R?"active":null,O?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let F=typeof a=="function"?a(A):a;return y.createElement(Mt,{...h,"aria-current":M,className:P,ref:f,style:F,to:o,viewTransition:c},typeof u=="function"?u(A):u)});eB.displayName="NavLink";var tB=y.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:o=Kg,action:c,onSubmit:u,relative:h,preventScrollReset:f,viewTransition:m,...g},x)=>{let _=aB(),w=oB(c,{relative:h}),j=o.toLowerCase()==="get"?"get":"post",N=typeof c=="string"&&UI.test(c),S=k=>{if(u&&u(k),k.defaultPrevented)return;k.preventDefault();let C=k.nativeEvent.submitter,R=(C==null?void 0:C.getAttribute("formmethod"))||o;_(C||k.currentTarget,{fetcherKey:e,method:R,navigate:n,replace:i,state:a,relative:h,preventScrollReset:f,viewTransition:m})};return y.createElement("form",{ref:x,method:j,action:w,onSubmit:r?u:S,...g,"data-discover":!N&&t==="render"?"true":void 0})});tB.displayName="Form";function nB(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $I(t){let e=y.useContext(oh);return Cn(e,nB(t)),e}function rB(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:o}={}){let c=nr(),u=Ia(),h=Rm(t,{relative:a});return y.useCallback(f=>{if(M$(f,e)){f.preventDefault();let m=n!==void 0?n:Xf(u)===Xf(h);c(t,{replace:m,state:r,preventScrollReset:i,relative:a,viewTransition:o})}},[u,c,h,n,r,e,t,i,a,o])}var sB=0,iB=()=>`__${String(++sB)}__`;function aB(){let{router:t}=$I("useSubmit"),{basename:e}=y.useContext(Ra),n=S$();return y.useCallback(async(r,i={})=>{let{action:a,method:o,encType:c,formData:u,body:h}=F$(r,e);if(i.navigate===!1){let f=i.fetcherKey||iB();await t.fetch(f,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:u,body:h,formMethod:i.method||o,formEncType:i.encType||c,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:u,body:h,formMethod:i.method||o,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function oB(t,{relative:e}={}){let{basename:n}=y.useContext(Ra),r=y.useContext(vo);Cn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Rm(t||".",{relative:e})},o=Ia();if(t==null){a.search=o.search;let c=new URLSearchParams(a.search),u=c.getAll("index");if(u.some(f=>f==="")){c.delete("index"),u.filter(m=>m).forEach(m=>c.append("index",m));let f=c.toString();a.search=f?`?${f}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:lo([n,a.pathname])),Xf(a)}function lB(t,{relative:e}={}){let n=y.useContext(II);Cn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=$I("useViewTransitionState"),i=Rm(t,{relative:e});if(!n.isTransitioning)return!1;let a=uo(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=uo(n.nextLocation.pathname,r)||n.nextLocation.pathname;return vx(i.pathname,o)!=null||vx(i.pathname,a)!=null}var Im=SI();const cB=nu(Im);function at(t){return"/"+t.toLowerCase().replace(/ /g,"-")}/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uB=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),BI=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var dB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hB=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...c},u)=>y.createElement("svg",{ref:u,...dB,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:BI("lucide",i),...c},[...o.map(([h,f])=>y.createElement(h,f)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=(t,e)=>{const n=y.forwardRef(({className:r,...i},a)=>y.createElement(hB,{ref:a,iconNode:e,className:BI(`lucide-${uB(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fB=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Pl=Ce("ArrowLeft",fB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],pB=Ce("ArrowRight",mB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gB=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Ud=Ce("Award",gB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xB=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],un=Ce("BookOpen",xB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yB=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],$k=Ce("Book",yB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vB=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],Na=Ce("Brain",vB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bB=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],uy=Ce("Calendar",bB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wB=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],jB=Ce("ChartColumn",wB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _B=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],NB=Ce("ChartNoAxesColumn",_B);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SB=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Zf=Ce("Check",SB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EB=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],em=Ce("ChevronDown",EB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kB=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],CB=Ce("ChevronLeft",kB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AB=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],dy=Ce("ChevronRight",AB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TB=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],zI=Ce("ChevronUp",TB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],$_=Ce("CircleAlert",RB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IB=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],bl=Ce("CircleCheckBig",IB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],lh=Ce("CircleCheck",PB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],MB=Ce("CircleHelp",OB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]],lg=Ce("CircleStop",DB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],hy=Ce("CircleX",LB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],B_=Ce("Circle",FB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],ul=Ce("Clock",VB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UB=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],$B=Ce("Copy",UB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Bk=Ce("Crown",BB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zB=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Pa=Ce("Download",zB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]],qI=Ce("Eraser",qB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HB=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],md=Ce("ExternalLink",HB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WB=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],KB=Ce("EyeOff",WB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GB=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],fy=Ce("Eye",GB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QB=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],z_=Ce("FileText",QB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],zk=Ce("Filter",JB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],wl=Ce("Gamepad2",YB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],HI=Ce("Gift",XB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],ez=Ce("GitBranch",ZB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],q_=Ce("Globe",tz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nz=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],bx=Ce("GraduationCap",nz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rz=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],sz=Ce("Hand",rz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iz=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],Wc=Ce("Headphones",iz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const az=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],ch=Ce("Heart",az);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oz=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],lz=Ce("House",oz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cz=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],ho=Ce("Image",cz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],qv=Ce("Info",uz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dz=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],hz=Ce("Lightbulb",dz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fz=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],dl=Ce("LoaderCircle",fz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mz=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],WI=Ce("Lock",mz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pz=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],Cw=Ce("LogIn",pz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gz=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Hv=Ce("LogOut",gz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xz=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],my=Ce("Mail",xz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yz=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],od=Ce("Medal",yz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vz=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],bz=Ce("Menu",vz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wz=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],jz=Ce("MessageCircle",wz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _z=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],wx=Ce("MessageSquare",_z);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nz=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],$d=Ce("Mic",Nz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sz=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],Ez=Ce("Moon",Sz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kz=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],Aw=Ce("Music",kz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cz=[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]],KI=Ce("Newspaper",Cz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Az=[["path",{d:"m14.622 17.897-10.68-2.913",key:"vj2p1u"}],["path",{d:"M18.376 2.622a1 1 0 1 1 3.002 3.002L17.36 9.643a.5.5 0 0 0 0 .707l.944.944a2.41 2.41 0 0 1 0 3.408l-.944.944a.5.5 0 0 1-.707 0L8.354 7.348a.5.5 0 0 1 0-.707l.944-.944a2.41 2.41 0 0 1 3.408 0l.944.944a.5.5 0 0 0 .707 0z",key:"18tc5c"}],["path",{d:"M9 8c-1.804 2.71-3.97 3.46-6.583 3.948a.507.507 0 0 0-.302.819l7.32 8.883a1 1 0 0 0 1.185.204C12.735 20.405 16 16.792 16 15",key:"ytzfxy"}]],Tz=Ce("Paintbrush",Az);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rz=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],H_=Ce("Palette",Rz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iz=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],bo=Ce("Pause",Iz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pz=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],Oz=Ce("PenLine",Pz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mz=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],tm=Ce("PenTool",Mz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dz=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Lz=Ce("Pencil",Dz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fz=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],er=Ce("Play",Fz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vz=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ws=Ce("Plus",Vz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],GI=Ce("Printer",Uz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $z=[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]],Tw=Ce("Radio",$z);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bz=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],W_=Ce("RefreshCw",Bz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],Wv=Ce("Repeat",zz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qz=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],jx=Ce("RotateCcw",qz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Sa=Ce("Save",Hz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Pi=Ce("Search",Wz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kz=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],_x=Ce("Send",Kz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gz=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Fc=Ce("Settings",Gz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qz=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ru=Ce("Shield",Qz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],Yz=Ce("Shuffle",Jz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],mi=Ce("Sparkles",Xz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zz=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],wo=Ce("SquarePen",Zz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e9=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],K_=Ce("Square",e9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t9=[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]],n9=Ce("StarOff",t9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r9=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ln=Ce("Star",r9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s9=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],i9=Ce("Sun",s9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a9=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],o9=Ce("Swords",a9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],QI=Ce("Target",l9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c9=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],xr=Ce("Trash2",c9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u9=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],JI=Ce("TrendingUp",u9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d9=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],G_=Ce("TriangleAlert",d9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h9=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],ns=Ce("Trophy",h9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f9=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Ea=Ce("Upload",f9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m9=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],qk=Ce("UserCheck",m9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p9=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Qg=Ce("UserPlus",p9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g9=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],YI=Ce("User",g9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x9=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Ol=Ce("Users",x9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y9=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Vc=Ce("Video",y9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v9=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Oi=Ce("Volume2",v9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b9=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],Bd=Ce("VolumeX",b9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w9=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Br=Ce("X",w9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j9=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],_9=Ce("Zap",j9),Q_=y.createContext({});function J_(t){const e=y.useRef(null);return e.current===null&&(e.current=t()),e.current}const Y_=typeof window<"u",XI=Y_?y.useLayoutEffect:y.useEffect,py=y.createContext(null);function X_(t,e){t.indexOf(e)===-1&&t.push(e)}function Z_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const fo=(t,e,n)=>n>e?e:n<t?t:n;let eN=()=>{};const mo={},ZI=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function eP(t){return typeof t=="object"&&t!==null}const tP=t=>/^0[^.\s]+$/u.test(t);function tN(t){let e;return()=>(e===void 0&&(e=t()),e)}const pi=t=>t,N9=(t,e)=>n=>e(t(n)),Pm=(...t)=>t.reduce(N9),nm=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class nN{constructor(){this.subscriptions=[]}add(e){return X_(this.subscriptions,e),()=>Z_(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ya=t=>t*1e3,hi=t=>t/1e3;function nP(t,e){return e?t*(1e3/e):0}const rP=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,S9=1e-7,E9=12;function k9(t,e,n,r,i){let a,o,c=0;do o=e+(n-e)/2,a=rP(o,r,i)-t,a>0?n=o:e=o;while(Math.abs(a)>S9&&++c<E9);return o}function Om(t,e,n,r){if(t===e&&n===r)return pi;const i=a=>k9(a,0,1,t,n);return a=>a===0||a===1?a:rP(i(a),e,r)}const sP=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,iP=t=>e=>1-t(1-e),aP=Om(.33,1.53,.69,.99),rN=iP(aP),oP=sP(rN),lP=t=>(t*=2)<1?.5*rN(t):.5*(2-Math.pow(2,-10*(t-1))),sN=t=>1-Math.sin(Math.acos(t)),cP=iP(sN),uP=sP(sN),C9=Om(.42,0,1,1),A9=Om(0,0,.58,1),dP=Om(.42,0,.58,1),T9=t=>Array.isArray(t)&&typeof t[0]!="number",hP=t=>Array.isArray(t)&&typeof t[0]=="number",R9={linear:pi,easeIn:C9,easeInOut:dP,easeOut:A9,circIn:sN,circInOut:uP,circOut:cP,backIn:rN,backInOut:oP,backOut:aP,anticipate:lP},I9=t=>typeof t=="string",Hk=t=>{if(hP(t)){eN(t.length===4);const[e,n,r,i]=t;return Om(e,n,r,i)}else if(I9(t))return R9[t];return t},cg=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function P9(t,e){let n=new Set,r=new Set,i=!1,a=!1;const o=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function u(f){o.has(f)&&(h.schedule(f),t()),f(c)}const h={schedule:(f,m=!1,g=!1)=>{const _=g&&i?n:r;return m&&o.add(f),_.has(f)||_.add(f),f},cancel:f=>{r.delete(f),o.delete(f)},process:f=>{if(c=f,i){a=!0;return}i=!0,[n,r]=[r,n],n.forEach(u),n.clear(),i=!1,a&&(a=!1,h.process(f))}};return h}const O9=40;function fP(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=cg.reduce((k,C)=>(k[C]=P9(a),k),{}),{setup:c,read:u,resolveKeyframes:h,preUpdate:f,update:m,preRender:g,render:x,postRender:_}=o,w=()=>{const k=mo.useManualTiming?i.timestamp:performance.now();n=!1,mo.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(k-i.timestamp,O9),1)),i.timestamp=k,i.isProcessing=!0,c.process(i),u.process(i),h.process(i),f.process(i),m.process(i),g.process(i),x.process(i),_.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(w))},j=()=>{n=!0,r=!0,i.isProcessing||t(w)};return{schedule:cg.reduce((k,C)=>{const R=o[C];return k[C]=(O,A=!1,M=!1)=>(n||j(),R.schedule(O,A,M)),k},{}),cancel:k=>{for(let C=0;C<cg.length;C++)o[cg[C]].cancel(k)},state:i,steps:o}}const{schedule:wn,cancel:jl,state:Sr,steps:Kv}=fP(typeof requestAnimationFrame<"u"?requestAnimationFrame:pi,!0);let Jg;function M9(){Jg=void 0}const ws={now:()=>(Jg===void 0&&ws.set(Sr.isProcessing||mo.useManualTiming?Sr.timestamp:performance.now()),Jg),set:t=>{Jg=t,queueMicrotask(M9)}},mP=t=>e=>typeof e=="string"&&e.startsWith(t),iN=mP("--"),D9=mP("var(--"),aN=t=>D9(t)?L9.test(t.split("/*")[0].trim()):!1,L9=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,uh={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},rm={...uh,transform:t=>fo(0,1,t)},ug={...uh,default:1},Of=t=>Math.round(t*1e5)/1e5,oN=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function F9(t){return t==null}const V9=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,lN=(t,e)=>n=>!!(typeof n=="string"&&V9.test(n)&&n.startsWith(t)||e&&!F9(n)&&Object.prototype.hasOwnProperty.call(n,e)),pP=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,a,o,c]=r.match(oN);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(o),alpha:c!==void 0?parseFloat(c):1}},U9=t=>fo(0,255,t),Gv={...uh,transform:t=>Math.round(U9(t))},jc={test:lN("rgb","red"),parse:pP("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Gv.transform(t)+", "+Gv.transform(e)+", "+Gv.transform(n)+", "+Of(rm.transform(r))+")"};function $9(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Rw={test:lN("#"),parse:$9,transform:jc.transform},Mm=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Qo=Mm("deg"),va=Mm("%"),vt=Mm("px"),B9=Mm("vh"),z9=Mm("vw"),Wk={...va,parse:t=>va.parse(t)/100,transform:t=>va.transform(t*100)},ld={test:lN("hsl","hue"),parse:pP("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+va.transform(Of(e))+", "+va.transform(Of(n))+", "+Of(rm.transform(r))+")"},Xn={test:t=>jc.test(t)||Rw.test(t)||ld.test(t),parse:t=>jc.test(t)?jc.parse(t):ld.test(t)?ld.parse(t):Rw.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?jc.transform(t):ld.transform(t),getAnimatableNone:t=>{const e=Xn.parse(t);return e.alpha=0,Xn.transform(e)}},q9=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function H9(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(oN))==null?void 0:e.length)||0)+(((n=t.match(q9))==null?void 0:n.length)||0)>0}const gP="number",xP="color",W9="var",K9="var(",Kk="${}",G9=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function sm(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const c=e.replace(G9,u=>(Xn.test(u)?(r.color.push(a),i.push(xP),n.push(Xn.parse(u))):u.startsWith(K9)?(r.var.push(a),i.push(W9),n.push(u)):(r.number.push(a),i.push(gP),n.push(parseFloat(u))),++a,Kk)).split(Kk);return{values:n,split:c,indexes:r,types:i}}function yP(t){return sm(t).values}function vP(t){const{split:e,types:n}=sm(t),r=e.length;return i=>{let a="";for(let o=0;o<r;o++)if(a+=e[o],i[o]!==void 0){const c=n[o];c===gP?a+=Of(i[o]):c===xP?a+=Xn.transform(i[o]):a+=i[o]}return a}}const Q9=t=>typeof t=="number"?0:Xn.test(t)?Xn.getAnimatableNone(t):t;function J9(t){const e=yP(t);return vP(t)(e.map(Q9))}const _l={test:H9,parse:yP,createTransformer:vP,getAnimatableNone:J9};function Qv(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Y9({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,a=0,o=0;if(!e)i=a=o=n;else{const c=n<.5?n*(1+e):n+e-n*e,u=2*n-c;i=Qv(u,c,t+1/3),a=Qv(u,c,t),o=Qv(u,c,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}function Nx(t,e){return n=>n>0?e:t}const En=(t,e,n)=>t+(e-t)*n,Jv=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},X9=[Rw,jc,ld],Z9=t=>X9.find(e=>e.test(t));function Gk(t){const e=Z9(t);if(!e)return!1;let n=e.parse(t);return e===ld&&(n=Y9(n)),n}const Qk=(t,e)=>{const n=Gk(t),r=Gk(e);if(!n||!r)return Nx(t,e);const i={...n};return a=>(i.red=Jv(n.red,r.red,a),i.green=Jv(n.green,r.green,a),i.blue=Jv(n.blue,r.blue,a),i.alpha=En(n.alpha,r.alpha,a),jc.transform(i))},Iw=new Set(["none","hidden"]);function e8(t,e){return Iw.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function t8(t,e){return n=>En(t,e,n)}function cN(t){return typeof t=="number"?t8:typeof t=="string"?aN(t)?Nx:Xn.test(t)?Qk:s8:Array.isArray(t)?bP:typeof t=="object"?Xn.test(t)?Qk:n8:Nx}function bP(t,e){const n=[...t],r=n.length,i=t.map((a,o)=>cN(a)(a,e[o]));return a=>{for(let o=0;o<r;o++)n[o]=i[o](a);return n}}function n8(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=cN(t[i])(t[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function r8(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],o=t.indexes[a][r[a]],c=t.values[o]??0;n[i]=c,r[a]++}return n}const s8=(t,e)=>{const n=_l.createTransformer(e),r=sm(t),i=sm(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Iw.has(t)&&!i.values.length||Iw.has(e)&&!r.values.length?e8(t,e):Pm(bP(r8(r,i),i.values),n):Nx(t,e)};function wP(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?En(t,e,n):cN(t)(t,e)}const i8=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>wn.update(e,n),stop:()=>jl(e),now:()=>Sr.isProcessing?Sr.timestamp:ws.now()}},jP=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)r+=Math.round(t(a/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Sx=2e4;function uN(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Sx;)e+=n,r=t.next(e);return e>=Sx?1/0:e}function a8(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(uN(r),Sx);return{type:"keyframes",ease:a=>r.next(i*a).value/e,duration:hi(i)}}const o8=5;function _P(t,e,n){const r=Math.max(e-o8,0);return nP(n-t(r),e-r)}const Mn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Yv=.001;function l8({duration:t=Mn.duration,bounce:e=Mn.bounce,velocity:n=Mn.velocity,mass:r=Mn.mass}){let i,a,o=1-e;o=fo(Mn.minDamping,Mn.maxDamping,o),t=fo(Mn.minDuration,Mn.maxDuration,hi(t)),o<1?(i=h=>{const f=h*o,m=f*t,g=f-n,x=Pw(h,o),_=Math.exp(-m);return Yv-g/x*_},a=h=>{const m=h*o*t,g=m*n+n,x=Math.pow(o,2)*Math.pow(h,2)*t,_=Math.exp(-m),w=Pw(Math.pow(h,2),o);return(-i(h)+Yv>0?-1:1)*((g-x)*_)/w}):(i=h=>{const f=Math.exp(-h*t),m=(h-n)*t+1;return-Yv+f*m},a=h=>{const f=Math.exp(-h*t),m=(n-h)*(t*t);return f*m});const c=5/t,u=u8(i,a,c);if(t=ya(t),isNaN(u))return{stiffness:Mn.stiffness,damping:Mn.damping,duration:t};{const h=Math.pow(u,2)*r;return{stiffness:h,damping:o*2*Math.sqrt(r*h),duration:t}}}const c8=12;function u8(t,e,n){let r=n;for(let i=1;i<c8;i++)r=r-t(r)/e(r);return r}function Pw(t,e){return t*Math.sqrt(1-e*e)}const d8=["duration","bounce"],h8=["stiffness","damping","mass"];function Jk(t,e){return e.some(n=>t[n]!==void 0)}function f8(t){let e={velocity:Mn.velocity,stiffness:Mn.stiffness,damping:Mn.damping,mass:Mn.mass,isResolvedFromDuration:!1,...t};if(!Jk(t,h8)&&Jk(t,d8))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*fo(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Mn.mass,stiffness:i,damping:a}}else{const n=l8(t);e={...e,...n,mass:Mn.mass},e.isResolvedFromDuration=!0}return e}function Ex(t=Mn.visualDuration,e=Mn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],c={done:!1,value:a},{stiffness:u,damping:h,mass:f,duration:m,velocity:g,isResolvedFromDuration:x}=f8({...n,velocity:-hi(n.velocity||0)}),_=g||0,w=h/(2*Math.sqrt(u*f)),j=o-a,N=hi(Math.sqrt(u/f)),S=Math.abs(j)<5;r||(r=S?Mn.restSpeed.granular:Mn.restSpeed.default),i||(i=S?Mn.restDelta.granular:Mn.restDelta.default);let k;if(w<1){const R=Pw(N,w);k=O=>{const A=Math.exp(-w*N*O);return o-A*((_+w*N*j)/R*Math.sin(R*O)+j*Math.cos(R*O))}}else if(w===1)k=R=>o-Math.exp(-N*R)*(j+(_+N*j)*R);else{const R=N*Math.sqrt(w*w-1);k=O=>{const A=Math.exp(-w*N*O),M=Math.min(R*O,300);return o-A*((_+w*N*j)*Math.sinh(M)+R*j*Math.cosh(M))/R}}const C={calculatedDuration:x&&m||null,next:R=>{const O=k(R);if(x)c.done=R>=m;else{let A=R===0?_:0;w<1&&(A=R===0?ya(_):_P(k,R,O));const M=Math.abs(A)<=r,P=Math.abs(o-O)<=i;c.done=M&&P}return c.value=c.done?o:O,c},toString:()=>{const R=Math.min(uN(C),Sx),O=jP(A=>C.next(R*A).value,R,30);return R+"ms "+O},toTransition:()=>{}};return C}Ex.applyToOptions=t=>{const e=a8(t,100,Ex);return t.ease=e.ease,t.duration=ya(e.duration),t.type="keyframes",t};function Ow({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:c,max:u,restDelta:h=.5,restSpeed:f}){const m=t[0],g={done:!1,value:m},x=M=>c!==void 0&&M<c||u!==void 0&&M>u,_=M=>c===void 0?u:u===void 0||Math.abs(c-M)<Math.abs(u-M)?c:u;let w=n*e;const j=m+w,N=o===void 0?j:o(j);N!==j&&(w=N-m);const S=M=>-w*Math.exp(-M/r),k=M=>N+S(M),C=M=>{const P=S(M),F=k(M);g.done=Math.abs(P)<=h,g.value=g.done?N:F};let R,O;const A=M=>{x(g.value)&&(R=M,O=Ex({keyframes:[g.value,_(g.value)],velocity:_P(k,M,g.value),damping:i,stiffness:a,restDelta:h,restSpeed:f}))};return A(0),{calculatedDuration:null,next:M=>{let P=!1;return!O&&R===void 0&&(P=!0,C(M),A(M)),R!==void 0&&M>=R?O.next(M-R):(!P&&C(M),g)}}}function m8(t,e,n){const r=[],i=n||mo.mix||wP,a=t.length-1;for(let o=0;o<a;o++){let c=i(t[o],t[o+1]);if(e){const u=Array.isArray(e)?e[o]||pi:e;c=Pm(u,c)}r.push(c)}return r}function p8(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;if(eN(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=m8(e,r,i),u=c.length,h=f=>{if(o&&f<t[0])return e[0];let m=0;if(u>1)for(;m<t.length-2&&!(f<t[m+1]);m++);const g=nm(t[m],t[m+1],f);return c[m](g)};return n?f=>h(fo(t[0],t[a-1],f)):h}function g8(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=nm(0,e,r);t.push(En(n,1,i))}}function x8(t){const e=[0];return g8(e,t.length-1),e}function y8(t,e){return t.map(n=>n*e)}function v8(t,e){return t.map(()=>e||dP).splice(0,t.length-1)}function Mf({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=T9(r)?r.map(Hk):Hk(r),a={done:!1,value:e[0]},o=y8(n&&n.length===e.length?n:x8(e),t),c=p8(o,e,{ease:Array.isArray(i)?i:v8(e,i)});return{calculatedDuration:t,next:u=>(a.value=c(u),a.done=u>=t,a)}}const b8=t=>t!==null;function dN(t,{repeat:e,repeatType:n="loop"},r,i=1){const a=t.filter(b8),c=i<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!c||r===void 0?a[c]:r}const w8={decay:Ow,inertia:Ow,tween:Mf,keyframes:Mf,spring:Ex};function NP(t){typeof t.type=="string"&&(t.type=w8[t.type])}class hN{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const j8=t=>t/100;class fN extends hN{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==ws.now()&&this.tick(ws.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;NP(e);const{type:n=Mf,repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=e;let{keyframes:c}=e;const u=n||Mf;u!==Mf&&typeof c[0]!="number"&&(this.mixKeyframes=Pm(j8,wP(c[0],c[1])),c=[0,100]);const h=u({...e,keyframes:c});a==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...c].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=uN(h));const{calculatedDuration:f}=h;this.calculatedDuration=f,this.resolvedDuration=f+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=h}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:c,calculatedDuration:u}=this;if(this.startTime===null)return r.next(0);const{delay:h=0,keyframes:f,repeat:m,repeatType:g,repeatDelay:x,type:_,onUpdate:w,finalKeyframe:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const N=this.currentTime-h*(this.playbackSpeed>=0?1:-1),S=this.playbackSpeed>=0?N<0:N>i;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let k=this.currentTime,C=r;if(m){const M=Math.min(this.currentTime,i)/c;let P=Math.floor(M),F=M%1;!F&&M>=1&&(F=1),F===1&&P--,P=Math.min(P,m+1),!!(P%2)&&(g==="reverse"?(F=1-F,x&&(F-=x/c)):g==="mirror"&&(C=o)),k=fo(0,1,F)*c}const R=S?{done:!1,value:f[0]}:C.next(k);a&&(R.value=a(R.value));let{done:O}=R;!S&&u!==null&&(O=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return A&&_!==Ow&&(R.value=dN(f,this.options,j,this.speed)),w&&w(R.value),A&&this.finish(),R}then(e,n){return this.finished.then(e,n)}get duration(){return hi(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+hi(e)}get time(){return hi(this.currentTime)}set time(e){var n;e=ya(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ws.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=hi(this.currentTime))}play(){var i,a;if(this.isStopped)return;const{driver:e=i8,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(a=(i=this.options).onPlay)==null||a.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ws.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function _8(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const _c=t=>t*180/Math.PI,Mw=t=>{const e=_c(Math.atan2(t[1],t[0]));return Dw(e)},N8={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Mw,rotateZ:Mw,skewX:t=>_c(Math.atan(t[1])),skewY:t=>_c(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Dw=t=>(t=t%360,t<0&&(t+=360),t),Yk=Mw,Xk=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Zk=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),S8={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Xk,scaleY:Zk,scale:t=>(Xk(t)+Zk(t))/2,rotateX:t=>Dw(_c(Math.atan2(t[6],t[5]))),rotateY:t=>Dw(_c(Math.atan2(-t[2],t[0]))),rotateZ:Yk,rotate:Yk,skewX:t=>_c(Math.atan(t[4])),skewY:t=>_c(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Lw(t){return t.includes("scale")?1:0}function Fw(t,e){if(!t||t==="none")return Lw(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=S8,i=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=N8,i=c}if(!i)return Lw(e);const a=r[e],o=i[1].split(",").map(k8);return typeof a=="function"?a(o):o[a]}const E8=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Fw(n,e)};function k8(t){return parseFloat(t.trim())}const dh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],hh=new Set(dh),eC=t=>t===uh||t===vt,C8=new Set(["x","y","z"]),A8=dh.filter(t=>!C8.has(t));function T8(t){const e=[];return A8.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Uc={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Fw(e,"x"),y:(t,{transform:e})=>Fw(e,"y")};Uc.translateX=Uc.x;Uc.translateY=Uc.y;const $c=new Set;let Vw=!1,Uw=!1,$w=!1;function SP(){if(Uw){const t=Array.from($c).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=T8(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,o])=>{var c;(c=r.getValue(a))==null||c.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Uw=!1,Vw=!1,$c.forEach(t=>t.complete($w)),$c.clear()}function EP(){$c.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Uw=!0)})}function R8(){$w=!0,EP(),SP(),$w=!1}class mN{constructor(e,n,r,i,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?($c.add(this),Vw||(Vw=!0,wn.read(EP),wn.resolveKeyframes(SP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const a=i==null?void 0:i.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const c=r.readValue(n,o);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=o),i&&a===void 0&&i.set(e[0])}_8(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),$c.delete(this)}cancel(){this.state==="scheduled"&&($c.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const I8=t=>t.startsWith("--");function P8(t,e,n){I8(e)?t.style.setProperty(e,n):t.style[e]=n}const O8=tN(()=>window.ScrollTimeline!==void 0),M8={};function D8(t,e){const n=tN(t);return()=>M8[e]??n()}const kP=D8(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Nf=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,tC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Nf([0,.65,.55,1]),circOut:Nf([.55,0,1,.45]),backIn:Nf([.31,.01,.66,-.59]),backOut:Nf([.33,1.53,.69,.99])};function CP(t,e){if(t)return typeof t=="function"?kP()?jP(t,e):"ease-out":hP(t)?Nf(t):Array.isArray(t)?t.map(n=>CP(n,e)||tC.easeOut):tC[t]}function L8(t,e,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:c="easeOut",times:u}={},h=void 0){const f={[e]:n};u&&(f.offset=u);const m=CP(c,i);Array.isArray(m)&&(f.easing=m);const g={delay:r,duration:i,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return h&&(g.pseudoElement=h),t.animate(f,g)}function AP(t){return typeof t=="function"&&"applyToOptions"in t}function F8({type:t,...e}){return AP(t)&&kP()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class V8 extends hN{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:c,onComplete:u}=e;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=e,eN(typeof e.type!="string");const h=F8(e);this.animation=L8(n,r,i,h,a),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const f=dN(i,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(f):P8(n,r,f),this.animation.cancel()}u==null||u(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return hi(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+hi(e)}get time(){return hi(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ya(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&O8()?(this.animation.timeline=e,pi):n(this)}}const TP={anticipate:lP,backInOut:oP,circInOut:uP};function U8(t){return t in TP}function $8(t){typeof t.ease=="string"&&U8(t.ease)&&(t.ease=TP[t.ease])}const nC=10;class B8 extends V8{constructor(e){$8(e),NP(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:a,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const c=new fN({...o,autoplay:!1}),u=ya(this.finishedTime??this.time);n.setWithVelocity(c.sample(u-nC).value,c.sample(u).value,nC),c.stop()}}const rC=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(_l.test(t)||t==="0")&&!t.startsWith("url("));function z8(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function q8(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],o=rC(i,e),c=rC(a,e);return!o||!c?!1:z8(t)||(n==="spring"||AP(n))&&r}function Bw(t){t.duration=0,t.type="keyframes"}const H8=new Set(["opacity","clipPath","filter","transform"]),W8=tN(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function K8(t){var f;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:a,type:o}=t;if(!(((f=e==null?void 0:e.owner)==null?void 0:f.current)instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:h}=e.owner.getProps();return W8()&&n&&H8.has(n)&&(n!=="transform"||!h)&&!u&&!r&&i!=="mirror"&&a!==0&&o!=="inertia"}const G8=40;class Q8 extends hN{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",keyframes:c,name:u,motionValue:h,element:f,...m}){var _;super(),this.stop=()=>{var w,j;this._animation&&(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)),(j=this.keyframeResolver)==null||j.cancel()},this.createdAt=ws.now();const g={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:o,name:u,motionValue:h,element:f,...m},x=(f==null?void 0:f.KeyframeResolver)||mN;this.keyframeResolver=new x(c,(w,j,N)=>this.onKeyframesResolved(w,j,g,!N),u,h,f),(_=this.keyframeResolver)==null||_.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:a,type:o,velocity:c,delay:u,isHandoff:h,onUpdate:f}=r;this.resolvedAt=ws.now(),q8(e,a,o,c)||((mo.instantAnimations||!u)&&(f==null||f(dN(e,r,n))),e[0]=e[e.length-1],Bw(r),r.repeat=0);const g={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>G8?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},x=!h&&K8(g)?new B8({...g,element:g.motionValue.owner.current}):new fN(g);x.finished.then(()=>this.notifyFinished()).catch(pi),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),R8()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const J8=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Y8(t){const e=J8.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function RP(t,e,n=1){const[r,i]=Y8(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const o=a.trim();return ZI(o)?parseFloat(o):o}return aN(i)?RP(i,e,n+1):i}function pN(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const IP=new Set(["width","height","top","left","right","bottom",...dh]),X8={test:t=>t==="auto",parse:t=>t},PP=t=>e=>e.test(t),OP=[uh,vt,va,Qo,z9,B9,X8],sC=t=>OP.find(PP(t));function Z8(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||tP(t):!0}const eq=new Set(["brightness","contrast","saturate","opacity"]);function tq(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(oN)||[];if(!r)return t;const i=n.replace(r,"");let a=eq.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const nq=/\b([a-z-]*)\(.*?\)/gu,zw={..._l,getAnimatableNone:t=>{const e=t.match(nq);return e?e.map(tq).join(" "):t}},iC={...uh,transform:Math.round},rq={rotate:Qo,rotateX:Qo,rotateY:Qo,rotateZ:Qo,scale:ug,scaleX:ug,scaleY:ug,scaleZ:ug,skew:Qo,skewX:Qo,skewY:Qo,distance:vt,translateX:vt,translateY:vt,translateZ:vt,x:vt,y:vt,z:vt,perspective:vt,transformPerspective:vt,opacity:rm,originX:Wk,originY:Wk,originZ:vt},gN={borderWidth:vt,borderTopWidth:vt,borderRightWidth:vt,borderBottomWidth:vt,borderLeftWidth:vt,borderRadius:vt,radius:vt,borderTopLeftRadius:vt,borderTopRightRadius:vt,borderBottomRightRadius:vt,borderBottomLeftRadius:vt,width:vt,maxWidth:vt,height:vt,maxHeight:vt,top:vt,right:vt,bottom:vt,left:vt,padding:vt,paddingTop:vt,paddingRight:vt,paddingBottom:vt,paddingLeft:vt,margin:vt,marginTop:vt,marginRight:vt,marginBottom:vt,marginLeft:vt,backgroundPositionX:vt,backgroundPositionY:vt,...rq,zIndex:iC,fillOpacity:rm,strokeOpacity:rm,numOctaves:iC},sq={...gN,color:Xn,backgroundColor:Xn,outlineColor:Xn,fill:Xn,stroke:Xn,borderColor:Xn,borderTopColor:Xn,borderRightColor:Xn,borderBottomColor:Xn,borderLeftColor:Xn,filter:zw,WebkitFilter:zw},MP=t=>sq[t];function DP(t,e){let n=MP(t);return n!==zw&&(n=_l),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const iq=new Set(["auto","none","0"]);function aq(t,e,n){let r=0,i;for(;r<t.length&&!i;){const a=t[r];typeof a=="string"&&!iq.has(a)&&sm(a).values.length&&(i=t[r]),r++}if(i&&n)for(const a of e)t[a]=DP(n,i)}class oq extends mN{constructor(e,n,r,i,a){super(e,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let h=e[u];if(typeof h=="string"&&(h=h.trim(),aN(h))){const f=RP(h,n.current);f!==void 0&&(e[u]=f),u===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!IP.has(r)||e.length!==2)return;const[i,a]=e,o=sC(i),c=sC(a);if(o!==c)if(eC(o)&&eC(c))for(let u=0;u<e.length;u++){const h=e[u];typeof h=="string"&&(e[u]=parseFloat(h))}else Uc[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||Z8(e[i]))&&r.push(i);r.length&&aq(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Uc[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var c;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,o=r[a];r[a]=Uc[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([u,h])=>{e.getValue(u).set(h)}),this.resolveNoneKeyframes()}}function lq(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const LP=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function FP(t){return eP(t)&&"offsetHeight"in t}const aC=30,cq=t=>!isNaN(parseFloat(t));class uq{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var a;const i=ws.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ws.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=cq(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new nN);const r=this.events[e].add(n);return e==="change"?()=>{r(),wn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ws.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>aC)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,aC);return nP(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function zd(t,e){return new uq(t,e)}const{schedule:xN}=fP(queueMicrotask,!1),Ci={x:!1,y:!1};function VP(){return Ci.x||Ci.y}function dq(t){return t==="x"||t==="y"?Ci[t]?null:(Ci[t]=!0,()=>{Ci[t]=!1}):Ci.x||Ci.y?null:(Ci.x=Ci.y=!0,()=>{Ci.x=Ci.y=!1})}function UP(t,e){const n=lq(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function oC(t){return!(t.pointerType==="touch"||VP())}function hq(t,e,n={}){const[r,i,a]=UP(t,n),o=c=>{if(!oC(c))return;const{target:u}=c,h=e(u,c);if(typeof h!="function"||!u)return;const f=m=>{oC(m)&&(h(m),u.removeEventListener("pointerleave",f))};u.addEventListener("pointerleave",f,i)};return r.forEach(c=>{c.addEventListener("pointerenter",o,i)}),a}const $P=(t,e)=>e?t===e?!0:$P(t,e.parentElement):!1,yN=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,fq=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function mq(t){return fq.has(t.tagName)||t.tabIndex!==-1}const Yg=new WeakSet;function lC(t){return e=>{e.key==="Enter"&&t(e)}}function Xv(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const pq=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=lC(()=>{if(Yg.has(n))return;Xv(n,"down");const i=lC(()=>{Xv(n,"up")}),a=()=>Xv(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function cC(t){return yN(t)&&!VP()}function gq(t,e,n={}){const[r,i,a]=UP(t,n),o=c=>{const u=c.currentTarget;if(!cC(c))return;Yg.add(u);const h=e(u,c),f=(x,_)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",g),Yg.has(u)&&Yg.delete(u),cC(x)&&typeof h=="function"&&h(x,{success:_})},m=x=>{f(x,u===window||u===document||n.useGlobalTarget||$P(u,x.target))},g=x=>{f(x,!1)};window.addEventListener("pointerup",m,i),window.addEventListener("pointercancel",g,i)};return r.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",o,i),FP(c)&&(c.addEventListener("focus",h=>pq(h,i)),!mq(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),a}function BP(t){return eP(t)&&"ownerSVGElement"in t}function xq(t){return BP(t)&&t.tagName==="svg"}const $r=t=>!!(t&&t.getVelocity),yq=[...OP,Xn,_l],vq=t=>yq.find(PP(t)),vN=y.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function uC(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function bq(...t){return e=>{let n=!1;const r=t.map(i=>{const a=uC(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():uC(t[i],null)}}}}function wq(...t){return y.useCallback(bq(...t),t)}class jq extends y.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=FP(r)&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function _q({children:t,isPresent:e,anchorX:n,root:r}){const i=y.useId(),a=y.useRef(null),o=y.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=y.useContext(vN),u=wq(a,t==null?void 0:t.ref);return y.useInsertionEffect(()=>{const{width:h,height:f,top:m,left:g,right:x}=o.current;if(e||!a.current||!h||!f)return;const _=n==="left"?`left: ${g}`:`right: ${x}`;a.current.dataset.motionPopId=i;const w=document.createElement("style");c&&(w.nonce=c);const j=r??document.head;return j.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${f}px !important;
            ${_}px !important;
            top: ${m}px !important;
          }
        `),()=>{j.contains(w)&&j.removeChild(w)}},[e]),s.jsx(jq,{isPresent:e,childRef:a,sizeRef:o,children:y.cloneElement(t,{ref:u})})}const Nq=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:o,anchorX:c,root:u})=>{const h=J_(Sq),f=y.useId();let m=!0,g=y.useMemo(()=>(m=!1,{id:f,initial:e,isPresent:n,custom:i,onExitComplete:x=>{h.set(x,!0);for(const _ of h.values())if(!_)return;r&&r()},register:x=>(h.set(x,!1),()=>h.delete(x))}),[n,h,r]);return a&&m&&(g={...g}),y.useMemo(()=>{h.forEach((x,_)=>h.set(_,!1))},[n]),y.useEffect(()=>{!n&&!h.size&&r&&r()},[n]),o==="popLayout"&&(t=s.jsx(_q,{isPresent:n,anchorX:c,root:u,children:t})),s.jsx(py.Provider,{value:g,children:t})};function Sq(){return new Map}function zP(t=!0){const e=y.useContext(py);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,a=y.useId();y.useEffect(()=>{if(t)return i(a)},[t]);const o=y.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,o]:[!0]}const dg=t=>t.key||"";function dC(t){const e=[];return y.Children.forEach(t,n=>{y.isValidElement(n)&&e.push(n)}),e}const Ss=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:o=!1,anchorX:c="left",root:u})=>{const[h,f]=zP(o),m=y.useMemo(()=>dC(t),[t]),g=o&&!h?[]:m.map(dg),x=y.useRef(!0),_=y.useRef(m),w=J_(()=>new Map),[j,N]=y.useState(m),[S,k]=y.useState(m);XI(()=>{x.current=!1,_.current=m;for(let O=0;O<S.length;O++){const A=dg(S[O]);g.includes(A)?w.delete(A):w.get(A)!==!0&&w.set(A,!1)}},[S,g.length,g.join("-")]);const C=[];if(m!==j){let O=[...m];for(let A=0;A<S.length;A++){const M=S[A],P=dg(M);g.includes(P)||(O.splice(A,0,M),C.push(M))}return a==="wait"&&C.length&&(O=C),k(dC(O)),N(m),null}const{forceRender:R}=y.useContext(Q_);return s.jsx(s.Fragment,{children:S.map(O=>{const A=dg(O),M=o&&!h?!1:m===S||g.includes(A),P=()=>{if(w.has(A))w.set(A,!0);else return;let F=!0;w.forEach(L=>{L||(F=!1)}),F&&(R==null||R(),k(_.current),o&&(f==null||f()),r&&r())};return s.jsx(Nq,{isPresent:M,initial:!x.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:a,root:u,onExitComplete:M?void 0:P,anchorX:c,children:O},A)})})},qP=y.createContext({strict:!1}),hC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},qd={};for(const t in hC)qd[t]={isEnabled:e=>hC[t].some(n=>!!e[n])};function Eq(t){for(const e in t)qd[e]={...qd[e],...t[e]}}const kq=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function kx(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||kq.has(t)}let HP=t=>!kx(t);function Cq(t){typeof t=="function"&&(HP=e=>e.startsWith("on")?!kx(e):t(e))}try{Cq(require("@emotion/is-prop-valid").default)}catch{}function Aq(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(HP(i)||n===!0&&kx(i)||!e&&!kx(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const gy=y.createContext({});function xy(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function im(t){return typeof t=="string"||Array.isArray(t)}const bN=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],wN=["initial",...bN];function yy(t){return xy(t.animate)||wN.some(e=>im(t[e]))}function WP(t){return!!(yy(t)||t.variants)}function Tq(t,e){if(yy(t)){const{initial:n,animate:r}=t;return{initial:n===!1||im(n)?n:void 0,animate:im(r)?r:void 0}}return t.inherit!==!1?e:{}}function Rq(t){const{initial:e,animate:n}=Tq(t,y.useContext(gy));return y.useMemo(()=>({initial:e,animate:n}),[fC(e),fC(n)])}function fC(t){return Array.isArray(t)?t.join(" "):t}const am={};function Iq(t){for(const e in t)am[e]=t[e],iN(e)&&(am[e].isCSSVariable=!0)}function KP(t,{layout:e,layoutId:n}){return hh.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!am[t]||t==="opacity")}const Pq={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Oq=dh.length;function Mq(t,e,n){let r="",i=!0;for(let a=0;a<Oq;a++){const o=dh[a],c=t[o];if(c===void 0)continue;let u=!0;if(typeof c=="number"?u=c===(o.startsWith("scale")?1:0):u=parseFloat(c)===0,!u||n){const h=LP(c,gN[o]);if(!u){i=!1;const f=Pq[o]||o;r+=`${f}(${h}) `}n&&(e[o]=h)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function jN(t,e,n){const{style:r,vars:i,transformOrigin:a}=t;let o=!1,c=!1;for(const u in e){const h=e[u];if(hh.has(u)){o=!0;continue}else if(iN(u)){i[u]=h;continue}else{const f=LP(h,gN[u]);u.startsWith("origin")?(c=!0,a[u]=f):r[u]=f}}if(e.transform||(o||n?r.transform=Mq(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:u="50%",originY:h="50%",originZ:f=0}=a;r.transformOrigin=`${u} ${h} ${f}`}}const _N=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function GP(t,e,n){for(const r in e)!$r(e[r])&&!KP(r,n)&&(t[r]=e[r])}function Dq({transformTemplate:t},e){return y.useMemo(()=>{const n=_N();return jN(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Lq(t,e){const n=t.style||{},r={};return GP(r,n,t),Object.assign(r,Dq(t,e)),r}function Fq(t,e){const n={},r=Lq(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const Vq={offset:"stroke-dashoffset",array:"stroke-dasharray"},Uq={offset:"strokeDashoffset",array:"strokeDasharray"};function $q(t,e,n=1,r=0,i=!0){t.pathLength=1;const a=i?Vq:Uq;t[a.offset]=vt.transform(-r);const o=vt.transform(e),c=vt.transform(n);t[a.array]=`${o} ${c}`}function QP(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:o=0,...c},u,h,f){if(jN(t,c,h),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:g}=t;m.transform&&(g.transform=m.transform,delete m.transform),(g.transform||m.transformOrigin)&&(g.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),g.transform&&(g.transformBox=(f==null?void 0:f.transformBox)??"fill-box",delete m.transformBox),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),i!==void 0&&$q(m,i,a,o,!1)}const JP=()=>({..._N(),attrs:{}}),YP=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Bq(t,e,n,r){const i=y.useMemo(()=>{const a=JP();return QP(a,e,YP(r),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};GP(a,t.style,t),i.style={...a,...i.style}}return i}const zq=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function NN(t){return typeof t!="string"||t.includes("-")?!1:!!(zq.indexOf(t)>-1||/[A-Z]/u.test(t))}function qq(t,e,n,{latestValues:r},i,a=!1){const c=(NN(t)?Bq:Fq)(e,r,i,t),u=Aq(e,typeof t=="string",a),h=t!==y.Fragment?{...u,...c,ref:n}:{},{children:f}=e,m=y.useMemo(()=>$r(f)?f.get():f,[f]);return y.createElement(t,{...h,children:m})}function mC(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function SN(t,e,n,r){if(typeof e=="function"){const[i,a]=mC(r);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=mC(r);e=e(n!==void 0?n:t.custom,i,a)}return e}function Xg(t){return $r(t)?t.get():t}function Hq({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:Wq(n,r,i,t),renderState:e()}}function Wq(t,e,n,r){const i={},a=r(t,{});for(const g in a)i[g]=Xg(a[g]);let{initial:o,animate:c}=t;const u=yy(t),h=WP(t);e&&h&&!u&&t.inherit!==!1&&(o===void 0&&(o=e.initial),c===void 0&&(c=e.animate));let f=n?n.initial===!1:!1;f=f||o===!1;const m=f?c:o;if(m&&typeof m!="boolean"&&!xy(m)){const g=Array.isArray(m)?m:[m];for(let x=0;x<g.length;x++){const _=SN(t,g[x]);if(_){const{transitionEnd:w,transition:j,...N}=_;for(const S in N){let k=N[S];if(Array.isArray(k)){const C=f?k.length-1:0;k=k[C]}k!==null&&(i[S]=k)}for(const S in w)i[S]=w[S]}}}return i}const XP=t=>(e,n)=>{const r=y.useContext(gy),i=y.useContext(py),a=()=>Hq(t,e,r,i);return n?a():J_(a)};function EN(t,e,n){var a;const{style:r}=t,i={};for(const o in r)($r(r[o])||e.style&&$r(e.style[o])||KP(o,t)||((a=n==null?void 0:n.getValue(o))==null?void 0:a.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const Kq=XP({scrapeMotionValuesFromProps:EN,createRenderState:_N});function ZP(t,e,n){const r=EN(t,e,n);for(const i in t)if($r(t[i])||$r(e[i])){const a=dh.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=t[i]}return r}const Gq=XP({scrapeMotionValuesFromProps:ZP,createRenderState:JP}),Qq=Symbol.for("motionComponentSymbol");function cd(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Jq(t,e,n){return y.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):cd(n)&&(n.current=r))},[e])}const kN=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Yq="framerAppearId",e4="data-"+kN(Yq),t4=y.createContext({});function Xq(t,e,n,r,i){var w,j;const{visualElement:a}=y.useContext(gy),o=y.useContext(qP),c=y.useContext(py),u=y.useContext(vN).reducedMotion,h=y.useRef(null);r=r||o.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const f=h.current,m=y.useContext(t4);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&Zq(h.current,n,i,m);const g=y.useRef(!1);y.useInsertionEffect(()=>{f&&g.current&&f.update(n,c)});const x=n[e4],_=y.useRef(!!x&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,x))&&((j=window.MotionHasOptimisedAnimation)==null?void 0:j.call(window,x)));return XI(()=>{f&&(g.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),_.current&&f.animationState&&f.animationState.animateChanges())}),y.useEffect(()=>{f&&(!_.current&&f.animationState&&f.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{var N;(N=window.MotionHandoffMarkAsComplete)==null||N.call(window,x)}),_.current=!1),f.enteringChildren=void 0)}),f}function Zq(t,e,n,r){const{layoutId:i,layout:a,drag:o,dragConstraints:c,layoutScroll:u,layoutRoot:h,layoutCrossfade:f}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:n4(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||c&&cd(c),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:f,layoutScroll:u,layoutRoot:h})}function n4(t){if(t)return t.options.allowProjection!==!1?t.projection:n4(t.parent)}function Zv(t,{forwardMotionProps:e=!1}={},n,r){n&&Eq(n);const i=NN(t)?Gq:Kq;function a(c,u){let h;const f={...y.useContext(vN),...c,layoutId:e7(c)},{isStatic:m}=f,g=Rq(c),x=i(c,m);if(!m&&Y_){t7();const _=n7(f);h=_.MeasureLayout,g.visualElement=Xq(t,x,f,r,_.ProjectionNode)}return s.jsxs(gy.Provider,{value:g,children:[h&&g.visualElement?s.jsx(h,{visualElement:g.visualElement,...f}):null,qq(t,c,Jq(x,g.visualElement,u),x,m,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=y.forwardRef(a);return o[Qq]=t,o}function e7({layoutId:t}){const e=y.useContext(Q_).id;return e&&t!==void 0?e+"-"+t:t}function t7(t,e){y.useContext(qP).strict}function n7(t){const{drag:e,layout:n}=qd;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function r7(t,e){if(typeof Proxy>"u")return Zv;const n=new Map,r=(a,o)=>Zv(a,o,t,e),i=(a,o)=>r(a,o);return new Proxy(i,{get:(a,o)=>o==="create"?r:(n.has(o)||n.set(o,Zv(o,void 0,t,e)),n.get(o))})}function r4({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function s7({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function i7(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function eb(t){return t===void 0||t===1}function qw({scale:t,scaleX:e,scaleY:n}){return!eb(t)||!eb(e)||!eb(n)}function gc(t){return qw(t)||s4(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function s4(t){return pC(t.x)||pC(t.y)}function pC(t){return t&&t!=="0%"}function Cx(t,e,n){const r=t-n,i=e*r;return n+i}function gC(t,e,n,r,i){return i!==void 0&&(t=Cx(t,i,r)),Cx(t,n,r)+e}function Hw(t,e=0,n=1,r,i){t.min=gC(t.min,e,n,r,i),t.max=gC(t.max,e,n,r,i)}function i4(t,{x:e,y:n}){Hw(t.x,e.translate,e.scale,e.originPoint),Hw(t.y,n.translate,n.scale,n.originPoint)}const xC=.999999999999,yC=1.0000000000001;function a7(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,o;for(let c=0;c<i;c++){a=n[c],o=a.projectionDelta;const{visualElement:u}=a.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&dd(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,i4(t,o)),r&&gc(a.latestValues)&&dd(t,a.latestValues))}e.x<yC&&e.x>xC&&(e.x=1),e.y<yC&&e.y>xC&&(e.y=1)}function ud(t,e){t.min=t.min+e,t.max=t.max+e}function vC(t,e,n,r,i=.5){const a=En(t.min,t.max,i);Hw(t,e,n,a,r)}function dd(t,e){vC(t.x,e.x,e.scaleX,e.scale,e.originX),vC(t.y,e.y,e.scaleY,e.scale,e.originY)}function a4(t,e){return r4(i7(t.getBoundingClientRect(),e))}function o7(t,e,n){const r=a4(t,n),{scroll:i}=e;return i&&(ud(r.x,i.offset.x),ud(r.y,i.offset.y)),r}const bC=()=>({translate:0,scale:1,origin:0,originPoint:0}),hd=()=>({x:bC(),y:bC()}),wC=()=>({min:0,max:0}),Un=()=>({x:wC(),y:wC()}),Ww={current:null},o4={current:!1};function l7(){if(o4.current=!0,!!Y_)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ww.current=t.matches;t.addEventListener("change",e),e()}else Ww.current=!1}const c7=new WeakMap;function u7(t,e,n){for(const r in e){const i=e[r],a=n[r];if($r(i))t.addValue(r,i);else if($r(a))t.addValue(r,zd(i,{owner:t}));else if(a!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,zd(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const jC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class d7{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:o},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=mN,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=ws.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,wn.render(this.render,!1,!0))};const{latestValues:u,renderState:h}=o;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=yy(n),this.isVariantNode=WP(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in m){const x=m[g];u[g]!==void 0&&$r(x)&&x.set(u[g])}}mount(e){var n;this.current=e,c7.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),o4.current||l7(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ww.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),jl(this.notifyUpdate),jl(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=hh.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&wn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in qd){const n=qd[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Un()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<jC.length;r++){const i=jC[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=e[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=u7(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=zd(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(ZI(r)||tP(r))?r=parseFloat(r):!vq(r)&&_l.test(n)&&(r=DP(e,n)),this.setBaseTarget(e,$r(r)?r.get():r)),$r(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var a;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=SN(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!$r(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new nN),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){xN.render(this.render)}}class l4 extends d7{constructor(){super(...arguments),this.KeyframeResolver=oq}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;$r(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function c4(t,{style:e,vars:n},r,i){const a=t.style;let o;for(o in e)a[o]=e[o];i==null||i.applyProjectionStyles(a,r);for(o in n)a.setProperty(o,n[o])}function h7(t){return window.getComputedStyle(t)}class f7 extends l4{constructor(){super(...arguments),this.type="html",this.renderInstance=c4}readValueFromInstance(e,n){var r;if(hh.has(n))return(r=this.projection)!=null&&r.isProjecting?Lw(n):E8(e,n);{const i=h7(e),a=(iN(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return a4(e,n)}build(e,n,r){jN(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return EN(e,n,r)}}const u4=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function m7(t,e,n,r){c4(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(u4.has(i)?i:kN(i),e.attrs[i])}class p7 extends l4{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Un}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(hh.has(n)){const r=MP(n);return r&&r.default||0}return n=u4.has(n)?n:kN(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return ZP(e,n,r)}build(e,n,r){QP(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){m7(e,n,r,i)}mount(e){this.isSVGTag=YP(e.tagName),super.mount(e)}}const g7=(t,e)=>NN(t)?new p7(e):new f7(e,{allowProjection:t!==y.Fragment});function pd(t,e,n){const r=t.getProps();return SN(r,e,n!==void 0?n:r.custom,t)}const Kw=t=>Array.isArray(t);function x7(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,zd(n))}function y7(t){return Kw(t)?t[t.length-1]||0:t}function v7(t,e){const n=pd(t,e);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const o in a){const c=y7(a[o]);x7(t,o,c)}}function b7(t){return!!($r(t)&&t.add)}function Gw(t,e){const n=t.getValue("willChange");if(b7(n))return n.add(e);if(!n&&mo.WillChange){const r=new mo.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function d4(t){return t.props[e4]}const w7=t=>t!==null;function j7(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(w7),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[a]}const _7={type:"spring",stiffness:500,damping:25,restSpeed:10},N7=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),S7={type:"keyframes",duration:.8},E7={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},k7=(t,{keyframes:e})=>e.length>2?S7:hh.has(t)?t.startsWith("scale")?N7(e[1]):_7:E7;function C7({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:c,from:u,elapsed:h,...f}){return!!Object.keys(f).length}const CN=(t,e,n,r={},i,a)=>o=>{const c=pN(r,t)||{},u=c.delay||r.delay||0;let{elapsed:h=0}=r;h=h-ya(u);const f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-h,onUpdate:g=>{e.set(g),c.onUpdate&&c.onUpdate(g)},onComplete:()=>{o(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:a?void 0:i};C7(c)||Object.assign(f,k7(t,f)),f.duration&&(f.duration=ya(f.duration)),f.repeatDelay&&(f.repeatDelay=ya(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let m=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(Bw(f),f.delay===0&&(m=!0)),(mo.instantAnimations||mo.skipAnimations)&&(m=!0,Bw(f),f.delay=0),f.allowFlatten=!c.type&&!c.ease,m&&!a&&e.get()!==void 0){const g=j7(f.keyframes,c);if(g!==void 0){wn.update(()=>{f.onUpdate(g),f.onComplete()});return}}return c.isSync?new fN(f):new Q8(f)};function A7({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function h4(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:o,...c}=e;r&&(a=r);const u=[],h=i&&t.animationState&&t.animationState.getState()[i];for(const f in c){const m=t.getValue(f,t.latestValues[f]??null),g=c[f];if(g===void 0||h&&A7(h,f))continue;const x={delay:n,...pN(a||{},f)},_=m.get();if(_!==void 0&&!m.isAnimating&&!Array.isArray(g)&&g===_&&!x.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const N=d4(t);if(N){const S=window.MotionHandoffAnimation(N,f,wn);S!==null&&(x.startTime=S,w=!0)}}Gw(t,f),m.start(CN(f,m,g,t.shouldReduceMotion&&IP.has(f)?{type:!1}:x,t,w));const j=m.animation;j&&u.push(j)}return o&&Promise.all(u).then(()=>{wn.update(()=>{o&&v7(t,o)})}),u}function f4(t,e,n,r=0,i=1){const a=Array.from(t).sort((h,f)=>h.sortNodePosition(f)).indexOf(e),o=t.size,c=(o-1)*r;return typeof n=="function"?n(a,o):i===1?a*r:c-a*r}function Qw(t,e,n={}){var u;const r=pd(t,e,n.type==="exit"?(u=t.presenceContext)==null?void 0:u.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(h4(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:f=0,staggerChildren:m,staggerDirection:g}=i;return T7(t,e,h,f,m,g,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[h,f]=c==="beforeChildren"?[a,o]:[o,a];return h().then(()=>f())}else return Promise.all([a(),o(n.delay)])}function T7(t,e,n=0,r=0,i=0,a=1,o){const c=[];for(const u of t.variantChildren)u.notify("AnimationStart",e),c.push(Qw(u,e,{...o,delay:n+(typeof r=="function"?0:r)+f4(t.variantChildren,u,r,i,a)}).then(()=>u.notify("AnimationComplete",e)));return Promise.all(c)}function R7(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>Qw(t,a,n));r=Promise.all(i)}else if(typeof e=="string")r=Qw(t,e,n);else{const i=typeof e=="function"?pd(t,e,n.custom):e;r=Promise.all(h4(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function m4(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const I7=wN.length;function p4(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?p4(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<I7;n++){const r=wN[n],i=t.props[r];(im(i)||i===!1)&&(e[r]=i)}return e}const P7=[...bN].reverse(),O7=bN.length;function M7(t){return e=>Promise.all(e.map(({animation:n,options:r})=>R7(t,n,r)))}function D7(t){let e=M7(t),n=_C(),r=!0;const i=u=>(h,f)=>{var g;const m=pd(t,f,u==="exit"?(g=t.presenceContext)==null?void 0:g.custom:void 0);if(m){const{transition:x,transitionEnd:_,...w}=m;h={...h,...w,..._}}return h};function a(u){e=u(t)}function o(u){const{props:h}=t,f=p4(t.parent)||{},m=[],g=new Set;let x={},_=1/0;for(let j=0;j<O7;j++){const N=P7[j],S=n[N],k=h[N]!==void 0?h[N]:f[N],C=im(k),R=N===u?S.isActive:null;R===!1&&(_=j);let O=k===f[N]&&k!==h[N]&&C;if(O&&r&&t.manuallyAnimateOnMount&&(O=!1),S.protectedKeys={...x},!S.isActive&&R===null||!k&&!S.prevProp||xy(k)||typeof k=="boolean")continue;const A=L7(S.prevProp,k);let M=A||N===u&&S.isActive&&!O&&C||j>_&&C,P=!1;const F=Array.isArray(k)?k:[k];let L=F.reduce(i(N),{});R===!1&&(L={});const{prevResolvedValues:D={}}=S,V={...D,...L},G=ue=>{M=!0,g.has(ue)&&(P=!0,g.delete(ue)),S.needsAnimating[ue]=!0;const Q=t.getValue(ue);Q&&(Q.liveStyle=!1)};for(const ue in V){const Q=L[ue],K=D[ue];if(x.hasOwnProperty(ue))continue;let B=!1;Kw(Q)&&Kw(K)?B=!m4(Q,K):B=Q!==K,B?Q!=null?G(ue):g.add(ue):Q!==void 0&&g.has(ue)?G(ue):S.protectedKeys[ue]=!0}S.prevProp=k,S.prevResolvedValues=L,S.isActive&&(x={...x,...L}),r&&t.blockInitialAnimation&&(M=!1);const ee=O&&A;M&&(!ee||P)&&m.push(...F.map(ue=>{const Q={type:N};if(typeof ue=="string"&&r&&!ee&&t.manuallyAnimateOnMount&&t.parent){const{parent:K}=t,B=pd(K,ue);if(K.enteringChildren&&B){const{delayChildren:z}=B.transition||{};Q.delay=f4(K.enteringChildren,t,z)}}return{animation:ue,options:Q}}))}if(g.size){const j={};if(typeof h.initial!="boolean"){const N=pd(t,Array.isArray(h.initial)?h.initial[0]:h.initial);N&&N.transition&&(j.transition=N.transition)}g.forEach(N=>{const S=t.getBaseTarget(N),k=t.getValue(N);k&&(k.liveStyle=!0),j[N]=S??null}),m.push({animation:j})}let w=!!m.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(w=!1),r=!1,w?e(m):Promise.resolve()}function c(u,h){var m;if(n[u].isActive===h)return Promise.resolve();(m=t.variantChildren)==null||m.forEach(g=>{var x;return(x=g.animationState)==null?void 0:x.setActive(u,h)}),n[u].isActive=h;const f=o(u);for(const g in n)n[g].protectedKeys={};return f}return{animateChanges:o,setActive:c,setAnimateFunction:a,getState:()=>n,reset:()=>{n=_C()}}}function L7(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!m4(e,t):!1}function hc(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function _C(){return{animate:hc(!0),whileInView:hc(),whileHover:hc(),whileTap:hc(),whileDrag:hc(),whileFocus:hc(),exit:hc()}}class Ml{constructor(e){this.isMounted=!1,this.node=e}update(){}}class F7 extends Ml{constructor(e){super(e),e.animationState||(e.animationState=D7(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();xy(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let V7=0;class U7 extends Ml{constructor(){super(...arguments),this.id=V7++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const $7={animation:{Feature:F7},exit:{Feature:U7}};function om(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Dm(t){return{point:{x:t.pageX,y:t.pageY}}}const B7=t=>e=>yN(e)&&t(e,Dm(e));function Df(t,e,n,r){return om(t,e,B7(n),r)}const g4=1e-4,z7=1-g4,q7=1+g4,x4=.01,H7=0-x4,W7=0+x4;function rs(t){return t.max-t.min}function K7(t,e,n){return Math.abs(t-e)<=n}function NC(t,e,n,r=.5){t.origin=r,t.originPoint=En(e.min,e.max,t.origin),t.scale=rs(n)/rs(e),t.translate=En(n.min,n.max,t.origin)-t.originPoint,(t.scale>=z7&&t.scale<=q7||isNaN(t.scale))&&(t.scale=1),(t.translate>=H7&&t.translate<=W7||isNaN(t.translate))&&(t.translate=0)}function Lf(t,e,n,r){NC(t.x,e.x,n.x,r?r.originX:void 0),NC(t.y,e.y,n.y,r?r.originY:void 0)}function SC(t,e,n){t.min=n.min+e.min,t.max=t.min+rs(e)}function G7(t,e,n){SC(t.x,e.x,n.x),SC(t.y,e.y,n.y)}function EC(t,e,n){t.min=e.min-n.min,t.max=t.min+rs(e)}function Ff(t,e,n){EC(t.x,e.x,n.x),EC(t.y,e.y,n.y)}function ii(t){return[t("x"),t("y")]}const y4=({current:t})=>t?t.ownerDocument.defaultView:null,kC=(t,e)=>Math.abs(t-e);function Q7(t,e){const n=kC(t.x,e.x),r=kC(t.y,e.y);return Math.sqrt(n**2+r**2)}class v4{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=nb(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,_=Q7(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!_)return;const{point:w}=g,{timestamp:j}=Sr;this.history.push({...w,timestamp:j});const{onStart:N,onMove:S}=this.handlers;x||(N&&N(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,g)},this.handlePointerMove=(g,x)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=tb(x,this.transformPagePoint),wn.update(this.updatePoint,!0)},this.handlePointerUp=(g,x)=>{this.end();const{onEnd:_,onSessionEnd:w,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=nb(g.type==="pointercancel"?this.lastMoveEventInfo:tb(x,this.transformPagePoint),this.history);this.startEvent&&_&&_(g,N),w&&w(g,N)},!yN(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const c=Dm(e),u=tb(c,this.transformPagePoint),{point:h}=u,{timestamp:f}=Sr;this.history=[{...h,timestamp:f}];const{onSessionStart:m}=n;m&&m(e,nb(u,this.history)),this.removeListeners=Pm(Df(this.contextWindow,"pointermove",this.handlePointerMove),Df(this.contextWindow,"pointerup",this.handlePointerUp),Df(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),jl(this.updatePoint)}}function tb(t,e){return e?{point:e(t.point)}:t}function CC(t,e){return{x:t.x-e.x,y:t.y-e.y}}function nb({point:t},e){return{point:t,delta:CC(t,b4(e)),offset:CC(t,J7(e)),velocity:Y7(e,.1)}}function J7(t){return t[0]}function b4(t){return t[t.length-1]}function Y7(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=b4(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>ya(e)));)n--;if(!r)return{x:0,y:0};const a=hi(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function X7(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?En(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?En(n,t,r.max):Math.min(t,n)),t}function AC(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Z7(t,{top:e,left:n,bottom:r,right:i}){return{x:AC(t.x,n,i),y:AC(t.y,e,r)}}function TC(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function eH(t,e){return{x:TC(t.x,e.x),y:TC(t.y,e.y)}}function tH(t,e){let n=.5;const r=rs(t),i=rs(e);return i>r?n=nm(e.min,e.max-r,t.min):r>i&&(n=nm(t.min,t.max-i,e.min)),fo(0,1,n)}function nH(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Jw=.35;function rH(t=Jw){return t===!1?t=0:t===!0&&(t=Jw),{x:RC(t,"left","right"),y:RC(t,"top","bottom")}}function RC(t,e,n){return{min:IC(t,e),max:IC(t,n)}}function IC(t,e){return typeof t=="number"?t:t[e]||0}const sH=new WeakMap;class iH{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Un(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=m=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Dm(m).point)},o=(m,g)=>{const{drag:x,dragPropagation:_,onDragStart:w}=this.getProps();if(x&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=dq(x),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ii(N=>{let S=this.getAxisMotionValue(N).get()||0;if(va.test(S)){const{projection:k}=this.visualElement;if(k&&k.layout){const C=k.layout.layoutBox[N];C&&(S=rs(C)*(parseFloat(S)/100))}}this.originPoint[N]=S}),w&&wn.postRender(()=>w(m,g)),Gw(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},c=(m,g)=>{this.latestPointerEvent=m,this.latestPanInfo=g;const{dragPropagation:x,dragDirectionLock:_,onDirectionLock:w,onDrag:j}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:N}=g;if(_&&this.currentDirection===null){this.currentDirection=aH(N),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",g.point,N),this.updateAxis("y",g.point,N),this.visualElement.render(),j&&j(m,g)},u=(m,g)=>{this.latestPointerEvent=m,this.latestPanInfo=g,this.stop(m,g),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>ii(m=>{var g;return this.getAnimationState(m)==="paused"&&((g=this.getAxisMotionValue(m).animation)==null?void 0:g.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new v4(e,{onSessionStart:a,onStart:o,onMove:c,onSessionEnd:u,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:r,contextWindow:y4(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:c}=this.getProps();c&&wn.postRender(()=>c(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!hg(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=X7(o,this.constraints[e],this.elastic[e])),a.set(o)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,i=this.constraints;e&&cd(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=Z7(r.layoutBox,e):this.constraints=!1,this.elastic=rH(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ii(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=nH(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!cd(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=o7(r,i.root,this.visualElement.getTransformPagePoint());let o=eH(i.layout.layoutBox,a);if(n){const c=n(s7(o));this.hasMutatedConstraints=!!c,c&&(o=r4(c))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:c}=this.getProps(),u=this.constraints||{},h=ii(f=>{if(!hg(f,n,this.currentDirection))return;let m=u&&u[f]||{};o&&(m={min:0,max:0});const g=i?200:1e6,x=i?40:1e7,_={type:"inertia",velocity:r?e[f]:0,bounceStiffness:g,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...a,...m};return this.startAxisValueAnimation(f,_)});return Promise.all(h).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Gw(this.visualElement,e),r.start(CN(e,r,0,n,this.visualElement,!1))}stopAnimation(){ii(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ii(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ii(n=>{const{drag:r}=this.getProps();if(!hg(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:c}=i.layout.layoutBox[n];a.set(e[n]-En(o,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!cd(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ii(o=>{const c=this.getAxisMotionValue(o);if(c&&this.constraints!==!1){const u=c.get();i[o]=tH({min:u,max:u},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ii(o=>{if(!hg(o,e,null))return;const c=this.getAxisMotionValue(o),{min:u,max:h}=this.constraints[o];c.set(En(u,h,i[o]))})}addListeners(){if(!this.visualElement.current)return;sH.set(this.visualElement,this);const e=this.visualElement.current,n=Df(e,"pointerdown",u=>{const{drag:h,dragListener:f=!0}=this.getProps();h&&f&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();cd(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),wn.read(r);const o=om(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:h})=>{this.isDragging&&h&&(ii(f=>{const m=this.getAxisMotionValue(f);m&&(this.originPoint[f]+=u[f].translate,m.set(m.get()+u[f].translate))}),this.visualElement.render())}));return()=>{o(),n(),a(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=Jw,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:c}}}function hg(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function aH(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class oH extends Ml{constructor(e){super(e),this.removeGroupControls=pi,this.removeListeners=pi,this.controls=new iH(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||pi}unmount(){this.removeGroupControls(),this.removeListeners()}}const PC=t=>(e,n)=>{t&&wn.postRender(()=>t(e,n))};class lH extends Ml{constructor(){super(...arguments),this.removePointerDownListener=pi}onPointerDown(e){this.session=new v4(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:y4(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:PC(e),onStart:PC(n),onMove:r,onEnd:(a,o)=>{delete this.session,i&&wn.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=Df(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Zg={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function OC(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const pf={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(vt.test(t))t=parseFloat(t);else return t;const n=OC(t,e.target.x),r=OC(t,e.target.y);return`${n}% ${r}%`}},cH={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=_l.parse(t);if(i.length>5)return r;const a=_l.createTransformer(t),o=typeof i[0]!="number"?1:0,c=n.x.scale*e.x,u=n.y.scale*e.y;i[0+o]/=c,i[1+o]/=u;const h=En(c,u,.5);return typeof i[2+o]=="number"&&(i[2+o]/=h),typeof i[3+o]=="number"&&(i[3+o]/=h),a(i)}};let rb=!1;class uH extends y.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;Iq(dH),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),rb&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Zg.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,{projection:o}=r;return o&&(o.isPresent=a,rb=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==a?o.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?o.promote():o.relegate()||wn.postRender(()=>{const c=o.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),xN.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;rb=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function w4(t){const[e,n]=zP(),r=y.useContext(Q_);return s.jsx(uH,{...t,layoutGroup:r,switchLayoutGroup:y.useContext(t4),isPresent:e,safeToRemove:n})}const dH={borderRadius:{...pf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:pf,borderTopRightRadius:pf,borderBottomLeftRadius:pf,borderBottomRightRadius:pf,boxShadow:cH};function hH(t,e,n){const r=$r(t)?t:zd(t);return r.start(CN("",r,e,n)),r.animation}const fH=(t,e)=>t.depth-e.depth;class mH{constructor(){this.children=[],this.isDirty=!1}add(e){X_(this.children,e),this.isDirty=!0}remove(e){Z_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(fH),this.isDirty=!1,this.children.forEach(e)}}function pH(t,e){const n=ws.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(jl(r),t(a-e))};return wn.setup(r,!0),()=>jl(r)}const j4=["TopLeft","TopRight","BottomLeft","BottomRight"],gH=j4.length,MC=t=>typeof t=="string"?parseFloat(t):t,DC=t=>typeof t=="number"||vt.test(t);function xH(t,e,n,r,i,a){i?(t.opacity=En(0,n.opacity??1,yH(r)),t.opacityExit=En(e.opacity??1,0,vH(r))):a&&(t.opacity=En(e.opacity??1,n.opacity??1,r));for(let o=0;o<gH;o++){const c=`border${j4[o]}Radius`;let u=LC(e,c),h=LC(n,c);if(u===void 0&&h===void 0)continue;u||(u=0),h||(h=0),u===0||h===0||DC(u)===DC(h)?(t[c]=Math.max(En(MC(u),MC(h),r),0),(va.test(h)||va.test(u))&&(t[c]+="%")):t[c]=h}(e.rotate||n.rotate)&&(t.rotate=En(e.rotate||0,n.rotate||0,r))}function LC(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const yH=_4(0,.5,cP),vH=_4(.5,.95,pi);function _4(t,e,n){return r=>r<t?0:r>e?1:n(nm(t,e,r))}function FC(t,e){t.min=e.min,t.max=e.max}function si(t,e){FC(t.x,e.x),FC(t.y,e.y)}function VC(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function UC(t,e,n,r,i){return t-=e,t=Cx(t,1/n,r),i!==void 0&&(t=Cx(t,1/i,r)),t}function bH(t,e=0,n=1,r=.5,i,a=t,o=t){if(va.test(e)&&(e=parseFloat(e),e=En(o.min,o.max,e/100)-o.min),typeof e!="number")return;let c=En(a.min,a.max,r);t===a&&(c-=e),t.min=UC(t.min,e,n,c,i),t.max=UC(t.max,e,n,c,i)}function $C(t,e,[n,r,i],a,o){bH(t,e[n],e[r],e[i],e.scale,a,o)}const wH=["x","scaleX","originX"],jH=["y","scaleY","originY"];function BC(t,e,n,r){$C(t.x,e,wH,n?n.x:void 0,r?r.x:void 0),$C(t.y,e,jH,n?n.y:void 0,r?r.y:void 0)}function zC(t){return t.translate===0&&t.scale===1}function N4(t){return zC(t.x)&&zC(t.y)}function qC(t,e){return t.min===e.min&&t.max===e.max}function _H(t,e){return qC(t.x,e.x)&&qC(t.y,e.y)}function HC(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function S4(t,e){return HC(t.x,e.x)&&HC(t.y,e.y)}function WC(t){return rs(t.x)/rs(t.y)}function KC(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class NH{constructor(){this.members=[]}add(e){X_(this.members,e),e.scheduleRender()}remove(e){if(Z_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function SH(t,e,n){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||a||o)&&(r=`translate3d(${i}px, ${a}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:f,rotateX:m,rotateY:g,skewX:x,skewY:_}=n;h&&(r=`perspective(${h}px) ${r}`),f&&(r+=`rotate(${f}deg) `),m&&(r+=`rotateX(${m}deg) `),g&&(r+=`rotateY(${g}deg) `),x&&(r+=`skewX(${x}deg) `),_&&(r+=`skewY(${_}deg) `)}const c=t.x.scale*e.x,u=t.y.scale*e.y;return(c!==1||u!==1)&&(r+=`scale(${c}, ${u})`),r||"none"}const sb=["","X","Y","Z"],EH=1e3;let kH=0;function ib(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function E4(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=d4(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",wn,!(i||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&E4(r)}function k4({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},c=e==null?void 0:e()){this.id=kH++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(TH),this.nodes.forEach(OH),this.nodes.forEach(MH),this.nodes.forEach(RH)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new mH)}addEventListener(o,c){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new nN),this.eventHandlers.get(o).add(c)}notifyListeners(o,...c){const u=this.eventHandlers.get(o);u&&u.notify(...c)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=BP(o)&&!xq(o),this.instance=o;const{layoutId:c,layout:u,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||c)&&(this.isLayoutDirty=!0),t){let f,m=0;const g=()=>this.root.updateBlockedByResize=!1;wn.read(()=>{m=window.innerWidth}),t(o,()=>{const x=window.innerWidth;x!==m&&(m=x,this.root.updateBlockedByResize=!0,f&&f(),f=pH(g,250),Zg.hasAnimatedSinceResize&&(Zg.hasAnimatedSinceResize=!1,this.nodes.forEach(JC)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeLayoutChanged:g,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||h.getDefaultTransition()||UH,{onLayoutAnimationStart:w,onLayoutAnimationComplete:j}=h.getProps(),N=!this.targetLayout||!S4(this.targetLayout,x),S=!m&&g;if(this.options.layoutRoot||this.resumeFrom||S||m&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const k={...pN(_,"layout"),onPlay:w,onComplete:j};(h.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k),this.setAnimationOrigin(f,S)}else m||JC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),jl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(DH),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&E4(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const m=this.path[f];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:c,layout:u}=this.options;if(c===void 0&&!u)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(GC);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(QC);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(PH),this.nodes.forEach(CH),this.nodes.forEach(AH)):this.nodes.forEach(QC),this.clearAllSnapshots();const c=ws.now();Sr.delta=fo(0,1e3/60,c-Sr.timestamp),Sr.timestamp=c,Sr.isProcessing=!0,Kv.update.process(Sr),Kv.preRender.process(Sr),Kv.render.process(Sr),Sr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,xN.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(IH),this.sharedNodes.forEach(LH)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,wn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){wn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!rs(this.snapshot.measuredBox.x)&&!rs(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Un(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(c=!1),c&&this.instance){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!N4(this.projectionDelta),u=this.getTransformTemplate(),h=u?u(this.latestValues,""):void 0,f=h!==this.prevTransformTemplateValue;o&&this.instance&&(c||gc(this.latestValues)||f)&&(i(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const c=this.measurePageBox();let u=this.removeElementScroll(c);return o&&(u=this.removeTransform(u)),$H(u),{animationId:this.root.animationId,measuredBox:c,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:o}=this.options;if(!o)return Un();const c=o.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(BH))){const{scroll:f}=this.root;f&&(ud(c.x,f.offset.x),ud(c.y,f.offset.y))}return c}removeElementScroll(o){var u;const c=Un();if(si(c,o),(u=this.scroll)!=null&&u.wasRoot)return c;for(let h=0;h<this.path.length;h++){const f=this.path[h],{scroll:m,options:g}=f;f!==this.root&&m&&g.layoutScroll&&(m.wasRoot&&si(c,o),ud(c.x,m.offset.x),ud(c.y,m.offset.y))}return c}applyTransform(o,c=!1){const u=Un();si(u,o);for(let h=0;h<this.path.length;h++){const f=this.path[h];!c&&f.options.layoutScroll&&f.scroll&&f!==f.root&&dd(u,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),gc(f.latestValues)&&dd(u,f.latestValues)}return gc(this.latestValues)&&dd(u,this.latestValues),u}removeTransform(o){const c=Un();si(c,o);for(let u=0;u<this.path.length;u++){const h=this.path[u];if(!h.instance||!gc(h.latestValues))continue;qw(h.latestValues)&&h.updateSnapshot();const f=Un(),m=h.measurePageBox();si(f,m),BC(c,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,f)}return gc(this.latestValues)&&BC(c,this.latestValues),c}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Sr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var g;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:m}=this.options;if(!(!this.layout||!(f||m))){if(this.resolvedRelativeTargetAt=Sr.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Un(),this.relativeTargetOrigin=Un(),Ff(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),si(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Un(),this.targetWithTransforms=Un()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),G7(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):si(this.target,this.layout.layoutBox),i4(this.target,this.targetDelta)):si(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Un(),this.relativeTargetOrigin=Un(),Ff(this.relativeTargetOrigin,this.target,x.target),si(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||qw(this.parent.latestValues)||s4(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var _;const o=this.getLead(),c=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||(_=this.parent)!=null&&_.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Sr.timestamp&&(u=!1),u)return;const{layout:h,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||f))return;si(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,g=this.treeScale.y;a7(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Un());const{target:x}=o;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(VC(this.prevProjectionDelta.x,this.projectionDelta.x),VC(this.prevProjectionDelta.y,this.projectionDelta.y)),Lf(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==g||!KC(this.projectionDelta.x,this.prevProjectionDelta.x)||!KC(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),o){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=hd(),this.projectionDelta=hd(),this.projectionDeltaWithTransform=hd()}setAnimationOrigin(o,c=!1){const u=this.snapshot,h=u?u.latestValues:{},f={...this.latestValues},m=hd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const g=Un(),x=u?u.source:void 0,_=this.layout?this.layout.source:void 0,w=x!==_,j=this.getStack(),N=!j||j.members.length<=1,S=!!(w&&!N&&this.options.crossfade===!0&&!this.path.some(VH));this.animationProgress=0;let k;this.mixTargetDelta=C=>{const R=C/1e3;YC(m.x,o.x,R),YC(m.y,o.y,R),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ff(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),FH(this.relativeTarget,this.relativeTargetOrigin,g,R),k&&_H(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=Un()),si(k,this.relativeTarget)),w&&(this.animationValues=f,xH(f,h,this.latestValues,R,S,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var c,u,h;this.notifyListeners("animationStart"),(c=this.currentAnimation)==null||c.stop(),(h=(u=this.resumingFrom)==null?void 0:u.currentAnimation)==null||h.stop(),this.pendingAnimation&&(jl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=wn.update(()=>{Zg.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=zd(0)),this.currentAnimation=hH(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),o.onUpdate&&o.onUpdate(f)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(EH),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:c,target:u,layout:h,latestValues:f}=o;if(!(!c||!u||!h)){if(this!==o&&this.layout&&h&&C4(this.options.animationType,this.layout.layoutBox,h.layoutBox)){u=this.target||Un();const m=rs(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+m;const g=rs(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+g}si(c,u),dd(c,f),Lf(this.projectionDeltaWithTransform,this.layoutCorrected,c,f)}}registerSharedNode(o,c){this.sharedNodes.has(o)||this.sharedNodes.set(o,new NH),this.sharedNodes.get(o).add(c);const h=c.options.initialPromotionConfig;c.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(c):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var c;const{layoutId:o}=this.options;return o?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:o}=this.options;return o?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:c,preserveFollowOpacity:u}={}){const h=this.getStack();h&&h.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let c=!1;const{latestValues:u}=o;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(c=!0),!c)return;const h={};u.z&&ib("z",o,h,this.animationValues);for(let f=0;f<sb.length;f++)ib(`rotate${sb[f]}`,o,h,this.animationValues),ib(`skew${sb[f]}`,o,h,this.animationValues);o.render();for(const f in h)o.setStaticValue(f,h[f]),this.animationValues&&(this.animationValues[f]=h[f]);o.scheduleRender()}applyProjectionStyles(o,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Xg(c==null?void 0:c.pointerEvents)||"",o.transform=u?u(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Xg(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!gc(this.latestValues)&&(o.transform=u?u({},""):"none",this.hasProjected=!1);return}o.visibility="";const f=h.animationValues||h.latestValues;this.applyTransformsToTarget();let m=SH(this.projectionDeltaWithTransform,this.treeScale,f);u&&(m=u(f,m)),o.transform=m;const{x:g,y:x}=this.projectionDelta;o.transformOrigin=`${g.origin*100}% ${x.origin*100}% 0`,h.animationValues?o.opacity=h===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:o.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const _ in am){if(f[_]===void 0)continue;const{correct:w,applyTo:j,isCSSVariable:N}=am[_],S=m==="none"?f[_]:w(f[_],h);if(j){const k=j.length;for(let C=0;C<k;C++)o[j[C]]=S}else N?this.options.visualElement.renderState.vars[_]=S:o[_]=S}this.options.layoutId&&(o.pointerEvents=h===this?Xg(c==null?void 0:c.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var c;return(c=o.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach(GC),this.root.sharedNodes.clear()}}}function CH(t){t.updateLayout()}function AH(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:a}=t.options,o=e.source!==t.layout.source;a==="size"?ii(m=>{const g=o?e.measuredBox[m]:e.layoutBox[m],x=rs(g);g.min=r[m].min,g.max=g.min+x}):C4(a,e.layoutBox,r)&&ii(m=>{const g=o?e.measuredBox[m]:e.layoutBox[m],x=rs(r[m]);g.max=g.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+x)});const c=hd();Lf(c,r,e.layoutBox);const u=hd();o?Lf(u,t.applyTransform(i,!0),e.measuredBox):Lf(u,r,e.layoutBox);const h=!N4(c);let f=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:g,layout:x}=m;if(g&&x){const _=Un();Ff(_,e.layoutBox,g.layoutBox);const w=Un();Ff(w,r,x.layoutBox),S4(_,w)||(f=!0),m.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=_,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:u,layoutDelta:c,hasLayoutChanged:h,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function TH(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function RH(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function IH(t){t.clearSnapshot()}function GC(t){t.clearMeasurements()}function QC(t){t.isLayoutDirty=!1}function PH(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function JC(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function OH(t){t.resolveTargetDelta()}function MH(t){t.calcProjection()}function DH(t){t.resetSkewAndRotation()}function LH(t){t.removeLeadSnapshot()}function YC(t,e,n){t.translate=En(e.translate,0,n),t.scale=En(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function XC(t,e,n,r){t.min=En(e.min,n.min,r),t.max=En(e.max,n.max,r)}function FH(t,e,n,r){XC(t.x,e.x,n.x,r),XC(t.y,e.y,n.y,r)}function VH(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const UH={duration:.45,ease:[.4,0,.1,1]},ZC=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),eA=ZC("applewebkit/")&&!ZC("chrome/")?Math.round:pi;function tA(t){t.min=eA(t.min),t.max=eA(t.max)}function $H(t){tA(t.x),tA(t.y)}function C4(t,e,n){return t==="position"||t==="preserve-aspect"&&!K7(WC(e),WC(n),.2)}function BH(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const zH=k4({attachResizeListener:(t,e)=>om(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ab={current:void 0},A4=k4({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!ab.current){const t=new zH({});t.mount(window),t.setOptions({layoutScroll:!0}),ab.current=t}return ab.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),qH={pan:{Feature:lH},drag:{Feature:oH,ProjectionNode:A4,MeasureLayout:w4}};function nA(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&wn.postRender(()=>a(e,Dm(e)))}class HH extends Ml{mount(){const{current:e}=this.node;e&&(this.unmount=hq(e,(n,r)=>(nA(this.node,r,"Start"),i=>nA(this.node,i,"End"))))}unmount(){}}class WH extends Ml{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Pm(om(this.node.current,"focus",()=>this.onFocus()),om(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function rA(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&wn.postRender(()=>a(e,Dm(e)))}class KH extends Ml{mount(){const{current:e}=this.node;e&&(this.unmount=gq(e,(n,r)=>(rA(this.node,r,"Start"),(i,{success:a})=>rA(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Yw=new WeakMap,ob=new WeakMap,GH=t=>{const e=Yw.get(t.target);e&&e(t)},QH=t=>{t.forEach(GH)};function JH({root:t,...e}){const n=t||document;ob.has(n)||ob.set(n,{});const r=ob.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(QH,{root:t,...e})),r[i]}function YH(t,e,n){const r=JH(e);return Yw.set(t,n),r.observe(t),()=>{Yw.delete(t),r.unobserve(t)}}const XH={some:0,all:1};class ZH extends Ml{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:XH[i]},c=u=>{const{isIntersecting:h}=u;if(this.isInView===h||(this.isInView=h,a&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:f,onViewportLeave:m}=this.node.getProps(),g=h?f:m;g&&g(u)};return YH(this.node.current,o,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(eW(e,n))&&this.startObserver()}unmount(){}}function eW({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const tW={inView:{Feature:ZH},tap:{Feature:KH},focus:{Feature:WH},hover:{Feature:HH}},nW={layout:{ProjectionNode:A4,MeasureLayout:w4}},rW={...$7,...tW,...qH,...nW},te=r7(rW,g7);function nt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function sA(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function jo(...t){return e=>{let n=!1;const r=t.map(i=>{const a=sA(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():sA(t[i],null)}}}}function rn(...t){return y.useCallback(jo(...t),t)}function sW(t,e){const n=y.createContext(e),r=a=>{const{children:o,...c}=a,u=y.useMemo(()=>c,Object.values(c));return s.jsx(n.Provider,{value:u,children:o})};r.displayName=t+"Provider";function i(a){const o=y.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[r,i]}function Oa(t,e=[]){let n=[];function r(a,o){const c=y.createContext(o),u=n.length;n=[...n,o];const h=m=>{var N;const{scope:g,children:x,..._}=m,w=((N=g==null?void 0:g[t])==null?void 0:N[u])||c,j=y.useMemo(()=>_,Object.values(_));return s.jsx(w.Provider,{value:j,children:x})};h.displayName=a+"Provider";function f(m,g){var w;const x=((w=g==null?void 0:g[t])==null?void 0:w[u])||c,_=y.useContext(x);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${a}\``)}return[h,f]}const i=()=>{const a=n.map(o=>y.createContext(o));return function(c){const u=(c==null?void 0:c[t])||a;return y.useMemo(()=>({[`__scope${t}`]:{...c,[t]:u}}),[c,u])}};return i.scopeName=t,[r,iW(i,...e)]}function iW(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((c,{useScope:u,scopeName:h})=>{const m=u(a)[`__scope${h}`];return{...c,...m}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var ur=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},aW=M_[" useInsertionEffect ".trim().toString()]||ur;function Nl({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,a,o]=oW({defaultProp:e,onChange:n}),c=t!==void 0,u=c?t:i;{const f=y.useRef(t!==void 0);y.useEffect(()=>{const m=f.current;m!==c&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=c},[c,r])}const h=y.useCallback(f=>{var m;if(c){const g=lW(f)?f(t):f;g!==t&&((m=o.current)==null||m.call(o,g))}else a(f)},[c,t,a,o]);return[u,h]}function oW({defaultProp:t,onChange:e}){const[n,r]=y.useState(t),i=y.useRef(n),a=y.useRef(e);return aW(()=>{a.current=e},[e]),y.useEffect(()=>{var o;i.current!==n&&((o=a.current)==null||o.call(a,n),i.current=n)},[n,i]),[n,r,a]}function lW(t){return typeof t=="function"}function cW(t){const e=uW(t),n=y.forwardRef((r,i)=>{const{children:a,...o}=r,c=y.Children.toArray(a),u=c.find(hW);if(u){const h=u.props.children,f=c.map(m=>m===u?y.Children.count(h)>1?y.Children.only(null):y.isValidElement(h)?h.props.children:null:m);return s.jsx(e,{...o,ref:i,children:y.isValidElement(h)?y.cloneElement(h,void 0,f):null})}return s.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function uW(t){const e=y.forwardRef((n,r)=>{const{children:i,...a}=n;if(y.isValidElement(i)){const o=mW(i),c=fW(a,i.props);return i.type!==y.Fragment&&(c.ref=r?jo(r,o):o),y.cloneElement(i,c)}return y.Children.count(i)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var dW=Symbol("radix.slottable");function hW(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===dW}function fW(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...c)=>{const u=a(...c);return i(...c),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function mW(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var pW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],At=pW.reduce((t,e)=>{const n=cW(`Primitive.${e}`),r=y.forwardRef((i,a)=>{const{asChild:o,...c}=i,u=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(u,{...c,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function T4(t,e){t&&Im.flushSync(()=>t.dispatchEvent(e))}function iA(t){const e=gW(t),n=y.forwardRef((r,i)=>{const{children:a,...o}=r,c=y.Children.toArray(a),u=c.find(yW);if(u){const h=u.props.children,f=c.map(m=>m===u?y.Children.count(h)>1?y.Children.only(null):y.isValidElement(h)?h.props.children:null:m);return s.jsx(e,{...o,ref:i,children:y.isValidElement(h)?y.cloneElement(h,void 0,f):null})}return s.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function gW(t){const e=y.forwardRef((n,r)=>{const{children:i,...a}=n;if(y.isValidElement(i)){const o=bW(i),c=vW(a,i.props);return i.type!==y.Fragment&&(c.ref=r?jo(r,o):o),y.cloneElement(i,c)}return y.Children.count(i)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var xW=Symbol("radix.slottable");function yW(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===xW}function vW(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...c)=>{const u=a(...c);return i(...c),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function bW(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function AN(t){const e=t+"CollectionProvider",[n,r]=Oa(e),[i,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=w=>{const{scope:j,children:N}=w,S=Nt.useRef(null),k=Nt.useRef(new Map).current;return s.jsx(i,{scope:j,itemMap:k,collectionRef:S,children:N})};o.displayName=e;const c=t+"CollectionSlot",u=iA(c),h=Nt.forwardRef((w,j)=>{const{scope:N,children:S}=w,k=a(c,N),C=rn(j,k.collectionRef);return s.jsx(u,{ref:C,children:S})});h.displayName=c;const f=t+"CollectionItemSlot",m="data-radix-collection-item",g=iA(f),x=Nt.forwardRef((w,j)=>{const{scope:N,children:S,...k}=w,C=Nt.useRef(null),R=rn(j,C),O=a(f,N);return Nt.useEffect(()=>(O.itemMap.set(C,{ref:C,...k}),()=>void O.itemMap.delete(C))),s.jsx(g,{[m]:"",ref:R,children:S})});x.displayName=f;function _(w){const j=a(t+"CollectionConsumer",w);return Nt.useCallback(()=>{const S=j.collectionRef.current;if(!S)return[];const k=Array.from(S.querySelectorAll(`[${m}]`));return Array.from(j.itemMap.values()).sort((O,A)=>k.indexOf(O.ref.current)-k.indexOf(A.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:o,Slot:h,ItemSlot:x},_,r]}var wW=y.createContext(void 0);function vy(t){const e=y.useContext(wW);return t||e||"ltr"}function Mi(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function jW(t,e=globalThis==null?void 0:globalThis.document){const n=Mi(t);y.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var _W="DismissableLayer",Xw="dismissableLayer.update",NW="dismissableLayer.pointerDownOutside",SW="dismissableLayer.focusOutside",aA,R4=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),by=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:c,...u}=t,h=y.useContext(R4),[f,m]=y.useState(null),g=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=y.useState({}),_=rn(e,A=>m(A)),w=Array.from(h.layers),[j]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),N=w.indexOf(j),S=f?w.indexOf(f):-1,k=h.layersWithOutsidePointerEventsDisabled.size>0,C=S>=N,R=CW(A=>{const M=A.target,P=[...h.branches].some(F=>F.contains(M));!C||P||(i==null||i(A),o==null||o(A),A.defaultPrevented||c==null||c())},g),O=AW(A=>{const M=A.target;[...h.branches].some(F=>F.contains(M))||(a==null||a(A),o==null||o(A),A.defaultPrevented||c==null||c())},g);return jW(A=>{S===h.layers.size-1&&(r==null||r(A),!A.defaultPrevented&&c&&(A.preventDefault(),c()))},g),y.useEffect(()=>{if(f)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(aA=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(f)),h.layers.add(f),oA(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=aA)}},[f,g,n,h]),y.useEffect(()=>()=>{f&&(h.layers.delete(f),h.layersWithOutsidePointerEventsDisabled.delete(f),oA())},[f,h]),y.useEffect(()=>{const A=()=>x({});return document.addEventListener(Xw,A),()=>document.removeEventListener(Xw,A)},[]),s.jsx(At.div,{...u,ref:_,style:{pointerEvents:k?C?"auto":"none":void 0,...t.style},onFocusCapture:nt(t.onFocusCapture,O.onFocusCapture),onBlurCapture:nt(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:nt(t.onPointerDownCapture,R.onPointerDownCapture)})});by.displayName=_W;var EW="DismissableLayerBranch",kW=y.forwardRef((t,e)=>{const n=y.useContext(R4),r=y.useRef(null),i=rn(e,r);return y.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),s.jsx(At.div,{...t,ref:i})});kW.displayName=EW;function CW(t,e=globalThis==null?void 0:globalThis.document){const n=Mi(t),r=y.useRef(!1),i=y.useRef(()=>{});return y.useEffect(()=>{const a=c=>{if(c.target&&!r.current){let u=function(){I4(NW,n,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=u,e.addEventListener("click",i.current,{once:!0})):u()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function AW(t,e=globalThis==null?void 0:globalThis.document){const n=Mi(t),r=y.useRef(!1);return y.useEffect(()=>{const i=a=>{a.target&&!r.current&&I4(SW,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function oA(){const t=new CustomEvent(Xw);document.dispatchEvent(t)}function I4(t,e,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?T4(i,a):i.dispatchEvent(a)}var lb=0;function TN(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??lA()),document.body.insertAdjacentElement("beforeend",t[1]??lA()),lb++,()=>{lb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),lb--}},[])}function lA(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var cb="focusScope.autoFocusOnMount",ub="focusScope.autoFocusOnUnmount",cA={bubbles:!1,cancelable:!0},TW="FocusScope",wy=y.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=t,[c,u]=y.useState(null),h=Mi(i),f=Mi(a),m=y.useRef(null),g=rn(e,w=>u(w)),x=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let w=function(k){if(x.paused||!c)return;const C=k.target;c.contains(C)?m.current=C:Jo(m.current,{select:!0})},j=function(k){if(x.paused||!c)return;const C=k.relatedTarget;C!==null&&(c.contains(C)||Jo(m.current,{select:!0}))},N=function(k){if(document.activeElement===document.body)for(const R of k)R.removedNodes.length>0&&Jo(c)};document.addEventListener("focusin",w),document.addEventListener("focusout",j);const S=new MutationObserver(N);return c&&S.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",j),S.disconnect()}}},[r,c,x.paused]),y.useEffect(()=>{if(c){dA.add(x);const w=document.activeElement;if(!c.contains(w)){const N=new CustomEvent(cb,cA);c.addEventListener(cb,h),c.dispatchEvent(N),N.defaultPrevented||(RW(DW(P4(c)),{select:!0}),document.activeElement===w&&Jo(c))}return()=>{c.removeEventListener(cb,h),setTimeout(()=>{const N=new CustomEvent(ub,cA);c.addEventListener(ub,f),c.dispatchEvent(N),N.defaultPrevented||Jo(w??document.body,{select:!0}),c.removeEventListener(ub,f),dA.remove(x)},0)}}},[c,h,f,x]);const _=y.useCallback(w=>{if(!n&&!r||x.paused)return;const j=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,N=document.activeElement;if(j&&N){const S=w.currentTarget,[k,C]=IW(S);k&&C?!w.shiftKey&&N===C?(w.preventDefault(),n&&Jo(k,{select:!0})):w.shiftKey&&N===k&&(w.preventDefault(),n&&Jo(C,{select:!0})):N===S&&w.preventDefault()}},[n,r,x.paused]);return s.jsx(At.div,{tabIndex:-1,...o,ref:g,onKeyDown:_})});wy.displayName=TW;function RW(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Jo(r,{select:e}),document.activeElement!==n)return}function IW(t){const e=P4(t),n=uA(e,t),r=uA(e.reverse(),t);return[n,r]}function P4(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function uA(t,e){for(const n of t)if(!PW(n,{upTo:e}))return n}function PW(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function OW(t){return t instanceof HTMLInputElement&&"select"in t}function Jo(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&OW(t)&&e&&t.select()}}var dA=MW();function MW(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=hA(t,e),t.unshift(e)},remove(e){var n;t=hA(t,e),(n=t[0])==null||n.resume()}}}function hA(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function DW(t){return t.filter(e=>e.tagName!=="A")}var LW=M_[" useId ".trim().toString()]||(()=>{}),FW=0;function ba(t){const[e,n]=y.useState(LW());return ur(()=>{n(r=>r??String(FW++))},[t]),e?`radix-${e}`:""}const VW=["top","right","bottom","left"],Sl=Math.min,$s=Math.max,Ax=Math.round,fg=Math.floor,wa=t=>({x:t,y:t}),UW={left:"right",right:"left",bottom:"top",top:"bottom"},$W={start:"end",end:"start"};function Zw(t,e,n){return $s(t,Sl(e,n))}function po(t,e){return typeof t=="function"?t(e):t}function go(t){return t.split("-")[0]}function fh(t){return t.split("-")[1]}function RN(t){return t==="x"?"y":"x"}function IN(t){return t==="y"?"height":"width"}const BW=new Set(["top","bottom"]);function ga(t){return BW.has(go(t))?"y":"x"}function PN(t){return RN(ga(t))}function zW(t,e,n){n===void 0&&(n=!1);const r=fh(t),i=PN(t),a=IN(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=Tx(o)),[o,Tx(o)]}function qW(t){const e=Tx(t);return[ej(t),e,ej(e)]}function ej(t){return t.replace(/start|end/g,e=>$W[e])}const fA=["left","right"],mA=["right","left"],HW=["top","bottom"],WW=["bottom","top"];function KW(t,e,n){switch(t){case"top":case"bottom":return n?e?mA:fA:e?fA:mA;case"left":case"right":return e?HW:WW;default:return[]}}function GW(t,e,n,r){const i=fh(t);let a=KW(go(t),n==="start",r);return i&&(a=a.map(o=>o+"-"+i),e&&(a=a.concat(a.map(ej)))),a}function Tx(t){return t.replace(/left|right|bottom|top/g,e=>UW[e])}function QW(t){return{top:0,right:0,bottom:0,left:0,...t}}function O4(t){return typeof t!="number"?QW(t):{top:t,right:t,bottom:t,left:t}}function Rx(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function pA(t,e,n){let{reference:r,floating:i}=t;const a=ga(e),o=PN(e),c=IN(o),u=go(e),h=a==="y",f=r.x+r.width/2-i.width/2,m=r.y+r.height/2-i.height/2,g=r[c]/2-i[c]/2;let x;switch(u){case"top":x={x:f,y:r.y-i.height};break;case"bottom":x={x:f,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:m};break;case"left":x={x:r.x-i.width,y:m};break;default:x={x:r.x,y:r.y}}switch(fh(e)){case"start":x[o]-=g*(n&&h?-1:1);break;case"end":x[o]+=g*(n&&h?-1:1);break}return x}const JW=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,c=a.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(e));let h=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:m}=pA(h,r,u),g=r,x={},_=0;for(let w=0;w<c.length;w++){const{name:j,fn:N}=c[w],{x:S,y:k,data:C,reset:R}=await N({x:f,y:m,initialPlacement:r,placement:g,strategy:i,middlewareData:x,rects:h,platform:o,elements:{reference:t,floating:e}});f=S??f,m=k??m,x={...x,[j]:{...x[j],...C}},R&&_<=50&&(_++,typeof R=="object"&&(R.placement&&(g=R.placement),R.rects&&(h=R.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):R.rects),{x:f,y:m}=pA(h,g,u)),w=-1)}return{x:f,y:m,placement:g,strategy:i,middlewareData:x}};async function lm(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:o,elements:c,strategy:u}=t,{boundary:h="clippingAncestors",rootBoundary:f="viewport",elementContext:m="floating",altBoundary:g=!1,padding:x=0}=po(e,t),_=O4(x),j=c[g?m==="floating"?"reference":"floating":m],N=Rx(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(j)))==null||n?j:j.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:h,rootBoundary:f,strategy:u})),S=m==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,k=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),C=await(a.isElement==null?void 0:a.isElement(k))?await(a.getScale==null?void 0:a.getScale(k))||{x:1,y:1}:{x:1,y:1},R=Rx(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:S,offsetParent:k,strategy:u}):S);return{top:(N.top-R.top+_.top)/C.y,bottom:(R.bottom-N.bottom+_.bottom)/C.y,left:(N.left-R.left+_.left)/C.x,right:(R.right-N.right+_.right)/C.x}}const YW=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:a,platform:o,elements:c,middlewareData:u}=e,{element:h,padding:f=0}=po(t,e)||{};if(h==null)return{};const m=O4(f),g={x:n,y:r},x=PN(i),_=IN(x),w=await o.getDimensions(h),j=x==="y",N=j?"top":"left",S=j?"bottom":"right",k=j?"clientHeight":"clientWidth",C=a.reference[_]+a.reference[x]-g[x]-a.floating[_],R=g[x]-a.reference[x],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(h));let A=O?O[k]:0;(!A||!await(o.isElement==null?void 0:o.isElement(O)))&&(A=c.floating[k]||a.floating[_]);const M=C/2-R/2,P=A/2-w[_]/2-1,F=Sl(m[N],P),L=Sl(m[S],P),D=F,V=A-w[_]-L,G=A/2-w[_]/2+M,ee=Zw(D,G,V),ae=!u.arrow&&fh(i)!=null&&G!==ee&&a.reference[_]/2-(G<D?F:L)-w[_]/2<0,ue=ae?G<D?G-D:G-V:0;return{[x]:g[x]+ue,data:{[x]:ee,centerOffset:G-ee-ue,...ae&&{alignmentOffset:ue}},reset:ae}}}),XW=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:a,rects:o,initialPlacement:c,platform:u,elements:h}=e,{mainAxis:f=!0,crossAxis:m=!0,fallbackPlacements:g,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:w=!0,...j}=po(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const N=go(i),S=ga(c),k=go(c)===c,C=await(u.isRTL==null?void 0:u.isRTL(h.floating)),R=g||(k||!w?[Tx(c)]:qW(c)),O=_!=="none";!g&&O&&R.push(...GW(c,w,_,C));const A=[c,...R],M=await lm(e,j),P=[];let F=((r=a.flip)==null?void 0:r.overflows)||[];if(f&&P.push(M[N]),m){const G=zW(i,o,C);P.push(M[G[0]],M[G[1]])}if(F=[...F,{placement:i,overflows:P}],!P.every(G=>G<=0)){var L,D;const G=(((L=a.flip)==null?void 0:L.index)||0)+1,ee=A[G];if(ee&&(!(m==="alignment"?S!==ga(ee):!1)||F.every(Q=>ga(Q.placement)===S?Q.overflows[0]>0:!0)))return{data:{index:G,overflows:F},reset:{placement:ee}};let ae=(D=F.filter(ue=>ue.overflows[0]<=0).sort((ue,Q)=>ue.overflows[1]-Q.overflows[1])[0])==null?void 0:D.placement;if(!ae)switch(x){case"bestFit":{var V;const ue=(V=F.filter(Q=>{if(O){const K=ga(Q.placement);return K===S||K==="y"}return!0}).map(Q=>[Q.placement,Q.overflows.filter(K=>K>0).reduce((K,B)=>K+B,0)]).sort((Q,K)=>Q[1]-K[1])[0])==null?void 0:V[0];ue&&(ae=ue);break}case"initialPlacement":ae=c;break}if(i!==ae)return{reset:{placement:ae}}}return{}}}};function gA(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function xA(t){return VW.some(e=>t[e]>=0)}const ZW=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=po(t,e);switch(r){case"referenceHidden":{const a=await lm(e,{...i,elementContext:"reference"}),o=gA(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:xA(o)}}}case"escaped":{const a=await lm(e,{...i,altBoundary:!0}),o=gA(a,n.floating);return{data:{escapedOffsets:o,escaped:xA(o)}}}default:return{}}}}},M4=new Set(["left","top"]);async function eK(t,e){const{placement:n,platform:r,elements:i}=t,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=go(n),c=fh(n),u=ga(n)==="y",h=M4.has(o)?-1:1,f=a&&u?-1:1,m=po(e,t);let{mainAxis:g,crossAxis:x,alignmentAxis:_}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return c&&typeof _=="number"&&(x=c==="end"?_*-1:_),u?{x:x*f,y:g*h}:{x:g*h,y:x*f}}const tK=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:a,placement:o,middlewareData:c}=e,u=await eK(e,t);return o===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:a+u.y,data:{...u,placement:o}}}}},nK=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:c={fn:j=>{let{x:N,y:S}=j;return{x:N,y:S}}},...u}=po(t,e),h={x:n,y:r},f=await lm(e,u),m=ga(go(i)),g=RN(m);let x=h[g],_=h[m];if(a){const j=g==="y"?"top":"left",N=g==="y"?"bottom":"right",S=x+f[j],k=x-f[N];x=Zw(S,x,k)}if(o){const j=m==="y"?"top":"left",N=m==="y"?"bottom":"right",S=_+f[j],k=_-f[N];_=Zw(S,_,k)}const w=c.fn({...e,[g]:x,[m]:_});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[g]:a,[m]:o}}}}}},rK=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:a,middlewareData:o}=e,{offset:c=0,mainAxis:u=!0,crossAxis:h=!0}=po(t,e),f={x:n,y:r},m=ga(i),g=RN(m);let x=f[g],_=f[m];const w=po(c,e),j=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(u){const k=g==="y"?"height":"width",C=a.reference[g]-a.floating[k]+j.mainAxis,R=a.reference[g]+a.reference[k]-j.mainAxis;x<C?x=C:x>R&&(x=R)}if(h){var N,S;const k=g==="y"?"width":"height",C=M4.has(go(i)),R=a.reference[m]-a.floating[k]+(C&&((N=o.offset)==null?void 0:N[m])||0)+(C?0:j.crossAxis),O=a.reference[m]+a.reference[k]+(C?0:((S=o.offset)==null?void 0:S[m])||0)-(C?j.crossAxis:0);_<R?_=R:_>O&&(_=O)}return{[g]:x,[m]:_}}}},sK=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:a,platform:o,elements:c}=e,{apply:u=()=>{},...h}=po(t,e),f=await lm(e,h),m=go(i),g=fh(i),x=ga(i)==="y",{width:_,height:w}=a.floating;let j,N;m==="top"||m==="bottom"?(j=m,N=g===(await(o.isRTL==null?void 0:o.isRTL(c.floating))?"start":"end")?"left":"right"):(N=m,j=g==="end"?"top":"bottom");const S=w-f.top-f.bottom,k=_-f.left-f.right,C=Sl(w-f[j],S),R=Sl(_-f[N],k),O=!e.middlewareData.shift;let A=C,M=R;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(M=k),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(A=S),O&&!g){const F=$s(f.left,0),L=$s(f.right,0),D=$s(f.top,0),V=$s(f.bottom,0);x?M=_-2*(F!==0||L!==0?F+L:$s(f.left,f.right)):A=w-2*(D!==0||V!==0?D+V:$s(f.top,f.bottom))}await u({...e,availableWidth:M,availableHeight:A});const P=await o.getDimensions(c.floating);return _!==P.width||w!==P.height?{reset:{rects:!0}}:{}}}};function jy(){return typeof window<"u"}function mh(t){return D4(t)?(t.nodeName||"").toLowerCase():"#document"}function Ks(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ma(t){var e;return(e=(D4(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function D4(t){return jy()?t instanceof Node||t instanceof Ks(t).Node:!1}function Di(t){return jy()?t instanceof Element||t instanceof Ks(t).Element:!1}function ka(t){return jy()?t instanceof HTMLElement||t instanceof Ks(t).HTMLElement:!1}function yA(t){return!jy()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ks(t).ShadowRoot}const iK=new Set(["inline","contents"]);function Lm(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Li(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!iK.has(i)}const aK=new Set(["table","td","th"]);function oK(t){return aK.has(mh(t))}const lK=[":popover-open",":modal"];function _y(t){return lK.some(e=>{try{return t.matches(e)}catch{return!1}})}const cK=["transform","translate","scale","rotate","perspective"],uK=["transform","translate","scale","rotate","perspective","filter"],dK=["paint","layout","strict","content"];function ON(t){const e=MN(),n=Di(t)?Li(t):t;return cK.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||uK.some(r=>(n.willChange||"").includes(r))||dK.some(r=>(n.contain||"").includes(r))}function hK(t){let e=El(t);for(;ka(e)&&!Hd(e);){if(ON(e))return e;if(_y(e))return null;e=El(e)}return null}function MN(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const fK=new Set(["html","body","#document"]);function Hd(t){return fK.has(mh(t))}function Li(t){return Ks(t).getComputedStyle(t)}function Ny(t){return Di(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function El(t){if(mh(t)==="html")return t;const e=t.assignedSlot||t.parentNode||yA(t)&&t.host||Ma(t);return yA(e)?e.host:e}function L4(t){const e=El(t);return Hd(e)?t.ownerDocument?t.ownerDocument.body:t.body:ka(e)&&Lm(e)?e:L4(e)}function cm(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=L4(t),a=i===((r=t.ownerDocument)==null?void 0:r.body),o=Ks(i);if(a){const c=tj(o);return e.concat(o,o.visualViewport||[],Lm(i)?i:[],c&&n?cm(c):[])}return e.concat(i,cm(i,[],n))}function tj(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function F4(t){const e=Li(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=ka(t),a=i?t.offsetWidth:n,o=i?t.offsetHeight:r,c=Ax(n)!==a||Ax(r)!==o;return c&&(n=a,r=o),{width:n,height:r,$:c}}function DN(t){return Di(t)?t:t.contextElement}function gd(t){const e=DN(t);if(!ka(e))return wa(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:a}=F4(e);let o=(a?Ax(n.width):n.width)/r,c=(a?Ax(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!c||!Number.isFinite(c))&&(c=1),{x:o,y:c}}const mK=wa(0);function V4(t){const e=Ks(t);return!MN()||!e.visualViewport?mK:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function pK(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ks(t)?!1:e}function Kc(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),a=DN(t);let o=wa(1);e&&(r?Di(r)&&(o=gd(r)):o=gd(t));const c=pK(a,n,r)?V4(a):wa(0);let u=(i.left+c.x)/o.x,h=(i.top+c.y)/o.y,f=i.width/o.x,m=i.height/o.y;if(a){const g=Ks(a),x=r&&Di(r)?Ks(r):r;let _=g,w=tj(_);for(;w&&r&&x!==_;){const j=gd(w),N=w.getBoundingClientRect(),S=Li(w),k=N.left+(w.clientLeft+parseFloat(S.paddingLeft))*j.x,C=N.top+(w.clientTop+parseFloat(S.paddingTop))*j.y;u*=j.x,h*=j.y,f*=j.x,m*=j.y,u+=k,h+=C,_=Ks(w),w=tj(_)}}return Rx({width:f,height:m,x:u,y:h})}function Sy(t,e){const n=Ny(t).scrollLeft;return e?e.left+n:Kc(Ma(t)).left+n}function U4(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Sy(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function gK(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const a=i==="fixed",o=Ma(r),c=e?_y(e.floating):!1;if(r===o||c&&a)return n;let u={scrollLeft:0,scrollTop:0},h=wa(1);const f=wa(0),m=ka(r);if((m||!m&&!a)&&((mh(r)!=="body"||Lm(o))&&(u=Ny(r)),ka(r))){const x=Kc(r);h=gd(r),f.x=x.x+r.clientLeft,f.y=x.y+r.clientTop}const g=o&&!m&&!a?U4(o,u):wa(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-u.scrollLeft*h.x+f.x+g.x,y:n.y*h.y-u.scrollTop*h.y+f.y+g.y}}function xK(t){return Array.from(t.getClientRects())}function yK(t){const e=Ma(t),n=Ny(t),r=t.ownerDocument.body,i=$s(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=$s(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Sy(t);const c=-n.scrollTop;return Li(r).direction==="rtl"&&(o+=$s(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:c}}const vA=25;function vK(t,e){const n=Ks(t),r=Ma(t),i=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,c=0,u=0;if(i){a=i.width,o=i.height;const f=MN();(!f||f&&e==="fixed")&&(c=i.offsetLeft,u=i.offsetTop)}const h=Sy(r);if(h<=0){const f=r.ownerDocument,m=f.body,g=getComputedStyle(m),x=f.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,_=Math.abs(r.clientWidth-m.clientWidth-x);_<=vA&&(a-=_)}else h<=vA&&(a+=h);return{width:a,height:o,x:c,y:u}}const bK=new Set(["absolute","fixed"]);function wK(t,e){const n=Kc(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,a=ka(t)?gd(t):wa(1),o=t.clientWidth*a.x,c=t.clientHeight*a.y,u=i*a.x,h=r*a.y;return{width:o,height:c,x:u,y:h}}function bA(t,e,n){let r;if(e==="viewport")r=vK(t,n);else if(e==="document")r=yK(Ma(t));else if(Di(e))r=wK(e,n);else{const i=V4(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Rx(r)}function $4(t,e){const n=El(t);return n===e||!Di(n)||Hd(n)?!1:Li(n).position==="fixed"||$4(n,e)}function jK(t,e){const n=e.get(t);if(n)return n;let r=cm(t,[],!1).filter(c=>Di(c)&&mh(c)!=="body"),i=null;const a=Li(t).position==="fixed";let o=a?El(t):t;for(;Di(o)&&!Hd(o);){const c=Li(o),u=ON(o);!u&&c.position==="fixed"&&(i=null),(a?!u&&!i:!u&&c.position==="static"&&!!i&&bK.has(i.position)||Lm(o)&&!u&&$4(t,o))?r=r.filter(f=>f!==o):i=c,o=El(o)}return e.set(t,r),r}function _K(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?_y(e)?[]:jK(e,this._c):[].concat(n),r],c=o[0],u=o.reduce((h,f)=>{const m=bA(e,f,i);return h.top=$s(m.top,h.top),h.right=Sl(m.right,h.right),h.bottom=Sl(m.bottom,h.bottom),h.left=$s(m.left,h.left),h},bA(e,c,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function NK(t){const{width:e,height:n}=F4(t);return{width:e,height:n}}function SK(t,e,n){const r=ka(e),i=Ma(e),a=n==="fixed",o=Kc(t,!0,a,e);let c={scrollLeft:0,scrollTop:0};const u=wa(0);function h(){u.x=Sy(i)}if(r||!r&&!a)if((mh(e)!=="body"||Lm(i))&&(c=Ny(e)),r){const x=Kc(e,!0,a,e);u.x=x.x+e.clientLeft,u.y=x.y+e.clientTop}else i&&h();a&&!r&&i&&h();const f=i&&!r&&!a?U4(i,c):wa(0),m=o.left+c.scrollLeft-u.x-f.x,g=o.top+c.scrollTop-u.y-f.y;return{x:m,y:g,width:o.width,height:o.height}}function db(t){return Li(t).position==="static"}function wA(t,e){if(!ka(t)||Li(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ma(t)===n&&(n=n.ownerDocument.body),n}function B4(t,e){const n=Ks(t);if(_y(t))return n;if(!ka(t)){let i=El(t);for(;i&&!Hd(i);){if(Di(i)&&!db(i))return i;i=El(i)}return n}let r=wA(t,e);for(;r&&oK(r)&&db(r);)r=wA(r,e);return r&&Hd(r)&&db(r)&&!ON(r)?n:r||hK(t)||n}const EK=async function(t){const e=this.getOffsetParent||B4,n=this.getDimensions,r=await n(t.floating);return{reference:SK(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function kK(t){return Li(t).direction==="rtl"}const CK={convertOffsetParentRelativeRectToViewportRelativeRect:gK,getDocumentElement:Ma,getClippingRect:_K,getOffsetParent:B4,getElementRects:EK,getClientRects:xK,getDimensions:NK,getScale:gd,isElement:Di,isRTL:kK};function z4(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function AK(t,e){let n=null,r;const i=Ma(t);function a(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function o(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),a();const h=t.getBoundingClientRect(),{left:f,top:m,width:g,height:x}=h;if(c||e(),!g||!x)return;const _=fg(m),w=fg(i.clientWidth-(f+g)),j=fg(i.clientHeight-(m+x)),N=fg(f),k={rootMargin:-_+"px "+-w+"px "+-j+"px "+-N+"px",threshold:$s(0,Sl(1,u))||1};let C=!0;function R(O){const A=O[0].intersectionRatio;if(A!==u){if(!C)return o();A?o(!1,A):r=setTimeout(()=>{o(!1,1e-7)},1e3)}A===1&&!z4(h,t.getBoundingClientRect())&&o(),C=!1}try{n=new IntersectionObserver(R,{...k,root:i.ownerDocument})}catch{n=new IntersectionObserver(R,k)}n.observe(t)}return o(!0),a}function TK(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,h=DN(t),f=i||a?[...h?cm(h):[],...cm(e)]:[];f.forEach(N=>{i&&N.addEventListener("scroll",n,{passive:!0}),a&&N.addEventListener("resize",n)});const m=h&&c?AK(h,n):null;let g=-1,x=null;o&&(x=new ResizeObserver(N=>{let[S]=N;S&&S.target===h&&x&&(x.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var k;(k=x)==null||k.observe(e)})),n()}),h&&!u&&x.observe(h),x.observe(e));let _,w=u?Kc(t):null;u&&j();function j(){const N=Kc(t);w&&!z4(w,N)&&n(),w=N,_=requestAnimationFrame(j)}return n(),()=>{var N;f.forEach(S=>{i&&S.removeEventListener("scroll",n),a&&S.removeEventListener("resize",n)}),m==null||m(),(N=x)==null||N.disconnect(),x=null,u&&cancelAnimationFrame(_)}}const RK=tK,IK=nK,PK=XW,OK=sK,MK=ZW,jA=YW,DK=rK,LK=(t,e,n)=>{const r=new Map,i={platform:CK,...n},a={...i.platform,_c:r};return JW(t,e,{...i,platform:a})};var FK=typeof document<"u",VK=function(){},ex=FK?y.useLayoutEffect:VK;function Ix(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Ix(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&t.$$typeof)&&!Ix(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function q4(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function _A(t,e){const n=q4(t);return Math.round(e*n)/n}function hb(t){const e=y.useRef(t);return ex(()=>{e.current=t}),e}function UK(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:o}={},transform:c=!0,whileElementsMounted:u,open:h}=t,[f,m]=y.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[g,x]=y.useState(r);Ix(g,r)||x(r);const[_,w]=y.useState(null),[j,N]=y.useState(null),S=y.useCallback(Q=>{Q!==O.current&&(O.current=Q,w(Q))},[]),k=y.useCallback(Q=>{Q!==A.current&&(A.current=Q,N(Q))},[]),C=a||_,R=o||j,O=y.useRef(null),A=y.useRef(null),M=y.useRef(f),P=u!=null,F=hb(u),L=hb(i),D=hb(h),V=y.useCallback(()=>{if(!O.current||!A.current)return;const Q={placement:e,strategy:n,middleware:g};L.current&&(Q.platform=L.current),LK(O.current,A.current,Q).then(K=>{const B={...K,isPositioned:D.current!==!1};G.current&&!Ix(M.current,B)&&(M.current=B,Im.flushSync(()=>{m(B)}))})},[g,e,n,L,D]);ex(()=>{h===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,m(Q=>({...Q,isPositioned:!1})))},[h]);const G=y.useRef(!1);ex(()=>(G.current=!0,()=>{G.current=!1}),[]),ex(()=>{if(C&&(O.current=C),R&&(A.current=R),C&&R){if(F.current)return F.current(C,R,V);V()}},[C,R,V,F,P]);const ee=y.useMemo(()=>({reference:O,floating:A,setReference:S,setFloating:k}),[S,k]),ae=y.useMemo(()=>({reference:C,floating:R}),[C,R]),ue=y.useMemo(()=>{const Q={position:n,left:0,top:0};if(!ae.floating)return Q;const K=_A(ae.floating,f.x),B=_A(ae.floating,f.y);return c?{...Q,transform:"translate("+K+"px, "+B+"px)",...q4(ae.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:K,top:B}},[n,c,ae.floating,f.x,f.y]);return y.useMemo(()=>({...f,update:V,refs:ee,elements:ae,floatingStyles:ue}),[f,V,ee,ae,ue])}const $K=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?jA({element:r.current,padding:i}).fn(n):{}:r?jA({element:r,padding:i}).fn(n):{}}}},BK=(t,e)=>({...RK(t),options:[t,e]}),zK=(t,e)=>({...IK(t),options:[t,e]}),qK=(t,e)=>({...DK(t),options:[t,e]}),HK=(t,e)=>({...PK(t),options:[t,e]}),WK=(t,e)=>({...OK(t),options:[t,e]}),KK=(t,e)=>({...MK(t),options:[t,e]}),GK=(t,e)=>({...$K(t),options:[t,e]});var QK="Arrow",H4=y.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...a}=t;return s.jsx(At.svg,{...a,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});H4.displayName=QK;var JK=H4;function LN(t){const[e,n]=y.useState(void 0);return ur(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,c;if("borderBoxSize"in a){const u=a.borderBoxSize,h=Array.isArray(u)?u[0]:u;o=h.inlineSize,c=h.blockSize}else o=t.offsetWidth,c=t.offsetHeight;n({width:o,height:c})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var FN="Popper",[W4,Ey]=Oa(FN),[YK,K4]=W4(FN),G4=t=>{const{__scopePopper:e,children:n}=t,[r,i]=y.useState(null);return s.jsx(YK,{scope:e,anchor:r,onAnchorChange:i,children:n})};G4.displayName=FN;var Q4="PopperAnchor",J4=y.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,a=K4(Q4,n),o=y.useRef(null),c=rn(e,o),u=y.useRef(null);return y.useEffect(()=>{const h=u.current;u.current=(r==null?void 0:r.current)||o.current,h!==u.current&&a.onAnchorChange(u.current)}),r?null:s.jsx(At.div,{...i,ref:c})});J4.displayName=Q4;var VN="PopperContent",[XK,ZK]=W4(VN),Y4=y.forwardRef((t,e)=>{var ve,Fe,Ie,ze,rt,de;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:c=0,avoidCollisions:u=!0,collisionBoundary:h=[],collisionPadding:f=0,sticky:m="partial",hideWhenDetached:g=!1,updatePositionStrategy:x="optimized",onPlaced:_,...w}=t,j=K4(VN,n),[N,S]=y.useState(null),k=rn(e,se=>S(se)),[C,R]=y.useState(null),O=LN(C),A=(O==null?void 0:O.width)??0,M=(O==null?void 0:O.height)??0,P=r+(a!=="center"?"-"+a:""),F=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},L=Array.isArray(h)?h:[h],D=L.length>0,V={padding:F,boundary:L.filter(tG),altBoundary:D},{refs:G,floatingStyles:ee,placement:ae,isPositioned:ue,middlewareData:Q}=UK({strategy:"fixed",placement:P,whileElementsMounted:(...se)=>TK(...se,{animationFrame:x==="always"}),elements:{reference:j.anchor},middleware:[BK({mainAxis:i+M,alignmentAxis:o}),u&&zK({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?qK():void 0,...V}),u&&HK({...V}),WK({...V,apply:({elements:se,rects:ge,availableWidth:Re,availableHeight:Xe})=>{const{width:It,height:Ln}=ge.reference,kt=se.floating.style;kt.setProperty("--radix-popper-available-width",`${Re}px`),kt.setProperty("--radix-popper-available-height",`${Xe}px`),kt.setProperty("--radix-popper-anchor-width",`${It}px`),kt.setProperty("--radix-popper-anchor-height",`${Ln}px`)}}),C&&GK({element:C,padding:c}),nG({arrowWidth:A,arrowHeight:M}),g&&KK({strategy:"referenceHidden",...V})]}),[K,B]=eO(ae),z=Mi(_);ur(()=>{ue&&(z==null||z())},[ue,z]);const X=(ve=Q.arrow)==null?void 0:ve.x,q=(Fe=Q.arrow)==null?void 0:Fe.y,ye=((Ie=Q.arrow)==null?void 0:Ie.centerOffset)!==0,[_e,Ee]=y.useState();return ur(()=>{N&&Ee(window.getComputedStyle(N).zIndex)},[N]),s.jsx("div",{ref:G.setFloating,"data-radix-popper-content-wrapper":"",style:{...ee,transform:ue?ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:_e,"--radix-popper-transform-origin":[(ze=Q.transformOrigin)==null?void 0:ze.x,(rt=Q.transformOrigin)==null?void 0:rt.y].join(" "),...((de=Q.hide)==null?void 0:de.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:s.jsx(XK,{scope:n,placedSide:K,onArrowChange:R,arrowX:X,arrowY:q,shouldHideArrow:ye,children:s.jsx(At.div,{"data-side":K,"data-align":B,...w,ref:k,style:{...w.style,animation:ue?void 0:"none"}})})})});Y4.displayName=VN;var X4="PopperArrow",eG={top:"bottom",right:"left",bottom:"top",left:"right"},Z4=y.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,a=ZK(X4,r),o=eG[a.placedSide];return s.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:s.jsx(JK,{...i,ref:n,style:{...i.style,display:"block"}})})});Z4.displayName=X4;function tG(t){return t!==null}var nG=t=>({name:"transformOrigin",options:t,fn(e){var j,N,S;const{placement:n,rects:r,middlewareData:i}=e,o=((j=i.arrow)==null?void 0:j.centerOffset)!==0,c=o?0:t.arrowWidth,u=o?0:t.arrowHeight,[h,f]=eO(n),m={start:"0%",center:"50%",end:"100%"}[f],g=(((N=i.arrow)==null?void 0:N.x)??0)+c/2,x=(((S=i.arrow)==null?void 0:S.y)??0)+u/2;let _="",w="";return h==="bottom"?(_=o?m:`${g}px`,w=`${-u}px`):h==="top"?(_=o?m:`${g}px`,w=`${r.floating.height+u}px`):h==="right"?(_=`${-u}px`,w=o?m:`${x}px`):h==="left"&&(_=`${r.floating.width+u}px`,w=o?m:`${x}px`),{data:{x:_,y:w}}}});function eO(t){const[e,n="center"]=t.split("-");return[e,n]}var tO=G4,nO=J4,rO=Y4,sO=Z4,rG="Portal",ky=y.forwardRef((t,e)=>{var c;const{container:n,...r}=t,[i,a]=y.useState(!1);ur(()=>a(!0),[]);const o=n||i&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return o?cB.createPortal(s.jsx(At.div,{...r,ref:e}),o):null});ky.displayName=rG;function sG(t,e){return y.useReducer((n,r)=>e[n][r]??n,t)}var Da=t=>{const{present:e,children:n}=t,r=iG(e),i=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),a=rn(r.ref,aG(i));return typeof n=="function"||r.isPresent?y.cloneElement(i,{ref:a}):null};Da.displayName="Presence";function iG(t){const[e,n]=y.useState(),r=y.useRef(null),i=y.useRef(t),a=y.useRef("none"),o=t?"mounted":"unmounted",[c,u]=sG(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const h=mg(r.current);a.current=c==="mounted"?h:"none"},[c]),ur(()=>{const h=r.current,f=i.current;if(f!==t){const g=a.current,x=mg(h);t?u("MOUNT"):x==="none"||(h==null?void 0:h.display)==="none"?u("UNMOUNT"):u(f&&g!==x?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,u]),ur(()=>{if(e){let h;const f=e.ownerDocument.defaultView??window,m=x=>{const w=mg(r.current).includes(CSS.escape(x.animationName));if(x.target===e&&w&&(u("ANIMATION_END"),!i.current)){const j=e.style.animationFillMode;e.style.animationFillMode="forwards",h=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=j)})}},g=x=>{x.target===e&&(a.current=mg(r.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{f.clearTimeout(h),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:y.useCallback(h=>{r.current=h?getComputedStyle(h):null,n(h)},[])}}function mg(t){return(t==null?void 0:t.animationName)||"none"}function aG(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var fb="rovingFocusGroup.onEntryFocus",oG={bubbles:!1,cancelable:!0},Fm="RovingFocusGroup",[nj,iO,lG]=AN(Fm),[cG,Cy]=Oa(Fm,[lG]),[uG,dG]=cG(Fm),aO=y.forwardRef((t,e)=>s.jsx(nj.Provider,{scope:t.__scopeRovingFocusGroup,children:s.jsx(nj.Slot,{scope:t.__scopeRovingFocusGroup,children:s.jsx(hG,{...t,ref:e})})}));aO.displayName=Fm;var hG=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:u,onEntryFocus:h,preventScrollOnEntryFocus:f=!1,...m}=t,g=y.useRef(null),x=rn(e,g),_=vy(a),[w,j]=Nl({prop:o,defaultProp:c??null,onChange:u,caller:Fm}),[N,S]=y.useState(!1),k=Mi(h),C=iO(n),R=y.useRef(!1),[O,A]=y.useState(0);return y.useEffect(()=>{const M=g.current;if(M)return M.addEventListener(fb,k),()=>M.removeEventListener(fb,k)},[k]),s.jsx(uG,{scope:n,orientation:r,dir:_,loop:i,currentTabStopId:w,onItemFocus:y.useCallback(M=>j(M),[j]),onItemShiftTab:y.useCallback(()=>S(!0),[]),onFocusableItemAdd:y.useCallback(()=>A(M=>M+1),[]),onFocusableItemRemove:y.useCallback(()=>A(M=>M-1),[]),children:s.jsx(At.div,{tabIndex:N||O===0?-1:0,"data-orientation":r,...m,ref:x,style:{outline:"none",...t.style},onMouseDown:nt(t.onMouseDown,()=>{R.current=!0}),onFocus:nt(t.onFocus,M=>{const P=!R.current;if(M.target===M.currentTarget&&P&&!N){const F=new CustomEvent(fb,oG);if(M.currentTarget.dispatchEvent(F),!F.defaultPrevented){const L=C().filter(ae=>ae.focusable),D=L.find(ae=>ae.active),V=L.find(ae=>ae.id===w),ee=[D,V,...L].filter(Boolean).map(ae=>ae.ref.current);cO(ee,f)}}R.current=!1}),onBlur:nt(t.onBlur,()=>S(!1))})})}),oO="RovingFocusGroupItem",lO=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,children:o,...c}=t,u=ba(),h=a||u,f=dG(oO,n),m=f.currentTabStopId===h,g=iO(n),{onFocusableItemAdd:x,onFocusableItemRemove:_,currentTabStopId:w}=f;return y.useEffect(()=>{if(r)return x(),()=>_()},[r,x,_]),s.jsx(nj.ItemSlot,{scope:n,id:h,focusable:r,active:i,children:s.jsx(At.span,{tabIndex:m?0:-1,"data-orientation":f.orientation,...c,ref:e,onMouseDown:nt(t.onMouseDown,j=>{r?f.onItemFocus(h):j.preventDefault()}),onFocus:nt(t.onFocus,()=>f.onItemFocus(h)),onKeyDown:nt(t.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){f.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const N=pG(j,f.orientation,f.dir);if(N!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let k=g().filter(C=>C.focusable).map(C=>C.ref.current);if(N==="last")k.reverse();else if(N==="prev"||N==="next"){N==="prev"&&k.reverse();const C=k.indexOf(j.currentTarget);k=f.loop?gG(k,C+1):k.slice(C+1)}setTimeout(()=>cO(k))}}),children:typeof o=="function"?o({isCurrentTabStop:m,hasTabStop:w!=null}):o})})});lO.displayName=oO;var fG={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function mG(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function pG(t,e,n){const r=mG(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return fG[r]}function cO(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function gG(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var uO=aO,dO=lO;function xG(t){const e=yG(t),n=y.forwardRef((r,i)=>{const{children:a,...o}=r,c=y.Children.toArray(a),u=c.find(bG);if(u){const h=u.props.children,f=c.map(m=>m===u?y.Children.count(h)>1?y.Children.only(null):y.isValidElement(h)?h.props.children:null:m);return s.jsx(e,{...o,ref:i,children:y.isValidElement(h)?y.cloneElement(h,void 0,f):null})}return s.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function yG(t){const e=y.forwardRef((n,r)=>{const{children:i,...a}=n;if(y.isValidElement(i)){const o=jG(i),c=wG(a,i.props);return i.type!==y.Fragment&&(c.ref=r?jo(r,o):o),y.cloneElement(i,c)}return y.Children.count(i)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var vG=Symbol("radix.slottable");function bG(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===vG}function wG(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...c)=>{const u=a(...c);return i(...c),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function jG(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var _G=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Bu=new WeakMap,pg=new WeakMap,gg={},mb=0,hO=function(t){return t&&(t.host||hO(t.parentNode))},NG=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=hO(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},SG=function(t,e,n,r){var i=NG(e,Array.isArray(t)?t:[t]);gg[n]||(gg[n]=new WeakMap);var a=gg[n],o=[],c=new Set,u=new Set(i),h=function(m){!m||c.has(m)||(c.add(m),h(m.parentNode))};i.forEach(h);var f=function(m){!m||u.has(m)||Array.prototype.forEach.call(m.children,function(g){if(c.has(g))f(g);else try{var x=g.getAttribute(r),_=x!==null&&x!=="false",w=(Bu.get(g)||0)+1,j=(a.get(g)||0)+1;Bu.set(g,w),a.set(g,j),o.push(g),w===1&&_&&pg.set(g,!0),j===1&&g.setAttribute(n,"true"),_||g.setAttribute(r,"true")}catch(N){console.error("aria-hidden: cannot operate on ",g,N)}})};return f(e),c.clear(),mb++,function(){o.forEach(function(m){var g=Bu.get(m)-1,x=a.get(m)-1;Bu.set(m,g),a.set(m,x),g||(pg.has(m)||m.removeAttribute(r),pg.delete(m)),x||m.removeAttribute(n)}),mb--,mb||(Bu=new WeakMap,Bu=new WeakMap,pg=new WeakMap,gg={})}},UN=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=_G(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),SG(r,i,n,"aria-hidden")):function(){return null}},rj=function(t,e){return rj=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},rj(t,e)};function fO(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");rj(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var di=function(){return di=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},di.apply(this,arguments)};function Dl(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function mO(t,e,n,r){var i=arguments.length,a=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}function pO(t,e){return function(n,r){e(n,r,t)}}function gO(t,e,n,r,i,a){function o(N){if(N!==void 0&&typeof N!="function")throw new TypeError("Function expected");return N}for(var c=r.kind,u=c==="getter"?"get":c==="setter"?"set":"value",h=!e&&t?r.static?t:t.prototype:null,f=e||(h?Object.getOwnPropertyDescriptor(h,r.name):{}),m,g=!1,x=n.length-1;x>=0;x--){var _={};for(var w in r)_[w]=w==="access"?{}:r[w];for(var w in r.access)_.access[w]=r.access[w];_.addInitializer=function(N){if(g)throw new TypeError("Cannot add initializers after decoration has completed");a.push(o(N||null))};var j=(0,n[x])(c==="accessor"?{get:f.get,set:f.set}:f[u],_);if(c==="accessor"){if(j===void 0)continue;if(j===null||typeof j!="object")throw new TypeError("Object expected");(m=o(j.get))&&(f.get=m),(m=o(j.set))&&(f.set=m),(m=o(j.init))&&i.unshift(m)}else(m=o(j))&&(c==="field"?i.unshift(m):f[u]=m)}h&&Object.defineProperty(h,r.name,f),g=!0}function xO(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0}function yO(t){return typeof t=="symbol"?t:"".concat(t)}function vO(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function bO(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function it(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function c(f){try{h(r.next(f))}catch(m){o(m)}}function u(f){try{h(r.throw(f))}catch(m){o(m)}}function h(f){f.done?a(f.value):i(f.value).then(c,u)}h((r=r.apply(t,e||[])).next())})}function wO(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=c(0),o.throw=c(1),o.return=c(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(h){return function(f){return u([h,f])}}function u(h){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,h[0]&&(n=0)),n;)try{if(r=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){n.label=h[1];break}if(h[0]===6&&n.label<a[1]){n.label=a[1],a=h;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(h);break}a[2]&&n.ops.pop(),n.trys.pop();continue}h=e.call(t,n)}catch(f){h=[6,f],i=0}finally{r=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}var Ay=Object.create?(function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}):(function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]});function jO(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Ay(e,t,n)}function Px(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function $N(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(c){o={error:c}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function _O(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat($N(arguments[e]));return t}function NO(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var a=arguments[e],o=0,c=a.length;o<c;o++,i++)r[i]=a[o];return r}function BN(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}function Wd(t){return this instanceof Wd?(this.v=t,this):new Wd(t)}function SO(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(x){return function(_){return Promise.resolve(_).then(x,m)}}function c(x,_){r[x]&&(i[x]=function(w){return new Promise(function(j,N){a.push([x,w,j,N])>1||u(x,w)})},_&&(i[x]=_(i[x])))}function u(x,_){try{h(r[x](_))}catch(w){g(a[0][3],w)}}function h(x){x.value instanceof Wd?Promise.resolve(x.value.v).then(f,m):g(a[0][2],x)}function f(x){u("next",x)}function m(x){u("throw",x)}function g(x,_){x(_),a.shift(),a.length&&u(a[0][0],a[0][1])}}function EO(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,a){e[i]=t[i]?function(o){return(n=!n)?{value:Wd(t[i](o)),done:!1}:a?a(o):o}:a}}function kO(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Px=="function"?Px(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(o){return new Promise(function(c,u){o=t[a](o),i(c,u,o.done,o.value)})}}function i(a,o,c,u){Promise.resolve(u).then(function(h){a({value:h,done:c})},o)}}function CO(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var EG=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},sj=function(t){return sj=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},sj(t)};function AO(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=sj(t),r=0;r<n.length;r++)n[r]!=="default"&&Ay(e,t,n[r]);return EG(e,t),e}function TO(t){return t&&t.__esModule?t:{default:t}}function RO(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function IO(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n}function PO(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function OO(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var kG=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function MO(t){function e(a){t.error=t.hasError?new kG(a,t.error,"An error was suppressed during disposal."):a,t.hasError=!0}var n,r=0;function i(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(i);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(a).then(i,function(o){return e(o),i()})}else r|=1}catch(o){e(o)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function DO(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,a,o){return r?e?".jsx":".js":i&&(!a||!o)?n:i+a+"."+o.toLowerCase()+"js"}):t}const CG={__extends:fO,__assign:di,__rest:Dl,__decorate:mO,__param:pO,__esDecorate:gO,__runInitializers:xO,__propKey:yO,__setFunctionName:vO,__metadata:bO,__awaiter:it,__generator:wO,__createBinding:Ay,__exportStar:jO,__values:Px,__read:$N,__spread:_O,__spreadArrays:NO,__spreadArray:BN,__await:Wd,__asyncGenerator:SO,__asyncDelegator:EO,__asyncValues:kO,__makeTemplateObject:CO,__importStar:AO,__importDefault:TO,__classPrivateFieldGet:RO,__classPrivateFieldSet:IO,__classPrivateFieldIn:PO,__addDisposableResource:OO,__disposeResources:MO,__rewriteRelativeImportExtension:DO},AG=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:OO,get __assign(){return di},__asyncDelegator:EO,__asyncGenerator:SO,__asyncValues:kO,__await:Wd,__awaiter:it,__classPrivateFieldGet:RO,__classPrivateFieldIn:PO,__classPrivateFieldSet:IO,__createBinding:Ay,__decorate:mO,__disposeResources:MO,__esDecorate:gO,__exportStar:jO,__extends:fO,__generator:wO,__importDefault:TO,__importStar:AO,__makeTemplateObject:CO,__metadata:bO,__param:pO,__propKey:yO,__read:$N,__rest:Dl,__rewriteRelativeImportExtension:DO,__runInitializers:xO,__setFunctionName:vO,__spread:_O,__spreadArray:BN,__spreadArrays:NO,__values:Px,default:CG},Symbol.toStringTag,{value:"Module"}));var tx="right-scroll-bar-position",nx="width-before-scroll-bar",TG="with-scroll-bars-hidden",RG="--removed-body-scroll-bar-size";function pb(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function IG(t,e){var n=y.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var PG=typeof window<"u"?y.useLayoutEffect:y.useEffect,NA=new WeakMap;function OG(t,e){var n=IG(null,function(r){return t.forEach(function(i){return pb(i,r)})});return PG(function(){var r=NA.get(n);if(r){var i=new Set(r),a=new Set(t),o=n.current;i.forEach(function(c){a.has(c)||pb(c,null)}),a.forEach(function(c){i.has(c)||pb(c,o)})}NA.set(n,t)},[t]),n}function MG(t){return t}function DG(t,e){e===void 0&&(e=MG);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var o=e(a,r);return n.push(o),function(){n=n.filter(function(c){return c!==o})}},assignSyncMedium:function(a){for(r=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(c){return a(c)},filter:function(){return n}}},assignMedium:function(a){r=!0;var o=[];if(n.length){var c=n;n=[],c.forEach(a),o=n}var u=function(){var f=o;o=[],f.forEach(a)},h=function(){return Promise.resolve().then(u)};h(),n={push:function(f){o.push(f),h()},filter:function(f){return o=o.filter(f),n}}}};return i}function LG(t){t===void 0&&(t={});var e=DG(null);return e.options=di({async:!0,ssr:!1},t),e}var LO=function(t){var e=t.sideCar,n=Dl(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,di({},n))};LO.isSideCarExport=!0;function FG(t,e){return t.useMedium(e),LO}var FO=LG(),gb=function(){},Ty=y.forwardRef(function(t,e){var n=y.useRef(null),r=y.useState({onScrollCapture:gb,onWheelCapture:gb,onTouchMoveCapture:gb}),i=r[0],a=r[1],o=t.forwardProps,c=t.children,u=t.className,h=t.removeScrollBar,f=t.enabled,m=t.shards,g=t.sideCar,x=t.noRelative,_=t.noIsolation,w=t.inert,j=t.allowPinchZoom,N=t.as,S=N===void 0?"div":N,k=t.gapMode,C=Dl(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=g,O=OG([n,e]),A=di(di({},C),i);return y.createElement(y.Fragment,null,f&&y.createElement(R,{sideCar:FO,removeScrollBar:h,shards:m,noRelative:x,noIsolation:_,inert:w,setCallbacks:a,allowPinchZoom:!!j,lockRef:n,gapMode:k}),o?y.cloneElement(y.Children.only(c),di(di({},A),{ref:O})):y.createElement(S,di({},A,{className:u,ref:O}),c))});Ty.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ty.classNames={fullWidth:nx,zeroRight:tx};var VG=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function UG(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=VG();return e&&t.setAttribute("nonce",e),t}function $G(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function BG(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var zG=function(){var t=0,e=null;return{add:function(n){t==0&&(e=UG())&&($G(e,n),BG(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},qG=function(){var t=zG();return function(e,n){y.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},VO=function(){var t=qG(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},HG={left:0,top:0,right:0,gap:0},xb=function(t){return parseInt(t||"",10)||0},WG=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[xb(n),xb(r),xb(i)]},KG=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return HG;var e=WG(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},GG=VO(),xd="data-scroll-locked",QG=function(t,e,n,r){var i=t.left,a=t.top,o=t.right,c=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(TG,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(xd,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(tx,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(nx,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(tx," .").concat(tx,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(nx," .").concat(nx,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(xd,`] {
    `).concat(RG,": ").concat(c,`px;
  }
`)},SA=function(){var t=parseInt(document.body.getAttribute(xd)||"0",10);return isFinite(t)?t:0},JG=function(){y.useEffect(function(){return document.body.setAttribute(xd,(SA()+1).toString()),function(){var t=SA()-1;t<=0?document.body.removeAttribute(xd):document.body.setAttribute(xd,t.toString())}},[])},YG=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;JG();var a=y.useMemo(function(){return KG(i)},[i]);return y.createElement(GG,{styles:QG(a,!e,i,n?"":"!important")})},ij=!1;if(typeof window<"u")try{var xg=Object.defineProperty({},"passive",{get:function(){return ij=!0,!0}});window.addEventListener("test",xg,xg),window.removeEventListener("test",xg,xg)}catch{ij=!1}var zu=ij?{passive:!1}:!1,XG=function(t){return t.tagName==="TEXTAREA"},UO=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!XG(t)&&n[e]==="visible")},ZG=function(t){return UO(t,"overflowY")},eQ=function(t){return UO(t,"overflowX")},EA=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=$O(t,r);if(i){var a=BO(t,r),o=a[1],c=a[2];if(o>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},tQ=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},nQ=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},$O=function(t,e){return t==="v"?ZG(e):eQ(e)},BO=function(t,e){return t==="v"?tQ(e):nQ(e)},rQ=function(t,e){return t==="h"&&e==="rtl"?-1:1},sQ=function(t,e,n,r,i){var a=rQ(t,window.getComputedStyle(e).direction),o=a*r,c=n.target,u=e.contains(c),h=!1,f=o>0,m=0,g=0;do{if(!c)break;var x=BO(t,c),_=x[0],w=x[1],j=x[2],N=w-j-a*_;(_||N)&&$O(t,c)&&(m+=N,g+=_);var S=c.parentNode;c=S&&S.nodeType===Node.DOCUMENT_FRAGMENT_NODE?S.host:S}while(!u&&c!==document.body||u&&(e.contains(c)||e===c));return(f&&Math.abs(m)<1||!f&&Math.abs(g)<1)&&(h=!0),h},yg=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},kA=function(t){return[t.deltaX,t.deltaY]},CA=function(t){return t&&"current"in t?t.current:t},iQ=function(t,e){return t[0]===e[0]&&t[1]===e[1]},aQ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},oQ=0,qu=[];function lQ(t){var e=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),i=y.useState(oQ++)[0],a=y.useState(VO)[0],o=y.useRef(t);y.useEffect(function(){o.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var w=BN([t.lockRef.current],(t.shards||[]).map(CA),!0).filter(Boolean);return w.forEach(function(j){return j.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),w.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var c=y.useCallback(function(w,j){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!o.current.allowPinchZoom;var N=yg(w),S=n.current,k="deltaX"in w?w.deltaX:S[0]-N[0],C="deltaY"in w?w.deltaY:S[1]-N[1],R,O=w.target,A=Math.abs(k)>Math.abs(C)?"h":"v";if("touches"in w&&A==="h"&&O.type==="range")return!1;var M=EA(A,O);if(!M)return!0;if(M?R=A:(R=A==="v"?"h":"v",M=EA(A,O)),!M)return!1;if(!r.current&&"changedTouches"in w&&(k||C)&&(r.current=R),!R)return!0;var P=r.current||R;return sQ(P,j,w,P==="h"?k:C)},[]),u=y.useCallback(function(w){var j=w;if(!(!qu.length||qu[qu.length-1]!==a)){var N="deltaY"in j?kA(j):yg(j),S=e.current.filter(function(R){return R.name===j.type&&(R.target===j.target||j.target===R.shadowParent)&&iQ(R.delta,N)})[0];if(S&&S.should){j.cancelable&&j.preventDefault();return}if(!S){var k=(o.current.shards||[]).map(CA).filter(Boolean).filter(function(R){return R.contains(j.target)}),C=k.length>0?c(j,k[0]):!o.current.noIsolation;C&&j.cancelable&&j.preventDefault()}}},[]),h=y.useCallback(function(w,j,N,S){var k={name:w,delta:j,target:N,should:S,shadowParent:cQ(N)};e.current.push(k),setTimeout(function(){e.current=e.current.filter(function(C){return C!==k})},1)},[]),f=y.useCallback(function(w){n.current=yg(w),r.current=void 0},[]),m=y.useCallback(function(w){h(w.type,kA(w),w.target,c(w,t.lockRef.current))},[]),g=y.useCallback(function(w){h(w.type,yg(w),w.target,c(w,t.lockRef.current))},[]);y.useEffect(function(){return qu.push(a),t.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:g}),document.addEventListener("wheel",u,zu),document.addEventListener("touchmove",u,zu),document.addEventListener("touchstart",f,zu),function(){qu=qu.filter(function(w){return w!==a}),document.removeEventListener("wheel",u,zu),document.removeEventListener("touchmove",u,zu),document.removeEventListener("touchstart",f,zu)}},[]);var x=t.removeScrollBar,_=t.inert;return y.createElement(y.Fragment,null,_?y.createElement(a,{styles:aQ(i)}):null,x?y.createElement(YG,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function cQ(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const uQ=FG(FO,lQ);var Ry=y.forwardRef(function(t,e){return y.createElement(Ty,di({},t,{ref:e,sideCar:uQ}))});Ry.classNames=Ty.classNames;var aj=["Enter"," "],dQ=["ArrowDown","PageUp","Home"],zO=["ArrowUp","PageDown","End"],hQ=[...dQ,...zO],fQ={ltr:[...aj,"ArrowRight"],rtl:[...aj,"ArrowLeft"]},mQ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Vm="Menu",[um,pQ,gQ]=AN(Vm),[su,qO]=Oa(Vm,[gQ,Ey,Cy]),Iy=Ey(),HO=Cy(),[xQ,iu]=su(Vm),[yQ,Um]=su(Vm),WO=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:a,modal:o=!0}=t,c=Iy(e),[u,h]=y.useState(null),f=y.useRef(!1),m=Mi(a),g=vy(i);return y.useEffect(()=>{const x=()=>{f.current=!0,document.addEventListener("pointerdown",_,{capture:!0,once:!0}),document.addEventListener("pointermove",_,{capture:!0,once:!0})},_=()=>f.current=!1;return document.addEventListener("keydown",x,{capture:!0}),()=>{document.removeEventListener("keydown",x,{capture:!0}),document.removeEventListener("pointerdown",_,{capture:!0}),document.removeEventListener("pointermove",_,{capture:!0})}},[]),s.jsx(tO,{...c,children:s.jsx(xQ,{scope:e,open:n,onOpenChange:m,content:u,onContentChange:h,children:s.jsx(yQ,{scope:e,onClose:y.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:f,dir:g,modal:o,children:r})})})};WO.displayName=Vm;var vQ="MenuAnchor",zN=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Iy(n);return s.jsx(nO,{...i,...r,ref:e})});zN.displayName=vQ;var qN="MenuPortal",[bQ,KO]=su(qN,{forceMount:void 0}),GO=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,a=iu(qN,e);return s.jsx(bQ,{scope:e,forceMount:n,children:s.jsx(Da,{present:n||a.open,children:s.jsx(ky,{asChild:!0,container:i,children:r})})})};GO.displayName=qN;var gi="MenuContent",[wQ,HN]=su(gi),QO=y.forwardRef((t,e)=>{const n=KO(gi,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,a=iu(gi,t.__scopeMenu),o=Um(gi,t.__scopeMenu);return s.jsx(um.Provider,{scope:t.__scopeMenu,children:s.jsx(Da,{present:r||a.open,children:s.jsx(um.Slot,{scope:t.__scopeMenu,children:o.modal?s.jsx(jQ,{...i,ref:e}):s.jsx(_Q,{...i,ref:e})})})})}),jQ=y.forwardRef((t,e)=>{const n=iu(gi,t.__scopeMenu),r=y.useRef(null),i=rn(e,r);return y.useEffect(()=>{const a=r.current;if(a)return UN(a)},[]),s.jsx(WN,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:nt(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),_Q=y.forwardRef((t,e)=>{const n=iu(gi,t.__scopeMenu);return s.jsx(WN,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),NQ=xG("MenuContent.ScrollLock"),WN=y.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:c,onEntryFocus:u,onEscapeKeyDown:h,onPointerDownOutside:f,onFocusOutside:m,onInteractOutside:g,onDismiss:x,disableOutsideScroll:_,...w}=t,j=iu(gi,n),N=Um(gi,n),S=Iy(n),k=HO(n),C=pQ(n),[R,O]=y.useState(null),A=y.useRef(null),M=rn(e,A,j.onContentChange),P=y.useRef(0),F=y.useRef(""),L=y.useRef(0),D=y.useRef(null),V=y.useRef("right"),G=y.useRef(0),ee=_?Ry:y.Fragment,ae=_?{as:NQ,allowPinchZoom:!0}:void 0,ue=K=>{var ve,Fe;const B=F.current+K,z=C().filter(Ie=>!Ie.disabled),X=document.activeElement,q=(ve=z.find(Ie=>Ie.ref.current===X))==null?void 0:ve.textValue,ye=z.map(Ie=>Ie.textValue),_e=DQ(ye,B,q),Ee=(Fe=z.find(Ie=>Ie.textValue===_e))==null?void 0:Fe.ref.current;(function Ie(ze){F.current=ze,window.clearTimeout(P.current),ze!==""&&(P.current=window.setTimeout(()=>Ie(""),1e3))})(B),Ee&&setTimeout(()=>Ee.focus())};y.useEffect(()=>()=>window.clearTimeout(P.current),[]),TN();const Q=y.useCallback(K=>{var z,X;return V.current===((z=D.current)==null?void 0:z.side)&&FQ(K,(X=D.current)==null?void 0:X.area)},[]);return s.jsx(wQ,{scope:n,searchRef:F,onItemEnter:y.useCallback(K=>{Q(K)&&K.preventDefault()},[Q]),onItemLeave:y.useCallback(K=>{var B;Q(K)||((B=A.current)==null||B.focus(),O(null))},[Q]),onTriggerLeave:y.useCallback(K=>{Q(K)&&K.preventDefault()},[Q]),pointerGraceTimerRef:L,onPointerGraceIntentChange:y.useCallback(K=>{D.current=K},[]),children:s.jsx(ee,{...ae,children:s.jsx(wy,{asChild:!0,trapped:i,onMountAutoFocus:nt(a,K=>{var B;K.preventDefault(),(B=A.current)==null||B.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(by,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:h,onPointerDownOutside:f,onFocusOutside:m,onInteractOutside:g,onDismiss:x,children:s.jsx(uO,{asChild:!0,...k,dir:N.dir,orientation:"vertical",loop:r,currentTabStopId:R,onCurrentTabStopIdChange:O,onEntryFocus:nt(u,K=>{N.isUsingKeyboardRef.current||K.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(rO,{role:"menu","aria-orientation":"vertical","data-state":dM(j.open),"data-radix-menu-content":"",dir:N.dir,...S,...w,ref:M,style:{outline:"none",...w.style},onKeyDown:nt(w.onKeyDown,K=>{const z=K.target.closest("[data-radix-menu-content]")===K.currentTarget,X=K.ctrlKey||K.altKey||K.metaKey,q=K.key.length===1;z&&(K.key==="Tab"&&K.preventDefault(),!X&&q&&ue(K.key));const ye=A.current;if(K.target!==ye||!hQ.includes(K.key))return;K.preventDefault();const Ee=C().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);zO.includes(K.key)&&Ee.reverse(),OQ(Ee)}),onBlur:nt(t.onBlur,K=>{K.currentTarget.contains(K.target)||(window.clearTimeout(P.current),F.current="")}),onPointerMove:nt(t.onPointerMove,dm(K=>{const B=K.target,z=G.current!==K.clientX;if(K.currentTarget.contains(B)&&z){const X=K.clientX>G.current?"right":"left";V.current=X,G.current=K.clientX}}))})})})})})})});QO.displayName=gi;var SQ="MenuGroup",KN=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return s.jsx(At.div,{role:"group",...r,ref:e})});KN.displayName=SQ;var EQ="MenuLabel",JO=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return s.jsx(At.div,{...r,ref:e})});JO.displayName=EQ;var Ox="MenuItem",AA="menu.itemSelect",Py=y.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,a=y.useRef(null),o=Um(Ox,t.__scopeMenu),c=HN(Ox,t.__scopeMenu),u=rn(e,a),h=y.useRef(!1),f=()=>{const m=a.current;if(!n&&m){const g=new CustomEvent(AA,{bubbles:!0,cancelable:!0});m.addEventListener(AA,x=>r==null?void 0:r(x),{once:!0}),T4(m,g),g.defaultPrevented?h.current=!1:o.onClose()}};return s.jsx(YO,{...i,ref:u,disabled:n,onClick:nt(t.onClick,f),onPointerDown:m=>{var g;(g=t.onPointerDown)==null||g.call(t,m),h.current=!0},onPointerUp:nt(t.onPointerUp,m=>{var g;h.current||(g=m.currentTarget)==null||g.click()}),onKeyDown:nt(t.onKeyDown,m=>{const g=c.searchRef.current!=="";n||g&&m.key===" "||aj.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});Py.displayName=Ox;var YO=y.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...a}=t,o=HN(Ox,n),c=HO(n),u=y.useRef(null),h=rn(e,u),[f,m]=y.useState(!1),[g,x]=y.useState("");return y.useEffect(()=>{const _=u.current;_&&x((_.textContent??"").trim())},[a.children]),s.jsx(um.ItemSlot,{scope:n,disabled:r,textValue:i??g,children:s.jsx(dO,{asChild:!0,...c,focusable:!r,children:s.jsx(At.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:h,onPointerMove:nt(t.onPointerMove,dm(_=>{r?o.onItemLeave(_):(o.onItemEnter(_),_.defaultPrevented||_.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:nt(t.onPointerLeave,dm(_=>o.onItemLeave(_))),onFocus:nt(t.onFocus,()=>m(!0)),onBlur:nt(t.onBlur,()=>m(!1))})})})}),kQ="MenuCheckboxItem",XO=y.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return s.jsx(rM,{scope:t.__scopeMenu,checked:n,children:s.jsx(Py,{role:"menuitemcheckbox","aria-checked":Mx(n)?"mixed":n,...i,ref:e,"data-state":QN(n),onSelect:nt(i.onSelect,()=>r==null?void 0:r(Mx(n)?!0:!n),{checkForDefaultPrevented:!1})})})});XO.displayName=kQ;var ZO="MenuRadioGroup",[CQ,AQ]=su(ZO,{value:void 0,onValueChange:()=>{}}),eM=y.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,a=Mi(r);return s.jsx(CQ,{scope:t.__scopeMenu,value:n,onValueChange:a,children:s.jsx(KN,{...i,ref:e})})});eM.displayName=ZO;var tM="MenuRadioItem",nM=y.forwardRef((t,e)=>{const{value:n,...r}=t,i=AQ(tM,t.__scopeMenu),a=n===i.value;return s.jsx(rM,{scope:t.__scopeMenu,checked:a,children:s.jsx(Py,{role:"menuitemradio","aria-checked":a,...r,ref:e,"data-state":QN(a),onSelect:nt(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});nM.displayName=tM;var GN="MenuItemIndicator",[rM,TQ]=su(GN,{checked:!1}),sM=y.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,a=TQ(GN,n);return s.jsx(Da,{present:r||Mx(a.checked)||a.checked===!0,children:s.jsx(At.span,{...i,ref:e,"data-state":QN(a.checked)})})});sM.displayName=GN;var RQ="MenuSeparator",iM=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return s.jsx(At.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});iM.displayName=RQ;var IQ="MenuArrow",aM=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Iy(n);return s.jsx(sO,{...i,...r,ref:e})});aM.displayName=IQ;var PQ="MenuSub",[Ope,oM]=su(PQ),Sf="MenuSubTrigger",lM=y.forwardRef((t,e)=>{const n=iu(Sf,t.__scopeMenu),r=Um(Sf,t.__scopeMenu),i=oM(Sf,t.__scopeMenu),a=HN(Sf,t.__scopeMenu),o=y.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:u}=a,h={__scopeMenu:t.__scopeMenu},f=y.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return y.useEffect(()=>f,[f]),y.useEffect(()=>{const m=c.current;return()=>{window.clearTimeout(m),u(null)}},[c,u]),s.jsx(zN,{asChild:!0,...h,children:s.jsx(YO,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":dM(n.open),...t,ref:jo(e,i.onTriggerChange),onClick:m=>{var g;(g=t.onClick)==null||g.call(t,m),!(t.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:nt(t.onPointerMove,dm(m=>{a.onItemEnter(m),!m.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),f()},100))})),onPointerLeave:nt(t.onPointerLeave,dm(m=>{var x,_;f();const g=(x=n.content)==null?void 0:x.getBoundingClientRect();if(g){const w=(_=n.content)==null?void 0:_.dataset.side,j=w==="right",N=j?-5:5,S=g[j?"left":"right"],k=g[j?"right":"left"];a.onPointerGraceIntentChange({area:[{x:m.clientX+N,y:m.clientY},{x:S,y:g.top},{x:k,y:g.top},{x:k,y:g.bottom},{x:S,y:g.bottom}],side:w}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(m),m.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:nt(t.onKeyDown,m=>{var x;const g=a.searchRef.current!=="";t.disabled||g&&m.key===" "||fQ[r.dir].includes(m.key)&&(n.onOpenChange(!0),(x=n.content)==null||x.focus(),m.preventDefault())})})})});lM.displayName=Sf;var cM="MenuSubContent",uM=y.forwardRef((t,e)=>{const n=KO(gi,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,a=iu(gi,t.__scopeMenu),o=Um(gi,t.__scopeMenu),c=oM(cM,t.__scopeMenu),u=y.useRef(null),h=rn(e,u);return s.jsx(um.Provider,{scope:t.__scopeMenu,children:s.jsx(Da,{present:r||a.open,children:s.jsx(um.Slot,{scope:t.__scopeMenu,children:s.jsx(WN,{id:c.contentId,"aria-labelledby":c.triggerId,...i,ref:h,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var m;o.isUsingKeyboardRef.current&&((m=u.current)==null||m.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:nt(t.onFocusOutside,f=>{f.target!==c.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:nt(t.onEscapeKeyDown,f=>{o.onClose(),f.preventDefault()}),onKeyDown:nt(t.onKeyDown,f=>{var x;const m=f.currentTarget.contains(f.target),g=mQ[o.dir].includes(f.key);m&&g&&(a.onOpenChange(!1),(x=c.trigger)==null||x.focus(),f.preventDefault())})})})})})});uM.displayName=cM;function dM(t){return t?"open":"closed"}function Mx(t){return t==="indeterminate"}function QN(t){return Mx(t)?"indeterminate":t?"checked":"unchecked"}function OQ(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function MQ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function DQ(t,e,n){const i=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let o=MQ(t,Math.max(a,0));i.length===1&&(o=o.filter(h=>h!==n));const u=o.find(h=>h.toLowerCase().startsWith(i.toLowerCase()));return u!==n?u:void 0}function LQ(t,e){const{x:n,y:r}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const c=e[a],u=e[o],h=c.x,f=c.y,m=u.x,g=u.y;f>r!=g>r&&n<(m-h)*(r-f)/(g-f)+h&&(i=!i)}return i}function FQ(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return LQ(n,e)}function dm(t){return e=>e.pointerType==="mouse"?t(e):void 0}var VQ=WO,UQ=zN,$Q=GO,BQ=QO,zQ=KN,qQ=JO,HQ=Py,WQ=XO,KQ=eM,GQ=nM,QQ=sM,JQ=iM,YQ=aM,XQ=lM,ZQ=uM,Oy="DropdownMenu",[eJ]=Oa(Oy,[qO]),ss=qO(),[tJ,hM]=eJ(Oy),fM=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:a,onOpenChange:o,modal:c=!0}=t,u=ss(e),h=y.useRef(null),[f,m]=Nl({prop:i,defaultProp:a??!1,onChange:o,caller:Oy});return s.jsx(tJ,{scope:e,triggerId:ba(),triggerRef:h,contentId:ba(),open:f,onOpenChange:m,onOpenToggle:y.useCallback(()=>m(g=>!g),[m]),modal:c,children:s.jsx(VQ,{...u,open:f,onOpenChange:m,dir:r,modal:c,children:n})})};fM.displayName=Oy;var mM="DropdownMenuTrigger",pM=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,a=hM(mM,n),o=ss(n);return s.jsx(UQ,{asChild:!0,...o,children:s.jsx(At.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:jo(e,a.triggerRef),onPointerDown:nt(t.onPointerDown,c=>{!r&&c.button===0&&c.ctrlKey===!1&&(a.onOpenToggle(),a.open||c.preventDefault())}),onKeyDown:nt(t.onKeyDown,c=>{r||(["Enter"," "].includes(c.key)&&a.onOpenToggle(),c.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});pM.displayName=mM;var nJ="DropdownMenuPortal",gM=t=>{const{__scopeDropdownMenu:e,...n}=t,r=ss(e);return s.jsx($Q,{...r,...n})};gM.displayName=nJ;var xM="DropdownMenuContent",yM=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=hM(xM,n),a=ss(n),o=y.useRef(!1);return s.jsx(BQ,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...r,ref:e,onCloseAutoFocus:nt(t.onCloseAutoFocus,c=>{var u;o.current||(u=i.triggerRef.current)==null||u.focus(),o.current=!1,c.preventDefault()}),onInteractOutside:nt(t.onInteractOutside,c=>{const u=c.detail.originalEvent,h=u.button===0&&u.ctrlKey===!0,f=u.button===2||h;(!i.modal||f)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});yM.displayName=xM;var rJ="DropdownMenuGroup",sJ=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ss(n);return s.jsx(zQ,{...i,...r,ref:e})});sJ.displayName=rJ;var iJ="DropdownMenuLabel",vM=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ss(n);return s.jsx(qQ,{...i,...r,ref:e})});vM.displayName=iJ;var aJ="DropdownMenuItem",bM=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ss(n);return s.jsx(HQ,{...i,...r,ref:e})});bM.displayName=aJ;var oJ="DropdownMenuCheckboxItem",wM=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ss(n);return s.jsx(WQ,{...i,...r,ref:e})});wM.displayName=oJ;var lJ="DropdownMenuRadioGroup",cJ=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ss(n);return s.jsx(KQ,{...i,...r,ref:e})});cJ.displayName=lJ;var uJ="DropdownMenuRadioItem",jM=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ss(n);return s.jsx(GQ,{...i,...r,ref:e})});jM.displayName=uJ;var dJ="DropdownMenuItemIndicator",_M=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ss(n);return s.jsx(QQ,{...i,...r,ref:e})});_M.displayName=dJ;var hJ="DropdownMenuSeparator",NM=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ss(n);return s.jsx(JQ,{...i,...r,ref:e})});NM.displayName=hJ;var fJ="DropdownMenuArrow",mJ=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ss(n);return s.jsx(YQ,{...i,...r,ref:e})});mJ.displayName=fJ;var pJ="DropdownMenuSubTrigger",SM=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ss(n);return s.jsx(XQ,{...i,...r,ref:e})});SM.displayName=pJ;var gJ="DropdownMenuSubContent",EM=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ss(n);return s.jsx(ZQ,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});EM.displayName=gJ;var xJ=fM,yJ=pM,vJ=gM,kM=yM,CM=vM,AM=bM,TM=wM,RM=jM,IM=_M,PM=NM,OM=SM,MM=EM;function DM(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=DM(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function LM(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=DM(t))&&(r&&(r+=" "),r+=e);return r}const JN="-",bJ=t=>{const e=jJ(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const c=o.split(JN);return c[0]===""&&c.length!==1&&c.shift(),FM(c,e)||wJ(o)},getConflictingClassGroupIds:(o,c)=>{const u=n[o]||[];return c&&r[o]?[...u,...r[o]]:u}}},FM=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?FM(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(JN);return(o=e.validators.find(({validator:c})=>c(a)))==null?void 0:o.classGroupId},TA=/^\[(.+)\]$/,wJ=t=>{if(TA.test(t)){const e=TA.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},jJ=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const i in n)oj(n[i],r,i,e);return r},oj=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:RA(e,i);a.classGroupId=n;return}if(typeof i=="function"){if(_J(i)){oj(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,o])=>{oj(o,RA(e,a),n,r)})})},RA=(t,e)=>{let n=t;return e.split(JN).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},_J=t=>t.isThemeGetter,NJ=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(a,o)=>{n.set(a,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=r.get(a))!==void 0)return i(a,o),o},set(a,o){n.has(a)?n.set(a,o):i(a,o)}}},lj="!",cj=":",SJ=cj.length,EJ=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const a=[];let o=0,c=0,u=0,h;for(let _=0;_<i.length;_++){let w=i[_];if(o===0&&c===0){if(w===cj){a.push(i.slice(u,_)),u=_+SJ;continue}if(w==="/"){h=_;continue}}w==="["?o++:w==="]"?o--:w==="("?c++:w===")"&&c--}const f=a.length===0?i:i.substring(u),m=kJ(f),g=m!==f,x=h&&h>u?h-u:void 0;return{modifiers:a,hasImportantModifier:g,baseClassName:m,maybePostfixModifierPosition:x}};if(e){const i=e+cj,a=r;r=o=>o.startsWith(i)?a(o.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=a=>n({className:a,parseClassName:i})}return r},kJ=t=>t.endsWith(lj)?t.substring(0,t.length-1):t.startsWith(lj)?t.substring(1):t,CJ=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let a=[];return r.forEach(o=>{o[0]==="["||e[o]?(i.push(...a.sort(),o),a=[]):a.push(o)}),i.push(...a.sort()),i}},AJ=t=>({cache:NJ(t.cacheSize),parseClassName:EJ(t),sortModifiers:CJ(t),...bJ(t)}),TJ=/\s+/,RJ=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:a}=e,o=[],c=t.trim().split(TJ);let u="";for(let h=c.length-1;h>=0;h-=1){const f=c[h],{isExternal:m,modifiers:g,hasImportantModifier:x,baseClassName:_,maybePostfixModifierPosition:w}=n(f);if(m){u=f+(u.length>0?" "+u:u);continue}let j=!!w,N=r(j?_.substring(0,w):_);if(!N){if(!j){u=f+(u.length>0?" "+u:u);continue}if(N=r(_),!N){u=f+(u.length>0?" "+u:u);continue}j=!1}const S=a(g).join(":"),k=x?S+lj:S,C=k+N;if(o.includes(C))continue;o.push(C);const R=i(N,j);for(let O=0;O<R.length;++O){const A=R[O];o.push(k+A)}u=f+(u.length>0?" "+u:u)}return u};function IJ(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=VM(e))&&(r&&(r+=" "),r+=n);return r}const VM=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=VM(t[r]))&&(n&&(n+=" "),n+=e);return n};function PJ(t,...e){let n,r,i,a=o;function o(u){const h=e.reduce((f,m)=>m(f),t());return n=AJ(h),r=n.cache.get,i=n.cache.set,a=c,c(u)}function c(u){const h=r(u);if(h)return h;const f=RJ(u,n);return i(u,f),f}return function(){return a(IJ.apply(null,arguments))}}const ir=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},UM=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,$M=/^\((?:(\w[\w-]*):)?(.+)\)$/i,OJ=/^\d+\/\d+$/,MJ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,DJ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,LJ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,FJ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,VJ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Hu=t=>OJ.test(t),Dt=t=>!!t&&!Number.isNaN(Number(t)),qo=t=>!!t&&Number.isInteger(Number(t)),yb=t=>t.endsWith("%")&&Dt(t.slice(0,-1)),eo=t=>MJ.test(t),UJ=()=>!0,$J=t=>DJ.test(t)&&!LJ.test(t),BM=()=>!1,BJ=t=>FJ.test(t),zJ=t=>VJ.test(t),qJ=t=>!Je(t)&&!Ye(t),HJ=t=>ph(t,HM,BM),Je=t=>UM.test(t),fc=t=>ph(t,WM,$J),vb=t=>ph(t,JJ,Dt),IA=t=>ph(t,zM,BM),WJ=t=>ph(t,qM,zJ),vg=t=>ph(t,KM,BJ),Ye=t=>$M.test(t),gf=t=>gh(t,WM),KJ=t=>gh(t,YJ),PA=t=>gh(t,zM),GJ=t=>gh(t,HM),QJ=t=>gh(t,qM),bg=t=>gh(t,KM,!0),ph=(t,e,n)=>{const r=UM.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},gh=(t,e,n=!1)=>{const r=$M.exec(t);return r?r[1]?e(r[1]):n:!1},zM=t=>t==="position"||t==="percentage",qM=t=>t==="image"||t==="url",HM=t=>t==="length"||t==="size"||t==="bg-size",WM=t=>t==="length",JJ=t=>t==="number",YJ=t=>t==="family-name",KM=t=>t==="shadow",XJ=()=>{const t=ir("color"),e=ir("font"),n=ir("text"),r=ir("font-weight"),i=ir("tracking"),a=ir("leading"),o=ir("breakpoint"),c=ir("container"),u=ir("spacing"),h=ir("radius"),f=ir("shadow"),m=ir("inset-shadow"),g=ir("text-shadow"),x=ir("drop-shadow"),_=ir("blur"),w=ir("perspective"),j=ir("aspect"),N=ir("ease"),S=ir("animate"),k=()=>["auto","avoid","all","avoid-page","page","left","right","column"],C=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],R=()=>[...C(),Ye,Je],O=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto","contain","none"],M=()=>[Ye,Je,u],P=()=>[Hu,"full","auto",...M()],F=()=>[qo,"none","subgrid",Ye,Je],L=()=>["auto",{span:["full",qo,Ye,Je]},qo,Ye,Je],D=()=>[qo,"auto",Ye,Je],V=()=>["auto","min","max","fr",Ye,Je],G=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ee=()=>["start","end","center","stretch","center-safe","end-safe"],ae=()=>["auto",...M()],ue=()=>[Hu,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...M()],Q=()=>[t,Ye,Je],K=()=>[...C(),PA,IA,{position:[Ye,Je]}],B=()=>["no-repeat",{repeat:["","x","y","space","round"]}],z=()=>["auto","cover","contain",GJ,HJ,{size:[Ye,Je]}],X=()=>[yb,gf,fc],q=()=>["","none","full",h,Ye,Je],ye=()=>["",Dt,gf,fc],_e=()=>["solid","dashed","dotted","double"],Ee=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ve=()=>[Dt,yb,PA,IA],Fe=()=>["","none",_,Ye,Je],Ie=()=>["none",Dt,Ye,Je],ze=()=>["none",Dt,Ye,Je],rt=()=>[Dt,Ye,Je],de=()=>[Hu,"full",...M()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[eo],breakpoint:[eo],color:[UJ],container:[eo],"drop-shadow":[eo],ease:["in","out","in-out"],font:[qJ],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[eo],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[eo],shadow:[eo],spacing:["px",Dt],text:[eo],"text-shadow":[eo],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Hu,Je,Ye,j]}],container:["container"],columns:[{columns:[Dt,Je,Ye,c]}],"break-after":[{"break-after":k()}],"break-before":[{"break-before":k()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:R()}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[qo,"auto",Ye,Je]}],basis:[{basis:[Hu,"full","auto",c,...M()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Dt,Hu,"auto","initial","none",Je]}],grow:[{grow:["",Dt,Ye,Je]}],shrink:[{shrink:["",Dt,Ye,Je]}],order:[{order:[qo,"first","last","none",Ye,Je]}],"grid-cols":[{"grid-cols":F()}],"col-start-end":[{col:L()}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":F()}],"row-start-end":[{row:L()}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":V()}],"auto-rows":[{"auto-rows":V()}],gap:[{gap:M()}],"gap-x":[{"gap-x":M()}],"gap-y":[{"gap-y":M()}],"justify-content":[{justify:[...G(),"normal"]}],"justify-items":[{"justify-items":[...ee(),"normal"]}],"justify-self":[{"justify-self":["auto",...ee()]}],"align-content":[{content:["normal",...G()]}],"align-items":[{items:[...ee(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ee(),{baseline:["","last"]}]}],"place-content":[{"place-content":G()}],"place-items":[{"place-items":[...ee(),"baseline"]}],"place-self":[{"place-self":["auto",...ee()]}],p:[{p:M()}],px:[{px:M()}],py:[{py:M()}],ps:[{ps:M()}],pe:[{pe:M()}],pt:[{pt:M()}],pr:[{pr:M()}],pb:[{pb:M()}],pl:[{pl:M()}],m:[{m:ae()}],mx:[{mx:ae()}],my:[{my:ae()}],ms:[{ms:ae()}],me:[{me:ae()}],mt:[{mt:ae()}],mr:[{mr:ae()}],mb:[{mb:ae()}],ml:[{ml:ae()}],"space-x":[{"space-x":M()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":M()}],"space-y-reverse":["space-y-reverse"],size:[{size:ue()}],w:[{w:[c,"screen",...ue()]}],"min-w":[{"min-w":[c,"screen","none",...ue()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[o]},...ue()]}],h:[{h:["screen","lh",...ue()]}],"min-h":[{"min-h":["screen","lh","none",...ue()]}],"max-h":[{"max-h":["screen","lh",...ue()]}],"font-size":[{text:["base",n,gf,fc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ye,vb]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",yb,Je]}],"font-family":[{font:[KJ,Je,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Ye,Je]}],"line-clamp":[{"line-clamp":[Dt,"none",Ye,vb]}],leading:[{leading:[a,...M()]}],"list-image":[{"list-image":["none",Ye,Je]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ye,Je]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Q()}],"text-color":[{text:Q()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[..._e(),"wavy"]}],"text-decoration-thickness":[{decoration:[Dt,"from-font","auto",Ye,fc]}],"text-decoration-color":[{decoration:Q()}],"underline-offset":[{"underline-offset":[Dt,"auto",Ye,Je]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ye,Je]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ye,Je]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:K()}],"bg-repeat":[{bg:B()}],"bg-size":[{bg:z()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},qo,Ye,Je],radial:["",Ye,Je],conic:[qo,Ye,Je]},QJ,WJ]}],"bg-color":[{bg:Q()}],"gradient-from-pos":[{from:X()}],"gradient-via-pos":[{via:X()}],"gradient-to-pos":[{to:X()}],"gradient-from":[{from:Q()}],"gradient-via":[{via:Q()}],"gradient-to":[{to:Q()}],rounded:[{rounded:q()}],"rounded-s":[{"rounded-s":q()}],"rounded-e":[{"rounded-e":q()}],"rounded-t":[{"rounded-t":q()}],"rounded-r":[{"rounded-r":q()}],"rounded-b":[{"rounded-b":q()}],"rounded-l":[{"rounded-l":q()}],"rounded-ss":[{"rounded-ss":q()}],"rounded-se":[{"rounded-se":q()}],"rounded-ee":[{"rounded-ee":q()}],"rounded-es":[{"rounded-es":q()}],"rounded-tl":[{"rounded-tl":q()}],"rounded-tr":[{"rounded-tr":q()}],"rounded-br":[{"rounded-br":q()}],"rounded-bl":[{"rounded-bl":q()}],"border-w":[{border:ye()}],"border-w-x":[{"border-x":ye()}],"border-w-y":[{"border-y":ye()}],"border-w-s":[{"border-s":ye()}],"border-w-e":[{"border-e":ye()}],"border-w-t":[{"border-t":ye()}],"border-w-r":[{"border-r":ye()}],"border-w-b":[{"border-b":ye()}],"border-w-l":[{"border-l":ye()}],"divide-x":[{"divide-x":ye()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ye()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[..._e(),"hidden","none"]}],"divide-style":[{divide:[..._e(),"hidden","none"]}],"border-color":[{border:Q()}],"border-color-x":[{"border-x":Q()}],"border-color-y":[{"border-y":Q()}],"border-color-s":[{"border-s":Q()}],"border-color-e":[{"border-e":Q()}],"border-color-t":[{"border-t":Q()}],"border-color-r":[{"border-r":Q()}],"border-color-b":[{"border-b":Q()}],"border-color-l":[{"border-l":Q()}],"divide-color":[{divide:Q()}],"outline-style":[{outline:[..._e(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Dt,Ye,Je]}],"outline-w":[{outline:["",Dt,gf,fc]}],"outline-color":[{outline:Q()}],shadow:[{shadow:["","none",f,bg,vg]}],"shadow-color":[{shadow:Q()}],"inset-shadow":[{"inset-shadow":["none",m,bg,vg]}],"inset-shadow-color":[{"inset-shadow":Q()}],"ring-w":[{ring:ye()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Q()}],"ring-offset-w":[{"ring-offset":[Dt,fc]}],"ring-offset-color":[{"ring-offset":Q()}],"inset-ring-w":[{"inset-ring":ye()}],"inset-ring-color":[{"inset-ring":Q()}],"text-shadow":[{"text-shadow":["none",g,bg,vg]}],"text-shadow-color":[{"text-shadow":Q()}],opacity:[{opacity:[Dt,Ye,Je]}],"mix-blend":[{"mix-blend":[...Ee(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ee()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Dt]}],"mask-image-linear-from-pos":[{"mask-linear-from":ve()}],"mask-image-linear-to-pos":[{"mask-linear-to":ve()}],"mask-image-linear-from-color":[{"mask-linear-from":Q()}],"mask-image-linear-to-color":[{"mask-linear-to":Q()}],"mask-image-t-from-pos":[{"mask-t-from":ve()}],"mask-image-t-to-pos":[{"mask-t-to":ve()}],"mask-image-t-from-color":[{"mask-t-from":Q()}],"mask-image-t-to-color":[{"mask-t-to":Q()}],"mask-image-r-from-pos":[{"mask-r-from":ve()}],"mask-image-r-to-pos":[{"mask-r-to":ve()}],"mask-image-r-from-color":[{"mask-r-from":Q()}],"mask-image-r-to-color":[{"mask-r-to":Q()}],"mask-image-b-from-pos":[{"mask-b-from":ve()}],"mask-image-b-to-pos":[{"mask-b-to":ve()}],"mask-image-b-from-color":[{"mask-b-from":Q()}],"mask-image-b-to-color":[{"mask-b-to":Q()}],"mask-image-l-from-pos":[{"mask-l-from":ve()}],"mask-image-l-to-pos":[{"mask-l-to":ve()}],"mask-image-l-from-color":[{"mask-l-from":Q()}],"mask-image-l-to-color":[{"mask-l-to":Q()}],"mask-image-x-from-pos":[{"mask-x-from":ve()}],"mask-image-x-to-pos":[{"mask-x-to":ve()}],"mask-image-x-from-color":[{"mask-x-from":Q()}],"mask-image-x-to-color":[{"mask-x-to":Q()}],"mask-image-y-from-pos":[{"mask-y-from":ve()}],"mask-image-y-to-pos":[{"mask-y-to":ve()}],"mask-image-y-from-color":[{"mask-y-from":Q()}],"mask-image-y-to-color":[{"mask-y-to":Q()}],"mask-image-radial":[{"mask-radial":[Ye,Je]}],"mask-image-radial-from-pos":[{"mask-radial-from":ve()}],"mask-image-radial-to-pos":[{"mask-radial-to":ve()}],"mask-image-radial-from-color":[{"mask-radial-from":Q()}],"mask-image-radial-to-color":[{"mask-radial-to":Q()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":C()}],"mask-image-conic-pos":[{"mask-conic":[Dt]}],"mask-image-conic-from-pos":[{"mask-conic-from":ve()}],"mask-image-conic-to-pos":[{"mask-conic-to":ve()}],"mask-image-conic-from-color":[{"mask-conic-from":Q()}],"mask-image-conic-to-color":[{"mask-conic-to":Q()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:K()}],"mask-repeat":[{mask:B()}],"mask-size":[{mask:z()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ye,Je]}],filter:[{filter:["","none",Ye,Je]}],blur:[{blur:Fe()}],brightness:[{brightness:[Dt,Ye,Je]}],contrast:[{contrast:[Dt,Ye,Je]}],"drop-shadow":[{"drop-shadow":["","none",x,bg,vg]}],"drop-shadow-color":[{"drop-shadow":Q()}],grayscale:[{grayscale:["",Dt,Ye,Je]}],"hue-rotate":[{"hue-rotate":[Dt,Ye,Je]}],invert:[{invert:["",Dt,Ye,Je]}],saturate:[{saturate:[Dt,Ye,Je]}],sepia:[{sepia:["",Dt,Ye,Je]}],"backdrop-filter":[{"backdrop-filter":["","none",Ye,Je]}],"backdrop-blur":[{"backdrop-blur":Fe()}],"backdrop-brightness":[{"backdrop-brightness":[Dt,Ye,Je]}],"backdrop-contrast":[{"backdrop-contrast":[Dt,Ye,Je]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Dt,Ye,Je]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Dt,Ye,Je]}],"backdrop-invert":[{"backdrop-invert":["",Dt,Ye,Je]}],"backdrop-opacity":[{"backdrop-opacity":[Dt,Ye,Je]}],"backdrop-saturate":[{"backdrop-saturate":[Dt,Ye,Je]}],"backdrop-sepia":[{"backdrop-sepia":["",Dt,Ye,Je]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":M()}],"border-spacing-x":[{"border-spacing-x":M()}],"border-spacing-y":[{"border-spacing-y":M()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ye,Je]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Dt,"initial",Ye,Je]}],ease:[{ease:["linear","initial",N,Ye,Je]}],delay:[{delay:[Dt,Ye,Je]}],animate:[{animate:["none",S,Ye,Je]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,Ye,Je]}],"perspective-origin":[{"perspective-origin":R()}],rotate:[{rotate:Ie()}],"rotate-x":[{"rotate-x":Ie()}],"rotate-y":[{"rotate-y":Ie()}],"rotate-z":[{"rotate-z":Ie()}],scale:[{scale:ze()}],"scale-x":[{"scale-x":ze()}],"scale-y":[{"scale-y":ze()}],"scale-z":[{"scale-z":ze()}],"scale-3d":["scale-3d"],skew:[{skew:rt()}],"skew-x":[{"skew-x":rt()}],"skew-y":[{"skew-y":rt()}],transform:[{transform:[Ye,Je,"","none","gpu","cpu"]}],"transform-origin":[{origin:R()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:de()}],"translate-x":[{"translate-x":de()}],"translate-y":[{"translate-y":de()}],"translate-z":[{"translate-z":de()}],"translate-none":["translate-none"],accent:[{accent:Q()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Q()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ye,Je]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ye,Je]}],fill:[{fill:["none",...Q()]}],"stroke-w":[{stroke:[Dt,gf,fc,vb]}],stroke:[{stroke:["none",...Q()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},ZJ=PJ(XJ);function mt(...t){return ZJ(LM(t))}const OA=xJ,MA=yJ,eY=y.forwardRef(({className:t,inset:e,children:n,...r},i)=>s.jsxs(OM,{ref:i,className:mt("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,s.jsx(dy,{className:"ml-auto"})]}));eY.displayName=OM.displayName;const tY=y.forwardRef(({className:t,...e},n)=>s.jsx(MM,{ref:n,className:mt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));tY.displayName=MM.displayName;const uj=y.forwardRef(({className:t,sideOffset:e=4,...n},r)=>s.jsx(vJ,{children:s.jsx(kM,{ref:r,sideOffset:e,className:mt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));uj.displayName=kM.displayName;const rx=y.forwardRef(({className:t,inset:e,...n},r)=>s.jsx(AM,{ref:r,className:mt("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",t),...n}));rx.displayName=AM.displayName;const nY=y.forwardRef(({className:t,children:e,checked:n,...r},i)=>s.jsxs(TM,{ref:i,className:mt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(IM,{children:s.jsx(Zf,{className:"h-4 w-4"})})}),e]}));nY.displayName=TM.displayName;const rY=y.forwardRef(({className:t,children:e,...n},r)=>s.jsxs(RM,{ref:r,className:mt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(IM,{children:s.jsx(B_,{className:"h-2 w-2 fill-current"})})}),e]}));rY.displayName=RM.displayName;const sY=y.forwardRef(({className:t,inset:e,...n},r)=>s.jsx(CM,{ref:r,className:mt("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));sY.displayName=CM.displayName;const iY=y.forwardRef(({className:t,...e},n)=>s.jsx(PM,{ref:n,className:mt("-mx-1 my-1 h-px bg-muted",t),...e}));iY.displayName=PM.displayName;var aY=Symbol.for("react.lazy"),Dx=M_[" use ".trim().toString()];function oY(t){return typeof t=="object"&&t!==null&&"then"in t}function GM(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===aY&&"_payload"in t&&oY(t._payload)}function My(t){const e=cY(t),n=y.forwardRef((r,i)=>{let{children:a,...o}=r;GM(a)&&typeof Dx=="function"&&(a=Dx(a._payload));const c=y.Children.toArray(a),u=c.find(dY);if(u){const h=u.props.children,f=c.map(m=>m===u?y.Children.count(h)>1?y.Children.only(null):y.isValidElement(h)?h.props.children:null:m);return s.jsx(e,{...o,ref:i,children:y.isValidElement(h)?y.cloneElement(h,void 0,f):null})}return s.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}var lY=My("Slot");function cY(t){const e=y.forwardRef((n,r)=>{let{children:i,...a}=n;if(GM(i)&&typeof Dx=="function"&&(i=Dx(i._payload)),y.isValidElement(i)){const o=fY(i),c=hY(a,i.props);return i.type!==y.Fragment&&(c.ref=r?jo(r,o):o),y.cloneElement(i,c)}return y.Children.count(i)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var uY=Symbol("radix.slottable");function dY(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===uY}function hY(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...c)=>{const u=a(...c);return i(...c),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function fY(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const DA=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,LA=LM,$m=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return LA(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:a}=e,o=Object.keys(i).map(h=>{const f=n==null?void 0:n[h],m=a==null?void 0:a[h];if(f===null)return null;const g=DA(f)||DA(m);return i[h][g]}),c=n&&Object.entries(n).reduce((h,f)=>{let[m,g]=f;return g===void 0||(h[m]=g),h},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((h,f)=>{let{class:m,className:g,...x}=f;return Object.entries(x).every(_=>{let[w,j]=_;return Array.isArray(j)?j.includes({...a,...c}[w]):{...a,...c}[w]===j})?[...h,m,g]:h},[]);return LA(t,o,u,n==null?void 0:n.class,n==null?void 0:n.className)},mY=$m("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),W=y.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},a)=>{const o=r?lY:"button";return s.jsx(o,{className:mt(mY({variant:e,size:n,className:t})),ref:a,...i})});W.displayName="Button";const ke=y.forwardRef(({className:t,type:e,...n},r)=>s.jsx("input",{type:e,className:mt("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));ke.displayName="Input";var bb={exports:{}},wb,FA;function pY(){if(FA)return wb;FA=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return wb=t,wb}var jb,VA;function gY(){if(VA)return jb;VA=1;var t=pY();function e(){}function n(){}return n.resetWarningCache=e,jb=function(){function r(o,c,u,h,f,m){if(m!==t){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},jb}var UA;function xY(){return UA||(UA=1,bb.exports=gY()()),bb.exports}var yY=xY();const Vt=nu(yY),vY=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class YN extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class bY extends YN{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class $A extends YN{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class BA extends YN{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var dj;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(dj||(dj={}));class wY{constructor(e,{headers:n={},customFetch:r,region:i=dj.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=vY(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return it(this,arguments,void 0,function*(n,r={}){var i;let a,o;try{const{headers:c,method:u,body:h,signal:f,timeout:m}=r;let g={},{region:x}=r;x||(x=this.region);const _=new URL(`${this.url}/${n}`);x&&x!=="any"&&(g["x-region"]=x,_.searchParams.set("forceFunctionRegion",x));let w;h&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",w=h):typeof h=="string"?(g["Content-Type"]="text/plain",w=h):typeof FormData<"u"&&h instanceof FormData?w=h:(g["Content-Type"]="application/json",w=JSON.stringify(h)):w=h;let j=f;m&&(o=new AbortController,a=setTimeout(()=>o.abort(),m),f?(j=o.signal,f.addEventListener("abort",()=>o.abort())):j=o.signal);const N=yield this.fetch(_.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),c),body:w,signal:j}).catch(R=>{throw new bY(R)}),S=N.headers.get("x-relay-error");if(S&&S==="true")throw new $A(N);if(!N.ok)throw new BA(N);let k=((i=N.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),C;return k==="application/json"?C=yield N.json():k==="application/octet-stream"||k==="application/pdf"?C=yield N.blob():k==="text/event-stream"?C=N:k==="multipart/form-data"?C=yield N.formData():C=yield N.text(),{data:C,error:null,response:N}}catch(c){return{data:null,error:c,response:c instanceof BA||c instanceof $A?c.context:void 0}}finally{a&&clearTimeout(a)}})}}var Lr={};const xh=RU(AG);var wg={},jg={},_g={},Ng={},Sg={},Eg={},zA;function QM(){if(zA)return Eg;zA=1,Object.defineProperty(Eg,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Eg.default=t,Eg}var qA;function JM(){if(qA)return Sg;qA=1,Object.defineProperty(Sg,"__esModule",{value:!0});const e=xh.__importDefault(QM());class n{constructor(i){var a,o;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(o=i.isMaybeSingle)!==null&&o!==void 0?o:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let c=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var h,f,m,g;let x=null,_=null,w=null,j=u.status,N=u.statusText;if(u.ok){if(this.method!=="HEAD"){const R=await u.text();R===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((h=this.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?_=R:_=JSON.parse(R))}const k=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),C=(m=u.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");k&&C&&C.length>1&&(w=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(x={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,w=null,j=406,N="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const k=await u.text();try{x=JSON.parse(k),Array.isArray(x)&&u.status===404&&(_=[],x=null,j=200,N="OK")}catch{u.status===404&&k===""?(j=204,N="No Content"):x={message:k}}if(x&&this.isMaybeSingle&&(!((g=x==null?void 0:x.details)===null||g===void 0)&&g.includes("0 rows"))&&(x=null,j=200,N="OK"),x&&this.shouldThrowOnError)throw new e.default(x)}return{error:x,data:_,count:w,status:j,statusText:N}});return this.shouldThrowOnError||(c=c.catch(u=>{var h,f,m;return{error:{message:`${(h=u==null?void 0:u.name)!==null&&h!==void 0?h:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(f=u==null?void 0:u.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(m=u==null?void 0:u.code)!==null&&m!==void 0?m:""}`},data:null,count:null,status:0,statusText:""}})),c.then(i,a)}returns(){return this}overrideTypes(){return this}}return Sg.default=n,Sg}var HA;function YM(){if(HA)return Ng;HA=1,Object.defineProperty(Ng,"__esModule",{value:!0});const e=xh.__importDefault(JM());class n extends e.default{select(i){let a=!1;const o=(i??"*").split("").map(c=>/\s/.test(c)&&!a?"":(c==='"'&&(a=!a),c)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:o,foreignTable:c,referencedTable:u=c}={}){const h=u?`${u}.order`:"order",f=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${f?`${f},`:""}${i}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:o=a}={}){const c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(c,`${i}`),this}range(i,a,{foreignTable:o,referencedTable:c=o}={}){const u=typeof c>"u"?"offset":`${c}.offset`,h=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(u,`${i}`),this.url.searchParams.set(h,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:o=!1,buffers:c=!1,wal:u=!1,format:h="text"}={}){var f;const m=[i?"analyze":null,a?"verbose":null,o?"settings":null,c?"buffers":null,u?"wal":null].filter(Boolean).join("|"),g=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${g}"; options=${m};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Ng.default=n,Ng}var WA;function XN(){if(WA)return _g;WA=1,Object.defineProperty(_g,"__esModule",{value:!0});const e=xh.__importDefault(YM()),n=new RegExp("[,()]");class r extends e.default{eq(a,o){return this.url.searchParams.append(a,`eq.${o}`),this}neq(a,o){return this.url.searchParams.append(a,`neq.${o}`),this}gt(a,o){return this.url.searchParams.append(a,`gt.${o}`),this}gte(a,o){return this.url.searchParams.append(a,`gte.${o}`),this}lt(a,o){return this.url.searchParams.append(a,`lt.${o}`),this}lte(a,o){return this.url.searchParams.append(a,`lte.${o}`),this}like(a,o){return this.url.searchParams.append(a,`like.${o}`),this}likeAllOf(a,o){return this.url.searchParams.append(a,`like(all).{${o.join(",")}}`),this}likeAnyOf(a,o){return this.url.searchParams.append(a,`like(any).{${o.join(",")}}`),this}ilike(a,o){return this.url.searchParams.append(a,`ilike.${o}`),this}ilikeAllOf(a,o){return this.url.searchParams.append(a,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(a,o){return this.url.searchParams.append(a,`ilike(any).{${o.join(",")}}`),this}is(a,o){return this.url.searchParams.append(a,`is.${o}`),this}in(a,o){const c=Array.from(new Set(o)).map(u=>typeof u=="string"&&n.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(a,`in.(${c})`),this}contains(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cs.{${o.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(o)}`),this}containedBy(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cd.{${o.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(o)}`),this}rangeGt(a,o){return this.url.searchParams.append(a,`sr.${o}`),this}rangeGte(a,o){return this.url.searchParams.append(a,`nxl.${o}`),this}rangeLt(a,o){return this.url.searchParams.append(a,`sl.${o}`),this}rangeLte(a,o){return this.url.searchParams.append(a,`nxr.${o}`),this}rangeAdjacent(a,o){return this.url.searchParams.append(a,`adj.${o}`),this}overlaps(a,o){return typeof o=="string"?this.url.searchParams.append(a,`ov.${o}`):this.url.searchParams.append(a,`ov.{${o.join(",")}}`),this}textSearch(a,o,{config:c,type:u}={}){let h="";u==="plain"?h="pl":u==="phrase"?h="ph":u==="websearch"&&(h="w");const f=c===void 0?"":`(${c})`;return this.url.searchParams.append(a,`${h}fts${f}.${o}`),this}match(a){return Object.entries(a).forEach(([o,c])=>{this.url.searchParams.append(o,`eq.${c}`)}),this}not(a,o,c){return this.url.searchParams.append(a,`not.${o}.${c}`),this}or(a,{foreignTable:o,referencedTable:c=o}={}){const u=c?`${c}.or`:"or";return this.url.searchParams.append(u,`(${a})`),this}filter(a,o,c){return this.url.searchParams.append(a,`${o}.${c}`),this}}return _g.default=r,_g}var KA;function XM(){if(KA)return jg;KA=1,Object.defineProperty(jg,"__esModule",{value:!0});const e=xh.__importDefault(XN());class n{constructor(i,{headers:a={},schema:o,fetch:c}){this.url=i,this.headers=new Headers(a),this.schema=o,this.fetch=c}select(i,a){const{head:o=!1,count:c}=a??{},u=o?"HEAD":"GET";let h=!1;const f=(i??"*").split("").map(m=>/\s/.test(m)&&!h?"":(m==='"'&&(h=!h),m)).join("");return this.url.searchParams.set("select",f),c&&this.headers.append("Prefer",`count=${c}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:o=!0}={}){var c;const u="POST";if(a&&this.headers.append("Prefer",`count=${a}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const h=i.reduce((f,m)=>f.concat(Object.keys(m)),[]);if(h.length>0){const f=[...new Set(h)].map(m=>`"${m}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:o=!1,count:c,defaultToNull:u=!0}={}){var h;const f="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),c&&this.headers.append("Prefer",`count=${c}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const m=i.reduce((g,x)=>g.concat(Object.keys(x)),[]);if(m.length>0){const g=[...new Set(m)].map(x=>`"${x}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(i,{count:a}={}){var o;const c="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var a;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return jg.default=n,jg}var GA;function jY(){if(GA)return wg;GA=1,Object.defineProperty(wg,"__esModule",{value:!0});const t=xh,e=t.__importDefault(XM()),n=t.__importDefault(XN());class r{constructor(a,{headers:o={},schema:c,fetch:u}={}){this.url=a,this.headers=new Headers(o),this.schemaName=c,this.fetch=u}from(a){const o=new URL(`${this.url}/${a}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new r(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,o={},{head:c=!1,get:u=!1,count:h}={}){var f;let m;const g=new URL(`${this.url}/rpc/${a}`);let x;c||u?(m=c?"HEAD":"GET",Object.entries(o).filter(([w,j])=>j!==void 0).map(([w,j])=>[w,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([w,j])=>{g.searchParams.append(w,j)})):(m="POST",x=o);const _=new Headers(this.headers);return h&&_.set("Prefer",`count=${h}`),new n.default({method:m,url:g,headers:_,schema:this.schemaName,body:x,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}}return wg.default=r,wg}var QA;function _Y(){if(QA)return Lr;QA=1,Object.defineProperty(Lr,"__esModule",{value:!0}),Lr.PostgrestError=Lr.PostgrestBuilder=Lr.PostgrestTransformBuilder=Lr.PostgrestFilterBuilder=Lr.PostgrestQueryBuilder=Lr.PostgrestClient=void 0;const t=xh,e=t.__importDefault(jY());Lr.PostgrestClient=e.default;const n=t.__importDefault(XM());Lr.PostgrestQueryBuilder=n.default;const r=t.__importDefault(XN());Lr.PostgrestFilterBuilder=r.default;const i=t.__importDefault(YM());Lr.PostgrestTransformBuilder=i.default;const a=t.__importDefault(JM());Lr.PostgrestBuilder=a.default;const o=t.__importDefault(QM());return Lr.PostgrestError=o.default,Lr.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:o.default},Lr}var ZM=_Y();const eD=nu(ZM),NY=NI({__proto__:null,default:eD},[ZM]),{PostgrestClient:SY,PostgrestQueryBuilder:Mpe,PostgrestFilterBuilder:Dpe,PostgrestTransformBuilder:Lpe,PostgrestBuilder:Fpe,PostgrestError:Vpe}=eD||NY;class EY{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const kY="2.81.1",CY=`realtime-js/${kY}`,tD="1.0.0",AY="2.0.0",JA=tD,hj=1e4,TY=1e3,RY=100;var yc;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(yc||(yc={}));var ar;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ar||(ar={}));var li;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(li||(li={}));var fj;(function(t){t.websocket="websocket"})(fj||(fj={}));var vc;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(vc||(vc={}));class IY{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(e,n){if(this._isArrayBuffer(e.payload))return n(this._binaryEncodePush(e));if(e.event===this.BROADCAST&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodePush(e){const{join_ref:n,ref:r,event:i,topic:a,payload:o}=e,c=this.META_LENGTH+n.length+r.length+a.length+i.length,u=new ArrayBuffer(this.HEADER_LENGTH+c);let h=new DataView(u),f=0;h.setUint8(f++,this.KINDS.push),h.setUint8(f++,n.length),h.setUint8(f++,r.length),h.setUint8(f++,a.length),h.setUint8(f++,i.length),Array.from(n,g=>h.setUint8(f++,g.charCodeAt(0))),Array.from(r,g=>h.setUint8(f++,g.charCodeAt(0))),Array.from(a,g=>h.setUint8(f++,g.charCodeAt(0))),Array.from(i,g=>h.setUint8(f++,g.charCodeAt(0)));var m=new Uint8Array(u.byteLength+o.byteLength);return m.set(new Uint8Array(u),0),m.set(new Uint8Array(o),u.byteLength),m.buffer}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const{join_ref:i,ref:a,topic:o}=e,c=e.payload.event,u=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0),h=this.USER_BROADCAST_PUSH_META_LENGTH+i.length+a.length+o.length+c.length,f=new ArrayBuffer(this.HEADER_LENGTH+h);let m=new DataView(f),g=0;m.setUint8(g++,this.KINDS.userBroadcastPush),m.setUint8(g++,i.length),m.setUint8(g++,a.length),m.setUint8(g++,o.length),m.setUint8(g++,c.length),m.setUint8(g++,this.BINARY_ENCODING),Array.from(i,_=>m.setUint8(g++,_.charCodeAt(0))),Array.from(a,_=>m.setUint8(g++,_.charCodeAt(0))),Array.from(o,_=>m.setUint8(g++,_.charCodeAt(0))),Array.from(c,_=>m.setUint8(g++,_.charCodeAt(0)));var x=new Uint8Array(f.byteLength+u.byteLength);return x.set(new Uint8Array(f),0),x.set(new Uint8Array(u),f.byteLength),x.buffer}_encodeJsonUserBroadcastPush(e){var n,r;const{join_ref:i,ref:a,topic:o}=e,c=e.payload.event,u=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},f=new TextEncoder().encode(JSON.stringify(u)).buffer,m=this.USER_BROADCAST_PUSH_META_LENGTH+i.length+a.length+o.length+c.length,g=new ArrayBuffer(this.HEADER_LENGTH+m);let x=new DataView(g),_=0;x.setUint8(_++,this.KINDS.userBroadcastPush),x.setUint8(_++,i.length),x.setUint8(_++,a.length),x.setUint8(_++,o.length),x.setUint8(_++,c.length),x.setUint8(_++,this.JSON_ENCODING),Array.from(i,j=>x.setUint8(_++,j.charCodeAt(0))),Array.from(a,j=>x.setUint8(_++,j.charCodeAt(0))),Array.from(o,j=>x.setUint8(_++,j.charCodeAt(0))),Array.from(c,j=>x.setUint8(_++,j.charCodeAt(0)));var w=new Uint8Array(g.byteLength+f.byteLength);return w.set(new Uint8Array(g),0),w.set(new Uint8Array(f),g.byteLength),w.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,a,o,c,u]=r;return n({join_ref:i,ref:a,topic:o,event:c,payload:u})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.push:return this._decodePush(e,n,i);case this.KINDS.reply:return this._decodeReply(e,n,i);case this.KINDS.broadcast:return this._decodeBroadcast(e,n,i);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,i)}}_decodePush(e,n,r){const i=n.getUint8(1),a=n.getUint8(2),o=n.getUint8(3);let c=this.HEADER_LENGTH+this.META_LENGTH-1;const u=r.decode(e.slice(c,c+i));c=c+i;const h=r.decode(e.slice(c,c+a));c=c+a;const f=r.decode(e.slice(c,c+o));c=c+o;const m=JSON.parse(r.decode(e.slice(c,e.byteLength)));return{join_ref:u,ref:null,topic:h,event:f,payload:m}}_decodeReply(e,n,r){const i=n.getUint8(1),a=n.getUint8(2),o=n.getUint8(3),c=n.getUint8(4);let u=this.HEADER_LENGTH+this.META_LENGTH;const h=r.decode(e.slice(u,u+i));u=u+i;const f=r.decode(e.slice(u,u+a));u=u+a;const m=r.decode(e.slice(u,u+o));u=u+o;const g=r.decode(e.slice(u,u+c));u=u+c;const x=JSON.parse(r.decode(e.slice(u,e.byteLength))),_={status:g,response:x};return{join_ref:h,ref:f,topic:m,event:li.reply,payload:_}}_decodeBroadcast(e,n,r){const i=n.getUint8(1),a=n.getUint8(2);let o=this.HEADER_LENGTH+2;const c=r.decode(e.slice(o,o+i));o=o+i;const u=r.decode(e.slice(o,o+a));o=o+a;const h=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{join_ref:null,ref:null,topic:c,event:u,payload:h}}_decodeUserBroadcast(e,n,r){const i=n.getUint8(1),a=n.getUint8(2),o=n.getUint8(3),c=n.getUint8(4);let u=this.HEADER_LENGTH+4;const h=r.decode(e.slice(u,u+i));u=u+i;const f=r.decode(e.slice(u,u+a));u=u+a;const m=r.decode(e.slice(u,u+o));u=u+o;const g=e.slice(u,e.byteLength),x=c===this.JSON_ENCODING?JSON.parse(r.decode(g)):g,_={type:this.BROADCAST,event:f,payload:x};return o>0&&(_.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:h,event:this.BROADCAST,payload:_}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}}class nD{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var mn;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(mn||(mn={}));const YA=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((a,o)=>(a[o]=PY(o,t,e,i),a),{}):{}},PY=(t,e,n,r)=>{const i=e.find(c=>c.name===t),a=i==null?void 0:i.type,o=n[t];return a&&!r.includes(a)?rD(a,o):mj(o)},rD=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return LY(e,n)}switch(t){case mn.bool:return OY(e);case mn.float4:case mn.float8:case mn.int2:case mn.int4:case mn.int8:case mn.numeric:case mn.oid:return MY(e);case mn.json:case mn.jsonb:return DY(e);case mn.timestamp:return FY(e);case mn.abstime:case mn.date:case mn.daterange:case mn.int4range:case mn.int8range:case mn.money:case mn.reltime:case mn.text:case mn.time:case mn.timestamptz:case mn.timetz:case mn.tsrange:case mn.tstzrange:return mj(e);default:return mj(e)}},mj=t=>t,OY=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},MY=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},DY=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},LY=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let a;const o=t.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(c=>rD(e,c))}return t},FY=t=>typeof t=="string"?t.replace(" ","T"):t,sD=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class _b{constructor(e,n,r={},i=hj){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var XA;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(XA||(XA={}));class Vf{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:o,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Vf.syncState(this.state,i,a,o),this.pendingDiffs.forEach(u=>{this.state=Vf.syncDiff(this.state,u,a,o)}),this.pendingDiffs=[],c()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Vf.syncDiff(this.state,i,a,o),c())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const a=this.cloneDeep(e),o=this.transformState(n),c={},u={};return this.map(a,(h,f)=>{o[h]||(u[h]=f)}),this.map(o,(h,f)=>{const m=a[h];if(m){const g=f.map(j=>j.presence_ref),x=m.map(j=>j.presence_ref),_=f.filter(j=>x.indexOf(j.presence_ref)<0),w=m.filter(j=>g.indexOf(j.presence_ref)<0);_.length>0&&(c[h]=_),w.length>0&&(u[h]=w)}else c[h]=f}),this.syncDiff(a,{joins:c,leaves:u},r,i)}static syncDiff(e,n,r,i){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(c,u)=>{var h;const f=(h=e[c])!==null&&h!==void 0?h:[];if(e[c]=this.cloneDeep(u),f.length>0){const m=e[c].map(x=>x.presence_ref),g=f.filter(x=>m.indexOf(x.presence_ref)<0);e[c].unshift(...g)}r(c,f,u)}),this.map(o,(c,u)=>{let h=e[c];if(!h)return;const f=u.map(m=>m.presence_ref);h=h.filter(m=>f.indexOf(m.presence_ref)<0),e[c]=h,i(c,h,u),h.length===0&&delete e[c]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ZA;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(ZA||(ZA={}));var Uf;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Uf||(Uf={}));var no;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(no||(no={}));class ZN{constructor(e,n={config:{}},r){var i,a;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=ar.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new _b(this,li.join,this.params,this.timeout),this.rejoinTimer=new nD(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ar.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ar.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ar.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ar.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ar.errored,this.rejoinTimer.scheduleTimeout())}),this._on(li.reply,{},(o,c)=>{this._trigger(this._replyEventName(c),o)}),this.presence=new Vf(this),this.broadcastEndpointURL=sD(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==ar.closed){const{config:{broadcast:o,presence:c,private:u}}=this.params,h=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(x=>x.filter))!==null&&i!==void 0?i:[],f=!!this.bindings[Uf.PRESENCE]&&this.bindings[Uf.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,m={},g={broadcast:o,presence:Object.assign(Object.assign({},c),{enabled:f}),postgres_changes:h,private:u};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(x=>e==null?void 0:e(no.CHANNEL_ERROR,x)),this._onClose(()=>e==null?void 0:e(no.CLOSED)),this.updateJoinPayload(Object.assign({config:g},m)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:x})=>{var _;if(this.socket.setAuth(),x===void 0){e==null||e(no.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,j=(_=w==null?void 0:w.length)!==null&&_!==void 0?_:0,N=[];for(let S=0;S<j;S++){const k=w[S],{filter:{event:C,schema:R,table:O,filter:A}}=k,M=x&&x[S];if(M&&M.event===C&&M.schema===R&&M.table===O&&M.filter===A)N.push(Object.assign(Object.assign({},k),{id:M.id}));else{this.unsubscribe(),this.state=ar.errored,e==null||e(no.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,e&&e(no.SUBSCRIBED);return}}).receive("error",x=>{this.state=ar.errored,e==null||e(no.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(no.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===ar.joined&&e===Uf.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(c.status===202)return{success:!0};let u=c.statusText;try{const h=await c.json();u=h.error||h.message||u}catch{}return Promise.reject(new Error(u))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=e,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=h.body)===null||i===void 0?void 0:i.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,c,u;const h=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(c=(o=this.params)===null||o===void 0?void 0:o.config)===null||c===void 0?void 0:c.broadcast)===null||u===void 0)&&u.ack)&&a("ok"),h.receive("ok",()=>a("ok")),h.receive("error",()=>a("error")),h.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ar.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(li.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new _b(this,li.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ar.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new _b(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>RY){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,a;const o=e.toLocaleLowerCase(),{close:c,error:u,leave:h,join:f}=li;if(r&&[c,u,h,f].indexOf(o)>=0&&r!==this._joinRef())return;let g=this._onMessage(o,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(x=>{var _,w,j;return((_=x.filter)===null||_===void 0?void 0:_.event)==="*"||((j=(w=x.filter)===null||w===void 0?void 0:w.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===o}).map(x=>x.callback(g,r)):(a=this.bindings[o])===null||a===void 0||a.filter(x=>{var _,w,j,N,S,k;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in x){const C=x.id,R=(_=x.filter)===null||_===void 0?void 0:_.event;return C&&((w=n.ids)===null||w===void 0?void 0:w.includes(C))&&(R==="*"||(R==null?void 0:R.toLocaleLowerCase())===((j=n.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const C=(S=(N=x==null?void 0:x.filter)===null||N===void 0?void 0:N.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return C==="*"||C===((k=n==null?void 0:n.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===o}).map(x=>{if(typeof g=="object"&&"ids"in g){const _=g.data,{schema:w,table:j,commit_timestamp:N,type:S,errors:k}=_;g=Object.assign(Object.assign({},{schema:w,table:j,commit_timestamp:N,eventType:S,new:{},old:{},errors:k}),this._getPayloadRecords(_))}x.callback(g,r)})}_isClosed(){return this.state===ar.closed}_isJoined(){return this.state===ar.joined}_isJoining(){return this.state===ar.joining}_isLeaving(){return this.state===ar.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&ZN.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(li.close,{},e)}_onError(e){this._on(li.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ar.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=YA(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=YA(e.columns,e.old_record)),n}}const Nb=()=>{},kg={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},VY=[1e3,2e3,5e3,1e4],UY=1e4,$Y=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class BY{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=hj,this.transport=null,this.heartbeatIntervalMs=kg.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Nb,this.ref=0,this.reconnectTimer=null,this.vsn=JA,this.logger=Nb,this.conn=null,this.sendBuffer=[],this.serializer=new IY,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${fj.websocket}`,this.httpEndpoint=sD(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=EY.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case yc.connecting:return vc.Connecting;case yc.open:return vc.Open;case yc.closing:return vc.Closing;default:return vc.Closed}}isConnected(){return this.connectionState()===vc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new ZN(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:r,payload:i,ref:a}=e,o=()=>{this.encode(e,c=>{var u;(u=this.conn)===null||u===void 0||u.send(c)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(TY,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},kg.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(h){this.log("error","error in heartbeat callback",h)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:o}=n,c=o?`(${o})`:"",u=a.status||"";this.log("receive",`${u} ${r} ${i} ${c}`.trim(),a),this.channels.filter(h=>h._isMember(r)).forEach(h=>h._trigger(i,a,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===yc.open||this.conn.readyState===yc.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(li.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([$Y],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:CY};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(li.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new nD(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},kg.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,a,o,c,u,h,f,m,g,x;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:hj,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:kg.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(c=e==null?void 0:e.heartbeatCallback)!==null&&c!==void 0?c:Nb,this.vsn=(u=e==null?void 0:e.vsn)!==null&&u!==void 0?u:JA,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=e==null?void 0:e.reconnectAfterMs)!==null&&h!==void 0?h:(_=>VY[_-1]||UY),this.vsn){case tD:this.encode=(f=e==null?void 0:e.encode)!==null&&f!==void 0?f:((_,w)=>w(JSON.stringify(_))),this.decode=(m=e==null?void 0:e.decode)!==null&&m!==void 0?m:((_,w)=>w(JSON.parse(_)));break;case AY:this.encode=(g=e==null?void 0:e.encode)!==null&&g!==void 0?g:this.serializer.encode.bind(this.serializer),this.decode=(x=e==null?void 0:e.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class e1 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Nn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class zY extends e1{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class pj extends e1{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const t1=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),qY=()=>Response,gj=t=>{if(Array.isArray(t))return t.map(n=>gj(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=gj(r)}),e},HY=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Sb=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},WY=(t,e,n)=>it(void 0,void 0,void 0,function*(){const r=yield qY();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{const a=t.status||500,o=(i==null?void 0:i.statusCode)||a+"";e(new zY(Sb(i),a,o))}).catch(i=>{e(new pj(Sb(i),i))}):e(new pj(Sb(t),t))}),KY=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(HY(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function Bm(t,e,n,r,i,a){return it(this,void 0,void 0,function*(){return new Promise((o,c)=>{t(n,KY(e,r,i,a)).then(u=>{if(!u.ok)throw u;return r!=null&&r.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>WY(u,c,r))})})}function hm(t,e,n,r){return it(this,void 0,void 0,function*(){return Bm(t,"GET",e,n,r)})}function Ti(t,e,n,r,i){return it(this,void 0,void 0,function*(){return Bm(t,"POST",e,r,i,n)})}function xj(t,e,n,r,i){return it(this,void 0,void 0,function*(){return Bm(t,"PUT",e,r,i,n)})}function GY(t,e,n,r){return it(this,void 0,void 0,function*(){return Bm(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function n1(t,e,n,r,i){return it(this,void 0,void 0,function*(){return Bm(t,"DELETE",e,r,i,n)})}class QY{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return it(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Nn(e))return{data:null,error:e};throw e}})}}var iD;class JY{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[iD]="BlobDownloadBuilder",this.promise=null}asStream(){return new QY(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return it(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Nn(e))return{data:null,error:e};throw e}})}}iD=Symbol.toStringTag;const YY={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},e2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class XY{constructor(e,n={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=t1(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,i){return it(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},e2),i);let c=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),u&&a.append("metadata",this.encodeMetadata(u)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),u&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(u))):(a=r,c["cache-control"]=`max-age=${o.cacheControl}`,c["content-type"]=o.contentType,u&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(u))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),i!=null&&i.headers&&(c=Object.assign(Object.assign({},c),i.headers));const h=this._removeEmptyFolders(n),f=this._getFinalPath(h),m=yield(e=="PUT"?xj:Ti)(this.fetch,`${this.url}/object/${f}`,a,Object.assign({headers:c},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:h,id:m.Id,fullPath:m.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Nn(a))return{data:null,error:a};throw a}})}upload(e,n,r){return it(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return it(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),o=this._getFinalPath(a),c=new URL(this.url+`/object/upload/sign/${o}`);c.searchParams.set("token",n);try{let u;const h=Object.assign({upsert:e2.upsert},i),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",h.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",h.cacheControl)):(u=r,f["cache-control"]=`max-age=${h.cacheControl}`,f["content-type"]=h.contentType);const m=yield xj(this.fetch,c.toString(),u,{headers:f});return{data:{path:a,fullPath:m.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Nn(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(e,n){return it(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const a=yield Ti(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+a.url),c=o.searchParams.get("token");if(!c)throw new e1("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:c},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nn(r))return{data:null,error:r};throw r}})}update(e,n,r){return it(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return it(this,void 0,void 0,function*(){try{return{data:yield Ti(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Nn(i))return{data:null,error:i};throw i}})}copy(e,n,r){return it(this,void 0,void 0,function*(){try{return{data:{path:(yield Ti(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Nn(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return it(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield Ti(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Nn(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return it(this,void 0,void 0,function*(){try{const i=yield Ti(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Nn(i))return{data:null,error:i};throw i}})}download(e,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=a?`?${a}`:"",c=this._getFinalPath(e),u=()=>hm(this.fetch,`${this.url}/${i}/${c}${o}`,{headers:this.headers,noResolveJson:!0});return new JY(u,this.shouldThrowOnError)}info(e){return it(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield hm(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:gj(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nn(r))return{data:null,error:r};throw r}})}exists(e){return it(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield GY(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nn(r)&&r instanceof pj){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const c=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});u!==""&&i.push(u);let h=i.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${r}${h}`)}}}remove(e){return it(this,void 0,void 0,function*(){try{return{data:yield n1(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Nn(n))return{data:null,error:n};throw n}})}list(e,n,r){return it(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},YY),n),{prefix:e||""});return{data:yield Ti(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Nn(i))return{data:null,error:i};throw i}})}listV2(e,n){return it(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Ti(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nn(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const aD="2.81.1",oD={"X-Client-Info":`storage-js/${aD}`};class ZY{constructor(e,n={},r,i){this.shouldThrowOnError=!1;const a=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},oD),n),this.fetch=t1(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return it(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield hm(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Nn(n))return{data:null,error:n};throw n}})}getBucket(e){return it(this,void 0,void 0,function*(){try{return{data:yield hm(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Nn(n))return{data:null,error:n};throw n}})}createBucket(e){return it(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Ti(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Nn(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return it(this,void 0,void 0,function*(){try{return{data:yield xj(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nn(r))return{data:null,error:r};throw r}})}emptyBucket(e){return it(this,void 0,void 0,function*(){try{return{data:yield Ti(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Nn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return it(this,void 0,void 0,function*(){try{return{data:yield n1(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Nn(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class eX{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},oD),n),this.fetch=t1(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return it(this,void 0,void 0,function*(){try{return{data:yield Ti(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Nn(n))return{data:null,error:n};throw n}})}listBuckets(e){return it(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield hm(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Nn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return it(this,void 0,void 0,function*(){try{return{data:yield n1(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Nn(n))return{data:null,error:n};throw n}})}}const r1={"X-Client-Info":`storage-js/${aD}`,"Content-Type":"application/json"};class lD extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function zs(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Eb extends lD{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class tX extends lD{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var t2;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(t2||(t2={}));const s1=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),nX=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},n2=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),rX=(t,e,n)=>it(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const i=t.status||500,a=t;if(typeof a.json=="function")a.json().then(o=>{const c=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";e(new Eb(n2(o),i,c))}).catch(()=>{const o=i+"",c=a.statusText||`HTTP ${i} error`;e(new Eb(c,i,o))});else{const o=i+"",c=a.statusText||`HTTP ${i} error`;e(new Eb(c,i,o))}}else e(new tX(n2(t),t))}),sX=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(nX(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n)):i};function iX(t,e,n,r,i,a){return it(this,void 0,void 0,function*(){return new Promise((o,c)=>{t(n,sX(e,r,i,a)).then(u=>{if(!u.ok)throw u;if(r!=null&&r.noResolveJson)return u;const h=u.headers.get("content-type");return!h||!h.includes("application/json")?{}:u.json()}).then(u=>o(u)).catch(u=>rX(u,c,r))})})}function qs(t,e,n,r,i){return it(this,void 0,void 0,function*(){return iX(t,"POST",e,r,i,n)})}class aX{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},r1),n),this.fetch=s1(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return it(this,void 0,void 0,function*(){try{return{data:(yield qs(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zs(n))return{data:null,error:n};throw n}})}getIndex(e,n){return it(this,void 0,void 0,function*(){try{return{data:yield qs(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zs(r))return{data:null,error:r};throw r}})}listIndexes(e){return it(this,void 0,void 0,function*(){try{return{data:yield qs(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zs(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return it(this,void 0,void 0,function*(){try{return{data:(yield qs(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zs(r))return{data:null,error:r};throw r}})}}class oX{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},r1),n),this.fetch=s1(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return it(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield qs(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zs(n))return{data:null,error:n};throw n}})}getVectors(e){return it(this,void 0,void 0,function*(){try{return{data:yield qs(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zs(n))return{data:null,error:n};throw n}})}listVectors(e){return it(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield qs(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zs(n))return{data:null,error:n};throw n}})}queryVectors(e){return it(this,void 0,void 0,function*(){try{return{data:yield qs(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zs(n))return{data:null,error:n};throw n}})}deleteVectors(e){return it(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield qs(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zs(n))return{data:null,error:n};throw n}})}}class lX{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},r1),n),this.fetch=s1(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return it(this,void 0,void 0,function*(){try{return{data:(yield qs(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zs(n))return{data:null,error:n};throw n}})}getBucket(e){return it(this,void 0,void 0,function*(){try{return{data:yield qs(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zs(n))return{data:null,error:n};throw n}})}listBuckets(){return it(this,arguments,void 0,function*(e={}){try{return{data:yield qs(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zs(n))return{data:null,error:n};throw n}})}deleteBucket(e){return it(this,void 0,void 0,function*(){try{return{data:(yield qs(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zs(n))return{data:null,error:n};throw n}})}}class cX extends lX{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new uX(this.url,this.headers,e,this.fetch)}}class uX extends aX{constructor(e,n,r,i){super(e,n,i),this.vectorBucketName=r}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return it(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return it(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return it(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return it(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new dX(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class dX extends oX{constructor(e,n,r,i,a){super(e,n,a),this.vectorBucketName=r,this.indexName=i}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return it(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return it(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return it(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return it(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return it(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class hX extends ZY{constructor(e,n={},r,i){super(e,n,r,i)}from(e){return new XY(this.url,this.headers,e,this.fetch)}get vectors(){return new cX(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new eX(this.url+"/iceberg",this.headers,this.fetch)}}const fX="2.81.1";let Ef="";typeof Deno<"u"?Ef="deno":typeof document<"u"?Ef="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ef="react-native":Ef="node";const mX={"X-Client-Info":`supabase-js-${Ef}/${fX}`},pX={headers:mX},gX={schema:"public"},xX={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},yX={},vX=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),bX=()=>Headers,wX=(t,e,n)=>{const r=vX(n),i=bX();return async(a,o)=>{var c;const u=(c=await e())!==null&&c!==void 0?c:t;let h=new i(o==null?void 0:o.headers);return h.has("apikey")||h.set("apikey",t),h.has("Authorization")||h.set("Authorization",`Bearer ${u}`),r(a,Object.assign(Object.assign({},o),{headers:h}))}};function jX(t){return t.endsWith("/")?t:t+"/"}function _X(t,e){var n,r;const{db:i,auth:a,realtime:o,global:c}=t,{db:u,auth:h,realtime:f,global:m}=e,g={db:Object.assign(Object.assign({},u),i),auth:Object.assign(Object.assign({},h),a),realtime:Object.assign(Object.assign({},f),o),storage:{},global:Object.assign(Object.assign(Object.assign({},m),c),{headers:Object.assign(Object.assign({},(n=m==null?void 0:m.headers)!==null&&n!==void 0?n:{}),(r=c==null?void 0:c.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?g.accessToken=t.accessToken:delete g.accessToken,g}function NX(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(jX(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const cD="2.81.1",td=30*1e3,yj=3,kb=yj*td,SX="http://localhost:9999",EX="supabase.auth.token",kX={"X-Client-Info":`gotrue-js/${cD}`},vj="X-Supabase-Api-Version",uD={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},CX=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,AX=600*1e3;class fm extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ct(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class TX extends fm{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function RX(t){return ct(t)&&t.name==="AuthApiError"}class bc extends fm{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Ll extends fm{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class Ei extends Ll{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function IX(t){return ct(t)&&t.name==="AuthSessionMissingError"}class Wu extends Ll{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Cg extends Ll{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ag extends Ll{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function PX(t){return ct(t)&&t.name==="AuthImplicitGrantRedirectError"}class r2 extends Ll{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class bj extends Ll{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Cb(t){return ct(t)&&t.name==="AuthRetryableFetchError"}class s2 extends Ll{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class wj extends Ll{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Lx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),i2=` 	
\r=`.split(""),OX=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<i2.length;e+=1)t[i2[e].charCodeAt(0)]=-2;for(let e=0;e<Lx.length;e+=1)t[Lx[e].charCodeAt(0)]=e;return t})();function a2(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Lx[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Lx[r]),e.queuedBits-=6}}function dD(t,e,n){const r=OX[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function o2(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{LX(o,r,n)};for(let o=0;o<t.length;o+=1)dD(t.charCodeAt(o),i,a);return e.join("")}function MX(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function DX(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}MX(r,e)}}function LX(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function yd(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)dD(t.charCodeAt(i),n,r);return new Uint8Array(e)}function FX(t){const e=[];return DX(t,n=>e.push(n)),new Uint8Array(e)}function Nc(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>a2(i,n,r)),a2(null,n,r),e.join("")}function VX(t){return Math.round(Date.now()/1e3)+t}function UX(){return Symbol("auth-callback")}const Nr=()=>typeof window<"u"&&typeof document<"u",mc={tested:!1,writable:!1},hD=()=>{if(!Nr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(mc.tested)return mc.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),mc.tested=!0,mc.writable=!0}catch{mc.tested=!0,mc.writable=!1}return mc.writable};function $X(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const fD=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),BX=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",nd=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},pc=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ho=async(t,e)=>{await t.removeItem(e)};class Dy{constructor(){this.promise=new Dy.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Dy.promiseConstructor=Promise;function Ab(t){const e=t.split(".");if(e.length!==3)throw new wj("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!CX.test(e[r]))throw new wj("JWT not in base64url format");return{header:JSON.parse(o2(e[0])),payload:JSON.parse(o2(e[1])),signature:yd(e[2]),raw:{header:e[0],payload:e[1]}}}async function zX(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function qX(t,e){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await t(a);if(!e(a,null,o)){r(o);return}}catch(o){if(!e(a,o)){i(o);return}}})()})}function HX(t){return("0"+t.toString(16)).substr(-2)}function WX(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,HX).join("")}async function KX(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function GX(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await KX(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ku(t,e,n=!1){const r=WX();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await nd(t,`${e}-code-verifier`,i);const a=await GX(r);return[a,r===a?"plain":"s256"]}const QX=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function JX(t){const e=t.headers.get(vj);if(!e||!e.match(QX))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function YX(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function XX(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ZX=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Gu(t){if(!ZX.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Tb(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function eZ(t,e){return new Proxy(t,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,i)}})}function l2(t){return JSON.parse(JSON.stringify(t))}const xc=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),tZ=[502,503,504];async function c2(t){var e;if(!BX(t))throw new bj(xc(t),0);if(tZ.includes(t.status))throw new bj(xc(t),t.status);let n;try{n=await t.json()}catch(a){throw new bc(xc(a),a)}let r;const i=JX(t);if(i&&i.getTime()>=uD["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new s2(xc(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Ei}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new s2(xc(n),t.status,n.weak_password.reasons);throw new TX(xc(n),t.status||500,r)}const nZ=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function yt(t,e,n,r){var i;const a=Object.assign({},r==null?void 0:r.headers);a[vj]||(a[vj]=uD["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const c=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await rZ(t,e,n+c,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(u):{data:Object.assign({},u),error:null}}async function rZ(t,e,n,r,i,a){const o=nZ(e,r,i,a);let c;try{c=await t(n,Object.assign({},o))}catch(u){throw console.error(u),new bj(xc(u),0)}if(c.ok||await c2(c),r!=null&&r.noResolveJson)return c;try{return await c.json()}catch(u){await c2(u)}}function ki(t){var e;let n=null;aZ(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=VX(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function u2(t){const e=ki(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function el(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function sZ(t){return{data:t,error:null}}function iZ(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=t,o=Dl(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},u=Object.assign({},o);return{data:{properties:c,user:u},error:null}}function d2(t){return t}function aZ(t){return t.access_token&&t.refresh_token&&t.expires_in}const Rb=["global","local","others"];class oZ{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=fD(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Rb[0]){if(Rb.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Rb.join(", ")}`);try{return await yt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ct(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await yt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:el})}catch(r){if(ct(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Dl(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await yt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:iZ,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ct(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await yt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:el})}catch(n){if(ct(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,a,o,c,u;try{const h={nextPage:null,lastPage:0,total:0},f=await yt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:d2});if(f.error)throw f.error;const m=await f.json(),g=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,x=(u=(c=f.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&u!==void 0?u:[];return x.length>0&&(x.forEach(_=>{const w=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(_.split(";")[1].split("=")[1]);h[`${j}Page`]=w}),h.total=parseInt(g)),{data:Object.assign(Object.assign({},m),h),error:null}}catch(h){if(ct(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){Gu(e);try{return await yt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:el})}catch(n){if(ct(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Gu(e);try{return await yt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:el})}catch(r){if(ct(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Gu(e);try{return await yt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:el})}catch(r){if(ct(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Gu(e.userId);try{const{data:n,error:r}=await yt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(ct(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Gu(e.userId),Gu(e.id);try{return{data:await yt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ct(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,a,o,c,u;try{const h={nextPage:null,lastPage:0,total:0},f=await yt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:d2});if(f.error)throw f.error;const m=await f.json(),g=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,x=(u=(c=f.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&u!==void 0?u:[];return x.length>0&&(x.forEach(_=>{const w=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(_.split(";")[1].split("=")[1]);h[`${j}Page`]=w}),h.total=parseInt(g)),{data:Object.assign(Object.assign({},m),h),error:null}}catch(h){if(ct(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(e){try{return await yt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ct(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await yt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ct(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await yt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ct(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await yt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ct(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await yt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ct(n))return{data:null,error:n};throw n}}}function h2(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Qu={debug:!!(globalThis&&hD()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class mD extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class lZ extends mD{}async function cZ(t,e,n){Qu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Qu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Qu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{Qu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Qu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new lZ(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Qu.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function uZ(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function pD(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function dZ(t){return parseInt(t,16)}function hZ(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function fZ(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:c,requestId:u,resources:h,scheme:f,uri:m,version:g}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const x=pD(t.address),_=f?`${f}://${r}`:r,w=t.statement?`${t.statement}
`:"",j=`${_} wants you to sign in with your Ethereum account:
${x}

${w}`;let N=`URI: ${m}
Version: ${g}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(N+=`
Expiration Time: ${i.toISOString()}`),c&&(N+=`
Not Before: ${c.toISOString()}`),u&&(N+=`
Request ID: ${u}`),h){let S=`
Resources:`;for(const k of h){if(!k||typeof k!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${k}`);S+=`
- ${k}`}N+=S}return`${j}
${N}`}class Yn extends Error{constructor({message:e,code:n,cause:r,name:i}){var a;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class Fx extends Yn{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function mZ({error:t,options:e}){var n,r,i;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Yn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Yn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Yn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Yn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Yn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Yn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new Yn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Yn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(gD(o)){if(a.rp.id!==o)return new Yn({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Yn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Yn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Yn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Yn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function pZ({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Yn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Yn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(gD(r)){if(n.rpId!==r)return new Yn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Yn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Yn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Yn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class gZ{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const xZ=new gZ;function yZ(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=Dl(t,["challenge","user","excludeCredentials"]),a=yd(e).buffer,o=Object.assign(Object.assign({},n),{id:yd(n.id).buffer}),c=Object.assign(Object.assign({},i),{challenge:a,user:o});if(r&&r.length>0){c.excludeCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const h=r[u];c.excludeCredentials[u]=Object.assign(Object.assign({},h),{id:yd(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return c}function vZ(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=Dl(t,["challenge","allowCredentials"]),i=yd(e).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const c=n[o];a.allowCredentials[o]=Object.assign(Object.assign({},c),{id:yd(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function bZ(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Nc(new Uint8Array(t.response.attestationObject)),clientDataJSON:Nc(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function wZ(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Nc(new Uint8Array(i.authenticatorData)),clientDataJSON:Nc(new Uint8Array(i.clientDataJSON)),signature:Nc(new Uint8Array(i.signature)),userHandle:i.userHandle?Nc(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function gD(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function f2(){var t,e;return!!(Nr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function jZ(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Fx("Browser returned unexpected credential type",e)}:{data:null,error:new Fx("Empty credential response",e)}}catch(e){return{data:null,error:mZ({error:e,options:t})}}}async function _Z(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Fx("Browser returned unexpected credential type",e)}:{data:null,error:new Fx("Empty credential response",e)}}catch(e){return{data:null,error:pZ({error:e,options:t})}}}const NZ={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},SZ={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Vx(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))r[a]=o;else if(n(o))r[a]=o;else if(e(o)){const c=r[a];e(c)?r[a]=Vx(c,o):r[a]=Vx(o)}else r[a]=o}return r}function EZ(t,e){return Vx(NZ,t,e||{})}function kZ(t,e){return Vx(SZ,t,e||{})}class CZ{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},a){try{const{data:o,error:c}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!o)return{data:null,error:c};const u=i??xZ.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:h}=o.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${r}`),h.displayName||(h.displayName=h.name)}switch(o.webauthn.type){case"create":{const h=EZ(o.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:f,error:m}=await jZ({publicKey:h,signal:u});return f?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:f}},error:null}:{data:null,error:m}}case"request":{const h=kZ(o.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:f,error:m}=await _Z(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:h,signal:u}));return f?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:f}},error:null}:{data:null,error:m}}}}catch(o){return ct(o)?{data:null,error:o}:{data:null,error:new bc("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new fm("rpId is required for WebAuthn authentication")};try{if(!f2())return{data:null,error:new bc("Browser does not support WebAuthn",null)};const{data:o,error:c}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:a});if(!o)return{data:null,error:c};const{webauthn:u}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:u.type,rpId:n,rpOrigins:r,credential_response:u.credential_response}})}catch(o){return ct(o)?{data:null,error:o}:{data:null,error:new bc("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new fm("rpId is required for WebAuthn registration")};try{if(!f2())return{data:null,error:new bc("Browser does not support WebAuthn",null)};const{data:o,error:c}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(f=>{var m;return(m=f.data)===null||m===void 0?void 0:m.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===e&&g.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f==null?void 0:f.id}):void 0),{data:null,error:c};const{data:u,error:h}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:a});return u?this._verify({factorId:o.id,challengeId:u.challengeId,webauthn:{rpId:n,rpOrigins:r,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:h}}catch(o){return ct(o)?{data:null,error:o}:{data:null,error:new bc("Unexpected error in register",o)}}}}uZ();const AZ={url:SX,storageKey:EX,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:kX,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function m2(t,e,n){return await n()}const Ju={};class mm{get jwks(){var e,n;return(n=(e=Ju[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Ju[this.storageKey]=Object.assign(Object.assign({},Ju[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Ju[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ju[this.storageKey]=Object.assign(Object.assign({},Ju[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},AZ),e);if(this.storageKey=a.storageKey,this.instanceID=(n=mm.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,mm.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&Nr()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new oZ({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=fD(a.fetch),this.lock=a.lock||m2,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:Nr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=cZ:this.lock=m2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new CZ(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:hD()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=h2(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=h2(this.memoryStorage)),Nr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${cD}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(Nr()&&(n=$X(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Nr()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),PX(a)){const u=(e=a.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",c),await this._saveSession(o),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ct(n)?this._returnResult({error:n}):this._returnResult({error:new bc("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const a=await yt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:ki}),{data:o,error:c}=a;if(c||!o)return this._returnResult({data:{user:null,session:null},error:c});const u=o.session,h=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:h,session:u},error:null})}catch(a){if(ct(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var n,r,i;try{let a;if("email"in e){const{email:f,password:m,options:g}=e;let x=null,_=null;this.flowType==="pkce"&&([x,_]=await Ku(this.storage,this.storageKey)),a=await yt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:f,password:m,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:x,code_challenge_method:_},xform:ki})}else if("phone"in e){const{phone:f,password:m,options:g}=e;a=await yt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:m,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},channel:(i=g==null?void 0:g.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:ki})}else throw new Cg("You must provide either an email or phone number and a password");const{data:o,error:c}=a;if(c||!o)return this._returnResult({data:{user:null,session:null},error:c});const u=o.session,h=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:h,session:u},error:null})}catch(a){if(ct(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:o,options:c}=e;n=await yt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:u2})}else if("phone"in e){const{phone:a,password:o,options:c}=e;n=await yt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:u2})}else throw new Cg("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const a=new Wu;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(ct(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,a,o,c,u,h,f,m,g;let x,_;if("message"in e)x=e.message,_=e.signature;else{const{chain:w,wallet:j,statement:N,options:S}=e;let k;if(Nr())if(typeof j=="object")k=j;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")k=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=j}const C=new URL((n=S==null?void 0:S.url)!==null&&n!==void 0?n:window.location.href),R=await k.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!R||R.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const O=pD(R[0]);let A=(r=S==null?void 0:S.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!A){const P=await k.request({method:"eth_chainId"});A=dZ(P)}const M={domain:C.host,address:O,statement:N,uri:C.href,version:"1",chainId:A,nonce:(i=S==null?void 0:S.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=S==null?void 0:S.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(c=S==null?void 0:S.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(u=S==null?void 0:S.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(h=S==null?void 0:S.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(f=S==null?void 0:S.signInWithEthereum)===null||f===void 0?void 0:f.resources};x=fZ(M),_=await k.request({method:"personal_sign",params:[hZ(x),O]})}try{const{data:w,error:j}=await yt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:_},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:ki});if(j)throw j;if(!w||!w.session||!w.user){const N=new Wu;return this._returnResult({data:{user:null,session:null},error:N})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:j})}catch(w){if(ct(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(e){var n,r,i,a,o,c,u,h,f,m,g,x;let _,w;if("message"in e)_=e.message,w=e.signature;else{const{chain:j,wallet:N,statement:S,options:k}=e;let C;if(Nr())if(typeof N=="object")C=N;else{const O=window;if("solana"in O&&typeof O.solana=="object"&&("signIn"in O.solana&&typeof O.solana.signIn=="function"||"signMessage"in O.solana&&typeof O.solana.signMessage=="function"))C=O.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(k!=null&&k.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=N}const R=new URL((n=k==null?void 0:k.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in C&&C.signIn){const O=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},k==null?void 0:k.signInWithSolana),{version:"1",domain:R.host,uri:R.href}),S?{statement:S}:null));let A;if(Array.isArray(O)&&O[0]&&typeof O[0]=="object")A=O[0];else if(O&&typeof O=="object"&&"signedMessage"in O&&"signature"in O)A=O;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in A&&"signature"in A&&(typeof A.signedMessage=="string"||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array)_=typeof A.signedMessage=="string"?A.signedMessage:new TextDecoder().decode(A.signedMessage),w=A.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${R.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...S?["",S,""]:[""],"Version: 1",`URI: ${R.href}`,`Issued At: ${(i=(r=k==null?void 0:k.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=k==null?void 0:k.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${k.signInWithSolana.notBefore}`]:[],...!((o=k==null?void 0:k.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${k.signInWithSolana.expirationTime}`]:[],...!((c=k==null?void 0:k.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${k.signInWithSolana.chainId}`]:[],...!((u=k==null?void 0:k.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${k.signInWithSolana.nonce}`]:[],...!((h=k==null?void 0:k.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${k.signInWithSolana.requestId}`]:[],...!((m=(f=k==null?void 0:k.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||m===void 0)&&m.length?["Resources",...k.signInWithSolana.resources.map(A=>`- ${A}`)]:[]].join(`
`);const O=await C.signMessage(new TextEncoder().encode(_),"utf8");if(!O||!(O instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=O}}try{const{data:j,error:N}=await yt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:Nc(w)},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:ki});if(N)throw N;if(!j||!j.session||!j.user){const S=new Wu;return this._returnResult({data:{user:null,session:null},error:S})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:N})}catch(j){if(ct(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async _exchangeCodeForSession(e){const n=await pc(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:o}=await yt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:ki});if(await Ho(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const c=new Wu;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(ct(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:a,nonce:o}=e,c=await yt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ki}),{data:u,error:h}=c;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!u||!u.session||!u.user){const f=new Wu;return this._returnResult({data:{user:null,session:null},error:f})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:h})}catch(n){if(ct(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,i,a,o;try{if("email"in e){const{email:c,options:u}=e;let h=null,f=null;this.flowType==="pkce"&&([h,f]=await Ku(this.storage,this.storageKey));const{error:m}=await yt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=u==null?void 0:u.data)!==null&&n!==void 0?n:{},create_user:(r=u==null?void 0:u.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:h,code_challenge_method:f},redirectTo:u==null?void 0:u.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in e){const{phone:c,options:u}=e,{data:h,error:f}=await yt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=u==null?void 0:u.data)!==null&&i!==void 0?i:{},create_user:(a=u==null?void 0:u.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(o=u==null?void 0:u.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:f})}throw new Cg("You must provide either an email or phone number.")}catch(c){if(ct(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(e){var n,r;try{let i,a;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:c}=await yt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:ki});if(c)throw c;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,h=o.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:h,session:u},error:null})}catch(i){if(ct(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var n,r,i,a,o;try{let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Ku(this.storage,this.storageKey));const h=await yt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:u}),headers:this.headers,xform:sZ});return!((a=h.data)===null||a===void 0)&&a.url&&Nr()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(h.data.url),this._returnResult(h)}catch(c){if(ct(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Ei;const{error:i}=await yt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(ct(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:a}=e,{error:o}=await yt(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:r,type:i,options:a}=e,{data:o,error:c}=await yt(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:c})}throw new Cg("You must provide either an email or phone number and a type")}catch(n){if(ct(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await pc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<kb:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await pc(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Tb()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=eZ(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await yt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:el}):await this._useSession(async n=>{var r,i,a;const{data:o,error:c}=n;if(c)throw c;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ei}:await yt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:el})})}catch(n){if(ct(n))return IX(n)&&(await this._removeSession(),await Ho(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new Ei;const o=i.session;let c=null,u=null;this.flowType==="pkce"&&e.email!=null&&([c,u]=await Ku(this.storage,this.storageKey));const{data:h,error:f}=await yt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:u}),jwt:o.access_token,xform:el});if(f)throw f;return o.user=h.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(ct(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ei;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:o}=Ab(e.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{data:c,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c)return{data:{user:null,session:null},error:null};a=c}else{const{data:c,error:u}=await this._getUser(e.access_token);if(u)throw u;a={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(ct(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:c}=n;if(c)throw c;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Ei;const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ct(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!Nr())throw new Ag("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ag(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new r2("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ag("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new r2("No code detected.");const{data:S,error:k}=await this._exchangeCodeForSession(e.code);if(k)throw k;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:S.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:c,expires_at:u,token_type:h}=e;if(!a||!c||!o||!h)throw new Ag("No session defined in URL");const f=Math.round(Date.now()/1e3),m=parseInt(c);let g=f+m;u&&(g=parseInt(u));const x=g-f;x*1e3<=td&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${m}s`);const _=g-m;f-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,g,f):f-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,g,f);const{data:w,error:j}=await this._getUser(a);if(j)throw j;const N={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:m,expires_at:g,refresh_token:o,token_type:h,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:N,redirectType:e.type},error:null})}catch(r){if(ct(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await pc(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({error:a});const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:c}=await this.admin.signOut(o,e);if(c&&!(RX(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return e!=="others"&&(await this._removeSession(),await Ho(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=UX(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Ku(this.storage,this.storageKey,!0));try{return await yt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(ct(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(ct(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var o,c,u,h,f;const{data:m,error:g}=a;if(g)throw g;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await yt(this.fetch,"GET",x,{headers:this.headers,jwt:(f=(h=m.session)===null||h===void 0?void 0:h.access_token)!==null&&f!==void 0?f:void 0})});if(i)throw i;return Nr()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(ct(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:o,provider:c,token:u,access_token:h,nonce:f}=e,m=await yt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a==null?void 0:a.access_token)!==null&&r!==void 0?r:void 0,body:{provider:c,id_token:u,access_token:h,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ki}),{data:g,error:x}=m;return x?this._returnResult({data:{user:null,session:null},error:x}):!g||!g.session||!g.user?this._returnResult({data:{user:null,session:null},error:new Wu}):(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),this._returnResult({data:g,error:x}))}catch(i){if(ct(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)throw o;return await yt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(ct(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await qX(async i=>(i>0&&await zX(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await yt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ki})),(i,a)=>{const o=200*Math.pow(2,i);return a&&Cb(a)&&Date.now()+o-r<td})}catch(r){if(this._debug(n,"error",r),ct(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Nr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await pc(this.storage,this.storageKey);if(i&&this.userStorage){let o=await pc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await nd(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Tb()}else if(i&&!i.user&&!i.user){const o=await pc(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await Ho(this.storage,this.storageKey+"-user"),await nd(this.storage,this.storageKey,i)):i.user=Tb()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<kb;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${kb}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Cb(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:c}=await this._getUser(i.access_token);!c&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Ei;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Dy;const{data:a,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!a.session)throw new Ei;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const c={data:a.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(a){if(this._debug(i,"error",a),ct(a)){const o={data:null,error:a};return Cb(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,n)}catch(u){a.push(u)}});if(await Promise.all(o),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await nd(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=l2(i);await nd(this.storage,this.storageKey,a)}else{const i=l2(n);await nd(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Ho(this.storage,this.storageKey),await Ho(this.storage,this.storageKey+"-code-verifier"),await Ho(this.storage,this.storageKey+"-user"),this.userStorage&&await Ho(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Nr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),td);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/td);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${td}ms, refresh threshold is ${yj} ticks`),i<=yj&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof mD)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Nr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await Ku(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(c.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?this._returnResult({data:null,error:a}):await yt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ct(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)return this._returnResult({data:null,error:o});const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:u,error:h}=await yt(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return h?this._returnResult({data:null,error:h}):(e.factorType==="totp"&&u.type==="totp"&&(!((i=u==null?void 0:u.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(n){if(ct(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?bZ(e.webauthn.credential_response):wZ(e.webauthn.credential_response)})}:{code:e.code}),{data:c,error:u}=await yt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:u}))})}catch(n){if(ct(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=await yt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:c}=o;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:yZ(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:vZ(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ct(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Ab(r.access_token);let o=null;a.aal&&(o=a.aal);let c=o;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const h=a.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await yt(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Ei})})}catch(n){if(ct(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Ei});const o=await yt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return o.data&&o.data.redirect_url&&Nr()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(ct(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Ei});const o=await yt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return o.data&&o.data.redirect_url&&Nr()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(ct(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(c=>c.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(c=>c.kid===e),r&&this.jwks_cached_at+AX>i)return r;const{data:a,error:o}=await yt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(c=>c.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:x,error:_}=await this.getSession();if(_||!x.session)return this._returnResult({data:null,error:_});r=x.session.access_token}const{header:i,payload:a,signature:o,raw:{header:c,payload:u}}=Ab(r);n!=null&&n.allowExpired||YX(a.exp);const h=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!h){const{error:x}=await this.getUser(r);if(x)throw x;return{data:{claims:a,header:i,signature:o},error:null}}const f=XX(i.alg),m=await crypto.subtle.importKey("jwk",h,f,!0,["verify"]);if(!await crypto.subtle.verify(f,m,o,FX(`${c}.${u}`)))throw new wj("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(r){if(ct(r))return this._returnResult({data:null,error:r});throw r}}}mm.nextInstanceID={};const TZ=mm;class RZ extends TZ{constructor(e){super(e)}}class IZ{constructor(e,n,r){var i,a,o;this.supabaseUrl=e,this.supabaseKey=n;const c=NX(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,h={db:gX,realtime:yX,auth:Object.assign(Object.assign({},xX),{storageKey:u}),global:pX},f=_X(r??{},h);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=f.global.headers)!==null&&a!==void 0?a:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(m,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=wX(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.accessToken&&this.accessToken().then(m=>this.realtime.setAuth(m)).catch(m=>console.warn("Failed to set initial Realtime auth token:",m)),this.rest=new SY(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new hX(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new wY(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:a,storageKey:o,flowType:c,lock:u,debug:h,throwOnError:f},m,g){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new RZ({url:this.authUrl.href,headers:Object.assign(Object.assign({},x),m),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:a,flowType:c,lock:u,debug:h,throwOnError:f,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new BY(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const PZ=(t,e,n)=>new IZ(t,e,n);function OZ(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}OZ()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const MZ="https://pmxahrmjxbfzuyqeoraz.supabase.co",DZ="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBteGFocm1qeGJmenV5cWVvcmF6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI5NDUyMzAsImV4cCI6MjA3ODUyMTIzMH0.ZZ05XKZKQksAgKv-Vt3k636u7CBMmdeMg5DxZIRWshw",kn=PZ(MZ,DZ),sx="".toLowerCase()==="true"||!1;function yr(){return{app:!0,auth:{get currentUser(){return null}},db:null}}async function xD(t,e){const{data:n,error:r}=await kn.auth.signInWithPassword({email:t,password:e});if(r)throw r;return n.user}async function yD(t,e){const{data:n,error:r}=await kn.auth.signInWithPassword({email:t,password:e});if(r)throw r;return n.user}async function vD(){await kn.auth.signOut()}async function bD(t,e){const{data:n,error:r}=await kn.auth.signUp({email:t,password:e});if(r)throw r;return n.user}async function i1(t,e){const n={id:t,...e||{},updated_at:new Date().toISOString()},{error:r}=await kn.from("users").upsert(n);if(r)throw r}async function Gc(t){try{const{data:e,error:n}=await kn.from("users").select("*").eq("id",t).maybeSingle();if(n){const r=String((n==null?void 0:n.name)||""),i=String((n==null?void 0:n.message)||"").toLowerCase();if(r==="AbortError"||i.includes("abort"))return null;throw n}return e}catch(e){const n=String((e==null?void 0:e.name)||""),r=String((e==null?void 0:e.message)||"").toLowerCase();if(n==="AbortError"||r.includes("abort"))return null;throw e}}function au(t){const{data:e}=kn.auth.onAuthStateChange((n,r)=>{const i=(r==null?void 0:r.user)||null;t(i?{uid:i.id,email:i.email||""}:null)});return()=>{var n,r;try{(r=(n=e.subscription)==null?void 0:n.unsubscribe)==null||r.call(n)}catch{}}}async function wD(t){const{error:e}=await kn.auth.resetPasswordForEmail(t);if(e)throw e}async function jD(){}const Ux={async add(t){var e;if(sx)try{const{data:n}=await kn.auth.getSession(),r=(e=n==null?void 0:n.session)==null?void 0:e.access_token,a=await fetch("/api/messages",{method:"POST",headers:{"Content-Type":"application/json",...r?{Authorization:`Bearer ${r}`}:{}},body:JSON.stringify({message:t})});if(!a.ok)throw new Error(`Backend error: ${a.status}`);return await a.json()}catch(n){console.warn("Backend add failed, falling back to Firestore:",(n==null?void 0:n.message)||n)}return{ok:!1}},async list(){var t;if(sx)try{const{data:e}=await kn.auth.getSession(),n=(t=e==null?void 0:e.session)==null?void 0:t.access_token,i=await fetch("/api/messages",{headers:{...n?{Authorization:`Bearer ${n}`}:{}}});if(!i.ok)throw new Error(`Backend error: ${i.status}`);return await i.json()}catch(e){console.warn("Backend list failed, falling back to Firestore:",(e==null?void 0:e.message)||e)}return[]},async markRead(t,e=!0){var n;if(sx)try{const{data:r}=await kn.auth.getSession(),i=(n=r==null?void 0:r.session)==null?void 0:n.access_token,o=await fetch("/api/messages",{method:"PATCH",headers:{"Content-Type":"application/json",...i?{Authorization:`Bearer ${i}`}:{}},body:JSON.stringify({id:t,read:e})});if(!o.ok)throw new Error(`Backend error: ${o.status}`);return await o.json()}catch(r){console.warn("Backend markRead failed, falling back to Firestore:",(r==null?void 0:r.message)||r)}return{ok:!1}}},a1={async list(){var t;if(sx)try{const{data:e}=await kn.auth.getSession(),n=(t=e==null?void 0:e.session)==null?void 0:t.access_token,i=await fetch("/api/users",{headers:{...n?{Authorization:`Bearer ${n}`}:{}}});if(!i.ok)throw new Error(`Backend error: ${i.status}`);return await i.json()}catch(e){console.warn("Backend users list failed, falling back to Supabase:",(e==null?void 0:e.message)||e)}try{console.log("Fetching users from Supabase for leaderboard");const{data:e,error:n}=await kn.rpc("get_users_for_leaderboard");if(n)return console.error("Error fetching users via RPC:",n),console.log("Using hardcoded sample data as final fallback"),[{id:"sample-1",uid:"sample-1",fullName:"Amina Khan",full_name:"Amina Khan",email:"amina.khan@example.com",role:"user",points:1250,lastAward:null,last_award:null,madrasah_maktab:"Madrasah Al-Huda",city:"Karachi",avatar:""},{id:"sample-2",uid:"sample-2",fullName:"Yusuf Ahmed",full_name:"Yusuf Ahmed",email:"yusuf.ahmed@example.com",role:"user",points:980,lastAward:null,last_award:null,madrasah_maktab:"Maktab Al-Noor",city:"Lahore",avatar:""},{id:"sample-3",uid:"sample-3",fullName:"Fatima Hassan",full_name:"Fatima Hassan",email:"fatima.hassan@example.com",role:"user",points:750,lastAward:null,last_award:null,madrasah_maktab:"Madrasah Al-Ilm",city:"Islamabad",avatar:""}];const r=(e||[]).map(i=>({id:i.id,uid:i.id,fullName:i.full_name||"",full_name:i.full_name||"",email:i.email||"",role:i.role||"user",points:Number(i.points||0),lastAward:i.last_award||null,last_award:i.last_award||null,madrasah_maktab:i.madrasah_maktab||"",city:i.city||"",avatar:i.avatar||""}));return console.log(`Fetched ${r.length} users from Supabase`),r}catch(e){return console.error("Supabase users fetch failed:",e),[]}}},LZ={async submit({storyId:t,answers:e,score:n,meta:r={}}){var i;try{const{data:a}=await kn.auth.getUser(),o=((i=a==null?void 0:a.user)==null?void 0:i.email)||(r==null?void 0:r.email)||null,c={story_id:t,answers:e,score:n,user_email:o,meta:r,created_at:new Date().toISOString()},{data:u,error:h}=await kn.from("quiz_answers").insert(c).select("id").maybeSingle();if(h)throw h;return{id:(u==null?void 0:u.id)||null}}catch(a){try{const o=localStorage.getItem("quizAnswers"),c=o?JSON.parse(o):[];return c.push({storyId:t,answers:e,score:n,meta:r,id:`local-${Date.now()}`}),localStorage.setItem("quizAnswers",JSON.stringify(c)),{id:`local-${Date.now()}`,local:!0}}catch{}return{error:String((a==null?void 0:a.message)||a)}}}};function Tg(){try{const t=localStorage.getItem("local_sponsors");return t?JSON.parse(t):[]}catch{return[]}}function Ib(t){try{localStorage.setItem("local_sponsors",JSON.stringify(t))}catch{}}const FZ=()=>{var t,e;return((e=(t=globalThis.crypto)==null?void 0:t.randomUUID)==null?void 0:e.call(t))||`local_${Date.now()}`},fd={async add(t){let e;try{e=getDb()}catch{}if(!e){const i=Tg(),a=FZ(),o=[...i,{...t,_localId:a}];return Ib(o),{id:a}}const n=collection(e,"sponsors");return{id:(await addDoc(n,t)).id}},async list(){let t;try{t=getDb()}catch{}if(!t)return Tg();const e=collection(t,"sponsors");let n;try{const r=query(e,orderBy("order","asc"));n=await getDocs(r)}catch{n=await getDocs(e)}return n.docs.map(r=>({id:r.id,...r.data()}))},async update(t,e){let n;try{n=getDb()}catch{}if(!n){const a=Tg().map(o=>o.id===t||o._localId===t?{...o,...e}:o);return Ib(a),{ok:!0}}const r=doc(n,"sponsors",t);await updateDoc(r,e)},async remove(t){let e;try{e=getDb()}catch{}if(!e){const r=Tg().filter(i=>i.id!==t&&i._localId!==t);return Ib(r),{ok:!0}}const n=doc(e,"sponsors",t);await deleteDoc(n)}};async function _D(t,e=""){throw new Error("Not supported")}async function $x(){var i;const{data:t}=await kn.auth.getSession(),e=(i=t==null?void 0:t.session)==null?void 0:i.user;if(!e)return!1;const n="huzaify786@gmail.com".toLowerCase(),r=String(e.email||"").toLowerCase();return n?r===n:!0}const Bx=Object.freeze(Object.defineProperty({__proto__:null,adminSignIn:yD,adminSignOut:vD,getFirebase:yr,getUserProfile:Gc,isAdminUser:$x,messagesApi:Ux,quizApi:LZ,resetPassword:wD,saveUserProfile:i1,sendVerification:jD,signIn:xD,signUp:bD,sponsorsApi:fd,uploadSponsorImage:_D,usersApi:a1,watchAuth:au},Symbol.toStringTag,{value:"Module"})),ND=y.createContext(),VZ=()=>{const t=y.useContext(ND);return t||{isPlaying:!1,isMuted:!1,volume:.7,togglePlay:()=>{},toggleMute:()=>{},setVolume:()=>{}}};function SD({children:t,currentPageName:e}){const[n,r]=y.useState(!1),[i,a]=y.useState(null),[o,c]=y.useState(!1),[u,h]=y.useState(null),[f,m]=y.useState(!1),[g,x]=y.useState(!1),[_,w]=y.useState(!1),[j,N]=y.useState(.7),S=y.useRef(null),[k,C]=y.useState({siteTitle:"Islam Kids Zone",tagline:"Learn, Play & Grow",logoEmoji:"",headerGradient:"from-blue-600 to-purple-600",navActiveGradient:"from-blue-500 to-purple-500",backgroundGradient:"from-blue-50 via-purple-50 to-pink-50",darkModeDefault:!1,showTestBanner:!0,showRadioBar:!0,showMobileSidebar:!0});y.useEffect(()=>{try{const se=localStorage.getItem("siteSettings");if(se){const ge=JSON.parse(se);C(Re=>({...Re,...ge}))}}catch{}},[]),y.useEffect(()=>{try{const se=typeof window<"u"&&window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||typeof navigator<"u"&&navigator.standalone===!0;m(!!se)}catch{}},[]),y.useEffect(()=>{k.darkModeDefault?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[k.darkModeDefault]);const R=`min-h-screen bg-gradient-to-br ${k.backgroundGradient}`,O=`bg-gradient-to-r ${k.headerGradient} text-white shadow-lg sticky top-0 z-50`,A=k.supportEmail||"imedia786@gmail.com",M=k.radioUrl||"https://a4.asurahosting.com:7820/radio.mp3";y.useEffect(()=>{const se=["Home","About","ContactUs","Welcome","ParentZone","PrivacyPolicy","Games","Leaderboard","Stories","Learn","Quran","Duas","RecordAndShare","IslamicEncyclopedia","IslamicFacts","ColoringPages","PoetryWriting","Worksheets","MonthlyContest","CreativeCorner","Videos","History","Hadith","Tajweed","LearningLibrary"];console.log("currentPageName:",e),console.log("publicPages:",se)},[e]),y.useEffect(()=>{S.current&&(S.current.volume=j)},[j]),y.useEffect(()=>{const se=au(async ge=>{try{if(ge){c(!0);let Re=null;try{Re=await Gc(ge.uid)}catch{}const Xe=(Re==null?void 0:Re.fullName)||(Re==null?void 0:Re.name)||ge.displayName||ge.email||"User",It=(Re==null?void 0:Re.points)||0;h({full_name:Xe,points:It,email:ge.email,uid:ge.uid})}else c(!1),h(null)}catch(Re){console.warn("Auth/profile load failed:",(Re==null?void 0:Re.message)||Re),c(!!ge),h(ge?{full_name:ge.email||"User",points:0,email:ge.email,uid:ge.uid}:null)}});return()=>se==null?void 0:se()},[]);const P=()=>{c(!1),h(null)},F=()=>{S.current&&(g?S.current.pause():S.current.play().catch(se=>{console.error("Error playing radio:",se)}),x(!g))},L=()=>{S.current&&(S.current.muted=!_,w(!_))},D=se=>{N(se),S.current&&(S.current.volume=se)},V=[{name:"Kids Home",icon:lz,path:"Home"},{name:"Games",icon:wl,path:"Games"},{name:"Leaderboard",icon:ns,path:"Leaderboard"},{name:"Stories",icon:un,path:"Stories"},{name:"Videos",icon:Vc,path:"Videos"},{name:"Kids Recording Studio",icon:Tw,path:"KidsRecordingStudio"},{name:"Learn",icon:bx,dropdown:[{name:"Hadith",path:"Hadith",icon:un},{name:"History",path:"History",icon:$k},{name:"Tajweed",path:"Tajweed",icon:bx},{name:"99 Names of Allah",path:"LearningLibrary",icon:ln}]},{name:"Quran",icon:un,dropdown:[{name:"Learn Quran",path:"Quran",icon:un},{name:"Full Quran",path:"FullQuran",icon:$k},{name:"Quran Dictionary",path:"QuranDictionary",icon:un},{name:"Hifz Dashboard",path:"HifzDashboard",icon:NB}]},{name:"Parents",icon:Ol,path:"ParentZone"},{name:"Signup",icon:Qg,path:"Signup"},{name:"About",icon:qv,path:"About"}],ae=String(e||"").toLowerCase().startsWith("admin")||e==="Assistant"?[...V,{name:"AI Agent / ChatGPT",icon:Na,path:"Assistant"}]:V,ue=[...ae,{name:"Privacy Policy",icon:ru,external:!0,url:"https://studio--studio-653801381-47983.us-central1.hosted.app/privacy"}],Q=ue.filter(se=>se.name!=="Quran"&&se.name!=="Learn"),K=()=>{r(!1),a(null)},[B,z]=y.useState(""),X=B.trim().toLowerCase(),q=["Kids Home","Games","Stories","Videos","Leaderboard"],ye=ue.find(se=>se.name==="Quran"),_e=ue.find(se=>se.name==="Learn"),Ee=ue.filter(se=>!se.dropdown&&!se.external&&se.name!=="Quran"&&se.name!=="Learn"),ve=Ee.filter(se=>q.includes(se.name)),Fe=Ee.filter(se=>!q.includes(se.name)),Ie=ue.filter(se=>se.external),ze=[{title:"Kids",entries:ve},{title:"Quran",entries:(ye==null?void 0:ye.dropdown)||[]},{title:"Learn",entries:(_e==null?void 0:_e.dropdown)||[]},{title:"More",entries:[...Fe,...Ie]}],rt=[...ve,...((ye==null?void 0:ye.dropdown)||[]).map(se=>({...se,_isSub:!0})),...((_e==null?void 0:_e.dropdown)||[]).map(se=>({...se,_isSub:!0})),...Fe,...Ie],de={isPlaying:g,isMuted:_,volume:j,togglePlay:F,toggleMute:L,setVolume:D};return s.jsx(ND.Provider,{value:de,children:s.jsxs("div",{className:R,children:[s.jsx("audio",{ref:S,src:M,preload:"none"}),s.jsx("header",{className:O,children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-6 py-3 md:py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Mt,{to:at("Home"),className:"flex items-center gap-2 md:gap-3 hover:opacity-90 transition-opacity",children:[s.jsx("div",{className:"text-3xl md:text-4xl",children:k.logoEmoji}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl md:text-2xl font-bold",children:k.siteTitle}),s.jsx("p",{className:"text-xs md:text-sm text-blue-100",children:k.tagline})]})]}),s.jsx("div",{className:"hidden md:flex items-center gap-3",children:o&&u?s.jsx(s.Fragment,{children:s.jsxs(OA,{children:[s.jsx(MA,{asChild:!0,children:s.jsxs("button",{className:"flex items-center gap-2 bg-white/20 px-4 py-2 rounded-full hover:bg-white/30 transition-colors",children:[s.jsx(YI,{className:"w-4 h-4"}),s.jsxs("div",{className:"text-sm text-left",children:[s.jsx("div",{className:"font-semibold",children:u.full_name||"User"}),s.jsxs("div",{className:"text-lg font-bold text-amber-600 mb-1",children:[" ",u.points||0," points"]})]}),s.jsx(em,{className:"w-4 h-4"})]})}),s.jsxs(uj,{align:"end",className:"w-48",children:[s.jsx(rx,{asChild:!0,children:s.jsxs(Mt,{to:at("DeleteAccount"),className:"cursor-pointer text-red-600 hover:text-red-700 hover:bg-red-50",children:[s.jsx(Fc,{className:"w-4 h-4 mr-2"}),"Delete Account"]})}),s.jsxs(rx,{onClick:P,className:"cursor-pointer",children:[s.jsx(Hv,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})}):null}),!(f||k.showMobileSidebar)&&s.jsx(W,{variant:"ghost",size:"icon",className:"md:hidden text-white hover:bg-white/20",onClick:()=>r(!n),children:n?s.jsx(Br,{className:"w-6 h-6"}):s.jsx(bz,{className:"w-6 h-6"})})]})})}),!(f||k.showMobileSidebar)&&s.jsx("nav",{className:"md:hidden bg-white/95 backdrop-blur-sm shadow-sm sticky top-[56px] z-40 border-b border-gray-100",children:s.jsx("div",{className:"max-w-7xl mx-auto px-2",children:s.jsx("div",{className:"flex items-center overflow-x-auto gap-1 py-1.5 scrollbar-hide",children:Q.map(se=>{const ge=se.icon,Re=se.path&&e===se.path;return s.jsx(Mt,{to:se.path?at(se.path):"#",onClick:K,"aria-label":se.name,title:se.name,className:`flex items-center justify-center w-7 h-7 rounded-full whitespace-nowrap transition-all flex-shrink-0 ${Re?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow":"bg-white border border-gray-200 text-gray-700"}`,children:s.jsx(ge,{className:"w-4 h-4"})},se.path||se.name)})})})}),s.jsx("nav",{className:"hidden md:block bg-white shadow-md sticky top-[68px] z-40",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4",children:s.jsx("div",{className:"flex overflow-x-auto scrollbar-hide gap-1 py-2",children:ae.map(se=>{const ge=se.icon,Re=se.path&&e===se.path;if(se.dropdown&&se.dropdown.length>0){const Xe=se.dropdown.some(It=>e===It.path);return s.jsxs(OA,{children:[s.jsx(MA,{asChild:!0,children:s.jsxs("button",{type:"button",className:`flex items-center gap-1.5 px-3 py-2 rounded-lg whitespace-nowrap transition-all flex-shrink-0 ${Xe?`bg-gradient-to-r ${k.navActiveGradient} text-white shadow-md`:"text-gray-700 hover:bg-gray-100"}`,children:[s.jsx(ge,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:se.name}),s.jsx(em,{className:"w-3 h-3"})]})}),s.jsx(uj,{children:se.dropdown.map(It=>{const Ln=It.icon;return s.jsx(rx,{asChild:!0,children:s.jsxs(Mt,{to:at(It.path),className:"cursor-pointer flex items-center gap-2",children:[Ln?s.jsx(Ln,{className:"w-4 h-4"}):null,s.jsx("span",{children:It.name})]})},It.path)})})]},se.name)}return s.jsxs(Mt,{to:at(se.path),className:`flex items-center gap-1.5 px-3 py-2 rounded-lg whitespace-nowrap transition-all flex-shrink-0 ${Re?`bg-gradient-to-r ${k.navActiveGradient} text-white shadow-md`:"text-gray-700 hover:bg-gray-100"}`,children:[s.jsx(ge,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:se.name})]},se.path)})})})}),n&&!(f||k.showMobileSidebar)&&s.jsxs("div",{className:"fixed inset-0 z-[1000] md:hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>r(!1)}),s.jsx("div",{className:"absolute top-0 right-0 h-full w-[85vw] max-w-[360px] bg-white shadow-2xl overflow-y-auto z-[1001]",children:s.jsxs("div",{className:"p-4 pt-[env(safe-area-inset-top)] pb-[env(safe-area-inset-bottom)]",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Menu"}),s.jsx(W,{variant:"ghost",size:"icon",onClick:()=>r(!1),children:s.jsx(Br,{className:"w-5 h-5"})})]}),o&&u?s.jsxs("div",{className:"mb-4 pb-4 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3 bg-gradient-to-r from-blue-50 to-purple-500 p-3 rounded-lg",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-2xl",children:u.avatar||""}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-bold text-gray-900",children:u.full_name||"User"}),s.jsx("div",{className:"text-sm text-gray-600",children:u.email}),s.jsxs("div",{className:"text-lg font-bold text-amber-600 mb-1",children:[" ",u.points||0," points"]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Mt,{to:at("DeleteAccount"),onClick:K,children:s.jsxs(W,{variant:"outline",size:"sm",className:"w-full text-red-600 border-red-300 hover:bg-red-50",children:[s.jsx(Fc,{className:"w-4 h-4 mr-2"}),"Delete Account"]})}),s.jsxs(W,{onClick:P,variant:"outline",size:"sm",className:"w-full",children:[s.jsx(Hv,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]}):s.jsxs("div",{className:"mb-4 pb-4 border-b border-gray-200 space-y-2",children:[s.jsx(Mt,{to:at("Signup"),onClick:K,children:s.jsxs(W,{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-blue-500 to-purple-500 text-white font-bold shadow hover:scale-105 transition-transform w-full",children:[s.jsx(Qg,{className:"w-4 h-4 mr-2"}),"Sign up"]})}),s.jsx(Mt,{to:at("Login"),onClick:K,children:s.jsxs(W,{variant:"outline",className:"flex items-center gap-2 px-4 py-2 rounded-lg w-full",children:[s.jsx(Cw,{className:"w-4 h-4 mr-2"}),"Login"]})})]}),s.jsx("div",{className:"mb-3",children:s.jsx(ke,{value:B,onChange:se=>z(se.target.value),placeholder:"Search menu"})}),s.jsx("nav",{className:"flex flex-col gap-2 py-4",children:X?rt.filter(se=>{var ge;return(ge=se.name)==null?void 0:ge.toLowerCase().includes(X)}).map(se=>{const ge=se.icon;return se.url?s.jsxs("a",{href:se.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 rounded-lg text-base font-medium text-gray-800 bg-white hover:bg-blue-100 shadow transition-all duration-150",children:[ge?s.jsx(ge,{className:"w-5 h-5 text-blue-600"}):null,se.name]},`ext-${se.name}`):s.jsxs(Mt,{to:at(se.path),onClick:K,className:"flex items-center gap-2 px-4 py-2 rounded-lg text-base font-medium text-gray-800 bg-white hover:bg-blue-100 shadow transition-all duration-150",children:[ge?s.jsx(ge,{className:"w-5 h-5 text-blue-600"}):null,se.name]},`link-${se.name}`)}):ze.map(se=>s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("div",{className:"px-2 text-[11px] font-semibold uppercase tracking-wide text-gray-500",children:se.title}),se.entries.map(ge=>{if(ge.url){const Xe=ge.icon;return s.jsxs("a",{href:ge.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 rounded-lg text-base font-medium text-gray-800 bg-white hover:bg-blue-100 shadow transition-all duration-150",children:[Xe?s.jsx(Xe,{className:"w-5 h-5 text-blue-600"}):null,ge.name]},`ext-${se.title}-${ge.name}`)}const Re=ge.icon;return s.jsxs(Mt,{to:at(ge.path),onClick:K,className:"flex items-center gap-2 px-4 py-2 rounded-lg text-base font-medium text-gray-800 bg-white hover:bg-blue-100 shadow transition-all duration-150",children:[Re?s.jsx(Re,{className:"w-5 h-5 text-blue-600"}):null,ge.name]},`link-${se.title}-${ge.name}`)})]},se.title))})]})})]}),(f||k.showMobileSidebar)&&s.jsx("div",{className:"md:hidden fixed top-[56px] bottom-0 left-0 w-72 bg-white shadow-2xl z-40 border-r border-gray-200 overflow-y-auto",children:s.jsxs("div",{className:"p-4",children:[o&&u?s.jsxs("div",{className:"mb-4 pb-4 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3 bg-gradient-to-r from-blue-50 to-purple-500 p-3 rounded-lg",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-2xl",children:u.avatar||""}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-bold text-gray-900",children:u.full_name||"User"}),s.jsx("div",{className:"text-sm text-gray-600",children:u.email}),s.jsxs("div",{className:"text-lg font-bold text-amber-600 mb-1",children:[" ",u.points||0," points"]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Mt,{to:at("DeleteAccount"),children:s.jsxs(W,{variant:"outline",size:"sm",className:"w-full text-red-600 border-red-300 hover:bg-red-50",children:[s.jsx(Fc,{className:"w-4 h-4 mr-2"}),"Delete Account"]})}),s.jsxs(W,{onClick:P,variant:"outline",size:"sm",className:"w-full",children:[s.jsx(Hv,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]}):s.jsxs("div",{className:"mb-4 pb-4 border-b border-gray-200 space-y-2",children:[s.jsx(Mt,{to:at("Signup"),children:s.jsxs(W,{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-blue-500 to-purple-500 text-white font-bold shadow w-full",children:[s.jsx(Qg,{className:"w-4 h-4 mr-2"}),"Sign up"]})}),s.jsx(Mt,{to:at("Login"),children:s.jsxs(W,{variant:"outline",className:"flex items-center gap-2 px-4 py-2 rounded-lg w-full",children:[s.jsx(Cw,{className:"w-4 h-4 mr-2"}),"Login"]})})]}),s.jsx("div",{className:"mb-3",children:s.jsx(ke,{value:B,onChange:se=>z(se.target.value),placeholder:"Search menu"})}),s.jsx("nav",{className:"flex flex-col gap-2 py-2",children:X?rt.filter(se=>{var ge;return(ge=se.name)==null?void 0:ge.toLowerCase().includes(X)}).map(se=>{const ge=se.icon;return se.url?s.jsxs("a",{href:se.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 rounded-lg text-base font-medium text-gray-800 bg-white hover:bg-blue-100 shadow",children:[ge?s.jsx(ge,{className:"w-5 h-5 text-blue-600"}):null,se.name]},`ext-app-${se.name}`):s.jsxs(Mt,{to:at(se.path),className:"flex items-center gap-2 px-4 py-2 rounded-lg text-base font-medium text-gray-800 bg-white hover:bg-blue-100 shadow",children:[ge?s.jsx(ge,{className:"w-5 h-5 text-blue-600"}):null,se.name]},`link-app-${se.name}`)}):ze.map(se=>s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("div",{className:"px-2 text-[11px] font-semibold uppercase tracking-wide text-gray-500",children:se.title}),se.entries.map(ge=>{if(ge.url){const Xe=ge.icon;return s.jsxs("a",{href:ge.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 rounded-lg text-base font-medium text-gray-800 bg-white hover:bg-blue-100 shadow",children:[Xe?s.jsx(Xe,{className:"w-5 h-5 text-blue-600"}):null,ge.name]},`app-ext-${se.title}-${ge.name}`)}const Re=ge.icon;return s.jsxs(Mt,{to:at(ge.path),className:"flex items-center gap-2 px-4 py-2 rounded-lg text-base font-medium text-gray-800 bg-white hover:bg-blue-100 shadow",children:[Re?s.jsx(Re,{className:"w-5 h-5 text-blue-600"}):null,ge.name]},`app-link-${se.title}-${ge.name}`)})]},`app-${se.title}`))})]})}),s.jsxs("main",{className:"max-w-7xl mx-auto px-4 md:px-6 py-4 md:py-6",style:{paddingBottom:g?"100px":"24px",marginLeft:f||k.showMobileSidebar?"18rem":void 0},children:[k.maintenanceMode&&s.jsx("div",{className:"mb-4",children:s.jsx("div",{className:"bg-yellow-100 border-2 border-yellow-300 rounded-lg p-3 shadow-md",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(qv,{className:"w-5 h-5 text-yellow-700 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1 text-sm text-gray-800",children:[s.jsx("strong",{className:"text-yellow-700",children:"Maintenance Mode:"})," Some features may be temporarily unavailable. For support, email ",s.jsx("span",{className:"font-medium",children:A}),k.supportWhatsappNumber&&s.jsxs(s.Fragment,{children:[" or WhatsApp ",s.jsx("span",{className:"font-medium",children:k.supportWhatsappNumber})]}),"."]})]})})}),t,k.showTestBanner&&s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"mt-8 mb-4",children:s.jsx("div",{className:"bg-gradient-to-r from-blue-100 to-purple-100 border-2 border-blue-300 rounded-lg p-4 shadow-md",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(qv,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),s.jsx("div",{className:"flex-1",children:s.jsxs("p",{className:"text-sm text-gray-800 leading-relaxed",children:[s.jsx("strong",{className:"text-blue-600",children:" Test Mode:"})," We are currently testing the website. If you see any errors, please use the WhatsApp icon on the home page or contact page to message us.",s.jsx("br",{className:"hidden md:block"}),s.jsx("strong",{className:"text-purple-600",children:" Install as App:"}),' To install this website as an app on your device, click on the three dots () if using Chrome and scroll down to "Add to Home Screen."']})})]})})})]}),k.showRadioBar&&g&&s.jsx(te.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},className:"fixed bottom-0 left-0 right-0 bg-gradient-to-r from-purple-600 to-blue-600 text-white shadow-2xl z-50 border-t-4 border-purple-400",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-3",children:s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[s.jsx(Tw,{className:"w-6 h-6 text-white flex-shrink-0 animate-pulse"}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"font-bold text-sm truncate",children:"Islamic Radio 24/7"}),s.jsx("p",{className:"text-xs text-purple-200 truncate",children:"Live Islamic Content"})]})]}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[s.jsxs("div",{className:"hidden sm:flex items-center gap-2 bg-white/20 px-3 py-2 rounded-full backdrop-blur-sm",children:[s.jsx(W,{onClick:L,size:"sm",variant:"ghost",className:"text-white hover:bg-white/20 p-1 h-8 w-8",children:_?s.jsx(Bd,{className:"w-4 h-4"}):s.jsx(Oi,{className:"w-4 h-4"})}),s.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:j,onChange:se=>D(parseFloat(se.target.value)),className:"w-20 h-2 bg-white/30 rounded-lg appearance-none cursor-pointer accent-white"})]}),s.jsx(W,{onClick:F,size:"sm",className:"bg-white/20 hover:bg-white/30 text-white border-2 border-white/40 rounded-full w-10 h-10 p-0",children:g?s.jsx(bo,{className:"w-5 h-5"}):s.jsx(er,{className:"w-5 h-5 ml-0.5"})}),s.jsx(W,{onClick:L,size:"sm",variant:"ghost",className:"sm:hidden text-white hover:bg-white/20 p-2 h-10 w-10",children:_?s.jsx(Bd,{className:"w-5 h-5"}):s.jsx(Oi,{className:"w-5 h-5"})})]})]})})})]})})}SD.propTypes={children:Vt.node.isRequired,currentPageName:Vt.string};const re=y.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:mt("rounded-xl border bg-card text-card-foreground shadow",t),...e}));re.displayName="Card";const Oe=y.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:mt("flex flex-col space-y-1.5 p-6",t),...e}));Oe.displayName="CardHeader";const Me=y.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:mt("font-semibold leading-none tracking-tight",t),...e}));Me.displayName="CardTitle";const UZ=y.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:mt("text-sm text-muted-foreground",t),...e}));UZ.displayName="CardDescription";const ie=y.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:mt("p-6 pt-0",t),...e}));ie.displayName="CardContent";const $Z=y.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:mt("flex items-center p-6 pt-0",t),...e}));$Z.displayName="CardFooter";const BZ=[{title:"Arabic Learning",description:"Learn Arabic letters, vocabulary and pronunciation",icon:bx,link:"ArabicLearning",color:"from-indigo-600 to-violet-500"},{title:"99 Names of Allah",description:"Asmaul Husna with meanings and audio",icon:ln,link:"LearningLibrary",query:"?section=names",color:"from-purple-600 to-indigo-500"},{title:"Full Quran",description:"Read and learn the full Qur'an",icon:un,link:"FullQuran",color:"from-green-600 to-teal-500"},{title:"Quran Dictionary",description:"Word-by-word meanings and transliteration",icon:mi,link:"QuranDictionary",color:"from-purple-600 to-indigo-500"},{title:"Hadith",description:"Explore authentic hadith collections",icon:KI,link:"Hadith",color:"from-amber-600 to-orange-500"},{title:"Duas",description:"Daily duas for kids to learn",icon:ch,link:"Duas",color:"from-rose-600 to-pink-500"},{title:"Islamic Games",description:"Fun educational games to learn about Islam",icon:wl,link:"Games",color:"from-blue-600 to-purple-500"},{title:"Learning Activities",description:"Printable worksheets and activities",icon:bx,link:"Worksheets",color:"from-cyan-600 to-blue-500"}],zZ=[{icon:ch,title:"Love & Compassion",description:"Teaching kindness and mercy to all",color:"text-red-500"},{icon:ln,title:"Knowledge & Wisdom",description:"Seeking knowledge is obligatory",color:"text-yellow-500"},{icon:ru,title:"Safety & Security",description:"A safe environment for children",color:"text-blue-500"}];function kf(){const{isPlaying:t,isMuted:e,volume:n,togglePlay:r,toggleMute:i,setVolume:a}=VZ(),[o,c]=y.useState(0),[u,h]=y.useState([]),f=[{id:1,text:"Welcome to Islam Kids Zone",subtext:"Learn, Play & Grow in Faith",gradient:"from-blue-600 via-purple-600 to-pink-600"},{id:2,text:'"Whoever guides someone to goodness will have a reward like one who did it."',subtext:" Sahih Muslim",gradient:"from-green-600 via-teal-600 to-cyan-600"},{id:3,text:`"The best among you are those who learn the Qur'an and teach it."`,subtext:" Sahih Bukhari",gradient:"from-amber-600 via-orange-600 to-red-600"},{id:4,text:'"Remember Allah much so that you may be successful."',subtext:" Qur'an 62:10",gradient:"from-purple-600 via-pink-600 to-rose-600"}];y.useEffect(()=>{const g=setInterval(()=>{c(x=>(x+1)%f.length)},5e3);return()=>clearInterval(g)},[]),y.useEffect(()=>{(async()=>{try{const _=(await fd.list()||[]).filter(w=>(w.active??!0)&&(w.placement||"home")==="home");_.sort((w,j)=>(w.order??0)-(j.order??0)),h(_)}catch{try{const _=localStorage.getItem("homepage_sponsors"),w=_?JSON.parse(_):[],j=(Array.isArray(w)?w:[]).filter(N=>(N.active??!0)&&(N.placement||"home")==="home");j.sort((N,S)=>(N.order??0)-(S.order??0)),h(j)}catch{h([])}}})()},[]);const m=g=>{const x=parseFloat(g.target.value);a(x)};return s.jsxs("div",{className:"min-h-screen",children:[s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"fixed bottom-6 left-4 md:left-6 z-50",children:s.jsx("a",{href:"https://wa.me/447447999284?text=Assalamu%20Alaikum!%20I%20have%20a%20question%20about%20Islam%20Kids%20Zone.",target:"_blank",rel:"noopener noreferrer",className:"block bg-green-500 hover:bg-green-600 text-white rounded-full p-3 md:p-4 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-110","aria-label":"Chat on WhatsApp",children:s.jsx(jz,{className:"w-6 h-6 md:w-8 md:h-8"})})}),s.jsxs("section",{className:"relative py-12 md:py-20 px-4 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-100 via-purple-100 to-pink-100 opacity-50"}),s.jsx("div",{className:"max-w-6xl mx-auto relative z-10",children:s.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[s.jsx(te.div,{className:"text-6xl md:text-8xl mb-6",animate:{rotate:[0,10,-10,0]},transition:{duration:3,repeat:1/0,repeatDelay:2},children:""}),s.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-gray-900 mb-4 md:mb-6",children:["Welcome to ",s.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600",children:"Islam Kids Zone"})]}),s.jsx("p",{className:"text-lg md:text-xl text-gray-700 mb-6 md:mb-8 max-w-3xl mx-auto",children:"A comprehensive Islamic learning platform designed for children. Learn through interactive games, stories, and engaging activities."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx(Mt,{to:at("Games"),children:s.jsxs(W,{size:"lg",className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white text-base md:text-lg px-6 md:px-8 py-4 md:py-6 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[s.jsx(mi,{className:"mr-2 w-5 h-5 md:w-6 md:h-6"}),"Start Learning"]})}),s.jsx(Mt,{to:at("Signup"),children:s.jsxs(W,{size:"lg",className:"bg-gradient-to-r from-green-500 to-teal-500 hover:from-green-600 hover:to-teal-600 text-white text-base md:text-lg px-6 md:px-8 py-4 md:py-6 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[s.jsx(Qg,{className:"mr-2 w-5 h-5 md:w-6 md:h-6"}),"Signup"]})}),s.jsx("a",{href:"https://studio--studio-653801381-47983.us-central1.hosted.app/",target:"_blank",rel:"noopener noreferrer",children:s.jsxs(W,{size:"lg",variant:"outline",className:"border-2 border-blue-400 text-blue-700 bg-white hover:bg-blue-50 text-base md:text-lg px-6 md:px-8 py-4 md:py-6 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[s.jsx(md,{className:"mr-2 w-5 h-5 md:w-6 md:h-6"}),"Open Studio"]})})]})]})})]}),s.jsx("section",{className:"py-8 md:py-12 px-4",children:s.jsx("div",{className:"max-w-6xl mx-auto",children:s.jsxs("div",{className:"relative overflow-hidden rounded-2xl shadow-2xl",children:[s.jsx(Ss,{mode:"wait",children:s.jsx(te.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:.5},className:`bg-gradient-to-r ${f[o].gradient} flex items-center justify-center p-8 md:p-12`,children:s.jsxs("div",{className:"text-center text-white",children:[s.jsx("h2",{className:"text-2xl md:text-4xl font-bold mb-2",children:f[o].text}),f[o].subtext&&s.jsx("p",{className:"text-sm md:text-lg text-white/90",children:f[o].subtext})]})},o)}),s.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex gap-2 z-10",children:f.map((g,x)=>s.jsx("button",{onClick:()=>c(x),className:`w-2 h-2 md:w-3 md:h-3 rounded-full transition-all ${x===o?"bg-white w-6 md:w-8":"bg-white/50"}`,"aria-label":`Go to slide ${x+1}`},x))})]})})}),s.jsx("section",{className:"py-8 md:py-12 px-4 bg-white",children:s.jsx("div",{className:"max-w-6xl mx-auto",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-center p-6 bg-gradient-to-br from-blue-50 to-purple-50 rounded-2xl border-2 border-blue-200",children:[s.jsx("div",{className:"text-5xl mb-4",children:""}),s.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-2",children:"12+"}),s.jsx("p",{className:"text-gray-600 font-medium",children:"Interactive Games"})]}),s.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-center p-6 bg-gradient-to-br from-green-50 to-teal-50 rounded-2xl border-2 border-green-200",children:[s.jsx("div",{className:"text-5xl mb-4",children:""}),s.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-2",children:"7"}),s.jsx("p",{className:"text-gray-600 font-medium",children:"Educational Modules"})]}),s.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-center p-6 bg-gradient-to-br from-amber-50 to-orange-50 rounded-2xl border-2 border-amber-200",children:[s.jsx("div",{className:"text-5xl mb-4",children:""}),s.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-2",children:"100+"}),s.jsx("p",{className:"text-gray-600 font-medium",children:"Active Learners"})]})]})})}),s.jsx("section",{className:"py-8 md:py-12 px-4 bg-gradient-to-br from-purple-50 to-blue-50",children:s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:s.jsx(re,{className:"border-4 border-purple-300 shadow-2xl bg-gradient-to-r from-purple-600 to-blue-600",children:s.jsxs(ie,{className:"p-6 md:p-8",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[s.jsx(Tw,{className:"w-10 h-10 md:w-12 md:h-12 text-white"}),s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white",children:"Islamic Radio "})]}),s.jsx("p",{className:"text-lg md:text-xl text-white/90",children:"Listen to Live Islamic Content 24/7"}),s.jsx("p",{className:"text-sm text-white/80 mt-2",children:"Radio continues playing as you browse the site!"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[s.jsx(W,{onClick:r,size:"lg",className:"bg-white/20 hover:bg-white/30 text-white border-4 border-white/40 rounded-full w-20 h-20 md:w-24 md:h-24 p-0 shadow-xl",children:t?s.jsx(bo,{className:"w-10 h-10 md:w-12 md:h-12"}):s.jsx(er,{className:"w-10 h-10 md:w-12 md:h-12 ml-1"})}),s.jsxs("div",{className:"flex items-center gap-4 bg-white/20 px-6 py-4 rounded-full backdrop-blur-sm w-full sm:w-auto sm:min-w-[300px]",children:[s.jsx(W,{onClick:i,size:"sm",variant:"ghost",className:"text-white hover:bg-white/20 p-2 h-10 w-10",children:e?s.jsx(Bd,{className:"w-6 h-6"}):s.jsx(Oi,{className:"w-6 h-6"})}),s.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:n,onChange:m,className:"flex-1 h-3 bg-white/30 rounded-lg appearance-none cursor-pointer accent-white"})]})]}),s.jsx("div",{className:"text-center mt-6",children:s.jsx("p",{className:"text-sm text-white/80",children:t?" Now Playing - Islamic Radio":"Click play to start listening"})})]})})})})}),s.jsx("section",{className:"py-12 md:py-16 px-4 bg-white",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Our Core Values"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Building strong Islamic character and knowledge through engaging content"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8",children:zZ.map((g,x)=>s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*x},children:s.jsx(re,{className:"h-full hover:shadow-xl transition-shadow duration-300 border-2 hover:border-purple-300",children:s.jsxs(ie,{className:"p-6 text-center",children:[s.jsx(g.icon,{className:`w-16 h-16 mx-auto mb-4 ${g.color}`}),s.jsx("h3",{className:"text-xl font-bold mb-2 text-gray-900",children:g.title}),s.jsx("p",{className:"text-gray-600",children:g.description})]})})},x))})]})}),s.jsx("section",{className:"py-12 md:py-16 px-4 bg-gradient-to-br from-blue-50 to-purple-50",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Comprehensive Islamic Learning"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Explore our wide range of educational resources designed for children"})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:BZ.map((g,x)=>s.jsx(te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1*x},whileHover:{scale:1.05},children:s.jsx(Mt,{to:g.query?at(g.link)+g.query:at(g.link),children:s.jsx(re,{className:"h-full hover:shadow-2xl transition-all duration-300 cursor-pointer border-2 hover:border-purple-300",children:s.jsxs(ie,{className:"p-6 text-center",children:[s.jsx("div",{className:`w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-r ${g.color} flex items-center justify-center`,children:s.jsx(g.icon,{className:"w-8 h-8 text-white"})}),s.jsx("h3",{className:"text-lg font-bold mb-2 text-gray-900",children:g.title}),s.jsx("p",{className:"text-sm text-gray-600",children:g.description})]})})})},x))})]})}),s.jsx("section",{className:"py-12 md:py-16 px-4 bg-white",children:s.jsx("div",{className:"max-w-6xl mx-auto",children:s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:s.jsx(re,{className:"border-4 border-amber-400 shadow-2xl bg-gradient-to-br from-amber-50 to-orange-50",children:s.jsx(ie,{className:"p-8 md:p-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-6xl mb-6",children:""}),s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Monthly Learning Competition"}),s.jsx("p",{className:"text-lg text-gray-700 mb-6 max-w-2xl mx-auto",children:"Compete with learners worldwide! Top 3 students each month win amazing prizes. Play games, complete challenges, and climb the leaderboard."}),s.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[s.jsx(Mt,{to:at("Leaderboard"),children:s.jsxs(W,{size:"lg",className:"bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600",children:[s.jsx(ns,{className:"w-5 h-5 mr-2"}),"View Leaderboard"]})}),s.jsx(Mt,{to:at("Games"),children:s.jsxs(W,{size:"lg",variant:"outline",className:"border-2 border-amber-500",children:[s.jsx(wl,{className:"w-5 h-5 mr-2"}),"Start Playing"]})})]})]})})})})})}),s.jsx("section",{className:"py-12 md:py-16 px-4 bg-gradient-to-br from-purple-50 to-pink-50",children:s.jsx("div",{className:"max-w-4xl mx-auto text-center",children:s.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Join Our Community"}),s.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Follow us for daily Islamic inspiration and educational content"}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-4 md:gap-6",children:[s.jsxs("a",{href:"https://www.tiktok.com/@islamkidszone",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-black hover:bg-gray-800 text-white px-6 py-3 rounded-full transition-all duration-300 transform hover:scale-105 shadow-lg",children:[s.jsx(md,{className:"w-5 h-5"}),s.jsx("span",{className:"font-semibold",children:"TikTok"})]}),s.jsxs("a",{href:"https://www.instagram.com/islamkidszone",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-6 py-3 rounded-full transition-all duration-300 transform hover:scale-105 shadow-lg",children:[s.jsx(md,{className:"w-5 h-5"}),s.jsx("span",{className:"font-semibold",children:"Instagram"})]})]})]})})}),s.jsx("section",{className:"py-16 md:py-20 px-4 bg-gradient-to-r from-blue-600 to-purple-600",children:s.jsx("div",{className:"max-w-4xl mx-auto text-center",children:s.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[s.jsx("h2",{className:"text-3xl md:text-5xl font-bold text-white mb-6",children:"Start Your Islamic Learning Journey Today"}),s.jsx("p",{className:"text-lg md:text-xl text-blue-100 mb-8",children:"Join thousands of children learning about Islam through our engaging platform"}),s.jsx(Mt,{to:at("Games"),children:s.jsxs(W,{size:"lg",className:"bg-white text-purple-600 hover:bg-blue-50 text-base md:text-lg px-8 md:px-12 py-4 md:py-6 rounded-full shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105",children:[s.jsx(mi,{className:"mr-2 w-5 h-5 md:w-6 md:h-6"}),"Get Started Now"]})})]})})})]})}const qZ="modulepreload",HZ=function(t){return"/"+t},p2={},sn=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let o=function(h){return Promise.all(h.map(f=>Promise.resolve(f).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));i=o(n.map(h=>{if(h=HZ(h),h in p2)return;p2[h]=!0;const f=h.endsWith(".css"),m=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${m}`))return;const g=document.createElement("link");if(g.rel=f?"stylesheet":qZ,f||(g.as="script"),g.crossOrigin="",g.href=h,u&&g.setAttribute("nonce",u),document.head.appendChild(g),f)return new Promise((x,_)=>{g.addEventListener("load",x),g.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return i.then(o=>{for(const c of o||[])c.status==="rejected"&&a(c.reason);return e().catch(a)})};var yh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},WZ={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},tl,O_,fI,KZ=(fI=class{constructor(){lt(this,tl,WZ);lt(this,O_,!1)}setTimeoutProvider(t){Be(this,tl,t)}setTimeout(t,e){return Y(this,tl).setTimeout(t,e)}clearTimeout(t){Y(this,tl).clearTimeout(t)}setInterval(t,e){return Y(this,tl).setInterval(t,e)}clearInterval(t){Y(this,tl).clearInterval(t)}},tl=new WeakMap,O_=new WeakMap,fI),Sc=new KZ;function GZ(t){setTimeout(t,0)}var Qc=typeof window>"u"||"Deno"in globalThis;function Zr(){}function QZ(t,e){return typeof t=="function"?t(e):t}function jj(t){return typeof t=="number"&&t>=0&&t!==1/0}function ED(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ml(t,e){return typeof t=="function"?t(e):t}function ci(t,e){return typeof t=="function"?t(e):t}function g2(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:o,stale:c}=t;if(o){if(r){if(e.queryHash!==o1(o,e.options))return!1}else if(!pm(e.queryKey,o))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||i&&i!==e.state.fetchStatus||a&&!a(e))}function x2(t,e){const{exact:n,status:r,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(n){if(Jc(e.options.mutationKey)!==Jc(a))return!1}else if(!pm(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function o1(t,e){return((e==null?void 0:e.queryKeyHashFn)||Jc)(t)}function Jc(t){return JSON.stringify(t,(e,n)=>_j(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function pm(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>pm(t[n],e[n])):!1}var JZ=Object.prototype.hasOwnProperty;function kD(t,e){if(t===e)return t;const n=y2(t)&&y2(e);if(!n&&!(_j(t)&&_j(e)))return e;const i=(n?t:Object.keys(t)).length,a=n?e:Object.keys(e),o=a.length,c=n?new Array(o):{};let u=0;for(let h=0;h<o;h++){const f=n?h:a[h],m=t[f],g=e[f];if(m===g){c[f]=m,(n?h<i:JZ.call(t,f))&&u++;continue}if(m===null||g===null||typeof m!="object"||typeof g!="object"){c[f]=g;continue}const x=kD(m,g);c[f]=x,x===m&&u++}return i===o&&u===i?t:c}function zx(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function y2(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function _j(t){if(!v2(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!v2(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function v2(t){return Object.prototype.toString.call(t)==="[object Object]"}function YZ(t){return new Promise(e=>{Sc.setTimeout(e,t)})}function Nj(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?kD(t,e):e}function XZ(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function ZZ(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var l1=Symbol();function CD(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===l1?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function AD(t,e){return typeof t=="function"?t(...e):!!t}var Ac,nl,Cd,mI,eee=(mI=class extends yh{constructor(){super();lt(this,Ac);lt(this,nl);lt(this,Cd);Be(this,Cd,e=>{if(!Qc&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Y(this,nl)||this.setEventListener(Y(this,Cd))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,nl))==null||e.call(this),Be(this,nl,void 0))}setEventListener(e){var n;Be(this,Cd,e),(n=Y(this,nl))==null||n.call(this),Be(this,nl,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){Y(this,Ac)!==e&&(Be(this,Ac,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof Y(this,Ac)=="boolean"?Y(this,Ac):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ac=new WeakMap,nl=new WeakMap,Cd=new WeakMap,mI),c1=new eee;function Sj(){let t,e;const n=new Promise((i,a)=>{t=i,e=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var tee=GZ;function nee(){let t=[],e=0,n=c=>{c()},r=c=>{c()},i=tee;const a=c=>{e?t.push(c):i(()=>{n(c)})},o=()=>{const c=t;t=[],c.length&&i(()=>{r(()=>{c.forEach(u=>{n(u)})})})};return{batch:c=>{let u;e++;try{u=c()}finally{e--,e||o()}return u},batchCalls:c=>(...u)=>{a(()=>{c(...u)})},schedule:a,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{i=c}}}var or=nee(),Ad,rl,Td,pI,ree=(pI=class extends yh{constructor(){super();lt(this,Ad,!0);lt(this,rl);lt(this,Td);Be(this,Td,e=>{if(!Qc&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Y(this,rl)||this.setEventListener(Y(this,Td))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,rl))==null||e.call(this),Be(this,rl,void 0))}setEventListener(e){var n;Be(this,Td,e),(n=Y(this,rl))==null||n.call(this),Be(this,rl,e(this.setOnline.bind(this)))}setOnline(e){Y(this,Ad)!==e&&(Be(this,Ad,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return Y(this,Ad)}},Ad=new WeakMap,rl=new WeakMap,Td=new WeakMap,pI),qx=new ree;function see(t){return Math.min(1e3*2**t,3e4)}function TD(t){return(t??"online")==="online"?qx.isOnline():!0}var Ej=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function RD(t){let e=!1,n=0,r;const i=Sj(),a=()=>i.status!=="pending",o=w=>{var j;if(!a()){const N=new Ej(w);g(N),(j=t.onCancel)==null||j.call(t,N)}},c=()=>{e=!0},u=()=>{e=!1},h=()=>c1.isFocused()&&(t.networkMode==="always"||qx.isOnline())&&t.canRun(),f=()=>TD(t.networkMode)&&t.canRun(),m=w=>{a()||(r==null||r(),i.resolve(w))},g=w=>{a()||(r==null||r(),i.reject(w))},x=()=>new Promise(w=>{var j;r=N=>{(a()||h())&&w(N)},(j=t.onPause)==null||j.call(t)}).then(()=>{var w;r=void 0,a()||(w=t.onContinue)==null||w.call(t)}),_=()=>{if(a())return;let w;const j=n===0?t.initialPromise:void 0;try{w=j??t.fn()}catch(N){w=Promise.reject(N)}Promise.resolve(w).then(m).catch(N=>{var O;if(a())return;const S=t.retry??(Qc?0:3),k=t.retryDelay??see,C=typeof k=="function"?k(n,N):k,R=S===!0||typeof S=="number"&&n<S||typeof S=="function"&&S(n,N);if(e||!R){g(N);return}n++,(O=t.onFail)==null||O.call(t,n,N),YZ(C).then(()=>h()?void 0:x()).then(()=>{e?g(N):_()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(r==null||r(),i),cancelRetry:c,continueRetry:u,canStart:f,start:()=>(f()?_():x().then(_),i)}}var Tc,gI,ID=(gI=class{constructor(){lt(this,Tc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),jj(this.gcTime)&&Be(this,Tc,Sc.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Qc?1/0:300*1e3))}clearGcTimeout(){Y(this,Tc)&&(Sc.clearTimeout(Y(this,Tc)),Be(this,Tc,void 0))}},Tc=new WeakMap,gI),Rc,Rd,oi,Ic,pr,Nm,Pc,Ri,to,xI,iee=(xI=class extends ID{constructor(n){super();lt(this,Ri);lt(this,Rc);lt(this,Rd);lt(this,oi);lt(this,Ic);lt(this,pr);lt(this,Nm);lt(this,Pc);Be(this,Pc,!1),Be(this,Nm,n.defaultOptions),this.setOptions(n.options),this.observers=[],Be(this,Ic,n.client),Be(this,oi,Y(this,Ic).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Be(this,Rc,w2(this.options)),this.state=n.state??Y(this,Rc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=Y(this,pr))==null?void 0:n.promise}setOptions(n){if(this.options={...Y(this,Nm),...n},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=w2(this.options);r.data!==void 0&&(this.setState(b2(r.data,r.dataUpdatedAt)),Be(this,Rc,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Y(this,oi).remove(this)}setData(n,r){const i=Nj(this.state.data,n,this.options);return Ot(this,Ri,to).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){Ot(this,Ri,to).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,a;const r=(i=Y(this,pr))==null?void 0:i.promise;return(a=Y(this,pr))==null||a.cancel(n),r?r.then(Zr).catch(Zr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Y(this,Rc))}isActive(){return this.observers.some(n=>ci(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===l1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>ml(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!ED(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=Y(this,pr))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=Y(this,pr))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),Y(this,oi).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(Y(this,pr)&&(Y(this,Pc)?Y(this,pr).cancel({revert:!0}):Y(this,pr).cancelRetry()),this.scheduleGc()),Y(this,oi).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ot(this,Ri,to).call(this,{type:"invalidate"})}async fetch(n,r){var h,f,m,g,x,_,w,j,N,S,k,C;if(this.state.fetchStatus!=="idle"&&((h=Y(this,pr))==null?void 0:h.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Y(this,pr))return Y(this,pr).continueRetry(),Y(this,pr).promise}if(n&&this.setOptions(n),!this.options.queryFn){const R=this.observers.find(O=>O.options.queryFn);R&&this.setOptions(R.options)}const i=new AbortController,a=R=>{Object.defineProperty(R,"signal",{enumerable:!0,get:()=>(Be(this,Pc,!0),i.signal)})},o=()=>{const R=CD(this.options,r),A=(()=>{const M={client:Y(this,Ic),queryKey:this.queryKey,meta:this.meta};return a(M),M})();return Be(this,Pc,!1),this.options.persister?this.options.persister(R,A,this):R(A)},u=(()=>{const R={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:Y(this,Ic),state:this.state,fetchFn:o};return a(R),R})();(f=this.options.behavior)==null||f.onFetch(u,this),Be(this,Rd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((m=u.fetchOptions)==null?void 0:m.meta))&&Ot(this,Ri,to).call(this,{type:"fetch",meta:(g=u.fetchOptions)==null?void 0:g.meta}),Be(this,pr,RD({initialPromise:r==null?void 0:r.initialPromise,fn:u.fetchFn,onCancel:R=>{R instanceof Ej&&R.revert&&this.setState({...Y(this,Rd),fetchStatus:"idle"}),i.abort()},onFail:(R,O)=>{Ot(this,Ri,to).call(this,{type:"failed",failureCount:R,error:O})},onPause:()=>{Ot(this,Ri,to).call(this,{type:"pause"})},onContinue:()=>{Ot(this,Ri,to).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0}));try{const R=await Y(this,pr).start();if(R===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(R),(_=(x=Y(this,oi).config).onSuccess)==null||_.call(x,R,this),(j=(w=Y(this,oi).config).onSettled)==null||j.call(w,R,this.state.error,this),R}catch(R){if(R instanceof Ej){if(R.silent)return Y(this,pr).promise;if(R.revert){if(this.state.data===void 0)throw R;return this.state.data}}throw Ot(this,Ri,to).call(this,{type:"error",error:R}),(S=(N=Y(this,oi).config).onError)==null||S.call(N,R,this),(C=(k=Y(this,oi).config).onSettled)==null||C.call(k,this.state.data,R,this),R}finally{this.scheduleGc()}}},Rc=new WeakMap,Rd=new WeakMap,oi=new WeakMap,Ic=new WeakMap,pr=new WeakMap,Nm=new WeakMap,Pc=new WeakMap,Ri=new WeakSet,to=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...PD(i.data,this.options),fetchMeta:n.meta??null};case"success":const a={...i,...b2(n.data,n.dataUpdatedAt),dataUpdateCount:i.dataUpdateCount+1,...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Be(this,Rd,n.manual?a:void 0),a;case"error":const o=n.error;return{...i,error:o,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),or.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),Y(this,oi).notify({query:this,type:"updated",action:n})})},xI);function PD(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:TD(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function b2(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function w2(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var xs,Bt,Sm,Yr,Oc,Id,ro,sl,Em,Pd,Od,Mc,Dc,il,Md,an,Cf,kj,Cj,Aj,Tj,Rj,Ij,Pj,OD,yI,aee=(yI=class extends yh{constructor(e,n){super();lt(this,an);lt(this,xs);lt(this,Bt);lt(this,Sm);lt(this,Yr);lt(this,Oc);lt(this,Id);lt(this,ro);lt(this,sl);lt(this,Em);lt(this,Pd);lt(this,Od);lt(this,Mc);lt(this,Dc);lt(this,il);lt(this,Md,new Set);this.options=n,Be(this,xs,e),Be(this,sl,null),Be(this,ro,Sj()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Y(this,Bt).addObserver(this),j2(Y(this,Bt),this.options)?Ot(this,an,Cf).call(this):this.updateResult(),Ot(this,an,Tj).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Oj(Y(this,Bt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Oj(Y(this,Bt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ot(this,an,Rj).call(this),Ot(this,an,Ij).call(this),Y(this,Bt).removeObserver(this)}setOptions(e){const n=this.options,r=Y(this,Bt);if(this.options=Y(this,xs).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ci(this.options.enabled,Y(this,Bt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ot(this,an,Pj).call(this),Y(this,Bt).setOptions(this.options),n._defaulted&&!zx(this.options,n)&&Y(this,xs).getQueryCache().notify({type:"observerOptionsUpdated",query:Y(this,Bt),observer:this});const i=this.hasListeners();i&&_2(Y(this,Bt),r,this.options,n)&&Ot(this,an,Cf).call(this),this.updateResult(),i&&(Y(this,Bt)!==r||ci(this.options.enabled,Y(this,Bt))!==ci(n.enabled,Y(this,Bt))||ml(this.options.staleTime,Y(this,Bt))!==ml(n.staleTime,Y(this,Bt)))&&Ot(this,an,kj).call(this);const a=Ot(this,an,Cj).call(this);i&&(Y(this,Bt)!==r||ci(this.options.enabled,Y(this,Bt))!==ci(n.enabled,Y(this,Bt))||a!==Y(this,il))&&Ot(this,an,Aj).call(this,a)}getOptimisticResult(e){const n=Y(this,xs).getQueryCache().build(Y(this,xs),e),r=this.createResult(n,e);return lee(this,r)&&(Be(this,Yr,r),Be(this,Id,this.options),Be(this,Oc,Y(this,Bt).state)),r}getCurrentResult(){return Y(this,Yr)}trackResult(e,n){return new Proxy(e,{get:(r,i)=>(this.trackProp(i),n==null||n(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&Y(this,ro).status==="pending"&&Y(this,ro).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,i))})}trackProp(e){Y(this,Md).add(e)}getCurrentQuery(){return Y(this,Bt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=Y(this,xs).defaultQueryOptions(e),r=Y(this,xs).getQueryCache().build(Y(this,xs),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return Ot(this,an,Cf).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),Y(this,Yr)))}createResult(e,n){var P;const r=Y(this,Bt),i=this.options,a=Y(this,Yr),o=Y(this,Oc),c=Y(this,Id),h=e!==r?e.state:Y(this,Sm),{state:f}=e;let m={...f},g=!1,x;if(n._optimisticResults){const F=this.hasListeners(),L=!F&&j2(e,n),D=F&&_2(e,r,n,i);(L||D)&&(m={...m,...PD(f.data,e.options)}),n._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:_,errorUpdatedAt:w,status:j}=m;x=m.data;let N=!1;if(n.placeholderData!==void 0&&x===void 0&&j==="pending"){let F;a!=null&&a.isPlaceholderData&&n.placeholderData===(c==null?void 0:c.placeholderData)?(F=a.data,N=!0):F=typeof n.placeholderData=="function"?n.placeholderData((P=Y(this,Od))==null?void 0:P.state.data,Y(this,Od)):n.placeholderData,F!==void 0&&(j="success",x=Nj(a==null?void 0:a.data,F,n),g=!0)}if(n.select&&x!==void 0&&!N)if(a&&x===(o==null?void 0:o.data)&&n.select===Y(this,Em))x=Y(this,Pd);else try{Be(this,Em,n.select),x=n.select(x),x=Nj(a==null?void 0:a.data,x,n),Be(this,Pd,x),Be(this,sl,null)}catch(F){Be(this,sl,F)}Y(this,sl)&&(_=Y(this,sl),x=Y(this,Pd),w=Date.now(),j="error");const S=m.fetchStatus==="fetching",k=j==="pending",C=j==="error",R=k&&S,O=x!==void 0,M={status:j,fetchStatus:m.fetchStatus,isPending:k,isSuccess:j==="success",isError:C,isInitialLoading:R,isLoading:R,data:x,dataUpdatedAt:m.dataUpdatedAt,error:_,errorUpdatedAt:w,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>h.dataUpdateCount||m.errorUpdateCount>h.errorUpdateCount,isFetching:S,isRefetching:S&&!k,isLoadingError:C&&!O,isPaused:m.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:C&&O,isStale:u1(e,n),refetch:this.refetch,promise:Y(this,ro),isEnabled:ci(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const F=V=>{M.status==="error"?V.reject(M.error):M.data!==void 0&&V.resolve(M.data)},L=()=>{const V=Be(this,ro,M.promise=Sj());F(V)},D=Y(this,ro);switch(D.status){case"pending":e.queryHash===r.queryHash&&F(D);break;case"fulfilled":(M.status==="error"||M.data!==D.value)&&L();break;case"rejected":(M.status!=="error"||M.error!==D.reason)&&L();break}}return M}updateResult(){const e=Y(this,Yr),n=this.createResult(Y(this,Bt),this.options);if(Be(this,Oc,Y(this,Bt).state),Be(this,Id,this.options),Y(this,Oc).data!==void 0&&Be(this,Od,Y(this,Bt)),zx(n,e))return;Be(this,Yr,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!Y(this,Md).size)return!0;const o=new Set(a??Y(this,Md));return this.options.throwOnError&&o.add("error"),Object.keys(Y(this,Yr)).some(c=>{const u=c;return Y(this,Yr)[u]!==e[u]&&o.has(u)})};Ot(this,an,OD).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ot(this,an,Tj).call(this)}},xs=new WeakMap,Bt=new WeakMap,Sm=new WeakMap,Yr=new WeakMap,Oc=new WeakMap,Id=new WeakMap,ro=new WeakMap,sl=new WeakMap,Em=new WeakMap,Pd=new WeakMap,Od=new WeakMap,Mc=new WeakMap,Dc=new WeakMap,il=new WeakMap,Md=new WeakMap,an=new WeakSet,Cf=function(e){Ot(this,an,Pj).call(this);let n=Y(this,Bt).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Zr)),n},kj=function(){Ot(this,an,Rj).call(this);const e=ml(this.options.staleTime,Y(this,Bt));if(Qc||Y(this,Yr).isStale||!jj(e))return;const r=ED(Y(this,Yr).dataUpdatedAt,e)+1;Be(this,Mc,Sc.setTimeout(()=>{Y(this,Yr).isStale||this.updateResult()},r))},Cj=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Y(this,Bt)):this.options.refetchInterval)??!1},Aj=function(e){Ot(this,an,Ij).call(this),Be(this,il,e),!(Qc||ci(this.options.enabled,Y(this,Bt))===!1||!jj(Y(this,il))||Y(this,il)===0)&&Be(this,Dc,Sc.setInterval(()=>{(this.options.refetchIntervalInBackground||c1.isFocused())&&Ot(this,an,Cf).call(this)},Y(this,il)))},Tj=function(){Ot(this,an,kj).call(this),Ot(this,an,Aj).call(this,Ot(this,an,Cj).call(this))},Rj=function(){Y(this,Mc)&&(Sc.clearTimeout(Y(this,Mc)),Be(this,Mc,void 0))},Ij=function(){Y(this,Dc)&&(Sc.clearInterval(Y(this,Dc)),Be(this,Dc,void 0))},Pj=function(){const e=Y(this,xs).getQueryCache().build(Y(this,xs),this.options);if(e===Y(this,Bt))return;const n=Y(this,Bt);Be(this,Bt,e),Be(this,Sm,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},OD=function(e){or.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(Y(this,Yr))}),Y(this,xs).getQueryCache().notify({query:Y(this,Bt),type:"observerResultsUpdated"})})},yI);function oee(t,e){return ci(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function j2(t,e){return oee(t,e)||t.state.data!==void 0&&Oj(t,e,e.refetchOnMount)}function Oj(t,e,n){if(ci(e.enabled,t)!==!1&&ml(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&u1(t,e)}return!1}function _2(t,e,n,r){return(t!==e||ci(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&u1(t,n)}function u1(t,e){return ci(e.enabled,t)!==!1&&t.isStaleByTime(ml(e.staleTime,t))}function lee(t,e){return!zx(t.getCurrentResult(),e)}function N2(t){return{onFetch:(e,n)=>{var f,m,g,x,_;const r=e.options,i=(g=(m=(f=e.fetchOptions)==null?void 0:f.meta)==null?void 0:m.fetchMore)==null?void 0:g.direction,a=((x=e.state.data)==null?void 0:x.pages)||[],o=((_=e.state.data)==null?void 0:_.pageParams)||[];let c={pages:[],pageParams:[]},u=0;const h=async()=>{let w=!1;const j=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(e.signal.aborted?w=!0:e.signal.addEventListener("abort",()=>{w=!0}),e.signal)})},N=CD(e.options,e.fetchOptions),S=async(k,C,R)=>{if(w)return Promise.reject();if(C==null&&k.pages.length)return Promise.resolve(k);const A=(()=>{const L={client:e.client,queryKey:e.queryKey,pageParam:C,direction:R?"backward":"forward",meta:e.options.meta};return j(L),L})(),M=await N(A),{maxPages:P}=e.options,F=R?ZZ:XZ;return{pages:F(k.pages,M,P),pageParams:F(k.pageParams,C,P)}};if(i&&a.length){const k=i==="backward",C=k?cee:S2,R={pages:a,pageParams:o},O=C(r,R);c=await S(R,O,k)}else{const k=t??a.length;do{const C=u===0?o[0]??r.initialPageParam:S2(r,c);if(u>0&&C==null)break;c=await S(c,C),u++}while(u<k)}return c};e.options.persister?e.fetchFn=()=>{var w,j;return(j=(w=e.options).persister)==null?void 0:j.call(w,h,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=h}}}function S2(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function cee(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var km,ua,Xr,Lc,da,Yo,vI,uee=(vI=class extends ID{constructor(n){super();lt(this,da);lt(this,km);lt(this,ua);lt(this,Xr);lt(this,Lc);Be(this,km,n.client),this.mutationId=n.mutationId,Be(this,Xr,n.mutationCache),Be(this,ua,[]),this.state=n.state||MD(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){Y(this,ua).includes(n)||(Y(this,ua).push(n),this.clearGcTimeout(),Y(this,Xr).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Be(this,ua,Y(this,ua).filter(r=>r!==n)),this.scheduleGc(),Y(this,Xr).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){Y(this,ua).length||(this.state.status==="pending"?this.scheduleGc():Y(this,Xr).remove(this))}continue(){var n;return((n=Y(this,Lc))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var c,u,h,f,m,g,x,_,w,j,N,S,k,C,R,O,A,M,P,F;const r=()=>{Ot(this,da,Yo).call(this,{type:"continue"})},i={client:Y(this,km),meta:this.options.meta,mutationKey:this.options.mutationKey};Be(this,Lc,RD({fn:()=>this.options.mutationFn?this.options.mutationFn(n,i):Promise.reject(new Error("No mutationFn found")),onFail:(L,D)=>{Ot(this,da,Yo).call(this,{type:"failed",failureCount:L,error:D})},onPause:()=>{Ot(this,da,Yo).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Y(this,Xr).canRun(this)}));const a=this.state.status==="pending",o=!Y(this,Lc).canStart();try{if(a)r();else{Ot(this,da,Yo).call(this,{type:"pending",variables:n,isPaused:o}),await((u=(c=Y(this,Xr).config).onMutate)==null?void 0:u.call(c,n,this,i));const D=await((f=(h=this.options).onMutate)==null?void 0:f.call(h,n,i));D!==this.state.context&&Ot(this,da,Yo).call(this,{type:"pending",context:D,variables:n,isPaused:o})}const L=await Y(this,Lc).start();return await((g=(m=Y(this,Xr).config).onSuccess)==null?void 0:g.call(m,L,n,this.state.context,this,i)),await((_=(x=this.options).onSuccess)==null?void 0:_.call(x,L,n,this.state.context,i)),await((j=(w=Y(this,Xr).config).onSettled)==null?void 0:j.call(w,L,null,this.state.variables,this.state.context,this,i)),await((S=(N=this.options).onSettled)==null?void 0:S.call(N,L,null,n,this.state.context,i)),Ot(this,da,Yo).call(this,{type:"success",data:L}),L}catch(L){try{throw await((C=(k=Y(this,Xr).config).onError)==null?void 0:C.call(k,L,n,this.state.context,this,i)),await((O=(R=this.options).onError)==null?void 0:O.call(R,L,n,this.state.context,i)),await((M=(A=Y(this,Xr).config).onSettled)==null?void 0:M.call(A,void 0,L,this.state.variables,this.state.context,this,i)),await((F=(P=this.options).onSettled)==null?void 0:F.call(P,void 0,L,n,this.state.context,i)),L}finally{Ot(this,da,Yo).call(this,{type:"error",error:L})}}finally{Y(this,Xr).runNext(this)}}},km=new WeakMap,ua=new WeakMap,Xr=new WeakMap,Lc=new WeakMap,da=new WeakSet,Yo=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),or.batch(()=>{Y(this,ua).forEach(i=>{i.onMutationUpdate(n)}),Y(this,Xr).notify({mutation:this,type:"updated",action:n})})},vI);function MD(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var so,Ii,Cm,bI,dee=(bI=class extends yh{constructor(e={}){super();lt(this,so);lt(this,Ii);lt(this,Cm);this.config=e,Be(this,so,new Set),Be(this,Ii,new Map),Be(this,Cm,0)}build(e,n,r){const i=new uee({client:e,mutationCache:this,mutationId:++ig(this,Cm)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){Y(this,so).add(e);const n=Rg(e);if(typeof n=="string"){const r=Y(this,Ii).get(n);r?r.push(e):Y(this,Ii).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Y(this,so).delete(e)){const n=Rg(e);if(typeof n=="string"){const r=Y(this,Ii).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&Y(this,Ii).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Rg(e);if(typeof n=="string"){const r=Y(this,Ii).get(n),i=r==null?void 0:r.find(a=>a.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=Rg(e);if(typeof n=="string"){const i=(r=Y(this,Ii).get(n))==null?void 0:r.find(a=>a!==e&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){or.batch(()=>{Y(this,so).forEach(e=>{this.notify({type:"removed",mutation:e})}),Y(this,so).clear(),Y(this,Ii).clear()})}getAll(){return Array.from(Y(this,so))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>x2(n,r))}findAll(e={}){return this.getAll().filter(n=>x2(e,n))}notify(e){or.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return or.batch(()=>Promise.all(e.map(n=>n.continue().catch(Zr))))}},so=new WeakMap,Ii=new WeakMap,Cm=new WeakMap,bI);function Rg(t){var e;return(e=t.options.scope)==null?void 0:e.id}var io,al,ys,ao,co,ix,Mj,wI,hee=(wI=class extends yh{constructor(n,r){super();lt(this,co);lt(this,io);lt(this,al);lt(this,ys);lt(this,ao);Be(this,io,n),this.setOptions(r),this.bindMethods(),Ot(this,co,ix).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=Y(this,io).defaultMutationOptions(n),zx(this.options,r)||Y(this,io).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Y(this,ys),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Jc(r.mutationKey)!==Jc(this.options.mutationKey)?this.reset():((i=Y(this,ys))==null?void 0:i.state.status)==="pending"&&Y(this,ys).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=Y(this,ys))==null||n.removeObserver(this)}onMutationUpdate(n){Ot(this,co,ix).call(this),Ot(this,co,Mj).call(this,n)}getCurrentResult(){return Y(this,al)}reset(){var n;(n=Y(this,ys))==null||n.removeObserver(this),Be(this,ys,void 0),Ot(this,co,ix).call(this),Ot(this,co,Mj).call(this)}mutate(n,r){var i;return Be(this,ao,r),(i=Y(this,ys))==null||i.removeObserver(this),Be(this,ys,Y(this,io).getMutationCache().build(Y(this,io),this.options)),Y(this,ys).addObserver(this),Y(this,ys).execute(n)}},io=new WeakMap,al=new WeakMap,ys=new WeakMap,ao=new WeakMap,co=new WeakSet,ix=function(){var r;const n=((r=Y(this,ys))==null?void 0:r.state)??MD();Be(this,al,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Mj=function(n){or.batch(()=>{var r,i,a,o,c,u,h,f;if(Y(this,ao)&&this.hasListeners()){const m=Y(this,al).variables,g=Y(this,al).context,x={client:Y(this,io),meta:this.options.meta,mutationKey:this.options.mutationKey};(n==null?void 0:n.type)==="success"?((i=(r=Y(this,ao)).onSuccess)==null||i.call(r,n.data,m,g,x),(o=(a=Y(this,ao)).onSettled)==null||o.call(a,n.data,null,m,g,x)):(n==null?void 0:n.type)==="error"&&((u=(c=Y(this,ao)).onError)==null||u.call(c,n.error,m,g,x),(f=(h=Y(this,ao)).onSettled)==null||f.call(h,void 0,n.error,m,g,x))}this.listeners.forEach(m=>{m(Y(this,al))})})},wI),ha,jI,fee=(jI=class extends yh{constructor(e={}){super();lt(this,ha);this.config=e,Be(this,ha,new Map)}build(e,n,r){const i=n.queryKey,a=n.queryHash??o1(i,n);let o=this.get(a);return o||(o=new iee({client:e,queryKey:i,queryHash:a,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){Y(this,ha).has(e.queryHash)||(Y(this,ha).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=Y(this,ha).get(e.queryHash);n&&(e.destroy(),n===e&&Y(this,ha).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){or.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Y(this,ha).get(e)}getAll(){return[...Y(this,ha).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>g2(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>g2(e,r)):n}notify(e){or.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){or.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){or.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ha=new WeakMap,jI),On,ol,ll,Dd,Ld,cl,Fd,Vd,_I,mee=(_I=class{constructor(t={}){lt(this,On);lt(this,ol);lt(this,ll);lt(this,Dd);lt(this,Ld);lt(this,cl);lt(this,Fd);lt(this,Vd);Be(this,On,t.queryCache||new fee),Be(this,ol,t.mutationCache||new dee),Be(this,ll,t.defaultOptions||{}),Be(this,Dd,new Map),Be(this,Ld,new Map),Be(this,cl,0)}mount(){ig(this,cl)._++,Y(this,cl)===1&&(Be(this,Fd,c1.subscribe(async t=>{t&&(await this.resumePausedMutations(),Y(this,On).onFocus())})),Be(this,Vd,qx.subscribe(async t=>{t&&(await this.resumePausedMutations(),Y(this,On).onOnline())})))}unmount(){var t,e;ig(this,cl)._--,Y(this,cl)===0&&((t=Y(this,Fd))==null||t.call(this),Be(this,Fd,void 0),(e=Y(this,Vd))==null||e.call(this),Be(this,Vd,void 0))}isFetching(t){return Y(this,On).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Y(this,ol).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Y(this,On).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=Y(this,On).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(ml(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return Y(this,On).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=Y(this,On).get(r.queryHash),a=i==null?void 0:i.state.data,o=QZ(e,a);if(o!==void 0)return Y(this,On).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return or.batch(()=>Y(this,On).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Y(this,On).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=Y(this,On);or.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=Y(this,On);return or.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=or.batch(()=>Y(this,On).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Zr).catch(Zr)}invalidateQueries(t,e={}){return or.batch(()=>(Y(this,On).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=or.batch(()=>Y(this,On).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(Zr)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Zr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=Y(this,On).build(this,e);return n.isStaleByTime(ml(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Zr).catch(Zr)}fetchInfiniteQuery(t){return t.behavior=N2(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Zr).catch(Zr)}ensureInfiniteQueryData(t){return t.behavior=N2(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return qx.isOnline()?Y(this,ol).resumePausedMutations():Promise.resolve()}getQueryCache(){return Y(this,On)}getMutationCache(){return Y(this,ol)}getDefaultOptions(){return Y(this,ll)}setDefaultOptions(t){Be(this,ll,t)}setQueryDefaults(t,e){Y(this,Dd).set(Jc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...Y(this,Dd).values()],n={};return e.forEach(r=>{pm(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){Y(this,Ld).set(Jc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...Y(this,Ld).values()],n={};return e.forEach(r=>{pm(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...Y(this,ll).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=o1(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===l1&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...Y(this,ll).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Y(this,On).clear(),Y(this,ol).clear()}},On=new WeakMap,ol=new WeakMap,ll=new WeakMap,Dd=new WeakMap,Ld=new WeakMap,cl=new WeakMap,Fd=new WeakMap,Vd=new WeakMap,_I),DD=y.createContext(void 0),xi=t=>{const e=y.useContext(DD);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},pee=({client:t,children:e})=>(y.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),s.jsx(DD.Provider,{value:t,children:e})),LD=y.createContext(!1),gee=()=>y.useContext(LD);LD.Provider;function xee(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var yee=y.createContext(xee()),vee=()=>y.useContext(yee),bee=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},wee=t=>{y.useEffect(()=>{t.clearReset()},[t])},jee=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||AD(n,[t.error,r])),_ee=t=>{if(t.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},Nee=(t,e)=>t.isLoading&&t.isFetching&&!e,See=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,E2=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function Eee(t,e,n){var m,g,x,_,w;const r=gee(),i=vee(),a=xi(),o=a.defaultQueryOptions(t);(g=(m=a.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||g.call(m,o),o._optimisticResults=r?"isRestoring":"optimistic",_ee(o),bee(o,i),wee(i);const c=!a.getQueryCache().get(o.queryHash),[u]=y.useState(()=>new e(a,o)),h=u.getOptimisticResult(o),f=!r&&t.subscribed!==!1;if(y.useSyncExternalStore(y.useCallback(j=>{const N=f?u.subscribe(or.batchCalls(j)):Zr;return u.updateResult(),N},[u,f]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),y.useEffect(()=>{u.setOptions(o)},[o,u]),See(o,h))throw E2(o,u,i);if(jee({result:h,errorResetBoundary:i,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw h.error;if((_=(x=a.getDefaultOptions().queries)==null?void 0:x._experimental_afterQuery)==null||_.call(x,o,h),o.experimental_prefetchInRender&&!Qc&&Nee(h,r)){const j=c?E2(o,u,i):(w=a.getQueryCache().get(o.queryHash))==null?void 0:w.promise;j==null||j.catch(Zr).finally(()=>{u.updateResult()})}return o.notifyOnChangeProps?h:u.trackResult(h)}function Bn(t,e){return Eee(t,aee)}function An(t,e){const n=xi(),[r]=y.useState(()=>new hee(n,t));y.useEffect(()=>{r.setOptions(t)},[r,t]);const i=y.useSyncExternalStore(y.useCallback(o=>r.subscribe(or.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=y.useCallback((o,c)=>{r.mutate(o,c).catch(Zr)},[r]);if(i.error&&AD(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}const kee=$m("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function we({className:t,variant:e,...n}){return s.jsx("div",{className:mt(kee({variant:e}),t),...n})}function FD(t,e){return function(){return t.apply(e,arguments)}}const{toString:Cee}=Object.prototype,{getPrototypeOf:d1}=Object,{iterator:Ly,toStringTag:VD}=Symbol,Fy=(t=>e=>{const n=Cee.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Vi=t=>(t=t.toLowerCase(),e=>Fy(e)===t),Vy=t=>e=>typeof e===t,{isArray:vh}=Array,Kd=Vy("undefined");function zm(t){return t!==null&&!Kd(t)&&t.constructor!==null&&!Kd(t.constructor)&&js(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const UD=Vi("ArrayBuffer");function Aee(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&UD(t.buffer),e}const Tee=Vy("string"),js=Vy("function"),$D=Vy("number"),qm=t=>t!==null&&typeof t=="object",Ree=t=>t===!0||t===!1,ax=t=>{if(Fy(t)!=="object")return!1;const e=d1(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(VD in t)&&!(Ly in t)},Iee=t=>{if(!qm(t)||zm(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Pee=Vi("Date"),Oee=Vi("File"),Mee=Vi("Blob"),Dee=Vi("FileList"),Lee=t=>qm(t)&&js(t.pipe),Fee=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||js(t.append)&&((e=Fy(t))==="formdata"||e==="object"&&js(t.toString)&&t.toString()==="[object FormData]"))},Vee=Vi("URLSearchParams"),[Uee,$ee,Bee,zee]=["ReadableStream","Request","Response","Headers"].map(Vi),qee=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Hm(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),vh(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(zm(t))return;const a=n?Object.getOwnPropertyNames(t):Object.keys(t),o=a.length;let c;for(r=0;r<o;r++)c=a[r],e.call(null,t[c],c,t)}}function BD(t,e){if(zm(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Ec=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,zD=t=>!Kd(t)&&t!==Ec;function Dj(){const{caseless:t,skipUndefined:e}=zD(this)&&this||{},n={},r=(i,a)=>{const o=t&&BD(n,a)||a;ax(n[o])&&ax(i)?n[o]=Dj(n[o],i):ax(i)?n[o]=Dj({},i):vh(i)?n[o]=i.slice():(!e||!Kd(i))&&(n[o]=i)};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&Hm(arguments[i],r);return n}const Hee=(t,e,n,{allOwnKeys:r}={})=>(Hm(e,(i,a)=>{n&&js(i)?t[a]=FD(i,n):t[a]=i},{allOwnKeys:r}),t),Wee=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Kee=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Gee=(t,e,n,r)=>{let i,a,o;const c={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),a=i.length;a-- >0;)o=i[a],(!r||r(o,t,e))&&!c[o]&&(e[o]=t[o],c[o]=!0);t=n!==!1&&d1(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Qee=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},Jee=t=>{if(!t)return null;if(vh(t))return t;let e=t.length;if(!$D(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Yee=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&d1(Uint8Array)),Xee=(t,e)=>{const r=(t&&t[Ly]).call(t);let i;for(;(i=r.next())&&!i.done;){const a=i.value;e.call(t,a[0],a[1])}},Zee=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},ete=Vi("HTMLFormElement"),tte=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),k2=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),nte=Vi("RegExp"),qD=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Hm(n,(i,a)=>{let o;(o=e(i,a,t))!==!1&&(r[a]=o||i)}),Object.defineProperties(t,r)},rte=t=>{qD(t,(e,n)=>{if(js(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(js(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},ste=(t,e)=>{const n={},r=i=>{i.forEach(a=>{n[a]=!0})};return vh(t)?r(t):r(String(t).split(e)),n},ite=()=>{},ate=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function ote(t){return!!(t&&js(t.append)&&t[VD]==="FormData"&&t[Ly])}const lte=t=>{const e=new Array(10),n=(r,i)=>{if(qm(r)){if(e.indexOf(r)>=0)return;if(zm(r))return r;if(!("toJSON"in r)){e[i]=r;const a=vh(r)?[]:{};return Hm(r,(o,c)=>{const u=n(o,i+1);!Kd(u)&&(a[c]=u)}),e[i]=void 0,a}}return r};return n(t,0)},cte=Vi("AsyncFunction"),ute=t=>t&&(qm(t)||js(t))&&js(t.then)&&js(t.catch),HD=((t,e)=>t?setImmediate:e?((n,r)=>(Ec.addEventListener("message",({source:i,data:a})=>{i===Ec&&a===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Ec.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",js(Ec.postMessage)),dte=typeof queueMicrotask<"u"?queueMicrotask.bind(Ec):typeof process<"u"&&process.nextTick||HD,hte=t=>t!=null&&js(t[Ly]),pe={isArray:vh,isArrayBuffer:UD,isBuffer:zm,isFormData:Fee,isArrayBufferView:Aee,isString:Tee,isNumber:$D,isBoolean:Ree,isObject:qm,isPlainObject:ax,isEmptyObject:Iee,isReadableStream:Uee,isRequest:$ee,isResponse:Bee,isHeaders:zee,isUndefined:Kd,isDate:Pee,isFile:Oee,isBlob:Mee,isRegExp:nte,isFunction:js,isStream:Lee,isURLSearchParams:Vee,isTypedArray:Yee,isFileList:Dee,forEach:Hm,merge:Dj,extend:Hee,trim:qee,stripBOM:Wee,inherits:Kee,toFlatObject:Gee,kindOf:Fy,kindOfTest:Vi,endsWith:Qee,toArray:Jee,forEachEntry:Xee,matchAll:Zee,isHTMLForm:ete,hasOwnProperty:k2,hasOwnProp:k2,reduceDescriptors:qD,freezeMethods:rte,toObjectSet:ste,toCamelCase:tte,noop:ite,toFiniteNumber:ate,findKey:BD,global:Ec,isContextDefined:zD,isSpecCompliantForm:ote,toJSONObject:lte,isAsyncFn:cte,isThenable:ute,setImmediate:HD,asap:dte,isIterable:hte};function Rt(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}pe.inherits(Rt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:pe.toJSONObject(this.config),code:this.code,status:this.status}}});const WD=Rt.prototype,KD={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{KD[t]={value:t}});Object.defineProperties(Rt,KD);Object.defineProperty(WD,"isAxiosError",{value:!0});Rt.from=(t,e,n,r,i,a)=>{const o=Object.create(WD);pe.toFlatObject(t,o,function(f){return f!==Error.prototype},h=>h!=="isAxiosError");const c=t&&t.message?t.message:"Error",u=e==null&&t?t.code:e;return Rt.call(o,c,u,n,r,i),t&&o.cause==null&&Object.defineProperty(o,"cause",{value:t,configurable:!0}),o.name=t&&t.name||"Error",a&&Object.assign(o,a),o};const fte=null;function Lj(t){return pe.isPlainObject(t)||pe.isArray(t)}function GD(t){return pe.endsWith(t,"[]")?t.slice(0,-2):t}function C2(t,e,n){return t?t.concat(e).map(function(i,a){return i=GD(i),!n&&a?"["+i+"]":i}).join(n?".":""):e}function mte(t){return pe.isArray(t)&&!t.some(Lj)}const pte=pe.toFlatObject(pe,{},null,function(e){return/^is[A-Z]/.test(e)});function Uy(t,e,n){if(!pe.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=pe.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,j){return!pe.isUndefined(j[w])});const r=n.metaTokens,i=n.visitor||f,a=n.dots,o=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&pe.isSpecCompliantForm(e);if(!pe.isFunction(i))throw new TypeError("visitor must be a function");function h(_){if(_===null)return"";if(pe.isDate(_))return _.toISOString();if(pe.isBoolean(_))return _.toString();if(!u&&pe.isBlob(_))throw new Rt("Blob is not supported. Use a Buffer instead.");return pe.isArrayBuffer(_)||pe.isTypedArray(_)?u&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function f(_,w,j){let N=_;if(_&&!j&&typeof _=="object"){if(pe.endsWith(w,"{}"))w=r?w:w.slice(0,-2),_=JSON.stringify(_);else if(pe.isArray(_)&&mte(_)||(pe.isFileList(_)||pe.endsWith(w,"[]"))&&(N=pe.toArray(_)))return w=GD(w),N.forEach(function(k,C){!(pe.isUndefined(k)||k===null)&&e.append(o===!0?C2([w],C,a):o===null?w:w+"[]",h(k))}),!1}return Lj(_)?!0:(e.append(C2(j,w,a),h(_)),!1)}const m=[],g=Object.assign(pte,{defaultVisitor:f,convertValue:h,isVisitable:Lj});function x(_,w){if(!pe.isUndefined(_)){if(m.indexOf(_)!==-1)throw Error("Circular reference detected in "+w.join("."));m.push(_),pe.forEach(_,function(N,S){(!(pe.isUndefined(N)||N===null)&&i.call(e,N,pe.isString(S)?S.trim():S,w,g))===!0&&x(N,w?w.concat(S):[S])}),m.pop()}}if(!pe.isObject(t))throw new TypeError("data must be an object");return x(t),e}function A2(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function h1(t,e){this._pairs=[],t&&Uy(t,this,e)}const QD=h1.prototype;QD.append=function(e,n){this._pairs.push([e,n])};QD.toString=function(e){const n=e?function(r){return e.call(this,r,A2)}:A2;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function gte(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function JD(t,e,n){if(!e)return t;const r=n&&n.encode||gte;pe.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let a;if(i?a=i(e,n):a=pe.isURLSearchParams(e)?e.toString():new h1(e,n).toString(r),a){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class T2{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){pe.forEach(this.handlers,function(r){r!==null&&e(r)})}}const YD={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},xte=typeof URLSearchParams<"u"?URLSearchParams:h1,yte=typeof FormData<"u"?FormData:null,vte=typeof Blob<"u"?Blob:null,bte={isBrowser:!0,classes:{URLSearchParams:xte,FormData:yte,Blob:vte},protocols:["http","https","file","blob","url","data"]},f1=typeof window<"u"&&typeof document<"u",Fj=typeof navigator=="object"&&navigator||void 0,wte=f1&&(!Fj||["ReactNative","NativeScript","NS"].indexOf(Fj.product)<0),jte=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",_te=f1&&window.location.href||"http://localhost",Nte=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:f1,hasStandardBrowserEnv:wte,hasStandardBrowserWebWorkerEnv:jte,navigator:Fj,origin:_te},Symbol.toStringTag,{value:"Module"})),Ur={...Nte,...bte};function Ste(t,e){return Uy(t,new Ur.classes.URLSearchParams,{visitor:function(n,r,i,a){return Ur.isNode&&pe.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...e})}function Ete(t){return pe.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function kte(t){const e={},n=Object.keys(t);let r;const i=n.length;let a;for(r=0;r<i;r++)a=n[r],e[a]=t[a];return e}function XD(t){function e(n,r,i,a){let o=n[a++];if(o==="__proto__")return!0;const c=Number.isFinite(+o),u=a>=n.length;return o=!o&&pe.isArray(i)?i.length:o,u?(pe.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!c):((!i[o]||!pe.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],a)&&pe.isArray(i[o])&&(i[o]=kte(i[o])),!c)}if(pe.isFormData(t)&&pe.isFunction(t.entries)){const n={};return pe.forEachEntry(t,(r,i)=>{e(Ete(r),i,n,0)}),n}return null}function Cte(t,e,n){if(pe.isString(t))try{return(e||JSON.parse)(t),pe.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Wm={transitional:YD,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,a=pe.isObject(e);if(a&&pe.isHTMLForm(e)&&(e=new FormData(e)),pe.isFormData(e))return i?JSON.stringify(XD(e)):e;if(pe.isArrayBuffer(e)||pe.isBuffer(e)||pe.isStream(e)||pe.isFile(e)||pe.isBlob(e)||pe.isReadableStream(e))return e;if(pe.isArrayBufferView(e))return e.buffer;if(pe.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Ste(e,this.formSerializer).toString();if((c=pe.isFileList(e))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Uy(c?{"files[]":e}:e,u&&new u,this.formSerializer)}}return a||i?(n.setContentType("application/json",!1),Cte(e)):e}],transformResponse:[function(e){const n=this.transitional||Wm.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(pe.isResponse(e)||pe.isReadableStream(e))return e;if(e&&pe.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(c){if(o)throw c.name==="SyntaxError"?Rt.from(c,Rt.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ur.classes.FormData,Blob:Ur.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};pe.forEach(["delete","get","head","post","put","patch"],t=>{Wm.headers[t]={}});const Ate=pe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Tte=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&Ate[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},R2=Symbol("internals");function xf(t){return t&&String(t).trim().toLowerCase()}function ox(t){return t===!1||t==null?t:pe.isArray(t)?t.map(ox):String(t)}function Rte(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const Ite=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Pb(t,e,n,r,i){if(pe.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!pe.isString(e)){if(pe.isString(r))return e.indexOf(r)!==-1;if(pe.isRegExp(r))return r.test(e)}}function Pte(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function Ote(t,e){const n=pe.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,a,o){return this[r].call(this,e,i,a,o)},configurable:!0})})}let _s=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function a(c,u,h){const f=xf(u);if(!f)throw new Error("header name must be a non-empty string");const m=pe.findKey(i,f);(!m||i[m]===void 0||h===!0||h===void 0&&i[m]!==!1)&&(i[m||u]=ox(c))}const o=(c,u)=>pe.forEach(c,(h,f)=>a(h,f,u));if(pe.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(pe.isString(e)&&(e=e.trim())&&!Ite(e))o(Tte(e),n);else if(pe.isObject(e)&&pe.isIterable(e)){let c={},u,h;for(const f of e){if(!pe.isArray(f))throw TypeError("Object iterator must return a key-value pair");c[h=f[0]]=(u=c[h])?pe.isArray(u)?[...u,f[1]]:[u,f[1]]:f[1]}o(c,n)}else e!=null&&a(n,e,r);return this}get(e,n){if(e=xf(e),e){const r=pe.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return Rte(i);if(pe.isFunction(n))return n.call(this,i,r);if(pe.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=xf(e),e){const r=pe.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Pb(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function a(o){if(o=xf(o),o){const c=pe.findKey(r,o);c&&(!n||Pb(r,r[c],c,n))&&(delete r[c],i=!0)}}return pe.isArray(e)?e.forEach(a):a(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const a=n[r];(!e||Pb(this,this[a],a,e,!0))&&(delete this[a],i=!0)}return i}normalize(e){const n=this,r={};return pe.forEach(this,(i,a)=>{const o=pe.findKey(r,a);if(o){n[o]=ox(i),delete n[a];return}const c=e?Pte(a):String(a).trim();c!==a&&delete n[a],n[c]=ox(i),r[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return pe.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&pe.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[R2]=this[R2]={accessors:{}}).accessors,i=this.prototype;function a(o){const c=xf(o);r[c]||(Ote(i,o),r[c]=!0)}return pe.isArray(e)?e.forEach(a):a(e),this}};_s.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);pe.reduceDescriptors(_s.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});pe.freezeMethods(_s);function Ob(t,e){const n=this||Wm,r=e||n,i=_s.from(r.headers);let a=r.data;return pe.forEach(t,function(c){a=c.call(n,a,i.normalize(),e?e.status:void 0)}),i.normalize(),a}function ZD(t){return!!(t&&t.__CANCEL__)}function bh(t,e,n){Rt.call(this,t??"canceled",Rt.ERR_CANCELED,e,n),this.name="CanceledError"}pe.inherits(bh,Rt,{__CANCEL__:!0});function e5(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Rt("Request failed with status code "+n.status,[Rt.ERR_BAD_REQUEST,Rt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Mte(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Dte(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,a=0,o;return e=e!==void 0?e:1e3,function(u){const h=Date.now(),f=r[a];o||(o=h),n[i]=u,r[i]=h;let m=a,g=0;for(;m!==i;)g+=n[m++],m=m%t;if(i=(i+1)%t,i===a&&(a=(a+1)%t),h-o<e)return;const x=f&&h-f;return x?Math.round(g*1e3/x):void 0}}function Lte(t,e){let n=0,r=1e3/e,i,a;const o=(h,f=Date.now())=>{n=f,i=null,a&&(clearTimeout(a),a=null),t(...h)};return[(...h)=>{const f=Date.now(),m=f-n;m>=r?o(h,f):(i=h,a||(a=setTimeout(()=>{a=null,o(i)},r-m)))},()=>i&&o(i)]}const Hx=(t,e,n=3)=>{let r=0;const i=Dte(50,250);return Lte(a=>{const o=a.loaded,c=a.lengthComputable?a.total:void 0,u=o-r,h=i(u),f=o<=c;r=o;const m={loaded:o,total:c,progress:c?o/c:void 0,bytes:u,rate:h||void 0,estimated:h&&c&&f?(c-o)/h:void 0,event:a,lengthComputable:c!=null,[e?"download":"upload"]:!0};t(m)},n)},I2=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},P2=t=>(...e)=>pe.asap(()=>t(...e)),Fte=Ur.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Ur.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Ur.origin),Ur.navigator&&/(msie|trident)/i.test(Ur.navigator.userAgent)):()=>!0,Vte=Ur.hasStandardBrowserEnv?{write(t,e,n,r,i,a,o){if(typeof document>"u")return;const c=[`${t}=${encodeURIComponent(e)}`];pe.isNumber(n)&&c.push(`expires=${new Date(n).toUTCString()}`),pe.isString(r)&&c.push(`path=${r}`),pe.isString(i)&&c.push(`domain=${i}`),a===!0&&c.push("secure"),pe.isString(o)&&c.push(`SameSite=${o}`),document.cookie=c.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Ute(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function $te(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function t5(t,e,n){let r=!Ute(e);return t&&(r||n==!1)?$te(t,e):e}const O2=t=>t instanceof _s?{...t}:t;function Yc(t,e){e=e||{};const n={};function r(h,f,m,g){return pe.isPlainObject(h)&&pe.isPlainObject(f)?pe.merge.call({caseless:g},h,f):pe.isPlainObject(f)?pe.merge({},f):pe.isArray(f)?f.slice():f}function i(h,f,m,g){if(pe.isUndefined(f)){if(!pe.isUndefined(h))return r(void 0,h,m,g)}else return r(h,f,m,g)}function a(h,f){if(!pe.isUndefined(f))return r(void 0,f)}function o(h,f){if(pe.isUndefined(f)){if(!pe.isUndefined(h))return r(void 0,h)}else return r(void 0,f)}function c(h,f,m){if(m in e)return r(h,f);if(m in t)return r(void 0,h)}const u={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(h,f,m)=>i(O2(h),O2(f),m,!0)};return pe.forEach(Object.keys({...t,...e}),function(f){const m=u[f]||i,g=m(t[f],e[f],f);pe.isUndefined(g)&&m!==c||(n[f]=g)}),n}const n5=t=>{const e=Yc({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:c}=e;if(e.headers=o=_s.from(o),e.url=JD(t5(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),c&&o.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),pe.isFormData(n)){if(Ur.hasStandardBrowserEnv||Ur.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(pe.isFunction(n.getHeaders)){const u=n.getHeaders(),h=["content-type","content-length"];Object.entries(u).forEach(([f,m])=>{h.includes(f.toLowerCase())&&o.set(f,m)})}}if(Ur.hasStandardBrowserEnv&&(r&&pe.isFunction(r)&&(r=r(e)),r||r!==!1&&Fte(e.url))){const u=i&&a&&Vte.read(a);u&&o.set(i,u)}return e},Bte=typeof XMLHttpRequest<"u",zte=Bte&&function(t){return new Promise(function(n,r){const i=n5(t);let a=i.data;const o=_s.from(i.headers).normalize();let{responseType:c,onUploadProgress:u,onDownloadProgress:h}=i,f,m,g,x,_;function w(){x&&x(),_&&_(),i.cancelToken&&i.cancelToken.unsubscribe(f),i.signal&&i.signal.removeEventListener("abort",f)}let j=new XMLHttpRequest;j.open(i.method.toUpperCase(),i.url,!0),j.timeout=i.timeout;function N(){if(!j)return;const k=_s.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),R={data:!c||c==="text"||c==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:k,config:t,request:j};e5(function(A){n(A),w()},function(A){r(A),w()},R),j=null}"onloadend"in j?j.onloadend=N:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(N)},j.onabort=function(){j&&(r(new Rt("Request aborted",Rt.ECONNABORTED,t,j)),j=null)},j.onerror=function(C){const R=C&&C.message?C.message:"Network Error",O=new Rt(R,Rt.ERR_NETWORK,t,j);O.event=C||null,r(O),j=null},j.ontimeout=function(){let C=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const R=i.transitional||YD;i.timeoutErrorMessage&&(C=i.timeoutErrorMessage),r(new Rt(C,R.clarifyTimeoutError?Rt.ETIMEDOUT:Rt.ECONNABORTED,t,j)),j=null},a===void 0&&o.setContentType(null),"setRequestHeader"in j&&pe.forEach(o.toJSON(),function(C,R){j.setRequestHeader(R,C)}),pe.isUndefined(i.withCredentials)||(j.withCredentials=!!i.withCredentials),c&&c!=="json"&&(j.responseType=i.responseType),h&&([g,_]=Hx(h,!0),j.addEventListener("progress",g)),u&&j.upload&&([m,x]=Hx(u),j.upload.addEventListener("progress",m),j.upload.addEventListener("loadend",x)),(i.cancelToken||i.signal)&&(f=k=>{j&&(r(!k||k.type?new bh(null,t,j):k),j.abort(),j=null)},i.cancelToken&&i.cancelToken.subscribe(f),i.signal&&(i.signal.aborted?f():i.signal.addEventListener("abort",f)));const S=Mte(i.url);if(S&&Ur.protocols.indexOf(S)===-1){r(new Rt("Unsupported protocol "+S+":",Rt.ERR_BAD_REQUEST,t));return}j.send(a||null)})},qte=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const a=function(h){if(!i){i=!0,c();const f=h instanceof Error?h:this.reason;r.abort(f instanceof Rt?f:new bh(f instanceof Error?f.message:f))}};let o=e&&setTimeout(()=>{o=null,a(new Rt(`timeout ${e} of ms exceeded`,Rt.ETIMEDOUT))},e);const c=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(h=>{h.unsubscribe?h.unsubscribe(a):h.removeEventListener("abort",a)}),t=null)};t.forEach(h=>h.addEventListener("abort",a));const{signal:u}=r;return u.unsubscribe=()=>pe.asap(c),u}},Hte=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},Wte=async function*(t,e){for await(const n of Kte(t))yield*Hte(n,e)},Kte=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},M2=(t,e,n,r)=>{const i=Wte(t,e);let a=0,o,c=u=>{o||(o=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:h,value:f}=await i.next();if(h){c(),u.close();return}let m=f.byteLength;if(n){let g=a+=m;n(g)}u.enqueue(new Uint8Array(f))}catch(h){throw c(h),h}},cancel(u){return c(u),i.return()}},{highWaterMark:2})},D2=64*1024,{isFunction:Ig}=pe,Gte=(({Request:t,Response:e})=>({Request:t,Response:e}))(pe.global),{ReadableStream:L2,TextEncoder:F2}=pe.global,V2=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Qte=t=>{t=pe.merge.call({skipUndefined:!0},Gte,t);const{fetch:e,Request:n,Response:r}=t,i=e?Ig(e):typeof fetch=="function",a=Ig(n),o=Ig(r);if(!i)return!1;const c=i&&Ig(L2),u=i&&(typeof F2=="function"?(_=>w=>_.encode(w))(new F2):async _=>new Uint8Array(await new n(_).arrayBuffer())),h=a&&c&&V2(()=>{let _=!1;const w=new n(Ur.origin,{body:new L2,method:"POST",get duplex(){return _=!0,"half"}}).headers.has("Content-Type");return _&&!w}),f=o&&c&&V2(()=>pe.isReadableStream(new r("").body)),m={stream:f&&(_=>_.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(_=>{!m[_]&&(m[_]=(w,j)=>{let N=w&&w[_];if(N)return N.call(w);throw new Rt(`Response type '${_}' is not supported`,Rt.ERR_NOT_SUPPORT,j)})});const g=async _=>{if(_==null)return 0;if(pe.isBlob(_))return _.size;if(pe.isSpecCompliantForm(_))return(await new n(Ur.origin,{method:"POST",body:_}).arrayBuffer()).byteLength;if(pe.isArrayBufferView(_)||pe.isArrayBuffer(_))return _.byteLength;if(pe.isURLSearchParams(_)&&(_=_+""),pe.isString(_))return(await u(_)).byteLength},x=async(_,w)=>{const j=pe.toFiniteNumber(_.getContentLength());return j??g(w)};return async _=>{let{url:w,method:j,data:N,signal:S,cancelToken:k,timeout:C,onDownloadProgress:R,onUploadProgress:O,responseType:A,headers:M,withCredentials:P="same-origin",fetchOptions:F}=n5(_),L=e||fetch;A=A?(A+"").toLowerCase():"text";let D=qte([S,k&&k.toAbortSignal()],C),V=null;const G=D&&D.unsubscribe&&(()=>{D.unsubscribe()});let ee;try{if(O&&h&&j!=="get"&&j!=="head"&&(ee=await x(M,N))!==0){let z=new n(w,{method:"POST",body:N,duplex:"half"}),X;if(pe.isFormData(N)&&(X=z.headers.get("content-type"))&&M.setContentType(X),z.body){const[q,ye]=I2(ee,Hx(P2(O)));N=M2(z.body,D2,q,ye)}}pe.isString(P)||(P=P?"include":"omit");const ae=a&&"credentials"in n.prototype,ue={...F,signal:D,method:j.toUpperCase(),headers:M.normalize().toJSON(),body:N,duplex:"half",credentials:ae?P:void 0};V=a&&new n(w,ue);let Q=await(a?L(V,F):L(w,ue));const K=f&&(A==="stream"||A==="response");if(f&&(R||K&&G)){const z={};["status","statusText","headers"].forEach(_e=>{z[_e]=Q[_e]});const X=pe.toFiniteNumber(Q.headers.get("content-length")),[q,ye]=R&&I2(X,Hx(P2(R),!0))||[];Q=new r(M2(Q.body,D2,q,()=>{ye&&ye(),G&&G()}),z)}A=A||"text";let B=await m[pe.findKey(m,A)||"text"](Q,_);return!K&&G&&G(),await new Promise((z,X)=>{e5(z,X,{data:B,headers:_s.from(Q.headers),status:Q.status,statusText:Q.statusText,config:_,request:V})})}catch(ae){throw G&&G(),ae&&ae.name==="TypeError"&&/Load failed|fetch/i.test(ae.message)?Object.assign(new Rt("Network Error",Rt.ERR_NETWORK,_,V),{cause:ae.cause||ae}):Rt.from(ae,ae&&ae.code,_,V)}}},Jte=new Map,r5=t=>{let e=t&&t.env||{};const{fetch:n,Request:r,Response:i}=e,a=[r,i,n];let o=a.length,c=o,u,h,f=Jte;for(;c--;)u=a[c],h=f.get(u),h===void 0&&f.set(u,h=c?new Map:Qte(e)),f=h;return h};r5();const m1={http:fte,xhr:zte,fetch:{get:r5}};pe.forEach(m1,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const U2=t=>`- ${t}`,Yte=t=>pe.isFunction(t)||t===null||t===!1;function Xte(t,e){t=pe.isArray(t)?t:[t];const{length:n}=t;let r,i;const a={};for(let o=0;o<n;o++){r=t[o];let c;if(i=r,!Yte(r)&&(i=m1[(c=String(r)).toLowerCase()],i===void 0))throw new Rt(`Unknown adapter '${c}'`);if(i&&(pe.isFunction(i)||(i=i.get(e))))break;a[c||"#"+o]=i}if(!i){const o=Object.entries(a).map(([u,h])=>`adapter ${u} `+(h===!1?"is not supported by the environment":"is not available in the build"));let c=n?o.length>1?`since :
`+o.map(U2).join(`
`):" "+U2(o[0]):"as no adapter specified";throw new Rt("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return i}const s5={getAdapter:Xte,adapters:m1};function Mb(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new bh(null,t)}function $2(t){return Mb(t),t.headers=_s.from(t.headers),t.data=Ob.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),s5.getAdapter(t.adapter||Wm.adapter,t)(t).then(function(r){return Mb(t),r.data=Ob.call(t,t.transformResponse,r),r.headers=_s.from(r.headers),r},function(r){return ZD(r)||(Mb(t),r&&r.response&&(r.response.data=Ob.call(t,t.transformResponse,r.response),r.response.headers=_s.from(r.response.headers))),Promise.reject(r)})}const i5="1.13.2",$y={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{$y[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const B2={};$y.transitional=function(e,n,r){function i(a,o){return"[Axios v"+i5+"] Transitional option '"+a+"'"+o+(r?". "+r:"")}return(a,o,c)=>{if(e===!1)throw new Rt(i(o," has been removed"+(n?" in "+n:"")),Rt.ERR_DEPRECATED);return n&&!B2[o]&&(B2[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(a,o,c):!0}};$y.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function Zte(t,e,n){if(typeof t!="object")throw new Rt("options must be an object",Rt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const a=r[i],o=e[a];if(o){const c=t[a],u=c===void 0||o(c,a,t);if(u!==!0)throw new Rt("option "+a+" must be "+u,Rt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Rt("Unknown option "+a,Rt.ERR_BAD_OPTION)}}const lx={assertOptions:Zte,validators:$y},oa=lx.validators;let Bc=class{constructor(e){this.defaults=e||{},this.interceptors={request:new T2,response:new T2}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Yc(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:a}=n;r!==void 0&&lx.assertOptions(r,{silentJSONParsing:oa.transitional(oa.boolean),forcedJSONParsing:oa.transitional(oa.boolean),clarifyTimeoutError:oa.transitional(oa.boolean)},!1),i!=null&&(pe.isFunction(i)?n.paramsSerializer={serialize:i}:lx.assertOptions(i,{encode:oa.function,serialize:oa.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),lx.assertOptions(n,{baseUrl:oa.spelling("baseURL"),withXsrfToken:oa.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=a&&pe.merge(a.common,a[n.method]);a&&pe.forEach(["delete","get","head","post","put","patch","common"],_=>{delete a[_]}),n.headers=_s.concat(o,a);const c=[];let u=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(u=u&&w.synchronous,c.unshift(w.fulfilled,w.rejected))});const h=[];this.interceptors.response.forEach(function(w){h.push(w.fulfilled,w.rejected)});let f,m=0,g;if(!u){const _=[$2.bind(this),void 0];for(_.unshift(...c),_.push(...h),g=_.length,f=Promise.resolve(n);m<g;)f=f.then(_[m++],_[m++]);return f}g=c.length;let x=n;for(;m<g;){const _=c[m++],w=c[m++];try{x=_(x)}catch(j){w.call(this,j);break}}try{f=$2.call(this,x)}catch(_){return Promise.reject(_)}for(m=0,g=h.length;m<g;)f=f.then(h[m++],h[m++]);return f}getUri(e){e=Yc(this.defaults,e);const n=t5(e.baseURL,e.url,e.allowAbsoluteUrls);return JD(n,e.params,e.paramsSerializer)}};pe.forEach(["delete","get","head","options"],function(e){Bc.prototype[e]=function(n,r){return this.request(Yc(r||{},{method:e,url:n,data:(r||{}).data}))}});pe.forEach(["post","put","patch"],function(e){function n(r){return function(a,o,c){return this.request(Yc(c||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}Bc.prototype[e]=n(),Bc.prototype[e+"Form"]=n(!0)});let ene=class a5{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(c=>{r.subscribe(c),a=c}).then(i);return o.cancel=function(){r.unsubscribe(a)},o},e(function(a,o,c){r.reason||(r.reason=new bh(a,o,c),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new a5(function(i){e=i}),cancel:e}}};function tne(t){return function(n){return t.apply(null,n)}}function nne(t){return pe.isObject(t)&&t.isAxiosError===!0}const Vj={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Vj).forEach(([t,e])=>{Vj[e]=t});function o5(t){const e=new Bc(t),n=FD(Bc.prototype.request,e);return pe.extend(n,Bc.prototype,e,{allOwnKeys:!0}),pe.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return o5(Yc(t,i))},n}const zn=o5(Wm);zn.Axios=Bc;zn.CanceledError=bh;zn.CancelToken=ene;zn.isCancel=ZD;zn.VERSION=i5;zn.toFormData=Uy;zn.AxiosError=Rt;zn.Cancel=zn.CanceledError;zn.all=function(e){return Promise.all(e)};zn.spread=tne;zn.isAxiosError=nne;zn.mergeConfig=Yc;zn.AxiosHeaders=_s;zn.formToJSON=t=>XD(pe.isHTMLForm(t)?new FormData(t):t);zn.getAdapter=s5.getAdapter;zn.HttpStatusCode=Vj;zn.default=zn;const{Axios:Hpe,AxiosError:Wpe,CanceledError:Kpe,isCancel:Gpe,CancelToken:Qpe,VERSION:Jpe,all:Ype,Cancel:Xpe,isAxiosError:Zpe,spread:ege,toFormData:tge,AxiosHeaders:nge,HttpStatusCode:rge,formToJSON:sge,getAdapter:ige,mergeConfig:age}=zn;class rne extends Error{constructor(e,n,r,i,a){super(e),this.name="Base44Error",this.status=n,this.code=r,this.data=i,this.originalError=a}toJSON(){return{name:this.name,message:this.message,status:this.status,code:this.code,data:this.data}}}function sne(t){let{baseURL:e,headers:n={},token:r,requiresAuth:i=!1,appId:a,serverUrl:o}=t;const c=zn.create({baseURL:e,headers:{"Content-Type":"application/json",Accept:"application/json",...n}});return r&&(c.defaults.headers.common.Authorization=`Bearer ${r}`),c.interceptors.request.use((u=>(typeof window<"u"&&(u.headers={...u.headers,"X-Origin-URL":window.location.href}),u))),c.interceptors.response.use((u=>u.data),(u=>{var m,g,x,_,w,j,N,S,k,C;const h=((g=(m=u.response)==null?void 0:m.data)==null?void 0:g.message)||((_=(x=u.response)==null?void 0:x.data)==null?void 0:_.detail)||u.message,f=new rne(h,(w=u.response)==null?void 0:w.status,(N=(j=u.response)==null?void 0:j.data)==null?void 0:N.code,(S=u.response)==null?void 0:S.data,u);return console.log(i,(k=u.response)==null?void 0:k.status,typeof window<"u"),i&&((C=u.response)==null?void 0:C.status)===403&&typeof window<"u"&&(console.log("Authentication required. Redirecting to login..."),setTimeout((()=>{(function(R,O){if(typeof window>"u")return;const A=`${R}/login?from_url=${encodeURIComponent(window.location.href)}&app_id=${O}`;window.location.href=A})(o,a)}),100)),Promise.reject(f)})),c}function ine(t,e){return new Proxy({},{get(n,r){if(typeof r=="string"&&r!=="then"&&!r.startsWith("_"))return(function(i,a,o){const c=`/apps/${a}/entities/${o}`;return{async list(u,h,f,m){const g={};return u&&(g.sort=u),h&&(g.limit=h),f&&(g.skip=f),m&&(g.fields=Array.isArray(m)?m.join(","):m),i.get(c,{params:g})},async filter(u,h,f,m,g){const x={q:JSON.stringify(u)};return h&&(x.sort=h),f&&(x.limit=f),m&&(x.skip=m),g&&(x.fields=Array.isArray(g)?g.join(","):g),i.get(c,{params:x})},get:async u=>i.get(`${c}/${u}`),create:async u=>i.post(c,u),update:async(u,h)=>i.put(`${c}/${u}`,h),delete:async u=>i.delete(`${c}/${u}`),deleteMany:async u=>i.delete(c,{data:u}),bulkCreate:async u=>i.post(`${c}/bulk`,u),async importEntities(u){const h=new FormData;return h.append("file",u,u.name),i.post(`${c}/import`,h,{headers:{"Content-Type":"multipart/form-data"}})}}})(t,e,r)}})}function ane(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{storageKey:e="base44_access_token",paramName:n="access_token",saveToStorage:r=!0,removeFromUrl:i=!0}=t;let a=null;if(typeof window<"u"&&window.location)try{const o=new URLSearchParams(window.location.search);if(a=o.get(n),a){if(r&&one(a,{storageKey:e}),i){o.delete(n);const c=`${window.location.pathname}${o.toString()?`?${o.toString()}`:""}${window.location.hash}`;window.history.replaceState({},document.title,c)}return a}}catch(o){console.error("Error retrieving token from URL:",o)}if(typeof window<"u"&&window.localStorage)try{return a=window.localStorage.getItem(e),a}catch(o){console.error("Error retrieving token from localStorage:",o)}return null}function one(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{storageKey:n="base44_access_token"}=e;if(typeof window>"u"||!window.localStorage||!t)return!1;try{return window.localStorage.setItem(n,t),!0}catch(r){return console.error("Error saving token to localStorage:",r),!1}}function lne(t){if(!t||!t.appId)throw new Error("appId is required");const{serverUrl:e="https://base44.app",appId:n,env:r="prod",token:i,requiresAuth:a=!1}=t,o=sne({baseURL:`${e}/api`,headers:{"X-App-Id":String(n),"X-Environment":r},token:i,requiresAuth:a,appId:n,serverUrl:e}),c=ine(o,n),u=(function(f,m){return new Proxy({},{get(g,x){if(typeof x=="string"&&x!=="then"&&!x.startsWith("_"))return new Proxy({},{get(_,w){if(typeof w=="string"&&w!=="then"&&!w.startsWith("_"))return async j=>{if(typeof j=="string")throw new Error(`Integration ${w} must receive an object with named parameters, received: ${j}`);let N,S;return j instanceof FormData||j&&Object.values(j).some((k=>k instanceof File))?(N=new FormData,Object.keys(j).forEach((k=>{j[k]instanceof File?N.append(k,j[k],j[k].name):typeof j[k]=="object"&&j[k]!==null?N.append(k,JSON.stringify(j[k])):N.append(k,j[k])})),S="multipart/form-data"):(N=j,S="application/json"),x==="Core"?f.post(`/apps/${m}/integration-endpoints/Core/${w}`,N||j,{headers:{"Content-Type":S}}):f.post(`/apps/${m}/integration-endpoints/installable/${x}/integration-endpoints/${w}`,N||j,{headers:{"Content-Type":S}})}}})}})})(o,n),h=(function(f,m,g){return{me:async()=>f.get(`/apps/${m}/entities/User/me`),updateMe:async x=>f.put(`/apps/${m}/entities/User/me`,x),login(x){if(typeof window>"u")throw new Error("Login method can only be used in a browser environment");const _=x||window.location.href,w=`${g}/login?from_url=${encodeURIComponent(_)}&app_id=${m}`;window.location.href=w},async logout(x){if(delete f.defaults.headers.common.Authorization,typeof window<"u"&&window.localStorage)try{window.localStorage.removeItem("base44_access_token")}catch(_){console.error("Failed to remove token from localStorage:",_)}return x&&typeof window<"u"&&(window.location.href=x),Promise.resolve()},setToken(x){let _=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(x&&(f.defaults.headers.common.Authorization=`Bearer ${x}`,_&&typeof window<"u"&&window.localStorage))try{window.localStorage.setItem("base44_access_token",x)}catch(w){console.error("Failed to save token to localStorage:",w)}},async isAuthenticated(){try{return await this.me(),!0}catch{return!1}}}})(o,n,e);if(typeof window<"u"){const f=i||ane();f&&h.setToken(f)}return a&&typeof window<"u"&&setTimeout((async()=>{try{await h.isAuthenticated()||h.login(window.location.href)}catch(f){console.error("Authentication check failed:",f),h.login(window.location.href)}}),0),{entities:c,integrations:u,auth:h,setToken(f){h.setToken(f)},getConfig:()=>({serverUrl:e,appId:n,env:r,requiresAuth:a})}}const bt=lne({appId:"68fcd301afef087bf759dba3",requiresAuth:!1}),Pg={...bt.auth};bt.auth.isAuthenticated=async()=>{try{const{auth:t}=yr();return!!(t!=null&&t.currentUser)}catch{return!1}};bt.auth.me=async()=>{var e;const{auth:t}=yr();if(t!=null&&t.currentUser){const n=t.currentUser;return{id:n.uid,email:n.email||"",name:n.displayName||""}}try{const{data:{user:n}}=await kn.auth.getSession();if(n)return{id:n.id,email:n.email||"",name:((e=n.user_metadata)==null?void 0:e.full_name)||n.email||""}}catch(n){console.error("Error getting user from Supabase:",n)}if(Pg!=null&&Pg.me)return Pg.me();throw new Error("No authenticated user")};const cne=Object.freeze(Object.defineProperty({__proto__:null,base44:bt},Symbol.toStringTag,{value:"Module"}));async function Uj(t,e,n={}){var o;const{isPerfect:r=!1,fallbackScore:i=10,metadata:a={}}=n;try{console.log("awardPointsForGame called:",{user:t,gameType:e,opts:n});const c=await bt.entities.GameSettings.filter({game_id:e}),u=c&&c.length>0?c[0]:null,h=u?u.is_active!==!1:!0,f=u?Number(u.points_per_game??i):i,m=u?Number(u.perfect_score_bonus??0):0,g=u?Number(u.min_points??0):0,x=u?Number(u.max_points??99999):99999;let _=h?f+(r?m:0):0;_=Math.max(g,Math.min(_,x)),console.log("Points calculated:",{awarded:_,isActive:h,basePoints:f,bonus:m});const w=(t==null?void 0:t.id)||(t==null?void 0:t.uid);if(!w)return console.log("No user ID available in user object:",t),_;let j=null;try{const{data:S}=await kn.auth.getSession();j=(o=S==null?void 0:S.session)==null?void 0:o.access_token,console.log("Session token:",j?"Available":"Not available")}catch(S){console.error("Session error:",S)}const N="".toLowerCase()==="true"||!1;if(N&&j){const S="/api/updatePoints";try{console.log("Calling updatePoints endpoint:",S);const k=await fetch(S,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${j}`},body:JSON.stringify({game_type:e,points_awarded:_,isPerfect:r,metadata:a})});if(console.log("UpdatePoints response:",k.status,k.statusText),k.ok)return console.log("Points updated successfully via backend"),_;console.log("Backend update failed, falling back to client-side")}catch(k){console.error("Backend call failed:",k)}}else console.log(N?"No token available":"Backend disabled",", using client-side fallback");console.log("Using Supabase client-side fallback for user:",w);try{const{data:S,error:k}=await kn.from("users").select("points").eq("id",w).single();if(k)return console.error("Error fetching user data:",k),_;const C=(S==null?void 0:S.points)||0,O=Math.min(C+_,1500);console.log("Points update:",{currentPoints:C,awarded:_,newTotal:O});const{error:A}=await kn.from("users").update({points:O,last_award:{game_type:e||null,points_awarded:_,perfect:r,at:new Date().toISOString()},updated_at:new Date().toISOString()}).eq("id",w);if(A)return console.error("Error updating user points:",A),_;if(console.log("User points updated successfully"),e){console.log("Recording game score");const{error:M}=await kn.from("game_scores").insert({user_id:w,game_type:e,points_awarded:_,perfect:r,at:new Date().toISOString(),meta:a});M?console.error("Error recording game score:",M):console.log("Game score recorded successfully")}return _}catch(S){console.error("Supabase fallback failed:",S)}return console.log("Points update failed completely"),_}catch(c){return console.error("awardPointsForGame error:",c),i}}async function une(){try{const e=await fetch("/api/updatePoints",{method:"OPTIONS"});return!!(e.ok||e.status===405)}catch{return!1}}const dne=y.lazy(()=>sn(()=>import("./WordScrambleGame.3TCgwVqP.js"),[])),hne=y.lazy(()=>sn(()=>import("./IslamicQuizGame.HaQLfHWl.js"),[])),fne=y.lazy(()=>sn(()=>import("./IslamicWordSearchGame.2riBb98y.js"),[])),mne=y.lazy(()=>sn(()=>import("./SeerahGame.DY6MQkSI.js"),[])),pne=y.lazy(()=>sn(()=>import("./QuranGame.CAMw9IIT.js"),[])),gne=y.lazy(()=>sn(()=>import("./HadithGame.C10vvgfT.js"),[])),xne=y.lazy(()=>sn(()=>import("./FiqhGame.ePJ7H8mW.js"),[])),yne=y.lazy(()=>sn(()=>import("./MemoryMatchGame.UpOWK4jf.js"),[]));y.lazy(()=>sn(()=>import("./QuestForIlm.CLSfn_yE.js"),[]));const vne=y.lazy(()=>sn(()=>import("./MatchingPairsOfIman.LgJI-Q9A.js"),[]));y.lazy(()=>sn(()=>import("./SahabahArena.C6lkoI-W.js"),[]));y.lazy(()=>sn(()=>import("./MazeOfGuidance.C0zqtoA7.js"),[]));const bne=y.lazy(()=>sn(()=>import("./AyatExplorer.Bw_bHrrI.js"),[]));y.lazy(()=>sn(()=>import("./AkhlaqChallengeGame.B4dRzqGq.js"),[]));y.lazy(()=>sn(()=>import("./DailySunnahGame.Bk9p_1Gq.js"),[]));y.lazy(()=>sn(()=>import("./IslamKnowledgeRaceGame.CdsIB6N6.js"),[]));y.lazy(()=>sn(()=>import("./IslamicCrosswordGame.CSwuM6Xq.js"),[]));y.lazy(()=>sn(()=>import("./IslamicMoralsMazeGame.DgBV7wW_.js"),[]));y.lazy(()=>sn(()=>import("./ProphetStoriesGame.BPiJaLNv.js"),[]));y.lazy(()=>sn(()=>import("./QuranMemoryMatchGame.Rki9zwAF.js"),[]));y.lazy(()=>sn(()=>import("./QuranQuestGame.BZDj0Bpj.js"),[]));y.lazy(()=>sn(()=>import("./SacredSitesJigsaw.BS3EhMyO.js"),[]));y.lazy(()=>sn(()=>import("./SahabahStoriesGame.Dj3yHAUh.js"),[]));y.lazy(()=>sn(()=>import("./SeerahAdventureGame.60hPHUS8.js"),[]));y.lazy(()=>sn(()=>import("./SpinToWinWheel.DSD5f_7g.js"),[]));const wne=y.lazy(()=>sn(()=>import("./TriviaGame.DH7OEqzn.js"),[])),Db=[{id:"word_scramble",title:" Word Scramble Challenge",description:"Unscramble Islamic words - Easy, Medium & Hard!",emoji:"",difficulty:"All Levels",points:"10 pts per game",allowPoints:!0,allowPrizes:!1,component:dne},{id:"matching_pairs_iman",title:" Matching Pairs of Iman",description:"Match Islamic concepts and terms to strengthen your Iman!",emoji:"",difficulty:"All Levels",points:"10 pts per game",allowPoints:!0,allowPrizes:!1,component:vne},{id:"ayat_explorer",title:" Ayat Explorer",description:"Explore Quranic knowledge through puzzles!",emoji:"",difficulty:"Medium",points:"10 pts per game",component:bne},{id:"islamic_quiz",title:" Islamic Knowledge Quiz",description:"Test your knowledge of Quran, Hadith, Seerah & more!",emoji:"",difficulty:"All Levels",points:"10 pts per game",component:hne},{id:"word_search",title:" Islamic Word Search",description:"Find Islamic words hidden in the grid",emoji:"",difficulty:"All Levels",points:"10 pts per game",component:fne},{id:"seerah_game",title:" Seerah Quiz",description:"Learn about the life of Prophet Muhammad ",emoji:"",difficulty:"All Levels",points:"10 pts per game",component:mne},{id:"quran_game",title:" Quran Quiz",description:"Test your knowledge of the Holy Quran",emoji:"",difficulty:"All Levels",points:"10 pts per game",component:pne},{id:"hadith_game",title:" Hadith Match",description:"Learn authentic sayings of Prophet ",emoji:"",difficulty:"All Levels",points:"10 pts per game",component:gne},{id:"trivia",title:" Islamic Trivia Challenge",description:"Answer more questions across easy, medium, hard modes",emoji:"",difficulty:"Easy/Medium/Hard",points:"1020 pts per game",component:wne},{id:"fiqh_game",title:" Fiqh Challenge",description:"Learn Islamic rulings and practices",emoji:"",difficulty:"All Levels",points:"10 pts per game",component:xne},{id:"memory_match",title:" Islamic Memory Match",description:"Match pairs of Islamic terms",emoji:"",difficulty:"All Levels",points:"10 pts per game",component:yne}],jne=()=>s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:""}),s.jsx("p",{className:"text-gray-600 font-medium",children:"Loading game..."})]})});function $j(){var S;const t=nr(),[e,n]=y.useState(null),[r,i]=y.useState(!1),[a,o]=y.useState(!0),[c,u]=y.useState(null),[h,f]=y.useState(!1),[m,g]=y.useState(!1);y.useEffect(()=>{let k=()=>{};return(async()=>{try{f(await une())}catch{}k=au(async C=>{if(C){i(!0);try{const R=await Gc(C.uid);u({id:C.uid,email:C.email||"",points:Number((R==null?void 0:R.points)||0),full_name:(R==null?void 0:R.fullName)||"Anonymous",badges:(R==null?void 0:R.badges)||[]})}catch{u({id:C.uid,email:C.email||"",points:0,full_name:"Anonymous",badges:[]})}}else{const R=localStorage.getItem("user");R?(i(!0),u(JSON.parse(R))):(i(!1),u(null))}o(!1)})})(),()=>{try{k&&k()}catch{}}},[t]);const{data:x=[]}=Bn({queryKey:["monthly-leaderboard"],queryFn:async()=>{const k=new Date,C=new Date(k.getFullYear(),k.getMonth(),1),O=JSON.parse(localStorage.getItem("gameScores")||"[]").filter(L=>new Date(L.created_date)>=C),A={};O.forEach(L=>{A[L.user_id]||(A[L.user_id]={user_id:L.user_id,total_score:0,games_played:0}),A[L.user_id].total_score+=L.score||0,A[L.user_id].games_played+=1});const M=JSON.parse(localStorage.getItem("users")||"[]");return Object.keys(A).map(L=>({...M.find(V=>V.id===L)||{id:L,name:"Guest"},monthly_score:A[L].total_score,monthly_games:A[L].games_played})).filter(L=>L.monthly_score>0).sort((L,D)=>D.monthly_score-L.monthly_score).slice(0,10)},enabled:r,initialData:[]}),{data:_=[]}=Bn({queryKey:["leaderboard"],queryFn:async()=>JSON.parse(localStorage.getItem("users")||"[]").filter(C=>C.points>0).sort((C,R)=>R.points-C.points).slice(0,10),enabled:r,initialData:[]}),w=k=>{n(k)},j=async k=>{const{auth:C}=yr(),R=C==null?void 0:C.currentUser;if(r&&c&&e)if(R)setTimeout(async()=>{try{const O=await Gc(R.uid);u(A=>({...A,points:Number((O==null?void 0:O.points)||(A==null?void 0:A.points)||0)}))}catch{}},1200);else try{const O=JSON.parse(localStorage.getItem("gameScores")||"[]");O.push({user_id:c.id,game_type:e.id,score:k,created_date:new Date().toISOString()}),localStorage.setItem("gameScores",JSON.stringify(O));const A=JSON.parse(localStorage.getItem("users")||"[]"),M=A.findIndex(F=>F.id===c.id);let P=Math.min((c.points||0)+k,1500);M!==-1&&(A[M].points=P,localStorage.setItem("users",JSON.stringify(A))),u(F=>({...F,points:P}))}catch(O){console.error("Error saving game score:",O)}setTimeout(()=>n(null),3e3)};if(a)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-100 via-purple-50 to-pink-100 p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:""}),s.jsx("p",{className:"text-gray-600 font-medium",children:"Loading games..."})]})});const N=e==null?void 0:e.component;return e?s.jsx("div",{className:"min-h-screen py-6 px-4 bg-gradient-to-br from-blue-100 via-purple-50 to-pink-100",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs(W,{variant:"ghost",onClick:()=>n(null),className:"mb-6 bg-white/80 backdrop-blur-sm hover:bg-white",size:"sm",children:[s.jsx(Pl,{className:"w-4 h-4 mr-2"}),"Back to Games"]}),s.jsx(y.Suspense,{fallback:s.jsx(jne,{}),children:N&&s.jsx(N,{onComplete:j})})]})}):s.jsx("div",{className:"min-h-screen py-8 px-4 bg-gradient-to-br from-blue-100 via-purple-50 to-pink-100",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx(te.div,{className:"text-6xl mb-4",animate:{rotate:[0,10,-10,0]},transition:{duration:3,repeat:1/0,repeatDelay:2},children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Islamic Knowledge Games"}),s.jsxs("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:["Play fun games and test your Islamic knowledge!",r?" Each game earns you 10 points.":" Email us at imediac786@gmail.com to create your account and track your progress!"]}),s.jsxs("div",{className:"mt-2 text-sm text-gray-500",children:["Backend: ",h?s.jsx("span",{className:"text-green-600 font-semibold",children:"Online"}):s.jsx("span",{className:"text-red-600 font-semibold",children:"Offline"})]})]}),!r&&s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8 max-w-2xl mx-auto",children:s.jsx(re,{className:"border-2 border-blue-300 shadow-lg bg-gradient-to-br from-blue-50 to-purple-50",children:s.jsxs(ie,{className:"p-6 text-center",children:[s.jsx(ns,{className:"w-12 h-12 mx-auto mb-4 text-blue-600"}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:" Playing as Guest"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"You can play all games for free! Email us to create your account, track your progress, earn points, and compete on the leaderboard."}),s.jsx("div",{className:"flex gap-3 justify-center",children:s.jsxs(W,{onClick:()=>{const k=encodeURIComponent("Access Request - Islam Kids Zone"),C=encodeURIComponent("Hi, I'd like to create an account for Islam Kids Zone. My name is ____ and my contact details are ____.");window.location.href=`mailto:imediac786@gmail.com?subject=${k}&body=${C}`},className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-blue-500 to-purple-500 text-white font-bold shadow hover:scale-105 transition-transform",children:[s.jsx(my,{className:"w-4 h-4 mr-2"}),"Request Access via Email"]})})]})})}),r&&s.jsxs(s.Fragment,{children:[s.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-wrap justify-center gap-3 mb-12",children:[s.jsxs(W,{onClick:()=>g(!m),className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white shadow-lg",children:[s.jsx(ns,{className:"w-4 h-4 mr-2"}),"Monthly Champions"]}),s.jsx(Mt,{to:at("Challenges"),children:s.jsxs(W,{className:"bg-gradient-to-r from-red-500 to-pink-500 hover:from-red-600 hover:to-pink-600 text-white shadow-lg",children:[s.jsx(wl,{className:"w-4 h-4 mr-2"}),"Challenge Friends"]})})]}),s.jsx(Ss,{children:m&&x.length>0&&s.jsx(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"mb-12 max-w-xl mx-auto",children:s.jsxs(re,{className:"border-2 border-purple-300 shadow-xl bg-gradient-to-br from-purple-50 to-pink-50",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-t-xl",children:s.jsxs(Me,{className:"text-2xl flex items-center gap-2 justify-center",children:[s.jsx(ns,{className:"w-6 h-6"}),"Monthly Champions"]})}),s.jsx(ie,{className:"p-6 pt-4",children:s.jsx("div",{className:"space-y-3",children:x.slice(0,10).map((k,C)=>{const O=[{icon:Bk,color:"text-yellow-500",bg:"bg-yellow-50"},{icon:od,color:"text-gray-400",bg:"bg-gray-50"},{icon:od,color:"text-orange-600",bg:"bg-orange-50"}][C],A=(O==null?void 0:O.icon)||ln;return s.jsxs(te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:C*.1},className:`flex items-center gap-3 p-3 rounded-xl ${(O==null?void 0:O.bg)||"bg-white"} border-2 ${C===0?"border-amber-400":"border-gray-200"}`,children:[s.jsx("div",{className:`w-8 h-8 rounded-full ${(O==null?void 0:O.bg)||"bg-blue-50"} flex items-center justify-center ${(O==null?void 0:O.color)||"text-gray-600"}`,children:s.jsx(A,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-bold text-sm text-gray-900",children:k.full_name||"Anonymous"}),s.jsxs("p",{className:"text-xs text-gray-600",children:[k.monthly_games," games this month"]})]}),s.jsxs("div",{className:"flex items-center gap-1 bg-purple-100 px-2 py-1 rounded-full",children:[s.jsx(ln,{className:"w-4 h-4 text-purple-600 fill-purple-600"}),s.jsx("span",{className:"font-bold text-sm text-purple-900",children:k.monthly_score})]})]},k.id)})})})]})})})]}),s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:s.jsx(re,{className:"border-4 border-amber-400 shadow-2xl",children:s.jsx(ie,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"text-5xl",children:""}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Win Prizes Every Month!"}),s.jsx("p",{className:"text-gray-800 font-medium",children:"Play games, earn points, compete! Top 3 players win prizes!"})]})]})})})}),_.length>0&&s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:s.jsxs(re,{className:"border-2 border-purple-200 shadow-xl",children:[s.jsx(Oe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Me,{className:"text-2xl flex items-center gap-2",children:[s.jsx(Ol,{className:"w-6 h-6 text-indigo-500"}),"Top Players (All Time)"]}),s.jsx(W,{onClick:()=>t(at("Leaderboard")),variant:"outline",size:"sm",children:"View All"})]})}),s.jsx(ie,{children:s.jsx("div",{className:"space-y-3",children:_.slice(0,3).map((k,C)=>{const O=[{icon:Bk,color:"text-yellow-500",bg:"bg-yellow-50"},{icon:od,color:"text-gray-400",bg:"bg-gray-50"},{icon:od,color:"text-orange-600",bg:"bg-orange-50"}][C],A=(O==null?void 0:O.icon)||ln;return s.jsxs(te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:C*.1},className:`flex items-center gap-4 p-4 rounded-xl ${(O==null?void 0:O.bg)||"bg-white"} border-2 ${C===0?"border-amber-400":"border-gray-200"}`,children:[s.jsx("div",{className:`w-10 h-10 rounded-full ${(O==null?void 0:O.bg)||"bg-blue-50"} flex items-center justify-center ${(O==null?void 0:O.color)||"text-gray-600"}`,children:s.jsx(A,{className:"w-6 h-6"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-bold text-base text-gray-900",children:k.full_name||"Anonymous"}),s.jsx("p",{className:"text-sm text-gray-600",children:k.city||"Unknown"})]}),s.jsxs("div",{className:"flex items-center gap-1 bg-amber-100 px-2 py-1 rounded-full",children:[s.jsx(ln,{className:"w-4 h-4 text-amber-600 fill-amber-600"}),s.jsx("span",{className:"font-bold text-sm text-amber-900",children:k.points})]})]},k.id)})})})]})}),s.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-500 to-purple-500 rounded-2xl p-6 mb-12 text-white shadow-2xl",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[s.jsxs("div",{children:[s.jsx(wl,{className:"w-8 h-8 mx-auto mb-2"}),s.jsx("div",{className:"text-2xl font-bold",children:Db.length}),s.jsx("div",{className:"text-sm text-blue-100",children:"Games"})]}),s.jsxs("div",{children:[s.jsx(ln,{className:"w-8 h-8 mx-auto mb-2"}),s.jsx("div",{className:"text-2xl font-bold",children:Number((c==null?void 0:c.points)||0)}),s.jsx("div",{className:"text-sm text-blue-100",children:"Your Points"})]}),s.jsxs("div",{children:[s.jsx(ns,{className:"w-8 h-8 mx-auto mb-2"}),s.jsx("div",{className:"text-2xl font-bold",children:((S=c==null?void 0:c.badges)==null?void 0:S.length)||0}),s.jsx("div",{className:"text-sm text-blue-100",children:"Badges"})]})]}),r&&s.jsxs("div",{className:"mt-4 p-3 bg-white/20 rounded-lg backdrop-blur-sm",children:[s.jsxs("p",{className:"text-sm font-semibold mb-2 flex items-center justify-center gap-2",children:[s.jsx(HI,{className:"w-4 h-4"}),"Daily Challenge: Complete all ",Db.length," games for +10 bonus points!"]}),s.jsx("div",{className:"text-xs text-blue-100 text-center",children:"Perfect score on any game = +5 bonus points "})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-6xl mx-auto",children:s.jsx(Ss,{children:Db.map((k,C)=>s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:C*.05},whileHover:{y:-5},children:s.jsxs(re,{className:"h-full border-2 hover:border-blue-300 hover:shadow-2xl transition-all duration-300 cursor-pointer group",children:[s.jsxs(Oe,{className:"bg-gradient-to-br from-blue-50 to-purple-50",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx(te.div,{className:"text-5xl",whileHover:{scale:1.2,rotate:[0,-10,10,-10,0]},transition:{duration:.5},children:k.emoji}),s.jsx(we,{className:"bg-amber-500 hover:bg-amber-600",children:k.points})]}),s.jsx(Me,{className:"text-xl group-hover:text-blue-600 transition-colors",children:k.title})]}),s.jsxs(ie,{className:"pt-3",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:k.description}),s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[s.jsx(we,{variant:"outline",className:"text-xs",children:k.difficulty}),s.jsx(W,{onClick:()=>w(k),className:"bg-blue-600 hover:bg-blue-700",size:"sm",children:"Play Now"})]})]})]})},k.id))})})]})})}function _ne(t,e=[]){let n=[];function r(a,o){const c=y.createContext(o);c.displayName=a+"Context";const u=n.length;n=[...n,o];const h=m=>{var N;const{scope:g,children:x,..._}=m,w=((N=g==null?void 0:g[t])==null?void 0:N[u])||c,j=y.useMemo(()=>_,Object.values(_));return s.jsx(w.Provider,{value:j,children:x})};h.displayName=a+"Provider";function f(m,g){var w;const x=((w=g==null?void 0:g[t])==null?void 0:w[u])||c,_=y.useContext(x);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${a}\``)}return[h,f]}const i=()=>{const a=n.map(o=>y.createContext(o));return function(c){const u=(c==null?void 0:c[t])||a;return y.useMemo(()=>({[`__scope${t}`]:{...c,[t]:u}}),[c,u])}};return i.scopeName=t,[r,Nne(i,...e)]}function Nne(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((c,{useScope:u,scopeName:h})=>{const m=u(a)[`__scope${h}`];return{...c,...m}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Sne=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],p1=Sne.reduce((t,e)=>{const n=My(`Primitive.${e}`),r=y.forwardRef((i,a)=>{const{asChild:o,...c}=i,u=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(u,{...c,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),Lb={exports:{}},Fb={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z2;function Ene(){if(z2)return Fb;z2=1;var t=oy();function e(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,o=t.useDebugValue;function c(m,g){var x=g(),_=r({inst:{value:x,getSnapshot:g}}),w=_[0].inst,j=_[1];return a(function(){w.value=x,w.getSnapshot=g,u(w)&&j({inst:w})},[m,x,g]),i(function(){return u(w)&&j({inst:w}),m(function(){u(w)&&j({inst:w})})},[m]),o(x),x}function u(m){var g=m.getSnapshot;m=m.value;try{var x=g();return!n(m,x)}catch{return!0}}function h(m,g){return g()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return Fb.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,Fb}var q2;function kne(){return q2||(q2=1,Lb.exports=Ene()),Lb.exports}var Cne=kne();function Ane(){return Cne.useSyncExternalStore(Tne,()=>!0,()=>!1)}function Tne(){return()=>{}}var g1="Avatar",[Rne]=_ne(g1),[Ine,l5]=Rne(g1),c5=y.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,a]=y.useState("idle");return s.jsx(Ine,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:s.jsx(p1.span,{...r,ref:e})})});c5.displayName=g1;var u5="AvatarImage",d5=y.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...a}=t,o=l5(u5,n),c=Pne(r,a),u=Mi(h=>{i(h),o.onImageLoadingStatusChange(h)});return ur(()=>{c!=="idle"&&u(c)},[c,u]),c==="loaded"?s.jsx(p1.img,{...a,ref:e,src:r}):null});d5.displayName=u5;var h5="AvatarFallback",f5=y.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,a=l5(h5,n),[o,c]=y.useState(r===void 0);return y.useEffect(()=>{if(r!==void 0){const u=window.setTimeout(()=>c(!0),r);return()=>window.clearTimeout(u)}},[r]),o&&a.imageLoadingStatus!=="loaded"?s.jsx(p1.span,{...i,ref:e}):null});f5.displayName=h5;function H2(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Pne(t,{referrerPolicy:e,crossOrigin:n}){const r=Ane(),i=y.useRef(null),a=r?(i.current||(i.current=new window.Image),i.current):null,[o,c]=y.useState(()=>H2(a,t));return ur(()=>{c(H2(a,t))},[a,t]),ur(()=>{const u=m=>()=>{c(m)};if(!a)return;const h=u("loaded"),f=u("error");return a.addEventListener("load",h),a.addEventListener("error",f),e&&(a.referrerPolicy=e),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",h),a.removeEventListener("error",f)}},[a,n,e]),o}var m5=c5,p5=d5,g5=f5;const One=y.forwardRef(({className:t,...e},n)=>s.jsx(m5,{ref:n,className:mt("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));One.displayName=m5.displayName;const Mne=y.forwardRef(({className:t,...e},n)=>s.jsx(p5,{ref:n,className:mt("aspect-square h-full w-full",t),...e}));Mne.displayName=p5.displayName;const Dne=y.forwardRef(({className:t,...e},n)=>s.jsx(g5,{ref:n,className:mt("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Dne.displayName=g5.displayName;function x5(){const[t,e]=y.useState(null),[n,r]=y.useState(!1);y.useEffect(()=>{const u=au(async h=>{const f=!!h;if(r(f),f)try{const m=await Gc(h.uid);e(m?{id:h.uid,...m}:{id:h.uid,email:h.email,points:0})}catch{e({id:h.uid,email:h.email,points:0})}else e(null)});return()=>{try{u==null||u()}catch{}}},[]);const{data:i=[],isLoading:a}=Bn({queryKey:["leaderboard-users"],queryFn:async()=>{try{return(await a1.list()).sort((h,f)=>Number(f.points||0)-Number(h.points||0))}catch{return[]}},initialData:[]}),o=u=>{switch(u){case 0:return s.jsx(ns,{className:"w-6 h-6 sm:w-8 sm:h-8 text-amber-500"});case 1:return s.jsx(od,{className:"w-6 h-6 sm:w-8 sm:h-8 text-gray-400"});case 2:return s.jsx(od,{className:"w-6 h-6 sm:w-8 sm:h-8 text-amber-600"});default:return s.jsxs("span",{className:"text-lg sm:text-2xl font-bold text-gray-400",children:["#",u+1]})}},c=u=>{switch(u){case 0:return"from-amber-400 to-amber-600";case 1:return"from-gray-300 to-gray-500";case 2:return"from-amber-500 to-amber-700";default:return"from-blue-100 to-purple-100"}};return s.jsx("div",{className:"min-h-screen py-6 sm:py-8 md:py-12 px-3 sm:px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8 sm:mb-12",children:[s.jsx("div",{className:"text-5xl sm:text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-gray-900 mb-3 sm:mb-4 px-2",children:"Top Young Learners"}),s.jsx("p",{className:"text-base sm:text-lg text-gray-600 px-2",children:"These amazing kids are learning and earning points!"})]}),!n&&s.jsx(te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-6 sm:mb-8",children:s.jsx(re,{className:"border-2 border-blue-200 shadow-lg bg-gradient-to-br from-blue-50 to-purple-50",children:s.jsxs(ie,{className:"p-4 sm:p-6 text-center",children:[s.jsx(ln,{className:"w-8 h-8 sm:w-10 sm:h-10 mx-auto mb-3 sm:mb-4 text-blue-600"}),s.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-2",children:"Want to See Your Name Here?"}),s.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-3 sm:mb-4 px-2",children:"Join Islam Kids Zone to earn points, compete with friends, and climb the leaderboard!"}),s.jsxs(W,{onClick:()=>{const u=encodeURIComponent("Access Request - Islam Kids Zone"),h=encodeURIComponent("Hi, I'd like to create an account to join the leaderboard. My name is ____ and my contact details are ____");window.location.href=`mailto:imediac786@gmail.com?subject=${u}&body=${h}`},className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600",children:[s.jsx(Cw,{className:"w-4 h-4 mr-2"}),"Request Access via Email"]})]})})}),s.jsxs(re,{className:"shadow-xl",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white p-4 sm:p-6",children:s.jsx(Me,{className:"text-xl sm:text-2xl",children:"All-Time Leaderboard"})}),s.jsx(ie,{className:"p-0",children:a?s.jsx("div",{className:"p-8 sm:p-12 text-center text-gray-500",children:"Loading leaderboard..."}):i.length===0?s.jsxs("div",{className:"p-8 sm:p-12 text-center text-gray-500",children:[s.jsx(ln,{className:"w-12 h-12 sm:w-16 sm:h-16 mx-auto mb-4 text-gray-300"}),s.jsx("p",{children:"No learners yet. Be the first to earn points!"})]}):s.jsx("div",{className:"divide-y divide-gray-100",children:i.map((u,h)=>s.jsx(te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:h*.05},className:"p-4 sm:p-6 hover:bg-gray-50 transition-colors",children:s.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 justify-center",children:[s.jsx("div",{className:"w-12 sm:w-16 flex justify-center flex-shrink-0",children:o(h)}),s.jsx("div",{className:"flex items-center gap-3 sm:gap-4",children:s.jsx("div",{className:`w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-gradient-to-br ${c(h)} flex items-center justify-center text-xl sm:text-2xl shadow-lg flex-shrink-0`,children:u.avatar||""})})]})},u.uid||u.id||`${u.email||u.full_name||"user"}-${h}`))})})]})]})})}function Lne(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Fne=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Vne=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Une={};function W2(t,e){return(Une.jsx?Vne:Fne).test(t)}const $ne=/[ \t\n\f\r]/g;function Bne(t){return typeof t=="object"?t.type==="text"?K2(t.value):!1:K2(t)}function K2(t){return t.replace($ne,"")===""}class Km{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}Km.prototype.normal={};Km.prototype.property={};Km.prototype.space=void 0;function y5(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new Km(n,r,e)}function Bj(t){return t.toLowerCase()}class Es{constructor(e,n){this.attribute=n,this.property=e}}Es.prototype.attribute="";Es.prototype.booleanish=!1;Es.prototype.boolean=!1;Es.prototype.commaOrSpaceSeparated=!1;Es.prototype.commaSeparated=!1;Es.prototype.defined=!1;Es.prototype.mustUseProperty=!1;Es.prototype.number=!1;Es.prototype.overloadedBoolean=!1;Es.prototype.property="";Es.prototype.spaceSeparated=!1;Es.prototype.space=void 0;let zne=0;const Pt=ou(),Jn=ou(),zj=ou(),Pe=ou(),pn=ou(),vd=ou(),Us=ou();function ou(){return 2**++zne}const qj=Object.freeze(Object.defineProperty({__proto__:null,boolean:Pt,booleanish:Jn,commaOrSpaceSeparated:Us,commaSeparated:vd,number:Pe,overloadedBoolean:zj,spaceSeparated:pn},Symbol.toStringTag,{value:"Module"})),Vb=Object.keys(qj);class x1 extends Es{constructor(e,n,r,i){let a=-1;if(super(e,n),G2(this,"space",i),typeof r=="number")for(;++a<Vb.length;){const o=Vb[a];G2(this,Vb[a],(r&qj[o])===qj[o])}}}x1.prototype.defined=!0;function G2(t,e,n){n&&(t[e]=n)}function wh(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const a=new x1(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),e[r]=a,n[Bj(r)]=r,n[Bj(a.attribute)]=r}return new Km(e,n,t.space)}const v5=wh({properties:{ariaActiveDescendant:null,ariaAtomic:Jn,ariaAutoComplete:null,ariaBusy:Jn,ariaChecked:Jn,ariaColCount:Pe,ariaColIndex:Pe,ariaColSpan:Pe,ariaControls:pn,ariaCurrent:null,ariaDescribedBy:pn,ariaDetails:null,ariaDisabled:Jn,ariaDropEffect:pn,ariaErrorMessage:null,ariaExpanded:Jn,ariaFlowTo:pn,ariaGrabbed:Jn,ariaHasPopup:null,ariaHidden:Jn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:pn,ariaLevel:Pe,ariaLive:null,ariaModal:Jn,ariaMultiLine:Jn,ariaMultiSelectable:Jn,ariaOrientation:null,ariaOwns:pn,ariaPlaceholder:null,ariaPosInSet:Pe,ariaPressed:Jn,ariaReadOnly:Jn,ariaRelevant:null,ariaRequired:Jn,ariaRoleDescription:pn,ariaRowCount:Pe,ariaRowIndex:Pe,ariaRowSpan:Pe,ariaSelected:Jn,ariaSetSize:Pe,ariaSort:null,ariaValueMax:Pe,ariaValueMin:Pe,ariaValueNow:Pe,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function b5(t,e){return e in t?t[e]:e}function w5(t,e){return b5(t,e.toLowerCase())}const qne=wh({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:vd,acceptCharset:pn,accessKey:pn,action:null,allow:null,allowFullScreen:Pt,allowPaymentRequest:Pt,allowUserMedia:Pt,alt:null,as:null,async:Pt,autoCapitalize:null,autoComplete:pn,autoFocus:Pt,autoPlay:Pt,blocking:pn,capture:null,charSet:null,checked:Pt,cite:null,className:pn,cols:Pe,colSpan:null,content:null,contentEditable:Jn,controls:Pt,controlsList:pn,coords:Pe|vd,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Pt,defer:Pt,dir:null,dirName:null,disabled:Pt,download:zj,draggable:Jn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Pt,formTarget:null,headers:pn,height:Pe,hidden:zj,high:Pe,href:null,hrefLang:null,htmlFor:pn,httpEquiv:pn,id:null,imageSizes:null,imageSrcSet:null,inert:Pt,inputMode:null,integrity:null,is:null,isMap:Pt,itemId:null,itemProp:pn,itemRef:pn,itemScope:Pt,itemType:pn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Pt,low:Pe,manifest:null,max:null,maxLength:Pe,media:null,method:null,min:null,minLength:Pe,multiple:Pt,muted:Pt,name:null,nonce:null,noModule:Pt,noValidate:Pt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Pt,optimum:Pe,pattern:null,ping:pn,placeholder:null,playsInline:Pt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Pt,referrerPolicy:null,rel:pn,required:Pt,reversed:Pt,rows:Pe,rowSpan:Pe,sandbox:pn,scope:null,scoped:Pt,seamless:Pt,selected:Pt,shadowRootClonable:Pt,shadowRootDelegatesFocus:Pt,shadowRootMode:null,shape:null,size:Pe,sizes:null,slot:null,span:Pe,spellCheck:Jn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Pe,step:null,style:null,tabIndex:Pe,target:null,title:null,translate:null,type:null,typeMustMatch:Pt,useMap:null,value:Jn,width:Pe,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:pn,axis:null,background:null,bgColor:null,border:Pe,borderColor:null,bottomMargin:Pe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Pt,declare:Pt,event:null,face:null,frame:null,frameBorder:null,hSpace:Pe,leftMargin:Pe,link:null,longDesc:null,lowSrc:null,marginHeight:Pe,marginWidth:Pe,noResize:Pt,noHref:Pt,noShade:Pt,noWrap:Pt,object:null,profile:null,prompt:null,rev:null,rightMargin:Pe,rules:null,scheme:null,scrolling:Jn,standby:null,summary:null,text:null,topMargin:Pe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Pe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Pt,disableRemotePlayback:Pt,prefix:null,property:null,results:Pe,security:null,unselectable:null},space:"html",transform:w5}),Hne=wh({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Us,accentHeight:Pe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Pe,amplitude:Pe,arabicForm:null,ascent:Pe,attributeName:null,attributeType:null,azimuth:Pe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Pe,by:null,calcMode:null,capHeight:Pe,className:pn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Pe,diffuseConstant:Pe,direction:null,display:null,dur:null,divisor:Pe,dominantBaseline:null,download:Pt,dx:null,dy:null,edgeMode:null,editable:null,elevation:Pe,enableBackground:null,end:null,event:null,exponent:Pe,externalResourcesRequired:null,fill:null,fillOpacity:Pe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:vd,g2:vd,glyphName:vd,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Pe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Pe,horizOriginX:Pe,horizOriginY:Pe,id:null,ideographic:Pe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Pe,k:Pe,k1:Pe,k2:Pe,k3:Pe,k4:Pe,kernelMatrix:Us,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Pe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Pe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Pe,overlineThickness:Pe,paintOrder:null,panose1:null,path:null,pathLength:Pe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:pn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Pe,pointsAtY:Pe,pointsAtZ:Pe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Us,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Us,rev:Us,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Us,requiredFeatures:Us,requiredFonts:Us,requiredFormats:Us,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Pe,specularExponent:Pe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Pe,strikethroughThickness:Pe,string:null,stroke:null,strokeDashArray:Us,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Pe,strokeOpacity:Pe,strokeWidth:null,style:null,surfaceScale:Pe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Us,tabIndex:Pe,tableValues:null,target:null,targetX:Pe,targetY:Pe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Us,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Pe,underlineThickness:Pe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Pe,values:null,vAlphabetic:Pe,vMathematical:Pe,vectorEffect:null,vHanging:Pe,vIdeographic:Pe,version:null,vertAdvY:Pe,vertOriginX:Pe,vertOriginY:Pe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Pe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:b5}),j5=wh({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),_5=wh({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:w5}),N5=wh({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),Wne={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Kne=/[A-Z]/g,Q2=/-[a-z]/g,Gne=/^data[-\w.:]+$/i;function Qne(t,e){const n=Bj(e);let r=e,i=Es;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Gne.test(e)){if(e.charAt(4)==="-"){const a=e.slice(5).replace(Q2,Yne);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=e.slice(4);if(!Q2.test(a)){let o=a.replace(Kne,Jne);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=x1}return new i(r,e)}function Jne(t){return"-"+t.toLowerCase()}function Yne(t){return t.charAt(1).toUpperCase()}const Xne=y5([v5,qne,j5,_5,N5],"html"),y1=y5([v5,Hne,j5,_5,N5],"svg");function Zne(t){return t.join(" ").trim()}var Yu={},Ub,J2;function ere(){if(J2)return Ub;J2=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,c=/^\s+|\s+$/g,u=`
`,h="/",f="*",m="",g="comment",x="declaration";function _(j,N){if(typeof j!="string")throw new TypeError("First argument must be a string");if(!j)return[];N=N||{};var S=1,k=1;function C(G){var ee=G.match(e);ee&&(S+=ee.length);var ae=G.lastIndexOf(u);k=~ae?G.length-ae:k+G.length}function R(){var G={line:S,column:k};return function(ee){return ee.position=new O(G),P(),ee}}function O(G){this.start=G,this.end={line:S,column:k},this.source=N.source}O.prototype.content=j;function A(G){var ee=new Error(N.source+":"+S+":"+k+": "+G);if(ee.reason=G,ee.filename=N.source,ee.line=S,ee.column=k,ee.source=j,!N.silent)throw ee}function M(G){var ee=G.exec(j);if(ee){var ae=ee[0];return C(ae),j=j.slice(ae.length),ee}}function P(){M(n)}function F(G){var ee;for(G=G||[];ee=L();)ee!==!1&&G.push(ee);return G}function L(){var G=R();if(!(h!=j.charAt(0)||f!=j.charAt(1))){for(var ee=2;m!=j.charAt(ee)&&(f!=j.charAt(ee)||h!=j.charAt(ee+1));)++ee;if(ee+=2,m===j.charAt(ee-1))return A("End of comment missing");var ae=j.slice(2,ee-2);return k+=2,C(ae),j=j.slice(ee),k+=2,G({type:g,comment:ae})}}function D(){var G=R(),ee=M(r);if(ee){if(L(),!M(i))return A("property missing ':'");var ae=M(a),ue=G({type:x,property:w(ee[0].replace(t,m)),value:ae?w(ae[0].replace(t,m)):m});return M(o),ue}}function V(){var G=[];F(G);for(var ee;ee=D();)ee!==!1&&(G.push(ee),F(G));return G}return P(),V()}function w(j){return j?j.replace(c,m):m}return Ub=_,Ub}var Y2;function tre(){if(Y2)return Yu;Y2=1;var t=Yu&&Yu.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Yu,"__esModule",{value:!0}),Yu.default=n;const e=t(ere());function n(r,i){let a=null;if(!r||typeof r!="string")return a;const o=(0,e.default)(r),c=typeof i=="function";return o.forEach(u=>{if(u.type!=="declaration")return;const{property:h,value:f}=u;c?i(h,f,u):f&&(a=a||{},a[h]=f)}),a}return Yu}var yf={},X2;function nre(){if(X2)return yf;X2=1,Object.defineProperty(yf,"__esModule",{value:!0}),yf.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,a=function(h){return!h||n.test(h)||t.test(h)},o=function(h,f){return f.toUpperCase()},c=function(h,f){return"".concat(f,"-")},u=function(h,f){return f===void 0&&(f={}),a(h)?h:(h=h.toLowerCase(),f.reactCompat?h=h.replace(i,c):h=h.replace(r,c),h.replace(e,o))};return yf.camelCase=u,yf}var vf,Z2;function rre(){if(Z2)return vf;Z2=1;var t=vf&&vf.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},e=t(tre()),n=nre();function r(i,a){var o={};return!i||typeof i!="string"||(0,e.default)(i,function(c,u){c&&u&&(o[(0,n.camelCase)(c,a)]=u)}),o}return r.default=r,vf=r,vf}var sre=rre();const ire=nu(sre),S5=E5("end"),v1=E5("start");function E5(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function are(t){const e=v1(t),n=S5(t);if(e&&n)return{start:e,end:n}}function $f(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?eT(t.position):"start"in t||"end"in t?eT(t):"line"in t||"column"in t?Hj(t):""}function Hj(t){return tT(t&&t.line)+":"+tT(t&&t.column)}function eT(t){return Hj(t&&t.start)+"-"+Hj(t&&t.end)}function tT(t){return t&&typeof t=="number"?t:1}class zr extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},o=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof e=="string"?i=e:!a.cause&&e&&(o=!0,i=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof r=="string"){const u=r.indexOf(":");u===-1?a.ruleId=r:(a.source=r.slice(0,u),a.ruleId=r.slice(u+1))}if(!a.place&&a.ancestors&&a.ancestors){const u=a.ancestors[a.ancestors.length-1];u&&(a.place=u.position)}const c=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=c?c.line:void 0,this.name=$f(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=o&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}zr.prototype.file="";zr.prototype.name="";zr.prototype.reason="";zr.prototype.message="";zr.prototype.stack="";zr.prototype.column=void 0;zr.prototype.line=void 0;zr.prototype.ancestors=void 0;zr.prototype.cause=void 0;zr.prototype.fatal=void 0;zr.prototype.place=void 0;zr.prototype.ruleId=void 0;zr.prototype.source=void 0;const b1={}.hasOwnProperty,ore=new Map,lre=/[A-Z]/g,cre=new Set(["table","tbody","thead","tfoot","tr"]),ure=new Set(["td","th"]),k5="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function dre(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=vre(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=yre(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?y1:Xne,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},a=C5(i,t,void 0);return a&&typeof a!="string"?a:i.create(t,i.Fragment,{children:a||void 0},void 0)}function C5(t,e,n){if(e.type==="element")return hre(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return fre(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return pre(t,e,n);if(e.type==="mdxjsEsm")return mre(t,e);if(e.type==="root")return gre(t,e,n);if(e.type==="text")return xre(t,e)}function hre(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=y1,t.schema=i),t.ancestors.push(e);const a=T5(t,e.tagName,!1),o=bre(t,e);let c=j1(t,e);return cre.has(e.tagName)&&(c=c.filter(function(u){return typeof u=="string"?!Bne(u):!0})),A5(t,o,a,e),w1(o,c),t.ancestors.pop(),t.schema=r,t.create(e,a,o,n)}function fre(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}gm(t,e.position)}function mre(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);gm(t,e.position)}function pre(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=y1,t.schema=i),t.ancestors.push(e);const a=e.name===null?t.Fragment:T5(t,e.name,!0),o=wre(t,e),c=j1(t,e);return A5(t,o,a,e),w1(o,c),t.ancestors.pop(),t.schema=r,t.create(e,a,o,n)}function gre(t,e,n){const r={};return w1(r,j1(t,e)),t.create(e,t.Fragment,r,n)}function xre(t,e){return e.value}function A5(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function w1(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function yre(t,e,n){return r;function r(i,a,o,c){const h=Array.isArray(o.children)?n:e;return c?h(a,o,c):h(a,o)}}function vre(t,e){return n;function n(r,i,a,o){const c=Array.isArray(a.children),u=v1(r);return e(i,a,o,c,{columnNumber:u?u.column-1:void 0,fileName:t,lineNumber:u?u.line:void 0},void 0)}}function bre(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&b1.call(e.properties,i)){const a=jre(t,i,e.properties[i]);if(a){const[o,c]=a;t.tableCellAlignToStyle&&o==="align"&&typeof c=="string"&&ure.has(e.tagName)?r=c:n[o]=c}}if(r){const a=n.style||(n.style={});a[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function wre(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const a=r.data.estree.body[0];a.type;const o=a.expression;o.type;const c=o.properties[0];c.type,Object.assign(n,t.evaluater.evaluateExpression(c.argument))}else gm(t,e.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const c=r.value.data.estree.body[0];c.type,a=t.evaluater.evaluateExpression(c.expression)}else gm(t,e.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function j1(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:ore;for(;++r<e.children.length;){const a=e.children[r];let o;if(t.passKeys){const u=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(u){const h=i.get(u)||0;o=u+"-"+h,i.set(u,h+1)}}const c=C5(t,a,o);c!==void 0&&n.push(c)}return n}function jre(t,e,n){const r=Qne(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?Lne(n):Zne(n)),r.property==="style"){let i=typeof n=="object"?n:_re(t,String(n));return t.stylePropertyNameCase==="css"&&(i=Nre(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?Wne[r.property]||r.property:r.attribute,n]}}function _re(t,e){try{return ire(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new zr("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=k5+"#cannot-parse-style-attribute",i}}function T5(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let a=-1,o;for(;++a<i.length;){const c=W2(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};o=o?{type:"MemberExpression",object:o,property:c,computed:!!(a&&c.type==="Literal"),optional:!1}:c}r=o}else r=W2(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return b1.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);gm(t)}function gm(t,e){const n=new zr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=k5+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Nre(t){const e={};let n;for(n in t)b1.call(t,n)&&(e[Sre(n)]=t[n]);return e}function Sre(t){let e=t.replace(lre,Ere);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function Ere(t){return"-"+t.toLowerCase()}const $b={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},kre={};function Cre(t,e){const n=kre,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return R5(t,r,i)}function R5(t,e,n){if(Are(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return nT(t.children,e,n)}return Array.isArray(t)?nT(t,e,n):""}function nT(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=R5(t[i],e,n);return r.join("")}function Are(t){return!!(t&&typeof t=="object")}const rT=document.createElement("i");function _1(t){const e="&"+t+";";rT.innerHTML=e;const n=rT.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Ca(t,e,n,r){const i=t.length;let a=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(e,n),t.splice(...o);else for(n&&t.splice(e,n);a<r.length;)o=r.slice(a,a+1e4),o.unshift(e,0),t.splice(...o),a+=1e4,e+=1e4}function ui(t,e){return t.length>0?(Ca(t,t.length,0,e),t):e}const sT={}.hasOwnProperty;function Tre(t){const e={};let n=-1;for(;++n<t.length;)Rre(e,t[n]);return e}function Rre(t,e){let n;for(n in e){const i=(sT.call(t,n)?t[n]:void 0)||(t[n]={}),a=e[n];let o;if(a)for(o in a){sT.call(i,o)||(i[o]=[]);const c=a[o];Ire(i[o],Array.isArray(c)?c:c?[c]:[])}}}function Ire(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Ca(t,0,0,r)}function I5(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function bd(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const fa=Fl(/[A-Za-z]/),Hs=Fl(/[\dA-Za-z]/),Pre=Fl(/[#-'*+\--9=?A-Z^-~]/);function Wj(t){return t!==null&&(t<32||t===127)}const Kj=Fl(/\d/),Ore=Fl(/[\dA-Fa-f]/),Mre=Fl(/[!-/:-@[-`{-~]/);function _t(t){return t!==null&&t<-2}function Ns(t){return t!==null&&(t<0||t===32)}function nn(t){return t===-2||t===-1||t===32}const Dre=Fl(new RegExp("\\p{P}|\\p{S}","u")),Lre=Fl(/\s/);function Fl(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function jh(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const a=t.charCodeAt(n);let o="";if(a===37&&Hs(t.charCodeAt(n+1))&&Hs(t.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(o=String.fromCharCode(a));else if(a>55295&&a<57344){const c=t.charCodeAt(n+1);a<56320&&c>56319&&c<57344?(o=String.fromCharCode(a,c),i=1):o=""}else o=String.fromCharCode(a);o&&(e.push(t.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function gn(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return o;function o(u){return nn(u)?(t.enter(n),c(u)):e(u)}function c(u){return nn(u)&&a++<i?(t.consume(u),c):(t.exit(n),e(u))}}const Fre={tokenize:Vre};function Vre(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(c){if(c===null){t.consume(c);return}return t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),gn(t,e,"linePrefix")}function i(c){return t.enter("paragraph"),a(c)}function a(c){const u=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,o(c)}function o(c){if(c===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(c);return}return _t(c)?(t.consume(c),t.exit("chunkText"),a):(t.consume(c),o)}}const Ure={tokenize:$re},iT={tokenize:Bre};function $re(t){const e=this,n=[];let r=0,i,a,o;return c;function c(k){if(r<n.length){const C=n[r];return e.containerState=C[1],t.attempt(C[0].continuation,u,h)(k)}return h(k)}function u(k){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&S();const C=e.events.length;let R=C,O;for(;R--;)if(e.events[R][0]==="exit"&&e.events[R][1].type==="chunkFlow"){O=e.events[R][1].end;break}N(r);let A=C;for(;A<e.events.length;)e.events[A][1].end={...O},A++;return Ca(e.events,R+1,0,e.events.slice(C)),e.events.length=A,h(k)}return c(k)}function h(k){if(r===n.length){if(!i)return g(k);if(i.currentConstruct&&i.currentConstruct.concrete)return _(k);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(iT,f,m)(k)}function f(k){return i&&S(),N(r),g(k)}function m(k){return e.parser.lazy[e.now().line]=r!==n.length,o=e.now().offset,_(k)}function g(k){return e.containerState={},t.attempt(iT,x,_)(k)}function x(k){return r++,n.push([e.currentConstruct,e.containerState]),g(k)}function _(k){if(k===null){i&&S(),N(0),t.consume(k);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),w(k)}function w(k){if(k===null){j(t.exit("chunkFlow"),!0),N(0),t.consume(k);return}return _t(k)?(t.consume(k),j(t.exit("chunkFlow")),r=0,e.interrupt=void 0,c):(t.consume(k),w)}function j(k,C){const R=e.sliceStream(k);if(C&&R.push(null),k.previous=a,a&&(a.next=k),a=k,i.defineSkip(k.start),i.write(R),e.parser.lazy[k.start.line]){let O=i.events.length;for(;O--;)if(i.events[O][1].start.offset<o&&(!i.events[O][1].end||i.events[O][1].end.offset>o))return;const A=e.events.length;let M=A,P,F;for(;M--;)if(e.events[M][0]==="exit"&&e.events[M][1].type==="chunkFlow"){if(P){F=e.events[M][1].end;break}P=!0}for(N(r),O=A;O<e.events.length;)e.events[O][1].end={...F},O++;Ca(e.events,M+1,0,e.events.slice(A)),e.events.length=O}}function N(k){let C=n.length;for(;C-- >k;){const R=n[C];e.containerState=R[1],R[0].exit.call(e,t)}n.length=k}function S(){i.write([null]),a=void 0,i=void 0,e.containerState._closeFlow=void 0}}function Bre(t,e,n){return gn(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function aT(t){if(t===null||Ns(t)||Lre(t))return 1;if(Dre(t))return 2}function N1(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const a=t[i].resolveAll;a&&!r.includes(a)&&(e=a(e,n),r.push(a))}return e}const Gj={name:"attention",resolveAll:zre,tokenize:qre};function zre(t,e){let n=-1,r,i,a,o,c,u,h,f;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;u=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const m={...t[r][1].end},g={...t[n][1].start};oT(m,-u),oT(g,u),o={type:u>1?"strongSequence":"emphasisSequence",start:m,end:{...t[r][1].end}},c={type:u>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:g},a={type:u>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:u>1?"strong":"emphasis",start:{...o.start},end:{...c.end}},t[r][1].end={...o.start},t[n][1].start={...c.end},h=[],t[r][1].end.offset-t[r][1].start.offset&&(h=ui(h,[["enter",t[r][1],e],["exit",t[r][1],e]])),h=ui(h,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",a,e]]),h=ui(h,N1(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),h=ui(h,[["exit",a,e],["enter",c,e],["exit",c,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(f=2,h=ui(h,[["enter",t[n][1],e],["exit",t[n][1],e]])):f=0,Ca(t,r-1,n-r+3,h),n=r+h.length-f-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function qre(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=aT(r);let a;return o;function o(u){return a=u,t.enter("attentionSequence"),c(u)}function c(u){if(u===a)return t.consume(u),c;const h=t.exit("attentionSequence"),f=aT(u),m=!f||f===2&&i||n.includes(u),g=!i||i===2&&f||n.includes(r);return h._open=!!(a===42?m:m&&(i||!g)),h._close=!!(a===42?g:g&&(f||!m)),e(u)}}function oT(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const Hre={name:"autolink",tokenize:Wre};function Wre(t,e,n){let r=0;return i;function i(x){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(x),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),a}function a(x){return fa(x)?(t.consume(x),o):x===64?n(x):h(x)}function o(x){return x===43||x===45||x===46||Hs(x)?(r=1,c(x)):h(x)}function c(x){return x===58?(t.consume(x),r=0,u):(x===43||x===45||x===46||Hs(x))&&r++<32?(t.consume(x),c):(r=0,h(x))}function u(x){return x===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(x),t.exit("autolinkMarker"),t.exit("autolink"),e):x===null||x===32||x===60||Wj(x)?n(x):(t.consume(x),u)}function h(x){return x===64?(t.consume(x),f):Pre(x)?(t.consume(x),h):n(x)}function f(x){return Hs(x)?m(x):n(x)}function m(x){return x===46?(t.consume(x),r=0,f):x===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(x),t.exit("autolinkMarker"),t.exit("autolink"),e):g(x)}function g(x){if((x===45||Hs(x))&&r++<63){const _=x===45?g:m;return t.consume(x),_}return n(x)}}const By={partial:!0,tokenize:Kre};function Kre(t,e,n){return r;function r(a){return nn(a)?gn(t,i,"linePrefix")(a):i(a)}function i(a){return a===null||_t(a)?e(a):n(a)}}const P5={continuation:{tokenize:Qre},exit:Jre,name:"blockQuote",tokenize:Gre};function Gre(t,e,n){const r=this;return i;function i(o){if(o===62){const c=r.containerState;return c.open||(t.enter("blockQuote",{_container:!0}),c.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),a}return n(o)}function a(o){return nn(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function Qre(t,e,n){const r=this;return i;function i(o){return nn(o)?gn(t,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):a(o)}function a(o){return t.attempt(P5,e,n)(o)}}function Jre(t){t.exit("blockQuote")}const O5={name:"characterEscape",tokenize:Yre};function Yre(t,e,n){return r;function r(a){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(a),t.exit("escapeMarker"),i}function i(a){return Mre(a)?(t.enter("characterEscapeValue"),t.consume(a),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(a)}}const M5={name:"characterReference",tokenize:Xre};function Xre(t,e,n){const r=this;let i=0,a,o;return c;function c(m){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(m),t.exit("characterReferenceMarker"),u}function u(m){return m===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(m),t.exit("characterReferenceMarkerNumeric"),h):(t.enter("characterReferenceValue"),a=31,o=Hs,f(m))}function h(m){return m===88||m===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(m),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),a=6,o=Ore,f):(t.enter("characterReferenceValue"),a=7,o=Kj,f(m))}function f(m){if(m===59&&i){const g=t.exit("characterReferenceValue");return o===Hs&&!_1(r.sliceSerialize(g))?n(m):(t.enter("characterReferenceMarker"),t.consume(m),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return o(m)&&i++<a?(t.consume(m),f):n(m)}}const lT={partial:!0,tokenize:ese},cT={concrete:!0,name:"codeFenced",tokenize:Zre};function Zre(t,e,n){const r=this,i={partial:!0,tokenize:R};let a=0,o=0,c;return u;function u(O){return h(O)}function h(O){const A=r.events[r.events.length-1];return a=A&&A[1].type==="linePrefix"?A[2].sliceSerialize(A[1],!0).length:0,c=O,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),f(O)}function f(O){return O===c?(o++,t.consume(O),f):o<3?n(O):(t.exit("codeFencedFenceSequence"),nn(O)?gn(t,m,"whitespace")(O):m(O))}function m(O){return O===null||_t(O)?(t.exit("codeFencedFence"),r.interrupt?e(O):t.check(lT,w,C)(O)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),g(O))}function g(O){return O===null||_t(O)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),m(O)):nn(O)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),gn(t,x,"whitespace")(O)):O===96&&O===c?n(O):(t.consume(O),g)}function x(O){return O===null||_t(O)?m(O):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),_(O))}function _(O){return O===null||_t(O)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),m(O)):O===96&&O===c?n(O):(t.consume(O),_)}function w(O){return t.attempt(i,C,j)(O)}function j(O){return t.enter("lineEnding"),t.consume(O),t.exit("lineEnding"),N}function N(O){return a>0&&nn(O)?gn(t,S,"linePrefix",a+1)(O):S(O)}function S(O){return O===null||_t(O)?t.check(lT,w,C)(O):(t.enter("codeFlowValue"),k(O))}function k(O){return O===null||_t(O)?(t.exit("codeFlowValue"),S(O)):(t.consume(O),k)}function C(O){return t.exit("codeFenced"),e(O)}function R(O,A,M){let P=0;return F;function F(ee){return O.enter("lineEnding"),O.consume(ee),O.exit("lineEnding"),L}function L(ee){return O.enter("codeFencedFence"),nn(ee)?gn(O,D,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ee):D(ee)}function D(ee){return ee===c?(O.enter("codeFencedFenceSequence"),V(ee)):M(ee)}function V(ee){return ee===c?(P++,O.consume(ee),V):P>=o?(O.exit("codeFencedFenceSequence"),nn(ee)?gn(O,G,"whitespace")(ee):G(ee)):M(ee)}function G(ee){return ee===null||_t(ee)?(O.exit("codeFencedFence"),A(ee)):M(ee)}}}function ese(t,e,n){const r=this;return i;function i(o){return o===null?n(o):(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),a)}function a(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}const Bb={name:"codeIndented",tokenize:nse},tse={partial:!0,tokenize:rse};function nse(t,e,n){const r=this;return i;function i(h){return t.enter("codeIndented"),gn(t,a,"linePrefix",5)(h)}function a(h){const f=r.events[r.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?o(h):n(h)}function o(h){return h===null?u(h):_t(h)?t.attempt(tse,o,u)(h):(t.enter("codeFlowValue"),c(h))}function c(h){return h===null||_t(h)?(t.exit("codeFlowValue"),o(h)):(t.consume(h),c)}function u(h){return t.exit("codeIndented"),e(h)}}function rse(t,e,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):_t(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i):gn(t,a,"linePrefix",5)(o)}function a(o){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(o):_t(o)?i(o):n(o)}}const sse={name:"codeText",previous:ase,resolve:ise,tokenize:ose};function ise(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function ase(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function ose(t,e,n){let r=0,i,a;return o;function o(m){return t.enter("codeText"),t.enter("codeTextSequence"),c(m)}function c(m){return m===96?(t.consume(m),r++,c):(t.exit("codeTextSequence"),u(m))}function u(m){return m===null?n(m):m===32?(t.enter("space"),t.consume(m),t.exit("space"),u):m===96?(a=t.enter("codeTextSequence"),i=0,f(m)):_t(m)?(t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),u):(t.enter("codeTextData"),h(m))}function h(m){return m===null||m===32||m===96||_t(m)?(t.exit("codeTextData"),u(m)):(t.consume(m),h)}function f(m){return m===96?(t.consume(m),i++,f):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(m)):(a.type="codeTextData",h(m))}}class lse{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&bf(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),bf(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),bf(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);bf(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);bf(this.left,n.reverse())}}}function bf(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function D5(t){const e={};let n=-1,r,i,a,o,c,u,h;const f=new lse(t);for(;++n<f.length;){for(;n in e;)n=e[n];if(r=f.get(n),n&&r[1].type==="chunkFlow"&&f.get(n-1)[1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,a=0,a<u.length&&u[a][1].type==="lineEndingBlank"&&(a+=2),a<u.length&&u[a][1].type==="content"))for(;++a<u.length&&u[a][1].type!=="content";)u[a][1].type==="chunkText"&&(u[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,cse(f,n)),n=e[n],h=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(o=f.get(a),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(f.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=a);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...f.get(i)[1].start},c=f.slice(i,n),c.unshift(r),f.splice(i,n-i+1,c))}}return Ca(t,0,Number.POSITIVE_INFINITY,f.slice(0)),!h}function cse(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const a=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const c=o.events,u=[],h={};let f,m,g=-1,x=n,_=0,w=0;const j=[w];for(;x;){for(;t.get(++i)[1]!==x;);a.push(i),x._tokenizer||(f=r.sliceStream(x),x.next||f.push(null),m&&o.defineSkip(x.start),x._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(f),x._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),m=x,x=x.next}for(x=n;++g<c.length;)c[g][0]==="exit"&&c[g-1][0]==="enter"&&c[g][1].type===c[g-1][1].type&&c[g][1].start.line!==c[g][1].end.line&&(w=g+1,j.push(w),x._tokenizer=void 0,x.previous=void 0,x=x.next);for(o.events=[],x?(x._tokenizer=void 0,x.previous=void 0):j.pop(),g=j.length;g--;){const N=c.slice(j[g],j[g+1]),S=a.pop();u.push([S,S+N.length-1]),t.splice(S,2,N)}for(u.reverse(),g=-1;++g<u.length;)h[_+u[g][0]]=_+u[g][1],_+=u[g][1]-u[g][0]-1;return h}const use={resolve:hse,tokenize:fse},dse={partial:!0,tokenize:mse};function hse(t){return D5(t),t}function fse(t,e){let n;return r;function r(c){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(c)}function i(c){return c===null?a(c):_t(c)?t.check(dse,o,a)(c):(t.consume(c),i)}function a(c){return t.exit("chunkContent"),t.exit("content"),e(c)}function o(c){return t.consume(c),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function mse(t,e,n){const r=this;return i;function i(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),gn(t,a,"linePrefix")}function a(o){if(o===null||_t(o))return n(o);const c=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(o):t.interrupt(r.parser.constructs.flow,n,e)(o)}}function L5(t,e,n,r,i,a,o,c,u){const h=u||Number.POSITIVE_INFINITY;let f=0;return m;function m(N){return N===60?(t.enter(r),t.enter(i),t.enter(a),t.consume(N),t.exit(a),g):N===null||N===32||N===41||Wj(N)?n(N):(t.enter(r),t.enter(o),t.enter(c),t.enter("chunkString",{contentType:"string"}),w(N))}function g(N){return N===62?(t.enter(a),t.consume(N),t.exit(a),t.exit(i),t.exit(r),e):(t.enter(c),t.enter("chunkString",{contentType:"string"}),x(N))}function x(N){return N===62?(t.exit("chunkString"),t.exit(c),g(N)):N===null||N===60||_t(N)?n(N):(t.consume(N),N===92?_:x)}function _(N){return N===60||N===62||N===92?(t.consume(N),x):x(N)}function w(N){return!f&&(N===null||N===41||Ns(N))?(t.exit("chunkString"),t.exit(c),t.exit(o),t.exit(r),e(N)):f<h&&N===40?(t.consume(N),f++,w):N===41?(t.consume(N),f--,w):N===null||N===32||N===40||Wj(N)?n(N):(t.consume(N),N===92?j:w)}function j(N){return N===40||N===41||N===92?(t.consume(N),w):w(N)}}function F5(t,e,n,r,i,a){const o=this;let c=0,u;return h;function h(x){return t.enter(r),t.enter(i),t.consume(x),t.exit(i),t.enter(a),f}function f(x){return c>999||x===null||x===91||x===93&&!u||x===94&&!c&&"_hiddenFootnoteSupport"in o.parser.constructs?n(x):x===93?(t.exit(a),t.enter(i),t.consume(x),t.exit(i),t.exit(r),e):_t(x)?(t.enter("lineEnding"),t.consume(x),t.exit("lineEnding"),f):(t.enter("chunkString",{contentType:"string"}),m(x))}function m(x){return x===null||x===91||x===93||_t(x)||c++>999?(t.exit("chunkString"),f(x)):(t.consume(x),u||(u=!nn(x)),x===92?g:m)}function g(x){return x===91||x===92||x===93?(t.consume(x),c++,m):m(x)}}function V5(t,e,n,r,i,a){let o;return c;function c(g){return g===34||g===39||g===40?(t.enter(r),t.enter(i),t.consume(g),t.exit(i),o=g===40?41:g,u):n(g)}function u(g){return g===o?(t.enter(i),t.consume(g),t.exit(i),t.exit(r),e):(t.enter(a),h(g))}function h(g){return g===o?(t.exit(a),u(o)):g===null?n(g):_t(g)?(t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),gn(t,h,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),f(g))}function f(g){return g===o||g===null||_t(g)?(t.exit("chunkString"),h(g)):(t.consume(g),g===92?m:f)}function m(g){return g===o||g===92?(t.consume(g),f):f(g)}}function Bf(t,e){let n;return r;function r(i){return _t(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):nn(i)?gn(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const pse={name:"definition",tokenize:xse},gse={partial:!0,tokenize:yse};function xse(t,e,n){const r=this;let i;return a;function a(x){return t.enter("definition"),o(x)}function o(x){return F5.call(r,t,c,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(x)}function c(x){return i=bd(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),x===58?(t.enter("definitionMarker"),t.consume(x),t.exit("definitionMarker"),u):n(x)}function u(x){return Ns(x)?Bf(t,h)(x):h(x)}function h(x){return L5(t,f,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(x)}function f(x){return t.attempt(gse,m,m)(x)}function m(x){return nn(x)?gn(t,g,"whitespace")(x):g(x)}function g(x){return x===null||_t(x)?(t.exit("definition"),r.parser.defined.push(i),e(x)):n(x)}}function yse(t,e,n){return r;function r(c){return Ns(c)?Bf(t,i)(c):n(c)}function i(c){return V5(t,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function a(c){return nn(c)?gn(t,o,"whitespace")(c):o(c)}function o(c){return c===null||_t(c)?e(c):n(c)}}const vse={name:"hardBreakEscape",tokenize:bse};function bse(t,e,n){return r;function r(a){return t.enter("hardBreakEscape"),t.consume(a),i}function i(a){return _t(a)?(t.exit("hardBreakEscape"),e(a)):n(a)}}const wse={name:"headingAtx",resolve:jse,tokenize:_se};function jse(t,e){let n=t.length-2,r=3,i,a;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},a={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Ca(t,r,n-r+1,[["enter",i,e],["enter",a,e],["exit",a,e],["exit",i,e]])),t}function _se(t,e,n){let r=0;return i;function i(f){return t.enter("atxHeading"),a(f)}function a(f){return t.enter("atxHeadingSequence"),o(f)}function o(f){return f===35&&r++<6?(t.consume(f),o):f===null||Ns(f)?(t.exit("atxHeadingSequence"),c(f)):n(f)}function c(f){return f===35?(t.enter("atxHeadingSequence"),u(f)):f===null||_t(f)?(t.exit("atxHeading"),e(f)):nn(f)?gn(t,c,"whitespace")(f):(t.enter("atxHeadingText"),h(f))}function u(f){return f===35?(t.consume(f),u):(t.exit("atxHeadingSequence"),c(f))}function h(f){return f===null||f===35||Ns(f)?(t.exit("atxHeadingText"),c(f)):(t.consume(f),h)}}const Nse=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],uT=["pre","script","style","textarea"],Sse={concrete:!0,name:"htmlFlow",resolveTo:Cse,tokenize:Ase},Ese={partial:!0,tokenize:Rse},kse={partial:!0,tokenize:Tse};function Cse(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function Ase(t,e,n){const r=this;let i,a,o,c,u;return h;function h(q){return f(q)}function f(q){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(q),m}function m(q){return q===33?(t.consume(q),g):q===47?(t.consume(q),a=!0,w):q===63?(t.consume(q),i=3,r.interrupt?e:B):fa(q)?(t.consume(q),o=String.fromCharCode(q),j):n(q)}function g(q){return q===45?(t.consume(q),i=2,x):q===91?(t.consume(q),i=5,c=0,_):fa(q)?(t.consume(q),i=4,r.interrupt?e:B):n(q)}function x(q){return q===45?(t.consume(q),r.interrupt?e:B):n(q)}function _(q){const ye="CDATA[";return q===ye.charCodeAt(c++)?(t.consume(q),c===ye.length?r.interrupt?e:D:_):n(q)}function w(q){return fa(q)?(t.consume(q),o=String.fromCharCode(q),j):n(q)}function j(q){if(q===null||q===47||q===62||Ns(q)){const ye=q===47,_e=o.toLowerCase();return!ye&&!a&&uT.includes(_e)?(i=1,r.interrupt?e(q):D(q)):Nse.includes(o.toLowerCase())?(i=6,ye?(t.consume(q),N):r.interrupt?e(q):D(q)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(q):a?S(q):k(q))}return q===45||Hs(q)?(t.consume(q),o+=String.fromCharCode(q),j):n(q)}function N(q){return q===62?(t.consume(q),r.interrupt?e:D):n(q)}function S(q){return nn(q)?(t.consume(q),S):F(q)}function k(q){return q===47?(t.consume(q),F):q===58||q===95||fa(q)?(t.consume(q),C):nn(q)?(t.consume(q),k):F(q)}function C(q){return q===45||q===46||q===58||q===95||Hs(q)?(t.consume(q),C):R(q)}function R(q){return q===61?(t.consume(q),O):nn(q)?(t.consume(q),R):k(q)}function O(q){return q===null||q===60||q===61||q===62||q===96?n(q):q===34||q===39?(t.consume(q),u=q,A):nn(q)?(t.consume(q),O):M(q)}function A(q){return q===u?(t.consume(q),u=null,P):q===null||_t(q)?n(q):(t.consume(q),A)}function M(q){return q===null||q===34||q===39||q===47||q===60||q===61||q===62||q===96||Ns(q)?R(q):(t.consume(q),M)}function P(q){return q===47||q===62||nn(q)?k(q):n(q)}function F(q){return q===62?(t.consume(q),L):n(q)}function L(q){return q===null||_t(q)?D(q):nn(q)?(t.consume(q),L):n(q)}function D(q){return q===45&&i===2?(t.consume(q),ae):q===60&&i===1?(t.consume(q),ue):q===62&&i===4?(t.consume(q),z):q===63&&i===3?(t.consume(q),B):q===93&&i===5?(t.consume(q),K):_t(q)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(Ese,X,V)(q)):q===null||_t(q)?(t.exit("htmlFlowData"),V(q)):(t.consume(q),D)}function V(q){return t.check(kse,G,X)(q)}function G(q){return t.enter("lineEnding"),t.consume(q),t.exit("lineEnding"),ee}function ee(q){return q===null||_t(q)?V(q):(t.enter("htmlFlowData"),D(q))}function ae(q){return q===45?(t.consume(q),B):D(q)}function ue(q){return q===47?(t.consume(q),o="",Q):D(q)}function Q(q){if(q===62){const ye=o.toLowerCase();return uT.includes(ye)?(t.consume(q),z):D(q)}return fa(q)&&o.length<8?(t.consume(q),o+=String.fromCharCode(q),Q):D(q)}function K(q){return q===93?(t.consume(q),B):D(q)}function B(q){return q===62?(t.consume(q),z):q===45&&i===2?(t.consume(q),B):D(q)}function z(q){return q===null||_t(q)?(t.exit("htmlFlowData"),X(q)):(t.consume(q),z)}function X(q){return t.exit("htmlFlow"),e(q)}}function Tse(t,e,n){const r=this;return i;function i(o){return _t(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),a):n(o)}function a(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}function Rse(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(By,e,n)}}const Ise={name:"htmlText",tokenize:Pse};function Pse(t,e,n){const r=this;let i,a,o;return c;function c(B){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(B),u}function u(B){return B===33?(t.consume(B),h):B===47?(t.consume(B),R):B===63?(t.consume(B),k):fa(B)?(t.consume(B),M):n(B)}function h(B){return B===45?(t.consume(B),f):B===91?(t.consume(B),a=0,_):fa(B)?(t.consume(B),S):n(B)}function f(B){return B===45?(t.consume(B),x):n(B)}function m(B){return B===null?n(B):B===45?(t.consume(B),g):_t(B)?(o=m,ue(B)):(t.consume(B),m)}function g(B){return B===45?(t.consume(B),x):m(B)}function x(B){return B===62?ae(B):B===45?g(B):m(B)}function _(B){const z="CDATA[";return B===z.charCodeAt(a++)?(t.consume(B),a===z.length?w:_):n(B)}function w(B){return B===null?n(B):B===93?(t.consume(B),j):_t(B)?(o=w,ue(B)):(t.consume(B),w)}function j(B){return B===93?(t.consume(B),N):w(B)}function N(B){return B===62?ae(B):B===93?(t.consume(B),N):w(B)}function S(B){return B===null||B===62?ae(B):_t(B)?(o=S,ue(B)):(t.consume(B),S)}function k(B){return B===null?n(B):B===63?(t.consume(B),C):_t(B)?(o=k,ue(B)):(t.consume(B),k)}function C(B){return B===62?ae(B):k(B)}function R(B){return fa(B)?(t.consume(B),O):n(B)}function O(B){return B===45||Hs(B)?(t.consume(B),O):A(B)}function A(B){return _t(B)?(o=A,ue(B)):nn(B)?(t.consume(B),A):ae(B)}function M(B){return B===45||Hs(B)?(t.consume(B),M):B===47||B===62||Ns(B)?P(B):n(B)}function P(B){return B===47?(t.consume(B),ae):B===58||B===95||fa(B)?(t.consume(B),F):_t(B)?(o=P,ue(B)):nn(B)?(t.consume(B),P):ae(B)}function F(B){return B===45||B===46||B===58||B===95||Hs(B)?(t.consume(B),F):L(B)}function L(B){return B===61?(t.consume(B),D):_t(B)?(o=L,ue(B)):nn(B)?(t.consume(B),L):P(B)}function D(B){return B===null||B===60||B===61||B===62||B===96?n(B):B===34||B===39?(t.consume(B),i=B,V):_t(B)?(o=D,ue(B)):nn(B)?(t.consume(B),D):(t.consume(B),G)}function V(B){return B===i?(t.consume(B),i=void 0,ee):B===null?n(B):_t(B)?(o=V,ue(B)):(t.consume(B),V)}function G(B){return B===null||B===34||B===39||B===60||B===61||B===96?n(B):B===47||B===62||Ns(B)?P(B):(t.consume(B),G)}function ee(B){return B===47||B===62||Ns(B)?P(B):n(B)}function ae(B){return B===62?(t.consume(B),t.exit("htmlTextData"),t.exit("htmlText"),e):n(B)}function ue(B){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(B),t.exit("lineEnding"),Q}function Q(B){return nn(B)?gn(t,K,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(B):K(B)}function K(B){return t.enter("htmlTextData"),o(B)}}const S1={name:"labelEnd",resolveAll:Lse,resolveTo:Fse,tokenize:Vse},Ose={tokenize:Use},Mse={tokenize:$se},Dse={tokenize:Bse};function Lse(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&Ca(t,0,t.length,n),t}function Fse(t,e){let n=t.length,r=0,i,a,o,c;for(;n--;)if(i=t[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const u={type:t[a][1].type==="labelLink"?"link":"image",start:{...t[a][1].start},end:{...t[t.length-1][1].end}},h={type:"label",start:{...t[a][1].start},end:{...t[o][1].end}},f={type:"labelText",start:{...t[a+r+2][1].end},end:{...t[o-2][1].start}};return c=[["enter",u,e],["enter",h,e]],c=ui(c,t.slice(a+1,a+r+3)),c=ui(c,[["enter",f,e]]),c=ui(c,N1(e.parser.constructs.insideSpan.null,t.slice(a+r+4,o-3),e)),c=ui(c,[["exit",f,e],t[o-2],t[o-1],["exit",h,e]]),c=ui(c,t.slice(o+1)),c=ui(c,[["exit",u,e]]),Ca(t,a,t.length,c),t}function Vse(t,e,n){const r=this;let i=r.events.length,a,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return c;function c(g){return a?a._inactive?m(g):(o=r.parser.defined.includes(bd(r.sliceSerialize({start:a.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(g),t.exit("labelMarker"),t.exit("labelEnd"),u):n(g)}function u(g){return g===40?t.attempt(Ose,f,o?f:m)(g):g===91?t.attempt(Mse,f,o?h:m)(g):o?f(g):m(g)}function h(g){return t.attempt(Dse,f,m)(g)}function f(g){return e(g)}function m(g){return a._balanced=!0,n(g)}}function Use(t,e,n){return r;function r(m){return t.enter("resource"),t.enter("resourceMarker"),t.consume(m),t.exit("resourceMarker"),i}function i(m){return Ns(m)?Bf(t,a)(m):a(m)}function a(m){return m===41?f(m):L5(t,o,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(m)}function o(m){return Ns(m)?Bf(t,u)(m):f(m)}function c(m){return n(m)}function u(m){return m===34||m===39||m===40?V5(t,h,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(m):f(m)}function h(m){return Ns(m)?Bf(t,f)(m):f(m)}function f(m){return m===41?(t.enter("resourceMarker"),t.consume(m),t.exit("resourceMarker"),t.exit("resource"),e):n(m)}}function $se(t,e,n){const r=this;return i;function i(c){return F5.call(r,t,a,o,"reference","referenceMarker","referenceString")(c)}function a(c){return r.parser.defined.includes(bd(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(c):n(c)}function o(c){return n(c)}}function Bse(t,e,n){return r;function r(a){return t.enter("reference"),t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),i}function i(a){return a===93?(t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),t.exit("reference"),e):n(a)}}const zse={name:"labelStartImage",resolveAll:S1.resolveAll,tokenize:qse};function qse(t,e,n){const r=this;return i;function i(c){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(c),t.exit("labelImageMarker"),a}function a(c){return c===91?(t.enter("labelMarker"),t.consume(c),t.exit("labelMarker"),t.exit("labelImage"),o):n(c)}function o(c){return c===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(c):e(c)}}const Hse={name:"labelStartLink",resolveAll:S1.resolveAll,tokenize:Wse};function Wse(t,e,n){const r=this;return i;function i(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),a}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const zb={name:"lineEnding",tokenize:Kse};function Kse(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),gn(t,e,"linePrefix")}}const cx={name:"thematicBreak",tokenize:Gse};function Gse(t,e,n){let r=0,i;return a;function a(h){return t.enter("thematicBreak"),o(h)}function o(h){return i=h,c(h)}function c(h){return h===i?(t.enter("thematicBreakSequence"),u(h)):r>=3&&(h===null||_t(h))?(t.exit("thematicBreak"),e(h)):n(h)}function u(h){return h===i?(t.consume(h),r++,u):(t.exit("thematicBreakSequence"),nn(h)?gn(t,c,"whitespace")(h):c(h))}}const gs={continuation:{tokenize:Xse},exit:eie,name:"list",tokenize:Yse},Qse={partial:!0,tokenize:tie},Jse={partial:!0,tokenize:Zse};function Yse(t,e,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return c;function c(x){const _=r.containerState.type||(x===42||x===43||x===45?"listUnordered":"listOrdered");if(_==="listUnordered"?!r.containerState.marker||x===r.containerState.marker:Kj(x)){if(r.containerState.type||(r.containerState.type=_,t.enter(_,{_container:!0})),_==="listUnordered")return t.enter("listItemPrefix"),x===42||x===45?t.check(cx,n,h)(x):h(x);if(!r.interrupt||x===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),u(x)}return n(x)}function u(x){return Kj(x)&&++o<10?(t.consume(x),u):(!r.interrupt||o<2)&&(r.containerState.marker?x===r.containerState.marker:x===41||x===46)?(t.exit("listItemValue"),h(x)):n(x)}function h(x){return t.enter("listItemMarker"),t.consume(x),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||x,t.check(By,r.interrupt?n:f,t.attempt(Qse,g,m))}function f(x){return r.containerState.initialBlankLine=!0,a++,g(x)}function m(x){return nn(x)?(t.enter("listItemPrefixWhitespace"),t.consume(x),t.exit("listItemPrefixWhitespace"),g):n(x)}function g(x){return r.containerState.size=a+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(x)}}function Xse(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(By,i,a);function i(c){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,gn(t,e,"listItemIndent",r.containerState.size+1)(c)}function a(c){return r.containerState.furtherBlankLines||!nn(c)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(c)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(Jse,e,o)(c))}function o(c){return r.containerState._closeFlow=!0,r.interrupt=void 0,gn(t,t.attempt(gs,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}}function Zse(t,e,n){const r=this;return gn(t,i,"listItemIndent",r.containerState.size+1);function i(a){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(a):n(a)}}function eie(t){t.exit(this.containerState.type)}function tie(t,e,n){const r=this;return gn(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const o=r.events[r.events.length-1];return!nn(a)&&o&&o[1].type==="listItemPrefixWhitespace"?e(a):n(a)}}const dT={name:"setextUnderline",resolveTo:nie,tokenize:rie};function nie(t,e){let n=t.length,r,i,a;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!a&&t[n][1].type==="definition"&&(a=n);const o={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",a?(t.splice(i,0,["enter",o,e]),t.splice(a+1,0,["exit",t[r][1],e]),t[r][1].end={...t[a][1].end}):t[r][1]=o,t.push(["exit",o,e]),t}function rie(t,e,n){const r=this;let i;return a;function a(h){let f=r.events.length,m;for(;f--;)if(r.events[f][1].type!=="lineEnding"&&r.events[f][1].type!=="linePrefix"&&r.events[f][1].type!=="content"){m=r.events[f][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||m)?(t.enter("setextHeadingLine"),i=h,o(h)):n(h)}function o(h){return t.enter("setextHeadingLineSequence"),c(h)}function c(h){return h===i?(t.consume(h),c):(t.exit("setextHeadingLineSequence"),nn(h)?gn(t,u,"lineSuffix")(h):u(h))}function u(h){return h===null||_t(h)?(t.exit("setextHeadingLine"),e(h)):n(h)}}const sie={tokenize:iie};function iie(t){const e=this,n=t.attempt(By,r,t.attempt(this.parser.constructs.flowInitial,i,gn(t,t.attempt(this.parser.constructs.flow,i,t.attempt(use,i)),"linePrefix")));return n;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEndingBlank"),t.consume(a),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const aie={resolveAll:$5()},oie=U5("string"),lie=U5("text");function U5(t){return{resolveAll:$5(t==="text"?cie:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],a=n.attempt(i,o,c);return o;function o(f){return h(f)?a(f):c(f)}function c(f){if(f===null){n.consume(f);return}return n.enter("data"),n.consume(f),u}function u(f){return h(f)?(n.exit("data"),a(f)):(n.consume(f),u)}function h(f){if(f===null)return!0;const m=i[f];let g=-1;if(m)for(;++g<m.length;){const x=m[g];if(!x.previous||x.previous.call(r,r.previous))return!0}return!1}}}function $5(t){return e;function e(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return t?t(n,r):n}}function cie(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let a=i.length,o=-1,c=0,u;for(;a--;){const h=i[a];if(typeof h=="string"){for(o=h.length;h.charCodeAt(o-1)===32;)c++,o--;if(o)break;o=-1}else if(h===-2)u=!0,c++;else if(h!==-1){a++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(c=0),c){const h={type:n===t.length||u||c<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?o:r.start._bufferIndex+o,_index:r.start._index+a,line:r.end.line,column:r.end.column-c,offset:r.end.offset-c},end:{...r.end}};r.end={...h.start},r.start.offset===r.end.offset?Object.assign(r,h):(t.splice(n,0,["enter",h,e],["exit",h,e]),n+=2)}n++}return t}const uie={42:gs,43:gs,45:gs,48:gs,49:gs,50:gs,51:gs,52:gs,53:gs,54:gs,55:gs,56:gs,57:gs,62:P5},die={91:pse},hie={[-2]:Bb,[-1]:Bb,32:Bb},fie={35:wse,42:cx,45:[dT,cx],60:Sse,61:dT,95:cx,96:cT,126:cT},mie={38:M5,92:O5},pie={[-5]:zb,[-4]:zb,[-3]:zb,33:zse,38:M5,42:Gj,60:[Hre,Ise],91:Hse,92:[vse,O5],93:S1,95:Gj,96:sse},gie={null:[Gj,aie]},xie={null:[42,95]},yie={null:[]},vie=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:xie,contentInitial:die,disable:yie,document:uie,flow:fie,flowInitial:hie,insideSpan:gie,string:mie,text:pie},Symbol.toStringTag,{value:"Module"}));function bie(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let o=[],c=[];const u={attempt:A(R),check:A(O),consume:S,enter:k,exit:C,interrupt:A(O,{interrupt:!0})},h={code:null,containerState:{},defineSkip:w,events:[],now:_,parser:t,previous:null,sliceSerialize:g,sliceStream:x,write:m};let f=e.tokenize.call(h,u);return e.resolveAll&&a.push(e),h;function m(L){return o=ui(o,L),j(),o[o.length-1]!==null?[]:(M(e,0),h.events=N1(a,h.events,h),h.events)}function g(L,D){return jie(x(L),D)}function x(L){return wie(o,L)}function _(){const{_bufferIndex:L,_index:D,line:V,column:G,offset:ee}=r;return{_bufferIndex:L,_index:D,line:V,column:G,offset:ee}}function w(L){i[L.line]=L.column,F()}function j(){let L;for(;r._index<o.length;){const D=o[r._index];if(typeof D=="string")for(L=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===L&&r._bufferIndex<D.length;)N(D.charCodeAt(r._bufferIndex));else N(D)}}function N(L){f=f(L)}function S(L){_t(L)?(r.line++,r.column=1,r.offset+=L===-3?2:1,F()):L!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),h.previous=L}function k(L,D){const V=D||{};return V.type=L,V.start=_(),h.events.push(["enter",V,h]),c.push(V),V}function C(L){const D=c.pop();return D.end=_(),h.events.push(["exit",D,h]),D}function R(L,D){M(L,D.from)}function O(L,D){D.restore()}function A(L,D){return V;function V(G,ee,ae){let ue,Q,K,B;return Array.isArray(G)?X(G):"tokenize"in G?X([G]):z(G);function z(Ee){return ve;function ve(Fe){const Ie=Fe!==null&&Ee[Fe],ze=Fe!==null&&Ee.null,rt=[...Array.isArray(Ie)?Ie:Ie?[Ie]:[],...Array.isArray(ze)?ze:ze?[ze]:[]];return X(rt)(Fe)}}function X(Ee){return ue=Ee,Q=0,Ee.length===0?ae:q(Ee[Q])}function q(Ee){return ve;function ve(Fe){return B=P(),K=Ee,Ee.partial||(h.currentConstruct=Ee),Ee.name&&h.parser.constructs.disable.null.includes(Ee.name)?_e():Ee.tokenize.call(D?Object.assign(Object.create(h),D):h,u,ye,_e)(Fe)}}function ye(Ee){return L(K,B),ee}function _e(Ee){return B.restore(),++Q<ue.length?q(ue[Q]):ae}}}function M(L,D){L.resolveAll&&!a.includes(L)&&a.push(L),L.resolve&&Ca(h.events,D,h.events.length-D,L.resolve(h.events.slice(D),h)),L.resolveTo&&(h.events=L.resolveTo(h.events,h))}function P(){const L=_(),D=h.previous,V=h.currentConstruct,G=h.events.length,ee=Array.from(c);return{from:G,restore:ae};function ae(){r=L,h.previous=D,h.currentConstruct=V,h.events.length=G,c=ee,F()}}function F(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function wie(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,a=e.end._bufferIndex;let o;if(n===i)o=[t[n].slice(r,a)];else{if(o=t.slice(n,i),r>-1){const c=o[0];typeof c=="string"?o[0]=c.slice(r):o.shift()}a>0&&o.push(t[i].slice(0,a))}return o}function jie(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const a=t[n];let o;if(typeof a=="string")o=a;else switch(a){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(a)}i=a===-2,r.push(o)}return r.join("")}function _ie(t){const r={constructs:Tre([vie,...(t||{}).extensions||[]]),content:i(Fre),defined:[],document:i(Ure),flow:i(sie),lazy:{},string:i(oie),text:i(lie)};return r;function i(a){return o;function o(c){return bie(r,a,c)}}}function Nie(t){for(;!D5(t););return t}const hT=/[\0\t\n\r]/g;function Sie(){let t=1,e="",n=!0,r;return i;function i(a,o,c){const u=[];let h,f,m,g,x;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(o||void 0).decode(a)),m=0,e="",n&&(a.charCodeAt(0)===65279&&m++,n=void 0);m<a.length;){if(hT.lastIndex=m,h=hT.exec(a),g=h&&h.index!==void 0?h.index:a.length,x=a.charCodeAt(g),!h){e=a.slice(m);break}if(x===10&&m===g&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),m<g&&(u.push(a.slice(m,g)),t+=g-m),x){case 0:{u.push(65533),t++;break}case 9:{for(f=Math.ceil(t/4)*4,u.push(-2);t++<f;)u.push(-1);break}case 10:{u.push(-4),t=1;break}default:r=!0,t=1}m=g+1}return c&&(r&&u.push(-5),e&&u.push(e),u.push(null)),u}}const Eie=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function kie(t){return t.replace(Eie,Cie)}function Cie(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return I5(n.slice(a?2:1),a?16:10)}return _1(n)||t}const B5={}.hasOwnProperty;function Aie(t,e,n){return typeof e!="string"&&(n=e,e=void 0),Tie(n)(Nie(_ie(n).document().write(Sie()(t,e,!0))))}function Tie(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(kt),autolinkProtocol:P,autolinkEmail:P,atxHeading:a(Re),blockQuote:a(ze),characterEscape:P,characterReference:P,codeFenced:a(rt),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:a(rt,o),codeText:a(de,o),codeTextData:P,data:P,codeFlowValue:P,definition:a(se),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:a(ge),hardBreakEscape:a(Xe),hardBreakTrailing:a(Xe),htmlFlow:a(It,o),htmlFlowData:P,htmlText:a(It,o),htmlTextData:P,image:a(Ln),label:o,link:a(kt),listItem:a(Hn),listItemValue:g,listOrdered:a(qt,m),listUnordered:a(qt),paragraph:a(Gs),reference:q,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:a(Re),strong:a(is),thematicBreak:a(Ar)},exit:{atxHeading:u(),atxHeadingSequence:R,autolink:u(),autolinkEmail:Ie,autolinkProtocol:Fe,blockQuote:u(),characterEscapeValue:F,characterReferenceMarkerHexadecimal:_e,characterReferenceMarkerNumeric:_e,characterReferenceValue:Ee,characterReference:ve,codeFenced:u(j),codeFencedFence:w,codeFencedFenceInfo:x,codeFencedFenceMeta:_,codeFlowValue:F,codeIndented:u(N),codeText:u(ee),codeTextData:F,data:F,definition:u(),definitionDestinationString:C,definitionLabelString:S,definitionTitleString:k,emphasis:u(),hardBreakEscape:u(D),hardBreakTrailing:u(D),htmlFlow:u(V),htmlFlowData:F,htmlText:u(G),htmlTextData:F,image:u(ue),label:K,labelText:Q,lineEnding:L,link:u(ae),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:ye,resourceDestinationString:B,resourceTitleString:z,resource:X,setextHeading:u(M),setextHeadingLineSequence:A,setextHeadingText:O,strong:u(),thematicBreak:u()}};z5(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(xe){let Te={type:"root",children:[]};const ot={stack:[Te],tokenStack:[],config:e,enter:c,exit:h,buffer:o,resume:f,data:n},Tt=[];let Ft=-1;for(;++Ft<xe.length;)if(xe[Ft][1].type==="listOrdered"||xe[Ft][1].type==="listUnordered")if(xe[Ft][0]==="enter")Tt.push(Ft);else{const Rn=Tt.pop();Ft=i(xe,Rn,Ft)}for(Ft=-1;++Ft<xe.length;){const Rn=e[xe[Ft][0]];B5.call(Rn,xe[Ft][1].type)&&Rn[xe[Ft][1].type].call(Object.assign({sliceSerialize:xe[Ft][2].sliceSerialize},ot),xe[Ft][1])}if(ot.tokenStack.length>0){const Rn=ot.tokenStack[ot.tokenStack.length-1];(Rn[1]||fT).call(ot,void 0,Rn[0])}for(Te.position={start:Wo(xe.length>0?xe[0][1].start:{line:1,column:1,offset:0}),end:Wo(xe.length>0?xe[xe.length-2][1].end:{line:1,column:1,offset:0})},Ft=-1;++Ft<e.transforms.length;)Te=e.transforms[Ft](Te)||Te;return Te}function i(xe,Te,ot){let Tt=Te-1,Ft=-1,Rn=!1,as,Wn,qr,ks;for(;++Tt<=ot;){const cn=xe[Tt];switch(cn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{cn[0]==="enter"?Ft++:Ft--,ks=void 0;break}case"lineEndingBlank":{cn[0]==="enter"&&(as&&!ks&&!Ft&&!qr&&(qr=Tt),ks=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:ks=void 0}if(!Ft&&cn[0]==="enter"&&cn[1].type==="listItemPrefix"||Ft===-1&&cn[0]==="exit"&&(cn[1].type==="listUnordered"||cn[1].type==="listOrdered")){if(as){let Tr=Tt;for(Wn=void 0;Tr--;){const fe=xe[Tr];if(fe[1].type==="lineEnding"||fe[1].type==="lineEndingBlank"){if(fe[0]==="exit")continue;Wn&&(xe[Wn][1].type="lineEndingBlank",Rn=!0),fe[1].type="lineEnding",Wn=Tr}else if(!(fe[1].type==="linePrefix"||fe[1].type==="blockQuotePrefix"||fe[1].type==="blockQuotePrefixWhitespace"||fe[1].type==="blockQuoteMarker"||fe[1].type==="listItemIndent"))break}qr&&(!Wn||qr<Wn)&&(as._spread=!0),as.end=Object.assign({},Wn?xe[Wn][1].start:cn[1].end),xe.splice(Wn||Tt,0,["exit",as,cn[2]]),Tt++,ot++}if(cn[1].type==="listItemPrefix"){const Tr={type:"listItem",_spread:!1,start:Object.assign({},cn[1].start),end:void 0};as=Tr,xe.splice(Tt,0,["enter",Tr,cn[2]]),Tt++,ot++,qr=void 0,ks=!0}}}return xe[Te][1]._spread=Rn,ot}function a(xe,Te){return ot;function ot(Tt){c.call(this,xe(Tt),Tt),Te&&Te.call(this,Tt)}}function o(){this.stack.push({type:"fragment",children:[]})}function c(xe,Te,ot){this.stack[this.stack.length-1].children.push(xe),this.stack.push(xe),this.tokenStack.push([Te,ot||void 0]),xe.position={start:Wo(Te.start),end:void 0}}function u(xe){return Te;function Te(ot){xe&&xe.call(this,ot),h.call(this,ot)}}function h(xe,Te){const ot=this.stack.pop(),Tt=this.tokenStack.pop();if(Tt)Tt[0].type!==xe.type&&(Te?Te.call(this,xe,Tt[0]):(Tt[1]||fT).call(this,xe,Tt[0]));else throw new Error("Cannot close `"+xe.type+"` ("+$f({start:xe.start,end:xe.end})+"): its not open");ot.position.end=Wo(xe.end)}function f(){return Cre(this.stack.pop())}function m(){this.data.expectingFirstListItemValue=!0}function g(xe){if(this.data.expectingFirstListItemValue){const Te=this.stack[this.stack.length-2];Te.start=Number.parseInt(this.sliceSerialize(xe),10),this.data.expectingFirstListItemValue=void 0}}function x(){const xe=this.resume(),Te=this.stack[this.stack.length-1];Te.lang=xe}function _(){const xe=this.resume(),Te=this.stack[this.stack.length-1];Te.meta=xe}function w(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function j(){const xe=this.resume(),Te=this.stack[this.stack.length-1];Te.value=xe.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function N(){const xe=this.resume(),Te=this.stack[this.stack.length-1];Te.value=xe.replace(/(\r?\n|\r)$/g,"")}function S(xe){const Te=this.resume(),ot=this.stack[this.stack.length-1];ot.label=Te,ot.identifier=bd(this.sliceSerialize(xe)).toLowerCase()}function k(){const xe=this.resume(),Te=this.stack[this.stack.length-1];Te.title=xe}function C(){const xe=this.resume(),Te=this.stack[this.stack.length-1];Te.url=xe}function R(xe){const Te=this.stack[this.stack.length-1];if(!Te.depth){const ot=this.sliceSerialize(xe).length;Te.depth=ot}}function O(){this.data.setextHeadingSlurpLineEnding=!0}function A(xe){const Te=this.stack[this.stack.length-1];Te.depth=this.sliceSerialize(xe).codePointAt(0)===61?1:2}function M(){this.data.setextHeadingSlurpLineEnding=void 0}function P(xe){const ot=this.stack[this.stack.length-1].children;let Tt=ot[ot.length-1];(!Tt||Tt.type!=="text")&&(Tt=Cr(),Tt.position={start:Wo(xe.start),end:void 0},ot.push(Tt)),this.stack.push(Tt)}function F(xe){const Te=this.stack.pop();Te.value+=this.sliceSerialize(xe),Te.position.end=Wo(xe.end)}function L(xe){const Te=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ot=Te.children[Te.children.length-1];ot.position.end=Wo(xe.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Te.type)&&(P.call(this,xe),F.call(this,xe))}function D(){this.data.atHardBreak=!0}function V(){const xe=this.resume(),Te=this.stack[this.stack.length-1];Te.value=xe}function G(){const xe=this.resume(),Te=this.stack[this.stack.length-1];Te.value=xe}function ee(){const xe=this.resume(),Te=this.stack[this.stack.length-1];Te.value=xe}function ae(){const xe=this.stack[this.stack.length-1];if(this.data.inReference){const Te=this.data.referenceType||"shortcut";xe.type+="Reference",xe.referenceType=Te,delete xe.url,delete xe.title}else delete xe.identifier,delete xe.label;this.data.referenceType=void 0}function ue(){const xe=this.stack[this.stack.length-1];if(this.data.inReference){const Te=this.data.referenceType||"shortcut";xe.type+="Reference",xe.referenceType=Te,delete xe.url,delete xe.title}else delete xe.identifier,delete xe.label;this.data.referenceType=void 0}function Q(xe){const Te=this.sliceSerialize(xe),ot=this.stack[this.stack.length-2];ot.label=kie(Te),ot.identifier=bd(Te).toLowerCase()}function K(){const xe=this.stack[this.stack.length-1],Te=this.resume(),ot=this.stack[this.stack.length-1];if(this.data.inReference=!0,ot.type==="link"){const Tt=xe.children;ot.children=Tt}else ot.alt=Te}function B(){const xe=this.resume(),Te=this.stack[this.stack.length-1];Te.url=xe}function z(){const xe=this.resume(),Te=this.stack[this.stack.length-1];Te.title=xe}function X(){this.data.inReference=void 0}function q(){this.data.referenceType="collapsed"}function ye(xe){const Te=this.resume(),ot=this.stack[this.stack.length-1];ot.label=Te,ot.identifier=bd(this.sliceSerialize(xe)).toLowerCase(),this.data.referenceType="full"}function _e(xe){this.data.characterReferenceType=xe.type}function Ee(xe){const Te=this.sliceSerialize(xe),ot=this.data.characterReferenceType;let Tt;ot?(Tt=I5(Te,ot==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Tt=_1(Te);const Ft=this.stack[this.stack.length-1];Ft.value+=Tt}function ve(xe){const Te=this.stack.pop();Te.position.end=Wo(xe.end)}function Fe(xe){F.call(this,xe);const Te=this.stack[this.stack.length-1];Te.url=this.sliceSerialize(xe)}function Ie(xe){F.call(this,xe);const Te=this.stack[this.stack.length-1];Te.url="mailto:"+this.sliceSerialize(xe)}function ze(){return{type:"blockquote",children:[]}}function rt(){return{type:"code",lang:null,meta:null,value:""}}function de(){return{type:"inlineCode",value:""}}function se(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ge(){return{type:"emphasis",children:[]}}function Re(){return{type:"heading",depth:0,children:[]}}function Xe(){return{type:"break"}}function It(){return{type:"html",value:""}}function Ln(){return{type:"image",title:null,url:"",alt:null}}function kt(){return{type:"link",title:null,url:"",children:[]}}function qt(xe){return{type:"list",ordered:xe.type==="listOrdered",start:null,spread:xe._spread,children:[]}}function Hn(xe){return{type:"listItem",spread:xe._spread,checked:null,children:[]}}function Gs(){return{type:"paragraph",children:[]}}function is(){return{type:"strong",children:[]}}function Cr(){return{type:"text",value:""}}function Ar(){return{type:"thematicBreak"}}}function Wo(t){return{line:t.line,column:t.column,offset:t.offset}}function z5(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?z5(t,r):Rie(t,r)}}function Rie(t,e){let n;for(n in e)if(B5.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function fT(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+$f({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+$f({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+$f({start:e.start,end:e.end})+") is still open")}function Iie(t){const e=this;e.parser=n;function n(r){return Aie(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function Pie(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function Oie(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function Mie(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function Die(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Lie(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Fie(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=jh(r.toLowerCase()),a=t.footnoteOrder.indexOf(r);let o,c=t.footnoteCounts.get(r);c===void 0?(c=0,t.footnoteOrder.push(r),o=t.footnoteOrder.length):o=a+1,c+=1,t.footnoteCounts.set(r,c);const u={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(c>1?"-"+c:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};t.patch(e,u);const h={type:"element",tagName:"sup",properties:{},children:[u]};return t.patch(e,h),t.applyData(e,h)}function Vie(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Uie(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function q5(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function $ie(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return q5(t,e);const i={src:jh(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,a),t.applyData(e,a)}function Bie(t,e){const n={src:jh(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function zie(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function qie(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return q5(t,e);const i={href:jh(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function Hie(t,e){const n={href:jh(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Wie(t,e,n){const r=t.all(e),i=n?Kie(n):H5(e),a={},o=[];if(typeof e.checked=="boolean"){const f=r[0];let m;f&&f.type==="element"&&f.tagName==="p"?m=f:(m={type:"element",tagName:"p",properties:{},children:[]},r.unshift(m)),m.children.length>0&&m.children.unshift({type:"text",value:" "}),m.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let c=-1;for(;++c<r.length;){const f=r[c];(i||c!==0||f.type!=="element"||f.tagName!=="p")&&o.push({type:"text",value:`
`}),f.type==="element"&&f.tagName==="p"&&!i?o.push(...f.children):o.push(f)}const u=r[r.length-1];u&&(i||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`});const h={type:"element",tagName:"li",properties:a,children:o};return t.patch(e,h),t.applyData(e,h)}function Kie(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=H5(n[r])}return e}function H5(t){const e=t.spread;return e??t.children.length>1}function Gie(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,a),t.applyData(e,a)}function Qie(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Jie(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function Yie(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Xie(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},c=v1(e.children[1]),u=S5(e.children[e.children.length-1]);c&&u&&(o.position={start:c,end:u}),i.push(o)}const a={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,a),t.applyData(e,a)}function Zie(t,e,n){const r=n?n.children:void 0,a=(r?r.indexOf(e):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,c=o?o.length:e.children.length;let u=-1;const h=[];for(;++u<c;){const m=e.children[u],g={},x=o?o[u]:void 0;x&&(g.align=x);let _={type:"element",tagName:a,properties:g,children:[]};m&&(_.children=t.all(m),t.patch(m,_),_=t.applyData(m,_)),h.push(_)}const f={type:"element",tagName:"tr",properties:{},children:t.wrap(h,!0)};return t.patch(e,f),t.applyData(e,f)}function eae(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const mT=9,pT=32;function tae(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const a=[];for(;r;)a.push(gT(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return a.push(gT(e.slice(i),i>0,!1)),a.join("")}function gT(t,e,n){let r=0,i=t.length;if(e){let a=t.codePointAt(r);for(;a===mT||a===pT;)r++,a=t.codePointAt(r)}if(n){let a=t.codePointAt(i-1);for(;a===mT||a===pT;)i--,a=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function nae(t,e){const n={type:"text",value:tae(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function rae(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const sae={blockquote:Pie,break:Oie,code:Mie,delete:Die,emphasis:Lie,footnoteReference:Fie,heading:Vie,html:Uie,imageReference:$ie,image:Bie,inlineCode:zie,linkReference:qie,link:Hie,listItem:Wie,list:Gie,paragraph:Qie,root:Jie,strong:Yie,table:Xie,tableCell:eae,tableRow:Zie,text:nae,thematicBreak:rae,toml:Og,yaml:Og,definition:Og,footnoteDefinition:Og};function Og(){}const W5=-1,zy=0,zf=1,Wx=2,E1=3,k1=4,C1=5,A1=6,K5=7,G5=8,xT=typeof self=="object"?self:globalThis,iae=(t,e)=>{const n=(i,a)=>(t.set(a,i),i),r=i=>{if(t.has(i))return t.get(i);const[a,o]=e[i];switch(a){case zy:case W5:return n(o,i);case zf:{const c=n([],i);for(const u of o)c.push(r(u));return c}case Wx:{const c=n({},i);for(const[u,h]of o)c[r(u)]=r(h);return c}case E1:return n(new Date(o),i);case k1:{const{source:c,flags:u}=o;return n(new RegExp(c,u),i)}case C1:{const c=n(new Map,i);for(const[u,h]of o)c.set(r(u),r(h));return c}case A1:{const c=n(new Set,i);for(const u of o)c.add(r(u));return c}case K5:{const{name:c,message:u}=o;return n(new xT[c](u),i)}case G5:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:c}=new Uint8Array(o);return n(new DataView(c),o)}}return n(new xT[a](o),i)};return r},yT=t=>iae(new Map,t)(0),Xu="",{toString:aae}={},{keys:oae}=Object,wf=t=>{const e=typeof t;if(e!=="object"||!t)return[zy,e];const n=aae.call(t).slice(8,-1);switch(n){case"Array":return[zf,Xu];case"Object":return[Wx,Xu];case"Date":return[E1,Xu];case"RegExp":return[k1,Xu];case"Map":return[C1,Xu];case"Set":return[A1,Xu];case"DataView":return[zf,n]}return n.includes("Array")?[zf,n]:n.includes("Error")?[K5,n]:[Wx,n]},Mg=([t,e])=>t===zy&&(e==="function"||e==="symbol"),lae=(t,e,n,r)=>{const i=(o,c)=>{const u=r.push(o)-1;return n.set(c,u),u},a=o=>{if(n.has(o))return n.get(o);let[c,u]=wf(o);switch(c){case zy:{let f=o;switch(u){case"bigint":c=G5,f=o.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+u);f=null;break;case"undefined":return i([W5],o)}return i([c,f],o)}case zf:{if(u){let g=o;return u==="DataView"?g=new Uint8Array(o.buffer):u==="ArrayBuffer"&&(g=new Uint8Array(o)),i([u,[...g]],o)}const f=[],m=i([c,f],o);for(const g of o)f.push(a(g));return m}case Wx:{if(u)switch(u){case"BigInt":return i([u,o.toString()],o);case"Boolean":case"Number":case"String":return i([u,o.valueOf()],o)}if(e&&"toJSON"in o)return a(o.toJSON());const f=[],m=i([c,f],o);for(const g of oae(o))(t||!Mg(wf(o[g])))&&f.push([a(g),a(o[g])]);return m}case E1:return i([c,o.toISOString()],o);case k1:{const{source:f,flags:m}=o;return i([c,{source:f,flags:m}],o)}case C1:{const f=[],m=i([c,f],o);for(const[g,x]of o)(t||!(Mg(wf(g))||Mg(wf(x))))&&f.push([a(g),a(x)]);return m}case A1:{const f=[],m=i([c,f],o);for(const g of o)(t||!Mg(wf(g)))&&f.push(a(g));return m}}const{message:h}=o;return i([c,{name:u,message:h}],o)};return a},vT=(t,{json:e,lossy:n}={})=>{const r=[];return lae(!(e||n),!!e,new Map,r)(t),r},Kx=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?yT(vT(t,e)):structuredClone(t):(t,e)=>yT(vT(t,e));function cae(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function uae(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function dae(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||cae,r=t.options.footnoteBackLabel||uae,i=t.options.footnoteLabel||"Footnotes",a=t.options.footnoteLabelTagName||"h2",o=t.options.footnoteLabelProperties||{className:["sr-only"]},c=[];let u=-1;for(;++u<t.footnoteOrder.length;){const h=t.footnoteById.get(t.footnoteOrder[u]);if(!h)continue;const f=t.all(h),m=String(h.identifier).toUpperCase(),g=jh(m.toLowerCase());let x=0;const _=[],w=t.footnoteCounts.get(m);for(;w!==void 0&&++x<=w;){_.length>0&&_.push({type:"text",value:" "});let S=typeof n=="string"?n:n(u,x);typeof S=="string"&&(S={type:"text",value:S}),_.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+g+(x>1?"-"+x:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(u,x),className:["data-footnote-backref"]},children:Array.isArray(S)?S:[S]})}const j=f[f.length-1];if(j&&j.type==="element"&&j.tagName==="p"){const S=j.children[j.children.length-1];S&&S.type==="text"?S.value+=" ":j.children.push({type:"text",value:" "}),j.children.push(..._)}else f.push(..._);const N={type:"element",tagName:"li",properties:{id:e+"fn-"+g},children:t.wrap(f,!0)};t.patch(h,N),c.push(N)}if(c.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...Kx(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(c,!0)},{type:"text",value:`
`}]}}const Q5=(function(t){if(t==null)return pae;if(typeof t=="function")return qy(t);if(typeof t=="object")return Array.isArray(t)?hae(t):fae(t);if(typeof t=="string")return mae(t);throw new Error("Expected function, string, or object as test")});function hae(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=Q5(t[n]);return qy(r);function r(...i){let a=-1;for(;++a<e.length;)if(e[a].apply(this,i))return!0;return!1}}function fae(t){const e=t;return qy(n);function n(r){const i=r;let a;for(a in t)if(i[a]!==e[a])return!1;return!0}}function mae(t){return qy(e);function e(n){return n&&n.type===t}}function qy(t){return e;function e(n,r,i){return!!(gae(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function pae(){return!0}function gae(t){return t!==null&&typeof t=="object"&&"type"in t}const J5=[],xae=!0,bT=!1,yae="skip";function vae(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const a=Q5(i),o=r?-1:1;c(t,void 0,[])();function c(u,h,f){const m=u&&typeof u=="object"?u:{};if(typeof m.type=="string"){const x=typeof m.tagName=="string"?m.tagName:typeof m.name=="string"?m.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(u.type+(x?"<"+x+">":""))+")"})}return g;function g(){let x=J5,_,w,j;if((!e||a(u,h,f[f.length-1]||void 0))&&(x=bae(n(u,f)),x[0]===bT))return x;if("children"in u&&u.children){const N=u;if(N.children&&x[0]!==yae)for(w=(r?N.children.length:-1)+o,j=f.concat(N);w>-1&&w<N.children.length;){const S=N.children[w];if(_=c(S,w,j)(),_[0]===bT)return _;w=typeof _[1]=="number"?_[1]:w+o}}return x}}}function bae(t){return Array.isArray(t)?t:typeof t=="number"?[xae,t]:t==null?J5:[t]}function Y5(t,e,n,r){let i,a,o;typeof e=="function"&&typeof n!="function"?(a=void 0,o=e,i=n):(a=e,o=n,i=r),vae(t,a,c,i);function c(u,h){const f=h[h.length-1],m=f?f.children.indexOf(u):void 0;return o(u,m,f)}}const Qj={}.hasOwnProperty,wae={};function jae(t,e){const n=e||wae,r=new Map,i=new Map,a=new Map,o={...sae,...n.handlers},c={all:h,applyData:Nae,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:o,one:u,options:n,patch:_ae,wrap:Eae};return Y5(t,function(f){if(f.type==="definition"||f.type==="footnoteDefinition"){const m=f.type==="definition"?r:i,g=String(f.identifier).toUpperCase();m.has(g)||m.set(g,f)}}),c;function u(f,m){const g=f.type,x=c.handlers[g];if(Qj.call(c.handlers,g)&&x)return x(c,f,m);if(c.options.passThrough&&c.options.passThrough.includes(g)){if("children"in f){const{children:w,...j}=f,N=Kx(j);return N.children=c.all(f),N}return Kx(f)}return(c.options.unknownHandler||Sae)(c,f,m)}function h(f){const m=[];if("children"in f){const g=f.children;let x=-1;for(;++x<g.length;){const _=c.one(g[x],f);if(_){if(x&&g[x-1].type==="break"&&(!Array.isArray(_)&&_.type==="text"&&(_.value=wT(_.value)),!Array.isArray(_)&&_.type==="element")){const w=_.children[0];w&&w.type==="text"&&(w.value=wT(w.value))}Array.isArray(_)?m.push(..._):m.push(_)}}}return m}}function _ae(t,e){t.position&&(e.position=are(t))}function Nae(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,a=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&a&&Object.assign(n.properties,Kx(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function Sae(t,e){const n=e.data||{},r="value"in e&&!(Qj.call(n,"hProperties")||Qj.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Eae(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function wT(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function jT(t,e){const n=jae(t,e),r=n.one(t,void 0),i=dae(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function kae(t,e){return t&&"run"in t?async function(n,r){const i=jT(n,{file:r,...e});await t.run(i,r)}:function(n,r){return jT(n,{file:r,...t||e})}}function _T(t){if(t)throw t}var qb,NT;function Cae(){if(NT)return qb;NT=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(h){return typeof Array.isArray=="function"?Array.isArray(h):e.call(h)==="[object Array]"},a=function(h){if(!h||e.call(h)!=="[object Object]")return!1;var f=t.call(h,"constructor"),m=h.constructor&&h.constructor.prototype&&t.call(h.constructor.prototype,"isPrototypeOf");if(h.constructor&&!f&&!m)return!1;var g;for(g in h);return typeof g>"u"||t.call(h,g)},o=function(h,f){n&&f.name==="__proto__"?n(h,f.name,{enumerable:!0,configurable:!0,value:f.newValue,writable:!0}):h[f.name]=f.newValue},c=function(h,f){if(f==="__proto__")if(t.call(h,f)){if(r)return r(h,f).value}else return;return h[f]};return qb=function u(){var h,f,m,g,x,_,w=arguments[0],j=1,N=arguments.length,S=!1;for(typeof w=="boolean"&&(S=w,w=arguments[1]||{},j=2),(w==null||typeof w!="object"&&typeof w!="function")&&(w={});j<N;++j)if(h=arguments[j],h!=null)for(f in h)m=c(w,f),g=c(h,f),w!==g&&(S&&g&&(a(g)||(x=i(g)))?(x?(x=!1,_=m&&i(m)?m:[]):_=m&&a(m)?m:{},o(w,{name:f,newValue:u(S,_,g)})):typeof g<"u"&&o(w,{name:f,newValue:g}));return w},qb}var Aae=Cae();const Hb=nu(Aae);function Jj(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Tae(){const t=[],e={run:n,use:r};return e;function n(...i){let a=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);c(null,...i);function c(u,...h){const f=t[++a];let m=-1;if(u){o(u);return}for(;++m<i.length;)(h[m]===null||h[m]===void 0)&&(h[m]=i[m]);i=h,f?Rae(f,c)(...h):o(null,...h)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function Rae(t,e){let n;return r;function r(...o){const c=t.length>o.length;let u;c&&o.push(i);try{u=t.apply(this,o)}catch(h){const f=h;if(c&&n)throw f;return i(f)}c||(u&&u.then&&typeof u.then=="function"?u.then(a,i):u instanceof Error?i(u):a(u))}function i(o,...c){n||(n=!0,e(o,...c))}function a(o){i(null,o)}}const la={basename:Iae,dirname:Pae,extname:Oae,join:Mae,sep:"/"};function Iae(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Gm(t);let n=0,r=-1,i=t.length,a;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let o=-1,c=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else o<0&&(a=!0,o=i+1),c>-1&&(t.codePointAt(i)===e.codePointAt(c--)?c<0&&(r=i):(c=-1,r=o));return n===r?r=o:r<0&&(r=t.length),t.slice(n,r)}function Pae(t){if(Gm(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function Oae(t){Gm(t);let e=t.length,n=-1,r=0,i=-1,a=0,o;for(;e--;){const c=t.codePointAt(e);if(c===47){if(o){r=e+1;break}continue}n<0&&(o=!0,n=e+1),c===46?i<0?i=e:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function Mae(...t){let e=-1,n;for(;++e<t.length;)Gm(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":Dae(n)}function Dae(t){Gm(t);const e=t.codePointAt(0)===47;let n=Lae(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function Lae(t,e){let n="",r=0,i=-1,a=0,o=-1,c,u;for(;++o<=t.length;){if(o<t.length)c=t.codePointAt(o);else{if(c===47)break;c=47}if(c===47){if(!(i===o-1||a===1))if(i!==o-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=o,a=0;continue}}else if(n.length>0){n="",r=0,i=o,a=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,o):n=t.slice(i+1,o),r=o-i-1;i=o,a=0}else c===46&&a>-1?a++:a=-1}return n}function Gm(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const Fae={cwd:Vae};function Vae(){return"/"}function Yj(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function Uae(t){if(typeof t=="string")t=new URL(t);else if(!Yj(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return $ae(t)}function $ae(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const Wb=["history","path","basename","stem","extname","dirname"];class X5{constructor(e){let n;e?Yj(e)?n={path:e}:typeof e=="string"||Bae(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":Fae.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Wb.length;){const a=Wb[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)Wb.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?la.basename(this.path):void 0}set basename(e){Gb(e,"basename"),Kb(e,"basename"),this.path=la.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?la.dirname(this.path):void 0}set dirname(e){ST(this.basename,"dirname"),this.path=la.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?la.extname(this.path):void 0}set extname(e){if(Kb(e,"extname"),ST(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=la.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Yj(e)&&(e=Uae(e)),Gb(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?la.basename(this.path,this.extname):void 0}set stem(e){Gb(e,"stem"),Kb(e,"stem"),this.path=la.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new zr(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Kb(t,e){if(t&&t.includes(la.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+la.sep+"`")}function Gb(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function ST(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function Bae(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const zae=(function(t){const r=this.constructor.prototype,i=r[t],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a}),qae={}.hasOwnProperty;class T1 extends zae{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Tae()}copy(){const e=new T1;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(Hb(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(Yb("data",this.frozen),this.namespace[e]=n,this):qae.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Yb("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=Dg(e),r=this.parser||this.Parser;return Qb("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),Qb("process",this.parser||this.Parser),Jb("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,o){const c=Dg(e),u=r.parse(c);r.run(u,c,function(f,m,g){if(f||!m||!g)return h(f);const x=m,_=r.stringify(x,g);Kae(_)?g.value=_:g.result=_,h(f,g)});function h(f,m){f||!m?o(f):a?a(m):n(void 0,m)}}}processSync(e){let n=!1,r;return this.freeze(),Qb("processSync",this.parser||this.Parser),Jb("processSync",this.compiler||this.Compiler),this.process(e,i),kT("processSync","process",n),r;function i(a,o){n=!0,_T(a),r=o}}run(e,n,r){ET(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(o,c){const u=Dg(n);i.run(e,u,h);function h(f,m,g){const x=m||e;f?c(f):o?o(x):r(void 0,x,g)}}}runSync(e,n){let r=!1,i;return this.run(e,n,a),kT("runSync","run",r),i;function a(o,c){_T(o),i=c,r=!0}}stringify(e,n){this.freeze();const r=Dg(n),i=this.compiler||this.Compiler;return Jb("stringify",i),ET(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(Yb("use",this.frozen),e!=null)if(typeof e=="function")u(e,n);else if(typeof e=="object")Array.isArray(e)?c(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(h){if(typeof h=="function")u(h,[]);else if(typeof h=="object")if(Array.isArray(h)){const[f,...m]=h;u(f,m)}else o(h);else throw new TypeError("Expected usable value, not `"+h+"`")}function o(h){if(!("plugins"in h)&&!("settings"in h))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(h.plugins),h.settings&&(i.settings=Hb(!0,i.settings,h.settings))}function c(h){let f=-1;if(h!=null)if(Array.isArray(h))for(;++f<h.length;){const m=h[f];a(m)}else throw new TypeError("Expected a list of plugins, not `"+h+"`")}function u(h,f){let m=-1,g=-1;for(;++m<r.length;)if(r[m][0]===h){g=m;break}if(g===-1)r.push([h,...f]);else if(f.length>0){let[x,..._]=f;const w=r[g][1];Jj(w)&&Jj(x)&&(x=Hb(!0,w,x)),r[g]=[h,x,..._]}}}}const Hae=new T1().freeze();function Qb(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Jb(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Yb(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function ET(t){if(!Jj(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function kT(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Dg(t){return Wae(t)?t:new X5(t)}function Wae(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function Kae(t){return typeof t=="string"||Gae(t)}function Gae(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Qae="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",CT=[],AT={allowDangerousHtml:!0},Jae=/^(https?|ircs?|mailto|xmpp)$/i,Yae=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Z5(t){const e=Xae(t),n=Zae(t);return eoe(e.runSync(e.parse(n),n),t)}function Xae(t){const e=t.rehypePlugins||CT,n=t.remarkPlugins||CT,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...AT}:AT;return Hae().use(Iie).use(n).use(kae,r).use(e)}function Zae(t){const e=t.children||"",n=new X5;return typeof e=="string"&&(n.value=e),n}function eoe(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,a=e.disallowedElements,o=e.skipHtml,c=e.unwrapDisallowed,u=e.urlTransform||toe;for(const f of Yae)Object.hasOwn(e,f.from)&&(""+f.from+(f.to?"use `"+f.to+"` instead":"remove it")+Qae+f.id,void 0);return Y5(t,h),dre(t,{Fragment:s.Fragment,components:i,ignoreInvalidStyle:!0,jsx:s.jsx,jsxs:s.jsxs,passKeys:!0,passNode:!0});function h(f,m,g){if(f.type==="raw"&&g&&typeof m=="number")return o?g.children.splice(m,1):g.children[m]={type:"text",value:f.value},m;if(f.type==="element"){let x;for(x in $b)if(Object.hasOwn($b,x)&&Object.hasOwn(f.properties,x)){const _=f.properties[x],w=$b[x];(w===null||w.includes(f.tagName))&&(f.properties[x]=u(String(_||""),x,f))}}if(f.type==="element"){let x=n?!n.includes(f.tagName):a?a.includes(f.tagName):!1;if(!x&&r&&typeof m=="number"&&(x=!r(f,m,g)),x&&g&&typeof m=="number")return c&&f.children?g.children.splice(m,1,...f.children):g.children.splice(m,1),m}}}function toe(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||Jae.test(t.slice(0,e))?t:""}function e6({story:t,onComplete:e}){const[n,r]=y.useState(t.starting_node),[i,a]=y.useState([]),[o,c]=y.useState(0),[u,h]=y.useState(null),[f,m]=y.useState(!1);y.useEffect(()=>{g()},[]);const g=async()=>{try{if(await bt.auth.isAuthenticated()){const k=await bt.auth.me();h(k)}}catch{console.log("User not authenticated")}},x=()=>{var S;return(S=t.story_nodes)==null?void 0:S.find(k=>k.id===n)},_=async S=>{var C;S.points&&c(o+S.points),a([...i,n]);const k=(C=t.story_nodes)==null?void 0:C.find(R=>R.id===S.next_node);if(r(S.next_node),k!=null&&k.is_ending&&(m(!0),u))try{const O=Math.min((u.points||0)+10,1500);await bt.auth.updateMe({points:O})}catch(R){console.error("Error saving points:",R)}},w=()=>{r(t.starting_node),a([]),c(0),m(!1)},j=x();if(!j)return s.jsxs("div",{className:"text-center py-12",children:[s.jsx("p",{className:"text-gray-600",children:"Story node not found"}),s.jsxs(W,{onClick:w,className:"mt-4",children:[s.jsx(jx,{className:"w-4 h-4 mr-2"}),"Restart Story"]})]});const N={good:"from-green-500 to-teal-500",great:"from-blue-500 to-purple-500",excellent:"from-amber-500 to-orange-500",bad:"from-gray-500 to-slate-500"};return s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(un,{className:"w-5 h-5 text-purple-600"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[i.length," decisions made"]})]}),s.jsxs("div",{className:"flex items-center gap-2 bg-amber-100 px-4 py-2 rounded-full",children:[s.jsx(ln,{className:"w-5 h-5 text-amber-600"}),s.jsxs("span",{className:"font-bold text-amber-900",children:[o," points"]})]})]}),s.jsx(Ss,{mode:"wait",children:s.jsx(te.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:s.jsxs(re,{className:`shadow-2xl overflow-hidden ${j.is_ending?`bg-gradient-to-br ${N[j.ending_type]||N.good}`:"bg-white"}`,children:[j.image_url&&s.jsx("div",{className:"h-64 md:h-80 overflow-hidden",children:s.jsx("img",{src:j.image_url,alt:"Story scene",className:"w-full h-full object-cover"})}),s.jsxs(ie,{className:`p-6 md:p-8 ${j.is_ending?"text-white":""}`,children:[j.character&&s.jsx(we,{className:"mb-4 bg-purple-100 text-purple-800 px-4 py-1",children:j.character}),s.jsx("div",{className:`prose prose-lg max-w-none mb-6 ${j.is_ending?"prose-invert":"prose-slate"}`,children:s.jsx(Z5,{children:j.content})}),j.is_ending&&s.jsxs("div",{className:"text-center mb-6",children:[s.jsxs("div",{className:"text-6xl mb-4",children:[j.ending_type==="excellent"&&"",j.ending_type==="great"&&"",j.ending_type==="good"&&"",j.ending_type==="bad"&&""]}),s.jsxs(we,{className:"bg-white/20 text-white text-lg px-6 py-2",children:[j.ending_type==="excellent"&&"Excellent Ending!",j.ending_type==="great"&&"Great Ending!",j.ending_type==="good"&&"Good Ending!",j.ending_type==="bad"&&"Try Again!"]})]}),!j.is_ending&&j.choices&&j.choices.length>0&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-600 mb-4",children:"What will you do?"}),j.choices.map((S,k)=>s.jsx(te.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:k*.1},onClick:()=>_(S),className:"w-full p-4 bg-gradient-to-r from-blue-50 to-purple-50 hover:from-blue-100 hover:to-purple-100 border-2 border-blue-200 hover:border-purple-300 rounded-xl text-left transition-all duration-300 transform hover:scale-102 group",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium text-gray-900 group-hover:text-purple-900",children:S.text}),s.jsxs("div",{className:"flex items-center gap-2",children:[S.points>0&&s.jsxs(we,{className:"bg-amber-100 text-amber-800",children:["+",S.points," pts"]}),s.jsx(pB,{className:"w-5 h-5 text-purple-600 group-hover:translate-x-1 transition-transform"})]})]})},k))]}),j.is_ending&&s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mt-8",children:[s.jsxs(W,{onClick:w,size:"lg",className:"bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white border-2 border-white/40",children:[s.jsx(jx,{className:"w-5 h-5 mr-2"}),"Try Different Choices"]}),e&&s.jsxs(W,{onClick:e,size:"lg",className:"bg-white text-purple-600 hover:bg-gray-100",children:[s.jsx(mi,{className:"w-5 h-5 mr-2"}),"Back to Stories"]})]}),j.is_ending&&t.moral&&s.jsxs("div",{className:"mt-8 p-6 bg-white/10 backdrop-blur-sm rounded-xl border-2 border-white/20",children:[s.jsx("h3",{className:"text-xl font-bold mb-2",children:" Moral of the Story:"}),s.jsx("p",{className:"text-lg",children:t.moral})]})]})]})},n)}),i.length>0&&!j.is_ending&&s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-sm text-gray-500",children:["Your journey: ",i.length," choices made"]})})]})}e6.propTypes={story:Vt.object.isRequired,onComplete:Vt.func};const noe=[{id:"truthfulness",title:"Truthfulness Leads to Jannah",category:"manners",summary:"A boy chooses honesty even when it's hard, and is rewarded with trust and blessings.",ayah:{ref:"Quran 33:70-71",text:"O you who have believed, fear Allah and speak words of appropriate justice. He will [then] amend for you your deeds and forgive you your sins..."},hadith:{ref:"Sahih Bukhari & Muslim",text:"Truthfulness leads to righteousness, and righteousness leads to Paradise. A man keeps on telling the truth until he becomes a truthful person. Lying leads to wickedness, and wickedness leads to Hellfire."},moral:"Always tell the truth. Allah makes your path easy and your deeds accepted when you keep honesty."},{id:"mercy_to_animals",title:"Mercy to Animals",category:"kindness",summary:"A child cares for a hungry cat and learns that kindness brings Allahs mercy.",ayah:{ref:"Quran 21:107",text:"And We have not sent you, [O Muhammad], except as a mercy to the worlds."},hadith:{ref:"Sahih Bukhari",text:"A woman was punished because she imprisoned a cat and did not feed it, nor let it free to eat the insects of the earth."},moral:"Show mercy to all of Allahs creatures. Allah loves those who are merciful."},{id:"charity_extinguishes_sins",title:"Charity Extinguishes Sins",category:"gratitude",summary:"A family gives from what they love and sees their troubles eased by charity.",ayah:{ref:"Quran 2:261",text:"The example of those who spend their wealth in the way of Allah is like a seed [of grain] that sprouts seven ears; in every ear there are a hundred grains..."},hadith:{ref:"Jami' at-Tirmidhi",text:"Sadaqah extinguishes sins as water extinguishes fire."},moral:"Give generously for Allahs sake. Charity purifies hearts and brings blessings."},{id:"patience_in_trials",title:"Patience in Trials",category:"manners",summary:"A child endures a difficult situation with sabr and finds relief from Allah.",ayah:{ref:"Quran 2:153",text:"O you who have believed, seek help through patience and prayer. Indeed, Allah is with the patient."},hadith:{ref:"Sahih Bukhari",text:"No fatigue, nor disease, nor sorrow, nor sadness, nor hurt, nor distress befalls a Muslim, even if it were the prick he receives from a thorn, but that Allah expiates some of his sins for that."},moral:"Sabr brings Allahs nearness and wipes away sins."},{id:"honor_parents",title:"Honoring Parents",category:"manners",summary:"A boy obeys and cares for his parents, and Allah raises his status.",ayah:{ref:"Quran 17:23",text:"And your Lord has decreed that you not worship except Him, and to parents, good treatment..."},hadith:{ref:"Sahih Bukhari",text:"The pleasure of the Lord lies in the pleasure of the parents, and the anger of the Lord lies in the anger of the parents."},moral:"Be kind and dutiful to your parents to gain Allahs pleasure."},{id:"justice_and_fairness",title:"Justice and Fairness",category:"honesty",summary:"Children learn to judge fairly between friends, following the Qurans guidance.",ayah:{ref:"Quran 4:135",text:"O you who have believed, be persistently standing firm in justice, witnesses for Allah, even if it be against yourselves or parents and relatives..."},hadith:{ref:"Sahih Muslim",text:"Those who are just will be on thrones of light near Allah... those who are fair in their judgments and with their families."},moral:"Stand for justice even when its hardAllah loves the fair and just."},{id:"forgiveness_and_mercy",title:"Forgiveness and Mercy",category:"kindness",summary:"A quarrel is healed through forgiveness, bringing unity and Allahs mercy.",ayah:{ref:"Quran 24:22",text:"And let them pardon and overlook. Would you not like that Allah should forgive you?"},hadith:{ref:"Sahih Muslim",text:"Allah shows mercy to those who are merciful."},moral:"Forgive others to receive Allahs forgiveness and mercy."},{id:"trust_in_allah",title:"Trust in Allah (Tawakkul)",category:"gratitude",summary:"A family places trust in Allah and sees their needs fulfilled.",ayah:{ref:"Quran 65:3",text:"And whoever relies upon Allahthen He is sufficient for him."},hadith:{ref:"Tirmidhi",text:"If you were to rely upon Allah with the required reliance, He would provide for you as He provides for the birds; they go out hungry and return with full bellies."},moral:"Put your trust in Allah in all mattersHe is sufficient."}],Lg=[{id:"all",name:"All Stories",icon:""},{id:"prophets",name:"Prophets",icon:""},{id:"sahabah",name:"Companions",icon:""},{id:"manners",name:"Good Manners",icon:""},{id:"kindness",name:"Kindness",icon:""},{id:"honesty",name:"Honesty",icon:""},{id:"gratitude",name:"Gratitude",icon:""},{id:"bedtime",name:"Bedtime",icon:""}];function t6(){var O;const[t,e]=y.useState("all"),[n,r]=y.useState(null),[i,a]=y.useState(null),[o,c]=y.useState(!1),[u,h]=y.useState(Array(10).fill(null)),[f,m]=y.useState(""),[g,x]=y.useState(!1),[_,w]=y.useState(Array(10).fill(null)),[j,N]=y.useState("");y.useEffect(()=>{S()},[]);const S=async()=>{try{if(await base44.auth.isAuthenticated()){const M=await base44.auth.me();a(M)}else a(null)}catch{a(null)}},{data:k=[],isLoading:C}=Bn({queryKey:["stories"],queryFn:async()=>await base44.entities.Story.list("-created_date"),initialData:[]}),R=t==="all"?k:k.filter(A=>A.category===t);return C?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:""}),s.jsx("p",{className:"text-gray-600",children:"Loading stories..."})]})}):s.jsxs("div",{className:"min-h-screen py-8 md:py-12 px-4",children:[s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8 md:mb-12",children:[s.jsx("div",{className:"text-5xl md:text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-gray-900 mb-4",children:"Islamic Stories"}),s.jsx("p",{className:"text-base md:text-lg text-gray-600 max-w-2xl mx-auto",children:"Read inspiring stories from Islamic history and learn valuable lessons"})]}),s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-10",children:s.jsxs(re,{className:"shadow-xl border-2 border-green-200",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-green-600 to-teal-600 text-white",children:s.jsxs(Me,{className:"text-2xl flex items-center gap-2",children:[s.jsx(mi,{className:"w-5 h-5"})," Featured Authentic Stories"]})}),s.jsxs(ie,{className:"p-6",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:noe.map(A=>{var M;return s.jsxs(re,{className:"border hover:shadow-lg transition-shadow",children:[s.jsxs(Oe,{children:[s.jsxs(we,{variant:"outline",className:"text-xs mb-2",children:[(M=Lg.find(P=>P.id===A.category))==null?void 0:M.icon," ",A.category]}),s.jsx(Me,{className:"text-lg",children:A.title})]}),s.jsxs(ie,{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-gray-700",children:A.summary}),s.jsxs("div",{className:"bg-purple-50 border-l-4 border-purple-400 p-3 rounded-r",children:[s.jsxs("div",{className:"text-xs text-purple-700 font-semibold mb-1",children:["Quran Ayah  ",A.ayah.ref]}),s.jsx("div",{className:"text-sm text-gray-800",children:A.ayah.text})]}),s.jsxs("div",{className:"bg-amber-50 border-l-4 border-amber-400 p-3 rounded-r",children:[s.jsxs("div",{className:"text-xs text-amber-700 font-semibold mb-1",children:["Hadith  ",A.hadith.ref]}),s.jsx("div",{className:"text-sm text-gray-800",children:A.hadith.text})]}),s.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-3 rounded-r",children:[s.jsx("div",{className:"text-xs text-blue-700 font-semibold mb-1",children:"Moral"}),s.jsx("div",{className:"text-sm text-gray-800",children:A.moral})]})]})]},A.id)})}),s.jsxs(re,{className:"mt-6 border hover:shadow-lg transition-shadow",children:[s.jsxs(Oe,{children:[s.jsx(we,{variant:"outline",className:"text-xs mb-2",children:" Etiquette"}),s.jsx(Me,{className:"text-lg",children:"The Day the Masjid Smiled"})]}),s.jsxs(ie,{children:[s.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"A warm story of Muhammad and Zaid learning adab (Islamic manners) at the masjid  with a kids quiz at the end."}),s.jsx(W,{onClick:()=>c(!0),className:"bg-blue-600",children:"Read & Take Quiz"})]})]}),s.jsxs(re,{className:"mt-6 border hover:shadow-lg transition-shadow",children:[s.jsxs(Oe,{children:[s.jsx(we,{variant:"outline",className:"text-xs mb-2",children:" Etiquette"}),s.jsx(Me,{className:"text-lg",children:"The Guest Who Taught Them Manners"})]}),s.jsxs(ie,{children:[s.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Muhammad and Zaid honor their guest and learn beautiful Sunnah about hosting  with a kids quiz at the end."}),s.jsx(W,{onClick:()=>x(!0),className:"bg-blue-600",children:"Read & Take Quiz"})]})]})]})]})}),s.jsx("div",{className:"flex flex-wrap gap-2 md:gap-3 justify-center mb-8",children:Lg.map(A=>s.jsxs(W,{onClick:()=>e(A.id),variant:t===A.id?"default":"outline",size:"sm",className:t===A.id?"bg-gradient-to-r from-blue-500 to-purple-500":"",children:[s.jsx("span",{className:"mr-2",children:A.icon}),A.name]},A.id))}),R.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("p",{className:"text-gray-600",children:"No stories available in this category yet."})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:R.map((A,M)=>{var P;return s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:M*.1},children:s.jsxs(re,{className:"h-full hover:shadow-2xl transition-all duration-300 cursor-pointer group",children:[s.jsxs(Oe,{className:"p-0 relative",children:[A.image_url&&s.jsx("div",{className:"h-48 bg-gradient-to-br from-blue-100 to-purple-100 rounded-t-xl overflow-hidden",children:s.jsx("img",{src:A.image_url,alt:A.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"})}),A.is_interactive&&s.jsx("div",{className:"absolute top-2 right-2",children:s.jsxs(we,{className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white shadow-lg",children:[s.jsx(mi,{className:"w-3 h-3 mr-1"}),"Interactive"]})})]}),s.jsxs(ie,{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs(we,{variant:"outline",className:"text-xs",children:[(P=Lg.find(F=>F.id===A.category))==null?void 0:P.icon," ",A.category]}),A.age_range&&s.jsxs(we,{variant:"outline",className:"text-xs",children:[A.age_range," years"]})]}),s.jsx(Me,{className:"text-xl mb-3 line-clamp-2",children:A.title}),A.description&&s.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:A.description}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 mb-4",children:[A.audio_url&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Wc,{className:"w-3 h-3"}),"Audio"]}),A.is_interactive&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(er,{className:"w-3 h-3"}),"Make Choices"]})]}),s.jsxs(W,{onClick:()=>r(A),className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600",children:[s.jsx(un,{className:"w-4 h-4 mr-2"}),A.is_interactive?"Play Story":"Read Story"]})]})]})},A.id)})})]}),s.jsxs(Ss,{children:[o&&s.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 overflow-y-auto",children:s.jsx("div",{className:"min-h-screen p-4 flex items-center justify-center",children:s.jsxs(te.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"w-full max-w-4xl",children:[s.jsx("div",{className:"flex justify-end mb-4",children:s.jsx(W,{variant:"ghost",size:"icon",className:"bg-white/10 hover:bg-white/20 text-white rounded-full",onClick:()=>c(!1),children:s.jsx(Br,{className:"w-6 h-6"})})}),s.jsx(re,{className:"bg-white shadow-2xl",children:s.jsxs(ie,{className:"p-6 md:p-10 space-y-4",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold",children:"The Day the Masjid Smiled"}),s.jsxs("div",{className:"text-gray-700 space-y-3",children:[s.jsx("p",{children:"Muhammad and Zaid were best friends who loved going to the masjid. One sunny afternoon, their teacher, Ustadh Haroon, gathered all the children and said: Today, we will learn adab  the beautiful manners that Allah loves. The boys looked at each other with excitement. They had already learned Salah and Wudu but today felt special."}),s.jsx("h3",{className:"font-semibold",children:" Chapter 1: The Greeting That Brings Rewards"}),s.jsx("p",{children:"As the boys entered the masjid, Muhammad smiled and said: Assalamu Alaikum wa Rahmatullah! Zaid replied: Wa Alaikumussalam wa Rahmatullah! Ustadh Haroon said: Spread salam among yourselves. (Sahih Muslim)"}),s.jsx("h3",{className:"font-semibold",children:" Chapter 2: Respecting Parents"}),s.jsx("p",{children:"Ustadh asked the children to thank their parents. The pleasure of Allah is in the pleasure of the parents. (Tirmidhi)"}),s.jsx("h3",{className:"font-semibold",children:" Chapter 3: Keeping the Masjid Clean"}),s.jsx("p",{children:"Zaid picked up a tissue on the carpet. Cleanliness is half of faith. (Sahih Muslim)"}),s.jsx("h3",{className:"font-semibold",children:" Chapter 4: Speaking Kindly"}),s.jsx("p",{children:"Allah says: And speak to people good words. (Quran 2:83)"}),s.jsx("h3",{className:"font-semibold",children:" Chapter 5: Sharing Is Caring"}),s.jsx("p",{children:"None of you truly believes until he loves for his brother what he loves for himself. (Bukhari & Muslim)"}),s.jsx("h3",{className:"font-semibold",children:" Key Islamic Etiquettes"}),s.jsxs("ul",{className:"list-disc ml-6 text-sm",children:[s.jsx("li",{children:"Say Salam"}),s.jsx("li",{children:"Respect parents and elders"}),s.jsx("li",{children:"Keep the masjid and home clean"}),s.jsx("li",{children:"Speak kindly"}),s.jsx("li",{children:"Share and care for others"}),s.jsx("li",{children:"Be gentle and thankful"})]})]}),s.jsxs("div",{className:"mt-6 p-4 border rounded-lg",children:[s.jsx("h3",{className:"text-xl font-bold mb-2",children:" Kids Quiz"}),[{q:"What should we say when greeting someone in Islam?",opts:["Hello","Good morning","Assalamu Alaikum"],correct:2},{q:"Who said Spread Salam among yourselves?",opts:["Teacher","Prophet Muhammad ","A neighbour"],correct:1},{q:"Why should we respect our parents?",opts:["Because everyone does it","Because Allah is pleased when parents are pleased","For fun"],correct:1},{q:"What did Zaid pick up in the masjid?",opts:["A toy","A tissue","A book"],correct:1},{q:"Cleanliness is",opts:["A little good","Half of faith","Not important"],correct:1},{q:"What kind of words should we speak?",opts:["Loud and rude","None","Kind and gentle"],correct:2},{q:"Sharing with others shows",opts:["Greed","Good manners","Anger"],correct:1},{q:"What makes the masjid happy?",opts:["Running inside","Keeping it clean","Shouting loudly"],correct:1},{q:"Who brought dates for the class?",opts:["Zaid","Muhammad","Ustadh Haroon"],correct:2},{q:"What does Allah like?",opts:["Good manners and kindness","Fighting","Shouting"],correct:0}].map((A,M)=>s.jsxs("div",{className:"mb-3",children:[s.jsxs("div",{className:"font-medium",children:[M+1,". ",A.q]}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:A.opts.map((P,F)=>s.jsxs("label",{className:`text-sm px-3 py-1 border rounded cursor-pointer ${u[M]===F?"bg-blue-100 border-blue-400":""}`,children:[s.jsx("input",{type:"radio",name:`q${M}`,value:F,className:"hidden",onChange:()=>h(L=>{const D=[...L];return D[M]=F,D})}),String.fromCharCode(65+F),") ",P]},F))})]},M)),s.jsxs("div",{className:"flex items-center gap-3 mt-4",children:[s.jsx(W,{onClick:async()=>{const A=[{correct:2},{correct:1},{correct:1},{correct:1},{correct:1},{correct:2},{correct:1},{correct:1},{correct:2},{correct:0}];let M=0;for(let P=0;P<10;P++)u[P]===A[P].correct&&M++;m("Submitting...");try{const{quizApi:P}=await sn(async()=>{const{quizApi:F}=await Promise.resolve().then(()=>Bx);return{quizApi:F}},void 0);await P.submit({storyId:"masjid-smiled",answers:u,score:M,meta:{title:"The Day the Masjid Smiled"}});try{const{data:F}=await kn.auth.getUser(),L=F!=null&&F.user?{id:F.user.id,email:F.user.email}:null;await Uj(L,"story_quiz",{isPerfect:M===10,fallbackScore:M,metadata:{storyId:"masjid-smiled"}})}catch{}m(`Submitted! Score: ${M}/10`)}catch{m("Failed to submit")}},children:"Submit Answers"}),f&&s.jsx("span",{className:"text-sm text-gray-600",children:f})]})]})]})})]})})}),g&&s.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 overflow-y-auto",children:s.jsx("div",{className:"min-h-screen p-4 flex items-center justify-center",children:s.jsxs(te.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"w-full max-w-4xl",children:[s.jsx("div",{className:"flex justify-end mb-4",children:s.jsx(W,{variant:"ghost",size:"icon",className:"bg-white/10 hover:bg-white/20 text-white rounded-full",onClick:()=>x(!1),children:s.jsx(Br,{className:"w-6 h-6"})})}),s.jsx(re,{className:"bg-white shadow-2xl",children:s.jsxs(ie,{className:"p-6 md:p-10 space-y-4",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold",children:"The Guest Who Taught Them Manners"}),s.jsxs("div",{className:"text-gray-700 space-y-3",children:[s.jsx("p",{children:"It was a peaceful Saturday morning. Muhammad and Zaid were playing in the garden when Muhammads mother called out: Boys! We have a special guest coming today. Please get ready!"}),s.jsx("h3",{className:"font-semibold",children:" Chapter 1: Preparing for the Guest"}),s.jsx("p",{children:"They cleaned and prepared. Whoever believes in Allah and the Last Day should honor his guest. (Sahih Bukhari)"}),s.jsx("h3",{className:"font-semibold",children:" Chapter 2: A Gentle Knock"}),s.jsx("p",{children:"They greeted Uncle Salim with Assalamu Alaikum wa Rahmatullah! and he felt welcomed."}),s.jsx("h3",{className:"font-semibold",children:" Chapter 3: Offering Water and Food"}),s.jsx("p",{children:"They offered water and dates. Giving water is from the best charity."}),s.jsx("h3",{className:"font-semibold",children:" Chapter 4: Speaking with Respect"}),s.jsx("p",{children:"Lower your voice and speak in a good way. (Quran 31:19)"}),s.jsx("h3",{className:"font-semibold",children:" Chapter 5: Helping Without Being Asked"}),s.jsx("p",{children:"They served and cleaned without being asked. This is the Sunnah  serving guests with your own hands."}),s.jsx("h3",{className:"font-semibold",children:" Chapter 6: The Secret Gift"}),s.jsx("p",{children:"Uncle Salim gifted miswaks and reminded them that good manners make a person shine."}),s.jsx("h3",{className:"font-semibold",children:" Etiquettes Learned"}),s.jsxs("ul",{className:"list-disc ml-6 text-sm",children:[s.jsx("li",{children:"Honor guests"}),s.jsx("li",{children:"Offer water and food"}),s.jsx("li",{children:"Speak gently and listen"}),s.jsx("li",{children:"Help without being asked"}),s.jsx("li",{children:"Say Salam with joy"}),s.jsx("li",{children:"Keep clean and prepare home"})]})]}),s.jsxs("div",{className:"mt-6 p-4 border rounded-lg",children:[s.jsx("h3",{className:"text-xl font-bold mb-2",children:" Kids Quiz"}),[{q:"What does the Prophet  say about guests?",opts:["Ignore them","Honor them","Make them wait outside"],correct:1},{q:"What should you offer a guest first?",opts:["Toys","Water","Money"],correct:1},{q:"Who was the special guest?",opts:["A teacher","A neighbor","Uncle Salim"],correct:2},{q:"What did Zaid and Muhammad say when they opened the door?",opts:["Hello","Assalamu Alaikum","Good afternoon"],correct:1},{q:"What gift did the boys receive?",opts:["A book","Miswaks","Sweets"],correct:1},{q:"What did the boys do after the meal?",opts:["Ran away","Started shouting","Helped clean"],correct:2},{q:"Good manners make a person",opts:["Angry","Forgetful","Shine"],correct:2},{q:"Listening without interrupting is",opts:["Rude","Good adab","Lazy"],correct:1},{q:"Who said Lower your voice and speak in a good way?",opts:["The Prophet ","Quran","A neighbor"],correct:1},{q:"What did the boys learn today?",opts:["How to play games","Islamic etiquette","How to sleep early"],correct:1}].map((A,M)=>s.jsxs("div",{className:"mb-3",children:[s.jsxs("div",{className:"font-medium",children:[M+1,". ",A.q]}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:A.opts.map((P,F)=>s.jsxs("label",{className:`text-sm px-3 py-1 border rounded cursor-pointer ${_[M]===F?"bg-blue-100 border-blue-400":""}`,children:[s.jsx("input",{type:"radio",name:`gq${M}`,value:F,className:"hidden",onChange:()=>w(L=>{const D=[...L];return D[M]=F,D})}),String.fromCharCode(65+F),") ",P]},F))})]},M)),s.jsxs("div",{className:"flex items-center gap-3 mt-4",children:[s.jsx(W,{onClick:async()=>{const A=[1,1,2,1,1,2,2,1,1,1];let M=0;for(let P=0;P<10;P++)_[P]===A[P]&&M++;N("Submitting...");try{const{quizApi:P}=await sn(async()=>{const{quizApi:F}=await Promise.resolve().then(()=>Bx);return{quizApi:F}},void 0);await P.submit({storyId:"guest-manners",answers:_,score:M,meta:{title:"The Guest Who Taught Them Manners"}});try{const{data:F}=await kn.auth.getUser(),L=F!=null&&F.user?{id:F.user.id,email:F.user.email}:null;await Uj(L,"story_quiz",{isPerfect:M===10,fallbackScore:M,metadata:{storyId:"guest-manners"}})}catch{}N(`Submitted! Score: ${M}/10`)}catch{N("Failed to submit")}},children:"Submit Answers"}),j&&s.jsx("span",{className:"text-sm text-gray-600",children:j})]})]})]})})]})})}),n&&s.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 overflow-y-auto",children:s.jsx("div",{className:"min-h-screen p-4 flex items-center justify-center",children:s.jsxs(te.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"w-full max-w-5xl",children:[s.jsx("div",{className:"flex justify-end mb-4",children:s.jsx(W,{onClick:()=>r(null),variant:"ghost",size:"icon",className:"bg-white/10 hover:bg-white/20 text-white rounded-full",children:s.jsx(Br,{className:"w-6 h-6"})})}),n.is_interactive?s.jsx(e6,{story:n,onComplete:()=>r(null)}):s.jsxs(re,{className:"bg-white shadow-2xl",children:[n.image_url&&s.jsx("div",{className:"h-64 md:h-96 overflow-hidden rounded-t-xl",children:s.jsx("img",{src:n.image_url,alt:n.title,className:"w-full h-full object-cover"})}),s.jsxs(ie,{className:"p-6 md:p-10",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs(we,{className:"mb-4",children:[(O=Lg.find(A=>A.id===n.category))==null?void 0:O.icon," ",n.category]}),s.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:n.title})]}),n.audio_url&&s.jsx("div",{className:"mb-6 bg-purple-50 p-4 rounded-xl",children:s.jsxs("audio",{controls:!0,className:"w-full",children:[s.jsx("source",{src:n.audio_url,type:"audio/mpeg"}),"Your browser does not support audio."]})}),s.jsx("div",{className:"prose prose-lg max-w-none mb-8",children:s.jsx(Z5,{children:n.content})}),n.moral&&s.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 border-l-4 border-amber-500 p-6 rounded-r-xl",children:[s.jsxs("h3",{className:"text-xl font-bold text-amber-900 mb-2 flex items-center gap-2",children:[s.jsx(mi,{className:"w-6 h-6"}),"Moral of the Story"]}),s.jsx("p",{className:"text-gray-700 text-lg",children:n.moral})]})]})]})]})})})]})]})}function R1(t){const e=y.useRef({value:t,previous:t});return y.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Hy="Checkbox",[roe]=Oa(Hy),[soe,I1]=roe(Hy);function ioe(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:i,disabled:a,form:o,name:c,onCheckedChange:u,required:h,value:f="on",internal_do_not_use_render:m}=t,[g,x]=Nl({prop:n,defaultProp:i??!1,onChange:u,caller:Hy}),[_,w]=y.useState(null),[j,N]=y.useState(null),S=y.useRef(!1),k=_?!!o||!!_.closest("form"):!0,C={checked:g,disabled:a,setChecked:x,control:_,setControl:w,name:c,form:o,value:f,hasConsumerStoppedPropagationRef:S,required:h,defaultChecked:pl(i)?!1:i,isFormControl:k,bubbleInput:j,setBubbleInput:N};return s.jsx(soe,{scope:e,...C,children:aoe(m)?m(C):r})}var n6="CheckboxTrigger",r6=y.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},i)=>{const{control:a,value:o,disabled:c,checked:u,required:h,setControl:f,setChecked:m,hasConsumerStoppedPropagationRef:g,isFormControl:x,bubbleInput:_}=I1(n6,t),w=rn(i,f),j=y.useRef(u);return y.useEffect(()=>{const N=a==null?void 0:a.form;if(N){const S=()=>m(j.current);return N.addEventListener("reset",S),()=>N.removeEventListener("reset",S)}},[a,m]),s.jsx(At.button,{type:"button",role:"checkbox","aria-checked":pl(u)?"mixed":u,"aria-required":h,"data-state":l6(u),"data-disabled":c?"":void 0,disabled:c,value:o,...r,ref:w,onKeyDown:nt(e,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:nt(n,N=>{m(S=>pl(S)?!0:!S),_&&x&&(g.current=N.isPropagationStopped(),g.current||N.stopPropagation())})})});r6.displayName=n6;var P1=y.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:a,required:o,disabled:c,value:u,onCheckedChange:h,form:f,...m}=t;return s.jsx(ioe,{__scopeCheckbox:n,checked:i,defaultChecked:a,disabled:c,required:o,onCheckedChange:h,name:r,form:f,value:u,internal_do_not_use_render:({isFormControl:g})=>s.jsxs(s.Fragment,{children:[s.jsx(r6,{...m,ref:e,__scopeCheckbox:n}),g&&s.jsx(o6,{__scopeCheckbox:n})]})})});P1.displayName=Hy;var s6="CheckboxIndicator",i6=y.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,a=I1(s6,n);return s.jsx(Da,{present:r||pl(a.checked)||a.checked===!0,children:s.jsx(At.span,{"data-state":l6(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});i6.displayName=s6;var a6="CheckboxBubbleInput",o6=y.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:o,required:c,disabled:u,name:h,value:f,form:m,bubbleInput:g,setBubbleInput:x}=I1(a6,t),_=rn(n,x),w=R1(a),j=LN(r);y.useEffect(()=>{const S=g;if(!S)return;const k=window.HTMLInputElement.prototype,R=Object.getOwnPropertyDescriptor(k,"checked").set,O=!i.current;if(w!==a&&R){const A=new Event("click",{bubbles:O});S.indeterminate=pl(a),R.call(S,pl(a)?!1:a),S.dispatchEvent(A)}},[g,w,a,i]);const N=y.useRef(pl(a)?!1:a);return s.jsx(At.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??N.current,required:c,disabled:u,name:h,value:f,form:m,...e,tabIndex:-1,ref:_,style:{...e.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});o6.displayName=a6;function aoe(t){return typeof t=="function"}function pl(t){return t==="indeterminate"}function l6(t){return pl(t)?"indeterminate":t?"checked":"unchecked"}const Wy=y.forwardRef(({className:t,...e},n)=>s.jsx(P1,{ref:n,className:mt("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:s.jsx(i6,{className:mt("flex items-center justify-center text-current"),children:s.jsx(Zf,{className:"h-4 w-4"})})}));Wy.displayName=P1.displayName;const ooe=[{arabic:"   ",english:"In the name of Allah, the Most Gracious, the Most Merciful",transliteration:"Bismillah ir-Rahman ir-Rahim"},{arabic:" ",english:"All praise is due to Allah",transliteration:"Alhamdulillah"}],Zu=[{arabic:"",english:"Peace",transliteration:"Salaam"},{arabic:"",english:"Thank you",transliteration:"Shukran"},{arabic:"",english:"Patience",transliteration:"Sabr"},{arabic:"",english:"Mercy",transliteration:"Rahmah"}],loe=[{id:"helped_parents",label:"Helped my parents",emoji:""},{id:"prayed_on_time",label:"Prayed on time",emoji:""},{id:"shared_toys",label:"Shared my toys",emoji:""},{id:"read_quran",label:"Read Quran",emoji:""},{id:"said_bismillah",label:"Said Bismillah before eating",emoji:""},{id:"helped_friend",label:"Helped a friend",emoji:""},{id:"cleaned_room",label:"Cleaned my room",emoji:""},{id:"kind_words",label:"Used kind words",emoji:""}];function c6(){const[t,e]=y.useState([]),[n,r]=y.useState(null),[i,a]=y.useState(0);y.useEffect(()=>{o()},[]);const o=async()=>{try{if(await base44.auth.isAuthenticated()){const h=await base44.auth.me();r(h)}else r(null)}catch{r(null)}},c=async u=>{if(!t.includes(u)&&n)try{await base44.entities.GoodDeed.create({user_id:n.id,deed_type:u,date:new Date().toISOString().split("T")[0]}),await base44.auth.updateMe({points:(n.points||0)+5}),e([...t,u])}catch(f){console.error("Error saving good deed:",f)}else e(t.filter(f=>f!==u))};return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Learn & Grow"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Daily lessons, duas, and activities to help you grow as a Muslim"})]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[s.jsx(te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:s.jsxs(re,{className:"shadow-lg border-2 border-blue-200",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:s.jsxs(Me,{className:"flex items-center gap-2",children:[s.jsx(ln,{className:"w-6 h-6"}),"Dua of the Day"]})}),s.jsx(ie,{className:"p-6",children:ooe.map((u,h)=>s.jsxs("div",{className:"mb-6 last:mb-0",children:[s.jsxs("div",{className:"text-center mb-4",children:[s.jsx("p",{className:"text-3xl text-right mb-3",style:{fontFamily:"serif"},children:u.arabic}),s.jsxs(W,{variant:"outline",size:"sm",className:"mb-2",children:[s.jsx(Oi,{className:"w-4 h-4 mr-2"}),"Listen"]})]}),s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[s.jsx("p",{className:"font-medium text-gray-700 mb-1",children:u.transliteration}),s.jsx("p",{className:"text-gray-600",children:u.english})]})]},h))})]})}),s.jsx(te.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},children:s.jsxs(re,{className:"shadow-lg border-2 border-green-200",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-green-500 to-teal-500 text-white",children:s.jsxs(Me,{className:"flex items-center gap-2",children:[s.jsx(un,{className:"w-6 h-6"}),"Learn Arabic Words"]})}),s.jsxs(ie,{className:"p-6",children:[s.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-teal-50 rounded-xl p-8 text-center mb-4",children:[s.jsx("p",{className:"text-5xl mb-4",style:{fontFamily:"serif"},children:Zu[i].arabic}),s.jsx("p",{className:"text-xl font-semibold text-gray-700 mb-2",children:Zu[i].transliteration}),s.jsx("p",{className:"text-lg text-gray-600",children:Zu[i].english})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(W,{onClick:()=>a((i-1+Zu.length)%Zu.length),variant:"outline",className:"flex-1",children:"Previous"}),s.jsx(W,{onClick:()=>a((i+1)%Zu.length),className:"flex-1 bg-green-600 hover:bg-green-700",children:"Next"})]})]})]})}),s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"lg:col-span-2",children:s.jsxs(re,{className:"shadow-lg border-2 border-amber-200",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs(Me,{className:"flex items-center gap-2",children:[s.jsx(lh,{className:"w-6 h-6"}),"Good Deeds Tracker"]}),s.jsx(we,{className:"bg-white/20 text-white text-lg px-4 py-2",children:"+5 points each"})]})}),s.jsxs(ie,{className:"p-6",children:[s.jsx("p",{className:"text-gray-600 mb-6 text-center",children:"Check off the good deeds you did today and earn points! "}),s.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4",children:loe.map(u=>s.jsx(te.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:s.jsxs("label",{className:`flex items-start gap-3 p-4 rounded-xl border-2 cursor-pointer transition-all ${t.includes(u.id)?"bg-green-50 border-green-400":"bg-white border-gray-200 hover:border-gray-300"}`,children:[s.jsx(Wy,{checked:t.includes(u.id),onCheckedChange:()=>c(u.id),className:"mt-1"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl mb-1",children:u.emoji}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:u.label})]})]})},u.id))})]})]})})]})]})})}const coe=[{title:"How to Teach Islam with Love",excerpt:"Creating a nurturing environment where children develop a genuine love for their faith...",icon:ch,color:"from-pink-500 to-rose-500"},{title:"Digital Safety for Muslim Kids",excerpt:"Essential guidelines to ensure your children's online experience is safe and beneficial...",icon:ru,color:"from-blue-500 to-cyan-500"},{title:"Making Learning Fun",excerpt:"Creative ways to engage children in Islamic education through play and activities...",icon:un,color:"from-purple-500 to-violet-500"}];function u6(){return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Parent Guidance"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Resources and support for raising righteous children"})]}),s.jsx(te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-12",children:s.jsx(re,{className:"border-2 border-green-300 shadow-lg",children:s.jsxs(ie,{className:"p-8 text-center",children:[s.jsx(ru,{className:"w-16 h-16 mx-auto mb-4 text-green-600"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Safe & Ad-Free Environment "}),s.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Islam Kids Zone is committed to providing a completely safe, ad-free learning environment. All content is carefully curated and monitored to ensure it aligns with Islamic values and is age-appropriate."})]})})}),s.jsxs("div",{className:"mb-12",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Parenting Resources"}),s.jsx("div",{className:"space-y-6",children:coe.map((t,e)=>{const n=t.icon;return s.jsx(te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:e*.1},children:s.jsxs(re,{className:"hover:shadow-xl transition-all duration-300",children:[s.jsx(Oe,{children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`w-12 h-12 rounded-xl bg-gradient-to-br ${t.color} flex items-center justify-center flex-shrink-0`,children:s.jsx(n,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx(Me,{className:"text-xl mb-2",children:t.title}),s.jsx("p",{className:"text-gray-600",children:t.excerpt})]})]})}),s.jsx(ie,{children:s.jsx(W,{variant:"outline",children:"Read More"})})]})},t.title)})})]}),s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:s.jsxs(re,{className:"shadow-lg",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:s.jsxs(Me,{className:"flex items-center gap-2",children:[s.jsx(wx,{className:"w-6 h-6"}),"Send Us Your Feedback"]})}),s.jsxs(ie,{className:"p-6",children:[s.jsx("p",{className:"text-gray-600 mb-6",children:"We'd love to hear your thoughts, suggestions, or concerns about Islam Kids Zone. Your feedback helps us create a better experience for your children."}),s.jsxs(W,{className:"w-full bg-blue-600 hover:bg-blue-700",children:[s.jsx(wx,{className:"w-4 h-4 mr-2"}),"Share Your Feedback"]})]})]})})]})})}const uoe=[{icon:ch,title:"Learn with Love",description:"Every activity is designed to inspire love for Islam in young hearts"},{icon:ln,title:"Quality Content",description:"Carefully curated Islamic content that's both educational and engaging"},{icon:ru,title:"Safe Environment",description:"100% ad-free and child-safe platform monitored by caring educators"},{icon:mi,title:"Fun Learning",description:"Interactive games and activities that make learning enjoyable"}];function d6(){return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"About Islam Kids Zone"})]}),s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-12",children:s.jsx(re,{className:"shadow-lg border-2 border-blue-200",children:s.jsxs(ie,{className:"p-8",children:[s.jsxs("p",{className:"text-lg text-gray-700 leading-relaxed mb-6",children:[s.jsx("strong",{children:"Islam Media Kids Zone"})," is part of ",s.jsx("strong",{children:"Islam Media Central"}),", built to inspire the next generation through games, stories, and educational media."]}),s.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:"Every activity is designed to teach Islamic manners, knowledge, and fun learning experiences  all in a safe and loving environment where children can explore their faith with joy and confidence."})]})})}),s.jsxs("div",{className:"mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8 text-center",children:"Our Values"}),s.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:uoe.map((t,e)=>{const n=t.icon;return s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:e*.1},children:s.jsx(re,{className:"h-full hover:shadow-xl transition-all duration-300",children:s.jsx(ie,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center flex-shrink-0",children:s.jsx(n,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:t.title}),s.jsx("p",{className:"text-gray-600",children:t.description})]})]})})})},t.title)})})]}),s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:s.jsx(re,{className:"shadow-lg bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:s.jsxs(ie,{className:"p-8 text-center",children:[s.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Connect with Islam Media Central"}),s.jsx("p",{className:"text-blue-100 mb-6 text-lg",children:"Discover more Islamic content and resources for the whole family"}),s.jsxs(W,{onClick:()=>window.open("https://www.imediac.com","_blank"),className:"bg-white hover:bg-gray-100 text-blue-600",children:[s.jsx(md,{className:"w-4 h-4 mr-2"}),"Visit Website"]})]})})}),s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-8",children:s.jsx(re,{className:"shadow border-2 border-green-200",children:s.jsxs(ie,{className:"p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Acknowledgements"}),s.jsxs("p",{className:"text-gray-700",children:["Quran text, translations, and audio in our Recitation & Hifz module are powered by the",s.jsx("a",{href:"https://alquran.cloud/api",target:"_blank",rel:"noreferrer",className:"text-green-700 font-semibold ml-1",children:"AlQuran.Cloud API"}),"by Islamic Network. We are grateful for their service to the community."]})]})})})]})})}var doe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],hoe=doe.reduce((t,e)=>{const n=My(`Primitive.${e}`),r=y.forwardRef((i,a)=>{const{asChild:o,...c}=i,u=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(u,{...c,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),foe="Label",h6=y.forwardRef((t,e)=>s.jsx(hoe.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));h6.displayName=foe;var f6=h6;const moe=$m("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),be=y.forwardRef(({className:t,...e},n)=>s.jsx(f6,{ref:n,className:mt(moe(),t),...e}));be.displayName=f6.displayName;const poe=["","","","","","","","","","","",""];function m6(){const t=nr(),[e,n]=y.useState(!1),[r,i]=y.useState(!1),[a,o]=y.useState({full_name:"",age:"",city:"",madrasah_maktab:"",avatar:""});y.useEffect(()=>{try{const x=localStorage.getItem("ikz_user");if(x){const _=JSON.parse(x);o(w=>({...w,full_name:_.full_name||w.full_name,age:_.age||w.age,city:_.city||w.city,madrasah_maktab:_.madrasah_maktab||w.madrasah_maktab,avatar:_.avatar||w.avatar}))}}catch{}i(!1)},[]);const[c,u]=y.useState(null),[h,f]=y.useState(!1),m=()=>{t(at("Games"))},g=x=>{x.preventDefault(),n(!0),setTimeout(()=>{u(a),f(!0),n(!1),localStorage.setItem("ikz_user",JSON.stringify(a)),t(at("Games"))},500)};return h?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 flex items-center justify-center p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:""}),s.jsx("p",{className:"text-white text-lg font-medium",children:"Signup successful! Welcome to Islam Kids Zone."})]})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 flex items-center justify-center p-4",children:s.jsx(te.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"w-full max-w-md",children:s.jsxs(re,{className:"shadow-2xl border-4 border-white/50",children:[s.jsxs(Oe,{className:"text-center pb-4",children:[s.jsx(te.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200},className:"text-6xl mb-4",children:""}),s.jsx(Me,{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Welcome to Islam Kids Zone!"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Sign up to personalize your experience!"})]}),s.jsx(ie,{children:s.jsxs("form",{onSubmit:g,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(be,{htmlFor:"full_name",children:"Full Name"}),s.jsx(ke,{id:"full_name",type:"text",value:a.full_name,onChange:x=>o({...a,full_name:x.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"age",children:"Age"}),s.jsx(ke,{id:"age",type:"number",min:"1",value:a.age,onChange:x=>o({...a,age:x.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"city",children:"City"}),s.jsx(ke,{id:"city",type:"text",value:a.city,onChange:x=>o({...a,city:x.target.value})})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"madrasah_maktab",children:"Madrasah/Maktab"}),s.jsx(ke,{id:"madrasah_maktab",type:"text",value:a.madrasah_maktab,onChange:x=>o({...a,madrasah_maktab:x.target.value})})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Choose an Avatar"}),s.jsx("div",{className:"flex gap-2 flex-wrap mt-2",children:poe.map(x=>s.jsx("button",{type:"button",className:`text-2xl px-2 py-1 rounded-lg border ${a.avatar===x?"border-blue-500 bg-blue-100":"border-gray-300 bg-white"}`,onClick:()=>o({...a,avatar:x}),children:x},x))})]}),s.jsxs("div",{className:"flex gap-4 mt-6",children:[s.jsx(W,{type:"submit",disabled:e,className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 text-white font-bold",children:e?"Saving...":"Save & Continue"}),s.jsx(W,{type:"button",variant:"outline",onClick:m,className:"w-full",children:"Skip & Explore"})]})]})})]})})})}const Dn=y.forwardRef(({className:t,...e},n)=>s.jsx("textarea",{className:mt("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));Dn.displayName="Textarea";function p6(){const[t,e]=y.useState({name:"",email:"",subject:"",message:""}),[n,r]=y.useState(!1),[i,a]=y.useState(!1),[o,c]=y.useState(null);Nt.useEffect(()=>{u()},[]);const u=async()=>{try{if(await base44.auth.isAuthenticated()){const m=await base44.auth.me();c(m)}else c(null)}catch{c(null)}},h=async f=>{f.preventDefault(),r(!0);try{await base44.integrations.Core.SendEmail({from_name:"Islam Kids Zone - Contact Form",to:"huzaify786@gmail.com",subject:`Contact Form: ${t.subject}`,body:`
          <div style="font-family: Arial, sans-serif; padding: 20px; background-color: #f3f4f6; border-radius: 10px;">
            <h2 style="color: #3B82F6;"> New Contact Form Submission</h2>
            <div style="background-color: white; padding: 20px; border-radius: 8px; margin-top: 20px;">
              <p><strong> Name:</strong> ${t.name}</p>
              <p><strong> Email:</strong> ${t.email}</p>
              <p><strong> Subject:</strong> ${t.subject}</p>
              <hr style="margin: 20px 0; border: none; border-top: 1px solid #e5e7eb;">
              <p><strong> Message:</strong></p>
              <p style="background-color: #f9fafb; padding: 15px; border-radius: 5px; white-space: pre-wrap;">${t.message}</p>
            </div>
            <hr style="margin: 20px 0; border: none; border-top: 1px solid #e5e7eb;">
            <p style="color: #6b7280; font-size: 12px; text-align: center;">
               Sent on: ${new Date().toLocaleString()}
            </p>
          </div>
        `});try{await Ux.add({name:t.name,email:t.email,subject:t.subject,message:t.message,createdAt:new Date().toISOString(),read:!1})}catch(m){console.warn("Message not persisted (Firebase not configured or error)",(m==null?void 0:m.message)||m)}a(!0),e({name:(o==null?void 0:o.full_name)||"",email:(o==null?void 0:o.email)||"",subject:"",message:""}),setTimeout(()=>a(!1),5e3)}catch(m){console.error("Error sending message:",m),alert("Failed to send message. Please try again.")}finally{r(!1)}};return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Contact Us"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Have a question, suggestion, or feedback? We'd love to hear from you!"})]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[s.jsxs(te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"space-y-6",children:[s.jsx(re,{className:"border-2 border-blue-200 shadow-lg hover:shadow-xl transition-all duration-300",children:s.jsx(ie,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center flex-shrink-0",children:s.jsx(my,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:"Email Us"}),s.jsx("a",{href:"mailto:huzaify786@gmail.com",className:"text-blue-600 hover:text-blue-700 text-sm break-all",children:"huzaify786@gmail.com"})]})]})})}),s.jsx(re,{className:"border-2 border-green-200 shadow-lg",children:s.jsx(ie,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-green-500 to-teal-500 flex items-center justify-center flex-shrink-0",children:s.jsx(wx,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:"Quick Response"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"We typically respond within 24-48 hours"})]})]})})}),s.jsx(re,{className:"border-2 border-amber-200 shadow-lg bg-gradient-to-br from-amber-50 to-orange-50",children:s.jsx(ie,{className:"p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl mb-3",children:""}),s.jsx("p",{className:"text-gray-700 italic text-sm mb-2",children:'"The best of people are those who are most beneficial to people."'}),s.jsx("p",{className:"text-gray-500 text-xs",children:"- Prophet Muhammad "})]})})})]}),s.jsx(te.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"md:col-span-2",children:s.jsxs(re,{className:"shadow-2xl border-2 border-blue-300",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:s.jsxs(Me,{className:"text-2xl flex items-center gap-2",children:[s.jsx(mi,{className:"w-6 h-6"}),"Send us a Message"]})}),s.jsx(ie,{className:"p-6",children:i?s.jsxs(te.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"text-center py-12",children:[s.jsx(lh,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Message Sent! "}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Thank you for contacting us. We'll get back to you soon!"}),s.jsx(W,{onClick:()=>a(!1),variant:"outline",children:"Send Another Message"})]}):s.jsxs("form",{onSubmit:h,className:"space-y-5",children:[s.jsxs("div",{children:[s.jsx(be,{htmlFor:"name",className:"text-gray-700 font-semibold",children:"Your Name *"}),s.jsx(ke,{id:"name",type:"text",value:t.name,onChange:f=>e({...t,name:f.target.value}),placeholder:"Enter your name",required:!0,className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"email",className:"text-gray-700 font-semibold",children:"Your Email *"}),s.jsx(ke,{id:"email",type:"email",value:t.email,onChange:f=>e({...t,email:f.target.value}),placeholder:"your.email@example.com",required:!0,className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"subject",className:"text-gray-700 font-semibold",children:"Subject *"}),s.jsx(ke,{id:"subject",type:"text",value:t.subject,onChange:f=>e({...t,subject:f.target.value}),placeholder:"What is this about?",required:!0,className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"message",className:"text-gray-700 font-semibold",children:"Message *"}),s.jsx(Dn,{id:"message",value:t.message,onChange:f=>e({...t,message:f.target.value}),placeholder:"Tell us more about your question or feedback...",required:!0,rows:6,className:"mt-1"})]}),s.jsx(W,{type:"submit",disabled:n,className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-lg py-6",children:n?s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Sending..."]}):s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(_x,{className:"w-5 h-5"}),"Send Message"]})})]})})]})})]})]})})}var Ky="Tabs",[goe]=Oa(Ky,[Cy]),g6=Cy(),[xoe,O1]=goe(Ky),x6=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:c,activationMode:u="automatic",...h}=t,f=vy(c),[m,g]=Nl({prop:r,onChange:i,defaultProp:a??"",caller:Ky});return s.jsx(xoe,{scope:n,baseId:ba(),value:m,onValueChange:g,orientation:o,dir:f,activationMode:u,children:s.jsx(At.div,{dir:f,"data-orientation":o,...h,ref:e})})});x6.displayName=Ky;var y6="TabsList",v6=y.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,a=O1(y6,n),o=g6(n);return s.jsx(uO,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:r,children:s.jsx(At.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});v6.displayName=y6;var b6="TabsTrigger",w6=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...a}=t,o=O1(b6,n),c=g6(n),u=N6(o.baseId,r),h=S6(o.baseId,r),f=r===o.value;return s.jsx(dO,{asChild:!0,...c,focusable:!i,active:f,children:s.jsx(At.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":h,"data-state":f?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:u,...a,ref:e,onMouseDown:nt(t.onMouseDown,m=>{!i&&m.button===0&&m.ctrlKey===!1?o.onValueChange(r):m.preventDefault()}),onKeyDown:nt(t.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&o.onValueChange(r)}),onFocus:nt(t.onFocus,()=>{const m=o.activationMode!=="manual";!f&&!i&&m&&o.onValueChange(r)})})})});w6.displayName=b6;var j6="TabsContent",_6=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:a,...o}=t,c=O1(j6,n),u=N6(c.baseId,r),h=S6(c.baseId,r),f=r===c.value,m=y.useRef(f);return y.useEffect(()=>{const g=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(g)},[]),s.jsx(Da,{present:i||f,children:({present:g})=>s.jsx(At.div,{"data-state":f?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":u,hidden:!g,id:h,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:m.current?"0s":void 0},children:g&&a})})});_6.displayName=j6;function N6(t,e){return`${t}-trigger-${e}`}function S6(t,e){return`${t}-content-${e}`}var yoe=x6,E6=v6,k6=w6,C6=_6;const A6=yoe,M1=y.forwardRef(({className:t,...e},n)=>s.jsx(E6,{ref:n,className:mt("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",t),...e}));M1.displayName=E6.displayName;const Zo=y.forwardRef(({className:t,...e},n)=>s.jsx(k6,{ref:n,className:mt("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",t),...e}));Zo.displayName=k6.displayName;const Xo=y.forwardRef(({className:t,...e},n)=>s.jsx(C6,{ref:n,className:mt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Xo.displayName=C6.displayName;const TT=[{id:"bismillah",category:"Daily",title:"Before Eating",arabic:" ",transliteration:"Bismillah",translation:"In the name of Allah",audio:null,reference:"Sunan Abu Dawud"},{id:"alhamdulillah",category:"Daily",title:"After Eating",arabic:" ",transliteration:"Alhamdulillah",translation:"All praise is for Allah",audio:null,reference:"Sahih Muslim"},{id:"morning",category:"Morning",title:"Morning Dua",arabic:"          ",transliteration:"Allahumma bika asbahna, wa bika amsayna, wa bika nahya, wa bika namutu, wa ilayka an-nushur",translation:"O Allah, by You we enter the morning, by You we enter the evening, by You we live, by You we die, and to You is the resurrection",audio:null,reference:"Tirmidhi"},{id:"sleep",category:"Bedtime",title:"Before Sleeping",arabic:"   ",transliteration:"Bismika Allahumma amutu wa ahya",translation:"In Your name O Allah, I die and I live",audio:null,reference:"Bukhari"},{id:"travel",category:"Travel",title:"Traveling Dua",arabic:"        ",transliteration:"Subhanal-ladhi sakhkhara lana hadha wa ma kunna lahu muqrinin",translation:"Glory to Him who has subjected this to us, and we could not have done it ourselves",audio:null,reference:"Muslim"},{id:"entering_home",category:"Daily",title:"Entering Home",arabic:"      ",transliteration:"Allahumma inni as'aluka khayra al-mawliji wa khayra al-makhraji",translation:"O Allah, I ask You for the best entering and the best leaving",audio:null,reference:"Abu Dawud"},{id:"protection",category:"Protection",title:"Protection from harm",arabic:"               ",transliteration:"Bismillahil-ladhi la yadurru ma'asmihi shay'un fil-ardi wa la fis-sama'i wa huwas-Sami'ul-'Aleem",translation:"In the name of Allah with whose name nothing on earth or in heaven can cause harm, and He is the All-Hearing, All-Knowing",audio:null,reference:"Abu Dawud"},{id:"mosque_entry",category:"Daily",title:"Entering the Mosque",arabic:"    ",transliteration:"Allahumma iftah li abwaba rahmatik",translation:"O Allah, open for me the doors of Your mercy",audio:null,reference:"Muslim"}],voe=["All","Daily","Morning","Bedtime","Travel","Protection"];function T6(){const[t,e]=y.useState("All"),[n,r]=y.useState([]),[i,a]=y.useState(!1),o=y.useRef(null);y.useEffect(()=>(o.current=(window==null?void 0:window.speechSynthesis)||null,()=>{var m,g;try{(g=(m=o.current)==null?void 0:m.cancel)==null||g.call(m)}catch{}}),[]);const c=t==="All"?TT:TT.filter(m=>m.category===t),u=m=>{n.includes(m)?r(n.filter(g=>g!==m)):r([...n,m])},h=()=>{var m,g;try{(g=(m=o.current)==null?void 0:m.cancel)==null||g.call(m),a(!1)}catch{}},f=(m,g="en-US")=>{var x,_;try{if(!o.current)return;h();const w=new SpeechSynthesisUtterance(m),N=(((_=(x=o.current).getVoices)==null?void 0:_.call(x))||[]).find(S=>{var k;return(k=S.lang)==null?void 0:k.toLowerCase().startsWith(g.toLowerCase().split("-")[0])});N&&(w.voice=N),w.lang=(N==null?void 0:N.lang)||g,w.rate=.95,w.onend=()=>a(!1),a(!0),o.current.speak(w)}catch{}};return s.jsx("div",{className:"min-h-screen py-8 md:py-12 px-2 md:px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8 px-2",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-gray-900 mb-4",children:"Daily Duas"}),s.jsx("p",{className:"text-base md:text-lg text-gray-600",children:"Learn and memorize essential Islamic supplications"})]}),s.jsx(A6,{value:t,onValueChange:e,className:"mb-6",children:s.jsx(M1,{className:"flex flex-wrap gap-2 justify-center",children:voe.map(m=>s.jsx(Zo,{value:m,children:m},m))})}),s.jsx("div",{className:"space-y-6",children:c.map((m,g)=>s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:g*.1},children:s.jsxs(re,{className:"shadow-lg hover:shadow-xl transition-all duration-300",children:[s.jsx(Oe,{children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(we,{className:"bg-blue-100 text-blue-800",children:m.category}),s.jsx(Me,{className:"text-xl",children:m.title})]})}),s.jsx(W,{variant:"ghost",size:"icon",onClick:()=>u(m.id),className:n.includes(m.id)?"text-red-500":"text-gray-400",children:s.jsx(ch,{className:`w-5 h-5 ${n.includes(m.id)?"fill-current":""}`})})]})}),s.jsxs(ie,{className:"space-y-4",children:[s.jsx("div",{className:"text-center",children:s.jsx("p",{className:"text-2xl md:text-3xl text-right mb-2",style:{fontFamily:"serif",lineHeight:"1.8"},children:m.arabic})}),s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[s.jsx("p",{className:"font-semibold text-gray-700 mb-1",children:"Transliteration:"}),s.jsx("p",{className:"text-gray-800 italic",children:m.transliteration})]}),s.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[s.jsx("p",{className:"font-semibold text-gray-700 mb-1",children:"Translation:"}),s.jsx("p",{className:"text-gray-800",children:m.translation}),m.reference&&s.jsx("div",{className:"mt-2",children:s.jsx(we,{variant:"outline",className:"text-xs",children:m.reference})})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs(W,{onClick:()=>f(m.arabic,"ar"),variant:"outline",className:"flex items-center gap-2",children:[s.jsx(Oi,{className:"w-4 h-4"})," Play Arabic"]}),s.jsxs(W,{onClick:()=>f(m.transliteration,"en-US"),variant:"outline",className:"flex items-center gap-2",children:[s.jsx(Oi,{className:"w-4 h-4"})," Play Transliteration"]}),i&&s.jsxs(W,{onClick:h,variant:"ghost",className:"flex items-center gap-2",children:[s.jsx(Bd,{className:"w-4 h-4"})," Stop"]})]})]})]})},m.id))}),s.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-12",children:s.jsx(re,{className:"border-2 border-amber-200 bg-gradient-to-br from-amber-50 to-orange-50",children:s.jsxs(ie,{className:"p-8 text-center",children:[s.jsx("div",{className:"text-5xl mb-4",children:""}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Keep Making Dua!"}),s.jsx("p",{className:"text-gray-700 max-w-2xl mx-auto",children:'The Prophet Muhammad  said: "Dua is the essence of worship." Keep these duas in your daily routine and teach them to others!'})]})})})]})})}function boe(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}Array(12).fill(0);let Xj=1;class woe{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...i}=e,a=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Xj++,o=this.toasts.find(u=>u.id===a),c=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),o?this.toasts=this.toasts.map(u=>u.id===a?(this.publish({...u,...e,id:a,title:r}),{...u,...e,id:a,dismissible:c,title:r}):u):this.addToast({title:r,...i,dismissible:c,id:a}),a},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let a=r!==void 0,o;const c=i.then(async h=>{if(o=["resolve",h],Nt.isValidElement(h))a=!1,this.create({id:r,type:"default",message:h});else if(_oe(h)&&!h.ok){a=!1;const m=typeof n.error=="function"?await n.error(`HTTP error! status: ${h.status}`):n.error,g=typeof n.description=="function"?await n.description(`HTTP error! status: ${h.status}`):n.description,_=typeof m=="object"&&!Nt.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:g,..._})}else if(h instanceof Error){a=!1;const m=typeof n.error=="function"?await n.error(h):n.error,g=typeof n.description=="function"?await n.description(h):n.description,_=typeof m=="object"&&!Nt.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:g,..._})}else if(n.success!==void 0){a=!1;const m=typeof n.success=="function"?await n.success(h):n.success,g=typeof n.description=="function"?await n.description(h):n.description,_=typeof m=="object"&&!Nt.isValidElement(m)?m:{message:m};this.create({id:r,type:"success",description:g,..._})}}).catch(async h=>{if(o=["reject",h],n.error!==void 0){a=!1;const f=typeof n.error=="function"?await n.error(h):n.error,m=typeof n.description=="function"?await n.description(h):n.description,x=typeof f=="object"&&!Nt.isValidElement(f)?f:{message:f};this.create({id:r,type:"error",description:m,...x})}}).finally(()=>{a&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),u=()=>new Promise((h,f)=>c.then(()=>o[0]==="reject"?f(o[1]):h(o[1])).catch(f));return typeof r!="string"&&typeof r!="number"?{unwrap:u}:Object.assign(r,{unwrap:u})},this.custom=(e,n)=>{const r=(n==null?void 0:n.id)||Xj++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const ai=new woe,joe=(t,e)=>{const n=(e==null?void 0:e.id)||Xj++;return ai.addToast({title:t,...e,id:n}),n},_oe=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Noe=joe,Soe=()=>ai.toasts,Eoe=()=>ai.getActiveToasts(),ft=Object.assign(Noe,{success:ai.success,info:ai.info,warning:ai.warning,error:ai.error,custom:ai.custom,message:ai.message,promise:ai.promise,dismiss:ai.dismiss,loading:ai.loading},{getHistory:Soe,getToasts:Eoe});boe("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function RT(t,[e,n]){return Math.min(n,Math.max(e,t))}function koe(t){const e=Coe(t),n=y.forwardRef((r,i)=>{const{children:a,...o}=r,c=y.Children.toArray(a),u=c.find(Toe);if(u){const h=u.props.children,f=c.map(m=>m===u?y.Children.count(h)>1?y.Children.only(null):y.isValidElement(h)?h.props.children:null:m);return s.jsx(e,{...o,ref:i,children:y.isValidElement(h)?y.cloneElement(h,void 0,f):null})}return s.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function Coe(t){const e=y.forwardRef((n,r)=>{const{children:i,...a}=n;if(y.isValidElement(i)){const o=Ioe(i),c=Roe(a,i.props);return i.type!==y.Fragment&&(c.ref=r?jo(r,o):o),y.cloneElement(i,c)}return y.Children.count(i)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Aoe=Symbol("radix.slottable");function Toe(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Aoe}function Roe(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...c)=>{const u=a(...c);return i(...c),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function Ioe(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var R6=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Poe="VisuallyHidden",Ooe=y.forwardRef((t,e)=>s.jsx(At.span,{...t,ref:e,style:{...R6,...t.style}}));Ooe.displayName=Poe;var Moe=[" ","Enter","ArrowUp","ArrowDown"],Doe=[" ","Enter"],Xc="Select",[Gy,Qy,Loe]=AN(Xc),[_h]=Oa(Xc,[Loe,Ey]),Jy=Ey(),[Foe,Vl]=_h(Xc),[Voe,Uoe]=_h(Xc),I6=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:a,value:o,defaultValue:c,onValueChange:u,dir:h,name:f,autoComplete:m,disabled:g,required:x,form:_}=t,w=Jy(e),[j,N]=y.useState(null),[S,k]=y.useState(null),[C,R]=y.useState(!1),O=vy(h),[A,M]=Nl({prop:r,defaultProp:i??!1,onChange:a,caller:Xc}),[P,F]=Nl({prop:o,defaultProp:c,onChange:u,caller:Xc}),L=y.useRef(null),D=j?_||!!j.closest("form"):!0,[V,G]=y.useState(new Set),ee=Array.from(V).map(ae=>ae.props.value).join(";");return s.jsx(tO,{...w,children:s.jsxs(Foe,{required:x,scope:e,trigger:j,onTriggerChange:N,valueNode:S,onValueNodeChange:k,valueNodeHasChildren:C,onValueNodeHasChildrenChange:R,contentId:ba(),value:P,onValueChange:F,open:A,onOpenChange:M,dir:O,triggerPointerDownPosRef:L,disabled:g,children:[s.jsx(Gy.Provider,{scope:e,children:s.jsx(Voe,{scope:t.__scopeSelect,onNativeOptionAdd:y.useCallback(ae=>{G(ue=>new Set(ue).add(ae))},[]),onNativeOptionRemove:y.useCallback(ae=>{G(ue=>{const Q=new Set(ue);return Q.delete(ae),Q})},[]),children:n})}),D?s.jsxs(nL,{"aria-hidden":!0,required:x,tabIndex:-1,name:f,autoComplete:m,value:P,onChange:ae=>F(ae.target.value),disabled:g,form:_,children:[P===void 0?s.jsx("option",{value:""}):null,Array.from(V)]},ee):null]})})};I6.displayName=Xc;var P6="SelectTrigger",O6=y.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,a=Jy(n),o=Vl(P6,n),c=o.disabled||r,u=rn(e,o.onTriggerChange),h=Qy(n),f=y.useRef("touch"),[m,g,x]=sL(w=>{const j=h().filter(k=>!k.disabled),N=j.find(k=>k.value===o.value),S=iL(j,w,N);S!==void 0&&o.onValueChange(S.value)}),_=w=>{c||(o.onOpenChange(!0),x()),w&&(o.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return s.jsx(nO,{asChild:!0,...a,children:s.jsx(At.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":rL(o.value)?"":void 0,...i,ref:u,onClick:nt(i.onClick,w=>{w.currentTarget.focus(),f.current!=="mouse"&&_(w)}),onPointerDown:nt(i.onPointerDown,w=>{f.current=w.pointerType;const j=w.target;j.hasPointerCapture(w.pointerId)&&j.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(_(w),w.preventDefault())}),onKeyDown:nt(i.onKeyDown,w=>{const j=m.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&g(w.key),!(j&&w.key===" ")&&Moe.includes(w.key)&&(_(),w.preventDefault())})})})});O6.displayName=P6;var M6="SelectValue",D6=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:a,placeholder:o="",...c}=t,u=Vl(M6,n),{onValueNodeHasChildrenChange:h}=u,f=a!==void 0,m=rn(e,u.onValueNodeChange);return ur(()=>{h(f)},[h,f]),s.jsx(At.span,{...c,ref:m,style:{pointerEvents:"none"},children:rL(u.value)?s.jsx(s.Fragment,{children:o}):a})});D6.displayName=M6;var $oe="SelectIcon",L6=y.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return s.jsx(At.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});L6.displayName=$oe;var Boe="SelectPortal",F6=t=>s.jsx(ky,{asChild:!0,...t});F6.displayName=Boe;var Zc="SelectContent",V6=y.forwardRef((t,e)=>{const n=Vl(Zc,t.__scopeSelect),[r,i]=y.useState();if(ur(()=>{i(new DocumentFragment)},[]),!n.open){const a=r;return a?Im.createPortal(s.jsx(U6,{scope:t.__scopeSelect,children:s.jsx(Gy.Slot,{scope:t.__scopeSelect,children:s.jsx("div",{children:t.children})})}),a):null}return s.jsx($6,{...t,ref:e})});V6.displayName=Zc;var Ai=10,[U6,Ul]=_h(Zc),zoe="SelectContentImpl",qoe=koe("SelectContent.RemoveScroll"),$6=y.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:c,sideOffset:u,align:h,alignOffset:f,arrowPadding:m,collisionBoundary:g,collisionPadding:x,sticky:_,hideWhenDetached:w,avoidCollisions:j,...N}=t,S=Vl(Zc,n),[k,C]=y.useState(null),[R,O]=y.useState(null),A=rn(e,ve=>C(ve)),[M,P]=y.useState(null),[F,L]=y.useState(null),D=Qy(n),[V,G]=y.useState(!1),ee=y.useRef(!1);y.useEffect(()=>{if(k)return UN(k)},[k]),TN();const ae=y.useCallback(ve=>{const[Fe,...Ie]=D().map(de=>de.ref.current),[ze]=Ie.slice(-1),rt=document.activeElement;for(const de of ve)if(de===rt||(de==null||de.scrollIntoView({block:"nearest"}),de===Fe&&R&&(R.scrollTop=0),de===ze&&R&&(R.scrollTop=R.scrollHeight),de==null||de.focus(),document.activeElement!==rt))return},[D,R]),ue=y.useCallback(()=>ae([M,k]),[ae,M,k]);y.useEffect(()=>{V&&ue()},[V,ue]);const{onOpenChange:Q,triggerPointerDownPosRef:K}=S;y.useEffect(()=>{if(k){let ve={x:0,y:0};const Fe=ze=>{var rt,de;ve={x:Math.abs(Math.round(ze.pageX)-(((rt=K.current)==null?void 0:rt.x)??0)),y:Math.abs(Math.round(ze.pageY)-(((de=K.current)==null?void 0:de.y)??0))}},Ie=ze=>{ve.x<=10&&ve.y<=10?ze.preventDefault():k.contains(ze.target)||Q(!1),document.removeEventListener("pointermove",Fe),K.current=null};return K.current!==null&&(document.addEventListener("pointermove",Fe),document.addEventListener("pointerup",Ie,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Fe),document.removeEventListener("pointerup",Ie,{capture:!0})}}},[k,Q,K]),y.useEffect(()=>{const ve=()=>Q(!1);return window.addEventListener("blur",ve),window.addEventListener("resize",ve),()=>{window.removeEventListener("blur",ve),window.removeEventListener("resize",ve)}},[Q]);const[B,z]=sL(ve=>{const Fe=D().filter(rt=>!rt.disabled),Ie=Fe.find(rt=>rt.ref.current===document.activeElement),ze=iL(Fe,ve,Ie);ze&&setTimeout(()=>ze.ref.current.focus())}),X=y.useCallback((ve,Fe,Ie)=>{const ze=!ee.current&&!Ie;(S.value!==void 0&&S.value===Fe||ze)&&(P(ve),ze&&(ee.current=!0))},[S.value]),q=y.useCallback(()=>k==null?void 0:k.focus(),[k]),ye=y.useCallback((ve,Fe,Ie)=>{const ze=!ee.current&&!Ie;(S.value!==void 0&&S.value===Fe||ze)&&L(ve)},[S.value]),_e=r==="popper"?Zj:B6,Ee=_e===Zj?{side:c,sideOffset:u,align:h,alignOffset:f,arrowPadding:m,collisionBoundary:g,collisionPadding:x,sticky:_,hideWhenDetached:w,avoidCollisions:j}:{};return s.jsx(U6,{scope:n,content:k,viewport:R,onViewportChange:O,itemRefCallback:X,selectedItem:M,onItemLeave:q,itemTextRefCallback:ye,focusSelectedItem:ue,selectedItemText:F,position:r,isPositioned:V,searchRef:B,children:s.jsx(Ry,{as:qoe,allowPinchZoom:!0,children:s.jsx(wy,{asChild:!0,trapped:S.open,onMountAutoFocus:ve=>{ve.preventDefault()},onUnmountAutoFocus:nt(i,ve=>{var Fe;(Fe=S.trigger)==null||Fe.focus({preventScroll:!0}),ve.preventDefault()}),children:s.jsx(by,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:ve=>ve.preventDefault(),onDismiss:()=>S.onOpenChange(!1),children:s.jsx(_e,{role:"listbox",id:S.contentId,"data-state":S.open?"open":"closed",dir:S.dir,onContextMenu:ve=>ve.preventDefault(),...N,...Ee,onPlaced:()=>G(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:nt(N.onKeyDown,ve=>{const Fe=ve.ctrlKey||ve.altKey||ve.metaKey;if(ve.key==="Tab"&&ve.preventDefault(),!Fe&&ve.key.length===1&&z(ve.key),["ArrowUp","ArrowDown","Home","End"].includes(ve.key)){let ze=D().filter(rt=>!rt.disabled).map(rt=>rt.ref.current);if(["ArrowUp","End"].includes(ve.key)&&(ze=ze.slice().reverse()),["ArrowUp","ArrowDown"].includes(ve.key)){const rt=ve.target,de=ze.indexOf(rt);ze=ze.slice(de+1)}setTimeout(()=>ae(ze)),ve.preventDefault()}})})})})})})});$6.displayName=zoe;var Hoe="SelectItemAlignedPosition",B6=y.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,a=Vl(Zc,n),o=Ul(Zc,n),[c,u]=y.useState(null),[h,f]=y.useState(null),m=rn(e,A=>f(A)),g=Qy(n),x=y.useRef(!1),_=y.useRef(!0),{viewport:w,selectedItem:j,selectedItemText:N,focusSelectedItem:S}=o,k=y.useCallback(()=>{if(a.trigger&&a.valueNode&&c&&h&&w&&j&&N){const A=a.trigger.getBoundingClientRect(),M=h.getBoundingClientRect(),P=a.valueNode.getBoundingClientRect(),F=N.getBoundingClientRect();if(a.dir!=="rtl"){const rt=F.left-M.left,de=P.left-rt,se=A.left-de,ge=A.width+se,Re=Math.max(ge,M.width),Xe=window.innerWidth-Ai,It=RT(de,[Ai,Math.max(Ai,Xe-Re)]);c.style.minWidth=ge+"px",c.style.left=It+"px"}else{const rt=M.right-F.right,de=window.innerWidth-P.right-rt,se=window.innerWidth-A.right-de,ge=A.width+se,Re=Math.max(ge,M.width),Xe=window.innerWidth-Ai,It=RT(de,[Ai,Math.max(Ai,Xe-Re)]);c.style.minWidth=ge+"px",c.style.right=It+"px"}const L=g(),D=window.innerHeight-Ai*2,V=w.scrollHeight,G=window.getComputedStyle(h),ee=parseInt(G.borderTopWidth,10),ae=parseInt(G.paddingTop,10),ue=parseInt(G.borderBottomWidth,10),Q=parseInt(G.paddingBottom,10),K=ee+ae+V+Q+ue,B=Math.min(j.offsetHeight*5,K),z=window.getComputedStyle(w),X=parseInt(z.paddingTop,10),q=parseInt(z.paddingBottom,10),ye=A.top+A.height/2-Ai,_e=D-ye,Ee=j.offsetHeight/2,ve=j.offsetTop+Ee,Fe=ee+ae+ve,Ie=K-Fe;if(Fe<=ye){const rt=L.length>0&&j===L[L.length-1].ref.current;c.style.bottom="0px";const de=h.clientHeight-w.offsetTop-w.offsetHeight,se=Math.max(_e,Ee+(rt?q:0)+de+ue),ge=Fe+se;c.style.height=ge+"px"}else{const rt=L.length>0&&j===L[0].ref.current;c.style.top="0px";const se=Math.max(ye,ee+w.offsetTop+(rt?X:0)+Ee)+Ie;c.style.height=se+"px",w.scrollTop=Fe-ye+w.offsetTop}c.style.margin=`${Ai}px 0`,c.style.minHeight=B+"px",c.style.maxHeight=D+"px",r==null||r(),requestAnimationFrame(()=>x.current=!0)}},[g,a.trigger,a.valueNode,c,h,w,j,N,a.dir,r]);ur(()=>k(),[k]);const[C,R]=y.useState();ur(()=>{h&&R(window.getComputedStyle(h).zIndex)},[h]);const O=y.useCallback(A=>{A&&_.current===!0&&(k(),S==null||S(),_.current=!1)},[k,S]);return s.jsx(Koe,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:x,onScrollButtonChange:O,children:s.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:s.jsx(At.div,{...i,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});B6.displayName=Hoe;var Woe="SelectPopperPosition",Zj=y.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Ai,...a}=t,o=Jy(n);return s.jsx(rO,{...o,...a,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Zj.displayName=Woe;var[Koe,D1]=_h(Zc,{}),e_="SelectViewport",z6=y.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,a=Ul(e_,n),o=D1(e_,n),c=rn(e,a.onViewportChange),u=y.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),s.jsx(Gy.Slot,{scope:n,children:s.jsx(At.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:nt(i.onScroll,h=>{const f=h.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:g}=o;if(g!=null&&g.current&&m){const x=Math.abs(u.current-f.scrollTop);if(x>0){const _=window.innerHeight-Ai*2,w=parseFloat(m.style.minHeight),j=parseFloat(m.style.height),N=Math.max(w,j);if(N<_){const S=N+x,k=Math.min(_,S),C=S-k;m.style.height=k+"px",m.style.bottom==="0px"&&(f.scrollTop=C>0?C:0,m.style.justifyContent="flex-end")}}}u.current=f.scrollTop})})})]})});z6.displayName=e_;var q6="SelectGroup",[Goe,Qoe]=_h(q6),Joe=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=ba();return s.jsx(Goe,{scope:n,id:i,children:s.jsx(At.div,{role:"group","aria-labelledby":i,...r,ref:e})})});Joe.displayName=q6;var H6="SelectLabel",W6=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Qoe(H6,n);return s.jsx(At.div,{id:i.id,...r,ref:e})});W6.displayName=H6;var Gx="SelectItem",[Yoe,K6]=_h(Gx),G6=y.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:a,...o}=t,c=Vl(Gx,n),u=Ul(Gx,n),h=c.value===r,[f,m]=y.useState(a??""),[g,x]=y.useState(!1),_=rn(e,S=>{var k;return(k=u.itemRefCallback)==null?void 0:k.call(u,S,r,i)}),w=ba(),j=y.useRef("touch"),N=()=>{i||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(Yoe,{scope:n,value:r,disabled:i,textId:w,isSelected:h,onItemTextChange:y.useCallback(S=>{m(k=>k||((S==null?void 0:S.textContent)??"").trim())},[]),children:s.jsx(Gy.ItemSlot,{scope:n,value:r,disabled:i,textValue:f,children:s.jsx(At.div,{role:"option","aria-labelledby":w,"data-highlighted":g?"":void 0,"aria-selected":h&&g,"data-state":h?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:_,onFocus:nt(o.onFocus,()=>x(!0)),onBlur:nt(o.onBlur,()=>x(!1)),onClick:nt(o.onClick,()=>{j.current!=="mouse"&&N()}),onPointerUp:nt(o.onPointerUp,()=>{j.current==="mouse"&&N()}),onPointerDown:nt(o.onPointerDown,S=>{j.current=S.pointerType}),onPointerMove:nt(o.onPointerMove,S=>{var k;j.current=S.pointerType,i?(k=u.onItemLeave)==null||k.call(u):j.current==="mouse"&&S.currentTarget.focus({preventScroll:!0})}),onPointerLeave:nt(o.onPointerLeave,S=>{var k;S.currentTarget===document.activeElement&&((k=u.onItemLeave)==null||k.call(u))}),onKeyDown:nt(o.onKeyDown,S=>{var C;((C=u.searchRef)==null?void 0:C.current)!==""&&S.key===" "||(Doe.includes(S.key)&&N(),S.key===" "&&S.preventDefault())})})})})});G6.displayName=Gx;var Af="SelectItemText",Q6=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...a}=t,o=Vl(Af,n),c=Ul(Af,n),u=K6(Af,n),h=Uoe(Af,n),[f,m]=y.useState(null),g=rn(e,N=>m(N),u.onItemTextChange,N=>{var S;return(S=c.itemTextRefCallback)==null?void 0:S.call(c,N,u.value,u.disabled)}),x=f==null?void 0:f.textContent,_=y.useMemo(()=>s.jsx("option",{value:u.value,disabled:u.disabled,children:x},u.value),[u.disabled,u.value,x]),{onNativeOptionAdd:w,onNativeOptionRemove:j}=h;return ur(()=>(w(_),()=>j(_)),[w,j,_]),s.jsxs(s.Fragment,{children:[s.jsx(At.span,{id:u.textId,...a,ref:g}),u.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Im.createPortal(a.children,o.valueNode):null]})});Q6.displayName=Af;var J6="SelectItemIndicator",Y6=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return K6(J6,n).isSelected?s.jsx(At.span,{"aria-hidden":!0,...r,ref:e}):null});Y6.displayName=J6;var t_="SelectScrollUpButton",X6=y.forwardRef((t,e)=>{const n=Ul(t_,t.__scopeSelect),r=D1(t_,t.__scopeSelect),[i,a]=y.useState(!1),o=rn(e,r.onScrollButtonChange);return ur(()=>{if(n.viewport&&n.isPositioned){let c=function(){const h=u.scrollTop>0;a(h)};const u=n.viewport;return c(),u.addEventListener("scroll",c),()=>u.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),i?s.jsx(eL,{...t,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:u}=n;c&&u&&(c.scrollTop=c.scrollTop-u.offsetHeight)}}):null});X6.displayName=t_;var n_="SelectScrollDownButton",Z6=y.forwardRef((t,e)=>{const n=Ul(n_,t.__scopeSelect),r=D1(n_,t.__scopeSelect),[i,a]=y.useState(!1),o=rn(e,r.onScrollButtonChange);return ur(()=>{if(n.viewport&&n.isPositioned){let c=function(){const h=u.scrollHeight-u.clientHeight,f=Math.ceil(u.scrollTop)<h;a(f)};const u=n.viewport;return c(),u.addEventListener("scroll",c),()=>u.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),i?s.jsx(eL,{...t,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:u}=n;c&&u&&(c.scrollTop=c.scrollTop+u.offsetHeight)}}):null});Z6.displayName=n_;var eL=y.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,a=Ul("SelectScrollButton",n),o=y.useRef(null),c=Qy(n),u=y.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return y.useEffect(()=>()=>u(),[u]),ur(()=>{var f;const h=c().find(m=>m.ref.current===document.activeElement);(f=h==null?void 0:h.ref.current)==null||f.scrollIntoView({block:"nearest"})},[c]),s.jsx(At.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:nt(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:nt(i.onPointerMove,()=>{var h;(h=a.onItemLeave)==null||h.call(a),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:nt(i.onPointerLeave,()=>{u()})})}),Xoe="SelectSeparator",tL=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return s.jsx(At.div,{"aria-hidden":!0,...r,ref:e})});tL.displayName=Xoe;var r_="SelectArrow",Zoe=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Jy(n),a=Vl(r_,n),o=Ul(r_,n);return a.open&&o.position==="popper"?s.jsx(sO,{...i,...r,ref:e}):null});Zoe.displayName=r_;var ele="SelectBubbleInput",nL=y.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=y.useRef(null),a=rn(r,i),o=R1(e);return y.useEffect(()=>{const c=i.current;if(!c)return;const u=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(u,"value").set;if(o!==e&&f){const m=new Event("change",{bubbles:!0});f.call(c,e),c.dispatchEvent(m)}},[o,e]),s.jsx(At.select,{...n,style:{...R6,...n.style},ref:a,defaultValue:e})});nL.displayName=ele;function rL(t){return t===""||t===void 0}function sL(t){const e=Mi(t),n=y.useRef(""),r=y.useRef(0),i=y.useCallback(o=>{const c=n.current+o;e(c),(function u(h){n.current=h,window.clearTimeout(r.current),h!==""&&(r.current=window.setTimeout(()=>u(""),1e3))})(c)},[e]),a=y.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,a]}function iL(t,e,n){const i=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let o=tle(t,Math.max(a,0));i.length===1&&(o=o.filter(h=>h!==n));const u=o.find(h=>h.textValue.toLowerCase().startsWith(i.toLowerCase()));return u!==n?u:void 0}function tle(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var nle=I6,aL=O6,rle=D6,sle=L6,ile=F6,oL=V6,ale=z6,lL=W6,cL=G6,ole=Q6,lle=Y6,uL=X6,dL=Z6,hL=tL;const Xt=nle,Zt=rle,Qt=y.forwardRef(({className:t,children:e,...n},r)=>s.jsxs(aL,{ref:r,className:mt("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,s.jsx(sle,{asChild:!0,children:s.jsx(em,{className:"h-4 w-4 opacity-50"})})]}));Qt.displayName=aL.displayName;const fL=y.forwardRef(({className:t,...e},n)=>s.jsx(uL,{ref:n,className:mt("flex cursor-default items-center justify-center py-1",t),...e,children:s.jsx(zI,{className:"h-4 w-4"})}));fL.displayName=uL.displayName;const mL=y.forwardRef(({className:t,...e},n)=>s.jsx(dL,{ref:n,className:mt("flex cursor-default items-center justify-center py-1",t),...e,children:s.jsx(em,{className:"h-4 w-4"})}));mL.displayName=dL.displayName;const Jt=y.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>s.jsx(ile,{children:s.jsxs(oL,{ref:i,className:mt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[s.jsx(fL,{}),s.jsx(ale,{className:mt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),s.jsx(mL,{})]})}));Jt.displayName=oL.displayName;const cle=y.forwardRef(({className:t,...e},n)=>s.jsx(lL,{ref:n,className:mt("px-2 py-1.5 text-sm font-semibold",t),...e}));cle.displayName=lL.displayName;const Le=y.forwardRef(({className:t,children:e,...n},r)=>s.jsxs(cL,{ref:r,className:mt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[s.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(lle,{children:s.jsx(Zf,{className:"h-4 w-4"})})}),s.jsx(ole,{children:e})]}));Le.displayName=cL.displayName;const ule=y.forwardRef(({className:t,...e},n)=>s.jsx(hL,{ref:n,className:mt("-mx-1 my-1 h-px bg-muted",t),...e}));ule.displayName=hL.displayName;function pL(){const[t,e]=y.useState(!1),[n,r]=y.useState(null),[i,a]=y.useState(null),[o,c]=y.useState(null),[u,h]=y.useState("quran"),[f,m]=y.useState(!1),[g,x]=y.useState(null),[_,w]=y.useState(!1),[j,N]=y.useState(null),[S,k]=y.useState(0),[C,R]=y.useState(null);y.useEffect(()=>{O()},[]),y.useEffect(()=>{if(i&&g&&g.pause(),i){const D=new Audio(i);x(D),D.onended=()=>{m(!1)}}},[i,g]);const O=async()=>{try{if(!await bt.auth.isAuthenticated()){ft.error("Please log in to record and share");return}const V=await bt.auth.me();N(V)}catch(D){console.error("Error loading user:",D),ft.error("Failed to load user data.")}},A=async()=>{try{const D=await navigator.mediaDevices.getUserMedia({audio:!0}),V=new MediaRecorder(D),G=[];V.ondataavailable=ae=>{G.push(ae.data)},V.onstop=()=>{const ae=new Blob(G,{type:"audio/webm"});r(ae),a(URL.createObjectURL(ae)),D.getTracks().forEach(ue=>ue.stop())},V.start(),c(V),e(!0),k(0);const ee=setInterval(()=>{k(ae=>ae+1)},1e3);R(ee),ft.success("Recording started! ")}catch(D){console.error("Error accessing microphone:",D),ft.error("Could not access microphone. Please check permissions.")}},M=()=>{o&&t&&(o.stop(),e(!1),C&&(clearInterval(C),R(null)),ft.success("Recording stopped!"))},P=()=>{g&&(f?(g.pause(),m(!1)):(g.play(),m(!0)))},F=async()=>{if(!n||!j){ft.error("Please record something first and make sure you're logged in");return}w(!0);try{const D=new File([n],`recording-${Date.now()}.webm`,{type:"audio/webm"}),{file_url:V}=await bt.integrations.Core.UploadFile({file:D});await bt.entities.Recording.create({user_id:j.id,user_name:j.full_name||j.email,user_email:j.email,recording_type:u,file_url:V,duration:Math.floor(S),status:"pending"});const G=j.points||0;await bt.auth.updateMe({points:G+10}),N({...j,points:G+10}),r(null),a(null),k(0),g&&(g.pause(),x(null),m(!1)),ft.success(" Recording submitted! You earned 10 points!",{duration:5e3,description:"Your recording will be reviewed by our team. Keep up the great work!"});try{await bt.integrations.Core.SendEmail({from_name:"Islam Kids Zone",to:"imediac786@gmail.com",subject:" New Audio Recording Submitted",body:`
            <div style="font-family: Arial, sans-serif; padding: 20px; background-color: #f3f4f6; border-radius: 10px;">
              <h2 style="color: #3B82F6;"> New Recording Submitted!</h2>
              <div style="background-color: white; padding: 20px; border-radius: 8px; margin-top: 20px;">
                <p><strong> Submitted by:</strong> ${j.full_name||j.email}</p>
                <p><strong> Email:</strong> ${j.email}</p>
                <p><strong> Type:</strong> ${u}</p>
                <p><strong> Duration:</strong> ${Math.floor(S/60)}:${String(S%60).padStart(2,"0")}</p>
                <p><strong> File URL:</strong> <a href="${V}">${V}</a></p>
                <p><strong> Points Awarded:</strong> 10 points</p>
                <p><strong> Submitted:</strong> ${new Date().toLocaleString()}</p>
              </div>
              <hr style="margin: 20px 0; border: none; border-top: 1px solid #e5e7eb;">
              <p style="color: #6b7280; font-size: 12px; text-align: center;">
                Please review this recording in the admin dashboard.
              </p>
            </div>
          `})}catch(ee){console.error("Error sending notification email:",ee),ft.warning("Notification email to admin failed, but recording was submitted.")}}catch(D){console.error("Error uploading recording:",D),ft.error("Failed to upload recording. Please try again.")}finally{w(!1)}},L=D=>{const V=Math.floor(D/60),G=D%60;return`${V}:${String(G).padStart(2,"0")}`};return j?s.jsx("div",{className:"min-h-screen py-8 px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Record & Share"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Share your beautiful Quran recitation, nasheed, or Islamic story"})]}),s.jsx(te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-8",children:s.jsx(re,{className:"border-4 border-amber-400 bg-gradient-to-r from-amber-50 to-yellow-50",children:s.jsx(ie,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-16 h-16 bg-amber-500 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx(Ud,{className:"w-8 h-8 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-2 flex items-center gap-2",children:[s.jsx(ln,{className:"w-6 h-6 text-amber-600 fill-amber-600"}),s.jsx("span",{children:"Earn 10 Points!"})]}),s.jsxs("p",{className:"text-gray-700 font-medium",children:["Submit a recording and earn ",s.jsx("strong",{children:"10 points"})," instantly! Your recordings help inspire other kids."]})]})]})})})}),s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:s.jsx(re,{className:"bg-gradient-to-r from-blue-50 to-purple-50",children:s.jsx(ie,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Your Current Points"}),s.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[j.points||0," points"]})]}),s.jsx(ln,{className:"w-12 h-12 text-amber-500 fill-amber-500"})]})})})}),s.jsxs(re,{className:"mb-8",children:[s.jsx(Oe,{children:s.jsx(Me,{children:"What would you like to record?"})}),s.jsx(ie,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[s.jsxs("button",{onClick:()=>h("quran"),className:`p-6 rounded-xl border-2 transition-all ${u==="quran"?"border-green-500 bg-green-50":"border-gray-200 hover:border-green-300"}`,children:[s.jsx(un,{className:"w-8 h-8 mx-auto mb-3 text-green-600"}),s.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Quran Recitation"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Recite verses from the Quran"})]}),s.jsxs("button",{onClick:()=>h("nasheed"),className:`p-6 rounded-xl border-2 transition-all ${u==="nasheed"?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-purple-300"}`,children:[s.jsx(Aw,{className:"w-8 h-8 mx-auto mb-3 text-purple-600"}),s.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Nasheed"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Sing an Islamic nasheed"})]}),s.jsxs("button",{onClick:()=>h("story"),className:`p-6 rounded-xl border-2 transition-all ${u==="story"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}`,children:[s.jsx(Ol,{className:"w-8 h-8 mx-auto mb-3 text-blue-600"}),s.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Islamic Story"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Tell an Islamic story"})]})]})})]}),s.jsxs(re,{className:"mb-8",children:[s.jsx(Oe,{children:s.jsx(Me,{children:"Recording Studio"})}),s.jsx(ie,{children:s.jsxs("div",{className:"text-center space-y-6",children:[(t||n)&&s.jsx("div",{className:"text-4xl font-mono font-bold text-gray-900",children:L(S)}),!n&&s.jsx(te.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:t?M:A,className:`w-24 h-24 rounded-full flex items-center justify-center transition-all shadow-xl ${t?"bg-red-500 hover:bg-red-600 animate-pulse":"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600"}`,"aria-label":t?"Stop Recording":"Start Recording",children:t?s.jsx(K_,{className:"w-10 h-10 text-white"}):s.jsx($d,{className:"w-10 h-10 text-white"})}),t&&s.jsx("p",{className:"text-red-500 font-semibold animate-pulse",children:" Recording in progress..."}),n&&s.jsxs("div",{className:"space-y-4",children:[s.jsx(we,{className:"bg-green-500 text-white text-lg px-4 py-2",children:"Recording Complete! "}),s.jsxs("div",{className:"flex gap-4 justify-center",children:[s.jsx(W,{onClick:P,size:"lg",className:"bg-blue-600 hover:bg-blue-700","aria-label":f?"Pause Recording":"Play Recording",children:f?s.jsxs(s.Fragment,{children:[s.jsx(bo,{className:"w-5 h-5 mr-2"}),"Pause"]}):s.jsxs(s.Fragment,{children:[s.jsx(er,{className:"w-5 h-5 mr-2"}),"Play"]})}),s.jsx(W,{onClick:()=>{r(null),a(null),k(0),g&&(g.pause(),x(null),m(!1))},variant:"outline",size:"lg",children:"Record Again"})]}),s.jsx(W,{onClick:F,disabled:_,size:"lg",className:"w-full bg-gradient-to-r from-green-500 to-teal-500 hover:from-green-600 hover:to-teal-600 text-lg py-6",children:_?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Submitting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ea,{className:"w-5 h-5 mr-2"}),"Submit & Earn 10 Points! "]})})]})]})})]}),s.jsxs(re,{className:"border-2 border-blue-200",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-blue-50 to-purple-50",children:s.jsx(Me,{children:"Recording Tips "})}),s.jsx(ie,{className:"pt-6",children:s.jsxs("ul",{className:"space-y-3 text-gray-700",children:[s.jsxs("li",{className:"flex gap-3",children:[s.jsx("span",{className:"text-blue-600 font-bold",children:"1."}),s.jsx("span",{children:"Find a quiet place with no background noise"})]}),s.jsxs("li",{className:"flex gap-3",children:[s.jsx("span",{className:"text-blue-600 font-bold",children:"2."}),s.jsx("span",{children:"Speak clearly and at a comfortable pace"})]}),s.jsxs("li",{className:"flex gap-3",children:[s.jsx("span",{className:"text-blue-600 font-bold",children:"3."}),s.jsx("span",{children:"Hold your device about 6 inches from your mouth"})]}),s.jsxs("li",{className:"flex gap-3",children:[s.jsx("span",{className:"text-blue-600 font-bold",children:"4."}),s.jsx("span",{children:"Take your time and do your best - it's okay to record again!"})]}),s.jsxs("li",{className:"flex gap-3",children:[s.jsx("span",{className:"text-green-600 font-bold",children:"5."}),s.jsxs("span",{children:["Submit your recording and earn ",s.jsx("strong",{children:"10 points"})," automatically! "]})]})]})})]})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:s.jsx(re,{className:"max-w-md",children:s.jsxs(ie,{className:"pt-6 text-center",children:[s.jsx($d,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Access Required"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Please email us to enable recording and sharing features."}),s.jsx(W,{onClick:()=>{const D=encodeURIComponent("Access Request - Record & Share"),V=encodeURIComponent("Hi, I'd like to enable recording features on Islam Kids Zone. My name is ____ and my contact details are ____.");window.location.href=`mailto:imediac786@gmail.com?subject=${D}&body=${V}`},children:"Email Us"})]})})})}function gL(){const[t,e]=y.useState(null),[n,r]=y.useState(!1),[i,a]=y.useState(!1),[o,c]=y.useState(null),[u,h]=y.useState(null),[f,m]=y.useState(!1),[g,x]=y.useState(!1),[_,w]=y.useState(""),j=y.useRef(null),N=y.useRef([]),S=y.useRef(null),k=y.useRef(null);y.useEffect(()=>{C(),R()},[]);const C=async()=>{try{if(await bt.auth.isAuthenticated()){const D=await bt.auth.me();e(D)}else e(null)}catch{e(null)}},R=()=>{try{const L=localStorage.getItem("siteSettings");if(L){const D=JSON.parse(L);w((D==null?void 0:D.recordingStudioText)||"Welcome to Islam Media Central Recording Studio. Please record Quran recitation, nasheeds, or Islamic messages with clarity and respect.")}else w("Welcome to Islam Media Central Recording Studio. Please record Quran recitation, nasheeds, or Islamic messages with clarity and respect.")}catch{w("Welcome to Islam Media Central Recording Studio. Please record Quran recitation, nasheeds, or Islamic messages with clarity and respect.")}},O=async()=>{try{a(!1);const L=await navigator.mediaDevices.getUserMedia({audio:!0}),D=new MediaRecorder(L);j.current=D,N.current=[],D.ondataavailable=V=>{V.data.size>0&&N.current.push(V.data)},D.onstop=()=>{const V=new Blob(N.current,{type:"audio/webm"});c(V);const G=URL.createObjectURL(V);h(G),L.getTracks().forEach(ee=>ee.stop())},S.current=Date.now(),D.start(),r(!0),ft.success("Recording started")}catch(L){console.error("Error starting recording:",L),(L==null?void 0:L.name)==="NotAllowedError"&&a(!0),ft.error("Could not access microphone. Please enable permissions.")}},A=()=>{j.current&&n&&(j.current.stop(),r(!1),ft.success("Recording stopped"))},M=()=>{k.current&&u&&(k.current.currentTime=0,k.current.play())},P=()=>{c(null),h(null),N.current=[]},F=async()=>{if(!o){ft.error("Please record audio first");return}if(!t){ft.error("Please log in to submit your recording");return}m(!0);try{const L=S.current?Math.floor((Date.now()-S.current)/1e3):0,D=new File([o],`recording-${Date.now()}.webm`,{type:"audio/webm"}),{file_url:V}=await bt.integrations.Core.UploadFile({file:D}),G=await bt.entities.Recording.create({user_id:t.id,user_name:t.full_name||t.email,user_email:t.email,recording_type:"studio",file_url:V,duration:L,status:"pending"});let ee="imedia786@gmail.com";try{const ae=localStorage.getItem("siteSettings");if(ae){const ue=JSON.parse(ae);ue!=null&&ue.supportEmail&&(ee=ue.supportEmail)}}catch{}await bt.integrations.Core.SendEmail({from_name:"Islam Media Central",to:ee,subject:" New Recording Submission",body:`
          <div style="font-family: Arial, sans-serif; max-width: 640px; margin: 0 auto; background: #ffffff; border-radius: 12px; overflow: hidden; border: 1px solid #e5e7eb;">
            <div style="padding: 24px; background: linear-gradient(135deg, #2563EB 0%, #60A5FA 100%); color: white;">
              <h2 style="margin: 0;">Islam Media Central Recording Studio</h2>
            </div>
            <div style="padding: 24px;">
              <p><strong>User:</strong> ${t.full_name||t.email}</p>
              <p><strong>Email:</strong> ${t.email}</p>
              <p><strong>Duration:</strong> ${Math.floor(L/60)}:${(L%60).toString().padStart(2,"0")} minutes</p>
              <p><strong>Recording ID:</strong> ${G.id}</p>
              <div style="margin: 16px 0; padding: 12px; background: #EFF6FF; border-left: 4px solid #2563EB;">
                <a href="${V}" style="display:inline-block;padding:10px 16px;background:#2563EB;color:#fff;border-radius:8px;text-decoration:none;font-weight:bold">Download & Listen</a>
                <p style="margin-top:8px;font-size:12px;color:#6B7280">Direct link: ${V}</p>
              </div>
            </div>
          </div>
        `}),x(!0),ft.success("Recording submitted successfully"),setTimeout(()=>{P(),x(!1)},2500)}catch(L){console.error("Error submitting recording:",L),ft.error("Failed to submit recording")}finally{m(!1)}};return s.jsx("div",{className:"min-h-screen py-10 px-4 bg-gradient-to-br from-blue-50 to-white",children:s.jsxs("div",{className:"max-w-3xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("div",{className:"text-6xl mb-2",children:""}),s.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-blue-900",children:"Islam Media Central Recording Studio"}),s.jsx("p",{className:"text-blue-700",children:"Record directly in your browser and submit with one click."})]}),s.jsxs(re,{className:"mb-6 border-blue-200",children:[s.jsx(Oe,{className:"bg-blue-600 text-white",children:s.jsx(Me,{children:"Instructions & Guidelines"})}),s.jsx(ie,{className:"p-5",children:s.jsx("div",{className:"prose max-w-none",children:s.jsx("p",{className:"text-gray-800 whitespace-pre-line",children:_})})})]}),s.jsxs(re,{className:"shadow-md border-blue-100",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-blue-600 to-blue-500 text-white",children:s.jsxs(Me,{className:"flex items-center gap-2",children:[s.jsx($d,{className:"w-5 h-5"})," Recording Controls"]})}),s.jsxs(ie,{className:"p-6",children:[i&&s.jsx("div",{className:"mb-4 p-3 rounded bg-red-50 text-red-700",children:"Microphone access denied. Please enable permissions in your browser settings."}),t?null:s.jsx("div",{className:"p-4 rounded bg-yellow-50 text-yellow-800 mb-4",children:"Please log in to submit recordings."}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsxs(W,{onClick:O,disabled:n,className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx($d,{className:"w-4 h-4 mr-2"})," Start"]}),s.jsxs(W,{onClick:A,disabled:!n,variant:"outline",className:"border-blue-600 text-blue-600",children:[s.jsx(K_,{className:"w-4 h-4 mr-2"})," Stop"]}),s.jsxs(W,{onClick:M,disabled:!u,variant:"outline",className:"border-blue-600 text-blue-600",children:[s.jsx(er,{className:"w-4 h-4 mr-2"})," Play"]}),s.jsxs(W,{onClick:F,disabled:!o||f||!t,className:"bg-green-600 hover:bg-green-700",children:[s.jsx(Ea,{className:"w-4 h-4 mr-2"})," ",f?"Submitting...":"Submit"]})]}),s.jsx("div",{className:"mt-4",children:s.jsx("audio",{ref:k,src:u||void 0,controls:!0,className:"w-full"})}),g&&s.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},className:"mt-4 p-3 rounded bg-green-50 text-green-700",children:"Alhamdulillah! Your recording has been submitted."})]})]})]})})}function xL(){const[t,e]=y.useState(null),[n,r]=y.useState(null),[i,a]=y.useState(""),[o,c]=y.useState(50),[u,h]=y.useState(""),f=xi(),{data:m=[],isLoading:g}=Bn({queryKey:["recordings"],queryFn:()=>bt.entities.Recording.list("-created_date"),initialData:[]}),x=An({mutationFn:({id:O,data:A})=>bt.entities.Recording.update(O,A),onSuccess:()=>{f.invalidateQueries({queryKey:["recordings"]}),r(null)}});y.useEffect(()=>{try{const O=localStorage.getItem("siteSettings");if(O){const A=JSON.parse(O);h((A==null?void 0:A.recordingStudioText)||"")}}catch{}},[]);const _=()=>{try{const O=localStorage.getItem("siteSettings"),M={...O?JSON.parse(O):{},recordingStudioText:u};localStorage.setItem("siteSettings",JSON.stringify(M)),alert("Recording Studio text saved")}catch{alert("Failed to save text")}},w=async O=>{try{await x.mutateAsync({id:O.id,data:{status:"approved",admin_notes:i,points_awarded:o}});const M=(await bt.entities.User.list()).find(P=>P.id===O.user_id);M&&await bt.auth.updateMe({points:(M.points||0)+o}),await bt.integrations.Core.SendEmail({from_name:"Islam Kids Zone",to:O.user_email,subject:" Your Recording Has Been Approved!",body:`
          <div style="font-family: Arial, sans-serif; padding: 20px; background-color: #f3f4f6; border-radius: 10px;">
            <h2 style="color: #10B981;"> Masha'Allah! Your Recording is Approved!</h2>
            <div style="background-color: white; padding: 20px; border-radius: 8px; margin-top: 20px;">
              <p>Assalamu Alaikum <strong>${O.user_name}</strong>,</p>
              <p>Great news! Your ${O.recording_type} recording has been approved and featured on our website!</p>
              <p><strong> You've earned ${o} points!</strong></p>
              ${i?`<p><strong> Feedback:</strong> ${i}</p>`:""}
              <p>Keep up the amazing work! We can't wait to hear more from you.</p>
              <p style="margin-top: 20px;">Jazakallahu Khayran,<br>Islam Kids Zone Team</p>
            </div>
          </div>
        `}),alert("Recording approved and user notified!")}catch(A){console.error("Error approving recording:",A),alert("Error approving recording")}},j=async O=>{try{await x.mutateAsync({id:O.id,data:{status:"rejected",admin_notes:i}}),O.user_email&&await bt.integrations.Core.SendEmail({from_name:"Islam Kids Zone",to:O.user_email,subject:" Update on Your Recording Submission",body:`
            <div style="font-family: Arial, sans-serif; padding: 20px; background-color: #f3f4f6; border-radius: 10px;">
              <h2 style="color: #3B82F6;">Update on Your Recording</h2>
              <div style="background-color: white; padding: 20px; border-radius: 8px; margin-top: 20px;">
                <p>Assalamu Alaikum <strong>${O.user_name}</strong>,</p>
                <p>Thank you for submitting your ${O.recording_type} recording!</p>
                ${i?`<p><strong> Feedback:</strong> ${i}</p>`:""}
                <p>Don't be discouraged! Please feel free to submit another recording. We're here to help you improve!</p>
                <p style="margin-top: 20px;">Jazakallahu Khayran,<br>Islam Kids Zone Team</p>
              </div>
            </div>
          `}),alert("Recording rejected and user notified!")}catch(A){console.error("Error rejecting recording:",A),alert("Error rejecting recording")}},N=async O=>{var A,M;if(confirm("Delete this recording permanently?"))try{(M=(A=bt==null?void 0:bt.entities)==null?void 0:A.Recording)!=null&&M.delete?await bt.entities.Recording.delete(O.id):await x.mutateAsync({id:O.id,data:{status:"deleted"}}),f.invalidateQueries({queryKey:["recordings"]}),alert("Recording deleted")}catch(P){console.error("Error deleting recording:",P),alert("Failed to delete recording")}},S=O=>new Date(O).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),k=O=>{const A=Math.floor(O/60),M=O%60;return`${A}:${M.toString().padStart(2,"0")}`},C={pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",featured:"bg-purple-100 text-purple-800",rejected:"bg-red-100 text-red-800"},R={quran:"",nasheed:"",story:""};return s.jsx("div",{className:"min-h-screen py-12 px-4 bg-gradient-to-br from-blue-50 to-purple-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Recording Submissions"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Review and manage student recordings"})]}),s.jsxs(re,{className:"mb-8",children:[s.jsx(Oe,{children:s.jsx(Me,{children:"Recording Studio Page Text"})}),s.jsxs(ie,{className:"space-y-3",children:[s.jsx(Dn,{value:u,onChange:O=>h(O.target.value),className:"min-h-[120px]",placeholder:"Write instructions, motivational messages, or Quran/Nasheed guidelines for users..."}),s.jsx("div",{className:"flex gap-2",children:s.jsx(W,{onClick:_,className:"bg-blue-600 hover:bg-blue-700",children:"Save Text"})}),s.jsx("p",{className:"text-xs text-gray-500",children:"This text appears at the top of the Recording Studio page."})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsx(re,{children:s.jsxs(ie,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl mb-2",children:""}),s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:m.length}),s.jsx("div",{className:"text-sm text-gray-500",children:"Total Submissions"})]})}),s.jsx(re,{children:s.jsxs(ie,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl mb-2",children:""}),s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:m.filter(O=>O.status==="pending").length}),s.jsx("div",{className:"text-sm text-gray-500",children:"Pending Review"})]})}),s.jsx(re,{children:s.jsxs(ie,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl mb-2",children:""}),s.jsx("div",{className:"text-2xl font-bold text-green-600",children:m.filter(O=>O.status==="approved"||O.status==="featured").length}),s.jsx("div",{className:"text-sm text-gray-500",children:"Approved"})]})}),s.jsx(re,{children:s.jsxs(ie,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl mb-2",children:""}),s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:m.filter(O=>O.status==="featured").length}),s.jsx("div",{className:"text-sm text-gray-500",children:"Featured"})]})})]}),g?s.jsx("div",{className:"text-center py-12 text-gray-500",children:"Loading recordings..."}):m.length===0?s.jsx(re,{children:s.jsxs(ie,{className:"p-12 text-center",children:[s.jsx($d,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),s.jsx("p",{className:"text-gray-500",children:"No recordings submitted yet"})]})}):s.jsx("div",{className:"space-y-4",children:m.map((O,A)=>s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:A*.05},children:s.jsx(re,{className:"hover:shadow-lg transition-all duration-300",children:s.jsx(ie,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"text-5xl",children:R[O.recording_type]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:[O.recording_type.charAt(0).toUpperCase()+O.recording_type.slice(1)," Recording"]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-gray-500",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(YI,{className:"w-4 h-4"}),O.user_name]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ul,{className:"w-4 h-4"}),k(O.duration)]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(uy,{className:"w-4 h-4"}),S(O.created_date)]})]})]}),s.jsx(we,{className:C[O.status],children:O.status})]}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-3",children:s.jsx("audio",{controls:!0,src:O.file_url,className:"w-full"})}),s.jsx("div",{className:"mb-3",children:s.jsxs("a",{href:O.file_url,download:!0,className:"text-blue-600 hover:text-blue-700 text-sm flex items-center gap-2",children:[s.jsx(Pa,{className:"w-4 h-4"}),"Download Recording"]})}),O.admin_notes&&s.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-3 mb-3",children:s.jsxs("p",{className:"text-sm text-blue-900",children:[s.jsx("strong",{children:"Admin Notes:"})," ",O.admin_notes]})}),O.status==="pending"&&s.jsx("div",{className:"space-y-3",children:(n==null?void 0:n.id)===O.id?s.jsxs("div",{className:"space-y-3 border-t pt-3",children:[s.jsx(Dn,{placeholder:"Add feedback or notes...",value:i,onChange:M=>a(M.target.value),className:"min-h-[80px]"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Points to Award:"}),s.jsx(ke,{type:"number",value:o,onChange:M=>c(parseInt(M.target.value)||0),className:"w-24"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(W,{onClick:()=>w(O),className:"bg-green-600 hover:bg-green-700",children:[s.jsx(bl,{className:"w-4 h-4 mr-2"}),"Approve & Award Points"]}),s.jsxs(W,{onClick:()=>j(O),variant:"destructive",children:[s.jsx(hy,{className:"w-4 h-4 mr-2"}),"Reject"]}),s.jsx(W,{onClick:()=>{r(null),a(""),c(50)},variant:"outline",children:"Cancel"})]})]}):s.jsx(W,{onClick:()=>r(O),variant:"outline",className:"w-full",children:"Review & Take Action"})}),s.jsx("div",{className:"mt-3",children:s.jsxs(W,{onClick:()=>N(O),variant:"destructive",children:[s.jsx(xr,{className:"w-4 h-4 mr-2"})," Delete Recording"]})}),O.points_awarded>0&&s.jsxs("div",{className:"flex items-center gap-2 text-amber-600 font-semibold",children:[s.jsx(ln,{className:"w-5 h-5 fill-amber-500"}),O.points_awarded," points awarded"]})]})]})})})},O.id))})]})})}const dle=[{id:"coloring",title:"Colouring Pages",description:"Print or colour online: mosques, Ka'bah, Islamic patterns",icon:H_,color:"from-pink-500 to-rose-500",emoji:"",link:"ColoringPages"},{id:"drawing",title:"Islamic Art Board",description:"Digital drawing pad for Islamic art and calligraphy",icon:tm,color:"from-purple-500 to-violet-500",emoji:"",link:"DrawingBoard"},{id:"writing",title:"Poem & Nasheed Writing",description:"Write and submit your Islamic poems and nasheeds",icon:z_,color:"from-blue-500 to-cyan-500",emoji:"",link:"PoetryWriting"},{id:"contest",title:"Monthly Contest",description:"Win prizes for best story, drawing, or recitation!",icon:ns,color:"from-amber-500 to-orange-500",emoji:"",link:"MonthlyContest"}];function yL(){return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Creative Corner"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Express your creativity through Islamic art, poetry, and more!"})]}),s.jsx(te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-12",children:s.jsx(re,{className:"border-4 border-amber-400 shadow-2xl overflow-hidden",children:s.jsxs("div",{className:"bg-gradient-to-r from-amber-500 via-orange-500 to-red-500 p-8 text-white text-center",children:[s.jsx(ns,{className:"w-16 h-16 mx-auto mb-4"}),s.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Monthly Creative Contest!"}),s.jsx("p",{className:"text-xl mb-4",children:"Submit your best work and win amazing prizes! "}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[s.jsx("div",{className:"bg-white/20 px-4 py-2 rounded-full",children:" Best Drawing"}),s.jsx("div",{className:"bg-white/20 px-4 py-2 rounded-full",children:" Best Story"}),s.jsx("div",{className:"bg-white/20 px-4 py-2 rounded-full",children:" Best Recitation"})]})]})})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:dle.map((t,e)=>{const n=t.icon;return s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:e*.1},children:s.jsx(Mt,{to:at(t.link),children:s.jsxs(re,{className:"h-full hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 cursor-pointer group overflow-hidden border-2 hover:border-blue-300",children:[s.jsx(Oe,{className:`bg-gradient-to-br ${t.color} text-white pb-6`,children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(te.div,{whileHover:{scale:1.1,rotate:5},className:"text-6xl",children:t.emoji}),s.jsxs("div",{children:[s.jsx(Me,{className:"text-2xl mb-2",children:t.title}),s.jsx("p",{className:"text-sm text-white/90",children:t.description})]})]})}),s.jsx(ie,{className:"p-6",children:s.jsxs(W,{className:"w-full bg-white text-gray-900 hover:bg-gray-100 border-2 border-gray-200 group-hover:border-blue-500 transition-all",children:[s.jsx(n,{className:"w-5 h-5 mr-2"}),"Start Creating"]})})]})})},t.id)})}),s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"mt-12",children:s.jsx(re,{className:"border-2 border-purple-200 bg-gradient-to-r from-purple-50 to-pink-50",children:s.jsxs(ie,{className:"p-8",children:[s.jsxs("h3",{className:"text-2xl font-bold text-purple-900 mb-4 flex items-center gap-2",children:[s.jsx(mi,{className:"w-6 h-6"}),"Creative Tips"]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-purple-800",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsx("p",{children:"Be original and express your unique creativity"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsx("p",{children:"Start with Bismillah before creating"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsx("p",{children:"Use bright colours and Islamic patterns"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsx("p",{children:"Create with love for Allah and Islam"})]})]})]})})})]})})}const ed={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_ADMIN_EMAIL:"huzaify786@gmail.com",VITE_BASE_PATH:"/",VITE_FIREBASE_API_KEY:"AIzaSyDLi7mVwWnHp_jFlo6KfIXMZEu1iGpA-YE",VITE_FIREBASE_APP_ID:"1:947105835283:web:b06706b15af28b4c3f12e6",VITE_FIREBASE_AUTH_DOMAIN:"studio-1726517794-3d5f0.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"947105835283",VITE_FIREBASE_PROJECT_ID:"studio-1726517794-3d5f0",VITE_FIREBASE_STORAGE_BUCKET:"studio-1726517794-3d5f0.appspot.com",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBteGFocm1qeGJmenV5cWVvcmF6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI5NDUyMzAsImV4cCI6MjA3ODUyMTIzMH0.ZZ05XKZKQksAgKv-Vt3k636u7CBMmdeMg5DxZIRWshw",VITE_SUPABASE_URL:"https://pmxahrmjxbfzuyqeoraz.supabase.co"},hle=[{id:"encyclopedia",title:"Islamic Encyclopedia",description:"Learn about prophets, angels, and Islamic months",icon:un,color:"from-blue-500 to-cyan-500",emoji:"",link:"IslamicEncyclopedia"},{id:"tafsir",title:"Audio Tafsir for Kids",description:"Easy explanations of short surahs",icon:Wc,color:"from-green-500 to-teal-500",emoji:"",link:"AudioTafsir"},{id:"facts",title:"Did You Know?",description:"Fun and amazing Islamic facts",icon:hz,color:"from-amber-500 to-orange-500",emoji:"",link:"IslamicFacts"},{id:"worksheets",title:"Printable Worksheets",description:"Quran tracing, matching activities & more",icon:z_,color:"from-purple-500 to-pink-500",emoji:"",link:"Worksheets"}],fle=[{title:"25 Prophets",icon:Ol,count:"25 stories"},{title:"Islamic Months",icon:uy,count:"12 months"},{title:"99 Names of Allah",icon:ln,count:"Learn all"}],mle=[{arabic:"",transliteration:"Allah",meaning:"The Name of God"},{arabic:"",transliteration:"Ar-Rahman",meaning:"The Most Merciful"},{arabic:"",transliteration:"Ar-Rahim",meaning:"The Most Compassionate"},{arabic:"",transliteration:"Al-Malik",meaning:"The King"},{arabic:"",transliteration:"Al-Quddus",meaning:"The Most Holy"},{arabic:"",transliteration:"As-Salam",meaning:"The Source of Peace"},{arabic:"",transliteration:"Al-Mu'min",meaning:"The Guardian of Faith"},{arabic:"",transliteration:"Al-Muhaymin",meaning:"The Protector"},{arabic:"",transliteration:"Al-'Aziz",meaning:"The Almighty"},{arabic:"",transliteration:"Al-Jabbar",meaning:"The Compeller"},{arabic:"",transliteration:"Al-Mutakabbir",meaning:"The Supreme"},{arabic:"",transliteration:"Al-Khaliq",meaning:"The Creator"},{arabic:"",transliteration:"Al-Bari'",meaning:"The Evolver"},{arabic:"",transliteration:"Al-Musawwir",meaning:"The Fashioner"},{arabic:"",transliteration:"Al-Ghaffar",meaning:"The Constant Forgiver"},{arabic:"",transliteration:"Al-Qahhar",meaning:"The All-Subduer"},{arabic:"",transliteration:"Al-Wahhab",meaning:"The Supreme Bestower"},{arabic:"",transliteration:"Ar-Razzaq",meaning:"The Provider"},{arabic:"",transliteration:"Al-Fattah",meaning:"The Supreme Opener"},{arabic:"",transliteration:"Al-'Alim",meaning:"The All-Knowing"},{arabic:"",transliteration:"Al-Qabid",meaning:"The Withholder"},{arabic:"",transliteration:"Al-Basit",meaning:"The Extender"},{arabic:"",transliteration:"Al-Khafid",meaning:"The Reducer"},{arabic:"",transliteration:"Ar-Rafi'",meaning:"The Exalter"},{arabic:"",transliteration:"Al-Mu'izz",meaning:"The Honourer"},{arabic:"",transliteration:"Al-Mudhill",meaning:"The Dishonourer"},{arabic:"",transliteration:"As-Sami'",meaning:"The All-Hearing"},{arabic:"",transliteration:"Al-Basir",meaning:"The All-Seeing"},{arabic:"",transliteration:"Al-Hakam",meaning:"The Impartial Judge"},{arabic:"",transliteration:"Al-'Adl",meaning:"The Utterly Just"},{arabic:"",transliteration:"Al-Latif",meaning:"The Subtle One"},{arabic:"",transliteration:"Al-Khabir",meaning:"The All-Aware"},{arabic:"",transliteration:"Al-Halim",meaning:"The Most Forbearing"},{arabic:"",transliteration:"Al-'Azim",meaning:"The Magnificent"},{arabic:"",transliteration:"Al-Ghafur",meaning:"The Great Forgiver"},{arabic:"",transliteration:"Ash-Shakur",meaning:"The Most Appreciative"},{arabic:"",transliteration:"Al-'Aliyy",meaning:"The Most High"},{arabic:"",transliteration:"Al-Kabir",meaning:"The Most Great"},{arabic:"",transliteration:"Al-Hafiz",meaning:"The Preserver"},{arabic:"",transliteration:"Al-Muqit",meaning:"The Sustainer"},{arabic:"",transliteration:"Al-Hasib",meaning:"The Reckoner"},{arabic:"",transliteration:"Al-Jalil",meaning:"The Majestic"},{arabic:"",transliteration:"Al-Karim",meaning:"The Most Generous"},{arabic:"",transliteration:"Ar-Raqib",meaning:"The Watchful One"},{arabic:"",transliteration:"Al-Mujib",meaning:"The Responder"},{arabic:"",transliteration:"Al-Wasi'",meaning:"The All-Encompassing"},{arabic:"",transliteration:"Al-Hakim",meaning:"The All-Wise"},{arabic:"",transliteration:"Al-Wadud",meaning:"The Most Loving"},{arabic:"",transliteration:"Al-Majid",meaning:"The Glorious"},{arabic:"",transliteration:"Al-Ba'ith",meaning:"The Infuser of New Life"},{arabic:"",transliteration:"Ash-Shahid",meaning:"The All Observing Witness"},{arabic:"",transliteration:"Al-Haqq",meaning:"The Absolute Truth"},{arabic:"",transliteration:"Al-Wakil",meaning:"The Supreme Trustee"},{arabic:"",transliteration:"Al-Qawiyy",meaning:"The All-Strong"},{arabic:"",transliteration:"Al-Matin",meaning:"The Firm One"},{arabic:"",transliteration:"Al-Waliyy",meaning:"The Sole Planner"},{arabic:"",transliteration:"Al-Hamid",meaning:"The All Praiseworthy"},{arabic:"",transliteration:"Al-Muhsi",meaning:"The All-Enumerating"},{arabic:"",transliteration:"Al-Mubdi'",meaning:"The Originator"},{arabic:"",transliteration:"Al-Mu'id",meaning:"The Restorer"},{arabic:"",transliteration:"Al-Muhyi",meaning:"The Giver of Life"},{arabic:"",transliteration:"Al-Mumit",meaning:"The Creator of Death"},{arabic:"",transliteration:"Al-Hayy",meaning:"The Ever-Living"},{arabic:"",transliteration:"Al-Qayyum",meaning:"The Self-Subsisting"},{arabic:"",transliteration:"Al-Wajid",meaning:"The Finder"},{arabic:"",transliteration:"Al-Majid",meaning:"The Glorious and Excellent"},{arabic:"",transliteration:"Al-Wahid",meaning:"The One"},{arabic:"",transliteration:"Al-Ahad",meaning:"The Indivisible, Absolute One"},{arabic:"",transliteration:"As-Samad",meaning:"The Self-Sufficient"},{arabic:"",transliteration:"Al-Qadir",meaning:"The Omnipotent One"},{arabic:"",transliteration:"Al-Muqtadir",meaning:"The Powerful"},{arabic:"",transliteration:"Al-Muqaddim",meaning:"The Expediter"},{arabic:"",transliteration:"Al-Mu'akhkhir",meaning:"The Delayer"},{arabic:"",transliteration:"Al-Awwal",meaning:"The First"},{arabic:"",transliteration:"Al-Akhir",meaning:"The Last"},{arabic:"",transliteration:"Az-Zahir",meaning:"The Manifest"},{arabic:"",transliteration:"Al-Batin",meaning:"The Hidden One"},{arabic:"",transliteration:"Al-Wali",meaning:"The Sole Governor"},{arabic:"",transliteration:"Al-Muta'ali",meaning:"The Self Exalted"},{arabic:"",transliteration:"Al-Barr",meaning:"The Most Kind"},{arabic:"",transliteration:"At-Tawwab",meaning:"The Supreme Accepter of Repentance"},{arabic:"",transliteration:"Al-Muntaqim",meaning:"The Avenger"},{arabic:"",transliteration:"Al-'Afuw",meaning:"The Supreme Pardoner"},{arabic:"",transliteration:"Ar-Ra'uf",meaning:"The Most Kind"},{arabic:" ",transliteration:"Malik-ul-Mulk",meaning:"Master of the Kingdom"},{arabic:"  ",transliteration:"Dhul-Jalali Wal-Ikram",meaning:"Lord of Glory and Honour"},{arabic:"",transliteration:"Al-Muqsit",meaning:"The Just One"},{arabic:"",transliteration:"Al-Jami'",meaning:"The Gatherer"},{arabic:"",transliteration:"Al-Ghaniyy",meaning:"The Self-Sufficient"},{arabic:"",transliteration:"Al-Mughni",meaning:"The Enricher"},{arabic:"",transliteration:"Al-Mani'",meaning:"The Withholder"},{arabic:"",transliteration:"Ad-Darr",meaning:"The Distresser"},{arabic:"",transliteration:"An-Nafi'",meaning:"The Propitious"},{arabic:"",transliteration:"An-Nur",meaning:"The Light"},{arabic:"",transliteration:"Al-Hadi",meaning:"The Guide"},{arabic:"",transliteration:"Al-Badi'",meaning:"The Originator"},{arabic:"",transliteration:"Al-Baqi",meaning:"The Everlasting"},{arabic:"",transliteration:"Al-Warith",meaning:"The Inheritor"},{arabic:"",transliteration:"Ar-Rashid",meaning:"The Infallible Teacher"},{arabic:"",transliteration:"As-Sabur",meaning:"The Most Patient"}];function vL(){const[t,e]=Nt.useState(""),[n,r]=Nt.useState(!1),i=Nt.useRef(null),a=Ia(),o=Nt.useRef(null),[c,u]=Nt.useState([]),[h,f]=Nt.useState([]),[m,g]=Nt.useState(""),[x,_]=Nt.useState(.85),[w,j]=Nt.useState(1.05),[N,S]=Nt.useState(!0),[k,C]=Nt.useState(null),[R,O]=Nt.useState(null),[A,M]=Nt.useState(""),[P,F]=Nt.useState(""),[L,D]=Nt.useState(""),[V,G]=Nt.useState(""),[ee,ae]=Nt.useState(!1),[ue,Q]=Nt.useState("ar-SA-HamedNeural"),K=z=>z?z.endsWith("/")?z:z+"/":"";Nt.useEffect(()=>{var X,q;i.current=(window==null?void 0:window.speechSynthesis)||null;const z=()=>{var Ee,ve;const ye=((ve=(Ee=i.current)==null?void 0:Ee.getVoices)==null?void 0:ve.call(Ee))||[];u(ye);const _e=ye.filter(Fe=>String(Fe.lang||"").toLowerCase().startsWith("ar"));f(_e),!m&&_e.length>0&&g(_e[0].name||"")};z();try{(q=(X=window==null?void 0:window.speechSynthesis)==null?void 0:X.addEventListener)==null||q.call(X,"voiceschanged",z)}catch{}return()=>{var ye,_e,Ee,ve;(_e=(ye=i.current)==null?void 0:ye.cancel)==null||_e.call(ye);try{(ve=(Ee=window==null?void 0:window.speechSynthesis)==null?void 0:Ee.removeEventListener)==null||ve.call(Ee,"voiceschanged",z)}catch{}}},[]),Nt.useEffect(()=>{try{const z=(ed==null?void 0:ed.VITE_ASMA_AUDIO_BASE)||"";if(z)M(K(z));else{const X=localStorage.getItem("siteSettings");if(X){const q=JSON.parse(X);q!=null&&q.asmaAudioBase&&M(K(String(q.asmaAudioBase)))}}}catch{}},[]),Nt.useEffect(()=>{try{const z=(ed==null?void 0:ed.VITE_ASMA_COMBINED_URL)||"";if(z)G(z);else{const X=localStorage.getItem("siteSettings");if(X){const q=JSON.parse(X);q!=null&&q.asmaCombinedUrl&&G(String(q.asmaCombinedUrl))}}}catch{}},[]),Nt.useEffect(()=>{new URLSearchParams(a.search||"").get("section")==="names"&&o.current&&o.current.scrollIntoView({behavior:"smooth",block:"start"})},[a.search]),Nt.useMemo(()=>Array.from({length:99},(z,X)=>({start:X*2,end:(X+1)*2})),[]);const B=mle.filter(z=>{const X=t.trim().toLowerCase();return X?z.arabic.replace(/\s/g,"").toLowerCase().includes(X)||z.transliteration.toLowerCase().includes(X)||z.meaning.toLowerCase().includes(X):!0});return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Learning Library"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Explore Islamic knowledge through engaging resources and materials"})]}),s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-12",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:fle.map((z,X)=>{const q=z.icon;return s.jsx(te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:X*.1},children:s.jsx(re,{className:"bg-gradient-to-br from-blue-500 to-purple-500 text-white hover:shadow-xl transition-all duration-300 cursor-pointer",children:s.jsxs(ie,{className:"p-6 text-center",children:[s.jsx(q,{className:"w-12 h-12 mx-auto mb-3"}),s.jsx("h3",{className:"text-xl font-bold mb-1",children:z.title}),s.jsx("p",{className:"text-sm text-blue-100",children:z.count})]})})},z.title)})})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12",children:hle.map((z,X)=>{const q=z.icon;return s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:X*.1+.3},children:s.jsx(Mt,{to:at(z.link),children:s.jsxs(re,{className:"h-full hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 cursor-pointer group overflow-hidden border-2 hover:border-green-300",children:[s.jsx(Oe,{className:`bg-gradient-to-br ${z.color} text-white pb-6`,children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(te.div,{whileHover:{scale:1.1,rotate:5},className:"text-6xl",children:z.emoji}),s.jsxs("div",{children:[s.jsx(Me,{className:"text-2xl mb-2",children:z.title}),s.jsx("p",{className:"text-sm text-white/90",children:z.description})]})]})}),s.jsx(ie,{className:"p-6",children:s.jsxs(W,{className:"w-full bg-white text-gray-900 hover:bg-gray-100 border-2 border-gray-200 group-hover:border-green-500 transition-all",children:[s.jsx(q,{className:"w-5 h-5 mr-2"}),"Explore Now"]})})]})})},z.id)})}),s.jsx(te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.7},children:s.jsx(re,{className:"border-4 border-green-400 shadow-2xl bg-gradient-to-r from-green-50 to-teal-50",children:s.jsxs(ie,{className:"p-8 text-center",children:[s.jsx(un,{className:"w-16 h-16 mx-auto mb-4 text-green-600"}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-3",children:'"Seek knowledge from the cradle to the grave"'}),s.jsx("p",{className:"text-lg text-gray-700 mb-4",children:"- Prophet Muhammad "}),s.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Our learning library is designed to make Islamic education easy, fun, and engaging for young learners."})]})})}),s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-12",children:s.jsxs(re,{ref:o,className:"border-2 border-purple-300",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-purple-600 to-indigo-600 text-white",children:s.jsx(Me,{className:"text-2xl",children:"99 Names of Allah (Asmaul Husna)"})}),s.jsxs(ie,{className:"p-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:items-center mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[s.jsx(Pi,{className:"w-4 h-4 text-gray-500"}),s.jsx("input",{value:t,onChange:z=>e(z.target.value),placeholder:"Search names or meanings",className:"w-full border rounded px-3 py-2 text-sm"})]}),s.jsx("div",{className:"flex flex-wrap gap-2 items-center"})]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3",children:B.map((z,X)=>s.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-indigo-50 border border-purple-200 rounded-lg p-3",children:[s.jsx("div",{className:"text-right text-xl font-bold mb-1",style:{direction:"rtl",fontFamily:"serif"},children:z.arabic}),s.jsx("div",{className:"text-sm text-gray-700 italic",children:z.transliteration}),s.jsx("div",{className:"text-sm text-gray-600",children:z.meaning}),s.jsx("div",{className:"mt-2"})]},X))})]})]})})]})})}const ple=[{id:1,title:"Kaaba",url:"https://images.unsplash.com/photo-1591604129939-f1efa4d9f7fa?w=800&h=800&fit=crop",description:"Color the Holy Kaaba"},{id:2,title:"Mosque",url:"https://images.unsplash.com/photo-1564769625905-50e93615e769?w=800&h=800&fit=crop",description:"Beautiful mosque design"},{id:3,title:"Islamic Pattern",url:"https://images.unsplash.com/photo-1583578702627-7c1e0618f0c4?w=800&h=800&fit=crop",description:"Geometric Islamic art"},{id:4,title:"Crescent Moon",url:"https://images.unsplash.com/photo-1532693322450-2cb5c511067d?w=800&h=800&fit=crop",description:"Islamic symbol"},{id:5,title:"Arabic Calligraphy",url:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=800&h=800&fit=crop",description:"Beautiful Arabic writing"},{id:6,title:"Lantern",url:"https://images.unsplash.com/photo-1586991879365-a8759d239cf1?w=800&h=800&fit=crop",description:"Ramadan lantern"}],gle=({page:t,onClose:e})=>{const n=y.useRef(null),[r,i]=y.useState(!1),[a,o]=y.useState("#000000"),[c,u]=y.useState(5),[h,f]=y.useState(!1),m=["#000000","#FFFFFF","#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF","#FFA500","#800080","#FFC0CB","#8B4513","#808080","#FFD700","#40E0D0"];y.useEffect(()=>{const N=n.current;if(!N)return;const S=N.getContext("2d"),k=new Image;k.crossOrigin="anonymous",k.onload=()=>{N.width=800,N.height=800,S.fillStyle="#FFFFFF",S.fillRect(0,0,N.width,N.height),S.drawImage(k,0,0,N.width,N.height);const C=S.getImageData(0,0,N.width,N.height),R=C.data;for(let O=0;O<R.length;O+=4){const A=(R[O]+R[O+1]+R[O+2])/3;R[O]=A,R[O+1]=A,R[O+2]=A}S.putImageData(C,0,0),f(!0)},k.onerror=()=>{N.width=800,N.height=800,S.fillStyle="#FFFFFF",S.fillRect(0,0,N.width,N.height),S.strokeStyle="#000000",S.lineWidth=2,S.strokeRect(50,50,700,700),S.font="24px Arial",S.fillStyle="#000000",S.textAlign="center",S.fillText(t.title,N.width/2,N.height/2),f(!0)},k.src=t.url},[t]);const g=N=>{h&&(i(!0),_(N))},x=()=>{i(!1)},_=N=>{if(!r&&N.type!=="mousedown"&&N.type!=="touchstart"||!h)return;const S=n.current,k=S.getContext("2d"),C=S.getBoundingClientRect();let R,O;if(N.type.includes("touch")){const P=N.touches[0]||N.changedTouches[0];R=P.clientX-C.left,O=P.clientY-C.top}else R=N.clientX-C.left,O=N.clientY-C.top;const A=S.width/C.width,M=S.height/C.height;R*=A,O*=M,k.lineCap="round",k.lineJoin="round",k.strokeStyle=a,k.lineWidth=c,N.type==="mousedown"||N.type==="touchstart"?(k.beginPath(),k.moveTo(R,O)):(k.lineTo(R,O),k.stroke())},w=()=>{const N=n.current,S=N.getContext("2d"),k=new Image;k.crossOrigin="anonymous",k.onload=()=>{S.fillStyle="#FFFFFF",S.fillRect(0,0,N.width,N.height),S.drawImage(k,0,0,N.width,N.height);const C=S.getImageData(0,0,N.width,N.height),R=C.data;for(let O=0;O<R.length;O+=4){const A=(R[O]+R[O+1]+R[O+2])/3;R[O]=A,R[O+1]=A,R[O+2]=A}S.putImageData(C,0,0)},k.src=t.url},j=()=>{const N=n.current,S=document.createElement("a");S.download=`${t.title}-colored.png`,S.href=N.toDataURL(),S.click()};return s.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:e,children:s.jsxs(te.div,{initial:{scale:.9},animate:{scale:1},onClick:N=>N.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl max-w-6xl w-full max-h-[95vh] overflow-y-auto",children:[s.jsx("div",{className:"sticky top-0 bg-white border-b p-4 z-10",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h2",{className:"text-2xl font-bold",children:["Color: ",t.title]}),s.jsx(W,{variant:"ghost",onClick:e,children:"Close"})]})}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"grid md:grid-cols-[1fr,200px] gap-6",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("canvas",{ref:n,onMouseDown:g,onMouseMove:_,onMouseUp:x,onMouseLeave:x,onTouchStart:g,onTouchMove:_,onTouchEnd:x,className:"border-4 border-gray-300 rounded-lg cursor-crosshair max-w-full touch-none",style:{width:"100%",maxWidth:"600px",height:"auto",aspectRatio:"1/1"}}),!h&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("div",{className:"text-gray-500",children:"Loading..."})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-bold mb-3 flex items-center gap-2",children:[s.jsx(H_,{className:"w-5 h-5"}),"Colors"]}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:m.map(N=>s.jsx("button",{onClick:()=>o(N),className:`w-full h-12 rounded-lg border-4 transition-all ${a===N?"border-blue-500 scale-110":"border-gray-300"}`,style:{backgroundColor:N},title:N},N))}),s.jsx("input",{type:"color",value:a,onChange:N=>o(N.target.value),className:"w-full h-12 mt-2 rounded-lg cursor-pointer"})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-bold mb-3 flex items-center gap-2",children:[s.jsx(Tz,{className:"w-5 h-5"}),"Brush Size"]}),s.jsx("input",{type:"range",min:"1",max:"50",value:c,onChange:N=>u(parseInt(N.target.value)),className:"w-full"}),s.jsxs("p",{className:"text-center text-sm text-gray-600 mt-2",children:[c,"px"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(W,{onClick:w,variant:"outline",className:"w-full",children:[s.jsx(xr,{className:"w-4 h-4 mr-2"}),"Clear"]}),s.jsxs(W,{onClick:j,className:"w-full bg-green-600 hover:bg-green-700",children:[s.jsx(Pa,{className:"w-4 h-4 mr-2"}),"Download"]})]})]})]})})]})})};function bL(){const[t,e]=y.useState(null);return s.jsxs("div",{className:"min-h-screen py-12 px-4",children:[s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Islamic Coloring Pages"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Color beautiful Islamic designs online or download to print"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ple.map((n,r)=>s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:r*.1},children:s.jsxs(re,{className:"hover:shadow-2xl transition-all duration-300 cursor-pointer group",children:[s.jsx(Oe,{className:"p-0",children:s.jsx("div",{className:"h-64 bg-gradient-to-br from-blue-100 to-purple-100 rounded-t-xl overflow-hidden",children:s.jsx("img",{src:n.url,alt:n.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"})})}),s.jsxs(ie,{className:"p-6",children:[s.jsx(Me,{className:"text-xl mb-2",children:n.title}),s.jsx("p",{className:"text-gray-600 mb-4",children:n.description}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(W,{onClick:()=>e(n),className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-500",children:[s.jsx(H_,{className:"w-4 h-4 mr-2"}),"Color Online"]}),s.jsx(W,{onClick:()=>{const i=document.createElement("a");i.href=n.url,i.download=`${n.title}.jpg`,i.click()},variant:"outline",children:s.jsx(Pa,{className:"w-4 h-4"})})]})]})]})},n.id))}),s.jsx(re,{className:"mt-12 bg-blue-50 border-blue-200",children:s.jsxs(ie,{className:"p-6",children:[s.jsx("h3",{className:"font-bold text-lg mb-3",children:" How to Use"}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[s.jsxs("p",{children:["1. ",s.jsx("strong",{children:"Color Online:"}),' Click "Color Online" to use our digital coloring tool']}),s.jsxs("p",{children:["2. ",s.jsx("strong",{children:"Download:"})," Click the download icon to print and color with crayons"]}),s.jsxs("p",{children:["3. ",s.jsx("strong",{children:"Save Your Work:"}),' After coloring online, click "Download" to save your artwork']}),s.jsxs("p",{children:["4. ",s.jsx("strong",{children:"Tips:"})," Use different brush sizes for details and filling large areas"]})]})]})})]}),t&&s.jsx(gle,{page:t,onClose:()=>e(null)})]})}const xle=["#000000","#FFFFFF","#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF","#FFA500","#800080","#FFC0CB","#A52A2A","#808080","#FFD700","#4B0082"],yle=[2,5,10,15,20];function wL(){const t=y.useRef(null),[e,n]=y.useState(!1),[r,i]=y.useState("#000000"),[a,o]=y.useState(5),[c,u]=y.useState(!1);y.useEffect(()=>{const _=t.current;if(_){const w=_.getContext("2d");w.fillStyle="#FFFFFF",w.fillRect(0,0,_.width,_.height)}},[]);const h=_=>{const w=t.current,j=w.getContext("2d"),N=w.getBoundingClientRect(),S=_.clientX-N.left,k=_.clientY-N.top;j.beginPath(),j.moveTo(S,k),n(!0)},f=_=>{if(!e)return;const w=t.current,j=w.getContext("2d"),N=w.getBoundingClientRect(),S=_.clientX-N.left,k=_.clientY-N.top;j.lineTo(S,k),j.strokeStyle=c?"#FFFFFF":r,j.lineWidth=a,j.lineCap="round",j.stroke()},m=()=>{n(!1)},g=()=>{const _=t.current,w=_.getContext("2d");w.fillStyle="#FFFFFF",w.fillRect(0,0,_.width,_.height)},x=()=>{const w=t.current.toDataURL("image/png"),j=document.createElement("a");j.download="islamic-art.png",j.href=w,j.click()};return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Islamic Art Drawing Board"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Create beautiful Islamic art and calligraphy!"})]}),s.jsxs("div",{className:"grid lg:grid-cols-4 gap-6",children:[s.jsxs(re,{className:"lg:col-span-1",children:[s.jsx(Oe,{children:s.jsx(Me,{className:"text-lg",children:"Tools"})}),s.jsxs(ie,{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-3",children:"Colors"}),s.jsx("div",{className:"grid grid-cols-5 gap-2",children:xle.map(_=>s.jsx("button",{onClick:()=>{i(_),u(!1)},className:`w-10 h-10 rounded-lg border-2 transition-all ${r===_&&!c?"border-blue-500 scale-110":"border-gray-300"}`,style:{backgroundColor:_}},_))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-3",children:"Brush Size"}),s.jsx("div",{className:"flex gap-2",children:yle.map(_=>s.jsx("button",{onClick:()=>o(_),className:`px-3 py-2 rounded-lg border-2 transition-all ${a===_?"border-blue-500 bg-blue-50":"border-gray-300"}`,children:_},_))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(W,{onClick:()=>u(!c),variant:c?"default":"outline",className:"w-full",children:[s.jsx(qI,{className:"w-4 h-4 mr-2"}),"Eraser"]}),s.jsxs(W,{onClick:g,variant:"outline",className:"w-full",children:[s.jsx(xr,{className:"w-4 h-4 mr-2"}),"Clear All"]}),s.jsxs(W,{onClick:x,className:"w-full bg-green-600 hover:bg-green-700",children:[s.jsx(Pa,{className:"w-4 h-4 mr-2"}),"Save Art"]})]})]})]}),s.jsxs("div",{className:"lg:col-span-3",children:[s.jsx(re,{children:s.jsx(ie,{className:"p-6",children:s.jsx("canvas",{ref:t,width:800,height:600,onMouseDown:h,onMouseMove:f,onMouseUp:m,onMouseLeave:m,className:"border-2 border-gray-300 rounded-lg cursor-crosshair w-full",style:{maxWidth:"100%",height:"auto"}})})}),s.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"mt-6",children:s.jsx(re,{className:"border-2 border-purple-200 bg-purple-50",children:s.jsxs(ie,{className:"p-4",children:[s.jsxs("h3",{className:"font-bold text-purple-900 mb-2 flex items-center gap-2",children:[s.jsx(mi,{className:"w-5 h-5"}),"Drawing Tips"]}),s.jsxs("ul",{className:"text-sm text-purple-800 space-y-1",children:[s.jsx("li",{children:" Try drawing Islamic geometric patterns"}),s.jsx("li",{children:" Practice Arabic calligraphy"}),s.jsx("li",{children:" Draw your favorite mosque"}),s.jsx("li",{children:" Save and share your artwork!"})]})]})})})]})]})]})})}function jL(){const[t,e]=y.useState({title:"",content:"",type:"poem"}),[n,r]=y.useState(!1),[i,a]=y.useState(!1),[o,c]=y.useState(null);y.useEffect(()=>{u()},[]);const u=async()=>{try{if(await base44.auth.isAuthenticated()){const m=await base44.auth.me();c(m)}else c(null)}catch{c(null)}},h=async f=>{if(f.preventDefault(),!o){alert("Please log in to submit your work!");return}r(!0);try{await base44.entities.Poetry.create({user_id:o.id,user_name:o.full_name||"Anonymous",title:t.title,content:t.content,type:t.type,status:"pending"}),await base44.integrations.Core.SendEmail({from_name:"Islam Kids Zone",to:"huzaify786@gmail.com",subject:` New ${t.type==="poem"?"Poem":"Nasheed"} Submission`,body:`
          <div style="font-family: Arial, sans-serif; padding: 20px;">
            <h2>New ${t.type==="poem"?"Poem":"Nasheed"} Submission</h2>
            <p><strong>Student:</strong> ${o.full_name||"Anonymous"}</p>
            <p><strong>Title:</strong> ${t.title}</p>
            <hr/>
            <pre style="background: #f5f5f5; padding: 15px; border-radius: 5px;">${t.content}</pre>
          </div>
        `}),a(!0),setTimeout(()=>{a(!1),e({title:"",content:"",type:"poem"})},5e3)}catch(m){console.error("Error submitting:",m),alert("Error submitting. Please try again.")}finally{r(!1)}};return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Write Islamic Poetry & Nasheeds"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Express your love for Islam through beautiful words!"})]}),i?s.jsx(te.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},children:s.jsx(re,{className:"border-4 border-green-400 shadow-2xl",children:s.jsxs(ie,{className:"p-12 text-center",children:[s.jsx(bl,{className:"w-24 h-24 text-green-500 mx-auto mb-6"}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Masha'Allah! "}),s.jsxs("p",{className:"text-xl text-gray-600",children:["Your ",t.type," has been submitted successfully!"]})]})})}):s.jsxs(re,{className:"shadow-2xl",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white",children:s.jsxs(Me,{className:"text-2xl flex items-center gap-2",children:[s.jsx(z_,{className:"w-6 h-6"}),"Submit Your Work"]})}),s.jsxs(ie,{className:"p-8",children:[s.jsxs("form",{onSubmit:h,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(be,{className:"text-gray-700 font-semibold mb-3 block",children:"What are you writing?"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("button",{type:"button",onClick:()=>e({...t,type:"poem"}),className:`flex-1 p-4 rounded-xl border-2 transition-all ${t.type==="poem"?"border-purple-500 bg-purple-50":"border-gray-300"}`,children:[s.jsx("div",{className:"text-3xl mb-2",children:""}),s.jsx("div",{className:"font-bold",children:"Islamic Poem"})]}),s.jsxs("button",{type:"button",onClick:()=>e({...t,type:"nasheed"}),className:`flex-1 p-4 rounded-xl border-2 transition-all ${t.type==="nasheed"?"border-purple-500 bg-purple-50":"border-gray-300"}`,children:[s.jsx("div",{className:"text-3xl mb-2",children:""}),s.jsx("div",{className:"font-bold",children:"Nasheed"})]})]})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"title",className:"text-gray-700 font-semibold",children:"Title *"}),s.jsx(ke,{id:"title",value:t.title,onChange:f=>e({...t,title:f.target.value}),placeholder:"Give your work a beautiful title...",required:!0,className:"mt-2"})]}),s.jsxs("div",{children:[s.jsxs(be,{htmlFor:"content",className:"text-gray-700 font-semibold",children:["Your ",t.type==="poem"?"Poem":"Nasheed"," *"]}),s.jsx(Dn,{id:"content",value:t.content,onChange:f=>e({...t,content:f.target.value}),placeholder:"Write your beautiful words here...",required:!0,rows:12,className:"mt-2 font-mono"})]}),s.jsx(W,{type:"submit",disabled:n,className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-xl py-6",children:n?"Submitting...":s.jsxs(s.Fragment,{children:[s.jsx(_x,{className:"w-5 h-5 mr-2"}),"Submit for Review"]})})]}),s.jsxs("div",{className:"mt-6 bg-purple-50 rounded-xl p-4 border-2 border-purple-200",children:[s.jsxs("h3",{className:"font-bold text-purple-900 mb-2 flex items-center gap-2",children:[s.jsx(mi,{className:"w-5 h-5"}),"Writing Tips"]}),s.jsxs("ul",{className:"text-sm text-purple-800 space-y-1",children:[s.jsx("li",{children:" Start with Bismillah"}),s.jsx("li",{children:" Write from your heart about Islam"}),s.jsx("li",{children:" Check spelling and grammar"}),s.jsx("li",{children:" Be creative and original!"})]})]})]})]})]})})}const vle=[{id:"story",title:"Best Story",emoji:"",prize:"Islamic Story Book Set",color:"from-blue-500 to-cyan-500"},{id:"drawing",title:"Best Drawing",emoji:"",prize:"Art Supplies Kit",color:"from-pink-500 to-rose-500"},{id:"recitation",title:"Best Recitation",emoji:"",prize:"Special Islamic Gift",color:"from-green-500 to-teal-500"},{id:"poem",title:"Best Poem/Nasheed",emoji:"",prize:"Featured on Website + Prize",color:"from-purple-500 to-violet-500"}];function _L(){return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx(te.div,{animate:{rotate:[0,10,-10,0],scale:[1,1.2,1]},transition:{repeat:1/0,duration:3},className:"text-8xl mb-6",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Monthly Creative Contest"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Showcase your talents and win amazing prizes every month!"})]}),s.jsx(te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-12",children:s.jsx(re,{className:"border-4 border-amber-400 shadow-2xl bg-gradient-to-r from-amber-50 to-orange-50",children:s.jsxs(ie,{className:"p-8 text-center",children:[s.jsx(uy,{className:"w-16 h-16 mx-auto mb-4 text-amber-600"}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"December 2024 Contest"}),s.jsx("p",{className:"text-lg text-gray-700 mb-4",children:"Submit your entries before December 31st!"}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[s.jsxs("div",{className:"bg-white px-6 py-3 rounded-full shadow-lg",children:[s.jsx("span",{className:"font-bold text-amber-600",children:"Total Prizes:"})," 4 Winners"]}),s.jsxs("div",{className:"bg-white px-6 py-3 rounded-full shadow-lg",children:[s.jsx("span",{className:"font-bold text-amber-600",children:"Deadline:"})," Dec 31"]})]})]})})}),s.jsx("div",{className:"grid md:grid-cols-2 gap-6 mb-12",children:vle.map((t,e)=>s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:e*.1},children:s.jsxs(re,{className:"h-full hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 border-2",children:[s.jsx(Oe,{className:`bg-gradient-to-br ${t.color} text-white`,children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"text-6xl",children:t.emoji}),s.jsxs("div",{children:[s.jsx(Me,{className:"text-2xl mb-2",children:t.title}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(HI,{className:"w-4 h-4"}),s.jsxs("span",{children:["Prize: ",t.prize]})]})]})]})}),s.jsx(ie,{className:"p-6",children:s.jsx(Mt,{to:at(t.id==="story"?"Stories":t.id==="drawing"?"DrawingBoard":t.id==="recitation"?"RecordAndShare":"PoetryWriting"),children:s.jsx(W,{className:"w-full bg-gray-900 hover:bg-gray-800",children:"Submit Entry"})})})]})},t.id))}),s.jsxs(re,{className:"shadow-2xl border-2 border-blue-300",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:s.jsxs(Me,{className:"text-2xl flex items-center gap-2",children:[s.jsx(ln,{className:"w-6 h-6"}),"Contest Rules & Guidelines"]})}),s.jsx(ie,{className:"p-8",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg mb-4 text-blue-900",children:"How to Participate"}),s.jsxs("ul",{className:"space-y-2 text-gray-700",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-xl",children:""}),s.jsx("span",{children:"Create your best Islamic artwork, story, poem, or recitation"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-xl",children:""}),s.jsx("span",{children:"Submit before the monthly deadline"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-xl",children:""}),s.jsx("span",{children:"Winners announced at the start of each month"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-xl",children:""}),s.jsx("span",{children:"Prizes shipped to winners worldwide!"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg mb-4 text-purple-900",children:"Judging Criteria"}),s.jsxs("ul",{className:"space-y-2 text-gray-700",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-xl",children:""}),s.jsx("span",{children:"Originality and creativity"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-xl",children:""}),s.jsx("span",{children:"Islamic values and messages"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-xl",children:""}),s.jsx("span",{children:"Effort and presentation"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-xl",children:""}),s.jsx("span",{children:"Age-appropriate content"})]})]})]})]})})]}),s.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-12",children:s.jsx(re,{className:"bg-gradient-to-r from-green-50 to-teal-50 border-2 border-green-300",children:s.jsxs(ie,{className:"p-8 text-center",children:[s.jsx(Ud,{className:"w-16 h-16 mx-auto mb-4 text-green-600"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Join Our Hall of Fame!"}),s.jsx("p",{className:"text-gray-700 max-w-2xl mx-auto",children:"All winners get featured on our website and receive special badges on their profiles. Start creating today and join the ranks of talented young Muslim artists!"})]})})})]})})}const ble=[{id:"prophets",title:"25 Prophets",emoji:"",color:"from-blue-500 to-cyan-500",description:"Learn about all 25 prophets mentioned in the Quran"},{id:"angels",title:"Angels in Islam",emoji:"",color:"from-purple-500 to-pink-500",description:"Discover the angels and their important roles"},{id:"months",title:"Islamic Months",emoji:"",color:"from-green-500 to-teal-500",description:"Understand the 12 Islamic calendar months"},{id:"pillars",title:"5 Pillars of Islam",emoji:"",color:"from-amber-500 to-orange-500",description:"The foundation of Islamic practice"}],wle=["Adam","Idris","Nuh (Noah)","Hud","Saleh","Ibrahim (Abraham)","Lut (Lot)","Ismail (Ishmael)","Ishaq (Isaac)","Yaqub (Jacob)","Yusuf (Joseph)","Ayyub (Job)","Shuaib","Musa (Moses)","Harun (Aaron)","Dhul-Kifl","Dawud (David)","Sulaiman (Solomon)","Ilyas (Elijah)","Al-Yasa (Elisha)","Yunus (Jonah)","Zakariya (Zechariah)","Yahya (John)","Isa (Jesus)","Muhammad "];function NL(){const[t,e]=y.useState(null);return t==="prophets"?s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx(W,{onClick:()=>e(null),variant:"outline",className:"mb-6",children:" Back to Encyclopedia"}),s.jsxs(re,{className:"shadow-2xl",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-blue-500 to-cyan-500 text-white",children:s.jsxs(Me,{className:"text-3xl flex items-center gap-3",children:[s.jsx(Ol,{className:"w-8 h-8"}),"The 25 Prophets in the Quran"]})}),s.jsx(ie,{className:"p-8",children:s.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:wle.map((n,r)=>s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:r*.05},children:s.jsx(re,{className:"hover:shadow-lg transition-all hover:-translate-y-1 cursor-pointer",children:s.jsx(ie,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-bold",children:r+1}),s.jsx("span",{className:"font-semibold text-gray-900",children:n})]})})})},n))})})]})]})}):s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Mini Islamic Encyclopedia"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Learn about prophets, angels, Islamic months, and more!"})]}),s.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:ble.map((n,r)=>s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:r*.1},children:s.jsxs(re,{onClick:()=>e(n.id),className:"h-full hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 cursor-pointer group",children:[s.jsx(Oe,{className:`bg-gradient-to-br ${n.color} text-white pb-6`,children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"text-6xl",children:n.emoji}),s.jsxs("div",{children:[s.jsx(Me,{className:"text-2xl mb-2",children:n.title}),s.jsx("p",{className:"text-sm text-white/90",children:n.description})]})]})}),s.jsx(ie,{className:"p-6",children:s.jsxs(W,{className:"w-full bg-gray-900 hover:bg-gray-800 group-hover:scale-105 transition-transform",children:[s.jsx(un,{className:"w-5 h-5 mr-2"}),"Explore Now"]})})]})},n.id))})]})})}const IT=[{id:1,surah:"Al-Fatiha",number:1,verses:7,duration:"8:30",mp3Url:"https://server8.mp3quran.net/afs/001.mp3",description:"The Opening - Learn the meaning of the most recited surah"},{id:2,surah:"Al-Ikhlas",number:112,verses:4,duration:"2:15",mp3Url:"https://server8.mp3quran.net/afs/112.mp3",description:"Sincerity - Understanding Allah's oneness"},{id:3,surah:"Al-Falaq",number:113,verses:5,duration:"1:50",mp3Url:"https://server8.mp3quran.net/afs/113.mp3",description:"The Daybreak - Seeking protection from evil"},{id:4,surah:"An-Nas",number:114,verses:6,duration:"1:40",mp3Url:"https://server8.mp3quran.net/afs/114.mp3",description:"Mankind - Protection from whispers"},{id:5,surah:"Al-Asr",number:103,verses:3,duration:"1:20",mp3Url:"https://server8.mp3quran.net/afs/103.mp3",description:"Time - The importance of faith and good deeds"},{id:6,surah:"Al-Kawthar",number:108,verses:3,duration:"1:15",mp3Url:"https://server8.mp3quran.net/afs/108.mp3",description:"Abundance - Allah's gift to the Prophet "}];function SL(){const[t,e]=y.useState(null),[n,r]=y.useState(.7),[i,a]=y.useState(!1),o=y.useRef({}),c=f=>{const m=o.current[f];if(Object.keys(o.current).forEach(g=>{g!==f.toString()&&o.current[g]&&o.current[g].pause()}),t===f)m.pause(),e(null);else{if(!m.src){const g=IT.find(x=>x.id===f);m.src=g.mp3Url}m.volume=i?0:n,m.play(),e(f)}m.onended=()=>{e(null)}},u=f=>{const m=parseFloat(f.target.value);r(m),a(m===0),Object.values(o.current).forEach(g=>{g&&(g.volume=m)})},h=()=>{const f=!i;a(f),Object.values(o.current).forEach(m=>{m&&(m.volume=f?0:n)})};return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Audio Tafsir for Kids"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Listen to recitations of short surahs"})]}),s.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},className:"mb-8 max-w-xs mx-auto",children:s.jsx(re,{className:"bg-gradient-to-r from-blue-50 to-purple-50",children:s.jsx(ie,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:h,className:"text-blue-600 hover:text-blue-700",children:i||n===0?s.jsx(Bd,{className:"w-6 h-6"}):s.jsx(Oi,{className:"w-6 h-6"})}),s.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:i?0:n,onChange:u,className:"flex-1 h-2 bg-blue-200 rounded-lg appearance-none cursor-pointer"}),s.jsxs("span",{className:"text-sm text-gray-600 w-12 text-right",children:[Math.round((i?0:n)*100),"%"]})]})})})}),s.jsx("div",{className:"grid gap-6",children:IT.map((f,m)=>s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:m*.1},children:s.jsx(re,{className:"hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:s.jsxs(ie,{className:"p-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-4 md:gap-6",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-20 h-20 rounded-2xl bg-gradient-to-br from-green-500 to-teal-500 flex items-center justify-center text-white font-bold text-2xl",children:f.number})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-1",children:["Surah ",f.surah]}),s.jsx("p",{className:"text-gray-600 mb-2",children:f.description}),s.jsxs("div",{className:"flex gap-4 text-sm text-gray-500",children:[s.jsxs("span",{children:[" ",f.verses," verses"]}),s.jsxs("span",{children:[" ",f.duration]})]})]}),s.jsx(W,{onClick:()=>c(f.id),className:`${t===f.id?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"}`,children:t===f.id?s.jsxs(s.Fragment,{children:[s.jsx(bo,{className:"w-5 h-5 mr-2"}),"Pause"]}):s.jsxs(s.Fragment,{children:[s.jsx(er,{className:"w-5 h-5 mr-2"}),"Listen"]})})]}),s.jsx("audio",{ref:g=>o.current[f.id]=g,preload:"none"})]})})},f.id))}),s.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-12",children:s.jsx(re,{className:"bg-gradient-to-r from-blue-50 to-purple-50 border-2 border-blue-300",children:s.jsxs(ie,{className:"p-8 text-center",children:[s.jsx(Wc,{className:"w-16 h-16 mx-auto mb-4 text-blue-600"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"More Tafsir Lessons Coming Soon!"}),s.jsx("p",{className:"text-gray-700",children:"We're working on adding more surahs with simple, kid-friendly explanations."})]})})})]})})}const jle=[{id:1,fact:"The Quran has 114 chapters (surahs) and over 6,000 verses!",emoji:"",category:"Quran"},{id:2,fact:"Muslims pray 5 times a day facing the Ka'bah in Mecca.",emoji:"",category:"Prayer"},{id:3,fact:"The month of Ramadan is when Muslims fast from sunrise to sunset.",emoji:"",category:"Ramadan"},{id:4,fact:"There are 25 prophets mentioned by name in the Quran.",emoji:"",category:"Prophets"},{id:5,fact:"Angel Jibreel (Gabriel) brought the Quran's revelations to Prophet Muhammad .",emoji:"",category:"Angels"},{id:6,fact:"Muslims greet each other with 'Assalamu Alaikum' which means 'Peace be upon you'.",emoji:"",category:"Manners"},{id:7,fact:"The Ka'bah was built by Prophet Ibrahim and his son Ismail (peace be upon them).",emoji:"",category:"History"},{id:8,fact:"Giving charity (Zakat) is one of the 5 pillars of Islam.",emoji:"",category:"Pillars"},{id:9,fact:"The Islamic calendar is based on the moon and has 12 months.",emoji:"",category:"Calendar"},{id:10,fact:"Prophet Muhammad  was known as 'Al-Amin' (The Trustworthy) even before prophethood.",emoji:"",category:"Seerah"}];function EL(){return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Did You Know?"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Fun and amazing Islamic facts for curious minds!"})]}),s.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:jle.map((t,e)=>s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:e*.1},children:s.jsx(re,{className:"h-full hover:shadow-xl transition-all duration-300 hover:-translate-y-1 border-2 border-amber-200 bg-gradient-to-br from-amber-50 to-orange-50",children:s.jsx(ie,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"text-5xl flex-shrink-0",children:t.emoji}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"mb-2",children:s.jsx("span",{className:"text-xs bg-amber-200 text-amber-800 px-3 py-1 rounded-full font-semibold",children:t.category})}),s.jsx("p",{className:"text-lg text-gray-800 leading-relaxed",children:t.fact})]})]})})})},t.id))}),s.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-12",children:s.jsx(re,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white border-4 border-purple-300 shadow-2xl",children:s.jsxs(ie,{className:"p-8 text-center",children:[s.jsx(ln,{className:"w-16 h-16 mx-auto mb-4"}),s.jsx("h3",{className:"text-2xl font-bold mb-3",children:"Keep Learning Every Day!"}),s.jsx("p",{className:"text-lg",children:"Come back regularly to discover more amazing Islamic facts! "})]})})})]})})}const _le=[{id:"quran_tracing_1",title:"Surah Al-Fatiha Tracing",category:"Quran Tracing",description:"Trace and learn Surah Al-Fatiha in Arabic",level:"Beginner",pages:3,fileUrl:"https://www.islamicfinder.org/islamic-content/",color:"from-green-500 to-teal-500",icon:""},{id:"arabic_alphabet",title:"Arabic Alphabet Workbook",category:"Arabic Learning",description:"Learn all 28 Arabic letters with tracing",level:"Beginner",pages:28,fileUrl:"https://www.arabicworksheets.com/",color:"from-blue-500 to-indigo-500",icon:""},{id:"99_names_coloring",title:"99 Names of Allah Coloring",category:"Coloring",description:"Color and memorize Allah's beautiful names",level:"All Ages",pages:10,fileUrl:"https://www.islamiccoloring.com/",color:"from-purple-500 to-pink-500",icon:""},{id:"prophet_stories",title:"Stories of Prophets Activity Book",category:"Seerah",description:"Activities and worksheets about Prophet stories",level:"Ages 7-12",pages:15,fileUrl:"https://www.islamicworksheets.net/",color:"from-amber-500 to-orange-500",icon:""},{id:"salah_guide",title:"How to Pray - Step by Step",category:"Fiqh",description:"Visual guide with pictures for each step of prayer",level:"All Ages",pages:8,fileUrl:"https://www.islamicposter.com/salah-guide",color:"from-rose-500 to-pink-500",icon:""},{id:"wudu_worksheet",title:"Wudu Step-by-Step Worksheet",category:"Fiqh",description:"Learn the steps of ablution with pictures",level:"Ages 5-10",pages:4,fileUrl:"https://www.muslimkidsactivities.com/",color:"from-cyan-500 to-blue-500",icon:""},{id:"dua_coloring",title:"Daily Duas Coloring Book",category:"Duas",description:"Beautiful duas with coloring illustrations",level:"Ages 5-10",pages:12,fileUrl:"https://www.islamickidsactivities.com/",color:"from-pink-500 to-purple-500",icon:""},{id:"hadith_matching",title:"Hadith Matching Game",category:"Hadith",description:"Match hadiths with their meanings",level:"Ages 8-12",pages:6,fileUrl:"https://www.hadithforkids.com/",color:"from-indigo-500 to-purple-500",icon:""},{id:"ramadan_activities",title:"Ramadan Activity Pack",category:"Special Occasions",description:"Fun activities for the blessed month",level:"All Ages",pages:20,fileUrl:"https://www.ramadanworksheets.com/",color:"from-amber-400 to-yellow-500",icon:""},{id:"hijri_calendar",title:"Islamic Months Learning Sheet",category:"General Knowledge",description:"Learn the names of Islamic months",level:"Ages 7-12",pages:4,fileUrl:"https://www.islamicmonths.com/",color:"from-gray-500 to-gray-700",icon:""},{id:"arabic_numbers",title:"Arabic Numbers Worksheet",category:"Arabic Learning",description:"Learn to write numbers 1-20 in Arabic",level:"Beginner",pages:5,fileUrl:"https://www.arabicnumbers.com/",color:"from-blue-400 to-cyan-500",icon:""},{id:"pillars_of_islam",title:"5 Pillars of Islam Worksheet",category:"Islamic Knowledge",description:"Learn about the 5 pillars with activities",level:"Ages 7-12",pages:8,fileUrl:"https://www.islamicpillars.com/",color:"from-green-400 to-emerald-500",icon:""}];function kL(){const[t,e]=y.useState(null),n=async i=>{e(i.id),await new Promise(a=>setTimeout(a,1e3)),ft.success(`Downloaded: ${i.title}`),ft.info("Note: This is a demo. Connect to actual worksheet files for production."),window.open(i.fileUrl,"_blank"),e(null)},r=i=>{ft.info(`Opening ${i.title} for printing...`),window.open(i.fileUrl,"_blank")};return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Printable Islamic Worksheets"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Download and print Islamic worksheets for your children!"})]}),s.jsx(te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-12",children:s.jsx(re,{className:"border-4 border-blue-200 bg-gradient-to-r from-blue-50 to-purple-50",children:s.jsxs(ie,{className:"p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-blue-900 mb-3",children:"For Parents & Teachers"}),s.jsxs("ul",{className:"space-y-2 text-blue-800",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"All worksheets are designed for kids ages 5-12"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"Perfect for homeschooling, Islamic schools, or weekend classes"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"Free to download and print!"})]})]})]})})}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12",children:_le.map((i,a)=>s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:a*.1},children:s.jsxs(re,{className:"h-full hover:shadow-xl transition-all duration-300 border-2 border-gray-100",children:[s.jsx(Oe,{className:`bg-gradient-to-br ${i.color} text-white`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"text-5xl",children:i.icon}),s.jsx(Me,{className:"text-xl",children:i.title})]})}),s.jsxs(ie,{className:"p-6",children:[s.jsx("p",{className:"text-gray-600 mb-2",children:i.description}),s.jsxs("div",{className:"flex items-center gap-2 mb-4 text-sm text-gray-500",children:[s.jsx(un,{className:"w-4 h-4"}),s.jsxs("span",{children:[i.pages," pages  ",i.level]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(W,{onClick:()=>n(i),disabled:t===i.id,className:"flex-1 bg-blue-600 hover:bg-blue-700",size:"sm",children:t===i.id?s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Downloading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Pa,{className:"w-4 h-4 mr-2"}),"Download"]})}),s.jsx(W,{onClick:()=>r(i),variant:"outline",size:"sm",children:s.jsx(GI,{className:"w-4 h-4"})})]})]})]})},i.id))}),s.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:s.jsx(re,{className:"border-4 border-amber-300 bg-gradient-to-r from-amber-50 to-yellow-50",children:s.jsxs(ie,{className:"p-8 text-center",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"More Worksheets Coming Soon!"}),s.jsx("p",{className:"text-lg text-gray-700 mb-6 max-w-2xl mx-auto",children:"We're constantly adding new Islamic worksheets and activities. Check back regularly for updates!"})]})})})]})})}function L1({title:t,mp3Url:e,coverImage:n,onPlayComplete:r,allowDownload:i=!0,autoplay:a=!1}){const[o,c]=y.useState(!1),[u,h]=y.useState(0),[f,m]=y.useState(0),[g,x]=y.useState(1),[_,w]=y.useState(null),[j,N]=y.useState(null);y.useEffect(()=>{if(!e){w("No audio URL provided");return}const C=new Audio(e);return N(C),C.addEventListener("loadedmetadata",()=>{m(C.duration)}),C.addEventListener("timeupdate",()=>{h(C.currentTime)}),C.addEventListener("ended",()=>{c(!1),r&&r()}),a&&(C.play(),c(!0)),()=>{C.pause(),C.src=""}},[e,a,r]);const S=()=>{j&&(o?j.pause():j.play(),c(!o))},k=()=>{if(e){const C=document.createElement("a");C.href=e,C.download=t||"audio",C.click()}};return _?s.jsxs("div",{className:"text-red-500",children:["Error: ",_]}):s.jsx(re,{className:"p-6",children:s.jsxs(te.div,{initial:{opacity:0},animate:{opacity:1},children:[n&&s.jsx("img",{src:n,alt:t,className:"w-full h-48 object-cover rounded-lg mb-4"}),s.jsx("h3",{className:"text-xl font-bold mb-4",children:t}),s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsxs(W,{onClick:S,className:"flex-1",children:[o?s.jsx(bo,{className:"w-4 h-4 mr-2"}):s.jsx(er,{className:"w-4 h-4 mr-2"}),o?"Pause":"Play"]}),i&&s.jsx(W,{onClick:k,variant:"outline",children:s.jsx(Pa,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[g>0?s.jsx(Oi,{className:"w-4 h-4"}):s.jsx(Bd,{className:"w-4 h-4"}),s.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:g,onChange:C=>{const R=parseFloat(C.target.value);x(R),j&&(j.volume=R)},className:"flex-1"})]}),s.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[Math.floor(u/60),":",String(Math.floor(u%60)).padStart(2,"0")," /",Math.floor(f/60),":",String(Math.floor(f%60)).padStart(2,"0")]})]})})}L1.propTypes={title:Vt.string.isRequired,mp3Url:Vt.string,coverImage:Vt.string,onPlayComplete:Vt.func,allowDownload:Vt.bool,autoplay:Vt.bool};function CL(){const[t,e]=y.useState(""),[n,r]=y.useState("all"),[i,a]=y.useState("all"),[o,c]=y.useState(null),[u,h]=y.useState(null),{data:f=[],isLoading:m}=Bn({queryKey:["audioContent"],queryFn:()=>bt.entities.AudioContent.list("-created_date"),initialData:[]}),{data:g=[]}=Bn({queryKey:["featuredAudio"],queryFn:async()=>(await bt.entities.AudioContent.list("-plays_count",5)).filter(S=>S.featured),initialData:[]}),x=f.filter(N=>{var R,O;const S=N.title.toLowerCase().includes(t.toLowerCase())||((R=N.description)==null?void 0:R.toLowerCase().includes(t.toLowerCase()))||((O=N.tags)==null?void 0:O.some(A=>A.toLowerCase().includes(t.toLowerCase()))),k=n==="all"||N.category===n,C=i==="all"||N.age_group===i;return S&&k&&C}),_=async N=>{c(N),h(N.id);try{await bt.entities.AudioContent.update(N.id,{plays_count:(N.plays_count||0)+1})}catch(S){console.error("Error updating play count:",S)}},w=[{value:"all",label:"All Ages"},{value:"3-6",label:"Ages 3-6"},{value:"7-10",label:"Ages 7-10"},{value:"11+",label:"Ages 11+"}],j=[{value:"all",label:"All Categories"},{value:"story",label:"Stories"},{value:"hadith",label:"Hadith"},{value:"history",label:"History"},{value:"nasheed",label:"Nasheeds"},{value:"tajweed",label:"Tajweed"},{value:"fiqh",label:"Fiqh"},{value:"quran",label:"Quran"}];return s.jsx("div",{className:"min-h-screen py-8 md:py-12 px-2 md:px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8 md:mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-gray-900 mb-4",children:"Islamic Audio Library"}),s.jsx("p",{className:"text-base md:text-lg text-gray-600 max-w-2xl mx-auto",children:"Listen to stories, lessons, and nasheeds that teach Islamic values"})]}),g.length>0&&s.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(ln,{className:"w-6 h-6 text-amber-500"}),"Featured Content"]}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:g.slice(0,3).map((N,S)=>s.jsx(te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:S*.1},children:s.jsxs(re,{className:"overflow-hidden hover:shadow-xl transition-shadow border-2 border-amber-200",children:[N.cover_image&&s.jsx("div",{className:"h-40 overflow-hidden",children:s.jsx("img",{src:N.cover_image,alt:N.title,className:"w-full h-full object-cover"})}),s.jsxs(ie,{className:"p-4",children:[s.jsx("h3",{className:"font-bold text-lg mb-2 line-clamp-1",children:N.title}),s.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:N.description}),s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsx(we,{className:"text-xs",children:N.duration}),s.jsx(we,{variant:"outline",className:"text-xs",children:N.age_group})]}),s.jsx(W,{onClick:()=>_(N),size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:s.jsx(er,{className:"w-4 h-4"})})]})]})]})},N.id))})]}),s.jsx(re,{className:"mb-8 shadow-lg",children:s.jsx(ie,{className:"p-4 md:p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Pi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx(ke,{placeholder:"Search by title, theme, or tags...",value:t,onChange:N=>e(N.target.value),className:"pl-10"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Xt,{value:n,onValueChange:r,children:[s.jsx(Qt,{className:"w-full md:w-[180px]",children:s.jsx(Zt,{placeholder:"Category"})}),s.jsx(Jt,{children:j.map(N=>s.jsx(Le,{value:N.value,children:N.label},N.value))})]}),s.jsxs(Xt,{value:i,onValueChange:a,children:[s.jsx(Qt,{className:"w-full md:w-[150px]",children:s.jsx(Zt,{placeholder:"Age Group"})}),s.jsx(Jt,{children:w.map(N=>s.jsx(Le,{value:N.value,children:N.label},N.value))})]})]})]})})}),o&&s.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[s.jsx("h3",{className:"text-xl font-bold mb-4",children:"Now Playing"}),s.jsx(L1,{title:o.title,mp3Url:o.mp3_url,youtubeId:o.youtube_id,coverImage:o.cover_image,allowDownload:o.allow_download,onPlayComplete:()=>console.log("Audio completed")}),s.jsx(re,{className:"mt-4 p-4",children:s.jsxs("div",{className:"space-y-4",children:[o.description&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"About"}),s.jsx("p",{className:"text-gray-700",children:o.description})]}),o.moral_lesson&&s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border-l-4 border-blue-500",children:[s.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Moral Lesson"}),s.jsx("p",{className:"text-blue-800",children:o.moral_lesson})]}),o.transcript&&s.jsxs("details",{className:"cursor-pointer",children:[s.jsxs("summary",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[s.jsx(un,{className:"w-4 h-4"}),"Read Transcript"]}),s.jsx("div",{className:"mt-2 p-4 bg-gray-50 rounded-lg whitespace-pre-wrap text-sm text-gray-700",children:o.transcript})]}),o.license_source&&s.jsx("div",{className:"text-xs text-gray-500",children:s.jsxs("p",{children:["Source: ",o.license_source]})})]})})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-2xl font-bold mb-6",children:["All Audio Content (",x.length,")"]}),m?s.jsx("div",{className:"text-center py-12 text-gray-500",children:"Loading audio content..."}):x.length===0?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"No audio content found. Try adjusting your filters."})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map((N,S)=>s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:S*.05},children:s.jsxs(re,{className:`hover:shadow-xl transition-all ${u===N.id?"border-2 border-blue-500":""}`,children:[N.cover_image&&s.jsx("div",{className:"h-48 overflow-hidden",children:s.jsx("img",{src:N.cover_image,alt:N.title,className:"w-full h-full object-cover"})}),s.jsxs(ie,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[s.jsx("h3",{className:"font-bold text-lg line-clamp-2 flex-1",children:N.title}),N.status==="broken"&&s.jsx(we,{variant:"destructive",className:"text-xs",children:"Unavailable"})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-3",children:N.description}),s.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[N.duration&&s.jsx(we,{variant:"outline",className:"text-xs",children:N.duration}),N.age_group&&s.jsx(we,{variant:"outline",className:"text-xs",children:N.age_group}),N.category&&s.jsx(we,{className:"text-xs capitalize",children:N.category})]}),N.tags&&N.tags.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:N.tags.slice(0,3).map((k,C)=>s.jsxs("span",{className:"text-xs text-blue-600",children:["#",k]},C))}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(W,{onClick:()=>_(N),className:"flex-1 bg-blue-600 hover:bg-blue-700",disabled:N.status==="broken"&&!N.youtube_id,children:[s.jsx(er,{className:"w-4 h-4 mr-2"}),u===N.id?"Playing":"Listen"]}),N.allow_download&&N.mp3_url&&s.jsx(W,{variant:"outline",size:"icon",onClick:()=>window.open(N.mp3_url,"_blank"),children:s.jsx(Pa,{className:"w-4 h-4"})})]})]})]})},N.id))})]})]})})}const Xb=[{value:"1",name:"Sahih Bukhari",color:"from-green-600 to-emerald-600"},{value:"2",name:"Sahih Muslim",color:"from-blue-600 to-cyan-600"},{value:"3",name:"Sunan Abu Dawud",color:"from-orange-600 to-amber-600"},{value:"4",name:"Jami' at-Tirmidhi",color:"from-purple-600 to-pink-600"},{value:"5",name:"Sunan an-Nasa'i",color:"from-red-600 to-rose-600"},{value:"6",name:"Sunan Ibn Majah",color:"from-indigo-600 to-purple-600"},{value:"7",name:"Muwatta Malik",color:"from-teal-600 to-cyan-600"},{value:"8",name:"Musnad Ahmad",color:"from-amber-600 to-orange-600"}],Zb=[{id:1,arabic:"       ",english:"Actions are judged by intentions, and every person will get the reward according to what he intended.",reference:"Sahih Bukhari & Muslim",narrator:"Umar ibn Al-Khattab (RA)",kidsAdvice:"Always do good things because you want to make Allah happy, not to show off to others!"},{id:2,arabic:"    ",english:"The best among you are those who learn the Quran and teach it.",reference:"Sahih Bukhari",narrator:"Uthman (RA)",kidsAdvice:"Learning Quran is amazing! And when you help others learn it too, you become even more special to Allah."},{id:3,arabic:"    ",english:"Your smile in the face of your brother is charity.",reference:"Jami' at-Tirmidhi",narrator:"Abu Dharr (RA)",kidsAdvice:"Smiling at people is free but makes everyone happy! Even a smile counts as a good deed!"},{id:4,arabic:"        ",english:"None of you truly believes until he loves for his brother what he loves for himself.",reference:"Sahih Bukhari & Muslim",narrator:"Anas ibn Malik (RA)",kidsAdvice:"Want good things for your friends just like you want them for yourself. Share happiness and toys!"},{id:5,arabic:"        ",english:"A strong believer is better and more beloved to Allah than a weak believer.",reference:"Sahih Muslim",narrator:"Abu Hurairah (RA)",kidsAdvice:"Being strong means having strong faith, good character, and helping others - not just being physically strong!"},{id:6,arabic:"  ",english:"The best of you are those who are best to their families.",reference:"Sahih Muslim & Tirmidhi",narrator:"Abu Hurairah (RA)",kidsAdvice:"Be kind and helpful to your parents, brothers, and sisters. Your family is very special!"},{id:7,arabic:"  ",english:"A good word is charity.",reference:"Sahih Bukhari & Muslim",narrator:"Abu Hurairah (RA)",kidsAdvice:"Saying nice things to people like 'thank you' and 'please' is a good deed that Allah loves!"},{id:8,arabic:"       ",english:"He will not enter Paradise whose neighbor is not secure from his wrongful conduct.",reference:"Sahih Muslim",narrator:"Abu Hurairah (RA)",kidsAdvice:"Always be nice to your neighbors! Don't be noisy or do things that bother them."},{id:9,arabic:"         ",english:"Whoever believes in Allah and the Last Day should speak good or remain silent.",reference:"Sahih Bukhari & Muslim",narrator:"Abu Hurairah (RA)",kidsAdvice:"If you don't have something nice to say, it's better to stay quiet. Don't say mean things!"},{id:10,arabic:"      ",english:"Allah is Good and accepts only that which is good.",reference:"Sahih Muslim",narrator:"Abu Hurairah (RA)",kidsAdvice:"Always do things with a clean heart and good intentions. Allah loves when we are pure and honest!"}];function AL(){const[t,e]=y.useState(""),[n,r]=y.useState({1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!1,8:!1}),[i,a]=y.useState(null),o=()=>{const m=new Date,g=new Date(m.getFullYear(),0,0),x=m-g,_=1e3*60*60*24;return Math.floor(x/_)};y.useEffect(()=>{const g=o()%Zb.length;a(Zb[g])},[]);const c=m=>{m.preventDefault();const g=Object.entries(n).filter(([_,w])=>w).map(([_,w])=>_).join(","),x=`https://www.searchtruth.com/searchHadith.php?keyword=${encodeURIComponent(t)}&book=${g}&translator=1&search=1`;window.open(x,"_blank")},u=m=>{r(g=>({...g,[m]:!g[m]}))},h=()=>{const m={};Xb.forEach(g=>{m[g.value]=!0}),r(m)},f=()=>{const m={};Xb.forEach(g=>{m[g.value]=!1}),r(m)};return s.jsx("div",{className:"min-h-screen py-8 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Hadith Library"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Learn authentic hadiths from Prophet Muhammad () - Changes every day!"})]}),i&&s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-12",children:s.jsxs(re,{className:"border-4 border-amber-400 shadow-2xl bg-gradient-to-br from-amber-50 to-orange-50",children:[s.jsxs(Oe,{className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white",children:[s.jsxs(Me,{className:"text-2xl flex items-center gap-2 justify-center",children:[s.jsx(ln,{className:"w-6 h-6"}),"Hadith of Today",s.jsx(ln,{className:"w-6 h-6"})]}),s.jsx("p",{className:"text-center text-amber-100 text-sm mt-2",children:"Updates daily"})]}),s.jsxs(ie,{className:"p-8",children:[s.jsx("div",{className:"mb-6 text-center bg-white p-6 rounded-xl border-2 border-amber-200",children:s.jsx("p",{className:"text-3xl md:text-4xl lg:text-5xl leading-loose text-gray-900 mb-2",style:{fontFamily:"'Amiri', 'Scheherazade New', 'Traditional Arabic', 'Arabic Typesetting', serif",lineHeight:"2.5",direction:"rtl"},children:i.arabic})}),s.jsxs("div",{className:"mb-6 bg-white p-6 rounded-xl border-2 border-amber-200",children:[s.jsxs("p",{className:"text-lg md:text-xl text-gray-800 leading-relaxed italic",children:['"',i.english,'"']}),s.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[s.jsx(we,{className:"bg-amber-600 text-white",children:i.reference}),s.jsxs(we,{variant:"outline",className:"border-amber-600 text-amber-700",children:["Narrator: ",i.narrator]})]})]}),s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-6 rounded-xl border-2 border-blue-200",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(ch,{className:"w-6 h-6 text-blue-600 flex-shrink-0 mt-1"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-lg text-gray-900 mb-2",children:" For Kids:"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:i.kidsAdvice})]})]})})]})]})}),s.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6 text-center",children:" Learn These 10 Beautiful Hadiths"}),s.jsx("div",{className:"grid gap-6",children:Zb.map((m,g)=>s.jsx(te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:g*.1},children:s.jsx(re,{className:"hover:shadow-xl transition-all border-2 border-gray-200 hover:border-blue-300",children:s.jsx(ie,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[s.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-purple-500 text-white w-10 h-10 rounded-full flex items-center justify-center font-bold flex-shrink-0",children:g+1}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-6 rounded-xl border-2 border-green-200 mb-4",children:s.jsx("p",{className:"text-2xl md:text-3xl lg:text-4xl leading-loose text-gray-900",style:{fontFamily:"'Amiri', 'Scheherazade New', 'Traditional Arabic', 'Arabic Typesetting', serif",lineHeight:"2.5",direction:"rtl",textAlign:"right"},children:m.arabic})}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-4",children:[s.jsxs("p",{className:"text-base md:text-lg text-gray-800 leading-relaxed italic",children:['"',m.english,'"']}),s.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[s.jsx(we,{className:"bg-green-600",children:m.reference}),s.jsx(we,{variant:"outline",children:m.narrator})]})]}),s.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border-l-4 border-blue-500",children:s.jsxs("p",{className:"text-sm md:text-base text-gray-700",children:[s.jsx("strong",{className:"text-blue-700",children:" Lesson:"})," ",m.kidsAdvice]})})]})]})})})},m.id))})]}),s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8",children:s.jsxs(re,{className:"border-2 border-blue-200 shadow-xl",children:[s.jsxs(Oe,{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:[s.jsxs(Me,{className:"text-2xl flex items-center gap-2",children:[s.jsx(Pi,{className:"w-6 h-6"}),"Search More Hadiths"]}),s.jsx("p",{className:"text-blue-100 text-sm mt-2",children:"Search thousands of authentic hadiths"})]}),s.jsx(ie,{className:"p-6",children:s.jsxs("form",{onSubmit:c,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Enter keyword or topic"}),s.jsx(ke,{type:"text",value:t,onChange:m=>e(m.target.value),placeholder:"e.g., prayer, charity, kindness...",className:"text-base",required:!0})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Select Hadith Books"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(W,{type:"button",variant:"outline",size:"sm",onClick:h,children:"Select All"}),s.jsx(W,{type:"button",variant:"outline",size:"sm",onClick:f,children:"Deselect All"})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Xb.map(m=>s.jsx("div",{onClick:()=>u(m.value),className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${n[m.value]?`bg-gradient-to-r ${m.color} text-white border-transparent shadow-lg`:"bg-white border-gray-200 hover:border-blue-300"}`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-6 h-6 rounded border-2 flex items-center justify-center ${n[m.value]?"bg-white border-white":"border-gray-300"}`,children:n[m.value]&&s.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{d:"M5 13l4 4L19 7"})})}),s.jsx("span",{className:"font-semibold",children:m.name})]})},m.value))})]}),s.jsxs(W,{type:"submit",size:"lg",className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-lg",disabled:!t.trim()||Object.values(n).every(m=>!m),children:[s.jsx(Pi,{className:"w-5 h-5 mr-2"}),"Search Hadiths",s.jsx(md,{className:"w-4 h-4 ml-2"})]}),s.jsx("p",{className:"text-sm text-gray-500 text-center",children:"Powered by SearchTruth.com"})]})})]})}),s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:s.jsxs(re,{className:"bg-gradient-to-br from-green-50 to-emerald-50 border-2 border-green-200",children:[s.jsx(Oe,{children:s.jsx(Me,{className:"text-2xl",children:"About Hadiths"})}),s.jsxs(ie,{className:"space-y-3",children:[s.jsxs("p",{className:"text-gray-700",children:[s.jsx("strong",{children:"Hadiths"})," are the sayings and actions of Prophet Muhammad (). They teach us how to be good Muslims and follow Allah's path."]}),s.jsxs("p",{className:"text-gray-700",children:["The most authentic collections are ",s.jsx("strong",{children:"Sahih Bukhari"})," and ",s.jsx("strong",{children:"Sahih Muslim"}),", which have been carefully verified by Islamic scholars."]}),s.jsx("p",{className:"text-gray-700",children:"Learning hadiths helps us understand the Quran better and know how to live like the Prophet () taught us."})]})]})})]})})}const Nle=[{id:1,category:"Prophets",title:"Prophet Ibrahim (AS) and the Idols",summary:"Learn about Prophet Ibrahim's bravery when he destroyed the idols",content:`Prophet Ibrahim (AS) lived among people who worshipped idols made of stone and wood. He knew this was wrong because only Allah deserves to be worshipped.

One day, when everyone went to a festival, Prophet Ibrahim (AS) went to the temple. He broke all the idols except the biggest one, and placed the axe in its hand!

When people returned and asked who did this, Prophet Ibrahim (AS) pointed to the biggest idol and said, "Ask him, if he can speak!" 

The people realized their idols couldn't speak, move, or do anything. This made them think about how foolish it was to worship them.`,moral:"We should worship only Allah and have courage to stand for what is right.",image:"https://images.unsplash.com/photo-1564769625905-50e93615e769?w=800",audioUrl:"",ageGroup:"7-10"},{id:2,category:"Prophets",title:"Prophet Yusuf (AS) in the Well",summary:"The story of Prophet Yusuf and his jealous brothers",content:`Prophet Yusuf (AS) was dearly loved by his father, Prophet Yaqub (AS). His brothers became jealous and made a plan to get rid of him.

They threw young Yusuf into a deep, dark well! But Allah protected him. Travelers found him and took him to Egypt.

Years later, after many trials, Prophet Yusuf (AS) became a powerful leader in Egypt. When his brothers came for help during a famine, he forgave them!`,moral:"Forgiveness is a beautiful quality. Allah always has a plan for us, even in difficult times.",image:"https://images.unsplash.com/photo-1542601906990-b4d3fb778b09?w=800",audioUrl:"",ageGroup:"7-10"},{id:3,category:"Sahabah",title:"Abu Bakr (RA) - The Best Friend",summary:"How Abu Bakr supported the Prophet ",content:`Abu Bakr (RA) was the Prophet Muhammad's  closest friend. When others doubted, he always believed.

When the Prophet  told about his night journey (Isra and Mi'raj), many people didn't believe him. But Abu Bakr (RA) said immediately: "If he said it, then it is true!"

He spent his wealth to help Islam and even accompanied the Prophet  on the dangerous journey to Madinah, hiding in a cave together.`,moral:"True friendship means standing by your friends and believing in them.",image:"https://images.unsplash.com/photo-1564769625905-50e93615e769?w=800",audioUrl:"",ageGroup:"7-10"},{id:4,category:"Makkah & Madinah",title:"The Building of the Kaaba",summary:"Learn about the sacred Kaaba's history",content:`The Kaaba was first built by Prophet Ibrahim (AS) and his son Ismail (AS) thousands of years ago. They built it as a house of worship for Allah.

Prophet Ibrahim (AS) would pray: "O our Lord! I have settled some of my family in a valley without cultivation near Your Sacred House..."

Today, millions of Muslims from around the world face the Kaaba when they pray, and visit it during Hajj.`,moral:"The Kaaba reminds us that all Muslims are united in worshipping Allah.",image:"https://images.unsplash.com/photo-1591604129939-f1efa4d9f7fa?w=800",audioUrl:"",ageGroup:"7-10"},{id:5,category:"Sahabah",title:"Bilal (RA) - The First Muezzin",summary:"The amazing story of Bilal's beautiful voice",content:`Bilal (RA) was once a slave who was tortured for accepting Islam. His master would leave him under the burning sun with a heavy rock on his chest.

But Bilal would only say: "Ahad, Ahad!" meaning "One God, One God!"

When Islam became strong, the Prophet  chose Bilal to be the first person ever to call Muslims to prayer! His beautiful, strong voice echoed through Madinah.`,moral:"No matter where you come from, if you have faith and patience, Allah will honor you.",image:"https://images.unsplash.com/photo-1542601906990-b4d3fb778b09?w=800",audioUrl:"",ageGroup:"7-10"}];function TL(){const[t,e]=y.useState("Prophets"),[n,r]=y.useState(null),i=["Prophets","Sahabah","Makkah & Madinah"],a=Nle.filter(o=>o.category===t);return s.jsx("div",{className:"min-h-screen py-8 md:py-12 px-2 md:px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-gray-900 mb-4",children:"Islamic History"}),s.jsx("p",{className:"text-base md:text-lg text-gray-600 max-w-2xl mx-auto",children:"Amazing stories from Islamic history"})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-8 justify-center",children:i.map(o=>s.jsx(W,{onClick:()=>{e(o),r(null)},variant:t===o?"default":"outline",className:t===o?"bg-blue-600":"",children:o},o))}),n?s.jsxs(te.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},children:[s.jsx(W,{variant:"ghost",onClick:()=>r(null),className:"mb-4",children:" Back to Stories"}),s.jsxs(re,{className:"shadow-xl",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white",children:s.jsx(Me,{className:"text-2xl",children:n.title})}),s.jsxs(ie,{className:"p-6",children:[n.image&&s.jsx("div",{className:"mb-6",children:s.jsx("img",{src:n.image,alt:n.title,className:"w-full h-64 object-cover rounded-lg"})}),n.audioUrl&&s.jsx("div",{className:"mb-6",children:s.jsx(L1,{title:n.title,mp3Url:n.audioUrl,coverImage:n.image})}),s.jsx("div",{className:"prose max-w-none mb-6",children:s.jsx("p",{className:"text-gray-800 leading-relaxed whitespace-pre-line text-lg",children:n.content})}),s.jsxs("div",{className:"bg-green-50 rounded-lg p-6 border-l-4 border-green-500",children:[s.jsx("h4",{className:"font-semibold text-green-900 mb-2",children:" Moral of the Story:"}),s.jsx("p",{className:"text-green-800",children:n.moral})]})]})]})]}):s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map((o,c)=>s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:c*.1},children:s.jsxs(re,{className:"h-full hover:shadow-xl transition-shadow cursor-pointer",onClick:()=>r(o),children:[o.image&&s.jsx("div",{className:"h-48 overflow-hidden",children:s.jsx("img",{src:o.image,alt:o.title,className:"w-full h-full object-cover"})}),s.jsxs(ie,{className:"p-4",children:[s.jsx(we,{className:"mb-3",children:o.category}),s.jsx("h3",{className:"font-bold text-lg mb-2",children:o.title}),s.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:o.summary}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(we,{variant:"outline",className:"text-xs",children:o.ageGroup}),s.jsx(dy,{className:"w-5 h-5 text-blue-600"})]})]})]})},o.id))})]})})}Vt.string,Vt.string,Vt.string,Vt.string,Vt.string,Vt.bool,Vt.bool,Vt.bool,Vt.func;const PT=[{id:"noon_sakinah_idgham",category:"Noon Sakinah & Tanween",title:"Idgham (Merging)",kidExplanation:"Idgham means merging or blending. When noon sakinah () or tanween (  ) comes before these 6 letters:       - you merge them together smoothly!",arabicExample:" ",exampleTranslation:"from their Lord",surahReference:"Al-Baqarah 2:5",ruleHighlight:"The noon in 'min' merges with the 'raa' in 'rabbihim'",whyThisShowsRule:"Notice how the noon sound blends smoothly into the 'r' sound without a pause.",quiz:[{question:"Which letters cause Idgham?",options:["     "," ","","   "],correct:0},{question:"What does Idgham mean?",options:["Hiding","Merging/Blending","Showing clearly","Changing"],correct:1},{question:"In ' ', which rule applies?",options:["Ikhfa","Idgham","Iqlab","Izhar"],correct:1}]},{id:"noon_sakinah_ikhfa",category:"Noon Sakinah & Tanween",title:"Ikhfa (Hiding)",kidExplanation:"Ikhfa means hiding. When noon sakinah or tanween comes before 15 specific letters, you hide the noon sound a little bit - it's between showing and merging!",arabicExample:" ",exampleTranslation:"whoever does",surahReference:"Az-Zalzalah 99:7",ruleHighlight:"The noon in 'man' is hidden before the 'ya' in 'ya'mal'",whyThisShowsRule:"The noon sound is softened and hidden with a slight nasal sound (ghunnah).",quiz:[{question:"How many letters cause Ikhfa?",options:["4","6","15","28"],correct:2},{question:"What does Ikhfa mean?",options:["Merging","Hiding","Showing","Changing"],correct:1},{question:"Is there ghunnah (nasal sound) in Ikhfa?",options:["Yes","No","Sometimes","Never"],correct:0}]},{id:"noon_sakinah_iqlab",category:"Noon Sakinah & Tanween",title:"Iqlab (Changing)",kidExplanation:"Iqlab means changing. When noon sakinah or tanween comes before the letter '' (baa), you change the noon sound to '' (meem) sound!",arabicExample:" ",exampleTranslation:"after",surahReference:"Al-Baqarah 2:27",ruleHighlight:"The noon in 'min' changes to a meem sound before 'ba'd'",whyThisShowsRule:"The noon completely transforms into a meem sound when followed by baa.",quiz:[{question:"Which letter causes Iqlab?",options:[" only"," only"," only"," and "],correct:0},{question:"What sound does noon change to?",options:["Baa","Meem","Noon","Laam"],correct:1},{question:"Is there ghunnah in Iqlab?",options:["Yes","No"],correct:0}]},{id:"noon_sakinah_izhar",category:"Noon Sakinah & Tanween",title:"Izhar (Clear Pronunciation)",kidExplanation:"Izhar means to show clearly. When noon sakinah or tanween comes before the 6 throat letters (     ), you pronounce the noon very clearly!",arabicExample:" ",exampleTranslation:"whoever believes",surahReference:"Al-Baqarah 2:62",ruleHighlight:"The noon in 'man' is pronounced clearly before the hamza () in 'aamana'",whyThisShowsRule:"The noon sound is fully pronounced without any hiding or merging.",quiz:[{question:"How many throat letters cause Izhar?",options:["4","5","6","7"],correct:2},{question:"What does Izhar mean?",options:["Hiding","Merging","Showing clearly","Changing"],correct:2},{question:"Is there ghunnah in Izhar?",options:["Yes","No"],correct:1}]},{id:"meem_sakinah_idgham_shafawi",category:"Meem Sakinah",title:"Idgham Shafawi (Lip Merging)",kidExplanation:"When meem sakinah () comes before another meem (), you merge them together! It's called 'shafawi' because you use your lips to pronounce it.",arabicExample:" ",exampleTranslation:"for them is what",surahReference:"Al-Baqarah 2:25",ruleHighlight:"The meem in 'lahum' merges with the meem in 'ma'",whyThisShowsRule:"Two meems come together and are pronounced as one long meem with ghunnah.",quiz:[{question:"When does Idgham Shafawi happen?",options:["Meem before meem","Meem before baa","Meem before noon","Meem before any letter"],correct:0},{question:"Is there ghunnah in Idgham Shafawi?",options:["Yes","No"],correct:0},{question:"Why is it called 'shafawi'?",options:["It's hidden","Uses the lips","Uses the throat","It's merged"],correct:1}]},{id:"meem_sakinah_ikhfa_shafawi",category:"Meem Sakinah",title:"Ikhfa Shafawi (Lip Hiding)",kidExplanation:"When meem sakinah () comes before '' (baa), you hide the meem sound slightly! Close your lips and make a soft nasal sound.",arabicExample:" ",exampleTranslation:"striking them with stones",surahReference:"Al-Feel 105:4",ruleHighlight:"The meem in 'tarmeehim' is hidden before the baa in 'bihijarah'",whyThisShowsRule:"The meem is softened and pronounced with the lips closed, creating a nasal sound.",quiz:[{question:"Which letter causes Ikhfa Shafawi?",options:["","","","All letters"],correct:1},{question:"How do you pronounce Ikhfa Shafawi?",options:["Clearly","Hidden with ghunnah","Merged","Changed"],correct:1},{question:"What does 'shafawi' mean?",options:["Throat","Lip","Tongue","Nose"],correct:1}]},{id:"qalqalah",category:"Qalqalah",title:"Qalqalah (Echoing Sound)",kidExplanation:"Qalqalah means a bouncing or echoing sound! When these 5 letters have sukoon (), they bounce:     . Remember: 'Qutb Jad'!",arabicExample:"",exampleTranslation:"One (Allah is One)",surahReference:"Al-Ikhlas 112:1",ruleHighlight:"The 'dal' () at the end has qalqalah",whyThisShowsRule:"The letter 'd' bounces when you stop on it, creating an echoing sound.",quiz:[{question:"Which letters have qalqalah?",options:["    ","   ","   ","   "],correct:0},{question:"What does qalqalah mean?",options:["Merging","Bouncing/Echoing","Hiding","Stretching"],correct:1},{question:"How do you remember qalqalah letters?",options:["Qutb Jad","Noon Wa Laam","Meem Baa","Raa Laam"],correct:0}]},{id:"madd_tabee'ee",category:"Madd (Elongation)",title:"Madd Tabee'ee (Natural Elongation)",kidExplanation:"Madd means to stretch or lengthen. Natural madd happens when you see alif (), waw (), or ya () - you stretch the sound for 2 counts!",arabicExample:"",exampleTranslation:"he said",surahReference:"Al-Baqarah 2:30",ruleHighlight:"The alif after 'qaf' creates natural madd",whyThisShowsRule:"The alif stretches the 'a' sound for 2 counts: qaaala.",quiz:[{question:"Which letters create madd?",options:["  ","  "," "," "],correct:0},{question:"How long is natural madd?",options:["1 count","2 counts","4 counts","6 counts"],correct:1},{question:"What does madd mean?",options:["Hiding","Bouncing","Stretching/Lengthening","Merging"],correct:2}]},{id:"laam_shamsiyyah",category:"Laam Rules",title:"Laam Shamsiyyah (Sun Letters)",kidExplanation:"When '' (al) comes before 14 'sun letters', the laam is hidden and the next letter is doubled! Like:  (ash-shams) not (al-shams).",arabicExample:"",exampleTranslation:"The Most Merciful",surahReference:"Al-Fatihah 1:3",ruleHighlight:"The laam in '' is hidden before '', making it 'ar-Rahman' not 'al-Rahman'",whyThisShowsRule:"The 'r' is a sun letter, so the laam is assimilated into it.",quiz:[{question:"How many sun letters are there?",options:["12","13","14","15"],correct:2},{question:"What happens to the laam before sun letters?",options:["It's pronounced clearly","It's hidden","It's changed","It's bounced"],correct:1},{question:"Is '' a sun letter?",options:["Yes","No"],correct:0}]},{id:"laam_qamariyyah",category:"Laam Rules",title:"Laam Qamariyyah (Moon Letters)",kidExplanation:"When '' (al) comes before 14 'moon letters', you pronounce the laam clearly! Like:  (al-qamar).",arabicExample:"",exampleTranslation:"the worlds",surahReference:"Al-Fatihah 1:2",ruleHighlight:"The laam in '' is pronounced clearly before '', making it 'al-'aalameen'",whyThisShowsRule:"The 'ayn' is a moon letter, so the laam is pronounced fully.",quiz:[{question:"How many moon letters are there?",options:["12","13","14","15"],correct:2},{question:"What happens to the laam before moon letters?",options:["It's hidden","It's pronounced clearly","It's merged","It's changed"],correct:1},{question:"Is '' a moon letter?",options:["Yes","No"],correct:0}]},{id:"raa_tafkheem",category:"Raa Rules",title:"Raa Tafkheem (Heavy R)",kidExplanation:"Sometimes the letter '' (raa) is pronounced heavy (with a full mouth). This happens when raa has fatha (), damma (), or comes after these vowels!",arabicExample:"",exampleTranslation:"Lord",surahReference:"Al-Fatihah 1:2",ruleHighlight:"The raa has fatha, so it's pronounced heavy: 'Rabb'",whyThisShowsRule:"The fatha makes the raa sound thick and full.",quiz:[{question:"When is raa heavy?",options:["With kasra always","With fatha or damma","Never","With sukoon always"],correct:1},{question:"What does tafkheem mean?",options:["Light","Heavy/Thick","Hidden","Merged"],correct:1},{question:"In '', is the raa heavy or light?",options:["Heavy","Light"],correct:0}]},{id:"raa_tarqeeq",category:"Raa Rules",title:"Raa Tarqeeq (Light R)",kidExplanation:"Sometimes the letter '' (raa) is pronounced light (with an empty mouth). This happens when raa has kasra () or comes after kasra!",arabicExample:"",exampleTranslation:"provision",surahReference:"Al-Baqarah 2:22",ruleHighlight:"The raa has kasra, so it's pronounced light: 'rizqan'",whyThisShowsRule:"The kasra makes the raa sound thin and light.",quiz:[{question:"When is raa light?",options:["With fatha","With kasra","Never","Always"],correct:1},{question:"What does tarqeeq mean?",options:["Heavy","Light/Thin","Hidden","Bouncing"],correct:1},{question:"In '', is the raa heavy or light?",options:["Heavy","Light"],correct:1}]}];function RL(){const[t,e]=y.useState("All"),[n,r]=y.useState(null),[i,a]=y.useState({}),[o,c]=y.useState(!1),[u,h]=y.useState(-1),[f,m]=y.useState(!1),g=["All","Noon Sakinah & Tanween","Meem Sakinah","Qalqalah","Madd (Elongation)","Laam Rules","Raa Rules"],x=t==="All"?PT:PT.filter(N=>N.category===t),_=(N,S)=>{a({...i,[N]:S})},w=()=>{if(!(n!=null&&n.quiz))return 0;let N=0;return n.quiz.forEach((S,k)=>{i[k]===S.correct&&N++}),N},j=()=>{a({}),c(!1)};return s.jsx("div",{className:"min-h-screen py-8 md:py-12 px-2 md:px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-gray-900 mb-4",children:"Learn Tajweed"}),s.jsx("p",{className:"text-base md:text-lg text-gray-600 max-w-2xl mx-auto",children:"Learn to recite the Quran beautifully with proper pronunciation rules"})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-8 justify-center",children:g.map(N=>s.jsx(W,{onClick:()=>{e(N),r(null)},variant:t===N?"default":"outline",size:"sm",className:t===N?"bg-teal-600":"",children:N},N))}),n?s.jsxs(te.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},children:[s.jsx(W,{variant:"ghost",onClick:()=>{r(null),j(),h(-1)},className:"mb-4",children:" Back to Rules"}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2 space-y-6",children:s.jsxs(re,{className:"shadow-xl",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-teal-500 to-cyan-500 text-white",children:s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[s.jsx(Me,{className:"text-xl md:text-2xl",children:n.title}),s.jsx(we,{className:"bg-white/20 text-white",children:n.category})]})}),s.jsxs(ie,{className:"p-4 md:p-6",children:[s.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 mb-6 border-l-4 border-blue-500",children:[s.jsxs("h4",{className:"font-semibold text-blue-900 mb-2 flex items-center gap-2",children:[" What is ",n.title,"?"]}),s.jsx("p",{className:"text-gray-800 leading-relaxed text-base",children:n.kidExplanation})]}),s.jsxs("div",{className:"bg-amber-50 rounded-lg p-6 mb-6 border-r-4 border-amber-500",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h4",{className:"font-semibold text-amber-900",children:" Quran Example:"}),s.jsxs(W,{variant:"outline",size:"sm",onClick:()=>m(!f),children:[f?"Hide":"Show"," Transliteration"]})]}),s.jsx("div",{className:"text-3xl md:text-4xl text-right mb-3 leading-relaxed",dir:"rtl",children:n.arabicExample}),s.jsx("p",{className:"text-gray-700 mb-2 italic",children:n.exampleTranslation}),s.jsx(we,{variant:"outline",className:"mb-4",children:n.surahReference}),s.jsx("div",{className:"bg-white rounded-lg p-4 mb-4",children:s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("strong",{children:"Why this shows the rule:"})," ",n.whyThisShowsRule]})}),s.jsx("div",{className:"bg-teal-50 rounded-lg p-4",children:s.jsxs("p",{className:"text-sm text-teal-900",children:[s.jsx("strong",{children:" Focus:"})," ",n.ruleHighlight]})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"font-semibold mb-3 text-lg flex items-center gap-2",children:" Listen & Practice"}),s.jsx("div",{className:"bg-purple-50 rounded-lg p-4 mb-4",children:s.jsx("p",{className:"text-sm text-purple-900",children:"Note: Audio recitation coming soon. For now, practice with your teacher or use online Quran recitation resources!"})})]})]})]})}),s.jsx("div",{className:"space-y-6",children:s.jsxs(re,{className:"shadow-xl sticky top-24",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white",children:s.jsxs(Me,{className:"text-lg md:text-xl flex items-center gap-2",children:[s.jsx(Ud,{className:"w-5 h-5"}),"Test Your Knowledge"]})}),s.jsx(ie,{className:"p-4",children:o?s.jsxs(te.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},children:[s.jsxs("div",{className:"text-center mb-4",children:[s.jsx("div",{className:"text-5xl mb-3",children:w()===n.quiz.length?"":""}),s.jsxs("h3",{className:"text-xl font-bold mb-2",children:["Score: ",w()," / ",n.quiz.length]}),s.jsx("p",{className:"text-gray-600 text-sm",children:w()===n.quiz.length?"Masha'Allah! Perfect score!":"Good try! Review and try again."})]}),s.jsx("div",{className:"space-y-2 mb-4",children:n.quiz.map((N,S)=>{const k=i[S]===N.correct;return s.jsx("div",{className:`p-3 rounded-lg ${k?"bg-green-50":"bg-red-50"}`,children:s.jsxs("div",{className:"flex items-start gap-2",children:[k?s.jsx(lh,{className:"w-4 h-4 text-green-600 flex-shrink-0 mt-0.5"}):s.jsx(hy,{className:"w-4 h-4 text-red-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-xs",children:[s.jsx("p",{className:"font-semibold mb-1",children:N.question}),s.jsxs("p",{className:"text-gray-600",children:["Correct: ",N.options[N.correct]]})]})]})},S)})}),s.jsx(W,{onClick:j,className:"w-full",variant:"outline",children:"Try Again"})]}):s.jsxs("div",{className:"space-y-4",children:[n.quiz.map((N,S)=>s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("p",{className:"font-semibold mb-3 text-sm",children:[S+1,". ",N.question]}),s.jsx("div",{className:"space-y-2",children:N.options.map((k,C)=>s.jsx(W,{onClick:()=>_(S,C),variant:i[S]===C?"default":"outline",className:"w-full justify-start text-left h-auto py-2 text-xs",size:"sm",children:k},C))})]},S)),s.jsx(W,{onClick:()=>c(!0),disabled:Object.keys(i).length!==n.quiz.length,className:"w-full bg-green-600 hover:bg-green-700",children:"Check Answers"})]})})]})})]})]}):s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:s.jsx(Ss,{children:x.map((N,S)=>s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:S*.05},children:s.jsxs(re,{className:"h-full hover:shadow-xl transition-all duration-300 cursor-pointer group",onClick:()=>{r(N),j()},children:[s.jsxs(Oe,{className:"pb-3",children:[s.jsx(we,{className:"mb-2 w-fit text-xs",children:N.category}),s.jsx(Me,{className:"text-lg md:text-xl group-hover:text-teal-600 transition-colors leading-tight",children:N.title})]}),s.jsxs(ie,{children:[s.jsx("div",{className:"bg-amber-50 rounded-lg p-3 mb-3",children:s.jsx("p",{className:"text-2xl md:text-3xl text-right",dir:"rtl",children:N.arabicExample})}),s.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mb-3",children:N.kidExplanation}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(we,{variant:"outline",className:"text-xs",children:[N.quiz.length," Quiz Questions"]}),s.jsx(W,{size:"sm",variant:"ghost",className:"text-xs",children:"Learn "})]})]})]})},N.id))})})]})})}function IL(){const t=[{id:"quran",title:"Qur'an Knowledge Quiz",icon:"",description:"Test knowledge of Surahs, verses, and Quranic stories",levels:["Easy","Medium","Hard"],color:"from-green-500 to-teal-500"},{id:"prophets",title:"Prophets & Messengers Quiz",icon:"",description:"Learn about the noble prophets mentioned in the Quran",levels:["Easy","Medium","Hard"],color:"from-blue-500 to-indigo-500"},{id:"seerah",title:"Life of Prophet Muhammad ",icon:"",description:"Questions about the Seerah and the Prophet's life",levels:["Easy","Medium","Hard"],color:"from-purple-500 to-pink-500"},{id:"fiqh",title:"Fiqh & Islamic Practices",icon:"",description:"Salah, fasting, Hajj, and daily Islamic practices",levels:["Easy","Medium","Hard"],color:"from-amber-500 to-orange-500"},{id:"akhlaq",title:"Islamic Manners & Character",icon:"",description:"Good character, honesty, kindness, and respect",levels:["Easy","Medium"],color:"from-rose-500 to-pink-500"},{id:"history",title:"Islamic History Quiz",icon:"",description:"Sahabah, battles, caliphs, and Islamic civilization",levels:["Medium","Hard"],color:"from-cyan-500 to-blue-500"}],e=(r,i)=>{alert(`Downloading ${r} - ${i} quiz... (Feature coming soon!)`)},n=(r,i)=>{alert(`Preparing to print ${r} - ${i} quiz... (Feature coming soon!)`)};return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Printable Islamic Quizzes"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Download and print Islamic quizzes for your children, students, or homeschool!"})]}),s.jsx(te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-12",children:s.jsx(re,{className:"border-4 border-blue-200 bg-gradient-to-r from-blue-50 to-purple-50",children:s.jsxs(ie,{className:"p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-blue-900 mb-3",children:"For Parents & Teachers"}),s.jsxs("ul",{className:"space-y-2 text-blue-800",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"All quizzes are designed for kids ages 5-12"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"Answer keys included for easy grading"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"Perfect for homeschooling, Islamic schools, or weekend classes"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"Free to download and print!"})]})]})]})})}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12",children:t.map((r,i)=>s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:i*.1},children:s.jsxs(re,{className:"h-full hover:shadow-xl transition-all duration-300 border-2 border-gray-100",children:[s.jsx(Oe,{className:`bg-gradient-to-br ${r.color} text-white`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"text-5xl",children:r.icon}),s.jsx(Me,{className:"text-xl",children:r.title})]})}),s.jsxs(ie,{className:"p-6",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:r.description}),s.jsx("div",{className:"space-y-2",children:r.levels.map(a=>s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(W,{onClick:()=>e(r.title,a),className:"flex-1 bg-blue-600 hover:bg-blue-700",size:"sm",children:[s.jsx(Pa,{className:"w-4 h-4 mr-2"}),a]}),s.jsx(W,{onClick:()=>n(r.title,a),variant:"outline",size:"sm",children:s.jsx(GI,{className:"w-4 h-4"})})]},a))})]})]})},r.id))}),s.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:s.jsx(re,{className:"border-4 border-green-300 bg-gradient-to-r from-green-50 to-teal-50",children:s.jsxs(ie,{className:"p-8 text-center",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Submit Your Own Quiz Questions!"}),s.jsx("p",{className:"text-lg text-gray-700 mb-6 max-w-2xl mx-auto",children:"Have great Islamic quiz questions or crosswords? Share them with us and they might be featured!"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsxs(W,{onClick:()=>window.location.href="mailto:huzaify786@gmail.com?subject=Islamic Quiz Submission",className:"bg-gradient-to-r from-green-500 to-teal-500 hover:from-green-600 hover:to-teal-600",size:"lg",children:[s.jsx(my,{className:"w-5 h-5 mr-2"}),"Email Your Submission"]}),s.jsx(W,{onClick:()=>window.open("https://wa.me/447447999284?text=I'd like to submit Islamic quiz questions!","_blank"),className:"bg-green-600 hover:bg-green-700",size:"lg",children:" WhatsApp Us"})]})]})})})]})})}const F1=y.createContext(),PL=({children:t})=>{const[e,n]=y.useState(null),[r,i]=y.useState(!1),[a,o]=y.useState(null),c=f=>{a&&a.pause();const m=new Audio(f.url);m.play().catch(g=>{console.error("Error playing audio:",g),ft.error("Could not play audio. Please try another.")}),o(m),n(f),i(!0),m.onended=()=>{i(!1)}},u=()=>{a&&(a.pause(),i(!1))},h=()=>{a&&(a.play(),i(!0))};return s.jsx(F1.Provider,{value:{currentAudio:e,isPlaying:r,playAudio:c,pauseAudio:u,resumeAudio:h},children:t})};PL.propTypes={children:Vt.node.isRequired};const Sle={quran:[{id:"fatiha",title:"Surah Al-Fatiha",reciter:"Mishary Rashid Alafasy",url:"https://server8.mp3quran.net/afs/001.mp3",category:"Quran"},{id:"yaseen",title:"Surah Yaseen",reciter:"Mishary Rashid Alafasy",url:"https://server8.mp3quran.net/afs/036.mp3",category:"Quran"},{id:"mulk",title:"Surah Al-Mulk",reciter:"Mishary Rashid Alafasy",url:"https://server8.mp3quran.net/afs/067.mp3",category:"Quran"},{id:"rahman",title:"Surah Ar-Rahman",reciter:"Mishary Rashid Alafasy",url:"https://server8.mp3quran.net/afs/055.mp3",category:"Quran"},{id:"kahf",title:"Surah Al-Kahf",reciter:"Mishary Rashid Alafasy",url:"https://server8.mp3quran.net/afs/018.mp3",category:"Quran"}]},OL=({audio:t})=>{const{currentAudio:e,isPlaying:n,playAudio:r,pauseAudio:i,resumeAudio:a}=y.useContext(F1),o=(e==null?void 0:e.id)===t.id&&n;return s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-5},children:s.jsx(re,{className:"hover:shadow-xl transition-all duration-300",children:s.jsxs(ie,{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:t.title}),t.reciter&&s.jsx("p",{className:"text-sm text-gray-600",children:t.reciter}),t.artist&&s.jsx("p",{className:"text-sm text-gray-600",children:t.artist}),t.narrator&&s.jsx("p",{className:"text-sm text-gray-600",children:t.narrator}),t.speaker&&s.jsx("p",{className:"text-sm text-gray-600",children:t.speaker})]}),s.jsx(we,{className:"bg-gradient-to-r from-green-500 to-teal-500 text-white",children:t.category})]}),t.description&&s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:t.description}),s.jsx("div",{className:"flex gap-2",children:s.jsx(W,{onClick:()=>{o?i():(e==null?void 0:e.id)===t.id?a():r(t)},className:"flex-1 bg-gradient-to-r from-green-500 to-teal-500 hover:from-green-600 hover:to-teal-600",children:o?s.jsxs(s.Fragment,{children:[s.jsx(bo,{className:"w-4 h-4 mr-2"}),"Pause"]}):s.jsxs(s.Fragment,{children:[s.jsx(er,{className:"w-4 h-4 mr-2"}),(e==null?void 0:e.id)===t.id?"Resume":"Play"]})})})]})})})};OL.propTypes={audio:Vt.shape({id:Vt.string.isRequired,title:Vt.string.isRequired,url:Vt.string.isRequired,reciter:Vt.string,artist:Vt.string,narrator:Vt.string,speaker:Vt.string,category:Vt.string.isRequired,description:Vt.string}).isRequired};function Ele(){var r;const[t,e]=y.useState("quran"),n=[{id:"quran",name:"Quran Recitations",icon:"",description:"Listen to beautiful Quran recitations"}];return s.jsxs("div",{className:"min-h-screen py-12 px-4",children:[s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Islamic Multimedia"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Listen to beautiful Quran recitations"})]}),s.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-12",children:n.map(i=>s.jsxs(W,{onClick:()=>e(i.id),variant:t===i.id?"default":"outline",className:`${t===i.id?"bg-gradient-to-r from-green-500 to-teal-500 text-white":""}`,size:"lg",children:[s.jsx("span",{className:"text-2xl mr-2",children:i.icon}),i.name]},i.id))}),s.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:(r=Sle[t])==null?void 0:r.map(i=>s.jsx(OL,{audio:i},i.id))},t)]}),s.jsx(kle,{})]})}const kle=()=>{const{currentAudio:t,isPlaying:e,pauseAudio:n,resumeAudio:r}=y.useContext(F1);return t?s.jsx(te.div,{initial:{y:100},animate:{y:0},className:"fixed bottom-0 left-0 right-0 bg-gradient-to-r from-green-600 to-teal-600 text-white p-4 shadow-2xl z-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Oi,{className:"w-6 h-6"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold",children:t.title}),t.reciter&&s.jsx("p",{className:"text-sm opacity-90",children:t.reciter})]})]}),s.jsx(W,{onClick:e?n:r,variant:"ghost",className:"text-white hover:bg-white/20",children:e?s.jsx(bo,{className:"w-6 h-6"}):s.jsx(er,{className:"w-6 h-6"})})]})}):null};function ML(){return s.jsx(PL,{children:s.jsx(Ele,{})})}const Cle="quran_hifz_db",Ale=1,es={surahCache:"surahCache",juzCache:"juzCache",ayahProgress:"ayahProgress",settings:"settings"};function Tle(){return new Promise((t,e)=>{const n=indexedDB.open(Cle,Ale);n.onupgradeneeded=r=>{const i=n.result;i.objectStoreNames.contains(es.surahCache)||i.createObjectStore(es.surahCache),i.objectStoreNames.contains(es.juzCache)||i.createObjectStore(es.juzCache),i.objectStoreNames.contains(es.ayahProgress)||i.createObjectStore(es.ayahProgress),i.objectStoreNames.contains(es.settings)||i.createObjectStore(es.settings)},n.onsuccess=()=>t(n.result),n.onerror=()=>e(n.error)})}async function lu(t,e,n){const r=await Tle();return new Promise((i,a)=>{const o=r.transaction(t,e),c=o.objectStore(t),u=n(c);o.oncomplete=()=>i(u),o.onerror=()=>a(o.error)})}async function OT(t,e){return lu(es.surahCache,"readwrite",n=>n.put(e,t))}async function Rle(t){return lu(es.surahCache,"readonly",e=>e.get(t))}async function Fg(t,e){return lu(es.juzCache,"readwrite",n=>n.put(e,t))}async function Ile(t){return lu(es.juzCache,"readonly",e=>e.get(t))}async function Ple(t,e,n){const r=`${t}-${e}`,i={status:n,updatedAt:Date.now()};return lu(es.ayahProgress,"readwrite",a=>a.put(i,r))}async function Ole(t,e){const n=`${t}-${e}`;return lu(es.ayahProgress,"readonly",r=>r.get(n))}async function Mle(){return lu(es.ayahProgress,"readonly",t=>new Promise((e,n)=>{const r={},i=t.openCursor();i.onsuccess=a=>{const o=a.target.result;o?(r[o.key]=o.value,o.continue()):e(r)},i.onerror=()=>n(i.error)}))}const MT={memorised:{label:"Memorised",color:"bg-green-600",Icon:bl},revision:{label:"Under Revision",color:"bg-yellow-500",Icon:W_},new:{label:"Not Memorised",color:"bg-gray-500",Icon:B_}};function DL({surahNumber:t,ayahNumber:e,onChange:n}){const[r,i]=y.useState("new");y.useEffect(()=>{let c=!0;return Ole(t,e).then(u=>{c&&u!=null&&u.status&&i(u.status)}).catch(()=>{}),()=>{c=!1}},[t,e]);const a=async c=>{i(c);try{await Ple(t,e,c)}catch{}n==null||n(c)},o=MT[r]||MT.new;return s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsxs(we,{className:o.color,children:[s.jsx(o.Icon,{className:"w-4 h-4 mr-1"})," ",o.label]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(W,{size:"sm",variant:r==="memorised"?"default":"outline",onClick:()=>a("memorised"),children:[s.jsx(bl,{className:"w-4 h-4 mr-1"})," Memorised"]}),s.jsxs(W,{size:"sm",variant:r==="revision"?"default":"outline",onClick:()=>a("revision"),children:[s.jsx(W_,{className:"w-4 h-4 mr-1"})," Revision"]}),s.jsxs(W,{size:"sm",variant:r==="new"?"default":"outline",onClick:()=>a("new"),children:[s.jsx(B_,{className:"w-4 h-4 mr-1"})," Not Yet"]})]})]})}DL.propTypes={surahNumber:Vt.number.isRequired,ayahNumber:Vt.number.isRequired,onChange:Vt.func};const Yy="https://api.alquran.cloud/v1",DT=["quran-uthmani","quran-simple"],Dle=[{id:"en.sahih",name:"Sahih International"},{id:"en.yusufali",name:"Yusuf Ali"},{id:"ur.junagarhi",name:"Junagarhi (Urdu)"},{id:"ur.maududi",name:"Maududi (Urdu)"}],s_={alafasy:"ar.alafasy",sudais:"ar.abdurrahmanalsudais",basit:"ar.abdulbasitmurattal",husary:"ar.husary"};function LL(t){return s_[t]||s_.alafasy}async function Lle({surahNumber:t,ayahNumber:e,audioEdition:n}){const r=n,i=async o=>{var m;const c=`${Yy}/ayah/${t}:${e}/${o}`,h=await(await fetch(c)).json().catch(()=>({status:"ERROR"}));if(h.status!=="OK")return null;let f=((m=h==null?void 0:h.data)==null?void 0:m.audio)||null;return typeof f=="string"&&f.startsWith("http://")&&(f="https://"+f.slice(7)),f||null};let a=await i(r);if(!a){const o=s_.alafasy;o!==r&&(a=await i(o))}if(!a)throw new Error("Failed to fetch ayah audio");return a}async function Fle({juzNumber:t,translationId:e,audioEdition:n}){var g,x,_,w,j,N,S,k;const r=C=>{const R=[C,e];return n&&R.push(n),`${Yy}/juz/${t}/editions/${R.join(",")}`};let i=await fetch(r(DT[0])),a=await i.json();if((a.status!=="OK"||!((_=(x=(g=a==null?void 0:a.data)==null?void 0:g[0])==null?void 0:x.ayahs)!=null&&_.length))&&(i=await fetch(r(DT[1])),a=await i.json()),a.status!=="OK")throw new Error("Failed to fetch juz");const o=((w=a.data[0])==null?void 0:w.ayahs)||[],c=((j=a.data[1])==null?void 0:j.ayahs)||[],u=((N=a.data[2])==null?void 0:N.ayahs)||[],h=new Map;for(const C of c){const R=`${(S=C==null?void 0:C.surah)==null?void 0:S.number}-${C==null?void 0:C.numberInSurah}`;R&&h.set(R,(C==null?void 0:C.text)??"")}const f=new Map;for(const C of u){const R=`${(k=C==null?void 0:C.surah)==null?void 0:k.number}-${C==null?void 0:C.numberInSurah}`;R&&f.set(R,(C==null?void 0:C.audio)??null)}return o.map(C=>{var O;const R=`${(O=C==null?void 0:C.surah)==null?void 0:O.number}-${C==null?void 0:C.numberInSurah}`;return{surahNumber:C.surah.number,surahName:C.surah.englishName||C.surah.name,numberInSurah:C.numberInSurah,arabic:C.text,translation:h.get(R)||"",audio:f.get(R)||null}})}async function Vle(){var r;const e=await(await fetch(`${Yy}/sajda`)).json();return e.status!=="OK"?[]:(((r=e==null?void 0:e.data)==null?void 0:r.ayahs)||(e==null?void 0:e.data)||[]).map(i=>{var a,o;return{surah:((a=i==null?void 0:i.surah)==null?void 0:a.number)||((o=i==null?void 0:i.surah)==null?void 0:o.number)||0,ayah:(i==null?void 0:i.numberInSurah)||(i==null?void 0:i.ayah)||0}}).filter(i=>i.surah&&i.ayah)}async function Ule(){const e=await(await fetch(`${Yy}/surah`)).json();return e.status!=="OK"?[]:((e==null?void 0:e.data)||[]).map(n=>({number:n.number,name:n.name,englishName:n.englishName,englishNameTranslation:n.englishNameTranslation,ayahs:n.numberOfAyahs,revelationType:n.revelationType}))}const $le={1:[{surah:1,ayah:1},{surah:2,ayah:26},{surah:2,ayah:75},{surah:2,ayah:124},{surah:2,ayah:142},{surah:2,ayah:203},{surah:2,ayah:253},{surah:3,ayah:15}]};function Ble(t,e){const n=$le[t];return!n||e<1||e>n.length?null:n[e-1]||null}const ew=[{id:"alafasy",name:"Mishary Rashid Alafasy",url:"https://server8.mp3quran.net/afs/",flag:""},{id:"sudais",name:"Abdur-Rahman As-Sudais",url:"https://server11.mp3quran.net/sds/",flag:""},{id:"basit",name:"Abdul Basit",url:"https://server7.mp3quran.net/basit/",flag:""},{id:"husary",name:"Mahmoud Khalil Al-Husary",url:"https://server13.mp3quran.net/husr/",flag:""}],tw=[{number:1,name:"Al-Fatihah",englishName:"The Opening",verses:7,revelation:"Meccan"},{number:2,name:"Al-Baqarah",englishName:"The Cow",verses:286,revelation:"Medinan"},{number:3,name:"Ali 'Imran",englishName:"Family of Imran",verses:200,revelation:"Medinan"},{number:4,name:"An-Nisa",englishName:"The Women",verses:176,revelation:"Medinan"},{number:5,name:"Al-Ma'idah",englishName:"The Table Spread",verses:120,revelation:"Medinan"},{number:6,name:"Al-An'am",englishName:"The Cattle",verses:165,revelation:"Meccan"},{number:7,name:"Al-A'raf",englishName:"The Heights",verses:206,revelation:"Meccan"},{number:8,name:"Al-Anfal",englishName:"The Spoils of War",verses:75,revelation:"Medinan"},{number:9,name:"At-Tawbah",englishName:"The Repentance",verses:129,revelation:"Medinan"},{number:10,name:"Yunus",englishName:"Jonah",verses:109,revelation:"Meccan"},{number:36,name:"Ya-Sin",englishName:"Ya-Sin",verses:83,revelation:"Meccan"},{number:55,name:"Ar-Rahman",englishName:"The Beneficent",verses:78,revelation:"Medinan"},{number:67,name:"Al-Mulk",englishName:"The Sovereignty",verses:30,revelation:"Meccan"},{number:112,name:"Al-Ikhlas",englishName:"The Sincerity",verses:4,revelation:"Meccan"},{number:113,name:"Al-Falaq",englishName:"The Daybreak",verses:5,revelation:"Meccan"},{number:114,name:"An-Nas",englishName:"Mankind",verses:6,revelation:"Meccan"}],nw=Dle,rw=[{number:1,name:"Alif Lm Mm"},{number:2,name:"Sayaql"},{number:3,name:"Tilka ar-Rusul"},{number:4,name:"Lan Tanlu"},{number:5,name:"Wal Musant"},{number:6,name:"L Yuibbullhu al-jahr"},{number:7,name:"Wa I Sami"},{number:8,name:"Wa Lau'ann"},{number:9,name:"Ql al-Mala'u"},{number:10,name:"Wa Alam"},{number:11,name:"Yataakkarn"},{number:12,name:"Wa M Ubarriu Nafsi"},{number:13,name:"Wa M Uttum"},{number:14,name:"Rubam"},{number:15,name:"Subnalladh"},{number:16,name:"Qla Alam"},{number:17,name:"Iqtaraba"},{number:18,name:"Qad Aflaha"},{number:19,name:"Wa Qlalladhna"},{number:20,name:"Amn"},{number:21,name:"Utlu M"},{number:22,name:"Wa Mli"},{number:23,name:"Wa M L"},{number:24,name:"Faman Alamu"},{number:25,name:"Ilayhi Yuraddu"},{number:26,name:" Mm"},{number:27,name:"Qla Fama"},{number:28,name:"Qad Samiallhu"},{number:29,name:"Tabrakalladh"},{number:30,name:"Amma"}],sw=[{number:1,name:""},{number:2,name:""},{number:3,name:" "},{number:4,name:" "},{number:5,name:""},{number:6,name:"   "},{number:7,name:" "},{number:8,name:" "},{number:9,name:" "},{number:10,name:""},{number:11,name:""},{number:12,name:"  "},{number:13,name:" "},{number:14,name:""},{number:15,name:" "},{number:16,name:" "},{number:17,name:""},{number:18,name:" "},{number:19,name:" "},{number:20,name:""},{number:21,name:" "},{number:22,name:""},{number:23,name:" "},{number:24,name:" "},{number:25,name:" "},{number:26,name:""},{number:27,name:" "},{number:28,name:"  "},{number:29,name:" "},{number:30,name:""}],FL=({verse:t,expanded:e,onToggle:n,onPlay:r,isHighlighted:i=!1})=>s.jsx(te.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`bg-gradient-to-r from-green-50 to-teal-50 rounded-xl p-6 border-l-4 border-green-500 shadow-sm hover:shadow-md transition-shadow mb-4 ${i?"ring-2 ring-green-500 shadow-lg":""}`,children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[s.jsx(we,{className:"bg-green-600 text-white text-sm px-3 py-1",children:t.numberInSurah}),t.isSajda&&s.jsxs(we,{className:"bg-orange-500 text-white text-xs px-2 py-1",title:"Sajda Ayah",children:[s.jsx(G_,{className:"w-3 h-3 mr-1 inline"})," Sajda"]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{dir:"rtl",style:{fontFamily:"'Scheherazade New', 'Amiri', serif"},onClick:()=>r&&r(t),title:"Click to play ayah audio",role:"button",className:"text-right text-2xl md:text-3xl leading-loose mb-4 font-arabic cursor-pointer hover:text-green-700 text-green-900",children:t.arabic}),s.jsx("p",{className:"text-gray-700 leading-relaxed text-base",children:t.translation}),s.jsx("div",{className:"mt-3",children:s.jsx(DL,{surahNumber:t.surahNumber||(t==null?void 0:t.surahNumber)||0,ayahNumber:t.numberInSurah,onChange:()=>{}})}),t.tafsir&&s.jsxs("div",{className:"mt-4",children:[s.jsx(W,{variant:"ghost",size:"sm",onClick:()=>n(t.numberInSurah),className:"text-green-600 hover:text-green-700 hover:bg-green-50",children:e?s.jsxs(s.Fragment,{children:[s.jsx(zI,{className:"w-4 h-4 mr-2"}),"Hide Tafsir"]}):s.jsxs(s.Fragment,{children:[s.jsx(em,{className:"w-4 h-4 mr-2"}),"Show Tafsir"]})}),e&&s.jsxs(te.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-3 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[s.jsx("p",{className:"text-sm font-semibold text-blue-900 mb-2",children:" Tafsir (Explanation):"}),s.jsx("p",{className:"text-sm text-blue-800 leading-relaxed",children:t.tafsir})]})]})]})]})});FL.propTypes={verse:Vt.object.isRequired,expanded:Vt.bool.isRequired,onToggle:Vt.func.isRequired,onPlay:Vt.func};function qf(){var cn,Tr;const t=Ia(),[e,n]=y.useState(tw[0]),[r,i]=y.useState(ew[0]),[a,o]=y.useState(nw[0]),[c,u]=y.useState(""),[h,f]=y.useState([]),[m,g]=y.useState([]),[x,_]=y.useState(!1),[w,j]=y.useState(!1),[N,S]=y.useState(null),[k,C]=y.useState(!1),[R,O]=y.useState(null),[A,M]=y.useState("translit"),[P,F]=y.useState(!1),[L,D]=y.useState(null),[V,G]=y.useState(!1),[ee,ae]=y.useState(!1),[ue,Q]=y.useState(null),[K,B]=y.useState(!1),[z,X]=y.useState(null),[q,ye]=y.useState(new Set),[_e,Ee]=y.useState(null);y.useEffect(()=>{const fe=new URLSearchParams(t.search||""),Ze=fe.get("surah"),et=fe.get("juz"),Ge=fe.get("quarter");if(Ze){const gt=Number(Ze),xt=tw.find(dn=>dn.number===gt);xt&&(n(xt),C(!1))}else if(et){const gt=Number(et);if(gt>=1&&gt<=30&&(O(gt),C(!0)),Ge){const xt=Number(Ge);xt>=1&&xt<=8&&Ee(xt)}}},[t.search]),y.useEffect(()=>{var fe,Ze;if(k&&_e&&Array.isArray(m)&&m.length>0){let et=null,Ge=null;if(R){const xt=Ble(R,_e);if(xt){const dn=m.findIndex(xn=>(xn==null?void 0:xn.surahNumber)===xt.surah&&(xn==null?void 0:xn.numberInSurah)===xt.ayah);dn>=0&&(et=dn,Ge={surah:xt.surah,ayah:xt.ayah})}}if(et==null){const xt=m.length,dn=Math.floor(xt/8)||1;et=Math.min(xt-1,Math.max(0,(_e-1)*dn))}const gt=(Ze=(fe=Ie==null?void 0:Ie.current)==null?void 0:fe.byIndex)==null?void 0:Ze[et];if(gt&&gt.scrollIntoView){gt.scrollIntoView({behavior:"smooth",block:"center"});const xt=m[et];xt&&(rt({surah:xt.surahNumber,ayah:xt.numberInSurah}),setTimeout(()=>rt(null),2500),Ge?ft.success(`Jumped to Juz ${R} Q${_e} start  Surah ${Ge.surah}, Ayah ${Ge.ayah}`):ft.info(`Jumped to Juz ${R} Q${_e} (approximate segment)`))}}},[k,_e,R,m]);const[ve,Fe]=y.useState("light"),Ie=y.useRef({}),[ze,rt]=y.useState(null),de=y.useRef(null),se=y.useRef(!1),ge=()=>{const fe=de.current;if(fe){try{fe.pause()}catch{}try{fe.currentTime=0}catch{}fe.src="",j(!1)}ae(!1),Q(null),B(!1),X(null)};y.useEffect(()=>(de.current||(de.current=new Audio),()=>{ge()}),[]),y.useEffect(()=>{let fe=!0;return Vle().then(Ze=>{if(!fe)return;const et=new Set(Ze.map(Ge=>`${Ge.surah}-${Ge.ayah}`));ye(et)}).catch(()=>{}),()=>{fe=!1}},[]),y.useEffect(()=>{!k&&e&&It(e.number,a.id)},[e,a,k]),y.useEffect(()=>{k&&R&&Ln(R,a.id)},[k,R,a]),y.useEffect(()=>{k&&R&&V&&m.length>0&&!x&&(G(!1),ot())},[k,R,V,m,x]);const Re={alafasy:"ar.alafasy",sudais:"ar.abdurrahmanalsudais",basit:"ar.abdulbasitmurattal",husary:"ar.husary"},Xe=()=>Re[r==null?void 0:r.id]||LL(r==null?void 0:r.id),It=async(fe,Ze)=>{var et;_(!0),ge();try{const Ge=Xe(),gt=`${fe}|${Ze}|${Ge}`,xt=await Rle(gt);if((et=xt==null?void 0:xt.verses)!=null&&et.length)f(xt.verses.map(dn=>({...dn,isSajda:q.has(`${fe}-${dn.numberInSurah}`),tafsir:dn.tafsir||null})));else{const xn=await(await fetch(`https://api.alquran.cloud/v1/surah/${fe}/editions/quran-simple,${Ze},${Ge}`)).json();if(xn.status==="OK"){const La=xn.data[0].ayahs,$i=xn.data[1]?xn.data[1].ayahs:[],Hr=xn.data[2]?xn.data[2].ayahs:[],Bi=La.map((os,Wr)=>{var ls;return{numberInSurah:os.numberInSurah,arabic:os.text,translation:$i[Wr]?$i[Wr].text:"Translation not available for this verse.",tafsir:null,audio:((ls=Hr[Wr])==null?void 0:ls.audio)||null,surahNumber:fe,isSajda:q.has(`${fe}-${os.numberInSurah}`)}});f(Bi),OT(gt,{verses:Bi,cachedAt:Date.now()}).catch(()=>{})}else ft.error("Failed to load surah details from API.")}}catch(Ge){console.error("Error loading surah:",Ge),ft.error("Failed to load surah. Please check your internet connection.")}finally{_(!1)}},Ln=async(fe,Ze)=>{var gt,xt,dn,xn,La,$i,Hr,Bi,os,Wr,ls,Bl,Qs,Cs,Fa,Kr,zl;_(!0),ge();const et=Xe(),Ge=As=>`https://api.alquran.cloud/v1/juz/${fe}/editions/${As},${Ze}`;try{const As=`${fe}|${Ze}|${et}`,zi=await Ile(As);if((gt=zi==null?void 0:zi.verses)!=null&&gt.length)g(zi.verses.map(vr=>({...vr,isSajda:q.has(`${vr.surahNumber}-${vr.numberInSurah}`)})));else try{const Ts=(await Fle({juzNumber:fe,translationId:Ze})||[]).map(In=>({...In,isSajda:q.has(`${In.surahNumber}-${In.numberInSurah}`)}));if(g(Ts),Fg(As,{verses:Ts,cachedAt:Date.now()}).catch(()=>{}),!Ts.length){let In=await fetch(Ge("quran-uthmani")),Rr=await In.json();if((Rr.status!=="OK"||!((xn=(dn=(xt=Rr==null?void 0:Rr.data)==null?void 0:xt[0])==null?void 0:dn.ayahs)!=null&&xn.length))&&(In=await fetch(Ge("quran-simple")),Rr=await In.json()),Rr.status==="OK"){const _o=((La=Rr.data[0])==null?void 0:La.ayahs)||[],yi=(($i=Rr.data[1])==null?void 0:$i.ayahs)||[],qi=((Hr=Rr.data[2])==null?void 0:Hr.ayahs)||[],Js=new Map;for(const He of yi){const Gr=`${(Bi=He==null?void 0:He.surah)==null?void 0:Bi.number}-${He==null?void 0:He.numberInSurah}`;Gr&&Js.set(Gr,(He==null?void 0:He.text)??"")}const cs=new Map;for(const He of qi){const Gr=`${(os=He==null?void 0:He.surah)==null?void 0:os.number}-${He==null?void 0:He.numberInSurah}`;Gr&&cs.set(Gr,(He==null?void 0:He.audio)??null)}const wt=_o.map(He=>{var Va;const Gr=`${(Va=He==null?void 0:He.surah)==null?void 0:Va.number}-${He==null?void 0:He.numberInSurah}`;return{surahNumber:He.surah.number,surahName:He.surah.englishName||He.surah.name,numberInSurah:He.numberInSurah,arabic:He.text,translation:Js.get(Gr)||"",audio:cs.get(Gr)||null,isSajda:q.has(`${He.surah.number}-${He.numberInSurah}`)}});g(wt),Fg(As,{verses:wt,cachedAt:Date.now()}).catch(()=>{}),wt.length||ft.info("No verses loaded for this Juz. Try a different translation or check your network.")}else ft.error("Failed to load Juz.")}}catch{let Ts=await fetch(Ge("quran-uthmani")),In=await Ts.json();if((In.status!=="OK"||!((Bl=(ls=(Wr=In==null?void 0:In.data)==null?void 0:Wr[0])==null?void 0:ls.ayahs)!=null&&Bl.length))&&(Ts=await fetch(Ge("quran-simple")),In=await Ts.json()),In.status==="OK"){const Rr=((Qs=In.data[0])==null?void 0:Qs.ayahs)||[],_o=((Cs=In.data[1])==null?void 0:Cs.ayahs)||[],yi=((Fa=In.data[2])==null?void 0:Fa.ayahs)||[],qi=new Map;for(const wt of _o){const He=`${(Kr=wt==null?void 0:wt.surah)==null?void 0:Kr.number}-${wt==null?void 0:wt.numberInSurah}`;He&&qi.set(He,(wt==null?void 0:wt.text)??"")}const Js=new Map;for(const wt of yi){const He=`${(zl=wt==null?void 0:wt.surah)==null?void 0:zl.number}-${wt==null?void 0:wt.numberInSurah}`;He&&Js.set(He,(wt==null?void 0:wt.audio)??null)}const cs=Rr.map(wt=>{var Gr;const He=`${(Gr=wt==null?void 0:wt.surah)==null?void 0:Gr.number}-${wt==null?void 0:wt.numberInSurah}`;return{surahNumber:wt.surah.number,surahName:wt.surah.englishName||wt.surah.name,numberInSurah:wt.numberInSurah,arabic:wt.text,translation:qi.get(He)||"",audio:Js.get(He)||null,isSajda:q.has(`${wt.surah.number}-${wt.numberInSurah}`)}});g(cs),Fg(As,{verses:cs,cachedAt:Date.now()}).catch(()=>{}),cs.length||ft.info("No verses loaded for this Juz. Try a different translation or check your network.")}else ft.error("Failed to load Juz.")}}catch(As){console.error("Error loading juz:",As),ft.error("Failed to load Juz. Please check your internet connection.")}finally{_(!1)}},kt=async(fe,Ze=null,et=null)=>{if(!fe){ft.error("No audio available for this selection.");return}if(!se.current){se.current=!0;try{ge();const Ge=de.current;if(!Ge){se.current=!1;return}Ge.loop=P,Ge.src=fe,await Ge.play(),j(!0),D(Ze),Ge.onended=()=>{if(typeof et=="function"){et();return}P||(j(!1),D(null))}}catch(Ge){(Ge==null?void 0:Ge.name)==="AbortError"?console.debug("Audio play aborted (pause/stop triggered). Ignoring."):(console.error("Error playing audio:",Ge),ft.error("Unable to play audio. The reciter might not have audio for this ayah/surah, or there's a network issue.")),j(!1),D(null)}finally{se.current=!1}}},qt=async()=>{if(!r||!e){ft.error("Please select a Surah and Reciter first.");return}const fe=e.number.toString().padStart(3,"0"),Ze=`${r.url}${fe}.mp3`;let et=Ze,Ge=!0;try{Ge=!!(await fetch(Ze,{method:"HEAD"})).ok}catch{Ge=!1}if(!Ge){const gt=ew.find(xt=>xt.id==="alafasy");gt&&(et=`${gt.url}${fe}.mp3`)}kt(et)},Hn=()=>{ge(),ae(!1),B(!1)},Gs=()=>{const fe=!P;F(fe),de.current&&(de.current.loop=fe)},is=fe=>{if(k&&Array.isArray(m)&&m.length>0){const Ze=m.findIndex(et=>et.surahNumber===fe.surahNumber&&et.numberInSurah===fe.numberInSurah);if(Ze>=0){xe(Ze);return}}if(!k&&Array.isArray(h)&&h.length>0){const Ze=h.findIndex(et=>et.numberInSurah===fe.numberInSurah);if(Ze>=0){Te(Ze);return}}fe!=null&&fe.audio?kt(fe.audio,fe.numberInSurah):(ft.info("Ayah audio not available for this reciter. Playing full surah instead."),qt())},Cr=fe=>{const Ze=k?m.find(et=>et.numberInSurah===fe):h.find(et=>et.numberInSurah===fe);if(Ze){const et=Ie.current[fe];et&&et.scrollIntoView&&et.scrollIntoView({behavior:"smooth",block:"center"}),is(Ze)}},Ar=()=>{var Ze;const fe=(Ze=Ie.current)==null?void 0:Ze.juzStart;fe&&fe.scrollIntoView&&fe.scrollIntoView({behavior:"smooth",block:"start"})},xe=(fe=0)=>{if(!k||!R){ft.error("Please select a Juz first.");return}if(!m||m.length===0){ft.error("No ayat loaded for this Juz yet. Please wait or reselect the Juz.");return}ae(!0),Q(fe);const Ze=et=>{const Ge=m[et];if(!Ge){ae(!1),D(null),setCurrentAudio(null),j(!1);return}const gt=()=>{if(P)return;const xt=et+1;xt<m.length?(Q(xt),Ze(xt)):(ae(!1),D(null),setCurrentAudio(null),j(!1))};if(D(Ge.numberInSurah),Ge.audio)kt(Ge.audio,Ge.numberInSurah,gt);else{const xt=String(Ge.surahNumber).padStart(3,"0"),dn=`${r.url}${xt}.mp3`;kt(dn,Ge.numberInSurah,gt)}};Ze(fe)},Te=(fe=0)=>{if(k)return;if(!e){ft.error("Please select a Surah first.");return}if(!h||h.length===0){ft.error("No ayat loaded for this Surah yet. Please wait or reselect the Surah.");return}B(!0),X(fe);const Ze=et=>{const Ge=h[et];if(!Ge){B(!1),D(null),setCurrentAudio(null),j(!1);return}const gt=()=>{if(P)return;const xt=et+1;xt<h.length?(X(xt),Ze(xt)):(B(!1),D(null),setCurrentAudio(null),j(!1))};if(D(Ge.numberInSurah),Ge.audio)kt(Ge.audio,Ge.numberInSurah,gt);else{const xt=String(e.number).padStart(3,"0"),dn=`${r.url}${xt}.mp3`;ft.info("Verse-level audio unavailable; playing full surah audio as fallback."),kt(dn,Ge.numberInSurah,gt)}};Ze(fe)},ot=()=>{xe(0)},Tt=()=>{ae(!1),ge()},Ft=()=>{ue!=null?xe(ue):ft.info("No Juz position to resume.")},Rn=fe=>{ge(),i(fe)},as=fe=>{ge(),n(fe)},Wn=fe=>{const Ze=nw.find(et=>et.id===fe);Ze&&o(Ze)},qr=tw.filter(fe=>fe.name.toLowerCase().includes(c.toLowerCase())||fe.englishName.toLowerCase().includes(c.toLowerCase())||fe.number.toString().includes(c)),ks=async()=>{try{if(k&&R){const fe=Xe(),Ze=`${R}|${a.id}|${fe}`;m.length?await Fg(Ze,{verses:m,cachedAt:Date.now()}):await Ln(R,a.id),ft.success(`Juz ${R} cached for offline use.`)}else if(e){const fe=Xe(),Ze=`${e.number}|${a.id}|${fe}`;h.length?await OT(Ze,{verses:h,cachedAt:Date.now()}):await It(e.number,a.id),ft.success(`Surah ${e.name} cached for offline use.`)}}catch{ft.error("Failed to cache selection.")}};return s.jsxs("div",{className:"min-h-screen py-8 px-4",children:[s.jsx("style",{children:`
        @import url('https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Scheherazade+New:wght@400;700&display=swap');
        .custom-scrollbar::-webkit-scrollbar {
          width: 8px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: #f1f1f1;
          border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background: #888;
          border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background: #555;
        }
      `}),s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"The Noble Qur'an"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Read, listen, and understand Allah's words"})]}),s.jsxs(re,{className:"mb-8 border-2 border-green-200",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-green-50 to-teal-50",children:s.jsx(Me,{children:"Select Reciter, Surah & Translation"})}),s.jsxs(ie,{className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Choose Reciter"}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:ew.map(fe=>s.jsx(W,{onClick:()=>Rn(fe),variant:r.id===fe.id?"default":"outline",className:`h-auto py-3 px-4 ${r.id===fe.id?"bg-gradient-to-r from-purple-500 to-indigo-500 text-white hover:from-purple-600 hover:to-indigo-600":"hover:bg-gray-100"}`,children:s.jsxs("div",{className:"text-center w-full",children:[s.jsx("div",{className:"text-2xl mb-1",children:fe.flag}),s.jsx("p",{className:"text-xs font-semibold truncate",children:fe.name})]})},fe.id))})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Choose Translation"}),s.jsxs(Xt,{value:a.id,onValueChange:Wn,children:[s.jsx(Qt,{className:"w-full",children:s.jsx(Zt,{placeholder:"Select a translation"})}),s.jsx(Jt,{children:nw.map(fe=>s.jsx(Le,{value:fe.id,children:fe.name},fe.id))})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Search & Choose Surah"}),s.jsxs("div",{className:"relative mb-3",children:[s.jsx(Pi,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500"}),s.jsx(ke,{type:"text",placeholder:"Search Surah by name or number...",value:c,onChange:fe=>u(fe.target.value),className:"pl-9 pr-3 py-2 w-full"})]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3 max-h-[250px] overflow-y-auto pr-2 custom-scrollbar",children:qr.map(fe=>s.jsx(W,{onClick:()=>as(fe),variant:(e==null?void 0:e.number)===fe.number?"default":"outline",className:`h-auto py-3 px-4 ${(e==null?void 0:e.number)===fe.number?"bg-gradient-to-r from-green-500 to-teal-500 text-white hover:from-green-600 hover:to-teal-600":"hover:bg-gray-100"}`,children:s.jsxs("div",{className:"text-center w-full",children:[s.jsx("p",{className:"text-sm font-semibold",children:fe.name}),s.jsxs("p",{className:"text-xs text-gray-500",children:["(",fe.englishName,")"]})]})},fe.number))}),qr.length===0&&c&&s.jsxs("p",{className:"text-center text-gray-500 mt-4",children:['No surahs found for "',c,'"']})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-6",children:[s.jsx("div",{children:k?s.jsxs(s.Fragment,{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Select Ayah in Juz"}),s.jsxs(Xt,{onValueChange:fe=>{const Ze=Number(fe)-1,et=m[Ze];if(et){const Ge=Ie.current[et.numberInSurah];Ge&&Ge.scrollIntoView&&Ge.scrollIntoView({behavior:"smooth",block:"center"}),xe(Ze)}},disabled:!R,children:[s.jsx(Qt,{className:"w-full",children:s.jsx(Zt,{placeholder:"Choose Ayah index in Juz"})}),s.jsx(Jt,{children:m&&m.map((fe,Ze)=>s.jsx(Le,{value:String(Ze+1),children:Ze+1},Ze))})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Select Ayah (verse)"}),s.jsxs(Xt,{onValueChange:fe=>Cr(Number(fe)),disabled:!e,children:[s.jsx(Qt,{className:"w-full",children:s.jsx(Zt,{placeholder:"Choose Ayah number"})}),s.jsx(Jt,{children:e&&Array.from({length:e.verses},(fe,Ze)=>Ze+1).map(fe=>s.jsx(Le,{value:String(fe),children:fe},fe))})]})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Select Juz (Para)"}),s.jsxs(Xt,{value:R?String(R):void 0,onValueChange:fe=>{O(Number(fe)),C(!0)},children:[s.jsx(Qt,{className:"w-full",children:s.jsx(Zt,{placeholder:"Choose Juz (e.g., Alif Lm Mm)"})}),s.jsx(Jt,{children:(A==="urdu"?sw:rw).map(fe=>s.jsxs(Le,{value:String(fe.number),children:["Juz ",fe.number,"  ",fe.name]},fe.number))})]}),s.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[s.jsx("span",{className:"text-xs text-gray-600",children:"Name style:"}),s.jsx(W,{size:"sm",variant:A==="translit"?"default":"outline",onClick:()=>M("translit"),children:"Transliteration"}),s.jsx(W,{size:"sm",variant:A==="urdu"?"default":"outline",onClick:()=>M("urdu"),children:""})]}),k&&s.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[s.jsxs(we,{className:"bg-green-600",children:["Viewing: Juz ",R,"  ",((cn=(A==="urdu"?sw:rw).find(fe=>fe.number===R))==null?void 0:cn.name)||""]}),s.jsx(W,{variant:"outline",onClick:()=>{C(!1),O(null),g([])},children:"Exit Juz View"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Audio Controls"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(W,{onClick:Hn,variant:"outline",className:"flex-1",children:[s.jsx(lg,{className:"w-4 h-4 mr-1"})," Stop"]}),s.jsxs(W,{onClick:Gs,variant:P?"default":"outline",className:"flex-1",children:[s.jsx(Wv,{className:"w-4 h-4 mr-1"})," ",P?"Repeat: On":"Repeat: Off"]}),s.jsxs(W,{onClick:ks,variant:"outline",className:"flex-1",children:[s.jsx(Pa,{className:"w-4 h-4 mr-1"})," Cache Offline"]})]})]})]}),s.jsx(W,{onClick:()=>{if(w){Hn();return}k?x||!m.length?(G(!0),ft.info("Loading Juz playback will start automatically.")):ot():qt()},className:"w-full bg-gradient-to-r from-green-600 to-teal-600 hover:from-green-700 hover:to-teal-700",size:"lg",disabled:!1,children:x?s.jsxs(s.Fragment,{children:[s.jsx(dl,{className:"w-5 h-5 mr-2 animate-spin"}),k?"Loading Juz...":"Loading Surah..."]}):w?s.jsxs(s.Fragment,{children:[s.jsx(bo,{className:"w-5 h-5 mr-2"}),"Pause Audio"]}):s.jsxs(s.Fragment,{children:[s.jsx(er,{className:"w-5 h-5 mr-2"}),k?"Play Full Juz":"Play Full Surah"]})}),k&&m.length>0&&s.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-4",children:[s.jsxs(W,{onClick:Tt,variant:"destructive",className:"w-full",disabled:!w&&!ee,children:[s.jsx(lg,{className:"w-4 h-4 mr-1"}),"Stop Juz"]}),s.jsxs(W,{onClick:Ft,className:"w-full bg-blue-600 hover:bg-blue-700",disabled:w||ue===null,children:[s.jsx(er,{className:"w-4 h-4 mr-1"}),"Resume Juz"]})]})]})]}),e&&s.jsx(re,{className:"mb-8 border-2 border-blue-200 bg-gradient-to-r from-blue-50 to-cyan-50",children:s.jsx(ie,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:e.name}),s.jsx("p",{className:"text-lg text-gray-700 mb-1",children:e.englishName}),s.jsxs("div",{className:"flex gap-3 flex-wrap",children:[s.jsxs(we,{className:"bg-blue-600",children:[e.verses," Verses"]}),s.jsx(we,{className:"bg-purple-600",children:e.revelation})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(un,{className:"w-8 h-8 text-blue-600"}),s.jsx(Oi,{className:"w-8 h-8 text-green-600"}),s.jsx(W,{variant:"outline",onClick:()=>Fe(ve==="light"?"dark":"light"),title:"Toggle theme",children:ve==="light"?s.jsx(Ez,{className:"w-4 h-4"}):s.jsx(i9,{className:"w-4 h-4"})})]})]})})}),e&&e.number!==9&&e.number!==1&&s.jsxs("div",{className:"text-center py-6 mb-6 border-b-2 border-green-200 bg-gradient-to-r from-green-50 to-teal-50 rounded-lg",children:[s.jsx("p",{className:"text-4xl md:text-5xl mb-3 font-arabic",dir:"rtl",style:{fontFamily:"'Scheherazade New', 'Amiri', serif"},children:"   "}),s.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"In the name of Allah, the Most Gracious, the Most Merciful"})]}),x&&!w?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(dl,{className:"w-12 h-12 animate-spin text-green-600 mb-4"}),s.jsx("p",{className:"text-gray-600",children:k?"Loading Juz Verses...":"Loading Surah Verses..."})]}):s.jsxs("div",{className:"space-y-4",children:[k&&R&&s.jsx(re,{className:"mb-4 border border-green-200 bg-green-50",children:s.jsx(ie,{className:"py-4 px-6",children:s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["Juz ",R,"  ",((Tr=(A==="urdu"?sw:rw).find(fe=>fe.number===R))==null?void 0:Tr.name)||""]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Displaying combined ayat across their surahs"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Wv,{className:"w-6 h-6 text-green-600"}),s.jsx(lg,{className:"w-6 h-6 text-red-600"}),s.jsxs(W,{variant:"outline",onClick:Ar,children:[s.jsx(un,{className:"w-4 h-4 mr-1"})," Go to start"]}),s.jsxs(W,{className:"bg-green-600",onClick:ot,children:[s.jsx(er,{className:"w-4 h-4 mr-1"})," Play from start"]}),!w&&k&&(m==null?void 0:m.length)>0&&ue!=null&&s.jsxs(W,{className:"bg-green-600",onClick:()=>xe(ue),children:[s.jsx(er,{className:"w-4 h-4 mr-1"})," Resume Juz"]})]})]})})}),k&&!x&&R&&m.length===0&&s.jsx("p",{className:"text-center text-sm text-gray-600",children:"No ayat loaded for this Juz. Try a different translation or check your network."}),(k?m:h).map((fe,Ze)=>s.jsxs("div",{ref:et=>{Ie.current[fe.numberInSurah]=et,Ie.current.byIndex||(Ie.current.byIndex=[]),Ie.current.byIndex[Ze]=et,k&&Ze===0&&(Ie.current.juzStart=et)},children:[k&&s.jsxs("div",{className:"mb-1 text-sm text-gray-600",children:["Surah ",fe.surahName,"  Ayah ",fe.numberInSurah]}),s.jsx(FL,{verse:fe,expanded:N===fe.numberInSurah,onToggle:et=>S(N===et?null:et),onPlay:is,isHighlighted:!!(ze&&ze.surah===fe.surahNumber&&ze.ayah===fe.numberInSurah)}),s.jsxs("div",{className:"flex gap-2 mb-6",children:[s.jsxs(W,{onClick:()=>is(fe),className:"bg-green-600",children:[s.jsx(er,{className:"w-4 h-4 mr-1"})," Play Ayah"]}),s.jsxs(W,{onClick:Hn,variant:"outline",children:[s.jsx(lg,{className:"w-4 h-4 mr-1"})," Stop"]}),s.jsxs(W,{onClick:Gs,variant:P?"default":"outline",children:[s.jsx(Wv,{className:"w-4 h-4 mr-1"})," ",P?"Repeat On":"Repeat Off"]}),L===fe.numberInSurah&&w&&s.jsx(we,{className:"bg-green-600",children:"Playing"})]})]},`${fe.surahNumber||(e==null?void 0:e.number)}-${fe.numberInSurah}`))]})]})]})}const zle=[{number:1,range:[1,4],label:"Al-Fatihah  An-Nisa"},{number:2,range:[5,9],label:"Al-Maidah  At-Tawbah"},{number:3,range:[10,16],label:"Yunus  An-Nahl"},{number:4,range:[17,25],label:"Al-Isra  Al-Furqan"},{number:5,range:[26,36],label:"Ash-Shuara  Ya-Sin"},{number:6,range:[37,49],label:"As-Saffat  Al-Hujurat"},{number:7,range:[50,114],label:"Qaf  An-Nas"}];function VL(){const t=nr(),e=y.useMemo(()=>zle,[]);return s.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[s.jsxs(re,{className:"mb-6",children:[s.jsx(Oe,{children:s.jsx(Me,{children:"Manzil (Weekly Recitation)"})}),s.jsx(ie,{children:s.jsx("p",{className:"text-sm text-gray-600",children:"Select a Manzil to review or recite. You can open the surahs in the Full Quran view and cache them for offline reading."})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.map(n=>s.jsxs(re,{className:"border-green-200",children:[s.jsxs(Oe,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Me,{className:"flex items-center gap-2",children:[s.jsx(un,{className:"w-5 h-5 text-green-600"})," Manzil ",n.number]}),s.jsxs(we,{className:"bg-green-600",children:["Surah ",n.range[0],"  ",n.range[1]]})]}),s.jsx("p",{className:"text-sm text-gray-600 mt-2",children:n.label})]}),s.jsx(ie,{children:s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx(W,{onClick:()=>t(`/FullQuran?surah=${n.range[0]}`),variant:"outline",children:"Open start surah"}),s.jsx(W,{onClick:()=>t(`/FullQuran?surah=${n.range[1]}`),variant:"outline",children:"Open end surah"})]})})]},n.number))})]})}function qle(t){const e=Math.ceil(t/8),n=(t-1)%8+1;return{juz:e,idx:n}}function UL(){const t=nr(),[e,n]=y.useState(1),{juz:r,idx:i}=y.useMemo(()=>qle(Math.min(240,Math.max(1,Number(e)||1))),[e]);return s.jsxs("div",{className:"max-w-3xl mx-auto p-6",children:[s.jsxs(re,{className:"mb-6",children:[s.jsx(Oe,{children:s.jsx(Me,{children:"Hizb / Quarter-Hizb Selection"})}),s.jsx(ie,{children:s.jsx("p",{className:"text-sm text-gray-600",children:"Select a quarter (1240). Each Juz has 8 quarters. This navigator links you to the Juz in the Full Quran module and approximates the quarter position."})})]}),s.jsxs(re,{children:[s.jsx(Oe,{children:s.jsx(Me,{children:"Choose Quarter"})}),s.jsxs(ie,{children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ke,{type:"number",min:1,max:240,value:e,onChange:a=>n(a.target.value),className:"w-32"}),s.jsxs(we,{children:["Juz ",r,"  Quarter ",i," of 8"]}),s.jsxs(W,{onClick:()=>t(`/FullQuran?juz=${r}&quarter=${i}`),variant:"default",children:["Open Juz ",r]})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Note: Exact ayah ranges per quarter-hizb vary by script. Well refine per-ayah segment mapping in a subsequent update."})]})]})]})}function Hle(t,e=[]){let n=[];function r(a,o){const c=y.createContext(o);c.displayName=a+"Context";const u=n.length;n=[...n,o];const h=m=>{var N;const{scope:g,children:x,..._}=m,w=((N=g==null?void 0:g[t])==null?void 0:N[u])||c,j=y.useMemo(()=>_,Object.values(_));return s.jsx(w.Provider,{value:j,children:x})};h.displayName=a+"Provider";function f(m,g){var w;const x=((w=g==null?void 0:g[t])==null?void 0:w[u])||c,_=y.useContext(x);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${a}\``)}return[h,f]}const i=()=>{const a=n.map(o=>y.createContext(o));return function(c){const u=(c==null?void 0:c[t])||a;return y.useMemo(()=>({[`__scope${t}`]:{...c,[t]:u}}),[c,u])}};return i.scopeName=t,[r,Wle(i,...e)]}function Wle(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((c,{useScope:u,scopeName:h})=>{const m=u(a)[`__scope${h}`];return{...c,...m}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Kle=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$L=Kle.reduce((t,e)=>{const n=My(`Primitive.${e}`),r=y.forwardRef((i,a)=>{const{asChild:o,...c}=i,u=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(u,{...c,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),V1="Progress",U1=100,[Gle]=Hle(V1),[Qle,Jle]=Gle(V1),BL=y.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:a=Yle,...o}=t;(i||i===0)&&!LT(i)&&console.error(Xle(`${i}`,"Progress"));const c=LT(i)?i:U1;r!==null&&!FT(r,c)&&console.error(Zle(`${r}`,"Progress"));const u=FT(r,c)?r:null,h=Qx(u)?a(u,c):void 0;return s.jsx(Qle,{scope:n,value:u,max:c,children:s.jsx($L.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":Qx(u)?u:void 0,"aria-valuetext":h,role:"progressbar","data-state":HL(u,c),"data-value":u??void 0,"data-max":c,...o,ref:e})})});BL.displayName=V1;var zL="ProgressIndicator",qL=y.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,i=Jle(zL,n);return s.jsx($L.div,{"data-state":HL(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:e})});qL.displayName=zL;function Yle(t,e){return`${Math.round(t/e*100)}%`}function HL(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Qx(t){return typeof t=="number"}function LT(t){return Qx(t)&&!isNaN(t)&&t>0}function FT(t,e){return Qx(t)&&!isNaN(t)&&t<=e&&t>=0}function Xle(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${U1}\`.`}function Zle(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${U1} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var WL=BL,ece=qL;const Gd=y.forwardRef(({className:t,value:e,...n},r)=>s.jsx(WL,{ref:r,className:mt("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",t),...n,children:s.jsx(ece,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Gd.displayName=WL.displayName;function VT(t,e){return e?Math.round(t/e*100):0}function KL(){const[t,e]=y.useState({total:0,memorised:0,revision:0,notMemorised:0}),[n,r]=y.useState([]);y.useEffect(()=>{(async()=>{const a=await Mle(),o=Object.entries(a).map(([g,x])=>{const[_,w]=g.split("-").map(Number);return{surahNumber:_,ayahNumber:w,status:x==null?void 0:x.status}}),c=o.length,u=o.filter(g=>g.status==="memorised").length,h=o.filter(g=>g.status==="revision").length,f=o.filter(g=>g.status==="new"||!g.status).length,m=new Map;o.forEach(g=>{const x=g.surahNumber,_=m.get(x)||{surahNumber:x,total:0,memorised:0};_.total+=1,g.status==="memorised"&&(_.memorised+=1),m.set(x,_)}),e({total:c,memorised:u,revision:h,notMemorised:f}),r(Array.from(m.values()).sort((g,x)=>g.surahNumber-x.surahNumber))})()},[]);const i=y.useMemo(()=>VT(t.memorised,t.total),[t]);return s.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[s.jsxs(re,{className:"mb-6",children:[s.jsx(Oe,{children:s.jsx(Me,{children:"Hifz Progress Dashboard"})}),s.jsxs(ie,{children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Total Ayahs Tracked"}),s.jsx("p",{className:"text-lg font-semibold",children:t.total})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Memorised"}),s.jsx("p",{className:"text-lg font-semibold",children:t.memorised})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Under Revision"}),s.jsx("p",{className:"text-lg font-semibold",children:t.revision})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Not Memorised"}),s.jsx("p",{className:"text-lg font-semibold",children:t.notMemorised})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("p",{className:"text-sm mb-1",children:"Overall Memorisation"}),s.jsx(Gd,{value:i}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[i,"% complete"]})]})]})]}),s.jsxs(re,{children:[s.jsx(Oe,{children:s.jsx(Me,{children:"By Surah"})}),s.jsx(ie,{children:s.jsxs("div",{className:"space-y-3",children:[n.length===0&&s.jsx("p",{className:"text-sm text-gray-600",children:"No memorisation data yet. Mark ayahs as memorised in the Full Quran page."}),n.map(a=>{const o=VT(a.memorised,a.total);return s.jsxs("div",{className:"border rounded p-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(we,{children:["Surah ",a.surahNumber]}),s.jsxs("span",{className:"text-sm text-gray-600",children:["Memorised ",a.memorised,"/",a.total]})]}),s.jsxs("span",{className:"text-sm font-medium",children:[o,"%"]})]}),s.jsx(Gd,{value:o,className:"mt-2"})]},a.surahNumber)})]})})]})]})}const tce="https://api.quran.com/api/v4";function GL(){var a,o,c,u,h,f;const t=(o=(a=import.meta)==null?void 0:a.env)==null?void 0:o.VITE_QURAN_API_TOKEN,e=(u=(c=import.meta)==null?void 0:c.env)==null?void 0:u.VITE_QURAN_API_CLIENT_ID,n=(f=(h=import.meta)==null?void 0:h.env)==null?void 0:f.VITE_QURAN_API_BASE,r="https://apis-prelive.quran.foundation/content/api/v4",i=!!(t&&e);return{authed:i,base:n||(i?r:tce),headers:i?{Accept:"application/json","x-auth-token":t,"x-client-id":e}:{Accept:"application/json"}}}async function UT(t,e="en"){var h;const{base:n,headers:r}=GL(),i=new URLSearchParams({language:e,words:"true",word_fields:["verse_key","location","text_uthmani","text_indopak","text_imlaei","code_v2","transliteration","translation","char_type_name"].join(",")}),a=`${n}/verses/by_key/${encodeURIComponent(t)}?${i.toString()}`,o=await fetch(a,{headers:r});if(!o.ok){const f=await o.text().catch(()=>"");throw new Error(`Failed to fetch verse words (${o.status}): ${f||o.statusText}`)}const c=await o.json(),u=(c==null?void 0:c.verse)||((h=c==null?void 0:c.verses)==null?void 0:h[0])||c;if(!u)throw new Error("Unexpected API response for verse words");return u}async function nce(t,e){const n=`${t}:${e}`,[r,i]=await Promise.all([UT(n,"en"),UT(n,"ur").catch(()=>null)]),a=m=>(m||[]).filter(g=>((g==null?void 0:g.char_type_name)||(g==null?void 0:g.char_type))==="word"),o=a((r==null?void 0:r.words)||[]),c=a((i==null?void 0:i.words)||[]),u=o.map(m=>{var g;return{text:(m==null?void 0:m.text_uthmani)||(m==null?void 0:m.text_indopak)||(m==null?void 0:m.text_imlaei)||(m==null?void 0:m.text)||(m==null?void 0:m.code_v2)||"",transliteration:((g=m==null?void 0:m.transliteration)==null?void 0:g.text)||(m==null?void 0:m.transliteration)||""}}),h=o.map(m=>{var g;return{translation:((g=m==null?void 0:m.translation)==null?void 0:g.text)||(m==null?void 0:m.translation)||""}}),f=(c.length?c:o).map(m=>{var g;return{translation:((g=m==null?void 0:m.translation)==null?void 0:g.text)||(m==null?void 0:m.translation)||""}});return{arabicWords:u,englishWords:h,urduWords:f}}function rce(){const{authed:t}=GL();return t}const sce=[{key:"1:1",indices:[2,3],overrides:{2:{en:"The Entirely Merciful",ur:" "},3:{en:"Especially Merciful",ur:" "}}},{key:"1:2",indices:[1],overrides:{1:{en:"All praise and thanks",ur:" "}}},{key:"1:5",indices:[1,2]},{key:"1:7",indices:[3,4,5]},{key:"2:255",indices:[1,5,12],overrides:{1:{en:"Allah! There is no deity except Him",ur:"      "}}}],iw={entries:sce};function i_(){const[t,e]=y.useState([]),[n,r]=y.useState(""),[i,a]=y.useState(1),[o,c]=y.useState(1),[u,h]=y.useState(!1),[f,m]=y.useState(""),[g,x]=y.useState([]),[_,w]=y.useState(rce()),[j,N]=y.useState(!1),[S,k]=y.useState({}),[C,R]=y.useState(""),[O,A]=y.useState(""),[M,P]=y.useState(""),[F,L]=y.useState(!1),D=y.useRef(null),[V,G]=y.useState("alafasy"),ee=y.useMemo(()=>[{id:"alafasy",label:"Alafasy"},{id:"sudais",label:"Sudais"},{id:"basit",label:"Abdul Basit"},{id:"husary",label:"Husary"}],[]),ae=y.useRef(null),ue="quranUserDifficultWords",Q=y.useMemo(()=>{const de=new Map,se=new Map,ge=(iw==null?void 0:iw.entries)||[];for(const Re of ge)de.set(String(Re.key),new Set((Re.indices||[]).map(Number))),Re.overrides&&se.set(String(Re.key),Re.overrides);return{indicesMap:de,overridesMap:se}},[]);y.useEffect(()=>{try{const de=localStorage.getItem(ue);if(de){const se=JSON.parse(de),ge={};for(const Re of Object.keys(se))ge[Re]=new Set((se[Re]||[]).map(Number));k(ge)}}catch{}},[]);const K=de=>{const se={};for(const ge of Object.keys(de))se[ge]=Array.from(de[ge]);try{localStorage.setItem(ue,JSON.stringify(se))}catch{}};y.useEffect(()=>{let de=!0;return(async()=>{try{const ge=await Ule();if(!de||(e(ge),!(ge!=null&&ge.length)))return;const Re=ge.find(It=>It.number===i)||ge[0],Xe=(Re==null?void 0:Re.ayahs)||7;c(It=>Math.min(Math.max(1,It||1),Xe))}catch{if(!de)return;m("Failed to load Surah list. Please check your internet connection.")}})(),()=>{de=!1}},[]);const B=y.useMemo(()=>{const de=(n||"").toLowerCase().trim();return de?t.filter(se=>{var ge,Re,Xe;return String(se.number).includes(de)||((ge=se.englishName)==null?void 0:ge.toLowerCase().includes(de))||((Re=se.name)==null?void 0:Re.toLowerCase().includes(de))||((Xe=se.englishNameTranslation)==null?void 0:Xe.toLowerCase().includes(de))}):t},[t,n]),z=y.useMemo(()=>t.find(de=>de.number===i),[t,i]),X=y.useMemo(()=>`${i}:${o}`,[i,o]),q=y.useMemo(()=>{const de=Q.indicesMap.get(X)||new Set;let se=S[X]||new Set;Array.isArray(se)&&(se=new Set(se.map(Number)));const ge=(g||[]).map(Re=>({...Re,isCuratedDifficult:!!(Re.isCuratedDifficult||de.has(Number(Re.index))),isUserDifficult:!!se.has(Number(Re.index))}));return j?ge.filter(Re=>Re.isCuratedDifficult||Re.isUserDifficult):ge},[g,X,Q,S,j]),ye=async(de,se)=>{if(M&&D.current)return M;try{const ge=await Lle({surahNumber:de,ayahNumber:se,audioEdition:LL(V)});return P(ge||""),ge||""}catch{return P(""),""}},_e=async()=>{const de=M||await ye(i,o);if(!de){A("Audio unavailable for this ayah or reciter. Falling back might help.");return}D.current?D.current.src!==de&&(D.current.pause(),D.current=new Audio(de),D.current.addEventListener("ended",()=>L(!1)),D.current.addEventListener("pause",()=>L(!1)),D.current.addEventListener("play",()=>L(!0))):(D.current=new Audio(de),D.current.addEventListener("ended",()=>L(!1)),D.current.addEventListener("pause",()=>L(!1)),D.current.addEventListener("play",()=>L(!0)));try{await D.current.play(),L(!0)}catch{}},Ee=()=>{D.current&&(D.current.pause(),L(!1))},ve=async(de,se)=>{var ge,Re,Xe,It,Ln;h(!0),m("");try{const{arabicWords:kt,englishWords:qt,urduWords:Hn}=await nce(de,se),Gs=Math.max(kt.length,qt.length,Hn.length),is=[];for(let Cr=0;Cr<Gs;Cr++){const Ar=Cr+1,xe=Q.indicesMap.get(`${de}:${se}`),Te=((ge=Q.overridesMap.get(`${de}:${se}`))==null?void 0:ge[String(Ar)])||null;is.push({index:Ar,arabic:((Re=kt[Cr])==null?void 0:Re.text)||"",transliteration:((Xe=kt[Cr])==null?void 0:Xe.transliteration)||"",en:(Te==null?void 0:Te.en)||((It=qt[Cr])==null?void 0:It.translation)||"",ur:(Te==null?void 0:Te.ur)||((Ln=Hn[Cr])==null?void 0:Ln.translation)||"",isCuratedDifficult:!!(xe!=null&&xe.has(Ar))})}x(is)}catch(kt){console.error("Dictionary fetch error:",kt),m(_?"Failed to load word-by-word data. Please try again.":"Word-by-word API now requires credentials. Please add VITE_QURAN_API_TOKEN and VITE_QURAN_API_CLIENT_ID to enable full dictionary.")}finally{h(!1)}};y.useEffect(()=>{i&&o&&ve(i,o)},[i,o]),y.useEffect(()=>{P(""),D.current&&(D.current.pause(),D.current=null),L(!1),A("")},[X]),y.useEffect(()=>{P(""),D.current&&(D.current.pause(),D.current=null),L(!1)},[V]);const Fe=(de,se)=>{k(ge=>{const Re={...ge},Xe=new Set(ge[de]||[]);return Xe.has(se)?Xe.delete(se):Xe.add(se),Re[de]=Xe,K(Re),Re})};y.useEffect(()=>{const de=se=>{if(!(se.target&&(se.target.tagName==="INPUT"||se.target.tagName==="TEXTAREA"||se.target.isContentEditable))){if(se.key==="ArrowRight"){se.preventDefault();const ge=t.find(Xe=>Xe.number===i),Re=(ge==null?void 0:ge.ayahs)||7;if(o<Re)c(Xe=>Xe+1);else{const Xe=t.findIndex(It=>It.number===i);Xe>=0&&Xe+1<t.length&&(a(t[Xe+1].number),c(1))}}else if(se.key==="ArrowLeft")if(se.preventDefault(),o>1)c(ge=>ge-1);else{const ge=t.findIndex(Re=>Re.number===i);if(ge>0){const Re=t[ge-1];a(Re.number),c(Re.ayahs||7)}}}};return window.addEventListener("keydown",de),()=>window.removeEventListener("keydown",de)},[t,i,o]);const Ie=()=>{const se=(C||"").trim().match(/^(\d{1,3})\s*[:\-]\s*(\d{1,3})$/);if(!se){A("Invalid format. Use e.g., 2:255");return}const ge=Number(se[1]),Re=Number(se[2]),Xe=t.find(It=>It.number===ge);if(!Xe){A("Unknown surah number");return}if(Re<1||Re>(Xe.ayahs||7)){A(`Ayah out of range (1-${Xe.ayahs||7})`);return}a(ge),c(Re),A("")},ze=()=>{const de={};for(const Xe of Object.keys(S))de[Xe]=Array.from(S[Xe]||[]);const se=new Blob([JSON.stringify(de,null,2)],{type:"application/json"}),ge=URL.createObjectURL(se),Re=document.createElement("a");Re.href=ge,Re.download="difficult-words-user.json",Re.click(),URL.revokeObjectURL(ge),A("Exported your marks as JSON")},rt=de=>{if(!de)return;const se=new FileReader;se.onload=()=>{try{const ge=JSON.parse(se.result);if(typeof ge!="object"||Array.isArray(ge))throw new Error("Invalid JSON root");const Re={...S};for(const Xe of Object.keys(ge)){const It=Array.isArray(ge[Xe])?ge[Xe]:[],Ln=new Set(Re[Xe]||[]);for(const kt of It){const qt=Number(kt);Number.isInteger(qt)&&qt>=1&&Ln.add(qt)}Re[Xe]=Ln}k(Re),K(Re),A("Imported and merged marks successfully")}catch{A("Failed to import: invalid JSON structure")}},se.readAsText(de)};return s.jsx("div",{className:"max-w-6xl mx-auto p-4 md:p-6",children:s.jsxs(re,{className:"shadow-md",children:[s.jsxs(Oe,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(un,{className:"h-5 w-5 text-blue-600"}),s.jsx(Me,{className:"text-xl",children:"Quran Dictionary (Word-by-Word)"})]}),s.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Explore every ayah from Al-Fatiha to An-Nas. For each verse, see Arabic words with English and Urdu meanings."})]}),s.jsxs(ie,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Search & Choose Surah"}),s.jsxs("div",{className:"relative",children:[s.jsx(Pi,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500"}),s.jsx(ke,{placeholder:"Search by number or name (e.g., 1 or Al-Fatihah)",className:"pl-9",value:n,onChange:de=>r(de.target.value)})]}),s.jsxs("div",{className:"mt-2 max-h-40 overflow-auto border rounded p-2 bg-white",children:[B.map(de=>s.jsxs("button",{className:`w-full text-left px-2 py-1 rounded hover:bg-blue-50 ${i===de.number?"bg-blue-100":""}`,onClick:()=>{a(de.number),c(1)},children:[s.jsxs("span",{className:"font-semibold",children:[de.number,". ",de.englishName]}),s.jsx("span",{className:"ml-2 text-gray-600",children:de.englishNameTranslation}),s.jsxs("span",{className:"ml-2 text-gray-500",children:["(",de.ayahs," ayahs)"]})]},de.number)),!B.length&&s.jsx("div",{className:"text-sm text-gray-500",children:"No surahs found."})]}),s.jsxs("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Quick jump (surah:ayah)"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ke,{placeholder:"e.g., 2:255",value:C,onChange:de=>R(de.target.value),onKeyDown:de=>{de.key==="Enter"&&Ie()}}),s.jsx(W,{variant:"secondary",onClick:Ie,children:"Go"})]})]}),s.jsx("div",{className:"flex items-end",children:s.jsxs("div",{className:"text-xs text-gray-600",children:["Legend:",s.jsxs("span",{className:"inline-flex items-center ml-2",children:[s.jsx("span",{className:"w-3 h-3 inline-block rounded-sm bg-amber-100 border border-amber-300 mr-1"})," Curated"]}),s.jsxs("span",{className:"inline-flex items-center ml-3",children:[s.jsx("span",{className:"w-3 h-3 inline-block rounded-sm bg-blue-100 border border-blue-300 mr-1"})," Marked by you"]})]})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Select Ayah"}),s.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[s.jsxs(W,{variant:"outline",size:"sm",onClick:F?Ee:_e,className:"inline-flex items-center gap-2",children:[F?s.jsx(bo,{className:"h-4 w-4"}):s.jsx(er,{className:"h-4 w-4"}),F?"Pause Ayah":"Play Ayah"]}),s.jsxs(Xt,{value:V,onValueChange:de=>G(de),children:[s.jsx(Qt,{className:"w-44",children:s.jsx(Zt,{placeholder:"Reciter"})}),s.jsx(Jt,{children:ee.map(de=>s.jsx(Le,{value:de.id,children:de.label},de.id))})]})]}),s.jsxs(Xt,{value:String(o),onValueChange:de=>c(Number(de)),children:[s.jsx(Qt,{children:s.jsx(Zt,{placeholder:"Ayah number"})}),s.jsx(Jt,{className:"max-h-64 overflow-auto",children:Array.from({length:(z==null?void 0:z.ayahs)||7},(de,se)=>se+1).map(de=>s.jsx(Le,{value:String(de),children:de},de))})]}),s.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:["Surah ",i,"  Ayah ",o]}),s.jsxs("div",{className:"mt-2 flex items-center gap-3 flex-wrap",children:[s.jsx(W,{onClick:()=>ve(i,o),disabled:u,children:u?s.jsxs(s.Fragment,{children:[s.jsx(dl,{className:"mr-2 h-4 w-4 animate-spin"})," Loading"]}):"Reload"}),s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm cursor-pointer select-none",children:[s.jsx("input",{type:"checkbox",className:"accent-blue-600 cursor-pointer",checked:j,onChange:de=>N(de.target.checked)}),"Show difficult only"]}),s.jsxs(W,{variant:"outline",onClick:ze,className:"flex items-center gap-2",children:[s.jsx(Pa,{className:"h-4 w-4"})," Export"]}),s.jsx("input",{ref:ae,type:"file",accept:"application/json",className:"hidden",onChange:de=>{var se;return rt((se=de.target.files)==null?void 0:se[0])}}),s.jsxs(W,{variant:"outline",onClick:()=>{var de;return(de=ae.current)==null?void 0:de.click()},className:"flex items-center gap-2",children:[s.jsx(Ea,{className:"h-4 w-4"})," Import"]})]}),O&&s.jsx("div",{className:"text-xs text-gray-600 mt-2",children:O})]})]}),f&&s.jsx("div",{className:"mb-4 text-sm text-red-700 bg-red-50 border border-red-200 p-3 rounded",children:f}),s.jsx("div",{className:"overflow-auto rounded border bg-white",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2 text-left text-gray-700",children:"#"}),s.jsx("th",{className:"px-3 py-2 text-right text-gray-700",children:"Arabic"}),s.jsx("th",{className:"px-3 py-2 text-left text-gray-700",children:"Transliteration"}),s.jsx("th",{className:"px-3 py-2 text-left text-gray-700",children:"English"}),s.jsx("th",{className:"px-3 py-2 text-left text-gray-700",children:"Urdu"}),s.jsx("th",{className:"px-3 py-2 text-left text-gray-700",children:"Mark"})]})}),s.jsx("tbody",{children:u?s.jsx("tr",{children:s.jsxs("td",{colSpan:6,className:"px-3 py-6 text-center text-gray-600",children:[s.jsx(dl,{className:"inline-block mr-2 h-4 w-4 animate-spin"})," Loading words..."]})}):q.length?q.map(de=>s.jsxs("tr",{className:`border-t ${de.isCuratedDifficult?"bg-amber-50":de.isUserDifficult?"bg-blue-50":""}`,children:[s.jsx("td",{className:"px-3 py-2 text-gray-600",children:de.index}),s.jsx("td",{className:"px-3 py-2 text-right text-xl leading-7 cursor-pointer",title:"Play ayah",onClick:F?Ee:_e,children:de.arabic}),s.jsx("td",{className:"px-3 py-2 text-gray-700",children:de.transliteration}),s.jsx("td",{className:"px-3 py-2",children:de.en}),s.jsx("td",{className:"px-3 py-2",children:de.ur}),s.jsx("td",{className:"px-3 py-2",children:s.jsxs("button",{className:"inline-flex items-center gap-1 text-blue-600 hover:opacity-80",title:de.isCuratedDifficult?"Curated difficult word":de.isUserDifficult?"Unmark difficult":"Mark as difficult",onClick:()=>Fe(X,de.index),children:[de.isCuratedDifficult||de.isUserDifficult?s.jsx(ln,{className:"h-4 w-4 fill-blue-600 text-blue-600"}):s.jsx(n9,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs",children:de.isCuratedDifficult?"Curated":de.isUserDifficult?"Marked":"Mark"})]})})]},de.index)):s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-3 py-6 text-center text-gray-500",children:"No data yet. Choose a surah and ayah to view word meanings."})})})]})}),s.jsxs("div",{className:"mt-4 text-xs text-gray-500 flex items-center gap-2",children:[s.jsx(q_,{className:"h-3.5 w-3.5"}),"Data powered by Quran Foundation/Quran.com APIs. Translations may vary by source."]})]})]})})}const ice=$m("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),QL=y.forwardRef(({className:t,variant:e,...n},r)=>s.jsx("div",{ref:r,role:"alert",className:mt(ice({variant:e}),t),...n}));QL.displayName="Alert";const ace=y.forwardRef(({className:t,...e},n)=>s.jsx("h5",{ref:n,className:mt("mb-1 font-medium leading-none tracking-tight",t),...e}));ace.displayName="AlertTitle";const JL=y.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:mt("text-sm [&_p]:leading-relaxed",t),...e}));JL.displayName="AlertDescription";const aw=t=>{const e=Number.isFinite(t)?t:0;return Math.max(0,Math.min(1500,Math.round(e)))};function jf(){try{const t=localStorage.getItem("ikz_leaderboard"),e=t?JSON.parse(t):[];return Array.isArray(e)?e:[]}catch{return[]}}function ow(t){try{localStorage.setItem("ikz_leaderboard",JSON.stringify(t))}catch{}}function _f(){try{const t=localStorage.getItem("users"),e=t?JSON.parse(t):[];return Array.isArray(e)?e:[]}catch{return[]}}function lw(t){try{localStorage.setItem("users",JSON.stringify(t))}catch{}}function YL(){const[t,e]=y.useState([]),[n,r]=y.useState([]),[i,a]=y.useState(400),[o,c]=y.useState(""),[u,h]=y.useState(400),[f,m]=y.useState(50),[g,x]=y.useState("");y.useEffect(()=>{e(jf()),r(_f())},[]);const _=y.useMemo(()=>{const C=new Map;return t.forEach(R=>{const O=(R.email||R.full_name||"").toLowerCase();C.set(O,{source:"leaderboard",...R})}),n.forEach(R=>{const O=(R.email||R.full_name||"").toLowerCase();C.has(O)||C.set(O,{source:"users",...R})}),Array.from(C.values())},[t,n]),w=()=>{e(jf()),r(_f())},j=()=>{const C=aw(Number(i)),O=jf().map(P=>({...P,points:C}));ow(O);const M=_f().map(P=>({...P,points:C}));lw(M),x(`Reset all learner points to ${C}.`),w()},N=()=>{const C=String(o||"").trim().toLowerCase();if(!C){x("Enter an email to set points.");return}const R=aw(Number(u));let O=0;const M=jf().map(L=>(L.email||"").toLowerCase()===C?(O++,{...L,points:R}):L);ow(M);const F=_f().map(L=>(L.email||"").toLowerCase()===C?(O++,{...L,points:R}):L);lw(F),x(O>0?`Set ${C} points to ${R}.`:`No user found for ${C}.`),w()},S=()=>{const C=String(o||"").trim().toLowerCase();if(!C){x("Enter an email to add points.");return}const R=Number(f);let O=0;const A=D=>({...D,points:aw((D.points||0)+R)}),P=jf().map(D=>(D.email||"").toLowerCase()===C?(O++,A(D)):D);ow(P);const L=_f().map(D=>(D.email||"").toLowerCase()===C?(O++,A(D)):D);lw(L),x(O>0?`Added ${R} points to ${C}.`:`No user found for ${C}.`),w()},k=()=>{try{localStorage.removeItem("ikz_leaderboard"),localStorage.removeItem("users"),localStorage.removeItem("gameScores"),x("Cleared local sample data: leaderboard, users, game scores.")}catch{x("Failed to clear local sample data.")}w()};return s.jsx("div",{className:"min-h-screen py-12 px-4 bg-gradient-to-br from-blue-50 to-purple-50",children:s.jsx("div",{className:"max-w-5xl mx-auto",children:s.jsxs(re,{className:"shadow-xl border-2 border-blue-200",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:s.jsxs(Me,{className:"text-2xl flex items-center gap-2",children:[s.jsx(ns,{className:"w-6 h-6"}),"Points Tools: Reset or Add Points"]})}),s.jsxs(ie,{className:"p-6 space-y-6",children:[s.jsxs(QL,{className:"bg-blue-50 border-blue-200",children:[s.jsx($_,{className:"w-4 h-4 text-blue-600"}),s.jsx(JL,{className:"text-blue-800",children:"These tools update local leaderboard and users data. Game logic caps points at 1500."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 items-end",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-700",children:"Reset all learners to"}),s.jsx(ke,{type:"number",value:i,onChange:C=>a(C.target.value)})]}),s.jsx("div",{className:"md:col-span-2 flex gap-2",children:s.jsx(W,{onClick:j,children:"Reset All"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 items-end",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-700",children:"Target email"}),s.jsx(ke,{placeholder:"student@example.com",value:o,onChange:C=>c(C.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-700",children:"Set points to"}),s.jsx(ke,{type:"number",value:u,onChange:C=>h(C.target.value)})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(W,{variant:"outline",onClick:N,children:"Set Exact"}),s.jsx(W,{onClick:S,children:"Add Points"})]})]}),g&&s.jsx("div",{className:"text-sm text-green-700",children:g}),s.jsxs("div",{className:"mt-4 p-4 border rounded-md bg-red-50 border-red-200",children:[s.jsx("div",{className:"font-semibold text-red-700 mb-2",children:"Danger Zone"}),s.jsx("p",{className:"text-sm text-red-700 mb-3",children:"Delete all local sample accounts and details (leaderboard, users, game scores)."}),s.jsx(W,{variant:"destructive",onClick:k,children:"Delete All Fake Accounts and Details"})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Current Learners"}),_.length===0?s.jsx("div",{className:"text-sm text-gray-600",children:"No learners found in local storage."}):s.jsx("div",{className:"divide-y divide-gray-100 bg-white border rounded-md overflow-hidden",children:_.map((C,R)=>{var O;return s.jsxs("div",{className:"p-3 sm:p-4 flex items-center gap-3",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"font-semibold text-gray-900 truncate",children:C.full_name||((O=C.email)==null?void 0:O.split("@")[0])||"Learner"}),s.jsx("div",{className:"text-xs text-gray-600 truncate",children:C.email||"no-email"})]}),s.jsxs("div",{className:"text-right flex-shrink-0",children:[s.jsx("div",{className:"text-amber-600 font-bold",children:C.points||0}),s.jsx("div",{className:"text-[10px] text-gray-500",children:"points"})]})]},`${C.email||C.full_name||"user"}-${R}`)})})]})]})]})})})}function a_(){const[t,e]=y.useState({totalUsers:1200,totalStories:500,totalAudio:300,totalVideos:150,totalQuestions:1e3,totalPaths:50}),n=[{title:"AI Agent / ChatGPT",description:"Ask questions or get admin edit suggestions",icon:Na,path:"Assistant",color:"from-purple-600 to-blue-600",stats:"Admin-only"},{title:"Users Management",description:"Manage users, view profiles, reset points",icon:Ol,path:"AdminUsers",color:"from-blue-500 to-cyan-500",stats:`${t.totalUsers} users`},{title:"Points Tools",description:"Reset or add points for learners",icon:ns,path:"ResetPointsAdmin",color:"from-amber-500 to-orange-500",stats:"Adjust points"},{title:"Stories Management",description:"Add, edit, delete stories with images",icon:un,path:"AdminStories",color:"from-green-500 to-teal-500",stats:`${t.totalStories} stories`},{title:"Audio Content",description:"Manage audio files and recordings",icon:Wc,path:"AdminAudioContent",color:"from-purple-500 to-pink-500",stats:`${t.totalAudio} tracks`},{title:"Videos Management",description:"Add and manage video content",icon:Vc,path:"AdminVideos",color:"from-red-500 to-orange-500",stats:`${t.totalVideos} videos`},{title:"Quiz Questions",description:"Create and edit quiz questions",icon:MB,path:"AdminQuestions",color:"from-amber-500 to-yellow-500",stats:`${t.totalQuestions} questions`},{title:"Homepage Banners",description:"Manage rotating homepage banners",icon:wx,path:"AdminBanners",color:"from-teal-500 to-cyan-500",stats:"Edit slides"},{title:"Sponsors & Ads",description:"Manage sponsors and advertising tiles",icon:KI,path:"AdminSponsors",color:"from-amber-500 to-orange-500",stats:"Configure placements"},{title:"Media Library",description:"Upload and manage images",icon:ho,path:"AdminMedia",color:"from-pink-500 to-rose-500",stats:"Upload files"},{title:"Recordings Review",description:"Review user submissions",icon:wl,path:"RecordingsAdmin",color:"from-cyan-500 to-blue-500",stats:"Pending review"},{title:"Analytics & Reports",description:"View site statistics and reports",icon:jB,path:"AdminAnalytics",color:"from-violet-500 to-purple-500",stats:"View insights"},{title:"Site Settings",description:"Configure website settings",icon:Fc,path:"AdminSettings",color:"from-gray-500 to-slate-500",stats:"Configure"}];return s.jsx("div",{className:"min-h-screen py-12 px-4 bg-gradient-to-br from-gray-50 to-gray-100",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Admin Dashboard"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Manage all website content without using AI credits"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((r,i)=>{const a=r.icon;return s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:i*.1},children:s.jsxs(Mt,{to:at(r.path),children:[" ",s.jsxs(re,{className:"h-full hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 cursor-pointer border-2 hover:border-blue-300",children:[s.jsxs(Oe,{children:[s.jsx("div",{className:`w-14 h-14 rounded-xl bg-gradient-to-br ${r.color} flex items-center justify-center mb-3`,children:s.jsx(a,{className:"w-7 h-7 text-white"})}),s.jsx(Me,{className:"text-xl",children:r.title})]}),s.jsxs(ie,{children:[s.jsx("p",{className:"text-gray-600 mb-2",children:r.description})," ",r.stats&&s.jsx("p",{className:"text-sm font-semibold text-gray-800",children:r.stats})]})]})]})},r.title)})}),s.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-12 text-center",children:s.jsx(re,{className:"bg-blue-50 border-2 border-blue-200",children:s.jsxs(ie,{className:"p-6",children:[s.jsx(Fc,{className:"w-12 h-12 mx-auto mb-3 text-blue-600"}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No AI Credits Required"}),s.jsx("p",{className:"text-gray-600",children:"All admin pages use standard forms and database operations - no AI processing needed!"})]})})})]})})}const oce=()=>{};var $T={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},lce=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],o=t[n++],c=t[n++],u=((i&7)<<18|(a&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const a=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},ZL={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,c=o?t[i+1]:0,u=i+2<t.length,h=u?t[i+2]:0,f=a>>2,m=(a&3)<<4|c>>4;let g=(c&15)<<2|h>>6,x=h&63;u||(x=64,o||(g=64)),r.push(n[f],n[m],n[g],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(XL(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):lce(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||c==null||h==null||m==null)throw new cce;const g=a<<2|c>>4;if(r.push(g),h!==64){const x=c<<4&240|h>>2;if(r.push(x),m!==64){const _=h<<6&192|m;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class cce extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uce=function(t){const e=XL(t);return ZL.encodeByteArray(e,!0)},e3=function(t){return uce(t).replace(/\./g,"")},t3=function(t){try{return ZL.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dce(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hce=()=>dce().__FIREBASE_DEFAULTS__,fce=()=>{if(typeof process>"u"||typeof $T>"u")return;const t=$T.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},mce=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&t3(t[1]);return e&&JSON.parse(e)},n3=()=>{try{return oce()||hce()||fce()||mce()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},pce=t=>{var e;return(e=n3())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gce(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fi())}function xce(){var e;const t=(e=n3())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yce(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vce(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function bce(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wce(){return!xce()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jce(){try{return typeof indexedDB=="object"}catch{return!1}}function _ce(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nce="FirebaseError";class $l extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Nce,Object.setPrototypeOf(this,$l.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qm.prototype.create)}}class Qm{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?Sce(a,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new $l(i,c,r)}}function Sce(t,e){return t.replace(Ece,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Ece=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r3(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function kce(t,e){const n=new Cce(t,e);return n.subscribe.bind(n)}class Cce{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Ace(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=cw),i.error===void 0&&(i.error=cw),i.complete===void 0&&(i.complete=cw);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ace(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function cw(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(t){return t&&t._delegate?t._delegate:t}class Qd{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ut||(Ut={}));const Tce={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},Rce=Ut.INFO,Ice={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},Pce=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Ice[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class B1{constructor(e){this.name=e,this._logLevel=Rce,this._logHandler=Pce,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Tce[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...e),this._logHandler(this,Ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...e),this._logHandler(this,Ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...e),this._logHandler(this,Ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...e),this._logHandler(this,Ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...e),this._logHandler(this,Ut.ERROR,...e)}}const Oce=(t,e)=>e.some(n=>t instanceof n);let BT,zT;function Mce(){return BT||(BT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Dce(){return zT||(zT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const s3=new WeakMap,o_=new WeakMap,i3=new WeakMap,uw=new WeakMap,z1=new WeakMap;function Lce(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(gl(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&s3.set(n,t)}).catch(()=>{}),z1.set(e,t),e}function Fce(t){if(o_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});o_.set(t,e)}let l_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return o_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||i3.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gl(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Vce(t){l_=t(l_)}function Uce(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(dw(this),e,...n);return i3.set(r,e.sort?e.sort():[e]),gl(r)}:Dce().includes(t)?function(...e){return t.apply(dw(this),e),gl(s3.get(this))}:function(...e){return gl(t.apply(dw(this),e))}}function $ce(t){return typeof t=="function"?Uce(t):(t instanceof IDBTransaction&&Fce(t),Oce(t,Mce())?new Proxy(t,l_):t)}function gl(t){if(t instanceof IDBRequest)return Lce(t);if(uw.has(t))return uw.get(t);const e=$ce(t);return e!==t&&(uw.set(t,e),z1.set(e,t)),e}const dw=t=>z1.get(t);function Bce(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),c=gl(o);return r&&o.addEventListener("upgradeneeded",u=>{r(gl(o.result),u.oldVersion,u.newVersion,gl(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{a&&u.addEventListener("close",()=>a()),i&&u.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const zce=["get","getKey","getAll","getAllKeys","count"],qce=["put","add","delete","clear"],hw=new Map;function qT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(hw.get(e))return hw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=qce.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||zce.includes(n)))return;const a=async function(o,...c){const u=this.transaction(o,i?"readwrite":"readonly");let h=u.store;return r&&(h=h.index(c.shift())),(await Promise.all([h[n](...c),i&&u.done]))[0]};return hw.set(e,a),a}Vce(t=>({...t,get:(e,n,r)=>qT(e,n)||t.get(e,n,r),has:(e,n)=>!!qT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hce{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Wce(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Wce(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const c_="@firebase/app",HT="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo=new B1("@firebase/app"),Kce="@firebase/app-compat",Gce="@firebase/analytics-compat",Qce="@firebase/analytics",Jce="@firebase/app-check-compat",Yce="@firebase/app-check",Xce="@firebase/auth",Zce="@firebase/auth-compat",eue="@firebase/database",tue="@firebase/data-connect",nue="@firebase/database-compat",rue="@firebase/functions",sue="@firebase/functions-compat",iue="@firebase/installations",aue="@firebase/installations-compat",oue="@firebase/messaging",lue="@firebase/messaging-compat",cue="@firebase/performance",uue="@firebase/performance-compat",due="@firebase/remote-config",hue="@firebase/remote-config-compat",fue="@firebase/storage",mue="@firebase/storage-compat",pue="@firebase/firestore",gue="@firebase/ai",xue="@firebase/firestore-compat",yue="firebase",vue="12.5.0",bue={[c_]:"fire-core",[Kce]:"fire-core-compat",[Qce]:"fire-analytics",[Gce]:"fire-analytics-compat",[Yce]:"fire-app-check",[Jce]:"fire-app-check-compat",[Xce]:"fire-auth",[Zce]:"fire-auth-compat",[eue]:"fire-rtdb",[tue]:"fire-data-connect",[nue]:"fire-rtdb-compat",[rue]:"fire-fn",[sue]:"fire-fn-compat",[iue]:"fire-iid",[aue]:"fire-iid-compat",[oue]:"fire-fcm",[lue]:"fire-fcm-compat",[cue]:"fire-perf",[uue]:"fire-perf-compat",[due]:"fire-rc",[hue]:"fire-rc-compat",[fue]:"fire-gcs",[mue]:"fire-gcs-compat",[pue]:"fire-fst",[xue]:"fire-fst-compat",[gue]:"fire-vertex","fire-js":"fire-js",[yue]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wue=new Map,jue=new Map,WT=new Map;function KT(t,e){try{t.container.addComponent(e)}catch(n){xo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Jd(t){const e=t.name;if(WT.has(e))return xo.debug(`There were multiple attempts to register component ${e}.`),!1;WT.set(e,t);for(const n of wue.values())KT(n,t);for(const n of jue.values())KT(n,t);return!0}function wc(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _ue={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},q1=new Qm("app","Firebase",_ue);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy=vue;function zc(t,e,n){let r=bue[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xo.warn(o.join(" "));return}Jd(new Qd(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nue="firebase-heartbeat-database",Sue=1,xm="firebase-heartbeat-store";let fw=null;function a3(){return fw||(fw=Bce(Nue,Sue,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(xm)}catch(n){console.warn(n)}}}}).catch(t=>{throw q1.create("idb-open",{originalErrorMessage:t.message})})),fw}async function Eue(t){try{const n=(await a3()).transaction(xm),r=await n.objectStore(xm).get(o3(t));return await n.done,r}catch(e){if(e instanceof $l)xo.warn(e.message);else{const n=q1.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xo.warn(n.message)}}}async function GT(t,e){try{const r=(await a3()).transaction(xm,"readwrite");await r.objectStore(xm).put(e,o3(t)),await r.done}catch(n){if(n instanceof $l)xo.warn(n.message);else{const r=q1.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});xo.warn(r.message)}}}function o3(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kue=1024,Cue=30;class Aue{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Rue(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=QT();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>Cue){const o=Iue(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){xo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=QT(),{heartbeatsToSend:r,unsentEntries:i}=Tue(this._heartbeatsCache.heartbeats),a=e3(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return xo.warn(n),""}}}function QT(){return new Date().toISOString().substring(0,10)}function Tue(t,e=kue){const n=[];let r=t.slice();for(const i of t){const a=n.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),JT(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),JT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Rue{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jce()?_ce().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Eue(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return GT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return GT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function JT(t){return e3(JSON.stringify({version:2,heartbeats:t})).length}function Iue(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pue(t){Jd(new Qd("platform-logger",e=>new Hce(e),"PRIVATE")),Jd(new Qd("heartbeat",e=>new Aue(e),"PRIVATE")),zc(c_,HT,t),zc(c_,HT,"esm2020"),zc("fire-js","")}Pue("");function l3(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Oue=l3,c3=new Qm("auth","Firebase",l3());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx=new B1("@firebase/auth");function Mue(t,...e){Jx.logLevel<=Ut.WARN&&Jx.warn(`Auth (${Xy}): ${t}`,...e)}function ux(t,...e){Jx.logLevel<=Ut.ERROR&&Jx.error(`Auth (${Xy}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(t,...e){throw W1(t,...e)}function H1(t,...e){return W1(t,...e)}function u3(t,e,n){const r={...Oue(),[e]:n};return new Qm("auth","Firebase",r).create(e,{appName:t.name})}function dx(t){return u3(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function W1(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return c3.create(t,...e)}function tn(t,e,...n){if(!t)throw W1(e,...n)}function Hf(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ux(e),new Error(e)}function Yx(t,e){t||Hf(e)}function Due(){return XT()==="http:"||XT()==="https:"}function XT(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lue(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Due()||vce()||"connection"in navigator)?navigator.onLine:!0}function Fue(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,n){this.shortDelay=e,this.longDelay=n,Yx(n>e,"Short delay should be less than long delay!"),this.isMobile=gce()||bce()}get(){return Lue()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vue(t,e){Yx(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hf("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hf("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hf("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uue={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ue=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Bue=new Ym(3e4,6e4);function Zy(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Nh(t,e,n,r,i={}){return h3(t,i,async()=>{let a={},o={};r&&(e==="GET"?o=r:a={body:JSON.stringify(r)});const c=r3({key:t.config.apiKey,...o}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:u,...a};return yce()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&$1(t.emulatorConfig.host)&&(h.credentials="include"),d3.fetch()(await f3(t,t.config.apiHost,n,c),h)})}async function h3(t,e,n){t._canInitEmulator=!1;const r={...Uue,...e};try{const i=new que(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw Vg(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const c=a.ok?o.errorMessage:o.error.message,[u,h]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vg(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Vg(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Vg(t,"user-disabled",o);const f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw u3(t,f,h);YT(t,f)}}catch(i){if(i instanceof $l)throw i;YT(t,"network-request-failed",{message:String(i)})}}async function f3(t,e,n,r){const i=`${e}${n}?${r}`,a=t,o=a.config.emulator?Vue(t.config,i):`${t.config.apiScheme}://${i}`;return $ue.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function zue(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class que{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(H1(this.auth,"network-request-failed")),Bue.get())})}}function Vg(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=H1(t,e,r);return i.customData._tokenResponse=n,i}function ZT(t){return t!==void 0&&t.enterprise!==void 0}class Hue{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return zue(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Wue(t,e){return Nh(t,"GET","/v2/recaptchaConfig",Zy(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kue(t,e){return Nh(t,"POST","/v1/accounts:delete",e)}async function Xx(t,e){return Nh(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Gue(t,e=!1){const n=Jm(t),r=await n.getIdToken(e),i=m3(r);tn(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Wf(mw(i.auth_time)),issuedAtTime:Wf(mw(i.iat)),expirationTime:Wf(mw(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function mw(t){return Number(t)*1e3}function m3(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ux("JWT malformed, contained fewer than 3 sections"),null;try{const i=t3(n);return i?JSON.parse(i):(ux("Failed to decode base64 JWT payload"),null)}catch(i){return ux("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function eR(t){const e=m3(t);return tn(e,"internal-error"),tn(typeof e.exp<"u","internal-error"),tn(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u_(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof $l&&Que(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Que({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jue{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wf(this.lastLoginAt),this.creationTime=Wf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zx(t){var m;const e=t.auth,n=await t.getIdToken(),r=await u_(t,Xx(e,{idToken:n}));tn(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=(m=i.providerUserInfo)!=null&&m.length?p3(i.providerUserInfo):[],o=Xue(t.providerData,a),c=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),h=c?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new d_(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function Yue(t){const e=Jm(t);await Zx(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Xue(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function p3(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zue(t,e){const n=await h3(t,{},async()=>{const r=r3({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await f3(t,i,"/v1/token",`key=${a}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:c,body:r};return t.emulatorConfig&&$1(t.emulatorConfig.host)&&(u.credentials="include"),d3.fetch()(o,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ede(t,e){return Nh(t,"POST","/v2/accounts:revokeToken",Zy(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){tn(e.idToken,"internal-error"),tn(typeof e.idToken<"u","internal-error"),tn(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):eR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){tn(e.length!==0,"internal-error");const n=eR(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(tn(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await Zue(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new wd;return r&&(tn(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(tn(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(tn(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wd,this.toJSON())}_performRefresh(){return Hf("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ko(t,e){tn(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class xa{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new Jue(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new d_(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await u_(this,this.stsTokenManager.getToken(this.auth,e));return tn(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Gue(this,e)}reload(){return Yue(this)}_assign(e){this!==e&&(tn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new xa({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){tn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Zx(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wc(this.auth.app))return Promise.reject(dx(this.auth));const e=await this.getIdToken();return await u_(this,Kue(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,o=n.photoURL??void 0,c=n.tenantId??void 0,u=n._redirectEventId??void 0,h=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:m,emailVerified:g,isAnonymous:x,providerData:_,stsTokenManager:w}=n;tn(m&&w,e,"internal-error");const j=wd.fromJSON(this.name,w);tn(typeof m=="string",e,"internal-error"),Ko(r,e.name),Ko(i,e.name),tn(typeof g=="boolean",e,"internal-error"),tn(typeof x=="boolean",e,"internal-error"),Ko(a,e.name),Ko(o,e.name),Ko(c,e.name),Ko(u,e.name),Ko(h,e.name),Ko(f,e.name);const N=new xa({uid:m,auth:e,email:i,emailVerified:g,displayName:r,isAnonymous:x,photoURL:o,phoneNumber:a,tenantId:c,stsTokenManager:j,createdAt:h,lastLoginAt:f});return _&&Array.isArray(_)&&(N.providerData=_.map(S=>({...S}))),u&&(N._redirectEventId=u),N}static async _fromIdTokenResponse(e,n,r=!1){const i=new wd;i.updateFromServerResponse(n);const a=new xa({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Zx(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];tn(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?p3(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),c=new wd;c.updateFromIdToken(r);const u=new xa({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new d_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR=new Map;function kc(t){Yx(t instanceof Function,"Expected a class definition");let e=tR.get(t);return e?(Yx(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,tR.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}g3.type="NONE";const nR=g3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(t,e,n){return`firebase:${t}:${e}:${n}`}class jd{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=pw(this.userKey,i.apiKey,a),this.fullPersistenceKey=pw("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Xx(this.auth,{idToken:e}).catch(()=>{});return n?xa._fromGetAccountInfoResponse(this.auth,n,e):null}return xa._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new jd(kc(nR),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let a=i[0]||kc(nR);const o=pw(r,e.config.apiKey,e.name);let c=null;for(const h of n)try{const f=await h._get(o);if(f){let m;if(typeof f=="string"){const g=await Xx(e,{idToken:f}).catch(()=>{});if(!g)break;m=await xa._fromGetAccountInfoResponse(e,g,f)}else m=xa._fromJSON(e,f);h!==a&&(c=m),a=h;break}}catch{}const u=i.filter(h=>h._shouldAllowMigration);return!a._shouldAllowMigration||!u.length?new jd(a,e,r):(a=u[0],c&&await a._set(o,c.toJSON()),await Promise.all(n.map(async h=>{if(h!==a)try{await h._remove(o)}catch{}})),new jd(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(sde(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tde(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ade(e))return"Blackberry";if(ode(e))return"Webos";if(nde(e))return"Safari";if((e.includes("chrome/")||rde(e))&&!e.includes("edge/"))return"Chrome";if(ide(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function tde(t=Fi()){return/firefox\//i.test(t)}function nde(t=Fi()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rde(t=Fi()){return/crios\//i.test(t)}function sde(t=Fi()){return/iemobile/i.test(t)}function ide(t=Fi()){return/android/i.test(t)}function ade(t=Fi()){return/blackberry/i.test(t)}function ode(t=Fi()){return/webos/i.test(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x3(t,e=[]){let n;switch(t){case"Browser":n=rR(Fi());break;case"Worker":n=`${rR(Fi())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xy}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lde{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((o,c)=>{try{const u=e(a);o(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cde(t,e={}){return Nh(t,"GET","/v2/passwordPolicy",Zy(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ude=6;class dde{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??ude,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hde{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sR(this),this.idTokenSubscription=new sR(this),this.beforeStateQueue=new lde(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=c3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=kc(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await jd.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Xx(this,{idToken:e}),r=await xa._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(wc(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(a=this.redirectUser)==null?void 0:a._redirectEventId,c=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===c)&&(u!=null&&u.user)&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return tn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Zx(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Fue()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wc(this.app))return Promise.reject(dx(this));const n=e?Jm(e):null;return n&&tn(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&tn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wc(this.app)?Promise.reject(dx(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wc(this.app)?Promise.reject(dx(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(kc(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await cde(this),n=new dde(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qm("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await ede(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&kc(e)||this._popupRedirectResolver;tn(n,this,"argument-error"),this.redirectPersistenceManager=await jd.create(this,[kc(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(tn(c,this,"internal-error"),c.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return tn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=x3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(wc(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&Mue(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function K1(t){return Jm(t)}class sR{constructor(e){this.auth=e,this.observer=null,this.addObserver=kce(n=>this.observer=n)}get next(){return tn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let G1={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fde(t){G1=t}function mde(t){return G1.loadJS(t)}function pde(){return G1.recaptchaEnterpriseScript}class gde{constructor(){this.enterprise=new xde}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class xde{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const yde="recaptcha-enterprise",y3="NO_RECAPTCHA";class vde{constructor(e){this.type=yde,this.auth=K1(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,c)=>{Wue(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const h=new Hue(u);return a.tenantId==null?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,o(h.siteKey)}}).catch(u=>{c(u)})})}function i(a,o,c){const u=window.grecaptcha;ZT(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(h=>{o(h)}).catch(()=>{o(y3)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new gde().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{r(this.auth).then(c=>{if(!n&&ZT(window.grecaptcha))i(c,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=pde();u.length!==0&&(u+=c),mde(u).then(()=>{i(c,a,o)}).catch(h=>{o(h)})}}).catch(c=>{o(c)})})}}async function iR(t,e,n,r=!1,i=!1){const a=new vde(t);let o;if(i)o=y3;else try{o=await a.verify(n)}catch{o=await a.verify(n,!0)}const c={...e};return r?Object.assign(c,{captchaResp:o}):Object.assign(c,{captchaResponse:o}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function bde(t,e,n,r,i){var a;if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await iR(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await iR(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(o)})}function wde(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(kc);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}async function jde(t,e){return Nh(t,"POST","/v1/accounts:sendOobCode",Zy(t,e))}async function _de(t,e){return jde(t,e)}async function v3(t,e,n){const r=K1(t);await bde(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",_de)}new Ym(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Ym(2e3,1e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Ym(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Ym(5e3,15e3);var aR="@firebase/auth",oR="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nde{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){tn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sde(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ede(t){Jd(new Qd("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;tn(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:x3(t)},h=new hde(r,i,a,u);return wde(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Jd(new Qd("auth-internal",e=>{const n=K1(e.getProvider("auth").getImmediate());return(r=>new Nde(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zc(aR,oR,Sde(t)),zc(aR,oR,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kde=300;pce("authIdTokenMaxAge");function Cde(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}fde({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=H1("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",Cde().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ede("Browser");function lR(){const t=nr(),[e,n]=y.useState(""),[r,i]=y.useState(""),[a,o]=y.useState(""),[c,u]=y.useState(!1),[h,f]=y.useState(!1),m={apiKey:!0,authDomain:!0,projectId:!0,appId:!0},g={apiKey:"AIzaSyDLi7mVwWnHp_jFlo6KfIXMZEu1iGpA-YE",authDomain:"studio-1726517794-3d5f0.firebaseapp.com",projectId:"studio-1726517794-3d5f0",appId:"1:947105835283:web:b06706b15af28b4c3f12e6",storageBucket:"studio-1726517794-3d5f0.appspot.com",messagingSenderId:"947105835283"},x=(w,j=4,N=4)=>w?w.length<=j+N?w:`${w.slice(0,j)}${w.slice(-N)}`:"(empty)";y.useEffect(()=>{const{app:w}=yr();f(!!w);const j=au(async N=>{N&&await $x()&&t(at("AdminDashboard"))});return()=>j&&j()},[t]);const _=async w=>{w.preventDefault(),o(""),u(!0);try{if(!h)throw new Error("Firebase not configured");const j=await yD(e,r);if(!await $x())throw await vD(),new Error("Access restricted to admin only");t(at("AdminDashboard"))}catch(j){const N=(j==null?void 0:j.code)||"";let S=(j==null?void 0:j.message)||"Login failed";N==="auth/invalid-credential"&&(S="Invalid email or password. Please try again or reset your password."),N==="auth/user-not-found"&&(S="No account found for this email. Please sign up or ask an admin to create one."),N==="auth/wrong-password"&&(S="Incorrect password. Try again or reset your password."),N==="auth/too-many-requests"&&(S="Too many attempts. Please wait a minute, then try again."),N==="auth/operation-not-allowed"&&(S="Email/password sign-in is disabled. Enable it in Firebase Auth  Sign-in method."),o(S)}finally{u(!1)}};return s.jsx("div",{className:"min-h-screen py-12 px-4 bg-gradient-to-br from-slate-50 to-blue-50",children:s.jsx("div",{className:"max-w-md mx-auto",children:s.jsxs(re,{className:"shadow-xl border-2 border-blue-200",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:s.jsxs(Me,{className:"flex items-center gap-2",children:[s.jsx(ru,{className:"w-5 h-5"})," Secure Admin Login"]})}),s.jsx(ie,{className:"p-6",children:h?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-xs text-gray-500 bg-gray-50 border rounded p-2 mb-4",children:[s.jsx("div",{className:"font-semibold mb-1",children:"Debug config (masked)"}),s.jsxs("ul",{className:"list-disc ml-4",children:[s.jsxs("li",{children:["apiKey: ",x(g.apiKey)]}),s.jsxs("li",{children:["authDomain: ",g.authDomain]}),s.jsxs("li",{children:["projectId: ",g.projectId]}),s.jsxs("li",{children:["appId: ",x(g.appId,3,6)]})]})]}),s.jsxs("form",{onSubmit:_,className:"space-y-4",children:[a&&s.jsx("div",{className:"p-2 rounded bg-red-50 text-red-700 text-sm",children:a}),s.jsxs("div",{children:[s.jsx(be,{children:"Email"}),s.jsx(ke,{type:"email",value:e,onChange:w=>n(w.target.value),required:!0})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Password"}),s.jsx(ke,{type:"password",value:r,onChange:w=>i(w.target.value),required:!0})]}),s.jsx(W,{type:"submit",disabled:c,className:"w-full",children:c?"Signing in...":s.jsxs("span",{className:"inline-flex items-center gap-2",children:[s.jsx(WI,{className:"w-4 h-4"}),"Sign In"]})}),s.jsxs("div",{className:"flex items-center justify-between text-xs mt-2",children:[s.jsx("button",{type:"button",className:"text-blue-600 hover:underline",onClick:async()=>{o("");try{const{auth:w}=yr();if(!w)throw new Error("Firebase not configured");if(!e)throw new Error("Enter your email above, then click reset.");await v3(w,e),o("Password reset email sent. Check your inbox.")}catch(w){const j=(w==null?void 0:w.code)||"";let N=(w==null?void 0:w.message)||"Failed to send reset email.";j==="auth/invalid-email"&&(N="Please enter a valid email address."),j==="auth/user-not-found"&&(N="No account found for this email."),o(N)}},children:"Forgot password?"}),s.jsxs("span",{className:"text-gray-500 flex items-center gap-1",children:[s.jsx(lh,{className:"w-4 h-4 text-green-600"})," Access available to any signed-in user"]})]})]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-amber-600",children:[s.jsx(G_,{className:"w-5 h-5"}),s.jsx("span",{children:"Firebase is not configured."})]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Please set Firebase env vars in ",s.jsx("code",{children:".env"}),": ",s.jsx("code",{children:"VITE_FIREBASE_API_KEY"}),", ",s.jsx("code",{children:"VITE_FIREBASE_AUTH_DOMAIN"}),", ",s.jsx("code",{children:"VITE_FIREBASE_PROJECT_ID"}),", ",s.jsx("code",{children:"VITE_FIREBASE_APP_ID"}),". Optional: ",s.jsx("code",{children:"VITE_ADMIN_EMAIL"})," (exact match), ",s.jsx("code",{children:"VITE_ADMIN_EMAIL_DOMAIN"})," (e.g. ",s.jsx("code",{children:"imediackids.com"}),")."]}),s.jsxs("div",{className:"text-xs text-gray-500 bg-gray-50 border rounded p-2",children:[s.jsx("div",{className:"font-semibold mb-1",children:"Detected env flags (no secrets):"}),s.jsxs("ul",{className:"list-disc ml-4",children:[s.jsxs("li",{children:["VITE_FIREBASE_API_KEY: ",m.apiKey?"":""]}),s.jsxs("li",{children:["VITE_FIREBASE_AUTH_DOMAIN: ",m.authDomain?"":""]}),s.jsxs("li",{children:["VITE_FIREBASE_PROJECT_ID: ",m.projectId?"":""]}),s.jsxs("li",{children:["VITE_FIREBASE_APP_ID: ",m.appId?"":""]})]}),s.jsxs("div",{className:"mt-2",children:["After editing ",s.jsx("code",{children:".env"}),", fully restart the dev server (",s.jsx("code",{children:"Ctrl+C"})," then ",s.jsx("code",{children:"npm run dev"}),")."]})]}),s.jsxs("div",{className:"text-xs text-gray-500 bg-gray-50 border rounded p-2",children:[s.jsx("div",{className:"font-semibold mb-1",children:"Debug config (masked)"}),s.jsxs("ul",{className:"list-disc ml-4",children:[s.jsxs("li",{children:["apiKey: ",x(g.apiKey)]}),s.jsxs("li",{children:["authDomain: ",g.authDomain]}),s.jsxs("li",{children:["projectId: ",g.projectId]}),s.jsxs("li",{children:["appId: ",x(g.appId,3,6)]}),s.jsxs("li",{children:["storageBucket: ",g.storageBucket]}),s.jsxs("li",{children:["messagingSenderId: ",g.messagingSenderId]})]}),s.jsxs("div",{className:"mt-2",children:["If values show as ",s.jsx("code",{children:"(empty)"}),", ensure your ",s.jsx("code",{children:".env"})," exists at the project root and variables start with ",s.jsx("code",{children:"VITE_"}),"."]})]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Admin login requires Firebase configuration. Once configured, use your email/password to sign in."})]})})]})})})}function mr({children:t}){const e=nr(),[n,r]=y.useState(!1),[i,a]=y.useState(!1);return y.useEffect(()=>{let o=()=>{};const{app:c}=yr();return c?o=au(async()=>{const u=await $x();r(u),a(!0),u||e(at("AdminLogin"))}):(r(!1),a(!0),e(at("Home"))),()=>o&&o()},[e]),!i||!n?null:t}var e0="Switch",[Ade]=Oa(e0),[Tde,Rde]=Ade(e0),b3=y.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:a,required:o,disabled:c,value:u="on",onCheckedChange:h,form:f,...m}=t,[g,x]=y.useState(null),_=rn(e,k=>x(k)),w=y.useRef(!1),j=g?f||!!g.closest("form"):!0,[N,S]=Nl({prop:i,defaultProp:a??!1,onChange:h,caller:e0});return s.jsxs(Tde,{scope:n,checked:N,disabled:c,children:[s.jsx(At.button,{type:"button",role:"switch","aria-checked":N,"aria-required":o,"data-state":N3(N),"data-disabled":c?"":void 0,disabled:c,value:u,...m,ref:_,onClick:nt(t.onClick,k=>{S(C=>!C),j&&(w.current=k.isPropagationStopped(),w.current||k.stopPropagation())})}),j&&s.jsx(_3,{control:g,bubbles:!w.current,name:r,value:u,checked:N,required:o,disabled:c,form:f,style:{transform:"translateX(-100%)"}})]})});b3.displayName=e0;var w3="SwitchThumb",j3=y.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=Rde(w3,n);return s.jsx(At.span,{"data-state":N3(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});j3.displayName=w3;var Ide="SwitchBubbleInput",_3=y.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...i},a)=>{const o=y.useRef(null),c=rn(o,a),u=R1(n),h=LN(e);return y.useEffect(()=>{const f=o.current;if(!f)return;const m=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(m,"checked").set;if(u!==n&&x){const _=new Event("click",{bubbles:r});x.call(f,n),f.dispatchEvent(_)}},[u,n,r]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:c,style:{...i.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});_3.displayName=Ide;function N3(t){return t?"checked":"unchecked"}var S3=b3,Pde=j3;const Bs=y.forwardRef(({className:t,...e},n)=>s.jsx(S3,{className:mt("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:s.jsx(Pde,{className:mt("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));Bs.displayName=S3.displayName;const gw={siteTitle:"Islam Kids Zone",tagline:"Learn, Play & Grow",logoEmoji:"",headerGradient:"from-blue-600 to-purple-600",navActiveGradient:"from-blue-500 to-purple-500",backgroundGradient:"from-blue-50 via-purple-50 to-pink-50",darkModeDefault:!1,showTestBanner:!0,showRadioBar:!0,supportEmail:"imedia786@gmail.com",supportWhatsappNumber:"+971500000000",apiBaseUrl:"https://api.example.com",assetsCdnUrl:"https://cdn.example.com",radioUrl:"https://a4.asurahosting.com:7820/radio.mp3",maintenanceMode:!1,enableAnalytics:!1,enableMessages:!0,cacheTtlSeconds:600,recordingStudioText:"Welcome to Islam Media Central Recording Studio. Please record Quran recitation, nasheeds, or Islamic messages with clarity and respect."},cR=[{label:"Blue  Purple",value:"from-blue-600 to-purple-600"},{label:"Purple  Pink",value:"from-purple-600 to-pink-600"},{label:"Teal  Cyan",value:"from-teal-600 to-cyan-600"},{label:"Rose  Orange",value:"from-rose-600 to-orange-600"},{label:"Slate  Gray",value:"from-slate-700 to-gray-700"}],Ode=[{label:"Blue/Purple/Pink",value:"from-blue-50 via-purple-50 to-pink-50"},{label:"Teal/Cyan",value:"from-teal-50 via-cyan-50 to-blue-50"},{label:"Rose/Orange",value:"from-rose-50 via-orange-50 to-yellow-50"},{label:"Neutral",value:"from-gray-50 to-gray-100"}];function E3(){const[t,e]=y.useState(gw),[n,r]=y.useState(!1),[i,a]=y.useState(""),[o,c]=y.useState(""),[u,h]=y.useState(""),[f,m]=y.useState("");y.useEffect(()=>{try{const x=localStorage.getItem("siteSettings");if(x){const _=JSON.parse(x);e({...gw,..._})}}catch{}},[]);const g=()=>{localStorage.setItem("siteSettings",JSON.stringify(t)),r(!0),setTimeout(()=>r(!1),1500)};return s.jsx("div",{className:`min-h-screen py-8 px-4 bg-gradient-to-br ${t.backgroundGradient}`,children:s.jsx("div",{className:"max-w-5xl mx-auto",children:s.jsxs(re,{className:"shadow-xl border-2 border-blue-200",children:[s.jsx(Oe,{className:`text-white bg-gradient-to-r ${t.headerGradient}`,children:s.jsxs(Me,{className:"flex items-center gap-2",children:[s.jsx(Fc,{className:"w-6 h-6"})," Site Settings"]})}),s.jsxs(ie,{className:"p-6 space-y-6",children:[n&&s.jsx("div",{className:"p-2 rounded bg-green-50 text-green-700 text-sm",children:"Settings saved"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(be,{children:"Site Title"}),s.jsx(ke,{value:t.siteTitle,onChange:x=>e({...t,siteTitle:x.target.value})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(be,{children:"Tagline"}),s.jsx(ke,{value:t.tagline,onChange:x=>e({...t,tagline:x.target.value})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(be,{children:"Logo Emoji"}),s.jsx(ke,{value:t.logoEmoji,onChange:x=>e({...t,logoEmoji:x.target.value})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(be,{children:"Header Gradient"}),s.jsxs(Xt,{value:t.headerGradient,onValueChange:x=>e({...t,headerGradient:x}),children:[s.jsx(Qt,{children:s.jsx(Zt,{placeholder:"Select gradient"})}),s.jsx(Jt,{children:cR.map(x=>s.jsx(Le,{value:x.value,children:x.label},x.value))})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(be,{children:"Active Nav Gradient"}),s.jsxs(Xt,{value:t.navActiveGradient,onValueChange:x=>e({...t,navActiveGradient:x}),children:[s.jsx(Qt,{children:s.jsx(Zt,{placeholder:"Select gradient"})}),s.jsx(Jt,{children:cR.map(x=>s.jsx(Le,{value:x.value,children:x.label},x.value))})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(be,{children:"Background Gradient"}),s.jsxs(Xt,{value:t.backgroundGradient,onValueChange:x=>e({...t,backgroundGradient:x}),children:[s.jsx(Qt,{children:s.jsx(Zt,{placeholder:"Select background"})}),s.jsx(Jt,{children:Ode.map(x=>s.jsx(Le,{value:x.value,children:x.label},x.value))})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(be,{children:"Dark Mode Default"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Bs,{checked:t.darkModeDefault,onCheckedChange:x=>e({...t,darkModeDefault:x})}),s.jsx("span",{className:"text-sm text-gray-600",children:"Apply dark mode on load"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(be,{children:"Show Test Mode Banner"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Bs,{checked:t.showTestBanner,onCheckedChange:x=>e({...t,showTestBanner:x})}),s.jsx("span",{className:"text-sm text-gray-600",children:"Toggle info banner in Layout"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(be,{children:"Show Radio Bar"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Bs,{checked:t.showRadioBar,onCheckedChange:x=>e({...t,showRadioBar:x})}),s.jsx("span",{className:"text-sm text-gray-600",children:"Enable persistent radio player"})]})]})]}),s.jsxs("div",{className:"pt-6 border-t",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Backend Settings"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(be,{children:"Support Email"}),s.jsx(ke,{type:"email",value:t.supportEmail,onChange:x=>e({...t,supportEmail:x.target.value})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(be,{children:"Support WhatsApp Number"}),s.jsx(ke,{value:t.supportWhatsappNumber,onChange:x=>e({...t,supportWhatsappNumber:x.target.value})})]}),s.jsxs("div",{className:"space-y-3 md:col-span-2",children:[s.jsx(be,{children:"API Base URL"}),s.jsx(ke,{value:t.apiBaseUrl,onChange:x=>e({...t,apiBaseUrl:x.target.value})}),s.jsx("p",{className:"text-xs text-gray-500",children:"Non-secret; use env for sensitive keys."})]}),s.jsxs("div",{className:"space-y-3 md:col-span-2",children:[s.jsx(be,{children:"Assets CDN URL"}),s.jsx(ke,{value:t.assetsCdnUrl,onChange:x=>e({...t,assetsCdnUrl:x.target.value})})]}),s.jsxs("div",{className:"space-y-3 md:col-span-2",children:[s.jsx(be,{children:"Radio Stream URL"}),s.jsx(ke,{value:t.radioUrl,onChange:x=>e({...t,radioUrl:x.target.value})})]}),s.jsxs("div",{className:"space-y-3 md:col-span-2",children:[s.jsx(be,{children:"Asma Audio Base URL (99 Names)"}),s.jsx(ke,{value:t.asmaAudioBase||"",onChange:x=>e({...t,asmaAudioBase:x.target.value}),placeholder:"e.g., /asma/ or https://cdn.example.com/asma/"}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Folder containing 1.mp3 .. 99.mp3. For local hosting, place files under ",s.jsx("code",{children:"public/asma/"})," and set to ",s.jsx("code",{children:"/asma/"}),". For GitHub Pages, use the full URL."]})]}),s.jsxs("div",{className:"space-y-3 md:col-span-2",children:[s.jsx(be,{children:"Asma Combined URL (single MP3)"}),s.jsx(ke,{value:t.asmaCombinedUrl||"",onChange:x=>e({...t,asmaCombinedUrl:x.target.value}),placeholder:"e.g., https://.../lyric-99-names.mp3"}),s.jsx("p",{className:"text-xs text-gray-500",children:"If you have one MP3 with all names, paste it here. The app will play segments using timestamps when Professional Audio is off."})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(be,{children:"Maintenance Mode"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Bs,{checked:t.maintenanceMode,onCheckedChange:x=>e({...t,maintenanceMode:x})}),s.jsx("span",{className:"text-sm text-gray-600",children:"Show site-wide maintenance banner"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(be,{children:"Enable Analytics"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Bs,{checked:t.enableAnalytics,onCheckedChange:x=>e({...t,enableAnalytics:x})}),s.jsx("span",{className:"text-sm text-gray-600",children:"Toggle client-side telemetry hooks"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(be,{children:"Enable Messages"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Bs,{checked:t.enableMessages,onCheckedChange:x=>e({...t,enableMessages:x})}),s.jsx("span",{className:"text-sm text-gray-600",children:"Toggle AdminMessages/Netlify function usage"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(be,{children:"Cache TTL (seconds)"}),s.jsx(ke,{type:"number",min:"0",value:t.cacheTtlSeconds,onChange:x=>e({...t,cacheTtlSeconds:parseInt(x.target.value||0,10)})})]}),s.jsxs("div",{className:"space-y-3 md:col-span-2",children:[s.jsx(be,{children:"Recording Studio Page Text"}),s.jsx(Dn,{value:t.recordingStudioText,onChange:x=>e({...t,recordingStudioText:x.target.value}),className:"min-h-[120px]",placeholder:"Write instructions, motivational messages, or Quran/Nasheed guidelines for users..."}),s.jsx("p",{className:"text-xs text-gray-500",children:"This appears at the top of the Recording Studio page."})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3 pt-4",children:[s.jsx(W,{onClick:g,children:"Save Settings"}),s.jsx(W,{variant:"outline",onClick:()=>e(gw),children:"Reset to Defaults"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Stored locally for now. For production, persist in Firestore or your backend (Netlify functions), with secure server-side enforcement."}),s.jsxs("div",{className:"pt-8 border-t",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Admin Auth Tools"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 items-end",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(be,{children:"Check if Auth Email Exists"}),s.jsx(ke,{type:"email",placeholder:"user@example.com",value:i,onChange:x=>a(x.target.value)})]}),s.jsx("div",{className:"space-y-3",children:s.jsx(W,{onClick:async()=>{var x,_;c("");try{const{auth:w}=(await sn(async()=>{const{getFirebase:k}=await Promise.resolve().then(()=>Bx);return{getFirebase:k}},void 0)).getFirebase(),j=await((_=(x=w==null?void 0:w.currentUser)==null?void 0:x.getIdToken)==null?void 0:_.call(x));if(!j)throw new Error("Admin login required");const N=await fetch("/.netlify/functions/authLookup",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${j}`},body:JSON.stringify({email:i.trim().toLowerCase()})}),S=await N.json().catch(()=>({}));if(!N.ok)throw new Error((S==null?void 0:S.error)||`Error ${N.status}`);c(S.exists?`Exists (uid: ${S.uid})`:"Not found in Auth")}catch(w){c(`Lookup failed: ${w.message||w}`)}},children:"Check Email"})})]}),o&&s.jsx("div",{className:"mt-3 text-sm p-2 rounded border bg-white/60",children:o}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:'Requires admin login and server-side verification. Useful when signup says "email already in use" but no user appears in Firestore.'}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-6 items-end",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(be,{children:"Delete Test Account (Email or UID)"}),s.jsx(ke,{placeholder:"user@example.com or UID",value:u,onChange:x=>h(x.target.value)})]}),s.jsx("div",{className:"space-y-3",children:s.jsx(W,{variant:"destructive",onClick:async()=>{var _,w;m("");const x=u.trim();if(!x){m("Provide email or UID");return}try{const{auth:j}=(await sn(async()=>{const{getFirebase:R}=await Promise.resolve().then(()=>Bx);return{getFirebase:R}},void 0)).getFirebase(),N=await((w=(_=j==null?void 0:j.currentUser)==null?void 0:_.getIdToken)==null?void 0:w.call(_));if(!N)throw new Error("Admin login required");const S=/@/.test(x),k=await fetch("/.netlify/functions/deleteUser",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${N}`},body:JSON.stringify(S?{email:x.toLowerCase()}:{uid:x})}),C=await k.json().catch(()=>({}));if(!k.ok)throw new Error((C==null?void 0:C.error)||`Error ${k.status}`);m(`Deleted: uid=${C.uid}${C.email?`, email=${C.email}`:""}`)}catch(j){m(`Delete failed: ${j.message||j}`)}},children:"Delete Account"})})]}),f&&s.jsx("div",{className:"mt-3 text-sm p-2 rounded border bg-white/60",children:f})]})]})]})})})}function k3(){const[t,e]=y.useState(null),[n,r]=y.useState(!1),[i,a]=y.useState(""),[o,c]=y.useState("all"),u=xi();nr();const[h,f]=y.useState({title:"",content:"",moral:"",image_url:"",audio_url:"",age_range:"5-12",category:"prophets"}),{data:m=[],isLoading:g}=Bn({queryKey:["admin-stories"],queryFn:async()=>await base44.entities.Story.list("-created_date"),initialData:[]}),x=An({mutationFn:async R=>await base44.entities.Story.create(R),onSuccess:()=>{u.invalidateQueries({queryKey:["admin-stories"]}),r(!1),j()}}),_=An({mutationFn:async({id:R,storyData:O})=>await base44.entities.Story.update(R,O),onSuccess:()=>{u.invalidateQueries({queryKey:["admin-stories"]}),e(null),r(!1),j()}}),w=An({mutationFn:async R=>await base44.entities.Story.delete(R),onSuccess:()=>{u.invalidateQueries({queryKey:["admin-stories"]})}}),j=()=>{f({title:"",content:"",moral:"",image_url:"",audio_url:"",age_range:"5-12",category:"prophets"})},N=R=>{e(R),f({title:R.title,content:R.content,moral:R.moral,image_url:R.image_url||"",audio_url:R.audio_url||"",age_range:R.age_range||"5-12",category:R.category}),r(!0)},S=async R=>{window.confirm("Are you sure you want to delete this story?")&&await w.mutateAsync(R)},k=async R=>{R.preventDefault(),t?await _.mutateAsync({id:t.id,storyData:h}):await x.mutateAsync(h)},C=m.filter(R=>{const O=R.title.toLowerCase().includes(i.toLowerCase())||R.content.toLowerCase().includes(i.toLowerCase()),A=o==="all"||R.category===o;return O&&A});return s.jsx("div",{className:"min-h-screen py-8 px-4 bg-gradient-to-br from-slate-50 to-blue-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Mt,{to:at("AdminDashboard"),children:s.jsxs(W,{variant:"outline",children:[s.jsx(Pl,{className:"w-4 h-4 mr-2"}),"Back"]})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Stories Management"}),s.jsx("p",{className:"text-gray-600",children:"Create and manage Islamic stories"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Mt,{to:at("Assistant"),children:s.jsxs(W,{variant:"outline",children:[s.jsx(Na,{className:"w-4 h-4 mr-2"}),"Open AI Agent"]})}),s.jsx(Mt,{to:at("AdminMedia"),children:s.jsxs(W,{variant:"outline",children:[s.jsx(ho,{className:"w-4 h-4 mr-2"}),"Media Library"]})}),s.jsxs(W,{onClick:()=>{r(!0),e(null),j()},className:"bg-green-600 hover:bg-green-700",children:[s.jsx(Ws,{className:"w-4 h-4 mr-2"}),"Add New Story"]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Pi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx(ke,{type:"text",placeholder:"Search stories...",value:i,onChange:R=>a(R.target.value),className:"pl-10"})]}),s.jsxs(Xt,{value:o,onValueChange:c,children:[s.jsx(Qt,{className:"w-full sm:w-48",children:s.jsx(Zt,{placeholder:"Filter by category"})}),s.jsxs(Jt,{children:[s.jsx(Le,{value:"all",children:"All Categories"}),s.jsx(Le,{value:"prophets",children:"Prophets"}),s.jsx(Le,{value:"sahabah",children:"Sahabah"}),s.jsx(Le,{value:"manners",children:"Manners"}),s.jsx(Le,{value:"kindness",children:"Kindness"}),s.jsx(Le,{value:"honesty",children:"Honesty"}),s.jsx(Le,{value:"gratitude",children:"Gratitude"}),s.jsx(Le,{value:"bedtime",children:"Bedtime"})]})]})]}),s.jsx(Ss,{children:n&&s.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:s.jsxs(te.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"sticky top-0 bg-white border-b p-6 z-10",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl font-bold",children:t?"Edit Story":"Create New Story"}),s.jsx(W,{variant:"ghost",size:"icon",onClick:()=>{r(!1),e(null),j()},children:s.jsx(Br,{className:"w-6 h-6"})})]})}),s.jsxs("form",{onSubmit:k,className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Title *"}),s.jsx(ke,{value:h.title,onChange:R=>f({...h,title:R.target.value}),required:!0,placeholder:"e.g., The Story of Prophet Yusuf"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Category *"}),s.jsxs(Xt,{value:h.category,onValueChange:R=>f({...h,category:R}),children:[s.jsx(Qt,{children:s.jsx(Zt,{})}),s.jsxs(Jt,{children:[s.jsx(Le,{value:"prophets",children:"Prophets"}),s.jsx(Le,{value:"sahabah",children:"Sahabah"}),s.jsx(Le,{value:"manners",children:"Manners"}),s.jsx(Le,{value:"kindness",children:"Kindness"}),s.jsx(Le,{value:"honesty",children:"Honesty"}),s.jsx(Le,{value:"gratitude",children:"Gratitude"}),s.jsx(Le,{value:"bedtime",children:"Bedtime"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Age Range"}),s.jsxs(Xt,{value:h.age_range,onValueChange:R=>f({...h,age_range:R}),children:[s.jsx(Qt,{children:s.jsx(Zt,{})}),s.jsxs(Jt,{children:[s.jsx(Le,{value:"3-6",children:"3-6 years"}),s.jsx(Le,{value:"5-12",children:"5-12 years"}),s.jsx(Le,{value:"7-10",children:"7-10 years"}),s.jsx(Le,{value:"11+",children:"11+ years"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Story Content * (Markdown supported)"}),s.jsx(Dn,{value:h.content,onChange:R=>f({...h,content:R.target.value}),required:!0,rows:12,placeholder:"Write your story here... You can use **bold**, *italic*, and # headings",className:"font-mono"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Tip: Use markdown formatting for better text styling"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Moral/Lesson *"}),s.jsx(Dn,{value:h.moral,onChange:R=>f({...h,moral:R.target.value}),required:!0,rows:3,placeholder:"What should children learn from this story?"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Image URL (optional)"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ke,{value:h.image_url,onChange:R=>f({...h,image_url:R.target.value}),placeholder:"https://... or upload via Media Library"}),s.jsx(Mt,{to:at("AdminMedia"),target:"_blank",children:s.jsx(W,{type:"button",variant:"outline",children:s.jsx(ho,{className:"w-4 h-4"})})})]}),h.image_url&&s.jsx("img",{src:h.image_url,alt:"Preview",className:"mt-2 h-32 object-cover rounded-lg",onError:R=>R.target.style.display="none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Audio URL (optional)"}),s.jsx(ke,{value:h.audio_url,onChange:R=>f({...h,audio_url:R.target.value}),placeholder:"https://... (MP3 audio narration)"})]}),s.jsxs("div",{className:"flex gap-4 justify-end border-t pt-6",children:[s.jsx(W,{type:"button",variant:"outline",onClick:()=>{r(!1),e(null),j()},children:"Cancel"}),s.jsxs(W,{type:"submit",className:"bg-green-600 hover:bg-green-700",children:[s.jsx(Sa,{className:"w-4 h-4 mr-2"}),t?"Update Story":"Create Story"]})]})]})]})})}),g?s.jsx("div",{className:"text-center py-12",children:"Loading stories..."}):C.length===0?s.jsxs(re,{className:"p-12 text-center",children:[s.jsx(un,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-gray-600",children:m.length===0?"No stories created yet.":"No stories match your search."}),s.jsx(W,{onClick:()=>r(!0),className:"mt-4",children:"Create Your First Story"})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:C.map(R=>s.jsxs(re,{className:"hover:shadow-lg transition-shadow",children:[s.jsxs(Oe,{className:"pb-3",children:[R.image_url&&s.jsx("div",{className:"h-48 -mx-6 -mt-6 mb-4 rounded-t-lg overflow-hidden",children:s.jsx("img",{src:R.image_url,alt:R.title,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsx(Me,{className:"text-lg line-clamp-2",children:R.title}),s.jsx(we,{children:R.category})]})]}),s.jsxs(ie,{children:[s.jsxs("p",{className:"text-sm text-gray-600 mb-4 line-clamp-3",children:[R.content.substring(0,150),"..."]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 mb-4",children:[s.jsx("span",{children:R.age_range}),R.audio_url&&s.jsx("span",{children:"  Audio"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(W,{onClick:()=>N(R),size:"sm",className:"flex-1 bg-blue-600 hover:bg-blue-700",children:[s.jsx(wo,{className:"w-4 h-4 mr-1"}),"Edit"]}),s.jsx(W,{onClick:()=>S(R.id),size:"sm",variant:"outline",className:"text-red-600 border-red-600 hover:bg-red-50",children:s.jsx(xr,{className:"w-4 h-4"})})]})]})]},R.id))}),s.jsxs("div",{className:"mt-8 grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsx(re,{children:s.jsxs(ie,{className:"p-4 text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:m.length}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total Stories"})]})}),s.jsx(re,{children:s.jsxs(ie,{className:"p-4 text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-green-600",children:m.filter(R=>R.image_url).length}),s.jsx("p",{className:"text-sm text-gray-600",children:"With Images"})]})}),s.jsx(re,{children:s.jsxs(ie,{className:"p-4 text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-purple-600",children:m.filter(R=>R.audio_url).length}),s.jsx("p",{className:"text-sm text-gray-600",children:"With Audio"})]})})]})]})})}function Mde(t){const e=Dde(t),n=y.forwardRef((r,i)=>{const{children:a,...o}=r,c=y.Children.toArray(a),u=c.find(Fde);if(u){const h=u.props.children,f=c.map(m=>m===u?y.Children.count(h)>1?y.Children.only(null):y.isValidElement(h)?h.props.children:null:m);return s.jsx(e,{...o,ref:i,children:y.isValidElement(h)?y.cloneElement(h,void 0,f):null})}return s.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function Dde(t){const e=y.forwardRef((n,r)=>{const{children:i,...a}=n;if(y.isValidElement(i)){const o=Ude(i),c=Vde(a,i.props);return i.type!==y.Fragment&&(c.ref=r?jo(r,o):o),y.cloneElement(i,c)}return y.Children.count(i)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Lde=Symbol("radix.slottable");function Fde(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Lde}function Vde(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...c)=>{const u=a(...c);return i(...c),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function Ude(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var t0="Dialog",[C3]=Oa(t0),[$de,Ui]=C3(t0),A3=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:o=!0}=t,c=y.useRef(null),u=y.useRef(null),[h,f]=Nl({prop:r,defaultProp:i??!1,onChange:a,caller:t0});return s.jsx($de,{scope:e,triggerRef:c,contentRef:u,contentId:ba(),titleId:ba(),descriptionId:ba(),open:h,onOpenChange:f,onOpenToggle:y.useCallback(()=>f(m=>!m),[f]),modal:o,children:n})};A3.displayName=t0;var T3="DialogTrigger",Bde=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ui(T3,n),a=rn(e,i.triggerRef);return s.jsx(At.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Y1(i.open),...r,ref:a,onClick:nt(t.onClick,i.onOpenToggle)})});Bde.displayName=T3;var Q1="DialogPortal",[zde,R3]=C3(Q1,{forceMount:void 0}),I3=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,a=Ui(Q1,e);return s.jsx(zde,{scope:e,forceMount:n,children:y.Children.map(r,o=>s.jsx(Da,{present:n||a.open,children:s.jsx(ky,{asChild:!0,container:i,children:o})}))})};I3.displayName=Q1;var ey="DialogOverlay",P3=y.forwardRef((t,e)=>{const n=R3(ey,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,a=Ui(ey,t.__scopeDialog);return a.modal?s.jsx(Da,{present:r||a.open,children:s.jsx(Hde,{...i,ref:e})}):null});P3.displayName=ey;var qde=Mde("DialogOverlay.RemoveScroll"),Hde=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ui(ey,n);return s.jsx(Ry,{as:qde,allowPinchZoom:!0,shards:[i.contentRef],children:s.jsx(At.div,{"data-state":Y1(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),eu="DialogContent",O3=y.forwardRef((t,e)=>{const n=R3(eu,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,a=Ui(eu,t.__scopeDialog);return s.jsx(Da,{present:r||a.open,children:a.modal?s.jsx(Wde,{...i,ref:e}):s.jsx(Kde,{...i,ref:e})})});O3.displayName=eu;var Wde=y.forwardRef((t,e)=>{const n=Ui(eu,t.__scopeDialog),r=y.useRef(null),i=rn(e,n.contentRef,r);return y.useEffect(()=>{const a=r.current;if(a)return UN(a)},[]),s.jsx(M3,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:nt(t.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:nt(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0;(o.button===2||c)&&a.preventDefault()}),onFocusOutside:nt(t.onFocusOutside,a=>a.preventDefault())})}),Kde=y.forwardRef((t,e)=>{const n=Ui(eu,t.__scopeDialog),r=y.useRef(!1),i=y.useRef(!1);return s.jsx(M3,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,c;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(r.current||(c=n.triggerRef.current)==null||c.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var u,h;(u=t.onInteractOutside)==null||u.call(t,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((h=n.triggerRef.current)==null?void 0:h.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),M3=y.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=t,c=Ui(eu,n),u=y.useRef(null),h=rn(e,u);return TN(),s.jsxs(s.Fragment,{children:[s.jsx(wy,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:s.jsx(by,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":Y1(c.open),...o,ref:h,onDismiss:()=>c.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(Gde,{titleId:c.titleId}),s.jsx(Jde,{contentRef:u,descriptionId:c.descriptionId})]})]})}),J1="DialogTitle",D3=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ui(J1,n);return s.jsx(At.h2,{id:i.titleId,...r,ref:e})});D3.displayName=J1;var L3="DialogDescription",F3=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ui(L3,n);return s.jsx(At.p,{id:i.descriptionId,...r,ref:e})});F3.displayName=L3;var V3="DialogClose",U3=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ui(V3,n);return s.jsx(At.button,{type:"button",...r,ref:e,onClick:nt(t.onClick,()=>i.onOpenChange(!1))})});U3.displayName=V3;function Y1(t){return t?"open":"closed"}var $3="DialogTitleWarning",[oge,B3]=sW($3,{contentName:eu,titleName:J1,docsSlug:"dialog"}),Gde=({titleId:t})=>{const e=B3($3),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return y.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Qde="DialogDescriptionWarning",Jde=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${B3(Qde).contentName}}.`;return y.useEffect(()=>{var a;const i=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},Yde=A3,Xde=I3,z3=P3,q3=O3,H3=D3,W3=F3,Zde=U3;const ym=Yde,ehe=Xde,K3=y.forwardRef(({className:t,...e},n)=>s.jsx(z3,{ref:n,className:mt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));K3.displayName=z3.displayName;const Yd=y.forwardRef(({className:t,children:e,...n},r)=>s.jsxs(ehe,{children:[s.jsx(K3,{}),s.jsxs(q3,{ref:r,className:mt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,s.jsxs(Zde,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(Br,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Yd.displayName=q3.displayName;const Xd=({className:t,...e})=>s.jsx("div",{className:mt("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Xd.displayName="DialogHeader";const Zd=y.forwardRef(({className:t,...e},n)=>s.jsx(H3,{ref:n,className:mt("text-lg font-semibold leading-none tracking-tight",t),...e}));Zd.displayName=H3.displayName;const the=y.forwardRef(({className:t,...e},n)=>s.jsx(W3,{ref:n,className:mt("text-sm text-muted-foreground",t),...e}));the.displayName=W3.displayName;function G3(){const[t,e]=y.useState(!1),[n,r]=y.useState(null),[i,a]=y.useState(!1),[o,c]=y.useState({title:"",mp3_url:"",cover_image:"",description:"",transcript:"",moral_lesson:"",duration:"",age_group:"all",category:"story",subcategory:"",language:"English",allow_download:!1,featured:!1}),u=xi(),{data:h=[],isLoading:f}=Bn({queryKey:["admin-audio"],queryFn:()=>base44.entities.AudioContent.list("-created_date"),initialData:[]}),m=An({mutationFn:S=>base44.entities.AudioContent.create(S),onSuccess:()=>{u.invalidateQueries({queryKey:["admin-audio"]}),e(!1),_()}}),g=An({mutationFn:({id:S,data:k})=>base44.entities.AudioContent.update(S,k),onSuccess:()=>{u.invalidateQueries({queryKey:["admin-audio"]}),e(!1),_()}}),x=An({mutationFn:S=>base44.entities.AudioContent.delete(S),onSuccess:()=>{u.invalidateQueries({queryKey:["admin-audio"]})}}),_=()=>{c({title:"",mp3_url:"",cover_image:"",description:"",transcript:"",moral_lesson:"",duration:"",age_group:"all",category:"story",subcategory:"",language:"English",allow_download:!1,featured:!1}),r(null)},w=S=>{r(S),c({title:S.title||"",mp3_url:S.mp3_url||"",cover_image:S.cover_image||"",description:S.description||"",transcript:S.transcript||"",moral_lesson:S.moral_lesson||"",duration:S.duration||"",age_group:S.age_group||"all",category:S.category||"story",subcategory:S.subcategory||"",language:S.language||"English",allow_download:S.allow_download||!1,featured:S.featured||!1}),e(!0)},j=S=>{S.preventDefault(),n?g.mutate({id:n.id,data:o}):m.mutate(o)},N=async(S,k)=>{const C=S.target.files[0];if(C){a(!0);try{const{file_url:R}=await base44.integrations.Core.UploadFile({file:C});c({...o,[k]:R})}catch(R){console.error("Error uploading file:",R),alert("Failed to upload file")}finally{a(!1)}}};return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"Audio Content Management"}),s.jsxs(W,{onClick:()=>{_(),e(!0)},className:"bg-green-600 hover:bg-green-700",children:[s.jsx(Ws,{className:"w-4 h-4 mr-2"}),"Add New Audio"]})]}),f?s.jsx("p",{className:"text-center py-12 text-gray-500",children:"Loading audio content..."}):s.jsx("div",{className:"grid gap-6",children:h.map((S,k)=>s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:k*.05},children:s.jsxs(re,{children:[s.jsx(Oe,{children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex gap-4 flex-1",children:[S.cover_image&&s.jsx("img",{src:S.cover_image,alt:S.title,className:"w-20 h-20 rounded object-cover"}),s.jsxs("div",{className:"flex-1",children:[s.jsx(Me,{className:"text-xl mb-2",children:S.title}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:S.category}),s.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:S.age_group}),S.duration&&s.jsx("span",{className:"text-xs bg-gray-100 text-gray-800 px-2 py-1 rounded",children:S.duration}),S.featured&&s.jsx("span",{className:"text-xs bg-amber-100 text-amber-800 px-2 py-1 rounded",children:" Featured"})]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[S.mp3_url&&s.jsx(W,{variant:"outline",size:"sm",onClick:()=>window.open(S.mp3_url,"_blank"),children:s.jsx(er,{className:"w-4 h-4"})}),s.jsx(W,{variant:"outline",size:"sm",onClick:()=>w(S),children:s.jsx(Lz,{className:"w-4 h-4"})}),s.jsx(W,{variant:"outline",size:"sm",onClick:()=>{confirm("Are you sure you want to delete this audio?")&&x.mutate(S.id)},className:"text-red-600 hover:text-red-700",children:s.jsx(xr,{className:"w-4 h-4"})})]})]})}),S.description&&s.jsx(ie,{children:s.jsx("p",{className:"text-gray-600 text-sm line-clamp-2",children:S.description})})]})},S.id))}),s.jsx(ym,{open:t,onOpenChange:e,children:s.jsxs(Yd,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Xd,{children:s.jsx(Zd,{children:n?"Edit Audio":"Add New Audio"})}),s.jsxs("form",{onSubmit:j,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{htmlFor:"title",children:"Title *"}),s.jsx(ke,{id:"title",value:o.title,onChange:S=>c({...o,title:S.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"duration",children:"Duration (MM:SS)"}),s.jsx(ke,{id:"duration",value:o.duration,onChange:S=>c({...o,duration:S.target.value}),placeholder:"05:30"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{htmlFor:"category",children:"Category *"}),s.jsxs(Xt,{value:o.category,onValueChange:S=>c({...o,category:S}),children:[s.jsx(Qt,{children:s.jsx(Zt,{})}),s.jsxs(Jt,{children:[s.jsx(Le,{value:"story",children:"Story"}),s.jsx(Le,{value:"hadith",children:"Hadith"}),s.jsx(Le,{value:"history",children:"History"}),s.jsx(Le,{value:"nasheed",children:"Nasheed"}),s.jsx(Le,{value:"tajweed",children:"Tajweed"}),s.jsx(Le,{value:"fiqh",children:"Fiqh"}),s.jsx(Le,{value:"quran",children:"Quran"})]})]})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"age_group",children:"Age Group"}),s.jsxs(Xt,{value:o.age_group,onValueChange:S=>c({...o,age_group:S}),children:[s.jsx(Qt,{children:s.jsx(Zt,{})}),s.jsxs(Jt,{children:[s.jsx(Le,{value:"3-6",children:"3-6 years"}),s.jsx(Le,{value:"7-10",children:"7-10 years"}),s.jsx(Le,{value:"11+",children:"11+ years"}),s.jsx(Le,{value:"all",children:"All Ages"})]})]})]})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"description",children:"Description"}),s.jsx(Dn,{id:"description",value:o.description,onChange:S=>c({...o,description:S.target.value}),rows:3})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"mp3",children:"Audio File (MP3) *"}),s.jsxs("div",{className:"flex gap-2 items-end",children:[s.jsx("div",{className:"flex-1",children:s.jsx(ke,{id:"mp3",value:o.mp3_url,onChange:S=>c({...o,mp3_url:S.target.value}),placeholder:"MP3 URL or upload below",required:!0})}),s.jsxs(W,{type:"button",variant:"outline",onClick:()=>document.getElementById("mp3-upload").click(),disabled:i,children:[s.jsx(Ea,{className:"w-4 h-4 mr-2"}),i?"Uploading...":"Upload"]}),s.jsx("input",{id:"mp3-upload",type:"file",accept:"audio/*",className:"hidden",onChange:S=>N(S,"mp3_url")})]})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"cover",children:"Cover Image"}),s.jsxs("div",{className:"flex gap-2 items-end",children:[s.jsx("div",{className:"flex-1",children:s.jsx(ke,{id:"cover",value:o.cover_image,onChange:S=>c({...o,cover_image:S.target.value}),placeholder:"Image URL or upload below"})}),s.jsxs(W,{type:"button",variant:"outline",onClick:()=>document.getElementById("cover-upload").click(),disabled:i,children:[s.jsx(Ea,{className:"w-4 h-4 mr-2"}),i?"Uploading...":"Upload"]}),s.jsx("input",{id:"cover-upload",type:"file",accept:"image/*",className:"hidden",onChange:S=>N(S,"cover_image")})]})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"transcript",children:"Transcript"}),s.jsx(Dn,{id:"transcript",value:o.transcript,onChange:S=>c({...o,transcript:S.target.value}),rows:6,placeholder:"Full text transcript of the audio..."})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"moral",children:"Moral Lesson"}),s.jsx(Dn,{id:"moral",value:o.moral_lesson,onChange:S=>c({...o,moral_lesson:S.target.value}),rows:2})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"featured",checked:o.featured,onChange:S=>c({...o,featured:S.target.checked}),className:"w-4 h-4"}),s.jsx(be,{htmlFor:"featured",className:"cursor-pointer",children:"Featured Content"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"allow_download",checked:o.allow_download,onChange:S=>c({...o,allow_download:S.target.checked}),className:"w-4 h-4"}),s.jsx(be,{htmlFor:"allow_download",className:"cursor-pointer",children:"Allow Downloads"})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx(W,{type:"button",variant:"outline",onClick:()=>e(!1),className:"flex-1",children:"Cancel"}),s.jsx(W,{type:"submit",disabled:m.isPending||g.isPending,className:"flex-1 bg-green-600 hover:bg-green-700",children:n?"Update Audio":"Create Audio"})]})]})]})})]})})}function Q3(){const[t,e]=y.useState(null),[n,r]=y.useState(!1),[i,a]=y.useState([]),[o,c]=y.useState(null),[u,h]=y.useState(""),[f,m]=y.useState(!1),[g,x]=y.useState([]);nr(),y.useEffect(()=>{_()},[]);const _=()=>{const P=localStorage.getItem("uploaded_media_files");P&&a(JSON.parse(P))},w=P=>{localStorage.setItem("uploaded_media_files",JSON.stringify(P)),a(P)},j=y.useCallback(P=>{P.preventDefault(),P.stopPropagation(),P.type==="dragenter"||P.type==="dragover"?m(!0):P.type==="dragleave"&&m(!1)},[]),N=y.useCallback(P=>{P.preventDefault(),P.stopPropagation(),m(!1),P.dataTransfer.files&&P.dataTransfer.files[0]&&k(P.dataTransfer.files)},[]),S=P=>{P.target.files&&P.target.files[0]&&k(P.target.files)},k=async P=>{r(!0);const F=[];for(let D=0;D<P.length;D++){const V=P[D];try{const G=await bt.integrations.Core.UploadFile({file:V});F.push({id:Date.now()+D,name:V.name,url:G.file_url,type:V.type,size:V.size,uploadedAt:new Date().toISOString()})}catch(G){console.error("Upload failed:",G),alert(`Failed to upload ${V.name}`)}}const L=[...F,...i];w(L),r(!1)},C=P=>{navigator.clipboard.writeText(P),c(P),setTimeout(()=>c(null),2e3)},R=P=>{if(window.confirm("Delete this file? This won't delete it from storage but removes it from this list.")){const F=i.filter(L=>L.id!==P);w(F)}},O=P=>{g.includes(P)?x(g.filter(F=>F!==P)):x([...g,P])},A=()=>{if(window.confirm(`Delete ${g.length} selected files?`)){const P=i.filter(F=>!g.includes(F.id));w(P),x([])}},M=i.filter(P=>P.name.toLowerCase().includes(u.toLowerCase()));return s.jsx("div",{className:"min-h-screen py-8 px-4 bg-gradient-to-br from-slate-50 to-blue-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Mt,{to:at("AdminDashboard"),children:s.jsxs(W,{variant:"outline",children:[s.jsx(Pl,{className:"w-4 h-4 mr-2"}),"Back"]})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Media Library"}),s.jsx("p",{className:"text-gray-600",children:"Upload and manage images & files"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Mt,{to:at("Assistant"),children:s.jsxs(W,{variant:"outline",children:[s.jsx(Na,{className:"w-4 h-4 mr-2"}),"Open AI Agent"]})}),g.length>0&&s.jsxs(W,{onClick:A,variant:"destructive",children:[s.jsx(xr,{className:"w-4 h-4 mr-2"}),"Delete ",g.length," Selected"]})]})]}),s.jsxs(re,{className:"mb-8",children:[s.jsx(Oe,{children:s.jsxs(Me,{className:"flex items-center gap-2",children:[s.jsx(Ea,{className:"w-6 h-6"}),"Upload Files"]})}),s.jsx(ie,{children:s.jsx("div",{className:`border-4 border-dashed rounded-xl p-12 text-center transition-all ${f?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:j,onDragLeave:j,onDragOver:j,onDrop:N,children:n?s.jsxs("div",{children:[s.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Uploading..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(ho,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Drag & Drop Files Here"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"or click to browse (supports multiple files)"}),s.jsx("input",{type:"file",multiple:!0,onChange:S,className:"hidden",id:"file-input",accept:"image/*,audio/*,video/*"}),s.jsx("label",{htmlFor:"file-input",children:s.jsx(W,{type:"button",className:"cursor-pointer",asChild:!0,children:s.jsxs("span",{children:[s.jsx(Ea,{className:"w-4 h-4 mr-2"}),"Choose Files"]})})}),s.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Supported: Images, Audio, Video files"})]})})})]}),s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Pi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx(ke,{type:"text",placeholder:"Search files...",value:u,onChange:P=>h(P.target.value),className:"pl-10"})]}),s.jsxs("div",{className:"text-sm text-gray-600",children:[M.length," files"]})]})}),M.length===0?s.jsxs(re,{className:"p-12 text-center",children:[s.jsx(ho,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-gray-600",children:i.length===0?"No files uploaded yet. Upload your first file above!":"No files match your search."})]}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:s.jsx(Ss,{children:M.map(P=>{var F,L,D;return s.jsx(te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},children:s.jsx(re,{className:`hover:shadow-lg transition-all cursor-pointer ${g.includes(P.id)?"ring-2 ring-blue-500":""}`,children:s.jsxs(ie,{className:"p-0",children:[s.jsxs("div",{className:"relative h-48 bg-gray-100 rounded-t-lg overflow-hidden",onClick:()=>O(P.id),children:[(F=P.type)!=null&&F.startsWith("image/")?s.jsx("img",{src:P.url,alt:P.name,className:"w-full h-full object-cover"}):(L=P.type)!=null&&L.startsWith("audio/")?s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx("div",{className:"text-6xl",children:""})}):(D=P.type)!=null&&D.startsWith("video/")?s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx("div",{className:"text-6xl",children:""})}):s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx("div",{className:"text-6xl",children:""})}),g.includes(P.id)&&s.jsx("div",{className:"absolute top-2 right-2 bg-blue-500 text-white rounded-full p-1",children:s.jsx(Zf,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("p",{className:"font-semibold text-sm mb-2 truncate",title:P.name,children:P.name}),s.jsxs("p",{className:"text-xs text-gray-500 mb-3",children:[(P.size/1024).toFixed(1)," KB  ",new Date(P.uploadedAt).toLocaleDateString()]}),s.jsx("div",{className:"flex items-center gap-2 mb-3",children:s.jsx(ke,{value:P.url,readOnly:!0,className:"text-xs flex-1",onClick:V=>V.target.select()})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(W,{size:"sm",className:"flex-1",onClick:()=>C(P.url),children:o===P.url?s.jsxs(s.Fragment,{children:[s.jsx(Zf,{className:"w-3 h-3 mr-1"}),"Copied!"]}):s.jsxs(s.Fragment,{children:[s.jsx($B,{className:"w-3 h-3 mr-1"}),"Copy URL"]})}),s.jsx(W,{size:"sm",variant:"outline",onClick:()=>R(P.id),className:"text-red-600 hover:bg-red-50",children:s.jsx(xr,{className:"w-3 h-3"})})]})]})]})})},P.id)})})}),s.jsx(re,{className:"mt-8 bg-blue-50 border-blue-200",children:s.jsxs(ie,{className:"p-6",children:[s.jsx("h3",{className:"font-bold text-lg mb-3",children:" How to Use Uploaded Files"}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[s.jsxs("p",{children:["1. ",s.jsx("strong",{children:"Copy the URL"})," from any file above"]}),s.jsxs("p",{children:["2. ",s.jsx("strong",{children:"Paste it"})," into Story Image URL, Audio URL, or Video fields"]}),s.jsx("p",{children:"3. The file will be displayed in your content"}),s.jsxs("p",{children:["4. ",s.jsx("strong",{children:"Tip:"})," Upload images for stories, audio for lessons, videos for tutorials"]})]})]})})]})})}function J3(){const t=[{icon:fy,title:"Information We Collect",color:"from-blue-500 to-cyan-500",content:[{subtitle:"Personal Information",text:"When you create an account, we collect basic information such as your child's name, age, city, and email address. We only collect the minimum information necessary to provide our services."},{subtitle:"Usage Data",text:"We collect information about how you use our website, including pages visited, games played, and learning progress. This helps us improve our services and provide a better experience."},{subtitle:"Recordings and Submissions",text:"If your child submits audio recordings, drawings, or writings through our platform, we store this content along with the associated user information."}]},{icon:WI,title:"How We Use Your Information",color:"from-green-500 to-emerald-500",content:[{subtitle:"Service Delivery",text:"We use your information to provide access to educational content, games, and learning materials on our platform."},{subtitle:"Progress Tracking",text:"We track learning progress, points, and achievements to motivate children and provide personalized learning experiences."},{subtitle:"Communication",text:"We may send important updates about the platform, new features, or educational content. We will never send spam or share your email with third parties."},{subtitle:"Improvement",text:"We analyze usage patterns to improve our content and make the learning experience better for all children."}]},{icon:qk,title:"Children's Privacy",color:"from-purple-500 to-pink-500",content:[{subtitle:"Age Requirements",text:"Our service is designed for children aged 3-18. We take children's privacy very seriously and comply with applicable children's privacy laws."},{subtitle:"Parental Consent",text:"We encourage parents to be involved in their children's online activities. Parents can request to review, update, or delete their child's information at any time."},{subtitle:"Safe Environment",text:"We maintain a safe, ad-free environment. We never show advertisements or share children's information with third-party advertisers."},{subtitle:"No Public Profiles",text:"Children's profiles and personal information are not publicly visible. Only usernames and points appear on leaderboards."}]},{icon:ru,title:"Data Protection & Security",color:"from-amber-500 to-orange-500",content:[{subtitle:"Secure Storage",text:"We use industry-standard security measures to protect your information. All data is stored securely using encryption."},{subtitle:"Access Control",text:"Access to personal information is restricted to authorized personnel only, and only when necessary for service delivery."},{subtitle:"No Data Selling",text:"We will never sell, rent, or trade your personal information or your child's information to third parties."}]},{icon:$_,title:"Third-Party Services",color:"from-red-500 to-rose-500",content:[{subtitle:"External Links",text:"Our website may contain links to external websites (e.g., SearchTruth.com for Hadith search). We are not responsible for the privacy practices of these external sites."},{subtitle:"Analytics",text:"We may use basic analytics to understand how our service is used, but we do not share personal information with analytics providers."},{subtitle:"Content Delivery",text:"We use secure content delivery networks (CDNs) to serve Quran audio and other educational content."}]},{icon:qk,title:"Your Rights",color:"from-indigo-500 to-purple-500",content:[{subtitle:"Access Your Data",text:"You have the right to access all personal information we hold about you or your child."},{subtitle:"Update Information",text:"You can update your profile information at any time through your account settings."},{subtitle:"Delete Account",text:"You can request deletion of your account and all associated data at any time by contacting us."},{subtitle:"Data Portability",text:"You can request a copy of your data in a portable format."}]}];return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-5xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Privacy Policy"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Your privacy and your child's safety are our top priorities"}),s.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Last Updated: January 2025"})]}),s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-12",children:s.jsx(re,{className:"border-2 border-blue-300 shadow-xl bg-gradient-to-br from-blue-50 to-purple-50",children:s.jsxs(ie,{className:"p-8",children:[s.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"Welcome to Islam Kids Zone. We are committed to protecting your privacy and ensuring a safe online environment for children. This Privacy Policy explains how we collect, use, and protect your information."}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:"By using our website, you agree to the collection and use of information in accordance with this policy. If you do not agree with our policies, please do not use our service."})]})})}),s.jsx("div",{className:"space-y-8 mb-12",children:t.map((e,n)=>{const r=e.icon;return s.jsx(te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:n*.1},children:s.jsxs(re,{className:"border-2 border-gray-200 shadow-lg hover:shadow-xl transition-all",children:[s.jsx(Oe,{children:s.jsxs(Me,{className:"flex items-center gap-3 text-2xl",children:[s.jsx("div",{className:`w-12 h-12 rounded-xl bg-gradient-to-br ${e.color} flex items-center justify-center`,children:s.jsx(r,{className:"w-6 h-6 text-white"})}),e.title]})}),s.jsx(ie,{className:"space-y-6",children:e.content.map((i,a)=>s.jsxs("div",{className:"bg-gray-50 p-5 rounded-lg border-l-4 border-blue-400",children:[s.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:i.subtitle}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:i.text})]},a))})]})},e.title)})}),s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"mb-12",children:s.jsxs(re,{className:"border-2 border-amber-300 shadow-xl",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white",children:s.jsx(Me,{className:"text-2xl",children:" Cookies & Tracking"})}),s.jsxs(ie,{className:"p-6 space-y-4",children:[s.jsxs("p",{className:"text-gray-700",children:[s.jsx("strong",{children:"What are cookies?"})," Cookies are small text files stored on your device that help us remember your preferences and provide a better experience."]}),s.jsxs("div",{className:"bg-amber-50 p-4 rounded-lg",children:[s.jsxs("p",{className:"text-gray-700 mb-2",children:[s.jsx("strong",{children:"Essential Cookies:"})," Required for the website to function properly (e.g., login sessions)."]}),s.jsxs("p",{className:"text-gray-700",children:[s.jsx("strong",{children:"Analytics Cookies:"})," Help us understand how visitors use our site to improve it."]})]}),s.jsx("p",{className:"text-gray-700",children:"You can disable cookies in your browser settings, but this may affect your ability to use certain features of our website."})]})]})}),s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"mb-12",children:s.jsxs(re,{className:"border-2 border-green-300 shadow-xl",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white",children:s.jsx(Me,{className:"text-2xl",children:" Data Retention"})}),s.jsxs(ie,{className:"p-6",children:[s.jsx("p",{className:"text-gray-700 mb-4",children:"We retain your personal information only for as long as necessary to provide our services and comply with legal obligations."}),s.jsxs("ul",{className:"space-y-2 text-gray-700",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-green-600 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Active Accounts:"})," Data is retained while your account is active."]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-green-600 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Inactive Accounts:"})," Accounts inactive for 2 years may be deleted after notification."]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-green-600 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Deleted Accounts:"})," Upon request, we delete all personal data within 30 days."]})]})]})]})]})}),s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"mb-12",children:s.jsxs(re,{className:"border-2 border-purple-300 shadow-xl",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white",children:s.jsx(Me,{className:"text-2xl",children:" Changes to This Policy"})}),s.jsxs(ie,{className:"p-6",children:[s.jsx("p",{className:"text-gray-700 mb-4",children:'We may update our Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page and updating the "Last Updated" date.'}),s.jsx("p",{className:"text-gray-700",children:"We encourage you to review this Privacy Policy periodically for any changes. Changes to this Privacy Policy are effective when they are posted on this page."})]})]})}),s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},children:s.jsxs(re,{className:"border-2 border-blue-300 shadow-2xl bg-gradient-to-br from-blue-50 to-cyan-50",children:[s.jsx(Oe,{children:s.jsxs(Me,{className:"text-2xl flex items-center gap-2",children:[s.jsx(my,{className:"w-6 h-6 text-blue-600"}),"Contact Us"]})}),s.jsxs(ie,{className:"p-6",children:[s.jsx("p",{className:"text-gray-700 mb-4",children:"If you have any questions about this Privacy Policy, or if you want to exercise your rights regarding your personal information, please contact us:"}),s.jsx("div",{className:"bg-white p-6 rounded-xl border-2 border-blue-200",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("p",{className:"text-gray-700",children:[s.jsx("strong",{children:"Email:"})," ",s.jsx("a",{href:"mailto:huzaify786@gmail.com",className:"text-blue-600 hover:text-blue-700 underline",children:"huzaify786@gmail.com"})]}),s.jsxs("p",{className:"text-gray-700",children:[s.jsx("strong",{children:"WhatsApp:"})," ",s.jsx("a",{href:"https://wa.me/447447999284",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-700 underline",children:"+44 744 799 9284"})]}),s.jsxs("p",{className:"text-gray-700",children:[s.jsx("strong",{children:"Contact Page:"})," ",s.jsx(Mt,{to:at("ContactUs"),className:"text-blue-600 hover:text-blue-700 underline",children:"Visit our Contact Page"})]})]})}),s.jsx("p",{className:"text-sm text-gray-600 mt-4",children:"We aim to respond to all privacy-related inquiries within 48 hours."})]})]})}),s.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"mt-12 text-center",children:s.jsx("p",{className:"text-gray-600 text-sm",children:"Islam Kids Zone is committed to creating a safe, educational, and enjoyable online experience for Muslim children worldwide. "})})]})})}const xw=[{id:"islamic_quiz",name:"Islamic Quiz",icon:""},{id:"word_search",name:"Word Search",icon:""},{id:"memory_match",name:"Memory Match",icon:""},{id:"seerah",name:"Seerah Quiz",icon:""},{id:"quran",name:"Quran Quiz",icon:""},{id:"hadith",name:"Hadith Match",icon:""}];function Y3(){const t=nr(),e=xi(),[n,r]=y.useState(null),[i,a]=y.useState(!1),[o,c]=y.useState(xw[0].id),[u,h]=y.useState(""),[f,m]=y.useState("all");y.useEffect(()=>{g()},[]);const g=async()=>{try{if(await base44.auth.isAuthenticated()){const F=await base44.auth.me();r(F)}else t(at("Games"))}catch(P){console.error("Error loading user:",P),t(at("Games"))}},{data:x=[]}=Bn({queryKey:["all-users"],queryFn:async()=>(await base44.entities.User.list("-points",100)).filter(F=>F.id!==(n==null?void 0:n.id)&&F.email),enabled:!!n,initialData:[]}),{data:_=[],isLoading:w}=Bn({queryKey:["challenges",n==null?void 0:n.id],queryFn:async()=>{if(!n)return[];const P=await base44.entities.Challenge.filter({challenger_id:n.id},"-created_date",100),F=await base44.entities.Challenge.filter({opponent_id:n.id},"-created_date",100);return[...P,...F]},enabled:!!n,initialData:[]}),j=An({mutationFn:async P=>await base44.entities.Challenge.create(P),onSuccess:()=>{e.invalidateQueries({queryKey:["challenges"]}),a(!1),h("")}}),N=An({mutationFn:async P=>await base44.entities.Challenge.update(P,{status:"accepted"}),onSuccess:()=>{e.invalidateQueries({queryKey:["challenges"]})}}),S=An({mutationFn:async P=>await base44.entities.Challenge.update(P,{status:"declined"}),onSuccess:()=>{e.invalidateQueries({queryKey:["challenges"]})}}),k=async()=>{if(!u||!n)return;const P=x.find(L=>L.email===u);if(!P){alert("User not found. Please check the email address.");return}const F=new Date;F.setDate(F.getDate()+7),await j.mutateAsync({challenger_id:n.id,challenger_name:n.full_name||n.email,opponent_id:P.id,opponent_name:P.full_name||P.email,game_type:o,status:"pending",expires_at:F.toISOString()}),alert(`Challenge sent to ${P.full_name||P.email}!`)},C=async P=>{await N.mutateAsync(P.id),t(at("Games")+`?challenge=${P.id}`)},R=P=>{t(at("Games")+`?challenge=${P.id}`)},O=_.filter(P=>f==="all"?!0:f==="sent"?P.challenger_id===(n==null?void 0:n.id):f==="received"?P.opponent_id===(n==null?void 0:n.id)&&P.status==="pending":f==="completed"?P.status==="completed":!0),A=P=>{const F=P.challenger_id===(n==null?void 0:n.id);switch(P.status){case"pending":return s.jsx(we,{className:"bg-yellow-500",children:F?"Waiting":"New!"});case"accepted":return s.jsx(we,{className:"bg-blue-500",children:"In Progress"});case"completed":return s.jsx(we,{className:"bg-green-500",children:"Completed"});case"declined":return s.jsx(we,{className:"bg-red-500",children:"Declined"});default:return null}},M=P=>{if(P.status!=="completed"||!P.winner_id)return null;const F=P.winner_id===(n==null?void 0:n.id);return P.challenger_score===P.opponent_score?s.jsx(we,{className:"bg-gray-500",children:"Draw"}):F?s.jsxs(we,{className:"bg-green-500 flex items-center gap-1",children:[s.jsx(ns,{className:"w-3 h-3"})," You Won!"]}):s.jsx(we,{className:"bg-red-500",children:"You Lost"})};return n?s.jsx("div",{className:"min-h-screen py-8 px-4 bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx("div",{className:"flex items-center justify-between mb-8",children:s.jsxs(W,{variant:"ghost",onClick:()=>t(at("Games")),className:"text-gray-600",children:[s.jsx(Pl,{className:"w-4 h-4 mr-2"}),"Back to Games"]})}),s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Challenge Arena"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Challenge friends and compete for glory!"})]}),s.jsx("div",{className:"mb-8",children:s.jsxs(W,{onClick:()=>a(!i),size:"lg",className:"w-full md:w-auto bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:[s.jsx(o9,{className:"w-5 h-5 mr-2"}),"Send New Challenge"]})}),s.jsx(Ss,{children:i&&s.jsx(te.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mb-8",children:s.jsxs(re,{className:"border-2 border-purple-300 shadow-xl",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white",children:s.jsx(Me,{children:"Create New Challenge"})}),s.jsx(ie,{className:"p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Select Game Type"}),s.jsxs(Xt,{value:o,onValueChange:c,children:[s.jsx(Qt,{children:s.jsx(Zt,{})}),s.jsx(Jt,{children:xw.map(P=>s.jsxs(Le,{value:P.id,children:[P.icon," ",P.name]},P.id))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Opponent's Email"}),s.jsx(ke,{type:"email",value:u,onChange:P=>h(P.target.value),placeholder:"friend@example.com",list:"users-list"}),s.jsx("datalist",{id:"users-list",children:x.map(P=>s.jsx("option",{value:P.email,children:P.full_name||P.email},P.id))})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(W,{onClick:k,disabled:!u||j.isPending,className:"flex-1 bg-gradient-to-r from-green-500 to-teal-500",children:[s.jsx(_x,{className:"w-4 h-4 mr-2"}),j.isPending?"Sending...":"Send Challenge"]}),s.jsx(W,{onClick:()=>a(!1),variant:"outline",className:"flex-1",children:"Cancel"})]})]})})]})})}),s.jsx("div",{className:"flex gap-2 mb-6 overflow-x-auto",children:[{id:"all",label:"All Challenges",icon:Ol},{id:"received",label:"New Challenges",icon:ul},{id:"sent",label:"Sent",icon:_x},{id:"completed",label:"Completed",icon:ns}].map(P=>{const F=P.icon;return s.jsxs(W,{onClick:()=>m(P.id),variant:f===P.id?"default":"outline",className:f===P.id?"bg-purple-500":"",children:[s.jsx(F,{className:"w-4 h-4 mr-2"}),P.label]},P.id)})}),w?s.jsx("div",{className:"text-center py-12",children:"Loading challenges..."}):O.length===0?s.jsx(re,{className:"border-2 border-gray-200",children:s.jsxs(ie,{className:"p-12 text-center",children:[s.jsx(wl,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-gray-600",children:"No challenges yet. Send one to get started!"})]})}):s.jsx("div",{className:"grid gap-4",children:O.map((P,F)=>{const L=P.challenger_id===n.id,D=L?P.opponent_name:P.challenger_name,V=xw.find(ee=>ee.id===P.game_type),G=new Date(P.expires_at)<new Date;return s.jsx(te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:F*.1},children:s.jsx(re,{className:"border-2 hover:shadow-xl transition-all",children:s.jsx(ie,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"text-3xl",children:V==null?void 0:V.icon}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg text-gray-900",children:V==null?void 0:V.name}),s.jsxs("p",{className:"text-sm text-gray-600",children:[L?"vs":"from"," ",D]})]})]}),P.status==="completed"&&s.jsxs("div",{className:"flex gap-4 mt-3 text-sm",children:[s.jsxs("div",{className:"bg-blue-50 px-3 py-2 rounded-lg",children:[s.jsx("span",{className:"text-gray-600",children:"Your score: "}),s.jsx("span",{className:"font-bold text-blue-600",children:L?P.challenger_score:P.opponent_score})]}),s.jsxs("div",{className:"bg-purple-50 px-3 py-2 rounded-lg",children:[s.jsx("span",{className:"text-gray-600",children:"Their score: "}),s.jsx("span",{className:"font-bold text-purple-600",children:L?P.opponent_score:P.challenger_score})]})]}),G&&P.status==="pending"&&s.jsx(we,{className:"bg-gray-500 mt-2",children:"Expired"})]}),s.jsxs("div",{className:"flex flex-col items-end gap-2",children:[A(P),M(P),P.status==="pending"&&!L&&!G&&s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsxs(W,{onClick:()=>C(P),size:"sm",className:"bg-green-500 hover:bg-green-600",children:[s.jsx(lh,{className:"w-4 h-4 mr-1"}),"Accept"]}),s.jsxs(W,{onClick:()=>S.mutate(P.id),size:"sm",variant:"outline",className:"text-red-500 border-red-500",children:[s.jsx(hy,{className:"w-4 h-4 mr-1"}),"Decline"]})]}),P.status==="accepted"&&s.jsxs(W,{onClick:()=>R(P),size:"sm",className:"bg-blue-500 hover:bg-blue-600 mt-2",children:[s.jsx(wl,{className:"w-4 h-4 mr-1"}),"Play Now"]})]})]})})})},P.id)})})]})}):s.jsx("div",{className:"text-center py-12",children:"Loading..."})}function X3(){const t=xi(),[e,n]=y.useState(!1),[r,i]=y.useState(null),[a,o]=y.useState(""),[c,u]=y.useState("all"),[h,f]=y.useState("all"),[m,g]=y.useState({category:"Quran",difficulty:"easy",question:"",options:["","","",""],correct_answer_index:0,explanation:"",source:"",age_group:"all",is_active:!0}),x=["Quran","Hadith","Seerah","Fiqh","Prophets","Sahabah","Akhlaq","History","Arabic","Beliefs"],_=["easy","medium","hard"],w=["5-8","9-12","13+","all"],{data:j=[],isLoading:N}=Bn({queryKey:["quiz-questions"],queryFn:()=>base44.entities.QuizQuestion.list("-date_added",500),initialData:[]}),S=An({mutationFn:D=>base44.entities.QuizQuestion.create(D),onSuccess:()=>{t.invalidateQueries({queryKey:["quiz-questions"]}),M()}}),k=An({mutationFn:({id:D,data:V})=>base44.entities.QuizQuestion.update(D,V),onSuccess:()=>{t.invalidateQueries({queryKey:["quiz-questions"]}),M()}}),C=An({mutationFn:D=>base44.entities.QuizQuestion.delete(D),onSuccess:()=>{t.invalidateQueries({queryKey:["quiz-questions"]})}}),R=async D=>{D.preventDefault();const V={...m,date_added:new Date().toISOString().split("T")[0]};r?await k.mutateAsync({id:r.id,data:V}):await S.mutateAsync(V)},O=D=>{i(D),g({category:D.category,difficulty:D.difficulty,question:D.question,options:D.options,correct_answer_index:D.correct_answer_index,explanation:D.explanation,source:D.source||"",age_group:D.age_group||"all",is_active:D.is_active??!0}),n(!0)},A=async D=>{window.confirm("Are you sure you want to delete this question?")&&await C.mutateAsync(D)},M=()=>{g({category:"Quran",difficulty:"easy",question:"",options:["","","",""],correct_answer_index:0,explanation:"",source:"",age_group:"all",is_active:!0}),i(null),n(!1)},P=(D,V)=>{const G=[...m.options];G[D]=V,g({...m,options:G})},F=j.filter(D=>{const V=D.question.toLowerCase().includes(a.toLowerCase())||D.explanation.toLowerCase().includes(a.toLowerCase()),G=c==="all"||D.category===c,ee=h==="all"||D.difficulty===h;return V&&G&&ee}),L={total:j.length,active:j.filter(D=>D.is_active).length,byCategory:x.reduce((D,V)=>(D[V]=j.filter(G=>G.category===V).length,D),{}),byDifficulty:_.reduce((D,V)=>(D[V]=j.filter(G=>G.difficulty===V).length,D),{})};return N?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("p",{className:"text-gray-600",children:"Loading questions..."})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 py-8 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Quiz Questions Manager"}),s.jsx("p",{className:"text-gray-600",children:"Manage questions for Islamic Knowledge Quiz"})]}),s.jsxs(W,{onClick:()=>n(!e),className:"bg-blue-600 hover:bg-blue-700",children:[e?s.jsx(Br,{className:"w-4 h-4 mr-2"}):s.jsx(Ws,{className:"w-4 h-4 mr-2"}),e?"Cancel":"Add New Question"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[s.jsx(re,{children:s.jsx(ie,{className:"p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Questions"}),s.jsx("p",{className:"text-3xl font-bold text-blue-600",children:L.total})]})})}),s.jsx(re,{children:s.jsx(ie,{className:"p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Active"}),s.jsx("p",{className:"text-3xl font-bold text-green-600",children:L.active})]})})}),s.jsx(re,{children:s.jsx(ie,{className:"p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Easy"}),s.jsx("p",{className:"text-3xl font-bold text-green-500",children:L.byDifficulty.easy||0})]})})}),s.jsx(re,{children:s.jsx(ie,{className:"p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Hard"}),s.jsx("p",{className:"text-3xl font-bold text-red-500",children:L.byDifficulty.hard||0})]})})})]}),s.jsx(Ss,{children:e&&s.jsx(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:s.jsxs(re,{className:"mb-8 border-2 border-blue-300",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-blue-50 to-purple-50",children:s.jsx(Me,{children:r?"Edit Question":"Add New Question"})}),s.jsx(ie,{className:"p-6",children:s.jsxs("form",{onSubmit:R,className:"space-y-4",children:[s.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Category"}),s.jsxs(Xt,{value:m.category,onValueChange:D=>g({...m,category:D}),children:[s.jsx(Qt,{children:s.jsx(Zt,{})}),s.jsx(Jt,{children:x.map(D=>s.jsx(Le,{value:D,children:D},D))})]})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Difficulty"}),s.jsxs(Xt,{value:m.difficulty,onValueChange:D=>g({...m,difficulty:D}),children:[s.jsx(Qt,{children:s.jsx(Zt,{})}),s.jsx(Jt,{children:_.map(D=>s.jsx(Le,{value:D,children:D.charAt(0).toUpperCase()+D.slice(1)},D))})]})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Age Group"}),s.jsxs(Xt,{value:m.age_group,onValueChange:D=>g({...m,age_group:D}),children:[s.jsx(Qt,{children:s.jsx(Zt,{})}),s.jsx(Jt,{children:w.map(D=>s.jsx(Le,{value:D,children:D},D))})]})]})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Question"}),s.jsx(Dn,{value:m.question,onChange:D=>g({...m,question:D.target.value}),placeholder:"Enter your question...",required:!0,rows:2})]}),s.jsxs("div",{children:[s.jsx(be,{className:"mb-2 block",children:"Answer Options"}),m.options.map((D,V)=>s.jsxs("div",{className:"flex gap-2 mb-2",children:[s.jsx(we,{className:m.correct_answer_index===V?"bg-green-500":"bg-gray-400",children:V+1}),s.jsx(ke,{value:D,onChange:G=>P(V,G.target.value),placeholder:`Option ${V+1}`,required:!0}),s.jsxs(W,{type:"button",variant:m.correct_answer_index===V?"default":"outline",onClick:()=>g({...m,correct_answer_index:V}),className:"whitespace-nowrap",children:[m.correct_answer_index===V?s.jsx(bl,{className:"w-4 h-4 mr-1"}):null,"Correct"]})]},V))]}),s.jsxs("div",{children:[s.jsx(be,{children:"Explanation"}),s.jsx(Dn,{value:m.explanation,onChange:D=>g({...m,explanation:D.target.value}),placeholder:"Explain the correct answer...",required:!0,rows:3})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Source (Optional)"}),s.jsx(ke,{value:m.source,onChange:D=>g({...m,source:D.target.value}),placeholder:"e.g., Quran 2:255, Sahih Bukhari 1234"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Bs,{checked:m.is_active,onCheckedChange:D=>g({...m,is_active:D})}),s.jsx(be,{children:"Active (Show in quiz)"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(W,{type:"submit",className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(Sa,{className:"w-4 h-4 mr-2"}),r?"Update":"Create"," Question"]}),s.jsx(W,{type:"button",variant:"outline",onClick:M,children:"Cancel"})]})]})})]})})}),s.jsx(re,{className:"mb-6",children:s.jsx(ie,{className:"p-4",children:s.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsxs(be,{className:"mb-2 flex items-center gap-2",children:[s.jsx(Pi,{className:"w-4 h-4"}),"Search"]}),s.jsx(ke,{value:a,onChange:D=>o(D.target.value),placeholder:"Search questions..."})]}),s.jsxs("div",{children:[s.jsxs(be,{className:"mb-2 flex items-center gap-2",children:[s.jsx(zk,{className:"w-4 h-4"}),"Category"]}),s.jsxs(Xt,{value:c,onValueChange:u,children:[s.jsx(Qt,{children:s.jsx(Zt,{})}),s.jsxs(Jt,{children:[s.jsx(Le,{value:"all",children:"All Categories"}),x.map(D=>s.jsx(Le,{value:D,children:D},D))]})]})]}),s.jsxs("div",{children:[s.jsxs(be,{className:"mb-2 flex items-center gap-2",children:[s.jsx(zk,{className:"w-4 h-4"}),"Difficulty"]}),s.jsxs(Xt,{value:h,onValueChange:f,children:[s.jsx(Qt,{children:s.jsx(Zt,{})}),s.jsxs(Jt,{children:[s.jsx(Le,{value:"all",children:"All Difficulties"}),_.map(D=>s.jsx(Le,{value:D,children:D.charAt(0).toUpperCase()+D.slice(1)},D))]})]})]})]})})}),s.jsx("div",{className:"space-y-4",children:F.map((D,V)=>s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:V*.05},children:s.jsx(re,{className:D.is_active?"":"opacity-60",children:s.jsx(ie,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(we,{children:D.category}),s.jsx(we,{variant:"outline",className:D.difficulty==="easy"?"bg-green-100":D.difficulty==="medium"?"bg-yellow-100":"bg-red-100",children:D.difficulty}),s.jsx(we,{variant:"outline",children:D.age_group}),!D.is_active&&s.jsx(we,{variant:"destructive",children:"Inactive"})]}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:D.question}),s.jsx("div",{className:"space-y-1 mb-3",children:D.options.map((G,ee)=>s.jsxs("div",{className:`text-sm ${ee===D.correct_answer_index?"text-green-600 font-semibold":"text-gray-600"}`,children:[ee===D.correct_answer_index&&s.jsx(bl,{className:"w-3 h-3 inline mr-1"}),ee+1,". ",G]},ee))}),s.jsxs("p",{className:"text-sm text-gray-700 bg-blue-50 p-2 rounded",children:[s.jsx("strong",{children:"Explanation:"})," ",D.explanation]}),D.source&&s.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Source: ",D.source]})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx(W,{onClick:()=>O(D),variant:"outline",size:"sm",children:s.jsx(wo,{className:"w-4 h-4"})}),s.jsx(W,{onClick:()=>A(D.id),variant:"outline",size:"sm",className:"text-red-600 hover:bg-red-50",children:s.jsx(xr,{className:"w-4 h-4"})})]})]})})})},D.id))}),F.length===0&&s.jsx(re,{children:s.jsx(ie,{className:"p-12 text-center",children:s.jsx("p",{className:"text-gray-500",children:"No questions found. Add some questions to get started!"})})})]})})}function Z3(){const[t,e]=y.useState(null),[n,r]=y.useState(""),[i,a]=y.useState("all"),[o,c]=y.useState("all"),{data:u=[],isLoading:h}=Bn({queryKey:["videos"],queryFn:()=>bt.entities.Video.list("-created_date"),initialData:[]}),f=[{id:"all",name:"All Videos",emoji:""},{id:"prophets",name:"Prophets",emoji:""},{id:"manners",name:"Manners",emoji:""},{id:"duas",name:"Duas",emoji:""},{id:"facts",name:"Islamic Facts",emoji:""},{id:"series",name:"Series",emoji:""}],m={prophets:"bg-blue-100 text-blue-800",manners:"bg-green-100 text-green-800",duas:"bg-purple-100 text-purple-800",facts:"bg-amber-100 text-amber-800",series:"bg-pink-100 text-pink-800"},g=w=>{if(!w)return null;const j=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,N=w.match(j);return N&&N[2].length===11?N[2]:null},x=w=>{const j=g(w);return j?`https://img.youtube.com/vi/${j}/hqdefault.jpg`:null},_=u.filter(w=>{const j=w.title.toLowerCase().includes(n.toLowerCase())||w.description&&w.description.toLowerCase().includes(n.toLowerCase()),N=i==="all"||w.category===i,S=o==="all"||w.filter_tag===o;return j&&N&&S});return s.jsx("div",{className:"min-h-screen py-8 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Islamic Video Library"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Watch educational Islamic videos, stories, and lessons!"})]}),s.jsxs("div",{className:"mb-8 space-y-4",children:[s.jsxs("div",{className:"relative max-w-2xl mx-auto",children:[s.jsx(Pi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx(ke,{type:"text",placeholder:"Search videos...",value:n,onChange:w=>r(w.target.value),className:"pl-10 pr-4 py-6 text-lg"})]}),s.jsxs("div",{className:"flex flex-wrap gap-3 justify-center",children:[s.jsxs(Xt,{value:i,onValueChange:a,children:[s.jsx(Qt,{className:"w-48",children:s.jsx(Zt,{placeholder:"Category"})}),s.jsx(Jt,{children:f.map(w=>s.jsxs(Le,{value:w.id,children:[w.emoji," ",w.name]},w.id))})]}),s.jsxs(Xt,{value:o,onValueChange:c,children:[s.jsx(Qt,{className:"w-48",children:s.jsx(Zt,{placeholder:"Video Length"})}),s.jsxs(Jt,{children:[s.jsx(Le,{value:"all",children:"All Lengths"}),s.jsx(Le,{value:"short",children:"Short (0-5 min)"}),s.jsx(Le,{value:"lesson",children:"Lesson (5-15 min)"}),s.jsx(Le,{value:"series",children:"Series (15+ min)"})]})]})]})]}),h?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Vc,{className:"w-16 h-16 mx-auto mb-4 text-gray-300 animate-pulse"}),s.jsx("p",{className:"text-gray-500",children:"Loading videos..."})]}):_.length===0?s.jsx(re,{className:"border-2 border-gray-200",children:s.jsxs(ie,{className:"p-12 text-center",children:[s.jsx(Vc,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-gray-600",children:n||i!=="all"?"No videos found matching your criteria.":"No videos available yet. Check back soon!"})]})}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:_.map((w,j)=>{const N=w.thumbnail_url||x(w.video_url);return s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:j*.1},children:s.jsx(re,{className:"h-full hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 cursor-pointer group overflow-hidden",children:s.jsxs("div",{onClick:()=>e(w),className:"relative",children:[s.jsxs("div",{className:"h-48 overflow-hidden bg-gradient-to-br from-purple-100 to-blue-100 relative",children:[N?s.jsx("img",{src:N,alt:w.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300",onError:S=>{S.target.style.display="none"}}):s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx(Vc,{className:"w-16 h-16 text-gray-400"})}),s.jsx("div",{className:"absolute inset-0 bg-black/30 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:s.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center",children:s.jsx(er,{className:"w-8 h-8 text-blue-600 ml-1"})})})]}),s.jsxs(Oe,{children:[s.jsx("div",{className:"flex items-start justify-between gap-2 mb-2",children:s.jsx(Me,{className:"text-lg group-hover:text-blue-600 transition-colors line-clamp-2",children:w.title})}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[w.category&&s.jsx(we,{className:m[w.category],children:w.category}),w.duration&&s.jsxs(we,{variant:"outline",className:"flex items-center gap-1",children:[s.jsx(ul,{className:"w-3 h-3"}),w.duration]}),w.filter_tag&&s.jsx(we,{variant:"outline",children:w.filter_tag})]})]}),w.description&&s.jsx(ie,{children:s.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:w.description})})]})})},w.id)})}),s.jsx(ym,{open:t!==null,onOpenChange:()=>e(null),children:s.jsxs(Yd,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Xd,{children:[s.jsx(Zd,{className:"text-2xl font-bold pr-8",children:t==null?void 0:t.title}),s.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[(t==null?void 0:t.category)&&s.jsx(we,{className:m[t.category],children:t.category}),(t==null?void 0:t.duration)&&s.jsxs(we,{variant:"outline",className:"flex items-center gap-1",children:[s.jsx(ul,{className:"w-3 h-3"}),t.duration]})]})]}),t&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"aspect-video w-full rounded-lg overflow-hidden bg-black",children:s.jsx("iframe",{width:"100%",height:"100%",src:`https://www.youtube.com/embed/${g(t.video_url)}?autoplay=1`,title:t.title,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-full"})}),t.description&&s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"About this video:"}),s.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:t.description})]})]})]})})]})})}function eF(){const t=xi(),[e,n]=y.useState(!1),[r,i]=y.useState(null),[a,o]=y.useState({title:"",video_url:"",thumbnail_url:"",category:"prophets",duration:"",filter_tag:"lesson",description:""}),{data:c=[],isLoading:u}=Bn({queryKey:["videos"],queryFn:()=>base44.entities.Video.list("-created_date"),initialData:[]}),h=An({mutationFn:j=>base44.entities.Video.create(j),onSuccess:()=>{t.invalidateQueries({queryKey:["videos"]}),g(),alert("Video added successfully!")}}),f=An({mutationFn:({id:j,data:N})=>base44.entities.Video.update(j,N),onSuccess:()=>{t.invalidateQueries({queryKey:["videos"]}),g(),alert("Video updated successfully!")}}),m=An({mutationFn:j=>base44.entities.Video.delete(j),onSuccess:()=>{t.invalidateQueries({queryKey:["videos"]}),alert("Video deleted successfully!")}}),g=()=>{o({title:"",video_url:"",thumbnail_url:"",category:"prophets",duration:"",filter_tag:"lesson",description:""}),i(null),n(!1)},x=j=>{o({title:j.title||"",video_url:j.video_url||"",thumbnail_url:j.thumbnail_url||"",category:j.category||"prophets",duration:j.duration||"",filter_tag:j.filter_tag||"lesson",description:j.description||""}),i(j),n(!0)},_=j=>{if(j.preventDefault(),!a.title||!a.video_url){alert("Please fill in title and video URL");return}let N={...a};if(!N.thumbnail_url&&a.video_url.includes("youtube")){const S=w(a.video_url);S&&(N.thumbnail_url=`https://img.youtube.com/vi/${S}/hqdefault.jpg`)}r?f.mutate({id:r.id,data:N}):h.mutate(N)},w=j=>{const N=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,S=j.match(N);return S&&S[2].length===11?S[2]:null};return s.jsx("div",{className:"min-h-screen py-8 px-4 bg-gradient-to-br from-purple-50 to-blue-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Manage Videos"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Add and manage YouTube videos for the video library"})]}),s.jsx("div",{className:"mb-6",children:s.jsxs(W,{onClick:()=>n(!0),size:"lg",className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600",children:[s.jsx(Ws,{className:"w-5 h-5 mr-2"}),"Add New Video"]})}),s.jsx(ym,{open:e,onOpenChange:j=>!j&&g(),children:s.jsxs(Yd,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Xd,{children:s.jsx(Zd,{children:r?"Edit Video":"Add New Video"})}),s.jsxs("form",{onSubmit:_,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(be,{htmlFor:"title",children:"Video Title *"}),s.jsx(ke,{id:"title",value:a.title,onChange:j=>o({...a,title:j.target.value}),placeholder:"e.g., Story of Prophet Muhammad ",required:!0})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"video_url",children:"YouTube URL *"}),s.jsx(ke,{id:"video_url",value:a.video_url,onChange:j=>o({...a,video_url:j.target.value}),placeholder:"https://www.youtube.com/watch?v=...",required:!0}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Thumbnail will be auto-generated from YouTube"})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"category",children:"Category"}),s.jsxs(Xt,{value:a.category,onValueChange:j=>o({...a,category:j}),children:[s.jsx(Qt,{children:s.jsx(Zt,{})}),s.jsxs(Jt,{children:[s.jsx(Le,{value:"prophets",children:"Prophets"}),s.jsx(Le,{value:"manners",children:"Manners"}),s.jsx(Le,{value:"duas",children:"Duas"}),s.jsx(Le,{value:"facts",children:"Islamic Facts"}),s.jsx(Le,{value:"series",children:"Series"})]})]})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"filter_tag",children:"Video Length"}),s.jsxs(Xt,{value:a.filter_tag,onValueChange:j=>o({...a,filter_tag:j}),children:[s.jsx(Qt,{children:s.jsx(Zt,{})}),s.jsxs(Jt,{children:[s.jsx(Le,{value:"short",children:"Short (0-5 min)"}),s.jsx(Le,{value:"lesson",children:"Lesson (5-15 min)"}),s.jsx(Le,{value:"series",children:"Series (15+ min)"})]})]})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"duration",children:"Duration"}),s.jsx(ke,{id:"duration",value:a.duration,onChange:j=>o({...a,duration:j.target.value}),placeholder:"e.g., 10:25"})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"description",children:"Description"}),s.jsx(Dn,{id:"description",value:a.description,onChange:j=>o({...a,description:j.target.value}),placeholder:"Brief description of the video content...",rows:4})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsxs(W,{type:"submit",disabled:h.isPending||f.isPending,className:"flex-1 bg-green-500 hover:bg-green-600",children:[s.jsx(Sa,{className:"w-4 h-4 mr-2"}),r?"Update":"Add"," Video"]}),s.jsxs(W,{type:"button",onClick:g,variant:"outline",className:"flex-1",children:[s.jsx(Br,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]})]})}),u?s.jsx("div",{className:"text-center py-12",children:"Loading videos..."}):c.length===0?s.jsx(re,{children:s.jsxs(ie,{className:"p-12 text-center",children:[s.jsx(Vc,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-gray-600",children:"No videos yet. Add your first video!"})]})}):s.jsx("div",{className:"grid gap-4",children:c.map((j,N)=>s.jsx(te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:N*.05},children:s.jsx(re,{children:s.jsx(ie,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-32 h-20 bg-gray-200 rounded-lg overflow-hidden flex-shrink-0",children:j.thumbnail_url?s.jsx("img",{src:j.thumbnail_url,alt:j.title,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx(Vc,{className:"w-8 h-8 text-gray-400"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-2 truncate",children:j.title}),s.jsxs("div",{className:"flex flex-wrap gap-2 mb-2",children:[s.jsx(we,{children:j.category}),j.filter_tag&&s.jsx(we,{variant:"outline",children:j.filter_tag}),j.duration&&s.jsx(we,{variant:"outline",children:j.duration})]}),j.description&&s.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:j.description})]}),s.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[s.jsx(W,{onClick:()=>x(j),size:"sm",variant:"outline",children:s.jsx(wo,{className:"w-4 h-4"})}),s.jsx(W,{onClick:()=>{confirm("Are you sure you want to delete this video?")&&m.mutate(j.id)},size:"sm",variant:"outline",className:"text-red-500 border-red-500 hover:bg-red-50",children:s.jsx(xr,{className:"w-4 h-4"})})]})]})})})},j.id))})]})})}function tF(){xi();const[t,e]=y.useState(!1),[n,r]=y.useState(!1),[i,a]=y.useState(null),[o,c]=y.useState(!1),[u,h]=y.useState({audio:!1,image:!1}),f=y.useRef(null),m=y.useRef(null),[g,x]=y.useState({title:"",slug:"",mp3_url:"",youtube_id:"",cover_image:"",description:"",transcript:"",moral_lesson:"",duration:"",age_group:"all",category:"story",subcategory:"",language:"English",tags:[],license_source:"",allow_download:!1,featured:!1}),_=()=>{if(!g.title||!g.category){alert("Please fill in at least the title and category");return}g.slug||(g.slug=g.title.toLowerCase().replace(/[^a-z0-9]+/g,"-")),typeof g.tags=="string"&&(g.tags=g.tags.split(",").map(C=>C.trim()).filter(C=>C)),createAudioMutation.mutate(g)},w=C=>{a(C),x({title:C.title||"",slug:C.slug||"",mp3_url:C.mp3_url||"",youtube_id:C.youtube_id||"",cover_image:C.cover_image||"",description:C.description||"",transcript:C.transcript||"",moral_lesson:C.moral_lesson||"",duration:C.duration||"",age_group:C.age_group||"all",category:C.category||"story",subcategory:C.subcategory||"",language:C.language||"English",tags:C.tags||[],license_source:C.license_source||"",allow_download:C.allow_download||!1,featured:C.featured||!1}),r(!0)},j=()=>{i&&(typeof g.tags=="string"&&(g.tags=g.tags.split(",").map(C=>C.trim()).filter(C=>C)),updateAudioMutation.mutate({id:i.id,data:g}))},N=C=>{confirm(`Are you sure you want to delete "${C.title}"? This action cannot be undone.`)&&deleteAudioMutation.mutate(C.id)},S=()=>{x({title:"",slug:"",mp3_url:"",youtube_id:"",cover_image:"",description:"",transcript:"",moral_lesson:"",duration:"",age_group:"all",category:"story",subcategory:"",language:"English",tags:[],license_source:"",allow_download:!1,featured:!1}),a(null)},k={story:"bg-blue-100 text-blue-800",hadith:"bg-green-100 text-green-800",history:"bg-purple-100 text-purple-800",nasheed:"bg-pink-100 text-pink-800",tajweed:"bg-amber-100 text-amber-800",fiqh:"bg-indigo-100 text-indigo-800",quran:"bg-emerald-100 text-emerald-800"};return s.jsx("div",{className:"min-h-screen py-8 px-4 bg-gradient-to-br from-purple-50 to-pink-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Audio Content Management"}),s.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"Upload and manage Islamic audio stories, lessons, and nasheeds"}),s.jsxs(W,{onClick:()=>e(!0),size:"lg",className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:[s.jsx(Ws,{className:"w-5 h-5 mr-2"}),"Add New Audio"]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4 mb-6",children:[s.jsx(re,{children:s.jsxs(ie,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-purple-600",children:audioContent.length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Audio"})]})}),s.jsx(re,{children:s.jsxs(ie,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-green-600",children:audioContent.filter(C=>C.status==="active").length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Active"})]})}),s.jsx(re,{children:s.jsxs(ie,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-amber-600",children:audioContent.filter(C=>C.featured).length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Featured"})]})}),s.jsx(re,{children:s.jsxs(ie,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-blue-600",children:audioContent.reduce((C,R)=>C+(R.plays_count||0),0)}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Plays"})]})})]}),isLoading?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Aw,{className:"w-16 h-16 mx-auto mb-4 text-gray-300 animate-pulse"}),s.jsx("p",{className:"text-gray-500",children:"Loading audio content..."})]}):audioContent.length===0?s.jsx(re,{children:s.jsxs(ie,{className:"p-12 text-center",children:[s.jsx(Wc,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"No audio content yet"}),s.jsxs(W,{onClick:()=>e(!0),children:[s.jsx(Ws,{className:"w-4 h-4 mr-2"}),"Add First Audio"]})]})}):s.jsx("div",{className:"grid gap-4",children:audioContent.map((C,R)=>s.jsx(te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:R*.05},children:s.jsx(re,{className:"hover:shadow-lg transition-shadow",children:s.jsx(ie,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-purple-200 to-pink-200 rounded-lg flex-shrink-0 overflow-hidden",children:C.cover_image?s.jsx("img",{src:C.cover_image,alt:C.title,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx(Aw,{className:"w-12 h-12 text-gray-400"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h3",{className:"font-bold text-lg text-gray-900 truncate pr-4",children:C.title}),s.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[s.jsx(W,{onClick:()=>w(C),size:"sm",variant:"outline",className:"text-blue-600",children:s.jsx(wo,{className:"w-4 h-4"})}),s.jsx(W,{onClick:()=>N(C),size:"sm",variant:"outline",className:"text-red-500",children:s.jsx(xr,{className:"w-4 h-4"})})]})]}),C.description&&s.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:C.description}),s.jsxs("div",{className:"flex flex-wrap gap-2 mb-2",children:[s.jsx(we,{className:k[C.category],children:C.category}),C.subcategory&&s.jsx(we,{variant:"outline",children:C.subcategory}),C.duration&&s.jsx(we,{variant:"outline",children:C.duration}),C.age_group&&s.jsxs(we,{variant:"outline",children:["Ages: ",C.age_group]}),C.featured&&s.jsx(we,{className:"bg-amber-500",children:" Featured"})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[C.mp3_url&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Wc,{className:"w-3 h-3"}),"Audio uploaded"]}),C.plays_count>0&&s.jsxs("span",{children:[C.plays_count," plays"]}),s.jsx("span",{children:C.language||"English"})]})]})]})})})},C.id))}),s.jsx(ym,{open:t,onOpenChange:C=>!C&&S(),children:s.jsxs(Yd,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Xd,{children:s.jsx(Zd,{className:"text-2xl",children:"Add New Audio Content"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx(be,{htmlFor:"title",children:"Title *"}),s.jsx(ke,{id:"title",value:g.title,onChange:C=>x({...g,title:C.target.value}),placeholder:"e.g., Story of Prophet Ibrahim"})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"category",children:"Category *"}),s.jsxs(Xt,{value:g.category,onValueChange:C=>x({...g,category:C}),children:[s.jsx(Qt,{children:s.jsx(Zt,{})}),s.jsxs(Jt,{children:[s.jsx(Le,{value:"story",children:"Story"}),s.jsx(Le,{value:"hadith",children:"Hadith"}),s.jsx(Le,{value:"history",children:"History"}),s.jsx(Le,{value:"nasheed",children:"Nasheed"}),s.jsx(Le,{value:"tajweed",children:"Tajweed"}),s.jsx(Le,{value:"fiqh",children:"Fiqh"}),s.jsx(Le,{value:"quran",children:"Quran"})]})]})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"age_group",children:"Age Group"}),s.jsxs(Xt,{value:g.age_group,onValueChange:C=>x({...g,age_group:C}),children:[s.jsx(Qt,{children:s.jsx(Zt,{})}),s.jsxs(Jt,{children:[s.jsx(Le,{value:"3-6",children:"3-6 years"}),s.jsx(Le,{value:"7-10",children:"7-10 years"}),s.jsx(Le,{value:"11+",children:"11+ years"}),s.jsx(Le,{value:"all",children:"All ages"})]})]})]})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Audio File (MP3)"}),s.jsx("input",{ref:f,type:"file",accept:"audio/*",onChange:handleAudioUpload,className:"hidden"}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx(W,{type:"button",onClick:()=>{var C;return(C=f.current)==null?void 0:C.click()},variant:"outline",className:"flex-1",disabled:u.audio,children:u.audio?s.jsxs(s.Fragment,{children:[s.jsx(dl,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ea,{className:"w-4 h-4 mr-2"}),"Upload Audio File"]})}),g.mp3_url&&s.jsx(we,{className:"bg-green-500 px-4 py-2",children:" Uploaded"})]}),g.mp3_url&&s.jsx("p",{className:"text-xs text-gray-500 mt-1 truncate",children:g.mp3_url})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Cover Image"}),s.jsx("input",{ref:m,type:"file",accept:"image/*",onChange:handleImageUpload,className:"hidden"}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx(W,{type:"button",onClick:()=>{var C;return(C=m.current)==null?void 0:C.click()},variant:"outline",className:"flex-1",disabled:u.image,children:u.image?s.jsxs(s.Fragment,{children:[s.jsx(dl,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ho,{className:"w-4 h-4 mr-2"}),"Upload Cover Image"]})}),g.cover_image&&s.jsx(we,{className:"bg-green-500 px-4 py-2",children:" Uploaded"})]}),g.cover_image&&s.jsx("div",{className:"mt-2",children:s.jsx("img",{src:g.cover_image,alt:"Cover preview",className:"w-32 h-32 object-cover rounded-lg"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{htmlFor:"subcategory",children:"Subcategory"}),s.jsx(ke,{id:"subcategory",value:g.subcategory,onChange:C=>x({...g,subcategory:C.target.value}),placeholder:"e.g., Prophets, Sahabah"})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"duration",children:"Duration"}),s.jsx(ke,{id:"duration",value:g.duration,onChange:C=>x({...g,duration:C.target.value}),placeholder:"e.g., 05:30"})]})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"description",children:"Description"}),s.jsx(Dn,{id:"description",value:g.description,onChange:C=>x({...g,description:C.target.value}),placeholder:"Brief description of the audio content",rows:3})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"moral_lesson",children:"Moral Lesson"}),s.jsx(Dn,{id:"moral_lesson",value:g.moral_lesson,onChange:C=>x({...g,moral_lesson:C.target.value}),placeholder:"Key lesson or takeaway",rows:2})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"tags",children:"Tags (comma-separated)"}),s.jsx(ke,{id:"tags",value:Array.isArray(g.tags)?g.tags.join(", "):g.tags,onChange:C=>x({...g,tags:C.target.value}),placeholder:"e.g., prophets, kindness, patience"})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:g.featured,onChange:C=>x({...g,featured:C.target.checked}),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Featured"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:g.allow_download,onChange:C=>x({...g,allow_download:C.target.checked}),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Allow Download"})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsxs(W,{onClick:_,disabled:createAudioMutation.isPending,className:"flex-1 bg-gradient-to-r from-purple-500 to-pink-500",children:[s.jsx(Sa,{className:"w-4 h-4 mr-2"}),"Create Audio"]}),s.jsxs(W,{onClick:()=>{e(!1),S()},variant:"outline",className:"flex-1",children:[s.jsx(Br,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]})]})}),s.jsx(ym,{open:n,onOpenChange:C=>!C&&S(),children:s.jsxs(Yd,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Xd,{children:s.jsx(Zd,{className:"text-2xl",children:"Edit Audio Content"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx(be,{htmlFor:"edit-title",children:"Title *"}),s.jsx(ke,{id:"edit-title",value:g.title,onChange:C=>x({...g,title:C.target.value}),placeholder:"e.g., Story of Prophet Ibrahim"})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"edit-category",children:"Category *"}),s.jsxs(Xt,{value:g.category,onValueChange:C=>x({...g,category:C}),children:[s.jsx(Qt,{children:s.jsx(Zt,{})}),s.jsxs(Jt,{children:[s.jsx(Le,{value:"story",children:"Story"}),s.jsx(Le,{value:"hadith",children:"Hadith"}),s.jsx(Le,{value:"history",children:"History"}),s.jsx(Le,{value:"nasheed",children:"Nasheed"}),s.jsx(Le,{value:"tajweed",children:"Tajweed"}),s.jsx(Le,{value:"fiqh",children:"Fiqh"}),s.jsx(Le,{value:"quran",children:"Quran"})]})]})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"edit-age",children:"Age Group"}),s.jsxs(Xt,{value:g.age_group,onValueChange:C=>x({...g,age_group:C}),children:[s.jsx(Qt,{children:s.jsx(Zt,{})}),s.jsxs(Jt,{children:[s.jsx(Le,{value:"3-6",children:"3-6 years"}),s.jsx(Le,{value:"7-10",children:"7-10 years"}),s.jsx(Le,{value:"11+",children:"11+ years"}),s.jsx(Le,{value:"all",children:"All ages"})]})]})]})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Audio File (MP3)"}),s.jsx("input",{ref:f,type:"file",accept:"audio/*",onChange:handleAudioUpload,className:"hidden"}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx(W,{type:"button",onClick:()=>{var C;return(C=f.current)==null?void 0:C.click()},variant:"outline",className:"flex-1",disabled:u.audio,children:u.audio?s.jsxs(s.Fragment,{children:[s.jsx(dl,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ea,{className:"w-4 h-4 mr-2"}),g.mp3_url?"Replace Audio":"Upload Audio File"]})}),g.mp3_url&&s.jsx(we,{className:"bg-green-500 px-4 py-2",children:" Uploaded"})]})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Cover Image"}),s.jsx("input",{ref:m,type:"file",accept:"image/*",onChange:handleImageUpload,className:"hidden"}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx(W,{type:"button",onClick:()=>{var C;return(C=m.current)==null?void 0:C.click()},variant:"outline",className:"flex-1",disabled:u.image,children:u.image?s.jsxs(s.Fragment,{children:[s.jsx(dl,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ho,{className:"w-4 h-4 mr-2"}),g.cover_image?"Replace Image":"Upload Cover Image"]})}),g.cover_image&&s.jsx(we,{className:"bg-green-500 px-4 py-2",children:" Uploaded"})]}),g.cover_image&&s.jsx("div",{className:"mt-2",children:s.jsx("img",{src:g.cover_image,alt:"Cover preview",className:"w-32 h-32 object-cover rounded-lg"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{htmlFor:"edit-subcategory",children:"Subcategory"}),s.jsx(ke,{id:"edit-subcategory",value:g.subcategory,onChange:C=>x({...g,subcategory:C.target.value}),placeholder:"e.g., Prophets, Sahabah"})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"edit-duration",children:"Duration"}),s.jsx(ke,{id:"edit-duration",value:g.duration,onChange:C=>x({...g,duration:C.target.value}),placeholder:"e.g., 05:30"})]})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"edit-description",children:"Description"}),s.jsx(Dn,{id:"edit-description",value:g.description,onChange:C=>x({...g,description:C.target.value}),placeholder:"Brief description of the audio content",rows:3})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"edit-moral",children:"Moral Lesson"}),s.jsx(Dn,{id:"edit-moral",value:g.moral_lesson,onChange:C=>x({...g,moral_lesson:C.target.value}),placeholder:"Key lesson or takeaway",rows:2})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"edit-tags",children:"Tags (comma-separated)"}),s.jsx(ke,{id:"edit-tags",value:Array.isArray(g.tags)?g.tags.join(", "):g.tags,onChange:C=>x({...g,tags:C.target.value}),placeholder:"e.g., prophets, kindness, patience"})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:g.featured,onChange:C=>x({...g,featured:C.target.checked}),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Featured"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:g.allow_download,onChange:C=>x({...g,allow_download:C.target.checked}),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Allow Download"})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsxs(W,{onClick:j,disabled:updateAudioMutation.isPending,className:"flex-1 bg-gradient-to-r from-purple-500 to-pink-500",children:[s.jsx(Sa,{className:"w-4 h-4 mr-2"}),"Update Audio"]}),s.jsxs(W,{onClick:()=>{r(!1),S()},variant:"outline",className:"flex-1",children:[s.jsx(Br,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]})]})})]})})}var uR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xl,nF;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,M){function P(){}P.prototype=M.prototype,A.F=M.prototype,A.prototype=new P,A.prototype.constructor=A,A.D=function(F,L,D){for(var V=Array(arguments.length-2),G=2;G<arguments.length;G++)V[G-2]=arguments[G];return M.prototype[L].apply(F,V)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,M,P){P||(P=0);const F=Array(16);if(typeof M=="string")for(var L=0;L<16;++L)F[L]=M.charCodeAt(P++)|M.charCodeAt(P++)<<8|M.charCodeAt(P++)<<16|M.charCodeAt(P++)<<24;else for(L=0;L<16;++L)F[L]=M[P++]|M[P++]<<8|M[P++]<<16|M[P++]<<24;M=A.g[0],P=A.g[1],L=A.g[2];let D=A.g[3],V;V=M+(D^P&(L^D))+F[0]+3614090360&4294967295,M=P+(V<<7&4294967295|V>>>25),V=D+(L^M&(P^L))+F[1]+3905402710&4294967295,D=M+(V<<12&4294967295|V>>>20),V=L+(P^D&(M^P))+F[2]+606105819&4294967295,L=D+(V<<17&4294967295|V>>>15),V=P+(M^L&(D^M))+F[3]+3250441966&4294967295,P=L+(V<<22&4294967295|V>>>10),V=M+(D^P&(L^D))+F[4]+4118548399&4294967295,M=P+(V<<7&4294967295|V>>>25),V=D+(L^M&(P^L))+F[5]+1200080426&4294967295,D=M+(V<<12&4294967295|V>>>20),V=L+(P^D&(M^P))+F[6]+2821735955&4294967295,L=D+(V<<17&4294967295|V>>>15),V=P+(M^L&(D^M))+F[7]+4249261313&4294967295,P=L+(V<<22&4294967295|V>>>10),V=M+(D^P&(L^D))+F[8]+1770035416&4294967295,M=P+(V<<7&4294967295|V>>>25),V=D+(L^M&(P^L))+F[9]+2336552879&4294967295,D=M+(V<<12&4294967295|V>>>20),V=L+(P^D&(M^P))+F[10]+4294925233&4294967295,L=D+(V<<17&4294967295|V>>>15),V=P+(M^L&(D^M))+F[11]+2304563134&4294967295,P=L+(V<<22&4294967295|V>>>10),V=M+(D^P&(L^D))+F[12]+1804603682&4294967295,M=P+(V<<7&4294967295|V>>>25),V=D+(L^M&(P^L))+F[13]+4254626195&4294967295,D=M+(V<<12&4294967295|V>>>20),V=L+(P^D&(M^P))+F[14]+2792965006&4294967295,L=D+(V<<17&4294967295|V>>>15),V=P+(M^L&(D^M))+F[15]+1236535329&4294967295,P=L+(V<<22&4294967295|V>>>10),V=M+(L^D&(P^L))+F[1]+4129170786&4294967295,M=P+(V<<5&4294967295|V>>>27),V=D+(P^L&(M^P))+F[6]+3225465664&4294967295,D=M+(V<<9&4294967295|V>>>23),V=L+(M^P&(D^M))+F[11]+643717713&4294967295,L=D+(V<<14&4294967295|V>>>18),V=P+(D^M&(L^D))+F[0]+3921069994&4294967295,P=L+(V<<20&4294967295|V>>>12),V=M+(L^D&(P^L))+F[5]+3593408605&4294967295,M=P+(V<<5&4294967295|V>>>27),V=D+(P^L&(M^P))+F[10]+38016083&4294967295,D=M+(V<<9&4294967295|V>>>23),V=L+(M^P&(D^M))+F[15]+3634488961&4294967295,L=D+(V<<14&4294967295|V>>>18),V=P+(D^M&(L^D))+F[4]+3889429448&4294967295,P=L+(V<<20&4294967295|V>>>12),V=M+(L^D&(P^L))+F[9]+568446438&4294967295,M=P+(V<<5&4294967295|V>>>27),V=D+(P^L&(M^P))+F[14]+3275163606&4294967295,D=M+(V<<9&4294967295|V>>>23),V=L+(M^P&(D^M))+F[3]+4107603335&4294967295,L=D+(V<<14&4294967295|V>>>18),V=P+(D^M&(L^D))+F[8]+1163531501&4294967295,P=L+(V<<20&4294967295|V>>>12),V=M+(L^D&(P^L))+F[13]+2850285829&4294967295,M=P+(V<<5&4294967295|V>>>27),V=D+(P^L&(M^P))+F[2]+4243563512&4294967295,D=M+(V<<9&4294967295|V>>>23),V=L+(M^P&(D^M))+F[7]+1735328473&4294967295,L=D+(V<<14&4294967295|V>>>18),V=P+(D^M&(L^D))+F[12]+2368359562&4294967295,P=L+(V<<20&4294967295|V>>>12),V=M+(P^L^D)+F[5]+4294588738&4294967295,M=P+(V<<4&4294967295|V>>>28),V=D+(M^P^L)+F[8]+2272392833&4294967295,D=M+(V<<11&4294967295|V>>>21),V=L+(D^M^P)+F[11]+1839030562&4294967295,L=D+(V<<16&4294967295|V>>>16),V=P+(L^D^M)+F[14]+4259657740&4294967295,P=L+(V<<23&4294967295|V>>>9),V=M+(P^L^D)+F[1]+2763975236&4294967295,M=P+(V<<4&4294967295|V>>>28),V=D+(M^P^L)+F[4]+1272893353&4294967295,D=M+(V<<11&4294967295|V>>>21),V=L+(D^M^P)+F[7]+4139469664&4294967295,L=D+(V<<16&4294967295|V>>>16),V=P+(L^D^M)+F[10]+3200236656&4294967295,P=L+(V<<23&4294967295|V>>>9),V=M+(P^L^D)+F[13]+681279174&4294967295,M=P+(V<<4&4294967295|V>>>28),V=D+(M^P^L)+F[0]+3936430074&4294967295,D=M+(V<<11&4294967295|V>>>21),V=L+(D^M^P)+F[3]+3572445317&4294967295,L=D+(V<<16&4294967295|V>>>16),V=P+(L^D^M)+F[6]+76029189&4294967295,P=L+(V<<23&4294967295|V>>>9),V=M+(P^L^D)+F[9]+3654602809&4294967295,M=P+(V<<4&4294967295|V>>>28),V=D+(M^P^L)+F[12]+3873151461&4294967295,D=M+(V<<11&4294967295|V>>>21),V=L+(D^M^P)+F[15]+530742520&4294967295,L=D+(V<<16&4294967295|V>>>16),V=P+(L^D^M)+F[2]+3299628645&4294967295,P=L+(V<<23&4294967295|V>>>9),V=M+(L^(P|~D))+F[0]+4096336452&4294967295,M=P+(V<<6&4294967295|V>>>26),V=D+(P^(M|~L))+F[7]+1126891415&4294967295,D=M+(V<<10&4294967295|V>>>22),V=L+(M^(D|~P))+F[14]+2878612391&4294967295,L=D+(V<<15&4294967295|V>>>17),V=P+(D^(L|~M))+F[5]+4237533241&4294967295,P=L+(V<<21&4294967295|V>>>11),V=M+(L^(P|~D))+F[12]+1700485571&4294967295,M=P+(V<<6&4294967295|V>>>26),V=D+(P^(M|~L))+F[3]+2399980690&4294967295,D=M+(V<<10&4294967295|V>>>22),V=L+(M^(D|~P))+F[10]+4293915773&4294967295,L=D+(V<<15&4294967295|V>>>17),V=P+(D^(L|~M))+F[1]+2240044497&4294967295,P=L+(V<<21&4294967295|V>>>11),V=M+(L^(P|~D))+F[8]+1873313359&4294967295,M=P+(V<<6&4294967295|V>>>26),V=D+(P^(M|~L))+F[15]+4264355552&4294967295,D=M+(V<<10&4294967295|V>>>22),V=L+(M^(D|~P))+F[6]+2734768916&4294967295,L=D+(V<<15&4294967295|V>>>17),V=P+(D^(L|~M))+F[13]+1309151649&4294967295,P=L+(V<<21&4294967295|V>>>11),V=M+(L^(P|~D))+F[4]+4149444226&4294967295,M=P+(V<<6&4294967295|V>>>26),V=D+(P^(M|~L))+F[11]+3174756917&4294967295,D=M+(V<<10&4294967295|V>>>22),V=L+(M^(D|~P))+F[2]+718787259&4294967295,L=D+(V<<15&4294967295|V>>>17),V=P+(D^(L|~M))+F[9]+3951481745&4294967295,A.g[0]=A.g[0]+M&4294967295,A.g[1]=A.g[1]+(L+(V<<21&4294967295|V>>>11))&4294967295,A.g[2]=A.g[2]+L&4294967295,A.g[3]=A.g[3]+D&4294967295}r.prototype.v=function(A,M){M===void 0&&(M=A.length);const P=M-this.blockSize,F=this.C;let L=this.h,D=0;for(;D<M;){if(L==0)for(;D<=P;)i(this,A,D),D+=this.blockSize;if(typeof A=="string"){for(;D<M;)if(F[L++]=A.charCodeAt(D++),L==this.blockSize){i(this,F),L=0;break}}else for(;D<M;)if(F[L++]=A[D++],L==this.blockSize){i(this,F),L=0;break}}this.h=L,this.o+=M},r.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var M=1;M<A.length-8;++M)A[M]=0;M=this.o*8;for(var P=A.length-8;P<A.length;++P)A[P]=M&255,M/=256;for(this.v(A),A=Array(16),M=0,P=0;P<4;++P)for(let F=0;F<32;F+=8)A[M++]=this.g[P]>>>F&255;return A};function a(A,M){var P=c;return Object.prototype.hasOwnProperty.call(P,A)?P[A]:P[A]=M(A)}function o(A,M){this.h=M;const P=[];let F=!0;for(let L=A.length-1;L>=0;L--){const D=A[L]|0;F&&D==M||(P[L]=D,F=!1)}this.g=P}var c={};function u(A){return-128<=A&&A<128?a(A,function(M){return new o([M|0],M<0?-1:0)}):new o([A|0],A<0?-1:0)}function h(A){if(isNaN(A)||!isFinite(A))return m;if(A<0)return j(h(-A));const M=[];let P=1;for(let F=0;A>=P;F++)M[F]=A/P|0,P*=4294967296;return new o(M,0)}function f(A,M){if(A.length==0)throw Error("number format error: empty string");if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(A.charAt(0)=="-")return j(f(A.substring(1),M));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=h(Math.pow(M,8));let F=m;for(let D=0;D<A.length;D+=8){var L=Math.min(8,A.length-D);const V=parseInt(A.substring(D,D+L),M);L<8?(L=h(Math.pow(M,L)),F=F.j(L).add(h(V))):(F=F.j(P),F=F.add(h(V)))}return F}var m=u(0),g=u(1),x=u(16777216);t=o.prototype,t.m=function(){if(w(this))return-j(this).m();let A=0,M=1;for(let P=0;P<this.g.length;P++){const F=this.i(P);A+=(F>=0?F:4294967296+F)*M,M*=4294967296}return A},t.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(_(this))return"0";if(w(this))return"-"+j(this).toString(A);const M=h(Math.pow(A,6));var P=this;let F="";for(;;){const L=C(P,M).g;P=N(P,L.j(M));let D=((P.g.length>0?P.g[0]:P.h)>>>0).toString(A);if(P=L,_(P))return D+F;for(;D.length<6;)D="0"+D;F=D+F}},t.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function _(A){if(A.h!=0)return!1;for(let M=0;M<A.g.length;M++)if(A.g[M]!=0)return!1;return!0}function w(A){return A.h==-1}t.l=function(A){return A=N(this,A),w(A)?-1:_(A)?0:1};function j(A){const M=A.g.length,P=[];for(let F=0;F<M;F++)P[F]=~A.g[F];return new o(P,~A.h).add(g)}t.abs=function(){return w(this)?j(this):this},t.add=function(A){const M=Math.max(this.g.length,A.g.length),P=[];let F=0;for(let L=0;L<=M;L++){let D=F+(this.i(L)&65535)+(A.i(L)&65535),V=(D>>>16)+(this.i(L)>>>16)+(A.i(L)>>>16);F=V>>>16,D&=65535,V&=65535,P[L]=V<<16|D}return new o(P,P[P.length-1]&-2147483648?-1:0)};function N(A,M){return A.add(j(M))}t.j=function(A){if(_(this)||_(A))return m;if(w(this))return w(A)?j(this).j(j(A)):j(j(this).j(A));if(w(A))return j(this.j(j(A)));if(this.l(x)<0&&A.l(x)<0)return h(this.m()*A.m());const M=this.g.length+A.g.length,P=[];for(var F=0;F<2*M;F++)P[F]=0;for(F=0;F<this.g.length;F++)for(let L=0;L<A.g.length;L++){const D=this.i(F)>>>16,V=this.i(F)&65535,G=A.i(L)>>>16,ee=A.i(L)&65535;P[2*F+2*L]+=V*ee,S(P,2*F+2*L),P[2*F+2*L+1]+=D*ee,S(P,2*F+2*L+1),P[2*F+2*L+1]+=V*G,S(P,2*F+2*L+1),P[2*F+2*L+2]+=D*G,S(P,2*F+2*L+2)}for(A=0;A<M;A++)P[A]=P[2*A+1]<<16|P[2*A];for(A=M;A<2*M;A++)P[A]=0;return new o(P,0)};function S(A,M){for(;(A[M]&65535)!=A[M];)A[M+1]+=A[M]>>>16,A[M]&=65535,M++}function k(A,M){this.g=A,this.h=M}function C(A,M){if(_(M))throw Error("division by zero");if(_(A))return new k(m,m);if(w(A))return M=C(j(A),M),new k(j(M.g),j(M.h));if(w(M))return M=C(A,j(M)),new k(j(M.g),M.h);if(A.g.length>30){if(w(A)||w(M))throw Error("slowDivide_ only works with positive integers.");for(var P=g,F=M;F.l(A)<=0;)P=R(P),F=R(F);var L=O(P,1),D=O(F,1);for(F=O(F,2),P=O(P,2);!_(F);){var V=D.add(F);V.l(A)<=0&&(L=L.add(P),D=V),F=O(F,1),P=O(P,1)}return M=N(A,L.j(M)),new k(L,M)}for(L=m;A.l(M)>=0;){for(P=Math.max(1,Math.floor(A.m()/M.m())),F=Math.ceil(Math.log(P)/Math.LN2),F=F<=48?1:Math.pow(2,F-48),D=h(P),V=D.j(M);w(V)||V.l(A)>0;)P-=F,D=h(P),V=D.j(M);_(D)&&(D=g),L=L.add(D),A=N(A,V)}return new k(L,A)}t.B=function(A){return C(this,A).h},t.and=function(A){const M=Math.max(this.g.length,A.g.length),P=[];for(let F=0;F<M;F++)P[F]=this.i(F)&A.i(F);return new o(P,this.h&A.h)},t.or=function(A){const M=Math.max(this.g.length,A.g.length),P=[];for(let F=0;F<M;F++)P[F]=this.i(F)|A.i(F);return new o(P,this.h|A.h)},t.xor=function(A){const M=Math.max(this.g.length,A.g.length),P=[];for(let F=0;F<M;F++)P[F]=this.i(F)^A.i(F);return new o(P,this.h^A.h)};function R(A){const M=A.g.length+1,P=[];for(let F=0;F<M;F++)P[F]=A.i(F)<<1|A.i(F-1)>>>31;return new o(P,A.h)}function O(A,M){const P=M>>5;M%=32;const F=A.g.length-P,L=[];for(let D=0;D<F;D++)L[D]=M>0?A.i(D+P)>>>M|A.i(D+P+1)<<32-M:A.i(D+P);return new o(L,A.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,nF=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=f,xl=o}).apply(typeof uR<"u"?uR:typeof self<"u"?self:typeof window<"u"?window:{});var Ug=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rF,Tf,sF,hx,h_,iF,aF,oF;(function(){var t,e=Object.defineProperty;function n(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ug=="object"&&Ug];for(var I=0;I<v.length;++I){var U=v[I];if(U&&U.Math==Math)return U}throw Error("Cannot find global object")}var r=n(this);function i(v,I){if(I)e:{var U=r;v=v.split(".");for(var H=0;H<v.length-1;H++){var le=v[H];if(!(le in U))break e;U=U[le]}v=v[v.length-1],H=U[v],I=I(H),I!=H&&I!=null&&e(U,v,{configurable:!0,writable:!0,value:I})}}i("Symbol.dispose",function(v){return v||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(v){return v||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(v){return v||function(I){var U=[],H;for(H in I)Object.prototype.hasOwnProperty.call(I,H)&&U.push([H,I[H]]);return U}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function c(v){var I=typeof v;return I=="object"&&v!=null||I=="function"}function u(v,I,U){return v.call.apply(v.bind,arguments)}function h(v,I,U){return h=u,h.apply(null,arguments)}function f(v,I){var U=Array.prototype.slice.call(arguments,1);return function(){var H=U.slice();return H.push.apply(H,arguments),v.apply(this,H)}}function m(v,I){function U(){}U.prototype=I.prototype,v.Z=I.prototype,v.prototype=new U,v.prototype.constructor=v,v.Ob=function(H,le,me){for(var Ve=Array(arguments.length-2),St=2;St<arguments.length;St++)Ve[St-2]=arguments[St];return I.prototype[le].apply(H,Ve)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?v=>v&&AsyncContext.Snapshot.wrap(v):v=>v;function x(v){const I=v.length;if(I>0){const U=Array(I);for(let H=0;H<I;H++)U[H]=v[H];return U}return[]}function _(v,I){for(let H=1;H<arguments.length;H++){const le=arguments[H];var U=typeof le;if(U=U!="object"?U:le?Array.isArray(le)?"array":U:"null",U=="array"||U=="object"&&typeof le.length=="number"){U=v.length||0;const me=le.length||0;v.length=U+me;for(let Ve=0;Ve<me;Ve++)v[U+Ve]=le[Ve]}else v.push(le)}}class w{constructor(I,U){this.i=I,this.j=U,this.h=0,this.g=null}get(){let I;return this.h>0?(this.h--,I=this.g,this.g=I.next,I.next=null):I=this.i(),I}}function j(v){o.setTimeout(()=>{throw v},0)}function N(){var v=A;let I=null;return v.g&&(I=v.g,v.g=v.g.next,v.g||(v.h=null),I.next=null),I}class S{constructor(){this.h=this.g=null}add(I,U){const H=k.get();H.set(I,U),this.h?this.h.next=H:this.g=H,this.h=H}}var k=new w(()=>new C,v=>v.reset());class C{constructor(){this.next=this.g=this.h=null}set(I,U){this.h=I,this.g=U,this.next=null}reset(){this.next=this.g=this.h=null}}let R,O=!1,A=new S,M=()=>{const v=Promise.resolve(void 0);R=()=>{v.then(P)}};function P(){for(var v;v=N();){try{v.h.call(v.g)}catch(U){j(U)}var I=k;I.j(v),I.h<100&&(I.h++,v.next=I.g,I.g=v)}O=!1}function F(){this.u=this.u,this.C=this.C}F.prototype.u=!1,F.prototype.dispose=function(){this.u||(this.u=!0,this.N())},F.prototype[Symbol.dispose]=function(){this.dispose()},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(v,I){this.type=v,this.g=this.target=I,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var D=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var v=!1,I=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const U=()=>{};o.addEventListener("test",U,I),o.removeEventListener("test",U,I)}catch{}return v})();function V(v){return/^[\s\xa0]*$/.test(v)}function G(v,I){L.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v&&this.init(v,I)}m(G,L),G.prototype.init=function(v,I){const U=this.type=v.type,H=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;this.target=v.target||v.srcElement,this.g=I,I=v.relatedTarget,I||(U=="mouseover"?I=v.fromElement:U=="mouseout"&&(I=v.toElement)),this.relatedTarget=I,H?(this.clientX=H.clientX!==void 0?H.clientX:H.pageX,this.clientY=H.clientY!==void 0?H.clientY:H.pageY,this.screenX=H.screenX||0,this.screenY=H.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=v.pointerType,this.state=v.state,this.i=v,v.defaultPrevented&&G.Z.h.call(this)},G.prototype.h=function(){G.Z.h.call(this);const v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var ee="closure_listenable_"+(Math.random()*1e6|0),ae=0;function ue(v,I,U,H,le){this.listener=v,this.proxy=null,this.src=I,this.type=U,this.capture=!!H,this.ha=le,this.key=++ae,this.da=this.fa=!1}function Q(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function K(v,I,U){for(const H in v)I.call(U,v[H],H,v)}function B(v,I){for(const U in v)I.call(void 0,v[U],U,v)}function z(v){const I={};for(const U in v)I[U]=v[U];return I}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function q(v,I){let U,H;for(let le=1;le<arguments.length;le++){H=arguments[le];for(U in H)v[U]=H[U];for(let me=0;me<X.length;me++)U=X[me],Object.prototype.hasOwnProperty.call(H,U)&&(v[U]=H[U])}}function ye(v){this.src=v,this.g={},this.h=0}ye.prototype.add=function(v,I,U,H,le){const me=v.toString();v=this.g[me],v||(v=this.g[me]=[],this.h++);const Ve=Ee(v,I,H,le);return Ve>-1?(I=v[Ve],U||(I.fa=!1)):(I=new ue(I,this.src,me,!!H,le),I.fa=U,v.push(I)),I};function _e(v,I){const U=I.type;if(U in v.g){var H=v.g[U],le=Array.prototype.indexOf.call(H,I,void 0),me;(me=le>=0)&&Array.prototype.splice.call(H,le,1),me&&(Q(I),v.g[U].length==0&&(delete v.g[U],v.h--))}}function Ee(v,I,U,H){for(let le=0;le<v.length;++le){const me=v[le];if(!me.da&&me.listener==I&&me.capture==!!U&&me.ha==H)return le}return-1}var ve="closure_lm_"+(Math.random()*1e6|0),Fe={};function Ie(v,I,U,H,le){if(Array.isArray(I)){for(let me=0;me<I.length;me++)Ie(v,I[me],U,H,le);return null}return U=Ln(U),v&&v[ee]?v.J(I,U,c(H)?!!H.capture:!1,le):ze(v,I,U,!1,H,le)}function ze(v,I,U,H,le,me){if(!I)throw Error("Invalid event type");const Ve=c(le)?!!le.capture:!!le;let St=Xe(v);if(St||(v[ve]=St=new ye(v)),U=St.add(I,U,H,Ve,me),U.proxy)return U;if(H=rt(),U.proxy=H,H.src=v,H.listener=U,v.addEventListener)D||(le=Ve),le===void 0&&(le=!1),v.addEventListener(I.toString(),H,le);else if(v.attachEvent)v.attachEvent(ge(I.toString()),H);else if(v.addListener&&v.removeListener)v.addListener(H);else throw Error("addEventListener and attachEvent are unavailable.");return U}function rt(){function v(U){return I.call(v.src,v.listener,U)}const I=Re;return v}function de(v,I,U,H,le){if(Array.isArray(I))for(var me=0;me<I.length;me++)de(v,I[me],U,H,le);else H=c(H)?!!H.capture:!!H,U=Ln(U),v&&v[ee]?(v=v.i,me=String(I).toString(),me in v.g&&(I=v.g[me],U=Ee(I,U,H,le),U>-1&&(Q(I[U]),Array.prototype.splice.call(I,U,1),I.length==0&&(delete v.g[me],v.h--)))):v&&(v=Xe(v))&&(I=v.g[I.toString()],v=-1,I&&(v=Ee(I,U,H,le)),(U=v>-1?I[v]:null)&&se(U))}function se(v){if(typeof v!="number"&&v&&!v.da){var I=v.src;if(I&&I[ee])_e(I.i,v);else{var U=v.type,H=v.proxy;I.removeEventListener?I.removeEventListener(U,H,v.capture):I.detachEvent?I.detachEvent(ge(U),H):I.addListener&&I.removeListener&&I.removeListener(H),(U=Xe(I))?(_e(U,v),U.h==0&&(U.src=null,I[ve]=null)):Q(v)}}}function ge(v){return v in Fe?Fe[v]:Fe[v]="on"+v}function Re(v,I){if(v.da)v=!0;else{I=new G(I,this);const U=v.listener,H=v.ha||v.src;v.fa&&se(v),v=U.call(H,I)}return v}function Xe(v){return v=v[ve],v instanceof ye?v:null}var It="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ln(v){return typeof v=="function"?v:(v[It]||(v[It]=function(I){return v.handleEvent(I)}),v[It])}function kt(){F.call(this),this.i=new ye(this),this.M=this,this.G=null}m(kt,F),kt.prototype[ee]=!0,kt.prototype.removeEventListener=function(v,I,U,H){de(this,v,I,U,H)};function qt(v,I){var U,H=v.G;if(H)for(U=[];H;H=H.G)U.push(H);if(v=v.M,H=I.type||I,typeof I=="string")I=new L(I,v);else if(I instanceof L)I.target=I.target||v;else{var le=I;I=new L(H,v),q(I,le)}le=!0;let me,Ve;if(U)for(Ve=U.length-1;Ve>=0;Ve--)me=I.g=U[Ve],le=Hn(me,H,!0,I)&&le;if(me=I.g=v,le=Hn(me,H,!0,I)&&le,le=Hn(me,H,!1,I)&&le,U)for(Ve=0;Ve<U.length;Ve++)me=I.g=U[Ve],le=Hn(me,H,!1,I)&&le}kt.prototype.N=function(){if(kt.Z.N.call(this),this.i){var v=this.i;for(const I in v.g){const U=v.g[I];for(let H=0;H<U.length;H++)Q(U[H]);delete v.g[I],v.h--}}this.G=null},kt.prototype.J=function(v,I,U,H){return this.i.add(String(v),I,!1,U,H)},kt.prototype.K=function(v,I,U,H){return this.i.add(String(v),I,!0,U,H)};function Hn(v,I,U,H){if(I=v.i.g[String(I)],!I)return!0;I=I.concat();let le=!0;for(let me=0;me<I.length;++me){const Ve=I[me];if(Ve&&!Ve.da&&Ve.capture==U){const St=Ve.listener,Fn=Ve.ha||Ve.src;Ve.fa&&_e(v.i,Ve),le=St.call(Fn,H)!==!1&&le}}return le&&!H.defaultPrevented}function Gs(v,I){if(typeof v!="function")if(v&&typeof v.handleEvent=="function")v=h(v.handleEvent,v);else throw Error("Invalid listener argument");return Number(I)>2147483647?-1:o.setTimeout(v,I||0)}function is(v){v.g=Gs(()=>{v.g=null,v.i&&(v.i=!1,is(v))},v.l);const I=v.h;v.h=null,v.m.apply(null,I)}class Cr extends F{constructor(I,U){super(),this.m=I,this.l=U,this.h=null,this.i=!1,this.g=null}j(I){this.h=arguments,this.g?this.i=!0:is(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ar(v){F.call(this),this.h=v,this.g={}}m(Ar,F);var xe=[];function Te(v){K(v.g,function(I,U){this.g.hasOwnProperty(U)&&se(I)},v),v.g={}}Ar.prototype.N=function(){Ar.Z.N.call(this),Te(this)},Ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ot=o.JSON.stringify,Tt=o.JSON.parse,Ft=class{stringify(v){return o.JSON.stringify(v,void 0)}parse(v){return o.JSON.parse(v,void 0)}};function Rn(){}function as(){}var Wn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qr(){L.call(this,"d")}m(qr,L);function ks(){L.call(this,"c")}m(ks,L);var cn={},Tr=null;function fe(){return Tr=Tr||new kt}cn.Ia="serverreachability";function Ze(v){L.call(this,cn.Ia,v)}m(Ze,L);function et(v){const I=fe();qt(I,new Ze(I))}cn.STAT_EVENT="statevent";function Ge(v,I){L.call(this,cn.STAT_EVENT,v),this.stat=I}m(Ge,L);function gt(v){const I=fe();qt(I,new Ge(I,v))}cn.Ja="timingevent";function xt(v,I){L.call(this,cn.Ja,v),this.size=I}m(xt,L);function dn(v,I){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){v()},I)}function xn(){this.g=!0}xn.prototype.ua=function(){this.g=!1};function La(v,I,U,H,le,me){v.info(function(){if(v.g)if(me){var Ve="",St=me.split("&");for(let on=0;on<St.length;on++){var Fn=St[on].split("=");if(Fn.length>1){const Kn=Fn[0];Fn=Fn[1];const Ds=Kn.split("_");Ve=Ds.length>=2&&Ds[1]=="type"?Ve+(Kn+"="+Fn+"&"):Ve+(Kn+"=redacted&")}}}else Ve=null;else Ve=me;return"XMLHTTP REQ ("+H+") [attempt "+le+"]: "+I+`
`+U+`
`+Ve})}function $i(v,I,U,H,le,me,Ve){v.info(function(){return"XMLHTTP RESP ("+H+") [ attempt "+le+"]: "+I+`
`+U+`
`+me+" "+Ve})}function Hr(v,I,U,H){v.info(function(){return"XMLHTTP TEXT ("+I+"): "+os(v,U)+(H?" "+H:"")})}function Bi(v,I){v.info(function(){return"TIMEOUT: "+I})}xn.prototype.info=function(){};function os(v,I){if(!v.g)return I;if(!I)return null;try{const me=JSON.parse(I);if(me){for(v=0;v<me.length;v++)if(Array.isArray(me[v])){var U=me[v];if(!(U.length<2)){var H=U[1];if(Array.isArray(H)&&!(H.length<1)){var le=H[0];if(le!="noop"&&le!="stop"&&le!="close")for(let Ve=1;Ve<H.length;Ve++)H[Ve]=""}}}}return ot(me)}catch{return I}}var Wr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ls={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Bl;function Qs(){}m(Qs,Rn),Qs.prototype.g=function(){return new XMLHttpRequest},Bl=new Qs;function Cs(v){return encodeURIComponent(String(v))}function Fa(v){var I=1;v=v.split(":");const U=[];for(;I>0&&v.length;)U.push(v.shift()),I--;return v.length&&U.push(v.join(":")),U}function Kr(v,I,U,H){this.j=v,this.i=I,this.l=U,this.S=H||1,this.V=new Ar(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zl}function zl(){this.i=null,this.g="",this.h=!1}var As={},zi={};function vr(v,I,U){v.M=1,v.A=Ua(Ys(I)),v.u=U,v.R=!0,Ts(v,null)}function Ts(v,I){v.F=Date.now(),yi(v),v.B=Ys(v.A);var U=v.B,H=v.S;Array.isArray(H)||(H=[String(H)]),Dh(U.i,"t",H),v.C=0,U=v.j.L,v.h=new zl,v.g=cp(v.j,U?I:null,!v.u),v.P>0&&(v.O=new Cr(h(v.Y,v,v.g),v.P)),I=v.V,U=v.g,H=v.ba;var le="readystatechange";Array.isArray(le)||(le&&(xe[0]=le.toString()),le=xe);for(let me=0;me<le.length;me++){const Ve=Ie(U,le[me],H||I.handleEvent,!1,I.h||I);if(!Ve)break;I.g[Ve.key]=Ve}I=v.J?z(v.J):{},v.u?(v.v||(v.v="POST"),I["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.B,v.v,v.u,I)):(v.v="GET",v.g.ea(v.B,v.v,null,I)),et(),La(v.i,v.v,v.B,v.l,v.S,v.u)}Kr.prototype.ba=function(v){v=v.target;const I=this.O;I&&Yi(v)==3?I.j():this.Y(v)},Kr.prototype.Y=function(v){try{if(v==this.g)e:{const St=Yi(this.g),Fn=this.g.ya(),on=this.g.ca();if(!(St<3)&&(St!=3||this.g&&(this.h.h||this.g.la()||op(this.g)))){this.K||St!=4||Fn==7||(Fn==8||on<=0?et(3):et(2)),Js(this);var I=this.g.ca();this.X=I;var U=In(this);if(this.o=I==200,$i(this.i,this.v,this.B,this.l,this.S,St,I),this.o){if(this.U&&!this.L){t:{if(this.g){var H,le=this.g;if((H=le.g?le.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(H)){var me=H;break t}}me=null}if(v=me)Hr(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,He(this,v);else{this.o=!1,this.m=3,gt(12),wt(this),cs(this);break e}}if(this.R){v=!0;let Kn;for(;!this.K&&this.C<U.length;)if(Kn=_o(this,U),Kn==zi){St==4&&(this.m=4,gt(14),v=!1),Hr(this.i,this.l,null,"[Incomplete Response]");break}else if(Kn==As){this.m=4,gt(15),Hr(this.i,this.l,U,"[Invalid Chunk]"),v=!1;break}else Hr(this.i,this.l,Kn,null),He(this,Kn);if(Rr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||U.length!=0||this.h.h||(this.m=1,gt(16),v=!1),this.o=this.o&&v,!v)Hr(this.i,this.l,U,"[Invalid Chunked Response]"),wt(this),cs(this);else if(U.length>0&&!this.W){this.W=!0;var Ve=this.j;Ve.g==this&&Ve.aa&&!Ve.P&&(Ve.j.info("Great, no buffering proxy detected. Bytes received: "+U.length),Xl(Ve),Ve.P=!0,gt(11))}}else Hr(this.i,this.l,U,null),He(this,U);St==4&&wt(this),this.o&&!this.K&&(St==4?yu(this.j,this):(this.o=!1,yi(this)))}else Fh(this.g),I==400&&U.indexOf("Unknown SID")>0?(this.m=3,gt(12)):(this.m=0,gt(13)),wt(this),cs(this)}}}catch{}finally{}};function In(v){if(!Rr(v))return v.g.la();const I=op(v.g);if(I==="")return"";let U="";const H=I.length,le=Yi(v.g)==4;if(!v.h.i){if(typeof TextDecoder>"u")return wt(v),cs(v),"";v.h.i=new o.TextDecoder}for(let me=0;me<H;me++)v.h.h=!0,U+=v.h.i.decode(I[me],{stream:!(le&&me==H-1)});return I.length=0,v.h.g+=U,v.C=0,v.h.g}function Rr(v){return v.g?v.v=="GET"&&v.M!=2&&v.j.Aa:!1}function _o(v,I){var U=v.C,H=I.indexOf(`
`,U);return H==-1?zi:(U=Number(I.substring(U,H)),isNaN(U)?As:(H+=1,H+U>I.length?zi:(I=I.slice(H,H+U),v.C=H+U,I)))}Kr.prototype.cancel=function(){this.K=!0,wt(this)};function yi(v){v.T=Date.now()+v.H,qi(v,v.H)}function qi(v,I){if(v.D!=null)throw Error("WatchDog timer not null");v.D=dn(h(v.aa,v),I)}function Js(v){v.D&&(o.clearTimeout(v.D),v.D=null)}Kr.prototype.aa=function(){this.D=null;const v=Date.now();v-this.T>=0?(Bi(this.i,this.B),this.M!=2&&(et(),gt(17)),wt(this),this.m=2,cs(this)):qi(this,this.T-v)};function cs(v){v.j.I==0||v.K||yu(v.j,v)}function wt(v){Js(v);var I=v.O;I&&typeof I.dispose=="function"&&I.dispose(),v.O=null,Te(v.V),v.g&&(I=v.g,v.g=null,I.abort(),I.dispose())}function He(v,I){try{var U=v.j;if(U.I!=0&&(U.g==v||Ah(U.h,v))){if(!v.L&&Ah(U.h,v)&&U.I==3){try{var H=U.Ba.g.parse(I)}catch{H=null}if(Array.isArray(H)&&H.length==3){var le=H;if(le[0]==0){e:if(!U.v){if(U.g)if(U.g.F+3e3<v.F)xu(U),Os(U);else break e;ea(U),gt(18)}}else U.xa=le[1],0<U.xa-U.K&&le[2]<37500&&U.F&&U.A==0&&!U.C&&(U.C=dn(h(U.Va,U),6e3));ql(U.h)<=1&&U.ta&&(U.ta=void 0)}else Ms(U,11)}else if((v.L||U.g==v)&&xu(U),!V(I))for(le=U.Ba.g.parse(I),I=0;I<le.length;I++){let on=le[I];const Kn=on[0];if(!(Kn<=U.K))if(U.K=Kn,on=on[1],U.I==2)if(on[0]=="c"){U.M=on[1],U.ba=on[2];const Ds=on[3];Ds!=null&&(U.ka=Ds,U.j.info("VER="+U.ka));const Ha=on[4];Ha!=null&&(U.za=Ha,U.j.info("SVER="+U.za));const ta=on[5];ta!=null&&typeof ta=="number"&&ta>0&&(H=1.5*ta,U.O=H,U.j.info("backChannelRequestTimeoutMs_="+H)),H=U;const na=v.g;if(na){const wu=na.g?na.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wu){var me=H.h;me.g||wu.indexOf("spdy")==-1&&wu.indexOf("quic")==-1&&wu.indexOf("h2")==-1||(me.j=me.l,me.g=new Set,me.h&&(uu(me,me.h),me.h=null))}if(H.G){const $h=na.g?na.g.getResponseHeader("X-HTTP-Session-Id"):null;$h&&(H.wa=$h,en(H.J,H.G,$h))}}U.I=3,U.l&&U.l.ra(),U.aa&&(U.T=Date.now()-v.F,U.j.info("Handshake RTT: "+U.T+"ms")),H=U;var Ve=v;if(H.na=Uh(H,H.L?H.ba:null,H.W),Ve.L){Hl(H.h,Ve);var St=Ve,Fn=H.O;Fn&&(St.H=Fn),St.D&&(Js(St),yi(St)),H.g=Ve}else Ir(H);U.i.length>0&&qa(U)}else on[0]!="stop"&&on[0]!="close"||Ms(U,7);else U.I==3&&(on[0]=="stop"||on[0]=="close"?on[0]=="stop"?Ms(U,7):pu(U):on[0]!="noop"&&U.l&&U.l.qa(on),U.A=0)}}et(4)}catch{}}var Gr=class{constructor(v,I){this.g=v,this.map=I}};function Va(v){this.l=v||10,o.PerformanceNavigationTiming?(v=o.performance.getEntriesByType("navigation"),v=v.length>0&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ch(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function ql(v){return v.h?1:v.g?v.g.size:0}function Ah(v,I){return v.h?v.h==I:v.g?v.g.has(I):!1}function uu(v,I){v.g?v.g.add(I):v.h=I}function Hl(v,I){v.h&&v.h==I?v.h=null:v.g&&v.g.has(I)&&v.g.delete(I)}Va.prototype.cancel=function(){if(this.i=Rs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function Rs(v){if(v.h!=null)return v.i.concat(v.h.G);if(v.g!=null&&v.g.size!==0){let I=v.i;for(const U of v.g.values())I=I.concat(U.G);return I}return x(v.i)}var rp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Is(v,I){if(v){v=v.split("&");for(let U=0;U<v.length;U++){const H=v[U].indexOf("=");let le,me=null;H>=0?(le=v[U].substring(0,H),me=v[U].substring(H+1)):le=v[U],I(le,me?decodeURIComponent(me.replace(/\+/g," ")):"")}}}function Hi(v){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let I;v instanceof Hi?(this.l=v.l,Wl(this,v.j),this.o=v.o,this.g=v.g,Wi(this,v.u),this.h=v.h,No(this,Lh(v.i)),this.m=v.m):v&&(I=String(v).match(rp))?(this.l=!1,Wl(this,I[1]||"",!0),this.o=Kl(I[2]||""),this.g=Kl(I[3]||"",!0),Wi(this,I[4]),this.h=Kl(I[5]||"",!0),No(this,I[6]||"",!0),this.m=Kl(I[7]||"")):(this.l=!1,this.i=new $t(null,this.l))}Hi.prototype.toString=function(){const v=[];var I=this.j;I&&v.push(Gl(I,Rh,!0),":");var U=this.g;return(U||I=="file")&&(v.push("//"),(I=this.o)&&v.push(Gl(I,Rh,!0),"@"),v.push(Cs(U).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),U=this.u,U!=null&&v.push(":",String(U))),(U=this.h)&&(this.g&&U.charAt(0)!="/"&&v.push("/"),v.push(Gl(U,U.charAt(0)=="/"?Ql:Ih,!0))),(U=this.i.toString())&&v.push("?",U),(U=this.m)&&v.push("#",Gl(U,Ph)),v.join("")},Hi.prototype.resolve=function(v){const I=Ys(this);let U=!!v.j;U?Wl(I,v.j):U=!!v.o,U?I.o=v.o:U=!!v.g,U?I.g=v.g:U=v.u!=null;var H=v.h;if(U)Wi(I,v.u);else if(U=!!v.h){if(H.charAt(0)!="/")if(this.g&&!this.h)H="/"+H;else{var le=I.h.lastIndexOf("/");le!=-1&&(H=I.h.slice(0,le+1)+H)}if(le=H,le==".."||le==".")H="";else if(le.indexOf("./")!=-1||le.indexOf("/.")!=-1){H=le.lastIndexOf("/",0)==0,le=le.split("/");const me=[];for(let Ve=0;Ve<le.length;){const St=le[Ve++];St=="."?H&&Ve==le.length&&me.push(""):St==".."?((me.length>1||me.length==1&&me[0]!="")&&me.pop(),H&&Ve==le.length&&me.push("")):(me.push(St),H=!0)}H=me.join("/")}else H=le}return U?I.h=H:U=v.i.toString()!=="",U?No(I,Lh(v.i)):U=!!v.m,U&&(I.m=v.m),I};function Ys(v){return new Hi(v)}function Wl(v,I,U){v.j=U?Kl(I,!0):I,v.j&&(v.j=v.j.replace(/:$/,""))}function Wi(v,I){if(I){if(I=Number(I),isNaN(I)||I<0)throw Error("Bad port number "+I);v.u=I}else v.u=null}function No(v,I,U){I instanceof $t?(v.i=I,hu(v.i,v.l)):(U||(I=Gl(I,m0)),v.i=new $t(I,v.l))}function en(v,I,U){v.i.set(I,U)}function Ua(v){return en(v,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),v}function Kl(v,I){return v?I?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function Gl(v,I,U){return typeof v=="string"?(v=encodeURI(v).replace(I,Th),U&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function Th(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var Rh=/[#\/\?@]/g,Ih=/[#\?:]/g,Ql=/[#\?]/g,m0=/[#\?@]/g,Ph=/#/g;function $t(v,I){this.h=this.g=null,this.i=v||null,this.j=!!I}function Ki(v){v.g||(v.g=new Map,v.h=0,v.i&&Is(v.i,function(I,U){v.add(decodeURIComponent(I.replace(/\+/g," ")),U)}))}t=$t.prototype,t.add=function(v,I){Ki(this),this.i=null,v=Gi(this,v);let U=this.g.get(v);return U||this.g.set(v,U=[]),U.push(I),this.h+=1,this};function Oh(v,I){Ki(v),I=Gi(v,I),v.g.has(I)&&(v.i=null,v.h-=v.g.get(I).length,v.g.delete(I))}function du(v,I){return Ki(v),I=Gi(v,I),v.g.has(I)}t.forEach=function(v,I){Ki(this),this.g.forEach(function(U,H){U.forEach(function(le){v.call(I,le,H,this)},this)},this)};function Mh(v,I){Ki(v);let U=[];if(typeof I=="string")du(v,I)&&(U=U.concat(v.g.get(Gi(v,I))));else for(v=Array.from(v.g.values()),I=0;I<v.length;I++)U=U.concat(v[I]);return U}t.set=function(v,I){return Ki(this),this.i=null,v=Gi(this,v),du(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[I]),this.h+=1,this},t.get=function(v,I){return v?(v=Mh(this,v),v.length>0?String(v[0]):I):I};function Dh(v,I,U){Oh(v,I),U.length>0&&(v.i=null,v.g.set(Gi(v,I),x(U)),v.h+=U.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],I=Array.from(this.g.keys());for(let H=0;H<I.length;H++){var U=I[H];const le=Cs(U);U=Mh(this,U);for(let me=0;me<U.length;me++){let Ve=le;U[me]!==""&&(Ve+="="+Cs(U[me])),v.push(Ve)}}return this.i=v.join("&")};function Lh(v){const I=new $t;return I.i=v.i,v.g&&(I.g=new Map(v.g),I.h=v.h),I}function Gi(v,I){return I=String(I),v.j&&(I=I.toLowerCase()),I}function hu(v,I){I&&!v.j&&(Ki(v),v.i=null,v.g.forEach(function(U,H){const le=H.toLowerCase();H!=le&&(Oh(this,H),Dh(this,le,U))},v)),v.j=I}function Qi(v,I){const U=new xn;if(o.Image){const H=new Image;H.onload=f(br,U,"TestLoadImage: loaded",!0,I,H),H.onerror=f(br,U,"TestLoadImage: error",!1,I,H),H.onabort=f(br,U,"TestLoadImage: abort",!1,I,H),H.ontimeout=f(br,U,"TestLoadImage: timeout",!1,I,H),o.setTimeout(function(){H.ontimeout&&H.ontimeout()},1e4),H.src=v}else I(!1)}function Ji(v,I){const U=new xn,H=new AbortController,le=setTimeout(()=>{H.abort(),br(U,"TestPingServer: timeout",!1,I)},1e4);fetch(v,{signal:H.signal}).then(me=>{clearTimeout(le),me.ok?br(U,"TestPingServer: ok",!0,I):br(U,"TestPingServer: server error",!1,I)}).catch(()=>{clearTimeout(le),br(U,"TestPingServer: error",!1,I)})}function br(v,I,U,H,le){try{le&&(le.onload=null,le.onerror=null,le.onabort=null,le.ontimeout=null),H(U)}catch{}}function Jl(){this.g=new Ft}function $a(v){this.i=v.Sb||null,this.h=v.ab||!1}m($a,Rn),$a.prototype.g=function(){return new Ps(this.i,this.h)};function Ps(v,I){kt.call(this),this.H=v,this.o=I,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(Ps,kt),t=Ps.prototype,t.open=function(v,I){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=v,this.D=I,this.readyState=1,vi(this)},t.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const I={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};v&&(I.body=v),(this.H||o).fetch(new Request(this.D,I)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,So(this)),this.readyState=0},t.Pa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,vi(this)),this.g&&(this.readyState=3,vi(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;sp(this)}else v.text().then(this.Oa.bind(this),this.ga.bind(this))};function sp(v){v.j.read().then(v.Ma.bind(v)).catch(v.ga.bind(v))}t.Ma=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var I=v.value?v.value:new Uint8Array(0);(I=this.B.decode(I,{stream:!v.done}))&&(this.response=this.responseText+=I)}v.done?So(this):vi(this),this.readyState==3&&sp(this)}},t.Oa=function(v){this.g&&(this.response=this.responseText=v,So(this))},t.Na=function(v){this.g&&(this.response=v,So(this))},t.ga=function(){this.g&&So(this)};function So(v){v.readyState=4,v.l=null,v.j=null,v.B=null,vi(v)}t.setRequestHeader=function(v,I){this.A.append(v,I)},t.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],I=this.h.entries();for(var U=I.next();!U.done;)U=U.value,v.push(U[0]+": "+U[1]),U=I.next();return v.join(`\r
`)};function vi(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(Ps.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function ip(v){let I="";return K(v,function(U,H){I+=H,I+=":",I+=U,I+=`\r
`}),I}function fu(v,I,U){e:{for(H in U){var H=!1;break e}H=!0}H||(U=ip(U),typeof v=="string"?U!=null&&Cs(U):en(v,I,U))}function hn(v){kt.call(this),this.headers=new Map,this.L=v||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(hn,kt);var ap=/^https?$/i,p0=["POST","PUT"];t=hn.prototype,t.Fa=function(v){this.H=v},t.ea=function(v,I,U,H){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);I=I?I.toUpperCase():"GET",this.D=v,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Bl.g(),this.g.onreadystatechange=g(h(this.Ca,this));try{this.B=!0,this.g.open(I,String(v),!0),this.B=!1}catch(me){Eo(this,me);return}if(v=U||"",U=new Map(this.headers),H)if(Object.getPrototypeOf(H)===Object.prototype)for(var le in H)U.set(le,H[le]);else if(typeof H.keys=="function"&&typeof H.get=="function")for(const me of H.keys())U.set(me,H.get(me));else throw Error("Unknown input type for opt_headers: "+String(H));H=Array.from(U.keys()).find(me=>me.toLowerCase()=="content-type"),le=o.FormData&&v instanceof o.FormData,!(Array.prototype.indexOf.call(p0,I,void 0)>=0)||H||le||U.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[me,Ve]of U)this.g.setRequestHeader(me,Ve);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(v),this.v=!1}catch(me){Eo(this,me)}};function Eo(v,I){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=I,v.o=5,ko(v),za(v)}function ko(v){v.A||(v.A=!0,qt(v,"complete"),qt(v,"error"))}t.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=v||7,qt(this,"complete"),qt(this,"abort"),za(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),za(this,!0)),hn.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Ba(this):this.Xa())},t.Xa=function(){Ba(this)};function Ba(v){if(v.h&&typeof a<"u"){if(v.v&&Yi(v)==4)setTimeout(v.Ca.bind(v),0);else if(qt(v,"readystatechange"),Yi(v)==4){v.h=!1;try{const me=v.ca();e:switch(me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var I=!0;break e;default:I=!1}var U;if(!(U=I)){var H;if(H=me===0){let Ve=String(v.D).match(rp)[1]||null;!Ve&&o.self&&o.self.location&&(Ve=o.self.location.protocol.slice(0,-1)),H=!ap.test(Ve?Ve.toLowerCase():"")}U=H}if(U)qt(v,"complete"),qt(v,"success");else{v.o=6;try{var le=Yi(v)>2?v.g.statusText:""}catch{le=""}v.l=le+" ["+v.ca()+"]",ko(v)}}finally{za(v)}}}}function za(v,I){if(v.g){v.m&&(clearTimeout(v.m),v.m=null);const U=v.g;v.g=null,I||qt(v,"ready");try{U.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Yi(v){return v.g?v.g.readyState:0}t.ca=function(){try{return Yi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(v){if(this.g){var I=this.g.responseText;return v&&I.indexOf(v)==0&&(I=I.substring(v.length)),Tt(I)}};function op(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.F){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function Fh(v){const I={};v=(v.g&&Yi(v)>=2&&v.g.getAllResponseHeaders()||"").split(`\r
`);for(let H=0;H<v.length;H++){if(V(v[H]))continue;var U=Fa(v[H]);const le=U[0];if(U=U[1],typeof U!="string")continue;U=U.trim();const me=I[le]||[];I[le]=me,me.push(U)}B(I,function(H){return H.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xi(v,I,U){return U&&U.internalChannelParams&&U.internalChannelParams[v]||I}function mu(v){this.za=0,this.i=[],this.j=new xn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Xi("failFast",!1,v),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Xi("baseRetryDelayMs",5e3,v),this.Za=Xi("retryDelaySeedMs",1e4,v),this.Ta=Xi("forwardChannelMaxRetries",2,v),this.va=Xi("forwardChannelRequestTimeoutMs",2e4,v),this.ma=v&&v.xmlHttpFactory||void 0,this.Ua=v&&v.Rb||void 0,this.Aa=v&&v.useFetchStreams||!1,this.O=void 0,this.L=v&&v.supportsCrossDomainXhr||!1,this.M="",this.h=new Va(v&&v.concurrentRequestLimit),this.Ba=new Jl,this.S=v&&v.fastHandshake||!1,this.R=v&&v.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=v&&v.Pb||!1,v&&v.ua&&this.j.ua(),v&&v.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&v&&v.detectBufferingProxy||!1,this.ia=void 0,v&&v.longPollingTimeout&&v.longPollingTimeout>0&&(this.ia=v.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=mu.prototype,t.ka=8,t.I=1,t.connect=function(v,I,U,H){gt(0),this.W=v,this.H=I||{},U&&H!==void 0&&(this.H.OSID=U,this.H.OAID=H),this.F=this.X,this.J=Uh(this,null,this.W),qa(this)};function pu(v){if(gu(v),v.I==3){var I=v.V++,U=Ys(v.J);if(en(U,"SID",v.M),en(U,"RID",I),en(U,"TYPE","terminate"),Zi(v,U),I=new Kr(v,v.j,I),I.M=2,I.A=Ua(Ys(U)),U=!1,o.navigator&&o.navigator.sendBeacon)try{U=o.navigator.sendBeacon(I.A.toString(),"")}catch{}!U&&o.Image&&(new Image().src=I.A,U=!0),U||(I.g=cp(I.j,null),I.g.ea(I.A)),I.F=Date.now(),yi(I)}Zl(v)}function Os(v){v.g&&(Xl(v),v.g.cancel(),v.g=null)}function gu(v){Os(v),v.v&&(o.clearTimeout(v.v),v.v=null),xu(v),v.h.cancel(),v.m&&(typeof v.m=="number"&&o.clearTimeout(v.m),v.m=null)}function qa(v){if(!Ch(v.h)&&!v.m){v.m=!0;var I=v.Ea;R||M(),O||(R(),O=!0),A.add(I,v),v.D=0}}function lp(v,I){return ql(v.h)>=v.h.j-(v.m?1:0)?!1:v.m?(v.i=I.G.concat(v.i),!0):v.I==1||v.I==2||v.D>=(v.Sa?0:v.Ta)?!1:(v.m=dn(h(v.Ea,v,I),vu(v,v.D)),v.D++,!0)}t.Ea=function(v){if(this.m)if(this.m=null,this.I==1){if(!v){this.V=Math.floor(Math.random()*1e5),v=this.V++;const le=new Kr(this,this.j,v);let me=this.o;if(this.U&&(me?(me=z(me),q(me,this.U)):me=this.U),this.u!==null||this.R||(le.J=me,me=null),this.S)e:{for(var I=0,U=0;U<this.i.length;U++){t:{var H=this.i[U];if("__data__"in H.map&&(H=H.map.__data__,typeof H=="string")){H=H.length;break t}H=void 0}if(H===void 0)break;if(I+=H,I>4096){I=U;break e}if(I===4096||U===this.i.length-1){I=U+1;break e}}I=1e3}else I=1e3;I=Vh(this,le,I),U=Ys(this.J),en(U,"RID",v),en(U,"CVER",22),this.G&&en(U,"X-HTTP-Session-Id",this.G),Zi(this,U),me&&(this.R?I="headers="+Cs(ip(me))+"&"+I:this.u&&fu(U,this.u,me)),uu(this.h,le),this.Ra&&en(U,"TYPE","init"),this.S?(en(U,"$req",I),en(U,"SID","null"),le.U=!0,vr(le,U,null)):vr(le,U,I),this.I=2}}else this.I==3&&(v?Yl(this,v):this.i.length==0||Ch(this.h)||Yl(this))};function Yl(v,I){var U;I?U=I.l:U=v.V++;const H=Ys(v.J);en(H,"SID",v.M),en(H,"RID",U),en(H,"AID",v.K),Zi(v,H),v.u&&v.o&&fu(H,v.u,v.o),U=new Kr(v,v.j,U,v.D+1),v.u===null&&(U.J=v.o),I&&(v.i=I.G.concat(v.i)),I=Vh(v,U,1e3),U.H=Math.round(v.va*.5)+Math.round(v.va*.5*Math.random()),uu(v.h,U),vr(U,H,I)}function Zi(v,I){v.H&&K(v.H,function(U,H){en(I,H,U)}),v.l&&K({},function(U,H){en(I,H,U)})}function Vh(v,I,U){U=Math.min(v.i.length,U);const H=v.l?h(v.l.Ka,v.l,v):null;e:{var le=v.i;let St=-1;for(;;){const Fn=["count="+U];St==-1?U>0?(St=le[0].g,Fn.push("ofs="+St)):St=0:Fn.push("ofs="+St);let on=!0;for(let Kn=0;Kn<U;Kn++){var me=le[Kn].g;const Ds=le[Kn].map;if(me-=St,me<0)St=Math.max(0,le[Kn].g-100),on=!1;else try{me="req"+me+"_"||"";try{var Ve=Ds instanceof Map?Ds:Object.entries(Ds);for(const[Ha,ta]of Ve){let na=ta;c(ta)&&(na=ot(ta)),Fn.push(me+Ha+"="+encodeURIComponent(na))}}catch(Ha){throw Fn.push(me+"type="+encodeURIComponent("_badmap")),Ha}}catch{H&&H(Ds)}}if(on){Ve=Fn.join("&");break e}}Ve=void 0}return v=v.i.splice(0,U),I.G=v,Ve}function Ir(v){if(!v.g&&!v.v){v.Y=1;var I=v.Da;R||M(),O||(R(),O=!0),A.add(I,v),v.A=0}}function ea(v){return v.g||v.v||v.A>=3?!1:(v.Y++,v.v=dn(h(v.Da,v),vu(v,v.A)),v.A++,!0)}t.Da=function(){if(this.v=null,Co(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var v=4*this.T;this.j.info("BP detection timer enabled: "+v),this.B=dn(h(this.Wa,this),v)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,gt(10),Os(this),Co(this))};function Xl(v){v.B!=null&&(o.clearTimeout(v.B),v.B=null)}function Co(v){v.g=new Kr(v,v.j,"rpc",v.Y),v.u===null&&(v.g.J=v.o),v.g.P=0;var I=Ys(v.na);en(I,"RID","rpc"),en(I,"SID",v.M),en(I,"AID",v.K),en(I,"CI",v.F?"0":"1"),!v.F&&v.ia&&en(I,"TO",v.ia),en(I,"TYPE","xmlhttp"),Zi(v,I),v.u&&v.o&&fu(I,v.u,v.o),v.O&&(v.g.H=v.O);var U=v.g;v=v.ba,U.M=1,U.A=Ua(Ys(I)),U.u=null,U.R=!0,Ts(U,v)}t.Va=function(){this.C!=null&&(this.C=null,Os(this),ea(this),gt(19))};function xu(v){v.C!=null&&(o.clearTimeout(v.C),v.C=null)}function yu(v,I){var U=null;if(v.g==I){xu(v),Xl(v),v.g=null;var H=2}else if(Ah(v.h,I))U=I.G,Hl(v.h,I),H=1;else return;if(v.I!=0){if(I.o)if(H==1){U=I.u?I.u.length:0,I=Date.now()-I.F;var le=v.D;H=fe(),qt(H,new xt(H,U)),qa(v)}else Ir(v);else if(le=I.m,le==3||le==0&&I.X>0||!(H==1&&lp(v,I)||H==2&&ea(v)))switch(U&&U.length>0&&(I=v.h,I.i=I.i.concat(U)),le){case 1:Ms(v,5);break;case 4:Ms(v,10);break;case 3:Ms(v,6);break;default:Ms(v,2)}}}function vu(v,I){let U=v.Qa+Math.floor(Math.random()*v.Za);return v.isActive()||(U*=2),U*I}function Ms(v,I){if(v.j.info("Error code "+I),I==2){var U=h(v.bb,v),H=v.Ua;const le=!H;H=new Hi(H||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Wl(H,"https"),Ua(H),le?Qi(H.toString(),U):Ji(H.toString(),U)}else gt(2);v.I=0,v.l&&v.l.pa(I),Zl(v),gu(v)}t.bb=function(v){v?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function Zl(v){if(v.I=0,v.ja=[],v.l){const I=Rs(v.h);(I.length!=0||v.i.length!=0)&&(_(v.ja,I),_(v.ja,v.i),v.h.i.length=0,x(v.i),v.i.length=0),v.l.oa()}}function Uh(v,I,U){var H=U instanceof Hi?Ys(U):new Hi(U);if(H.g!="")I&&(H.g=I+"."+H.g),Wi(H,H.u);else{var le=o.location;H=le.protocol,I=I?I+"."+le.hostname:le.hostname,le=+le.port;const me=new Hi(null);H&&Wl(me,H),I&&(me.g=I),le&&Wi(me,le),U&&(me.h=U),H=me}return U=v.G,I=v.wa,U&&I&&en(H,U,I),en(H,"VER",v.ka),Zi(v,H),H}function cp(v,I,U){if(I&&!v.L)throw Error("Can't create secondary domain capable XhrIo object.");return I=v.Aa&&!v.ma?new hn(new $a({ab:U})):new hn(v.ma),I.Fa(v.L),I}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function up(){}t=up.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function bu(){}bu.prototype.g=function(v,I){return new wr(v,I)};function wr(v,I){kt.call(this),this.g=new mu(I),this.l=v,this.h=I&&I.messageUrlParams||null,v=I&&I.messageHeaders||null,I&&I.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=I&&I.initMessageHeaders||null,I&&I.messageContentType&&(v?v["X-WebChannel-Content-Type"]=I.messageContentType:v={"X-WebChannel-Content-Type":I.messageContentType}),I&&I.sa&&(v?v["X-WebChannel-Client-Profile"]=I.sa:v={"X-WebChannel-Client-Profile":I.sa}),this.g.U=v,(v=I&&I.Qb)&&!V(v)&&(this.g.u=v),this.A=I&&I.supportsCrossDomainXhr||!1,this.v=I&&I.sendRawJson||!1,(I=I&&I.httpSessionIdParam)&&!V(I)&&(this.g.G=I,v=this.h,v!==null&&I in v&&(v=this.h,I in v&&delete v[I])),this.j=new Ao(this)}m(wr,kt),wr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},wr.prototype.close=function(){pu(this.g)},wr.prototype.o=function(v){var I=this.g;if(typeof v=="string"){var U={};U.__data__=v,v=U}else this.v&&(U={},U.__data__=ot(v),v=U);I.i.push(new Gr(I.Ya++,v)),I.I==3&&qa(I)},wr.prototype.N=function(){this.g.l=null,delete this.j,pu(this.g),delete this.g,wr.Z.N.call(this)};function dp(v){qr.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var I=v.__sm__;if(I){e:{for(const U in I){v=U;break e}v=void 0}(this.i=v)&&(v=this.i,I=I!==null&&v in I?I[v]:void 0),this.data=I}else this.data=v}m(dp,qr);function hp(){ks.call(this),this.status=1}m(hp,ks);function Ao(v){this.g=v}m(Ao,up),Ao.prototype.ra=function(){qt(this.g,"a")},Ao.prototype.qa=function(v){qt(this.g,new dp(v))},Ao.prototype.pa=function(v){qt(this.g,new hp)},Ao.prototype.oa=function(){qt(this.g,"b")},bu.prototype.createWebChannel=bu.prototype.g,wr.prototype.send=wr.prototype.o,wr.prototype.open=wr.prototype.m,wr.prototype.close=wr.prototype.close,oF=function(){return new bu},aF=function(){return fe()},iF=cn,h_={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Wr.NO_ERROR=0,Wr.TIMEOUT=8,Wr.HTTP_ERROR=6,hx=Wr,ls.COMPLETE="complete",sF=ls,as.EventType=Wn,Wn.OPEN="a",Wn.CLOSE="b",Wn.ERROR="c",Wn.MESSAGE="d",kt.prototype.listen=kt.prototype.J,Tf=as,hn.prototype.listenOnce=hn.prototype.K,hn.prototype.getLastError=hn.prototype.Ha,hn.prototype.getLastErrorCode=hn.prototype.ya,hn.prototype.getStatus=hn.prototype.ca,hn.prototype.getResponseJson=hn.prototype.La,hn.prototype.getResponseText=hn.prototype.la,hn.prototype.send=hn.prototype.ea,hn.prototype.setWithCredentials=hn.prototype.Fa,rF=hn}).apply(typeof Ug<"u"?Ug:typeof self<"u"?self:typeof window<"u"?window:{});const dR="@firebase/firestore",hR="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vs.UNAUTHENTICATED=new vs(null),vs.GOOGLE_CREDENTIALS=new vs("google-credentials-uid"),vs.FIRST_PARTY=new vs("first-party-uid"),vs.MOCK_USER=new vs("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sh="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu=new B1("@firebase/firestore");function rd(){return tu.logLevel}function We(t,...e){if(tu.logLevel<=Ut.DEBUG){const n=e.map(X1);tu.debug(`Firestore (${Sh}): ${t}`,...n)}}function yo(t,...e){if(tu.logLevel<=Ut.ERROR){const n=e.map(X1);tu.error(`Firestore (${Sh}): ${t}`,...n)}}function vm(t,...e){if(tu.logLevel<=Ut.WARN){const n=e.map(X1);tu.warn(`Firestore (${Sh}): ${t}`,...n)}}function X1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,lF(t,r,n)}function lF(t,e,n){let r=`FIRESTORE (${Sh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw yo(r),new Error(r)}function Tn(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||lF(e,i,r)}function Wt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $e={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends $l{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nhe{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rhe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(vs.UNAUTHENTICATED)))}shutdown(){}}class she{constructor(e){this.t=e,this.currentUser=vs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Tn(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let a=new qc;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new qc,e.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const u=a;e.enqueueRetryable((async()=>{await u.promise,await i(this.currentUser)}))},c=u=>{We("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((u=>c(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(We("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new qc)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(We("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Tn(typeof r.accessToken=="string",31837,{l:r}),new nhe(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Tn(e===null||typeof e=="string",2055,{h:e}),new vs(e)}}class ihe{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=vs.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ahe{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new ihe(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(vs.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class fR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ohe{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wc(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Tn(this.o===void 0,3512);const r=a=>{a.error!=null&&We("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,We("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{We("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):We("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new fR(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Tn(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new fR(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lhe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=lhe(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function zt(t,e){return t<e?-1:t>e?1:0}function f_(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return yw(i)===yw(a)?zt(i,a):yw(i)?1:-1}return zt(t.length,e.length)}const che=55296,uhe=57343;function yw(t){const e=t.charCodeAt(0);return e>=che&&e<=uhe}function eh(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR="__name__";class ca{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ct(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ct(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ca.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ca?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=ca.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return zt(e.length,n.length)}static compareSegments(e,n){const r=ca.isNumericId(e),i=ca.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ca.extractNumericId(e).compare(ca.extractNumericId(n)):f_(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xl.fromString(e.substring(4,e.length-2))}}class Sn extends ca{construct(e,n,r){return new Sn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ut($e.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Sn(n)}static emptyPath(){return new Sn([])}}const dhe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ts extends ca{construct(e,n,r){return new ts(e,n,r)}static isValidIdentifier(e){return dhe.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ts.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===mR}static keyField(){return new ts([mR])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new ut($e.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new ut($e.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ut($e.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(r+=c,i++):(a(),i++)}if(a(),o)throw new ut($e.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ts(n)}static emptyPath(){return new ts([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.path=e}static fromPath(e){return new pt(Sn.fromString(e))}static fromName(e){return new pt(Sn.fromString(e).popFirst(5))}static empty(){return new pt(Sn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Sn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Sn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pt(new Sn(e.slice()))}}function hhe(t,e,n,r){if(e===!0&&r===!0)throw new ut($e.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function pR(t){if(pt.isDocumentKey(t))throw new ut($e.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function fhe(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function mhe(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ct(12329,{type:typeof t})}function gR(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ut($e.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=mhe(t);throw new ut($e.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(t,e){const n={typeString:t};return e&&(n.value=e),n}function Xm(t,e){if(!fhe(t))throw new ut($e.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new ut($e.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=-62135596800,yR=1e6;class Zn{static now(){return Zn.fromMillis(Date.now())}static fromDate(e){return Zn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*yR);return new Zn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ut($e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ut($e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<xR)throw new ut($e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ut($e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/yR}_compareTo(e){return this.seconds===e.seconds?zt(this.nanoseconds,e.nanoseconds):zt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Zn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Xm(e,Zn._jsonSchema))return new Zn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-xR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Zn._jsonSchemaVersion="firestore/timestamp/1.0",Zn._jsonSchema={type:tr("string",Zn._jsonSchemaVersion),seconds:tr("number"),nanoseconds:tr("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(e){return new Et(e)}static min(){return new Et(new Zn(0,0))}static max(){return new Et(new Zn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm=-1;function phe(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Et.fromTimestamp(r===1e9?new Zn(n+1,0):new Zn(n,r));return new kl(i,pt.empty(),e)}function ghe(t){return new kl(t.readTime,t.key,bm)}class kl{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new kl(Et.min(),pt.empty(),bm)}static max(){return new kl(Et.max(),pt.empty(),bm)}}function xhe(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=pt.comparator(t.documentKey,e.documentKey),n!==0?n:zt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yhe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vhe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n0(t){if(t.code!==$e.FAILED_PRECONDITION||t.message!==yhe)throw t;We("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ct(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new je(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof je?n:je.resolve(n)}catch(n){return je.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):je.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):je.reject(n)}static resolve(e){return new je(((n,r)=>{n(e)}))}static reject(e){return new je(((n,r)=>{r(e)}))}static waitFor(e){return new je(((n,r)=>{let i=0,a=0,o=!1;e.forEach((c=>{++i,c.next((()=>{++a,o&&a===i&&n()}),(u=>r(u)))})),o=!0,a===i&&n()}))}static or(e){let n=je.resolve(!1);for(const r of e)n=n.next((i=>i?je.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new je(((r,i)=>{const a=e.length,o=new Array(a);let c=0;for(let u=0;u<a;u++){const h=u;n(e[h]).next((f=>{o[h]=f,++c,c===a&&r(o)}),(f=>i(f)))}}))}static doWhile(e,n){return new je(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function bhe(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Eh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}r0.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const whe=-1;function s0(t){return t==null}function m_(t){return t===0&&1/t==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uF="";function jhe(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=vR(e)),e=_he(t.get(n),e);return vR(e)}function _he(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case uF:n+="";break;default:n+=a}}return n}function vR(t){return t+uF+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Zm(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Nhe(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e,n){this.comparator=e,this.root=n||Er.EMPTY}insert(e,n){return new qn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Er.BLACK,null,null))}remove(e){return new qn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Er.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $g(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $g(this.root,e,this.comparator,!1)}getReverseIterator(){return new $g(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $g(this.root,e,this.comparator,!0)}}class $g{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Er{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Er.RED,this.left=i??Er.EMPTY,this.right=a??Er.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Er(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Er.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Er.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Er.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Er.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ct(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ct(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ct(27949);return e+(this.isRed()?0:1)}}Er.EMPTY=null,Er.RED=!0,Er.BLACK=!1;Er.EMPTY=new class{constructor(){this.size=0}get key(){throw Ct(57766)}get value(){throw Ct(16141)}get color(){throw Ct(16727)}get left(){throw Ct(29726)}get right(){throw Ct(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new Er(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this.comparator=e,this.data=new qn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new wR(this.data.getIterator())}getIteratorFrom(e){return new wR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof cr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new cr(this.comparator);return n.data=e,n}}class wR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e){this.fields=e,e.sort(ts.comparator)}static empty(){return new hl([])}unionWith(e){let n=new cr(ts.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new hl(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return eh(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new dF("Invalid base64 string: "+a):a}})(e);return new kr(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a})(e);return new kr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return zt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kr.EMPTY_BYTE_STRING=new kr("");const She=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cl(t){if(Tn(!!t,39018),typeof t=="string"){let e=0;const n=She.exec(t);if(Tn(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:$n(t.seconds),nanos:$n(t.nanos)}}function $n(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Al(t){return typeof t=="string"?kr.fromBase64String(t):kr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hF="server_timestamp",fF="__type__",mF="__previous_value__",pF="__local_write_time__";function Z1(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[fF])==null?void 0:r.stringValue)===hF}function i0(t){const e=t.mapValue.fields[mF];return Z1(e)?i0(e):e}function wm(t){const e=Cl(t.mapValue.fields[pF].timestampValue);return new Zn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ehe{constructor(e,n,r,i,a,o,c,u,h,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=f}}const p_="(default)";class jm{constructor(e,n){this.projectId=e,this.database=n||p_}static empty(){return new jm("","")}get isDefaultDatabase(){return this.database===p_}isEqual(e){return e instanceof jm&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const khe="__type__",Che="__max__",Bg={mapValue:{}},Ahe="__vector__",g_="value";function Tl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Z1(t)?4:Rhe(t)?9007199254740991:The(t)?10:11:Ct(28295,{value:t})}function Aa(t,e){if(t===e)return!0;const n=Tl(t);if(n!==Tl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return wm(t).isEqual(wm(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=Cl(i.timestampValue),c=Cl(a.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return Al(i.bytesValue).isEqual(Al(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return $n(i.geoPointValue.latitude)===$n(a.geoPointValue.latitude)&&$n(i.geoPointValue.longitude)===$n(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return $n(i.integerValue)===$n(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=$n(i.doubleValue),c=$n(a.doubleValue);return o===c?m_(o)===m_(c):isNaN(o)&&isNaN(c)}return!1})(t,e);case 9:return eh(t.arrayValue.values||[],e.arrayValue.values||[],Aa);case 10:case 11:return(function(i,a){const o=i.mapValue.fields||{},c=a.mapValue.fields||{};if(bR(o)!==bR(c))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(c[u]===void 0||!Aa(o[u],c[u])))return!1;return!0})(t,e);default:return Ct(52216,{left:t})}}function _m(t,e){return(t.values||[]).find((n=>Aa(n,e)))!==void 0}function th(t,e){if(t===e)return 0;const n=Tl(t),r=Tl(e);if(n!==r)return zt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return zt(t.booleanValue,e.booleanValue);case 2:return(function(a,o){const c=$n(a.integerValue||a.doubleValue),u=$n(o.integerValue||o.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1})(t,e);case 3:return jR(t.timestampValue,e.timestampValue);case 4:return jR(wm(t),wm(e));case 5:return f_(t.stringValue,e.stringValue);case 6:return(function(a,o){const c=Al(a),u=Al(o);return c.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(a,o){const c=a.split("/"),u=o.split("/");for(let h=0;h<c.length&&h<u.length;h++){const f=zt(c[h],u[h]);if(f!==0)return f}return zt(c.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,o){const c=zt($n(a.latitude),$n(o.latitude));return c!==0?c:zt($n(a.longitude),$n(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return _R(t.arrayValue,e.arrayValue);case 10:return(function(a,o){var g,x,_,w;const c=a.fields||{},u=o.fields||{},h=(g=c[g_])==null?void 0:g.arrayValue,f=(x=u[g_])==null?void 0:x.arrayValue,m=zt(((_=h==null?void 0:h.values)==null?void 0:_.length)||0,((w=f==null?void 0:f.values)==null?void 0:w.length)||0);return m!==0?m:_R(h,f)})(t.mapValue,e.mapValue);case 11:return(function(a,o){if(a===Bg.mapValue&&o===Bg.mapValue)return 0;if(a===Bg.mapValue)return 1;if(o===Bg.mapValue)return-1;const c=a.fields||{},u=Object.keys(c),h=o.fields||{},f=Object.keys(h);u.sort(),f.sort();for(let m=0;m<u.length&&m<f.length;++m){const g=f_(u[m],f[m]);if(g!==0)return g;const x=th(c[u[m]],h[f[m]]);if(x!==0)return x}return zt(u.length,f.length)})(t.mapValue,e.mapValue);default:throw Ct(23264,{he:n})}}function jR(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return zt(t,e);const n=Cl(t),r=Cl(e),i=zt(n.seconds,r.seconds);return i!==0?i:zt(n.nanos,r.nanos)}function _R(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=th(n[i],r[i]);if(a)return a}return zt(n.length,r.length)}function nh(t){return x_(t)}function x_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Cl(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Al(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return pt.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=x_(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const o of r)a?a=!1:i+=",",i+=`${o}:${x_(n.fields[o])}`;return i+"}"})(t.mapValue):Ct(61005,{value:t})}function fx(t){switch(Tl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=i0(t);return e?16+fx(e):16;case 5:return 2*t.stringValue.length;case 6:return Al(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+fx(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Zm(r.fields,((a,o)=>{i+=a.length+fx(o)})),i})(t.mapValue);default:throw Ct(13486,{value:t})}}function y_(t){return!!t&&"integerValue"in t}function eS(t){return!!t&&"arrayValue"in t}function NR(t){return!!t&&"nullValue"in t}function SR(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function vw(t){return!!t&&"mapValue"in t}function The(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[khe])==null?void 0:r.stringValue)===Ahe}function Kf(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Zm(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Kf(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Kf(t.arrayValue.values[n]);return e}return{...t}}function Rhe(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Che}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e){this.value=e}static empty(){return new ma({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!vw(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kf(n)}setAll(e){let n=ts.emptyPath(),r={},i=[];e.forEach(((o,c)=>{if(!n.isImmediateParentOf(c)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}o?r[c.lastSegment()]=Kf(o):i.push(c.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());vw(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Aa(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];vw(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Zm(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new ma(Kf(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,n,r,i,a,o,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=c}static newInvalidDocument(e){return new Vr(e,0,Et.min(),Et.min(),Et.min(),ma.empty(),0)}static newFoundDocument(e,n,r,i){return new Vr(e,1,n,Et.min(),r,i,0)}static newNoDocument(e,n){return new Vr(e,2,n,Et.min(),Et.min(),ma.empty(),0)}static newUnknownDocument(e,n){return new Vr(e,3,n,Et.min(),Et.min(),ma.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ma.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ma.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Vr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e,n){this.position=e,this.inclusive=n}}function ER(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?r=pt.comparator(pt.fromName(o.referenceValue),n.key):r=th(o,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function kR(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Aa(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e,n="asc"){this.field=e,this.dir=n}}function Ihe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{}class lr extends gF{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Ohe(e,n,r):n==="array-contains"?new Lhe(e,r):n==="in"?new Fhe(e,r):n==="not-in"?new Vhe(e,r):n==="array-contains-any"?new Uhe(e,r):new lr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Mhe(e,r):new Dhe(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(th(n,this.value)):n!==null&&Tl(this.value)===Tl(n)&&this.matchesComparison(th(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ct(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ta extends gF{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ta(e,n)}matches(e){return xF(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function xF(t){return t.op==="and"}function yF(t){return Phe(t)&&xF(t)}function Phe(t){for(const e of t.filters)if(e instanceof Ta)return!1;return!0}function v_(t){if(t instanceof lr)return t.field.canonicalString()+t.op.toString()+nh(t.value);if(yF(t))return t.filters.map((e=>v_(e))).join(",");{const e=t.filters.map((n=>v_(n))).join(",");return`${t.op}(${e})`}}function vF(t,e){return t instanceof lr?(function(r,i){return i instanceof lr&&r.op===i.op&&r.field.isEqual(i.field)&&Aa(r.value,i.value)})(t,e):t instanceof Ta?(function(r,i){return i instanceof Ta&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,o,c)=>a&&vF(o,i.filters[c])),!0):!1})(t,e):void Ct(19439)}function bF(t){return t instanceof lr?(function(n){return`${n.field.canonicalString()} ${n.op} ${nh(n.value)}`})(t):t instanceof Ta?(function(n){return n.op.toString()+" {"+n.getFilters().map(bF).join(" ,")+"}"})(t):"Filter"}class Ohe extends lr{constructor(e,n,r){super(e,n,r),this.key=pt.fromName(r.referenceValue)}matches(e){const n=pt.comparator(e.key,this.key);return this.matchesComparison(n)}}class Mhe extends lr{constructor(e,n){super(e,"in",n),this.keys=wF("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Dhe extends lr{constructor(e,n){super(e,"not-in",n),this.keys=wF("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function wF(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>pt.fromName(r.referenceValue)))}class Lhe extends lr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return eS(n)&&_m(n.arrayValue,this.value)}}class Fhe extends lr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&_m(this.value.arrayValue,n)}}class Vhe extends lr{constructor(e,n){super(e,"not-in",n)}matches(e){if(_m(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!_m(this.value.arrayValue,n)}}class Uhe extends lr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!eS(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>_m(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $he{constructor(e,n=null,r=[],i=[],a=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=c,this.Te=null}}function CR(t,e=null,n=[],r=[],i=null,a=null,o=null){return new $he(t,e,n,r,i,a,o)}function tS(t){const e=Wt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>v_(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),s0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>nh(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>nh(r))).join(",")),e.Te=n}return e.Te}function nS(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Ihe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!vF(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!kR(t.startAt,e.startAt)&&kR(t.endAt,e.endAt)}function b_(t){return pt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e,n=null,r=[],i=[],a=null,o="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=c,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Bhe(t,e,n,r,i,a,o,c){return new a0(t,e,n,r,i,a,o,c)}function jF(t){return new a0(t)}function AR(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function zhe(t){return t.collectionGroup!==null}function Gf(t){const e=Wt(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new cr(ts.comparator);return o.filters.forEach((u=>{u.getFlattenedFilters().forEach((h=>{h.isInequality()&&(c=c.add(h.field))}))})),c})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new ny(a,r))})),n.has(ts.keyField().canonicalString())||e.Ie.push(new ny(ts.keyField(),r))}return e.Ie}function ja(t){const e=Wt(t);return e.Ee||(e.Ee=qhe(e,Gf(t))),e.Ee}function qhe(t,e){if(t.limitType==="F")return CR(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new ny(i.field,a)}));const n=t.endAt?new ty(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ty(t.startAt.position,t.startAt.inclusive):null;return CR(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function w_(t,e,n){return new a0(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function o0(t,e){return nS(ja(t),ja(e))&&t.limitType===e.limitType}function _F(t){return`${tS(ja(t))}|lt:${t.limitType}`}function sd(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>bF(i))).join(", ")}]`),s0(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>nh(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>nh(i))).join(",")),`Target(${r})`})(ja(t))}; limitType=${t.limitType})`}function l0(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):pt.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of Gf(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(o,c,u){const h=ER(o,c,u);return o.inclusive?h<=0:h<0})(r.startAt,Gf(r),i)||r.endAt&&!(function(o,c,u){const h=ER(o,c,u);return o.inclusive?h>=0:h>0})(r.endAt,Gf(r),i))})(t,e)}function Hhe(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function NF(t){return(e,n)=>{let r=!1;for(const i of Gf(t)){const a=Whe(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function Whe(t,e,n){const r=t.field.isKeyField()?pt.comparator(e.key,n.key):(function(a,o,c){const u=o.data.field(a),h=c.data.field(a);return u!==null&&h!==null?th(u,h):Ct(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ct(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Zm(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return Nhe(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Khe=new qn(pt.comparator);function Rl(){return Khe}const SF=new qn(pt.comparator);function Rf(...t){let e=SF;for(const n of t)e=e.insert(n.key,n);return e}function Ghe(t){let e=SF;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Cc(){return Qf()}function EF(){return Qf()}function Qf(){return new cu((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Qhe=new cr(pt.comparator);function Gt(...t){let e=Qhe;for(const n of t)e=e.add(n);return e}const Jhe=new cr(zt);function Yhe(){return Jhe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xhe(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:m_(e)?"-0":e}}function Zhe(t){return{integerValue:""+t}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(){this._=void 0}}function efe(t,e,n){return t instanceof j_?(function(i,a){const o={fields:{[fF]:{stringValue:hF},[pF]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Z1(a)&&(a=i0(a)),a&&(o.fields[mF]=a),{mapValue:o}})(n,e):t instanceof ry?kF(t,e):t instanceof sy?CF(t,e):(function(i,a){const o=nfe(i,a),c=TR(o)+TR(i.Ae);return y_(o)&&y_(i.Ae)?Zhe(c):Xhe(i.serializer,c)})(t,e)}function tfe(t,e,n){return t instanceof ry?kF(t,e):t instanceof sy?CF(t,e):n}function nfe(t,e){return t instanceof __?(function(r){return y_(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class j_ extends c0{}class ry extends c0{constructor(e){super(),this.elements=e}}function kF(t,e){const n=AF(e);for(const r of t.elements)n.some((i=>Aa(i,r)))||n.push(r);return{arrayValue:{values:n}}}class sy extends c0{constructor(e){super(),this.elements=e}}function CF(t,e){let n=AF(e);for(const r of t.elements)n=n.filter((i=>!Aa(i,r)));return{arrayValue:{values:n}}}class __ extends c0{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function TR(t){return $n(t.integerValue||t.doubleValue)}function AF(t){return eS(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function rfe(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof ry&&i instanceof ry||r instanceof sy&&i instanceof sy?eh(r.elements,i.elements,Aa):r instanceof __&&i instanceof __?Aa(r.Ae,i.Ae):r instanceof j_&&i instanceof j_})(t.transform,e.transform)}class Hc{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Hc}static exists(e){return new Hc(void 0,e)}static updateTime(e){return new Hc(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mx(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class rS{}function TF(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ife(t.key,Hc.none()):new sS(t.key,t.data,Hc.none());{const n=t.data,r=ma.empty();let i=new cr(ts.comparator);for(let a of e.fields)if(!i.has(a)){let o=n.field(a);o===null&&a.length>1&&(a=a.popLast(),o=n.field(a)),o===null?r.delete(a):r.set(a,o),i=i.add(a)}return new u0(t.key,r,new hl(i.toArray()),Hc.none())}}function sfe(t,e,n){t instanceof sS?(function(i,a,o){const c=i.value.clone(),u=IR(i.fieldTransforms,a,o.transformResults);c.setAll(u),a.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(t,e,n):t instanceof u0?(function(i,a,o){if(!mx(i.precondition,a))return void a.convertToUnknownDocument(o.version);const c=IR(i.fieldTransforms,a,o.transformResults),u=a.data;u.setAll(RF(i)),u.setAll(c),a.convertToFoundDocument(o.version,u).setHasCommittedMutations()})(t,e,n):(function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function Jf(t,e,n,r){return t instanceof sS?(function(a,o,c,u){if(!mx(a.precondition,o))return c;const h=a.value.clone(),f=PR(a.fieldTransforms,u,o);return h.setAll(f),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof u0?(function(a,o,c,u){if(!mx(a.precondition,o))return c;const h=PR(a.fieldTransforms,u,o),f=o.data;return f.setAll(RF(a)),f.setAll(h),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((m=>m.field)))})(t,e,n,r):(function(a,o,c){return mx(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c})(t,e,n)}function RR(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&eh(r,i,((a,o)=>rfe(a,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class sS extends rS{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class u0 extends rS{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function RF(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function IR(t,e,n){const r=new Map;Tn(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],o=a.transform,c=e.data.field(a.field);r.set(a.field,tfe(o,c,n[i]))}return r}function PR(t,e,n){const r=new Map;for(const i of t){const a=i.transform,o=n.data.field(i.field);r.set(i.field,efe(a,o,e))}return r}class ife extends rS{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class afe{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&sfe(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Jf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Jf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=EF();return this.mutations.forEach((i=>{const a=e.get(i.key),o=a.overlayedDocument;let c=this.applyToLocalView(o,a.mutatedFields);c=n.has(i.key)?null:c;const u=TF(o,c);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Et.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Gt())}isEqual(e){return this.batchId===e.batchId&&eh(this.mutations,e.mutations,((n,r)=>RR(n,r)))&&eh(this.baseMutations,e.baseMutations,((n,r)=>RR(n,r)))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ofe{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lfe{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qn,Ht;function IF(t){if(t===void 0)return yo("GRPC error has no .code"),$e.UNKNOWN;switch(t){case Qn.OK:return $e.OK;case Qn.CANCELLED:return $e.CANCELLED;case Qn.UNKNOWN:return $e.UNKNOWN;case Qn.DEADLINE_EXCEEDED:return $e.DEADLINE_EXCEEDED;case Qn.RESOURCE_EXHAUSTED:return $e.RESOURCE_EXHAUSTED;case Qn.INTERNAL:return $e.INTERNAL;case Qn.UNAVAILABLE:return $e.UNAVAILABLE;case Qn.UNAUTHENTICATED:return $e.UNAUTHENTICATED;case Qn.INVALID_ARGUMENT:return $e.INVALID_ARGUMENT;case Qn.NOT_FOUND:return $e.NOT_FOUND;case Qn.ALREADY_EXISTS:return $e.ALREADY_EXISTS;case Qn.PERMISSION_DENIED:return $e.PERMISSION_DENIED;case Qn.FAILED_PRECONDITION:return $e.FAILED_PRECONDITION;case Qn.ABORTED:return $e.ABORTED;case Qn.OUT_OF_RANGE:return $e.OUT_OF_RANGE;case Qn.UNIMPLEMENTED:return $e.UNIMPLEMENTED;case Qn.DATA_LOSS:return $e.DATA_LOSS;default:return Ct(39323,{code:t})}}(Ht=Qn||(Qn={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cfe(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ufe=new xl([4294967295,4294967295],0);function OR(t){const e=cfe().encode(t),n=new nF;return n.update(e),new Uint8Array(n.digest())}function MR(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new xl([n,r],0),new xl([i,a],0)]}class iS{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new If(`Invalid padding: ${n}`);if(r<0)throw new If(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new If(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new If(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=xl.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(xl.fromNumber(r)));return i.compare(ufe)===1&&(i=new xl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=OR(e),[r,i]=MR(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new iS(a,i,n);return r.forEach((c=>o.insert(c))),o}insert(e){if(this.ge===0)return;const n=OR(e),[r,i]=MR(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class If extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ep.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new d0(Et.min(),i,new qn(zt),Rl(),Gt())}}class ep{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ep(r,n,Gt(),Gt(),Gt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class PF{constructor(e,n){this.targetId=e,this.Ce=n}}class OF{constructor(e,n,r=kr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class DR{constructor(){this.ve=0,this.Fe=LR(),this.Me=kr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Gt(),n=Gt(),r=Gt();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ct(38017,{changeType:a})}})),new ep(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=LR()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Tn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class dfe{constructor(e){this.Ge=e,this.ze=new Map,this.je=Rl(),this.Je=zg(),this.He=zg(),this.Ye=new qn(zt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ct(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(b_(a))if(r===0){const o=new pt(a.path);this.et(n,o,Vr.newNoDocument(o,Et.min()))}else Tn(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const c=this.ut(e),u=c?this.ct(c,e,o):1;if(u!==0){this.it(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let o,c;try{o=Al(r).toUint8Array()}catch(u){if(u instanceof dF)return vm("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new iS(o,i,a)}catch(u){return vm(u instanceof If?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const o=this.Ge.ht(),c=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,o)=>{const c=this.ot(o);if(c){if(a.current&&b_(c.target)){const u=new pt(c.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,Vr.newNoDocument(u,e))}a.Be&&(n.set(o,a.ke()),a.qe())}}));let r=Gt();this.He.forEach(((a,o)=>{let c=!0;o.forEachWhile((u=>{const h=this.ot(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(a))})),this.je.forEach(((a,o)=>o.setReadTime(e)));const i=new d0(e,n,this.Ye,this.je,r);return this.je=Rl(),this.Je=zg(),this.He=zg(),this.Ye=new qn(zt),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new DR,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new cr(zt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new cr(zt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||We("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new DR),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function zg(){return new qn(pt.comparator)}function LR(){return new qn(pt.comparator)}const hfe={asc:"ASCENDING",desc:"DESCENDING"},ffe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mfe={and:"AND",or:"OR"};class pfe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function N_(t,e){return t.useProto3Json||s0(e)?e:{value:e}}function gfe(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xfe(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function _d(t){return Tn(!!t,49232),Et.fromTimestamp((function(n){const r=Cl(n);return new Zn(r.seconds,r.nanos)})(t))}function yfe(t,e){return S_(t,e).canonicalString()}function S_(t,e){const n=(function(i){return new Sn(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function MF(t){const e=Sn.fromString(t);return Tn(UF(e),10190,{key:e.toString()}),e}function bw(t,e){const n=MF(e);if(n.get(1)!==t.databaseId.projectId)throw new ut($e.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ut($e.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new pt(LF(n))}function DF(t,e){return yfe(t.databaseId,e)}function vfe(t){const e=MF(t);return e.length===4?Sn.emptyPath():LF(e)}function FR(t){return new Sn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function LF(t){return Tn(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function bfe(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ct(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(h,f){return h.useProto3Json?(Tn(f===void 0||typeof f=="string",58123),kr.fromBase64String(f||"")):(Tn(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),kr.fromUint8Array(f||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&(function(h){const f=h.code===void 0?$e.UNKNOWN:IF(h.code);return new ut(f,h.message||"")})(o);n=new OF(r,i,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=bw(t,r.document.name),a=_d(r.document.updateTime),o=r.document.createTime?_d(r.document.createTime):Et.min(),c=new ma({mapValue:{fields:r.document.fields}}),u=Vr.newFoundDocument(i,a,o,c),h=r.targetIds||[],f=r.removedTargetIds||[];n=new px(h,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=bw(t,r.document),a=r.readTime?_d(r.readTime):Et.min(),o=Vr.newNoDocument(i,a),c=r.removedTargetIds||[];n=new px([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=bw(t,r.document),a=r.removedTargetIds||[];n=new px([],a,i,null)}else{if(!("filter"in e))return Ct(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,o=new lfe(i,a),c=r.targetId;n=new PF(c,o)}}return n}function wfe(t,e){return{documents:[DF(t,e.path)]}}function jfe(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=DF(t,i);const a=(function(h){if(h.length!==0)return VF(Ta.create(h,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const o=(function(h){if(h.length!==0)return h.map((f=>(function(g){return{field:id(g.field),direction:Sfe(g.dir)}})(f)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const c=N_(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:i}}function _fe(t){let e=vfe(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Tn(r===1,65062);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let a=[];n.where&&(a=(function(m){const g=FF(m);return g instanceof Ta&&yF(g)?g.getFilters():[g]})(n.where));let o=[];n.orderBy&&(o=(function(m){return m.map((g=>(function(_){return new ny(ad(_.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(_.direction))})(g)))})(n.orderBy));let c=null;n.limit&&(c=(function(m){let g;return g=typeof m=="object"?m.value:m,s0(g)?null:g})(n.limit));let u=null;n.startAt&&(u=(function(m){const g=!!m.before,x=m.values||[];return new ty(x,g)})(n.startAt));let h=null;return n.endAt&&(h=(function(m){const g=!m.before,x=m.values||[];return new ty(x,g)})(n.endAt)),Bhe(e,i,o,a,c,"F",u,h)}function Nfe(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ct(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function FF(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ad(n.unaryFilter.field);return lr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ad(n.unaryFilter.field);return lr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ad(n.unaryFilter.field);return lr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ad(n.unaryFilter.field);return lr.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ct(61313);default:return Ct(60726)}})(t):t.fieldFilter!==void 0?(function(n){return lr.create(ad(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ct(58110);default:return Ct(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ta.create(n.compositeFilter.filters.map((r=>FF(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ct(1026)}})(n.compositeFilter.op))})(t):Ct(30097,{filter:t})}function Sfe(t){return hfe[t]}function Efe(t){return ffe[t]}function kfe(t){return mfe[t]}function id(t){return{fieldPath:t.canonicalString()}}function ad(t){return ts.fromServerFormat(t.fieldPath)}function VF(t){return t instanceof lr?(function(n){if(n.op==="=="){if(SR(n.value))return{unaryFilter:{field:id(n.field),op:"IS_NAN"}};if(NR(n.value))return{unaryFilter:{field:id(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(SR(n.value))return{unaryFilter:{field:id(n.field),op:"IS_NOT_NAN"}};if(NR(n.value))return{unaryFilter:{field:id(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:id(n.field),op:Efe(n.op),value:n.value}}})(t):t instanceof Ta?(function(n){const r=n.getFilters().map((i=>VF(i)));return r.length===1?r[0]:{compositeFilter:{op:kfe(n.op),filters:r}}})(t):Ct(54877,{filter:t})}function UF(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,n,r,i,a=Et.min(),o=Et.min(),c=kr.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new fl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new fl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cfe{constructor(e){this.yt=e}}function Afe(t){const e=_fe({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?w_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tfe{constructor(){this.Cn=new Rfe}addToCollectionParentIndex(e,n){return this.Cn.add(n),je.resolve()}getCollectionParents(e,n){return je.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return je.resolve()}deleteFieldIndex(e,n){return je.resolve()}deleteAllFieldIndexes(e){return je.resolve()}createTargetIndexes(e,n){return je.resolve()}getDocumentsMatchingTarget(e,n){return je.resolve(null)}getIndexType(e,n){return je.resolve(0)}getFieldIndexes(e,n){return je.resolve([])}getNextCollectionGroupToUpdate(e){return je.resolve(null)}getMinOffset(e,n){return je.resolve(kl.min())}getMinOffsetFromCollectionGroup(e,n){return je.resolve(kl.min())}updateCollectionGroup(e,n,r){return je.resolve()}updateIndexEntries(e,n){return je.resolve()}}class Rfe{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new cr(Sn.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new cr(Sn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$F=41943040;class bs{static withCacheSize(e){return new bs(e,bs.DEFAULT_COLLECTION_PERCENTILE,bs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bs.DEFAULT_COLLECTION_PERCENTILE=10,bs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bs.DEFAULT=new bs($F,bs.DEFAULT_COLLECTION_PERCENTILE,bs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bs.DISABLED=new bs(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new rh(0)}static cr(){return new rh(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR="LruGarbageCollector",Ife=1048576;function $R([t,e],[n,r]){const i=zt(t,n);return i===0?zt(e,r):i}class Pfe{constructor(e){this.Ir=e,this.buffer=new cr($R),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();$R(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Ofe{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){We(UR,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Eh(n)?We(UR,"Ignoring IndexedDB error during garbage collection: ",n):await n0(n)}await this.Vr(3e5)}))}}class Mfe{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return je.resolve(r0.ce);const r=new Pfe(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(We("LruGarbageCollector","Garbage collection skipped; disabled"),je.resolve(VR)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(We("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),VR):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,o,c,u,h;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(We("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,o=Date.now(),this.nthSequenceNumber(e,i)))).next((m=>(r=m,c=Date.now(),this.removeTargets(e,r,n)))).next((m=>(a=m,u=Date.now(),this.removeOrphanedDocuments(e,r)))).next((m=>(h=Date.now(),rd()<=Ut.DEBUG&&We("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${i} in `+(c-o)+`ms
	Removed ${a} targets in `+(u-c)+`ms
	Removed ${m} documents in `+(h-u)+`ms
Total Duration: ${h-f}ms`),je.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:m}))))}}function Dfe(t,e){return new Mfe(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lfe{constructor(){this.changes=new cu((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Vr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?je.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ffe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vfe{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Jf(r.mutation,i,hl.empty(),Zn.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Gt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Gt()){const i=Cc();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let o=Rf();return a.forEach(((c,u)=>{o=o.insert(c,u.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const r=Cc();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Gt())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((o,c)=>{n.set(o,c)}))}))}computeViews(e,n,r,i){let a=Rl();const o=Qf(),c=(function(){return Qf()})();return n.forEach(((u,h)=>{const f=r.get(h.key);i.has(h.key)&&(f===void 0||f.mutation instanceof u0)?a=a.insert(h.key,h):f!==void 0?(o.set(h.key,f.mutation.getFieldMask()),Jf(f.mutation,h,f.mutation.getFieldMask(),Zn.now())):o.set(h.key,hl.empty())})),this.recalculateAndSaveOverlays(e,a).next((u=>(u.forEach(((h,f)=>o.set(h,f))),n.forEach(((h,f)=>c.set(h,new Ffe(f,o.get(h)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=Qf();let i=new qn(((o,c)=>o-c)),a=Gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const c of o)c.keys().forEach((u=>{const h=n.get(u);if(h===null)return;let f=r.get(u)||hl.empty();f=c.applyToLocalView(h,f),r.set(u,f);const m=(i.get(c.batchId)||Gt()).add(u);i=i.insert(c.batchId,m)}))})).next((()=>{const o=[],c=i.getReverseIterator();for(;c.hasNext();){const u=c.getNext(),h=u.key,f=u.value,m=EF();f.forEach((g=>{if(!a.has(g)){const x=TF(n.get(g),r.get(g));x!==null&&m.set(g,x),a=a.add(g)}})),o.push(this.documentOverlayCache.saveOverlays(e,h,m))}return je.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(o){return pt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):zhe(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):je.resolve(Cc());let c=bm,u=a;return o.next((h=>je.forEach(h,((f,m)=>(c<m.largestBatchId&&(c=m.largestBatchId),a.get(f)?je.resolve():this.remoteDocumentCache.getEntry(e,f).next((g=>{u=u.insert(f,g)}))))).next((()=>this.populateOverlays(e,h,a))).next((()=>this.computeViews(e,u,h,Gt()))).next((f=>({batchId:c,changes:Ghe(f)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pt(n)).next((r=>{let i=Rf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let o=Rf();return this.indexManager.getCollectionParents(e,a).next((c=>je.forEach(c,(u=>{const h=(function(m,g){return new a0(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(n,u.child(a));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next((f=>{f.forEach(((m,g)=>{o=o.insert(m,g)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((o=>{a.forEach(((u,h)=>{const f=h.getKey();o.get(f)===null&&(o=o.insert(f,Vr.newInvalidDocument(f)))}));let c=Rf();return o.forEach(((u,h)=>{const f=a.get(u);f!==void 0&&Jf(f.mutation,h,hl.empty(),Zn.now()),l0(n,h)&&(c=c.insert(u,h))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ufe{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return je.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:_d(i.createTime)}})(n)),je.resolve()}getNamedQuery(e,n){return je.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:Afe(i.bundledQuery),readTime:_d(i.readTime)}})(n)),je.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $fe{constructor(){this.overlays=new qn(pt.comparator),this.qr=new Map}getOverlay(e,n){return je.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Cc();return je.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.St(e,n,a)})),je.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),je.resolve()}getOverlaysForCollection(e,n,r){const i=Cc(),a=n.length+1,o=new pt(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const u=c.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===a&&u.largestBatchId>r&&i.set(u.getKey(),u)}return je.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new qn(((h,f)=>h-f));const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let f=a.get(h.largestBatchId);f===null&&(f=Cc(),a=a.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}const c=Cc(),u=a.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((h,f)=>c.set(h,f))),!(c.size()>=i)););return je.resolve(c)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new ofe(n,r));let a=this.qr.get(n);a===void 0&&(a=Gt(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bfe{constructor(){this.sessionToken=kr.EMPTY_BYTE_STRING}getSessionToken(e){return je.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,je.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(){this.Qr=new cr(gr.$r),this.Ur=new cr(gr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new gr(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new gr(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new pt(new Sn([])),r=new gr(n,e),i=new gr(n,e+1),a=[];return this.Ur.forEachInRange([r,i],(o=>{this.Gr(o),a.push(o.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new pt(new Sn([])),r=new gr(n,e),i=new gr(n,e+1);let a=Gt();return this.Ur.forEachInRange([r,i],(o=>{a=a.add(o.key)})),a}containsKey(e){const n=new gr(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class gr{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return pt.comparator(e.key,n.key)||zt(e.Yr,n.Yr)}static Kr(e,n){return zt(e.Yr,n.Yr)||pt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zfe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new cr(gr.$r)}checkEmpty(e){return je.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new afe(a,n,r,i);this.mutationQueue.push(o);for(const c of i)this.Zr=this.Zr.add(new gr(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return je.resolve(o)}lookupMutationBatch(e,n){return je.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return je.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return je.resolve(this.mutationQueue.length===0?whe:this.tr-1)}getAllMutationBatches(e){return je.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new gr(n,0),i=new gr(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(o=>{const c=this.Xr(o.Yr);a.push(c)})),je.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new cr(zt);return n.forEach((i=>{const a=new gr(i,0),o=new gr(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,o],(c=>{r=r.add(c.Yr)}))})),je.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;pt.isDocumentKey(a)||(a=a.child(""));const o=new gr(new pt(a),0);let c=new cr(zt);return this.Zr.forEachWhile((u=>{const h=u.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(c=c.add(u.Yr)),!0)}),o),je.resolve(this.ti(c))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Tn(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return je.forEach(n.mutations,(i=>{const a=new gr(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new gr(n,0),i=this.Zr.firstAfterOrEqual(r);return je.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,je.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qfe{constructor(e){this.ri=e,this.docs=(function(){return new qn(pt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return je.resolve(r?r.document.mutableCopy():Vr.newInvalidDocument(n))}getEntries(e,n){let r=Rl();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Vr.newInvalidDocument(i))})),je.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Rl();const o=n.path,c=new pt(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){const{key:h,value:{document:f}}=u.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||xhe(ghe(f),r)<=0||(i.has(f.key)||l0(n,f))&&(a=a.insert(f.key,f.mutableCopy()))}return je.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Ct(9500)}ii(e,n){return je.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new Hfe(this)}getSize(e){return je.resolve(this.size)}}class Hfe extends Lfe{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),je.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wfe{constructor(e){this.persistence=e,this.si=new cu((n=>tS(n)),nS),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.oi=0,this._i=new aS,this.targetCount=0,this.ai=rh.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),je.resolve()}getLastRemoteSnapshotVersion(e){return je.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return je.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),je.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),je.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new rh(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,je.resolve()}updateTargetData(e,n){return this.Pr(n),je.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,je.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach(((o,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(o),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),je.waitFor(a).next((()=>i))}getTargetCount(e){return je.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return je.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),je.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((o=>{a.push(i.markPotentiallyOrphaned(e,o))})),je.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),je.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return je.resolve(r)}containsKey(e,n){return je.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{constructor(e,n){this.ui={},this.overlays={},this.ci=new r0(0),this.li=!1,this.li=!0,this.hi=new Bfe,this.referenceDelegate=e(this),this.Pi=new Wfe(this),this.indexManager=new Tfe,this.remoteDocumentCache=(function(i){return new qfe(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Cfe(n),this.Ii=new Ufe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $fe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new zfe(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){We("MemoryPersistence","Starting transaction:",e);const i=new Kfe(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,n){return je.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class Kfe extends vhe{constructor(e){super(),this.currentSequenceNumber=e}}class oS{constructor(e){this.persistence=e,this.Ri=new aS,this.Vi=null}static mi(e){return new oS(e)}get fi(){if(this.Vi)return this.Vi;throw Ct(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),je.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),je.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),je.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return je.forEach(this.fi,(r=>{const i=pt.fromPath(r);return this.gi(e,i).next((a=>{a||n.removeEntry(i,Et.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return je.or([()=>je.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class iy{constructor(e,n){this.persistence=e,this.pi=new cu((r=>jhe(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=Dfe(this,n)}static mi(e,n){return new iy(e,n)}Ei(){}di(e){return je.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return je.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?je.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(o=>this.br(e,o,n).next((c=>{c||(r++,a.removeEntry(o,Et.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),je.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),je.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),je.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),je.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=fx(e.data.value)),n}br(e,n,r){return je.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return je.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Gt(),i=Gt();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new lS(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gfe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qfe{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return wce()?8:bhe(Fi())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next((o=>{a.result=o})).next((()=>{if(!a.result)return this.ws(e,n,i,r).next((o=>{a.result=o}))})).next((()=>{if(a.result)return;const o=new Gfe;return this.Ss(e,n,o).next((c=>{if(a.result=c,this.Vs)return this.bs(e,n,o,c.size)}))})).next((()=>a.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(rd()<=Ut.DEBUG&&We("QueryEngine","SDK will not create cache indexes for query:",sd(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),je.resolve()):(rd()<=Ut.DEBUG&&We("QueryEngine","Query:",sd(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(rd()<=Ut.DEBUG&&We("QueryEngine","The SDK decides to create cache indexes for query:",sd(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ja(n))):je.resolve())}ys(e,n){if(AR(n))return je.resolve(null);let r=ja(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=w_(n,null,"F"),r=ja(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const o=Gt(...a);return this.ps.getDocuments(e,o).next((c=>this.indexManager.getMinOffset(e,r).next((u=>{const h=this.Ds(n,c);return this.Cs(n,h,o,u.readTime)?this.ys(e,w_(n,null,"F")):this.vs(e,h,n,u)}))))})))))}ws(e,n,r,i){return AR(n)||i.isEqual(Et.min())?je.resolve(null):this.ps.getDocuments(e,r).next((a=>{const o=this.Ds(n,a);return this.Cs(n,o,r,i)?je.resolve(null):(rd()<=Ut.DEBUG&&We("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),sd(n)),this.vs(e,o,n,phe(i,bm)).next((c=>c)))}))}Ds(e,n){let r=new cr(NF(e));return n.forEach(((i,a)=>{l0(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return rd()<=Ut.DEBUG&&We("QueryEngine","Using full collection scan to execute query:",sd(n)),this.ps.getDocumentsMatchingQuery(e,n,kl.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((o=>{a=a.insert(o.key,o)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS="LocalStore",Jfe=3e8;class Yfe{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new qn(zt),this.xs=new cu((a=>tS(a)),nS),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Vfe(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function Xfe(t,e,n,r){return new Yfe(t,e,n,r)}async function zF(t,e){const n=Wt(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const o=[],c=[];let u=Gt();for(const h of i){o.push(h.batchId);for(const f of h.mutations)u=u.add(f.key)}for(const h of a){c.push(h.batchId);for(const f of h.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next((h=>({Ls:h,removedBatchIds:o,addedBatchIds:c})))}))}))}function qF(t){const e=Wt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Zfe(t,e){const n=Wt(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const c=[];e.targetChanges.forEach(((f,m)=>{const g=i.get(m);if(!g)return;c.push(n.Pi.removeMatchingKeys(a,f.removedDocuments,m).next((()=>n.Pi.addMatchingKeys(a,f.addedDocuments,m))));let x=g.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(m)!==null?x=x.withResumeToken(kr.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):f.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(f.resumeToken,r)),i=i.insert(m,x),(function(w,j,N){return w.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=Jfe?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0})(g,x,f)&&c.push(n.Pi.updateTargetData(a,x))}));let u=Rl(),h=Gt();if(e.documentUpdates.forEach((f=>{e.resolvedLimboDocuments.has(f)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(a,f))})),c.push(eme(a,o,e.documentUpdates).next((f=>{u=f.ks,h=f.qs}))),!r.isEqual(Et.min())){const f=n.Pi.getLastRemoteSnapshotVersion(a).next((m=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));c.push(f)}return je.waitFor(c).next((()=>o.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,u,h))).next((()=>u))})).then((a=>(n.Ms=i,a)))}function eme(t,e,n){let r=Gt(),i=Gt();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let o=Rl();return n.forEach(((c,u)=>{const h=a.get(c);u.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(Et.min())?(e.removeEntry(c,u.readTime),o=o.insert(c,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),o=o.insert(c,u)):We(cS,"Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",u.version)})),{ks:o,qs:i}}))}function tme(t,e){const n=Wt(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((a=>a?(i=a,je.resolve(i)):n.Pi.allocateTargetId(r).next((o=>(i=new fl(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function E_(t,e,n){const r=Wt(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Eh(o))throw o;We(cS,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function BR(t,e,n){const r=Wt(t);let i=Et.min(),a=Gt();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(u,h,f){const m=Wt(u),g=m.xs.get(f);return g!==void 0?je.resolve(m.Ms.get(g)):m.Pi.getTargetData(h,f)})(r,o,ja(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,c.targetId).next((u=>{a=u}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:Et.min(),n?a:Gt()))).next((c=>(nme(r,Hhe(e),c),{documents:c,Qs:a})))))}function nme(t,e,n){let r=t.Os.get(e)||Et.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class zR{constructor(){this.activeTargetIds=Yhe()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rme{constructor(){this.Mo=new zR,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new zR,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sme{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR="ConnectivityMonitor";class HR{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){We(qR,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){We(qR,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qg=null;function k_(){return qg===null?qg=(function(){return 268435456+Math.round(2147483648*Math.random())})():qg++,"0x"+qg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww="RestConnection",ime={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ame{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===p_?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const o=k_(),c=this.zo(e,n.toUriEncodedString());We(ww,`Sending RPC '${e}' ${o}:`,c,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,i,a);const{host:h}=new URL(c),f=$1(h);return this.Jo(e,c,u,r,f).then((m=>(We(ww,`Received RPC '${e}' ${o}: `,m),m)),(m=>{throw vm(ww,`RPC '${e}' ${o} failed with error: `,m,"url: ",c,"request:",r),m}))}Ho(e,n,r,i,a,o){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Sh})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,n){const r=ime[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ome{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr="WebChannelConnection";class lme extends ame{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const o=k_();return new Promise(((c,u)=>{const h=new rF;h.setWithCredentials(!0),h.listenOnce(sF.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case hx.NO_ERROR:const m=h.getResponseJson();We(Fr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),c(m);break;case hx.TIMEOUT:We(Fr,`RPC '${e}' ${o} timed out`),u(new ut($e.DEADLINE_EXCEEDED,"Request time out"));break;case hx.HTTP_ERROR:const g=h.getStatus();if(We(Fr,`RPC '${e}' ${o} failed with status:`,g,"response text:",h.getResponseText()),g>0){let x=h.getResponseJson();Array.isArray(x)&&(x=x[0]);const _=x==null?void 0:x.error;if(_&&_.status&&_.message){const w=(function(N){const S=N.toLowerCase().replace(/_/g,"-");return Object.values($e).indexOf(S)>=0?S:$e.UNKNOWN})(_.status);u(new ut(w,_.message))}else u(new ut($e.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new ut($e.UNAVAILABLE,"Connection failed."));break;default:Ct(9055,{l_:e,streamId:o,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{We(Fr,`RPC '${e}' ${o} completed.`)}}));const f=JSON.stringify(i);We(Fr,`RPC '${e}' ${o} sending request:`,i),h.send(n,"POST",f,r,15)}))}T_(e,n,r){const i=k_(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=oF(),c=aF(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=a.join("");We(Fr,`Creating RPC '${e}' stream ${i}: ${f}`,u);const m=o.createWebChannel(f,u);this.I_(m);let g=!1,x=!1;const _=new ome({Yo:j=>{x?We(Fr,`Not sending because RPC '${e}' stream ${i} is closed:`,j):(g||(We(Fr,`Opening RPC '${e}' stream ${i} transport.`),m.open(),g=!0),We(Fr,`RPC '${e}' stream ${i} sending:`,j),m.send(j))},Zo:()=>m.close()}),w=(j,N,S)=>{j.listen(N,(k=>{try{S(k)}catch(C){setTimeout((()=>{throw C}),0)}}))};return w(m,Tf.EventType.OPEN,(()=>{x||(We(Fr,`RPC '${e}' stream ${i} transport opened.`),_.o_())})),w(m,Tf.EventType.CLOSE,(()=>{x||(x=!0,We(Fr,`RPC '${e}' stream ${i} transport closed`),_.a_(),this.E_(m))})),w(m,Tf.EventType.ERROR,(j=>{x||(x=!0,vm(Fr,`RPC '${e}' stream ${i} transport errored. Name:`,j.name,"Message:",j.message),_.a_(new ut($e.UNAVAILABLE,"The operation could not be completed")))})),w(m,Tf.EventType.MESSAGE,(j=>{var N;if(!x){const S=j.data[0];Tn(!!S,16349);const k=S,C=(k==null?void 0:k.error)||((N=k[0])==null?void 0:N.error);if(C){We(Fr,`RPC '${e}' stream ${i} received error:`,C);const R=C.status;let O=(function(P){const F=Qn[P];if(F!==void 0)return IF(F)})(R),A=C.message;O===void 0&&(O=$e.INTERNAL,A="Unknown error status: "+R+" with message "+C.message),x=!0,_.a_(new ut(O,A)),m.close()}else We(Fr,`RPC '${e}' stream ${i} received:`,S),_.u_(S)}})),w(c,iF.STAT_EVENT,(j=>{j.stat===h_.PROXY?We(Fr,`RPC '${e}' stream ${i} detected buffering proxy`):j.stat===h_.NOPROXY&&We(Fr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{_.__()}),0),_}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function jw(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HF(t){return new pfe(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&We("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR="PersistentStream";class cme{constructor(e,n,r,i,a,o,c,u){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new WF(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===$e.RESOURCE_EXHAUSTED?(yo(n.toString()),yo("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===$e.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new ut($e.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return We(WR,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(We(WR,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ume extends cme{constructor(e,n,r,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=bfe(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Et.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?Et.min():o.readTime?_d(o.readTime):Et.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=FR(this.serializer),n.addTarget=(function(a,o){let c;const u=o.target;if(c=b_(u)?{documents:wfe(a,u)}:{query:jfe(a,u).ft},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=xfe(a,o.resumeToken);const h=N_(a,o.expectedCount);h!==null&&(c.expectedCount=h)}else if(o.snapshotVersion.compareTo(Et.min())>0){c.readTime=gfe(a,o.snapshotVersion.toTimestamp());const h=N_(a,o.expectedCount);h!==null&&(c.expectedCount=h)}return c})(this.serializer,e);const r=Nfe(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=FR(this.serializer),n.removeTarget=e,this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dme{}class hme extends dme{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ut($e.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Go(e,S_(n,r),i,a,o))).catch((a=>{throw a.name==="FirebaseError"?(a.code===$e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ut($e.UNKNOWN,a.toString())}))}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Ho(e,S_(n,r),i,o,c,a))).catch((o=>{throw o.name==="FirebaseError"?(o.code===$e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ut($e.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class fme{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(yo(n),this.aa=!1):We("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh="RemoteStore";class mme{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{np(this)&&(We(sh,"Restarting streams for network reachability change."),await(async function(u){const h=Wt(u);h.Ea.add(4),await tp(h),h.Ra.set("Unknown"),h.Ea.delete(4),await h0(h)})(this))}))})),this.Ra=new fme(r,i)}}async function h0(t){if(np(t))for(const e of t.da)await e(!0)}async function tp(t){for(const e of t.da)await e(!1)}function KF(t,e){const n=Wt(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),fS(n)?hS(n):kh(n).O_()&&dS(n,e))}function uS(t,e){const n=Wt(t),r=kh(n);n.Ia.delete(e),r.O_()&&GF(n,e),n.Ia.size===0&&(r.O_()?r.L_():np(n)&&n.Ra.set("Unknown"))}function dS(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Et.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}kh(t).Y_(e)}function GF(t,e){t.Va.Ue(e),kh(t).Z_(e)}function hS(t){t.Va=new dfe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),kh(t).start(),t.Ra.ua()}function fS(t){return np(t)&&!kh(t).x_()&&t.Ia.size>0}function np(t){return Wt(t).Ea.size===0}function QF(t){t.Va=void 0}async function pme(t){t.Ra.set("Online")}async function gme(t){t.Ia.forEach(((e,n)=>{dS(t,e)}))}async function xme(t,e){QF(t),fS(t)?(t.Ra.ha(e),hS(t)):t.Ra.set("Unknown")}async function yme(t,e,n){if(t.Ra.set("Online"),e instanceof OF&&e.state===2&&e.cause)try{await(async function(i,a){const o=a.cause;for(const c of a.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,o),i.Ia.delete(c),i.Va.removeTarget(c))})(t,e)}catch(r){We(sh,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await KR(t,r)}else if(e instanceof px?t.Va.Ze(e):e instanceof PF?t.Va.st(e):t.Va.tt(e),!n.isEqual(Et.min()))try{const r=await qF(t.localStore);n.compareTo(r)>=0&&await(function(a,o){const c=a.Va.Tt(o);return c.targetChanges.forEach(((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const f=a.Ia.get(h);f&&a.Ia.set(h,f.withResumeToken(u.resumeToken,o))}})),c.targetMismatches.forEach(((u,h)=>{const f=a.Ia.get(u);if(!f)return;a.Ia.set(u,f.withResumeToken(kr.EMPTY_BYTE_STRING,f.snapshotVersion)),GF(a,u);const m=new fl(f.target,u,h,f.sequenceNumber);dS(a,m)})),a.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){We(sh,"Failed to raise snapshot:",r),await KR(t,r)}}async function KR(t,e,n){if(!Eh(e))throw e;t.Ea.add(1),await tp(t),t.Ra.set("Offline"),n||(n=()=>qF(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{We(sh,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await h0(t)}))}async function GR(t,e){const n=Wt(t);n.asyncQueue.verifyOperationInProgress(),We(sh,"RemoteStore received new credentials");const r=np(n);n.Ea.add(3),await tp(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await h0(n)}async function vme(t,e){const n=Wt(t);e?(n.Ea.delete(2),await h0(n)):e||(n.Ea.add(2),await tp(n),n.Ra.set("Unknown"))}function kh(t){return t.ma||(t.ma=(function(n,r,i){const a=Wt(n);return a.sa(),new ume(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:pme.bind(null,t),t_:gme.bind(null,t),r_:xme.bind(null,t),H_:yme.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),fS(t)?hS(t):t.Ra.set("Unknown")):(await t.ma.stop(),QF(t))}))),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new qc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const o=Date.now()+r,c=new mS(e,n,o,i,a);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut($e.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function JF(t,e){if(yo("AsyncQueue",`${e}: ${t}`),Eh(t))return new ut($e.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{static emptySet(e){return new Nd(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||pt.comparator(n.key,r.key):(n,r)=>pt.comparator(n.key,r.key),this.keyedMap=Rf(),this.sortedSet=new qn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Nd)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Nd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(){this.ga=new qn(pt.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ct(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class ih{constructor(e,n,r,i,a,o,c,u,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,a){const o=[];return n.forEach((c=>{o.push({type:0,doc:c})})),new ih(e,n,Nd.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&o0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bme{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class wme{constructor(){this.queries=JR(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Wt(n),a=i.queries;i.queries=JR(),a.forEach(((o,c)=>{for(const u of c.Sa)u.onError(r)}))})(this,new ut($e.ABORTED,"Firestore shutting down"))}}function JR(){return new cu((t=>_F(t)),o0)}async function jme(t,e){const n=Wt(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new bme,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const c=JF(o,`Initialization of query '${sd(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&pS(n)}async function _me(t,e){const n=Wt(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const o=a.Sa.indexOf(e);o>=0&&(a.Sa.splice(o,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Nme(t,e){const n=Wt(t);let r=!1;for(const i of e){const a=i.query,o=n.queries.get(a);if(o){for(const c of o.Sa)c.Fa(i)&&(r=!0);o.wa=i}}r&&pS(n)}function Sme(t,e,n){const r=Wt(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function pS(t){t.Ca.forEach((e=>{e.next()}))}var C_,YR;(YR=C_||(C_={})).Ma="default",YR.Cache="cache";class Eme{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ih(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ih.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==C_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(e){this.key=e}}class XF{constructor(e){this.key=e}}class kme{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Gt(),this.mutatedKeys=Gt(),this.eu=NF(e),this.tu=new Nd(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new QR,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,o=i,c=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((f,m)=>{const g=i.get(f),x=l0(this.query,m)?m:null,_=!!g&&this.mutatedKeys.has(g.key),w=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let j=!1;g&&x?g.data.isEqual(x.data)?_!==w&&(r.track({type:3,doc:x}),j=!0):this.su(g,x)||(r.track({type:2,doc:x}),j=!0,(u&&this.eu(x,u)>0||h&&this.eu(x,h)<0)&&(c=!0)):!g&&x?(r.track({type:0,doc:x}),j=!0):g&&!x&&(r.track({type:1,doc:g}),j=!0,(u||h)&&(c=!0)),j&&(x?(o=o.add(x),a=w?a.add(f):a.delete(f)):(o=o.delete(f),a=a.delete(f)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),a=a.delete(f.key),r.track({type:1,doc:f})}return{tu:o,iu:r,Cs:c,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((f,m)=>(function(x,_){const w=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ct(20277,{Rt:j})}};return w(x)-w(_)})(f.type,m.type)||this.eu(f.doc,m.doc))),this.ou(r),i=i??!1;const c=n&&!i?this._u():[],u=this.Xa.size===0&&this.current&&!i?1:0,h=u!==this.Za;return this.Za=u,o.length!==0||h?{snapshot:new ih(this.query,e.tu,a,o,e.mutatedKeys,u===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new QR,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Gt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new XF(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new YF(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Gt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ih.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const gS="SyncEngine";class Cme{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Ame{constructor(e){this.key=e,this.hu=!1}}class Tme{constructor(e,n,r,i,a,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new cu((c=>_F(c)),o0),this.Iu=new Map,this.Eu=new Set,this.du=new qn(pt.comparator),this.Au=new Map,this.Ru=new aS,this.Vu={},this.mu=new Map,this.fu=rh.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Rme(t,e,n=!0){const r=rV(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await ZF(r,e,n,!0),i}async function Ime(t,e){const n=rV(t);await ZF(n,e,!0,!1)}async function ZF(t,e,n,r){const i=await tme(t.localStore,ja(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,n);let c;return r&&(c=await Pme(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&KF(t.remoteStore,i),c}async function Pme(t,e,n,r,i){t.pu=(m,g,x)=>(async function(w,j,N,S){let k=j.view.ru(N);k.Cs&&(k=await BR(w.localStore,j.query,!1).then((({documents:A})=>j.view.ru(A,k))));const C=S&&S.targetChanges.get(j.targetId),R=S&&S.targetMismatches.get(j.targetId)!=null,O=j.view.applyChanges(k,w.isPrimaryClient,C,R);return ZR(w,j.targetId,O.au),O.snapshot})(t,m,g,x);const a=await BR(t.localStore,e,!0),o=new kme(e,a.Qs),c=o.ru(a.documents),u=ep.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=o.applyChanges(c,t.isPrimaryClient,u);ZR(t,n,h.au);const f=new Cme(e,n,o);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function Ome(t,e,n){const r=Wt(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((o=>!o0(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await E_(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&uS(r.remoteStore,i.targetId),A_(r,i.targetId)})).catch(n0)):(A_(r,i.targetId),await E_(r.localStore,i.targetId,!0))}async function Mme(t,e){const n=Wt(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),uS(n.remoteStore,r.targetId))}async function eV(t,e){const n=Wt(t);try{const r=await Zfe(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const o=n.Au.get(a);o&&(Tn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Tn(o.hu,14607):i.removedDocuments.size>0&&(Tn(o.hu,42227),o.hu=!1))})),await nV(n,r,e)}catch(r){await n0(r)}}function XR(t,e,n){const r=Wt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,o)=>{const c=o.view.va(e);c.snapshot&&i.push(c.snapshot)})),(function(o,c){const u=Wt(o);u.onlineState=c;let h=!1;u.queries.forEach(((f,m)=>{for(const g of m.Sa)g.va(c)&&(h=!0)})),h&&pS(u)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Dme(t,e,n){const r=Wt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let o=new qn(pt.comparator);o=o.insert(a,Vr.newNoDocument(a,Et.min()));const c=Gt().add(a),u=new d0(Et.min(),new Map,new qn(zt),o,c);await eV(r,u),r.du=r.du.remove(a),r.Au.delete(e),xS(r)}else await E_(r.localStore,e,!1).then((()=>A_(r,e,n))).catch(n0)}function A_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||tV(t,r)}))}function tV(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(uS(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),xS(t))}function ZR(t,e,n){for(const r of n)r instanceof YF?(t.Ru.addReference(r.key,e),Lme(t,r)):r instanceof XF?(We(gS,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||tV(t,r.key)):Ct(19791,{wu:r})}function Lme(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(We(gS,"New document in limbo: "+n),t.Eu.add(r),xS(t))}function xS(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new pt(Sn.fromString(e)),r=t.fu.next();t.Au.set(r,new Ame(n)),t.du=t.du.insert(n,r),KF(t.remoteStore,new fl(ja(jF(n.path)),r,"TargetPurposeLimboResolution",r0.ce))}}async function nV(t,e,n){const r=Wt(t),i=[],a=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,u)=>{o.push(r.pu(u,e,n).then((h=>{var f;if((h||n)&&r.isPrimaryClient){const m=h?!h.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(h){i.push(h);const m=lS.As(u.targetId,h);a.push(m)}})))})),await Promise.all(o),r.Pu.H_(i),await(async function(u,h){const f=Wt(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>je.forEach(h,(g=>je.forEach(g.Es,(x=>f.persistence.referenceDelegate.addReference(m,g.targetId,x))).next((()=>je.forEach(g.ds,(x=>f.persistence.referenceDelegate.removeReference(m,g.targetId,x)))))))))}catch(m){if(!Eh(m))throw m;We(cS,"Failed to update sequence numbers: "+m)}for(const m of h){const g=m.targetId;if(!m.fromCache){const x=f.Ms.get(g),_=x.snapshotVersion,w=x.withLastLimboFreeSnapshotVersion(_);f.Ms=f.Ms.insert(g,w)}}})(r.localStore,a))}async function Fme(t,e){const n=Wt(t);if(!n.currentUser.isEqual(e)){We(gS,"User change. New user:",e.toKey());const r=await zF(n.localStore,e);n.currentUser=e,(function(a,o){a.mu.forEach((c=>{c.forEach((u=>{u.reject(new ut($e.CANCELLED,o))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await nV(n,r.Ls)}}function Vme(t,e){const n=Wt(t),r=n.Au.get(e);if(r&&r.hu)return Gt().add(r.key);{let i=Gt();const a=n.Iu.get(e);if(!a)return i;for(const o of a){const c=n.Tu.get(o);i=i.unionWith(c.view.nu)}return i}}function rV(t){const e=Wt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=eV.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Vme.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Dme.bind(null,e),e.Pu.H_=Nme.bind(null,e.eventManager),e.Pu.yu=Sme.bind(null,e.eventManager),e}class ay{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=HF(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Xfe(this.persistence,new Qfe,e.initialUser,this.serializer)}Cu(e){return new BF(oS.mi,this.serializer)}Du(e){return new rme}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ay.provider={build:()=>new ay};class Ume extends ay{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Tn(this.persistence.referenceDelegate instanceof iy,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Ofe(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?bs.withCacheSize(this.cacheSizeBytes):bs.DEFAULT;return new BF((r=>iy.mi(r,n)),this.serializer)}}class T_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>XR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Fme.bind(null,this.syncEngine),await vme(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new wme})()}createDatastore(e){const n=HF(e.databaseInfo.databaseId),r=(function(a){return new lme(a)})(e.databaseInfo);return(function(a,o,c,u){return new hme(a,o,c,u)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,o,c){return new mme(r,i,a,o,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>XR(this.syncEngine,n,0)),(function(){return HR.v()?new HR:new sme})())}createSyncEngine(e,n){return(function(i,a,o,c,u,h,f){const m=new Tme(i,a,o,c,u,h);return f&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const a=Wt(i);We(sh,"RemoteStore shutting down."),a.Ea.add(5),await tp(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}T_.provider={build:()=>new T_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $me{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):yo("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il="FirestoreClient";class Bme{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=vs.UNAUTHENTICATED,this.clientId=cF.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async o=>{We(Il,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(We(Il,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=JF(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function _w(t,e){t.asyncQueue.verifyOperationInProgress(),We(Il,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await zF(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function eI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await zme(t);We(Il,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>GR(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>GR(e.remoteStore,i))),t._onlineComponents=e}async function zme(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){We(Il,"Using user provided OfflineComponentProvider");try{await _w(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===$e.FAILED_PRECONDITION||i.code===$e.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;vm("Error using user provided cache. Falling back to memory cache: "+n),await _w(t,new ay)}}else We(Il,"Using default OfflineComponentProvider"),await _w(t,new Ume(void 0));return t._offlineComponents}async function qme(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(We(Il,"Using user provided OnlineComponentProvider"),await eI(t,t._uninitializedComponentsProvider._online)):(We(Il,"Using default OnlineComponentProvider"),await eI(t,new T_))),t._onlineComponents}async function Hme(t){const e=await qme(t),n=e.eventManager;return n.onListen=Rme.bind(null,e.syncEngine),n.onUnlisten=Ome.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Ime.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Mme.bind(null,e.syncEngine),n}function Wme(t,e,n={}){const r=new qc;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,c,u,h){const f=new $me({next:g=>{f.Nu(),o.enqueueAndForget((()=>_me(a,m))),g.fromCache&&u.source==="server"?h.reject(new ut($e.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(g)},error:g=>h.reject(g)}),m=new Eme(c,f,{includeMetadataChanges:!0,qa:!0});return jme(a,m)})(await Hme(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sV(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kme="firestore.googleapis.com",nI=!0;class rI{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ut($e.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Kme,this.ssl=nI}else this.host=e.host,this.ssl=e.ssl??nI;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$F;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Ife)throw new ut($e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hhe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sV(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ut($e.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ut($e.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ut($e.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class iV{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut($e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ut($e.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rI(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new rhe;switch(r.type){case"firstParty":return new ahe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ut($e.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=tI.get(n);r&&(We("ComponentProvider","Removing Datastore"),tI.delete(n),r.terminate())})(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new f0(this.firestore,e,this._query)}}class fi{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fi(this.firestore,e,this._key)}toJSON(){return{type:fi._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Xm(n,fi._jsonSchema))return new fi(e,r||null,new pt(Sn.fromString(n.referencePath)))}}fi._jsonSchemaVersion="firestore/documentReference/1.0",fi._jsonSchema={type:tr("string",fi._jsonSchemaVersion),referencePath:tr("string")};class Sd extends f0{constructor(e,n,r){super(e,n,jF(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fi(this.firestore,null,new pt(e))}withConverter(e){return new Sd(this.firestore,e,this._path)}}function Gme(t,e,...n){if(t=Jm(t),t instanceof iV){const r=Sn.fromString(e,...n);return pR(r),new Sd(t,null,r)}{if(!(t instanceof fi||t instanceof Sd))throw new ut($e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Sn.fromString(e,...n));return pR(r),new Sd(t.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI="AsyncQueue";class iI{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new WF(this,"async_queue_retry"),this._c=()=>{const r=jw();r&&We(sI,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=jw();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=jw();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new qc;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Eh(e))throw e;We(sI,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,yo("INTERNAL UNHANDLED ERROR: ",aI(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=mS.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&Ct(47125,{Pc:aI(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function aI(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class aV extends iV{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new iI,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new iI(e),this._firestoreClient=void 0,await e}}}function Qme(t){if(t._terminated)throw new ut($e.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Jme(t),t._firestoreClient}function Jme(t){var r,i,a;const e=t._freezeSettings(),n=(function(c,u,h,f){return new Ehe(c,u,h,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,sV(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Bme(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(c){const u=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(u),_online:u}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pa(kr.fromBase64String(e))}catch(n){throw new ut($e.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new pa(kr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:pa._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Xm(e,pa._jsonSchema))return pa.fromBase64String(e.bytes)}}pa._jsonSchemaVersion="firestore/bytes/1.0",pa._jsonSchema={type:tr("string",pa._jsonSchemaVersion),bytes:tr("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ut($e.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ts(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ut($e.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ut($e.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return zt(this._lat,e._lat)||zt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:yl._jsonSchemaVersion}}static fromJSON(e){if(Xm(e,yl._jsonSchema))return new yl(e.latitude,e.longitude)}}yl._jsonSchemaVersion="firestore/geoPoint/1.0",yl._jsonSchema={type:tr("string",yl._jsonSchemaVersion),latitude:tr("number"),longitude:tr("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:vl._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Xm(e,vl._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new vl(e.vectorValues);throw new ut($e.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}vl._jsonSchemaVersion="firestore/vectorValue/1.0",vl._jsonSchema={type:tr("string",vl._jsonSchemaVersion),vectorValues:tr("object")};const Yme=new RegExp("[~\\*/\\[\\]]");function Xme(t,e,n){if(e.search(Yme)>=0)throw oI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t);try{return new oV(...e.split("."))._internalPath}catch{throw oI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t)}}function oI(t,e,n,r,i){let a=`Function ${e}() called with invalid data`;a+=". ";let o="";return new ut($e.INVALID_ARGUMENT,a+t+o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new fi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Zme(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(cV("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Zme extends lV{data(){return super.data()}}function cV(t,e){return typeof e=="string"?Xme(t,e):e instanceof oV?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function epe(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ut($e.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tpe{convertValue(e,n="none"){switch(Tl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $n(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Al(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ct(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Zm(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){var r,i,a;const n=(a=(i=(r=e.fields)==null?void 0:r[g_].arrayValue)==null?void 0:i.values)==null?void 0:a.map((o=>$n(o.doubleValue)));return new vl(n)}convertGeoPoint(e){return new yl($n(e.latitude),$n(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=i0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(wm(e));default:return null}}convertTimestamp(e){const n=Cl(e);return new Zn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Sn.fromString(e);Tn(UF(r),9688,{name:e});const i=new jm(r.get(1),r.get(3)),a=new pt(r.popFirst(5));return i.isEqual(n)||yo(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}class Hg{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ed extends lV{constructor(e,n,r,i,a,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new gx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(cV("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut($e.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ed._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ed._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ed._jsonSchema={type:tr("string",Ed._jsonSchemaVersion),bundleSource:tr("string","DocumentSnapshot"),bundleName:tr("string"),bundle:tr("string")};class gx extends Ed{data(e={}){return super.data(e)}}class kd{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Hg(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new gx(this._firestore,this._userDataWriter,r.key,r,new Hg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ut($e.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((c=>{const u=new gx(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Hg(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>a||c.type!==3)).map((c=>{const u=new gx(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Hg(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,f=-1;return c.type!==0&&(h=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),f=o.indexOf(c.doc.key)),{type:npe(c.type),doc:u,oldIndex:h,newIndex:f}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut($e.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=kd._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=cF.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function npe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ct(61501,{type:t})}}kd._jsonSchemaVersion="firestore/querySnapshot/1.0",kd._jsonSchema={type:tr("string",kd._jsonSchemaVersion),bundleSource:tr("string","QuerySnapshot"),bundleName:tr("string"),bundle:tr("string")};class rpe extends tpe{constructor(e){super(),this.firestore=e}convertBytes(e){return new pa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new fi(this.firestore,null,n)}}function spe(t){t=gR(t,f0);const e=gR(t.firestore,aV),n=Qme(e),r=new rpe(e);return epe(t._query),Wme(n,t._query).then((i=>new kd(e,r,t,i)))}(function(e,n=!0){(function(i){Sh=i})(Xy),Jd(new Qd("firestore",((r,{instanceIdentifier:i,options:a})=>{const o=r.getProvider("app").getImmediate(),c=new aV(new she(r.getProvider("auth-internal")),new ohe(o,r.getProvider("app-check-internal")),(function(h,f){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ut($e.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jm(h.options.projectId,f)})(o,i),o);return a={useFetchStreams:n,...a},c._setSettings(a),c}),"PUBLIC").setMultipleInstances(!0)),zc(dR,hR,e),zc(dR,hR,"esm2020")})();function uV(){const[t,e]=y.useState(""),[n,r]=y.useState([]),[i,a]=y.useState(null),[o,c]=y.useState(""),u=async()=>{c("");try{const f=await a1.list();if(Array.isArray(f)&&f.length>=0){const m=f.map(g=>({id:g.id||g.uid,uid:g.uid||g.id,name:g.fullName||g.name||"",email:g.email||"",role:g.role||"user",age:g.age||"",city:g.city||"",madrasah:g.madrasah||g.madrasah_maktab||"",points:Number(g.points||0),lastAward:g.lastAward||null}));r(m);return}}catch(f){console.warn("Backend users list failed:",(f==null?void 0:f.message)||f)}try{const{db:f}=yr();if(!f)return;const m=Gme(f,"users"),x=(await spe(m)).docs.map(_=>{const w=_.data()||{};return{id:_.id,uid:_.id,name:w.fullName||w.name||"",email:w.email||"",role:w.role||"user",age:w.age||"",city:w.city||"",madrasah:w.madrasah||w.madrasah_maktab||"",points:Number(w.points||0),lastAward:w.lastAward||null}});r(x)}catch(f){console.warn("Failed to load users from Firestore:",(f==null?void 0:f.message)||f)}};y.useEffect(()=>{u()},[]);const h=n.filter(f=>{const m=t.toLowerCase();return f.name.toLowerCase().includes(m)||f.email.toLowerCase().includes(m)||f.role.toLowerCase().includes(m)});return s.jsx("div",{className:"min-h-screen py-8 px-4 bg-gradient-to-br from-blue-50 to-purple-50",children:s.jsx("div",{className:"max-w-6xl mx-auto",children:s.jsxs(re,{className:"shadow-xl border-2 border-blue-200",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Me,{className:"flex items-center gap-2",children:[s.jsx(Ol,{className:"w-6 h-6"})," Users Management"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ke,{placeholder:"Search users...",value:t,onChange:f=>e(f.target.value),className:"bg-white text-gray-900 w-56"}),s.jsxs(W,{variant:"secondary",className:"bg-white/20 text-white hover:bg-white/30",onClick:u,children:[s.jsx(Pi,{className:"w-4 h-4 mr-2"})," Find"]}),s.jsxs(W,{variant:"secondary",className:"bg-white/20 text-white hover:bg-white/30",onClick:u,children:[s.jsx(W_,{className:"w-4 h-4 mr-2"})," Refresh"]}),s.jsxs(W,{onClick:()=>a({id:"new"}),children:[s.jsx(Ws,{className:"w-4 h-4 mr-2"})," Add User"]})]})]})}),s.jsxs(ie,{className:"p-6",children:[o&&s.jsx("div",{className:"mb-4 text-sm text-blue-700 bg-blue-50 border border-blue-200 rounded p-2",children:o}),h.length===0?s.jsx("div",{className:"text-center text-gray-600 py-10",children:"No users yet. Ask users to sign up via the Signup page."}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map(f=>s.jsxs("div",{className:"border rounded-lg p-4 bg-white",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("div",{className:"font-semibold text-gray-900",children:f.name}),s.jsx(we,{variant:f.role==="admin"?"default":"outline",className:f.role==="admin"?"bg-purple-600 text-white":"",children:f.role})]}),s.jsx("div",{className:"text-sm text-gray-600 mb-1",children:f.email}),s.jsxs("div",{className:"flex items-center gap-2 text-amber-700 mb-2",children:[s.jsx(ln,{className:"w-4 h-4 fill-amber-500 text-amber-500"}),s.jsxs("span",{className:"font-semibold",children:[f.points||0," points"]})]}),f.lastAward&&s.jsxs("div",{className:"text-xs text-gray-600 mb-2",children:["Last award: ",f.lastAward.game_type||""," (+",f.lastAward.points_awarded||0,")"]}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Age: ",f.age||"-"]}),s.jsxs("div",{className:"text-xs text-gray-500",children:["City: ",f.city||"-"]}),s.jsxs("div",{className:"text-xs text-gray-500 mb-4",children:["Madrasah: ",f.madrasah||"-"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(W,{size:"sm",variant:"outline",onClick:()=>a(f),children:[s.jsx(wo,{className:"w-4 h-4 mr-1"})," Edit"]}),s.jsxs(W,{size:"sm",variant:"destructive",onClick:()=>r(n.filter(m=>m.id!==f.id)),children:[s.jsx(xr,{className:"w-4 h-4 mr-1"})," Delete (local)"]}),s.jsxs(W,{size:"sm",variant:"destructive",onClick:async()=>{var m,g;try{const{auth:x}=yr(),_=await((g=(m=x==null?void 0:x.currentUser)==null?void 0:m.getIdToken)==null?void 0:g.call(m)),j=await fetch("/api/deleteUser",{method:"POST",headers:{"Content-Type":"application/json",..._?{Authorization:`Bearer ${_}`}:{}},body:JSON.stringify({uid:f.uid,email:f.email})});if(!j.ok)throw new Error(`Delete failed: ${j.status}`);const N=await j.json();c(`Deleted user ${f.email} (uid=${f.uid||f.id}).`),await u()}catch(x){c(`Server delete failed for ${f.email}: ${(x==null?void 0:x.message)||x}`)}},children:[s.jsx(xr,{className:"w-4 h-4 mr-1"})," Delete (server)"]})]})]},f.id))}),i&&s.jsxs("div",{className:"mt-6 border-t pt-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:i.id==="new"?"Add New User":"Edit User"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsx(ke,{placeholder:"Name",value:i.name||"",onChange:f=>a({...i,name:f.target.value})}),s.jsx(ke,{placeholder:"Email",type:"email",value:i.email||"",onChange:f=>a({...i,email:f.target.value})}),s.jsx(ke,{placeholder:"Role (admin/user)",value:i.role||"user",onChange:f=>a({...i,role:f.target.value})})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[s.jsx(W,{onClick:()=>{if(i.id==="new"){const f=`u${Date.now()}`;r([...n,{id:f,name:i.name||"",email:i.email||"",role:i.role||"user"}])}else r(n.map(f=>f.id===i.id?i:f));a(null)},children:"Save Changes"}),s.jsx(W,{variant:"outline",onClick:()=>a(null),children:"Cancel"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:'Users are loaded from Firestore `users` collection. Editing is local-only. Use "Delete (server)" to remove accounts from Firebase Auth and Firestore.'})]})]})]})})})}function dV(){const t=nr(),[e,n]=Nt.useState(""),[r,i]=Nt.useState(!1),a=encodeURIComponent("Account Deletion Request - Islam Kids Zone"),o=encodeURIComponent("Hi, I'd like to delete my account on Islam Kids Zone. My name is ____ and my contact details are ____."),c=()=>{window.location.href=`mailto:imediac786@gmail.com?subject=${a}&body=${o}`};return s.jsx("div",{className:"min-h-screen py-8 px-4",children:s.jsxs("div",{className:"max-w-2xl mx-auto",children:[s.jsxs(W,{variant:"outline",className:"mb-4",onClick:()=>t(at("Home")),children:[s.jsx(Pl,{className:"w-4 h-4 mr-2"})," Back to Home"]}),s.jsxs(re,{className:"border-2 border-red-300 shadow-lg bg-gradient-to-br from-red-50 to-orange-50",children:[s.jsx(Oe,{children:s.jsxs(Me,{className:"text-2xl flex items-center",children:[s.jsx(xr,{className:"w-6 h-6 mr-2 text-red-600"}),"Delete Account (Email-Only Mode)"]})}),s.jsx(ie,{children:s.jsxs(te.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:[s.jsxs("div",{className:"mb-4 flex items-start gap-3",children:[s.jsx(G_,{className:"w-6 h-6 text-red-600 mt-1"}),s.jsx("p",{className:"text-gray-700",children:"Direct account deletion is disabled in this mode. To delete your account, please email our team. We'll process the request and confirm via email. You can include your name and contact details in the email."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type DELETE to confirm you understand this action"}),s.jsx(ke,{value:e,onChange:u=>n(u.target.value),placeholder:"DELETE"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Wy,{id:"agree",checked:r,onCheckedChange:u=>i(!!u)}),s.jsx("label",{htmlFor:"agree",className:"text-sm text-gray-700",children:"I understand this will permanently remove my account and associated content."})]})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx(W,{onClick:c,disabled:e!=="DELETE"||!r,className:"w-full bg-gradient-to-r from-red-500 to-orange-500",children:"Email Us to Delete My Account"}),s.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"We'll respond to confirm your account deletion request."})]})]})})]})]})})}function hV(){const[t,e]=y.useState(null),[n,r]=y.useState([]),[i,a]=y.useState(null),[o,c]=y.useState(!1);nr();const[u,h]=y.useState({text:"",subtext:"",gradient:"from-blue-600 via-purple-600 to-pink-600",active:!0,order:1});y.useEffect(()=>{f()},[]);const f=()=>{const S=localStorage.getItem("homepage_banners");if(S)r(JSON.parse(S));else{const k=[{id:1,text:"Welcome to Islam Kids Zone",subtext:"Learn, Play & Grow in Faith",gradient:"from-blue-600 via-purple-600 to-pink-600",active:!0,order:1},{id:2,text:'"Whoever guides someone to goodness will have a reward like one who did it."',subtext:" Sahih Muslim",gradient:"from-green-600 via-teal-600 to-cyan-600",active:!0,order:2}];r(k),m(k)}},m=S=>{localStorage.setItem("homepage_banners",JSON.stringify(S)),r(S)},g=()=>{h({text:"",subtext:"",gradient:"from-blue-600 via-purple-600 to-pink-600",active:!0,order:1})},x=S=>{a(S),h(S),c(!0)},_=S=>{if(S.preventDefault(),i){const k=n.map(C=>C.id===i.id?{...u,id:C.id}:C);m(k)}else{const k={...u,id:Date.now()};m([...n,k])}c(!1),a(null),g()},w=S=>{window.confirm("Delete this banner?")&&m(n.filter(k=>k.id!==S))},j=S=>{const k=n.map(C=>C.id===S?{...C,active:!C.active}:C);m(k)},N=[{name:"Blue Purple",value:"from-blue-600 via-purple-600 to-pink-600"},{name:"Green Teal",value:"from-green-600 via-teal-600 to-cyan-600"},{name:"Orange Red",value:"from-amber-600 via-orange-600 to-red-600"},{name:"Purple Pink",value:"from-purple-600 via-pink-600 to-rose-600"},{name:"Indigo Blue",value:"from-indigo-600 via-blue-600 to-cyan-600"}];return s.jsx("div",{className:"min-h-screen py-8 px-4 bg-gradient-to-br from-slate-50 to-blue-50",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Mt,{to:at("AdminDashboard"),children:s.jsxs(W,{variant:"outline",children:[s.jsx(Pl,{className:"w-4 h-4 mr-2"}),"Back"]})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Homepage Banners"}),s.jsx("p",{className:"text-gray-600",children:"Manage rotating homepage banner slides"})]})]}),s.jsxs(W,{onClick:()=>{c(!0),a(null),g()},children:[s.jsx(Ws,{className:"w-4 h-4 mr-2"}),"Add Banner"]})]}),s.jsx(Ss,{children:o&&s.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:s.jsxs(te.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"sticky top-0 bg-white border-b p-6 z-10",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl font-bold",children:i?"Edit Banner":"Create Banner"}),s.jsx(W,{variant:"ghost",size:"icon",onClick:()=>c(!1),children:s.jsx(Br,{className:"w-6 h-6"})})]})}),s.jsxs("form",{onSubmit:_,className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Main Text *"}),s.jsx(ke,{value:u.text,onChange:S=>h({...u,text:S.target.value}),required:!0,placeholder:"Welcome message or quote"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Subtext"}),s.jsx(ke,{value:u.subtext,onChange:S=>h({...u,subtext:S.target.value}),placeholder:"Optional subtitle or attribution"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Gradient Style"}),s.jsx("div",{className:"grid grid-cols-2 gap-2 mb-2",children:N.map(S=>s.jsx("button",{type:"button",onClick:()=>h({...u,gradient:S.value}),className:`p-3 rounded-lg bg-gradient-to-r ${S.value} text-white text-sm font-semibold ${u.gradient===S.value?"ring-4 ring-blue-500":""}`,children:S.name},S.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Display Order"}),s.jsx(ke,{type:"number",value:u.order,onChange:S=>h({...u,order:parseInt(S.target.value)}),min:"1"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"font-semibold",children:"Active"}),s.jsx(Bs,{checked:u.active,onCheckedChange:S=>h({...u,active:S})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Preview"}),s.jsxs("div",{className:`p-8 rounded-xl bg-gradient-to-r ${u.gradient} text-white text-center`,children:[s.jsx("h3",{className:"text-2xl font-bold mb-2",children:u.text||"Your text here"}),u.subtext&&s.jsx("p",{className:"text-white/90",children:u.subtext})]})]}),s.jsxs("div",{className:"flex gap-4 justify-end border-t pt-6",children:[s.jsx(W,{type:"button",variant:"outline",onClick:()=>c(!1),children:"Cancel"}),s.jsxs(W,{type:"submit",children:[s.jsx(Sa,{className:"w-4 h-4 mr-2"}),i?"Update":"Create"]})]})]})]})})}),s.jsx("div",{className:"space-y-4",children:n.sort((S,k)=>S.order-k.order).map(S=>s.jsx(re,{className:S.active?"":"opacity-50",children:s.jsx(ie,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:`p-6 rounded-xl bg-gradient-to-r ${S.gradient} text-white mb-4`,children:[s.jsx("h3",{className:"text-xl font-bold mb-1",children:S.text}),S.subtext&&s.jsx("p",{className:"text-sm text-white/90",children:S.subtext})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[s.jsxs("span",{children:["Order: ",S.order]}),s.jsx("span",{children:""}),s.jsx("span",{children:S.active?" Active":" Inactive"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(W,{size:"sm",variant:"outline",onClick:()=>j(S.id),children:S.active?s.jsx(KB,{className:"w-4 h-4"}):s.jsx(fy,{className:"w-4 h-4"})}),s.jsx(W,{size:"sm",onClick:()=>x(S),children:s.jsx(wo,{className:"w-4 h-4"})}),s.jsx(W,{size:"sm",variant:"outline",onClick:()=>w(S.id),className:"text-red-600",children:s.jsx(xr,{className:"w-4 h-4"})})]})]})})},S.id))}),n.length===0&&s.jsxs(re,{className:"p-12 text-center",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"No banners created yet"}),s.jsx(W,{onClick:()=>c(!0),children:"Create First Banner"})]})]})})}function lI(){nr();const[t,e]=y.useState([]),[n,r]=y.useState(null),[i,a]=y.useState({name:"",linkUrl:"",imageUrl:"",type:"sponsor",placement:"home",order:0,active:!0}),[o,c]=y.useState(!1),[u,h]=y.useState(""),[f,m]=y.useState(null),[g,x]=y.useState(!1),_=()=>{try{const R=localStorage.getItem("homepage_sponsors"),O=R?JSON.parse(R):[];e(Array.isArray(O)?O:[])}catch{e([])}},w=R=>{localStorage.setItem("homepage_sponsors",JSON.stringify(R))},j=async()=>{c(!0),h("");try{const R=await fd.list();e(R.sort((O,A)=>(O.order??0)-(A.order??0)))}catch(R){console.warn("Sponsors list via Firestore failed, using localStorage",(R==null?void 0:R.message)||R),_()}finally{c(!1)}};y.useEffect(()=>{const{app:R}=yr();x(!!R),j()},[]);const N=()=>{a({name:"",linkUrl:"",imageUrl:"",type:"sponsor",placement:"home",order:t.length,active:!0}),r(null),h("")},S=R=>{r(R.id||R._localId),a({name:R.name||"",linkUrl:R.linkUrl||"",imageUrl:R.imageUrl||"",type:R.type||"sponsor",placement:R.placement||"home",order:R.order??0,active:R.active??!0})},k=async R=>{R.preventDefault(),c(!0),h("");try{const O={...i,name:i.name.trim(),linkUrl:i.linkUrl.trim(),imageUrl:i.imageUrl.trim(),createdAt:new Date().toISOString()};if(n)try{await fd.update(n,O),await j()}catch{const M=t.map(P=>P.id===n||P._localId===n?{...P,...O}:P);e(M),w(M)}else try{const A=await fd.add(O),M=(A==null?void 0:A.id)||Math.random().toString(36).slice(2);e(P=>[...P,{id:M,...O}])}catch{const M={_localId:Math.random().toString(36).slice(2),...O},P=[...t,M];e(P),w(P)}N()}catch(O){h((O==null?void 0:O.message)||"Failed to save")}finally{c(!1)}},C=async R=>{if(window.confirm("Delete this item?")){c(!0);try{if(R.id)try{await fd.remove(R.id),await j()}catch{const A=t.filter(M=>M.id!==R.id);e(A),w(A)}else{const O=t.filter(A=>A._localId!==R._localId);e(O),w(O)}}finally{c(!1)}}};return s.jsx("div",{className:"min-h-screen py-8 px-4 bg-gradient-to-br from-slate-50 to-blue-50",children:s.jsx("div",{className:"max-w-5xl mx-auto",children:s.jsxs(re,{className:"shadow-xl border-2 border-blue-200",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:s.jsxs(Me,{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(md,{className:"w-5 h-5"})," Manage Sponsors & Ads"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Mt,{to:at("Assistant"),className:"text-white/90 hover:text-white",children:s.jsxs(W,{variant:"ghost",className:"text-white",children:[s.jsx(Na,{className:"w-4 h-4 mr-2"})," Open AI Agent"]})}),s.jsx(Mt,{to:at("AdminDashboard"),className:"text-white/90 hover:text-white",children:s.jsxs(W,{variant:"ghost",className:"text-white",children:[s.jsx(Pl,{className:"w-4 h-4 mr-2"})," Back to Dashboard"]})})]})]})}),s.jsxs(ie,{className:"p-6",children:[s.jsxs("form",{onSubmit:k,className:"space-y-4",children:[u&&s.jsx("div",{className:"text-red-600",children:u}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Name"}),s.jsx(ke,{value:i.name,onChange:R=>a({...i,name:R.target.value}),placeholder:"Sponsor name",required:!0})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Link URL"}),s.jsx(ke,{value:i.linkUrl,onChange:R=>a({...i,linkUrl:R.target.value}),placeholder:"https://sponsor.com",type:"url",required:!0})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Logo/Image URL"}),s.jsx(ke,{value:i.imageUrl,onChange:R=>a({...i,imageUrl:R.target.value}),placeholder:"https://...logo.png"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Upload Image (optional)"}),s.jsx(ke,{type:"file",accept:"image/*",onChange:R=>{var O;return m(((O=R.target.files)==null?void 0:O[0])||null)}}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:g?"Uploads go to Firebase Storage and auto-fill the Image URL.":"Upload disabled: configure Firebase env vars to enable Storage."}),s.jsxs("div",{className:"mt-2 flex gap-2",children:[s.jsx(W,{type:"button",variant:"outline",disabled:!f||!g||o,onClick:async()=>{if(h(""),!!f)try{const R=await _D(f,i.name||f.name);a({...i,imageUrl:R.url})}catch(R){h((R==null?void 0:R.message)||"Upload failed")}},children:"Upload to Storage"}),i.imageUrl&&s.jsx("a",{href:i.imageUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 text-sm",children:"Preview"})]})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Type"}),s.jsxs("select",{className:"border rounded px-3 py-2 w-full",value:i.type,onChange:R=>a({...i,type:R.target.value}),children:[s.jsx("option",{value:"sponsor",children:"Sponsor"}),s.jsx("option",{value:"ad",children:"Ad"})]})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Placement"}),s.jsx("select",{className:"border rounded px-3 py-2 w-full",value:i.placement,onChange:R=>a({...i,placement:R.target.value}),children:s.jsx("option",{value:"home",children:"Home"})})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Order"}),s.jsx(ke,{type:"number",value:i.order,onChange:R=>a({...i,order:Number(R.target.value)})})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Bs,{checked:i.active,onCheckedChange:R=>a({...i,active:!!R})}),s.jsx(be,{children:"Active"})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(W,{type:"submit",disabled:o,className:"bg-blue-600 text-white",children:[s.jsx(Sa,{className:"w-4 h-4 mr-2"})," ",n?"Update":"Add"," Item"]}),n&&s.jsxs(W,{type:"button",variant:"outline",onClick:N,children:[s.jsx(Br,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]}),s.jsxs("div",{className:"mt-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-xl font-bold",children:"Current Items"}),s.jsxs(W,{variant:"outline",onClick:N,children:[s.jsx(Ws,{className:"w-4 h-4 mr-2"}),"New"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.map(R=>s.jsx("div",{className:"border rounded-xl p-4 bg-white",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded flex items-center justify-center overflow-hidden",children:R.imageUrl?s.jsx(ipe,{url:R.imageUrl,name:R.name}):s.jsx(ho,{className:"w-8 h-8 text-gray-400"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold",children:R.name}),s.jsx("div",{className:"text-sm text-blue-600 break-all",children:s.jsx("a",{href:R.linkUrl,target:"_blank",rel:"noopener noreferrer",children:R.linkUrl})}),s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Type: ",R.type,"  Placement: ",R.placement,"  Order: ",R.order??0,"  Active: ",R.active?"Yes":"No"]}),s.jsxs("div",{className:"mt-3 flex gap-2",children:[s.jsxs(W,{size:"sm",variant:"outline",onClick:()=>S(R),children:[s.jsx(wo,{className:"w-4 h-4 mr-1"}),"Edit"]}),s.jsxs(W,{size:"sm",variant:"destructive",onClick:()=>C(R),children:[s.jsx(xr,{className:"w-4 h-4 mr-1"}),"Delete"]})]})]})]})},R.id||R._localId)),t.length===0&&s.jsx("div",{className:"text-gray-600",children:"No sponsors or ads yet. Add your first above."})]})]})]})]})})})}function ipe({url:t,name:e}){const[n,r]=Nt.useState(!1);return n?s.jsx(ho,{className:"w-8 h-8 text-gray-400"}):s.jsx("img",{src:t,alt:e||"Sponsor",className:"object-contain w-full h-full",referrerPolicy:"no-referrer",onError:()=>r(!0)})}function fV(){const[t,e]=y.useState(null),[n,r]=y.useState(!1),[i,a]=y.useState(null),o=xi();nr();const[c,u]=y.useState({title:"",description:"",moral:"",image_url:"",category:"manners",age_range:"7-12",is_interactive:!0,starting_node:"start",story_nodes:[]}),[h,f]=y.useState({id:"",content:"",character:"",image_url:"",is_ending:!1,ending_type:"good",choices:[]}),{data:m=[],isLoading:g}=Bn({queryKey:["admin-interactive-stories"],queryFn:async()=>(await bt.entities.Story.list("-created_date")).filter(L=>L.is_interactive),initialData:[]}),x=An({mutationFn:async F=>await bt.entities.Story.create(F),onSuccess:()=>{o.invalidateQueries({queryKey:["admin-interactive-stories"]}),r(!1),j()}}),_=An({mutationFn:async({id:F,storyData:L})=>await bt.entities.Story.update(F,L),onSuccess:()=>{o.invalidateQueries({queryKey:["admin-interactive-stories"]}),e(null),r(!1),j()}}),w=An({mutationFn:async F=>await bt.entities.Story.delete(F),onSuccess:()=>{o.invalidateQueries({queryKey:["admin-interactive-stories"]})}}),j=()=>{u({title:"",description:"",moral:"",image_url:"",category:"manners",age_range:"7-12",is_interactive:!0,starting_node:"start",story_nodes:[]}),a(null)},N=F=>{e(F),u({title:F.title,description:F.description||"",moral:F.moral,image_url:F.image_url||"",category:F.category,age_range:F.age_range||"7-12",is_interactive:!0,starting_node:F.starting_node||"start",story_nodes:F.story_nodes||[]}),r(!0)},S=async F=>{window.confirm("Are you sure you want to delete this interactive story?")&&await w.mutateAsync(F)},k=async F=>{F.preventDefault(),t?await _.mutateAsync({id:t.id,storyData:c}):await x.mutateAsync(c)},C=()=>{const F={id:`node_${Date.now()}`,content:"",character:"",image_url:"",is_ending:!1,ending_type:"good",choices:[]};u({...c,story_nodes:[...c.story_nodes,F]})},R=(F,L,D)=>{const V=[...c.story_nodes];V[F]={...V[F],[L]:D},u({...c,story_nodes:V})},O=F=>{if(window.confirm("Delete this story node?")){const L=c.story_nodes.filter((D,V)=>V!==F);u({...c,story_nodes:L})}},A=F=>{const L=[...c.story_nodes];L[F].choices||(L[F].choices=[]),L[F].choices.push({text:"",next_node:"",points:5}),u({...c,story_nodes:L})},M=(F,L,D,V)=>{const G=[...c.story_nodes];G[F].choices[L]={...G[F].choices[L],[D]:V},u({...c,story_nodes:G})},P=(F,L)=>{const D=[...c.story_nodes];D[F].choices=D[F].choices.filter((V,G)=>G!==L),u({...c,story_nodes:D})};return s.jsx("div",{className:"min-h-screen py-8 px-4 bg-gradient-to-br from-slate-50 to-blue-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Mt,{to:at("AdminDashboard"),children:s.jsxs(W,{variant:"outline",children:[s.jsx(Pl,{className:"w-4 h-4 mr-2"}),"Back"]})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Interactive Story Builder"}),s.jsx("p",{className:"text-gray-600",children:"Create branching narrative stories"})]})]}),s.jsxs(W,{onClick:()=>{r(!0),e(null),j()},className:"bg-purple-600 hover:bg-purple-700",children:[s.jsx(Ws,{className:"w-4 h-4 mr-2"}),"Create Interactive Story"]})]}),!n&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(F=>{var L;return s.jsxs(re,{className:"hover:shadow-lg transition-shadow",children:[s.jsx(Oe,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx(Me,{className:"text-lg line-clamp-2",children:F.title}),s.jsxs(we,{className:"bg-purple-100 text-purple-800",children:[s.jsx(ez,{className:"w-3 h-3 mr-1"}),((L=F.story_nodes)==null?void 0:L.length)||0," nodes"]})]})}),s.jsxs(ie,{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:F.description}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(W,{onClick:()=>N(F),size:"sm",className:"flex-1 bg-blue-600 hover:bg-blue-700",children:[s.jsx(wo,{className:"w-4 h-4 mr-1"}),"Edit"]}),s.jsx(W,{onClick:()=>S(F.id),size:"sm",variant:"outline",className:"text-red-600 border-red-600",children:s.jsx(xr,{className:"w-4 h-4"})})]})]})]},F.id)})}),n&&s.jsxs(re,{children:[s.jsx(Oe,{children:s.jsx(Me,{children:t?"Edit Interactive Story":"Create New Interactive Story"})}),s.jsx(ie,{children:s.jsxs("form",{onSubmit:k,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Title *"}),s.jsx(ke,{value:c.title,onChange:F=>u({...c,title:F.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Category *"}),s.jsxs("select",{value:c.category,onChange:F=>u({...c,category:F.target.value}),className:"w-full border rounded-lg px-3 py-2",children:[s.jsx("option",{value:"prophets",children:"Prophets"}),s.jsx("option",{value:"sahabah",children:"Sahabah"}),s.jsx("option",{value:"manners",children:"Manners"}),s.jsx("option",{value:"kindness",children:"Kindness"}),s.jsx("option",{value:"honesty",children:"Honesty"}),s.jsx("option",{value:"gratitude",children:"Gratitude"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Description"}),s.jsx(ke,{value:c.description,onChange:F=>u({...c,description:F.target.value}),placeholder:"Brief description of the story"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Moral/Lesson *"}),s.jsx(Dn,{value:c.moral,onChange:F=>u({...c,moral:F.target.value}),required:!0,rows:2})]}),s.jsxs("div",{className:"border-t pt-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-xl font-bold",children:"Story Nodes"}),s.jsxs(W,{type:"button",onClick:C,size:"sm",children:[s.jsx(Ws,{className:"w-4 h-4 mr-2"}),"Add Node"]})]}),s.jsx("div",{className:"space-y-4",children:c.story_nodes.map((F,L)=>{var D;return s.jsx(re,{className:"border-2 border-purple-200",children:s.jsxs(ie,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsxs(we,{className:"mb-2",children:["Node ",L+1]}),s.jsxs("p",{className:"text-xs text-gray-500",children:["ID: ",F.id]})]}),s.jsx(W,{type:"button",variant:"ghost",size:"sm",onClick:()=>O(L),className:"text-red-600",children:s.jsx(xr,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Character Name"}),s.jsx(ke,{value:F.character,onChange:V=>R(L,"character",V.target.value),placeholder:"e.g., Ahmad (You)"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Content *"}),s.jsx(Dn,{value:F.content,onChange:V=>R(L,"content",V.target.value),rows:4,placeholder:"Story content (Markdown supported)"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:F.is_ending,onChange:V=>R(L,"is_ending",V.target.checked)}),s.jsx("span",{className:"text-sm font-semibold",children:"Is Ending Node"})]}),F.is_ending&&s.jsxs("select",{value:F.ending_type,onChange:V=>R(L,"ending_type",V.target.value),className:"border rounded px-2 py-1 text-sm",children:[s.jsx("option",{value:"excellent",children:"Excellent"}),s.jsx("option",{value:"great",children:"Great"}),s.jsx("option",{value:"good",children:"Good"}),s.jsx("option",{value:"bad",children:"Bad"})]})]}),!F.is_ending&&s.jsxs("div",{className:"border-t pt-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("label",{className:"text-sm font-semibold",children:"Choices"}),s.jsxs(W,{type:"button",onClick:()=>A(L),size:"sm",variant:"outline",children:[s.jsx(Ws,{className:"w-3 h-3 mr-1"}),"Add Choice"]})]}),(D=F.choices)==null?void 0:D.map((V,G)=>s.jsxs("div",{className:"bg-gray-50 p-3 rounded mb-2",children:[s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsxs("span",{className:"text-xs font-bold",children:["Choice ",G+1]}),s.jsx(W,{type:"button",variant:"ghost",size:"sm",onClick:()=>P(L,G),children:s.jsx(Br,{className:"w-3 h-3"})})]}),s.jsx(ke,{value:V.text,onChange:ee=>M(L,G,"text",ee.target.value),placeholder:"Choice text",className:"mb-2"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx(ke,{value:V.next_node,onChange:ee=>M(L,G,"next_node",ee.target.value),placeholder:"Next node ID"}),s.jsx(ke,{type:"number",value:V.points,onChange:ee=>M(L,G,"points",parseInt(ee.target.value)),placeholder:"Points"})]})]},G))]})]})]})},L)})})]}),s.jsxs("div",{className:"flex gap-4 justify-end border-t pt-6",children:[s.jsx(W,{type:"button",variant:"outline",onClick:()=>{r(!1),j()},children:"Cancel"}),s.jsxs(W,{type:"submit",className:"bg-purple-600 hover:bg-purple-700",children:[s.jsx(Sa,{className:"w-4 h-4 mr-2"}),t?"Update Story":"Create Story"]})]})]})})]})]})})}const cI=[{game_id:"ayat_explorer",game_name:"Ayat Explorer",emoji:""},{game_id:"word_search",game_name:"Islamic Word Search",emoji:""},{game_id:"memory_match",game_name:"Islamic Memory Match",emoji:""},{game_id:"memory",game_name:"Memory Game",emoji:""},{game_id:"matching_pairs",game_name:"Matching Pairs of Iman",emoji:""},{game_id:"islamic_quiz",game_name:"Islamic Knowledge Quiz",emoji:""},{game_id:"sahabah_arena",game_name:"Sahabah Arena",emoji:""},{game_id:"knowledge_race",game_name:"Islam Knowledge Race",emoji:""},{game_id:"sahabah_stories",game_name:"Sahabah Stories",emoji:""},{game_id:"maze_of_guidance",game_name:"Maze of Guidance",emoji:""},{game_id:"trivia",game_name:"Trivia",emoji:""},{game_id:"quran_quest",game_name:"Quran Quest",emoji:""},{game_id:"crossword",game_name:"Islamic Crossword",emoji:""},{game_id:"hadith_match",game_name:"Hadith Match",emoji:""},{game_id:"prophet_stories",game_name:"Prophet Stories",emoji:""},{game_id:"quran_memory",game_name:"Quran Memory Match",emoji:""},{game_id:"morals_maze",game_name:"Islamic Morals Maze",emoji:""},{game_id:"seerah_quiz",game_name:"Seerah Quiz",emoji:""},{game_id:"word_scramble",game_name:"Word Scramble Challenge",emoji:""},{game_id:"quest_for_ilm",game_name:"The Quest for Ilm",emoji:""},{game_id:"fiqh_game",game_name:"Fiqh Challenge",emoji:""}];function mV(){nr();const t=xi(),[e,n]=y.useState(!1),[r,i]=y.useState({}),{data:a=[],isLoading:o}=Bn({queryKey:["game-settings"],queryFn:async()=>{const g=await bt.entities.GameSettings.list(),x=g.map(w=>w.game_id),_=cI.filter(w=>!x.includes(w.game_id));return _.length>0?(await Promise.all(_.map(w=>bt.entities.GameSettings.create({game_id:w.game_id,game_name:w.game_name,points_per_game:10,perfect_score_bonus:5,is_active:!0,min_points:5,max_points:20}))),await bt.entities.GameSettings.list()):g},enabled:!0}),c=An({mutationFn:({id:g,data:x})=>bt.entities.GameSettings.update(g,x),onSuccess:()=>{t.invalidateQueries({queryKey:["game-settings"]}),n(!0),setTimeout(()=>n(!1),3e3)}}),u=(g,x,_)=>{i(w=>({...w,[g]:{...w[g],[x]:_}}))},h=async g=>{const x=r[g.game_id]||{};Object.keys(x).length!==0&&(await c.mutateAsync({id:g.id,data:x}),i(_=>{const w={..._};return delete w[g.game_id],w}))},f=(g,x)=>{var _;return((_=r[g.game_id])==null?void 0:_[x])??g[x]},m=g=>r[g]&&Object.keys(r[g]).length>0;return o?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Fc,{className:"w-12 h-12 mx-auto mb-4 animate-spin text-blue-600"}),s.jsx("p",{className:"text-gray-600",children:"Loading game settings..."})]})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 py-8 px-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Game Settings"}),s.jsx("p",{className:"text-gray-600",children:"Manage points and settings for all games"})]}),e&&s.jsxs(we,{className:"bg-green-500 text-white",children:[s.jsx(bl,{className:"w-4 h-4 mr-2"}),"Saved Successfully!"]})]})}),s.jsx("div",{className:"grid gap-6",children:a.map((g,x)=>{const _=cI.find(j=>j.game_id===g.game_id),w=m(g.game_id);return s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:x*.05},children:s.jsxs(re,{className:`border-2 ${w?"border-blue-400 shadow-lg":"border-gray-200"}`,children:[s.jsx(Oe,{className:"bg-gradient-to-r from-blue-50 to-purple-50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"text-4xl",children:(_==null?void 0:_.emoji)||""}),s.jsxs("div",{children:[s.jsx(Me,{className:"text-xl",children:g.game_name}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Game ID: ",g.game_id]})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[w&&s.jsx(we,{variant:"outline",className:"bg-blue-100 text-blue-700",children:"Unsaved Changes"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(be,{htmlFor:`active-${g.id}`,children:"Active"}),s.jsx(Bs,{id:`active-${g.id}`,checked:f(g,"is_active"),onCheckedChange:j=>u(g.game_id,"is_active",j)})]})]})]})}),s.jsxs(ie,{className:"p-6",children:[s.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{children:[s.jsxs(be,{htmlFor:`points-${g.id}`,className:"flex items-center gap-2 mb-2",children:[s.jsx(Ud,{className:"w-4 h-4 text-blue-600"}),"Points Per Game"]}),s.jsx(ke,{id:`points-${g.id}`,type:"number",value:f(g,"points_per_game"),onChange:j=>u(g.game_id,"points_per_game",parseInt(j.target.value)),className:"text-center font-bold text-lg",min:f(g,"min_points"),max:f(g,"max_points")})]}),s.jsxs("div",{children:[s.jsxs(be,{htmlFor:`bonus-${g.id}`,className:"flex items-center gap-2 mb-2",children:[s.jsx(JI,{className:"w-4 h-4 text-green-600"}),"Perfect Score Bonus"]}),s.jsx(ke,{id:`bonus-${g.id}`,type:"number",value:f(g,"perfect_score_bonus"),onChange:j=>u(g.game_id,"perfect_score_bonus",parseInt(j.target.value)),className:"text-center font-bold text-lg",min:0,max:20})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:`min-${g.id}`,className:"mb-2 block",children:"Min Points"}),s.jsx(ke,{id:`min-${g.id}`,type:"number",value:f(g,"min_points"),onChange:j=>u(g.game_id,"min_points",parseInt(j.target.value)),className:"text-center",min:0})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:`max-${g.id}`,className:"mb-2 block",children:"Max Points"}),s.jsx(ke,{id:`max-${g.id}`,type:"number",value:f(g,"max_points"),onChange:j=>u(g.game_id,"max_points",parseInt(j.target.value)),className:"text-center",min:f(g,"min_points")})]})]}),s.jsxs("div",{className:"mt-4 flex items-center gap-3",children:[s.jsx("div",{className:"flex-1 bg-blue-50 rounded-lg p-3 border border-blue-200",children:s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("strong",{children:"Total Possible:"})," ",f(g,"points_per_game")," + ",f(g,"perfect_score_bonus")," bonus = ",s.jsxs("span",{className:"text-blue-600 font-bold",children:[f(g,"points_per_game")+f(g,"perfect_score_bonus")," points"]})]})}),s.jsxs(W,{onClick:()=>h(g),disabled:!w,className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(Sa,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]})]})]})},g.id)})}),s.jsx(re,{className:"mt-8 border-2 border-amber-300 bg-amber-50",children:s.jsx(ie,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx($_,{className:"w-6 h-6 text-amber-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-amber-900 mb-2",children:"Important Notes:"}),s.jsxs("ul",{className:"text-sm text-amber-800 space-y-1",children:[s.jsx("li",{children:" Changes take effect immediately for all new games played"}),s.jsx("li",{children:" User points are capped at 1500 total regardless of individual game settings"}),s.jsx("li",{children:" Perfect score bonus is only awarded when users get 100% correct"}),s.jsx("li",{children:" Deactivating a game will hide it from the Games page"})]})]})]})})})]})})}function pV(){nr();const[t,e]=y.useState(null),[n,r]=y.useState(null),[i,a]=y.useState(0),[o,c]=y.useState(null),[u,h]=y.useState(!1),[f,m]=y.useState([]),[g,x]=y.useState(null),[_,w]=y.useState(!1),[j,N]=y.useState(null),[S,k]=y.useState("all"),[C,R]=y.useState(null);y.useEffect(()=>{O()},[]),y.useEffect(()=>{const z=au(X=>R(X));return()=>z&&z()},[]);const O=async()=>{try{if(await base44.auth.isAuthenticated()){const X=await base44.auth.me();e(X)}}catch{console.log("User not authenticated")}},{data:A=[],isLoading:M}=Bn({queryKey:["quizzes"],queryFn:async()=>{const z=await base44.entities.Quiz.filter({is_active:!0},"-created_date",100),X=new Date;return z.filter(q=>{const ye=q.start_date?new Date(q.start_date):null,_e=q.end_date?new Date(q.end_date):null;return!(ye&&X<ye||_e&&X>_e)})},initialData:[]}),{data:P=[]}=Bn({queryKey:["user-quiz-attempts",t==null?void 0:t.id],queryFn:()=>base44.entities.QuizAttempt.filter({user_id:t.id},"-created_date",100),enabled:!!t,initialData:[]}),{data:F=[]}=Bn({queryKey:["quiz-questions",n==null?void 0:n.id],queryFn:async()=>{if(!n)return[];const z=n.questions||[];return(await Promise.all(z.map(async q=>{try{return(await base44.entities.QuizQuestion.filter({id:q}))[0]}catch{return null}}))).filter(q=>q!==null)},enabled:!!n,initialData:[]}),L=z=>{r(z),a(0),m([]),h(!1),w(!1),x(Date.now())},D=z=>{u||c(z)},V=()=>{if(o===null)return;const z=F[i],X=o===z.correct_answer_index;m([...f,{question_id:z.id,selected_answer:o,is_correct:X}]),h(!0)},G=()=>{i<F.length-1?(a(i+1),c(null),h(!1)):ee()},ee=async()=>{var Fe,Ie,ze;const z=Math.floor((Date.now()-g)/1e3),X=f.filter(rt=>rt.is_correct).length+(o===((Fe=F[i])==null?void 0:Fe.correct_answer_index)?1:0),q=F.length,ye=Math.round(X/q*100),_e=ye>=(n.passing_score||70);let Ee=_e?n.points_reward||20:0;if(ye===100&&(Ee+=n.bonus_points||10),N({score:ye,correct_answers:X,total_questions:q,time_taken:z,points_earned:Ee,passed:_e}),w(!0),t)try{await base44.entities.QuizAttempt.create({user_id:t.id,quiz_id:n.id,score:ye,points_earned:Ee,correct_answers:X,total_questions:q,time_taken_seconds:z,answers:[...f,{question_id:(Ie=F[i])==null?void 0:Ie.id,selected_answer:o,is_correct:o===((ze=F[i])==null?void 0:ze.correct_answer_index)}],passed:_e,completed_at:new Date().toISOString()}),await base44.entities.Quiz.update(n.id,{total_attempts:(n.total_attempts||0)+1})}catch(rt){console.error("Error saving quiz attempt:",rt)}try{await Uj(t,"quiz",{isPerfect:ye===100,fallbackScore:Ee,metadata:{quiz_id:n.id,score_percentage:ye,correct_answers:X,total_questions:q,time_taken_seconds:z,passed:_e}})}catch(rt){console.warn("awardPointsForGame failed:",(rt==null?void 0:rt.message)||rt)}},ae=()=>{r(null),a(0),c(null),h(!1),m([]),w(!1),N(null)},ue=z=>{const X=P.filter(q=>q.quiz_id===z);return X.length===0?null:Math.max(...X.map(q=>q.score))},Q=["all","Quran","Hadith","Seerah","Fiqh","Prophets","Sahabah","Akhlaq","History","Mixed"],K=S==="all"?A:A.filter(z=>z.subject===S),B=A.filter(z=>z.is_featured);if(M)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-purple-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Na,{className:"w-16 h-16 mx-auto mb-4 animate-bounce text-blue-600"}),s.jsx("p",{className:"text-gray-600 font-medium",children:"Loading quizzes..."})]})});if(n&&!_){if(F.length===0)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:s.jsx(re,{className:"max-w-md",children:s.jsxs(ie,{className:"p-8 text-center",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"Loading quiz questions..."}),s.jsx(W,{onClick:ae,children:"Back to Quizzes"})]})})});const z=F[i],X=(i+1)/F.length*100;return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 py-8 px-4",children:s.jsx("div",{className:"max-w-3xl mx-auto",children:s.jsxs(re,{className:"shadow-2xl",children:[s.jsxs(Oe,{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx(Me,{className:"text-2xl",children:n.title}),s.jsxs(we,{className:"bg-white/20 text-white",children:[s.jsx(ul,{className:"w-4 h-4 mr-1"}),"Question ",i+1,"/",F.length]})]}),s.jsx(Gd,{value:X,className:"bg-white/20"})]}),s.jsx(ie,{className:"p-8",children:u?s.jsxs(te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center",children:[s.jsx("div",{className:"text-6xl mb-6",children:o===z.correct_answer_index?"":""}),s.jsx("h3",{className:`text-3xl font-bold mb-4 ${o===z.correct_answer_index?"text-green-600":"text-red-600"}`,children:o===z.correct_answer_index?"Correct!":"Not Quite!"}),s.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 mb-6",children:[o!==z.correct_answer_index&&s.jsxs("p",{className:"text-lg mb-3",children:[s.jsx("strong",{children:"Correct Answer:"})," ",z.options[z.correct_answer_index]]}),s.jsxs("p",{className:"text-gray-700",children:[s.jsx("strong",{children:"Explanation:"})," ",z.explanation]}),z.source&&s.jsxs("p",{className:"text-sm text-gray-600 mt-3",children:[s.jsx("strong",{children:"Source:"})," ",z.source]})]}),s.jsx(W,{onClick:G,size:"lg",className:"bg-gradient-to-r from-blue-500 to-purple-500",children:i<F.length-1?"Next Question":"See Results"})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(we,{className:"mb-4",children:z.category}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:z.question})]}),s.jsx("div",{className:"space-y-3",children:z.options.map((q,ye)=>s.jsx(te.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>D(ye),className:`w-full p-4 rounded-xl border-2 text-left transition-all ${o===ye?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300 bg-white"}`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold ${o===ye?"bg-blue-500 text-white":"bg-gray-200 text-gray-600"}`,children:String.fromCharCode(65+ye)}),s.jsx("span",{className:"flex-1 text-gray-900",children:q})]})},ye))}),s.jsx(W,{onClick:V,disabled:o===null,className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 text-lg py-6",size:"lg",children:"Submit Answer"})]})})]})})})}return _&&j?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 py-8 px-4",children:s.jsx("div",{className:"max-w-2xl mx-auto",children:s.jsx(te.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},children:s.jsx(re,{className:"shadow-2xl border-4 border-blue-300",children:s.jsxs(ie,{className:"p-12 text-center",children:[s.jsx("div",{className:"text-6xl mb-6",children:j.passed?"":""}),s.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:j.passed?"Congratulations!":"Keep Learning!"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[s.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 border-2 border-blue-200",children:[s.jsx(QI,{className:"w-8 h-8 mx-auto mb-2 text-blue-600"}),s.jsxs("p",{className:"text-4xl font-bold text-blue-600",children:[j.score,"%"]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Score"})]}),s.jsxs("div",{className:"bg-purple-50 rounded-xl p-6 border-2 border-purple-200",children:[s.jsx(Ud,{className:"w-8 h-8 mx-auto mb-2 text-purple-600"}),s.jsx("p",{className:"text-4xl font-bold text-purple-600",children:j.points_earned}),s.jsx("p",{className:"text-sm text-gray-600",children:"Points"})]})]}),s.jsx("div",{className:"bg-gray-50 rounded-xl p-6 mb-8",children:s.jsxs("div",{className:"flex justify-around text-center",children:[s.jsxs("div",{children:[s.jsx(lh,{className:"w-6 h-6 mx-auto mb-1 text-green-600"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j.correct_answers}),s.jsx("p",{className:"text-xs text-gray-600",children:"Correct"})]}),s.jsxs("div",{children:[s.jsx(hy,{className:"w-6 h-6 mx-auto mb-1 text-red-600"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j.total_questions-j.correct_answers}),s.jsx("p",{className:"text-xs text-gray-600",children:"Wrong"})]}),s.jsxs("div",{children:[s.jsx(ul,{className:"w-6 h-6 mx-auto mb-1 text-blue-600"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[Math.floor(j.time_taken/60),":",(j.time_taken%60).toString().padStart(2,"0")]}),s.jsx("p",{className:"text-xs text-gray-600",children:"Time"})]})]})}),j.score===100&&s.jsx("div",{className:"bg-gradient-to-r from-amber-100 to-yellow-100 border-2 border-amber-400 rounded-xl p-4 mb-6",children:s.jsxs("p",{className:"text-amber-900 font-bold",children:[" Perfect Score! +",n.bonus_points," Bonus Points!"]})}),s.jsxs("div",{className:"flex gap-4 justify-center",children:[s.jsx(W,{onClick:ae,variant:"outline",size:"lg",children:"Back to Quizzes"}),s.jsx(W,{onClick:()=>L(n),className:"bg-gradient-to-r from-blue-500 to-purple-500",size:"lg",children:"Retry Quiz"})]})]})})})})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 py-8 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[!C&&s.jsx("div",{className:"mb-4",children:s.jsx(re,{className:"border-2 border-yellow-300 bg-yellow-50",children:s.jsx(ie,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsx("div",{className:"text-sm text-yellow-900",children:"To track your points on the Leaderboard, please sign in."}),s.jsx(Mt,{to:"/Signup",children:s.jsx(W,{className:"bg-blue-600 hover:bg-blue-700",children:"Sign in / Signup"})})]})})})}),s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-5xl font-bold text-gray-900 mb-4",children:"Islamic Quizzes"}),s.jsx("p",{className:"text-xl text-gray-600",children:"Test your knowledge on various Islamic topics"})]}),s.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-8",children:Q.map(z=>s.jsx(W,{onClick:()=>k(z),variant:S===z?"default":"outline",className:S===z?"bg-blue-600":"",children:z==="all"?"All Subjects":z},z))}),B.length>0&&S==="all"&&s.jsxs("div",{className:"mb-12",children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[s.jsx(ln,{className:"w-6 h-6 text-amber-500 fill-amber-500"}),"Featured This Week"]}),s.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:B.map((z,X)=>{var q;return s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:X*.1},children:s.jsxs(re,{className:"border-4 border-amber-400 hover:shadow-2xl transition-all cursor-pointer bg-gradient-to-br from-amber-50 to-yellow-50",children:[s.jsx(Oe,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"text-4xl",children:z.icon}),s.jsxs("div",{children:[s.jsx(Me,{className:"text-2xl",children:z.title}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:z.description})]})]}),s.jsx(we,{className:"bg-amber-500",children:"Featured"})]})}),s.jsxs(ie,{children:[s.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[s.jsx(we,{children:z.subject}),s.jsxs(we,{variant:"outline",children:[((q=z.questions)==null?void 0:q.length)||0," Questions"]}),s.jsxs(we,{variant:"outline",children:[s.jsx(ul,{className:"w-3 h-3 mr-1"}),z.duration_minutes," min"]}),s.jsxs(we,{variant:"outline",children:[s.jsx(Ud,{className:"w-3 h-3 mr-1"}),z.points_reward," pts"]})]}),t&&ue(z.id)!==null&&s.jsx("div",{className:"bg-blue-100 rounded-lg p-2 mb-4",children:s.jsxs("p",{className:"text-sm text-blue-900",children:[s.jsx("strong",{children:"Your Best:"})," ",ue(z.id),"%"]})}),s.jsx(W,{onClick:()=>L(z),className:"w-full bg-gradient-to-r from-amber-500 to-orange-500",size:"lg",children:"Start Quiz"})]})]})},z.id)})})]}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:S==="all"?"All Quizzes":`${S} Quizzes`}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:K.map((z,X)=>{var q;return s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:X*.1},children:s.jsxs(re,{className:"hover:shadow-xl transition-all cursor-pointer h-full",children:[s.jsxs(Oe,{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"text-4xl",children:z.icon}),s.jsx("div",{className:"flex-1",children:s.jsx(Me,{className:"text-lg",children:z.title})})]}),s.jsx("p",{className:"text-sm text-gray-600",children:z.description})]}),s.jsxs(ie,{children:[s.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[s.jsx(we,{children:z.subject}),s.jsxs(we,{variant:"outline",children:[((q=z.questions)==null?void 0:q.length)||0," Qs"]}),s.jsxs(we,{variant:"outline",children:[s.jsx(ul,{className:"w-3 h-3 mr-1"}),z.duration_minutes,"m"]})]}),t&&ue(z.id)!==null&&s.jsx("div",{className:"bg-green-100 rounded-lg p-2 mb-4",children:s.jsxs("p",{className:"text-xs text-green-900",children:["Best: ",ue(z.id),"%"]})}),s.jsx(W,{onClick:()=>L(z),className:"w-full bg-blue-600",children:"Take Quiz"})]})]})},z.id)})}),K.length===0&&s.jsx(re,{children:s.jsxs(ie,{className:"p-12 text-center",children:[s.jsx(un,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-gray-600",children:"No quizzes available in this category yet."})]})})]})})}function gV(){const t=xi(),[e,n]=y.useState(!1),[r,i]=y.useState(null),[a,o]=y.useState([]),[c,u]=y.useState(""),[h,f]=y.useState(5),[m,g]=y.useState(!1),[x,_]=y.useState(""),[w,j]=y.useState(""),[N,S]=y.useState({title:"",description:"",subject:"Quran",difficulty:"mixed",duration_minutes:15,passing_score:70,points_reward:20,bonus_points:10,is_active:!0,is_featured:!1,age_group:"all",icon:"",start_date:"",end_date:""}),k=["Quran","Hadith","Seerah","Fiqh","Prophets","Sahabah","Akhlaq","History","Arabic","Beliefs","Mixed"],{data:C=[]}=Bn({queryKey:["all-quizzes"],queryFn:()=>bt.entities.Quiz.list("-created_date",100),initialData:[]}),{data:R=[]}=Bn({queryKey:["all-quiz-questions"],queryFn:()=>bt.entities.QuizQuestion.filter({is_active:!0},"-date_added",500),initialData:[]}),O=An({mutationFn:K=>bt.entities.Quiz.create(K),onSuccess:()=>{t.invalidateQueries({queryKey:["all-quizzes"]}),V()}}),A=An({mutationFn:({id:K,data:B})=>bt.entities.Quiz.update(K,B),onSuccess:()=>{t.invalidateQueries({queryKey:["all-quizzes"]}),V()}}),M=An({mutationFn:K=>bt.entities.Quiz.delete(K),onSuccess:()=>{t.invalidateQueries({queryKey:["all-quizzes"]})}}),P=async K=>{K.preventDefault();const B={...N,questions:a,week_number:N.start_date?F(new Date(N.start_date)):null};r?await A.mutateAsync({id:r.id,data:B}):await O.mutateAsync(B)},F=K=>{const B=new Date(K.getFullYear(),0,1),z=(K-B)/864e5;return Math.ceil((z+B.getDay()+1)/7)},L=K=>{i(K),S({title:K.title,description:K.description,subject:K.subject,difficulty:K.difficulty,duration_minutes:K.duration_minutes,passing_score:K.passing_score,points_reward:K.points_reward,bonus_points:K.bonus_points,is_active:K.is_active,is_featured:K.is_featured,age_group:K.age_group||"all",icon:K.icon||"",start_date:K.start_date||"",end_date:K.end_date||""}),o(K.questions||[]),n(!0)},D=async K=>{window.confirm("Are you sure you want to delete this quiz?")&&await M.mutateAsync(K)},V=()=>{S({title:"",description:"",subject:"Quran",difficulty:"mixed",duration_minutes:15,passing_score:70,points_reward:20,bonus_points:10,is_active:!0,is_featured:!1,age_group:"all",icon:"",start_date:"",end_date:""}),o([]),i(null),n(!1),u(""),f(5),g(!1),_(""),j("")},G=K=>{o(B=>B.includes(K)?B.filter(z=>z!==K):[...B,K])},ee=R.filter(K=>N.subject==="Mixed"||K.category===N.subject),ae=K=>{const B=String(K||"").toLowerCase();return["easy","medium","hard"].includes(B)?B:"easy"},ue=async()=>{if(_(""),j(""),!c.trim()){_("Enter a topic for AI generation");return}g(!0);try{const{auth:K}=yr();if(!(K!=null&&K.currentUser))throw new Error("Please login to use AI agent");const B=await K.currentUser.getIdToken(),z=await fetch("/api/quizAgent",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${B}`},body:JSON.stringify({topic:c,subject:N.subject,difficulty:N.difficulty,count:h})});if(!z.ok)throw new Error(`Agent error: ${z.status}`);const X=await z.json(),q=Array.isArray(X.questions)?X.questions:[],ye=[];for(const _e of q)try{const Ee=Array.isArray(_e.options)&&_e.options.length>=2?_e.options.slice(0,4):["A","B","C","D"],ve=Math.max(0,Ee.findIndex(ze=>String(ze).trim()===String(_e.answer||"").trim())),Fe={category:_e.category||N.subject,difficulty:ae(_e.difficulty||N.difficulty),question:_e.question||`Question about ${c}`,options:Ee,correct_answer_index:ve>=0?ve:0,explanation:"",source:"AI",age_group:N.age_group||"all",is_active:!0},Ie=await bt.entities.QuizQuestion.create(Fe);Ie!=null&&Ie.id&&ye.push(Ie.id)}catch{}ye.length&&(o(_e=>[..._e,...ye]),t.invalidateQueries({queryKey:["all-quiz-questions"]})),j(`Generated ${q.length} and added ${ye.length} questions.`)}catch(K){_((K==null?void 0:K.message)||"Failed to generate with AI")}finally{g(!1)}},Q={total:C.length,active:C.filter(K=>K.is_active).length,featured:C.filter(K=>K.is_featured).length,totalAttempts:C.reduce((K,B)=>K+(B.total_attempts||0),0)};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 py-8 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Quiz Manager"}),s.jsx("p",{className:"text-gray-600",children:"Create and manage weekly quizzes"})]}),s.jsxs(W,{onClick:()=>n(!e),className:"bg-blue-600 hover:bg-blue-700",children:[e?s.jsx(Br,{className:"w-4 h-4 mr-2"}):s.jsx(Ws,{className:"w-4 h-4 mr-2"}),e?"Cancel":"Create Quiz"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[s.jsx(re,{children:s.jsxs(ie,{className:"p-4 text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Quizzes"}),s.jsx("p",{className:"text-3xl font-bold text-blue-600",children:Q.total})]})}),s.jsx(re,{children:s.jsxs(ie,{className:"p-4 text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Active"}),s.jsx("p",{className:"text-3xl font-bold text-green-600",children:Q.active})]})}),s.jsx(re,{children:s.jsxs(ie,{className:"p-4 text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Featured"}),s.jsx("p",{className:"text-3xl font-bold text-amber-600",children:Q.featured})]})}),s.jsx(re,{children:s.jsxs(ie,{className:"p-4 text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Attempts"}),s.jsx("p",{className:"text-3xl font-bold text-purple-600",children:Q.totalAttempts})]})})]}),s.jsx(Ss,{children:e&&s.jsx(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:s.jsxs(re,{className:"mb-8 border-2 border-blue-300",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-blue-50 to-purple-50",children:s.jsx(Me,{children:r?"Edit Quiz":"Create New Quiz"})}),s.jsx(ie,{className:"p-6",children:s.jsxs("form",{onSubmit:P,className:"space-y-6",children:[s.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"AI Topic"}),s.jsx(ke,{value:c,onChange:K=>u(K.target.value),placeholder:"e.g., Ramadan, Salah, Wudu"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"AI Count"}),s.jsx(ke,{type:"number",value:h,onChange:K=>f(parseInt(K.target.value||"5"))})]}),s.jsx("div",{className:"flex items-end",children:s.jsx(W,{type:"button",className:"bg-purple-600 hover:bg-purple-700",onClick:ue,disabled:m,children:m?"Generating":"Generate via AI"})})]}),(x||w)&&s.jsxs("div",{className:"text-sm",children:[x&&s.jsx("div",{className:"text-red-600",children:x}),w&&s.jsx("div",{className:"text-green-600",children:w})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Quiz Title"}),s.jsx(ke,{value:N.title,onChange:K=>S({...N,title:K.target.value}),placeholder:"e.g., Ramadan Champions Quiz",required:!0})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Icon Emoji"}),s.jsx(ke,{value:N.icon,onChange:K=>S({...N,icon:K.target.value}),placeholder:""})]})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Description"}),s.jsx(Dn,{value:N.description,onChange:K=>S({...N,description:K.target.value}),placeholder:"Describe the quiz...",rows:2})]}),s.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Subject"}),s.jsxs(Xt,{value:N.subject,onValueChange:K=>S({...N,subject:K}),children:[s.jsx(Qt,{children:s.jsx(Zt,{})}),s.jsx(Jt,{children:k.map(K=>s.jsx(Le,{value:K,children:K},K))})]})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Duration (min)"}),s.jsx(ke,{type:"number",value:N.duration_minutes,onChange:K=>S({...N,duration_minutes:parseInt(K.target.value)})})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Points"}),s.jsx(ke,{type:"number",value:N.points_reward,onChange:K=>S({...N,points_reward:parseInt(K.target.value)})})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Bonus"}),s.jsx(ke,{type:"number",value:N.bonus_points,onChange:K=>S({...N,bonus_points:parseInt(K.target.value)})})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Start Date"}),s.jsx(ke,{type:"date",value:N.start_date,onChange:K=>S({...N,start_date:K.target.value})})]}),s.jsxs("div",{children:[s.jsx(be,{children:"End Date"}),s.jsx(ke,{type:"date",value:N.end_date,onChange:K=>S({...N,end_date:K.target.value})})]})]}),s.jsxs("div",{className:"flex gap-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Bs,{checked:N.is_active,onCheckedChange:K=>S({...N,is_active:K})}),s.jsx(be,{children:"Active"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Bs,{checked:N.is_featured,onCheckedChange:K=>S({...N,is_featured:K})}),s.jsx(be,{children:"Featured"})]})]}),s.jsxs("div",{children:[s.jsxs(be,{className:"mb-3 block",children:["Select Questions (",a.length," selected)"]}),s.jsx("div",{className:"max-h-96 overflow-y-auto border rounded-lg p-4 space-y-2",children:ee.map(K=>s.jsx("div",{onClick:()=>G(K.id),className:`p-3 rounded-lg border-2 cursor-pointer transition-all ${a.includes(K.id)?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("input",{type:"checkbox",checked:a.includes(K.id),onChange:()=>{},className:"mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-gray-900",children:K.question}),s.jsxs("div",{className:"flex gap-2 mt-1",children:[s.jsx(we,{variant:"outline",className:"text-xs",children:K.category}),s.jsx(we,{variant:"outline",className:"text-xs",children:K.difficulty})]})]})]})},K.id))})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(W,{type:"submit",className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(Sa,{className:"w-4 h-4 mr-2"}),r?"Update":"Create"," Quiz"]}),s.jsx(W,{type:"button",variant:"outline",onClick:V,children:"Cancel"})]})]})})]})})}),s.jsx("div",{className:"space-y-4",children:C.map((K,B)=>{var z;return s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:B*.05},children:s.jsx(re,{className:K.is_featured?"border-4 border-amber-400":"",children:s.jsx(ie,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"text-4xl",children:K.icon}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:K.title}),s.jsx("p",{className:"text-sm text-gray-600",children:K.description})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[s.jsx(we,{children:K.subject}),s.jsxs(we,{variant:"outline",children:[((z=K.questions)==null?void 0:z.length)||0," questions"]}),s.jsxs(we,{variant:"outline",children:[K.duration_minutes," min"]}),s.jsxs(we,{variant:"outline",children:[K.points_reward," pts"]}),K.is_featured&&s.jsxs(we,{className:"bg-amber-500",children:[s.jsx(ln,{className:"w-3 h-3 mr-1"}),"Featured"]}),!K.is_active&&s.jsx(we,{variant:"destructive",children:"Inactive"}),K.total_attempts>0&&s.jsxs(we,{variant:"outline",children:[s.jsx(JI,{className:"w-3 h-3 mr-1"}),K.total_attempts," attempts"]})]}),K.start_date&&s.jsxs("div",{className:"flex items-center gap-2 mt-2 text-sm text-gray-600",children:[s.jsx(uy,{className:"w-4 h-4"}),K.start_date," to ",K.end_date]})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx(W,{onClick:()=>L(K),variant:"outline",size:"sm",children:s.jsx(wo,{className:"w-4 h-4"})}),s.jsx(W,{onClick:()=>D(K.id),variant:"outline",size:"sm",className:"text-red-600 hover:bg-red-50",children:s.jsx(xr,{className:"w-4 h-4"})})]})]})})})},K.id)})})]})})}function Pf(){const[t,e]=y.useState(""),[n,r]=y.useState(""),[i,a]=y.useState(""),[o,c]=y.useState({}),[u,h]=y.useState(!1),[f,m]=y.useState(!1),[g,x]=y.useState(""),[_,w]=y.useState(null),[j,N]=y.useState(""),[S,k]=y.useState(!1),[C,R]=y.useState(""),[O,A]=y.useState(!1),M=nr();function P(){const L={};return t.trim()||(L.fullName="Full name is required"),n.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.trim())||(L.email="Invalid email format"):L.email="Email is required",(!i.trim()||i.length<6)&&(L.password="Password must be at least 6 characters"),c(L),Object.keys(L).length===0}async function F(L){var D,V,G,ee;if(L.preventDefault(),x(""),!!P()){h(!0);try{const ae=n.trim().toLowerCase(),ue=await bD(ae,i.trim());try{await jD(),A(!0)}catch{}m(!0),setTimeout(()=>M("/Login"),1500);try{await i1(ue.uid,{fullName:t.trim(),email:ae}),w(!0);try{const{auth:Q}=yr(),K=await((V=(D=Q==null?void 0:Q.currentUser)==null?void 0:D.getIdToken)==null?void 0:V.call(D));if(K){const z=await fetch("/api/signupNotify",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${K}`},body:JSON.stringify({email:ae,fullName:t.trim()})});if(z.ok){const X=await z.json();X!=null&&X.notified&&N("Admin has been notified of your signup.")}}}catch{}}catch(Q){const K=(Q==null?void 0:Q.code)||"";let B=(Q==null?void 0:Q.message)||"Profile save failed.";K==="permission-denied"&&(B="Profile save requires Firebase access. You can still log in."),w(!1),N(B);try{const{auth:z}=yr(),X=await((ee=(G=z==null?void 0:z.currentUser)==null?void 0:G.getIdToken)==null?void 0:ee.call(G));if(X){const ye=await fetch("/api/signupNotify",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${X}`},body:JSON.stringify({email:ae,fullName:t.trim()})});if(ye.ok){const _e=await ye.json();_e!=null&&_e.ok&&N(Ee=>Ee||"Your account is registered on the backend.")}}}catch{}}}catch(ae){const ue=(ae==null?void 0:ae.code)||"";let Q=(ae==null?void 0:ae.message)||"Signup failed";ue==="auth/email-already-in-use"&&(Q="Email already in use. Try logging in or reset your password.",k(!0),R(n.trim().toLowerCase())),ue==="auth/invalid-email"&&(Q="Invalid email address."),ue==="auth/weak-password"&&(Q="Password is too weak. Use at least 6 characters."),ue==="auth/operation-not-allowed"&&(Q="Email/password sign-up is disabled. Enable it in Firebase."),x(Q)}finally{h(!1)}}}return s.jsxs("div",{className:"container mx-auto max-w-xl px-4 py-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Sign Up"}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Create your account and well register you in our backend. You can log in immediately after signing up."}),!1,s.jsxs("form",{onSubmit:F,className:"space-y-4 bg-white/50 rounded-lg p-6 shadow",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"fullName",children:"Full Name"}),s.jsx("input",{id:"fullName",type:"text",className:"w-full rounded border px-3 py-2 focus:outline-none focus:ring",value:t,onChange:L=>e(L.target.value),placeholder:"e.g., Aisha Khan"}),o.fullName&&s.jsx("div",{className:"text-red-600 text-xs mt-1",children:o.fullName})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"email",children:"Email"}),s.jsx("input",{id:"email",type:"email",className:"w-full rounded border px-3 py-2 focus:outline-none focus:ring",value:n,onChange:L=>r(L.target.value),placeholder:"e.g., aisha@example.com"}),o.email&&s.jsx("div",{className:"text-red-600 text-xs mt-1",children:o.email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"password",children:"Password"}),s.jsx("input",{id:"password",type:"password",className:"w-full rounded border px-3 py-2 focus:outline-none focus:ring",value:i,onChange:L=>a(L.target.value),placeholder:"At least 6 characters"}),o.password&&s.jsx("div",{className:"text-red-600 text-xs mt-1",children:o.password})]}),g&&s.jsx("div",{className:"text-red-600 text-sm",children:g}),S&&s.jsx("div",{className:"mt-2 flex items-center gap-2 text-sm",children:s.jsx("button",{type:"button",className:"text-blue-700 underline",onClick:async()=>{N("");try{await wD(C),N("Password reset email sent. Check your inbox."),k(!1)}catch(L){const D=(L==null?void 0:L.code)||"";let V=(L==null?void 0:L.message)||"Failed to send reset email.";D==="auth/invalid-email"&&(V="Please enter a valid email address."),D==="auth/user-not-found"&&(V="No account found for this email."),N(V)}},children:"Send reset email"})}),f&&s.jsx("div",{className:"text-green-600 text-sm",children:"Account created! Redirecting to login"}),O&&s.jsx("div",{className:"text-green-700 bg-green-50 border border-green-200 rounded p-2 text-sm",children:"Verification email sent. Please check your inbox."}),_===!1&&s.jsx("div",{className:"text-yellow-700 bg-yellow-50 border border-yellow-200 rounded p-2 text-sm",children:j||"We couldnt save your profile right now, but your account is created. You can complete your profile after login."}),j&&_!==!1&&s.jsx("div",{className:"text-blue-700 bg-blue-50 border border-blue-200 rounded p-2 text-sm",children:j}),s.jsx("button",{type:"submit",className:"inline-flex items-center justify-center rounded bg-blue-600 px-4 py-2 text-white hover:bg-blue-700 disabled:opacity-60",disabled:u,children:u?"Creating":"Create Account"}),s.jsxs("div",{className:"mt-4 text-center",children:[s.jsx("span",{children:"Already have an account? "}),s.jsx("a",{href:"/Login",className:"text-blue-700 font-semibold",children:"Login"})]})]})]})}function R_(){const[t,e]=y.useState(""),[n,r]=y.useState(""),[i,a]=y.useState(""),[o,c]=y.useState(!1),u=nr(),h=async f=>{f.preventDefault(),a(""),c(!0);try{const m=await xD(t,n);try{const{db:g}=yr();if(g&&(m!=null&&m.uid)){const x=await Gc(m.uid),_=!(x!=null&&x.fullName)||!(x!=null&&x.age)||!(x!=null&&x.city)||!(x!=null&&x.madrasah);u(_?"/CompleteProfile":"/Games")}else u("/Games")}catch{u("/Games")}}catch(m){const g=(m==null?void 0:m.code)||"";let x=(m==null?void 0:m.message)||"Login failed";g==="auth/invalid-credential"&&(x="Invalid email or password."),g==="auth/user-not-found"&&(x="No account found for this email. Please sign up."),g==="auth/wrong-password"&&(x="Incorrect password."),g==="auth/too-many-requests"&&(x="Too many attempts. Please wait and try again."),a(x)}finally{c(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-100 to-purple-100",children:s.jsxs("form",{onSubmit:h,className:"bg-white p-8 rounded-xl shadow-lg w-full max-w-md",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Login"}),i&&s.jsx("div",{className:"mb-4 text-red-600",children:i}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block mb-2 font-semibold",children:"Email"}),s.jsx("input",{type:"email",value:t,onChange:f=>e(f.target.value),className:"w-full p-2 border rounded",required:!0})]}),s.jsxs("div",{className:"mb-2",children:[s.jsx("label",{className:"block mb-2 font-semibold",children:"Password"}),s.jsx("input",{type:"password",value:n,onChange:f=>r(f.target.value),className:"w-full p-2 border rounded",required:!0})]}),s.jsx("div",{className:"text-right text-sm mb-6",children:s.jsx("button",{type:"button",className:"text-blue-600 hover:underline",onClick:async()=>{a("");try{const{auth:f}=yr();if(!f)throw new Error("Firebase not configured");if(!t)throw new Error("Enter your email above, then click reset.");await v3(f,t),a("Password reset email sent. Check your inbox.")}catch(f){const m=(f==null?void 0:f.code)||"";let g=(f==null?void 0:f.message)||"Failed to send reset email.";m==="auth/invalid-email"&&(g="Please enter a valid email address."),m==="auth/user-not-found"&&(g="No account found for this email."),a(g)}},children:"Forgot password?"})}),s.jsx("button",{type:"submit",className:"w-full py-2 px-4 bg-gradient-to-r from-blue-500 to-purple-500 text-white font-bold rounded hover:scale-105 transition-transform",disabled:o,children:o?"Signing in":"Login"}),s.jsxs("div",{className:"mt-4 text-center",children:[s.jsx("span",{children:"Don't have an account? "}),s.jsx("a",{href:"/Signup",className:"text-blue-600 font-semibold",children:"Sign up"})]})]})})}function ape(){const[t,e]=Nt.useState([]),[n,r]=Nt.useState(!1),[i,a]=Nt.useState({text:"",status:"all"}),o=Nt.useCallback(async()=>{r(!0);try{const h=await Ux.list();e(h)}catch(h){console.error("Failed to load messages:",h)}finally{r(!1)}},[]);Nt.useEffect(()=>{o()},[o]);const c=async(h,f)=>{try{await Ux.markRead(h,!f),e(m=>m.map(g=>g.id===h?{...g,read:!f}:g))}catch(m){console.error("Failed to update read status:",m)}},u=t.filter(h=>{const f=i.status==="all"?!0:i.status==="read"?h.read:!h.read,m=(i.text||"").toLowerCase(),g=!m||[h.name,h.email,h.subject,h.message].some(x=>(x||"").toLowerCase().includes(m));return f&&g});return s.jsx("div",{className:"p-6",children:s.jsxs(re,{children:[s.jsx(Oe,{children:s.jsx(Me,{children:"Messages"})}),s.jsxs(ie,{children:[s.jsxs("div",{className:"flex gap-2 mb-4 items-center",children:[s.jsx(ke,{placeholder:"Search by name, email, subject, message",value:i.text,onChange:h=>a({...i,text:h.target.value})}),s.jsxs("select",{className:"border rounded px-2 py-2",value:i.status,onChange:h=>a({...i,status:h.target.value}),children:[s.jsx("option",{value:"all",children:"All"}),s.jsx("option",{value:"unread",children:"Unread"}),s.jsx("option",{value:"read",children:"Read"})]}),s.jsx(W,{variant:"outline",onClick:o,disabled:n,children:n?"Loading...":"Refresh"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left border-b",children:[s.jsx("th",{className:"p-2",children:"Status"}),s.jsx("th",{className:"p-2",children:"Name"}),s.jsx("th",{className:"p-2",children:"Email"}),s.jsx("th",{className:"p-2",children:"Subject"}),s.jsx("th",{className:"p-2",children:"Message"}),s.jsx("th",{className:"p-2",children:"Date"}),s.jsx("th",{className:"p-2",children:"Actions"})]})}),s.jsxs("tbody",{children:[u.map(h=>s.jsxs("tr",{className:"border-b align-top",children:[s.jsx("td",{className:"p-2",children:h.read?"Read":"Unread"}),s.jsx("td",{className:"p-2",children:h.name}),s.jsx("td",{className:"p-2",children:h.email}),s.jsx("td",{className:"p-2",children:h.subject}),s.jsx("td",{className:"p-2 whitespace-pre-wrap max-w-xl",children:h.message}),s.jsx("td",{className:"p-2",children:h.createdAt?new Date(h.createdAt).toLocaleString():""}),s.jsx("td",{className:"p-2",children:s.jsx(W,{size:"sm",onClick:()=>c(h.id,h.read),children:h.read?"Mark Unread":"Mark Read"})})]},h.id)),u.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"p-4 text-center text-gray-500",children:"No messages found."})})]})]})})]})]})})}function xV(){const[t,e]=y.useState("chat"),[n,r]=y.useState([{role:"assistant",content:"Hi! Im your AI assistant. Ask me anything or request edits."}]),[i,a]=y.useState(""),[o,c]=y.useState(!1),[u,h]=y.useState(""),f=y.useRef(null),m=nr(),g=()=>{f.current&&(f.current.scrollTop=f.current.scrollHeight)},x=async()=>{var j,N,S;h("");const w=i.trim();if(w){a(""),c(!0);try{const{auth:k}=yr();let C=null;if(k!=null&&k.currentUser)C=await k.currentUser.getIdToken();else{m(at("Login"));return}const R=["/api/assistant","/.netlify/functions/assistant"];let O;for(const F of R)try{if(O=await fetch(F,{method:"POST",headers:C?{"Content-Type":"application/json",Authorization:`Bearer ${C}`}:{"Content-Type":"application/json"},body:JSON.stringify({mode:t,messages:[...n,{role:"user",content:w}]})}),O.ok)break}catch{}if(!O||!O.ok)throw new Error(`Assistant error: ${O?O.status:"no response"}`);const A=await O.json();if(A!=null&&A.error){const F=(j=A.error)==null?void 0:j.code,L=(N=A.error)==null?void 0:N.type;let D=String(((S=A.error)==null?void 0:S.message)||"Assistant error");F===429&&(D=L==="quota"?"OpenAI quota exceeded for this API key. Check plan/billing or use a different key.":"OpenAI rate limit reached. Please slow down and retry shortly."),h(D)}const M=String(A.reply||""),P=[...n,{role:"user",content:w},{role:"assistant",content:M}];r(P),setTimeout(g,50)}catch(k){h((k==null?void 0:k.message)||"Failed to contact assistant")}finally{c(!1)}}},_=[{label:"Edit Stories",page:"AdminStories"},{label:"Edit Banners",page:"AdminBanners"},{label:"Manage Users",page:"AdminUsers"},{label:"Quiz Manager",page:"AdminQuizManager"}];return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 py-6 px-3",children:s.jsx("div",{className:"max-w-2xl mx-auto",children:s.jsxs(re,{className:"shadow-lg border-2 border-blue-200",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:s.jsxs(Me,{className:"flex items-center justify-between",children:[s.jsx("span",{children:"AI Agent / ChatGPT"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(W,{variant:t==="chat"?"default":"outline",size:"sm",onClick:()=>e("chat"),children:"ChatGPT"}),s.jsx(W,{variant:t==="admin"?"default":"outline",size:"sm",onClick:()=>e("admin"),children:"Admin Agent"})]})]})}),s.jsxs(ie,{className:"p-4",children:[u&&s.jsx("div",{className:"mb-3 text-red-600",children:u}),s.jsx("div",{ref:f,className:"h-[50vh] overflow-y-auto bg-white rounded-lg p-3 border",children:n.map((w,j)=>s.jsxs("div",{className:`mb-3 ${w.role==="assistant"?"text-gray-800":"text-gray-900"}`,children:[s.jsx(we,{variant:w.role==="assistant"?"secondary":"outline",className:"mr-2",children:w.role==="assistant"?"Assistant":"You"}),s.jsx("span",{className:"whitespace-pre-wrap",children:w.content})]},j))}),s.jsxs("div",{className:"mt-3",children:[s.jsx(Dn,{value:i,onChange:w=>a(w.target.value),placeholder:"Ask a question or request an edit",rows:3,className:"w-full"}),s.jsxs("div",{className:"flex items-center justify-between mt-2",children:[s.jsx("div",{className:"flex flex-wrap gap-2",children:_.map(w=>s.jsx(W,{variant:"outline",size:"sm",onClick:()=>m(at(w.page)),children:w.label},w.page))}),s.jsx(W,{onClick:x,disabled:o,children:o?"Sending":"Send"})]}),s.jsx("div",{className:"text-xs text-gray-500 mt-2",children:t==="admin"?"Admin Agent suggests exact pages and steps for edits. For full control, use the quick links.":"ChatGPT mode answers general questions. Switch to Admin Agent for site edits."})]})]})]})})})}function I_(){const t=nr(),[e,n]=y.useState(!0),[r,i]=y.useState(!1),[a,o]=y.useState(""),[c,u]=y.useState(""),[h,f]=y.useState({fullName:"",age:"",city:"",madrasah:""});y.useEffect(()=>{(async()=>{o(""),u("");try{const{auth:w,db:j}=yr(),N=w==null?void 0:w.currentUser;if(!N){t(at("Login"));return}if(!j){u("Profile cannot be saved right now (Firebase not configured). You can still use the app."),n(!1);return}const S=await Gc(N.uid);f({fullName:(S==null?void 0:S.fullName)||(S==null?void 0:S.name)||"",age:(S==null?void 0:S.age)||"",city:(S==null?void 0:S.city)||"",madrasah:(S==null?void 0:S.madrasah)||""})}catch(w){o((w==null?void 0:w.message)||"Failed to load profile")}finally{n(!1)}})()},[t]);const m=_=>w=>f(j=>({...j,[_]:w.target.value})),g=()=>{var _,w,j,N;return!((_=h.fullName)!=null&&_.trim())||!((w=h.age)!=null&&w.trim())||!((j=h.city)!=null&&j.trim())||!((N=h.madrasah)!=null&&N.trim())},x=async _=>{_.preventDefault(),i(!0),o(""),u("");try{const{auth:w,db:j}=yr(),N=w==null?void 0:w.currentUser;if(!N){t(at("Login"));return}if(!j){u("Profile cannot be saved (Firebase not configured). You can continue."),t(at("Games"));return}await i1(N.uid,{fullName:h.fullName.trim(),age:h.age.trim(),city:h.city.trim(),madrasah:h.madrasah.trim(),email:String(N.email||"")}),t(at("Games"))}catch(w){const j=(w==null?void 0:w.code)||"";let N=(w==null?void 0:w.message)||"Failed to save profile";j==="permission-denied"&&(N="Missing permissions to save profile. You can continue and try later."),o(N)}finally{i(!1)}};return e?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading"}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-purple-50 px-4",children:s.jsxs("form",{onSubmit:x,className:"bg-white p-6 rounded-xl shadow-lg w-full max-w-lg",children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Complete Your Profile"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Please fill the missing details to personalize your experience."}),a&&s.jsx("div",{className:"mb-3 text-red-700 bg-red-50 border border-red-200 rounded p-2 text-sm",children:a}),c&&s.jsx("div",{className:"mb-3 text-yellow-700 bg-yellow-50 border border-yellow-200 rounded p-2 text-sm",children:c}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"block mb-1 font-medium",children:"Full Name"}),s.jsx("input",{className:"w-full p-2 border rounded",value:h.fullName,onChange:m("fullName")})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"block mb-1 font-medium",children:"Age"}),s.jsx("input",{className:"w-full p-2 border rounded",value:h.age,onChange:m("age")})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"block mb-1 font-medium",children:"City"}),s.jsx("input",{className:"w-full p-2 border rounded",value:h.city,onChange:m("city")})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block mb-1 font-medium",children:"Madrasah"}),s.jsx("input",{className:"w-full p-2 border rounded",value:h.madrasah,onChange:m("madrasah")})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("button",{type:"submit",className:"px-4 py-2 rounded bg-blue-600 text-white hover:bg-blue-700",disabled:r||g(),children:r?"Saving":"Save and Continue"}),s.jsx("button",{type:"button",className:"px-4 py-2 rounded border",onClick:()=>t(at("Games")),children:"Skip for now"})]})]})})}const Go=[{word:"",transliteration:"kitb",meaning:"book",difficulty:"beginner"},{word:"",transliteration:"qalam",meaning:"pen",difficulty:"beginner"},{word:"",transliteration:"madrasah",meaning:"school",difficulty:"intermediate"},{word:"",transliteration:"lib",meaning:"student",difficulty:"intermediate"},{word:"",transliteration:"muallim",meaning:"teacher",difficulty:"intermediate"},{word:"",transliteration:"maktabah",meaning:"library",difficulty:"advanced"},{word:"",transliteration:"dirsah",meaning:"study",difficulty:"advanced"},{word:"",transliteration:"talm",meaning:"education",difficulty:"advanced"}],ope=[{letter:"",steps:["Start at the top dot","Draw downward curve","Add the dot underneath"]},{letter:"",steps:["Start at the top","Draw vertical line","Add two dots above"]},{letter:"",steps:["Start at the top","Draw vertical line","Add three dots above"]},{letter:"",steps:["Start at the top","Draw the curve","Add one dot in the middle"]},{letter:"",steps:["Start at the top","Draw the main shape","No dots needed"]},{letter:"",steps:["Start at the top","Draw the main shape","Add one dot above"]}];function lpe(){const t=y.useRef(null),[e,n]=y.useState(!1),[r,i]=y.useState(0),[a,o]=y.useState(!1),[c,u]=y.useState(0),[h,f]=y.useState([]),[m,g]=y.useState("pen");y.useEffect(()=>{const O=t.current;if(!O)return;const A=O.getContext("2d");A.fillStyle="#ffffff",A.fillRect(0,0,O.width,O.height),x(A)},[]);const x=O=>{const A=t.current;O.strokeStyle="#e5e7eb",O.lineWidth=1,O.setLineDash([5,5]),O.beginPath(),O.moveTo(0,A.height-50),O.lineTo(A.width,A.height-50),O.stroke(),O.beginPath(),O.moveTo(0,A.height-100),O.lineTo(A.width,A.height-100),O.stroke(),O.beginPath(),O.moveTo(0,A.height-150),O.lineTo(A.width,A.height-150),O.stroke(),O.setLineDash([])},_=O=>{n(!0);const A=t.current,M=A.getContext("2d"),P=A.getBoundingClientRect(),F=O.clientX-P.left,L=O.clientY-P.top;M.beginPath(),M.moveTo(F,L)},w=O=>{if(!e)return;const A=t.current,M=A.getContext("2d"),P=A.getBoundingClientRect(),F=O.clientX-P.left,L=O.clientY-P.top;M.lineWidth=m==="pen"?3:20,M.lineCap="round",M.strokeStyle=m==="pen"?"#1f2937":"#ffffff",M.lineTo(F,L),M.stroke()},j=()=>{n(!1)},N=()=>{const O=t.current,A=O.getContext("2d");A.fillStyle="#ffffff",A.fillRect(0,0,O.width,O.height),x(A),u(0)},S=()=>{const O=Go[r];f([...h,O.word]),r<Go.length-1?(i(r+1),N()):alert("!    ! ")},k=()=>{r<Go.length-1&&(i(r+1),N())},C=()=>{r>0&&(i(r-1),N())},R=Go[r];return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-8 px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"  "}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"         "})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(re,{className:"shadow-lg",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:s.jsxs(Me,{className:"text-xl flex items-center gap-2",children:[s.jsx(tm,{className:"w-5 h-5"})," "]})}),s.jsxs(ie,{className:"p-6",children:[s.jsxs("div",{className:"text-center mb-6 p-4 bg-gray-50 rounded-lg",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-2",children:R.word}),s.jsx("p",{className:"text-lg text-gray-600 mb-1",children:R.transliteration}),s.jsx("p",{className:"text-md text-gray-500",children:R.meaning}),s.jsx(we,{className:`mt-2 ${R.difficulty==="beginner"?"bg-green-500":R.difficulty==="intermediate"?"bg-yellow-500":"bg-red-500"} text-white`,children:R.difficulty==="beginner"?"":R.difficulty==="intermediate"?"":""})]}),s.jsx("div",{className:"border-2 border-gray-300 rounded-lg overflow-hidden mb-4",children:s.jsx("canvas",{ref:t,width:400,height:200,className:"w-full cursor-crosshair bg-white",onMouseDown:_,onMouseMove:w,onMouseUp:j,onMouseLeave:j})}),s.jsxs("div",{className:"flex justify-center gap-2 mb-4",children:[s.jsxs(W,{onClick:()=>g("pen"),className:`${m==="pen"?"bg-blue-500":"bg-gray-400"} hover:bg-blue-600`,children:[s.jsx(tm,{className:"w-4 h-4 mr-1"}),""]}),s.jsxs(W,{onClick:()=>g("eraser"),className:`${m==="eraser"?"bg-orange-500":"bg-gray-400"} hover:bg-orange-600`,children:[s.jsx(qI,{className:"w-4 h-4 mr-1"}),""]}),s.jsxs(W,{onClick:N,variant:"outline",className:"border-gray-300",children:[s.jsx(jx,{className:"w-4 h-4 mr-1"}),""]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(W,{onClick:C,disabled:r===0,className:"bg-gray-500 hover:bg-gray-600 disabled:bg-gray-300",children:""}),s.jsxs("span",{className:"text-gray-600",children:[r+1," / ",Go.length]}),s.jsx(W,{onClick:k,disabled:r===Go.length-1,className:"bg-gray-500 hover:bg-gray-600 disabled:bg-gray-300",children:""})]})]})]}),s.jsxs(re,{className:"shadow-lg",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-green-500 to-teal-500 text-white",children:s.jsxs(Me,{className:"text-xl flex items-center gap-2",children:[s.jsx(fy,{className:"w-5 h-5"})," "]})}),s.jsx(ie,{className:"p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:" "}),s.jsxs(W,{onClick:()=>o(!a),variant:"outline",size:"sm",children:[a?"":""," "]})]}),a&&s.jsx(te.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"space-y-3",children:ope.slice(0,3).map((O,A)=>s.jsxs("div",{className:"border rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("span",{className:"text-2xl font-bold text-gray-800",children:O.letter}),s.jsx("span",{className:"text-sm text-gray-600",children:" :"})]}),s.jsx("ol",{className:"list-decimal list-inside space-y-1 text-sm text-gray-700",children:O.steps.map((M,P)=>s.jsx("li",{children:M},P))})]},A))}),s.jsxs("div",{className:"mt-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:""}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[s.jsx("span",{children:" "}),s.jsxs("span",{children:[h.length," / ",Go.length]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-300",style:{width:`${h.length/Go.length*100}%`}})})]}),h.length>0&&s.jsxs("div",{className:"mt-3",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:" :"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:h.map((O,A)=>s.jsxs(we,{className:"bg-green-500 text-white text-xs",children:[O," "]},A))})]})]}),s.jsxs(W,{onClick:S,className:"w-full bg-green-500 hover:bg-green-600 mt-4",children:[s.jsx(bl,{className:"w-4 h-4 mr-2"}),"  "]})]})})]})]})]})})}const cpe=[{id:"grammar",title:" ",icon:Na,color:"from-blue-500 to-cyan-500",description:"    ",difficulty:"advanced"},{id:"morphology",title:"",icon:QI,color:"from-purple-500 to-pink-500",description:"   ",difficulty:"advanced"},{id:"vocabulary",title:"",icon:ln,color:"from-amber-500 to-orange-500",description:"  ",difficulty:"intermediate"},{id:"reading",title:"",icon:un,color:"from-green-500 to-teal-500",description:"  ",difficulty:"advanced"}],upe={grammar:[{id:1,question:'  "   "    ""',options:[" "," ","  "," "],correct:0,explanation:'""       .',difficulty:"intermediate"},{id:2,question:'   : "  "',options:[" "," "," "," "],correct:1,explanation:'      ""    .',difficulty:"advanced"},{id:3,question:'      : "     "',options:["","","",""],correct:0,explanation:'""        .',difficulty:"advanced"}],morphology:[{id:1,question:'    ""',options:["","","",""],correct:2,explanation:' ""  ""   .',difficulty:"intermediate"},{id:2,question:'    ""',options:["","","",""],correct:0,explanation:'   "" ""  .',difficulty:"beginner"},{id:3,question:'   : ""',options:["","","",""],correct:1,explanation:'""     .',difficulty:"intermediate"}],vocabulary:[{id:1,question:'   ""',options:["","","",""],correct:3,explanation:'""     .',difficulty:"intermediate"},{id:2,question:'   ""',options:["","","",""],correct:0,explanation:' ""  "".',difficulty:"beginner"},{id:3,question:'   ""',options:["","","",""],correct:1,explanation:'""   "".',difficulty:"beginner"}],reading:[{id:1,question:' : "   "   ',options:[" "," ","",""],correct:0,explanation:"     .",difficulty:"intermediate"},{id:2,question:'  ""   : "   "',options:[" "," ","",""],correct:1,explanation:'""      .',difficulty:"advanced"},{id:3,question:'   : "     "',options:["","","",""],correct:0,explanation:"       .",difficulty:"advanced"}]};function dpe(t=30){const[e,n]=y.useState(t),[r,i]=y.useState(!1);return y.useEffect(()=>{let c=null;return r&&e>0?c=setInterval(()=>{n(e-1)},1e3):e===0&&i(!1),()=>clearInterval(c)},[r,e]),{timeLeft:e,isActive:r,startTimer:()=>{i(!0)},resetTimer:(c=t)=>{n(c),i(!1)}}}function hpe(){const[t,e]=y.useState(null),[n,r]=y.useState(0),[i,a]=y.useState(0),[o,c]=y.useState(!1),[u,h]=y.useState(null),[f,m]=y.useState([]),[g,x]=y.useState(0),[_,w]=y.useState(0),[j,N]=y.useState("mixed"),{timeLeft:S,startTimer:k,resetTimer:C}=dpe(45),O=(()=>{if(!t)return[];let V=upe[t.id]||[];return j!=="mixed"&&(V=V.filter(G=>G.difficulty===j)),V})(),A=O[n],M=V=>{e(V),r(0),a(0),c(!1),h(null),m([]),x(0),C(45)},P=V=>{if(u!==null)return;h(V);const G=V===A.correct;G?(a(i+1),x(g+1),g+1>_&&w(g+1)):x(0),m([...f,{...A,userAnswer:V,isCorrect:G}]),setTimeout(()=>{n<O.length-1?(r(n+1),h(null),C(45),k()):c(!0)},2e3)},F=()=>{e(null),r(0),a(0),c(!1),h(null),m([]),x(0),C(45)},L=()=>{const V=i/O.length*100;return V>=80?"text-green-600":V>=60?"text-yellow-600":"text-red-600"},D=()=>{const V=i/O.length*100;return V>=90?"!     ! ":V>=80?"!   ! ":V>=70?" !   ! ":V>=60?"!   ! ":"  !   ! "};return t?o?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-100 py-8 px-4",children:s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs(te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center",children:[s.jsx("div",{className:"text-8xl mb-6",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6",children:"!"}),s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 mb-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:i}),s.jsx("div",{className:"text-gray-600",children:" "})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:O.length}),s.jsx("div",{className:"text-gray-600",children:""})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:_}),s.jsx("div",{className:"text-gray-600",children:" "})]})]}),s.jsxs("div",{className:`text-2xl font-bold mb-4 ${L()}`,children:[Math.round(i/O.length*100),"%"]}),s.jsx("p",{className:"text-lg text-gray-700 mb-6",children:D()}),s.jsx(Gd,{value:i/O.length*100,className:"h-3 mb-8"})]}),s.jsx("div",{className:"flex justify-center gap-4",children:s.jsxs(W,{onClick:F,className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:[s.jsx(jx,{className:"w-4 h-4 mr-2"})," "]})})]})})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-8 px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsxs(te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:t.title}),s.jsx("p",{className:"text-gray-600",children:t.description})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:S}),s.jsx("div",{className:"text-sm text-gray-600",children:""})]}),s.jsxs(we,{className:"bg-purple-500 text-white",children:[s.jsx(_9,{className:"w-4 h-4 mr-1"}),g]})]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[s.jsxs("span",{children:[" ",n+1,"  ",O.length]}),s.jsxs("span",{children:[": ",i]})]}),s.jsx(Gd,{value:(n+1)/O.length*100,className:"h-2"})]}),s.jsx(Ss,{mode:"wait",children:s.jsx(te.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},children:s.jsxs(re,{className:"shadow-lg mb-6",children:[s.jsx(Oe,{className:`bg-gradient-to-r ${t.color} text-white`,children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs(Me,{className:"text-xl",children:[" ",n+1]}),s.jsx(we,{className:"bg-white text-gray-800",children:A.difficulty==="beginner"?"":A.difficulty==="intermediate"?"":""})]})}),s.jsxs(ie,{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6 text-right",children:A.question}),s.jsx("div",{className:"space-y-3",children:A.options.map((V,G)=>s.jsx(te.button,{whileHover:{scale:u===null?1.02:1},whileTap:{scale:u===null?.98:1},onClick:()=>P(G),disabled:u!==null,className:`w-full p-4 text-right rounded-lg border-2 transition-all duration-200 ${u===null?"bg-white hover:bg-blue-50 border-blue-200 hover:border-blue-300":u===G?G===A.correct?"bg-green-100 border-green-500 text-green-800":"bg-red-100 border-red-500 text-red-800":G===A.correct?"bg-green-100 border-green-500 text-green-800":"bg-gray-100 border-gray-300 text-gray-600"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium",children:V}),s.jsx("span",{className:"text-sm font-bold",children:G===0?"":G===1?"":G===2?"":""})]})},G))}),u!==null&&s.jsxs(te.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`mt-4 p-4 rounded-lg ${u===A.correct?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u===A.correct?s.jsx(ns,{className:"w-5 h-5"}):s.jsx(Na,{className:"w-5 h-5"}),s.jsx("p",{className:"font-semibold",children:u===A.correct?" !":" !"})]}),s.jsx("p",{className:"text-sm",children:A.explanation})]})]})]})},n)})]})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 to-purple-100 py-8 px-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:" "}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"        "})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4 text-center",children:"  "}),s.jsx("div",{className:"flex justify-center gap-4",children:["mixed","beginner","intermediate","advanced"].map(V=>s.jsx(W,{onClick:()=>N(V),className:`${j===V?"bg-purple-500 hover:bg-purple-600":"bg-gray-300 hover:bg-gray-400"} text-white`,children:V==="mixed"?"":V==="beginner"?"":V==="intermediate"?"":""},V))})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:cpe.map(V=>s.jsx(te.div,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"cursor-pointer",children:s.jsxs(re,{className:"h-full shadow-lg hover:shadow-xl transition-shadow",children:[s.jsxs(Oe,{className:`bg-gradient-to-r ${V.color} text-white`,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(V.icon,{className:"w-8 h-8"}),s.jsx(we,{className:"bg-white text-gray-800",children:V.difficulty==="beginner"?"":V.difficulty==="intermediate"?"":""})]}),s.jsx(Me,{className:"text-xl mt-2",children:V.title})]}),s.jsxs(ie,{className:"p-6",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:V.description}),s.jsxs(W,{onClick:()=>M(V),className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:[" ",s.jsx(dy,{className:"w-4 h-4 mr-2"})]})]})]})},V.id))})]})})}const uI={basics:{title:"Basic Words",icon:"",words:[{english:"Hello",arabic:"",transliteration:"maraban",pronunciation:"mar-ha-ban"},{english:"Goodbye",arabic:"",transliteration:"wadan",pronunciation:"wa-da-an"},{english:"Please",arabic:" ",transliteration:"min falik",pronunciation:"min fad-lik"},{english:"Thank you",arabic:"",transliteration:"shukran",pronunciation:"shuk-ran"},{english:"Yes",arabic:"",transliteration:"naam",pronunciation:"na-am"},{english:"No",arabic:"",transliteration:"l",pronunciation:"la"},{english:"Water",arabic:"",transliteration:"m",pronunciation:"ma"},{english:"Food",arabic:"",transliteration:"am",pronunciation:"ta-am"}]},numbers:{title:"Numbers",icon:"",words:[{english:"One",arabic:"",transliteration:"wid",pronunciation:"wa-hid"},{english:"Two",arabic:"",transliteration:"ithnn",pronunciation:"ith-nan"},{english:"Three",arabic:"",transliteration:"thalthah",pronunciation:"tha-la-tha"},{english:"Four",arabic:"",transliteration:"arbaah",pronunciation:"ar-ba-a"},{english:"Five",arabic:"",transliteration:"khamsah",pronunciation:"kham-sa"},{english:"Six",arabic:"",transliteration:"sittah",pronunciation:"sit-ta"},{english:"Seven",arabic:"",transliteration:"sabah",pronunciation:"sab-a"},{english:"Eight",arabic:"",transliteration:"thamniyah",pronunciation:"tha-ma-ni-ya"}]},family:{title:"Family",icon:"",words:[{english:"Father",arabic:"",transliteration:"ab",pronunciation:"ab"},{english:"Mother",arabic:"",transliteration:"umm",pronunciation:"umm"},{english:"Brother",arabic:"",transliteration:"akh",pronunciation:"akh"},{english:"Sister",arabic:"",transliteration:"ukht",pronunciation:"ukht"},{english:"Son",arabic:"",transliteration:"ibn",pronunciation:"ibn"},{english:"Daughter",arabic:"",transliteration:"ibnah",pronunciation:"ib-na"},{english:"Grandfather",arabic:"",transliteration:"jad",pronunciation:"jad"},{english:"Grandmother",arabic:"",transliteration:"jadah",pronunciation:"ja-da"}]},colors:{title:"Colors",icon:"",words:[{english:"Red",arabic:"",transliteration:"amar",pronunciation:"ah-mar"},{english:"Blue",arabic:"",transliteration:"azraq",pronunciation:"az-raq"},{english:"Green",arabic:"",transliteration:"akhar",pronunciation:"akh-dar"},{english:"Yellow",arabic:"",transliteration:"afar",pronunciation:"as-far"},{english:"Black",arabic:"",transliteration:"aswad",pronunciation:"as-wad"},{english:"White",arabic:"",transliteration:"abya",pronunciation:"ab-ya"},{english:"Brown",arabic:"",transliteration:"ban",pronunciation:"ba-ni"},{english:"Pink",arabic:"",transliteration:"ward",pronunciation:"war-di"}]},animals:{title:"Animals",icon:"",words:[{english:"Cat",arabic:"",transliteration:"qiah",pronunciation:"qit-ta"},{english:"Dog",arabic:"",transliteration:"kalb",pronunciation:"kalb"},{english:"Bird",arabic:"",transliteration:"ir",pronunciation:"ta-ir"},{english:"Horse",arabic:"",transliteration:"in",pronunciation:"i-an"},{english:"Camel",arabic:"",transliteration:"jamal",pronunciation:"ja-mal"},{english:"Lion",arabic:"",transliteration:"asad",pronunciation:"as-ad"},{english:"Elephant",arabic:"",transliteration:"fl",pronunciation:"fl"},{english:"Fish",arabic:"",transliteration:"samakah",pronunciation:"sam-ka"}]},food:{title:"Food & Drinks",icon:"",words:[{english:"Bread",arabic:"",transliteration:"khubz",pronunciation:"khubz"},{english:"Milk",arabic:"",transliteration:"alb",pronunciation:"a-lb"},{english:"Rice",arabic:"",transliteration:"aruzz",pronunciation:"ar-ruz"},{english:"Meat",arabic:"",transliteration:"lam",pronunciation:"lam"},{english:"Fruit",arabic:"",transliteration:"fkihah",pronunciation:"fa-ki-ha"},{english:"Vegetable",arabic:"",transliteration:"khur",pronunciation:"khu-ar"},{english:"Coffee",arabic:"",transliteration:"qahwah",pronunciation:"qa-hwa"},{english:"Tea",arabic:"",transliteration:"shy",pronunciation:"shy"}]}},Wg={FLASHCARD:"flashcard",QUIZ:"quiz",MATCHING:"matching",LISTENING:"listening"};function dI(){const[t,e]=y.useState("basics"),[n,r]=y.useState(0),[i,a]=y.useState(!1),[o,c]=y.useState(Wg.FLASHCARD),[u,h]=y.useState(0),[f,m]=y.useState([]),[g,x]=y.useState([]),[_,w]=y.useState([]),[j,N]=y.useState(!1),[S,k]=y.useState("english-arabic"),C=uI[t],R=C.words[n];y.useEffect(()=>{const G=[...C.words];for(let ee=G.length-1;ee>0;ee--){const ae=Math.floor(Math.random()*(ee+1));[G[ee],G[ae]]=[G[ae],G[ee]]}x(G),r(0),a(!1)},[t]);const O=()=>{n<C.words.length-1&&(r(n+1),a(!1))},A=()=>{n>0&&(r(n-1),a(!1))},M=()=>{a(!i)},P=()=>{const G=[...C.words];for(let ee=G.length-1;ee>0;ee--){const ae=Math.floor(Math.random()*(ee+1));[G[ee],G[ae]]=[G[ae],G[ee]]}x(G),r(0),a(!1)},F=G=>{const ee=_.some(ae=>ae.english===G.english);w(ee?_.filter(ae=>ae.english!==G.english):[..._,G])},L=G=>_.some(ee=>ee.english===G.english),D=()=>{if(N(!0),setTimeout(()=>N(!1),1e3),"speechSynthesis"in window){const G=new SpeechSynthesisUtterance(R.arabic);G.lang="ar-SA",G.rate=.7,speechSynthesis.speak(G)}},V=()=>{const G=S==="english-arabic";return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${(n+1)/C.words.length*100}%`}})}),s.jsxs(te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},className:"bg-white rounded-xl shadow-lg p-4 sm:p-6 md:p-8 text-center cursor-pointer hover:shadow-xl transition-shadow",onClick:M,children:[s.jsx("div",{className:"mb-4",children:s.jsx("span",{className:"text-3xl sm:text-4xl",children:C.icon})}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-2xl sm:text-3xl font-bold text-gray-800 mb-2 break-words",children:G?R.english:R.arabic}),!G&&s.jsx("div",{className:"text-base sm:text-lg text-gray-600 mb-2 break-words",children:R.transliteration}),s.jsxs("div",{className:"text-sm text-gray-500 mb-4",children:[C.title," - ",G?"English to Arabic":"Arabic to English"]})]}),s.jsx(Ss,{mode:"wait",children:i&&s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4",children:s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("div",{className:"text-3xl sm:text-4xl font-bold text-blue-600 mb-2 break-words",children:G?R.arabic:R.english}),G&&s.jsx("div",{className:"text-base sm:text-lg text-gray-600 mb-2 break-words",children:R.transliteration}),s.jsxs("div",{className:"text-sm text-gray-500",children:["[",R.pronunciation,"]"]})]})})}),!i&&s.jsx("div",{className:"text-gray-400 text-sm",children:G?"Click to reveal Arabic translation":"Click to reveal English translation"})]},n),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3",children:[s.jsxs(W,{onClick:A,disabled:n===0,className:"flex items-center gap-2 w-full sm:w-auto",children:[s.jsx(CB,{className:"w-4 h-4"}),"Previous"]}),s.jsxs("div",{className:"grid grid-cols-2 sm:flex gap-2 w-full sm:w-auto",children:[s.jsxs(W,{onClick:D,disabled:!i,className:"flex items-center gap-2 w-full sm:w-auto",children:[s.jsx(Wc,{className:"w-4 h-4"}),"Pronounce"]}),s.jsxs(W,{onClick:()=>F(R),className:`flex items-center gap-2 w-full sm:w-auto ${L(R)?"bg-yellow-500 hover:bg-yellow-600":""}`,children:[s.jsx(ln,{className:`w-4 h-4 ${L(R)?"fill-current":""}`}),L(R)?"Favorited":"Favorite"]}),s.jsxs(W,{onClick:P,className:"hidden sm:flex items-center gap-2",children:[s.jsx(Yz,{className:"w-4 h-4"}),"Shuffle"]})]}),s.jsxs(W,{onClick:O,disabled:n===C.words.length-1,className:"flex items-center gap-2 w-full sm:w-auto",children:["Next",s.jsx(dy,{className:"w-4 h-4"})]})]}),s.jsxs("div",{className:"text-center text-gray-500",children:[n+1," / ",C.words.length]})]})};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-6 px-3 sm:py-8 sm:px-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("div",{className:"text-5xl sm:text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:S==="english-arabic"?"English to Arabic Vocabulary":"Arabic to English Vocabulary"}),s.jsx("p",{className:"text-base sm:text-lg text-gray-600 max-w-2xl mx-auto",children:S==="english-arabic"?"Learn essential Arabic vocabulary with pronunciation guides and interactive flashcards":"Practice translating Arabic words to English with interactive learning tools"})]}),s.jsx("div",{className:"flex justify-center mb-6",children:s.jsxs("div",{className:"bg-white rounded-lg p-1 shadow-md flex w-full max-w-md",children:[s.jsx(W,{onClick:()=>k("english-arabic"),className:`flex-1 px-3 py-2 rounded-md transition-all ${S==="english-arabic"?"bg-blue-500 text-white shadow-md":"text-gray-600 hover:bg-gray-100"}`,children:"English  Arabic"}),s.jsx(W,{onClick:()=>k("arabic-english"),className:`flex-1 px-3 py-2 rounded-md transition-all ${S==="arabic-english"?"bg-blue-500 text-white shadow-md":"text-gray-600 hover:bg-gray-100"}`,children:"Arabic  English"})]})}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4 text-center",children:"Choose a Category"}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3 sm:gap-4",children:Object.entries(uI).map(([G,ee])=>s.jsx(W,{onClick:()=>e(G),className:`p-3 sm:p-4 rounded-lg transition-all ${t===G?"bg-blue-500 text-white shadow-lg":"bg-white text-gray-700 hover:bg-blue-50"}`,children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-xl sm:text-2xl mb-1",children:ee.icon}),s.jsx("div",{className:"text-xs sm:text-sm font-medium",children:ee.title}),s.jsxs("div",{className:"text-[11px] sm:text-xs opacity-75",children:[ee.words.length," words"]})]})},G))})]}),s.jsx("div",{className:"mb-8",children:s.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:Object.entries(Wg).map(([G,ee])=>s.jsxs(W,{onClick:()=>c(ee),className:`px-3 py-2 rounded-lg text-sm sm:text-base ${o===ee?"bg-blue-500 text-white":"bg-white text-gray-700 hover:bg-blue-50"}`,children:[ee===Wg.FLASHCARD&&s.jsx(un,{className:"w-4 h-4 mr-2"}),ee===Wg.QUIZ&&s.jsx(q_,{className:"w-4 h-4 mr-2"}),ee.charAt(0).toUpperCase()+ee.slice(1)]},ee))})}),s.jsxs(re,{className:"shadow-xl",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-blue-500 to-indigo-500 text-white",children:s.jsxs(Me,{className:"text-xl sm:text-2xl flex items-center gap-2",children:[s.jsx(un,{className:"w-5 h-5 sm:w-6 sm:h-6"}),C.title," Vocabulary"]})}),s.jsx(ie,{className:"p-4 sm:p-6",children:V()})]}),_.length>0&&s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-8",children:s.jsxs(re,{className:"shadow-lg",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-yellow-500 to-orange-500 text-white",children:s.jsxs(Me,{className:"text-lg sm:text-xl flex items-center gap-2",children:[s.jsx(ln,{className:"w-4 h-4 sm:w-5 sm:h-5 fill-current"}),S==="english-arabic"?"English to Arabic Favorites":"Arabic to English Favorites"," (",_.length,")"]})}),s.jsx(ie,{className:"p-4 sm:p-6",children:s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:_.map((G,ee)=>s.jsxs("div",{className:"bg-yellow-50 rounded-lg p-3 sm:p-4 border border-yellow-200",children:[s.jsx("div",{className:"font-bold text-gray-800",children:S==="english-arabic"?G.english:G.arabic}),s.jsx("div",{className:"text-base sm:text-lg text-blue-600",children:S==="english-arabic"?G.arabic:G.english}),s.jsx("div",{className:"text-xs sm:text-sm text-gray-600",children:G.transliteration}),s.jsxs("div",{className:"text-[11px] sm:text-xs text-gray-500",children:["[",G.pronunciation,"]"]})]},ee))})})]})})]})})}const fpe=[{letter:"",name:"Alif",isolated:"",initial:"",medial:"",final:"",sound:""},{letter:"",name:"B",isolated:"",initial:"",medial:"",final:"",sound:"b"},{letter:"",name:"T",isolated:"",initial:"",medial:"",final:"",sound:"t"},{letter:"",name:"Th",isolated:"",initial:"",medial:"",final:"",sound:"th"},{letter:"",name:"Jm",isolated:"",initial:"",medial:"",final:"",sound:"j"},{letter:"",name:"",isolated:"",initial:"",medial:"",final:"",sound:""},{letter:"",name:"Kh",isolated:"",initial:"",medial:"",final:"",sound:"kh"},{letter:"",name:"Dl",isolated:"",initial:"",medial:"",final:"",sound:"d"},{letter:"",name:"Dhl",isolated:"",initial:"",medial:"",final:"",sound:"dh"},{letter:"",name:"R",isolated:"",initial:"",medial:"",final:"",sound:"r"},{letter:"",name:"Zy",isolated:"",initial:"",medial:"",final:"",sound:"z"},{letter:"",name:"Sn",isolated:"",initial:"",medial:"",final:"",sound:"s"},{letter:"",name:"Shn",isolated:"",initial:"",medial:"",final:"",sound:"sh"},{letter:"",name:"d",isolated:"",initial:"",medial:"",final:"",sound:""},{letter:"",name:"d",isolated:"",initial:"",medial:"",final:"",sound:""},{letter:"",name:"",isolated:"",initial:"",medial:"",final:"",sound:""},{letter:"",name:"",isolated:"",initial:"",medial:"",final:"",sound:""},{letter:"",name:"Ayn",isolated:"",initial:"",medial:"",final:"",sound:""},{letter:"",name:"Ghayn",isolated:"",initial:"",medial:"",final:"",sound:"gh"},{letter:"",name:"F",isolated:"",initial:"",medial:"",final:"",sound:"f"},{letter:"",name:"Qf",isolated:"",initial:"",medial:"",final:"",sound:"q"},{letter:"",name:"Kf",isolated:"",initial:"",medial:"",final:"",sound:"k"},{letter:"",name:"Lm",isolated:"",initial:"",medial:"",final:"",sound:"l"},{letter:"",name:"Mm",isolated:"",initial:"",medial:"",final:"",sound:"m"},{letter:"",name:"Nn",isolated:"",initial:"",medial:"",final:"",sound:"n"},{letter:"",name:"H",isolated:"",initial:"",medial:"",final:"",sound:"h"},{letter:"",name:"Ww",isolated:"",initial:"",medial:"",final:"",sound:"w/"},{letter:"",name:"Y",isolated:"",initial:"",medial:"",final:"",sound:"y/"}],mpe=[{id:1,title:" (The Noun)",description:"Learn about Arabic nouns and their types",content:"        . :   ",examples:[" (boy)"," (house)"," (book)"," (school)"],difficulty:"beginner"},{id:2,title:" (The Verb)",description:"Understanding Arabic verbs and their patterns",content:"        .    .",examples:[" (he wrote)"," (he writes)"," (she writes)"," (we write)"],difficulty:"intermediate"},{id:3,title:" (The Particle)",description:"Learn about Arabic particles and prepositions",content:"             .",examples:[" (in)"," (from)"," (to)"," (on)"," (with/by)"],difficulty:"beginner"},{id:4,title:" (Declension)",description:"Understanding case endings in Arabic grammar",content:"        .",examples:[" (subject)"," (object)"," (possessive)"],difficulty:"advanced"}],ppe=[{id:1,title:"  (Morphological Patterns)",description:"Learn Arabic verb patterns and forms",content:"         .",examples:[" (faala)"," (yafalu)"," (fil)"," (mafl)"],difficulty:"intermediate"},{id:2,title:"  (Trilateral Roots)",description:"Understanding the three-letter root system",content:"      .",examples:[" (k-t-b): write"," (q-r-): read"," (d-r-s): study"],difficulty:"intermediate"},{id:3,title:" (Conjugations)",description:"Learn how to conjugate Arabic verbs",content:"      .",examples:[" (I wrote)"," (you wrote)"," (we wrote)"],difficulty:"advanced"}],gpe=[{id:1,instruction:'  ""   ',letters:["","","",""],example:"   +  + ",difficulty:"beginner"},{id:2,instruction:'  ""  ',answer:"",breakdown:" +  + ",difficulty:"intermediate"},{id:3,instruction:'  ""  ',answer:"",breakdown:" +  +  +  + ",difficulty:"advanced"}];function P_(){const[t,e]=y.useState("vocabulary"),[n,r]=y.useState(null),[i,a]=y.useState(0),[o,c]=y.useState(0),[u,h]=y.useState(!1),[f,m]=y.useState(null),g=x=>{r(x)};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 to-orange-100 py-8 px-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"  "}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"          "})]}),s.jsxs(A6,{value:t,onValueChange:e,className:"space-y-6",children:[s.jsxs(M1,{className:"w-full bg-white rounded-lg p-1 gap-2 sm:gap-1 overflow-x-auto no-scrollbar flex flex-nowrap",children:[s.jsxs(Zo,{value:"alphabet",className:"data-[state=active]:bg-amber-500 data-[state=active]:text-white flex-none text-sm px-3 py-2",children:[s.jsx(un,{className:"w-4 h-4 mr-2"}),""]}),s.jsxs(Zo,{value:"vocabulary",className:"data-[state=active]:bg-indigo-500 data-[state=active]:text-white flex-none text-sm px-3 py-2",children:[s.jsx(q_,{className:"w-4 h-4 mr-2"}),""]}),s.jsxs(Zo,{value:"grammar",className:"data-[state=active]:bg-blue-500 data-[state=active]:text-white flex-none text-sm px-3 py-2",children:[s.jsx(Na,{className:"w-4 h-4 mr-2"}),""]}),s.jsxs(Zo,{value:"joining",className:"data-[state=active]:bg-green-500 data-[state=active]:text-white flex-none text-sm px-3 py-2",children:[s.jsx(tm,{className:"w-4 h-4 mr-2"}),""]}),s.jsxs(Zo,{value:"writing",className:"data-[state=active]:bg-pink-500 data-[state=active]:text-white flex-none text-sm px-3 py-2",children:[s.jsx(Oz,{className:"w-4 h-4 mr-2"}),""]}),s.jsxs(Zo,{value:"quiz",className:"data-[state=active]:bg-purple-500 data-[state=active]:text-white flex-none text-sm px-3 py-2",children:[s.jsx(ns,{className:"w-4 h-4 mr-2"}),""]})]}),s.jsx(Xo,{value:"vocabulary",className:"space-y-6",children:s.jsx(dI,{})}),s.jsx(Xo,{value:"alphabet",className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[s.jsxs(re,{className:"shadow-lg",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white",children:s.jsxs(Me,{className:"text-xl flex items-center gap-2",children:[s.jsx(un,{className:"w-5 h-5"})," "]})}),s.jsx(ie,{className:"p-4 sm:p-6",children:s.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-5 md:grid-cols-6 gap-2 sm:gap-3",children:fpe.map((x,_)=>s.jsxs(te.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:()=>g(x),className:"aspect-square bg-gradient-to-br from-amber-100 to-orange-100 hover:from-amber-200 hover:to-orange-200 rounded-lg flex flex-col items-center justify-center p-1 sm:p-2 transition-all duration-200 shadow-md hover:shadow-lg",children:[s.jsx("span",{className:"text-xl sm:text-2xl font-bold text-gray-800",children:x.letter}),s.jsx("span",{className:"text-[11px] sm:text-xs text-gray-600 mt-1",children:x.name})]},_))})})]}),s.jsxs(re,{className:"shadow-lg",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:s.jsxs(Me,{className:"text-xl flex items-center gap-2",children:[s.jsx(fy,{className:"w-5 h-5"})," "]})}),s.jsx(ie,{className:"p-4 sm:p-6",children:n?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("span",{className:"text-5xl sm:text-6xl font-bold text-gray-800",children:n.letter}),s.jsx("h3",{className:"text-lg sm:text-xl font-semibold mt-2",children:n.name}),s.jsxs(we,{className:"mt-2 bg-blue-500",children:[": ",n.sound]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:gap-3",children:[s.jsxs("div",{className:"text-center p-2 sm:p-3 bg-gray-50 rounded-lg",children:[s.jsx("p",{className:"text-sm text-gray-600",children:""}),s.jsx("p",{className:"text-2xl font-bold",children:n.isolated})]}),s.jsxs("div",{className:"text-center p-2 sm:p-3 bg-gray-50 rounded-lg",children:[s.jsx("p",{className:"text-sm text-gray-600",children:" "}),s.jsx("p",{className:"text-2xl font-bold",children:n.initial})]}),s.jsxs("div",{className:"text-center p-2 sm:p-3 bg-gray-50 rounded-lg",children:[s.jsx("p",{className:"text-sm text-gray-600",children:" "}),s.jsx("p",{className:"text-2xl font-bold",children:n.medial})]}),s.jsxs("div",{className:"text-center p-2 sm:p-3 bg-gray-50 rounded-lg",children:[s.jsx("p",{className:"text-sm text-gray-600",children:" "}),s.jsx("p",{className:"text-2xl font-bold",children:n.final})]})]})]}):s.jsxs("div",{className:"text-center text-gray-500 py-8",children:[s.jsx(sz,{className:"w-12 h-12 mx-auto mb-3"}),s.jsx("p",{children:"     "})]})})]})]})}),s.jsx(Xo,{value:"grammar",className:"space-y-6",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs(re,{className:"shadow-lg",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-blue-500 to-cyan-500 text-white",children:s.jsxs(Me,{className:"text-xl flex items-center gap-2",children:[s.jsx(Na,{className:"w-5 h-5"})," (Arabic Syntax)"]})}),s.jsx(ie,{className:"p-6",children:s.jsx("div",{className:"grid gap-4",children:mpe.map(x=>s.jsxs("div",{className:"border rounded-lg p-4 hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:x.title}),s.jsx(we,{className:`${x.difficulty==="beginner"?"bg-green-500":x.difficulty==="intermediate"?"bg-yellow-500":"bg-red-500"} text-white`,children:x.difficulty==="beginner"?"":x.difficulty==="intermediate"?"":""})]}),s.jsx("p",{className:"text-gray-600 mb-3",children:x.description}),s.jsx("p",{className:"text-gray-800 mb-3",children:x.content}),s.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[s.jsx("p",{className:"text-sm font-semibold text-blue-800 mb-2",children:":"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:x.examples.map((_,w)=>s.jsx(we,{variant:"outline",className:"text-blue-700",children:_},w))})]})]},x.id))})})]}),s.jsxs(re,{className:"shadow-lg",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white",children:s.jsxs(Me,{className:"text-xl flex items-center gap-2",children:[s.jsx(Oi,{className:"w-5 h-5"})," (Morphology)"]})}),s.jsx(ie,{className:"p-6",children:s.jsx("div",{className:"grid gap-4",children:ppe.map(x=>s.jsxs("div",{className:"border rounded-lg p-4 hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:x.title}),s.jsx(we,{className:`${x.difficulty==="beginner"?"bg-green-500":x.difficulty==="intermediate"?"bg-yellow-500":"bg-red-500"} text-white`,children:x.difficulty==="beginner"?"":x.difficulty==="intermediate"?"":""})]}),s.jsx("p",{className:"text-gray-600 mb-3",children:x.description}),s.jsx("p",{className:"text-gray-800 mb-3",children:x.content}),s.jsxs("div",{className:"bg-purple-50 p-3 rounded-lg",children:[s.jsx("p",{className:"text-sm font-semibold text-purple-800 mb-2",children:":"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:x.examples.map((_,w)=>s.jsx(we,{variant:"outline",className:"text-purple-700",children:_},w))})]})]},x.id))})})]})]})}),s.jsx(Xo,{value:"joining",className:"space-y-6",children:s.jsxs(re,{className:"shadow-lg",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-green-500 to-teal-500 text-white",children:s.jsxs(Me,{className:"text-xl flex items-center gap-2",children:[s.jsx(tm,{className:"w-5 h-5"}),"  (Letter Joining)"]})}),s.jsx(ie,{className:"p-6",children:s.jsx("div",{className:"space-y-6",children:gpe.map(x=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:x.instruction}),s.jsx(we,{className:`${x.difficulty==="beginner"?"bg-green-500":x.difficulty==="intermediate"?"bg-yellow-500":"bg-red-500"} text-white`,children:x.difficulty==="beginner"?"":x.difficulty==="intermediate"?"":""})]}),x.letters&&s.jsx("div",{className:"grid grid-cols-4 gap-3 mb-4",children:x.letters.map((_,w)=>s.jsx("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:s.jsx("span",{className:"text-2xl font-bold text-green-800",children:_})},w))}),x.answer&&s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg mb-3",children:[s.jsx("p",{className:"text-lg font-bold text-green-800 text-center mb-2",children:x.answer}),s.jsx("p",{className:"text-sm text-green-600 text-center",children:x.breakdown})]}),x.example&&s.jsx("div",{className:"bg-blue-50 p-3 rounded-lg",children:s.jsx("p",{className:"text-sm text-blue-800",children:x.example})})]},x.id))})})]})}),s.jsx(Xo,{value:"vocabulary",className:"space-y-6",children:s.jsx(dI,{})}),s.jsx(Xo,{value:"writing",className:"space-y-6",children:s.jsx(lpe,{})}),s.jsx(Xo,{value:"quiz",className:"space-y-6",children:s.jsx(hpe,{})})]})]})})}function yV(){const[t,e]=y.useState(""),[n,r]=y.useState(""),[i,a]=y.useState(!1),[o,c]=y.useState("quran"),[u,h]=y.useState(""),[f,m]=y.useState(!1),[g,x]=y.useState(!1),[_,w]=y.useState(null),[j,N]=y.useState(null),[S,k]=y.useState(!1),C=y.useRef(null),R=y.useRef([]),O=y.useRef(null),A=async()=>{try{x(!1);const V=await navigator.mediaDevices.getUserMedia({audio:!0}),G=new MediaRecorder(V);C.current=G,R.current=[],G.ondataavailable=ee=>{ee.data.size>0&&R.current.push(ee.data)},G.onstop=()=>{const ee=new Blob(R.current,{type:"audio/webm"});w(ee);const ae=URL.createObjectURL(ee);N(ae),V.getTracks().forEach(ue=>ue.stop())},G.start(),m(!0),ft.success("Recording started")}catch(V){(V==null?void 0:V.name)==="NotAllowedError"&&x(!0),ft.error("Could not access microphone. Please enable permissions.")}},M=()=>{C.current&&f&&(C.current.stop(),m(!1),ft.success("Recording stopped"))},P=()=>{O.current&&j&&(O.current.currentTime=0,O.current.play())},F=()=>{w(null),N(null),R.current=[]},L=()=>{const V=Number(n||0);return!t||!V||!o?(ft.error("Please fill in all required fields"),!1):V<13&&!i?(ft.error("Parent consent is required for under 13"),!1):_?!0:(ft.error("Please record audio first"),!1)},D=async()=>{if(L()){k(!0);try{const V=new File([_],`kids-recording-${Date.now()}.webm`,{type:"audio/webm"});let G="";const{base44:ee}=await sn(async()=>{const{base44:ue}=await Promise.resolve().then(()=>cne);return{base44:ue}},void 0);if(G=(await ee.integrations.Core.UploadFile({file:V})).file_url||"",!G){ft.error("Upload failed"),k(!1);return}await ee.integrations.Core.SendEmail({from_name:"Kids Recording Studio",to:"imediac786@gmail.com",subject:"New Kids Recording Submission",body:`
          <div style="font-family: Arial, sans-serif; padding: 20px; background-color: #f8fafc;">
            <h2 style="color:#0ea5e9; margin:0 0 12px;">New Kids Recording Submission</h2>
            <table style="width:100%; background:#fff; border:1px solid #e5e7eb; border-radius:8px; padding:16px;">
              <tr><td><strong>Name:</strong></td><td>${t}</td></tr>
              <tr><td><strong>Age:</strong></td><td>${Number(n)}</td></tr>
              <tr><td><strong>Parent Consent:</strong></td><td>${i?"Yes":"No"}</td></tr>
              <tr><td><strong>Category:</strong></td><td>${o}</td></tr>
              <tr><td><strong>Notes:</strong></td><td>${u||"-"}</td></tr>
              <tr><td><strong>File:</strong></td><td><a href="${G}">${G}</a></td></tr>
            </table>
          </div>
        `}),ft.success("Submitted successfully"),F(),e(""),r(""),a(!1),c("quran"),h("")}catch{ft.error("Submission failed")}finally{k(!1)}}};return s.jsx("div",{className:"min-h-screen py-8 px-4",children:s.jsxs("div",{className:"max-w-3xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("div",{className:"text-6xl mb-2",children:""}),s.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900",children:"Kids Recording Studio"}),s.jsx("p",{className:"text-gray-600",children:"Record Quran, stories or hadith and send with consent"})]}),s.jsxs(re,{className:"mb-6",children:[s.jsx(Oe,{children:s.jsx(Me,{children:"Consent & Details"})}),s.jsxs(ie,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Full Name"}),s.jsx(ke,{value:t,onChange:V=>e(V.target.value)})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Age"}),s.jsx(ke,{type:"number",min:"1",value:n,onChange:V=>r(V.target.value)})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wy,{checked:i,onCheckedChange:V=>a(!!V)}),s.jsx("span",{children:"Parent consent"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Category"}),s.jsxs(Xt,{value:o,onValueChange:c,children:[s.jsx(Qt,{className:"w-full",children:s.jsx(Zt,{placeholder:"Choose"})}),s.jsxs(Jt,{children:[s.jsx(Le,{value:"quran",children:"Quran"}),s.jsx(Le,{value:"story",children:"Story"}),s.jsx(Le,{value:"hadith",children:"Hadith"})]})]})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Notes (optional)"}),s.jsx(ke,{value:u,onChange:V=>h(V.target.value)})]})]})]}),s.jsxs(re,{children:[s.jsx(Oe,{children:s.jsx(Me,{children:"Recording"})}),s.jsxs(ie,{children:[g&&s.jsx("div",{className:"mb-4 p-3 rounded bg-red-50 text-red-700",children:"Microphone access denied"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsxs(W,{onClick:A,disabled:f,className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx($d,{className:"w-4 h-4 mr-2"})," Start"]}),s.jsxs(W,{onClick:M,disabled:!f,variant:"outline",children:[s.jsx(K_,{className:"w-4 h-4 mr-2"})," Stop"]}),s.jsxs(W,{onClick:P,disabled:!j,variant:"outline",children:[s.jsx(er,{className:"w-4 h-4 mr-2"})," Play"]}),s.jsxs(W,{onClick:D,disabled:!_||S,className:"bg-green-600 hover:bg-green-700",children:[s.jsx(Ea,{className:"w-4 h-4 mr-2"})," ",S?"Submitting...":"Submit"]})]}),s.jsx("div",{className:"mt-4",children:s.jsx("audio",{ref:O,src:j||void 0,controls:!0,className:"w-full"})})]})]})]})})}const xpe={Home:kf,Games:$j,Leaderboard:x5,Stories:t6,Learn:c6,ParentZone:u6,About:d6,Welcome:m6,ContactUs:p6,Duas:T6,RecordAndShare:pL,RecordingStudio:gL,KidsRecordingStudio:yV,RecordingsAdmin:xL,CreativeCorner:yL,LearningLibrary:vL,ColoringPages:bL,DrawingBoard:wL,PoetryWriting:jL,MonthlyContest:_L,IslamicEncyclopedia:NL,AudioTafsir:SL,IslamicFacts:EL,Worksheets:kL,AudioNew:CL,Hadith:AL,History:TL,Tajweed:RL,PrintableQuizzes:IL,Multimedia:ML,FullQuran:qf,Quran:qf,QuranDictionary:i_,Manzil:VL,Hizb:UL,HifzDashboard:KL,ResetPointsAdmin:YL,AdminDashboard:a_,AdminSettings:E3,AdminStories:k3,AdminAudio:G3,AdminMedia:Q3,PrivacyPolicy:J3,Challenges:Y3,AdminQuestions:X3,Videos:Z3,AdminVideos:eF,AdminAudioContent:tF,AdminUsers:uV,DeleteAccount:dV,AdminBanners:hV,AdminStoryBuilder:fV,AdminGameSettings:mV,Quizzes:pV,AdminQuizManager:gV,Signup:Pf,Login:R_,Assistant:xV,CompleteProfile:I_,ArabicLearning:P_};function ype(t){t.endsWith("/")&&(t=t.slice(0,-1));let e=t.split("/").pop();e.includes("?")&&(e=e.split("?")[0]);const n=Object.keys(xpe).find(r=>r.toLowerCase()===e.toLowerCase());return!n||n==="Layout"?"Home":n}function vpe(){const t=Ia(),e=ype(t.pathname),n=s.jsx(mr,{children:s.jsx(xV,{})});return s.jsx(SD,{currentPageName:e,children:s.jsxs(T$,{children:[s.jsx(Ue,{path:"/",element:s.jsx(kf,{})}),s.jsx(Ue,{path:"/Home",element:s.jsx(kf,{})}),s.jsx(Ue,{path:"/kids",element:s.jsx(kf,{})}),s.jsx(Ue,{path:"/Games",element:s.jsx($j,{})}),s.jsx(Ue,{path:"/games",element:s.jsx($j,{})}),s.jsx(Ue,{path:"/Leaderboard",element:s.jsx(x5,{})}),s.jsx(Ue,{path:"/Stories",element:s.jsx(t6,{})}),s.jsx(Ue,{path:"/Learn",element:s.jsx(c6,{})}),s.jsx(Ue,{path:"/ParentZone",element:s.jsx(u6,{})}),s.jsx(Ue,{path:"/About",element:s.jsx(d6,{})}),s.jsx(Ue,{path:"/Welcome",element:s.jsx(m6,{})}),s.jsx(Ue,{path:"/ContactUs",element:s.jsx(p6,{})}),s.jsx(Ue,{path:"/Duas",element:s.jsx(T6,{})}),s.jsx(Ue,{path:"/RecordAndShare",element:s.jsx(pL,{})}),s.jsx(Ue,{path:"/RecordingStudio",element:s.jsx(gL,{})}),s.jsx(Ue,{path:"/KidsRecordingStudio",element:s.jsx(yV,{})}),s.jsx(Ue,{path:"/RecordingsAdmin",element:s.jsx(mr,{children:s.jsx(xL,{})})}),s.jsx(Ue,{path:"/CreativeCorner",element:s.jsx(yL,{})}),s.jsx(Ue,{path:"/LearningLibrary",element:s.jsx(vL,{})}),s.jsx(Ue,{path:"/ColoringPages",element:s.jsx(bL,{})}),s.jsx(Ue,{path:"/DrawingBoard",element:s.jsx(wL,{})}),s.jsx(Ue,{path:"/PoetryWriting",element:s.jsx(jL,{})}),s.jsx(Ue,{path:"/MonthlyContest",element:s.jsx(_L,{})}),s.jsx(Ue,{path:"/IslamicEncyclopedia",element:s.jsx(NL,{})}),s.jsx(Ue,{path:"/AudioTafsir",element:s.jsx(SL,{})}),s.jsx(Ue,{path:"/IslamicFacts",element:s.jsx(EL,{})}),s.jsx(Ue,{path:"/Worksheets",element:s.jsx(kL,{})}),s.jsx(Ue,{path:"/AudioNew",element:s.jsx(CL,{})}),s.jsx(Ue,{path:"/Hadith",element:s.jsx(AL,{})}),s.jsx(Ue,{path:"/History",element:s.jsx(TL,{})}),s.jsx(Ue,{path:"/Tajweed",element:s.jsx(RL,{})}),s.jsx(Ue,{path:"/PrintableQuizzes",element:s.jsx(IL,{})}),s.jsx(Ue,{path:"/Multimedia",element:s.jsx(ML,{})}),s.jsx(Ue,{path:"/FullQuran",element:s.jsx(qf,{})}),s.jsx(Ue,{path:"/Quran",element:s.jsx(qf,{})}),s.jsx(Ue,{path:"/quran",element:s.jsx(qf,{})}),s.jsx(Ue,{path:"/QuranDictionary",element:s.jsx(i_,{})}),s.jsx(Ue,{path:"/dictionary",element:s.jsx(i_,{})}),s.jsx(Ue,{path:"/Manzil",element:s.jsx(VL,{})}),s.jsx(Ue,{path:"/Hizb",element:s.jsx(UL,{})}),s.jsx(Ue,{path:"/HifzDashboard",element:s.jsx(KL,{})}),s.jsx(Ue,{path:"/ResetPointsAdmin",element:s.jsx(YL,{})}),s.jsx(Ue,{path:"/AdminLogin",element:s.jsx(lR,{})}),s.jsx(Ue,{path:"/adminlogin",element:s.jsx(lR,{})}),s.jsx(Ue,{path:"/AdminDashboard",element:s.jsx(mr,{children:s.jsx(a_,{})})}),s.jsx(Ue,{path:"/admindashboard",element:s.jsx(mr,{children:s.jsx(a_,{})})}),s.jsx(Ue,{path:"/AdminSettings",element:s.jsx(mr,{children:s.jsx(E3,{})})}),s.jsx(Ue,{path:"/AdminStories",element:s.jsx(mr,{children:s.jsx(k3,{})})}),s.jsx(Ue,{path:"/AdminAudio",element:s.jsx(mr,{children:s.jsx(G3,{})})}),s.jsx(Ue,{path:"/AdminMedia",element:s.jsx(mr,{children:s.jsx(Q3,{})})}),s.jsx(Ue,{path:"/PrivacyPolicy",element:s.jsx(J3,{})}),s.jsx(Ue,{path:"/Challenges",element:s.jsx(Y3,{})}),s.jsx(Ue,{path:"/AdminQuestions",element:s.jsx(mr,{children:s.jsx(X3,{})})}),s.jsx(Ue,{path:"/Videos",element:s.jsx(Z3,{})}),s.jsx(Ue,{path:"/AdminVideos",element:s.jsx(mr,{children:s.jsx(eF,{})})}),s.jsx(Ue,{path:"/AdminAudioContent",element:s.jsx(mr,{children:s.jsx(tF,{})})}),s.jsx(Ue,{path:"/AdminUsers",element:s.jsx(mr,{children:s.jsx(uV,{})})}),s.jsx(Ue,{path:"/DeleteAccount",element:s.jsx(dV,{})}),s.jsx(Ue,{path:"/AdminBanners",element:s.jsx(mr,{children:s.jsx(hV,{})})}),s.jsx(Ue,{path:"/AdminSponsors",element:s.jsx(mr,{children:s.jsx(lI,{})})}),s.jsx(Ue,{path:"/adminsponsors",element:s.jsx(mr,{children:s.jsx(lI,{})})}),s.jsx(Ue,{path:"/AdminStoryBuilder",element:s.jsx(mr,{children:s.jsx(fV,{})})}),s.jsx(Ue,{path:"/AdminGameSettings",element:s.jsx(mr,{children:s.jsx(mV,{})})}),s.jsx(Ue,{path:"/AdminMessages",element:s.jsx(mr,{children:s.jsx(ape,{})})}),s.jsx(Ue,{path:"/Quizzes",element:s.jsx(pV,{})}),s.jsx(Ue,{path:"/AdminQuizManager",element:s.jsx(gV,{})}),s.jsx(Ue,{path:"/signup",element:s.jsx(Pf,{})}),s.jsx(Ue,{path:"/Signup",element:s.jsx(Pf,{})}),s.jsx(Ue,{path:"/Signin",element:s.jsx(Pf,{})}),s.jsx(Ue,{path:"/signin",element:s.jsx(Pf,{})}),s.jsx(Ue,{path:"/Login",element:s.jsx(R_,{})}),s.jsx(Ue,{path:"/login",element:s.jsx(R_,{})}),s.jsx(Ue,{path:"/CompleteProfile",element:s.jsx(I_,{})}),s.jsx(Ue,{path:"/completeprofile",element:s.jsx(I_,{})}),s.jsx(Ue,{path:"/ArabicLearning",element:s.jsx(P_,{})}),s.jsx(Ue,{path:"/arabiclearning",element:s.jsx(P_,{})}),s.jsx(Ue,{path:"/Assistant",element:n}),s.jsx(Ue,{path:"/assistant",element:n}),s.jsx(Ue,{path:"*",element:s.jsx(kf,{})})]})})}function bpe(){return s.jsx(vpe,{})}const wpe=20,jpe=1e6,oo={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let Nw=0;function _pe(){return Nw=(Nw+1)%Number.MAX_VALUE,Nw.toString()}const Sw=new Map,hI=t=>{if(Sw.has(t))return;const e=setTimeout(()=>{Sw.delete(t),Yf({type:oo.REMOVE_TOAST,toastId:t})},jpe);Sw.set(t,e)},Npe=(t,e)=>{switch(e.type){case oo.ADD_TOAST:return{...t,toasts:[e.toast,...t.toasts].slice(0,wpe)};case oo.UPDATE_TOAST:return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case oo.DISMISS_TOAST:{const{toastId:n}=e;return n?hI(n):t.toasts.forEach(r=>{hI(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case oo.REMOVE_TOAST:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},xx=[];let yx={toasts:[]};function Yf(t){yx=Npe(yx,t),xx.forEach(e=>{e(yx)})}function Spe({...t}){const e=_pe(),n=i=>Yf({type:oo.UPDATE_TOAST,toast:{...i,id:e}}),r=()=>Yf({type:oo.DISMISS_TOAST,toastId:e});return Yf({type:oo.ADD_TOAST,toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function Epe(){const[t,e]=y.useState(yx);return y.useEffect(()=>(xx.push(e),()=>{const n=xx.indexOf(e);n>-1&&xx.splice(n,1)}),[t]),{...t,toast:Spe,dismiss:n=>Yf({type:oo.DISMISS_TOAST,toastId:n})}}const vV=y.forwardRef(({...t},e)=>s.jsx("div",{ref:e,className:"fixed top-0 z-[100] pointer-events-none flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));vV.displayName="ToastProvider";const bV=y.forwardRef(({...t},e)=>s.jsx("div",{ref:e,className:"fixed top-0 z-[100] pointer-events-none flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));bV.displayName="ToastViewport";const kpe=$m("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),wV=y.forwardRef(({className:t,variant:e,...n},r)=>s.jsx("div",{ref:r,className:mt(kpe({variant:e}),t),...n}));wV.displayName="Toast";const Cpe=y.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:mt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Cpe.displayName="ToastAction";const jV=y.forwardRef(({className:t,...e},n)=>s.jsx("button",{ref:n,className:mt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:s.jsx(Br,{className:"h-4 w-4"})}));jV.displayName="ToastClose";const _V=y.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:mt("text-sm font-semibold",t),...e}));_V.displayName="ToastTitle";const NV=y.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:mt("text-sm opacity-90",t),...e}));NV.displayName="ToastDescription";function Ape(){const{toasts:t}=Epe();return s.jsxs(vV,{children:[t.map(function({id:e,title:n,description:r,action:i,...a}){return s.jsxs(wV,{...a,children:[s.jsxs("div",{className:"grid gap-1",children:[n&&s.jsx(_V,{children:n}),r&&s.jsx(NV,{children:r})]}),i,s.jsx(jV,{})]},e)}),s.jsx(bV,{})]})}function Tpe(){return s.jsxs(s.Fragment,{children:[s.jsx(bpe,{}),s.jsx(Ape,{})]})}const Rpe=new mee;UU.createRoot(document.getElementById("root")).render(s.jsx(Nt.StrictMode,{children:s.jsx(pee,{client:Rpe,children:s.jsx(Z$,{basename:"/",children:s.jsx(Tpe,{})})})}));export{Ss as A,W as B,re as C,HI as G,ch as H,ke as I,hz as L,Gd as P,jx as R,ln as S,ns as T,_9 as Z,Oe as a,Me as b,ie as c,we as d,mi as e,Vt as f,bt as g,Na as h,lh as i,s as j,hy as k,Uj as l,te as m,$_ as n,qv as o,un as p,Ce as q,y as r,pB as s,$k as t};
