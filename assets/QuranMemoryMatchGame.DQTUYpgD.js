import{r as i,g as h,j as e,m as f,C as y,c as b,T as E,B as j,R as w,a as I,b as Y}from"./index.CTmbMkGJ.js";const G=[{arabic:"Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù Ø§Ù„Ø±ÙŽÙ‘Ø­Ù’Ù…ÙŽÙ°Ù†Ù Ø§Ù„Ø±ÙŽÙ‘Ø­ÙÙŠÙ…Ù",english:"In the name of Allah, Most Gracious, Most Merciful",id:"bismillah"},{arabic:"Ø§Ù„Ù’Ø­ÙŽÙ…Ù’Ø¯Ù Ù„ÙÙ„ÙŽÙ‘Ù‡Ù Ø±ÙŽØ¨ÙÙ‘ Ø§Ù„Ù’Ø¹ÙŽØ§Ù„ÙŽÙ…ÙÙŠÙ†ÙŽ",english:"All praise is due to Allah, Lord of the worlds",id:"alhamdulillah"},{arabic:"Ø¥ÙÙŠÙŽÙ‘Ø§ÙƒÙŽ Ù†ÙŽØ¹Ù’Ø¨ÙØ¯Ù ÙˆÙŽØ¥ÙÙŠÙŽÙ‘Ø§ÙƒÙŽ Ù†ÙŽØ³Ù’ØªÙŽØ¹ÙÙŠÙ†Ù",english:"You alone we worship, and You alone we ask for help",id:"iyyaka"},{arabic:"Ù‚ÙÙ„Ù’ Ù‡ÙÙˆÙŽ Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù Ø£ÙŽØ­ÙŽØ¯ÙŒ",english:"Say: He is Allah, the One",id:"qul"},{arabic:"ÙˆÙŽÙ…ÙŽØ§ Ø®ÙŽÙ„ÙŽÙ‚Ù’ØªÙ Ø§Ù„Ù’Ø¬ÙÙ†ÙŽÙ‘ ÙˆÙŽØ§Ù„Ù’Ø¥ÙÙ†Ù’Ø³ÙŽ Ø¥ÙÙ„ÙŽÙ‘Ø§ Ù„ÙÙŠÙŽØ¹Ù’Ø¨ÙØ¯ÙÙˆÙ†Ù",english:"I created jinn and humans only to worship Me",id:"khalaqtu"},{arabic:"Ø¥ÙÙ†ÙŽÙ‘ Ù…ÙŽØ¹ÙŽ Ø§Ù„Ù’Ø¹ÙØ³Ù’Ø±Ù ÙŠÙØ³Ù’Ø±Ù‹Ø§",english:"Indeed, with hardship comes ease",id:"yusr"}];function $({onComplete:N}){const[c,v]=i.useState([]),[o,d]=i.useState([]),[l,g]=i.useState([]),[n,u]=i.useState(0),[M,p]=i.useState(!1),[m,C]=i.useState(null);i.useEffect(()=>{x(),A()},[]);const A=async()=>{try{if(await h.auth.isAuthenticated()){const t=await h.auth.me();C(t)}}catch{console.log("User not authenticated")}},x=()=>{const a=[];G.forEach((s,r)=>{a.push({id:`${s.id}-arabic`,content:s.arabic,type:"arabic",pairId:s.id,index:r*2}),a.push({id:`${s.id}-english`,content:s.english,type:"english",pairId:s.id,index:r*2+1})});const t=a.sort(()=>Math.random()-.5);v(t),d([]),g([]),u(0),p(!1)},S=a=>{if(o.length===2||o.includes(a)||l.includes(a))return;const t=[...o,a];if(d(t),t.length===2){u(n+1);const s=c[t[0]],r=c[t[1]];s.pairId===r.pairId&&s.type!==r.type?(g([...l,...t]),d([]),l.length+2===c.length&&k()):setTimeout(()=>d([]),1e3)}},k=async()=>{p(!0);const a=Math.max(120-n*3,50);if(m)try{await h.entities.GameScore.create({user_id:m.id,game_type:"quran_memory",score:a,completed:!0}),await h.auth.updateMe({points:(m.points||0)+a})}catch(t){console.error("Error saving game score:",t)}setTimeout(()=>N(a),2e3)};if(M){const a=Math.max(120-n*3,50);return e.jsx(f.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"text-center py-12",children:e.jsx(y,{className:"max-w-md mx-auto border-2 border-green-400 shadow-2xl",children:e.jsxs(b,{className:"pt-12 pb-8",children:[e.jsx(E,{className:"w-24 h-24 mx-auto mb-6 text-green-500"}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Masha'Allah! ðŸ“–"}),e.jsxs("p",{className:"text-xl text-gray-600 mb-2",children:["You earned ",e.jsxs("span",{className:"font-bold text-green-600",children:[a," points!"]})]}),e.jsxs("p",{className:"text-gray-500",children:["Completed in ",n," moves"]}),e.jsxs(j,{onClick:x,className:"mt-6 bg-green-600 hover:bg-green-700",children:[e.jsx(w,{className:"w-4 h-4 mr-2"}),"Play Again"]})]})})})}return e.jsxs(y,{className:"max-w-5xl mx-auto shadow-lg",children:[e.jsxs(I,{className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs(Y,{className:"text-2xl flex items-center gap-2",children:[e.jsx("span",{className:"text-3xl",children:"ðŸ“–"}),"Qur'an Memory Match"]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"bg-white/20 px-4 py-2 rounded-full",children:e.jsxs("span",{className:"font-bold",children:["Moves: ",n]})}),e.jsx(j,{variant:"ghost",size:"icon",onClick:x,className:"text-white hover:bg-white/20",children:e.jsx(w,{className:"w-5 h-5"})})]})]}),e.jsx("p",{className:"text-sm mt-2",children:"Match Arabic Ayahs with their English meanings"})]}),e.jsxs(b,{className:"p-8",children:[e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:c.map((a,t)=>{const s=o.includes(t)||l.includes(t),r=l.includes(t);return e.jsx(f.div,{whileHover:{scale:s?1:1.05},whileTap:{scale:s?1:.95},children:e.jsx("div",{onClick:()=>S(t),className:`aspect-square rounded-xl cursor-pointer transition-all duration-500 transform ${s?"rotate-y-180":""} ${r?"bg-gradient-to-br from-green-400 to-emerald-400":s?"bg-gradient-to-br from-blue-400 to-purple-400":"bg-gradient-to-br from-gray-200 to-gray-300 hover:from-gray-300 hover:to-gray-400"} flex items-center justify-center p-4 shadow-lg`,style:{transformStyle:"preserve-3d",transform:s?"rotateY(180deg)":"rotateY(0deg)"},children:e.jsx("div",{className:"text-center",style:{transform:s?"rotateY(180deg)":"rotateY(0deg)"},children:s?e.jsx("div",{className:"text-white",children:e.jsx("p",{className:`font-bold ${a.type==="arabic"?"text-2xl leading-relaxed":"text-sm"}`,children:a.content})}):e.jsx("span",{className:"text-4xl",children:"ðŸŒŸ"})})})},a.id)})}),e.jsx("div",{className:"mt-6 text-center text-sm text-gray-600",children:"ðŸ’¡ Match each Arabic Ayah with its English meaning"})]})]})}export{$ as default};
