import{r as a,j as e,m as c,C as x,c as b,T as v,a as P,b as C,S as A,A as W,B as E,s as Y,g as f,l as H}from"./index.BLniS9Uj.js";const l=[{id:1,situation:"You found money on the ground at school. What do you do?",options:[{text:"Keep it for yourself",isGood:!1,feedback:"Remember, the Prophet ï·º taught us to be honest and return what we find."},{text:"Give it to the teacher to find the owner",isGood:!0,feedback:"Excellent! The Prophet ï·º said: 'The one who guides to goodness has a reward like the one who does it.'",hadith:"Return what is entrusted to you"}],emoji:"ðŸ’°",points:2},{id:2,situation:"Your friend is being bullied at school. What do you do?",options:[{text:"Ignore it and walk away",isGood:!1,feedback:"We should help those in need. The Prophet ï·º said to help your brother whether he is the oppressor or the oppressed."},{text:"Stand up for your friend and tell an adult",isGood:!0,feedback:"Masha'Allah! The Prophet ï·º said: 'Help your brother whether he is the oppressor or the oppressed.'",hadith:"Stand up against injustice"}],emoji:"ðŸ¤",points:2},{id:3,situation:"You accidentally broke your sibling's toy. What do you do?",options:[{text:"Hide it and don't say anything",isGood:!1,feedback:"Hiding the truth is not good. The Prophet ï·º was known as Al-Amin (The Trustworthy)."},{text:"Tell the truth and apologize",isGood:!0,feedback:"Perfect! The Prophet ï·º said: 'Truthfulness leads to righteousness.'",hadith:"Always speak the truth"}],emoji:"ðŸŽ¯",points:2},{id:4,situation:"Your mom asks you to clean your room, but you want to play. What do you do?",options:[{text:"Say no and keep playing",isGood:!1,feedback:"We should always obey our parents. Allah says in the Quran: 'Be kind to your parents.'"},{text:"Clean your room first, then play",isGood:!0,feedback:"Wonderful! The Prophet ï·º said: 'Paradise lies under the feet of mothers.'",hadith:"Obey and respect your parents"}],emoji:"ðŸ ",points:2},{id:5,situation:"You see someone drop their books. What do you do?",options:[{text:"Keep walking",isGood:!1,feedback:"We should help others in need. The Prophet ï·º was always the first to help."},{text:"Help them pick up the books",isGood:!0,feedback:"Excellent! The Prophet ï·º said: 'The best of people are those who are most beneficial to people.'",hadith:"Help those in need"}],emoji:"ðŸ“š",points:2}];function z({onComplete:y}){const[o,g]=a.useState(0),[r,j]=a.useState(0),[h,p]=a.useState(null),[w,u]=a.useState(!1),[k,N]=a.useState(!1),[m,G]=a.useState(null);a.useEffect(()=>{(async()=>{try{if(await f.auth.isAuthenticated()){const d=await f.auth.me();G(d)}}catch{console.log("User not authenticated")}})()},[]);const S=(s,i)=>{p(i),u(!0);const d=l[o].points;s.isGood&&j(r+d),setTimeout(()=>{o<l.length-1?(g(o+1),p(null),u(!1)):T()},3e3)},T=async()=>{if(N(!0),m)try{await H(m,"morals_maze",{fallbackScore:r})}catch(s){console.error("Error saving game score:",s)}y(r)};if(k)return e.jsx(c.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"text-center py-12",children:e.jsx(x,{className:"max-w-md mx-auto border-2 border-pink-400 shadow-2xl",children:e.jsxs(b,{className:"pt-12 pb-8",children:[e.jsx(v,{className:"w-24 h-24 mx-auto mb-6 text-pink-500"}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Path Complete! â¤ï¸"}),e.jsxs("p",{className:"text-xl text-gray-600 mb-6",children:["You earned ",e.jsxs("span",{className:"font-bold text-pink-600",children:[r," points!"]})]}),e.jsx("div",{className:"bg-pink-50 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-gray-700",children:"You've learned important Islamic morals and values. Keep making good choices!"})})]})})});const n=l[o],t=h!==null?n.options[h]:null;return e.jsxs(x,{className:"max-w-2xl mx-auto shadow-lg",children:[e.jsxs(P,{className:"bg-gradient-to-r from-pink-500 to-rose-500 text-white",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs(C,{className:"text-2xl flex items-center gap-2",children:[e.jsx("span",{className:"text-3xl",children:n.emoji}),"Path of Good Deeds"]}),e.jsxs("div",{className:"flex items-center gap-2 bg-white/20 px-4 py-2 rounded-full",children:[e.jsx(A,{className:"w-5 h-5 text-amber-300"}),e.jsxs("span",{className:"font-bold",children:[r," pts"]})]})]}),e.jsxs("p",{className:"text-sm mt-2",children:["Scenario ",o+1," of ",l.length]})]}),e.jsx(b,{className:"p-8",children:e.jsx(W,{mode:"wait",children:w?e.jsxs(c.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center",children:[e.jsx("div",{className:`text-6xl mb-6 ${t.isGood?"animate-bounce":""}`,children:t.isGood?"âœ…":"ðŸ’­"}),e.jsx("h3",{className:`text-2xl font-bold mb-4 ${t.isGood?"text-green-600":"text-amber-600"}`,children:t.isGood?"Excellent Choice!":"Think Again..."}),e.jsx("div",{className:"bg-blue-50 rounded-xl p-6 mb-4",children:e.jsx("p",{className:"text-gray-700 text-lg leading-relaxed",children:t.feedback})}),t.hadith&&e.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg p-4 border-l-4 border-green-500",children:e.jsxs("p",{className:"text-sm font-semibold text-green-800",children:["ðŸ“– Islamic Teaching: ",t.hadith]})})]}):e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[e.jsxs("div",{className:"bg-gradient-to-br from-pink-50 to-rose-50 rounded-xl p-6 mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"What would you do?"}),e.jsx("p",{className:"text-lg text-gray-700",children:n.situation})]}),e.jsx("div",{className:"space-y-4",children:n.options.map((s,i)=>e.jsxs(E,{onClick:()=>S(s,i),className:"w-full h-auto py-4 text-lg justify-start bg-white hover:bg-pink-50 text-gray-900 border-2 border-gray-200 hover:border-pink-300",variant:"outline",children:[e.jsx(Y,{className:"w-5 h-5 mr-3 text-pink-500"}),e.jsx("span",{className:"text-left flex-1",children:s.text})]},i))})]},o)})})]})}export{z as default};
