const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/SahabahArena.C74HuN8o.js","assets/zap.DokdKPOV.js","assets/IslamKnowledgeRaceGame.BVm0EVn3.js","assets/SpinToWinWheel.C8eFcj5N.js"])))=>i.map(i=>d[i]);
var zE=t=>{throw TypeError(t)};var uv=(t,e,n)=>e.has(t)||zE("Cannot "+n);var xe=(t,e,n)=>(uv(t,e,"read from private field"),n?n.call(t):e.get(t)),Wt=(t,e,n)=>e.has(t)?zE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),_t=(t,e,n,r)=>(uv(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),fn=(t,e,n)=>(uv(t,e,"access private method"),n);function MV(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Ed(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var dv={exports:{}},Mh={},hv={exports:{}},kt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BE;function LV(){if(BE)return kt;BE=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),f=Symbol.iterator;function g(q){return q===null||typeof q!="object"?null:(q=f&&q[f]||q["@@iterator"],typeof q=="function"?q:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,j={};function w(q,X,$){this.props=q,this.context=X,this.refs=j,this.updater=$||x}w.prototype.isReactComponent={},w.prototype.setState=function(q,X){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,X,"setState")},w.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function N(){}N.prototype=w.prototype;function E(q,X,$){this.props=q,this.context=X,this.refs=j,this.updater=$||x}var A=E.prototype=new N;A.constructor=E,_(A,w.prototype),A.isPureReactComponent=!0;var T=Array.isArray,D=Object.prototype.hasOwnProperty,F={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function R(q,X,$){var he,Ne={},Ae=null,pe=null;if(X!=null)for(he in X.ref!==void 0&&(pe=X.ref),X.key!==void 0&&(Ae=""+X.key),X)D.call(X,he)&&!P.hasOwnProperty(he)&&(Ne[he]=X[he]);var Se=arguments.length-2;if(Se===1)Ne.children=$;else if(1<Se){for(var De=Array(Se),Ue=0;Ue<Se;Ue++)De[Ue]=arguments[Ue+2];Ne.children=De}if(q&&q.defaultProps)for(he in Se=q.defaultProps,Se)Ne[he]===void 0&&(Ne[he]=Se[he]);return{$$typeof:t,type:q,key:Ae,ref:pe,props:Ne,_owner:F.current}}function I(q,X){return{$$typeof:t,type:q.type,key:X,ref:q.ref,props:q.props,_owner:q._owner}}function O(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function V(q){var X={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function($){return X[$]})}var M=/\/+/g;function U(q,X){return typeof q=="object"&&q!==null&&q.key!=null?V(""+q.key):X.toString(36)}function J(q,X,$,he,Ne){var Ae=typeof q;(Ae==="undefined"||Ae==="boolean")&&(q=null);var pe=!1;if(q===null)pe=!0;else switch(Ae){case"string":case"number":pe=!0;break;case"object":switch(q.$$typeof){case t:case e:pe=!0}}if(pe)return pe=q,Ne=Ne(pe),q=he===""?"."+U(pe,0):he,T(Ne)?($="",q!=null&&($=q.replace(M,"$&/")+"/"),J(Ne,X,$,"",function(Ue){return Ue})):Ne!=null&&(O(Ne)&&(Ne=I(Ne,$+(!Ne.key||pe&&pe.key===Ne.key?"":(""+Ne.key).replace(M,"$&/")+"/")+q)),X.push(Ne)),1;if(pe=0,he=he===""?".":he+":",T(q))for(var Se=0;Se<q.length;Se++){Ae=q[Se];var De=he+U(Ae,Se);pe+=J(Ae,X,$,De,Ne)}else if(De=g(q),typeof De=="function")for(q=De.call(q),Se=0;!(Ae=q.next()).done;)Ae=Ae.value,De=he+U(Ae,Se++),pe+=J(Ae,X,$,De,Ne);else if(Ae==="object")throw X=String(q),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return pe}function ne(q,X,$){if(q==null)return q;var he=[],Ne=0;return J(q,he,"","",function(Ae){return X.call($,Ae,Ne++)}),he}function ce(q){if(q._status===-1){var X=q._result;X=X(),X.then(function($){(q._status===0||q._status===-1)&&(q._status=1,q._result=$)},function($){(q._status===0||q._status===-1)&&(q._status=2,q._result=$)}),q._status===-1&&(q._status=0,q._result=X)}if(q._status===1)return q._result.default;throw q._result}var se={current:null},K={transition:null},W={ReactCurrentDispatcher:se,ReactCurrentBatchConfig:K,ReactCurrentOwner:F};function B(){throw Error("act(...) is not supported in production builds of React.")}return kt.Children={map:ne,forEach:function(q,X,$){ne(q,function(){X.apply(this,arguments)},$)},count:function(q){var X=0;return ne(q,function(){X++}),X},toArray:function(q){return ne(q,function(X){return X})||[]},only:function(q){if(!O(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},kt.Component=w,kt.Fragment=n,kt.Profiler=i,kt.PureComponent=E,kt.StrictMode=r,kt.Suspense=d,kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W,kt.act=B,kt.cloneElement=function(q,X,$){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var he=_({},q.props),Ne=q.key,Ae=q.ref,pe=q._owner;if(X!=null){if(X.ref!==void 0&&(Ae=X.ref,pe=F.current),X.key!==void 0&&(Ne=""+X.key),q.type&&q.type.defaultProps)var Se=q.type.defaultProps;for(De in X)D.call(X,De)&&!P.hasOwnProperty(De)&&(he[De]=X[De]===void 0&&Se!==void 0?Se[De]:X[De])}var De=arguments.length-2;if(De===1)he.children=$;else if(1<De){Se=Array(De);for(var Ue=0;Ue<De;Ue++)Se[Ue]=arguments[Ue+2];he.children=Se}return{$$typeof:t,type:q.type,key:Ne,ref:Ae,props:he,_owner:pe}},kt.createContext=function(q){return q={$$typeof:o,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:a,_context:q},q.Consumer=q},kt.createElement=R,kt.createFactory=function(q){var X=R.bind(null,q);return X.type=q,X},kt.createRef=function(){return{current:null}},kt.forwardRef=function(q){return{$$typeof:c,render:q}},kt.isValidElement=O,kt.lazy=function(q){return{$$typeof:m,_payload:{_status:-1,_result:q},_init:ce}},kt.memo=function(q,X){return{$$typeof:h,type:q,compare:X===void 0?null:X}},kt.startTransition=function(q){var X=K.transition;K.transition={};try{q()}finally{K.transition=X}},kt.unstable_act=B,kt.useCallback=function(q,X){return se.current.useCallback(q,X)},kt.useContext=function(q){return se.current.useContext(q)},kt.useDebugValue=function(){},kt.useDeferredValue=function(q){return se.current.useDeferredValue(q)},kt.useEffect=function(q,X){return se.current.useEffect(q,X)},kt.useId=function(){return se.current.useId()},kt.useImperativeHandle=function(q,X,$){return se.current.useImperativeHandle(q,X,$)},kt.useInsertionEffect=function(q,X){return se.current.useInsertionEffect(q,X)},kt.useLayoutEffect=function(q,X){return se.current.useLayoutEffect(q,X)},kt.useMemo=function(q,X){return se.current.useMemo(q,X)},kt.useReducer=function(q,X,$){return se.current.useReducer(q,X,$)},kt.useRef=function(q){return se.current.useRef(q)},kt.useState=function(q){return se.current.useState(q)},kt.useSyncExternalStore=function(q,X,$){return se.current.useSyncExternalStore(q,X,$)},kt.useTransition=function(){return se.current.useTransition()},kt.version="18.3.1",kt}var $E;function Ix(){return $E||($E=1,hv.exports=LV()),hv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qE;function OV(){if(qE)return Mh;qE=1;var t=Ix(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(c,d,h){var m,f={},g=null,x=null;h!==void 0&&(g=""+h),d.key!==void 0&&(g=""+d.key),d.ref!==void 0&&(x=d.ref);for(m in d)r.call(d,m)&&!a.hasOwnProperty(m)&&(f[m]=d[m]);if(c&&c.defaultProps)for(m in d=c.defaultProps,d)f[m]===void 0&&(f[m]=d[m]);return{$$typeof:e,type:c,key:g,ref:x,props:f,_owner:i.current}}return Mh.Fragment=n,Mh.jsx=o,Mh.jsxs=o,Mh}var HE;function FV(){return HE||(HE=1,dv.exports=OV()),dv.exports}var s=FV(),v=Ix();const _n=Ed(v),M1=MV({__proto__:null,default:_n},[v]);var Pp={},mv={exports:{}},es={},fv={exports:{}},pv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WE;function VV(){return WE||(WE=1,(function(t){function e(K,W){var B=K.length;K.push(W);e:for(;0<B;){var q=B-1>>>1,X=K[q];if(0<i(X,W))K[q]=W,K[B]=X,B=q;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var W=K[0],B=K.pop();if(B!==W){K[0]=B;e:for(var q=0,X=K.length,$=X>>>1;q<$;){var he=2*(q+1)-1,Ne=K[he],Ae=he+1,pe=K[Ae];if(0>i(Ne,B))Ae<X&&0>i(pe,Ne)?(K[q]=pe,K[Ae]=B,q=Ae):(K[q]=Ne,K[he]=B,q=he);else if(Ae<X&&0>i(pe,B))K[q]=pe,K[Ae]=B,q=Ae;else break e}}return W}function i(K,W){var B=K.sortIndex-W.sortIndex;return B!==0?B:K.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var d=[],h=[],m=1,f=null,g=3,x=!1,_=!1,j=!1,w=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(K){for(var W=n(h);W!==null;){if(W.callback===null)r(h);else if(W.startTime<=K)r(h),W.sortIndex=W.expirationTime,e(d,W);else break;W=n(h)}}function T(K){if(j=!1,A(K),!_)if(n(d)!==null)_=!0,ce(D);else{var W=n(h);W!==null&&se(T,W.startTime-K)}}function D(K,W){_=!1,j&&(j=!1,N(R),R=-1),x=!0;var B=g;try{for(A(W),f=n(d);f!==null&&(!(f.expirationTime>W)||K&&!V());){var q=f.callback;if(typeof q=="function"){f.callback=null,g=f.priorityLevel;var X=q(f.expirationTime<=W);W=t.unstable_now(),typeof X=="function"?f.callback=X:f===n(d)&&r(d),A(W)}else r(d);f=n(d)}if(f!==null)var $=!0;else{var he=n(h);he!==null&&se(T,he.startTime-W),$=!1}return $}finally{f=null,g=B,x=!1}}var F=!1,P=null,R=-1,I=5,O=-1;function V(){return!(t.unstable_now()-O<I)}function M(){if(P!==null){var K=t.unstable_now();O=K;var W=!0;try{W=P(!0,K)}finally{W?U():(F=!1,P=null)}}else F=!1}var U;if(typeof E=="function")U=function(){E(M)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,ne=J.port2;J.port1.onmessage=M,U=function(){ne.postMessage(null)}}else U=function(){w(M,0)};function ce(K){P=K,F||(F=!0,U())}function se(K,W){R=w(function(){K(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){_||x||(_=!0,ce(D))},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(K){switch(g){case 1:case 2:case 3:var W=3;break;default:W=g}var B=g;g=W;try{return K()}finally{g=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,W){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var B=g;g=K;try{return W()}finally{g=B}},t.unstable_scheduleCallback=function(K,W,B){var q=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?q+B:q):B=q,K){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=B+X,K={id:m++,callback:W,priorityLevel:K,startTime:B,expirationTime:X,sortIndex:-1},B>q?(K.sortIndex=B,e(h,K),n(d)===null&&K===n(h)&&(j?(N(R),R=-1):j=!0,se(T,B-q))):(K.sortIndex=X,e(d,K),_||x||(_=!0,ce(D))),K},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(K){var W=g;return function(){var B=g;g=W;try{return K.apply(this,arguments)}finally{g=B}}}})(pv)),pv}var KE;function UV(){return KE||(KE=1,fv.exports=VV()),fv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GE;function zV(){if(GE)return es;GE=1;var t=Ix(),e=UV();function n(l){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+l,p=1;p<arguments.length;p++)u+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(l,u){o(l,u),o(l+"Capture",u)}function o(l,u){for(i[l]=u,l=0;l<u.length;l++)r.add(u[l])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},f={};function g(l){return d.call(f,l)?!0:d.call(m,l)?!1:h.test(l)?f[l]=!0:(m[l]=!0,!1)}function x(l,u,p,b){if(p!==null&&p.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return b?!1:p!==null?!p.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function _(l,u,p,b){if(u===null||typeof u>"u"||x(l,u,p,b))return!0;if(b)return!1;if(p!==null)switch(p.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function j(l,u,p,b,S,C,z){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=b,this.attributeNamespace=S,this.mustUseProperty=p,this.propertyName=l,this.type=u,this.sanitizeURL=C,this.removeEmptyString=z}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){w[l]=new j(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var u=l[0];w[u]=new j(u,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){w[l]=new j(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){w[l]=new j(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){w[l]=new j(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){w[l]=new j(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){w[l]=new j(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){w[l]=new j(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){w[l]=new j(l,5,!1,l.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function E(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var u=l.replace(N,E);w[u]=new j(u,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var u=l.replace(N,E);w[u]=new j(u,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var u=l.replace(N,E);w[u]=new j(u,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){w[l]=new j(l,1,!1,l.toLowerCase(),null,!1,!1)}),w.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){w[l]=new j(l,1,!1,l.toLowerCase(),null,!0,!0)});function A(l,u,p,b){var S=w.hasOwnProperty(u)?w[u]:null;(S!==null?S.type!==0:b||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(_(u,p,S,b)&&(p=null),b||S===null?g(u)&&(p===null?l.removeAttribute(u):l.setAttribute(u,""+p)):S.mustUseProperty?l[S.propertyName]=p===null?S.type===3?!1:"":p:(u=S.attributeName,b=S.attributeNamespace,p===null?l.removeAttribute(u):(S=S.type,p=S===3||S===4&&p===!0?"":""+p,b?l.setAttributeNS(b,u,p):l.setAttribute(u,p))))}var T=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),F=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),V=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),ne=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),se=Symbol.for("react.offscreen"),K=Symbol.iterator;function W(l){return l===null||typeof l!="object"?null:(l=K&&l[K]||l["@@iterator"],typeof l=="function"?l:null)}var B=Object.assign,q;function X(l){if(q===void 0)try{throw Error()}catch(p){var u=p.stack.trim().match(/\n( *(at )?)/);q=u&&u[1]||""}return`
`+q+l}var $=!1;function he(l,u){if(!l||$)return"";$=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(le){var b=le}Reflect.construct(l,[],u)}else{try{u.call()}catch(le){b=le}l.call(u.prototype)}else{try{throw Error()}catch(le){b=le}l()}}catch(le){if(le&&b&&typeof le.stack=="string"){for(var S=le.stack.split(`
`),C=b.stack.split(`
`),z=S.length-1,Q=C.length-1;1<=z&&0<=Q&&S[z]!==C[Q];)Q--;for(;1<=z&&0<=Q;z--,Q--)if(S[z]!==C[Q]){if(z!==1||Q!==1)do if(z--,Q--,0>Q||S[z]!==C[Q]){var Y=`
`+S[z].replace(" at new "," at ");return l.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",l.displayName)),Y}while(1<=z&&0<=Q);break}}}finally{$=!1,Error.prepareStackTrace=p}return(l=l?l.displayName||l.name:"")?X(l):""}function Ne(l){switch(l.tag){case 5:return X(l.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return l=he(l.type,!1),l;case 11:return l=he(l.type.render,!1),l;case 1:return l=he(l.type,!0),l;default:return""}}function Ae(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case P:return"Fragment";case F:return"Portal";case I:return"Profiler";case R:return"StrictMode";case U:return"Suspense";case J:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case V:return(l.displayName||"Context")+".Consumer";case O:return(l._context.displayName||"Context")+".Provider";case M:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case ne:return u=l.displayName||null,u!==null?u:Ae(l.type)||"Memo";case ce:u=l._payload,l=l._init;try{return Ae(l(u))}catch{}}return null}function pe(l){var u=l.type;switch(l.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=u.render,l=l.displayName||l.name||"",u.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ae(u);case 8:return u===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function Se(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function De(l){var u=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Ue(l){var u=De(l)?"checked":"value",p=Object.getOwnPropertyDescriptor(l.constructor.prototype,u),b=""+l[u];if(!l.hasOwnProperty(u)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var S=p.get,C=p.set;return Object.defineProperty(l,u,{configurable:!0,get:function(){return S.call(this)},set:function(z){b=""+z,C.call(this,z)}}),Object.defineProperty(l,u,{enumerable:p.enumerable}),{getValue:function(){return b},setValue:function(z){b=""+z},stopTracking:function(){l._valueTracker=null,delete l[u]}}}}function $e(l){l._valueTracker||(l._valueTracker=Ue(l))}function ft(l){if(!l)return!1;var u=l._valueTracker;if(!u)return!0;var p=u.getValue(),b="";return l&&(b=De(l)?l.checked?"true":"false":l.value),l=b,l!==p?(u.setValue(l),!0):!1}function Jt(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function Tn(l,u){var p=u.checked;return B({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??l._wrapperState.initialChecked})}function vr(l,u){var p=u.defaultValue==null?"":u.defaultValue,b=u.checked!=null?u.checked:u.defaultChecked;p=Se(u.value!=null?u.value:p),l._wrapperState={initialChecked:b,initialValue:p,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function Bn(l,u){u=u.checked,u!=null&&A(l,"checked",u,!1)}function Yn(l,u){Bn(l,u);var p=Se(u.value),b=u.type;if(p!=null)b==="number"?(p===0&&l.value===""||l.value!=p)&&(l.value=""+p):l.value!==""+p&&(l.value=""+p);else if(b==="submit"||b==="reset"){l.removeAttribute("value");return}u.hasOwnProperty("value")?zt(l,u.type,p):u.hasOwnProperty("defaultValue")&&zt(l,u.type,Se(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(l.defaultChecked=!!u.defaultChecked)}function ms(l,u,p){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var b=u.type;if(!(b!=="submit"&&b!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+l._wrapperState.initialValue,p||u===l.value||(l.value=u),l.defaultValue=u}p=l.name,p!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,p!==""&&(l.name=p)}function zt(l,u,p){(u!=="number"||Jt(l.ownerDocument)!==l)&&(p==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+p&&(l.defaultValue=""+p))}var Xt=Array.isArray;function Dr(l,u,p,b){if(l=l.options,u){u={};for(var S=0;S<p.length;S++)u["$"+p[S]]=!0;for(p=0;p<l.length;p++)S=u.hasOwnProperty("$"+l[p].value),l[p].selected!==S&&(l[p].selected=S),S&&b&&(l[p].defaultSelected=!0)}else{for(p=""+Se(p),u=null,S=0;S<l.length;S++){if(l[S].value===p){l[S].selected=!0,b&&(l[S].defaultSelected=!0);return}u!==null||l[S].disabled||(u=l[S])}u!==null&&(u.selected=!0)}}function ga(l,u){if(u.dangerouslySetInnerHTML!=null)throw Error(n(91));return B({},u,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function Ni(l,u){var p=u.value;if(p==null){if(p=u.children,u=u.defaultValue,p!=null){if(u!=null)throw Error(n(92));if(Xt(p)){if(1<p.length)throw Error(n(93));p=p[0]}u=p}u==null&&(u=""),p=u}l._wrapperState={initialValue:Se(p)}}function _i(l,u){var p=Se(u.value),b=Se(u.defaultValue);p!=null&&(p=""+p,p!==l.value&&(l.value=p),u.defaultValue==null&&l.defaultValue!==p&&(l.defaultValue=p)),b!=null&&(l.defaultValue=""+b)}function Ms(l){var u=l.textContent;u===l._wrapperState.initialValue&&u!==""&&u!==null&&(l.value=u)}function me(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ie(l,u){return l==null||l==="http://www.w3.org/1999/xhtml"?me(u):l==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var Ze,vt=(function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,p,b,S){MSApp.execUnsafeLocalFunction(function(){return l(u,p,b,S)})}:l})(function(l,u){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=u;else{for(Ze=Ze||document.createElement("div"),Ze.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=Ze.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;u.firstChild;)l.appendChild(u.firstChild)}});function Ct(l,u){if(u){var p=l.firstChild;if(p&&p===l.lastChild&&p.nodeType===3){p.nodeValue=u;return}}l.textContent=u}var bn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];Object.keys(bn).forEach(function(l){fe.forEach(function(u){u=u+l.charAt(0).toUpperCase()+l.substring(1),bn[u]=bn[l]})});function qe(l,u,p){return u==null||typeof u=="boolean"||u===""?"":p||typeof u!="number"||u===0||bn.hasOwnProperty(l)&&bn[l]?(""+u).trim():u+"px"}function et(l,u){l=l.style;for(var p in u)if(u.hasOwnProperty(p)){var b=p.indexOf("--")===0,S=qe(p,u[p],b);p==="float"&&(p="cssFloat"),b?l.setProperty(p,S):l[p]=S}}var tt=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gt(l,u){if(u){if(tt[l]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(n(137,l));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(n(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(n(61))}if(u.style!=null&&typeof u.style!="object")throw Error(n(62))}}function ct(l,u){if(l.indexOf("-")===-1)return typeof u.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pt=null;function wn(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Wr=null,Mr=null,nn=null;function Zs(l){if(l=bh(l)){if(typeof Wr!="function")throw Error(n(280));var u=l.stateNode;u&&(u=Gf(u),Wr(l.stateNode,l.type,u))}}function Lr(l){Mr?nn?nn.push(l):nn=[l]:Mr=l}function Or(){if(Mr){var l=Mr,u=nn;if(nn=Mr=null,Zs(l),u)for(l=0;l<u.length;l++)Zs(u[l])}}function Si(l,u){return l(u)}function Pl(){}var fs=!1;function Dl(l,u,p){if(fs)return l(u,p);fs=!0;try{return Si(l,u,p)}finally{fs=!1,(Mr!==null||nn!==null)&&(Pl(),Or())}}function Ei(l,u){var p=l.stateNode;if(p===null)return null;var b=Gf(p);if(b===null)return null;p=b[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(l=l.type,b=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!b;break e;default:l=!1}if(l)return null;if(p&&typeof p!="function")throw Error(n(231,u,typeof p));return p}var ei=!1;if(c)try{var ti={};Object.defineProperty(ti,"passive",{get:function(){ei=!0}}),window.addEventListener("test",ti,ti),window.removeEventListener("test",ti,ti)}catch{ei=!1}function ps(l,u,p,b,S,C,z,Q,Y){var le=Array.prototype.slice.call(arguments,3);try{u.apply(p,le)}catch(je){this.onError(je)}}var Kr=!1,br=null,Gr=!1,Ht=null,wr={onError:function(l){Kr=!0,br=l}};function xo(l,u,p,b,S,C,z,Q,Y){Kr=!1,br=null,ps.apply(wr,arguments)}function xa(l,u,p,b,S,C,z,Q,Y){if(xo.apply(this,arguments),Kr){if(Kr){var le=br;Kr=!1,br=null}else throw Error(n(198));Gr||(Gr=!0,Ht=le)}}function jr(l){var u=l,p=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(p=u.return),l=u.return;while(l)}return u.tag===3?p:null}function ni(l){if(l.tag===13){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function ri(l){if(jr(l)!==l)throw Error(n(188))}function bt(l){var u=l.alternate;if(!u){if(u=jr(l),u===null)throw Error(n(188));return u!==l?null:l}for(var p=l,b=u;;){var S=p.return;if(S===null)break;var C=S.alternate;if(C===null){if(b=S.return,b!==null){p=b;continue}break}if(S.child===C.child){for(C=S.child;C;){if(C===p)return ri(S),l;if(C===b)return ri(S),u;C=C.sibling}throw Error(n(188))}if(p.return!==b.return)p=S,b=C;else{for(var z=!1,Q=S.child;Q;){if(Q===p){z=!0,p=S,b=C;break}if(Q===b){z=!0,b=S,p=C;break}Q=Q.sibling}if(!z){for(Q=C.child;Q;){if(Q===p){z=!0,p=C,b=S;break}if(Q===b){z=!0,b=C,p=S;break}Q=Q.sibling}if(!z)throw Error(n(189))}}if(p.alternate!==b)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?l:u}function ut(l){return l=bt(l),l!==null?Jn(l):null}function Jn(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var u=Jn(l);if(u!==null)return u;l=l.sibling}return null}var yo=e.unstable_scheduleCallback,Kc=e.unstable_cancelCallback,Ml=e.unstable_shouldYield,ya=e.unstable_requestPaint,dn=e.unstable_now,zy=e.unstable_getCurrentPriorityLevel,Gc=e.unstable_ImmediatePriority,Jd=e.unstable_UserBlockingPriority,Ll=e.unstable_NormalPriority,Xd=e.unstable_LowPriority,Qc=e.unstable_IdlePriority,Ol=null,gs=null;function If(l){if(gs&&typeof gs.onCommitFiberRoot=="function")try{gs.onCommitFiberRoot(Ol,l,void 0,(l.current.flags&128)===128)}catch{}}var xs=Math.clz32?Math.clz32:Fl,Ci=Math.log,Ls=Math.LN2;function Fl(l){return l>>>=0,l===0?32:31-(Ci(l)/Ls|0)|0}var ki=64,vo=4194304;function Bt(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function va(l,u){var p=l.pendingLanes;if(p===0)return 0;var b=0,S=l.suspendedLanes,C=l.pingedLanes,z=p&268435455;if(z!==0){var Q=z&~S;Q!==0?b=Bt(Q):(C&=z,C!==0&&(b=Bt(C)))}else z=p&~S,z!==0?b=Bt(z):C!==0&&(b=Bt(C));if(b===0)return 0;if(u!==0&&u!==b&&(u&S)===0&&(S=b&-b,C=u&-u,S>=C||S===16&&(C&4194240)!==0))return u;if((b&4)!==0&&(b|=p&16),u=l.entangledLanes,u!==0)for(l=l.entanglements,u&=b;0<u;)p=31-xs(u),S=1<<p,b|=l[p],u&=~S;return b}function Vl(l,u){switch(l){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ul(l,u){for(var p=l.suspendedLanes,b=l.pingedLanes,S=l.expirationTimes,C=l.pendingLanes;0<C;){var z=31-xs(C),Q=1<<z,Y=S[z];Y===-1?((Q&p)===0||(Q&b)!==0)&&(S[z]=Vl(Q,u)):Y<=u&&(l.expiredLanes|=Q),C&=~Q}}function Zd(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function eh(){var l=ki;return ki<<=1,(ki&4194240)===0&&(ki=64),l}function th(l){for(var u=[],p=0;31>p;p++)u.push(l);return u}function zl(l,u,p){l.pendingLanes|=u,u!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,u=31-xs(u),l[u]=p}function By(l,u){var p=l.pendingLanes&~u;l.pendingLanes=u,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=u,l.mutableReadLanes&=u,l.entangledLanes&=u,u=l.entanglements;var b=l.eventTimes;for(l=l.expirationTimes;0<p;){var S=31-xs(p),C=1<<S;u[S]=0,b[S]=-1,l[S]=-1,p&=~C}}function nh(l,u){var p=l.entangledLanes|=u;for(l=l.entanglements;p;){var b=31-xs(p),S=1<<b;S&u|l[b]&u&&(l[b]|=u),p&=~S}}var Dt=0;function Ti(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var rh,Yc,sh,ih,ah,Ai=!1,Jc=[],Ii=null,Ri=null,ur=null,Bl=new Map,ba=new Map,ys=[],Rf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bo(l,u){switch(l){case"focusin":case"focusout":Ii=null;break;case"dragenter":case"dragleave":Ri=null;break;case"mouseover":case"mouseout":ur=null;break;case"pointerover":case"pointerout":Bl.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":ba.delete(u.pointerId)}}function si(l,u,p,b,S,C){return l===null||l.nativeEvent!==C?(l={blockedOn:u,domEventName:p,eventSystemFlags:b,nativeEvent:C,targetContainers:[S]},u!==null&&(u=bh(u),u!==null&&Yc(u)),l):(l.eventSystemFlags|=b,u=l.targetContainers,S!==null&&u.indexOf(S)===-1&&u.push(S),l)}function Pf(l,u,p,b,S){switch(u){case"focusin":return Ii=si(Ii,l,u,p,b,S),!0;case"dragenter":return Ri=si(Ri,l,u,p,b,S),!0;case"mouseover":return ur=si(ur,l,u,p,b,S),!0;case"pointerover":var C=S.pointerId;return Bl.set(C,si(Bl.get(C)||null,l,u,p,b,S)),!0;case"gotpointercapture":return C=S.pointerId,ba.set(C,si(ba.get(C)||null,l,u,p,b,S)),!0}return!1}function Xc(l){var u=Wl(l.target);if(u!==null){var p=jr(u);if(p!==null){if(u=p.tag,u===13){if(u=ni(p),u!==null){l.blockedOn=u,ah(l.priority,function(){sh(p)});return}}else if(u===3&&p.stateNode.current.memoizedState.isDehydrated){l.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}l.blockedOn=null}function rn(l){if(l.blockedOn!==null)return!1;for(var u=l.targetContainers;0<u.length;){var p=Zc(l.domEventName,l.eventSystemFlags,u[0],l.nativeEvent);if(p===null){p=l.nativeEvent;var b=new p.constructor(p.type,p);Pt=b,p.target.dispatchEvent(b),Pt=null}else return u=bh(p),u!==null&&Yc(u),l.blockedOn=p,!1;u.shift()}return!0}function Df(l,u,p){rn(l)&&p.delete(u)}function $y(){Ai=!1,Ii!==null&&rn(Ii)&&(Ii=null),Ri!==null&&rn(Ri)&&(Ri=null),ur!==null&&rn(ur)&&(ur=null),Bl.forEach(Df),ba.forEach(Df)}function wo(l,u){l.blockedOn===u&&(l.blockedOn=null,Ai||(Ai=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,$y)))}function jo(l){function u(S){return wo(S,l)}if(0<Jc.length){wo(Jc[0],l);for(var p=1;p<Jc.length;p++){var b=Jc[p];b.blockedOn===l&&(b.blockedOn=null)}}for(Ii!==null&&wo(Ii,l),Ri!==null&&wo(Ri,l),ur!==null&&wo(ur,l),Bl.forEach(u),ba.forEach(u),p=0;p<ys.length;p++)b=ys[p],b.blockedOn===l&&(b.blockedOn=null);for(;0<ys.length&&(p=ys[0],p.blockedOn===null);)Xc(p),p.blockedOn===null&&ys.shift()}var wa=T.ReactCurrentBatchConfig,ja=!0;function Pi(l,u,p,b){var S=Dt,C=wa.transition;wa.transition=null;try{Dt=1,oh(l,u,p,b)}finally{Dt=S,wa.transition=C}}function Mf(l,u,p,b){var S=Dt,C=wa.transition;wa.transition=null;try{Dt=4,oh(l,u,p,b)}finally{Dt=S,wa.transition=C}}function oh(l,u,p,b){if(ja){var S=Zc(l,u,p,b);if(S===null)e0(l,u,b,Di,p),bo(l,b);else if(Pf(S,l,u,p,b))b.stopPropagation();else if(bo(l,b),u&4&&-1<Rf.indexOf(l)){for(;S!==null;){var C=bh(S);if(C!==null&&rh(C),C=Zc(l,u,p,b),C===null&&e0(l,u,b,Di,p),C===S)break;S=C}S!==null&&b.stopPropagation()}else e0(l,u,b,null,p)}}var Di=null;function Zc(l,u,p,b){if(Di=null,l=wn(b),l=Wl(l),l!==null)if(u=jr(l),u===null)l=null;else if(p=u.tag,p===13){if(l=ni(u),l!==null)return l;l=null}else if(p===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;l=null}else u!==l&&(l=null);return Di=l,null}function eu(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zy()){case Gc:return 1;case Jd:return 4;case Ll:case Xd:return 16;case Qc:return 536870912;default:return 16}default:return 16}}var vs=null,tu=null,Na=null;function Lf(){if(Na)return Na;var l,u=tu,p=u.length,b,S="value"in vs?vs.value:vs.textContent,C=S.length;for(l=0;l<p&&u[l]===S[l];l++);var z=p-l;for(b=1;b<=z&&u[p-b]===S[C-b];b++);return Na=S.slice(l,1<b?1-b:void 0)}function $l(l){var u=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&u===13&&(l=13)):l=u,l===10&&(l=13),32<=l||l===13?l:0}function Mi(){return!0}function lh(){return!1}function Nr(l){function u(p,b,S,C,z){this._reactName=p,this._targetInst=S,this.type=b,this.nativeEvent=C,this.target=z,this.currentTarget=null;for(var Q in l)l.hasOwnProperty(Q)&&(p=l[Q],this[Q]=p?p(C):C[Q]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?Mi:lh,this.isPropagationStopped=lh,this}return B(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Mi)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Mi)},persist:function(){},isPersistent:Mi}),u}var Li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ql=Nr(Li),No=B({},Li,{view:0,detail:0}),nu=Nr(No),ru,su,bs,Hl=B({},No,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xt,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==bs&&(bs&&l.type==="mousemove"?(ru=l.screenX-bs.screenX,su=l.screenY-bs.screenY):su=ru=0,bs=l),ru)},movementY:function(l){return"movementY"in l?l.movementY:su}}),ch=Nr(Hl),Of=B({},Hl,{dataTransfer:0}),Ff=Nr(Of),iu=B({},No,{relatedTarget:0}),dr=Nr(iu),Vf=B({},Li,{animationName:0,elapsedTime:0,pseudoElement:0}),Uf=Nr(Vf),_o=B({},Li,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),y=Nr(_o),k=B({},Li,{data:0}),L=Nr(k),H={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ae={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ue={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pe(l){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(l):(l=ue[l])?!!u[l]:!1}function xt(){return Pe}var Mn=B({},No,{key:function(l){if(l.key){var u=H[l.key]||l.key;if(u!=="Unidentified")return u}return l.type==="keypress"?(l=$l(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?ae[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xt,charCode:function(l){return l.type==="keypress"?$l(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?$l(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),Zt=Nr(Mn),$n=B({},Hl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ws=Nr($n),_a=B({},No,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xt}),Oi=Nr(_a),Fi=B({},Li,{propertyName:0,elapsedTime:0,pseudoElement:0}),au=Nr(Fi),uh=B({},Hl,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),TF=Nr(uh),AF=[9,13,27,32],qy=c&&"CompositionEvent"in window,dh=null;c&&"documentMode"in document&&(dh=document.documentMode);var IF=c&&"TextEvent"in window&&!dh,P_=c&&(!qy||dh&&8<dh&&11>=dh),D_=" ",M_=!1;function L_(l,u){switch(l){case"keyup":return AF.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function O_(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var ou=!1;function RF(l,u){switch(l){case"compositionend":return O_(u);case"keypress":return u.which!==32?null:(M_=!0,D_);case"textInput":return l=u.data,l===D_&&M_?null:l;default:return null}}function PF(l,u){if(ou)return l==="compositionend"||!qy&&L_(l,u)?(l=Lf(),Na=tu=vs=null,ou=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return P_&&u.locale!=="ko"?null:u.data;default:return null}}var DF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function F_(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u==="input"?!!DF[l.type]:u==="textarea"}function V_(l,u,p,b){Lr(b),u=Hf(u,"onChange"),0<u.length&&(p=new ql("onChange","change",null,p,b),l.push({event:p,listeners:u}))}var hh=null,mh=null;function MF(l){rS(l,0)}function zf(l){var u=hu(l);if(ft(u))return l}function LF(l,u){if(l==="change")return u}var U_=!1;if(c){var Hy;if(c){var Wy="oninput"in document;if(!Wy){var z_=document.createElement("div");z_.setAttribute("oninput","return;"),Wy=typeof z_.oninput=="function"}Hy=Wy}else Hy=!1;U_=Hy&&(!document.documentMode||9<document.documentMode)}function B_(){hh&&(hh.detachEvent("onpropertychange",$_),mh=hh=null)}function $_(l){if(l.propertyName==="value"&&zf(mh)){var u=[];V_(u,mh,l,wn(l)),Dl(MF,u)}}function OF(l,u,p){l==="focusin"?(B_(),hh=u,mh=p,hh.attachEvent("onpropertychange",$_)):l==="focusout"&&B_()}function FF(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return zf(mh)}function VF(l,u){if(l==="click")return zf(u)}function UF(l,u){if(l==="input"||l==="change")return zf(u)}function zF(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var ii=typeof Object.is=="function"?Object.is:zF;function fh(l,u){if(ii(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var p=Object.keys(l),b=Object.keys(u);if(p.length!==b.length)return!1;for(b=0;b<p.length;b++){var S=p[b];if(!d.call(u,S)||!ii(l[S],u[S]))return!1}return!0}function q_(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function H_(l,u){var p=q_(l);l=0;for(var b;p;){if(p.nodeType===3){if(b=l+p.textContent.length,l<=u&&b>=u)return{node:p,offset:u-l};l=b}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=q_(p)}}function W_(l,u){return l&&u?l===u?!0:l&&l.nodeType===3?!1:u&&u.nodeType===3?W_(l,u.parentNode):"contains"in l?l.contains(u):l.compareDocumentPosition?!!(l.compareDocumentPosition(u)&16):!1:!1}function K_(){for(var l=window,u=Jt();u instanceof l.HTMLIFrameElement;){try{var p=typeof u.contentWindow.location.href=="string"}catch{p=!1}if(p)l=u.contentWindow;else break;u=Jt(l.document)}return u}function Ky(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u&&(u==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||u==="textarea"||l.contentEditable==="true")}function BF(l){var u=K_(),p=l.focusedElem,b=l.selectionRange;if(u!==p&&p&&p.ownerDocument&&W_(p.ownerDocument.documentElement,p)){if(b!==null&&Ky(p)){if(u=b.start,l=b.end,l===void 0&&(l=u),"selectionStart"in p)p.selectionStart=u,p.selectionEnd=Math.min(l,p.value.length);else if(l=(u=p.ownerDocument||document)&&u.defaultView||window,l.getSelection){l=l.getSelection();var S=p.textContent.length,C=Math.min(b.start,S);b=b.end===void 0?C:Math.min(b.end,S),!l.extend&&C>b&&(S=b,b=C,C=S),S=H_(p,C);var z=H_(p,b);S&&z&&(l.rangeCount!==1||l.anchorNode!==S.node||l.anchorOffset!==S.offset||l.focusNode!==z.node||l.focusOffset!==z.offset)&&(u=u.createRange(),u.setStart(S.node,S.offset),l.removeAllRanges(),C>b?(l.addRange(u),l.extend(z.node,z.offset)):(u.setEnd(z.node,z.offset),l.addRange(u)))}}for(u=[],l=p;l=l.parentNode;)l.nodeType===1&&u.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<u.length;p++)l=u[p],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var $F=c&&"documentMode"in document&&11>=document.documentMode,lu=null,Gy=null,ph=null,Qy=!1;function G_(l,u,p){var b=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Qy||lu==null||lu!==Jt(b)||(b=lu,"selectionStart"in b&&Ky(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),ph&&fh(ph,b)||(ph=b,b=Hf(Gy,"onSelect"),0<b.length&&(u=new ql("onSelect","select",null,u,p),l.push({event:u,listeners:b}),u.target=lu)))}function Bf(l,u){var p={};return p[l.toLowerCase()]=u.toLowerCase(),p["Webkit"+l]="webkit"+u,p["Moz"+l]="moz"+u,p}var cu={animationend:Bf("Animation","AnimationEnd"),animationiteration:Bf("Animation","AnimationIteration"),animationstart:Bf("Animation","AnimationStart"),transitionend:Bf("Transition","TransitionEnd")},Yy={},Q_={};c&&(Q_=document.createElement("div").style,"AnimationEvent"in window||(delete cu.animationend.animation,delete cu.animationiteration.animation,delete cu.animationstart.animation),"TransitionEvent"in window||delete cu.transitionend.transition);function $f(l){if(Yy[l])return Yy[l];if(!cu[l])return l;var u=cu[l],p;for(p in u)if(u.hasOwnProperty(p)&&p in Q_)return Yy[l]=u[p];return l}var Y_=$f("animationend"),J_=$f("animationiteration"),X_=$f("animationstart"),Z_=$f("transitionend"),eS=new Map,tS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function So(l,u){eS.set(l,u),a(u,[l])}for(var Jy=0;Jy<tS.length;Jy++){var Xy=tS[Jy],qF=Xy.toLowerCase(),HF=Xy[0].toUpperCase()+Xy.slice(1);So(qF,"on"+HF)}So(Y_,"onAnimationEnd"),So(J_,"onAnimationIteration"),So(X_,"onAnimationStart"),So("dblclick","onDoubleClick"),So("focusin","onFocus"),So("focusout","onBlur"),So(Z_,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WF=new Set("cancel close invalid load scroll toggle".split(" ").concat(gh));function nS(l,u,p){var b=l.type||"unknown-event";l.currentTarget=p,xa(b,u,void 0,l),l.currentTarget=null}function rS(l,u){u=(u&4)!==0;for(var p=0;p<l.length;p++){var b=l[p],S=b.event;b=b.listeners;e:{var C=void 0;if(u)for(var z=b.length-1;0<=z;z--){var Q=b[z],Y=Q.instance,le=Q.currentTarget;if(Q=Q.listener,Y!==C&&S.isPropagationStopped())break e;nS(S,Q,le),C=Y}else for(z=0;z<b.length;z++){if(Q=b[z],Y=Q.instance,le=Q.currentTarget,Q=Q.listener,Y!==C&&S.isPropagationStopped())break e;nS(S,Q,le),C=Y}}}if(Gr)throw l=Ht,Gr=!1,Ht=null,l}function hn(l,u){var p=u[a0];p===void 0&&(p=u[a0]=new Set);var b=l+"__bubble";p.has(b)||(sS(u,l,2,!1),p.add(b))}function Zy(l,u,p){var b=0;u&&(b|=4),sS(p,l,b,u)}var qf="_reactListening"+Math.random().toString(36).slice(2);function xh(l){if(!l[qf]){l[qf]=!0,r.forEach(function(p){p!=="selectionchange"&&(WF.has(p)||Zy(p,!1,l),Zy(p,!0,l))});var u=l.nodeType===9?l:l.ownerDocument;u===null||u[qf]||(u[qf]=!0,Zy("selectionchange",!1,u))}}function sS(l,u,p,b){switch(eu(u)){case 1:var S=Pi;break;case 4:S=Mf;break;default:S=oh}p=S.bind(null,u,p,l),S=void 0,!ei||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(S=!0),b?S!==void 0?l.addEventListener(u,p,{capture:!0,passive:S}):l.addEventListener(u,p,!0):S!==void 0?l.addEventListener(u,p,{passive:S}):l.addEventListener(u,p,!1)}function e0(l,u,p,b,S){var C=b;if((u&1)===0&&(u&2)===0&&b!==null)e:for(;;){if(b===null)return;var z=b.tag;if(z===3||z===4){var Q=b.stateNode.containerInfo;if(Q===S||Q.nodeType===8&&Q.parentNode===S)break;if(z===4)for(z=b.return;z!==null;){var Y=z.tag;if((Y===3||Y===4)&&(Y=z.stateNode.containerInfo,Y===S||Y.nodeType===8&&Y.parentNode===S))return;z=z.return}for(;Q!==null;){if(z=Wl(Q),z===null)return;if(Y=z.tag,Y===5||Y===6){b=C=z;continue e}Q=Q.parentNode}}b=b.return}Dl(function(){var le=C,je=wn(p),_e=[];e:{var be=eS.get(l);if(be!==void 0){var Ve=ql,He=l;switch(l){case"keypress":if($l(p)===0)break e;case"keydown":case"keyup":Ve=Zt;break;case"focusin":He="focus",Ve=dr;break;case"focusout":He="blur",Ve=dr;break;case"beforeblur":case"afterblur":Ve=dr;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ve=ch;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ve=Ff;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ve=Oi;break;case Y_:case J_:case X_:Ve=Uf;break;case Z_:Ve=au;break;case"scroll":Ve=nu;break;case"wheel":Ve=TF;break;case"copy":case"cut":case"paste":Ve=y;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ve=ws}var Ge=(u&4)!==0,Ln=!Ge&&l==="scroll",ie=Ge?be!==null?be+"Capture":null:be;Ge=[];for(var Z=le,oe;Z!==null;){oe=Z;var ke=oe.stateNode;if(oe.tag===5&&ke!==null&&(oe=ke,ie!==null&&(ke=Ei(Z,ie),ke!=null&&Ge.push(yh(Z,ke,oe)))),Ln)break;Z=Z.return}0<Ge.length&&(be=new Ve(be,He,null,p,je),_e.push({event:be,listeners:Ge}))}}if((u&7)===0){e:{if(be=l==="mouseover"||l==="pointerover",Ve=l==="mouseout"||l==="pointerout",be&&p!==Pt&&(He=p.relatedTarget||p.fromElement)&&(Wl(He)||He[Sa]))break e;if((Ve||be)&&(be=je.window===je?je:(be=je.ownerDocument)?be.defaultView||be.parentWindow:window,Ve?(He=p.relatedTarget||p.toElement,Ve=le,He=He?Wl(He):null,He!==null&&(Ln=jr(He),He!==Ln||He.tag!==5&&He.tag!==6)&&(He=null)):(Ve=null,He=le),Ve!==He)){if(Ge=ch,ke="onMouseLeave",ie="onMouseEnter",Z="mouse",(l==="pointerout"||l==="pointerover")&&(Ge=ws,ke="onPointerLeave",ie="onPointerEnter",Z="pointer"),Ln=Ve==null?be:hu(Ve),oe=He==null?be:hu(He),be=new Ge(ke,Z+"leave",Ve,p,je),be.target=Ln,be.relatedTarget=oe,ke=null,Wl(je)===le&&(Ge=new Ge(ie,Z+"enter",He,p,je),Ge.target=oe,Ge.relatedTarget=Ln,ke=Ge),Ln=ke,Ve&&He)t:{for(Ge=Ve,ie=He,Z=0,oe=Ge;oe;oe=uu(oe))Z++;for(oe=0,ke=ie;ke;ke=uu(ke))oe++;for(;0<Z-oe;)Ge=uu(Ge),Z--;for(;0<oe-Z;)ie=uu(ie),oe--;for(;Z--;){if(Ge===ie||ie!==null&&Ge===ie.alternate)break t;Ge=uu(Ge),ie=uu(ie)}Ge=null}else Ge=null;Ve!==null&&iS(_e,be,Ve,Ge,!1),He!==null&&Ln!==null&&iS(_e,Ln,He,Ge,!0)}}e:{if(be=le?hu(le):window,Ve=be.nodeName&&be.nodeName.toLowerCase(),Ve==="select"||Ve==="input"&&be.type==="file")var Qe=LF;else if(F_(be))if(U_)Qe=UF;else{Qe=FF;var rt=OF}else(Ve=be.nodeName)&&Ve.toLowerCase()==="input"&&(be.type==="checkbox"||be.type==="radio")&&(Qe=VF);if(Qe&&(Qe=Qe(l,le))){V_(_e,Qe,p,je);break e}rt&&rt(l,be,le),l==="focusout"&&(rt=be._wrapperState)&&rt.controlled&&be.type==="number"&&zt(be,"number",be.value)}switch(rt=le?hu(le):window,l){case"focusin":(F_(rt)||rt.contentEditable==="true")&&(lu=rt,Gy=le,ph=null);break;case"focusout":ph=Gy=lu=null;break;case"mousedown":Qy=!0;break;case"contextmenu":case"mouseup":case"dragend":Qy=!1,G_(_e,p,je);break;case"selectionchange":if($F)break;case"keydown":case"keyup":G_(_e,p,je)}var st;if(qy)e:{switch(l){case"compositionstart":var dt="onCompositionStart";break e;case"compositionend":dt="onCompositionEnd";break e;case"compositionupdate":dt="onCompositionUpdate";break e}dt=void 0}else ou?L_(l,p)&&(dt="onCompositionEnd"):l==="keydown"&&p.keyCode===229&&(dt="onCompositionStart");dt&&(P_&&p.locale!=="ko"&&(ou||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&ou&&(st=Lf()):(vs=je,tu="value"in vs?vs.value:vs.textContent,ou=!0)),rt=Hf(le,dt),0<rt.length&&(dt=new L(dt,l,null,p,je),_e.push({event:dt,listeners:rt}),st?dt.data=st:(st=O_(p),st!==null&&(dt.data=st)))),(st=IF?RF(l,p):PF(l,p))&&(le=Hf(le,"onBeforeInput"),0<le.length&&(je=new L("onBeforeInput","beforeinput",null,p,je),_e.push({event:je,listeners:le}),je.data=st))}rS(_e,u)})}function yh(l,u,p){return{instance:l,listener:u,currentTarget:p}}function Hf(l,u){for(var p=u+"Capture",b=[];l!==null;){var S=l,C=S.stateNode;S.tag===5&&C!==null&&(S=C,C=Ei(l,p),C!=null&&b.unshift(yh(l,C,S)),C=Ei(l,u),C!=null&&b.push(yh(l,C,S))),l=l.return}return b}function uu(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function iS(l,u,p,b,S){for(var C=u._reactName,z=[];p!==null&&p!==b;){var Q=p,Y=Q.alternate,le=Q.stateNode;if(Y!==null&&Y===b)break;Q.tag===5&&le!==null&&(Q=le,S?(Y=Ei(p,C),Y!=null&&z.unshift(yh(p,Y,Q))):S||(Y=Ei(p,C),Y!=null&&z.push(yh(p,Y,Q)))),p=p.return}z.length!==0&&l.push({event:u,listeners:z})}var KF=/\r\n?/g,GF=/\u0000|\uFFFD/g;function aS(l){return(typeof l=="string"?l:""+l).replace(KF,`
`).replace(GF,"")}function Wf(l,u,p){if(u=aS(u),aS(l)!==u&&p)throw Error(n(425))}function Kf(){}var t0=null,n0=null;function r0(l,u){return l==="textarea"||l==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var s0=typeof setTimeout=="function"?setTimeout:void 0,QF=typeof clearTimeout=="function"?clearTimeout:void 0,oS=typeof Promise=="function"?Promise:void 0,YF=typeof queueMicrotask=="function"?queueMicrotask:typeof oS<"u"?function(l){return oS.resolve(null).then(l).catch(JF)}:s0;function JF(l){setTimeout(function(){throw l})}function i0(l,u){var p=u,b=0;do{var S=p.nextSibling;if(l.removeChild(p),S&&S.nodeType===8)if(p=S.data,p==="/$"){if(b===0){l.removeChild(S),jo(u);return}b--}else p!=="$"&&p!=="$?"&&p!=="$!"||b++;p=S}while(p);jo(u)}function Eo(l){for(;l!=null;l=l.nextSibling){var u=l.nodeType;if(u===1||u===3)break;if(u===8){if(u=l.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return l}function lS(l){l=l.previousSibling;for(var u=0;l;){if(l.nodeType===8){var p=l.data;if(p==="$"||p==="$!"||p==="$?"){if(u===0)return l;u--}else p==="/$"&&u++}l=l.previousSibling}return null}var du=Math.random().toString(36).slice(2),Vi="__reactFiber$"+du,vh="__reactProps$"+du,Sa="__reactContainer$"+du,a0="__reactEvents$"+du,XF="__reactListeners$"+du,ZF="__reactHandles$"+du;function Wl(l){var u=l[Vi];if(u)return u;for(var p=l.parentNode;p;){if(u=p[Sa]||p[Vi]){if(p=u.alternate,u.child!==null||p!==null&&p.child!==null)for(l=lS(l);l!==null;){if(p=l[Vi])return p;l=lS(l)}return u}l=p,p=l.parentNode}return null}function bh(l){return l=l[Vi]||l[Sa],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function hu(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(n(33))}function Gf(l){return l[vh]||null}var o0=[],mu=-1;function Co(l){return{current:l}}function mn(l){0>mu||(l.current=o0[mu],o0[mu]=null,mu--)}function an(l,u){mu++,o0[mu]=l.current,l.current=u}var ko={},_r=Co(ko),Qr=Co(!1),Kl=ko;function fu(l,u){var p=l.type.contextTypes;if(!p)return ko;var b=l.stateNode;if(b&&b.__reactInternalMemoizedUnmaskedChildContext===u)return b.__reactInternalMemoizedMaskedChildContext;var S={},C;for(C in p)S[C]=u[C];return b&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=u,l.__reactInternalMemoizedMaskedChildContext=S),S}function Yr(l){return l=l.childContextTypes,l!=null}function Qf(){mn(Qr),mn(_r)}function cS(l,u,p){if(_r.current!==ko)throw Error(n(168));an(_r,u),an(Qr,p)}function uS(l,u,p){var b=l.stateNode;if(u=u.childContextTypes,typeof b.getChildContext!="function")return p;b=b.getChildContext();for(var S in b)if(!(S in u))throw Error(n(108,pe(l)||"Unknown",S));return B({},p,b)}function Yf(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||ko,Kl=_r.current,an(_r,l),an(Qr,Qr.current),!0}function dS(l,u,p){var b=l.stateNode;if(!b)throw Error(n(169));p?(l=uS(l,u,Kl),b.__reactInternalMemoizedMergedChildContext=l,mn(Qr),mn(_r),an(_r,l)):mn(Qr),an(Qr,p)}var Ea=null,Jf=!1,l0=!1;function hS(l){Ea===null?Ea=[l]:Ea.push(l)}function eV(l){Jf=!0,hS(l)}function To(){if(!l0&&Ea!==null){l0=!0;var l=0,u=Dt;try{var p=Ea;for(Dt=1;l<p.length;l++){var b=p[l];do b=b(!0);while(b!==null)}Ea=null,Jf=!1}catch(S){throw Ea!==null&&(Ea=Ea.slice(l+1)),yo(Gc,To),S}finally{Dt=u,l0=!1}}return null}var pu=[],gu=0,Xf=null,Zf=0,Os=[],Fs=0,Gl=null,Ca=1,ka="";function Ql(l,u){pu[gu++]=Zf,pu[gu++]=Xf,Xf=l,Zf=u}function mS(l,u,p){Os[Fs++]=Ca,Os[Fs++]=ka,Os[Fs++]=Gl,Gl=l;var b=Ca;l=ka;var S=32-xs(b)-1;b&=~(1<<S),p+=1;var C=32-xs(u)+S;if(30<C){var z=S-S%5;C=(b&(1<<z)-1).toString(32),b>>=z,S-=z,Ca=1<<32-xs(u)+S|p<<S|b,ka=C+l}else Ca=1<<C|p<<S|b,ka=l}function c0(l){l.return!==null&&(Ql(l,1),mS(l,1,0))}function u0(l){for(;l===Xf;)Xf=pu[--gu],pu[gu]=null,Zf=pu[--gu],pu[gu]=null;for(;l===Gl;)Gl=Os[--Fs],Os[Fs]=null,ka=Os[--Fs],Os[Fs]=null,Ca=Os[--Fs],Os[Fs]=null}var js=null,Ns=null,xn=!1,ai=null;function fS(l,u){var p=Bs(5,null,null,0);p.elementType="DELETED",p.stateNode=u,p.return=l,u=l.deletions,u===null?(l.deletions=[p],l.flags|=16):u.push(p)}function pS(l,u){switch(l.tag){case 5:var p=l.type;return u=u.nodeType!==1||p.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(l.stateNode=u,js=l,Ns=Eo(u.firstChild),!0):!1;case 6:return u=l.pendingProps===""||u.nodeType!==3?null:u,u!==null?(l.stateNode=u,js=l,Ns=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(p=Gl!==null?{id:Ca,overflow:ka}:null,l.memoizedState={dehydrated:u,treeContext:p,retryLane:1073741824},p=Bs(18,null,null,0),p.stateNode=u,p.return=l,l.child=p,js=l,Ns=null,!0):!1;default:return!1}}function d0(l){return(l.mode&1)!==0&&(l.flags&128)===0}function h0(l){if(xn){var u=Ns;if(u){var p=u;if(!pS(l,u)){if(d0(l))throw Error(n(418));u=Eo(p.nextSibling);var b=js;u&&pS(l,u)?fS(b,p):(l.flags=l.flags&-4097|2,xn=!1,js=l)}}else{if(d0(l))throw Error(n(418));l.flags=l.flags&-4097|2,xn=!1,js=l}}}function gS(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;js=l}function ep(l){if(l!==js)return!1;if(!xn)return gS(l),xn=!0,!1;var u;if((u=l.tag!==3)&&!(u=l.tag!==5)&&(u=l.type,u=u!=="head"&&u!=="body"&&!r0(l.type,l.memoizedProps)),u&&(u=Ns)){if(d0(l))throw xS(),Error(n(418));for(;u;)fS(l,u),u=Eo(u.nextSibling)}if(gS(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));e:{for(l=l.nextSibling,u=0;l;){if(l.nodeType===8){var p=l.data;if(p==="/$"){if(u===0){Ns=Eo(l.nextSibling);break e}u--}else p!=="$"&&p!=="$!"&&p!=="$?"||u++}l=l.nextSibling}Ns=null}}else Ns=js?Eo(l.stateNode.nextSibling):null;return!0}function xS(){for(var l=Ns;l;)l=Eo(l.nextSibling)}function xu(){Ns=js=null,xn=!1}function m0(l){ai===null?ai=[l]:ai.push(l)}var tV=T.ReactCurrentBatchConfig;function wh(l,u,p){if(l=p.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(n(309));var b=p.stateNode}if(!b)throw Error(n(147,l));var S=b,C=""+l;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===C?u.ref:(u=function(z){var Q=S.refs;z===null?delete Q[C]:Q[C]=z},u._stringRef=C,u)}if(typeof l!="string")throw Error(n(284));if(!p._owner)throw Error(n(290,l))}return l}function tp(l,u){throw l=Object.prototype.toString.call(u),Error(n(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l))}function yS(l){var u=l._init;return u(l._payload)}function vS(l){function u(ie,Z){if(l){var oe=ie.deletions;oe===null?(ie.deletions=[Z],ie.flags|=16):oe.push(Z)}}function p(ie,Z){if(!l)return null;for(;Z!==null;)u(ie,Z),Z=Z.sibling;return null}function b(ie,Z){for(ie=new Map;Z!==null;)Z.key!==null?ie.set(Z.key,Z):ie.set(Z.index,Z),Z=Z.sibling;return ie}function S(ie,Z){return ie=Oo(ie,Z),ie.index=0,ie.sibling=null,ie}function C(ie,Z,oe){return ie.index=oe,l?(oe=ie.alternate,oe!==null?(oe=oe.index,oe<Z?(ie.flags|=2,Z):oe):(ie.flags|=2,Z)):(ie.flags|=1048576,Z)}function z(ie){return l&&ie.alternate===null&&(ie.flags|=2),ie}function Q(ie,Z,oe,ke){return Z===null||Z.tag!==6?(Z=sv(oe,ie.mode,ke),Z.return=ie,Z):(Z=S(Z,oe),Z.return=ie,Z)}function Y(ie,Z,oe,ke){var Qe=oe.type;return Qe===P?je(ie,Z,oe.props.children,ke,oe.key):Z!==null&&(Z.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===ce&&yS(Qe)===Z.type)?(ke=S(Z,oe.props),ke.ref=wh(ie,Z,oe),ke.return=ie,ke):(ke=Sp(oe.type,oe.key,oe.props,null,ie.mode,ke),ke.ref=wh(ie,Z,oe),ke.return=ie,ke)}function le(ie,Z,oe,ke){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==oe.containerInfo||Z.stateNode.implementation!==oe.implementation?(Z=iv(oe,ie.mode,ke),Z.return=ie,Z):(Z=S(Z,oe.children||[]),Z.return=ie,Z)}function je(ie,Z,oe,ke,Qe){return Z===null||Z.tag!==7?(Z=rc(oe,ie.mode,ke,Qe),Z.return=ie,Z):(Z=S(Z,oe),Z.return=ie,Z)}function _e(ie,Z,oe){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return Z=sv(""+Z,ie.mode,oe),Z.return=ie,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case D:return oe=Sp(Z.type,Z.key,Z.props,null,ie.mode,oe),oe.ref=wh(ie,null,Z),oe.return=ie,oe;case F:return Z=iv(Z,ie.mode,oe),Z.return=ie,Z;case ce:var ke=Z._init;return _e(ie,ke(Z._payload),oe)}if(Xt(Z)||W(Z))return Z=rc(Z,ie.mode,oe,null),Z.return=ie,Z;tp(ie,Z)}return null}function be(ie,Z,oe,ke){var Qe=Z!==null?Z.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number")return Qe!==null?null:Q(ie,Z,""+oe,ke);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case D:return oe.key===Qe?Y(ie,Z,oe,ke):null;case F:return oe.key===Qe?le(ie,Z,oe,ke):null;case ce:return Qe=oe._init,be(ie,Z,Qe(oe._payload),ke)}if(Xt(oe)||W(oe))return Qe!==null?null:je(ie,Z,oe,ke,null);tp(ie,oe)}return null}function Ve(ie,Z,oe,ke,Qe){if(typeof ke=="string"&&ke!==""||typeof ke=="number")return ie=ie.get(oe)||null,Q(Z,ie,""+ke,Qe);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case D:return ie=ie.get(ke.key===null?oe:ke.key)||null,Y(Z,ie,ke,Qe);case F:return ie=ie.get(ke.key===null?oe:ke.key)||null,le(Z,ie,ke,Qe);case ce:var rt=ke._init;return Ve(ie,Z,oe,rt(ke._payload),Qe)}if(Xt(ke)||W(ke))return ie=ie.get(oe)||null,je(Z,ie,ke,Qe,null);tp(Z,ke)}return null}function He(ie,Z,oe,ke){for(var Qe=null,rt=null,st=Z,dt=Z=0,ar=null;st!==null&&dt<oe.length;dt++){st.index>dt?(ar=st,st=null):ar=st.sibling;var Ft=be(ie,st,oe[dt],ke);if(Ft===null){st===null&&(st=ar);break}l&&st&&Ft.alternate===null&&u(ie,st),Z=C(Ft,Z,dt),rt===null?Qe=Ft:rt.sibling=Ft,rt=Ft,st=ar}if(dt===oe.length)return p(ie,st),xn&&Ql(ie,dt),Qe;if(st===null){for(;dt<oe.length;dt++)st=_e(ie,oe[dt],ke),st!==null&&(Z=C(st,Z,dt),rt===null?Qe=st:rt.sibling=st,rt=st);return xn&&Ql(ie,dt),Qe}for(st=b(ie,st);dt<oe.length;dt++)ar=Ve(st,ie,dt,oe[dt],ke),ar!==null&&(l&&ar.alternate!==null&&st.delete(ar.key===null?dt:ar.key),Z=C(ar,Z,dt),rt===null?Qe=ar:rt.sibling=ar,rt=ar);return l&&st.forEach(function(Fo){return u(ie,Fo)}),xn&&Ql(ie,dt),Qe}function Ge(ie,Z,oe,ke){var Qe=W(oe);if(typeof Qe!="function")throw Error(n(150));if(oe=Qe.call(oe),oe==null)throw Error(n(151));for(var rt=Qe=null,st=Z,dt=Z=0,ar=null,Ft=oe.next();st!==null&&!Ft.done;dt++,Ft=oe.next()){st.index>dt?(ar=st,st=null):ar=st.sibling;var Fo=be(ie,st,Ft.value,ke);if(Fo===null){st===null&&(st=ar);break}l&&st&&Fo.alternate===null&&u(ie,st),Z=C(Fo,Z,dt),rt===null?Qe=Fo:rt.sibling=Fo,rt=Fo,st=ar}if(Ft.done)return p(ie,st),xn&&Ql(ie,dt),Qe;if(st===null){for(;!Ft.done;dt++,Ft=oe.next())Ft=_e(ie,Ft.value,ke),Ft!==null&&(Z=C(Ft,Z,dt),rt===null?Qe=Ft:rt.sibling=Ft,rt=Ft);return xn&&Ql(ie,dt),Qe}for(st=b(ie,st);!Ft.done;dt++,Ft=oe.next())Ft=Ve(st,ie,dt,Ft.value,ke),Ft!==null&&(l&&Ft.alternate!==null&&st.delete(Ft.key===null?dt:Ft.key),Z=C(Ft,Z,dt),rt===null?Qe=Ft:rt.sibling=Ft,rt=Ft);return l&&st.forEach(function(DV){return u(ie,DV)}),xn&&Ql(ie,dt),Qe}function Ln(ie,Z,oe,ke){if(typeof oe=="object"&&oe!==null&&oe.type===P&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case D:e:{for(var Qe=oe.key,rt=Z;rt!==null;){if(rt.key===Qe){if(Qe=oe.type,Qe===P){if(rt.tag===7){p(ie,rt.sibling),Z=S(rt,oe.props.children),Z.return=ie,ie=Z;break e}}else if(rt.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===ce&&yS(Qe)===rt.type){p(ie,rt.sibling),Z=S(rt,oe.props),Z.ref=wh(ie,rt,oe),Z.return=ie,ie=Z;break e}p(ie,rt);break}else u(ie,rt);rt=rt.sibling}oe.type===P?(Z=rc(oe.props.children,ie.mode,ke,oe.key),Z.return=ie,ie=Z):(ke=Sp(oe.type,oe.key,oe.props,null,ie.mode,ke),ke.ref=wh(ie,Z,oe),ke.return=ie,ie=ke)}return z(ie);case F:e:{for(rt=oe.key;Z!==null;){if(Z.key===rt)if(Z.tag===4&&Z.stateNode.containerInfo===oe.containerInfo&&Z.stateNode.implementation===oe.implementation){p(ie,Z.sibling),Z=S(Z,oe.children||[]),Z.return=ie,ie=Z;break e}else{p(ie,Z);break}else u(ie,Z);Z=Z.sibling}Z=iv(oe,ie.mode,ke),Z.return=ie,ie=Z}return z(ie);case ce:return rt=oe._init,Ln(ie,Z,rt(oe._payload),ke)}if(Xt(oe))return He(ie,Z,oe,ke);if(W(oe))return Ge(ie,Z,oe,ke);tp(ie,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"?(oe=""+oe,Z!==null&&Z.tag===6?(p(ie,Z.sibling),Z=S(Z,oe),Z.return=ie,ie=Z):(p(ie,Z),Z=sv(oe,ie.mode,ke),Z.return=ie,ie=Z),z(ie)):p(ie,Z)}return Ln}var yu=vS(!0),bS=vS(!1),np=Co(null),rp=null,vu=null,f0=null;function p0(){f0=vu=rp=null}function g0(l){var u=np.current;mn(np),l._currentValue=u}function x0(l,u,p){for(;l!==null;){var b=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,b!==null&&(b.childLanes|=u)):b!==null&&(b.childLanes&u)!==u&&(b.childLanes|=u),l===p)break;l=l.return}}function bu(l,u){rp=l,f0=vu=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&u)!==0&&(Jr=!0),l.firstContext=null)}function Vs(l){var u=l._currentValue;if(f0!==l)if(l={context:l,memoizedValue:u,next:null},vu===null){if(rp===null)throw Error(n(308));vu=l,rp.dependencies={lanes:0,firstContext:l}}else vu=vu.next=l;return u}var Yl=null;function y0(l){Yl===null?Yl=[l]:Yl.push(l)}function wS(l,u,p,b){var S=u.interleaved;return S===null?(p.next=p,y0(u)):(p.next=S.next,S.next=p),u.interleaved=p,Ta(l,b)}function Ta(l,u){l.lanes|=u;var p=l.alternate;for(p!==null&&(p.lanes|=u),p=l,l=l.return;l!==null;)l.childLanes|=u,p=l.alternate,p!==null&&(p.childLanes|=u),p=l,l=l.return;return p.tag===3?p.stateNode:null}var Ao=!1;function v0(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jS(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function Aa(l,u){return{eventTime:l,lane:u,tag:0,payload:null,callback:null,next:null}}function Io(l,u,p){var b=l.updateQueue;if(b===null)return null;if(b=b.shared,(Ot&2)!==0){var S=b.pending;return S===null?u.next=u:(u.next=S.next,S.next=u),b.pending=u,Ta(l,p)}return S=b.interleaved,S===null?(u.next=u,y0(b)):(u.next=S.next,S.next=u),b.interleaved=u,Ta(l,p)}function sp(l,u,p){if(u=u.updateQueue,u!==null&&(u=u.shared,(p&4194240)!==0)){var b=u.lanes;b&=l.pendingLanes,p|=b,u.lanes=p,nh(l,p)}}function NS(l,u){var p=l.updateQueue,b=l.alternate;if(b!==null&&(b=b.updateQueue,p===b)){var S=null,C=null;if(p=p.firstBaseUpdate,p!==null){do{var z={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};C===null?S=C=z:C=C.next=z,p=p.next}while(p!==null);C===null?S=C=u:C=C.next=u}else S=C=u;p={baseState:b.baseState,firstBaseUpdate:S,lastBaseUpdate:C,shared:b.shared,effects:b.effects},l.updateQueue=p;return}l=p.lastBaseUpdate,l===null?p.firstBaseUpdate=u:l.next=u,p.lastBaseUpdate=u}function ip(l,u,p,b){var S=l.updateQueue;Ao=!1;var C=S.firstBaseUpdate,z=S.lastBaseUpdate,Q=S.shared.pending;if(Q!==null){S.shared.pending=null;var Y=Q,le=Y.next;Y.next=null,z===null?C=le:z.next=le,z=Y;var je=l.alternate;je!==null&&(je=je.updateQueue,Q=je.lastBaseUpdate,Q!==z&&(Q===null?je.firstBaseUpdate=le:Q.next=le,je.lastBaseUpdate=Y))}if(C!==null){var _e=S.baseState;z=0,je=le=Y=null,Q=C;do{var be=Q.lane,Ve=Q.eventTime;if((b&be)===be){je!==null&&(je=je.next={eventTime:Ve,lane:0,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null});e:{var He=l,Ge=Q;switch(be=u,Ve=p,Ge.tag){case 1:if(He=Ge.payload,typeof He=="function"){_e=He.call(Ve,_e,be);break e}_e=He;break e;case 3:He.flags=He.flags&-65537|128;case 0:if(He=Ge.payload,be=typeof He=="function"?He.call(Ve,_e,be):He,be==null)break e;_e=B({},_e,be);break e;case 2:Ao=!0}}Q.callback!==null&&Q.lane!==0&&(l.flags|=64,be=S.effects,be===null?S.effects=[Q]:be.push(Q))}else Ve={eventTime:Ve,lane:be,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},je===null?(le=je=Ve,Y=_e):je=je.next=Ve,z|=be;if(Q=Q.next,Q===null){if(Q=S.shared.pending,Q===null)break;be=Q,Q=be.next,be.next=null,S.lastBaseUpdate=be,S.shared.pending=null}}while(!0);if(je===null&&(Y=_e),S.baseState=Y,S.firstBaseUpdate=le,S.lastBaseUpdate=je,u=S.shared.interleaved,u!==null){S=u;do z|=S.lane,S=S.next;while(S!==u)}else C===null&&(S.shared.lanes=0);Zl|=z,l.lanes=z,l.memoizedState=_e}}function _S(l,u,p){if(l=u.effects,u.effects=null,l!==null)for(u=0;u<l.length;u++){var b=l[u],S=b.callback;if(S!==null){if(b.callback=null,b=p,typeof S!="function")throw Error(n(191,S));S.call(b)}}}var jh={},Ui=Co(jh),Nh=Co(jh),_h=Co(jh);function Jl(l){if(l===jh)throw Error(n(174));return l}function b0(l,u){switch(an(_h,u),an(Nh,l),an(Ui,jh),l=u.nodeType,l){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:Ie(null,"");break;default:l=l===8?u.parentNode:u,u=l.namespaceURI||null,l=l.tagName,u=Ie(u,l)}mn(Ui),an(Ui,u)}function wu(){mn(Ui),mn(Nh),mn(_h)}function SS(l){Jl(_h.current);var u=Jl(Ui.current),p=Ie(u,l.type);u!==p&&(an(Nh,l),an(Ui,p))}function w0(l){Nh.current===l&&(mn(Ui),mn(Nh))}var jn=Co(0);function ap(l){for(var u=l;u!==null;){if(u.tag===13){var p=u.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var j0=[];function N0(){for(var l=0;l<j0.length;l++)j0[l]._workInProgressVersionPrimary=null;j0.length=0}var op=T.ReactCurrentDispatcher,_0=T.ReactCurrentBatchConfig,Xl=0,Nn=null,Xn=null,sr=null,lp=!1,Sh=!1,Eh=0,nV=0;function Sr(){throw Error(n(321))}function S0(l,u){if(u===null)return!1;for(var p=0;p<u.length&&p<l.length;p++)if(!ii(l[p],u[p]))return!1;return!0}function E0(l,u,p,b,S,C){if(Xl=C,Nn=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,op.current=l===null||l.memoizedState===null?aV:oV,l=p(b,S),Sh){C=0;do{if(Sh=!1,Eh=0,25<=C)throw Error(n(301));C+=1,sr=Xn=null,u.updateQueue=null,op.current=lV,l=p(b,S)}while(Sh)}if(op.current=dp,u=Xn!==null&&Xn.next!==null,Xl=0,sr=Xn=Nn=null,lp=!1,u)throw Error(n(300));return l}function C0(){var l=Eh!==0;return Eh=0,l}function zi(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sr===null?Nn.memoizedState=sr=l:sr=sr.next=l,sr}function Us(){if(Xn===null){var l=Nn.alternate;l=l!==null?l.memoizedState:null}else l=Xn.next;var u=sr===null?Nn.memoizedState:sr.next;if(u!==null)sr=u,Xn=l;else{if(l===null)throw Error(n(310));Xn=l,l={memoizedState:Xn.memoizedState,baseState:Xn.baseState,baseQueue:Xn.baseQueue,queue:Xn.queue,next:null},sr===null?Nn.memoizedState=sr=l:sr=sr.next=l}return sr}function Ch(l,u){return typeof u=="function"?u(l):u}function k0(l){var u=Us(),p=u.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=l;var b=Xn,S=b.baseQueue,C=p.pending;if(C!==null){if(S!==null){var z=S.next;S.next=C.next,C.next=z}b.baseQueue=S=C,p.pending=null}if(S!==null){C=S.next,b=b.baseState;var Q=z=null,Y=null,le=C;do{var je=le.lane;if((Xl&je)===je)Y!==null&&(Y=Y.next={lane:0,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),b=le.hasEagerState?le.eagerState:l(b,le.action);else{var _e={lane:je,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null};Y===null?(Q=Y=_e,z=b):Y=Y.next=_e,Nn.lanes|=je,Zl|=je}le=le.next}while(le!==null&&le!==C);Y===null?z=b:Y.next=Q,ii(b,u.memoizedState)||(Jr=!0),u.memoizedState=b,u.baseState=z,u.baseQueue=Y,p.lastRenderedState=b}if(l=p.interleaved,l!==null){S=l;do C=S.lane,Nn.lanes|=C,Zl|=C,S=S.next;while(S!==l)}else S===null&&(p.lanes=0);return[u.memoizedState,p.dispatch]}function T0(l){var u=Us(),p=u.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=l;var b=p.dispatch,S=p.pending,C=u.memoizedState;if(S!==null){p.pending=null;var z=S=S.next;do C=l(C,z.action),z=z.next;while(z!==S);ii(C,u.memoizedState)||(Jr=!0),u.memoizedState=C,u.baseQueue===null&&(u.baseState=C),p.lastRenderedState=C}return[C,b]}function ES(){}function CS(l,u){var p=Nn,b=Us(),S=u(),C=!ii(b.memoizedState,S);if(C&&(b.memoizedState=S,Jr=!0),b=b.queue,A0(AS.bind(null,p,b,l),[l]),b.getSnapshot!==u||C||sr!==null&&sr.memoizedState.tag&1){if(p.flags|=2048,kh(9,TS.bind(null,p,b,S,u),void 0,null),ir===null)throw Error(n(349));(Xl&30)!==0||kS(p,u,S)}return S}function kS(l,u,p){l.flags|=16384,l={getSnapshot:u,value:p},u=Nn.updateQueue,u===null?(u={lastEffect:null,stores:null},Nn.updateQueue=u,u.stores=[l]):(p=u.stores,p===null?u.stores=[l]:p.push(l))}function TS(l,u,p,b){u.value=p,u.getSnapshot=b,IS(u)&&RS(l)}function AS(l,u,p){return p(function(){IS(u)&&RS(l)})}function IS(l){var u=l.getSnapshot;l=l.value;try{var p=u();return!ii(l,p)}catch{return!0}}function RS(l){var u=Ta(l,1);u!==null&&ui(u,l,1,-1)}function PS(l){var u=zi();return typeof l=="function"&&(l=l()),u.memoizedState=u.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ch,lastRenderedState:l},u.queue=l,l=l.dispatch=iV.bind(null,Nn,l),[u.memoizedState,l]}function kh(l,u,p,b){return l={tag:l,create:u,destroy:p,deps:b,next:null},u=Nn.updateQueue,u===null?(u={lastEffect:null,stores:null},Nn.updateQueue=u,u.lastEffect=l.next=l):(p=u.lastEffect,p===null?u.lastEffect=l.next=l:(b=p.next,p.next=l,l.next=b,u.lastEffect=l)),l}function DS(){return Us().memoizedState}function cp(l,u,p,b){var S=zi();Nn.flags|=l,S.memoizedState=kh(1|u,p,void 0,b===void 0?null:b)}function up(l,u,p,b){var S=Us();b=b===void 0?null:b;var C=void 0;if(Xn!==null){var z=Xn.memoizedState;if(C=z.destroy,b!==null&&S0(b,z.deps)){S.memoizedState=kh(u,p,C,b);return}}Nn.flags|=l,S.memoizedState=kh(1|u,p,C,b)}function MS(l,u){return cp(8390656,8,l,u)}function A0(l,u){return up(2048,8,l,u)}function LS(l,u){return up(4,2,l,u)}function OS(l,u){return up(4,4,l,u)}function FS(l,u){if(typeof u=="function")return l=l(),u(l),function(){u(null)};if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function VS(l,u,p){return p=p!=null?p.concat([l]):null,up(4,4,FS.bind(null,u,l),p)}function I0(){}function US(l,u){var p=Us();u=u===void 0?null:u;var b=p.memoizedState;return b!==null&&u!==null&&S0(u,b[1])?b[0]:(p.memoizedState=[l,u],l)}function zS(l,u){var p=Us();u=u===void 0?null:u;var b=p.memoizedState;return b!==null&&u!==null&&S0(u,b[1])?b[0]:(l=l(),p.memoizedState=[l,u],l)}function BS(l,u,p){return(Xl&21)===0?(l.baseState&&(l.baseState=!1,Jr=!0),l.memoizedState=p):(ii(p,u)||(p=eh(),Nn.lanes|=p,Zl|=p,l.baseState=!0),u)}function rV(l,u){var p=Dt;Dt=p!==0&&4>p?p:4,l(!0);var b=_0.transition;_0.transition={};try{l(!1),u()}finally{Dt=p,_0.transition=b}}function $S(){return Us().memoizedState}function sV(l,u,p){var b=Mo(l);if(p={lane:b,action:p,hasEagerState:!1,eagerState:null,next:null},qS(l))HS(u,p);else if(p=wS(l,u,p,b),p!==null){var S=Vr();ui(p,l,b,S),WS(p,u,b)}}function iV(l,u,p){var b=Mo(l),S={lane:b,action:p,hasEagerState:!1,eagerState:null,next:null};if(qS(l))HS(u,S);else{var C=l.alternate;if(l.lanes===0&&(C===null||C.lanes===0)&&(C=u.lastRenderedReducer,C!==null))try{var z=u.lastRenderedState,Q=C(z,p);if(S.hasEagerState=!0,S.eagerState=Q,ii(Q,z)){var Y=u.interleaved;Y===null?(S.next=S,y0(u)):(S.next=Y.next,Y.next=S),u.interleaved=S;return}}catch{}finally{}p=wS(l,u,S,b),p!==null&&(S=Vr(),ui(p,l,b,S),WS(p,u,b))}}function qS(l){var u=l.alternate;return l===Nn||u!==null&&u===Nn}function HS(l,u){Sh=lp=!0;var p=l.pending;p===null?u.next=u:(u.next=p.next,p.next=u),l.pending=u}function WS(l,u,p){if((p&4194240)!==0){var b=u.lanes;b&=l.pendingLanes,p|=b,u.lanes=p,nh(l,p)}}var dp={readContext:Vs,useCallback:Sr,useContext:Sr,useEffect:Sr,useImperativeHandle:Sr,useInsertionEffect:Sr,useLayoutEffect:Sr,useMemo:Sr,useReducer:Sr,useRef:Sr,useState:Sr,useDebugValue:Sr,useDeferredValue:Sr,useTransition:Sr,useMutableSource:Sr,useSyncExternalStore:Sr,useId:Sr,unstable_isNewReconciler:!1},aV={readContext:Vs,useCallback:function(l,u){return zi().memoizedState=[l,u===void 0?null:u],l},useContext:Vs,useEffect:MS,useImperativeHandle:function(l,u,p){return p=p!=null?p.concat([l]):null,cp(4194308,4,FS.bind(null,u,l),p)},useLayoutEffect:function(l,u){return cp(4194308,4,l,u)},useInsertionEffect:function(l,u){return cp(4,2,l,u)},useMemo:function(l,u){var p=zi();return u=u===void 0?null:u,l=l(),p.memoizedState=[l,u],l},useReducer:function(l,u,p){var b=zi();return u=p!==void 0?p(u):u,b.memoizedState=b.baseState=u,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:u},b.queue=l,l=l.dispatch=sV.bind(null,Nn,l),[b.memoizedState,l]},useRef:function(l){var u=zi();return l={current:l},u.memoizedState=l},useState:PS,useDebugValue:I0,useDeferredValue:function(l){return zi().memoizedState=l},useTransition:function(){var l=PS(!1),u=l[0];return l=rV.bind(null,l[1]),zi().memoizedState=l,[u,l]},useMutableSource:function(){},useSyncExternalStore:function(l,u,p){var b=Nn,S=zi();if(xn){if(p===void 0)throw Error(n(407));p=p()}else{if(p=u(),ir===null)throw Error(n(349));(Xl&30)!==0||kS(b,u,p)}S.memoizedState=p;var C={value:p,getSnapshot:u};return S.queue=C,MS(AS.bind(null,b,C,l),[l]),b.flags|=2048,kh(9,TS.bind(null,b,C,p,u),void 0,null),p},useId:function(){var l=zi(),u=ir.identifierPrefix;if(xn){var p=ka,b=Ca;p=(b&~(1<<32-xs(b)-1)).toString(32)+p,u=":"+u+"R"+p,p=Eh++,0<p&&(u+="H"+p.toString(32)),u+=":"}else p=nV++,u=":"+u+"r"+p.toString(32)+":";return l.memoizedState=u},unstable_isNewReconciler:!1},oV={readContext:Vs,useCallback:US,useContext:Vs,useEffect:A0,useImperativeHandle:VS,useInsertionEffect:LS,useLayoutEffect:OS,useMemo:zS,useReducer:k0,useRef:DS,useState:function(){return k0(Ch)},useDebugValue:I0,useDeferredValue:function(l){var u=Us();return BS(u,Xn.memoizedState,l)},useTransition:function(){var l=k0(Ch)[0],u=Us().memoizedState;return[l,u]},useMutableSource:ES,useSyncExternalStore:CS,useId:$S,unstable_isNewReconciler:!1},lV={readContext:Vs,useCallback:US,useContext:Vs,useEffect:A0,useImperativeHandle:VS,useInsertionEffect:LS,useLayoutEffect:OS,useMemo:zS,useReducer:T0,useRef:DS,useState:function(){return T0(Ch)},useDebugValue:I0,useDeferredValue:function(l){var u=Us();return Xn===null?u.memoizedState=l:BS(u,Xn.memoizedState,l)},useTransition:function(){var l=T0(Ch)[0],u=Us().memoizedState;return[l,u]},useMutableSource:ES,useSyncExternalStore:CS,useId:$S,unstable_isNewReconciler:!1};function oi(l,u){if(l&&l.defaultProps){u=B({},u),l=l.defaultProps;for(var p in l)u[p]===void 0&&(u[p]=l[p]);return u}return u}function R0(l,u,p,b){u=l.memoizedState,p=p(b,u),p=p==null?u:B({},u,p),l.memoizedState=p,l.lanes===0&&(l.updateQueue.baseState=p)}var hp={isMounted:function(l){return(l=l._reactInternals)?jr(l)===l:!1},enqueueSetState:function(l,u,p){l=l._reactInternals;var b=Vr(),S=Mo(l),C=Aa(b,S);C.payload=u,p!=null&&(C.callback=p),u=Io(l,C,S),u!==null&&(ui(u,l,S,b),sp(u,l,S))},enqueueReplaceState:function(l,u,p){l=l._reactInternals;var b=Vr(),S=Mo(l),C=Aa(b,S);C.tag=1,C.payload=u,p!=null&&(C.callback=p),u=Io(l,C,S),u!==null&&(ui(u,l,S,b),sp(u,l,S))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var p=Vr(),b=Mo(l),S=Aa(p,b);S.tag=2,u!=null&&(S.callback=u),u=Io(l,S,b),u!==null&&(ui(u,l,b,p),sp(u,l,b))}};function KS(l,u,p,b,S,C,z){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(b,C,z):u.prototype&&u.prototype.isPureReactComponent?!fh(p,b)||!fh(S,C):!0}function GS(l,u,p){var b=!1,S=ko,C=u.contextType;return typeof C=="object"&&C!==null?C=Vs(C):(S=Yr(u)?Kl:_r.current,b=u.contextTypes,C=(b=b!=null)?fu(l,S):ko),u=new u(p,C),l.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=hp,l.stateNode=u,u._reactInternals=l,b&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=S,l.__reactInternalMemoizedMaskedChildContext=C),u}function QS(l,u,p,b){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(p,b),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(p,b),u.state!==l&&hp.enqueueReplaceState(u,u.state,null)}function P0(l,u,p,b){var S=l.stateNode;S.props=p,S.state=l.memoizedState,S.refs={},v0(l);var C=u.contextType;typeof C=="object"&&C!==null?S.context=Vs(C):(C=Yr(u)?Kl:_r.current,S.context=fu(l,C)),S.state=l.memoizedState,C=u.getDerivedStateFromProps,typeof C=="function"&&(R0(l,u,C,p),S.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(u=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),u!==S.state&&hp.enqueueReplaceState(S,S.state,null),ip(l,p,S,b),S.state=l.memoizedState),typeof S.componentDidMount=="function"&&(l.flags|=4194308)}function ju(l,u){try{var p="",b=u;do p+=Ne(b),b=b.return;while(b);var S=p}catch(C){S=`
Error generating stack: `+C.message+`
`+C.stack}return{value:l,source:u,stack:S,digest:null}}function D0(l,u,p){return{value:l,source:null,stack:p??null,digest:u??null}}function M0(l,u){try{console.error(u.value)}catch(p){setTimeout(function(){throw p})}}var cV=typeof WeakMap=="function"?WeakMap:Map;function YS(l,u,p){p=Aa(-1,p),p.tag=3,p.payload={element:null};var b=u.value;return p.callback=function(){vp||(vp=!0,Y0=b),M0(l,u)},p}function JS(l,u,p){p=Aa(-1,p),p.tag=3;var b=l.type.getDerivedStateFromError;if(typeof b=="function"){var S=u.value;p.payload=function(){return b(S)},p.callback=function(){M0(l,u)}}var C=l.stateNode;return C!==null&&typeof C.componentDidCatch=="function"&&(p.callback=function(){M0(l,u),typeof b!="function"&&(Po===null?Po=new Set([this]):Po.add(this));var z=u.stack;this.componentDidCatch(u.value,{componentStack:z!==null?z:""})}),p}function XS(l,u,p){var b=l.pingCache;if(b===null){b=l.pingCache=new cV;var S=new Set;b.set(u,S)}else S=b.get(u),S===void 0&&(S=new Set,b.set(u,S));S.has(p)||(S.add(p),l=NV.bind(null,l,u,p),u.then(l,l))}function ZS(l){do{var u;if((u=l.tag===13)&&(u=l.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return l;l=l.return}while(l!==null);return null}function eE(l,u,p,b,S){return(l.mode&1)===0?(l===u?l.flags|=65536:(l.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(u=Aa(-1,1),u.tag=2,Io(p,u,1))),p.lanes|=1),l):(l.flags|=65536,l.lanes=S,l)}var uV=T.ReactCurrentOwner,Jr=!1;function Fr(l,u,p,b){u.child=l===null?bS(u,null,p,b):yu(u,l.child,p,b)}function tE(l,u,p,b,S){p=p.render;var C=u.ref;return bu(u,S),b=E0(l,u,p,b,C,S),p=C0(),l!==null&&!Jr?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~S,Ia(l,u,S)):(xn&&p&&c0(u),u.flags|=1,Fr(l,u,b,S),u.child)}function nE(l,u,p,b,S){if(l===null){var C=p.type;return typeof C=="function"&&!rv(C)&&C.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(u.tag=15,u.type=C,rE(l,u,C,b,S)):(l=Sp(p.type,null,b,u,u.mode,S),l.ref=u.ref,l.return=u,u.child=l)}if(C=l.child,(l.lanes&S)===0){var z=C.memoizedProps;if(p=p.compare,p=p!==null?p:fh,p(z,b)&&l.ref===u.ref)return Ia(l,u,S)}return u.flags|=1,l=Oo(C,b),l.ref=u.ref,l.return=u,u.child=l}function rE(l,u,p,b,S){if(l!==null){var C=l.memoizedProps;if(fh(C,b)&&l.ref===u.ref)if(Jr=!1,u.pendingProps=b=C,(l.lanes&S)!==0)(l.flags&131072)!==0&&(Jr=!0);else return u.lanes=l.lanes,Ia(l,u,S)}return L0(l,u,p,b,S)}function sE(l,u,p){var b=u.pendingProps,S=b.children,C=l!==null?l.memoizedState:null;if(b.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},an(_u,_s),_s|=p;else{if((p&1073741824)===0)return l=C!==null?C.baseLanes|p:p,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:l,cachePool:null,transitions:null},u.updateQueue=null,an(_u,_s),_s|=l,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},b=C!==null?C.baseLanes:p,an(_u,_s),_s|=b}else C!==null?(b=C.baseLanes|p,u.memoizedState=null):b=p,an(_u,_s),_s|=b;return Fr(l,u,S,p),u.child}function iE(l,u){var p=u.ref;(l===null&&p!==null||l!==null&&l.ref!==p)&&(u.flags|=512,u.flags|=2097152)}function L0(l,u,p,b,S){var C=Yr(p)?Kl:_r.current;return C=fu(u,C),bu(u,S),p=E0(l,u,p,b,C,S),b=C0(),l!==null&&!Jr?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~S,Ia(l,u,S)):(xn&&b&&c0(u),u.flags|=1,Fr(l,u,p,S),u.child)}function aE(l,u,p,b,S){if(Yr(p)){var C=!0;Yf(u)}else C=!1;if(bu(u,S),u.stateNode===null)fp(l,u),GS(u,p,b),P0(u,p,b,S),b=!0;else if(l===null){var z=u.stateNode,Q=u.memoizedProps;z.props=Q;var Y=z.context,le=p.contextType;typeof le=="object"&&le!==null?le=Vs(le):(le=Yr(p)?Kl:_r.current,le=fu(u,le));var je=p.getDerivedStateFromProps,_e=typeof je=="function"||typeof z.getSnapshotBeforeUpdate=="function";_e||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(Q!==b||Y!==le)&&QS(u,z,b,le),Ao=!1;var be=u.memoizedState;z.state=be,ip(u,b,z,S),Y=u.memoizedState,Q!==b||be!==Y||Qr.current||Ao?(typeof je=="function"&&(R0(u,p,je,b),Y=u.memoizedState),(Q=Ao||KS(u,p,Q,b,be,Y,le))?(_e||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount()),typeof z.componentDidMount=="function"&&(u.flags|=4194308)):(typeof z.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=b,u.memoizedState=Y),z.props=b,z.state=Y,z.context=le,b=Q):(typeof z.componentDidMount=="function"&&(u.flags|=4194308),b=!1)}else{z=u.stateNode,jS(l,u),Q=u.memoizedProps,le=u.type===u.elementType?Q:oi(u.type,Q),z.props=le,_e=u.pendingProps,be=z.context,Y=p.contextType,typeof Y=="object"&&Y!==null?Y=Vs(Y):(Y=Yr(p)?Kl:_r.current,Y=fu(u,Y));var Ve=p.getDerivedStateFromProps;(je=typeof Ve=="function"||typeof z.getSnapshotBeforeUpdate=="function")||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(Q!==_e||be!==Y)&&QS(u,z,b,Y),Ao=!1,be=u.memoizedState,z.state=be,ip(u,b,z,S);var He=u.memoizedState;Q!==_e||be!==He||Qr.current||Ao?(typeof Ve=="function"&&(R0(u,p,Ve,b),He=u.memoizedState),(le=Ao||KS(u,p,le,b,be,He,Y)||!1)?(je||typeof z.UNSAFE_componentWillUpdate!="function"&&typeof z.componentWillUpdate!="function"||(typeof z.componentWillUpdate=="function"&&z.componentWillUpdate(b,He,Y),typeof z.UNSAFE_componentWillUpdate=="function"&&z.UNSAFE_componentWillUpdate(b,He,Y)),typeof z.componentDidUpdate=="function"&&(u.flags|=4),typeof z.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof z.componentDidUpdate!="function"||Q===l.memoizedProps&&be===l.memoizedState||(u.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||Q===l.memoizedProps&&be===l.memoizedState||(u.flags|=1024),u.memoizedProps=b,u.memoizedState=He),z.props=b,z.state=He,z.context=Y,b=le):(typeof z.componentDidUpdate!="function"||Q===l.memoizedProps&&be===l.memoizedState||(u.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||Q===l.memoizedProps&&be===l.memoizedState||(u.flags|=1024),b=!1)}return O0(l,u,p,b,C,S)}function O0(l,u,p,b,S,C){iE(l,u);var z=(u.flags&128)!==0;if(!b&&!z)return S&&dS(u,p,!1),Ia(l,u,C);b=u.stateNode,uV.current=u;var Q=z&&typeof p.getDerivedStateFromError!="function"?null:b.render();return u.flags|=1,l!==null&&z?(u.child=yu(u,l.child,null,C),u.child=yu(u,null,Q,C)):Fr(l,u,Q,C),u.memoizedState=b.state,S&&dS(u,p,!0),u.child}function oE(l){var u=l.stateNode;u.pendingContext?cS(l,u.pendingContext,u.pendingContext!==u.context):u.context&&cS(l,u.context,!1),b0(l,u.containerInfo)}function lE(l,u,p,b,S){return xu(),m0(S),u.flags|=256,Fr(l,u,p,b),u.child}var F0={dehydrated:null,treeContext:null,retryLane:0};function V0(l){return{baseLanes:l,cachePool:null,transitions:null}}function cE(l,u,p){var b=u.pendingProps,S=jn.current,C=!1,z=(u.flags&128)!==0,Q;if((Q=z)||(Q=l!==null&&l.memoizedState===null?!1:(S&2)!==0),Q?(C=!0,u.flags&=-129):(l===null||l.memoizedState!==null)&&(S|=1),an(jn,S&1),l===null)return h0(u),l=u.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((u.mode&1)===0?u.lanes=1:l.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(z=b.children,l=b.fallback,C?(b=u.mode,C=u.child,z={mode:"hidden",children:z},(b&1)===0&&C!==null?(C.childLanes=0,C.pendingProps=z):C=Ep(z,b,0,null),l=rc(l,b,p,null),C.return=u,l.return=u,C.sibling=l,u.child=C,u.child.memoizedState=V0(p),u.memoizedState=F0,l):U0(u,z));if(S=l.memoizedState,S!==null&&(Q=S.dehydrated,Q!==null))return dV(l,u,z,b,Q,S,p);if(C){C=b.fallback,z=u.mode,S=l.child,Q=S.sibling;var Y={mode:"hidden",children:b.children};return(z&1)===0&&u.child!==S?(b=u.child,b.childLanes=0,b.pendingProps=Y,u.deletions=null):(b=Oo(S,Y),b.subtreeFlags=S.subtreeFlags&14680064),Q!==null?C=Oo(Q,C):(C=rc(C,z,p,null),C.flags|=2),C.return=u,b.return=u,b.sibling=C,u.child=b,b=C,C=u.child,z=l.child.memoizedState,z=z===null?V0(p):{baseLanes:z.baseLanes|p,cachePool:null,transitions:z.transitions},C.memoizedState=z,C.childLanes=l.childLanes&~p,u.memoizedState=F0,b}return C=l.child,l=C.sibling,b=Oo(C,{mode:"visible",children:b.children}),(u.mode&1)===0&&(b.lanes=p),b.return=u,b.sibling=null,l!==null&&(p=u.deletions,p===null?(u.deletions=[l],u.flags|=16):p.push(l)),u.child=b,u.memoizedState=null,b}function U0(l,u){return u=Ep({mode:"visible",children:u},l.mode,0,null),u.return=l,l.child=u}function mp(l,u,p,b){return b!==null&&m0(b),yu(u,l.child,null,p),l=U0(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function dV(l,u,p,b,S,C,z){if(p)return u.flags&256?(u.flags&=-257,b=D0(Error(n(422))),mp(l,u,z,b)):u.memoizedState!==null?(u.child=l.child,u.flags|=128,null):(C=b.fallback,S=u.mode,b=Ep({mode:"visible",children:b.children},S,0,null),C=rc(C,S,z,null),C.flags|=2,b.return=u,C.return=u,b.sibling=C,u.child=b,(u.mode&1)!==0&&yu(u,l.child,null,z),u.child.memoizedState=V0(z),u.memoizedState=F0,C);if((u.mode&1)===0)return mp(l,u,z,null);if(S.data==="$!"){if(b=S.nextSibling&&S.nextSibling.dataset,b)var Q=b.dgst;return b=Q,C=Error(n(419)),b=D0(C,b,void 0),mp(l,u,z,b)}if(Q=(z&l.childLanes)!==0,Jr||Q){if(b=ir,b!==null){switch(z&-z){case 4:S=2;break;case 16:S=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:S=32;break;case 536870912:S=268435456;break;default:S=0}S=(S&(b.suspendedLanes|z))!==0?0:S,S!==0&&S!==C.retryLane&&(C.retryLane=S,Ta(l,S),ui(b,l,S,-1))}return nv(),b=D0(Error(n(421))),mp(l,u,z,b)}return S.data==="$?"?(u.flags|=128,u.child=l.child,u=_V.bind(null,l),S._reactRetry=u,null):(l=C.treeContext,Ns=Eo(S.nextSibling),js=u,xn=!0,ai=null,l!==null&&(Os[Fs++]=Ca,Os[Fs++]=ka,Os[Fs++]=Gl,Ca=l.id,ka=l.overflow,Gl=u),u=U0(u,b.children),u.flags|=4096,u)}function uE(l,u,p){l.lanes|=u;var b=l.alternate;b!==null&&(b.lanes|=u),x0(l.return,u,p)}function z0(l,u,p,b,S){var C=l.memoizedState;C===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:b,tail:p,tailMode:S}:(C.isBackwards=u,C.rendering=null,C.renderingStartTime=0,C.last=b,C.tail=p,C.tailMode=S)}function dE(l,u,p){var b=u.pendingProps,S=b.revealOrder,C=b.tail;if(Fr(l,u,b.children,p),b=jn.current,(b&2)!==0)b=b&1|2,u.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&uE(l,p,u);else if(l.tag===19)uE(l,p,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}b&=1}if(an(jn,b),(u.mode&1)===0)u.memoizedState=null;else switch(S){case"forwards":for(p=u.child,S=null;p!==null;)l=p.alternate,l!==null&&ap(l)===null&&(S=p),p=p.sibling;p=S,p===null?(S=u.child,u.child=null):(S=p.sibling,p.sibling=null),z0(u,!1,S,p,C);break;case"backwards":for(p=null,S=u.child,u.child=null;S!==null;){if(l=S.alternate,l!==null&&ap(l)===null){u.child=S;break}l=S.sibling,S.sibling=p,p=S,S=l}z0(u,!0,p,null,C);break;case"together":z0(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function fp(l,u){(u.mode&1)===0&&l!==null&&(l.alternate=null,u.alternate=null,u.flags|=2)}function Ia(l,u,p){if(l!==null&&(u.dependencies=l.dependencies),Zl|=u.lanes,(p&u.childLanes)===0)return null;if(l!==null&&u.child!==l.child)throw Error(n(153));if(u.child!==null){for(l=u.child,p=Oo(l,l.pendingProps),u.child=p,p.return=u;l.sibling!==null;)l=l.sibling,p=p.sibling=Oo(l,l.pendingProps),p.return=u;p.sibling=null}return u.child}function hV(l,u,p){switch(u.tag){case 3:oE(u),xu();break;case 5:SS(u);break;case 1:Yr(u.type)&&Yf(u);break;case 4:b0(u,u.stateNode.containerInfo);break;case 10:var b=u.type._context,S=u.memoizedProps.value;an(np,b._currentValue),b._currentValue=S;break;case 13:if(b=u.memoizedState,b!==null)return b.dehydrated!==null?(an(jn,jn.current&1),u.flags|=128,null):(p&u.child.childLanes)!==0?cE(l,u,p):(an(jn,jn.current&1),l=Ia(l,u,p),l!==null?l.sibling:null);an(jn,jn.current&1);break;case 19:if(b=(p&u.childLanes)!==0,(l.flags&128)!==0){if(b)return dE(l,u,p);u.flags|=128}if(S=u.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),an(jn,jn.current),b)break;return null;case 22:case 23:return u.lanes=0,sE(l,u,p)}return Ia(l,u,p)}var hE,B0,mE,fE;hE=function(l,u){for(var p=u.child;p!==null;){if(p.tag===5||p.tag===6)l.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===u)break;for(;p.sibling===null;){if(p.return===null||p.return===u)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},B0=function(){},mE=function(l,u,p,b){var S=l.memoizedProps;if(S!==b){l=u.stateNode,Jl(Ui.current);var C=null;switch(p){case"input":S=Tn(l,S),b=Tn(l,b),C=[];break;case"select":S=B({},S,{value:void 0}),b=B({},b,{value:void 0}),C=[];break;case"textarea":S=ga(l,S),b=ga(l,b),C=[];break;default:typeof S.onClick!="function"&&typeof b.onClick=="function"&&(l.onclick=Kf)}gt(p,b);var z;p=null;for(le in S)if(!b.hasOwnProperty(le)&&S.hasOwnProperty(le)&&S[le]!=null)if(le==="style"){var Q=S[le];for(z in Q)Q.hasOwnProperty(z)&&(p||(p={}),p[z]="")}else le!=="dangerouslySetInnerHTML"&&le!=="children"&&le!=="suppressContentEditableWarning"&&le!=="suppressHydrationWarning"&&le!=="autoFocus"&&(i.hasOwnProperty(le)?C||(C=[]):(C=C||[]).push(le,null));for(le in b){var Y=b[le];if(Q=S!=null?S[le]:void 0,b.hasOwnProperty(le)&&Y!==Q&&(Y!=null||Q!=null))if(le==="style")if(Q){for(z in Q)!Q.hasOwnProperty(z)||Y&&Y.hasOwnProperty(z)||(p||(p={}),p[z]="");for(z in Y)Y.hasOwnProperty(z)&&Q[z]!==Y[z]&&(p||(p={}),p[z]=Y[z])}else p||(C||(C=[]),C.push(le,p)),p=Y;else le==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,Q=Q?Q.__html:void 0,Y!=null&&Q!==Y&&(C=C||[]).push(le,Y)):le==="children"?typeof Y!="string"&&typeof Y!="number"||(C=C||[]).push(le,""+Y):le!=="suppressContentEditableWarning"&&le!=="suppressHydrationWarning"&&(i.hasOwnProperty(le)?(Y!=null&&le==="onScroll"&&hn("scroll",l),C||Q===Y||(C=[])):(C=C||[]).push(le,Y))}p&&(C=C||[]).push("style",p);var le=C;(u.updateQueue=le)&&(u.flags|=4)}},fE=function(l,u,p,b){p!==b&&(u.flags|=4)};function Th(l,u){if(!xn)switch(l.tailMode){case"hidden":u=l.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?l.tail=null:p.sibling=null;break;case"collapsed":p=l.tail;for(var b=null;p!==null;)p.alternate!==null&&(b=p),p=p.sibling;b===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:b.sibling=null}}function Er(l){var u=l.alternate!==null&&l.alternate.child===l.child,p=0,b=0;if(u)for(var S=l.child;S!==null;)p|=S.lanes|S.childLanes,b|=S.subtreeFlags&14680064,b|=S.flags&14680064,S.return=l,S=S.sibling;else for(S=l.child;S!==null;)p|=S.lanes|S.childLanes,b|=S.subtreeFlags,b|=S.flags,S.return=l,S=S.sibling;return l.subtreeFlags|=b,l.childLanes=p,u}function mV(l,u,p){var b=u.pendingProps;switch(u0(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Er(u),null;case 1:return Yr(u.type)&&Qf(),Er(u),null;case 3:return b=u.stateNode,wu(),mn(Qr),mn(_r),N0(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(l===null||l.child===null)&&(ep(u)?u.flags|=4:l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,ai!==null&&(Z0(ai),ai=null))),B0(l,u),Er(u),null;case 5:w0(u);var S=Jl(_h.current);if(p=u.type,l!==null&&u.stateNode!=null)mE(l,u,p,b,S),l.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!b){if(u.stateNode===null)throw Error(n(166));return Er(u),null}if(l=Jl(Ui.current),ep(u)){b=u.stateNode,p=u.type;var C=u.memoizedProps;switch(b[Vi]=u,b[vh]=C,l=(u.mode&1)!==0,p){case"dialog":hn("cancel",b),hn("close",b);break;case"iframe":case"object":case"embed":hn("load",b);break;case"video":case"audio":for(S=0;S<gh.length;S++)hn(gh[S],b);break;case"source":hn("error",b);break;case"img":case"image":case"link":hn("error",b),hn("load",b);break;case"details":hn("toggle",b);break;case"input":vr(b,C),hn("invalid",b);break;case"select":b._wrapperState={wasMultiple:!!C.multiple},hn("invalid",b);break;case"textarea":Ni(b,C),hn("invalid",b)}gt(p,C),S=null;for(var z in C)if(C.hasOwnProperty(z)){var Q=C[z];z==="children"?typeof Q=="string"?b.textContent!==Q&&(C.suppressHydrationWarning!==!0&&Wf(b.textContent,Q,l),S=["children",Q]):typeof Q=="number"&&b.textContent!==""+Q&&(C.suppressHydrationWarning!==!0&&Wf(b.textContent,Q,l),S=["children",""+Q]):i.hasOwnProperty(z)&&Q!=null&&z==="onScroll"&&hn("scroll",b)}switch(p){case"input":$e(b),ms(b,C,!0);break;case"textarea":$e(b),Ms(b);break;case"select":case"option":break;default:typeof C.onClick=="function"&&(b.onclick=Kf)}b=S,u.updateQueue=b,b!==null&&(u.flags|=4)}else{z=S.nodeType===9?S:S.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=me(p)),l==="http://www.w3.org/1999/xhtml"?p==="script"?(l=z.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof b.is=="string"?l=z.createElement(p,{is:b.is}):(l=z.createElement(p),p==="select"&&(z=l,b.multiple?z.multiple=!0:b.size&&(z.size=b.size))):l=z.createElementNS(l,p),l[Vi]=u,l[vh]=b,hE(l,u,!1,!1),u.stateNode=l;e:{switch(z=ct(p,b),p){case"dialog":hn("cancel",l),hn("close",l),S=b;break;case"iframe":case"object":case"embed":hn("load",l),S=b;break;case"video":case"audio":for(S=0;S<gh.length;S++)hn(gh[S],l);S=b;break;case"source":hn("error",l),S=b;break;case"img":case"image":case"link":hn("error",l),hn("load",l),S=b;break;case"details":hn("toggle",l),S=b;break;case"input":vr(l,b),S=Tn(l,b),hn("invalid",l);break;case"option":S=b;break;case"select":l._wrapperState={wasMultiple:!!b.multiple},S=B({},b,{value:void 0}),hn("invalid",l);break;case"textarea":Ni(l,b),S=ga(l,b),hn("invalid",l);break;default:S=b}gt(p,S),Q=S;for(C in Q)if(Q.hasOwnProperty(C)){var Y=Q[C];C==="style"?et(l,Y):C==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,Y!=null&&vt(l,Y)):C==="children"?typeof Y=="string"?(p!=="textarea"||Y!=="")&&Ct(l,Y):typeof Y=="number"&&Ct(l,""+Y):C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&C!=="autoFocus"&&(i.hasOwnProperty(C)?Y!=null&&C==="onScroll"&&hn("scroll",l):Y!=null&&A(l,C,Y,z))}switch(p){case"input":$e(l),ms(l,b,!1);break;case"textarea":$e(l),Ms(l);break;case"option":b.value!=null&&l.setAttribute("value",""+Se(b.value));break;case"select":l.multiple=!!b.multiple,C=b.value,C!=null?Dr(l,!!b.multiple,C,!1):b.defaultValue!=null&&Dr(l,!!b.multiple,b.defaultValue,!0);break;default:typeof S.onClick=="function"&&(l.onclick=Kf)}switch(p){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}}b&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return Er(u),null;case 6:if(l&&u.stateNode!=null)fE(l,u,l.memoizedProps,b);else{if(typeof b!="string"&&u.stateNode===null)throw Error(n(166));if(p=Jl(_h.current),Jl(Ui.current),ep(u)){if(b=u.stateNode,p=u.memoizedProps,b[Vi]=u,(C=b.nodeValue!==p)&&(l=js,l!==null))switch(l.tag){case 3:Wf(b.nodeValue,p,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&Wf(b.nodeValue,p,(l.mode&1)!==0)}C&&(u.flags|=4)}else b=(p.nodeType===9?p:p.ownerDocument).createTextNode(b),b[Vi]=u,u.stateNode=b}return Er(u),null;case 13:if(mn(jn),b=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(xn&&Ns!==null&&(u.mode&1)!==0&&(u.flags&128)===0)xS(),xu(),u.flags|=98560,C=!1;else if(C=ep(u),b!==null&&b.dehydrated!==null){if(l===null){if(!C)throw Error(n(318));if(C=u.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(n(317));C[Vi]=u}else xu(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Er(u),C=!1}else ai!==null&&(Z0(ai),ai=null),C=!0;if(!C)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=p,u):(b=b!==null,b!==(l!==null&&l.memoizedState!==null)&&b&&(u.child.flags|=8192,(u.mode&1)!==0&&(l===null||(jn.current&1)!==0?Zn===0&&(Zn=3):nv())),u.updateQueue!==null&&(u.flags|=4),Er(u),null);case 4:return wu(),B0(l,u),l===null&&xh(u.stateNode.containerInfo),Er(u),null;case 10:return g0(u.type._context),Er(u),null;case 17:return Yr(u.type)&&Qf(),Er(u),null;case 19:if(mn(jn),C=u.memoizedState,C===null)return Er(u),null;if(b=(u.flags&128)!==0,z=C.rendering,z===null)if(b)Th(C,!1);else{if(Zn!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if(z=ap(l),z!==null){for(u.flags|=128,Th(C,!1),b=z.updateQueue,b!==null&&(u.updateQueue=b,u.flags|=4),u.subtreeFlags=0,b=p,p=u.child;p!==null;)C=p,l=b,C.flags&=14680066,z=C.alternate,z===null?(C.childLanes=0,C.lanes=l,C.child=null,C.subtreeFlags=0,C.memoizedProps=null,C.memoizedState=null,C.updateQueue=null,C.dependencies=null,C.stateNode=null):(C.childLanes=z.childLanes,C.lanes=z.lanes,C.child=z.child,C.subtreeFlags=0,C.deletions=null,C.memoizedProps=z.memoizedProps,C.memoizedState=z.memoizedState,C.updateQueue=z.updateQueue,C.type=z.type,l=z.dependencies,C.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),p=p.sibling;return an(jn,jn.current&1|2),u.child}l=l.sibling}C.tail!==null&&dn()>Su&&(u.flags|=128,b=!0,Th(C,!1),u.lanes=4194304)}else{if(!b)if(l=ap(z),l!==null){if(u.flags|=128,b=!0,p=l.updateQueue,p!==null&&(u.updateQueue=p,u.flags|=4),Th(C,!0),C.tail===null&&C.tailMode==="hidden"&&!z.alternate&&!xn)return Er(u),null}else 2*dn()-C.renderingStartTime>Su&&p!==1073741824&&(u.flags|=128,b=!0,Th(C,!1),u.lanes=4194304);C.isBackwards?(z.sibling=u.child,u.child=z):(p=C.last,p!==null?p.sibling=z:u.child=z,C.last=z)}return C.tail!==null?(u=C.tail,C.rendering=u,C.tail=u.sibling,C.renderingStartTime=dn(),u.sibling=null,p=jn.current,an(jn,b?p&1|2:p&1),u):(Er(u),null);case 22:case 23:return tv(),b=u.memoizedState!==null,l!==null&&l.memoizedState!==null!==b&&(u.flags|=8192),b&&(u.mode&1)!==0?(_s&1073741824)!==0&&(Er(u),u.subtreeFlags&6&&(u.flags|=8192)):Er(u),null;case 24:return null;case 25:return null}throw Error(n(156,u.tag))}function fV(l,u){switch(u0(u),u.tag){case 1:return Yr(u.type)&&Qf(),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return wu(),mn(Qr),mn(_r),N0(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 5:return w0(u),null;case 13:if(mn(jn),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(n(340));xu()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return mn(jn),null;case 4:return wu(),null;case 10:return g0(u.type._context),null;case 22:case 23:return tv(),null;case 24:return null;default:return null}}var pp=!1,Cr=!1,pV=typeof WeakSet=="function"?WeakSet:Set,Be=null;function Nu(l,u){var p=l.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(b){An(l,u,b)}else p.current=null}function $0(l,u,p){try{p()}catch(b){An(l,u,b)}}var pE=!1;function gV(l,u){if(t0=ja,l=K_(),Ky(l)){if("selectionStart"in l)var p={start:l.selectionStart,end:l.selectionEnd};else e:{p=(p=l.ownerDocument)&&p.defaultView||window;var b=p.getSelection&&p.getSelection();if(b&&b.rangeCount!==0){p=b.anchorNode;var S=b.anchorOffset,C=b.focusNode;b=b.focusOffset;try{p.nodeType,C.nodeType}catch{p=null;break e}var z=0,Q=-1,Y=-1,le=0,je=0,_e=l,be=null;t:for(;;){for(var Ve;_e!==p||S!==0&&_e.nodeType!==3||(Q=z+S),_e!==C||b!==0&&_e.nodeType!==3||(Y=z+b),_e.nodeType===3&&(z+=_e.nodeValue.length),(Ve=_e.firstChild)!==null;)be=_e,_e=Ve;for(;;){if(_e===l)break t;if(be===p&&++le===S&&(Q=z),be===C&&++je===b&&(Y=z),(Ve=_e.nextSibling)!==null)break;_e=be,be=_e.parentNode}_e=Ve}p=Q===-1||Y===-1?null:{start:Q,end:Y}}else p=null}p=p||{start:0,end:0}}else p=null;for(n0={focusedElem:l,selectionRange:p},ja=!1,Be=u;Be!==null;)if(u=Be,l=u.child,(u.subtreeFlags&1028)!==0&&l!==null)l.return=u,Be=l;else for(;Be!==null;){u=Be;try{var He=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(He!==null){var Ge=He.memoizedProps,Ln=He.memoizedState,ie=u.stateNode,Z=ie.getSnapshotBeforeUpdate(u.elementType===u.type?Ge:oi(u.type,Ge),Ln);ie.__reactInternalSnapshotBeforeUpdate=Z}break;case 3:var oe=u.stateNode.containerInfo;oe.nodeType===1?oe.textContent="":oe.nodeType===9&&oe.documentElement&&oe.removeChild(oe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ke){An(u,u.return,ke)}if(l=u.sibling,l!==null){l.return=u.return,Be=l;break}Be=u.return}return He=pE,pE=!1,He}function Ah(l,u,p){var b=u.updateQueue;if(b=b!==null?b.lastEffect:null,b!==null){var S=b=b.next;do{if((S.tag&l)===l){var C=S.destroy;S.destroy=void 0,C!==void 0&&$0(u,p,C)}S=S.next}while(S!==b)}}function gp(l,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var p=u=u.next;do{if((p.tag&l)===l){var b=p.create;p.destroy=b()}p=p.next}while(p!==u)}}function q0(l){var u=l.ref;if(u!==null){var p=l.stateNode;switch(l.tag){case 5:l=p;break;default:l=p}typeof u=="function"?u(l):u.current=l}}function gE(l){var u=l.alternate;u!==null&&(l.alternate=null,gE(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&(delete u[Vi],delete u[vh],delete u[a0],delete u[XF],delete u[ZF])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function xE(l){return l.tag===5||l.tag===3||l.tag===4}function yE(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||xE(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function H0(l,u,p){var b=l.tag;if(b===5||b===6)l=l.stateNode,u?p.nodeType===8?p.parentNode.insertBefore(l,u):p.insertBefore(l,u):(p.nodeType===8?(u=p.parentNode,u.insertBefore(l,p)):(u=p,u.appendChild(l)),p=p._reactRootContainer,p!=null||u.onclick!==null||(u.onclick=Kf));else if(b!==4&&(l=l.child,l!==null))for(H0(l,u,p),l=l.sibling;l!==null;)H0(l,u,p),l=l.sibling}function W0(l,u,p){var b=l.tag;if(b===5||b===6)l=l.stateNode,u?p.insertBefore(l,u):p.appendChild(l);else if(b!==4&&(l=l.child,l!==null))for(W0(l,u,p),l=l.sibling;l!==null;)W0(l,u,p),l=l.sibling}var hr=null,li=!1;function Ro(l,u,p){for(p=p.child;p!==null;)vE(l,u,p),p=p.sibling}function vE(l,u,p){if(gs&&typeof gs.onCommitFiberUnmount=="function")try{gs.onCommitFiberUnmount(Ol,p)}catch{}switch(p.tag){case 5:Cr||Nu(p,u);case 6:var b=hr,S=li;hr=null,Ro(l,u,p),hr=b,li=S,hr!==null&&(li?(l=hr,p=p.stateNode,l.nodeType===8?l.parentNode.removeChild(p):l.removeChild(p)):hr.removeChild(p.stateNode));break;case 18:hr!==null&&(li?(l=hr,p=p.stateNode,l.nodeType===8?i0(l.parentNode,p):l.nodeType===1&&i0(l,p),jo(l)):i0(hr,p.stateNode));break;case 4:b=hr,S=li,hr=p.stateNode.containerInfo,li=!0,Ro(l,u,p),hr=b,li=S;break;case 0:case 11:case 14:case 15:if(!Cr&&(b=p.updateQueue,b!==null&&(b=b.lastEffect,b!==null))){S=b=b.next;do{var C=S,z=C.destroy;C=C.tag,z!==void 0&&((C&2)!==0||(C&4)!==0)&&$0(p,u,z),S=S.next}while(S!==b)}Ro(l,u,p);break;case 1:if(!Cr&&(Nu(p,u),b=p.stateNode,typeof b.componentWillUnmount=="function"))try{b.props=p.memoizedProps,b.state=p.memoizedState,b.componentWillUnmount()}catch(Q){An(p,u,Q)}Ro(l,u,p);break;case 21:Ro(l,u,p);break;case 22:p.mode&1?(Cr=(b=Cr)||p.memoizedState!==null,Ro(l,u,p),Cr=b):Ro(l,u,p);break;default:Ro(l,u,p)}}function bE(l){var u=l.updateQueue;if(u!==null){l.updateQueue=null;var p=l.stateNode;p===null&&(p=l.stateNode=new pV),u.forEach(function(b){var S=SV.bind(null,l,b);p.has(b)||(p.add(b),b.then(S,S))})}}function ci(l,u){var p=u.deletions;if(p!==null)for(var b=0;b<p.length;b++){var S=p[b];try{var C=l,z=u,Q=z;e:for(;Q!==null;){switch(Q.tag){case 5:hr=Q.stateNode,li=!1;break e;case 3:hr=Q.stateNode.containerInfo,li=!0;break e;case 4:hr=Q.stateNode.containerInfo,li=!0;break e}Q=Q.return}if(hr===null)throw Error(n(160));vE(C,z,S),hr=null,li=!1;var Y=S.alternate;Y!==null&&(Y.return=null),S.return=null}catch(le){An(S,u,le)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)wE(u,l),u=u.sibling}function wE(l,u){var p=l.alternate,b=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(ci(u,l),Bi(l),b&4){try{Ah(3,l,l.return),gp(3,l)}catch(Ge){An(l,l.return,Ge)}try{Ah(5,l,l.return)}catch(Ge){An(l,l.return,Ge)}}break;case 1:ci(u,l),Bi(l),b&512&&p!==null&&Nu(p,p.return);break;case 5:if(ci(u,l),Bi(l),b&512&&p!==null&&Nu(p,p.return),l.flags&32){var S=l.stateNode;try{Ct(S,"")}catch(Ge){An(l,l.return,Ge)}}if(b&4&&(S=l.stateNode,S!=null)){var C=l.memoizedProps,z=p!==null?p.memoizedProps:C,Q=l.type,Y=l.updateQueue;if(l.updateQueue=null,Y!==null)try{Q==="input"&&C.type==="radio"&&C.name!=null&&Bn(S,C),ct(Q,z);var le=ct(Q,C);for(z=0;z<Y.length;z+=2){var je=Y[z],_e=Y[z+1];je==="style"?et(S,_e):je==="dangerouslySetInnerHTML"?vt(S,_e):je==="children"?Ct(S,_e):A(S,je,_e,le)}switch(Q){case"input":Yn(S,C);break;case"textarea":_i(S,C);break;case"select":var be=S._wrapperState.wasMultiple;S._wrapperState.wasMultiple=!!C.multiple;var Ve=C.value;Ve!=null?Dr(S,!!C.multiple,Ve,!1):be!==!!C.multiple&&(C.defaultValue!=null?Dr(S,!!C.multiple,C.defaultValue,!0):Dr(S,!!C.multiple,C.multiple?[]:"",!1))}S[vh]=C}catch(Ge){An(l,l.return,Ge)}}break;case 6:if(ci(u,l),Bi(l),b&4){if(l.stateNode===null)throw Error(n(162));S=l.stateNode,C=l.memoizedProps;try{S.nodeValue=C}catch(Ge){An(l,l.return,Ge)}}break;case 3:if(ci(u,l),Bi(l),b&4&&p!==null&&p.memoizedState.isDehydrated)try{jo(u.containerInfo)}catch(Ge){An(l,l.return,Ge)}break;case 4:ci(u,l),Bi(l);break;case 13:ci(u,l),Bi(l),S=l.child,S.flags&8192&&(C=S.memoizedState!==null,S.stateNode.isHidden=C,!C||S.alternate!==null&&S.alternate.memoizedState!==null||(Q0=dn())),b&4&&bE(l);break;case 22:if(je=p!==null&&p.memoizedState!==null,l.mode&1?(Cr=(le=Cr)||je,ci(u,l),Cr=le):ci(u,l),Bi(l),b&8192){if(le=l.memoizedState!==null,(l.stateNode.isHidden=le)&&!je&&(l.mode&1)!==0)for(Be=l,je=l.child;je!==null;){for(_e=Be=je;Be!==null;){switch(be=Be,Ve=be.child,be.tag){case 0:case 11:case 14:case 15:Ah(4,be,be.return);break;case 1:Nu(be,be.return);var He=be.stateNode;if(typeof He.componentWillUnmount=="function"){b=be,p=be.return;try{u=b,He.props=u.memoizedProps,He.state=u.memoizedState,He.componentWillUnmount()}catch(Ge){An(b,p,Ge)}}break;case 5:Nu(be,be.return);break;case 22:if(be.memoizedState!==null){_E(_e);continue}}Ve!==null?(Ve.return=be,Be=Ve):_E(_e)}je=je.sibling}e:for(je=null,_e=l;;){if(_e.tag===5){if(je===null){je=_e;try{S=_e.stateNode,le?(C=S.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none"):(Q=_e.stateNode,Y=_e.memoizedProps.style,z=Y!=null&&Y.hasOwnProperty("display")?Y.display:null,Q.style.display=qe("display",z))}catch(Ge){An(l,l.return,Ge)}}}else if(_e.tag===6){if(je===null)try{_e.stateNode.nodeValue=le?"":_e.memoizedProps}catch(Ge){An(l,l.return,Ge)}}else if((_e.tag!==22&&_e.tag!==23||_e.memoizedState===null||_e===l)&&_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===l)break e;for(;_e.sibling===null;){if(_e.return===null||_e.return===l)break e;je===_e&&(je=null),_e=_e.return}je===_e&&(je=null),_e.sibling.return=_e.return,_e=_e.sibling}}break;case 19:ci(u,l),Bi(l),b&4&&bE(l);break;case 21:break;default:ci(u,l),Bi(l)}}function Bi(l){var u=l.flags;if(u&2){try{e:{for(var p=l.return;p!==null;){if(xE(p)){var b=p;break e}p=p.return}throw Error(n(160))}switch(b.tag){case 5:var S=b.stateNode;b.flags&32&&(Ct(S,""),b.flags&=-33);var C=yE(l);W0(l,C,S);break;case 3:case 4:var z=b.stateNode.containerInfo,Q=yE(l);H0(l,Q,z);break;default:throw Error(n(161))}}catch(Y){An(l,l.return,Y)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function xV(l,u,p){Be=l,jE(l)}function jE(l,u,p){for(var b=(l.mode&1)!==0;Be!==null;){var S=Be,C=S.child;if(S.tag===22&&b){var z=S.memoizedState!==null||pp;if(!z){var Q=S.alternate,Y=Q!==null&&Q.memoizedState!==null||Cr;Q=pp;var le=Cr;if(pp=z,(Cr=Y)&&!le)for(Be=S;Be!==null;)z=Be,Y=z.child,z.tag===22&&z.memoizedState!==null?SE(S):Y!==null?(Y.return=z,Be=Y):SE(S);for(;C!==null;)Be=C,jE(C),C=C.sibling;Be=S,pp=Q,Cr=le}NE(l)}else(S.subtreeFlags&8772)!==0&&C!==null?(C.return=S,Be=C):NE(l)}}function NE(l){for(;Be!==null;){var u=Be;if((u.flags&8772)!==0){var p=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:Cr||gp(5,u);break;case 1:var b=u.stateNode;if(u.flags&4&&!Cr)if(p===null)b.componentDidMount();else{var S=u.elementType===u.type?p.memoizedProps:oi(u.type,p.memoizedProps);b.componentDidUpdate(S,p.memoizedState,b.__reactInternalSnapshotBeforeUpdate)}var C=u.updateQueue;C!==null&&_S(u,C,b);break;case 3:var z=u.updateQueue;if(z!==null){if(p=null,u.child!==null)switch(u.child.tag){case 5:p=u.child.stateNode;break;case 1:p=u.child.stateNode}_S(u,z,p)}break;case 5:var Q=u.stateNode;if(p===null&&u.flags&4){p=Q;var Y=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":Y.autoFocus&&p.focus();break;case"img":Y.src&&(p.src=Y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var le=u.alternate;if(le!==null){var je=le.memoizedState;if(je!==null){var _e=je.dehydrated;_e!==null&&jo(_e)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Cr||u.flags&512&&q0(u)}catch(be){An(u,u.return,be)}}if(u===l){Be=null;break}if(p=u.sibling,p!==null){p.return=u.return,Be=p;break}Be=u.return}}function _E(l){for(;Be!==null;){var u=Be;if(u===l){Be=null;break}var p=u.sibling;if(p!==null){p.return=u.return,Be=p;break}Be=u.return}}function SE(l){for(;Be!==null;){var u=Be;try{switch(u.tag){case 0:case 11:case 15:var p=u.return;try{gp(4,u)}catch(Y){An(u,p,Y)}break;case 1:var b=u.stateNode;if(typeof b.componentDidMount=="function"){var S=u.return;try{b.componentDidMount()}catch(Y){An(u,S,Y)}}var C=u.return;try{q0(u)}catch(Y){An(u,C,Y)}break;case 5:var z=u.return;try{q0(u)}catch(Y){An(u,z,Y)}}}catch(Y){An(u,u.return,Y)}if(u===l){Be=null;break}var Q=u.sibling;if(Q!==null){Q.return=u.return,Be=Q;break}Be=u.return}}var yV=Math.ceil,xp=T.ReactCurrentDispatcher,K0=T.ReactCurrentOwner,zs=T.ReactCurrentBatchConfig,Ot=0,ir=null,qn=null,mr=0,_s=0,_u=Co(0),Zn=0,Ih=null,Zl=0,yp=0,G0=0,Rh=null,Xr=null,Q0=0,Su=1/0,Ra=null,vp=!1,Y0=null,Po=null,bp=!1,Do=null,wp=0,Ph=0,J0=null,jp=-1,Np=0;function Vr(){return(Ot&6)!==0?dn():jp!==-1?jp:jp=dn()}function Mo(l){return(l.mode&1)===0?1:(Ot&2)!==0&&mr!==0?mr&-mr:tV.transition!==null?(Np===0&&(Np=eh()),Np):(l=Dt,l!==0||(l=window.event,l=l===void 0?16:eu(l.type)),l)}function ui(l,u,p,b){if(50<Ph)throw Ph=0,J0=null,Error(n(185));zl(l,p,b),((Ot&2)===0||l!==ir)&&(l===ir&&((Ot&2)===0&&(yp|=p),Zn===4&&Lo(l,mr)),Zr(l,b),p===1&&Ot===0&&(u.mode&1)===0&&(Su=dn()+500,Jf&&To()))}function Zr(l,u){var p=l.callbackNode;Ul(l,u);var b=va(l,l===ir?mr:0);if(b===0)p!==null&&Kc(p),l.callbackNode=null,l.callbackPriority=0;else if(u=b&-b,l.callbackPriority!==u){if(p!=null&&Kc(p),u===1)l.tag===0?eV(CE.bind(null,l)):hS(CE.bind(null,l)),YF(function(){(Ot&6)===0&&To()}),p=null;else{switch(Ti(b)){case 1:p=Gc;break;case 4:p=Jd;break;case 16:p=Ll;break;case 536870912:p=Qc;break;default:p=Ll}p=ME(p,EE.bind(null,l))}l.callbackPriority=u,l.callbackNode=p}}function EE(l,u){if(jp=-1,Np=0,(Ot&6)!==0)throw Error(n(327));var p=l.callbackNode;if(Eu()&&l.callbackNode!==p)return null;var b=va(l,l===ir?mr:0);if(b===0)return null;if((b&30)!==0||(b&l.expiredLanes)!==0||u)u=_p(l,b);else{u=b;var S=Ot;Ot|=2;var C=TE();(ir!==l||mr!==u)&&(Ra=null,Su=dn()+500,tc(l,u));do try{wV();break}catch(Q){kE(l,Q)}while(!0);p0(),xp.current=C,Ot=S,qn!==null?u=0:(ir=null,mr=0,u=Zn)}if(u!==0){if(u===2&&(S=Zd(l),S!==0&&(b=S,u=X0(l,S))),u===1)throw p=Ih,tc(l,0),Lo(l,b),Zr(l,dn()),p;if(u===6)Lo(l,b);else{if(S=l.current.alternate,(b&30)===0&&!vV(S)&&(u=_p(l,b),u===2&&(C=Zd(l),C!==0&&(b=C,u=X0(l,C))),u===1))throw p=Ih,tc(l,0),Lo(l,b),Zr(l,dn()),p;switch(l.finishedWork=S,l.finishedLanes=b,u){case 0:case 1:throw Error(n(345));case 2:nc(l,Xr,Ra);break;case 3:if(Lo(l,b),(b&130023424)===b&&(u=Q0+500-dn(),10<u)){if(va(l,0)!==0)break;if(S=l.suspendedLanes,(S&b)!==b){Vr(),l.pingedLanes|=l.suspendedLanes&S;break}l.timeoutHandle=s0(nc.bind(null,l,Xr,Ra),u);break}nc(l,Xr,Ra);break;case 4:if(Lo(l,b),(b&4194240)===b)break;for(u=l.eventTimes,S=-1;0<b;){var z=31-xs(b);C=1<<z,z=u[z],z>S&&(S=z),b&=~C}if(b=S,b=dn()-b,b=(120>b?120:480>b?480:1080>b?1080:1920>b?1920:3e3>b?3e3:4320>b?4320:1960*yV(b/1960))-b,10<b){l.timeoutHandle=s0(nc.bind(null,l,Xr,Ra),b);break}nc(l,Xr,Ra);break;case 5:nc(l,Xr,Ra);break;default:throw Error(n(329))}}}return Zr(l,dn()),l.callbackNode===p?EE.bind(null,l):null}function X0(l,u){var p=Rh;return l.current.memoizedState.isDehydrated&&(tc(l,u).flags|=256),l=_p(l,u),l!==2&&(u=Xr,Xr=p,u!==null&&Z0(u)),l}function Z0(l){Xr===null?Xr=l:Xr.push.apply(Xr,l)}function vV(l){for(var u=l;;){if(u.flags&16384){var p=u.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var b=0;b<p.length;b++){var S=p[b],C=S.getSnapshot;S=S.value;try{if(!ii(C(),S))return!1}catch{return!1}}}if(p=u.child,u.subtreeFlags&16384&&p!==null)p.return=u,u=p;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Lo(l,u){for(u&=~G0,u&=~yp,l.suspendedLanes|=u,l.pingedLanes&=~u,l=l.expirationTimes;0<u;){var p=31-xs(u),b=1<<p;l[p]=-1,u&=~b}}function CE(l){if((Ot&6)!==0)throw Error(n(327));Eu();var u=va(l,0);if((u&1)===0)return Zr(l,dn()),null;var p=_p(l,u);if(l.tag!==0&&p===2){var b=Zd(l);b!==0&&(u=b,p=X0(l,b))}if(p===1)throw p=Ih,tc(l,0),Lo(l,u),Zr(l,dn()),p;if(p===6)throw Error(n(345));return l.finishedWork=l.current.alternate,l.finishedLanes=u,nc(l,Xr,Ra),Zr(l,dn()),null}function ev(l,u){var p=Ot;Ot|=1;try{return l(u)}finally{Ot=p,Ot===0&&(Su=dn()+500,Jf&&To())}}function ec(l){Do!==null&&Do.tag===0&&(Ot&6)===0&&Eu();var u=Ot;Ot|=1;var p=zs.transition,b=Dt;try{if(zs.transition=null,Dt=1,l)return l()}finally{Dt=b,zs.transition=p,Ot=u,(Ot&6)===0&&To()}}function tv(){_s=_u.current,mn(_u)}function tc(l,u){l.finishedWork=null,l.finishedLanes=0;var p=l.timeoutHandle;if(p!==-1&&(l.timeoutHandle=-1,QF(p)),qn!==null)for(p=qn.return;p!==null;){var b=p;switch(u0(b),b.tag){case 1:b=b.type.childContextTypes,b!=null&&Qf();break;case 3:wu(),mn(Qr),mn(_r),N0();break;case 5:w0(b);break;case 4:wu();break;case 13:mn(jn);break;case 19:mn(jn);break;case 10:g0(b.type._context);break;case 22:case 23:tv()}p=p.return}if(ir=l,qn=l=Oo(l.current,null),mr=_s=u,Zn=0,Ih=null,G0=yp=Zl=0,Xr=Rh=null,Yl!==null){for(u=0;u<Yl.length;u++)if(p=Yl[u],b=p.interleaved,b!==null){p.interleaved=null;var S=b.next,C=p.pending;if(C!==null){var z=C.next;C.next=S,b.next=z}p.pending=b}Yl=null}return l}function kE(l,u){do{var p=qn;try{if(p0(),op.current=dp,lp){for(var b=Nn.memoizedState;b!==null;){var S=b.queue;S!==null&&(S.pending=null),b=b.next}lp=!1}if(Xl=0,sr=Xn=Nn=null,Sh=!1,Eh=0,K0.current=null,p===null||p.return===null){Zn=1,Ih=u,qn=null;break}e:{var C=l,z=p.return,Q=p,Y=u;if(u=mr,Q.flags|=32768,Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var le=Y,je=Q,_e=je.tag;if((je.mode&1)===0&&(_e===0||_e===11||_e===15)){var be=je.alternate;be?(je.updateQueue=be.updateQueue,je.memoizedState=be.memoizedState,je.lanes=be.lanes):(je.updateQueue=null,je.memoizedState=null)}var Ve=ZS(z);if(Ve!==null){Ve.flags&=-257,eE(Ve,z,Q,C,u),Ve.mode&1&&XS(C,le,u),u=Ve,Y=le;var He=u.updateQueue;if(He===null){var Ge=new Set;Ge.add(Y),u.updateQueue=Ge}else He.add(Y);break e}else{if((u&1)===0){XS(C,le,u),nv();break e}Y=Error(n(426))}}else if(xn&&Q.mode&1){var Ln=ZS(z);if(Ln!==null){(Ln.flags&65536)===0&&(Ln.flags|=256),eE(Ln,z,Q,C,u),m0(ju(Y,Q));break e}}C=Y=ju(Y,Q),Zn!==4&&(Zn=2),Rh===null?Rh=[C]:Rh.push(C),C=z;do{switch(C.tag){case 3:C.flags|=65536,u&=-u,C.lanes|=u;var ie=YS(C,Y,u);NS(C,ie);break e;case 1:Q=Y;var Z=C.type,oe=C.stateNode;if((C.flags&128)===0&&(typeof Z.getDerivedStateFromError=="function"||oe!==null&&typeof oe.componentDidCatch=="function"&&(Po===null||!Po.has(oe)))){C.flags|=65536,u&=-u,C.lanes|=u;var ke=JS(C,Q,u);NS(C,ke);break e}}C=C.return}while(C!==null)}IE(p)}catch(Qe){u=Qe,qn===p&&p!==null&&(qn=p=p.return);continue}break}while(!0)}function TE(){var l=xp.current;return xp.current=dp,l===null?dp:l}function nv(){(Zn===0||Zn===3||Zn===2)&&(Zn=4),ir===null||(Zl&268435455)===0&&(yp&268435455)===0||Lo(ir,mr)}function _p(l,u){var p=Ot;Ot|=2;var b=TE();(ir!==l||mr!==u)&&(Ra=null,tc(l,u));do try{bV();break}catch(S){kE(l,S)}while(!0);if(p0(),Ot=p,xp.current=b,qn!==null)throw Error(n(261));return ir=null,mr=0,Zn}function bV(){for(;qn!==null;)AE(qn)}function wV(){for(;qn!==null&&!Ml();)AE(qn)}function AE(l){var u=DE(l.alternate,l,_s);l.memoizedProps=l.pendingProps,u===null?IE(l):qn=u,K0.current=null}function IE(l){var u=l;do{var p=u.alternate;if(l=u.return,(u.flags&32768)===0){if(p=mV(p,u,_s),p!==null){qn=p;return}}else{if(p=fV(p,u),p!==null){p.flags&=32767,qn=p;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{Zn=6,qn=null;return}}if(u=u.sibling,u!==null){qn=u;return}qn=u=l}while(u!==null);Zn===0&&(Zn=5)}function nc(l,u,p){var b=Dt,S=zs.transition;try{zs.transition=null,Dt=1,jV(l,u,p,b)}finally{zs.transition=S,Dt=b}return null}function jV(l,u,p,b){do Eu();while(Do!==null);if((Ot&6)!==0)throw Error(n(327));p=l.finishedWork;var S=l.finishedLanes;if(p===null)return null;if(l.finishedWork=null,l.finishedLanes=0,p===l.current)throw Error(n(177));l.callbackNode=null,l.callbackPriority=0;var C=p.lanes|p.childLanes;if(By(l,C),l===ir&&(qn=ir=null,mr=0),(p.subtreeFlags&2064)===0&&(p.flags&2064)===0||bp||(bp=!0,ME(Ll,function(){return Eu(),null})),C=(p.flags&15990)!==0,(p.subtreeFlags&15990)!==0||C){C=zs.transition,zs.transition=null;var z=Dt;Dt=1;var Q=Ot;Ot|=4,K0.current=null,gV(l,p),wE(p,l),BF(n0),ja=!!t0,n0=t0=null,l.current=p,xV(p),ya(),Ot=Q,Dt=z,zs.transition=C}else l.current=p;if(bp&&(bp=!1,Do=l,wp=S),C=l.pendingLanes,C===0&&(Po=null),If(p.stateNode),Zr(l,dn()),u!==null)for(b=l.onRecoverableError,p=0;p<u.length;p++)S=u[p],b(S.value,{componentStack:S.stack,digest:S.digest});if(vp)throw vp=!1,l=Y0,Y0=null,l;return(wp&1)!==0&&l.tag!==0&&Eu(),C=l.pendingLanes,(C&1)!==0?l===J0?Ph++:(Ph=0,J0=l):Ph=0,To(),null}function Eu(){if(Do!==null){var l=Ti(wp),u=zs.transition,p=Dt;try{if(zs.transition=null,Dt=16>l?16:l,Do===null)var b=!1;else{if(l=Do,Do=null,wp=0,(Ot&6)!==0)throw Error(n(331));var S=Ot;for(Ot|=4,Be=l.current;Be!==null;){var C=Be,z=C.child;if((Be.flags&16)!==0){var Q=C.deletions;if(Q!==null){for(var Y=0;Y<Q.length;Y++){var le=Q[Y];for(Be=le;Be!==null;){var je=Be;switch(je.tag){case 0:case 11:case 15:Ah(8,je,C)}var _e=je.child;if(_e!==null)_e.return=je,Be=_e;else for(;Be!==null;){je=Be;var be=je.sibling,Ve=je.return;if(gE(je),je===le){Be=null;break}if(be!==null){be.return=Ve,Be=be;break}Be=Ve}}}var He=C.alternate;if(He!==null){var Ge=He.child;if(Ge!==null){He.child=null;do{var Ln=Ge.sibling;Ge.sibling=null,Ge=Ln}while(Ge!==null)}}Be=C}}if((C.subtreeFlags&2064)!==0&&z!==null)z.return=C,Be=z;else e:for(;Be!==null;){if(C=Be,(C.flags&2048)!==0)switch(C.tag){case 0:case 11:case 15:Ah(9,C,C.return)}var ie=C.sibling;if(ie!==null){ie.return=C.return,Be=ie;break e}Be=C.return}}var Z=l.current;for(Be=Z;Be!==null;){z=Be;var oe=z.child;if((z.subtreeFlags&2064)!==0&&oe!==null)oe.return=z,Be=oe;else e:for(z=Z;Be!==null;){if(Q=Be,(Q.flags&2048)!==0)try{switch(Q.tag){case 0:case 11:case 15:gp(9,Q)}}catch(Qe){An(Q,Q.return,Qe)}if(Q===z){Be=null;break e}var ke=Q.sibling;if(ke!==null){ke.return=Q.return,Be=ke;break e}Be=Q.return}}if(Ot=S,To(),gs&&typeof gs.onPostCommitFiberRoot=="function")try{gs.onPostCommitFiberRoot(Ol,l)}catch{}b=!0}return b}finally{Dt=p,zs.transition=u}}return!1}function RE(l,u,p){u=ju(p,u),u=YS(l,u,1),l=Io(l,u,1),u=Vr(),l!==null&&(zl(l,1,u),Zr(l,u))}function An(l,u,p){if(l.tag===3)RE(l,l,p);else for(;u!==null;){if(u.tag===3){RE(u,l,p);break}else if(u.tag===1){var b=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(Po===null||!Po.has(b))){l=ju(p,l),l=JS(u,l,1),u=Io(u,l,1),l=Vr(),u!==null&&(zl(u,1,l),Zr(u,l));break}}u=u.return}}function NV(l,u,p){var b=l.pingCache;b!==null&&b.delete(u),u=Vr(),l.pingedLanes|=l.suspendedLanes&p,ir===l&&(mr&p)===p&&(Zn===4||Zn===3&&(mr&130023424)===mr&&500>dn()-Q0?tc(l,0):G0|=p),Zr(l,u)}function PE(l,u){u===0&&((l.mode&1)===0?u=1:(u=vo,vo<<=1,(vo&130023424)===0&&(vo=4194304)));var p=Vr();l=Ta(l,u),l!==null&&(zl(l,u,p),Zr(l,p))}function _V(l){var u=l.memoizedState,p=0;u!==null&&(p=u.retryLane),PE(l,p)}function SV(l,u){var p=0;switch(l.tag){case 13:var b=l.stateNode,S=l.memoizedState;S!==null&&(p=S.retryLane);break;case 19:b=l.stateNode;break;default:throw Error(n(314))}b!==null&&b.delete(u),PE(l,p)}var DE;DE=function(l,u,p){if(l!==null)if(l.memoizedProps!==u.pendingProps||Qr.current)Jr=!0;else{if((l.lanes&p)===0&&(u.flags&128)===0)return Jr=!1,hV(l,u,p);Jr=(l.flags&131072)!==0}else Jr=!1,xn&&(u.flags&1048576)!==0&&mS(u,Zf,u.index);switch(u.lanes=0,u.tag){case 2:var b=u.type;fp(l,u),l=u.pendingProps;var S=fu(u,_r.current);bu(u,p),S=E0(null,u,b,l,S,p);var C=C0();return u.flags|=1,typeof S=="object"&&S!==null&&typeof S.render=="function"&&S.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Yr(b)?(C=!0,Yf(u)):C=!1,u.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,v0(u),S.updater=hp,u.stateNode=S,S._reactInternals=u,P0(u,b,l,p),u=O0(null,u,b,!0,C,p)):(u.tag=0,xn&&C&&c0(u),Fr(null,u,S,p),u=u.child),u;case 16:b=u.elementType;e:{switch(fp(l,u),l=u.pendingProps,S=b._init,b=S(b._payload),u.type=b,S=u.tag=CV(b),l=oi(b,l),S){case 0:u=L0(null,u,b,l,p);break e;case 1:u=aE(null,u,b,l,p);break e;case 11:u=tE(null,u,b,l,p);break e;case 14:u=nE(null,u,b,oi(b.type,l),p);break e}throw Error(n(306,b,""))}return u;case 0:return b=u.type,S=u.pendingProps,S=u.elementType===b?S:oi(b,S),L0(l,u,b,S,p);case 1:return b=u.type,S=u.pendingProps,S=u.elementType===b?S:oi(b,S),aE(l,u,b,S,p);case 3:e:{if(oE(u),l===null)throw Error(n(387));b=u.pendingProps,C=u.memoizedState,S=C.element,jS(l,u),ip(u,b,null,p);var z=u.memoizedState;if(b=z.element,C.isDehydrated)if(C={element:b,isDehydrated:!1,cache:z.cache,pendingSuspenseBoundaries:z.pendingSuspenseBoundaries,transitions:z.transitions},u.updateQueue.baseState=C,u.memoizedState=C,u.flags&256){S=ju(Error(n(423)),u),u=lE(l,u,b,p,S);break e}else if(b!==S){S=ju(Error(n(424)),u),u=lE(l,u,b,p,S);break e}else for(Ns=Eo(u.stateNode.containerInfo.firstChild),js=u,xn=!0,ai=null,p=bS(u,null,b,p),u.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(xu(),b===S){u=Ia(l,u,p);break e}Fr(l,u,b,p)}u=u.child}return u;case 5:return SS(u),l===null&&h0(u),b=u.type,S=u.pendingProps,C=l!==null?l.memoizedProps:null,z=S.children,r0(b,S)?z=null:C!==null&&r0(b,C)&&(u.flags|=32),iE(l,u),Fr(l,u,z,p),u.child;case 6:return l===null&&h0(u),null;case 13:return cE(l,u,p);case 4:return b0(u,u.stateNode.containerInfo),b=u.pendingProps,l===null?u.child=yu(u,null,b,p):Fr(l,u,b,p),u.child;case 11:return b=u.type,S=u.pendingProps,S=u.elementType===b?S:oi(b,S),tE(l,u,b,S,p);case 7:return Fr(l,u,u.pendingProps,p),u.child;case 8:return Fr(l,u,u.pendingProps.children,p),u.child;case 12:return Fr(l,u,u.pendingProps.children,p),u.child;case 10:e:{if(b=u.type._context,S=u.pendingProps,C=u.memoizedProps,z=S.value,an(np,b._currentValue),b._currentValue=z,C!==null)if(ii(C.value,z)){if(C.children===S.children&&!Qr.current){u=Ia(l,u,p);break e}}else for(C=u.child,C!==null&&(C.return=u);C!==null;){var Q=C.dependencies;if(Q!==null){z=C.child;for(var Y=Q.firstContext;Y!==null;){if(Y.context===b){if(C.tag===1){Y=Aa(-1,p&-p),Y.tag=2;var le=C.updateQueue;if(le!==null){le=le.shared;var je=le.pending;je===null?Y.next=Y:(Y.next=je.next,je.next=Y),le.pending=Y}}C.lanes|=p,Y=C.alternate,Y!==null&&(Y.lanes|=p),x0(C.return,p,u),Q.lanes|=p;break}Y=Y.next}}else if(C.tag===10)z=C.type===u.type?null:C.child;else if(C.tag===18){if(z=C.return,z===null)throw Error(n(341));z.lanes|=p,Q=z.alternate,Q!==null&&(Q.lanes|=p),x0(z,p,u),z=C.sibling}else z=C.child;if(z!==null)z.return=C;else for(z=C;z!==null;){if(z===u){z=null;break}if(C=z.sibling,C!==null){C.return=z.return,z=C;break}z=z.return}C=z}Fr(l,u,S.children,p),u=u.child}return u;case 9:return S=u.type,b=u.pendingProps.children,bu(u,p),S=Vs(S),b=b(S),u.flags|=1,Fr(l,u,b,p),u.child;case 14:return b=u.type,S=oi(b,u.pendingProps),S=oi(b.type,S),nE(l,u,b,S,p);case 15:return rE(l,u,u.type,u.pendingProps,p);case 17:return b=u.type,S=u.pendingProps,S=u.elementType===b?S:oi(b,S),fp(l,u),u.tag=1,Yr(b)?(l=!0,Yf(u)):l=!1,bu(u,p),GS(u,b,S),P0(u,b,S,p),O0(null,u,b,!0,l,p);case 19:return dE(l,u,p);case 22:return sE(l,u,p)}throw Error(n(156,u.tag))};function ME(l,u){return yo(l,u)}function EV(l,u,p,b){this.tag=l,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bs(l,u,p,b){return new EV(l,u,p,b)}function rv(l){return l=l.prototype,!(!l||!l.isReactComponent)}function CV(l){if(typeof l=="function")return rv(l)?1:0;if(l!=null){if(l=l.$$typeof,l===M)return 11;if(l===ne)return 14}return 2}function Oo(l,u){var p=l.alternate;return p===null?(p=Bs(l.tag,u,l.key,l.mode),p.elementType=l.elementType,p.type=l.type,p.stateNode=l.stateNode,p.alternate=l,l.alternate=p):(p.pendingProps=u,p.type=l.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=l.flags&14680064,p.childLanes=l.childLanes,p.lanes=l.lanes,p.child=l.child,p.memoizedProps=l.memoizedProps,p.memoizedState=l.memoizedState,p.updateQueue=l.updateQueue,u=l.dependencies,p.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},p.sibling=l.sibling,p.index=l.index,p.ref=l.ref,p}function Sp(l,u,p,b,S,C){var z=2;if(b=l,typeof l=="function")rv(l)&&(z=1);else if(typeof l=="string")z=5;else e:switch(l){case P:return rc(p.children,S,C,u);case R:z=8,S|=8;break;case I:return l=Bs(12,p,u,S|2),l.elementType=I,l.lanes=C,l;case U:return l=Bs(13,p,u,S),l.elementType=U,l.lanes=C,l;case J:return l=Bs(19,p,u,S),l.elementType=J,l.lanes=C,l;case se:return Ep(p,S,C,u);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case O:z=10;break e;case V:z=9;break e;case M:z=11;break e;case ne:z=14;break e;case ce:z=16,b=null;break e}throw Error(n(130,l==null?l:typeof l,""))}return u=Bs(z,p,u,S),u.elementType=l,u.type=b,u.lanes=C,u}function rc(l,u,p,b){return l=Bs(7,l,b,u),l.lanes=p,l}function Ep(l,u,p,b){return l=Bs(22,l,b,u),l.elementType=se,l.lanes=p,l.stateNode={isHidden:!1},l}function sv(l,u,p){return l=Bs(6,l,null,u),l.lanes=p,l}function iv(l,u,p){return u=Bs(4,l.children!==null?l.children:[],l.key,u),u.lanes=p,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}function kV(l,u,p,b,S){this.tag=u,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=th(0),this.expirationTimes=th(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=th(0),this.identifierPrefix=b,this.onRecoverableError=S,this.mutableSourceEagerHydrationData=null}function av(l,u,p,b,S,C,z,Q,Y){return l=new kV(l,u,p,Q,Y),u===1?(u=1,C===!0&&(u|=8)):u=0,C=Bs(3,null,null,u),l.current=C,C.stateNode=l,C.memoizedState={element:b,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},v0(C),l}function TV(l,u,p){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:b==null?null:""+b,children:l,containerInfo:u,implementation:p}}function LE(l){if(!l)return ko;l=l._reactInternals;e:{if(jr(l)!==l||l.tag!==1)throw Error(n(170));var u=l;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Yr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(n(171))}if(l.tag===1){var p=l.type;if(Yr(p))return uS(l,p,u)}return u}function OE(l,u,p,b,S,C,z,Q,Y){return l=av(p,b,!0,l,S,C,z,Q,Y),l.context=LE(null),p=l.current,b=Vr(),S=Mo(p),C=Aa(b,S),C.callback=u??null,Io(p,C,S),l.current.lanes=S,zl(l,S,b),Zr(l,b),l}function Cp(l,u,p,b){var S=u.current,C=Vr(),z=Mo(S);return p=LE(p),u.context===null?u.context=p:u.pendingContext=p,u=Aa(C,z),u.payload={element:l},b=b===void 0?null:b,b!==null&&(u.callback=b),l=Io(S,u,z),l!==null&&(ui(l,S,z,C),sp(l,S,z)),z}function kp(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function FE(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var p=l.retryLane;l.retryLane=p!==0&&p<u?p:u}}function ov(l,u){FE(l,u),(l=l.alternate)&&FE(l,u)}function AV(){return null}var VE=typeof reportError=="function"?reportError:function(l){console.error(l)};function lv(l){this._internalRoot=l}Tp.prototype.render=lv.prototype.render=function(l){var u=this._internalRoot;if(u===null)throw Error(n(409));Cp(l,u,null,null)},Tp.prototype.unmount=lv.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var u=l.containerInfo;ec(function(){Cp(null,l,null,null)}),u[Sa]=null}};function Tp(l){this._internalRoot=l}Tp.prototype.unstable_scheduleHydration=function(l){if(l){var u=ih();l={blockedOn:null,target:l,priority:u};for(var p=0;p<ys.length&&u!==0&&u<ys[p].priority;p++);ys.splice(p,0,l),p===0&&Xc(l)}};function cv(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function Ap(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function UE(){}function IV(l,u,p,b,S){if(S){if(typeof b=="function"){var C=b;b=function(){var le=kp(z);C.call(le)}}var z=OE(u,b,l,0,null,!1,!1,"",UE);return l._reactRootContainer=z,l[Sa]=z.current,xh(l.nodeType===8?l.parentNode:l),ec(),z}for(;S=l.lastChild;)l.removeChild(S);if(typeof b=="function"){var Q=b;b=function(){var le=kp(Y);Q.call(le)}}var Y=av(l,0,!1,null,null,!1,!1,"",UE);return l._reactRootContainer=Y,l[Sa]=Y.current,xh(l.nodeType===8?l.parentNode:l),ec(function(){Cp(u,Y,p,b)}),Y}function Ip(l,u,p,b,S){var C=p._reactRootContainer;if(C){var z=C;if(typeof S=="function"){var Q=S;S=function(){var Y=kp(z);Q.call(Y)}}Cp(u,z,l,S)}else z=IV(p,u,l,S,b);return kp(z)}rh=function(l){switch(l.tag){case 3:var u=l.stateNode;if(u.current.memoizedState.isDehydrated){var p=Bt(u.pendingLanes);p!==0&&(nh(u,p|1),Zr(u,dn()),(Ot&6)===0&&(Su=dn()+500,To()))}break;case 13:ec(function(){var b=Ta(l,1);if(b!==null){var S=Vr();ui(b,l,1,S)}}),ov(l,1)}},Yc=function(l){if(l.tag===13){var u=Ta(l,134217728);if(u!==null){var p=Vr();ui(u,l,134217728,p)}ov(l,134217728)}},sh=function(l){if(l.tag===13){var u=Mo(l),p=Ta(l,u);if(p!==null){var b=Vr();ui(p,l,u,b)}ov(l,u)}},ih=function(){return Dt},ah=function(l,u){var p=Dt;try{return Dt=l,u()}finally{Dt=p}},Wr=function(l,u,p){switch(u){case"input":if(Yn(l,p),u=p.name,p.type==="radio"&&u!=null){for(p=l;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<p.length;u++){var b=p[u];if(b!==l&&b.form===l.form){var S=Gf(b);if(!S)throw Error(n(90));ft(b),Yn(b,S)}}}break;case"textarea":_i(l,p);break;case"select":u=p.value,u!=null&&Dr(l,!!p.multiple,u,!1)}},Si=ev,Pl=ec;var RV={usingClientEntryPoint:!1,Events:[bh,hu,Gf,Lr,Or,ev]},Dh={findFiberByHostInstance:Wl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},PV={bundleType:Dh.bundleType,version:Dh.version,rendererPackageName:Dh.rendererPackageName,rendererConfig:Dh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=ut(l),l===null?null:l.stateNode},findFiberByHostInstance:Dh.findFiberByHostInstance||AV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rp.isDisabled&&Rp.supportsFiber)try{Ol=Rp.inject(PV),gs=Rp}catch{}}return es.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RV,es.createPortal=function(l,u){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cv(u))throw Error(n(200));return TV(l,u,null,p)},es.createRoot=function(l,u){if(!cv(l))throw Error(n(299));var p=!1,b="",S=VE;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(b=u.identifierPrefix),u.onRecoverableError!==void 0&&(S=u.onRecoverableError)),u=av(l,1,!1,null,null,p,!1,b,S),l[Sa]=u.current,xh(l.nodeType===8?l.parentNode:l),new lv(u)},es.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(n(188)):(l=Object.keys(l).join(","),Error(n(268,l)));return l=ut(u),l=l===null?null:l.stateNode,l},es.flushSync=function(l){return ec(l)},es.hydrate=function(l,u,p){if(!Ap(u))throw Error(n(200));return Ip(null,l,u,!0,p)},es.hydrateRoot=function(l,u,p){if(!cv(l))throw Error(n(405));var b=p!=null&&p.hydratedSources||null,S=!1,C="",z=VE;if(p!=null&&(p.unstable_strictMode===!0&&(S=!0),p.identifierPrefix!==void 0&&(C=p.identifierPrefix),p.onRecoverableError!==void 0&&(z=p.onRecoverableError)),u=OE(u,null,l,1,p??null,S,!1,C,z),l[Sa]=u.current,xh(l),b)for(l=0;l<b.length;l++)p=b[l],S=p._getVersion,S=S(p._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[p,S]:u.mutableSourceEagerHydrationData.push(p,S);return new Tp(u)},es.render=function(l,u,p){if(!Ap(u))throw Error(n(200));return Ip(null,l,u,!1,p)},es.unmountComponentAtNode=function(l){if(!Ap(l))throw Error(n(40));return l._reactRootContainer?(ec(function(){Ip(null,null,l,!1,function(){l._reactRootContainer=null,l[Sa]=null})}),!0):!1},es.unstable_batchedUpdates=ev,es.unstable_renderSubtreeIntoContainer=function(l,u,p,b){if(!Ap(p))throw Error(n(200));if(l==null||l._reactInternals===void 0)throw Error(n(38));return Ip(l,u,p,!1,b)},es.version="18.3.1-next-f1338f8080-20240426",es}var QE;function _I(){if(QE)return mv.exports;QE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),mv.exports=zV(),mv.exports}var YE;function BV(){if(YE)return Pp;YE=1;var t=_I();return Pp.createRoot=t.createRoot,Pp.hydrateRoot=t.hydrateRoot,Pp}var $V=BV();const qV=Ed($V);/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var JE="popstate";function HV(t={}){function e(r,i){let{pathname:a,search:o,hash:c}=r.location;return Hb("",{pathname:a,search:o,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:_m(i)}return KV(e,n,null,t)}function En(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function oa(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function WV(){return Math.random().toString(36).substring(2,10)}function XE(t,e){return{usr:t.state,key:t.key,idx:e}}function Hb(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Cd(e):e,state:n,key:e&&e.key||r||WV()}}function _m({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Cd(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function KV(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,c="POP",d=null,h=m();h==null&&(h=0,o.replaceState({...o.state,idx:h},""));function m(){return(o.state||{idx:null}).idx}function f(){c="POP";let w=m(),N=w==null?null:w-h;h=w,d&&d({action:c,location:j.location,delta:N})}function g(w,N){c="PUSH";let E=Hb(j.location,w,N);h=m()+1;let A=XE(E,h),T=j.createHref(E);try{o.pushState(A,"",T)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(T)}a&&d&&d({action:c,location:j.location,delta:1})}function x(w,N){c="REPLACE";let E=Hb(j.location,w,N);h=m();let A=XE(E,h),T=j.createHref(E);o.replaceState(A,"",T),a&&d&&d({action:c,location:j.location,delta:0})}function _(w){return GV(w)}let j={get action(){return c},get location(){return t(i,o)},listen(w){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(JE,f),d=w,()=>{i.removeEventListener(JE,f),d=null}},createHref(w){return e(i,w)},createURL:_,encodeLocation(w){let N=_(w);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:g,replace:x,go(w){return o.go(w)}};return j}function GV(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),En(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:_m(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function SI(t,e,n="/"){return QV(t,e,n,!1)}function QV(t,e,n,r){let i=typeof e=="string"?Cd(e):e,a=Ka(i.pathname||"/",n);if(a==null)return null;let o=EI(t);YV(o);let c=null;for(let d=0;c==null&&d<o.length;++d){let h=oU(a);c=iU(o[d],h,r)}return c}function EI(t,e=[],n=[],r="",i=!1){let a=(o,c,d=i,h)=>{let m={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&d)return;En(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let f=za([r,m.relativePath]),g=n.concat(m);o.children&&o.children.length>0&&(En(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),EI(o.children,e,g,f,d)),!(o.path==null&&!o.index)&&e.push({path:f,score:rU(f,o.index),routesMeta:g})};return t.forEach((o,c)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))a(o,c);else for(let h of CI(o.path))a(o,c,!0,h)}),e}function CI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=CI(r.join("/")),c=[];return c.push(...o.map(d=>d===""?a:[a,d].join("/"))),i&&c.push(...o),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function YV(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:sU(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var JV=/^:[\w-]+$/,XV=3,ZV=2,eU=1,tU=10,nU=-2,ZE=t=>t==="*";function rU(t,e){let n=t.split("/"),r=n.length;return n.some(ZE)&&(r+=nU),e&&(r+=ZV),n.filter(i=>!ZE(i)).reduce((i,a)=>i+(JV.test(a)?XV:a===""?eU:tU),r)}function sU(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function iU(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",o=[];for(let c=0;c<r.length;++c){let d=r[c],h=c===r.length-1,m=a==="/"?e:e.slice(a.length)||"/",f=Vg({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},m),g=d.route;if(!f&&h&&n&&!r[r.length-1].route.index&&(f=Vg({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:za([a,f.pathname]),pathnameBase:dU(za([a,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(a=za([a,f.pathnameBase]))}return o}function Vg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=aU(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((h,{paramName:m,isOptional:f},g)=>{if(m==="*"){let _=c[g]||"";o=a.slice(0,a.length-_.length).replace(/(.)\/+$/,"$1")}const x=c[g];return f&&!x?h[m]=void 0:h[m]=(x||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:o,pattern:t}}function aU(t,e=!1,n=!0){oa(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function oU(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return oa(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ka(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function lU(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Cd(t):t;return{pathname:n?n.startsWith("/")?n:cU(n,e):e,search:hU(r),hash:mU(i)}}function cU(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function gv(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function uU(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function kI(t){let e=uU(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function TI(t,e,n,r=!1){let i;typeof t=="string"?i=Cd(t):(i={...t},En(!i.pathname||!i.pathname.includes("?"),gv("?","pathname","search",i)),En(!i.pathname||!i.pathname.includes("#"),gv("#","pathname","hash",i)),En(!i.search||!i.search.includes("#"),gv("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,c;if(o==null)c=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),f-=1;i.pathname=g.join("/")}c=f>=0?e[f]:"/"}let d=lU(i,c),h=o&&o!=="/"&&o.endsWith("/"),m=(a||o===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(h||m)&&(d.pathname+="/"),d}var za=t=>t.join("/").replace(/\/\/+/g,"/"),dU=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),hU=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,mU=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function fU(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var AI=["POST","PUT","PATCH","DELETE"];new Set(AI);var pU=["GET",...AI];new Set(pU);var kd=v.createContext(null);kd.displayName="DataRouter";var Rx=v.createContext(null);Rx.displayName="DataRouterState";v.createContext(!1);var II=v.createContext({isTransitioning:!1});II.displayName="ViewTransition";var gU=v.createContext(new Map);gU.displayName="Fetchers";var xU=v.createContext(null);xU.displayName="Await";var ma=v.createContext(null);ma.displayName="Navigation";var Zm=v.createContext(null);Zm.displayName="Location";var oo=v.createContext({outlet:null,matches:[],isDataRoute:!1});oo.displayName="Route";var L1=v.createContext(null);L1.displayName="RouteError";function yU(t,{relative:e}={}){En(ef(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=v.useContext(ma),{hash:i,pathname:a,search:o}=tf(t,{relative:e}),c=a;return n!=="/"&&(c=a==="/"?n:za([n,a])),r.createHref({pathname:c,search:o,hash:i})}function ef(){return v.useContext(Zm)!=null}function lo(){return En(ef(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(Zm).location}var RI="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function PI(t){v.useContext(ma).static||v.useLayoutEffect(t)}function zn(){let{isDataRoute:t}=v.useContext(oo);return t?IU():vU()}function vU(){En(ef(),"useNavigate() may be used only in the context of a <Router> component.");let t=v.useContext(kd),{basename:e,navigator:n}=v.useContext(ma),{matches:r}=v.useContext(oo),{pathname:i}=lo(),a=JSON.stringify(kI(r)),o=v.useRef(!1);return PI(()=>{o.current=!0}),v.useCallback((d,h={})=>{if(oa(o.current,RI),!o.current)return;if(typeof d=="number"){n.go(d);return}let m=TI(d,JSON.parse(a),i,h.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:za([e,m.pathname])),(h.replace?n.replace:n.push)(m,h.state,h)},[e,n,a,i,t])}v.createContext(null);function tf(t,{relative:e}={}){let{matches:n}=v.useContext(oo),{pathname:r}=lo(),i=JSON.stringify(kI(n));return v.useMemo(()=>TI(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function bU(t,e){return DI(t,e)}function DI(t,e,n,r,i){var E;En(ef(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=v.useContext(ma),{matches:o}=v.useContext(oo),c=o[o.length-1],d=c?c.params:{},h=c?c.pathname:"/",m=c?c.pathnameBase:"/",f=c&&c.route;{let A=f&&f.path||"";MI(h,!f||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let g=lo(),x;if(e){let A=typeof e=="string"?Cd(e):e;En(m==="/"||((E=A.pathname)==null?void 0:E.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${A.pathname}" was given in the \`location\` prop.`),x=A}else x=g;let _=x.pathname||"/",j=_;if(m!=="/"){let A=m.replace(/^\//,"").split("/");j="/"+_.replace(/^\//,"").split("/").slice(A.length).join("/")}let w=SI(t,{pathname:j});oa(f||w!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),oa(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=SU(w&&w.map(A=>Object.assign({},A,{params:Object.assign({},d,A.params),pathname:za([m,a.encodeLocation?a.encodeLocation(A.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?m:za([m,a.encodeLocation?a.encodeLocation(A.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathnameBase])})),o,n,r,i);return e&&N?v.createElement(Zm.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},N):N}function wU(){let t=AU(),e=fU(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:a},"ErrorBoundary")," or"," ",v.createElement("code",{style:a},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),n?v.createElement("pre",{style:i},n):null,o)}var jU=v.createElement(wU,null),NU=class extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?v.createElement(oo.Provider,{value:this.props.routeContext},v.createElement(L1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function _U({routeContext:t,match:e,children:n}){let r=v.useContext(kd);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),v.createElement(oo.Provider,{value:t},n)}function SU(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=n==null?void 0:n.errors;if(o!=null){let h=a.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);En(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,d=-1;if(n)for(let h=0;h<a.length;h++){let m=a[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=h),m.route.id){let{loaderData:f,errors:g}=n,x=m.route.loader&&!f.hasOwnProperty(m.route.id)&&(!g||g[m.route.id]===void 0);if(m.route.lazy||x){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((h,m,f)=>{let g,x=!1,_=null,j=null;n&&(g=o&&m.route.id?o[m.route.id]:void 0,_=m.route.errorElement||jU,c&&(d<0&&f===0?(MI("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,j=null):d===f&&(x=!0,j=m.route.hydrateFallbackElement||null)));let w=e.concat(a.slice(0,f+1)),N=()=>{let E;return g?E=_:x?E=j:m.route.Component?E=v.createElement(m.route.Component,null):m.route.element?E=m.route.element:E=h,v.createElement(_U,{match:m,routeContext:{outlet:h,matches:w,isDataRoute:n!=null},children:E})};return n&&(m.route.ErrorBoundary||m.route.errorElement||f===0)?v.createElement(NU,{location:n.location,revalidation:n.revalidation,component:_,error:g,children:N(),routeContext:{outlet:null,matches:w,isDataRoute:!0},unstable_onError:r}):N()},null)}function O1(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function EU(t){let e=v.useContext(kd);return En(e,O1(t)),e}function CU(t){let e=v.useContext(Rx);return En(e,O1(t)),e}function kU(t){let e=v.useContext(oo);return En(e,O1(t)),e}function F1(t){let e=kU(t),n=e.matches[e.matches.length-1];return En(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function TU(){return F1("useRouteId")}function AU(){var r;let t=v.useContext(L1),e=CU("useRouteError"),n=F1("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function IU(){let{router:t}=EU("useNavigate"),e=F1("useNavigate"),n=v.useRef(!1);return PI(()=>{n.current=!0}),v.useCallback(async(i,a={})=>{oa(n.current,RI),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var eC={};function MI(t,e,n){!e&&!eC[t]&&(eC[t]=!0,oa(!1,n))}v.memo(RU);function RU({routes:t,future:e,state:n,unstable_onError:r}){return DI(t,void 0,n,r,e)}function Me(t){En(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function PU({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){En(!ef(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),c=v.useMemo(()=>({basename:o,navigator:i,static:a,future:{}}),[o,i,a]);typeof n=="string"&&(n=Cd(n));let{pathname:d="/",search:h="",hash:m="",state:f=null,key:g="default"}=n,x=v.useMemo(()=>{let _=Ka(d,o);return _==null?null:{location:{pathname:_,search:h,hash:m,state:f,key:g},navigationType:r}},[o,d,h,m,f,g,r]);return oa(x!=null,`<Router basename="${o}"> is not able to match the URL "${d}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:v.createElement(ma.Provider,{value:c},v.createElement(Zm.Provider,{children:e,value:x}))}function DU({children:t,location:e}){return bU(Wb(t),e)}function Wb(t,e=[]){let n=[];return v.Children.forEach(t,(r,i)=>{if(!v.isValidElement(r))return;let a=[...e,i];if(r.type===v.Fragment){n.push.apply(n,Wb(r.props.children,a));return}En(r.type===Me,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),En(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Wb(r.props.children,a)),n.push(o)}),n}var ug="get",dg="application/x-www-form-urlencoded";function Px(t){return t!=null&&typeof t.tagName=="string"}function MU(t){return Px(t)&&t.tagName.toLowerCase()==="button"}function LU(t){return Px(t)&&t.tagName.toLowerCase()==="form"}function OU(t){return Px(t)&&t.tagName.toLowerCase()==="input"}function FU(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function VU(t,e){return t.button===0&&(!e||e==="_self")&&!FU(t)}var Dp=null;function UU(){if(Dp===null)try{new FormData(document.createElement("form"),0),Dp=!1}catch{Dp=!0}return Dp}var zU=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xv(t){return t!=null&&!zU.has(t)?(oa(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${dg}"`),null):t}function BU(t,e){let n,r,i,a,o;if(LU(t)){let c=t.getAttribute("action");r=c?Ka(c,e):null,n=t.getAttribute("method")||ug,i=xv(t.getAttribute("enctype"))||dg,a=new FormData(t)}else if(MU(t)||OU(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||c.getAttribute("action");if(r=d?Ka(d,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||ug,i=xv(t.getAttribute("formenctype"))||xv(c.getAttribute("enctype"))||dg,a=new FormData(c,t),!UU()){let{name:h,type:m,value:f}=t;if(m==="image"){let g=h?`${h}.`:"";a.append(`${g}x`,"0"),a.append(`${g}y`,"0")}else h&&a.append(h,f)}}else{if(Px(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ug,r=null,i=dg,o=t}return a&&i==="text/plain"&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function V1(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function $U(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Ka(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function qU(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function HU(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function WU(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let o=await qU(a,n);return o.links?o.links():[]}return[]}));return YU(r.flat(1).filter(HU).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function tC(t,e,n,r,i,a){let o=(d,h)=>n[h]?d.route.id!==n[h].route.id:!0,c=(d,h)=>{var m;return n[h].pathname!==d.pathname||((m=n[h].route.path)==null?void 0:m.endsWith("*"))&&n[h].params["*"]!==d.params["*"]};return a==="assets"?e.filter((d,h)=>o(d,h)||c(d,h)):a==="data"?e.filter((d,h)=>{var f;let m=r.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(o(d,h)||c(d,h))return!0;if(d.route.shouldRevalidate){let g=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function KU(t,e,{includeHydrateFallback:n}={}){return GU(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function GU(t){return[...new Set(t)]}function QU(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function YU(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(QU(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function LI(){let t=v.useContext(kd);return V1(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function JU(){let t=v.useContext(Rx);return V1(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var U1=v.createContext(void 0);U1.displayName="FrameworkContext";function OI(){let t=v.useContext(U1);return V1(t,"You must render this element inside a <HydratedRouter> element"),t}function XU(t,e){let n=v.useContext(U1),[r,i]=v.useState(!1),[a,o]=v.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:h,onMouseLeave:m,onTouchStart:f}=e,g=v.useRef(null);v.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let j=N=>{N.forEach(E=>{o(E.isIntersecting)})},w=new IntersectionObserver(j,{threshold:.5});return g.current&&w.observe(g.current),()=>{w.disconnect()}}},[t]),v.useEffect(()=>{if(r){let j=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(j)}}},[r]);let x=()=>{i(!0)},_=()=>{i(!1),o(!1)};return n?t!=="intent"?[a,g,{}]:[a,g,{onFocus:Lh(c,x),onBlur:Lh(d,_),onMouseEnter:Lh(h,x),onMouseLeave:Lh(m,_),onTouchStart:Lh(f,x)}]:[!1,g,{}]}function Lh(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function ZU({page:t,...e}){let{router:n}=LI(),r=v.useMemo(()=>SI(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?v.createElement(t9,{page:t,matches:r,...e}):null}function e9(t){let{manifest:e,routeModules:n}=OI(),[r,i]=v.useState([]);return v.useEffect(()=>{let a=!1;return WU(t,e,n).then(o=>{a||i(o)}),()=>{a=!0}},[t,e,n]),r}function t9({page:t,matches:e,...n}){let r=lo(),{manifest:i,routeModules:a}=OI(),{basename:o}=LI(),{loaderData:c,matches:d}=JU(),h=v.useMemo(()=>tC(t,e,d,i,r,"data"),[t,e,d,i,r]),m=v.useMemo(()=>tC(t,e,d,i,r,"assets"),[t,e,d,i,r]),f=v.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let _=new Set,j=!1;if(e.forEach(N=>{var A;let E=i.routes[N.route.id];!E||!E.hasLoader||(!h.some(T=>T.route.id===N.route.id)&&N.route.id in c&&((A=a[N.route.id])!=null&&A.shouldRevalidate)||E.hasClientLoader?j=!0:_.add(N.route.id))}),_.size===0)return[];let w=$U(t,o,"data");return j&&_.size>0&&w.searchParams.set("_routes",e.filter(N=>_.has(N.route.id)).map(N=>N.route.id).join(",")),[w.pathname+w.search]},[o,c,r,i,h,e,t,a]),g=v.useMemo(()=>KU(m,i),[m,i]),x=e9(m);return v.createElement(v.Fragment,null,f.map(_=>v.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),g.map(_=>v.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),x.map(({key:_,link:j})=>v.createElement("link",{key:_,nonce:n.nonce,...j})))}function n9(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var FI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{FI&&(window.__reactRouterVersion="7.9.5")}catch{}function VI({basename:t,children:e,window:n}){let r=v.useRef();r.current==null&&(r.current=HV({window:n,v5Compat:!0}));let i=r.current,[a,o]=v.useState({action:i.action,location:i.location}),c=v.useCallback(d=>{v.startTransition(()=>o(d))},[o]);return v.useLayoutEffect(()=>i.listen(c),[i,c]),v.createElement(PU,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var UI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Nt=v.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:o,state:c,target:d,to:h,preventScrollReset:m,viewTransition:f,...g},x){let{basename:_}=v.useContext(ma),j=typeof h=="string"&&UI.test(h),w,N=!1;if(typeof h=="string"&&j&&(w=h,FI))try{let I=new URL(window.location.href),O=h.startsWith("//")?new URL(I.protocol+h):new URL(h),V=Ka(O.pathname,_);O.origin===I.origin&&V!=null?h=V+O.search+O.hash:N=!0}catch{oa(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=yU(h,{relative:i}),[A,T,D]=XU(r,g),F=a9(h,{replace:o,state:c,target:d,preventScrollReset:m,relative:i,viewTransition:f});function P(I){e&&e(I),I.defaultPrevented||F(I)}let R=v.createElement("a",{...g,...D,href:w||E,onClick:N||a?e:P,ref:n9(x,T),target:d,"data-discover":!j&&n==="render"?"true":void 0});return A&&!j?v.createElement(v.Fragment,null,R,v.createElement(ZU,{page:E})):R});Nt.displayName="Link";var r9=v.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:o,viewTransition:c,children:d,...h},m){let f=tf(o,{relative:h.relative}),g=lo(),x=v.useContext(Rx),{navigator:_,basename:j}=v.useContext(ma),w=x!=null&&d9(f)&&c===!0,N=_.encodeLocation?_.encodeLocation(f).pathname:f.pathname,E=g.pathname,A=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(E=E.toLowerCase(),A=A?A.toLowerCase():null,N=N.toLowerCase()),A&&j&&(A=Ka(A,j)||A);const T=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let D=E===N||!i&&E.startsWith(N)&&E.charAt(T)==="/",F=A!=null&&(A===N||!i&&A.startsWith(N)&&A.charAt(N.length)==="/"),P={isActive:D,isPending:F,isTransitioning:w},R=D?e:void 0,I;typeof r=="function"?I=r(P):I=[r,D?"active":null,F?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let O=typeof a=="function"?a(P):a;return v.createElement(Nt,{...h,"aria-current":R,className:I,ref:m,style:O,to:o,viewTransition:c},typeof d=="function"?d(P):d)});r9.displayName="NavLink";var s9=v.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:o=ug,action:c,onSubmit:d,relative:h,preventScrollReset:m,viewTransition:f,...g},x)=>{let _=c9(),j=u9(c,{relative:h}),w=o.toLowerCase()==="get"?"get":"post",N=typeof c=="string"&&UI.test(c),E=A=>{if(d&&d(A),A.defaultPrevented)return;A.preventDefault();let T=A.nativeEvent.submitter,D=(T==null?void 0:T.getAttribute("formmethod"))||o;_(T||A.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:i,state:a,relative:h,preventScrollReset:m,viewTransition:f})};return v.createElement("form",{ref:x,method:w,action:j,onSubmit:r?d:E,...g,"data-discover":!N&&t==="render"?"true":void 0})});s9.displayName="Form";function i9(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zI(t){let e=v.useContext(kd);return En(e,i9(t)),e}function a9(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:o}={}){let c=zn(),d=lo(),h=tf(t,{relative:a});return v.useCallback(m=>{if(VU(m,e)){m.preventDefault();let f=n!==void 0?n:_m(d)===_m(h);c(t,{replace:f,state:r,preventScrollReset:i,relative:a,viewTransition:o})}},[d,c,h,n,r,e,t,i,a,o])}var o9=0,l9=()=>`__${String(++o9)}__`;function c9(){let{router:t}=zI("useSubmit"),{basename:e}=v.useContext(ma),n=TU();return v.useCallback(async(r,i={})=>{let{action:a,method:o,encType:c,formData:d,body:h}=BU(r,e);if(i.navigate===!1){let m=i.fetcherKey||l9();await t.fetch(m,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:h,formMethod:i.method||o,formEncType:i.encType||c,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:h,formMethod:i.method||o,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function u9(t,{relative:e}={}){let{basename:n}=v.useContext(ma),r=v.useContext(oo);En(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...tf(t||".",{relative:e})},o=lo();if(t==null){a.search=o.search;let c=new URLSearchParams(a.search),d=c.getAll("index");if(d.some(m=>m==="")){c.delete("index"),d.filter(f=>f).forEach(f=>c.append("index",f));let m=c.toString();a.search=m?`?${m}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:za([n,a.pathname])),_m(a)}function d9(t,{relative:e}={}){let n=v.useContext(II);En(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=zI("useViewTransitionState"),i=tf(t,{relative:e});if(!n.isTransitioning)return!1;let a=Ka(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Ka(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Vg(i.pathname,o)!=null||Vg(i.pathname,a)!=null}var nf=_I();const h9=Ed(nf);function Xe(t){return"/"+t.toLowerCase().replace(/ /g,"-")}/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),BI=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var f9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p9=v.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...c},d)=>v.createElement("svg",{ref:d,...f9,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:BI("lucide",i),...c},[...o.map(([h,m])=>v.createElement(h,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=(t,e)=>{const n=v.forwardRef(({className:r,...i},a)=>v.createElement(p9,{ref:a,iconNode:e,className:BI(`lucide-${m9(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g9=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],jl=Ee("ArrowLeft",g9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x9=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],y9=Ee("ArrowRight",x9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v9=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],wc=Ee("Award",v9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b9=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],un=Ee("BookOpen",b9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w9=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],nC=Ee("Book",w9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j9=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],Td=Ee("Brain",j9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Dx=Ee("Calendar",N9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _9=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],S9=Ee("ChartColumn",_9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E9=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],C9=Ee("ChartNoAxesColumn",E9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k9=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Sm=Ee("Check",k9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T9=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ku=Ee("ChevronDown",T9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A9=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],$I=Ee("ChevronRight",A9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I9=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],qI=Ee("ChevronUp",I9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],z1=Ee("CircleAlert",R9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P9=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],jc=Ee("CircleCheckBig",P9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Yi=Ee("CircleCheck",D9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],L9=Ee("CircleHelp",M9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]],rC=Ee("CirclePlay",O9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]],Mp=Ee("CircleStop",F9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Mx=Ee("CircleX",V9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],B1=Ee("Circle",U9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Oa=Ee("Clock",z9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B9=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],$9=Ee("Copy",B9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q9=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],sC=Ee("Crown",q9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H9=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],co=Ee("Download",H9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W9=[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]],K9=Ee("Eraser",W9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G9=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Gu=Ee("ExternalLink",G9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q9=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Y9=Ee("EyeOff",Q9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J9=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],HI=Ee("Eye",J9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X9=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],$1=Ee("FileText",X9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z9=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],iC=Ee("Filter",Z9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ez=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],Ga=Ee("Gamepad2",ez);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tz=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],WI=Ee("Gift",tz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nz=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],rz=Ee("GitBranch",nz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sz=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],im=Ee("GraduationCap",sz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iz=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],Qa=Ee("Headphones",iz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const az=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Ad=Ee("Heart",az);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oz=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],lz=Ee("House",oz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cz=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Ya=Ee("Image",cz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],yv=Ee("Info",uz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dz=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],aC=Ee("Layers",dz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hz=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],mz=Ee("Lightbulb",hz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fz=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Fu=Ee("LoaderCircle",fz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pz=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],q1=Ee("Lock",pz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gz=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],H1=Ee("LogIn",gz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xz=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],oC=Ee("LogOut",xz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yz=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Lx=Ee("Mail",yz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vz=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],Vu=Ee("Medal",vz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bz=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],wz=Ee("Menu",bz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jz=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],Nz=Ee("MessageCircle",jz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _z=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Ug=Ee("MessageSquare",_z);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sz=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],ol=Ee("Mic",Sz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ez=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],Cz=Ee("Moon",Ez);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kz=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],zg=Ee("Music",kz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tz=[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]],KI=Ee("Newspaper",Tz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Az=[["path",{d:"m14.622 17.897-10.68-2.913",key:"vj2p1u"}],["path",{d:"M18.376 2.622a1 1 0 1 1 3.002 3.002L17.36 9.643a.5.5 0 0 0 0 .707l.944.944a2.41 2.41 0 0 1 0 3.408l-.944.944a.5.5 0 0 1-.707 0L8.354 7.348a.5.5 0 0 1 0-.707l.944-.944a2.41 2.41 0 0 1 3.408 0l.944.944a.5.5 0 0 0 .707 0z",key:"18tc5c"}],["path",{d:"M9 8c-1.804 2.71-3.97 3.46-6.583 3.948a.507.507 0 0 0-.302.819l7.32 8.883a1 1 0 0 0 1.185.204C12.735 20.405 16 16.792 16 15",key:"ytzfxy"}]],Iz=Ee("Paintbrush",Az);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rz=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],Ox=Ee("Palette",Rz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pz=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],Nl=Ee("Pause",Pz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dz=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],Mz=Ee("PenTool",Dz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lz=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Oz=Ee("Pencil",Lz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fz=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],cr=Ee("Play",Fz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vz=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Rs=Ee("Plus",Vz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],GI=Ee("Printer",Uz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]],QI=Ee("Radio",zz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bz=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Fx=Ee("RefreshCw",Bz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $z=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],vv=Ee("Repeat",$z);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qz=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],lC=Ee("RotateCcw",qz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],la=Ee("Save",Hz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Ja=Ee("Search",Wz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kz=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Bg=Ee("Send",Kz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gz=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],hd=Ee("Settings",Gz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qz=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Id=Ee("Shield",Qz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yz=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Qs=Ee("Sparkles",Yz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],uo=Ee("SquarePen",Jz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],W1=Ee("Square",Xz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zz=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Vt=Ee("Star",Zz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],tB=Ee("Sun",eB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],rB=Ee("Swords",nB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],K1=Ee("Target",sB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],nr=Ee("Trash2",iB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Vx=Ee("TrendingUp",aB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],G1=Ee("TriangleAlert",oB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lB=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],xr=Ee("Trophy",lB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Xa=Ee("Upload",cB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],cC=Ee("UserCheck",uB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Kb=Ee("UserPlus",dB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hB=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],YI=Ee("User",hB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],_l=Ee("Users",mB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fB=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Ba=Ee("Video",fB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pB=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],ll=Ee("Volume2",pB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gB=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],Em=Ee("VolumeX",gB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xB=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],qr=Ee("X",xB),Q1=v.createContext({});function Y1(t){const e=v.useRef(null);return e.current===null&&(e.current=t()),e.current}const J1=typeof window<"u",JI=J1?v.useLayoutEffect:v.useEffect,Ux=v.createContext(null);function X1(t,e){t.indexOf(e)===-1&&t.push(e)}function Z1(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Za=(t,e,n)=>n>e?e:n<t?t:n;let ej=()=>{};const eo={},XI=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function ZI(t){return typeof t=="object"&&t!==null}const eR=t=>/^0[^.\s]+$/u.test(t);function tj(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ys=t=>t,yB=(t,e)=>n=>e(t(n)),rf=(...t)=>t.reduce(yB),Cm=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class nj{constructor(){this.subscriptions=[]}add(e){return X1(this.subscriptions,e),()=>Z1(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ji=t=>t*1e3,Gs=t=>t/1e3;function tR(t,e){return e?t*(1e3/e):0}const nR=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,vB=1e-7,bB=12;function wB(t,e,n,r,i){let a,o,c=0;do o=e+(n-e)/2,a=nR(o,r,i)-t,a>0?n=o:e=o;while(Math.abs(a)>vB&&++c<bB);return o}function sf(t,e,n,r){if(t===e&&n===r)return Ys;const i=a=>wB(a,0,1,t,n);return a=>a===0||a===1?a:nR(i(a),e,r)}const rR=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,sR=t=>e=>1-t(1-e),iR=sf(.33,1.53,.69,.99),rj=sR(iR),aR=rR(rj),oR=t=>(t*=2)<1?.5*rj(t):.5*(2-Math.pow(2,-10*(t-1))),sj=t=>1-Math.sin(Math.acos(t)),lR=sR(sj),cR=rR(sj),jB=sf(.42,0,1,1),NB=sf(0,0,.58,1),uR=sf(.42,0,.58,1),_B=t=>Array.isArray(t)&&typeof t[0]!="number",dR=t=>Array.isArray(t)&&typeof t[0]=="number",SB={linear:Ys,easeIn:jB,easeInOut:uR,easeOut:NB,circIn:sj,circInOut:cR,circOut:lR,backIn:rj,backInOut:aR,backOut:iR,anticipate:oR},EB=t=>typeof t=="string",uC=t=>{if(dR(t)){ej(t.length===4);const[e,n,r,i]=t;return sf(e,n,r,i)}else if(EB(t))return SB[t];return t},Lp=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function CB(t,e){let n=new Set,r=new Set,i=!1,a=!1;const o=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(m){o.has(m)&&(h.schedule(m),t()),m(c)}const h={schedule:(m,f=!1,g=!1)=>{const _=g&&i?n:r;return f&&o.add(m),_.has(m)||_.add(m),m},cancel:m=>{r.delete(m),o.delete(m)},process:m=>{if(c=m,i){a=!0;return}i=!0,[n,r]=[r,n],n.forEach(d),n.clear(),i=!1,a&&(a=!1,h.process(m))}};return h}const kB=40;function hR(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=Lp.reduce((A,T)=>(A[T]=CB(a),A),{}),{setup:c,read:d,resolveKeyframes:h,preUpdate:m,update:f,preRender:g,render:x,postRender:_}=o,j=()=>{const A=eo.useManualTiming?i.timestamp:performance.now();n=!1,eo.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(A-i.timestamp,kB),1)),i.timestamp=A,i.isProcessing=!0,c.process(i),d.process(i),h.process(i),m.process(i),f.process(i),g.process(i),x.process(i),_.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(j))},w=()=>{n=!0,r=!0,i.isProcessing||t(j)};return{schedule:Lp.reduce((A,T)=>{const D=o[T];return A[T]=(F,P=!1,R=!1)=>(n||w(),D.schedule(F,P,R)),A},{}),cancel:A=>{for(let T=0;T<Lp.length;T++)o[Lp[T]].cancel(A)},state:i,steps:o}}const{schedule:yn,cancel:cl,state:fr,steps:bv}=hR(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ys,!0);let hg;function TB(){hg=void 0}const os={now:()=>(hg===void 0&&os.set(fr.isProcessing||eo.useManualTiming?fr.timestamp:performance.now()),hg),set:t=>{hg=t,queueMicrotask(TB)}},mR=t=>e=>typeof e=="string"&&e.startsWith(t),ij=mR("--"),AB=mR("var(--"),aj=t=>AB(t)?IB.test(t.split("/*")[0].trim()):!1,IB=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Rd={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},km={...Rd,transform:t=>Za(0,1,t)},Op={...Rd,default:1},am=t=>Math.round(t*1e5)/1e5,oj=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function RB(t){return t==null}const PB=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,lj=(t,e)=>n=>!!(typeof n=="string"&&PB.test(n)&&n.startsWith(t)||e&&!RB(n)&&Object.prototype.hasOwnProperty.call(n,e)),fR=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,a,o,c]=r.match(oj);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(o),alpha:c!==void 0?parseFloat(c):1}},DB=t=>Za(0,255,t),wv={...Rd,transform:t=>Math.round(DB(t))},lc={test:lj("rgb","red"),parse:fR("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+wv.transform(t)+", "+wv.transform(e)+", "+wv.transform(n)+", "+am(km.transform(r))+")"};function MB(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Gb={test:lj("#"),parse:MB,transform:lc.transform},af=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Bo=af("deg"),Xi=af("%"),ot=af("px"),LB=af("vh"),OB=af("vw"),dC={...Xi,parse:t=>Xi.parse(t)/100,transform:t=>Xi.transform(t*100)},Uu={test:lj("hsl","hue"),parse:fR("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Xi.transform(am(e))+", "+Xi.transform(am(n))+", "+am(km.transform(r))+")"},Kn={test:t=>lc.test(t)||Gb.test(t)||Uu.test(t),parse:t=>lc.test(t)?lc.parse(t):Uu.test(t)?Uu.parse(t):Gb.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?lc.transform(t):Uu.transform(t),getAnimatableNone:t=>{const e=Kn.parse(t);return e.alpha=0,Kn.transform(e)}},FB=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function VB(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(oj))==null?void 0:e.length)||0)+(((n=t.match(FB))==null?void 0:n.length)||0)>0}const pR="number",gR="color",UB="var",zB="var(",hC="${}",BB=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Tm(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const c=e.replace(BB,d=>(Kn.test(d)?(r.color.push(a),i.push(gR),n.push(Kn.parse(d))):d.startsWith(zB)?(r.var.push(a),i.push(UB),n.push(d)):(r.number.push(a),i.push(pR),n.push(parseFloat(d))),++a,hC)).split(hC);return{values:n,split:c,indexes:r,types:i}}function xR(t){return Tm(t).values}function yR(t){const{split:e,types:n}=Tm(t),r=e.length;return i=>{let a="";for(let o=0;o<r;o++)if(a+=e[o],i[o]!==void 0){const c=n[o];c===pR?a+=am(i[o]):c===gR?a+=Kn.transform(i[o]):a+=i[o]}return a}}const $B=t=>typeof t=="number"?0:Kn.test(t)?Kn.getAnimatableNone(t):t;function qB(t){const e=xR(t);return yR(t)(e.map($B))}const ul={test:VB,parse:xR,createTransformer:yR,getAnimatableNone:qB};function jv(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function HB({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,a=0,o=0;if(!e)i=a=o=n;else{const c=n<.5?n*(1+e):n+e-n*e,d=2*n-c;i=jv(d,c,t+1/3),a=jv(d,c,t),o=jv(d,c,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}function $g(t,e){return n=>n>0?e:t}const Sn=(t,e,n)=>t+(e-t)*n,Nv=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},WB=[Gb,lc,Uu],KB=t=>WB.find(e=>e.test(t));function mC(t){const e=KB(t);if(!e)return!1;let n=e.parse(t);return e===Uu&&(n=HB(n)),n}const fC=(t,e)=>{const n=mC(t),r=mC(e);if(!n||!r)return $g(t,e);const i={...n};return a=>(i.red=Nv(n.red,r.red,a),i.green=Nv(n.green,r.green,a),i.blue=Nv(n.blue,r.blue,a),i.alpha=Sn(n.alpha,r.alpha,a),lc.transform(i))},Qb=new Set(["none","hidden"]);function GB(t,e){return Qb.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function QB(t,e){return n=>Sn(t,e,n)}function cj(t){return typeof t=="number"?QB:typeof t=="string"?aj(t)?$g:Kn.test(t)?fC:XB:Array.isArray(t)?vR:typeof t=="object"?Kn.test(t)?fC:YB:$g}function vR(t,e){const n=[...t],r=n.length,i=t.map((a,o)=>cj(a)(a,e[o]));return a=>{for(let o=0;o<r;o++)n[o]=i[o](a);return n}}function YB(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=cj(t[i])(t[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function JB(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],o=t.indexes[a][r[a]],c=t.values[o]??0;n[i]=c,r[a]++}return n}const XB=(t,e)=>{const n=ul.createTransformer(e),r=Tm(t),i=Tm(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Qb.has(t)&&!i.values.length||Qb.has(e)&&!r.values.length?GB(t,e):rf(vR(JB(r,i),i.values),n):$g(t,e)};function bR(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Sn(t,e,n):cj(t)(t,e)}const ZB=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>yn.update(e,n),stop:()=>cl(e),now:()=>fr.isProcessing?fr.timestamp:os.now()}},wR=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)r+=Math.round(t(a/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},qg=2e4;function uj(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<qg;)e+=n,r=t.next(e);return e>=qg?1/0:e}function e$(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(uj(r),qg);return{type:"keyframes",ease:a=>r.next(i*a).value/e,duration:Gs(i)}}const t$=5;function jR(t,e,n){const r=Math.max(e-t$,0);return tR(n-t(r),e-r)}const In={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},_v=.001;function n$({duration:t=In.duration,bounce:e=In.bounce,velocity:n=In.velocity,mass:r=In.mass}){let i,a,o=1-e;o=Za(In.minDamping,In.maxDamping,o),t=Za(In.minDuration,In.maxDuration,Gs(t)),o<1?(i=h=>{const m=h*o,f=m*t,g=m-n,x=Yb(h,o),_=Math.exp(-f);return _v-g/x*_},a=h=>{const f=h*o*t,g=f*n+n,x=Math.pow(o,2)*Math.pow(h,2)*t,_=Math.exp(-f),j=Yb(Math.pow(h,2),o);return(-i(h)+_v>0?-1:1)*((g-x)*_)/j}):(i=h=>{const m=Math.exp(-h*t),f=(h-n)*t+1;return-_v+m*f},a=h=>{const m=Math.exp(-h*t),f=(n-h)*(t*t);return m*f});const c=5/t,d=s$(i,a,c);if(t=Ji(t),isNaN(d))return{stiffness:In.stiffness,damping:In.damping,duration:t};{const h=Math.pow(d,2)*r;return{stiffness:h,damping:o*2*Math.sqrt(r*h),duration:t}}}const r$=12;function s$(t,e,n){let r=n;for(let i=1;i<r$;i++)r=r-t(r)/e(r);return r}function Yb(t,e){return t*Math.sqrt(1-e*e)}const i$=["duration","bounce"],a$=["stiffness","damping","mass"];function pC(t,e){return e.some(n=>t[n]!==void 0)}function o$(t){let e={velocity:In.velocity,stiffness:In.stiffness,damping:In.damping,mass:In.mass,isResolvedFromDuration:!1,...t};if(!pC(t,a$)&&pC(t,i$))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*Za(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:In.mass,stiffness:i,damping:a}}else{const n=n$(t);e={...e,...n,mass:In.mass},e.isResolvedFromDuration=!0}return e}function Hg(t=In.visualDuration,e=In.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],c={done:!1,value:a},{stiffness:d,damping:h,mass:m,duration:f,velocity:g,isResolvedFromDuration:x}=o$({...n,velocity:-Gs(n.velocity||0)}),_=g||0,j=h/(2*Math.sqrt(d*m)),w=o-a,N=Gs(Math.sqrt(d/m)),E=Math.abs(w)<5;r||(r=E?In.restSpeed.granular:In.restSpeed.default),i||(i=E?In.restDelta.granular:In.restDelta.default);let A;if(j<1){const D=Yb(N,j);A=F=>{const P=Math.exp(-j*N*F);return o-P*((_+j*N*w)/D*Math.sin(D*F)+w*Math.cos(D*F))}}else if(j===1)A=D=>o-Math.exp(-N*D)*(w+(_+N*w)*D);else{const D=N*Math.sqrt(j*j-1);A=F=>{const P=Math.exp(-j*N*F),R=Math.min(D*F,300);return o-P*((_+j*N*w)*Math.sinh(R)+D*w*Math.cosh(R))/D}}const T={calculatedDuration:x&&f||null,next:D=>{const F=A(D);if(x)c.done=D>=f;else{let P=D===0?_:0;j<1&&(P=D===0?Ji(_):jR(A,D,F));const R=Math.abs(P)<=r,I=Math.abs(o-F)<=i;c.done=R&&I}return c.value=c.done?o:F,c},toString:()=>{const D=Math.min(uj(T),qg),F=wR(P=>T.next(D*P).value,D,30);return D+"ms "+F},toTransition:()=>{}};return T}Hg.applyToOptions=t=>{const e=e$(t,100,Hg);return t.ease=e.ease,t.duration=Ji(e.duration),t.type="keyframes",t};function Jb({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:c,max:d,restDelta:h=.5,restSpeed:m}){const f=t[0],g={done:!1,value:f},x=R=>c!==void 0&&R<c||d!==void 0&&R>d,_=R=>c===void 0?d:d===void 0||Math.abs(c-R)<Math.abs(d-R)?c:d;let j=n*e;const w=f+j,N=o===void 0?w:o(w);N!==w&&(j=N-f);const E=R=>-j*Math.exp(-R/r),A=R=>N+E(R),T=R=>{const I=E(R),O=A(R);g.done=Math.abs(I)<=h,g.value=g.done?N:O};let D,F;const P=R=>{x(g.value)&&(D=R,F=Hg({keyframes:[g.value,_(g.value)],velocity:jR(A,R,g.value),damping:i,stiffness:a,restDelta:h,restSpeed:m}))};return P(0),{calculatedDuration:null,next:R=>{let I=!1;return!F&&D===void 0&&(I=!0,T(R),P(R)),D!==void 0&&R>=D?F.next(R-D):(!I&&T(R),g)}}}function l$(t,e,n){const r=[],i=n||eo.mix||bR,a=t.length-1;for(let o=0;o<a;o++){let c=i(t[o],t[o+1]);if(e){const d=Array.isArray(e)?e[o]||Ys:e;c=rf(d,c)}r.push(c)}return r}function c$(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;if(ej(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=l$(e,r,i),d=c.length,h=m=>{if(o&&m<t[0])return e[0];let f=0;if(d>1)for(;f<t.length-2&&!(m<t[f+1]);f++);const g=Cm(t[f],t[f+1],m);return c[f](g)};return n?m=>h(Za(t[0],t[a-1],m)):h}function u$(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Cm(0,e,r);t.push(Sn(n,1,i))}}function d$(t){const e=[0];return u$(e,t.length-1),e}function h$(t,e){return t.map(n=>n*e)}function m$(t,e){return t.map(()=>e||uR).splice(0,t.length-1)}function om({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=_B(r)?r.map(uC):uC(r),a={done:!1,value:e[0]},o=h$(n&&n.length===e.length?n:d$(e),t),c=c$(o,e,{ease:Array.isArray(i)?i:m$(e,i)});return{calculatedDuration:t,next:d=>(a.value=c(d),a.done=d>=t,a)}}const f$=t=>t!==null;function dj(t,{repeat:e,repeatType:n="loop"},r,i=1){const a=t.filter(f$),c=i<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!c||r===void 0?a[c]:r}const p$={decay:Jb,inertia:Jb,tween:om,keyframes:om,spring:Hg};function NR(t){typeof t.type=="string"&&(t.type=p$[t.type])}class hj{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const g$=t=>t/100;class mj extends hj{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==os.now()&&this.tick(os.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;NR(e);const{type:n=om,repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=e;let{keyframes:c}=e;const d=n||om;d!==om&&typeof c[0]!="number"&&(this.mixKeyframes=rf(g$,bR(c[0],c[1])),c=[0,100]);const h=d({...e,keyframes:c});a==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...c].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=uj(h));const{calculatedDuration:m}=h;this.calculatedDuration=m,this.resolvedDuration=m+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=h}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:c,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:h=0,keyframes:m,repeat:f,repeatType:g,repeatDelay:x,type:_,onUpdate:j,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const N=this.currentTime-h*(this.playbackSpeed>=0?1:-1),E=this.playbackSpeed>=0?N<0:N>i;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let A=this.currentTime,T=r;if(f){const R=Math.min(this.currentTime,i)/c;let I=Math.floor(R),O=R%1;!O&&R>=1&&(O=1),O===1&&I--,I=Math.min(I,f+1),!!(I%2)&&(g==="reverse"?(O=1-O,x&&(O-=x/c)):g==="mirror"&&(T=o)),A=Za(0,1,O)*c}const D=E?{done:!1,value:m[0]}:T.next(A);a&&(D.value=a(D.value));let{done:F}=D;!E&&d!==null&&(F=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&F);return P&&_!==Jb&&(D.value=dj(m,this.options,w,this.speed)),j&&j(D.value),P&&this.finish(),D}then(e,n){return this.finished.then(e,n)}get duration(){return Gs(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Gs(e)}get time(){return Gs(this.currentTime)}set time(e){var n;e=Ji(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(os.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Gs(this.currentTime))}play(){var i,a;if(this.isStopped)return;const{driver:e=ZB,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(a=(i=this.options).onPlay)==null||a.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(os.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function x$(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const cc=t=>t*180/Math.PI,Xb=t=>{const e=cc(Math.atan2(t[1],t[0]));return Zb(e)},y$={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Xb,rotateZ:Xb,skewX:t=>cc(Math.atan(t[1])),skewY:t=>cc(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Zb=t=>(t=t%360,t<0&&(t+=360),t),gC=Xb,xC=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),yC=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),v$={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:xC,scaleY:yC,scale:t=>(xC(t)+yC(t))/2,rotateX:t=>Zb(cc(Math.atan2(t[6],t[5]))),rotateY:t=>Zb(cc(Math.atan2(-t[2],t[0]))),rotateZ:gC,rotate:gC,skewX:t=>cc(Math.atan(t[4])),skewY:t=>cc(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function ew(t){return t.includes("scale")?1:0}function tw(t,e){if(!t||t==="none")return ew(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=v$,i=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=y$,i=c}if(!i)return ew(e);const a=r[e],o=i[1].split(",").map(w$);return typeof a=="function"?a(o):o[a]}const b$=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return tw(n,e)};function w$(t){return parseFloat(t.trim())}const Pd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Dd=new Set(Pd),vC=t=>t===Rd||t===ot,j$=new Set(["x","y","z"]),N$=Pd.filter(t=>!j$.has(t));function _$(t){const e=[];return N$.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const gc={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>tw(e,"x"),y:(t,{transform:e})=>tw(e,"y")};gc.translateX=gc.x;gc.translateY=gc.y;const xc=new Set;let nw=!1,rw=!1,sw=!1;function _R(){if(rw){const t=Array.from(xc).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=_$(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,o])=>{var c;(c=r.getValue(a))==null||c.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}rw=!1,nw=!1,xc.forEach(t=>t.complete(sw)),xc.clear()}function SR(){xc.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(rw=!0)})}function S$(){sw=!0,SR(),_R(),sw=!1}class fj{constructor(e,n,r,i,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(xc.add(this),nw||(nw=!0,yn.read(SR),yn.resolveKeyframes(_R))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const a=i==null?void 0:i.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const c=r.readValue(n,o);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=o),i&&a===void 0&&i.set(e[0])}x$(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),xc.delete(this)}cancel(){this.state==="scheduled"&&(xc.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const E$=t=>t.startsWith("--");function C$(t,e,n){E$(e)?t.style.setProperty(e,n):t.style[e]=n}const k$=tj(()=>window.ScrollTimeline!==void 0),T$={};function A$(t,e){const n=tj(t);return()=>T$[e]??n()}const ER=A$(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Kh=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,bC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Kh([0,.65,.55,1]),circOut:Kh([.55,0,1,.45]),backIn:Kh([.31,.01,.66,-.59]),backOut:Kh([.33,1.53,.69,.99])};function CR(t,e){if(t)return typeof t=="function"?ER()?wR(t,e):"ease-out":dR(t)?Kh(t):Array.isArray(t)?t.map(n=>CR(n,e)||bC.easeOut):bC[t]}function I$(t,e,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:c="easeOut",times:d}={},h=void 0){const m={[e]:n};d&&(m.offset=d);const f=CR(c,i);Array.isArray(f)&&(m.easing=f);const g={delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return h&&(g.pseudoElement=h),t.animate(m,g)}function kR(t){return typeof t=="function"&&"applyToOptions"in t}function R$({type:t,...e}){return kR(t)&&ER()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class P$ extends hj{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:c,onComplete:d}=e;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=e,ej(typeof e.type!="string");const h=R$(e);this.animation=I$(n,r,i,h,a),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const m=dj(i,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(m):C$(n,r,m),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Gs(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Gs(e)}get time(){return Gs(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ji(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&k$()?(this.animation.timeline=e,Ys):n(this)}}const TR={anticipate:oR,backInOut:aR,circInOut:cR};function D$(t){return t in TR}function M$(t){typeof t.ease=="string"&&D$(t.ease)&&(t.ease=TR[t.ease])}const wC=10;class L$ extends P${constructor(e){M$(e),NR(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:a,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const c=new mj({...o,autoplay:!1}),d=Ji(this.finishedTime??this.time);n.setWithVelocity(c.sample(d-wC).value,c.sample(d).value,wC),c.stop()}}const jC=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ul.test(t)||t==="0")&&!t.startsWith("url("));function O$(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function F$(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],o=jC(i,e),c=jC(a,e);return!o||!c?!1:O$(t)||(n==="spring"||kR(n))&&r}function iw(t){t.duration=0,t.type="keyframes"}const V$=new Set(["opacity","clipPath","filter","transform"]),U$=tj(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function z$(t){var m;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:a,type:o}=t;if(!(((m=e==null?void 0:e.owner)==null?void 0:m.current)instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:h}=e.owner.getProps();return U$()&&n&&V$.has(n)&&(n!=="transform"||!h)&&!d&&!r&&i!=="mirror"&&a!==0&&o!=="inertia"}const B$=40;class $$ extends hj{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",keyframes:c,name:d,motionValue:h,element:m,...f}){var _;super(),this.stop=()=>{var j,w;this._animation&&(this._animation.stop(),(j=this.stopTimeline)==null||j.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=os.now();const g={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:o,name:d,motionValue:h,element:m,...f},x=(m==null?void 0:m.KeyframeResolver)||fj;this.keyframeResolver=new x(c,(j,w,N)=>this.onKeyframesResolved(j,w,g,!N),d,h,m),(_=this.keyframeResolver)==null||_.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:a,type:o,velocity:c,delay:d,isHandoff:h,onUpdate:m}=r;this.resolvedAt=os.now(),F$(e,a,o,c)||((eo.instantAnimations||!d)&&(m==null||m(dj(e,r,n))),e[0]=e[e.length-1],iw(r),r.repeat=0);const g={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>B$?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},x=!h&&z$(g)?new L$({...g,element:g.motionValue.owner.current}):new mj(g);x.finished.then(()=>this.notifyFinished()).catch(Ys),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),S$()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const q$=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function H$(t){const e=q$.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function AR(t,e,n=1){const[r,i]=H$(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const o=a.trim();return XI(o)?parseFloat(o):o}return aj(i)?AR(i,e,n+1):i}function pj(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const IR=new Set(["width","height","top","left","right","bottom",...Pd]),W$={test:t=>t==="auto",parse:t=>t},RR=t=>e=>e.test(t),PR=[Rd,ot,Xi,Bo,OB,LB,W$],NC=t=>PR.find(RR(t));function K$(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||eR(t):!0}const G$=new Set(["brightness","contrast","saturate","opacity"]);function Q$(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(oj)||[];if(!r)return t;const i=n.replace(r,"");let a=G$.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const Y$=/\b([a-z-]*)\(.*?\)/gu,aw={...ul,getAnimatableNone:t=>{const e=t.match(Y$);return e?e.map(Q$).join(" "):t}},_C={...Rd,transform:Math.round},J$={rotate:Bo,rotateX:Bo,rotateY:Bo,rotateZ:Bo,scale:Op,scaleX:Op,scaleY:Op,scaleZ:Op,skew:Bo,skewX:Bo,skewY:Bo,distance:ot,translateX:ot,translateY:ot,translateZ:ot,x:ot,y:ot,z:ot,perspective:ot,transformPerspective:ot,opacity:km,originX:dC,originY:dC,originZ:ot},gj={borderWidth:ot,borderTopWidth:ot,borderRightWidth:ot,borderBottomWidth:ot,borderLeftWidth:ot,borderRadius:ot,radius:ot,borderTopLeftRadius:ot,borderTopRightRadius:ot,borderBottomRightRadius:ot,borderBottomLeftRadius:ot,width:ot,maxWidth:ot,height:ot,maxHeight:ot,top:ot,right:ot,bottom:ot,left:ot,padding:ot,paddingTop:ot,paddingRight:ot,paddingBottom:ot,paddingLeft:ot,margin:ot,marginTop:ot,marginRight:ot,marginBottom:ot,marginLeft:ot,backgroundPositionX:ot,backgroundPositionY:ot,...J$,zIndex:_C,fillOpacity:km,strokeOpacity:km,numOctaves:_C},X$={...gj,color:Kn,backgroundColor:Kn,outlineColor:Kn,fill:Kn,stroke:Kn,borderColor:Kn,borderTopColor:Kn,borderRightColor:Kn,borderBottomColor:Kn,borderLeftColor:Kn,filter:aw,WebkitFilter:aw},DR=t=>X$[t];function MR(t,e){let n=DR(t);return n!==aw&&(n=ul),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Z$=new Set(["auto","none","0"]);function e8(t,e,n){let r=0,i;for(;r<t.length&&!i;){const a=t[r];typeof a=="string"&&!Z$.has(a)&&Tm(a).values.length&&(i=t[r]),r++}if(i&&n)for(const a of e)t[a]=MR(n,i)}class t8 extends fj{constructor(e,n,r,i,a){super(e,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let h=e[d];if(typeof h=="string"&&(h=h.trim(),aj(h))){const m=AR(h,n.current);m!==void 0&&(e[d]=m),d===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!IR.has(r)||e.length!==2)return;const[i,a]=e,o=NC(i),c=NC(a);if(o!==c)if(vC(o)&&vC(c))for(let d=0;d<e.length;d++){const h=e[d];typeof h=="string"&&(e[d]=parseFloat(h))}else gc[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||K$(e[i]))&&r.push(i);r.length&&e8(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=gc[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var c;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,o=r[a];r[a]=gc[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([d,h])=>{e.getValue(d).set(h)}),this.resolveNoneKeyframes()}}function n8(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const LR=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function OR(t){return ZI(t)&&"offsetHeight"in t}const SC=30,r8=t=>!isNaN(parseFloat(t));class s8{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var a;const i=os.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=os.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=r8(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new nj);const r=this.events[e].add(n);return e==="change"?()=>{r(),yn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=os.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>SC)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,SC);return tR(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function md(t,e){return new s8(t,e)}const{schedule:xj}=hR(queueMicrotask,!1),di={x:!1,y:!1};function FR(){return di.x||di.y}function i8(t){return t==="x"||t==="y"?di[t]?null:(di[t]=!0,()=>{di[t]=!1}):di.x||di.y?null:(di.x=di.y=!0,()=>{di.x=di.y=!1})}function VR(t,e){const n=n8(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function EC(t){return!(t.pointerType==="touch"||FR())}function a8(t,e,n={}){const[r,i,a]=VR(t,n),o=c=>{if(!EC(c))return;const{target:d}=c,h=e(d,c);if(typeof h!="function"||!d)return;const m=f=>{EC(f)&&(h(f),d.removeEventListener("pointerleave",m))};d.addEventListener("pointerleave",m,i)};return r.forEach(c=>{c.addEventListener("pointerenter",o,i)}),a}const UR=(t,e)=>e?t===e?!0:UR(t,e.parentElement):!1,yj=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,o8=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function l8(t){return o8.has(t.tagName)||t.tabIndex!==-1}const mg=new WeakSet;function CC(t){return e=>{e.key==="Enter"&&t(e)}}function Sv(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const c8=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=CC(()=>{if(mg.has(n))return;Sv(n,"down");const i=CC(()=>{Sv(n,"up")}),a=()=>Sv(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function kC(t){return yj(t)&&!FR()}function u8(t,e,n={}){const[r,i,a]=VR(t,n),o=c=>{const d=c.currentTarget;if(!kC(c))return;mg.add(d);const h=e(d,c),m=(x,_)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",g),mg.has(d)&&mg.delete(d),kC(x)&&typeof h=="function"&&h(x,{success:_})},f=x=>{m(x,d===window||d===document||n.useGlobalTarget||UR(d,x.target))},g=x=>{m(x,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",g,i)};return r.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",o,i),OR(c)&&(c.addEventListener("focus",h=>c8(h,i)),!l8(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),a}function zR(t){return ZI(t)&&"ownerSVGElement"in t}function d8(t){return zR(t)&&t.tagName==="svg"}const Ir=t=>!!(t&&t.getVelocity),h8=[...PR,Kn,ul],m8=t=>h8.find(RR(t)),vj=v.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function TC(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function f8(...t){return e=>{let n=!1;const r=t.map(i=>{const a=TC(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():TC(t[i],null)}}}}function p8(...t){return v.useCallback(f8(...t),t)}class g8 extends v.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=OR(r)&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function x8({children:t,isPresent:e,anchorX:n,root:r}){const i=v.useId(),a=v.useRef(null),o=v.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=v.useContext(vj),d=p8(a,t==null?void 0:t.ref);return v.useInsertionEffect(()=>{const{width:h,height:m,top:f,left:g,right:x}=o.current;if(e||!a.current||!h||!m)return;const _=n==="left"?`left: ${g}`:`right: ${x}`;a.current.dataset.motionPopId=i;const j=document.createElement("style");c&&(j.nonce=c);const w=r??document.head;return w.appendChild(j),j.sheet&&j.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${m}px !important;
            ${_}px !important;
            top: ${f}px !important;
          }
        `),()=>{w.contains(j)&&w.removeChild(j)}},[e]),s.jsx(g8,{isPresent:e,childRef:a,sizeRef:o,children:v.cloneElement(t,{ref:d})})}const y8=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:o,anchorX:c,root:d})=>{const h=Y1(v8),m=v.useId();let f=!0,g=v.useMemo(()=>(f=!1,{id:m,initial:e,isPresent:n,custom:i,onExitComplete:x=>{h.set(x,!0);for(const _ of h.values())if(!_)return;r&&r()},register:x=>(h.set(x,!1),()=>h.delete(x))}),[n,h,r]);return a&&f&&(g={...g}),v.useMemo(()=>{h.forEach((x,_)=>h.set(_,!1))},[n]),v.useEffect(()=>{!n&&!h.size&&r&&r()},[n]),o==="popLayout"&&(t=s.jsx(x8,{isPresent:n,anchorX:c,root:d,children:t})),s.jsx(Ux.Provider,{value:g,children:t})};function v8(){return new Map}function BR(t=!0){const e=v.useContext(Ux);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,a=v.useId();v.useEffect(()=>{if(t)return i(a)},[t]);const o=v.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,o]:[!0]}const Fp=t=>t.key||"";function AC(t){const e=[];return v.Children.forEach(t,n=>{v.isValidElement(n)&&e.push(n)}),e}const ds=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:o=!1,anchorX:c="left",root:d})=>{const[h,m]=BR(o),f=v.useMemo(()=>AC(t),[t]),g=o&&!h?[]:f.map(Fp),x=v.useRef(!0),_=v.useRef(f),j=Y1(()=>new Map),[w,N]=v.useState(f),[E,A]=v.useState(f);JI(()=>{x.current=!1,_.current=f;for(let F=0;F<E.length;F++){const P=Fp(E[F]);g.includes(P)?j.delete(P):j.get(P)!==!0&&j.set(P,!1)}},[E,g.length,g.join("-")]);const T=[];if(f!==w){let F=[...f];for(let P=0;P<E.length;P++){const R=E[P],I=Fp(R);g.includes(I)||(F.splice(P,0,R),T.push(R))}return a==="wait"&&T.length&&(F=T),A(AC(F)),N(f),null}const{forceRender:D}=v.useContext(Q1);return s.jsx(s.Fragment,{children:E.map(F=>{const P=Fp(F),R=o&&!h?!1:f===E||g.includes(P),I=()=>{if(j.has(P))j.set(P,!0);else return;let O=!0;j.forEach(V=>{V||(O=!1)}),O&&(D==null||D(),A(_.current),o&&(m==null||m()),r&&r())};return s.jsx(y8,{isPresent:R,initial:!x.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:a,root:d,onExitComplete:R?void 0:I,anchorX:c,children:F},P)})})},$R=v.createContext({strict:!1}),IC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},fd={};for(const t in IC)fd[t]={isEnabled:e=>IC[t].some(n=>!!e[n])};function b8(t){for(const e in t)fd[e]={...fd[e],...t[e]}}const w8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Wg(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||w8.has(t)}let qR=t=>!Wg(t);function j8(t){typeof t=="function"&&(qR=e=>e.startsWith("on")?!Wg(e):t(e))}try{j8(require("@emotion/is-prop-valid").default)}catch{}function N8(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(qR(i)||n===!0&&Wg(i)||!e&&!Wg(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const zx=v.createContext({});function Bx(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Am(t){return typeof t=="string"||Array.isArray(t)}const bj=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],wj=["initial",...bj];function $x(t){return Bx(t.animate)||wj.some(e=>Am(t[e]))}function HR(t){return!!($x(t)||t.variants)}function _8(t,e){if($x(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Am(n)?n:void 0,animate:Am(r)?r:void 0}}return t.inherit!==!1?e:{}}function S8(t){const{initial:e,animate:n}=_8(t,v.useContext(zx));return v.useMemo(()=>({initial:e,animate:n}),[RC(e),RC(n)])}function RC(t){return Array.isArray(t)?t.join(" "):t}const Im={};function E8(t){for(const e in t)Im[e]=t[e],ij(e)&&(Im[e].isCSSVariable=!0)}function WR(t,{layout:e,layoutId:n}){return Dd.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Im[t]||t==="opacity")}const C8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},k8=Pd.length;function T8(t,e,n){let r="",i=!0;for(let a=0;a<k8;a++){const o=Pd[a],c=t[o];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(o.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||n){const h=LR(c,gj[o]);if(!d){i=!1;const m=C8[o]||o;r+=`${m}(${h}) `}n&&(e[o]=h)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function jj(t,e,n){const{style:r,vars:i,transformOrigin:a}=t;let o=!1,c=!1;for(const d in e){const h=e[d];if(Dd.has(d)){o=!0;continue}else if(ij(d)){i[d]=h;continue}else{const m=LR(h,gj[d]);d.startsWith("origin")?(c=!0,a[d]=m):r[d]=m}}if(e.transform||(o||n?r.transform=T8(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:d="50%",originY:h="50%",originZ:m=0}=a;r.transformOrigin=`${d} ${h} ${m}`}}const Nj=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function KR(t,e,n){for(const r in e)!Ir(e[r])&&!WR(r,n)&&(t[r]=e[r])}function A8({transformTemplate:t},e){return v.useMemo(()=>{const n=Nj();return jj(n,e,t),Object.assign({},n.vars,n.style)},[e])}function I8(t,e){const n=t.style||{},r={};return KR(r,n,t),Object.assign(r,A8(t,e)),r}function R8(t,e){const n={},r=I8(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const P8={offset:"stroke-dashoffset",array:"stroke-dasharray"},D8={offset:"strokeDashoffset",array:"strokeDasharray"};function M8(t,e,n=1,r=0,i=!0){t.pathLength=1;const a=i?P8:D8;t[a.offset]=ot.transform(-r);const o=ot.transform(e),c=ot.transform(n);t[a.array]=`${o} ${c}`}function GR(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:o=0,...c},d,h,m){if(jj(t,c,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:g}=t;f.transform&&(g.transform=f.transform,delete f.transform),(g.transform||f.transformOrigin)&&(g.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),g.transform&&(g.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),i!==void 0&&M8(f,i,a,o,!1)}const QR=()=>({...Nj(),attrs:{}}),YR=t=>typeof t=="string"&&t.toLowerCase()==="svg";function L8(t,e,n,r){const i=v.useMemo(()=>{const a=QR();return GR(a,e,YR(r),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};KR(a,t.style,t),i.style={...a,...i.style}}return i}const O8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function _j(t){return typeof t!="string"||t.includes("-")?!1:!!(O8.indexOf(t)>-1||/[A-Z]/u.test(t))}function F8(t,e,n,{latestValues:r},i,a=!1){const c=(_j(t)?L8:R8)(e,r,i,t),d=N8(e,typeof t=="string",a),h=t!==v.Fragment?{...d,...c,ref:n}:{},{children:m}=e,f=v.useMemo(()=>Ir(m)?m.get():m,[m]);return v.createElement(t,{...h,children:f})}function PC(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Sj(t,e,n,r){if(typeof e=="function"){const[i,a]=PC(r);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=PC(r);e=e(n!==void 0?n:t.custom,i,a)}return e}function fg(t){return Ir(t)?t.get():t}function V8({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:U8(n,r,i,t),renderState:e()}}function U8(t,e,n,r){const i={},a=r(t,{});for(const g in a)i[g]=fg(a[g]);let{initial:o,animate:c}=t;const d=$x(t),h=HR(t);e&&h&&!d&&t.inherit!==!1&&(o===void 0&&(o=e.initial),c===void 0&&(c=e.animate));let m=n?n.initial===!1:!1;m=m||o===!1;const f=m?c:o;if(f&&typeof f!="boolean"&&!Bx(f)){const g=Array.isArray(f)?f:[f];for(let x=0;x<g.length;x++){const _=Sj(t,g[x]);if(_){const{transitionEnd:j,transition:w,...N}=_;for(const E in N){let A=N[E];if(Array.isArray(A)){const T=m?A.length-1:0;A=A[T]}A!==null&&(i[E]=A)}for(const E in j)i[E]=j[E]}}}return i}const JR=t=>(e,n)=>{const r=v.useContext(zx),i=v.useContext(Ux),a=()=>V8(t,e,r,i);return n?a():Y1(a)};function Ej(t,e,n){var a;const{style:r}=t,i={};for(const o in r)(Ir(r[o])||e.style&&Ir(e.style[o])||WR(o,t)||((a=n==null?void 0:n.getValue(o))==null?void 0:a.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const z8=JR({scrapeMotionValuesFromProps:Ej,createRenderState:Nj});function XR(t,e,n){const r=Ej(t,e,n);for(const i in t)if(Ir(t[i])||Ir(e[i])){const a=Pd.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=t[i]}return r}const B8=JR({scrapeMotionValuesFromProps:XR,createRenderState:QR}),$8=Symbol.for("motionComponentSymbol");function zu(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function q8(t,e,n){return v.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):zu(n)&&(n.current=r))},[e])}const Cj=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),H8="framerAppearId",ZR="data-"+Cj(H8),eP=v.createContext({});function W8(t,e,n,r,i){var j,w;const{visualElement:a}=v.useContext(zx),o=v.useContext($R),c=v.useContext(Ux),d=v.useContext(vj).reducedMotion,h=v.useRef(null);r=r||o.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const m=h.current,f=v.useContext(eP);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&K8(h.current,n,i,f);const g=v.useRef(!1);v.useInsertionEffect(()=>{m&&g.current&&m.update(n,c)});const x=n[ZR],_=v.useRef(!!x&&!((j=window.MotionHandoffIsComplete)!=null&&j.call(window,x))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,x)));return JI(()=>{m&&(g.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),_.current&&m.animationState&&m.animationState.animateChanges())}),v.useEffect(()=>{m&&(!_.current&&m.animationState&&m.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{var N;(N=window.MotionHandoffMarkAsComplete)==null||N.call(window,x)}),_.current=!1),m.enteringChildren=void 0)}),m}function K8(t,e,n,r){const{layoutId:i,layout:a,drag:o,dragConstraints:c,layoutScroll:d,layoutRoot:h,layoutCrossfade:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:tP(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||c&&zu(c),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:m,layoutScroll:d,layoutRoot:h})}function tP(t){if(t)return t.options.allowProjection!==!1?t.projection:tP(t.parent)}function Ev(t,{forwardMotionProps:e=!1}={},n,r){n&&b8(n);const i=_j(t)?B8:z8;function a(c,d){let h;const m={...v.useContext(vj),...c,layoutId:G8(c)},{isStatic:f}=m,g=S8(c),x=i(c,f);if(!f&&J1){Q8();const _=Y8(m);h=_.MeasureLayout,g.visualElement=W8(t,x,m,r,_.ProjectionNode)}return s.jsxs(zx.Provider,{value:g,children:[h&&g.visualElement?s.jsx(h,{visualElement:g.visualElement,...m}):null,F8(t,c,q8(x,g.visualElement,d),x,f,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=v.forwardRef(a);return o[$8]=t,o}function G8({layoutId:t}){const e=v.useContext(Q1).id;return e&&t!==void 0?e+"-"+t:t}function Q8(t,e){v.useContext($R).strict}function Y8(t){const{drag:e,layout:n}=fd;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function J8(t,e){if(typeof Proxy>"u")return Ev;const n=new Map,r=(a,o)=>Ev(a,o,t,e),i=(a,o)=>r(a,o);return new Proxy(i,{get:(a,o)=>o==="create"?r:(n.has(o)||n.set(o,Ev(o,void 0,t,e)),n.get(o))})}function nP({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function X8({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Z8(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Cv(t){return t===void 0||t===1}function ow({scale:t,scaleX:e,scaleY:n}){return!Cv(t)||!Cv(e)||!Cv(n)}function ac(t){return ow(t)||rP(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function rP(t){return DC(t.x)||DC(t.y)}function DC(t){return t&&t!=="0%"}function Kg(t,e,n){const r=t-n,i=e*r;return n+i}function MC(t,e,n,r,i){return i!==void 0&&(t=Kg(t,i,r)),Kg(t,n,r)+e}function lw(t,e=0,n=1,r,i){t.min=MC(t.min,e,n,r,i),t.max=MC(t.max,e,n,r,i)}function sP(t,{x:e,y:n}){lw(t.x,e.translate,e.scale,e.originPoint),lw(t.y,n.translate,n.scale,n.originPoint)}const LC=.999999999999,OC=1.0000000000001;function e7(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,o;for(let c=0;c<i;c++){a=n[c],o=a.projectionDelta;const{visualElement:d}=a.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&$u(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,sP(t,o)),r&&ac(a.latestValues)&&$u(t,a.latestValues))}e.x<OC&&e.x>LC&&(e.x=1),e.y<OC&&e.y>LC&&(e.y=1)}function Bu(t,e){t.min=t.min+e,t.max=t.max+e}function FC(t,e,n,r,i=.5){const a=Sn(t.min,t.max,i);lw(t,e,n,a,r)}function $u(t,e){FC(t.x,e.x,e.scaleX,e.scale,e.originX),FC(t.y,e.y,e.scaleY,e.scale,e.originY)}function iP(t,e){return nP(Z8(t.getBoundingClientRect(),e))}function t7(t,e,n){const r=iP(t,n),{scroll:i}=e;return i&&(Bu(r.x,i.offset.x),Bu(r.y,i.offset.y)),r}const VC=()=>({translate:0,scale:1,origin:0,originPoint:0}),qu=()=>({x:VC(),y:VC()}),UC=()=>({min:0,max:0}),On=()=>({x:UC(),y:UC()}),cw={current:null},aP={current:!1};function n7(){if(aP.current=!0,!!J1)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>cw.current=t.matches;t.addEventListener("change",e),e()}else cw.current=!1}const r7=new WeakMap;function s7(t,e,n){for(const r in e){const i=e[r],a=n[r];if(Ir(i))t.addValue(r,i);else if(Ir(a))t.addValue(r,md(i,{owner:t}));else if(a!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,md(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const zC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class i7{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:o},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=fj,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=os.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,yn.render(this.render,!1,!0))};const{latestValues:d,renderState:h}=o;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=$x(n),this.isVariantNode=HR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in f){const x=f[g];d[g]!==void 0&&Ir(x)&&x.set(d[g])}}mount(e){var n;this.current=e,r7.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),aP.current||n7(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:cw.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),cl(this.notifyUpdate),cl(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Dd.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&yn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in fd){const n=fd[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):On()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<zC.length;r++){const i=zC[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=e[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=s7(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=md(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(XI(r)||eR(r))?r=parseFloat(r):!m8(r)&&ul.test(n)&&(r=MR(e,n)),this.setBaseTarget(e,Ir(r)?r.get():r)),Ir(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var a;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=Sj(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Ir(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new nj),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){xj.render(this.render)}}class oP extends i7{constructor(){super(...arguments),this.KeyframeResolver=t8}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ir(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function lP(t,{style:e,vars:n},r,i){const a=t.style;let o;for(o in e)a[o]=e[o];i==null||i.applyProjectionStyles(a,r);for(o in n)a.setProperty(o,n[o])}function a7(t){return window.getComputedStyle(t)}class o7 extends oP{constructor(){super(...arguments),this.type="html",this.renderInstance=lP}readValueFromInstance(e,n){var r;if(Dd.has(n))return(r=this.projection)!=null&&r.isProjecting?ew(n):b$(e,n);{const i=a7(e),a=(ij(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return iP(e,n)}build(e,n,r){jj(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Ej(e,n,r)}}const cP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function l7(t,e,n,r){lP(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(cP.has(i)?i:Cj(i),e.attrs[i])}class c7 extends oP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=On}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Dd.has(n)){const r=DR(n);return r&&r.default||0}return n=cP.has(n)?n:Cj(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return XR(e,n,r)}build(e,n,r){GR(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){l7(e,n,r,i)}mount(e){this.isSVGTag=YR(e.tagName),super.mount(e)}}const u7=(t,e)=>_j(t)?new c7(e):new o7(e,{allowProjection:t!==v.Fragment});function Qu(t,e,n){const r=t.getProps();return Sj(r,e,n!==void 0?n:r.custom,t)}const uw=t=>Array.isArray(t);function d7(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,md(n))}function h7(t){return uw(t)?t[t.length-1]||0:t}function m7(t,e){const n=Qu(t,e);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const o in a){const c=h7(a[o]);d7(t,o,c)}}function f7(t){return!!(Ir(t)&&t.add)}function dw(t,e){const n=t.getValue("willChange");if(f7(n))return n.add(e);if(!n&&eo.WillChange){const r=new eo.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function uP(t){return t.props[ZR]}const p7=t=>t!==null;function g7(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(p7),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[a]}const x7={type:"spring",stiffness:500,damping:25,restSpeed:10},y7=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),v7={type:"keyframes",duration:.8},b7={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},w7=(t,{keyframes:e})=>e.length>2?v7:Dd.has(t)?t.startsWith("scale")?y7(e[1]):x7:b7;function j7({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:c,from:d,elapsed:h,...m}){return!!Object.keys(m).length}const kj=(t,e,n,r={},i,a)=>o=>{const c=pj(r,t)||{},d=c.delay||r.delay||0;let{elapsed:h=0}=r;h=h-Ji(d);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-h,onUpdate:g=>{e.set(g),c.onUpdate&&c.onUpdate(g)},onComplete:()=>{o(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:a?void 0:i};j7(c)||Object.assign(m,w7(t,m)),m.duration&&(m.duration=Ji(m.duration)),m.repeatDelay&&(m.repeatDelay=Ji(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let f=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(iw(m),m.delay===0&&(f=!0)),(eo.instantAnimations||eo.skipAnimations)&&(f=!0,iw(m),m.delay=0),m.allowFlatten=!c.type&&!c.ease,f&&!a&&e.get()!==void 0){const g=g7(m.keyframes,c);if(g!==void 0){yn.update(()=>{m.onUpdate(g),m.onComplete()});return}}return c.isSync?new mj(m):new $$(m)};function N7({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function dP(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:o,...c}=e;r&&(a=r);const d=[],h=i&&t.animationState&&t.animationState.getState()[i];for(const m in c){const f=t.getValue(m,t.latestValues[m]??null),g=c[m];if(g===void 0||h&&N7(h,m))continue;const x={delay:n,...pj(a||{},m)},_=f.get();if(_!==void 0&&!f.isAnimating&&!Array.isArray(g)&&g===_&&!x.velocity)continue;let j=!1;if(window.MotionHandoffAnimation){const N=uP(t);if(N){const E=window.MotionHandoffAnimation(N,m,yn);E!==null&&(x.startTime=E,j=!0)}}dw(t,m),f.start(kj(m,f,g,t.shouldReduceMotion&&IR.has(m)?{type:!1}:x,t,j));const w=f.animation;w&&d.push(w)}return o&&Promise.all(d).then(()=>{yn.update(()=>{o&&m7(t,o)})}),d}function hP(t,e,n,r=0,i=1){const a=Array.from(t).sort((h,m)=>h.sortNodePosition(m)).indexOf(e),o=t.size,c=(o-1)*r;return typeof n=="function"?n(a,o):i===1?a*r:c-a*r}function hw(t,e,n={}){var d;const r=Qu(t,e,n.type==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(dP(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:m=0,staggerChildren:f,staggerDirection:g}=i;return _7(t,e,h,m,f,g,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[h,m]=c==="beforeChildren"?[a,o]:[o,a];return h().then(()=>m())}else return Promise.all([a(),o(n.delay)])}function _7(t,e,n=0,r=0,i=0,a=1,o){const c=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),c.push(hw(d,e,{...o,delay:n+(typeof r=="function"?0:r)+hP(t.variantChildren,d,r,i,a)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(c)}function S7(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>hw(t,a,n));r=Promise.all(i)}else if(typeof e=="string")r=hw(t,e,n);else{const i=typeof e=="function"?Qu(t,e,n.custom):e;r=Promise.all(dP(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function mP(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const E7=wj.length;function fP(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?fP(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<E7;n++){const r=wj[n],i=t.props[r];(Am(i)||i===!1)&&(e[r]=i)}return e}const C7=[...bj].reverse(),k7=bj.length;function T7(t){return e=>Promise.all(e.map(({animation:n,options:r})=>S7(t,n,r)))}function A7(t){let e=T7(t),n=BC(),r=!0;const i=d=>(h,m)=>{var g;const f=Qu(t,m,d==="exit"?(g=t.presenceContext)==null?void 0:g.custom:void 0);if(f){const{transition:x,transitionEnd:_,...j}=f;h={...h,...j,..._}}return h};function a(d){e=d(t)}function o(d){const{props:h}=t,m=fP(t.parent)||{},f=[],g=new Set;let x={},_=1/0;for(let w=0;w<k7;w++){const N=C7[w],E=n[N],A=h[N]!==void 0?h[N]:m[N],T=Am(A),D=N===d?E.isActive:null;D===!1&&(_=w);let F=A===m[N]&&A!==h[N]&&T;if(F&&r&&t.manuallyAnimateOnMount&&(F=!1),E.protectedKeys={...x},!E.isActive&&D===null||!A&&!E.prevProp||Bx(A)||typeof A=="boolean")continue;const P=I7(E.prevProp,A);let R=P||N===d&&E.isActive&&!F&&T||w>_&&T,I=!1;const O=Array.isArray(A)?A:[A];let V=O.reduce(i(N),{});D===!1&&(V={});const{prevResolvedValues:M={}}=E,U={...M,...V},J=se=>{R=!0,g.has(se)&&(I=!0,g.delete(se)),E.needsAnimating[se]=!0;const K=t.getValue(se);K&&(K.liveStyle=!1)};for(const se in U){const K=V[se],W=M[se];if(x.hasOwnProperty(se))continue;let B=!1;uw(K)&&uw(W)?B=!mP(K,W):B=K!==W,B?K!=null?J(se):g.add(se):K!==void 0&&g.has(se)?J(se):E.protectedKeys[se]=!0}E.prevProp=A,E.prevResolvedValues=V,E.isActive&&(x={...x,...V}),r&&t.blockInitialAnimation&&(R=!1);const ne=F&&P;R&&(!ne||I)&&f.push(...O.map(se=>{const K={type:N};if(typeof se=="string"&&r&&!ne&&t.manuallyAnimateOnMount&&t.parent){const{parent:W}=t,B=Qu(W,se);if(W.enteringChildren&&B){const{delayChildren:q}=B.transition||{};K.delay=hP(W.enteringChildren,t,q)}}return{animation:se,options:K}}))}if(g.size){const w={};if(typeof h.initial!="boolean"){const N=Qu(t,Array.isArray(h.initial)?h.initial[0]:h.initial);N&&N.transition&&(w.transition=N.transition)}g.forEach(N=>{const E=t.getBaseTarget(N),A=t.getValue(N);A&&(A.liveStyle=!0),w[N]=E??null}),f.push({animation:w})}let j=!!f.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(j=!1),r=!1,j?e(f):Promise.resolve()}function c(d,h){var f;if(n[d].isActive===h)return Promise.resolve();(f=t.variantChildren)==null||f.forEach(g=>{var x;return(x=g.animationState)==null?void 0:x.setActive(d,h)}),n[d].isActive=h;const m=o(d);for(const g in n)n[g].protectedKeys={};return m}return{animateChanges:o,setActive:c,setAnimateFunction:a,getState:()=>n,reset:()=>{n=BC()}}}function I7(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!mP(e,t):!1}function sc(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function BC(){return{animate:sc(!0),whileInView:sc(),whileHover:sc(),whileTap:sc(),whileDrag:sc(),whileFocus:sc(),exit:sc()}}class Sl{constructor(e){this.isMounted=!1,this.node=e}update(){}}class R7 extends Sl{constructor(e){super(e),e.animationState||(e.animationState=A7(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Bx(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let P7=0;class D7 extends Sl{constructor(){super(...arguments),this.id=P7++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const M7={animation:{Feature:R7},exit:{Feature:D7}};function Rm(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function of(t){return{point:{x:t.pageX,y:t.pageY}}}const L7=t=>e=>yj(e)&&t(e,of(e));function lm(t,e,n,r){return Rm(t,e,L7(n),r)}const pP=1e-4,O7=1-pP,F7=1+pP,gP=.01,V7=0-gP,U7=0+gP;function $r(t){return t.max-t.min}function z7(t,e,n){return Math.abs(t-e)<=n}function $C(t,e,n,r=.5){t.origin=r,t.originPoint=Sn(e.min,e.max,t.origin),t.scale=$r(n)/$r(e),t.translate=Sn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=O7&&t.scale<=F7||isNaN(t.scale))&&(t.scale=1),(t.translate>=V7&&t.translate<=U7||isNaN(t.translate))&&(t.translate=0)}function cm(t,e,n,r){$C(t.x,e.x,n.x,r?r.originX:void 0),$C(t.y,e.y,n.y,r?r.originY:void 0)}function qC(t,e,n){t.min=n.min+e.min,t.max=t.min+$r(e)}function B7(t,e,n){qC(t.x,e.x,n.x),qC(t.y,e.y,n.y)}function HC(t,e,n){t.min=e.min-n.min,t.max=t.min+$r(e)}function um(t,e,n){HC(t.x,e.x,n.x),HC(t.y,e.y,n.y)}function qs(t){return[t("x"),t("y")]}const xP=({current:t})=>t?t.ownerDocument.defaultView:null,WC=(t,e)=>Math.abs(t-e);function $7(t,e){const n=WC(t.x,e.x),r=WC(t.y,e.y);return Math.sqrt(n**2+r**2)}class yP{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Tv(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,_=$7(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!_)return;const{point:j}=g,{timestamp:w}=fr;this.history.push({...j,timestamp:w});const{onStart:N,onMove:E}=this.handlers;x||(N&&N(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,g)},this.handlePointerMove=(g,x)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=kv(x,this.transformPagePoint),yn.update(this.updatePoint,!0)},this.handlePointerUp=(g,x)=>{this.end();const{onEnd:_,onSessionEnd:j,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=Tv(g.type==="pointercancel"?this.lastMoveEventInfo:kv(x,this.transformPagePoint),this.history);this.startEvent&&_&&_(g,N),j&&j(g,N)},!yj(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const c=of(e),d=kv(c,this.transformPagePoint),{point:h}=d,{timestamp:m}=fr;this.history=[{...h,timestamp:m}];const{onSessionStart:f}=n;f&&f(e,Tv(d,this.history)),this.removeListeners=rf(lm(this.contextWindow,"pointermove",this.handlePointerMove),lm(this.contextWindow,"pointerup",this.handlePointerUp),lm(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),cl(this.updatePoint)}}function kv(t,e){return e?{point:e(t.point)}:t}function KC(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Tv({point:t},e){return{point:t,delta:KC(t,vP(e)),offset:KC(t,q7(e)),velocity:H7(e,.1)}}function q7(t){return t[0]}function vP(t){return t[t.length-1]}function H7(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=vP(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Ji(e)));)n--;if(!r)return{x:0,y:0};const a=Gs(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function W7(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Sn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Sn(n,t,r.max):Math.min(t,n)),t}function GC(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function K7(t,{top:e,left:n,bottom:r,right:i}){return{x:GC(t.x,n,i),y:GC(t.y,e,r)}}function QC(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function G7(t,e){return{x:QC(t.x,e.x),y:QC(t.y,e.y)}}function Q7(t,e){let n=.5;const r=$r(t),i=$r(e);return i>r?n=Cm(e.min,e.max-r,t.min):r>i&&(n=Cm(t.min,t.max-i,e.min)),Za(0,1,n)}function Y7(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const mw=.35;function J7(t=mw){return t===!1?t=0:t===!0&&(t=mw),{x:YC(t,"left","right"),y:YC(t,"top","bottom")}}function YC(t,e,n){return{min:JC(t,e),max:JC(t,n)}}function JC(t,e){return typeof t=="number"?t:t[e]||0}const X7=new WeakMap;class Z7{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=On(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=f=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(of(f).point)},o=(f,g)=>{const{drag:x,dragPropagation:_,onDragStart:j}=this.getProps();if(x&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=i8(x),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),qs(N=>{let E=this.getAxisMotionValue(N).get()||0;if(Xi.test(E)){const{projection:A}=this.visualElement;if(A&&A.layout){const T=A.layout.layoutBox[N];T&&(E=$r(T)*(parseFloat(E)/100))}}this.originPoint[N]=E}),j&&yn.postRender(()=>j(f,g)),dw(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},c=(f,g)=>{this.latestPointerEvent=f,this.latestPanInfo=g;const{dragPropagation:x,dragDirectionLock:_,onDirectionLock:j,onDrag:w}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:N}=g;if(_&&this.currentDirection===null){this.currentDirection=eq(N),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",g.point,N),this.updateAxis("y",g.point,N),this.visualElement.render(),w&&w(f,g)},d=(f,g)=>{this.latestPointerEvent=f,this.latestPanInfo=g,this.stop(f,g),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>qs(f=>{var g;return this.getAnimationState(f)==="paused"&&((g=this.getAxisMotionValue(f).animation)==null?void 0:g.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new yP(e,{onSessionStart:a,onStart:o,onMove:c,onSessionEnd:d,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:r,contextWindow:xP(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:c}=this.getProps();c&&yn.postRender(()=>c(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Vp(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=W7(o,this.constraints[e],this.elastic[e])),a.set(o)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,i=this.constraints;e&&zu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=K7(r.layoutBox,e):this.constraints=!1,this.elastic=J7(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&qs(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Y7(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!zu(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=t7(r,i.root,this.visualElement.getTransformPagePoint());let o=G7(i.layout.layoutBox,a);if(n){const c=n(X8(o));this.hasMutatedConstraints=!!c,c&&(o=nP(c))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},h=qs(m=>{if(!Vp(m,n,this.currentDirection))return;let f=d&&d[m]||{};o&&(f={min:0,max:0});const g=i?200:1e6,x=i?40:1e7,_={type:"inertia",velocity:r?e[m]:0,bounceStiffness:g,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(m,_)});return Promise.all(h).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return dw(this.visualElement,e),r.start(kj(e,r,0,n,this.visualElement,!1))}stopAnimation(){qs(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){qs(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){qs(n=>{const{drag:r}=this.getProps();if(!Vp(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:c}=i.layout.layoutBox[n];a.set(e[n]-Sn(o,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!zu(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};qs(o=>{const c=this.getAxisMotionValue(o);if(c&&this.constraints!==!1){const d=c.get();i[o]=Q7({min:d,max:d},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),qs(o=>{if(!Vp(o,e,null))return;const c=this.getAxisMotionValue(o),{min:d,max:h}=this.constraints[o];c.set(Sn(d,h,i[o]))})}addListeners(){if(!this.visualElement.current)return;X7.set(this.visualElement,this);const e=this.visualElement.current,n=lm(e,"pointerdown",d=>{const{drag:h,dragListener:m=!0}=this.getProps();h&&m&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();zu(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),yn.read(r);const o=Rm(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:h})=>{this.isDragging&&h&&(qs(m=>{const f=this.getAxisMotionValue(m);f&&(this.originPoint[m]+=d[m].translate,f.set(f.get()+d[m].translate))}),this.visualElement.render())}));return()=>{o(),n(),a(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=mw,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:c}}}function Vp(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function eq(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class tq extends Sl{constructor(e){super(e),this.removeGroupControls=Ys,this.removeListeners=Ys,this.controls=new Z7(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ys}unmount(){this.removeGroupControls(),this.removeListeners()}}const XC=t=>(e,n)=>{t&&yn.postRender(()=>t(e,n))};class nq extends Sl{constructor(){super(...arguments),this.removePointerDownListener=Ys}onPointerDown(e){this.session=new yP(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:xP(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:XC(e),onStart:XC(n),onMove:r,onEnd:(a,o)=>{delete this.session,i&&yn.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=lm(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const pg={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ZC(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Oh={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ot.test(t))t=parseFloat(t);else return t;const n=ZC(t,e.target.x),r=ZC(t,e.target.y);return`${n}% ${r}%`}},rq={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=ul.parse(t);if(i.length>5)return r;const a=ul.createTransformer(t),o=typeof i[0]!="number"?1:0,c=n.x.scale*e.x,d=n.y.scale*e.y;i[0+o]/=c,i[1+o]/=d;const h=Sn(c,d,.5);return typeof i[2+o]=="number"&&(i[2+o]/=h),typeof i[3+o]=="number"&&(i[3+o]/=h),a(i)}};let Av=!1;class sq extends v.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;E8(iq),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),Av&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),pg.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,{projection:o}=r;return o&&(o.isPresent=a,Av=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==a?o.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?o.promote():o.relegate()||yn.postRender(()=>{const c=o.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),xj.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;Av=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function bP(t){const[e,n]=BR(),r=v.useContext(Q1);return s.jsx(sq,{...t,layoutGroup:r,switchLayoutGroup:v.useContext(eP),isPresent:e,safeToRemove:n})}const iq={borderRadius:{...Oh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Oh,borderTopRightRadius:Oh,borderBottomLeftRadius:Oh,borderBottomRightRadius:Oh,boxShadow:rq};function aq(t,e,n){const r=Ir(t)?t:md(t);return r.start(kj("",r,e,n)),r.animation}const oq=(t,e)=>t.depth-e.depth;class lq{constructor(){this.children=[],this.isDirty=!1}add(e){X1(this.children,e),this.isDirty=!0}remove(e){Z1(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(oq),this.isDirty=!1,this.children.forEach(e)}}function cq(t,e){const n=os.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(cl(r),t(a-e))};return yn.setup(r,!0),()=>cl(r)}const wP=["TopLeft","TopRight","BottomLeft","BottomRight"],uq=wP.length,e2=t=>typeof t=="string"?parseFloat(t):t,t2=t=>typeof t=="number"||ot.test(t);function dq(t,e,n,r,i,a){i?(t.opacity=Sn(0,n.opacity??1,hq(r)),t.opacityExit=Sn(e.opacity??1,0,mq(r))):a&&(t.opacity=Sn(e.opacity??1,n.opacity??1,r));for(let o=0;o<uq;o++){const c=`border${wP[o]}Radius`;let d=n2(e,c),h=n2(n,c);if(d===void 0&&h===void 0)continue;d||(d=0),h||(h=0),d===0||h===0||t2(d)===t2(h)?(t[c]=Math.max(Sn(e2(d),e2(h),r),0),(Xi.test(h)||Xi.test(d))&&(t[c]+="%")):t[c]=h}(e.rotate||n.rotate)&&(t.rotate=Sn(e.rotate||0,n.rotate||0,r))}function n2(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const hq=jP(0,.5,lR),mq=jP(.5,.95,Ys);function jP(t,e,n){return r=>r<t?0:r>e?1:n(Cm(t,e,r))}function r2(t,e){t.min=e.min,t.max=e.max}function $s(t,e){r2(t.x,e.x),r2(t.y,e.y)}function s2(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function i2(t,e,n,r,i){return t-=e,t=Kg(t,1/n,r),i!==void 0&&(t=Kg(t,1/i,r)),t}function fq(t,e=0,n=1,r=.5,i,a=t,o=t){if(Xi.test(e)&&(e=parseFloat(e),e=Sn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let c=Sn(a.min,a.max,r);t===a&&(c-=e),t.min=i2(t.min,e,n,c,i),t.max=i2(t.max,e,n,c,i)}function a2(t,e,[n,r,i],a,o){fq(t,e[n],e[r],e[i],e.scale,a,o)}const pq=["x","scaleX","originX"],gq=["y","scaleY","originY"];function o2(t,e,n,r){a2(t.x,e,pq,n?n.x:void 0,r?r.x:void 0),a2(t.y,e,gq,n?n.y:void 0,r?r.y:void 0)}function l2(t){return t.translate===0&&t.scale===1}function NP(t){return l2(t.x)&&l2(t.y)}function c2(t,e){return t.min===e.min&&t.max===e.max}function xq(t,e){return c2(t.x,e.x)&&c2(t.y,e.y)}function u2(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function _P(t,e){return u2(t.x,e.x)&&u2(t.y,e.y)}function d2(t){return $r(t.x)/$r(t.y)}function h2(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class yq{constructor(){this.members=[]}add(e){X1(this.members,e),e.scheduleRender()}remove(e){if(Z1(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function vq(t,e,n){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||a||o)&&(r=`translate3d(${i}px, ${a}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:m,rotateX:f,rotateY:g,skewX:x,skewY:_}=n;h&&(r=`perspective(${h}px) ${r}`),m&&(r+=`rotate(${m}deg) `),f&&(r+=`rotateX(${f}deg) `),g&&(r+=`rotateY(${g}deg) `),x&&(r+=`skewX(${x}deg) `),_&&(r+=`skewY(${_}deg) `)}const c=t.x.scale*e.x,d=t.y.scale*e.y;return(c!==1||d!==1)&&(r+=`scale(${c}, ${d})`),r||"none"}const Iv=["","X","Y","Z"],bq=1e3;let wq=0;function Rv(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function SP(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=uP(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",yn,!(i||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&SP(r)}function EP({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},c=e==null?void 0:e()){this.id=wq++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(_q),this.nodes.forEach(kq),this.nodes.forEach(Tq),this.nodes.forEach(Sq)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new lq)}addEventListener(o,c){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new nj),this.eventHandlers.get(o).add(c)}notifyListeners(o,...c){const d=this.eventHandlers.get(o);d&&d.notify(...c)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=zR(o)&&!d8(o),this.instance=o;const{layoutId:c,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),t){let m,f=0;const g=()=>this.root.updateBlockedByResize=!1;yn.read(()=>{f=window.innerWidth}),t(o,()=>{const x=window.innerWidth;x!==f&&(f=x,this.root.updateBlockedByResize=!0,m&&m(),m=cq(g,250),pg.hasAnimatedSinceResize&&(pg.hasAnimatedSinceResize=!1,this.nodes.forEach(p2)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||d)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:f,hasRelativeLayoutChanged:g,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||h.getDefaultTransition()||Dq,{onLayoutAnimationStart:j,onLayoutAnimationComplete:w}=h.getProps(),N=!this.targetLayout||!_P(this.targetLayout,x),E=!f&&g;if(this.options.layoutRoot||this.resumeFrom||E||f&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const A={...pj(_,"layout"),onPlay:j,onComplete:w};(h.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A),this.setAnimationOrigin(m,E)}else f||p2(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),cl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Aq),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&SP(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const f=this.path[m];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(m2);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(f2);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Cq),this.nodes.forEach(jq),this.nodes.forEach(Nq)):this.nodes.forEach(f2),this.clearAllSnapshots();const c=os.now();fr.delta=Za(0,1e3/60,c-fr.timestamp),fr.timestamp=c,fr.isProcessing=!0,bv.update.process(fr),bv.preRender.process(fr),bv.render.process(fr),fr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,xj.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Eq),this.sharedNodes.forEach(Iq)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,yn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){yn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!$r(this.snapshot.measuredBox.x)&&!$r(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=On(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(c=!1),c&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!NP(this.projectionDelta),d=this.getTransformTemplate(),h=d?d(this.latestValues,""):void 0,m=h!==this.prevTransformTemplateValue;o&&this.instance&&(c||ac(this.latestValues)||m)&&(i(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return o&&(d=this.removeTransform(d)),Mq(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:o}=this.options;if(!o)return On();const c=o.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(Lq))){const{scroll:m}=this.root;m&&(Bu(c.x,m.offset.x),Bu(c.y,m.offset.y))}return c}removeElementScroll(o){var d;const c=On();if($s(c,o),(d=this.scroll)!=null&&d.wasRoot)return c;for(let h=0;h<this.path.length;h++){const m=this.path[h],{scroll:f,options:g}=m;m!==this.root&&f&&g.layoutScroll&&(f.wasRoot&&$s(c,o),Bu(c.x,f.offset.x),Bu(c.y,f.offset.y))}return c}applyTransform(o,c=!1){const d=On();$s(d,o);for(let h=0;h<this.path.length;h++){const m=this.path[h];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&$u(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),ac(m.latestValues)&&$u(d,m.latestValues)}return ac(this.latestValues)&&$u(d,this.latestValues),d}removeTransform(o){const c=On();$s(c,o);for(let d=0;d<this.path.length;d++){const h=this.path[d];if(!h.instance||!ac(h.latestValues))continue;ow(h.latestValues)&&h.updateSnapshot();const m=On(),f=h.measurePageBox();$s(m,f),o2(c,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,m)}return ac(this.latestValues)&&o2(c,this.latestValues),c}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==fr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var g;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:f}=this.options;if(!(!this.layout||!(m||f))){if(this.resolvedRelativeTargetAt=fr.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=On(),this.relativeTargetOrigin=On(),um(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),$s(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=On(),this.targetWithTransforms=On()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),B7(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):$s(this.target,this.layout.layoutBox),sP(this.target,this.targetDelta)):$s(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=On(),this.relativeTargetOrigin=On(),um(this.relativeTargetOrigin,this.target,x.target),$s(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ow(this.parent.latestValues)||rP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var _;const o=this.getLead(),c=!!this.resumingFrom||this!==o;let d=!0;if((this.isProjectionDirty||(_=this.parent)!=null&&_.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===fr.timestamp&&(d=!1),d)return;const{layout:h,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||m))return;$s(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,g=this.treeScale.y;e7(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=On());const{target:x}=o;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(s2(this.prevProjectionDelta.x,this.projectionDelta.x),s2(this.prevProjectionDelta.y,this.projectionDelta.y)),cm(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==g||!h2(this.projectionDelta.x,this.prevProjectionDelta.x)||!h2(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),o){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=qu(),this.projectionDelta=qu(),this.projectionDeltaWithTransform=qu()}setAnimationOrigin(o,c=!1){const d=this.snapshot,h=d?d.latestValues:{},m={...this.latestValues},f=qu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const g=On(),x=d?d.source:void 0,_=this.layout?this.layout.source:void 0,j=x!==_,w=this.getStack(),N=!w||w.members.length<=1,E=!!(j&&!N&&this.options.crossfade===!0&&!this.path.some(Pq));this.animationProgress=0;let A;this.mixTargetDelta=T=>{const D=T/1e3;g2(f.x,o.x,D),g2(f.y,o.y,D),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(um(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Rq(this.relativeTarget,this.relativeTargetOrigin,g,D),A&&xq(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=On()),$s(A,this.relativeTarget)),j&&(this.animationValues=m,dq(m,h,this.latestValues,D,E,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var c,d,h;this.notifyListeners("animationStart"),(c=this.currentAnimation)==null||c.stop(),(h=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||h.stop(),this.pendingAnimation&&(cl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=yn.update(()=>{pg.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=md(0)),this.currentAnimation=aq(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),o.onUpdate&&o.onUpdate(m)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(bq),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:c,target:d,layout:h,latestValues:m}=o;if(!(!c||!d||!h)){if(this!==o&&this.layout&&h&&CP(this.options.animationType,this.layout.layoutBox,h.layoutBox)){d=this.target||On();const f=$r(this.layout.layoutBox.x);d.x.min=o.target.x.min,d.x.max=d.x.min+f;const g=$r(this.layout.layoutBox.y);d.y.min=o.target.y.min,d.y.max=d.y.min+g}$s(c,d),$u(c,m),cm(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(o,c){this.sharedNodes.has(o)||this.sharedNodes.set(o,new yq),this.sharedNodes.get(o).add(c);const h=c.options.initialPromotionConfig;c.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(c):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var c;const{layoutId:o}=this.options;return o?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:o}=this.options;return o?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:c,preserveFollowOpacity:d}={}){const h=this.getStack();h&&h.promote(this,d),o&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let c=!1;const{latestValues:d}=o;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const h={};d.z&&Rv("z",o,h,this.animationValues);for(let m=0;m<Iv.length;m++)Rv(`rotate${Iv[m]}`,o,h,this.animationValues),Rv(`skew${Iv[m]}`,o,h,this.animationValues);o.render();for(const m in h)o.setStaticValue(m,h[m]),this.animationValues&&(this.animationValues[m]=h[m]);o.scheduleRender()}applyProjectionStyles(o,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=fg(c==null?void 0:c.pointerEvents)||"",o.transform=d?d(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=fg(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!ac(this.latestValues)&&(o.transform=d?d({},""):"none",this.hasProjected=!1);return}o.visibility="";const m=h.animationValues||h.latestValues;this.applyTransformsToTarget();let f=vq(this.projectionDeltaWithTransform,this.treeScale,m);d&&(f=d(m,f)),o.transform=f;const{x:g,y:x}=this.projectionDelta;o.transformOrigin=`${g.origin*100}% ${x.origin*100}% 0`,h.animationValues?o.opacity=h===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:o.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const _ in Im){if(m[_]===void 0)continue;const{correct:j,applyTo:w,isCSSVariable:N}=Im[_],E=f==="none"?m[_]:j(m[_],h);if(w){const A=w.length;for(let T=0;T<A;T++)o[w[T]]=E}else N?this.options.visualElement.renderState.vars[_]=E:o[_]=E}this.options.layoutId&&(o.pointerEvents=h===this?fg(c==null?void 0:c.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var c;return(c=o.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach(m2),this.root.sharedNodes.clear()}}}function jq(t){t.updateLayout()}function Nq(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:a}=t.options,o=e.source!==t.layout.source;a==="size"?qs(f=>{const g=o?e.measuredBox[f]:e.layoutBox[f],x=$r(g);g.min=r[f].min,g.max=g.min+x}):CP(a,e.layoutBox,r)&&qs(f=>{const g=o?e.measuredBox[f]:e.layoutBox[f],x=$r(r[f]);g.max=g.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+x)});const c=qu();cm(c,r,e.layoutBox);const d=qu();o?cm(d,t.applyTransform(i,!0),e.measuredBox):cm(d,r,e.layoutBox);const h=!NP(c);let m=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:g,layout:x}=f;if(g&&x){const _=On();um(_,e.layoutBox,g.layoutBox);const j=On();um(j,r,x.layoutBox),_P(_,j)||(m=!0),f.options.layoutRoot&&(t.relativeTarget=j,t.relativeTargetOrigin=_,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:d,layoutDelta:c,hasLayoutChanged:h,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function _q(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Sq(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Eq(t){t.clearSnapshot()}function m2(t){t.clearMeasurements()}function f2(t){t.isLayoutDirty=!1}function Cq(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function p2(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function kq(t){t.resolveTargetDelta()}function Tq(t){t.calcProjection()}function Aq(t){t.resetSkewAndRotation()}function Iq(t){t.removeLeadSnapshot()}function g2(t,e,n){t.translate=Sn(e.translate,0,n),t.scale=Sn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function x2(t,e,n,r){t.min=Sn(e.min,n.min,r),t.max=Sn(e.max,n.max,r)}function Rq(t,e,n,r){x2(t.x,e.x,n.x,r),x2(t.y,e.y,n.y,r)}function Pq(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Dq={duration:.45,ease:[.4,0,.1,1]},y2=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),v2=y2("applewebkit/")&&!y2("chrome/")?Math.round:Ys;function b2(t){t.min=v2(t.min),t.max=v2(t.max)}function Mq(t){b2(t.x),b2(t.y)}function CP(t,e,n){return t==="position"||t==="preserve-aspect"&&!z7(d2(e),d2(n),.2)}function Lq(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const Oq=EP({attachResizeListener:(t,e)=>Rm(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Pv={current:void 0},kP=EP({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Pv.current){const t=new Oq({});t.mount(window),t.setOptions({layoutScroll:!0}),Pv.current=t}return Pv.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Fq={pan:{Feature:nq},drag:{Feature:tq,ProjectionNode:kP,MeasureLayout:bP}};function w2(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&yn.postRender(()=>a(e,of(e)))}class Vq extends Sl{mount(){const{current:e}=this.node;e&&(this.unmount=a8(e,(n,r)=>(w2(this.node,r,"Start"),i=>w2(this.node,i,"End"))))}unmount(){}}class Uq extends Sl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=rf(Rm(this.node.current,"focus",()=>this.onFocus()),Rm(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function j2(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&yn.postRender(()=>a(e,of(e)))}class zq extends Sl{mount(){const{current:e}=this.node;e&&(this.unmount=u8(e,(n,r)=>(j2(this.node,r,"Start"),(i,{success:a})=>j2(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const fw=new WeakMap,Dv=new WeakMap,Bq=t=>{const e=fw.get(t.target);e&&e(t)},$q=t=>{t.forEach(Bq)};function qq({root:t,...e}){const n=t||document;Dv.has(n)||Dv.set(n,{});const r=Dv.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver($q,{root:t,...e})),r[i]}function Hq(t,e,n){const r=qq(e);return fw.set(t,n),r.observe(t),()=>{fw.delete(t),r.unobserve(t)}}const Wq={some:0,all:1};class Kq extends Sl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Wq[i]},c=d=>{const{isIntersecting:h}=d;if(this.isInView===h||(this.isInView=h,a&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:m,onViewportLeave:f}=this.node.getProps(),g=h?m:f;g&&g(d)};return Hq(this.node.current,o,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Gq(e,n))&&this.startObserver()}unmount(){}}function Gq({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Qq={inView:{Feature:Kq},tap:{Feature:zq},focus:{Feature:Uq},hover:{Feature:Vq}},Yq={layout:{ProjectionNode:kP,MeasureLayout:bP}},Jq={...M7,...Qq,...Fq,...Yq},ee=J8(Jq,u7);function Ye(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function N2(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function ho(...t){return e=>{let n=!1;const r=t.map(i=>{const a=N2(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():N2(t[i],null)}}}}function qt(...t){return v.useCallback(ho(...t),t)}function Xq(t,e){const n=v.createContext(e),r=a=>{const{children:o,...c}=a,d=v.useMemo(()=>c,Object.values(c));return s.jsx(n.Provider,{value:d,children:o})};r.displayName=t+"Provider";function i(a){const o=v.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[r,i]}function mo(t,e=[]){let n=[];function r(a,o){const c=v.createContext(o),d=n.length;n=[...n,o];const h=f=>{var N;const{scope:g,children:x,..._}=f,j=((N=g==null?void 0:g[t])==null?void 0:N[d])||c,w=v.useMemo(()=>_,Object.values(_));return s.jsx(j.Provider,{value:w,children:x})};h.displayName=a+"Provider";function m(f,g){var j;const x=((j=g==null?void 0:g[t])==null?void 0:j[d])||c,_=v.useContext(x);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[h,m]}const i=()=>{const a=n.map(o=>v.createContext(o));return function(c){const d=(c==null?void 0:c[t])||a;return v.useMemo(()=>({[`__scope${t}`]:{...c,[t]:d}}),[c,d])}};return i.scopeName=t,[r,Zq(i,...e)]}function Zq(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((c,{useScope:d,scopeName:h})=>{const f=d(a)[`__scope${h}`];return{...c,...f}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var rr=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},eH=M1[" useInsertionEffect ".trim().toString()]||rr;function Nc({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,a,o]=tH({defaultProp:e,onChange:n}),c=t!==void 0,d=c?t:i;{const m=v.useRef(t!==void 0);v.useEffect(()=>{const f=m.current;f!==c&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=c},[c,r])}const h=v.useCallback(m=>{var f;if(c){const g=nH(m)?m(t):m;g!==t&&((f=o.current)==null||f.call(o,g))}else a(m)},[c,t,a,o]);return[d,h]}function tH({defaultProp:t,onChange:e}){const[n,r]=v.useState(t),i=v.useRef(n),a=v.useRef(e);return eH(()=>{a.current=e},[e]),v.useEffect(()=>{var o;i.current!==n&&((o=a.current)==null||o.call(a,n),i.current=n)},[n,i]),[n,r,a]}function nH(t){return typeof t=="function"}function rH(t){const e=sH(t),n=v.forwardRef((r,i)=>{const{children:a,...o}=r,c=v.Children.toArray(a),d=c.find(aH);if(d){const h=d.props.children,m=c.map(f=>f===d?v.Children.count(h)>1?v.Children.only(null):v.isValidElement(h)?h.props.children:null:f);return s.jsx(e,{...o,ref:i,children:v.isValidElement(h)?v.cloneElement(h,void 0,m):null})}return s.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function sH(t){const e=v.forwardRef((n,r)=>{const{children:i,...a}=n;if(v.isValidElement(i)){const o=lH(i),c=oH(a,i.props);return i.type!==v.Fragment&&(c.ref=r?ho(r,o):o),v.cloneElement(i,c)}return v.Children.count(i)>1?v.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var iH=Symbol("radix.slottable");function aH(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===iH}function oH(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...c)=>{const d=a(...c);return i(...c),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function lH(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var cH=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Et=cH.reduce((t,e)=>{const n=rH(`Primitive.${e}`),r=v.forwardRef((i,a)=>{const{asChild:o,...c}=i,d=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(d,{...c,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function TP(t,e){t&&nf.flushSync(()=>t.dispatchEvent(e))}function _2(t){const e=uH(t),n=v.forwardRef((r,i)=>{const{children:a,...o}=r,c=v.Children.toArray(a),d=c.find(hH);if(d){const h=d.props.children,m=c.map(f=>f===d?v.Children.count(h)>1?v.Children.only(null):v.isValidElement(h)?h.props.children:null:f);return s.jsx(e,{...o,ref:i,children:v.isValidElement(h)?v.cloneElement(h,void 0,m):null})}return s.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function uH(t){const e=v.forwardRef((n,r)=>{const{children:i,...a}=n;if(v.isValidElement(i)){const o=fH(i),c=mH(a,i.props);return i.type!==v.Fragment&&(c.ref=r?ho(r,o):o),v.cloneElement(i,c)}return v.Children.count(i)>1?v.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var dH=Symbol("radix.slottable");function hH(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===dH}function mH(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...c)=>{const d=a(...c);return i(...c),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function fH(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Tj(t){const e=t+"CollectionProvider",[n,r]=mo(e),[i,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=j=>{const{scope:w,children:N}=j,E=_n.useRef(null),A=_n.useRef(new Map).current;return s.jsx(i,{scope:w,itemMap:A,collectionRef:E,children:N})};o.displayName=e;const c=t+"CollectionSlot",d=_2(c),h=_n.forwardRef((j,w)=>{const{scope:N,children:E}=j,A=a(c,N),T=qt(w,A.collectionRef);return s.jsx(d,{ref:T,children:E})});h.displayName=c;const m=t+"CollectionItemSlot",f="data-radix-collection-item",g=_2(m),x=_n.forwardRef((j,w)=>{const{scope:N,children:E,...A}=j,T=_n.useRef(null),D=qt(w,T),F=a(m,N);return _n.useEffect(()=>(F.itemMap.set(T,{ref:T,...A}),()=>void F.itemMap.delete(T))),s.jsx(g,{[f]:"",ref:D,children:E})});x.displayName=m;function _(j){const w=a(t+"CollectionConsumer",j);return _n.useCallback(()=>{const E=w.collectionRef.current;if(!E)return[];const A=Array.from(E.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((F,P)=>A.indexOf(F.ref.current)-A.indexOf(P.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:h,ItemSlot:x},_,r]}var pH=v.createContext(void 0);function Aj(t){const e=v.useContext(pH);return t||e||"ltr"}function gi(t){const e=v.useRef(t);return v.useEffect(()=>{e.current=t}),v.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function gH(t,e=globalThis==null?void 0:globalThis.document){const n=gi(t);v.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var xH="DismissableLayer",pw="dismissableLayer.update",yH="dismissableLayer.pointerDownOutside",vH="dismissableLayer.focusOutside",S2,AP=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),qx=v.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:c,...d}=t,h=v.useContext(AP),[m,f]=v.useState(null),g=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=v.useState({}),_=qt(e,P=>f(P)),j=Array.from(h.layers),[w]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),N=j.indexOf(w),E=m?j.indexOf(m):-1,A=h.layersWithOutsidePointerEventsDisabled.size>0,T=E>=N,D=jH(P=>{const R=P.target,I=[...h.branches].some(O=>O.contains(R));!T||I||(i==null||i(P),o==null||o(P),P.defaultPrevented||c==null||c())},g),F=NH(P=>{const R=P.target;[...h.branches].some(O=>O.contains(R))||(a==null||a(P),o==null||o(P),P.defaultPrevented||c==null||c())},g);return gH(P=>{E===h.layers.size-1&&(r==null||r(P),!P.defaultPrevented&&c&&(P.preventDefault(),c()))},g),v.useEffect(()=>{if(m)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(S2=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(m)),h.layers.add(m),E2(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=S2)}},[m,g,n,h]),v.useEffect(()=>()=>{m&&(h.layers.delete(m),h.layersWithOutsidePointerEventsDisabled.delete(m),E2())},[m,h]),v.useEffect(()=>{const P=()=>x({});return document.addEventListener(pw,P),()=>document.removeEventListener(pw,P)},[]),s.jsx(Et.div,{...d,ref:_,style:{pointerEvents:A?T?"auto":"none":void 0,...t.style},onFocusCapture:Ye(t.onFocusCapture,F.onFocusCapture),onBlurCapture:Ye(t.onBlurCapture,F.onBlurCapture),onPointerDownCapture:Ye(t.onPointerDownCapture,D.onPointerDownCapture)})});qx.displayName=xH;var bH="DismissableLayerBranch",wH=v.forwardRef((t,e)=>{const n=v.useContext(AP),r=v.useRef(null),i=qt(e,r);return v.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),s.jsx(Et.div,{...t,ref:i})});wH.displayName=bH;function jH(t,e=globalThis==null?void 0:globalThis.document){const n=gi(t),r=v.useRef(!1),i=v.useRef(()=>{});return v.useEffect(()=>{const a=c=>{if(c.target&&!r.current){let d=function(){IP(yH,n,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=d,e.addEventListener("click",i.current,{once:!0})):d()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function NH(t,e=globalThis==null?void 0:globalThis.document){const n=gi(t),r=v.useRef(!1);return v.useEffect(()=>{const i=a=>{a.target&&!r.current&&IP(vH,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function E2(){const t=new CustomEvent(pw);document.dispatchEvent(t)}function IP(t,e,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?TP(i,a):i.dispatchEvent(a)}var Mv=0;function Ij(){v.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??C2()),document.body.insertAdjacentElement("beforeend",t[1]??C2()),Mv++,()=>{Mv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Mv--}},[])}function C2(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Lv="focusScope.autoFocusOnMount",Ov="focusScope.autoFocusOnUnmount",k2={bubbles:!1,cancelable:!0},_H="FocusScope",Hx=v.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=t,[c,d]=v.useState(null),h=gi(i),m=gi(a),f=v.useRef(null),g=qt(e,j=>d(j)),x=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(r){let j=function(A){if(x.paused||!c)return;const T=A.target;c.contains(T)?f.current=T:$o(f.current,{select:!0})},w=function(A){if(x.paused||!c)return;const T=A.relatedTarget;T!==null&&(c.contains(T)||$o(f.current,{select:!0}))},N=function(A){if(document.activeElement===document.body)for(const D of A)D.removedNodes.length>0&&$o(c)};document.addEventListener("focusin",j),document.addEventListener("focusout",w);const E=new MutationObserver(N);return c&&E.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",j),document.removeEventListener("focusout",w),E.disconnect()}}},[r,c,x.paused]),v.useEffect(()=>{if(c){A2.add(x);const j=document.activeElement;if(!c.contains(j)){const N=new CustomEvent(Lv,k2);c.addEventListener(Lv,h),c.dispatchEvent(N),N.defaultPrevented||(SH(AH(RP(c)),{select:!0}),document.activeElement===j&&$o(c))}return()=>{c.removeEventListener(Lv,h),setTimeout(()=>{const N=new CustomEvent(Ov,k2);c.addEventListener(Ov,m),c.dispatchEvent(N),N.defaultPrevented||$o(j??document.body,{select:!0}),c.removeEventListener(Ov,m),A2.remove(x)},0)}}},[c,h,m,x]);const _=v.useCallback(j=>{if(!n&&!r||x.paused)return;const w=j.key==="Tab"&&!j.altKey&&!j.ctrlKey&&!j.metaKey,N=document.activeElement;if(w&&N){const E=j.currentTarget,[A,T]=EH(E);A&&T?!j.shiftKey&&N===T?(j.preventDefault(),n&&$o(A,{select:!0})):j.shiftKey&&N===A&&(j.preventDefault(),n&&$o(T,{select:!0})):N===E&&j.preventDefault()}},[n,r,x.paused]);return s.jsx(Et.div,{tabIndex:-1,...o,ref:g,onKeyDown:_})});Hx.displayName=_H;function SH(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if($o(r,{select:e}),document.activeElement!==n)return}function EH(t){const e=RP(t),n=T2(e,t),r=T2(e.reverse(),t);return[n,r]}function RP(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function T2(t,e){for(const n of t)if(!CH(n,{upTo:e}))return n}function CH(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function kH(t){return t instanceof HTMLInputElement&&"select"in t}function $o(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&kH(t)&&e&&t.select()}}var A2=TH();function TH(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=I2(t,e),t.unshift(e)},remove(e){var n;t=I2(t,e),(n=t[0])==null||n.resume()}}}function I2(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function AH(t){return t.filter(e=>e.tagName!=="A")}var IH=M1[" useId ".trim().toString()]||(()=>{}),RH=0;function $a(t){const[e,n]=v.useState(IH());return rr(()=>{n(r=>r??String(RH++))},[t]),e?`radix-${e}`:""}const PH=["top","right","bottom","left"],dl=Math.min,Es=Math.max,Gg=Math.round,Up=Math.floor,Zi=t=>({x:t,y:t}),DH={left:"right",right:"left",bottom:"top",top:"bottom"},MH={start:"end",end:"start"};function gw(t,e,n){return Es(t,dl(e,n))}function to(t,e){return typeof t=="function"?t(e):t}function no(t){return t.split("-")[0]}function Md(t){return t.split("-")[1]}function Rj(t){return t==="x"?"y":"x"}function Pj(t){return t==="y"?"height":"width"}const LH=new Set(["top","bottom"]);function Gi(t){return LH.has(no(t))?"y":"x"}function Dj(t){return Rj(Gi(t))}function OH(t,e,n){n===void 0&&(n=!1);const r=Md(t),i=Dj(t),a=Pj(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=Qg(o)),[o,Qg(o)]}function FH(t){const e=Qg(t);return[xw(t),e,xw(e)]}function xw(t){return t.replace(/start|end/g,e=>MH[e])}const R2=["left","right"],P2=["right","left"],VH=["top","bottom"],UH=["bottom","top"];function zH(t,e,n){switch(t){case"top":case"bottom":return n?e?P2:R2:e?R2:P2;case"left":case"right":return e?VH:UH;default:return[]}}function BH(t,e,n,r){const i=Md(t);let a=zH(no(t),n==="start",r);return i&&(a=a.map(o=>o+"-"+i),e&&(a=a.concat(a.map(xw)))),a}function Qg(t){return t.replace(/left|right|bottom|top/g,e=>DH[e])}function $H(t){return{top:0,right:0,bottom:0,left:0,...t}}function PP(t){return typeof t!="number"?$H(t):{top:t,right:t,bottom:t,left:t}}function Yg(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function D2(t,e,n){let{reference:r,floating:i}=t;const a=Gi(e),o=Dj(e),c=Pj(o),d=no(e),h=a==="y",m=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,g=r[c]/2-i[c]/2;let x;switch(d){case"top":x={x:m,y:r.y-i.height};break;case"bottom":x={x:m,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:f};break;case"left":x={x:r.x-i.width,y:f};break;default:x={x:r.x,y:r.y}}switch(Md(e)){case"start":x[o]-=g*(n&&h?-1:1);break;case"end":x[o]+=g*(n&&h?-1:1);break}return x}const qH=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,c=a.filter(Boolean),d=await(o.isRTL==null?void 0:o.isRTL(e));let h=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:m,y:f}=D2(h,r,d),g=r,x={},_=0;for(let j=0;j<c.length;j++){const{name:w,fn:N}=c[j],{x:E,y:A,data:T,reset:D}=await N({x:m,y:f,initialPlacement:r,placement:g,strategy:i,middlewareData:x,rects:h,platform:o,elements:{reference:t,floating:e}});m=E??m,f=A??f,x={...x,[w]:{...x[w],...T}},D&&_<=50&&(_++,typeof D=="object"&&(D.placement&&(g=D.placement),D.rects&&(h=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):D.rects),{x:m,y:f}=D2(h,g,d)),j=-1)}return{x:m,y:f,placement:g,strategy:i,middlewareData:x}};async function Pm(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:o,elements:c,strategy:d}=t,{boundary:h="clippingAncestors",rootBoundary:m="viewport",elementContext:f="floating",altBoundary:g=!1,padding:x=0}=to(e,t),_=PP(x),w=c[g?f==="floating"?"reference":"floating":f],N=Yg(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(w)))==null||n?w:w.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:h,rootBoundary:m,strategy:d})),E=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,A=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),T=await(a.isElement==null?void 0:a.isElement(A))?await(a.getScale==null?void 0:a.getScale(A))||{x:1,y:1}:{x:1,y:1},D=Yg(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:E,offsetParent:A,strategy:d}):E);return{top:(N.top-D.top+_.top)/T.y,bottom:(D.bottom-N.bottom+_.bottom)/T.y,left:(N.left-D.left+_.left)/T.x,right:(D.right-N.right+_.right)/T.x}}const HH=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:a,platform:o,elements:c,middlewareData:d}=e,{element:h,padding:m=0}=to(t,e)||{};if(h==null)return{};const f=PP(m),g={x:n,y:r},x=Dj(i),_=Pj(x),j=await o.getDimensions(h),w=x==="y",N=w?"top":"left",E=w?"bottom":"right",A=w?"clientHeight":"clientWidth",T=a.reference[_]+a.reference[x]-g[x]-a.floating[_],D=g[x]-a.reference[x],F=await(o.getOffsetParent==null?void 0:o.getOffsetParent(h));let P=F?F[A]:0;(!P||!await(o.isElement==null?void 0:o.isElement(F)))&&(P=c.floating[A]||a.floating[_]);const R=T/2-D/2,I=P/2-j[_]/2-1,O=dl(f[N],I),V=dl(f[E],I),M=O,U=P-j[_]-V,J=P/2-j[_]/2+R,ne=gw(M,J,U),ce=!d.arrow&&Md(i)!=null&&J!==ne&&a.reference[_]/2-(J<M?O:V)-j[_]/2<0,se=ce?J<M?J-M:J-U:0;return{[x]:g[x]+se,data:{[x]:ne,centerOffset:J-ne-se,...ce&&{alignmentOffset:se}},reset:ce}}}),WH=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:a,rects:o,initialPlacement:c,platform:d,elements:h}=e,{mainAxis:m=!0,crossAxis:f=!0,fallbackPlacements:g,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:j=!0,...w}=to(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const N=no(i),E=Gi(c),A=no(c)===c,T=await(d.isRTL==null?void 0:d.isRTL(h.floating)),D=g||(A||!j?[Qg(c)]:FH(c)),F=_!=="none";!g&&F&&D.push(...BH(c,j,_,T));const P=[c,...D],R=await Pm(e,w),I=[];let O=((r=a.flip)==null?void 0:r.overflows)||[];if(m&&I.push(R[N]),f){const J=OH(i,o,T);I.push(R[J[0]],R[J[1]])}if(O=[...O,{placement:i,overflows:I}],!I.every(J=>J<=0)){var V,M;const J=(((V=a.flip)==null?void 0:V.index)||0)+1,ne=P[J];if(ne&&(!(f==="alignment"?E!==Gi(ne):!1)||O.every(K=>Gi(K.placement)===E?K.overflows[0]>0:!0)))return{data:{index:J,overflows:O},reset:{placement:ne}};let ce=(M=O.filter(se=>se.overflows[0]<=0).sort((se,K)=>se.overflows[1]-K.overflows[1])[0])==null?void 0:M.placement;if(!ce)switch(x){case"bestFit":{var U;const se=(U=O.filter(K=>{if(F){const W=Gi(K.placement);return W===E||W==="y"}return!0}).map(K=>[K.placement,K.overflows.filter(W=>W>0).reduce((W,B)=>W+B,0)]).sort((K,W)=>K[1]-W[1])[0])==null?void 0:U[0];se&&(ce=se);break}case"initialPlacement":ce=c;break}if(i!==ce)return{reset:{placement:ce}}}return{}}}};function M2(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function L2(t){return PH.some(e=>t[e]>=0)}const KH=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=to(t,e);switch(r){case"referenceHidden":{const a=await Pm(e,{...i,elementContext:"reference"}),o=M2(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:L2(o)}}}case"escaped":{const a=await Pm(e,{...i,altBoundary:!0}),o=M2(a,n.floating);return{data:{escapedOffsets:o,escaped:L2(o)}}}default:return{}}}}},DP=new Set(["left","top"]);async function GH(t,e){const{placement:n,platform:r,elements:i}=t,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=no(n),c=Md(n),d=Gi(n)==="y",h=DP.has(o)?-1:1,m=a&&d?-1:1,f=to(e,t);let{mainAxis:g,crossAxis:x,alignmentAxis:_}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return c&&typeof _=="number"&&(x=c==="end"?_*-1:_),d?{x:x*m,y:g*h}:{x:g*h,y:x*m}}const QH=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:a,placement:o,middlewareData:c}=e,d=await GH(e,t);return o===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:i+d.x,y:a+d.y,data:{...d,placement:o}}}}},YH=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:c={fn:w=>{let{x:N,y:E}=w;return{x:N,y:E}}},...d}=to(t,e),h={x:n,y:r},m=await Pm(e,d),f=Gi(no(i)),g=Rj(f);let x=h[g],_=h[f];if(a){const w=g==="y"?"top":"left",N=g==="y"?"bottom":"right",E=x+m[w],A=x-m[N];x=gw(E,x,A)}if(o){const w=f==="y"?"top":"left",N=f==="y"?"bottom":"right",E=_+m[w],A=_-m[N];_=gw(E,_,A)}const j=c.fn({...e,[g]:x,[f]:_});return{...j,data:{x:j.x-n,y:j.y-r,enabled:{[g]:a,[f]:o}}}}}},JH=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:a,middlewareData:o}=e,{offset:c=0,mainAxis:d=!0,crossAxis:h=!0}=to(t,e),m={x:n,y:r},f=Gi(i),g=Rj(f);let x=m[g],_=m[f];const j=to(c,e),w=typeof j=="number"?{mainAxis:j,crossAxis:0}:{mainAxis:0,crossAxis:0,...j};if(d){const A=g==="y"?"height":"width",T=a.reference[g]-a.floating[A]+w.mainAxis,D=a.reference[g]+a.reference[A]-w.mainAxis;x<T?x=T:x>D&&(x=D)}if(h){var N,E;const A=g==="y"?"width":"height",T=DP.has(no(i)),D=a.reference[f]-a.floating[A]+(T&&((N=o.offset)==null?void 0:N[f])||0)+(T?0:w.crossAxis),F=a.reference[f]+a.reference[A]+(T?0:((E=o.offset)==null?void 0:E[f])||0)-(T?w.crossAxis:0);_<D?_=D:_>F&&(_=F)}return{[g]:x,[f]:_}}}},XH=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:a,platform:o,elements:c}=e,{apply:d=()=>{},...h}=to(t,e),m=await Pm(e,h),f=no(i),g=Md(i),x=Gi(i)==="y",{width:_,height:j}=a.floating;let w,N;f==="top"||f==="bottom"?(w=f,N=g===(await(o.isRTL==null?void 0:o.isRTL(c.floating))?"start":"end")?"left":"right"):(N=f,w=g==="end"?"top":"bottom");const E=j-m.top-m.bottom,A=_-m.left-m.right,T=dl(j-m[w],E),D=dl(_-m[N],A),F=!e.middlewareData.shift;let P=T,R=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(R=A),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(P=E),F&&!g){const O=Es(m.left,0),V=Es(m.right,0),M=Es(m.top,0),U=Es(m.bottom,0);x?R=_-2*(O!==0||V!==0?O+V:Es(m.left,m.right)):P=j-2*(M!==0||U!==0?M+U:Es(m.top,m.bottom))}await d({...e,availableWidth:R,availableHeight:P});const I=await o.getDimensions(c.floating);return _!==I.width||j!==I.height?{reset:{rects:!0}}:{}}}};function Wx(){return typeof window<"u"}function Ld(t){return MP(t)?(t.nodeName||"").toLowerCase():"#document"}function Ps(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function fa(t){var e;return(e=(MP(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function MP(t){return Wx()?t instanceof Node||t instanceof Ps(t).Node:!1}function xi(t){return Wx()?t instanceof Element||t instanceof Ps(t).Element:!1}function ca(t){return Wx()?t instanceof HTMLElement||t instanceof Ps(t).HTMLElement:!1}function O2(t){return!Wx()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ps(t).ShadowRoot}const ZH=new Set(["inline","contents"]);function lf(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=yi(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!ZH.has(i)}const eW=new Set(["table","td","th"]);function tW(t){return eW.has(Ld(t))}const nW=[":popover-open",":modal"];function Kx(t){return nW.some(e=>{try{return t.matches(e)}catch{return!1}})}const rW=["transform","translate","scale","rotate","perspective"],sW=["transform","translate","scale","rotate","perspective","filter"],iW=["paint","layout","strict","content"];function Mj(t){const e=Lj(),n=xi(t)?yi(t):t;return rW.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||sW.some(r=>(n.willChange||"").includes(r))||iW.some(r=>(n.contain||"").includes(r))}function aW(t){let e=hl(t);for(;ca(e)&&!pd(e);){if(Mj(e))return e;if(Kx(e))return null;e=hl(e)}return null}function Lj(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const oW=new Set(["html","body","#document"]);function pd(t){return oW.has(Ld(t))}function yi(t){return Ps(t).getComputedStyle(t)}function Gx(t){return xi(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function hl(t){if(Ld(t)==="html")return t;const e=t.assignedSlot||t.parentNode||O2(t)&&t.host||fa(t);return O2(e)?e.host:e}function LP(t){const e=hl(t);return pd(e)?t.ownerDocument?t.ownerDocument.body:t.body:ca(e)&&lf(e)?e:LP(e)}function Dm(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=LP(t),a=i===((r=t.ownerDocument)==null?void 0:r.body),o=Ps(i);if(a){const c=yw(o);return e.concat(o,o.visualViewport||[],lf(i)?i:[],c&&n?Dm(c):[])}return e.concat(i,Dm(i,[],n))}function yw(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function OP(t){const e=yi(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=ca(t),a=i?t.offsetWidth:n,o=i?t.offsetHeight:r,c=Gg(n)!==a||Gg(r)!==o;return c&&(n=a,r=o),{width:n,height:r,$:c}}function Oj(t){return xi(t)?t:t.contextElement}function Yu(t){const e=Oj(t);if(!ca(e))return Zi(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:a}=OP(e);let o=(a?Gg(n.width):n.width)/r,c=(a?Gg(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!c||!Number.isFinite(c))&&(c=1),{x:o,y:c}}const lW=Zi(0);function FP(t){const e=Ps(t);return!Lj()||!e.visualViewport?lW:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function cW(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ps(t)?!1:e}function _c(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),a=Oj(t);let o=Zi(1);e&&(r?xi(r)&&(o=Yu(r)):o=Yu(t));const c=cW(a,n,r)?FP(a):Zi(0);let d=(i.left+c.x)/o.x,h=(i.top+c.y)/o.y,m=i.width/o.x,f=i.height/o.y;if(a){const g=Ps(a),x=r&&xi(r)?Ps(r):r;let _=g,j=yw(_);for(;j&&r&&x!==_;){const w=Yu(j),N=j.getBoundingClientRect(),E=yi(j),A=N.left+(j.clientLeft+parseFloat(E.paddingLeft))*w.x,T=N.top+(j.clientTop+parseFloat(E.paddingTop))*w.y;d*=w.x,h*=w.y,m*=w.x,f*=w.y,d+=A,h+=T,_=Ps(j),j=yw(_)}}return Yg({width:m,height:f,x:d,y:h})}function Qx(t,e){const n=Gx(t).scrollLeft;return e?e.left+n:_c(fa(t)).left+n}function VP(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Qx(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function uW(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const a=i==="fixed",o=fa(r),c=e?Kx(e.floating):!1;if(r===o||c&&a)return n;let d={scrollLeft:0,scrollTop:0},h=Zi(1);const m=Zi(0),f=ca(r);if((f||!f&&!a)&&((Ld(r)!=="body"||lf(o))&&(d=Gx(r)),ca(r))){const x=_c(r);h=Yu(r),m.x=x.x+r.clientLeft,m.y=x.y+r.clientTop}const g=o&&!f&&!a?VP(o,d):Zi(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-d.scrollLeft*h.x+m.x+g.x,y:n.y*h.y-d.scrollTop*h.y+m.y+g.y}}function dW(t){return Array.from(t.getClientRects())}function hW(t){const e=fa(t),n=Gx(t),r=t.ownerDocument.body,i=Es(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=Es(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Qx(t);const c=-n.scrollTop;return yi(r).direction==="rtl"&&(o+=Es(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:c}}const F2=25;function mW(t,e){const n=Ps(t),r=fa(t),i=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,c=0,d=0;if(i){a=i.width,o=i.height;const m=Lj();(!m||m&&e==="fixed")&&(c=i.offsetLeft,d=i.offsetTop)}const h=Qx(r);if(h<=0){const m=r.ownerDocument,f=m.body,g=getComputedStyle(f),x=m.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,_=Math.abs(r.clientWidth-f.clientWidth-x);_<=F2&&(a-=_)}else h<=F2&&(a+=h);return{width:a,height:o,x:c,y:d}}const fW=new Set(["absolute","fixed"]);function pW(t,e){const n=_c(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,a=ca(t)?Yu(t):Zi(1),o=t.clientWidth*a.x,c=t.clientHeight*a.y,d=i*a.x,h=r*a.y;return{width:o,height:c,x:d,y:h}}function V2(t,e,n){let r;if(e==="viewport")r=mW(t,n);else if(e==="document")r=hW(fa(t));else if(xi(e))r=pW(e,n);else{const i=FP(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Yg(r)}function UP(t,e){const n=hl(t);return n===e||!xi(n)||pd(n)?!1:yi(n).position==="fixed"||UP(n,e)}function gW(t,e){const n=e.get(t);if(n)return n;let r=Dm(t,[],!1).filter(c=>xi(c)&&Ld(c)!=="body"),i=null;const a=yi(t).position==="fixed";let o=a?hl(t):t;for(;xi(o)&&!pd(o);){const c=yi(o),d=Mj(o);!d&&c.position==="fixed"&&(i=null),(a?!d&&!i:!d&&c.position==="static"&&!!i&&fW.has(i.position)||lf(o)&&!d&&UP(t,o))?r=r.filter(m=>m!==o):i=c,o=hl(o)}return e.set(t,r),r}function xW(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Kx(e)?[]:gW(e,this._c):[].concat(n),r],c=o[0],d=o.reduce((h,m)=>{const f=V2(e,m,i);return h.top=Es(f.top,h.top),h.right=dl(f.right,h.right),h.bottom=dl(f.bottom,h.bottom),h.left=Es(f.left,h.left),h},V2(e,c,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function yW(t){const{width:e,height:n}=OP(t);return{width:e,height:n}}function vW(t,e,n){const r=ca(e),i=fa(e),a=n==="fixed",o=_c(t,!0,a,e);let c={scrollLeft:0,scrollTop:0};const d=Zi(0);function h(){d.x=Qx(i)}if(r||!r&&!a)if((Ld(e)!=="body"||lf(i))&&(c=Gx(e)),r){const x=_c(e,!0,a,e);d.x=x.x+e.clientLeft,d.y=x.y+e.clientTop}else i&&h();a&&!r&&i&&h();const m=i&&!r&&!a?VP(i,c):Zi(0),f=o.left+c.scrollLeft-d.x-m.x,g=o.top+c.scrollTop-d.y-m.y;return{x:f,y:g,width:o.width,height:o.height}}function Fv(t){return yi(t).position==="static"}function U2(t,e){if(!ca(t)||yi(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return fa(t)===n&&(n=n.ownerDocument.body),n}function zP(t,e){const n=Ps(t);if(Kx(t))return n;if(!ca(t)){let i=hl(t);for(;i&&!pd(i);){if(xi(i)&&!Fv(i))return i;i=hl(i)}return n}let r=U2(t,e);for(;r&&tW(r)&&Fv(r);)r=U2(r,e);return r&&pd(r)&&Fv(r)&&!Mj(r)?n:r||aW(t)||n}const bW=async function(t){const e=this.getOffsetParent||zP,n=this.getDimensions,r=await n(t.floating);return{reference:vW(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function wW(t){return yi(t).direction==="rtl"}const jW={convertOffsetParentRelativeRectToViewportRelativeRect:uW,getDocumentElement:fa,getClippingRect:xW,getOffsetParent:zP,getElementRects:bW,getClientRects:dW,getDimensions:yW,getScale:Yu,isElement:xi,isRTL:wW};function BP(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function NW(t,e){let n=null,r;const i=fa(t);function a(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function o(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),a();const h=t.getBoundingClientRect(),{left:m,top:f,width:g,height:x}=h;if(c||e(),!g||!x)return;const _=Up(f),j=Up(i.clientWidth-(m+g)),w=Up(i.clientHeight-(f+x)),N=Up(m),A={rootMargin:-_+"px "+-j+"px "+-w+"px "+-N+"px",threshold:Es(0,dl(1,d))||1};let T=!0;function D(F){const P=F[0].intersectionRatio;if(P!==d){if(!T)return o();P?o(!1,P):r=setTimeout(()=>{o(!1,1e-7)},1e3)}P===1&&!BP(h,t.getBoundingClientRect())&&o(),T=!1}try{n=new IntersectionObserver(D,{...A,root:i.ownerDocument})}catch{n=new IntersectionObserver(D,A)}n.observe(t)}return o(!0),a}function _W(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,h=Oj(t),m=i||a?[...h?Dm(h):[],...Dm(e)]:[];m.forEach(N=>{i&&N.addEventListener("scroll",n,{passive:!0}),a&&N.addEventListener("resize",n)});const f=h&&c?NW(h,n):null;let g=-1,x=null;o&&(x=new ResizeObserver(N=>{let[E]=N;E&&E.target===h&&x&&(x.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var A;(A=x)==null||A.observe(e)})),n()}),h&&!d&&x.observe(h),x.observe(e));let _,j=d?_c(t):null;d&&w();function w(){const N=_c(t);j&&!BP(j,N)&&n(),j=N,_=requestAnimationFrame(w)}return n(),()=>{var N;m.forEach(E=>{i&&E.removeEventListener("scroll",n),a&&E.removeEventListener("resize",n)}),f==null||f(),(N=x)==null||N.disconnect(),x=null,d&&cancelAnimationFrame(_)}}const SW=QH,EW=YH,CW=WH,kW=XH,TW=KH,z2=HH,AW=JH,IW=(t,e,n)=>{const r=new Map,i={platform:jW,...n},a={...i.platform,_c:r};return qH(t,e,{...i,platform:a})};var RW=typeof document<"u",PW=function(){},gg=RW?v.useLayoutEffect:PW;function Jg(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Jg(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&t.$$typeof)&&!Jg(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function $P(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function B2(t,e){const n=$P(t);return Math.round(e*n)/n}function Vv(t){const e=v.useRef(t);return gg(()=>{e.current=t}),e}function DW(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:o}={},transform:c=!0,whileElementsMounted:d,open:h}=t,[m,f]=v.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[g,x]=v.useState(r);Jg(g,r)||x(r);const[_,j]=v.useState(null),[w,N]=v.useState(null),E=v.useCallback(K=>{K!==F.current&&(F.current=K,j(K))},[]),A=v.useCallback(K=>{K!==P.current&&(P.current=K,N(K))},[]),T=a||_,D=o||w,F=v.useRef(null),P=v.useRef(null),R=v.useRef(m),I=d!=null,O=Vv(d),V=Vv(i),M=Vv(h),U=v.useCallback(()=>{if(!F.current||!P.current)return;const K={placement:e,strategy:n,middleware:g};V.current&&(K.platform=V.current),IW(F.current,P.current,K).then(W=>{const B={...W,isPositioned:M.current!==!1};J.current&&!Jg(R.current,B)&&(R.current=B,nf.flushSync(()=>{f(B)}))})},[g,e,n,V,M]);gg(()=>{h===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,f(K=>({...K,isPositioned:!1})))},[h]);const J=v.useRef(!1);gg(()=>(J.current=!0,()=>{J.current=!1}),[]),gg(()=>{if(T&&(F.current=T),D&&(P.current=D),T&&D){if(O.current)return O.current(T,D,U);U()}},[T,D,U,O,I]);const ne=v.useMemo(()=>({reference:F,floating:P,setReference:E,setFloating:A}),[E,A]),ce=v.useMemo(()=>({reference:T,floating:D}),[T,D]),se=v.useMemo(()=>{const K={position:n,left:0,top:0};if(!ce.floating)return K;const W=B2(ce.floating,m.x),B=B2(ce.floating,m.y);return c?{...K,transform:"translate("+W+"px, "+B+"px)",...$P(ce.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:W,top:B}},[n,c,ce.floating,m.x,m.y]);return v.useMemo(()=>({...m,update:U,refs:ne,elements:ce,floatingStyles:se}),[m,U,ne,ce,se])}const MW=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?z2({element:r.current,padding:i}).fn(n):{}:r?z2({element:r,padding:i}).fn(n):{}}}},LW=(t,e)=>({...SW(t),options:[t,e]}),OW=(t,e)=>({...EW(t),options:[t,e]}),FW=(t,e)=>({...AW(t),options:[t,e]}),VW=(t,e)=>({...CW(t),options:[t,e]}),UW=(t,e)=>({...kW(t),options:[t,e]}),zW=(t,e)=>({...TW(t),options:[t,e]}),BW=(t,e)=>({...MW(t),options:[t,e]});var $W="Arrow",qP=v.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...a}=t;return s.jsx(Et.svg,{...a,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});qP.displayName=$W;var qW=qP;function Fj(t){const[e,n]=v.useState(void 0);return rr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,c;if("borderBoxSize"in a){const d=a.borderBoxSize,h=Array.isArray(d)?d[0]:d;o=h.inlineSize,c=h.blockSize}else o=t.offsetWidth,c=t.offsetHeight;n({width:o,height:c})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Vj="Popper",[HP,Yx]=mo(Vj),[HW,WP]=HP(Vj),KP=t=>{const{__scopePopper:e,children:n}=t,[r,i]=v.useState(null);return s.jsx(HW,{scope:e,anchor:r,onAnchorChange:i,children:n})};KP.displayName=Vj;var GP="PopperAnchor",QP=v.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,a=WP(GP,n),o=v.useRef(null),c=qt(e,o),d=v.useRef(null);return v.useEffect(()=>{const h=d.current;d.current=(r==null?void 0:r.current)||o.current,h!==d.current&&a.onAnchorChange(d.current)}),r?null:s.jsx(Et.div,{...i,ref:c})});QP.displayName=GP;var Uj="PopperContent",[WW,KW]=HP(Uj),YP=v.forwardRef((t,e)=>{var pe,Se,De,Ue,$e,ft;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:h=[],collisionPadding:m=0,sticky:f="partial",hideWhenDetached:g=!1,updatePositionStrategy:x="optimized",onPlaced:_,...j}=t,w=WP(Uj,n),[N,E]=v.useState(null),A=qt(e,Jt=>E(Jt)),[T,D]=v.useState(null),F=Fj(T),P=(F==null?void 0:F.width)??0,R=(F==null?void 0:F.height)??0,I=r+(a!=="center"?"-"+a:""),O=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},V=Array.isArray(h)?h:[h],M=V.length>0,U={padding:O,boundary:V.filter(QW),altBoundary:M},{refs:J,floatingStyles:ne,placement:ce,isPositioned:se,middlewareData:K}=DW({strategy:"fixed",placement:I,whileElementsMounted:(...Jt)=>_W(...Jt,{animationFrame:x==="always"}),elements:{reference:w.anchor},middleware:[LW({mainAxis:i+R,alignmentAxis:o}),d&&OW({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?FW():void 0,...U}),d&&VW({...U}),UW({...U,apply:({elements:Jt,rects:Tn,availableWidth:vr,availableHeight:Bn})=>{const{width:Yn,height:ms}=Tn.reference,zt=Jt.floating.style;zt.setProperty("--radix-popper-available-width",`${vr}px`),zt.setProperty("--radix-popper-available-height",`${Bn}px`),zt.setProperty("--radix-popper-anchor-width",`${Yn}px`),zt.setProperty("--radix-popper-anchor-height",`${ms}px`)}}),T&&BW({element:T,padding:c}),YW({arrowWidth:P,arrowHeight:R}),g&&zW({strategy:"referenceHidden",...U})]}),[W,B]=ZP(ce),q=gi(_);rr(()=>{se&&(q==null||q())},[se,q]);const X=(pe=K.arrow)==null?void 0:pe.x,$=(Se=K.arrow)==null?void 0:Se.y,he=((De=K.arrow)==null?void 0:De.centerOffset)!==0,[Ne,Ae]=v.useState();return rr(()=>{N&&Ae(window.getComputedStyle(N).zIndex)},[N]),s.jsx("div",{ref:J.setFloating,"data-radix-popper-content-wrapper":"",style:{...ne,transform:se?ne.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ne,"--radix-popper-transform-origin":[(Ue=K.transformOrigin)==null?void 0:Ue.x,($e=K.transformOrigin)==null?void 0:$e.y].join(" "),...((ft=K.hide)==null?void 0:ft.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:s.jsx(WW,{scope:n,placedSide:W,onArrowChange:D,arrowX:X,arrowY:$,shouldHideArrow:he,children:s.jsx(Et.div,{"data-side":W,"data-align":B,...j,ref:A,style:{...j.style,animation:se?void 0:"none"}})})})});YP.displayName=Uj;var JP="PopperArrow",GW={top:"bottom",right:"left",bottom:"top",left:"right"},XP=v.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,a=KW(JP,r),o=GW[a.placedSide];return s.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:s.jsx(qW,{...i,ref:n,style:{...i.style,display:"block"}})})});XP.displayName=JP;function QW(t){return t!==null}var YW=t=>({name:"transformOrigin",options:t,fn(e){var w,N,E;const{placement:n,rects:r,middlewareData:i}=e,o=((w=i.arrow)==null?void 0:w.centerOffset)!==0,c=o?0:t.arrowWidth,d=o?0:t.arrowHeight,[h,m]=ZP(n),f={start:"0%",center:"50%",end:"100%"}[m],g=(((N=i.arrow)==null?void 0:N.x)??0)+c/2,x=(((E=i.arrow)==null?void 0:E.y)??0)+d/2;let _="",j="";return h==="bottom"?(_=o?f:`${g}px`,j=`${-d}px`):h==="top"?(_=o?f:`${g}px`,j=`${r.floating.height+d}px`):h==="right"?(_=`${-d}px`,j=o?f:`${x}px`):h==="left"&&(_=`${r.floating.width+d}px`,j=o?f:`${x}px`),{data:{x:_,y:j}}}});function ZP(t){const[e,n="center"]=t.split("-");return[e,n]}var e4=KP,t4=QP,n4=YP,r4=XP,JW="Portal",Jx=v.forwardRef((t,e)=>{var c;const{container:n,...r}=t,[i,a]=v.useState(!1);rr(()=>a(!0),[]);const o=n||i&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return o?h9.createPortal(s.jsx(Et.div,{...r,ref:e}),o):null});Jx.displayName=JW;function XW(t,e){return v.useReducer((n,r)=>e[n][r]??n,t)}var fo=t=>{const{present:e,children:n}=t,r=ZW(e),i=typeof n=="function"?n({present:r.isPresent}):v.Children.only(n),a=qt(r.ref,eK(i));return typeof n=="function"||r.isPresent?v.cloneElement(i,{ref:a}):null};fo.displayName="Presence";function ZW(t){const[e,n]=v.useState(),r=v.useRef(null),i=v.useRef(t),a=v.useRef("none"),o=t?"mounted":"unmounted",[c,d]=XW(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const h=zp(r.current);a.current=c==="mounted"?h:"none"},[c]),rr(()=>{const h=r.current,m=i.current;if(m!==t){const g=a.current,x=zp(h);t?d("MOUNT"):x==="none"||(h==null?void 0:h.display)==="none"?d("UNMOUNT"):d(m&&g!==x?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,d]),rr(()=>{if(e){let h;const m=e.ownerDocument.defaultView??window,f=x=>{const j=zp(r.current).includes(CSS.escape(x.animationName));if(x.target===e&&j&&(d("ANIMATION_END"),!i.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",h=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},g=x=>{x.target===e&&(a.current=zp(r.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{m.clearTimeout(h),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:v.useCallback(h=>{r.current=h?getComputedStyle(h):null,n(h)},[])}}function zp(t){return(t==null?void 0:t.animationName)||"none"}function eK(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Uv="rovingFocusGroup.onEntryFocus",tK={bubbles:!1,cancelable:!0},cf="RovingFocusGroup",[vw,s4,nK]=Tj(cf),[rK,i4]=mo(cf,[nK]),[sK,iK]=rK(cf),a4=v.forwardRef((t,e)=>s.jsx(vw.Provider,{scope:t.__scopeRovingFocusGroup,children:s.jsx(vw.Slot,{scope:t.__scopeRovingFocusGroup,children:s.jsx(aK,{...t,ref:e})})}));a4.displayName=cf;var aK=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:h,preventScrollOnEntryFocus:m=!1,...f}=t,g=v.useRef(null),x=qt(e,g),_=Aj(a),[j,w]=Nc({prop:o,defaultProp:c??null,onChange:d,caller:cf}),[N,E]=v.useState(!1),A=gi(h),T=s4(n),D=v.useRef(!1),[F,P]=v.useState(0);return v.useEffect(()=>{const R=g.current;if(R)return R.addEventListener(Uv,A),()=>R.removeEventListener(Uv,A)},[A]),s.jsx(sK,{scope:n,orientation:r,dir:_,loop:i,currentTabStopId:j,onItemFocus:v.useCallback(R=>w(R),[w]),onItemShiftTab:v.useCallback(()=>E(!0),[]),onFocusableItemAdd:v.useCallback(()=>P(R=>R+1),[]),onFocusableItemRemove:v.useCallback(()=>P(R=>R-1),[]),children:s.jsx(Et.div,{tabIndex:N||F===0?-1:0,"data-orientation":r,...f,ref:x,style:{outline:"none",...t.style},onMouseDown:Ye(t.onMouseDown,()=>{D.current=!0}),onFocus:Ye(t.onFocus,R=>{const I=!D.current;if(R.target===R.currentTarget&&I&&!N){const O=new CustomEvent(Uv,tK);if(R.currentTarget.dispatchEvent(O),!O.defaultPrevented){const V=T().filter(ce=>ce.focusable),M=V.find(ce=>ce.active),U=V.find(ce=>ce.id===j),ne=[M,U,...V].filter(Boolean).map(ce=>ce.ref.current);c4(ne,m)}}D.current=!1}),onBlur:Ye(t.onBlur,()=>E(!1))})})}),o4="RovingFocusGroupItem",l4=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,children:o,...c}=t,d=$a(),h=a||d,m=iK(o4,n),f=m.currentTabStopId===h,g=s4(n),{onFocusableItemAdd:x,onFocusableItemRemove:_,currentTabStopId:j}=m;return v.useEffect(()=>{if(r)return x(),()=>_()},[r,x,_]),s.jsx(vw.ItemSlot,{scope:n,id:h,focusable:r,active:i,children:s.jsx(Et.span,{tabIndex:f?0:-1,"data-orientation":m.orientation,...c,ref:e,onMouseDown:Ye(t.onMouseDown,w=>{r?m.onItemFocus(h):w.preventDefault()}),onFocus:Ye(t.onFocus,()=>m.onItemFocus(h)),onKeyDown:Ye(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){m.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const N=cK(w,m.orientation,m.dir);if(N!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let A=g().filter(T=>T.focusable).map(T=>T.ref.current);if(N==="last")A.reverse();else if(N==="prev"||N==="next"){N==="prev"&&A.reverse();const T=A.indexOf(w.currentTarget);A=m.loop?uK(A,T+1):A.slice(T+1)}setTimeout(()=>c4(A))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:j!=null}):o})})});l4.displayName=o4;var oK={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function lK(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function cK(t,e,n){const r=lK(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return oK[r]}function c4(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function uK(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var dK=a4,hK=l4;function mK(t){const e=fK(t),n=v.forwardRef((r,i)=>{const{children:a,...o}=r,c=v.Children.toArray(a),d=c.find(gK);if(d){const h=d.props.children,m=c.map(f=>f===d?v.Children.count(h)>1?v.Children.only(null):v.isValidElement(h)?h.props.children:null:f);return s.jsx(e,{...o,ref:i,children:v.isValidElement(h)?v.cloneElement(h,void 0,m):null})}return s.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function fK(t){const e=v.forwardRef((n,r)=>{const{children:i,...a}=n;if(v.isValidElement(i)){const o=yK(i),c=xK(a,i.props);return i.type!==v.Fragment&&(c.ref=r?ho(r,o):o),v.cloneElement(i,c)}return v.Children.count(i)>1?v.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var pK=Symbol("radix.slottable");function gK(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===pK}function xK(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...c)=>{const d=a(...c);return i(...c),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function yK(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var vK=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Cu=new WeakMap,Bp=new WeakMap,$p={},zv=0,u4=function(t){return t&&(t.host||u4(t.parentNode))},bK=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=u4(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},wK=function(t,e,n,r){var i=bK(e,Array.isArray(t)?t:[t]);$p[n]||($p[n]=new WeakMap);var a=$p[n],o=[],c=new Set,d=new Set(i),h=function(f){!f||c.has(f)||(c.add(f),h(f.parentNode))};i.forEach(h);var m=function(f){!f||d.has(f)||Array.prototype.forEach.call(f.children,function(g){if(c.has(g))m(g);else try{var x=g.getAttribute(r),_=x!==null&&x!=="false",j=(Cu.get(g)||0)+1,w=(a.get(g)||0)+1;Cu.set(g,j),a.set(g,w),o.push(g),j===1&&_&&Bp.set(g,!0),w===1&&g.setAttribute(n,"true"),_||g.setAttribute(r,"true")}catch(N){console.error("aria-hidden: cannot operate on ",g,N)}})};return m(e),c.clear(),zv++,function(){o.forEach(function(f){var g=Cu.get(f)-1,x=a.get(f)-1;Cu.set(f,g),a.set(f,x),g||(Bp.has(f)||f.removeAttribute(r),Bp.delete(f)),x||f.removeAttribute(n)}),zv--,zv||(Cu=new WeakMap,Cu=new WeakMap,Bp=new WeakMap,$p={})}},zj=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=vK(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),wK(r,i,n,"aria-hidden")):function(){return null}},Wi=function(){return Wi=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Wi.apply(this,arguments)};function d4(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function jK(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var xg="right-scroll-bar-position",yg="width-before-scroll-bar",NK="with-scroll-bars-hidden",_K="--removed-body-scroll-bar-size";function Bv(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function SK(t,e){var n=v.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var EK=typeof window<"u"?v.useLayoutEffect:v.useEffect,$2=new WeakMap;function CK(t,e){var n=SK(null,function(r){return t.forEach(function(i){return Bv(i,r)})});return EK(function(){var r=$2.get(n);if(r){var i=new Set(r),a=new Set(t),o=n.current;i.forEach(function(c){a.has(c)||Bv(c,null)}),a.forEach(function(c){i.has(c)||Bv(c,o)})}$2.set(n,t)},[t]),n}function kK(t){return t}function TK(t,e){e===void 0&&(e=kK);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var o=e(a,r);return n.push(o),function(){n=n.filter(function(c){return c!==o})}},assignSyncMedium:function(a){for(r=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(c){return a(c)},filter:function(){return n}}},assignMedium:function(a){r=!0;var o=[];if(n.length){var c=n;n=[],c.forEach(a),o=n}var d=function(){var m=o;o=[],m.forEach(a)},h=function(){return Promise.resolve().then(d)};h(),n={push:function(m){o.push(m),h()},filter:function(m){return o=o.filter(m),n}}}};return i}function AK(t){t===void 0&&(t={});var e=TK(null);return e.options=Wi({async:!0,ssr:!1},t),e}var h4=function(t){var e=t.sideCar,n=d4(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return v.createElement(r,Wi({},n))};h4.isSideCarExport=!0;function IK(t,e){return t.useMedium(e),h4}var m4=AK(),$v=function(){},Xx=v.forwardRef(function(t,e){var n=v.useRef(null),r=v.useState({onScrollCapture:$v,onWheelCapture:$v,onTouchMoveCapture:$v}),i=r[0],a=r[1],o=t.forwardProps,c=t.children,d=t.className,h=t.removeScrollBar,m=t.enabled,f=t.shards,g=t.sideCar,x=t.noRelative,_=t.noIsolation,j=t.inert,w=t.allowPinchZoom,N=t.as,E=N===void 0?"div":N,A=t.gapMode,T=d4(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=g,F=CK([n,e]),P=Wi(Wi({},T),i);return v.createElement(v.Fragment,null,m&&v.createElement(D,{sideCar:m4,removeScrollBar:h,shards:f,noRelative:x,noIsolation:_,inert:j,setCallbacks:a,allowPinchZoom:!!w,lockRef:n,gapMode:A}),o?v.cloneElement(v.Children.only(c),Wi(Wi({},P),{ref:F})):v.createElement(E,Wi({},P,{className:d,ref:F}),c))});Xx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Xx.classNames={fullWidth:yg,zeroRight:xg};var RK=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function PK(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=RK();return e&&t.setAttribute("nonce",e),t}function DK(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function MK(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var LK=function(){var t=0,e=null;return{add:function(n){t==0&&(e=PK())&&(DK(e,n),MK(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},OK=function(){var t=LK();return function(e,n){v.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},f4=function(){var t=OK(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},FK={left:0,top:0,right:0,gap:0},qv=function(t){return parseInt(t||"",10)||0},VK=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[qv(n),qv(r),qv(i)]},UK=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return FK;var e=VK(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},zK=f4(),Ju="data-scroll-locked",BK=function(t,e,n,r){var i=t.left,a=t.top,o=t.right,c=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(NK,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(Ju,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(xg,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(yg,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(xg," .").concat(xg,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(yg," .").concat(yg,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ju,`] {
    `).concat(_K,": ").concat(c,`px;
  }
`)},q2=function(){var t=parseInt(document.body.getAttribute(Ju)||"0",10);return isFinite(t)?t:0},$K=function(){v.useEffect(function(){return document.body.setAttribute(Ju,(q2()+1).toString()),function(){var t=q2()-1;t<=0?document.body.removeAttribute(Ju):document.body.setAttribute(Ju,t.toString())}},[])},qK=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;$K();var a=v.useMemo(function(){return UK(i)},[i]);return v.createElement(zK,{styles:BK(a,!e,i,n?"":"!important")})},bw=!1;if(typeof window<"u")try{var qp=Object.defineProperty({},"passive",{get:function(){return bw=!0,!0}});window.addEventListener("test",qp,qp),window.removeEventListener("test",qp,qp)}catch{bw=!1}var ku=bw?{passive:!1}:!1,HK=function(t){return t.tagName==="TEXTAREA"},p4=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!HK(t)&&n[e]==="visible")},WK=function(t){return p4(t,"overflowY")},KK=function(t){return p4(t,"overflowX")},H2=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=g4(t,r);if(i){var a=x4(t,r),o=a[1],c=a[2];if(o>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},GK=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},QK=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},g4=function(t,e){return t==="v"?WK(e):KK(e)},x4=function(t,e){return t==="v"?GK(e):QK(e)},YK=function(t,e){return t==="h"&&e==="rtl"?-1:1},JK=function(t,e,n,r,i){var a=YK(t,window.getComputedStyle(e).direction),o=a*r,c=n.target,d=e.contains(c),h=!1,m=o>0,f=0,g=0;do{if(!c)break;var x=x4(t,c),_=x[0],j=x[1],w=x[2],N=j-w-a*_;(_||N)&&g4(t,c)&&(f+=N,g+=_);var E=c.parentNode;c=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!d&&c!==document.body||d&&(e.contains(c)||e===c));return(m&&Math.abs(f)<1||!m&&Math.abs(g)<1)&&(h=!0),h},Hp=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},W2=function(t){return[t.deltaX,t.deltaY]},K2=function(t){return t&&"current"in t?t.current:t},XK=function(t,e){return t[0]===e[0]&&t[1]===e[1]},ZK=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},eG=0,Tu=[];function tG(t){var e=v.useRef([]),n=v.useRef([0,0]),r=v.useRef(),i=v.useState(eG++)[0],a=v.useState(f4)[0],o=v.useRef(t);v.useEffect(function(){o.current=t},[t]),v.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var j=jK([t.lockRef.current],(t.shards||[]).map(K2),!0).filter(Boolean);return j.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),j.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var c=v.useCallback(function(j,w){if("touches"in j&&j.touches.length===2||j.type==="wheel"&&j.ctrlKey)return!o.current.allowPinchZoom;var N=Hp(j),E=n.current,A="deltaX"in j?j.deltaX:E[0]-N[0],T="deltaY"in j?j.deltaY:E[1]-N[1],D,F=j.target,P=Math.abs(A)>Math.abs(T)?"h":"v";if("touches"in j&&P==="h"&&F.type==="range")return!1;var R=H2(P,F);if(!R)return!0;if(R?D=P:(D=P==="v"?"h":"v",R=H2(P,F)),!R)return!1;if(!r.current&&"changedTouches"in j&&(A||T)&&(r.current=D),!D)return!0;var I=r.current||D;return JK(I,w,j,I==="h"?A:T)},[]),d=v.useCallback(function(j){var w=j;if(!(!Tu.length||Tu[Tu.length-1]!==a)){var N="deltaY"in w?W2(w):Hp(w),E=e.current.filter(function(D){return D.name===w.type&&(D.target===w.target||w.target===D.shadowParent)&&XK(D.delta,N)})[0];if(E&&E.should){w.cancelable&&w.preventDefault();return}if(!E){var A=(o.current.shards||[]).map(K2).filter(Boolean).filter(function(D){return D.contains(w.target)}),T=A.length>0?c(w,A[0]):!o.current.noIsolation;T&&w.cancelable&&w.preventDefault()}}},[]),h=v.useCallback(function(j,w,N,E){var A={name:j,delta:w,target:N,should:E,shadowParent:nG(N)};e.current.push(A),setTimeout(function(){e.current=e.current.filter(function(T){return T!==A})},1)},[]),m=v.useCallback(function(j){n.current=Hp(j),r.current=void 0},[]),f=v.useCallback(function(j){h(j.type,W2(j),j.target,c(j,t.lockRef.current))},[]),g=v.useCallback(function(j){h(j.type,Hp(j),j.target,c(j,t.lockRef.current))},[]);v.useEffect(function(){return Tu.push(a),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:g}),document.addEventListener("wheel",d,ku),document.addEventListener("touchmove",d,ku),document.addEventListener("touchstart",m,ku),function(){Tu=Tu.filter(function(j){return j!==a}),document.removeEventListener("wheel",d,ku),document.removeEventListener("touchmove",d,ku),document.removeEventListener("touchstart",m,ku)}},[]);var x=t.removeScrollBar,_=t.inert;return v.createElement(v.Fragment,null,_?v.createElement(a,{styles:ZK(i)}):null,x?v.createElement(qK,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function nG(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const rG=IK(m4,tG);var Zx=v.forwardRef(function(t,e){return v.createElement(Xx,Wi({},t,{ref:e,sideCar:rG}))});Zx.classNames=Xx.classNames;var ww=["Enter"," "],sG=["ArrowDown","PageUp","Home"],y4=["ArrowUp","PageDown","End"],iG=[...sG,...y4],aG={ltr:[...ww,"ArrowRight"],rtl:[...ww,"ArrowLeft"]},oG={ltr:["ArrowLeft"],rtl:["ArrowRight"]},uf="Menu",[Mm,lG,cG]=Tj(uf),[Oc,v4]=mo(uf,[cG,Yx,i4]),ey=Yx(),b4=i4(),[uG,Fc]=Oc(uf),[dG,df]=Oc(uf),w4=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:a,modal:o=!0}=t,c=ey(e),[d,h]=v.useState(null),m=v.useRef(!1),f=gi(a),g=Aj(i);return v.useEffect(()=>{const x=()=>{m.current=!0,document.addEventListener("pointerdown",_,{capture:!0,once:!0}),document.addEventListener("pointermove",_,{capture:!0,once:!0})},_=()=>m.current=!1;return document.addEventListener("keydown",x,{capture:!0}),()=>{document.removeEventListener("keydown",x,{capture:!0}),document.removeEventListener("pointerdown",_,{capture:!0}),document.removeEventListener("pointermove",_,{capture:!0})}},[]),s.jsx(e4,{...c,children:s.jsx(uG,{scope:e,open:n,onOpenChange:f,content:d,onContentChange:h,children:s.jsx(dG,{scope:e,onClose:v.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:m,dir:g,modal:o,children:r})})})};w4.displayName=uf;var hG="MenuAnchor",Bj=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=ey(n);return s.jsx(t4,{...i,...r,ref:e})});Bj.displayName=hG;var $j="MenuPortal",[mG,j4]=Oc($j,{forceMount:void 0}),N4=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,a=Fc($j,e);return s.jsx(mG,{scope:e,forceMount:n,children:s.jsx(fo,{present:n||a.open,children:s.jsx(Jx,{asChild:!0,container:i,children:r})})})};N4.displayName=$j;var Js="MenuContent",[fG,qj]=Oc(Js),_4=v.forwardRef((t,e)=>{const n=j4(Js,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,a=Fc(Js,t.__scopeMenu),o=df(Js,t.__scopeMenu);return s.jsx(Mm.Provider,{scope:t.__scopeMenu,children:s.jsx(fo,{present:r||a.open,children:s.jsx(Mm.Slot,{scope:t.__scopeMenu,children:o.modal?s.jsx(pG,{...i,ref:e}):s.jsx(gG,{...i,ref:e})})})})}),pG=v.forwardRef((t,e)=>{const n=Fc(Js,t.__scopeMenu),r=v.useRef(null),i=qt(e,r);return v.useEffect(()=>{const a=r.current;if(a)return zj(a)},[]),s.jsx(Hj,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ye(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),gG=v.forwardRef((t,e)=>{const n=Fc(Js,t.__scopeMenu);return s.jsx(Hj,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),xG=mK("MenuContent.ScrollLock"),Hj=v.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:c,onEntryFocus:d,onEscapeKeyDown:h,onPointerDownOutside:m,onFocusOutside:f,onInteractOutside:g,onDismiss:x,disableOutsideScroll:_,...j}=t,w=Fc(Js,n),N=df(Js,n),E=ey(n),A=b4(n),T=lG(n),[D,F]=v.useState(null),P=v.useRef(null),R=qt(e,P,w.onContentChange),I=v.useRef(0),O=v.useRef(""),V=v.useRef(0),M=v.useRef(null),U=v.useRef("right"),J=v.useRef(0),ne=_?Zx:v.Fragment,ce=_?{as:xG,allowPinchZoom:!0}:void 0,se=W=>{var pe,Se;const B=O.current+W,q=T().filter(De=>!De.disabled),X=document.activeElement,$=(pe=q.find(De=>De.ref.current===X))==null?void 0:pe.textValue,he=q.map(De=>De.textValue),Ne=TG(he,B,$),Ae=(Se=q.find(De=>De.textValue===Ne))==null?void 0:Se.ref.current;(function De(Ue){O.current=Ue,window.clearTimeout(I.current),Ue!==""&&(I.current=window.setTimeout(()=>De(""),1e3))})(B),Ae&&setTimeout(()=>Ae.focus())};v.useEffect(()=>()=>window.clearTimeout(I.current),[]),Ij();const K=v.useCallback(W=>{var q,X;return U.current===((q=M.current)==null?void 0:q.side)&&IG(W,(X=M.current)==null?void 0:X.area)},[]);return s.jsx(fG,{scope:n,searchRef:O,onItemEnter:v.useCallback(W=>{K(W)&&W.preventDefault()},[K]),onItemLeave:v.useCallback(W=>{var B;K(W)||((B=P.current)==null||B.focus(),F(null))},[K]),onTriggerLeave:v.useCallback(W=>{K(W)&&W.preventDefault()},[K]),pointerGraceTimerRef:V,onPointerGraceIntentChange:v.useCallback(W=>{M.current=W},[]),children:s.jsx(ne,{...ce,children:s.jsx(Hx,{asChild:!0,trapped:i,onMountAutoFocus:Ye(a,W=>{var B;W.preventDefault(),(B=P.current)==null||B.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(qx,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:h,onPointerDownOutside:m,onFocusOutside:f,onInteractOutside:g,onDismiss:x,children:s.jsx(dK,{asChild:!0,...A,dir:N.dir,orientation:"vertical",loop:r,currentTabStopId:D,onCurrentTabStopIdChange:F,onEntryFocus:Ye(d,W=>{N.isUsingKeyboardRef.current||W.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(n4,{role:"menu","aria-orientation":"vertical","data-state":U4(w.open),"data-radix-menu-content":"",dir:N.dir,...E,...j,ref:R,style:{outline:"none",...j.style},onKeyDown:Ye(j.onKeyDown,W=>{const q=W.target.closest("[data-radix-menu-content]")===W.currentTarget,X=W.ctrlKey||W.altKey||W.metaKey,$=W.key.length===1;q&&(W.key==="Tab"&&W.preventDefault(),!X&&$&&se(W.key));const he=P.current;if(W.target!==he||!iG.includes(W.key))return;W.preventDefault();const Ae=T().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);y4.includes(W.key)&&Ae.reverse(),CG(Ae)}),onBlur:Ye(t.onBlur,W=>{W.currentTarget.contains(W.target)||(window.clearTimeout(I.current),O.current="")}),onPointerMove:Ye(t.onPointerMove,Lm(W=>{const B=W.target,q=J.current!==W.clientX;if(W.currentTarget.contains(B)&&q){const X=W.clientX>J.current?"right":"left";U.current=X,J.current=W.clientX}}))})})})})})})});_4.displayName=Js;var yG="MenuGroup",Wj=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return s.jsx(Et.div,{role:"group",...r,ref:e})});Wj.displayName=yG;var vG="MenuLabel",S4=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return s.jsx(Et.div,{...r,ref:e})});S4.displayName=vG;var Xg="MenuItem",G2="menu.itemSelect",ty=v.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,a=v.useRef(null),o=df(Xg,t.__scopeMenu),c=qj(Xg,t.__scopeMenu),d=qt(e,a),h=v.useRef(!1),m=()=>{const f=a.current;if(!n&&f){const g=new CustomEvent(G2,{bubbles:!0,cancelable:!0});f.addEventListener(G2,x=>r==null?void 0:r(x),{once:!0}),TP(f,g),g.defaultPrevented?h.current=!1:o.onClose()}};return s.jsx(E4,{...i,ref:d,disabled:n,onClick:Ye(t.onClick,m),onPointerDown:f=>{var g;(g=t.onPointerDown)==null||g.call(t,f),h.current=!0},onPointerUp:Ye(t.onPointerUp,f=>{var g;h.current||(g=f.currentTarget)==null||g.click()}),onKeyDown:Ye(t.onKeyDown,f=>{const g=c.searchRef.current!=="";n||g&&f.key===" "||ww.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});ty.displayName=Xg;var E4=v.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...a}=t,o=qj(Xg,n),c=b4(n),d=v.useRef(null),h=qt(e,d),[m,f]=v.useState(!1),[g,x]=v.useState("");return v.useEffect(()=>{const _=d.current;_&&x((_.textContent??"").trim())},[a.children]),s.jsx(Mm.ItemSlot,{scope:n,disabled:r,textValue:i??g,children:s.jsx(hK,{asChild:!0,...c,focusable:!r,children:s.jsx(Et.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:h,onPointerMove:Ye(t.onPointerMove,Lm(_=>{r?o.onItemLeave(_):(o.onItemEnter(_),_.defaultPrevented||_.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ye(t.onPointerLeave,Lm(_=>o.onItemLeave(_))),onFocus:Ye(t.onFocus,()=>f(!0)),onBlur:Ye(t.onBlur,()=>f(!1))})})})}),bG="MenuCheckboxItem",C4=v.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return s.jsx(R4,{scope:t.__scopeMenu,checked:n,children:s.jsx(ty,{role:"menuitemcheckbox","aria-checked":Zg(n)?"mixed":n,...i,ref:e,"data-state":Gj(n),onSelect:Ye(i.onSelect,()=>r==null?void 0:r(Zg(n)?!0:!n),{checkForDefaultPrevented:!1})})})});C4.displayName=bG;var k4="MenuRadioGroup",[wG,jG]=Oc(k4,{value:void 0,onValueChange:()=>{}}),T4=v.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,a=gi(r);return s.jsx(wG,{scope:t.__scopeMenu,value:n,onValueChange:a,children:s.jsx(Wj,{...i,ref:e})})});T4.displayName=k4;var A4="MenuRadioItem",I4=v.forwardRef((t,e)=>{const{value:n,...r}=t,i=jG(A4,t.__scopeMenu),a=n===i.value;return s.jsx(R4,{scope:t.__scopeMenu,checked:a,children:s.jsx(ty,{role:"menuitemradio","aria-checked":a,...r,ref:e,"data-state":Gj(a),onSelect:Ye(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});I4.displayName=A4;var Kj="MenuItemIndicator",[R4,NG]=Oc(Kj,{checked:!1}),P4=v.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,a=NG(Kj,n);return s.jsx(fo,{present:r||Zg(a.checked)||a.checked===!0,children:s.jsx(Et.span,{...i,ref:e,"data-state":Gj(a.checked)})})});P4.displayName=Kj;var _G="MenuSeparator",D4=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return s.jsx(Et.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});D4.displayName=_G;var SG="MenuArrow",M4=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=ey(n);return s.jsx(r4,{...i,...r,ref:e})});M4.displayName=SG;var EG="MenuSub",[Vfe,L4]=Oc(EG),Gh="MenuSubTrigger",O4=v.forwardRef((t,e)=>{const n=Fc(Gh,t.__scopeMenu),r=df(Gh,t.__scopeMenu),i=L4(Gh,t.__scopeMenu),a=qj(Gh,t.__scopeMenu),o=v.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:d}=a,h={__scopeMenu:t.__scopeMenu},m=v.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return v.useEffect(()=>m,[m]),v.useEffect(()=>{const f=c.current;return()=>{window.clearTimeout(f),d(null)}},[c,d]),s.jsx(Bj,{asChild:!0,...h,children:s.jsx(E4,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":U4(n.open),...t,ref:ho(e,i.onTriggerChange),onClick:f=>{var g;(g=t.onClick)==null||g.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ye(t.onPointerMove,Lm(f=>{a.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),m()},100))})),onPointerLeave:Ye(t.onPointerLeave,Lm(f=>{var x,_;m();const g=(x=n.content)==null?void 0:x.getBoundingClientRect();if(g){const j=(_=n.content)==null?void 0:_.dataset.side,w=j==="right",N=w?-5:5,E=g[w?"left":"right"],A=g[w?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+N,y:f.clientY},{x:E,y:g.top},{x:A,y:g.top},{x:A,y:g.bottom},{x:E,y:g.bottom}],side:j}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Ye(t.onKeyDown,f=>{var x;const g=a.searchRef.current!=="";t.disabled||g&&f.key===" "||aG[r.dir].includes(f.key)&&(n.onOpenChange(!0),(x=n.content)==null||x.focus(),f.preventDefault())})})})});O4.displayName=Gh;var F4="MenuSubContent",V4=v.forwardRef((t,e)=>{const n=j4(Js,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,a=Fc(Js,t.__scopeMenu),o=df(Js,t.__scopeMenu),c=L4(F4,t.__scopeMenu),d=v.useRef(null),h=qt(e,d);return s.jsx(Mm.Provider,{scope:t.__scopeMenu,children:s.jsx(fo,{present:r||a.open,children:s.jsx(Mm.Slot,{scope:t.__scopeMenu,children:s.jsx(Hj,{id:c.contentId,"aria-labelledby":c.triggerId,...i,ref:h,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{var f;o.isUsingKeyboardRef.current&&((f=d.current)==null||f.focus()),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:Ye(t.onFocusOutside,m=>{m.target!==c.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Ye(t.onEscapeKeyDown,m=>{o.onClose(),m.preventDefault()}),onKeyDown:Ye(t.onKeyDown,m=>{var x;const f=m.currentTarget.contains(m.target),g=oG[o.dir].includes(m.key);f&&g&&(a.onOpenChange(!1),(x=c.trigger)==null||x.focus(),m.preventDefault())})})})})})});V4.displayName=F4;function U4(t){return t?"open":"closed"}function Zg(t){return t==="indeterminate"}function Gj(t){return Zg(t)?"indeterminate":t?"checked":"unchecked"}function CG(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function kG(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function TG(t,e,n){const i=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let o=kG(t,Math.max(a,0));i.length===1&&(o=o.filter(h=>h!==n));const d=o.find(h=>h.toLowerCase().startsWith(i.toLowerCase()));return d!==n?d:void 0}function AG(t,e){const{x:n,y:r}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const c=e[a],d=e[o],h=c.x,m=c.y,f=d.x,g=d.y;m>r!=g>r&&n<(f-h)*(r-m)/(g-m)+h&&(i=!i)}return i}function IG(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return AG(n,e)}function Lm(t){return e=>e.pointerType==="mouse"?t(e):void 0}var RG=w4,PG=Bj,DG=N4,MG=_4,LG=Wj,OG=S4,FG=ty,VG=C4,UG=T4,zG=I4,BG=P4,$G=D4,qG=M4,HG=O4,WG=V4,ny="DropdownMenu",[KG]=mo(ny,[v4]),Hr=v4(),[GG,z4]=KG(ny),B4=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:a,onOpenChange:o,modal:c=!0}=t,d=Hr(e),h=v.useRef(null),[m,f]=Nc({prop:i,defaultProp:a??!1,onChange:o,caller:ny});return s.jsx(GG,{scope:e,triggerId:$a(),triggerRef:h,contentId:$a(),open:m,onOpenChange:f,onOpenToggle:v.useCallback(()=>f(g=>!g),[f]),modal:c,children:s.jsx(RG,{...d,open:m,onOpenChange:f,dir:r,modal:c,children:n})})};B4.displayName=ny;var $4="DropdownMenuTrigger",q4=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,a=z4($4,n),o=Hr(n);return s.jsx(PG,{asChild:!0,...o,children:s.jsx(Et.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:ho(e,a.triggerRef),onPointerDown:Ye(t.onPointerDown,c=>{!r&&c.button===0&&c.ctrlKey===!1&&(a.onOpenToggle(),a.open||c.preventDefault())}),onKeyDown:Ye(t.onKeyDown,c=>{r||(["Enter"," "].includes(c.key)&&a.onOpenToggle(),c.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});q4.displayName=$4;var QG="DropdownMenuPortal",H4=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Hr(e);return s.jsx(DG,{...r,...n})};H4.displayName=QG;var W4="DropdownMenuContent",K4=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=z4(W4,n),a=Hr(n),o=v.useRef(!1);return s.jsx(MG,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...r,ref:e,onCloseAutoFocus:Ye(t.onCloseAutoFocus,c=>{var d;o.current||(d=i.triggerRef.current)==null||d.focus(),o.current=!1,c.preventDefault()}),onInteractOutside:Ye(t.onInteractOutside,c=>{const d=c.detail.originalEvent,h=d.button===0&&d.ctrlKey===!0,m=d.button===2||h;(!i.modal||m)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});K4.displayName=W4;var YG="DropdownMenuGroup",JG=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Hr(n);return s.jsx(LG,{...i,...r,ref:e})});JG.displayName=YG;var XG="DropdownMenuLabel",G4=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Hr(n);return s.jsx(OG,{...i,...r,ref:e})});G4.displayName=XG;var ZG="DropdownMenuItem",Q4=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Hr(n);return s.jsx(FG,{...i,...r,ref:e})});Q4.displayName=ZG;var eQ="DropdownMenuCheckboxItem",Y4=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Hr(n);return s.jsx(VG,{...i,...r,ref:e})});Y4.displayName=eQ;var tQ="DropdownMenuRadioGroup",nQ=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Hr(n);return s.jsx(UG,{...i,...r,ref:e})});nQ.displayName=tQ;var rQ="DropdownMenuRadioItem",J4=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Hr(n);return s.jsx(zG,{...i,...r,ref:e})});J4.displayName=rQ;var sQ="DropdownMenuItemIndicator",X4=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Hr(n);return s.jsx(BG,{...i,...r,ref:e})});X4.displayName=sQ;var iQ="DropdownMenuSeparator",Z4=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Hr(n);return s.jsx($G,{...i,...r,ref:e})});Z4.displayName=iQ;var aQ="DropdownMenuArrow",oQ=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Hr(n);return s.jsx(qG,{...i,...r,ref:e})});oQ.displayName=aQ;var lQ="DropdownMenuSubTrigger",eD=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Hr(n);return s.jsx(HG,{...i,...r,ref:e})});eD.displayName=lQ;var cQ="DropdownMenuSubContent",tD=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Hr(n);return s.jsx(WG,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});tD.displayName=cQ;var uQ=B4,dQ=q4,hQ=H4,nD=K4,rD=G4,sD=Q4,iD=Y4,aD=J4,oD=X4,lD=Z4,cD=eD,uD=tD;function dD(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=dD(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function hD(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=dD(t))&&(r&&(r+=" "),r+=e);return r}const Qj="-",mQ=t=>{const e=pQ(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const c=o.split(Qj);return c[0]===""&&c.length!==1&&c.shift(),mD(c,e)||fQ(o)},getConflictingClassGroupIds:(o,c)=>{const d=n[o]||[];return c&&r[o]?[...d,...r[o]]:d}}},mD=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?mD(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(Qj);return(o=e.validators.find(({validator:c})=>c(a)))==null?void 0:o.classGroupId},Q2=/^\[(.+)\]$/,fQ=t=>{if(Q2.test(t)){const e=Q2.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},pQ=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const i in n)jw(n[i],r,i,e);return r},jw=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:Y2(e,i);a.classGroupId=n;return}if(typeof i=="function"){if(gQ(i)){jw(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,o])=>{jw(o,Y2(e,a),n,r)})})},Y2=(t,e)=>{let n=t;return e.split(Qj).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},gQ=t=>t.isThemeGetter,xQ=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(a,o)=>{n.set(a,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=r.get(a))!==void 0)return i(a,o),o},set(a,o){n.has(a)?n.set(a,o):i(a,o)}}},Nw="!",_w=":",yQ=_w.length,vQ=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const a=[];let o=0,c=0,d=0,h;for(let _=0;_<i.length;_++){let j=i[_];if(o===0&&c===0){if(j===_w){a.push(i.slice(d,_)),d=_+yQ;continue}if(j==="/"){h=_;continue}}j==="["?o++:j==="]"?o--:j==="("?c++:j===")"&&c--}const m=a.length===0?i:i.substring(d),f=bQ(m),g=f!==m,x=h&&h>d?h-d:void 0;return{modifiers:a,hasImportantModifier:g,baseClassName:f,maybePostfixModifierPosition:x}};if(e){const i=e+_w,a=r;r=o=>o.startsWith(i)?a(o.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=a=>n({className:a,parseClassName:i})}return r},bQ=t=>t.endsWith(Nw)?t.substring(0,t.length-1):t.startsWith(Nw)?t.substring(1):t,wQ=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let a=[];return r.forEach(o=>{o[0]==="["||e[o]?(i.push(...a.sort(),o),a=[]):a.push(o)}),i.push(...a.sort()),i}},jQ=t=>({cache:xQ(t.cacheSize),parseClassName:vQ(t),sortModifiers:wQ(t),...mQ(t)}),NQ=/\s+/,_Q=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:a}=e,o=[],c=t.trim().split(NQ);let d="";for(let h=c.length-1;h>=0;h-=1){const m=c[h],{isExternal:f,modifiers:g,hasImportantModifier:x,baseClassName:_,maybePostfixModifierPosition:j}=n(m);if(f){d=m+(d.length>0?" "+d:d);continue}let w=!!j,N=r(w?_.substring(0,j):_);if(!N){if(!w){d=m+(d.length>0?" "+d:d);continue}if(N=r(_),!N){d=m+(d.length>0?" "+d:d);continue}w=!1}const E=a(g).join(":"),A=x?E+Nw:E,T=A+N;if(o.includes(T))continue;o.push(T);const D=i(N,w);for(let F=0;F<D.length;++F){const P=D[F];o.push(A+P)}d=m+(d.length>0?" "+d:d)}return d};function SQ(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=fD(e))&&(r&&(r+=" "),r+=n);return r}const fD=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=fD(t[r]))&&(n&&(n+=" "),n+=e);return n};function EQ(t,...e){let n,r,i,a=o;function o(d){const h=e.reduce((m,f)=>f(m),t());return n=jQ(h),r=n.cache.get,i=n.cache.set,a=c,c(d)}function c(d){const h=r(d);if(h)return h;const m=_Q(d,n);return i(d,m),m}return function(){return a(SQ.apply(null,arguments))}}const er=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},pD=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,gD=/^\((?:(\w[\w-]*):)?(.+)\)$/i,CQ=/^\d+\/\d+$/,kQ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,TQ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,AQ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,IQ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,RQ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Au=t=>CQ.test(t),St=t=>!!t&&!Number.isNaN(Number(t)),Vo=t=>!!t&&Number.isInteger(Number(t)),Hv=t=>t.endsWith("%")&&St(t.slice(0,-1)),Pa=t=>kQ.test(t),PQ=()=>!0,DQ=t=>TQ.test(t)&&!AQ.test(t),xD=()=>!1,MQ=t=>IQ.test(t),LQ=t=>RQ.test(t),OQ=t=>!We(t)&&!Ke(t),FQ=t=>Od(t,bD,xD),We=t=>pD.test(t),ic=t=>Od(t,wD,DQ),Wv=t=>Od(t,$Q,St),J2=t=>Od(t,yD,xD),VQ=t=>Od(t,vD,LQ),Wp=t=>Od(t,jD,MQ),Ke=t=>gD.test(t),Fh=t=>Fd(t,wD),UQ=t=>Fd(t,qQ),X2=t=>Fd(t,yD),zQ=t=>Fd(t,bD),BQ=t=>Fd(t,vD),Kp=t=>Fd(t,jD,!0),Od=(t,e,n)=>{const r=pD.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Fd=(t,e,n=!1)=>{const r=gD.exec(t);return r?r[1]?e(r[1]):n:!1},yD=t=>t==="position"||t==="percentage",vD=t=>t==="image"||t==="url",bD=t=>t==="length"||t==="size"||t==="bg-size",wD=t=>t==="length",$Q=t=>t==="number",qQ=t=>t==="family-name",jD=t=>t==="shadow",HQ=()=>{const t=er("color"),e=er("font"),n=er("text"),r=er("font-weight"),i=er("tracking"),a=er("leading"),o=er("breakpoint"),c=er("container"),d=er("spacing"),h=er("radius"),m=er("shadow"),f=er("inset-shadow"),g=er("text-shadow"),x=er("drop-shadow"),_=er("blur"),j=er("perspective"),w=er("aspect"),N=er("ease"),E=er("animate"),A=()=>["auto","avoid","all","avoid-page","page","left","right","column"],T=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],D=()=>[...T(),Ke,We],F=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto","contain","none"],R=()=>[Ke,We,d],I=()=>[Au,"full","auto",...R()],O=()=>[Vo,"none","subgrid",Ke,We],V=()=>["auto",{span:["full",Vo,Ke,We]},Vo,Ke,We],M=()=>[Vo,"auto",Ke,We],U=()=>["auto","min","max","fr",Ke,We],J=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ne=()=>["start","end","center","stretch","center-safe","end-safe"],ce=()=>["auto",...R()],se=()=>[Au,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...R()],K=()=>[t,Ke,We],W=()=>[...T(),X2,J2,{position:[Ke,We]}],B=()=>["no-repeat",{repeat:["","x","y","space","round"]}],q=()=>["auto","cover","contain",zQ,FQ,{size:[Ke,We]}],X=()=>[Hv,Fh,ic],$=()=>["","none","full",h,Ke,We],he=()=>["",St,Fh,ic],Ne=()=>["solid","dashed","dotted","double"],Ae=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],pe=()=>[St,Hv,X2,J2],Se=()=>["","none",_,Ke,We],De=()=>["none",St,Ke,We],Ue=()=>["none",St,Ke,We],$e=()=>[St,Ke,We],ft=()=>[Au,"full",...R()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Pa],breakpoint:[Pa],color:[PQ],container:[Pa],"drop-shadow":[Pa],ease:["in","out","in-out"],font:[OQ],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Pa],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Pa],shadow:[Pa],spacing:["px",St],text:[Pa],"text-shadow":[Pa],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Au,We,Ke,w]}],container:["container"],columns:[{columns:[St,We,Ke,c]}],"break-after":[{"break-after":A()}],"break-before":[{"break-before":A()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:D()}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:I()}],"inset-x":[{"inset-x":I()}],"inset-y":[{"inset-y":I()}],start:[{start:I()}],end:[{end:I()}],top:[{top:I()}],right:[{right:I()}],bottom:[{bottom:I()}],left:[{left:I()}],visibility:["visible","invisible","collapse"],z:[{z:[Vo,"auto",Ke,We]}],basis:[{basis:[Au,"full","auto",c,...R()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[St,Au,"auto","initial","none",We]}],grow:[{grow:["",St,Ke,We]}],shrink:[{shrink:["",St,Ke,We]}],order:[{order:[Vo,"first","last","none",Ke,We]}],"grid-cols":[{"grid-cols":O()}],"col-start-end":[{col:V()}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":O()}],"row-start-end":[{row:V()}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":U()}],"auto-rows":[{"auto-rows":U()}],gap:[{gap:R()}],"gap-x":[{"gap-x":R()}],"gap-y":[{"gap-y":R()}],"justify-content":[{justify:[...J(),"normal"]}],"justify-items":[{"justify-items":[...ne(),"normal"]}],"justify-self":[{"justify-self":["auto",...ne()]}],"align-content":[{content:["normal",...J()]}],"align-items":[{items:[...ne(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ne(),{baseline:["","last"]}]}],"place-content":[{"place-content":J()}],"place-items":[{"place-items":[...ne(),"baseline"]}],"place-self":[{"place-self":["auto",...ne()]}],p:[{p:R()}],px:[{px:R()}],py:[{py:R()}],ps:[{ps:R()}],pe:[{pe:R()}],pt:[{pt:R()}],pr:[{pr:R()}],pb:[{pb:R()}],pl:[{pl:R()}],m:[{m:ce()}],mx:[{mx:ce()}],my:[{my:ce()}],ms:[{ms:ce()}],me:[{me:ce()}],mt:[{mt:ce()}],mr:[{mr:ce()}],mb:[{mb:ce()}],ml:[{ml:ce()}],"space-x":[{"space-x":R()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":R()}],"space-y-reverse":["space-y-reverse"],size:[{size:se()}],w:[{w:[c,"screen",...se()]}],"min-w":[{"min-w":[c,"screen","none",...se()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[o]},...se()]}],h:[{h:["screen","lh",...se()]}],"min-h":[{"min-h":["screen","lh","none",...se()]}],"max-h":[{"max-h":["screen","lh",...se()]}],"font-size":[{text:["base",n,Fh,ic]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ke,Wv]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Hv,We]}],"font-family":[{font:[UQ,We,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Ke,We]}],"line-clamp":[{"line-clamp":[St,"none",Ke,Wv]}],leading:[{leading:[a,...R()]}],"list-image":[{"list-image":["none",Ke,We]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ke,We]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:K()}],"text-color":[{text:K()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ne(),"wavy"]}],"text-decoration-thickness":[{decoration:[St,"from-font","auto",Ke,ic]}],"text-decoration-color":[{decoration:K()}],"underline-offset":[{"underline-offset":[St,"auto",Ke,We]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ke,We]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ke,We]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:W()}],"bg-repeat":[{bg:B()}],"bg-size":[{bg:q()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Vo,Ke,We],radial:["",Ke,We],conic:[Vo,Ke,We]},BQ,VQ]}],"bg-color":[{bg:K()}],"gradient-from-pos":[{from:X()}],"gradient-via-pos":[{via:X()}],"gradient-to-pos":[{to:X()}],"gradient-from":[{from:K()}],"gradient-via":[{via:K()}],"gradient-to":[{to:K()}],rounded:[{rounded:$()}],"rounded-s":[{"rounded-s":$()}],"rounded-e":[{"rounded-e":$()}],"rounded-t":[{"rounded-t":$()}],"rounded-r":[{"rounded-r":$()}],"rounded-b":[{"rounded-b":$()}],"rounded-l":[{"rounded-l":$()}],"rounded-ss":[{"rounded-ss":$()}],"rounded-se":[{"rounded-se":$()}],"rounded-ee":[{"rounded-ee":$()}],"rounded-es":[{"rounded-es":$()}],"rounded-tl":[{"rounded-tl":$()}],"rounded-tr":[{"rounded-tr":$()}],"rounded-br":[{"rounded-br":$()}],"rounded-bl":[{"rounded-bl":$()}],"border-w":[{border:he()}],"border-w-x":[{"border-x":he()}],"border-w-y":[{"border-y":he()}],"border-w-s":[{"border-s":he()}],"border-w-e":[{"border-e":he()}],"border-w-t":[{"border-t":he()}],"border-w-r":[{"border-r":he()}],"border-w-b":[{"border-b":he()}],"border-w-l":[{"border-l":he()}],"divide-x":[{"divide-x":he()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":he()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ne(),"hidden","none"]}],"divide-style":[{divide:[...Ne(),"hidden","none"]}],"border-color":[{border:K()}],"border-color-x":[{"border-x":K()}],"border-color-y":[{"border-y":K()}],"border-color-s":[{"border-s":K()}],"border-color-e":[{"border-e":K()}],"border-color-t":[{"border-t":K()}],"border-color-r":[{"border-r":K()}],"border-color-b":[{"border-b":K()}],"border-color-l":[{"border-l":K()}],"divide-color":[{divide:K()}],"outline-style":[{outline:[...Ne(),"none","hidden"]}],"outline-offset":[{"outline-offset":[St,Ke,We]}],"outline-w":[{outline:["",St,Fh,ic]}],"outline-color":[{outline:K()}],shadow:[{shadow:["","none",m,Kp,Wp]}],"shadow-color":[{shadow:K()}],"inset-shadow":[{"inset-shadow":["none",f,Kp,Wp]}],"inset-shadow-color":[{"inset-shadow":K()}],"ring-w":[{ring:he()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:K()}],"ring-offset-w":[{"ring-offset":[St,ic]}],"ring-offset-color":[{"ring-offset":K()}],"inset-ring-w":[{"inset-ring":he()}],"inset-ring-color":[{"inset-ring":K()}],"text-shadow":[{"text-shadow":["none",g,Kp,Wp]}],"text-shadow-color":[{"text-shadow":K()}],opacity:[{opacity:[St,Ke,We]}],"mix-blend":[{"mix-blend":[...Ae(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ae()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[St]}],"mask-image-linear-from-pos":[{"mask-linear-from":pe()}],"mask-image-linear-to-pos":[{"mask-linear-to":pe()}],"mask-image-linear-from-color":[{"mask-linear-from":K()}],"mask-image-linear-to-color":[{"mask-linear-to":K()}],"mask-image-t-from-pos":[{"mask-t-from":pe()}],"mask-image-t-to-pos":[{"mask-t-to":pe()}],"mask-image-t-from-color":[{"mask-t-from":K()}],"mask-image-t-to-color":[{"mask-t-to":K()}],"mask-image-r-from-pos":[{"mask-r-from":pe()}],"mask-image-r-to-pos":[{"mask-r-to":pe()}],"mask-image-r-from-color":[{"mask-r-from":K()}],"mask-image-r-to-color":[{"mask-r-to":K()}],"mask-image-b-from-pos":[{"mask-b-from":pe()}],"mask-image-b-to-pos":[{"mask-b-to":pe()}],"mask-image-b-from-color":[{"mask-b-from":K()}],"mask-image-b-to-color":[{"mask-b-to":K()}],"mask-image-l-from-pos":[{"mask-l-from":pe()}],"mask-image-l-to-pos":[{"mask-l-to":pe()}],"mask-image-l-from-color":[{"mask-l-from":K()}],"mask-image-l-to-color":[{"mask-l-to":K()}],"mask-image-x-from-pos":[{"mask-x-from":pe()}],"mask-image-x-to-pos":[{"mask-x-to":pe()}],"mask-image-x-from-color":[{"mask-x-from":K()}],"mask-image-x-to-color":[{"mask-x-to":K()}],"mask-image-y-from-pos":[{"mask-y-from":pe()}],"mask-image-y-to-pos":[{"mask-y-to":pe()}],"mask-image-y-from-color":[{"mask-y-from":K()}],"mask-image-y-to-color":[{"mask-y-to":K()}],"mask-image-radial":[{"mask-radial":[Ke,We]}],"mask-image-radial-from-pos":[{"mask-radial-from":pe()}],"mask-image-radial-to-pos":[{"mask-radial-to":pe()}],"mask-image-radial-from-color":[{"mask-radial-from":K()}],"mask-image-radial-to-color":[{"mask-radial-to":K()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":T()}],"mask-image-conic-pos":[{"mask-conic":[St]}],"mask-image-conic-from-pos":[{"mask-conic-from":pe()}],"mask-image-conic-to-pos":[{"mask-conic-to":pe()}],"mask-image-conic-from-color":[{"mask-conic-from":K()}],"mask-image-conic-to-color":[{"mask-conic-to":K()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:W()}],"mask-repeat":[{mask:B()}],"mask-size":[{mask:q()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ke,We]}],filter:[{filter:["","none",Ke,We]}],blur:[{blur:Se()}],brightness:[{brightness:[St,Ke,We]}],contrast:[{contrast:[St,Ke,We]}],"drop-shadow":[{"drop-shadow":["","none",x,Kp,Wp]}],"drop-shadow-color":[{"drop-shadow":K()}],grayscale:[{grayscale:["",St,Ke,We]}],"hue-rotate":[{"hue-rotate":[St,Ke,We]}],invert:[{invert:["",St,Ke,We]}],saturate:[{saturate:[St,Ke,We]}],sepia:[{sepia:["",St,Ke,We]}],"backdrop-filter":[{"backdrop-filter":["","none",Ke,We]}],"backdrop-blur":[{"backdrop-blur":Se()}],"backdrop-brightness":[{"backdrop-brightness":[St,Ke,We]}],"backdrop-contrast":[{"backdrop-contrast":[St,Ke,We]}],"backdrop-grayscale":[{"backdrop-grayscale":["",St,Ke,We]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[St,Ke,We]}],"backdrop-invert":[{"backdrop-invert":["",St,Ke,We]}],"backdrop-opacity":[{"backdrop-opacity":[St,Ke,We]}],"backdrop-saturate":[{"backdrop-saturate":[St,Ke,We]}],"backdrop-sepia":[{"backdrop-sepia":["",St,Ke,We]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":R()}],"border-spacing-x":[{"border-spacing-x":R()}],"border-spacing-y":[{"border-spacing-y":R()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ke,We]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[St,"initial",Ke,We]}],ease:[{ease:["linear","initial",N,Ke,We]}],delay:[{delay:[St,Ke,We]}],animate:[{animate:["none",E,Ke,We]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[j,Ke,We]}],"perspective-origin":[{"perspective-origin":D()}],rotate:[{rotate:De()}],"rotate-x":[{"rotate-x":De()}],"rotate-y":[{"rotate-y":De()}],"rotate-z":[{"rotate-z":De()}],scale:[{scale:Ue()}],"scale-x":[{"scale-x":Ue()}],"scale-y":[{"scale-y":Ue()}],"scale-z":[{"scale-z":Ue()}],"scale-3d":["scale-3d"],skew:[{skew:$e()}],"skew-x":[{"skew-x":$e()}],"skew-y":[{"skew-y":$e()}],transform:[{transform:[Ke,We,"","none","gpu","cpu"]}],"transform-origin":[{origin:D()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ft()}],"translate-x":[{"translate-x":ft()}],"translate-y":[{"translate-y":ft()}],"translate-z":[{"translate-z":ft()}],"translate-none":["translate-none"],accent:[{accent:K()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:K()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ke,We]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ke,We]}],fill:[{fill:["none",...K()]}],"stroke-w":[{stroke:[St,Fh,ic,Wv]}],stroke:[{stroke:["none",...K()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},WQ=EQ(HQ);function lt(...t){return WQ(hD(t))}const Z2=uQ,ek=dQ,KQ=v.forwardRef(({className:t,inset:e,children:n,...r},i)=>s.jsxs(cD,{ref:i,className:lt("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,s.jsx($I,{className:"ml-auto"})]}));KQ.displayName=cD.displayName;const GQ=v.forwardRef(({className:t,...e},n)=>s.jsx(uD,{ref:n,className:lt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));GQ.displayName=uD.displayName;const Sw=v.forwardRef(({className:t,sideOffset:e=4,...n},r)=>s.jsx(hQ,{children:s.jsx(nD,{ref:r,sideOffset:e,className:lt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));Sw.displayName=nD.displayName;const Qh=v.forwardRef(({className:t,inset:e,...n},r)=>s.jsx(sD,{ref:r,className:lt("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",t),...n}));Qh.displayName=sD.displayName;const QQ=v.forwardRef(({className:t,children:e,checked:n,...r},i)=>s.jsxs(iD,{ref:i,className:lt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(oD,{children:s.jsx(Sm,{className:"h-4 w-4"})})}),e]}));QQ.displayName=iD.displayName;const YQ=v.forwardRef(({className:t,children:e,...n},r)=>s.jsxs(aD,{ref:r,className:lt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(oD,{children:s.jsx(B1,{className:"h-2 w-2 fill-current"})})}),e]}));YQ.displayName=aD.displayName;const JQ=v.forwardRef(({className:t,inset:e,...n},r)=>s.jsx(rD,{ref:r,className:lt("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));JQ.displayName=rD.displayName;const XQ=v.forwardRef(({className:t,...e},n)=>s.jsx(lD,{ref:n,className:lt("-mx-1 my-1 h-px bg-muted",t),...e}));XQ.displayName=lD.displayName;var ZQ=Symbol.for("react.lazy"),ex=M1[" use ".trim().toString()];function eY(t){return typeof t=="object"&&t!==null&&"then"in t}function ND(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===ZQ&&"_payload"in t&&eY(t._payload)}function ry(t){const e=nY(t),n=v.forwardRef((r,i)=>{let{children:a,...o}=r;ND(a)&&typeof ex=="function"&&(a=ex(a._payload));const c=v.Children.toArray(a),d=c.find(sY);if(d){const h=d.props.children,m=c.map(f=>f===d?v.Children.count(h)>1?v.Children.only(null):v.isValidElement(h)?h.props.children:null:f);return s.jsx(e,{...o,ref:i,children:v.isValidElement(h)?v.cloneElement(h,void 0,m):null})}return s.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}var tY=ry("Slot");function nY(t){const e=v.forwardRef((n,r)=>{let{children:i,...a}=n;if(ND(i)&&typeof ex=="function"&&(i=ex(i._payload)),v.isValidElement(i)){const o=aY(i),c=iY(a,i.props);return i.type!==v.Fragment&&(c.ref=r?ho(r,o):o),v.cloneElement(i,c)}return v.Children.count(i)>1?v.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var rY=Symbol("radix.slottable");function sY(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===rY}function iY(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...c)=>{const d=a(...c);return i(...c),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function aY(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const tk=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,nk=hD,hf=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return nk(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:a}=e,o=Object.keys(i).map(h=>{const m=n==null?void 0:n[h],f=a==null?void 0:a[h];if(m===null)return null;const g=tk(m)||tk(f);return i[h][g]}),c=n&&Object.entries(n).reduce((h,m)=>{let[f,g]=m;return g===void 0||(h[f]=g),h},{}),d=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((h,m)=>{let{class:f,className:g,...x}=m;return Object.entries(x).every(_=>{let[j,w]=_;return Array.isArray(w)?w.includes({...a,...c}[j]):{...a,...c}[j]===w})?[...h,f,g]:h},[]);return nk(t,o,d,n==null?void 0:n.class,n==null?void 0:n.className)},oY=hf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),G=v.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},a)=>{const o=r?tY:"button";return s.jsx(o,{className:lt(oY({variant:e,size:n,className:t})),ref:a,...i})});G.displayName="Button";var Kv={exports:{}},Gv,rk;function lY(){if(rk)return Gv;rk=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Gv=t,Gv}var Qv,sk;function cY(){if(sk)return Qv;sk=1;var t=lY();function e(){}function n(){}return n.resetWarningCache=e,Qv=function(){function r(o,c,d,h,m,f){if(f!==t){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},Qv}var ik;function uY(){return ik||(ik=1,Kv.exports=cY()()),Kv.exports}var dY=uY();const Tt=Ed(dY),hY=()=>{};var ak={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},mY=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],o=t[n++],c=t[n++],d=((i&7)<<18|(a&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const a=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},SD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,c=o?t[i+1]:0,d=i+2<t.length,h=d?t[i+2]:0,m=a>>2,f=(a&3)<<4|c>>4;let g=(c&15)<<2|h>>6,x=h&63;d||(x=64,o||(g=64)),r.push(n[m],n[f],n[g],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_D(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):mY(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||c==null||h==null||f==null)throw new fY;const g=a<<2|c>>4;if(r.push(g),h!==64){const x=c<<4&240|h>>2;if(r.push(x),f!==64){const _=h<<6&192|f;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class fY extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pY=function(t){const e=_D(t);return SD.encodeByteArray(e,!0)},tx=function(t){return pY(t).replace(/\./g,"")},ED=function(t){try{return SD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gY(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xY=()=>gY().__FIREBASE_DEFAULTS__,yY=()=>{if(typeof process>"u"||typeof ak>"u")return;const t=ak.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},vY=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ED(t[1]);return e&&JSON.parse(e)},sy=()=>{try{return hY()||xY()||yY()||vY()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},CD=t=>{var e,n;return(n=(e=sy())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},bY=t=>{const e=CD(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},kD=()=>{var t;return(t=sy())==null?void 0:t.config},TD=t=>{var e;return(e=sy())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wY{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Yj(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jY(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[tx(JSON.stringify(n)),tx(JSON.stringify(o)),""].join(".")}const dm={};function NY(){const t={prod:[],emulator:[]};for(const e of Object.keys(dm))dm[e]?t.emulator.push(e):t.prod.push(e);return t}function _Y(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let ok=!1;function AD(t,e){if(typeof window>"u"||typeof document>"u"||!El(window.location.host)||dm[t]===e||dm[t]||ok)return;dm[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",a=NY().prod.length>0;function o(){const g=document.getElementById(r);g&&g.remove()}function c(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function d(g,x){g.setAttribute("width","24"),g.setAttribute("id",x),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function h(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{ok=!0,o()},g}function m(g,x){g.setAttribute("id",x),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function f(){const g=_Y(r),x=n("text"),_=document.getElementById(x)||document.createElement("span"),j=n("learnmore"),w=document.getElementById(j)||document.createElement("a"),N=n("preprendIcon"),E=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const A=g.element;c(A),m(w,j);const T=h();d(E,N),A.append(E,_,w,T),document.body.appendChild(A)}a?(_.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SY(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rr())}function EY(){var e;const t=(e=sy())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CY(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function kY(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function TY(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AY(){const t=Rr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function IY(){return!EY()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function RY(){try{return typeof indexedDB=="object"}catch{return!1}}function PY(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DY="FirebaseError";class pa extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=DY,Object.setPrototypeOf(this,pa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mf.prototype.create)}}class mf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?MY(a,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new pa(i,c,r)}}function MY(t,e){return t.replace(LY,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const LY=/\{\$([^}]+)}/g;function OY(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Sc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],o=e[i];if(lk(a)&&lk(o)){if(!Sc(a,o))return!1}else if(a!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function lk(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Yh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Jh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function FY(t,e){const n=new VY(t,e);return n.subscribe.bind(n)}class VY{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");UY(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Yv),i.error===void 0&&(i.error=Yv),i.complete===void 0&&(i.complete=Yv);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function UY(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Yv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(t){return t&&t._delegate?t._delegate:t}class ml{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zY{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new wY;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($Y(e))try{this.getOrInitializeService({instanceIdentifier:oc})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=oc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=oc){return this.instances.has(e)}getOptions(e=oc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:BY(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=oc){return this.component?this.component.multipleInstances?e:oc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BY(t){return t===oc?void 0:t}function $Y(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qY{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new zY(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(At||(At={}));const HY={debug:At.DEBUG,verbose:At.VERBOSE,info:At.INFO,warn:At.WARN,error:At.ERROR,silent:At.SILENT},WY=At.INFO,KY={[At.DEBUG]:"log",[At.VERBOSE]:"log",[At.INFO]:"info",[At.WARN]:"warn",[At.ERROR]:"error"},GY=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=KY[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jj{constructor(e){this.name=e,this._logLevel=WY,this._logHandler=GY,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in At))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HY[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,At.DEBUG,...e),this._logHandler(this,At.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,At.VERBOSE,...e),this._logHandler(this,At.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,At.INFO,...e),this._logHandler(this,At.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,At.WARN,...e),this._logHandler(this,At.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,At.ERROR,...e),this._logHandler(this,At.ERROR,...e)}}const QY=(t,e)=>e.some(n=>t instanceof n);let ck,uk;function YY(){return ck||(ck=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JY(){return uk||(uk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ID=new WeakMap,Ew=new WeakMap,RD=new WeakMap,Jv=new WeakMap,Xj=new WeakMap;function XY(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(nl(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ID.set(n,t)}).catch(()=>{}),Xj.set(e,t),e}function ZY(t){if(Ew.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});Ew.set(t,e)}let Cw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ew.get(t);if(e==="objectStoreNames")return t.objectStoreNames||RD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return nl(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function eJ(t){Cw=t(Cw)}function tJ(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Xv(this),e,...n);return RD.set(r,e.sort?e.sort():[e]),nl(r)}:JY().includes(t)?function(...e){return t.apply(Xv(this),e),nl(ID.get(this))}:function(...e){return nl(t.apply(Xv(this),e))}}function nJ(t){return typeof t=="function"?tJ(t):(t instanceof IDBTransaction&&ZY(t),QY(t,YY())?new Proxy(t,Cw):t)}function nl(t){if(t instanceof IDBRequest)return XY(t);if(Jv.has(t))return Jv.get(t);const e=nJ(t);return e!==t&&(Jv.set(t,e),Xj.set(e,t)),e}const Xv=t=>Xj.get(t);function rJ(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),c=nl(o);return r&&o.addEventListener("upgradeneeded",d=>{r(nl(o.result),d.oldVersion,d.newVersion,nl(o.transaction),d)}),n&&o.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{a&&d.addEventListener("close",()=>a()),i&&d.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const sJ=["get","getKey","getAll","getAllKeys","count"],iJ=["put","add","delete","clear"],Zv=new Map;function dk(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Zv.get(e))return Zv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=iJ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||sJ.includes(n)))return;const a=async function(o,...c){const d=this.transaction(o,i?"readwrite":"readonly");let h=d.store;return r&&(h=h.index(c.shift())),(await Promise.all([h[n](...c),i&&d.done]))[0]};return Zv.set(e,a),a}eJ(t=>({...t,get:(e,n,r)=>dk(e,n)||t.get(e,n,r),has:(e,n)=>!!dk(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aJ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(oJ(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function oJ(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const kw="@firebase/app",hk="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro=new Jj("@firebase/app"),lJ="@firebase/app-compat",cJ="@firebase/analytics-compat",uJ="@firebase/analytics",dJ="@firebase/app-check-compat",hJ="@firebase/app-check",mJ="@firebase/auth",fJ="@firebase/auth-compat",pJ="@firebase/database",gJ="@firebase/data-connect",xJ="@firebase/database-compat",yJ="@firebase/functions",vJ="@firebase/functions-compat",bJ="@firebase/installations",wJ="@firebase/installations-compat",jJ="@firebase/messaging",NJ="@firebase/messaging-compat",_J="@firebase/performance",SJ="@firebase/performance-compat",EJ="@firebase/remote-config",CJ="@firebase/remote-config-compat",kJ="@firebase/storage",TJ="@firebase/storage-compat",AJ="@firebase/firestore",IJ="@firebase/ai",RJ="@firebase/firestore-compat",PJ="firebase",DJ="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="[DEFAULT]",MJ={[kw]:"fire-core",[lJ]:"fire-core-compat",[uJ]:"fire-analytics",[cJ]:"fire-analytics-compat",[hJ]:"fire-app-check",[dJ]:"fire-app-check-compat",[mJ]:"fire-auth",[fJ]:"fire-auth-compat",[pJ]:"fire-rtdb",[gJ]:"fire-data-connect",[xJ]:"fire-rtdb-compat",[yJ]:"fire-fn",[vJ]:"fire-fn-compat",[bJ]:"fire-iid",[wJ]:"fire-iid-compat",[jJ]:"fire-fcm",[NJ]:"fire-fcm-compat",[_J]:"fire-perf",[SJ]:"fire-perf-compat",[EJ]:"fire-rc",[CJ]:"fire-rc-compat",[kJ]:"fire-gcs",[TJ]:"fire-gcs-compat",[AJ]:"fire-fst",[RJ]:"fire-fst-compat",[IJ]:"fire-vertex","fire-js":"fire-js",[PJ]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx=new Map,LJ=new Map,Aw=new Map;function mk(t,e){try{t.container.addComponent(e)}catch(n){ro.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ec(t){const e=t.name;if(Aw.has(e))return ro.debug(`There were multiple attempts to register component ${e}.`),!1;Aw.set(e,t);for(const n of nx.values())mk(n,t);for(const n of LJ.values())mk(n,t);return!0}function iy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ks(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OJ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rl=new mf("app","Firebase",OJ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FJ{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ml("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vc=DJ;function PD(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Tw,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw rl.create("bad-app-name",{appName:String(i)});if(n||(n=kD()),!n)throw rl.create("no-options");const a=nx.get(i);if(a){if(Sc(n,a.options)&&Sc(r,a.config))return a;throw rl.create("duplicate-app",{appName:i})}const o=new qY(i);for(const d of Aw.values())o.addComponent(d);const c=new FJ(n,r,o);return nx.set(i,c),c}function DD(t=Tw){const e=nx.get(t);if(!e&&t===Tw&&kD())return PD();if(!e)throw rl.create("no-app",{appName:t});return e}function ea(t,e,n){let r=MJ[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ro.warn(o.join(" "));return}Ec(new ml(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VJ="firebase-heartbeat-database",UJ=1,Om="firebase-heartbeat-store";let eb=null;function MD(){return eb||(eb=rJ(VJ,UJ,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Om)}catch(n){console.warn(n)}}}}).catch(t=>{throw rl.create("idb-open",{originalErrorMessage:t.message})})),eb}async function zJ(t){try{const n=(await MD()).transaction(Om),r=await n.objectStore(Om).get(LD(t));return await n.done,r}catch(e){if(e instanceof pa)ro.warn(e.message);else{const n=rl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ro.warn(n.message)}}}async function fk(t,e){try{const r=(await MD()).transaction(Om,"readwrite");await r.objectStore(Om).put(e,LD(t)),await r.done}catch(n){if(n instanceof pa)ro.warn(n.message);else{const r=rl.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ro.warn(r.message)}}}function LD(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BJ=1024,$J=30;class qJ{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new WJ(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=pk();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>$J){const o=KJ(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ro.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=pk(),{heartbeatsToSend:r,unsentEntries:i}=HJ(this._heartbeatsCache.heartbeats),a=tx(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return ro.warn(n),""}}}function pk(){return new Date().toISOString().substring(0,10)}function HJ(t,e=BJ){const n=[];let r=t.slice();for(const i of t){const a=n.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),gk(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),gk(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class WJ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RY()?PY().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await zJ(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return fk(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return fk(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function gk(t){return tx(JSON.stringify({version:2,heartbeats:t})).length}function KJ(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GJ(t){Ec(new ml("platform-logger",e=>new aJ(e),"PRIVATE")),Ec(new ml("heartbeat",e=>new qJ(e),"PRIVATE")),ea(kw,hk,t),ea(kw,hk,"esm2020"),ea("fire-js","")}GJ("");var QJ="firebase",YJ="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ea(QJ,YJ,"app");function OD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JJ=OD,FD=new mf("auth","Firebase",OD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx=new Jj("@firebase/auth");function XJ(t,...e){rx.logLevel<=At.WARN&&rx.warn(`Auth (${Vc}): ${t}`,...e)}function vg(t,...e){rx.logLevel<=At.ERROR&&rx.error(`Auth (${Vc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(t,...e){throw Zj(t,...e)}function ta(t,...e){return Zj(t,...e)}function VD(t,e,n){const r={...JJ(),[e]:n};return new mf("auth","Firebase",r).create(e,{appName:t.name})}function qa(t){return VD(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Zj(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return FD.create(t,...e)}function it(t,e,...n){if(!t)throw Zj(e,...n)}function Fa(t){const e="INTERNAL ASSERTION FAILED: "+t;throw vg(e),new Error(e)}function so(t,e){t||Fa(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function ZJ(){return xk()==="http:"||xk()==="https:"}function xk(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eX(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZJ()||kY()||"connection"in navigator)?navigator.onLine:!0}function tX(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,n){this.shortDelay=e,this.longDelay=n,so(n>e,"Short delay should be less than long delay!"),this.isMobile=SY()||TY()}get(){return eX()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(t,e){so(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nX={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rX=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],sX=new pf(3e4,6e4);function po(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function go(t,e,n,r,i={}){return zD(t,i,async()=>{let a={},o={};r&&(e==="GET"?o=r:a={body:JSON.stringify(r)});const c=ff({key:t.config.apiKey,...o}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:d,...a};return CY()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&El(t.emulatorConfig.host)&&(h.credentials="include"),UD.fetch()(await BD(t,t.config.apiHost,n,c),h)})}async function zD(t,e,n){t._canInitEmulator=!1;const r={...nX,...e};try{const i=new aX(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw Gp(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const c=a.ok?o.errorMessage:o.error.message,[d,h]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gp(t,"credential-already-in-use",o);if(d==="EMAIL_EXISTS")throw Gp(t,"email-already-in-use",o);if(d==="USER_DISABLED")throw Gp(t,"user-disabled",o);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw VD(t,m,h);vi(t,m)}}catch(i){if(i instanceof pa)throw i;vi(t,"network-request-failed",{message:String(i)})}}async function gf(t,e,n,r,i={}){const a=await go(t,e,n,r,i);return"mfaPendingCredential"in a&&vi(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function BD(t,e,n,r){const i=`${e}${n}?${r}`,a=t,o=a.config.emulator?eN(t.config,i):`${t.config.apiScheme}://${i}`;return rX.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function iX(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class aX{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ta(this.auth,"network-request-failed")),sX.get())})}}function Gp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ta(t,e,r);return i.customData._tokenResponse=n,i}function yk(t){return t!==void 0&&t.enterprise!==void 0}class oX{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return iX(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function lX(t,e){return go(t,"GET","/v2/recaptchaConfig",po(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cX(t,e){return go(t,"POST","/v1/accounts:delete",e)}async function sx(t,e){return go(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function uX(t,e=!1){const n=Cn(t),r=await n.getIdToken(e),i=tN(r);it(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:hm(tb(i.auth_time)),issuedAtTime:hm(tb(i.iat)),expirationTime:hm(tb(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function tb(t){return Number(t)*1e3}function tN(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return vg("JWT malformed, contained fewer than 3 sections"),null;try{const i=ED(n);return i?JSON.parse(i):(vg("Failed to decode base64 JWT payload"),null)}catch(i){return vg("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function vk(t){const e=tN(t);return it(e,"internal-error"),it(typeof e.exp<"u","internal-error"),it(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fm(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof pa&&dX(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function dX({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hX{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=hm(this.lastLoginAt),this.creationTime=hm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ix(t){var f;const e=t.auth,n=await t.getIdToken(),r=await Fm(t,sx(e,{idToken:n}));it(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=(f=i.providerUserInfo)!=null&&f.length?$D(i.providerUserInfo):[],o=fX(t.providerData,a),c=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),h=c?d:!1,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Rw(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,m)}async function mX(t){const e=Cn(t);await ix(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fX(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function $D(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pX(t,e){const n=await zD(t,{},async()=>{const r=ff({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await BD(t,i,"/v1/token",`key=${a}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:c,body:r};return t.emulatorConfig&&El(t.emulatorConfig.host)&&(d.credentials="include"),UD.fetch()(o,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function gX(t,e){return go(t,"POST","/v2/accounts:revokeToken",po(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){it(e.idToken,"internal-error"),it(typeof e.idToken<"u","internal-error"),it(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):vk(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){it(e.length!==0,"internal-error");const n=vk(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(it(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await pX(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new Xu;return r&&(it(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(it(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(it(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xu,this.toJSON())}_performRefresh(){return Fa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uo(t,e){it(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class fi{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new hX(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Rw(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Fm(this,this.stsTokenManager.getToken(this.auth,e));return it(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return uX(this,e)}reload(){return mX(this)}_assign(e){this!==e&&(it(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new fi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){it(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ix(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ks(this.auth.app))return Promise.reject(qa(this.auth));const e=await this.getIdToken();return await Fm(this,cX(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,o=n.photoURL??void 0,c=n.tenantId??void 0,d=n._redirectEventId??void 0,h=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:f,emailVerified:g,isAnonymous:x,providerData:_,stsTokenManager:j}=n;it(f&&j,e,"internal-error");const w=Xu.fromJSON(this.name,j);it(typeof f=="string",e,"internal-error"),Uo(r,e.name),Uo(i,e.name),it(typeof g=="boolean",e,"internal-error"),it(typeof x=="boolean",e,"internal-error"),Uo(a,e.name),Uo(o,e.name),Uo(c,e.name),Uo(d,e.name),Uo(h,e.name),Uo(m,e.name);const N=new fi({uid:f,auth:e,email:i,emailVerified:g,displayName:r,isAnonymous:x,photoURL:o,phoneNumber:a,tenantId:c,stsTokenManager:w,createdAt:h,lastLoginAt:m});return _&&Array.isArray(_)&&(N.providerData=_.map(E=>({...E}))),d&&(N._redirectEventId=d),N}static async _fromIdTokenResponse(e,n,r=!1){const i=new Xu;i.updateFromServerResponse(n);const a=new fi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ix(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];it(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?$D(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),c=new Xu;c.updateFromIdToken(r);const d=new fi({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Rw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk=new Map;function Va(t){so(t instanceof Function,"Expected a class definition");let e=bk.get(t);return e?(so(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,bk.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}qD.type="NONE";const wk=qD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(t,e,n){return`firebase:${t}:${e}:${n}`}class Zu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=bg(this.userKey,i.apiKey,a),this.fullPersistenceKey=bg("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await sx(this.auth,{idToken:e}).catch(()=>{});return n?fi._fromGetAccountInfoResponse(this.auth,n,e):null}return fi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Zu(Va(wk),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let a=i[0]||Va(wk);const o=bg(r,e.config.apiKey,e.name);let c=null;for(const h of n)try{const m=await h._get(o);if(m){let f;if(typeof m=="string"){const g=await sx(e,{idToken:m}).catch(()=>{});if(!g)break;f=await fi._fromGetAccountInfoResponse(e,g,m)}else f=fi._fromJSON(e,m);h!==a&&(c=f),a=h;break}}catch{}const d=i.filter(h=>h._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new Zu(a,e,r):(a=d[0],c&&await a._set(o,c.toJSON()),await Promise.all(n.map(async h=>{if(h!==a)try{await h._remove(o)}catch{}})),new Zu(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jk(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(GD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(HD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(YD(e))return"Blackberry";if(JD(e))return"Webos";if(WD(e))return"Safari";if((e.includes("chrome/")||KD(e))&&!e.includes("edge/"))return"Chrome";if(QD(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function HD(t=Rr()){return/firefox\//i.test(t)}function WD(t=Rr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function KD(t=Rr()){return/crios\//i.test(t)}function GD(t=Rr()){return/iemobile/i.test(t)}function QD(t=Rr()){return/android/i.test(t)}function YD(t=Rr()){return/blackberry/i.test(t)}function JD(t=Rr()){return/webos/i.test(t)}function nN(t=Rr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function xX(t=Rr()){var e;return nN(t)&&!!((e=window.navigator)!=null&&e.standalone)}function yX(){return AY()&&document.documentMode===10}function XD(t=Rr()){return nN(t)||QD(t)||JD(t)||YD(t)||/windows phone/i.test(t)||GD(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(t,e=[]){let n;switch(t){case"Browser":n=jk(Rr());break;case"Worker":n=`${jk(Rr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Vc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vX{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((o,c)=>{try{const d=e(a);o(d)}catch(d){c(d)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bX(t,e={}){return go(t,"GET","/v2/passwordPolicy",po(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wX=6;class jX{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??wX,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NX{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nk(this),this.idTokenSubscription=new Nk(this),this.beforeStateQueue=new vX(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=FD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Va(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Zu.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await sx(this,{idToken:e}),r=await fi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(ks(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(a=this.redirectUser)==null?void 0:a._redirectEventId,c=r==null?void 0:r._redirectEventId,d=await this.tryRedirectSignIn(e);(!o||o===c)&&(d!=null&&d.user)&&(r=d.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return it(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ix(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=tX()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ks(this.app))return Promise.reject(qa(this));const n=e?Cn(e):null;return n&&it(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&it(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ks(this.app)?Promise.reject(qa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ks(this.app)?Promise.reject(qa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Va(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await bX(this),n=new jX(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new mf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await gX(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Va(e)||this._popupRedirectResolver;it(n,this,"argument-error"),this.redirectPersistenceManager=await Zu.create(this,[Va(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(it(c,this,"internal-error"),c.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,i);return()=>{o=!0,d()}}else{const d=e.addObserver(n);return()=>{o=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return it(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ZD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(ks(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&XJ(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Cl(t){return Cn(t)}class Nk{constructor(e){this.auth=e,this.observer=null,this.addObserver=FY(n=>this.observer=n)}get next(){return it(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ay={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _X(t){ay=t}function eM(t){return ay.loadJS(t)}function SX(){return ay.recaptchaEnterpriseScript}function EX(){return ay.gapiScript}function CX(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class kX{constructor(){this.enterprise=new TX}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class TX{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const AX="recaptcha-enterprise",tM="NO_RECAPTCHA";class IX{constructor(e){this.type=AX,this.auth=Cl(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,c)=>{lX(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const h=new oX(d);return a.tenantId==null?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,o(h.siteKey)}}).catch(d=>{c(d)})})}function i(a,o,c){const d=window.grecaptcha;yk(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(h=>{o(h)}).catch(()=>{o(tM)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new kX().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{r(this.auth).then(c=>{if(!n&&yk(window.grecaptcha))i(c,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let d=SX();d.length!==0&&(d+=c),eM(d).then(()=>{i(c,a,o)}).catch(h=>{o(h)})}}).catch(c=>{o(c)})})}}async function _k(t,e,n,r=!1,i=!1){const a=new IX(t);let o;if(i)o=tM;else try{o=await a.verify(n)}catch{o=await a.verify(n,!0)}const c={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,h=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:h,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:o}):Object.assign(c,{captchaResponse:o}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function ax(t,e,n,r,i){var a;if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await _k(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await _k(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RX(t,e){const n=iy(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Sc(a,e??{}))return i;vi(i,"already-initialized")}return n.initialize({options:e})}function PX(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Va);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function DX(t,e,n){const r=Cl(t);it(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=nM(e),{host:o,port:c}=MX(e),d=c===null?"":`:${c}`,h={url:`${a}//${o}${d}/`},m=Object.freeze({host:o,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){it(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),it(Sc(h,r.config.emulator)&&Sc(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,El(o)?(Yj(`${a}//${o}${d}`),AD("Auth",!0)):LX()}function nM(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function MX(t){const e=nM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:Sk(r.substr(a.length+1))}}else{const[a,o]=r.split(":");return{host:a,port:Sk(o)}}}function Sk(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function LX(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Fa("not implemented")}_getIdTokenResponse(e){return Fa("not implemented")}_linkToIdToken(e,n){return Fa("not implemented")}_getReauthenticationResolver(e){return Fa("not implemented")}}async function OX(t,e){return go(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FX(t,e){return gf(t,"POST","/v1/accounts:signInWithPassword",po(t,e))}async function rM(t,e){return go(t,"POST","/v1/accounts:sendOobCode",po(t,e))}async function VX(t,e){return rM(t,e)}async function UX(t,e){return rM(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zX(t,e){return gf(t,"POST","/v1/accounts:signInWithEmailLink",po(t,e))}async function BX(t,e){return gf(t,"POST","/v1/accounts:signInWithEmailLink",po(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm extends rN{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Vm(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Vm(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ax(e,n,"signInWithPassword",FX);case"emailLink":return zX(e,{email:this._email,oobCode:this._password});default:vi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ax(e,r,"signUpPassword",OX);case"emailLink":return BX(e,{idToken:n,email:this._email,oobCode:this._password});default:vi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ed(t,e){return gf(t,"POST","/v1/accounts:signInWithIdp",po(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $X="http://localhost";class Cc extends rN{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Cc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):vi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const o=new Cc(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ed(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ed(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ed(e,n)}buildRequest(){const e={requestUri:$X,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ff(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qX(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function HX(t){const e=Yh(Jh(t)).link,n=e?Yh(Jh(e)).deep_link_id:null,r=Yh(Jh(t)).deep_link_id;return(r?Yh(Jh(r)).link:null)||r||n||e||t}class sN{constructor(e){const n=Yh(Jh(e)),r=n.apiKey??null,i=n.oobCode??null,a=qX(n.mode??null);it(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=HX(e);try{return new sN(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(){this.providerId=Vd.PROVIDER_ID}static credential(e,n){return Vm._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=sN.parseLink(n);return it(r,"argument-error"),Vm._fromEmailAndCode(e,r.code,r.tenantId)}}Vd.PROVIDER_ID="password";Vd.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vd.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf extends sM{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo extends xf{constructor(){super("facebook.com")}static credential(e){return Cc._fromParams({providerId:qo.PROVIDER_ID,signInMethod:qo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qo.credentialFromTaggedObject(e)}static credentialFromError(e){return qo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qo.credential(e.oauthAccessToken)}catch{return null}}}qo.FACEBOOK_SIGN_IN_METHOD="facebook.com";qo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho extends xf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Cc._fromParams({providerId:Ho.PROVIDER_ID,signInMethod:Ho.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ho.credentialFromTaggedObject(e)}static credentialFromError(e){return Ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ho.credential(n,r)}catch{return null}}}Ho.GOOGLE_SIGN_IN_METHOD="google.com";Ho.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo extends xf{constructor(){super("github.com")}static credential(e){return Cc._fromParams({providerId:Wo.PROVIDER_ID,signInMethod:Wo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wo.credentialFromTaggedObject(e)}static credentialFromError(e){return Wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wo.credential(e.oauthAccessToken)}catch{return null}}}Wo.GITHUB_SIGN_IN_METHOD="github.com";Wo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko extends xf{constructor(){super("twitter.com")}static credential(e,n){return Cc._fromParams({providerId:Ko.PROVIDER_ID,signInMethod:Ko.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ko.credentialFromTaggedObject(e)}static credentialFromError(e){return Ko.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ko.credential(n,r)}catch{return null}}}Ko.TWITTER_SIGN_IN_METHOD="twitter.com";Ko.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WX(t,e){return gf(t,"POST","/v1/accounts:signUp",po(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await fi._fromIdTokenResponse(e,r,i),o=Ek(r);return new kc({user:a,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Ek(r);return new kc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Ek(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox extends pa{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ox.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ox(e,n,r,i)}}function iM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?ox._fromErrorAndOperation(t,a,e,r):a})}async function KX(t,e,n=!1){const r=await Fm(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return kc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GX(t,e,n=!1){const{auth:r}=t;if(ks(r.app))return Promise.reject(qa(r));const i="reauthenticate";try{const a=await Fm(t,iM(r,i,e,t),n);it(a.idToken,r,"internal-error");const o=tN(a.idToken);it(o,r,"internal-error");const{sub:c}=o;return it(t.uid===c,r,"user-mismatch"),kc._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&vi(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aM(t,e,n=!1){if(ks(t.app))return Promise.reject(qa(t));const r="signIn",i=await iM(t,r,e),a=await kc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function QX(t,e){return aM(Cl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oM(t){const e=Cl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function iN(t,e,n){const r=Cl(t);await ax(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",UX)}async function YX(t,e,n){if(ks(t.app))return Promise.reject(qa(t));const r=Cl(t),o=await ax(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",WX).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&oM(t),d}),c=await kc._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(c.user),c}function lM(t,e,n){return ks(t.app)?Promise.reject(qa(t)):QX(Cn(t),Vd.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&oM(t),r})}async function JX(t,e){const n=Cn(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:a}=await VX(n.auth,i);a!==t.email&&await t.reload()}function XX(t,e,n,r){return Cn(t).onIdTokenChanged(e,n,r)}function ZX(t,e,n){return Cn(t).beforeAuthStateChanged(e,n)}function eZ(t,e,n,r){return Cn(t).onAuthStateChanged(e,n,r)}function tZ(t){return Cn(t).signOut()}const lx="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lx,"1"),this.storage.removeItem(lx),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nZ=1e3,rZ=10;class uM extends cM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=XD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,c,d)=>{this.notifyListeners(o,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},a=this.storage.getItem(r);yX()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,rZ):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},nZ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}uM.type="LOCAL";const sZ=uM;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM extends cM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}dM.type="SESSION";const hM=dM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iZ(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new oy(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(o).map(async h=>h(n.origin,a)),d=await iZ(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}oy.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aZ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((c,d)=>{const h=aN("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const g=f;if(g.data.eventId===h)switch(g.data.status){case"ack":clearTimeout(m),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(g.data.response);break;default:clearTimeout(m),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function na(){return window}function oZ(t){na().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mM(){return typeof na().WorkerGlobalScope<"u"&&typeof na().importScripts=="function"}async function lZ(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function cZ(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function uZ(){return mM()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM="firebaseLocalStorageDb",dZ=1,cx="firebaseLocalStorage",pM="fbase_key";class yf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ly(t,e){return t.transaction([cx],e?"readwrite":"readonly").objectStore(cx)}function hZ(){const t=indexedDB.deleteDatabase(fM);return new yf(t).toPromise()}function Pw(){const t=indexedDB.open(fM,dZ);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(cx,{keyPath:pM})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(cx)?e(r):(r.close(),await hZ(),e(await Pw()))})})}async function Ck(t,e,n){const r=ly(t,!0).put({[pM]:e,value:n});return new yf(r).toPromise()}async function mZ(t,e){const n=ly(t,!1).get(e),r=await new yf(n).toPromise();return r===void 0?null:r.value}function kk(t,e){const n=ly(t,!0).delete(e);return new yf(n).toPromise()}const fZ=800,pZ=3;class gM{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Pw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>pZ)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=oy._getInstance(uZ()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await lZ(),!this.activeServiceWorker)return;this.sender=new aZ(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||cZ()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Pw();return await Ck(e,lx,"1"),await kk(e,lx),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ck(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>mZ(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>kk(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=ly(i,!1).getAll();return new yf(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),fZ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gM.type="LOCAL";const gZ=gM;new pf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xZ(t,e){return e?Va(e):(it(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN extends rN{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ed(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ed(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ed(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function yZ(t){return aM(t.auth,new oN(t),t.bypassAuthState)}function vZ(t){const{auth:e,user:n}=t;return it(n,e,"internal-error"),GX(n,new oN(t),t.bypassAuthState)}async function bZ(t){const{auth:e,user:n}=t;return it(n,e,"internal-error"),KX(n,new oN(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:o,type:c}=e;if(o){this.reject(o);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yZ;case"linkViaPopup":case"linkViaRedirect":return bZ;case"reauthViaPopup":case"reauthViaRedirect":return vZ;default:vi(this.auth,"internal-error")}}resolve(e){so(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){so(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wZ=new pf(2e3,1e4);class Hu extends xM{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Hu.currentPopupAction&&Hu.currentPopupAction.cancel(),Hu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return it(e,this.auth,"internal-error"),e}async onExecution(){so(this.filter.length===1,"Popup operations only handle one event");const e=aN();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ta(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ta(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ta(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,wZ.get())};e()}}Hu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jZ="pendingRedirect",wg=new Map;class NZ extends xM{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=wg.get(this.auth._key());if(!e){try{const r=await _Z(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}wg.set(this.auth._key(),e)}return this.bypassAuthState||wg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _Z(t,e){const n=CZ(e),r=EZ(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function SZ(t,e){wg.set(t._key(),e)}function EZ(t){return Va(t._redirectPersistence)}function CZ(t){return bg(jZ,t.config.apiKey,t.name)}async function kZ(t,e,n=!1){if(ks(t.app))return Promise.reject(qa(t));const r=Cl(t),i=xZ(r,e),o=await new NZ(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TZ=600*1e3;class AZ{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!IZ(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!yM(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(ta(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=TZ&&this.cachedEventUids.clear(),this.cachedEventUids.has(Tk(e))}saveEventToCache(e){this.cachedEventUids.add(Tk(e)),this.lastProcessedEventTime=Date.now()}}function Tk(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function yM({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function IZ(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yM(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RZ(t,e={}){return go(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PZ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DZ=/^https?/;async function MZ(t){if(t.config.emulator)return;const{authorizedDomains:e}=await RZ(t);for(const n of e)try{if(LZ(n))return}catch{}vi(t,"unauthorized-domain")}function LZ(t){const e=Iw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!DZ.test(n))return!1;if(PZ.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OZ=new pf(3e4,6e4);function Ak(){const t=na().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function FZ(t){return new Promise((e,n)=>{var i,a,o;function r(){Ak(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ak(),n(ta(t,"network-request-failed"))},timeout:OZ.get()})}if((a=(i=na().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((o=na().gapi)!=null&&o.load)r();else{const c=CX("iframefcb");return na()[c]=()=>{gapi.load?r():n(ta(t,"network-request-failed"))},eM(`${EX()}?onload=${c}`).catch(d=>n(d))}}).catch(e=>{throw jg=null,e})}let jg=null;function VZ(t){return jg=jg||FZ(t),jg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UZ=new pf(5e3,15e3),zZ="__/auth/iframe",BZ="emulator/auth/iframe",$Z={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qZ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function HZ(t){const e=t.config;it(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?eN(e,BZ):`https://${t.config.authDomain}/${zZ}`,r={apiKey:e.apiKey,appName:t.name,v:Vc},i=qZ.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${ff(r).slice(1)}`}async function WZ(t){const e=await VZ(t),n=na().gapi;return it(n,t,"internal-error"),e.open({where:document.body,url:HZ(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$Z,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const o=ta(t,"network-request-failed"),c=na().setTimeout(()=>{a(o)},UZ.get());function d(){na().clearTimeout(c),i(r)}r.ping(d).then(d,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KZ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GZ=500,QZ=600,YZ="_blank",JZ="http://localhost";class Ik{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function XZ(t,e,n,r=GZ,i=QZ){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d={...KZ,width:r.toString(),height:i.toString(),top:a,left:o},h=Rr().toLowerCase();n&&(c=KD(h)?YZ:n),HD(h)&&(e=e||JZ,d.scrollbars="yes");const m=Object.entries(d).reduce((g,[x,_])=>`${g}${x}=${_},`,"");if(xX(h)&&c!=="_self")return ZZ(e||"",c),new Ik(null);const f=window.open(e||"",c,m);it(f,t,"popup-blocked");try{f.focus()}catch{}return new Ik(f)}function ZZ(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eee="__/auth/handler",tee="emulator/auth/handler",nee=encodeURIComponent("fac");async function Rk(t,e,n,r,i,a){it(t.config.authDomain,t,"auth-domain-config-required"),it(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Vc,eventId:i};if(e instanceof sM){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",OY(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,f]of Object.entries({}))o[m]=f}if(e instanceof xf){const m=e.getScopes().filter(f=>f!=="");m.length>0&&(o.scopes=m.join(","))}t.tenantId&&(o.tid=t.tenantId);const c=o;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const d=await t._getAppCheckToken(),h=d?`#${nee}=${encodeURIComponent(d)}`:"";return`${ree(t)}?${ff(c).slice(1)}${h}`}function ree({config:t}){return t.emulator?eN(t,tee):`https://${t.authDomain}/${eee}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb="webStorageSupport";class see{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hM,this._completeRedirectFn=kZ,this._overrideRedirectResult=SZ}async _openPopup(e,n,r,i){var o;so((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await Rk(e,n,r,Iw(),i);return XZ(e,a,aN())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await Rk(e,n,r,Iw(),i);return oZ(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(so(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await WZ(e),r=new AZ(e);return n.register("authEvent",i=>(it(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(nb,{type:nb},i=>{var o;const a=(o=i==null?void 0:i[0])==null?void 0:o[nb];a!==void 0&&n(!!a),vi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=MZ(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return XD()||WD()||nN()}}const iee=see;var Pk="@firebase/auth",Dk="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aee{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){it(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oee(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function lee(t){Ec(new ml("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;it(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZD(t)},h=new NX(r,i,a,d);return PX(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ec(new ml("auth-internal",e=>{const n=Cl(e.getProvider("auth").getImmediate());return(r=>new aee(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ea(Pk,Dk,oee(t)),ea(Pk,Dk,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cee=300,uee=TD("authIdTokenMaxAge")||cee;let Mk=null;const dee=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>uee)return;const i=n==null?void 0:n.token;Mk!==i&&(Mk=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function hee(t=DD()){const e=iy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=RX(t,{popupRedirectResolver:iee,persistence:[gZ,sZ,hM]}),r=TD("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const o=dee(a.toString());ZX(n,o,()=>o(n.currentUser)),XX(n,c=>o(c))}}const i=CD("auth");return i&&DX(n,`http://${i}`),n}function mee(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}_X({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=ta("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",mee().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});lee("Browser");var Lk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sl,vM;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,R){function I(){}I.prototype=R.prototype,P.F=R.prototype,P.prototype=new I,P.prototype.constructor=P,P.D=function(O,V,M){for(var U=Array(arguments.length-2),J=2;J<arguments.length;J++)U[J-2]=arguments[J];return R.prototype[V].apply(O,U)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,R,I){I||(I=0);const O=Array(16);if(typeof R=="string")for(var V=0;V<16;++V)O[V]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(V=0;V<16;++V)O[V]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=P.g[0],I=P.g[1],V=P.g[2];let M=P.g[3],U;U=R+(M^I&(V^M))+O[0]+3614090360&4294967295,R=I+(U<<7&4294967295|U>>>25),U=M+(V^R&(I^V))+O[1]+3905402710&4294967295,M=R+(U<<12&4294967295|U>>>20),U=V+(I^M&(R^I))+O[2]+606105819&4294967295,V=M+(U<<17&4294967295|U>>>15),U=I+(R^V&(M^R))+O[3]+3250441966&4294967295,I=V+(U<<22&4294967295|U>>>10),U=R+(M^I&(V^M))+O[4]+4118548399&4294967295,R=I+(U<<7&4294967295|U>>>25),U=M+(V^R&(I^V))+O[5]+1200080426&4294967295,M=R+(U<<12&4294967295|U>>>20),U=V+(I^M&(R^I))+O[6]+2821735955&4294967295,V=M+(U<<17&4294967295|U>>>15),U=I+(R^V&(M^R))+O[7]+4249261313&4294967295,I=V+(U<<22&4294967295|U>>>10),U=R+(M^I&(V^M))+O[8]+1770035416&4294967295,R=I+(U<<7&4294967295|U>>>25),U=M+(V^R&(I^V))+O[9]+2336552879&4294967295,M=R+(U<<12&4294967295|U>>>20),U=V+(I^M&(R^I))+O[10]+4294925233&4294967295,V=M+(U<<17&4294967295|U>>>15),U=I+(R^V&(M^R))+O[11]+2304563134&4294967295,I=V+(U<<22&4294967295|U>>>10),U=R+(M^I&(V^M))+O[12]+1804603682&4294967295,R=I+(U<<7&4294967295|U>>>25),U=M+(V^R&(I^V))+O[13]+4254626195&4294967295,M=R+(U<<12&4294967295|U>>>20),U=V+(I^M&(R^I))+O[14]+2792965006&4294967295,V=M+(U<<17&4294967295|U>>>15),U=I+(R^V&(M^R))+O[15]+1236535329&4294967295,I=V+(U<<22&4294967295|U>>>10),U=R+(V^M&(I^V))+O[1]+4129170786&4294967295,R=I+(U<<5&4294967295|U>>>27),U=M+(I^V&(R^I))+O[6]+3225465664&4294967295,M=R+(U<<9&4294967295|U>>>23),U=V+(R^I&(M^R))+O[11]+643717713&4294967295,V=M+(U<<14&4294967295|U>>>18),U=I+(M^R&(V^M))+O[0]+3921069994&4294967295,I=V+(U<<20&4294967295|U>>>12),U=R+(V^M&(I^V))+O[5]+3593408605&4294967295,R=I+(U<<5&4294967295|U>>>27),U=M+(I^V&(R^I))+O[10]+38016083&4294967295,M=R+(U<<9&4294967295|U>>>23),U=V+(R^I&(M^R))+O[15]+3634488961&4294967295,V=M+(U<<14&4294967295|U>>>18),U=I+(M^R&(V^M))+O[4]+3889429448&4294967295,I=V+(U<<20&4294967295|U>>>12),U=R+(V^M&(I^V))+O[9]+568446438&4294967295,R=I+(U<<5&4294967295|U>>>27),U=M+(I^V&(R^I))+O[14]+3275163606&4294967295,M=R+(U<<9&4294967295|U>>>23),U=V+(R^I&(M^R))+O[3]+4107603335&4294967295,V=M+(U<<14&4294967295|U>>>18),U=I+(M^R&(V^M))+O[8]+1163531501&4294967295,I=V+(U<<20&4294967295|U>>>12),U=R+(V^M&(I^V))+O[13]+2850285829&4294967295,R=I+(U<<5&4294967295|U>>>27),U=M+(I^V&(R^I))+O[2]+4243563512&4294967295,M=R+(U<<9&4294967295|U>>>23),U=V+(R^I&(M^R))+O[7]+1735328473&4294967295,V=M+(U<<14&4294967295|U>>>18),U=I+(M^R&(V^M))+O[12]+2368359562&4294967295,I=V+(U<<20&4294967295|U>>>12),U=R+(I^V^M)+O[5]+4294588738&4294967295,R=I+(U<<4&4294967295|U>>>28),U=M+(R^I^V)+O[8]+2272392833&4294967295,M=R+(U<<11&4294967295|U>>>21),U=V+(M^R^I)+O[11]+1839030562&4294967295,V=M+(U<<16&4294967295|U>>>16),U=I+(V^M^R)+O[14]+4259657740&4294967295,I=V+(U<<23&4294967295|U>>>9),U=R+(I^V^M)+O[1]+2763975236&4294967295,R=I+(U<<4&4294967295|U>>>28),U=M+(R^I^V)+O[4]+1272893353&4294967295,M=R+(U<<11&4294967295|U>>>21),U=V+(M^R^I)+O[7]+4139469664&4294967295,V=M+(U<<16&4294967295|U>>>16),U=I+(V^M^R)+O[10]+3200236656&4294967295,I=V+(U<<23&4294967295|U>>>9),U=R+(I^V^M)+O[13]+681279174&4294967295,R=I+(U<<4&4294967295|U>>>28),U=M+(R^I^V)+O[0]+3936430074&4294967295,M=R+(U<<11&4294967295|U>>>21),U=V+(M^R^I)+O[3]+3572445317&4294967295,V=M+(U<<16&4294967295|U>>>16),U=I+(V^M^R)+O[6]+76029189&4294967295,I=V+(U<<23&4294967295|U>>>9),U=R+(I^V^M)+O[9]+3654602809&4294967295,R=I+(U<<4&4294967295|U>>>28),U=M+(R^I^V)+O[12]+3873151461&4294967295,M=R+(U<<11&4294967295|U>>>21),U=V+(M^R^I)+O[15]+530742520&4294967295,V=M+(U<<16&4294967295|U>>>16),U=I+(V^M^R)+O[2]+3299628645&4294967295,I=V+(U<<23&4294967295|U>>>9),U=R+(V^(I|~M))+O[0]+4096336452&4294967295,R=I+(U<<6&4294967295|U>>>26),U=M+(I^(R|~V))+O[7]+1126891415&4294967295,M=R+(U<<10&4294967295|U>>>22),U=V+(R^(M|~I))+O[14]+2878612391&4294967295,V=M+(U<<15&4294967295|U>>>17),U=I+(M^(V|~R))+O[5]+4237533241&4294967295,I=V+(U<<21&4294967295|U>>>11),U=R+(V^(I|~M))+O[12]+1700485571&4294967295,R=I+(U<<6&4294967295|U>>>26),U=M+(I^(R|~V))+O[3]+2399980690&4294967295,M=R+(U<<10&4294967295|U>>>22),U=V+(R^(M|~I))+O[10]+4293915773&4294967295,V=M+(U<<15&4294967295|U>>>17),U=I+(M^(V|~R))+O[1]+2240044497&4294967295,I=V+(U<<21&4294967295|U>>>11),U=R+(V^(I|~M))+O[8]+1873313359&4294967295,R=I+(U<<6&4294967295|U>>>26),U=M+(I^(R|~V))+O[15]+4264355552&4294967295,M=R+(U<<10&4294967295|U>>>22),U=V+(R^(M|~I))+O[6]+2734768916&4294967295,V=M+(U<<15&4294967295|U>>>17),U=I+(M^(V|~R))+O[13]+1309151649&4294967295,I=V+(U<<21&4294967295|U>>>11),U=R+(V^(I|~M))+O[4]+4149444226&4294967295,R=I+(U<<6&4294967295|U>>>26),U=M+(I^(R|~V))+O[11]+3174756917&4294967295,M=R+(U<<10&4294967295|U>>>22),U=V+(R^(M|~I))+O[2]+718787259&4294967295,V=M+(U<<15&4294967295|U>>>17),U=I+(M^(V|~R))+O[9]+3951481745&4294967295,P.g[0]=P.g[0]+R&4294967295,P.g[1]=P.g[1]+(V+(U<<21&4294967295|U>>>11))&4294967295,P.g[2]=P.g[2]+V&4294967295,P.g[3]=P.g[3]+M&4294967295}r.prototype.v=function(P,R){R===void 0&&(R=P.length);const I=R-this.blockSize,O=this.C;let V=this.h,M=0;for(;M<R;){if(V==0)for(;M<=I;)i(this,P,M),M+=this.blockSize;if(typeof P=="string"){for(;M<R;)if(O[V++]=P.charCodeAt(M++),V==this.blockSize){i(this,O),V=0;break}}else for(;M<R;)if(O[V++]=P[M++],V==this.blockSize){i(this,O),V=0;break}}this.h=V,this.o+=R},r.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var R=1;R<P.length-8;++R)P[R]=0;R=this.o*8;for(var I=P.length-8;I<P.length;++I)P[I]=R&255,R/=256;for(this.v(P),P=Array(16),R=0,I=0;I<4;++I)for(let O=0;O<32;O+=8)P[R++]=this.g[I]>>>O&255;return P};function a(P,R){var I=c;return Object.prototype.hasOwnProperty.call(I,P)?I[P]:I[P]=R(P)}function o(P,R){this.h=R;const I=[];let O=!0;for(let V=P.length-1;V>=0;V--){const M=P[V]|0;O&&M==R||(I[V]=M,O=!1)}this.g=I}var c={};function d(P){return-128<=P&&P<128?a(P,function(R){return new o([R|0],R<0?-1:0)}):new o([P|0],P<0?-1:0)}function h(P){if(isNaN(P)||!isFinite(P))return f;if(P<0)return w(h(-P));const R=[];let I=1;for(let O=0;P>=I;O++)R[O]=P/I|0,I*=4294967296;return new o(R,0)}function m(P,R){if(P.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(P.charAt(0)=="-")return w(m(P.substring(1),R));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=h(Math.pow(R,8));let O=f;for(let M=0;M<P.length;M+=8){var V=Math.min(8,P.length-M);const U=parseInt(P.substring(M,M+V),R);V<8?(V=h(Math.pow(R,V)),O=O.j(V).add(h(U))):(O=O.j(I),O=O.add(h(U)))}return O}var f=d(0),g=d(1),x=d(16777216);t=o.prototype,t.m=function(){if(j(this))return-w(this).m();let P=0,R=1;for(let I=0;I<this.g.length;I++){const O=this.i(I);P+=(O>=0?O:4294967296+O)*R,R*=4294967296}return P},t.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(_(this))return"0";if(j(this))return"-"+w(this).toString(P);const R=h(Math.pow(P,6));var I=this;let O="";for(;;){const V=T(I,R).g;I=N(I,V.j(R));let M=((I.g.length>0?I.g[0]:I.h)>>>0).toString(P);if(I=V,_(I))return M+O;for(;M.length<6;)M="0"+M;O=M+O}},t.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function _(P){if(P.h!=0)return!1;for(let R=0;R<P.g.length;R++)if(P.g[R]!=0)return!1;return!0}function j(P){return P.h==-1}t.l=function(P){return P=N(this,P),j(P)?-1:_(P)?0:1};function w(P){const R=P.g.length,I=[];for(let O=0;O<R;O++)I[O]=~P.g[O];return new o(I,~P.h).add(g)}t.abs=function(){return j(this)?w(this):this},t.add=function(P){const R=Math.max(this.g.length,P.g.length),I=[];let O=0;for(let V=0;V<=R;V++){let M=O+(this.i(V)&65535)+(P.i(V)&65535),U=(M>>>16)+(this.i(V)>>>16)+(P.i(V)>>>16);O=U>>>16,M&=65535,U&=65535,I[V]=U<<16|M}return new o(I,I[I.length-1]&-2147483648?-1:0)};function N(P,R){return P.add(w(R))}t.j=function(P){if(_(this)||_(P))return f;if(j(this))return j(P)?w(this).j(w(P)):w(w(this).j(P));if(j(P))return w(this.j(w(P)));if(this.l(x)<0&&P.l(x)<0)return h(this.m()*P.m());const R=this.g.length+P.g.length,I=[];for(var O=0;O<2*R;O++)I[O]=0;for(O=0;O<this.g.length;O++)for(let V=0;V<P.g.length;V++){const M=this.i(O)>>>16,U=this.i(O)&65535,J=P.i(V)>>>16,ne=P.i(V)&65535;I[2*O+2*V]+=U*ne,E(I,2*O+2*V),I[2*O+2*V+1]+=M*ne,E(I,2*O+2*V+1),I[2*O+2*V+1]+=U*J,E(I,2*O+2*V+1),I[2*O+2*V+2]+=M*J,E(I,2*O+2*V+2)}for(P=0;P<R;P++)I[P]=I[2*P+1]<<16|I[2*P];for(P=R;P<2*R;P++)I[P]=0;return new o(I,0)};function E(P,R){for(;(P[R]&65535)!=P[R];)P[R+1]+=P[R]>>>16,P[R]&=65535,R++}function A(P,R){this.g=P,this.h=R}function T(P,R){if(_(R))throw Error("division by zero");if(_(P))return new A(f,f);if(j(P))return R=T(w(P),R),new A(w(R.g),w(R.h));if(j(R))return R=T(P,w(R)),new A(w(R.g),R.h);if(P.g.length>30){if(j(P)||j(R))throw Error("slowDivide_ only works with positive integers.");for(var I=g,O=R;O.l(P)<=0;)I=D(I),O=D(O);var V=F(I,1),M=F(O,1);for(O=F(O,2),I=F(I,2);!_(O);){var U=M.add(O);U.l(P)<=0&&(V=V.add(I),M=U),O=F(O,1),I=F(I,1)}return R=N(P,V.j(R)),new A(V,R)}for(V=f;P.l(R)>=0;){for(I=Math.max(1,Math.floor(P.m()/R.m())),O=Math.ceil(Math.log(I)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),M=h(I),U=M.j(R);j(U)||U.l(P)>0;)I-=O,M=h(I),U=M.j(R);_(M)&&(M=g),V=V.add(M),P=N(P,U)}return new A(V,P)}t.B=function(P){return T(this,P).h},t.and=function(P){const R=Math.max(this.g.length,P.g.length),I=[];for(let O=0;O<R;O++)I[O]=this.i(O)&P.i(O);return new o(I,this.h&P.h)},t.or=function(P){const R=Math.max(this.g.length,P.g.length),I=[];for(let O=0;O<R;O++)I[O]=this.i(O)|P.i(O);return new o(I,this.h|P.h)},t.xor=function(P){const R=Math.max(this.g.length,P.g.length),I=[];for(let O=0;O<R;O++)I[O]=this.i(O)^P.i(O);return new o(I,this.h^P.h)};function D(P){const R=P.g.length+1,I=[];for(let O=0;O<R;O++)I[O]=P.i(O)<<1|P.i(O-1)>>>31;return new o(I,P.h)}function F(P,R){const I=R>>5;R%=32;const O=P.g.length-I,V=[];for(let M=0;M<O;M++)V[M]=R>0?P.i(M+I)>>>R|P.i(M+I+1)<<32-R:P.i(M+I);return new o(V,P.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,vM=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=m,sl=o}).apply(typeof Lk<"u"?Lk:typeof self<"u"?self:typeof window<"u"?window:{});var Qp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bM,Xh,wM,Ng,Dw,jM,NM,_M;(function(){var t,e=Object.defineProperty;function n(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qp=="object"&&Qp];for(var k=0;k<y.length;++k){var L=y[k];if(L&&L.Math==Math)return L}throw Error("Cannot find global object")}var r=n(this);function i(y,k){if(k)e:{var L=r;y=y.split(".");for(var H=0;H<y.length-1;H++){var ae=y[H];if(!(ae in L))break e;L=L[ae]}y=y[y.length-1],H=L[y],k=k(H),k!=H&&k!=null&&e(L,y,{configurable:!0,writable:!0,value:k})}}i("Symbol.dispose",function(y){return y||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(y){return y||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(y){return y||function(k){var L=[],H;for(H in k)Object.prototype.hasOwnProperty.call(k,H)&&L.push([H,k[H]]);return L}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function c(y){var k=typeof y;return k=="object"&&y!=null||k=="function"}function d(y,k,L){return y.call.apply(y.bind,arguments)}function h(y,k,L){return h=d,h.apply(null,arguments)}function m(y,k){var L=Array.prototype.slice.call(arguments,1);return function(){var H=L.slice();return H.push.apply(H,arguments),y.apply(this,H)}}function f(y,k){function L(){}L.prototype=k.prototype,y.Z=k.prototype,y.prototype=new L,y.prototype.constructor=y,y.Ob=function(H,ae,ue){for(var Pe=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)Pe[xt-2]=arguments[xt];return k.prototype[ae].apply(H,Pe)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?y=>y&&AsyncContext.Snapshot.wrap(y):y=>y;function x(y){const k=y.length;if(k>0){const L=Array(k);for(let H=0;H<k;H++)L[H]=y[H];return L}return[]}function _(y,k){for(let H=1;H<arguments.length;H++){const ae=arguments[H];var L=typeof ae;if(L=L!="object"?L:ae?Array.isArray(ae)?"array":L:"null",L=="array"||L=="object"&&typeof ae.length=="number"){L=y.length||0;const ue=ae.length||0;y.length=L+ue;for(let Pe=0;Pe<ue;Pe++)y[L+Pe]=ae[Pe]}else y.push(ae)}}class j{constructor(k,L){this.i=k,this.j=L,this.h=0,this.g=null}get(){let k;return this.h>0?(this.h--,k=this.g,this.g=k.next,k.next=null):k=this.i(),k}}function w(y){o.setTimeout(()=>{throw y},0)}function N(){var y=P;let k=null;return y.g&&(k=y.g,y.g=y.g.next,y.g||(y.h=null),k.next=null),k}class E{constructor(){this.h=this.g=null}add(k,L){const H=A.get();H.set(k,L),this.h?this.h.next=H:this.g=H,this.h=H}}var A=new j(()=>new T,y=>y.reset());class T{constructor(){this.next=this.g=this.h=null}set(k,L){this.h=k,this.g=L,this.next=null}reset(){this.next=this.g=this.h=null}}let D,F=!1,P=new E,R=()=>{const y=Promise.resolve(void 0);D=()=>{y.then(I)}};function I(){for(var y;y=N();){try{y.h.call(y.g)}catch(L){w(L)}var k=A;k.j(y),k.h<100&&(k.h++,y.next=k.g,k.g=y)}F=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(y,k){this.type=y,this.g=this.target=k,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var y=!1,k=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const L=()=>{};o.addEventListener("test",L,k),o.removeEventListener("test",L,k)}catch{}return y})();function U(y){return/^[\s\xa0]*$/.test(y)}function J(y,k){V.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y&&this.init(y,k)}f(J,V),J.prototype.init=function(y,k){const L=this.type=y.type,H=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;this.target=y.target||y.srcElement,this.g=k,k=y.relatedTarget,k||(L=="mouseover"?k=y.fromElement:L=="mouseout"&&(k=y.toElement)),this.relatedTarget=k,H?(this.clientX=H.clientX!==void 0?H.clientX:H.pageX,this.clientY=H.clientY!==void 0?H.clientY:H.pageY,this.screenX=H.screenX||0,this.screenY=H.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=y.pointerType,this.state=y.state,this.i=y,y.defaultPrevented&&J.Z.h.call(this)},J.prototype.h=function(){J.Z.h.call(this);const y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var ne="closure_listenable_"+(Math.random()*1e6|0),ce=0;function se(y,k,L,H,ae){this.listener=y,this.proxy=null,this.src=k,this.type=L,this.capture=!!H,this.ha=ae,this.key=++ce,this.da=this.fa=!1}function K(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function W(y,k,L){for(const H in y)k.call(L,y[H],H,y)}function B(y,k){for(const L in y)k.call(void 0,y[L],L,y)}function q(y){const k={};for(const L in y)k[L]=y[L];return k}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $(y,k){let L,H;for(let ae=1;ae<arguments.length;ae++){H=arguments[ae];for(L in H)y[L]=H[L];for(let ue=0;ue<X.length;ue++)L=X[ue],Object.prototype.hasOwnProperty.call(H,L)&&(y[L]=H[L])}}function he(y){this.src=y,this.g={},this.h=0}he.prototype.add=function(y,k,L,H,ae){const ue=y.toString();y=this.g[ue],y||(y=this.g[ue]=[],this.h++);const Pe=Ae(y,k,H,ae);return Pe>-1?(k=y[Pe],L||(k.fa=!1)):(k=new se(k,this.src,ue,!!H,ae),k.fa=L,y.push(k)),k};function Ne(y,k){const L=k.type;if(L in y.g){var H=y.g[L],ae=Array.prototype.indexOf.call(H,k,void 0),ue;(ue=ae>=0)&&Array.prototype.splice.call(H,ae,1),ue&&(K(k),y.g[L].length==0&&(delete y.g[L],y.h--))}}function Ae(y,k,L,H){for(let ae=0;ae<y.length;++ae){const ue=y[ae];if(!ue.da&&ue.listener==k&&ue.capture==!!L&&ue.ha==H)return ae}return-1}var pe="closure_lm_"+(Math.random()*1e6|0),Se={};function De(y,k,L,H,ae){if(Array.isArray(k)){for(let ue=0;ue<k.length;ue++)De(y,k[ue],L,H,ae);return null}return L=ms(L),y&&y[ne]?y.J(k,L,c(H)?!!H.capture:!1,ae):Ue(y,k,L,!1,H,ae)}function Ue(y,k,L,H,ae,ue){if(!k)throw Error("Invalid event type");const Pe=c(ae)?!!ae.capture:!!ae;let xt=Bn(y);if(xt||(y[pe]=xt=new he(y)),L=xt.add(k,L,H,Pe,ue),L.proxy)return L;if(H=$e(),L.proxy=H,H.src=y,H.listener=L,y.addEventListener)M||(ae=Pe),ae===void 0&&(ae=!1),y.addEventListener(k.toString(),H,ae);else if(y.attachEvent)y.attachEvent(Tn(k.toString()),H);else if(y.addListener&&y.removeListener)y.addListener(H);else throw Error("addEventListener and attachEvent are unavailable.");return L}function $e(){function y(L){return k.call(y.src,y.listener,L)}const k=vr;return y}function ft(y,k,L,H,ae){if(Array.isArray(k))for(var ue=0;ue<k.length;ue++)ft(y,k[ue],L,H,ae);else H=c(H)?!!H.capture:!!H,L=ms(L),y&&y[ne]?(y=y.i,ue=String(k).toString(),ue in y.g&&(k=y.g[ue],L=Ae(k,L,H,ae),L>-1&&(K(k[L]),Array.prototype.splice.call(k,L,1),k.length==0&&(delete y.g[ue],y.h--)))):y&&(y=Bn(y))&&(k=y.g[k.toString()],y=-1,k&&(y=Ae(k,L,H,ae)),(L=y>-1?k[y]:null)&&Jt(L))}function Jt(y){if(typeof y!="number"&&y&&!y.da){var k=y.src;if(k&&k[ne])Ne(k.i,y);else{var L=y.type,H=y.proxy;k.removeEventListener?k.removeEventListener(L,H,y.capture):k.detachEvent?k.detachEvent(Tn(L),H):k.addListener&&k.removeListener&&k.removeListener(H),(L=Bn(k))?(Ne(L,y),L.h==0&&(L.src=null,k[pe]=null)):K(y)}}}function Tn(y){return y in Se?Se[y]:Se[y]="on"+y}function vr(y,k){if(y.da)y=!0;else{k=new J(k,this);const L=y.listener,H=y.ha||y.src;y.fa&&Jt(y),y=L.call(H,k)}return y}function Bn(y){return y=y[pe],y instanceof he?y:null}var Yn="__closure_events_fn_"+(Math.random()*1e9>>>0);function ms(y){return typeof y=="function"?y:(y[Yn]||(y[Yn]=function(k){return y.handleEvent(k)}),y[Yn])}function zt(){O.call(this),this.i=new he(this),this.M=this,this.G=null}f(zt,O),zt.prototype[ne]=!0,zt.prototype.removeEventListener=function(y,k,L,H){ft(this,y,k,L,H)};function Xt(y,k){var L,H=y.G;if(H)for(L=[];H;H=H.G)L.push(H);if(y=y.M,H=k.type||k,typeof k=="string")k=new V(k,y);else if(k instanceof V)k.target=k.target||y;else{var ae=k;k=new V(H,y),$(k,ae)}ae=!0;let ue,Pe;if(L)for(Pe=L.length-1;Pe>=0;Pe--)ue=k.g=L[Pe],ae=Dr(ue,H,!0,k)&&ae;if(ue=k.g=y,ae=Dr(ue,H,!0,k)&&ae,ae=Dr(ue,H,!1,k)&&ae,L)for(Pe=0;Pe<L.length;Pe++)ue=k.g=L[Pe],ae=Dr(ue,H,!1,k)&&ae}zt.prototype.N=function(){if(zt.Z.N.call(this),this.i){var y=this.i;for(const k in y.g){const L=y.g[k];for(let H=0;H<L.length;H++)K(L[H]);delete y.g[k],y.h--}}this.G=null},zt.prototype.J=function(y,k,L,H){return this.i.add(String(y),k,!1,L,H)},zt.prototype.K=function(y,k,L,H){return this.i.add(String(y),k,!0,L,H)};function Dr(y,k,L,H){if(k=y.i.g[String(k)],!k)return!0;k=k.concat();let ae=!0;for(let ue=0;ue<k.length;++ue){const Pe=k[ue];if(Pe&&!Pe.da&&Pe.capture==L){const xt=Pe.listener,Mn=Pe.ha||Pe.src;Pe.fa&&Ne(y.i,Pe),ae=xt.call(Mn,H)!==!1&&ae}}return ae&&!H.defaultPrevented}function ga(y,k){if(typeof y!="function")if(y&&typeof y.handleEvent=="function")y=h(y.handleEvent,y);else throw Error("Invalid listener argument");return Number(k)>2147483647?-1:o.setTimeout(y,k||0)}function Ni(y){y.g=ga(()=>{y.g=null,y.i&&(y.i=!1,Ni(y))},y.l);const k=y.h;y.h=null,y.m.apply(null,k)}class _i extends O{constructor(k,L){super(),this.m=k,this.l=L,this.h=null,this.i=!1,this.g=null}j(k){this.h=arguments,this.g?this.i=!0:Ni(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ms(y){O.call(this),this.h=y,this.g={}}f(Ms,O);var me=[];function Ie(y){W(y.g,function(k,L){this.g.hasOwnProperty(L)&&Jt(k)},y),y.g={}}Ms.prototype.N=function(){Ms.Z.N.call(this),Ie(this)},Ms.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ze=o.JSON.stringify,vt=o.JSON.parse,Ct=class{stringify(y){return o.JSON.stringify(y,void 0)}parse(y){return o.JSON.parse(y,void 0)}};function bn(){}function fe(){}var qe={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function et(){V.call(this,"d")}f(et,V);function tt(){V.call(this,"c")}f(tt,V);var gt={},ct=null;function Pt(){return ct=ct||new zt}gt.Ia="serverreachability";function wn(y){V.call(this,gt.Ia,y)}f(wn,V);function Wr(y){const k=Pt();Xt(k,new wn(k))}gt.STAT_EVENT="statevent";function Mr(y,k){V.call(this,gt.STAT_EVENT,y),this.stat=k}f(Mr,V);function nn(y){const k=Pt();Xt(k,new Mr(k,y))}gt.Ja="timingevent";function Zs(y,k){V.call(this,gt.Ja,y),this.size=k}f(Zs,V);function Lr(y,k){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){y()},k)}function Or(){this.g=!0}Or.prototype.ua=function(){this.g=!1};function Si(y,k,L,H,ae,ue){y.info(function(){if(y.g)if(ue){var Pe="",xt=ue.split("&");for(let Zt=0;Zt<xt.length;Zt++){var Mn=xt[Zt].split("=");if(Mn.length>1){const $n=Mn[0];Mn=Mn[1];const ws=$n.split("_");Pe=ws.length>=2&&ws[1]=="type"?Pe+($n+"="+Mn+"&"):Pe+($n+"=redacted&")}}}else Pe=null;else Pe=ue;return"XMLHTTP REQ ("+H+") [attempt "+ae+"]: "+k+`
`+L+`
`+Pe})}function Pl(y,k,L,H,ae,ue,Pe){y.info(function(){return"XMLHTTP RESP ("+H+") [ attempt "+ae+"]: "+k+`
`+L+`
`+ue+" "+Pe})}function fs(y,k,L,H){y.info(function(){return"XMLHTTP TEXT ("+k+"): "+Ei(y,L)+(H?" "+H:"")})}function Dl(y,k){y.info(function(){return"TIMEOUT: "+k})}Or.prototype.info=function(){};function Ei(y,k){if(!y.g)return k;if(!k)return null;try{const ue=JSON.parse(k);if(ue){for(y=0;y<ue.length;y++)if(Array.isArray(ue[y])){var L=ue[y];if(!(L.length<2)){var H=L[1];if(Array.isArray(H)&&!(H.length<1)){var ae=H[0];if(ae!="noop"&&ae!="stop"&&ae!="close")for(let Pe=1;Pe<H.length;Pe++)H[Pe]=""}}}}return Ze(ue)}catch{return k}}var ei={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ti={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ps;function Kr(){}f(Kr,bn),Kr.prototype.g=function(){return new XMLHttpRequest},ps=new Kr;function br(y){return encodeURIComponent(String(y))}function Gr(y){var k=1;y=y.split(":");const L=[];for(;k>0&&y.length;)L.push(y.shift()),k--;return y.length&&L.push(y.join(":")),L}function Ht(y,k,L,H){this.j=y,this.i=k,this.l=L,this.S=H||1,this.V=new Ms(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new wr}function wr(){this.i=null,this.g="",this.h=!1}var xo={},xa={};function jr(y,k,L){y.M=1,y.A=va(Ls(k)),y.u=L,y.R=!0,ni(y,null)}function ni(y,k){y.F=Date.now(),Jn(y),y.B=Ls(y.A);var L=y.B,H=y.S;Array.isArray(H)||(H=[String(H)]),ih(L.i,"t",H),y.C=0,L=y.j.L,y.h=new wr,y.g=Of(y.j,L?k:null,!y.u),y.P>0&&(y.O=new _i(h(y.Y,y,y.g),y.P)),k=y.V,L=y.g,H=y.ba;var ae="readystatechange";Array.isArray(ae)||(ae&&(me[0]=ae.toString()),ae=me);for(let ue=0;ue<ae.length;ue++){const Pe=De(L,ae[ue],H||k.handleEvent,!1,k.h||k);if(!Pe)break;k.g[Pe.key]=Pe}k=y.J?q(y.J):{},y.u?(y.v||(y.v="POST"),k["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.B,y.v,y.u,k)):(y.v="GET",y.g.ea(y.B,y.v,null,k)),Wr(),Si(y.i,y.v,y.B,y.l,y.S,y.u)}Ht.prototype.ba=function(y){y=y.target;const k=this.O;k&&Pi(y)==3?k.j():this.Y(y)},Ht.prototype.Y=function(y){try{if(y==this.g)e:{const xt=Pi(this.g),Mn=this.g.ya(),Zt=this.g.ca();if(!(xt<3)&&(xt!=3||this.g&&(this.h.h||this.g.la()||Mf(this.g)))){this.K||xt!=4||Mn==7||(Mn==8||Zt<=0?Wr(3):Wr(2)),Kc(this);var k=this.g.ca();this.X=k;var L=ri(this);if(this.o=k==200,Pl(this.i,this.v,this.B,this.l,this.S,xt,k),this.o){if(this.U&&!this.L){t:{if(this.g){var H,ae=this.g;if((H=ae.g?ae.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(H)){var ue=H;break t}}ue=null}if(y=ue)fs(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,dn(this,y);else{this.o=!1,this.m=3,nn(12),ya(this),Ml(this);break e}}if(this.R){y=!0;let $n;for(;!this.K&&this.C<L.length;)if($n=ut(this,L),$n==xa){xt==4&&(this.m=4,nn(14),y=!1),fs(this.i,this.l,null,"[Incomplete Response]");break}else if($n==xo){this.m=4,nn(15),fs(this.i,this.l,L,"[Invalid Chunk]"),y=!1;break}else fs(this.i,this.l,$n,null),dn(this,$n);if(bt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||L.length!=0||this.h.h||(this.m=1,nn(16),y=!1),this.o=this.o&&y,!y)fs(this.i,this.l,L,"[Invalid Chunked Response]"),ya(this),Ml(this);else if(L.length>0&&!this.W){this.W=!0;var Pe=this.j;Pe.g==this&&Pe.aa&&!Pe.P&&(Pe.j.info("Great, no buffering proxy detected. Bytes received: "+L.length),ql(Pe),Pe.P=!0,nn(11))}}else fs(this.i,this.l,L,null),dn(this,L);xt==4&&ya(this),this.o&&!this.K&&(xt==4?ru(this.j,this):(this.o=!1,Jn(this)))}else oh(this.g),k==400&&L.indexOf("Unknown SID")>0?(this.m=3,nn(12)):(this.m=0,nn(13)),ya(this),Ml(this)}}}catch{}finally{}};function ri(y){if(!bt(y))return y.g.la();const k=Mf(y.g);if(k==="")return"";let L="";const H=k.length,ae=Pi(y.g)==4;if(!y.h.i){if(typeof TextDecoder>"u")return ya(y),Ml(y),"";y.h.i=new o.TextDecoder}for(let ue=0;ue<H;ue++)y.h.h=!0,L+=y.h.i.decode(k[ue],{stream:!(ae&&ue==H-1)});return k.length=0,y.h.g+=L,y.C=0,y.h.g}function bt(y){return y.g?y.v=="GET"&&y.M!=2&&y.j.Aa:!1}function ut(y,k){var L=y.C,H=k.indexOf(`
`,L);return H==-1?xa:(L=Number(k.substring(L,H)),isNaN(L)?xo:(H+=1,H+L>k.length?xa:(k=k.slice(H,H+L),y.C=H+L,k)))}Ht.prototype.cancel=function(){this.K=!0,ya(this)};function Jn(y){y.T=Date.now()+y.H,yo(y,y.H)}function yo(y,k){if(y.D!=null)throw Error("WatchDog timer not null");y.D=Lr(h(y.aa,y),k)}function Kc(y){y.D&&(o.clearTimeout(y.D),y.D=null)}Ht.prototype.aa=function(){this.D=null;const y=Date.now();y-this.T>=0?(Dl(this.i,this.B),this.M!=2&&(Wr(),nn(17)),ya(this),this.m=2,Ml(this)):yo(this,this.T-y)};function Ml(y){y.j.I==0||y.K||ru(y.j,y)}function ya(y){Kc(y);var k=y.O;k&&typeof k.dispose=="function"&&k.dispose(),y.O=null,Ie(y.V),y.g&&(k=y.g,y.g=null,k.abort(),k.dispose())}function dn(y,k){try{var L=y.j;if(L.I!=0&&(L.g==y||Xd(L.h,y))){if(!y.L&&Xd(L.h,y)&&L.I==3){try{var H=L.Ba.g.parse(k)}catch{H=null}if(Array.isArray(H)&&H.length==3){var ae=H;if(ae[0]==0){e:if(!L.v){if(L.g)if(L.g.F+3e3<y.F)nu(L),vs(L);else break e;Li(L),nn(18)}}else L.xa=ae[1],0<L.xa-L.K&&ae[2]<37500&&L.F&&L.A==0&&!L.C&&(L.C=Lr(h(L.Va,L),6e3));Ll(L.h)<=1&&L.ta&&(L.ta=void 0)}else bs(L,11)}else if((y.L||L.g==y)&&nu(L),!U(k))for(ae=L.Ba.g.parse(k),k=0;k<ae.length;k++){let Zt=ae[k];const $n=Zt[0];if(!($n<=L.K))if(L.K=$n,Zt=Zt[1],L.I==2)if(Zt[0]=="c"){L.M=Zt[1],L.ba=Zt[2];const ws=Zt[3];ws!=null&&(L.ka=ws,L.j.info("VER="+L.ka));const _a=Zt[4];_a!=null&&(L.za=_a,L.j.info("SVER="+L.za));const Oi=Zt[5];Oi!=null&&typeof Oi=="number"&&Oi>0&&(H=1.5*Oi,L.O=H,L.j.info("backChannelRequestTimeoutMs_="+H)),H=L;const Fi=y.g;if(Fi){const au=Fi.g?Fi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(au){var ue=H.h;ue.g||au.indexOf("spdy")==-1&&au.indexOf("quic")==-1&&au.indexOf("h2")==-1||(ue.j=ue.l,ue.g=new Set,ue.h&&(Qc(ue,ue.h),ue.h=null))}if(H.G){const uh=Fi.g?Fi.g.getResponseHeader("X-HTTP-Session-Id"):null;uh&&(H.wa=uh,Bt(H.J,H.G,uh))}}L.I=3,L.l&&L.l.ra(),L.aa&&(L.T=Date.now()-y.F,L.j.info("Handshake RTT: "+L.T+"ms")),H=L;var Pe=y;if(H.na=ch(H,H.L?H.ba:null,H.W),Pe.L){Ol(H.h,Pe);var xt=Pe,Mn=H.O;Mn&&(xt.H=Mn),xt.D&&(Kc(xt),Jn(xt)),H.g=Pe}else Nr(H);L.i.length>0&&Na(L)}else Zt[0]!="stop"&&Zt[0]!="close"||bs(L,7);else L.I==3&&(Zt[0]=="stop"||Zt[0]=="close"?Zt[0]=="stop"?bs(L,7):eu(L):Zt[0]!="noop"&&L.l&&L.l.qa(Zt),L.A=0)}}Wr(4)}catch{}}var zy=class{constructor(y,k){this.g=y,this.map=k}};function Gc(y){this.l=y||10,o.PerformanceNavigationTiming?(y=o.performance.getEntriesByType("navigation"),y=y.length>0&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Jd(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function Ll(y){return y.h?1:y.g?y.g.size:0}function Xd(y,k){return y.h?y.h==k:y.g?y.g.has(k):!1}function Qc(y,k){y.g?y.g.add(k):y.h=k}function Ol(y,k){y.h&&y.h==k?y.h=null:y.g&&y.g.has(k)&&y.g.delete(k)}Gc.prototype.cancel=function(){if(this.i=gs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function gs(y){if(y.h!=null)return y.i.concat(y.h.G);if(y.g!=null&&y.g.size!==0){let k=y.i;for(const L of y.g.values())k=k.concat(L.G);return k}return x(y.i)}var If=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xs(y,k){if(y){y=y.split("&");for(let L=0;L<y.length;L++){const H=y[L].indexOf("=");let ae,ue=null;H>=0?(ae=y[L].substring(0,H),ue=y[L].substring(H+1)):ae=y[L],k(ae,ue?decodeURIComponent(ue.replace(/\+/g," ")):"")}}}function Ci(y){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let k;y instanceof Ci?(this.l=y.l,Fl(this,y.j),this.o=y.o,this.g=y.g,ki(this,y.u),this.h=y.h,vo(this,ah(y.i)),this.m=y.m):y&&(k=String(y).match(If))?(this.l=!1,Fl(this,k[1]||"",!0),this.o=Vl(k[2]||""),this.g=Vl(k[3]||"",!0),ki(this,k[4]),this.h=Vl(k[5]||"",!0),vo(this,k[6]||"",!0),this.m=Vl(k[7]||"")):(this.l=!1,this.i=new Dt(null,this.l))}Ci.prototype.toString=function(){const y=[];var k=this.j;k&&y.push(Ul(k,eh,!0),":");var L=this.g;return(L||k=="file")&&(y.push("//"),(k=this.o)&&y.push(Ul(k,eh,!0),"@"),y.push(br(L).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),L=this.u,L!=null&&y.push(":",String(L))),(L=this.h)&&(this.g&&L.charAt(0)!="/"&&y.push("/"),y.push(Ul(L,L.charAt(0)=="/"?zl:th,!0))),(L=this.i.toString())&&y.push("?",L),(L=this.m)&&y.push("#",Ul(L,nh)),y.join("")},Ci.prototype.resolve=function(y){const k=Ls(this);let L=!!y.j;L?Fl(k,y.j):L=!!y.o,L?k.o=y.o:L=!!y.g,L?k.g=y.g:L=y.u!=null;var H=y.h;if(L)ki(k,y.u);else if(L=!!y.h){if(H.charAt(0)!="/")if(this.g&&!this.h)H="/"+H;else{var ae=k.h.lastIndexOf("/");ae!=-1&&(H=k.h.slice(0,ae+1)+H)}if(ae=H,ae==".."||ae==".")H="";else if(ae.indexOf("./")!=-1||ae.indexOf("/.")!=-1){H=ae.lastIndexOf("/",0)==0,ae=ae.split("/");const ue=[];for(let Pe=0;Pe<ae.length;){const xt=ae[Pe++];xt=="."?H&&Pe==ae.length&&ue.push(""):xt==".."?((ue.length>1||ue.length==1&&ue[0]!="")&&ue.pop(),H&&Pe==ae.length&&ue.push("")):(ue.push(xt),H=!0)}H=ue.join("/")}else H=ae}return L?k.h=H:L=y.i.toString()!=="",L?vo(k,ah(y.i)):L=!!y.m,L&&(k.m=y.m),k};function Ls(y){return new Ci(y)}function Fl(y,k,L){y.j=L?Vl(k,!0):k,y.j&&(y.j=y.j.replace(/:$/,""))}function ki(y,k){if(k){if(k=Number(k),isNaN(k)||k<0)throw Error("Bad port number "+k);y.u=k}else y.u=null}function vo(y,k,L){k instanceof Dt?(y.i=k,Jc(y.i,y.l)):(L||(k=Ul(k,By)),y.i=new Dt(k,y.l))}function Bt(y,k,L){y.i.set(k,L)}function va(y){return Bt(y,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),y}function Vl(y,k){return y?k?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function Ul(y,k,L){return typeof y=="string"?(y=encodeURI(y).replace(k,Zd),L&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function Zd(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var eh=/[#\/\?@]/g,th=/[#\?:]/g,zl=/[#\?]/g,By=/[#\?@]/g,nh=/#/g;function Dt(y,k){this.h=this.g=null,this.i=y||null,this.j=!!k}function Ti(y){y.g||(y.g=new Map,y.h=0,y.i&&xs(y.i,function(k,L){y.add(decodeURIComponent(k.replace(/\+/g," ")),L)}))}t=Dt.prototype,t.add=function(y,k){Ti(this),this.i=null,y=Ai(this,y);let L=this.g.get(y);return L||this.g.set(y,L=[]),L.push(k),this.h+=1,this};function rh(y,k){Ti(y),k=Ai(y,k),y.g.has(k)&&(y.i=null,y.h-=y.g.get(k).length,y.g.delete(k))}function Yc(y,k){return Ti(y),k=Ai(y,k),y.g.has(k)}t.forEach=function(y,k){Ti(this),this.g.forEach(function(L,H){L.forEach(function(ae){y.call(k,ae,H,this)},this)},this)};function sh(y,k){Ti(y);let L=[];if(typeof k=="string")Yc(y,k)&&(L=L.concat(y.g.get(Ai(y,k))));else for(y=Array.from(y.g.values()),k=0;k<y.length;k++)L=L.concat(y[k]);return L}t.set=function(y,k){return Ti(this),this.i=null,y=Ai(this,y),Yc(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[k]),this.h+=1,this},t.get=function(y,k){return y?(y=sh(this,y),y.length>0?String(y[0]):k):k};function ih(y,k,L){rh(y,k),L.length>0&&(y.i=null,y.g.set(Ai(y,k),x(L)),y.h+=L.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],k=Array.from(this.g.keys());for(let H=0;H<k.length;H++){var L=k[H];const ae=br(L);L=sh(this,L);for(let ue=0;ue<L.length;ue++){let Pe=ae;L[ue]!==""&&(Pe+="="+br(L[ue])),y.push(Pe)}}return this.i=y.join("&")};function ah(y){const k=new Dt;return k.i=y.i,y.g&&(k.g=new Map(y.g),k.h=y.h),k}function Ai(y,k){return k=String(k),y.j&&(k=k.toLowerCase()),k}function Jc(y,k){k&&!y.j&&(Ti(y),y.i=null,y.g.forEach(function(L,H){const ae=H.toLowerCase();H!=ae&&(rh(this,H),ih(this,ae,L))},y)),y.j=k}function Ii(y,k){const L=new Or;if(o.Image){const H=new Image;H.onload=m(ur,L,"TestLoadImage: loaded",!0,k,H),H.onerror=m(ur,L,"TestLoadImage: error",!1,k,H),H.onabort=m(ur,L,"TestLoadImage: abort",!1,k,H),H.ontimeout=m(ur,L,"TestLoadImage: timeout",!1,k,H),o.setTimeout(function(){H.ontimeout&&H.ontimeout()},1e4),H.src=y}else k(!1)}function Ri(y,k){const L=new Or,H=new AbortController,ae=setTimeout(()=>{H.abort(),ur(L,"TestPingServer: timeout",!1,k)},1e4);fetch(y,{signal:H.signal}).then(ue=>{clearTimeout(ae),ue.ok?ur(L,"TestPingServer: ok",!0,k):ur(L,"TestPingServer: server error",!1,k)}).catch(()=>{clearTimeout(ae),ur(L,"TestPingServer: error",!1,k)})}function ur(y,k,L,H,ae){try{ae&&(ae.onload=null,ae.onerror=null,ae.onabort=null,ae.ontimeout=null),H(L)}catch{}}function Bl(){this.g=new Ct}function ba(y){this.i=y.Sb||null,this.h=y.ab||!1}f(ba,bn),ba.prototype.g=function(){return new ys(this.i,this.h)};function ys(y,k){zt.call(this),this.H=y,this.o=k,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(ys,zt),t=ys.prototype,t.open=function(y,k){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=y,this.D=k,this.readyState=1,si(this)},t.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const k={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};y&&(k.body=y),(this.H||o).fetch(new Request(this.D,k)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,bo(this)),this.readyState=0},t.Pa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Rf(this)}else y.text().then(this.Oa.bind(this),this.ga.bind(this))};function Rf(y){y.j.read().then(y.Ma.bind(y)).catch(y.ga.bind(y))}t.Ma=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var k=y.value?y.value:new Uint8Array(0);(k=this.B.decode(k,{stream:!y.done}))&&(this.response=this.responseText+=k)}y.done?bo(this):si(this),this.readyState==3&&Rf(this)}},t.Oa=function(y){this.g&&(this.response=this.responseText=y,bo(this))},t.Na=function(y){this.g&&(this.response=y,bo(this))},t.ga=function(){this.g&&bo(this)};function bo(y){y.readyState=4,y.l=null,y.j=null,y.B=null,si(y)}t.setRequestHeader=function(y,k){this.A.append(y,k)},t.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],k=this.h.entries();for(var L=k.next();!L.done;)L=L.value,y.push(L[0]+": "+L[1]),L=k.next();return y.join(`\r
`)};function si(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(ys.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function Pf(y){let k="";return W(y,function(L,H){k+=H,k+=":",k+=L,k+=`\r
`}),k}function Xc(y,k,L){e:{for(H in L){var H=!1;break e}H=!0}H||(L=Pf(L),typeof y=="string"?L!=null&&br(L):Bt(y,k,L))}function rn(y){zt.call(this),this.headers=new Map,this.L=y||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(rn,zt);var Df=/^https?$/i,$y=["POST","PUT"];t=rn.prototype,t.Fa=function(y){this.H=y},t.ea=function(y,k,L,H){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);k=k?k.toUpperCase():"GET",this.D=y,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ps.g(),this.g.onreadystatechange=g(h(this.Ca,this));try{this.B=!0,this.g.open(k,String(y),!0),this.B=!1}catch(ue){wo(this,ue);return}if(y=L||"",L=new Map(this.headers),H)if(Object.getPrototypeOf(H)===Object.prototype)for(var ae in H)L.set(ae,H[ae]);else if(typeof H.keys=="function"&&typeof H.get=="function")for(const ue of H.keys())L.set(ue,H.get(ue));else throw Error("Unknown input type for opt_headers: "+String(H));H=Array.from(L.keys()).find(ue=>ue.toLowerCase()=="content-type"),ae=o.FormData&&y instanceof o.FormData,!(Array.prototype.indexOf.call($y,k,void 0)>=0)||H||ae||L.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ue,Pe]of L)this.g.setRequestHeader(ue,Pe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(y),this.v=!1}catch(ue){wo(this,ue)}};function wo(y,k){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=k,y.o=5,jo(y),ja(y)}function jo(y){y.A||(y.A=!0,Xt(y,"complete"),Xt(y,"error"))}t.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=y||7,Xt(this,"complete"),Xt(this,"abort"),ja(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ja(this,!0)),rn.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?wa(this):this.Xa())},t.Xa=function(){wa(this)};function wa(y){if(y.h&&typeof a<"u"){if(y.v&&Pi(y)==4)setTimeout(y.Ca.bind(y),0);else if(Xt(y,"readystatechange"),Pi(y)==4){y.h=!1;try{const ue=y.ca();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var k=!0;break e;default:k=!1}var L;if(!(L=k)){var H;if(H=ue===0){let Pe=String(y.D).match(If)[1]||null;!Pe&&o.self&&o.self.location&&(Pe=o.self.location.protocol.slice(0,-1)),H=!Df.test(Pe?Pe.toLowerCase():"")}L=H}if(L)Xt(y,"complete"),Xt(y,"success");else{y.o=6;try{var ae=Pi(y)>2?y.g.statusText:""}catch{ae=""}y.l=ae+" ["+y.ca()+"]",jo(y)}}finally{ja(y)}}}}function ja(y,k){if(y.g){y.m&&(clearTimeout(y.m),y.m=null);const L=y.g;y.g=null,k||Xt(y,"ready");try{L.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Pi(y){return y.g?y.g.readyState:0}t.ca=function(){try{return Pi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(y){if(this.g){var k=this.g.responseText;return y&&k.indexOf(y)==0&&(k=k.substring(y.length)),vt(k)}};function Mf(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.F){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function oh(y){const k={};y=(y.g&&Pi(y)>=2&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let H=0;H<y.length;H++){if(U(y[H]))continue;var L=Gr(y[H]);const ae=L[0];if(L=L[1],typeof L!="string")continue;L=L.trim();const ue=k[ae]||[];k[ae]=ue,ue.push(L)}B(k,function(H){return H.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Di(y,k,L){return L&&L.internalChannelParams&&L.internalChannelParams[y]||k}function Zc(y){this.za=0,this.i=[],this.j=new Or,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Di("failFast",!1,y),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Di("baseRetryDelayMs",5e3,y),this.Za=Di("retryDelaySeedMs",1e4,y),this.Ta=Di("forwardChannelMaxRetries",2,y),this.va=Di("forwardChannelRequestTimeoutMs",2e4,y),this.ma=y&&y.xmlHttpFactory||void 0,this.Ua=y&&y.Rb||void 0,this.Aa=y&&y.useFetchStreams||!1,this.O=void 0,this.L=y&&y.supportsCrossDomainXhr||!1,this.M="",this.h=new Gc(y&&y.concurrentRequestLimit),this.Ba=new Bl,this.S=y&&y.fastHandshake||!1,this.R=y&&y.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=y&&y.Pb||!1,y&&y.ua&&this.j.ua(),y&&y.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&y&&y.detectBufferingProxy||!1,this.ia=void 0,y&&y.longPollingTimeout&&y.longPollingTimeout>0&&(this.ia=y.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Zc.prototype,t.ka=8,t.I=1,t.connect=function(y,k,L,H){nn(0),this.W=y,this.H=k||{},L&&H!==void 0&&(this.H.OSID=L,this.H.OAID=H),this.F=this.X,this.J=ch(this,null,this.W),Na(this)};function eu(y){if(tu(y),y.I==3){var k=y.V++,L=Ls(y.J);if(Bt(L,"SID",y.M),Bt(L,"RID",k),Bt(L,"TYPE","terminate"),Mi(y,L),k=new Ht(y,y.j,k),k.M=2,k.A=va(Ls(L)),L=!1,o.navigator&&o.navigator.sendBeacon)try{L=o.navigator.sendBeacon(k.A.toString(),"")}catch{}!L&&o.Image&&(new Image().src=k.A,L=!0),L||(k.g=Of(k.j,null),k.g.ea(k.A)),k.F=Date.now(),Jn(k)}Hl(y)}function vs(y){y.g&&(ql(y),y.g.cancel(),y.g=null)}function tu(y){vs(y),y.v&&(o.clearTimeout(y.v),y.v=null),nu(y),y.h.cancel(),y.m&&(typeof y.m=="number"&&o.clearTimeout(y.m),y.m=null)}function Na(y){if(!Jd(y.h)&&!y.m){y.m=!0;var k=y.Ea;D||R(),F||(D(),F=!0),P.add(k,y),y.D=0}}function Lf(y,k){return Ll(y.h)>=y.h.j-(y.m?1:0)?!1:y.m?(y.i=k.G.concat(y.i),!0):y.I==1||y.I==2||y.D>=(y.Sa?0:y.Ta)?!1:(y.m=Lr(h(y.Ea,y,k),su(y,y.D)),y.D++,!0)}t.Ea=function(y){if(this.m)if(this.m=null,this.I==1){if(!y){this.V=Math.floor(Math.random()*1e5),y=this.V++;const ae=new Ht(this,this.j,y);let ue=this.o;if(this.U&&(ue?(ue=q(ue),$(ue,this.U)):ue=this.U),this.u!==null||this.R||(ae.J=ue,ue=null),this.S)e:{for(var k=0,L=0;L<this.i.length;L++){t:{var H=this.i[L];if("__data__"in H.map&&(H=H.map.__data__,typeof H=="string")){H=H.length;break t}H=void 0}if(H===void 0)break;if(k+=H,k>4096){k=L;break e}if(k===4096||L===this.i.length-1){k=L+1;break e}}k=1e3}else k=1e3;k=lh(this,ae,k),L=Ls(this.J),Bt(L,"RID",y),Bt(L,"CVER",22),this.G&&Bt(L,"X-HTTP-Session-Id",this.G),Mi(this,L),ue&&(this.R?k="headers="+br(Pf(ue))+"&"+k:this.u&&Xc(L,this.u,ue)),Qc(this.h,ae),this.Ra&&Bt(L,"TYPE","init"),this.S?(Bt(L,"$req",k),Bt(L,"SID","null"),ae.U=!0,jr(ae,L,null)):jr(ae,L,k),this.I=2}}else this.I==3&&(y?$l(this,y):this.i.length==0||Jd(this.h)||$l(this))};function $l(y,k){var L;k?L=k.l:L=y.V++;const H=Ls(y.J);Bt(H,"SID",y.M),Bt(H,"RID",L),Bt(H,"AID",y.K),Mi(y,H),y.u&&y.o&&Xc(H,y.u,y.o),L=new Ht(y,y.j,L,y.D+1),y.u===null&&(L.J=y.o),k&&(y.i=k.G.concat(y.i)),k=lh(y,L,1e3),L.H=Math.round(y.va*.5)+Math.round(y.va*.5*Math.random()),Qc(y.h,L),jr(L,H,k)}function Mi(y,k){y.H&&W(y.H,function(L,H){Bt(k,H,L)}),y.l&&W({},function(L,H){Bt(k,H,L)})}function lh(y,k,L){L=Math.min(y.i.length,L);const H=y.l?h(y.l.Ka,y.l,y):null;e:{var ae=y.i;let xt=-1;for(;;){const Mn=["count="+L];xt==-1?L>0?(xt=ae[0].g,Mn.push("ofs="+xt)):xt=0:Mn.push("ofs="+xt);let Zt=!0;for(let $n=0;$n<L;$n++){var ue=ae[$n].g;const ws=ae[$n].map;if(ue-=xt,ue<0)xt=Math.max(0,ae[$n].g-100),Zt=!1;else try{ue="req"+ue+"_"||"";try{var Pe=ws instanceof Map?ws:Object.entries(ws);for(const[_a,Oi]of Pe){let Fi=Oi;c(Oi)&&(Fi=Ze(Oi)),Mn.push(ue+_a+"="+encodeURIComponent(Fi))}}catch(_a){throw Mn.push(ue+"type="+encodeURIComponent("_badmap")),_a}}catch{H&&H(ws)}}if(Zt){Pe=Mn.join("&");break e}}Pe=void 0}return y=y.i.splice(0,L),k.G=y,Pe}function Nr(y){if(!y.g&&!y.v){y.Y=1;var k=y.Da;D||R(),F||(D(),F=!0),P.add(k,y),y.A=0}}function Li(y){return y.g||y.v||y.A>=3?!1:(y.Y++,y.v=Lr(h(y.Da,y),su(y,y.A)),y.A++,!0)}t.Da=function(){if(this.v=null,No(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var y=4*this.T;this.j.info("BP detection timer enabled: "+y),this.B=Lr(h(this.Wa,this),y)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,nn(10),vs(this),No(this))};function ql(y){y.B!=null&&(o.clearTimeout(y.B),y.B=null)}function No(y){y.g=new Ht(y,y.j,"rpc",y.Y),y.u===null&&(y.g.J=y.o),y.g.P=0;var k=Ls(y.na);Bt(k,"RID","rpc"),Bt(k,"SID",y.M),Bt(k,"AID",y.K),Bt(k,"CI",y.F?"0":"1"),!y.F&&y.ia&&Bt(k,"TO",y.ia),Bt(k,"TYPE","xmlhttp"),Mi(y,k),y.u&&y.o&&Xc(k,y.u,y.o),y.O&&(y.g.H=y.O);var L=y.g;y=y.ba,L.M=1,L.A=va(Ls(k)),L.u=null,L.R=!0,ni(L,y)}t.Va=function(){this.C!=null&&(this.C=null,vs(this),Li(this),nn(19))};function nu(y){y.C!=null&&(o.clearTimeout(y.C),y.C=null)}function ru(y,k){var L=null;if(y.g==k){nu(y),ql(y),y.g=null;var H=2}else if(Xd(y.h,k))L=k.G,Ol(y.h,k),H=1;else return;if(y.I!=0){if(k.o)if(H==1){L=k.u?k.u.length:0,k=Date.now()-k.F;var ae=y.D;H=Pt(),Xt(H,new Zs(H,L)),Na(y)}else Nr(y);else if(ae=k.m,ae==3||ae==0&&k.X>0||!(H==1&&Lf(y,k)||H==2&&Li(y)))switch(L&&L.length>0&&(k=y.h,k.i=k.i.concat(L)),ae){case 1:bs(y,5);break;case 4:bs(y,10);break;case 3:bs(y,6);break;default:bs(y,2)}}}function su(y,k){let L=y.Qa+Math.floor(Math.random()*y.Za);return y.isActive()||(L*=2),L*k}function bs(y,k){if(y.j.info("Error code "+k),k==2){var L=h(y.bb,y),H=y.Ua;const ae=!H;H=new Ci(H||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Fl(H,"https"),va(H),ae?Ii(H.toString(),L):Ri(H.toString(),L)}else nn(2);y.I=0,y.l&&y.l.pa(k),Hl(y),tu(y)}t.bb=function(y){y?(this.j.info("Successfully pinged google.com"),nn(2)):(this.j.info("Failed to ping google.com"),nn(1))};function Hl(y){if(y.I=0,y.ja=[],y.l){const k=gs(y.h);(k.length!=0||y.i.length!=0)&&(_(y.ja,k),_(y.ja,y.i),y.h.i.length=0,x(y.i),y.i.length=0),y.l.oa()}}function ch(y,k,L){var H=L instanceof Ci?Ls(L):new Ci(L);if(H.g!="")k&&(H.g=k+"."+H.g),ki(H,H.u);else{var ae=o.location;H=ae.protocol,k=k?k+"."+ae.hostname:ae.hostname,ae=+ae.port;const ue=new Ci(null);H&&Fl(ue,H),k&&(ue.g=k),ae&&ki(ue,ae),L&&(ue.h=L),H=ue}return L=y.G,k=y.wa,L&&k&&Bt(H,L,k),Bt(H,"VER",y.ka),Mi(y,H),H}function Of(y,k,L){if(k&&!y.L)throw Error("Can't create secondary domain capable XhrIo object.");return k=y.Aa&&!y.ma?new rn(new ba({ab:L})):new rn(y.ma),k.Fa(y.L),k}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ff(){}t=Ff.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function iu(){}iu.prototype.g=function(y,k){return new dr(y,k)};function dr(y,k){zt.call(this),this.g=new Zc(k),this.l=y,this.h=k&&k.messageUrlParams||null,y=k&&k.messageHeaders||null,k&&k.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=k&&k.initMessageHeaders||null,k&&k.messageContentType&&(y?y["X-WebChannel-Content-Type"]=k.messageContentType:y={"X-WebChannel-Content-Type":k.messageContentType}),k&&k.sa&&(y?y["X-WebChannel-Client-Profile"]=k.sa:y={"X-WebChannel-Client-Profile":k.sa}),this.g.U=y,(y=k&&k.Qb)&&!U(y)&&(this.g.u=y),this.A=k&&k.supportsCrossDomainXhr||!1,this.v=k&&k.sendRawJson||!1,(k=k&&k.httpSessionIdParam)&&!U(k)&&(this.g.G=k,y=this.h,y!==null&&k in y&&(y=this.h,k in y&&delete y[k])),this.j=new _o(this)}f(dr,zt),dr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},dr.prototype.close=function(){eu(this.g)},dr.prototype.o=function(y){var k=this.g;if(typeof y=="string"){var L={};L.__data__=y,y=L}else this.v&&(L={},L.__data__=Ze(y),y=L);k.i.push(new zy(k.Ya++,y)),k.I==3&&Na(k)},dr.prototype.N=function(){this.g.l=null,delete this.j,eu(this.g),delete this.g,dr.Z.N.call(this)};function Vf(y){et.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var k=y.__sm__;if(k){e:{for(const L in k){y=L;break e}y=void 0}(this.i=y)&&(y=this.i,k=k!==null&&y in k?k[y]:void 0),this.data=k}else this.data=y}f(Vf,et);function Uf(){tt.call(this),this.status=1}f(Uf,tt);function _o(y){this.g=y}f(_o,Ff),_o.prototype.ra=function(){Xt(this.g,"a")},_o.prototype.qa=function(y){Xt(this.g,new Vf(y))},_o.prototype.pa=function(y){Xt(this.g,new Uf)},_o.prototype.oa=function(){Xt(this.g,"b")},iu.prototype.createWebChannel=iu.prototype.g,dr.prototype.send=dr.prototype.o,dr.prototype.open=dr.prototype.m,dr.prototype.close=dr.prototype.close,_M=function(){return new iu},NM=function(){return Pt()},jM=gt,Dw={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ei.NO_ERROR=0,ei.TIMEOUT=8,ei.HTTP_ERROR=6,Ng=ei,ti.COMPLETE="complete",wM=ti,fe.EventType=qe,qe.OPEN="a",qe.CLOSE="b",qe.ERROR="c",qe.MESSAGE="d",zt.prototype.listen=zt.prototype.J,Xh=fe,rn.prototype.listenOnce=rn.prototype.K,rn.prototype.getLastError=rn.prototype.Ha,rn.prototype.getLastErrorCode=rn.prototype.ya,rn.prototype.getStatus=rn.prototype.ca,rn.prototype.getResponseJson=rn.prototype.La,rn.prototype.getResponseText=rn.prototype.la,rn.prototype.send=rn.prototype.ea,rn.prototype.setWithCredentials=rn.prototype.Fa,bM=rn}).apply(typeof Qp<"u"?Qp:typeof self<"u"?self:typeof window<"u"?window:{});const Ok="@firebase/firestore",Fk="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ss.UNAUTHENTICATED=new ss(null),ss.GOOGLE_CREDENTIALS=new ss("google-credentials-uid"),ss.FIRST_PARTY=new ss("first-party-uid"),ss.MOCK_USER=new ss("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ud="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fl=new Jj("@firebase/firestore");function Du(){return fl.logLevel}function fee(t){fl.setLogLevel(t)}function ze(t,...e){if(fl.logLevel<=At.DEBUG){const n=e.map(lN);fl.debug(`Firestore (${Ud}): ${t}`,...n)}}function io(t,...e){if(fl.logLevel<=At.ERROR){const n=e.map(lN);fl.error(`Firestore (${Ud}): ${t}`,...n)}}function Um(t,...e){if(fl.logLevel<=At.WARN){const n=e.map(lN);fl.warn(`Firestore (${Ud}): ${t}`,...n)}}function lN(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,SM(t,r,n)}function SM(t,e,n){let r=`FIRESTORE (${Ud}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw io(r),new Error(r)}function Yt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||SM(e,i,r)}function yt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Le extends pa{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pee{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gee{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(ss.UNAUTHENTICATED)))}shutdown(){}}class xee{constructor(e){this.t=e,this.currentUser=ss.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Yt(this.o===void 0,42304);let r=this.i;const i=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let a=new Ha;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ha,e.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const d=a;e.enqueueRetryable((async()=>{await d.promise,await i(this.currentUser)}))},c=d=>{ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((d=>c(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ha)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Yt(typeof r.accessToken=="string",31837,{l:r}),new pee(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Yt(e===null||typeof e=="string",2055,{h:e}),new ss(e)}}class yee{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ss.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class vee{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new yee(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(ss.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Vk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bee{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ks(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Yt(this.o===void 0,3512);const r=a=>{a.error!=null&&ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,ze("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Vk(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Yt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Vk(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wee(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=wee(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function It(t,e){return t<e?-1:t>e?1:0}function Mw(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return rb(i)===rb(a)?It(i,a):rb(i)?1:-1}return It(t.length,e.length)}const jee=55296,Nee=57343;function rb(t){const e=t.charCodeAt(0);return e>=jee&&e<=Nee}function gd(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk="__name__";class Hi{constructor(e,n,r){n===void 0?n=0:n>e.length&&at(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&at(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Hi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Hi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Hi.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return It(e.length,n.length)}static compareSegments(e,n){const r=Hi.isNumericId(e),i=Hi.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Hi.extractNumericId(e).compare(Hi.extractNumericId(n)):Mw(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return sl.fromString(e.substring(4,e.length-2))}}class ln extends Hi{construct(e,n,r){return new ln(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Le(ge.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new ln(n)}static emptyPath(){return new ln([])}}const _ee=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gr extends Hi{construct(e,n,r){return new gr(e,n,r)}static isValidIdentifier(e){return _ee.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Uk}static keyField(){return new gr([Uk])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Le(ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new Le(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Le(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(r+=c,i++):(a(),i++)}if(a(),o)throw new Le(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gr(n)}static emptyPath(){return new gr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e){this.path=e}static fromPath(e){return new nt(ln.fromString(e))}static fromName(e){return new nt(ln.fromString(e).popFirst(5))}static empty(){return new nt(ln.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ln.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ln.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new nt(new ln(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EM(t,e,n){if(!n)throw new Le(ge.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function See(t,e,n,r){if(e===!0&&r===!0)throw new Le(ge.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function zk(t){if(!nt.isDocumentKey(t))throw new Le(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Bk(t){if(nt.isDocumentKey(t))throw new Le(ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function CM(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function cy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":at(12329,{type:typeof t})}function ua(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Le(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=cy(t);throw new Le(ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(t,e){const n={typeString:t};return e&&(n.value=e),n}function vf(t,e){if(!CM(t))throw new Le(ge.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new Le(ge.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k=-62135596800,qk=1e6;class pn{static now(){return pn.fromMillis(Date.now())}static fromDate(e){return pn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*qk);return new pn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Le(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Le(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<$k)throw new Le(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Le(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/qk}_compareTo(e){return this.seconds===e.seconds?It(this.nanoseconds,e.nanoseconds):It(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:pn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(vf(e,pn._jsonSchema))return new pn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-$k;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}pn._jsonSchemaVersion="firestore/timestamp/1.0",pn._jsonSchema={type:Qn("string",pn._jsonSchemaVersion),seconds:Qn("number"),nanoseconds:Qn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{static fromTimestamp(e){return new pt(e)}static min(){return new pt(new pn(0,0))}static max(){return new pt(new pn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm=-1;function Eee(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=pt.fromTimestamp(r===1e9?new pn(n+1,0):new pn(n,r));return new pl(i,nt.empty(),e)}function Cee(t){return new pl(t.readTime,t.key,zm)}class pl{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new pl(pt.min(),nt.empty(),zm)}static max(){return new pl(pt.max(),nt.empty(),zm)}}function kee(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=nt.comparator(t.documentKey,e.documentKey),n!==0?n:It(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tee="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Aee{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zd(t){if(t.code!==ge.FAILED_PRECONDITION||t.message!==Tee)throw t;ze("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&at(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ve(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ve?n:ve.resolve(n)}catch(n){return ve.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ve.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ve.reject(n)}static resolve(e){return new ve(((n,r)=>{n(e)}))}static reject(e){return new ve(((n,r)=>{r(e)}))}static waitFor(e){return new ve(((n,r)=>{let i=0,a=0,o=!1;e.forEach((c=>{++i,c.next((()=>{++a,o&&a===i&&n()}),(d=>r(d)))})),o=!0,a===i&&n()}))}static or(e){let n=ve.resolve(!1);for(const r of e)n=n.next((i=>i?ve.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new ve(((r,i)=>{const a=e.length,o=new Array(a);let c=0;for(let d=0;d<a;d++){const h=d;n(e[h]).next((m=>{o[h]=m,++c,c===a&&r(o)}),(m=>i(m)))}}))}static doWhile(e,n){return new ve(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function Iee(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Bd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}uy.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN=-1;function dy(t){return t==null}function ux(t){return t===0&&1/t==-1/0}function Ree(t){return typeof t=="number"&&Number.isInteger(t)&&!ux(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM="";function Pee(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Hk(e)),e=Dee(t.get(n),e);return Hk(e)}function Dee(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case kM:n+="";break;default:n+=a}}return n}function Hk(t){return t+kM+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wk(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function kl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function TM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e,n){this.comparator=e,this.root=n||pr.EMPTY}insert(e,n){return new kn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pr.BLACK,null,null))}remove(e){return new kn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yp(this.root,e,this.comparator,!0)}}class Yp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pr{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??pr.RED,this.left=i??pr.EMPTY,this.right=a??pr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new pr(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return pr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return pr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw at(43730,{key:this.key,value:this.value});if(this.right.isRed())throw at(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw at(27949);return e+(this.isRed()?0:1)}}pr.EMPTY=null,pr.RED=!0,pr.BLACK=!1;pr.EMPTY=new class{constructor(){this.size=0}get key(){throw at(57766)}get value(){throw at(16141)}get color(){throw at(16727)}get left(){throw at(29726)}get right(){throw at(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new pr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.comparator=e,this.data=new kn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Kk(this.data.getIterator())}getIteratorFrom(e){return new Kk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof tr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new tr(this.comparator);return n.data=e,n}}class Kk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e){this.fields=e,e.sort(gr.comparator)}static empty(){return new Ts([])}unionWith(e){let n=new tr(gr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ts(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return gd(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new AM("Invalid base64 string: "+a):a}})(e);return new yr(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a})(e);return new yr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return It(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yr.EMPTY_BYTE_STRING=new yr("");const Mee=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gl(t){if(Yt(!!t,39018),typeof t=="string"){let e=0;const n=Mee.exec(t);if(Yt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Fn(t.seconds),nanos:Fn(t.nanos)}}function Fn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function xl(t){return typeof t=="string"?yr.fromBase64String(t):yr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM="server_timestamp",RM="__type__",PM="__previous_value__",DM="__local_write_time__";function dN(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[RM])==null?void 0:r.stringValue)===IM}function hy(t){const e=t.mapValue.fields[PM];return dN(e)?hy(e):e}function Bm(t){const e=gl(t.mapValue.fields[DM].timestampValue);return new pn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lee{constructor(e,n,r,i,a,o,c,d,h,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=h,this.isUsingEmulator=m}}const dx="(default)";class $m{constructor(e,n){this.projectId=e,this.database=n||dx}static empty(){return new $m("","")}get isDefaultDatabase(){return this.database===dx}isEqual(e){return e instanceof $m&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM="__type__",Oee="__max__",Jp={mapValue:{}},LM="__vector__",hx="value";function yl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?dN(t)?4:Vee(t)?9007199254740991:Fee(t)?10:11:at(28295,{value:t})}function da(t,e){if(t===e)return!0;const n=yl(t);if(n!==yl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Bm(t).isEqual(Bm(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=gl(i.timestampValue),c=gl(a.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return xl(i.bytesValue).isEqual(xl(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return Fn(i.geoPointValue.latitude)===Fn(a.geoPointValue.latitude)&&Fn(i.geoPointValue.longitude)===Fn(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return Fn(i.integerValue)===Fn(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=Fn(i.doubleValue),c=Fn(a.doubleValue);return o===c?ux(o)===ux(c):isNaN(o)&&isNaN(c)}return!1})(t,e);case 9:return gd(t.arrayValue.values||[],e.arrayValue.values||[],da);case 10:case 11:return(function(i,a){const o=i.mapValue.fields||{},c=a.mapValue.fields||{};if(Wk(o)!==Wk(c))return!1;for(const d in o)if(o.hasOwnProperty(d)&&(c[d]===void 0||!da(o[d],c[d])))return!1;return!0})(t,e);default:return at(52216,{left:t})}}function qm(t,e){return(t.values||[]).find((n=>da(n,e)))!==void 0}function xd(t,e){if(t===e)return 0;const n=yl(t),r=yl(e);if(n!==r)return It(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return It(t.booleanValue,e.booleanValue);case 2:return(function(a,o){const c=Fn(a.integerValue||a.doubleValue),d=Fn(o.integerValue||o.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1})(t,e);case 3:return Gk(t.timestampValue,e.timestampValue);case 4:return Gk(Bm(t),Bm(e));case 5:return Mw(t.stringValue,e.stringValue);case 6:return(function(a,o){const c=xl(a),d=xl(o);return c.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(a,o){const c=a.split("/"),d=o.split("/");for(let h=0;h<c.length&&h<d.length;h++){const m=It(c[h],d[h]);if(m!==0)return m}return It(c.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,o){const c=It(Fn(a.latitude),Fn(o.latitude));return c!==0?c:It(Fn(a.longitude),Fn(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Qk(t.arrayValue,e.arrayValue);case 10:return(function(a,o){var g,x,_,j;const c=a.fields||{},d=o.fields||{},h=(g=c[hx])==null?void 0:g.arrayValue,m=(x=d[hx])==null?void 0:x.arrayValue,f=It(((_=h==null?void 0:h.values)==null?void 0:_.length)||0,((j=m==null?void 0:m.values)==null?void 0:j.length)||0);return f!==0?f:Qk(h,m)})(t.mapValue,e.mapValue);case 11:return(function(a,o){if(a===Jp.mapValue&&o===Jp.mapValue)return 0;if(a===Jp.mapValue)return 1;if(o===Jp.mapValue)return-1;const c=a.fields||{},d=Object.keys(c),h=o.fields||{},m=Object.keys(h);d.sort(),m.sort();for(let f=0;f<d.length&&f<m.length;++f){const g=Mw(d[f],m[f]);if(g!==0)return g;const x=xd(c[d[f]],h[m[f]]);if(x!==0)return x}return It(d.length,m.length)})(t.mapValue,e.mapValue);default:throw at(23264,{he:n})}}function Gk(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return It(t,e);const n=gl(t),r=gl(e),i=It(n.seconds,r.seconds);return i!==0?i:It(n.nanos,r.nanos)}function Qk(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=xd(n[i],r[i]);if(a)return a}return It(n.length,r.length)}function yd(t){return Lw(t)}function Lw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=gl(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return xl(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return nt.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=Lw(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const o of r)a?a=!1:i+=",",i+=`${o}:${Lw(n.fields[o])}`;return i+"}"})(t.mapValue):at(61005,{value:t})}function _g(t){switch(yl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=hy(t);return e?16+_g(e):16;case 5:return 2*t.stringValue.length;case 6:return xl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+_g(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return kl(r.fields,((a,o)=>{i+=a.length+_g(o)})),i})(t.mapValue);default:throw at(13486,{value:t})}}function Yk(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ow(t){return!!t&&"integerValue"in t}function hN(t){return!!t&&"arrayValue"in t}function Jk(t){return!!t&&"nullValue"in t}function Xk(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Sg(t){return!!t&&"mapValue"in t}function Fee(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[MM])==null?void 0:r.stringValue)===LM}function mm(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return kl(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=mm(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=mm(t.arrayValue.values[n]);return e}return{...t}}function Vee(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Oee}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e){this.value=e}static empty(){return new as({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Sg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=mm(n)}setAll(e){let n=gr.emptyPath(),r={},i=[];e.forEach(((o,c)=>{if(!n.isImmediateParentOf(c)){const d=this.getFieldsMap(n);this.applyChanges(d,r,i),r={},i=[],n=c.popLast()}o?r[c.lastSegment()]=mm(o):i.push(c.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Sg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return da(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Sg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){kl(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new as(mm(this.value))}}function OM(t){const e=[];return kl(t.fields,((n,r)=>{const i=new gr([n]);if(Sg(r)){const a=OM(r.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)})),new Ts(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e,n,r,i,a,o,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=c}static newInvalidDocument(e){return new Tr(e,0,pt.min(),pt.min(),pt.min(),as.empty(),0)}static newFoundDocument(e,n,r,i){return new Tr(e,1,n,pt.min(),r,i,0)}static newNoDocument(e,n){return new Tr(e,2,n,pt.min(),pt.min(),as.empty(),0)}static newUnknownDocument(e,n){return new Tr(e,3,n,pt.min(),pt.min(),as.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=as.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=as.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e,n){this.position=e,this.inclusive=n}}function Zk(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?r=nt.comparator(nt.fromName(o.referenceValue),n.key):r=xd(o,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function eT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!da(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,n="asc"){this.field=e,this.dir=n}}function Uee(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{}class Gn extends FM{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Bee(e,n,r):n==="array-contains"?new Hee(e,r):n==="in"?new Wee(e,r):n==="not-in"?new Kee(e,r):n==="array-contains-any"?new Gee(e,r):new Gn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new $ee(e,r):new qee(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(xd(n,this.value)):n!==null&&yl(this.value)===yl(n)&&this.matchesComparison(xd(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return at(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bi extends FM{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new bi(e,n)}matches(e){return VM(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function VM(t){return t.op==="and"}function UM(t){return zee(t)&&VM(t)}function zee(t){for(const e of t.filters)if(e instanceof bi)return!1;return!0}function Fw(t){if(t instanceof Gn)return t.field.canonicalString()+t.op.toString()+yd(t.value);if(UM(t))return t.filters.map((e=>Fw(e))).join(",");{const e=t.filters.map((n=>Fw(n))).join(",");return`${t.op}(${e})`}}function zM(t,e){return t instanceof Gn?(function(r,i){return i instanceof Gn&&r.op===i.op&&r.field.isEqual(i.field)&&da(r.value,i.value)})(t,e):t instanceof bi?(function(r,i){return i instanceof bi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,o,c)=>a&&zM(o,i.filters[c])),!0):!1})(t,e):void at(19439)}function BM(t){return t instanceof Gn?(function(n){return`${n.field.canonicalString()} ${n.op} ${yd(n.value)}`})(t):t instanceof bi?(function(n){return n.op.toString()+" {"+n.getFilters().map(BM).join(" ,")+"}"})(t):"Filter"}class Bee extends Gn{constructor(e,n,r){super(e,n,r),this.key=nt.fromName(r.referenceValue)}matches(e){const n=nt.comparator(e.key,this.key);return this.matchesComparison(n)}}class $ee extends Gn{constructor(e,n){super(e,"in",n),this.keys=$M("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class qee extends Gn{constructor(e,n){super(e,"not-in",n),this.keys=$M("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function $M(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>nt.fromName(r.referenceValue)))}class Hee extends Gn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return hN(n)&&qm(n.arrayValue,this.value)}}class Wee extends Gn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&qm(this.value.arrayValue,n)}}class Kee extends Gn{constructor(e,n){super(e,"not-in",n)}matches(e){if(qm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!qm(this.value.arrayValue,n)}}class Gee extends Gn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!hN(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>qm(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qee{constructor(e,n=null,r=[],i=[],a=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=c,this.Te=null}}function tT(t,e=null,n=[],r=[],i=null,a=null,o=null){return new Qee(t,e,n,r,i,a,o)}function mN(t){const e=yt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Fw(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),dy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>yd(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>yd(r))).join(",")),e.Te=n}return e.Te}function fN(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Uee(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!zM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!eT(t.startAt,e.startAt)&&eT(t.endAt,e.endAt)}function Vw(t){return nt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,n=null,r=[],i=[],a=null,o="F",c=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=c,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Yee(t,e,n,r,i,a,o,c){return new $d(t,e,n,r,i,a,o,c)}function pN(t){return new $d(t)}function nT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function qM(t){return t.collectionGroup!==null}function fm(t){const e=yt(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new tr(gr.comparator);return o.filters.forEach((d=>{d.getFlattenedFilters().forEach((h=>{h.isInequality()&&(c=c.add(h.field))}))})),c})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Hm(a,r))})),n.has(gr.keyField().canonicalString())||e.Ie.push(new Hm(gr.keyField(),r))}return e.Ie}function ra(t){const e=yt(t);return e.Ee||(e.Ee=Jee(e,fm(t))),e.Ee}function Jee(t,e){if(t.limitType==="F")return tT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new Hm(i.field,a)}));const n=t.endAt?new mx(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new mx(t.startAt.position,t.startAt.inclusive):null;return tT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Uw(t,e){const n=t.filters.concat([e]);return new $d(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function zw(t,e,n){return new $d(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function my(t,e){return fN(ra(t),ra(e))&&t.limitType===e.limitType}function HM(t){return`${mN(ra(t))}|lt:${t.limitType}`}function Mu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>BM(i))).join(", ")}]`),dy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>yd(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>yd(i))).join(",")),`Target(${r})`})(ra(t))}; limitType=${t.limitType})`}function fy(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):nt.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of fm(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(o,c,d){const h=Zk(o,c,d);return o.inclusive?h<=0:h<0})(r.startAt,fm(r),i)||r.endAt&&!(function(o,c,d){const h=Zk(o,c,d);return o.inclusive?h>=0:h>0})(r.endAt,fm(r),i))})(t,e)}function Xee(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function WM(t){return(e,n)=>{let r=!1;for(const i of fm(t)){const a=Zee(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function Zee(t,e,n){const r=t.field.isKeyField()?nt.comparator(e.key,n.key):(function(a,o,c){const d=o.data.field(a),h=c.data.field(a);return d!==null&&h!==null?xd(d,h):at(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return at(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){kl(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return TM(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ete=new kn(nt.comparator);function ao(){return ete}const KM=new kn(nt.comparator);function Zh(...t){let e=KM;for(const n of t)e=e.insert(n.key,n);return e}function GM(t){let e=KM;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function uc(){return pm()}function QM(){return pm()}function pm(){return new Uc((t=>t.toString()),((t,e)=>t.isEqual(e)))}const tte=new kn(nt.comparator),nte=new tr(nt.comparator);function Rt(...t){let e=nte;for(const n of t)e=e.add(n);return e}const rte=new tr(It);function ste(){return rte}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ux(e)?"-0":e}}function YM(t){return{integerValue:""+t}}function ite(t,e){return Ree(e)?YM(e):gN(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(){this._=void 0}}function ate(t,e,n){return t instanceof fx?(function(i,a){const o={fields:{[RM]:{stringValue:IM},[DM]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&dN(a)&&(a=hy(a)),a&&(o.fields[PM]=a),{mapValue:o}})(n,e):t instanceof Wm?XM(t,e):t instanceof Km?ZM(t,e):(function(i,a){const o=JM(i,a),c=rT(o)+rT(i.Ae);return Ow(o)&&Ow(i.Ae)?YM(c):gN(i.serializer,c)})(t,e)}function ote(t,e,n){return t instanceof Wm?XM(t,e):t instanceof Km?ZM(t,e):n}function JM(t,e){return t instanceof px?(function(r){return Ow(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class fx extends py{}class Wm extends py{constructor(e){super(),this.elements=e}}function XM(t,e){const n=e5(e);for(const r of t.elements)n.some((i=>da(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Km extends py{constructor(e){super(),this.elements=e}}function ZM(t,e){let n=e5(e);for(const r of t.elements)n=n.filter((i=>!da(i,r)));return{arrayValue:{values:n}}}class px extends py{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function rT(t){return Fn(t.integerValue||t.doubleValue)}function e5(t){return hN(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function lte(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Wm&&i instanceof Wm||r instanceof Km&&i instanceof Km?gd(r.elements,i.elements,da):r instanceof px&&i instanceof px?da(r.Ae,i.Ae):r instanceof fx&&i instanceof fx})(t.transform,e.transform)}class cte{constructor(e,n){this.version=e,this.transformResults=n}}class Xs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xs}static exists(e){return new Xs(void 0,e)}static updateTime(e){return new Xs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Eg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class gy{}function t5(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new xN(t.key,Xs.none()):new bf(t.key,t.data,Xs.none());{const n=t.data,r=as.empty();let i=new tr(gr.comparator);for(let a of e.fields)if(!i.has(a)){let o=n.field(a);o===null&&a.length>1&&(a=a.popLast(),o=n.field(a)),o===null?r.delete(a):r.set(a,o),i=i.add(a)}return new Tl(t.key,r,new Ts(i.toArray()),Xs.none())}}function ute(t,e,n){t instanceof bf?(function(i,a,o){const c=i.value.clone(),d=iT(i.fieldTransforms,a,o.transformResults);c.setAll(d),a.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(t,e,n):t instanceof Tl?(function(i,a,o){if(!Eg(i.precondition,a))return void a.convertToUnknownDocument(o.version);const c=iT(i.fieldTransforms,a,o.transformResults),d=a.data;d.setAll(n5(i)),d.setAll(c),a.convertToFoundDocument(o.version,d).setHasCommittedMutations()})(t,e,n):(function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function gm(t,e,n,r){return t instanceof bf?(function(a,o,c,d){if(!Eg(a.precondition,o))return c;const h=a.value.clone(),m=aT(a.fieldTransforms,d,o);return h.setAll(m),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof Tl?(function(a,o,c,d){if(!Eg(a.precondition,o))return c;const h=aT(a.fieldTransforms,d,o),m=o.data;return m.setAll(n5(a)),m.setAll(h),o.convertToFoundDocument(o.version,m).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((f=>f.field)))})(t,e,n,r):(function(a,o,c){return Eg(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c})(t,e,n)}function dte(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=JM(r.transform,i||null);a!=null&&(n===null&&(n=as.empty()),n.set(r.field,a))}return n||null}function sT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&gd(r,i,((a,o)=>lte(a,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class bf extends gy{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Tl extends gy{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function n5(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function iT(t,e,n){const r=new Map;Yt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],o=a.transform,c=e.data.field(a.field);r.set(a.field,ote(o,c,n[i]))}return r}function aT(t,e,n){const r=new Map;for(const i of t){const a=i.transform,o=n.data.field(i.field);r.set(i.field,ate(a,o,e))}return r}class xN extends gy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hte extends gy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mte{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&ute(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=gm(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=gm(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=QM();return this.mutations.forEach((i=>{const a=e.get(i.key),o=a.overlayedDocument;let c=this.applyToLocalView(o,a.mutatedFields);c=n.has(i.key)?null:c;const d=t5(o,c);d!==null&&r.set(i.key,d),o.isValidDocument()||o.convertToNoDocument(pt.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Rt())}isEqual(e){return this.batchId===e.batchId&&gd(this.mutations,e.mutations,((n,r)=>sT(n,r)))&&gd(this.baseMutations,e.baseMutations,((n,r)=>sT(n,r)))}}class yN{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Yt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return tte})();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new yN(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fte=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pte{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hn,Lt;function gte(t){switch(t){case ge.OK:return at(64938);case ge.CANCELLED:case ge.UNKNOWN:case ge.DEADLINE_EXCEEDED:case ge.RESOURCE_EXHAUSTED:case ge.INTERNAL:case ge.UNAVAILABLE:case ge.UNAUTHENTICATED:return!1;case ge.INVALID_ARGUMENT:case ge.NOT_FOUND:case ge.ALREADY_EXISTS:case ge.PERMISSION_DENIED:case ge.FAILED_PRECONDITION:case ge.ABORTED:case ge.OUT_OF_RANGE:case ge.UNIMPLEMENTED:case ge.DATA_LOSS:return!0;default:return at(15467,{code:t})}}function r5(t){if(t===void 0)return io("GRPC error has no .code"),ge.UNKNOWN;switch(t){case Hn.OK:return ge.OK;case Hn.CANCELLED:return ge.CANCELLED;case Hn.UNKNOWN:return ge.UNKNOWN;case Hn.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case Hn.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case Hn.INTERNAL:return ge.INTERNAL;case Hn.UNAVAILABLE:return ge.UNAVAILABLE;case Hn.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case Hn.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case Hn.NOT_FOUND:return ge.NOT_FOUND;case Hn.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case Hn.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case Hn.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case Hn.ABORTED:return ge.ABORTED;case Hn.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case Hn.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case Hn.DATA_LOSS:return ge.DATA_LOSS;default:return at(39323,{code:t})}}(Lt=Hn||(Hn={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xte(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yte=new sl([4294967295,4294967295],0);function oT(t){const e=xte().encode(t),n=new vM;return n.update(e),new Uint8Array(n.digest())}function lT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new sl([n,r],0),new sl([i,a],0)]}class vN{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new em(`Invalid padding: ${n}`);if(r<0)throw new em(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new em(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new em(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=sl.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(sl.fromNumber(r)));return i.compare(yte)===1&&(i=new sl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=oT(e),[r,i]=lT(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new vN(a,i,n);return r.forEach((c=>o.insert(c))),o}insert(e){if(this.ge===0)return;const n=oT(e),[r,i]=lT(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class em extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,wf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new xy(pt.min(),i,new kn(It),ao(),Rt())}}class wf{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new wf(r,n,Rt(),Rt(),Rt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class s5{constructor(e,n){this.targetId=e,this.Ce=n}}class i5{constructor(e,n,r=yr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class cT{constructor(){this.ve=0,this.Fe=uT(),this.Me=yr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Rt(),n=Rt(),r=Rt();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:at(38017,{changeType:a})}})),new wf(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=uT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Yt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class vte{constructor(e){this.Ge=e,this.ze=new Map,this.je=ao(),this.Je=Xp(),this.He=Xp(),this.Ye=new kn(It)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:at(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(Vw(a))if(r===0){const o=new nt(a.path);this.et(n,o,Tr.newNoDocument(o,pt.min()))}else Yt(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const c=this.ut(e),d=c?this.ct(c,e,o):1;if(d!==0){this.it(n);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let o,c;try{o=xl(r).toUint8Array()}catch(d){if(d instanceof AM)return Um("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new vN(o,i,a)}catch(d){return Um(d instanceof em?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const o=this.Ge.ht(),c=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,o)=>{const c=this.ot(o);if(c){if(a.current&&Vw(c.target)){const d=new nt(c.target.path);this.It(d).has(o)||this.Et(o,d)||this.et(o,d,Tr.newNoDocument(d,e))}a.Be&&(n.set(o,a.ke()),a.qe())}}));let r=Rt();this.He.forEach(((a,o)=>{let c=!0;o.forEachWhile((d=>{const h=this.ot(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(a))})),this.je.forEach(((a,o)=>o.setReadTime(e)));const i=new xy(e,n,this.Ye,this.je,r);return this.je=ao(),this.Je=Xp(),this.He=Xp(),this.Ye=new kn(It),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new cT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new tr(It),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new tr(It),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ze("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new cT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Xp(){return new kn(nt.comparator)}function uT(){return new kn(nt.comparator)}const bte={asc:"ASCENDING",desc:"DESCENDING"},wte={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jte={and:"AND",or:"OR"};class Nte{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Bw(t,e){return t.useProto3Json||dy(e)?e:{value:e}}function gx(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function a5(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function _te(t,e){return gx(t,e.toTimestamp())}function sa(t){return Yt(!!t,49232),pt.fromTimestamp((function(n){const r=gl(n);return new pn(r.seconds,r.nanos)})(t))}function bN(t,e){return $w(t,e).canonicalString()}function $w(t,e){const n=(function(i){return new ln(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function o5(t){const e=ln.fromString(t);return Yt(h5(e),10190,{key:e.toString()}),e}function qw(t,e){return bN(t.databaseId,e.path)}function sb(t,e){const n=o5(e);if(n.get(1)!==t.databaseId.projectId)throw new Le(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Le(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new nt(c5(n))}function l5(t,e){return bN(t.databaseId,e)}function Ste(t){const e=o5(t);return e.length===4?ln.emptyPath():c5(e)}function Hw(t){return new ln(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function c5(t){return Yt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function dT(t,e,n){return{name:qw(t,e),fields:n.value.mapValue.fields}}function Ete(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:at(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(h,m){return h.useProto3Json?(Yt(m===void 0||typeof m=="string",58123),yr.fromBase64String(m||"")):(Yt(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),yr.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&(function(h){const m=h.code===void 0?ge.UNKNOWN:r5(h.code);return new Le(m,h.message||"")})(o);n=new i5(r,i,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=sb(t,r.document.name),a=sa(r.document.updateTime),o=r.document.createTime?sa(r.document.createTime):pt.min(),c=new as({mapValue:{fields:r.document.fields}}),d=Tr.newFoundDocument(i,a,o,c),h=r.targetIds||[],m=r.removedTargetIds||[];n=new Cg(h,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=sb(t,r.document),a=r.readTime?sa(r.readTime):pt.min(),o=Tr.newNoDocument(i,a),c=r.removedTargetIds||[];n=new Cg([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=sb(t,r.document),a=r.removedTargetIds||[];n=new Cg([],a,i,null)}else{if(!("filter"in e))return at(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,o=new pte(i,a),c=r.targetId;n=new s5(c,o)}}return n}function Cte(t,e){let n;if(e instanceof bf)n={update:dT(t,e.key,e.value)};else if(e instanceof xN)n={delete:qw(t,e.key)};else if(e instanceof Tl)n={update:dT(t,e.key,e.data),updateMask:Lte(e.fieldMask)};else{if(!(e instanceof hte))return at(16599,{Vt:e.type});n={verify:qw(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,o){const c=o.transform;if(c instanceof fx)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Wm)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Km)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof px)return{fieldPath:o.field.canonicalString(),increment:c.Ae};throw at(20930,{transform:o.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:_te(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:at(27497)})(t,e.precondition)),n}function kte(t,e){return t&&t.length>0?(Yt(e!==void 0,14353),t.map((n=>(function(i,a){let o=i.updateTime?sa(i.updateTime):sa(a);return o.isEqual(pt.min())&&(o=sa(a)),new cte(o,i.transformResults||[])})(n,e)))):[]}function Tte(t,e){return{documents:[l5(t,e.path)]}}function Ate(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=l5(t,i);const a=(function(h){if(h.length!==0)return d5(bi.create(h,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const o=(function(h){if(h.length!==0)return h.map((m=>(function(g){return{field:Lu(g.field),direction:Pte(g.dir)}})(m)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const c=Bw(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:i}}function Ite(t){let e=Ste(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Yt(r===1,65062);const m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let a=[];n.where&&(a=(function(f){const g=u5(f);return g instanceof bi&&UM(g)?g.getFilters():[g]})(n.where));let o=[];n.orderBy&&(o=(function(f){return f.map((g=>(function(_){return new Hm(Ou(_.field),(function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(_.direction))})(g)))})(n.orderBy));let c=null;n.limit&&(c=(function(f){let g;return g=typeof f=="object"?f.value:f,dy(g)?null:g})(n.limit));let d=null;n.startAt&&(d=(function(f){const g=!!f.before,x=f.values||[];return new mx(x,g)})(n.startAt));let h=null;return n.endAt&&(h=(function(f){const g=!f.before,x=f.values||[];return new mx(x,g)})(n.endAt)),Yee(e,i,o,a,c,"F",d,h)}function Rte(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return at(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function u5(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ou(n.unaryFilter.field);return Gn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ou(n.unaryFilter.field);return Gn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ou(n.unaryFilter.field);return Gn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ou(n.unaryFilter.field);return Gn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return at(61313);default:return at(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Gn.create(Ou(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return at(58110);default:return at(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return bi.create(n.compositeFilter.filters.map((r=>u5(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return at(1026)}})(n.compositeFilter.op))})(t):at(30097,{filter:t})}function Pte(t){return bte[t]}function Dte(t){return wte[t]}function Mte(t){return jte[t]}function Lu(t){return{fieldPath:t.canonicalString()}}function Ou(t){return gr.fromServerFormat(t.fieldPath)}function d5(t){return t instanceof Gn?(function(n){if(n.op==="=="){if(Xk(n.value))return{unaryFilter:{field:Lu(n.field),op:"IS_NAN"}};if(Jk(n.value))return{unaryFilter:{field:Lu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Xk(n.value))return{unaryFilter:{field:Lu(n.field),op:"IS_NOT_NAN"}};if(Jk(n.value))return{unaryFilter:{field:Lu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lu(n.field),op:Dte(n.op),value:n.value}}})(t):t instanceof bi?(function(n){const r=n.getFilters().map((i=>d5(i)));return r.length===1?r[0]:{compositeFilter:{op:Mte(n.op),filters:r}}})(t):at(54877,{filter:t})}function Lte(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function h5(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,n,r,i,a=pt.min(),o=pt.min(),c=yr.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new tl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new tl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new tl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new tl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ote{constructor(e){this.yt=e}}function Fte(t){const e=Ite({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?zw(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vte{constructor(){this.Cn=new Ute}addToCollectionParentIndex(e,n){return this.Cn.add(n),ve.resolve()}getCollectionParents(e,n){return ve.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ve.resolve()}deleteFieldIndex(e,n){return ve.resolve()}deleteAllFieldIndexes(e){return ve.resolve()}createTargetIndexes(e,n){return ve.resolve()}getDocumentsMatchingTarget(e,n){return ve.resolve(null)}getIndexType(e,n){return ve.resolve(0)}getFieldIndexes(e,n){return ve.resolve([])}getNextCollectionGroupToUpdate(e){return ve.resolve(null)}getMinOffset(e,n){return ve.resolve(pl.min())}getMinOffsetFromCollectionGroup(e,n){return ve.resolve(pl.min())}updateCollectionGroup(e,n,r){return ve.resolve()}updateIndexEntries(e,n){return ve.resolve()}}class Ute{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new tr(ln.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new tr(ln.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},m5=41943040;class is{static withCacheSize(e){return new is(e,is.DEFAULT_COLLECTION_PERCENTILE,is.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */is.DEFAULT_COLLECTION_PERCENTILE=10,is.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,is.DEFAULT=new is(m5,is.DEFAULT_COLLECTION_PERCENTILE,is.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),is.DISABLED=new is(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new vd(0)}static cr(){return new vd(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="LruGarbageCollector",f5=1048576;function fT([t,e],[n,r]){const i=It(t,n);return i===0?It(e,r):i}class zte{constructor(e){this.Ir=e,this.buffer=new tr(fT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();fT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Bte{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ze(mT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Bd(n)?ze(mT,"Ignoring IndexedDB error during garbage collection: ",n):await zd(n)}await this.Vr(3e5)}))}}class $te{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ve.resolve(uy.ce);const r=new zte(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ze("LruGarbageCollector","Garbage collection skipped; disabled"),ve.resolve(hT)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ze("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,o,c,d,h;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((f=>(f>this.params.maximumSequenceNumbersToCollect?(ze("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i)))).next((f=>(r=f,c=Date.now(),this.removeTargets(e,r,n)))).next((f=>(a=f,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((f=>(h=Date.now(),Du()<=At.DEBUG&&ze("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-m}ms
	Determined least recently used ${i} in `+(c-o)+`ms
	Removed ${a} targets in `+(d-c)+`ms
	Removed ${f} documents in `+(h-d)+`ms
Total Duration: ${h-m}ms`),ve.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:f}))))}}function qte(t,e){return new $te(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hte{constructor(){this.changes=new Uc((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Tr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ve.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wte{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kte{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&gm(r.mutation,i,Ts.empty(),pn.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Rt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Rt()){const i=uc();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let o=Zh();return a.forEach(((c,d)=>{o=o.insert(c,d.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const r=uc();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Rt())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((o,c)=>{n.set(o,c)}))}))}computeViews(e,n,r,i){let a=ao();const o=pm(),c=(function(){return pm()})();return n.forEach(((d,h)=>{const m=r.get(h.key);i.has(h.key)&&(m===void 0||m.mutation instanceof Tl)?a=a.insert(h.key,h):m!==void 0?(o.set(h.key,m.mutation.getFieldMask()),gm(m.mutation,h,m.mutation.getFieldMask(),pn.now())):o.set(h.key,Ts.empty())})),this.recalculateAndSaveOverlays(e,a).next((d=>(d.forEach(((h,m)=>o.set(h,m))),n.forEach(((h,m)=>c.set(h,new Wte(m,o.get(h)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=pm();let i=new kn(((o,c)=>o-c)),a=Rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const c of o)c.keys().forEach((d=>{const h=n.get(d);if(h===null)return;let m=r.get(d)||Ts.empty();m=c.applyToLocalView(h,m),r.set(d,m);const f=(i.get(c.batchId)||Rt()).add(d);i=i.insert(c.batchId,f)}))})).next((()=>{const o=[],c=i.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),h=d.key,m=d.value,f=QM();m.forEach((g=>{if(!a.has(g)){const x=t5(n.get(g),r.get(g));x!==null&&f.set(g,x),a=a.add(g)}})),o.push(this.documentOverlayCache.saveOverlays(e,h,f))}return ve.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(o){return nt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):qM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):ve.resolve(uc());let c=zm,d=a;return o.next((h=>ve.forEach(h,((m,f)=>(c<f.largestBatchId&&(c=f.largestBatchId),a.get(m)?ve.resolve():this.remoteDocumentCache.getEntry(e,m).next((g=>{d=d.insert(m,g)}))))).next((()=>this.populateOverlays(e,h,a))).next((()=>this.computeViews(e,d,h,Rt()))).next((m=>({batchId:c,changes:GM(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new nt(n)).next((r=>{let i=Zh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let o=Zh();return this.indexManager.getCollectionParents(e,a).next((c=>ve.forEach(c,(d=>{const h=(function(f,g){return new $d(g,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)})(n,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next((m=>{m.forEach(((f,g)=>{o=o.insert(f,g)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((o=>{a.forEach(((d,h)=>{const m=h.getKey();o.get(m)===null&&(o=o.insert(m,Tr.newInvalidDocument(m)))}));let c=Zh();return o.forEach(((d,h)=>{const m=a.get(d);m!==void 0&&gm(m.mutation,h,Ts.empty(),pn.now()),fy(n,h)&&(c=c.insert(d,h))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gte{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ve.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:sa(i.createTime)}})(n)),ve.resolve()}getNamedQuery(e,n){return ve.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:Fte(i.bundledQuery),readTime:sa(i.readTime)}})(n)),ve.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qte{constructor(){this.overlays=new kn(nt.comparator),this.qr=new Map}getOverlay(e,n){return ve.resolve(this.overlays.get(n))}getOverlays(e,n){const r=uc();return ve.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.St(e,n,a)})),ve.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),ve.resolve()}getOverlaysForCollection(e,n,r){const i=uc(),a=n.length+1,o=new nt(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const d=c.getNext().value,h=d.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===a&&d.largestBatchId>r&&i.set(d.getKey(),d)}return ve.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new kn(((h,m)=>h-m));const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let m=a.get(h.largestBatchId);m===null&&(m=uc(),a=a.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}const c=uc(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((h,m)=>c.set(h,m))),!(c.size()>=i)););return ve.resolve(c)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new fte(n,r));let a=this.qr.get(n);a===void 0&&(a=Rt(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yte{constructor(){this.sessionToken=yr.EMPTY_BYTE_STRING}getSessionToken(e){return ve.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ve.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(){this.Qr=new tr(lr.$r),this.Ur=new tr(lr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new lr(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new lr(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new nt(new ln([])),r=new lr(n,e),i=new lr(n,e+1),a=[];return this.Ur.forEachInRange([r,i],(o=>{this.Gr(o),a.push(o.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new nt(new ln([])),r=new lr(n,e),i=new lr(n,e+1);let a=Rt();return this.Ur.forEachInRange([r,i],(o=>{a=a.add(o.key)})),a}containsKey(e){const n=new lr(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class lr{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return nt.comparator(e.key,n.key)||It(e.Yr,n.Yr)}static Kr(e,n){return It(e.Yr,n.Yr)||nt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jte{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new tr(lr.$r)}checkEmpty(e){return ve.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new mte(a,n,r,i);this.mutationQueue.push(o);for(const c of i)this.Zr=this.Zr.add(new lr(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return ve.resolve(o)}lookupMutationBatch(e,n){return ve.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return ve.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ve.resolve(this.mutationQueue.length===0?uN:this.tr-1)}getAllMutationBatches(e){return ve.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new lr(n,0),i=new lr(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(o=>{const c=this.Xr(o.Yr);a.push(c)})),ve.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new tr(It);return n.forEach((i=>{const a=new lr(i,0),o=new lr(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,o],(c=>{r=r.add(c.Yr)}))})),ve.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;nt.isDocumentKey(a)||(a=a.child(""));const o=new lr(new nt(a),0);let c=new tr(It);return this.Zr.forEachWhile((d=>{const h=d.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(c=c.add(d.Yr)),!0)}),o),ve.resolve(this.ti(c))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Yt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ve.forEach(n.mutations,(i=>{const a=new lr(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new lr(n,0),i=this.Zr.firstAfterOrEqual(r);return ve.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ve.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xte{constructor(e){this.ri=e,this.docs=(function(){return new kn(nt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ve.resolve(r?r.document.mutableCopy():Tr.newInvalidDocument(n))}getEntries(e,n){let r=ao();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Tr.newInvalidDocument(i))})),ve.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=ao();const o=n.path,c=new nt(o.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:h,value:{document:m}}=d.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||kee(Cee(m),r)<=0||(i.has(m.key)||fy(n,m))&&(a=a.insert(m.key,m.mutableCopy()))}return ve.resolve(a)}getAllFromCollectionGroup(e,n,r,i){at(9500)}ii(e,n){return ve.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new Zte(this)}getSize(e){return ve.resolve(this.size)}}class Zte extends Hte{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),ve.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ene{constructor(e){this.persistence=e,this.si=new Uc((n=>mN(n)),fN),this.lastRemoteSnapshotVersion=pt.min(),this.highestTargetId=0,this.oi=0,this._i=new wN,this.targetCount=0,this.ai=vd.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),ve.resolve()}getLastRemoteSnapshotVersion(e){return ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ve.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ve.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ve.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new vd(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ve.resolve()}updateTargetData(e,n){return this.Pr(n),ve.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ve.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach(((o,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(o),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),ve.waitFor(a).next((()=>i))}getTargetCount(e){return ve.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ve.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ve.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((o=>{a.push(i.markPotentiallyOrphaned(e,o))})),ve.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ve.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ve.resolve(r)}containsKey(e,n){return ve.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(e,n){this.ui={},this.overlays={},this.ci=new uy(0),this.li=!1,this.li=!0,this.hi=new Yte,this.referenceDelegate=e(this),this.Pi=new ene(this),this.indexManager=new Vte,this.remoteDocumentCache=(function(i){return new Xte(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Ote(n),this.Ii=new Gte(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Qte,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new Jte(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ze("MemoryPersistence","Starting transaction:",e);const i=new tne(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,n){return ve.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class tne extends Aee{constructor(e){super(),this.currentSequenceNumber=e}}class jN{constructor(e){this.persistence=e,this.Ri=new wN,this.Vi=null}static mi(e){return new jN(e)}get fi(){if(this.Vi)return this.Vi;throw at(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ve.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ve.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ve.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ve.forEach(this.fi,(r=>{const i=nt.fromPath(r);return this.gi(e,i).next((a=>{a||n.removeEntry(i,pt.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ve.or([()=>ve.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class xx{constructor(e,n){this.persistence=e,this.pi=new Uc((r=>Pee(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=qte(this,n)}static mi(e,n){return new xx(e,n)}Ei(){}di(e){return ve.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ve.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?ve.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(o=>this.br(e,o,n).next((c=>{c||(r++,a.removeEntry(o,pt.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ve.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ve.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ve.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ve.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=_g(e.data.value)),n}br(e,n,r){return ve.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return ve.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Rt(),i=Rt();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new NN(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nne{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rne{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return IY()?8:Iee(Rr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next((o=>{a.result=o})).next((()=>{if(!a.result)return this.ws(e,n,i,r).next((o=>{a.result=o}))})).next((()=>{if(a.result)return;const o=new nne;return this.Ss(e,n,o).next((c=>{if(a.result=c,this.Vs)return this.bs(e,n,o,c.size)}))})).next((()=>a.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Du()<=At.DEBUG&&ze("QueryEngine","SDK will not create cache indexes for query:",Mu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ve.resolve()):(Du()<=At.DEBUG&&ze("QueryEngine","Query:",Mu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Du()<=At.DEBUG&&ze("QueryEngine","The SDK decides to create cache indexes for query:",Mu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ra(n))):ve.resolve())}ys(e,n){if(nT(n))return ve.resolve(null);let r=ra(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=zw(n,null,"F"),r=ra(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const o=Rt(...a);return this.ps.getDocuments(e,o).next((c=>this.indexManager.getMinOffset(e,r).next((d=>{const h=this.Ds(n,c);return this.Cs(n,h,o,d.readTime)?this.ys(e,zw(n,null,"F")):this.vs(e,h,n,d)}))))})))))}ws(e,n,r,i){return nT(n)||i.isEqual(pt.min())?ve.resolve(null):this.ps.getDocuments(e,r).next((a=>{const o=this.Ds(n,a);return this.Cs(n,o,r,i)?ve.resolve(null):(Du()<=At.DEBUG&&ze("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Mu(n)),this.vs(e,o,n,Eee(i,zm)).next((c=>c)))}))}Ds(e,n){let r=new tr(WM(e));return n.forEach(((i,a)=>{fy(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return Du()<=At.DEBUG&&ze("QueryEngine","Using full collection scan to execute query:",Mu(n)),this.ps.getDocumentsMatchingQuery(e,n,pl.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((o=>{a=a.insert(o.key,o)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N="LocalStore",sne=3e8;class ine{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new kn(It),this.xs=new Uc((a=>mN(a)),fN),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Kte(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function ane(t,e,n,r){return new ine(t,e,n,r)}async function g5(t,e){const n=yt(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const o=[],c=[];let d=Rt();for(const h of i){o.push(h.batchId);for(const m of h.mutations)d=d.add(m.key)}for(const h of a){c.push(h.batchId);for(const m of h.mutations)d=d.add(m.key)}return n.localDocuments.getDocuments(r,d).next((h=>({Ls:h,removedBatchIds:o,addedBatchIds:c})))}))}))}function one(t,e){const n=yt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,d,h,m){const f=h.batch,g=f.keys();let x=ve.resolve();return g.forEach((_=>{x=x.next((()=>m.getEntry(d,_))).next((j=>{const w=h.docVersions.get(_);Yt(w!==null,48541),j.version.compareTo(w)<0&&(f.applyToRemoteDocument(j,h),j.isValidDocument()&&(j.setReadTime(h.commitVersion),m.addEntry(j)))}))})),x.next((()=>c.mutationQueue.removeMutationBatch(d,f)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let d=Rt();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(d=d.add(c.batch.mutations[h].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function x5(t){const e=yt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function lne(t,e){const n=yt(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const c=[];e.targetChanges.forEach(((m,f)=>{const g=i.get(f);if(!g)return;c.push(n.Pi.removeMatchingKeys(a,m.removedDocuments,f).next((()=>n.Pi.addMatchingKeys(a,m.addedDocuments,f))));let x=g.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(f)!==null?x=x.withResumeToken(yr.EMPTY_BYTE_STRING,pt.min()).withLastLimboFreeSnapshotVersion(pt.min()):m.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(m.resumeToken,r)),i=i.insert(f,x),(function(j,w,N){return j.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=sne?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0})(g,x,m)&&c.push(n.Pi.updateTargetData(a,x))}));let d=ao(),h=Rt();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(a,m))})),c.push(cne(a,o,e.documentUpdates).next((m=>{d=m.ks,h=m.qs}))),!r.isEqual(pt.min())){const m=n.Pi.getLastRemoteSnapshotVersion(a).next((f=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));c.push(m)}return ve.waitFor(c).next((()=>o.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,d,h))).next((()=>d))})).then((a=>(n.Ms=i,a)))}function cne(t,e,n){let r=Rt(),i=Rt();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let o=ao();return n.forEach(((c,d)=>{const h=a.get(c);d.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(c)),d.isNoDocument()&&d.version.isEqual(pt.min())?(e.removeEntry(c,d.readTime),o=o.insert(c,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),o=o.insert(c,d)):ze(_N,"Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",d.version)})),{ks:o,qs:i}}))}function une(t,e){const n=yt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=uN),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function dne(t,e){const n=yt(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((a=>a?(i=a,ve.resolve(i)):n.Pi.allocateTargetId(r).next((o=>(i=new tl(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Ww(t,e,n){const r=yt(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Bd(o))throw o;ze(_N,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function pT(t,e,n){const r=yt(t);let i=pt.min(),a=Rt();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(d,h,m){const f=yt(d),g=f.xs.get(m);return g!==void 0?ve.resolve(f.Ms.get(g)):f.Pi.getTargetData(h,m)})(r,o,ra(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,c.targetId).next((d=>{a=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:pt.min(),n?a:Rt()))).next((c=>(hne(r,Xee(e),c),{documents:c,Qs:a})))))}function hne(t,e,n){let r=t.Os.get(e)||pt.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class gT{constructor(){this.activeTargetIds=ste()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mne{constructor(){this.Mo=new gT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new gT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fne{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="ConnectivityMonitor";class yT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ze(xT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ze(xT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zp=null;function Kw(){return Zp===null?Zp=(function(){return 268435456+Math.round(2147483648*Math.random())})():Zp++,"0x"+Zp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib="RestConnection",pne={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gne{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===dx?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const o=Kw(),c=this.zo(e,n.toUriEncodedString());ze(ib,`Sending RPC '${e}' ${o}:`,c,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,i,a);const{host:h}=new URL(c),m=El(h);return this.Jo(e,c,d,r,m).then((f=>(ze(ib,`Received RPC '${e}' ${o}: `,f),f)),(f=>{throw Um(ib,`RPC '${e}' ${o} failed with error: `,f,"url: ",c,"request:",r),f}))}Ho(e,n,r,i,a,o){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ud})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,n){const r=pne[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xne{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr="WebChannelConnection";class yne extends gne{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const o=Kw();return new Promise(((c,d)=>{const h=new bM;h.setWithCredentials(!0),h.listenOnce(wM.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case Ng.NO_ERROR:const f=h.getResponseJson();ze(kr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),c(f);break;case Ng.TIMEOUT:ze(kr,`RPC '${e}' ${o} timed out`),d(new Le(ge.DEADLINE_EXCEEDED,"Request time out"));break;case Ng.HTTP_ERROR:const g=h.getStatus();if(ze(kr,`RPC '${e}' ${o} failed with status:`,g,"response text:",h.getResponseText()),g>0){let x=h.getResponseJson();Array.isArray(x)&&(x=x[0]);const _=x==null?void 0:x.error;if(_&&_.status&&_.message){const j=(function(N){const E=N.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf(E)>=0?E:ge.UNKNOWN})(_.status);d(new Le(j,_.message))}else d(new Le(ge.UNKNOWN,"Server responded with status "+h.getStatus()))}else d(new Le(ge.UNAVAILABLE,"Connection failed."));break;default:at(9055,{l_:e,streamId:o,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{ze(kr,`RPC '${e}' ${o} completed.`)}}));const m=JSON.stringify(i);ze(kr,`RPC '${e}' ${o} sending request:`,i),h.send(n,"POST",m,r,15)}))}T_(e,n,r){const i=Kw(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=_M(),c=NM(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const m=a.join("");ze(kr,`Creating RPC '${e}' stream ${i}: ${m}`,d);const f=o.createWebChannel(m,d);this.I_(f);let g=!1,x=!1;const _=new xne({Yo:w=>{x?ze(kr,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(g||(ze(kr,`Opening RPC '${e}' stream ${i} transport.`),f.open(),g=!0),ze(kr,`RPC '${e}' stream ${i} sending:`,w),f.send(w))},Zo:()=>f.close()}),j=(w,N,E)=>{w.listen(N,(A=>{try{E(A)}catch(T){setTimeout((()=>{throw T}),0)}}))};return j(f,Xh.EventType.OPEN,(()=>{x||(ze(kr,`RPC '${e}' stream ${i} transport opened.`),_.o_())})),j(f,Xh.EventType.CLOSE,(()=>{x||(x=!0,ze(kr,`RPC '${e}' stream ${i} transport closed`),_.a_(),this.E_(f))})),j(f,Xh.EventType.ERROR,(w=>{x||(x=!0,Um(kr,`RPC '${e}' stream ${i} transport errored. Name:`,w.name,"Message:",w.message),_.a_(new Le(ge.UNAVAILABLE,"The operation could not be completed")))})),j(f,Xh.EventType.MESSAGE,(w=>{var N;if(!x){const E=w.data[0];Yt(!!E,16349);const A=E,T=(A==null?void 0:A.error)||((N=A[0])==null?void 0:N.error);if(T){ze(kr,`RPC '${e}' stream ${i} received error:`,T);const D=T.status;let F=(function(I){const O=Hn[I];if(O!==void 0)return r5(O)})(D),P=T.message;F===void 0&&(F=ge.INTERNAL,P="Unknown error status: "+D+" with message "+T.message),x=!0,_.a_(new Le(F,P)),f.close()}else ze(kr,`RPC '${e}' stream ${i} received:`,E),_.u_(E)}})),j(c,jM.STAT_EVENT,(w=>{w.stat===Dw.PROXY?ze(kr,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===Dw.NOPROXY&&ze(kr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{_.__()}),0),_}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function ab(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(t){return new Nte(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&ze("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="PersistentStream";class v5{constructor(e,n,r,i,a,o,c,d){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new y5(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ge.RESOURCE_EXHAUSTED?(io(n.toString()),io("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ge.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Le(ge.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ze(vT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ze(vT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class vne extends v5{constructor(e,n,r,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Ete(this.serializer,e),r=(function(a){if(!("targetChange"in a))return pt.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?pt.min():o.readTime?sa(o.readTime):pt.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Hw(this.serializer),n.addTarget=(function(a,o){let c;const d=o.target;if(c=Vw(d)?{documents:Tte(a,d)}:{query:Ate(a,d).ft},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=a5(a,o.resumeToken);const h=Bw(a,o.expectedCount);h!==null&&(c.expectedCount=h)}else if(o.snapshotVersion.compareTo(pt.min())>0){c.readTime=gx(a,o.snapshotVersion.toTimestamp());const h=Bw(a,o.expectedCount);h!==null&&(c.expectedCount=h)}return c})(this.serializer,e);const r=Rte(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Hw(this.serializer),n.removeTarget=e,this.q_(n)}}class bne extends v5{constructor(e,n,r,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Yt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Yt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Yt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=kte(e.writeResults,e.commitTime),r=sa(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Hw(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Cte(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wne{}class jne extends wne{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Le(ge.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Go(e,$w(n,r),i,a,o))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Le(ge.UNKNOWN,a.toString())}))}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Ho(e,$w(n,r),i,o,c,a))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Le(ge.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Nne{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(io(n),this.aa=!1):ze("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc="RemoteStore";class _ne{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{zc(this)&&(ze(Tc,"Restarting streams for network reachability change."),await(async function(d){const h=yt(d);h.Ea.add(4),await jf(h),h.Ra.set("Unknown"),h.Ea.delete(4),await vy(h)})(this))}))})),this.Ra=new Nne(r,i)}}async function vy(t){if(zc(t))for(const e of t.da)await e(!0)}async function jf(t){for(const e of t.da)await e(!1)}function b5(t,e){const n=yt(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),kN(n)?CN(n):qd(n).O_()&&EN(n,e))}function SN(t,e){const n=yt(t),r=qd(n);n.Ia.delete(e),r.O_()&&w5(n,e),n.Ia.size===0&&(r.O_()?r.L_():zc(n)&&n.Ra.set("Unknown"))}function EN(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}qd(t).Y_(e)}function w5(t,e){t.Va.Ue(e),qd(t).Z_(e)}function CN(t){t.Va=new vte({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),qd(t).start(),t.Ra.ua()}function kN(t){return zc(t)&&!qd(t).x_()&&t.Ia.size>0}function zc(t){return yt(t).Ea.size===0}function j5(t){t.Va=void 0}async function Sne(t){t.Ra.set("Online")}async function Ene(t){t.Ia.forEach(((e,n)=>{EN(t,e)}))}async function Cne(t,e){j5(t),kN(t)?(t.Ra.ha(e),CN(t)):t.Ra.set("Unknown")}async function kne(t,e,n){if(t.Ra.set("Online"),e instanceof i5&&e.state===2&&e.cause)try{await(async function(i,a){const o=a.cause;for(const c of a.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,o),i.Ia.delete(c),i.Va.removeTarget(c))})(t,e)}catch(r){ze(Tc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await yx(t,r)}else if(e instanceof Cg?t.Va.Ze(e):e instanceof s5?t.Va.st(e):t.Va.tt(e),!n.isEqual(pt.min()))try{const r=await x5(t.localStore);n.compareTo(r)>=0&&await(function(a,o){const c=a.Va.Tt(o);return c.targetChanges.forEach(((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const m=a.Ia.get(h);m&&a.Ia.set(h,m.withResumeToken(d.resumeToken,o))}})),c.targetMismatches.forEach(((d,h)=>{const m=a.Ia.get(d);if(!m)return;a.Ia.set(d,m.withResumeToken(yr.EMPTY_BYTE_STRING,m.snapshotVersion)),w5(a,d);const f=new tl(m.target,d,h,m.sequenceNumber);EN(a,f)})),a.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){ze(Tc,"Failed to raise snapshot:",r),await yx(t,r)}}async function yx(t,e,n){if(!Bd(e))throw e;t.Ea.add(1),await jf(t),t.Ra.set("Offline"),n||(n=()=>x5(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ze(Tc,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await vy(t)}))}function N5(t,e){return e().catch((n=>yx(t,n,e)))}async function by(t){const e=yt(t),n=vl(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:uN;for(;Tne(e);)try{const i=await une(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,Ane(e,i)}catch(i){await yx(e,i)}_5(e)&&S5(e)}function Tne(t){return zc(t)&&t.Ta.length<10}function Ane(t,e){t.Ta.push(e);const n=vl(t);n.O_()&&n.X_&&n.ea(e.mutations)}function _5(t){return zc(t)&&!vl(t).x_()&&t.Ta.length>0}function S5(t){vl(t).start()}async function Ine(t){vl(t).ra()}async function Rne(t){const e=vl(t);for(const n of t.Ta)e.ea(n.mutations)}async function Pne(t,e,n){const r=t.Ta.shift(),i=yN.from(r,e,n);await N5(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await by(t)}async function Dne(t,e){e&&vl(t).X_&&await(async function(r,i){if((function(o){return gte(o)&&o!==ge.ABORTED})(i.code)){const a=r.Ta.shift();vl(r).B_(),await N5(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await by(r)}})(t,e),_5(t)&&S5(t)}async function bT(t,e){const n=yt(t);n.asyncQueue.verifyOperationInProgress(),ze(Tc,"RemoteStore received new credentials");const r=zc(n);n.Ea.add(3),await jf(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await vy(n)}async function Mne(t,e){const n=yt(t);e?(n.Ea.delete(2),await vy(n)):e||(n.Ea.add(2),await jf(n),n.Ra.set("Unknown"))}function qd(t){return t.ma||(t.ma=(function(n,r,i){const a=yt(n);return a.sa(),new vne(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:Sne.bind(null,t),t_:Ene.bind(null,t),r_:Cne.bind(null,t),H_:kne.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),kN(t)?CN(t):t.Ra.set("Unknown")):(await t.ma.stop(),j5(t))}))),t.ma}function vl(t){return t.fa||(t.fa=(function(n,r,i){const a=yt(n);return a.sa(),new bne(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Ine.bind(null,t),r_:Dne.bind(null,t),ta:Rne.bind(null,t),na:Pne.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await by(t)):(await t.fa.stop(),t.Ta.length>0&&(ze(Tc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Ha,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const o=Date.now()+r,c=new TN(e,n,o,i,a);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Le(ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function AN(t,e){if(io("AsyncQueue",`${e}: ${t}`),Bd(t))return new Le(ge.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{static emptySet(e){return new td(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||nt.comparator(n.key,r.key):(n,r)=>nt.comparator(n.key,r.key),this.keyedMap=Zh(),this.sortedSet=new kn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof td)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new td;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(){this.ga=new kn(nt.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):at(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class bd{constructor(e,n,r,i,a,o,c,d,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,a){const o=[];return n.forEach((c=>{o.push({type:0,doc:c})})),new bd(e,n,td.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&my(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lne{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class One{constructor(){this.queries=jT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=yt(n),a=i.queries;i.queries=jT(),a.forEach(((o,c)=>{for(const d of c.Sa)d.onError(r)}))})(this,new Le(ge.ABORTED,"Firestore shutting down"))}}function jT(){return new Uc((t=>HM(t)),my)}async function E5(t,e){const n=yt(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new Lne,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const c=AN(o,`Initialization of query '${Mu(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&IN(n)}async function C5(t,e){const n=yt(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const o=a.Sa.indexOf(e);o>=0&&(a.Sa.splice(o,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Fne(t,e){const n=yt(t);let r=!1;for(const i of e){const a=i.query,o=n.queries.get(a);if(o){for(const c of o.Sa)c.Fa(i)&&(r=!0);o.wa=i}}r&&IN(n)}function Vne(t,e,n){const r=yt(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function IN(t){t.Ca.forEach((e=>{e.next()}))}var Gw,NT;(NT=Gw||(Gw={})).Ma="default",NT.Cache="cache";class k5{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new bd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=bd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Gw.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(e){this.key=e}}class A5{constructor(e){this.key=e}}class Une{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Rt(),this.mutatedKeys=Rt(),this.eu=WM(e),this.tu=new td(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new wT,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,o=i,c=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((m,f)=>{const g=i.get(m),x=fy(this.query,f)?f:null,_=!!g&&this.mutatedKeys.has(g.key),j=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let w=!1;g&&x?g.data.isEqual(x.data)?_!==j&&(r.track({type:3,doc:x}),w=!0):this.su(g,x)||(r.track({type:2,doc:x}),w=!0,(d&&this.eu(x,d)>0||h&&this.eu(x,h)<0)&&(c=!0)):!g&&x?(r.track({type:0,doc:x}),w=!0):g&&!x&&(r.track({type:1,doc:g}),w=!0,(d||h)&&(c=!0)),w&&(x?(o=o.add(x),a=j?a.add(m):a.delete(m)):(o=o.delete(m),a=a.delete(m)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const m=this.query.limitType==="F"?o.last():o.first();o=o.delete(m.key),a=a.delete(m.key),r.track({type:1,doc:m})}return{tu:o,iu:r,Cs:c,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((m,f)=>(function(x,_){const j=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return at(20277,{Rt:w})}};return j(x)-j(_)})(m.type,f.type)||this.eu(m.doc,f.doc))),this.ou(r),i=i??!1;const c=n&&!i?this._u():[],d=this.Xa.size===0&&this.current&&!i?1:0,h=d!==this.Za;return this.Za=d,o.length!==0||h?{snapshot:new bd(this.query,e.tu,a,o,e.mutatedKeys,d===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new wT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Rt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new A5(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new T5(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Rt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return bd.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const RN="SyncEngine";class zne{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Bne{constructor(e){this.key=e,this.hu=!1}}class $ne{constructor(e,n,r,i,a,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Uc((c=>HM(c)),my),this.Iu=new Map,this.Eu=new Set,this.du=new kn(nt.comparator),this.Au=new Map,this.Ru=new wN,this.Vu={},this.mu=new Map,this.fu=vd.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function qne(t,e,n=!0){const r=L5(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await I5(r,e,n,!0),i}async function Hne(t,e){const n=L5(t);await I5(n,e,!0,!1)}async function I5(t,e,n,r){const i=await dne(t.localStore,ra(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,n);let c;return r&&(c=await Wne(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&b5(t.remoteStore,i),c}async function Wne(t,e,n,r,i){t.pu=(f,g,x)=>(async function(j,w,N,E){let A=w.view.ru(N);A.Cs&&(A=await pT(j.localStore,w.query,!1).then((({documents:P})=>w.view.ru(P,A))));const T=E&&E.targetChanges.get(w.targetId),D=E&&E.targetMismatches.get(w.targetId)!=null,F=w.view.applyChanges(A,j.isPrimaryClient,T,D);return ST(j,w.targetId,F.au),F.snapshot})(t,f,g,x);const a=await pT(t.localStore,e,!0),o=new Une(e,a.Qs),c=o.ru(a.documents),d=wf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=o.applyChanges(c,t.isPrimaryClient,d);ST(t,n,h.au);const m=new zne(e,n,o);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function Kne(t,e,n){const r=yt(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((o=>!my(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Ww(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&SN(r.remoteStore,i.targetId),Qw(r,i.targetId)})).catch(zd)):(Qw(r,i.targetId),await Ww(r.localStore,i.targetId,!0))}async function Gne(t,e){const n=yt(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),SN(n.remoteStore,r.targetId))}async function Qne(t,e,n){const r=nre(t);try{const i=await(function(o,c){const d=yt(o),h=pn.now(),m=c.reduce(((x,_)=>x.add(_.key)),Rt());let f,g;return d.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let _=ao(),j=Rt();return d.Ns.getEntries(x,m).next((w=>{_=w,_.forEach(((N,E)=>{E.isValidDocument()||(j=j.add(N))}))})).next((()=>d.localDocuments.getOverlayedDocuments(x,_))).next((w=>{f=w;const N=[];for(const E of c){const A=dte(E,f.get(E.key).overlayedDocument);A!=null&&N.push(new Tl(E.key,A,OM(A.value.mapValue),Xs.exists(!0)))}return d.mutationQueue.addMutationBatch(x,h,N,c)})).next((w=>{g=w;const N=w.applyToLocalDocumentSet(f,j);return d.documentOverlayCache.saveOverlays(x,w.batchId,N)}))})).then((()=>({batchId:g.batchId,changes:GM(f)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(o,c,d){let h=o.Vu[o.currentUser.toKey()];h||(h=new kn(It)),h=h.insert(c,d),o.Vu[o.currentUser.toKey()]=h})(r,i.batchId,n),await Nf(r,i.changes),await by(r.remoteStore)}catch(i){const a=AN(i,"Failed to persist write");n.reject(a)}}async function R5(t,e){const n=yt(t);try{const r=await lne(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const o=n.Au.get(a);o&&(Yt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Yt(o.hu,14607):i.removedDocuments.size>0&&(Yt(o.hu,42227),o.hu=!1))})),await Nf(n,r,e)}catch(r){await zd(r)}}function _T(t,e,n){const r=yt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,o)=>{const c=o.view.va(e);c.snapshot&&i.push(c.snapshot)})),(function(o,c){const d=yt(o);d.onlineState=c;let h=!1;d.queries.forEach(((m,f)=>{for(const g of f.Sa)g.va(c)&&(h=!0)})),h&&IN(d)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Yne(t,e,n){const r=yt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let o=new kn(nt.comparator);o=o.insert(a,Tr.newNoDocument(a,pt.min()));const c=Rt().add(a),d=new xy(pt.min(),new Map,new kn(It),o,c);await R5(r,d),r.du=r.du.remove(a),r.Au.delete(e),PN(r)}else await Ww(r.localStore,e,!1).then((()=>Qw(r,e,n))).catch(zd)}async function Jne(t,e){const n=yt(t),r=e.batch.batchId;try{const i=await one(n.localStore,e);D5(n,r,null),P5(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Nf(n,i)}catch(i){await zd(i)}}async function Xne(t,e,n){const r=yt(t);try{const i=await(function(o,c){const d=yt(o);return d.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let m;return d.mutationQueue.lookupMutationBatch(h,c).next((f=>(Yt(f!==null,37113),m=f.keys(),d.mutationQueue.removeMutationBatch(h,f)))).next((()=>d.mutationQueue.performConsistencyCheck(h))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(h,m,c))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m))).next((()=>d.localDocuments.getDocuments(h,m)))}))})(r.localStore,e);D5(r,e,n),P5(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Nf(r,i)}catch(i){await zd(i)}}function P5(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function D5(t,e,n){const r=yt(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Qw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||M5(t,r)}))}function M5(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(SN(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),PN(t))}function ST(t,e,n){for(const r of n)r instanceof T5?(t.Ru.addReference(r.key,e),Zne(t,r)):r instanceof A5?(ze(RN,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||M5(t,r.key)):at(19791,{wu:r})}function Zne(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ze(RN,"New document in limbo: "+n),t.Eu.add(r),PN(t))}function PN(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new nt(ln.fromString(e)),r=t.fu.next();t.Au.set(r,new Bne(n)),t.du=t.du.insert(n,r),b5(t.remoteStore,new tl(ra(pN(n.path)),r,"TargetPurposeLimboResolution",uy.ce))}}async function Nf(t,e,n){const r=yt(t),i=[],a=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,d)=>{o.push(r.pu(d,e,n).then((h=>{var m;if((h||n)&&r.isPrimaryClient){const f=h?!h.fromCache:(m=n==null?void 0:n.targetChanges.get(d.targetId))==null?void 0:m.current;r.sharedClientState.updateQueryState(d.targetId,f?"current":"not-current")}if(h){i.push(h);const f=NN.As(d.targetId,h);a.push(f)}})))})),await Promise.all(o),r.Pu.H_(i),await(async function(d,h){const m=yt(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(f=>ve.forEach(h,(g=>ve.forEach(g.Es,(x=>m.persistence.referenceDelegate.addReference(f,g.targetId,x))).next((()=>ve.forEach(g.ds,(x=>m.persistence.referenceDelegate.removeReference(f,g.targetId,x)))))))))}catch(f){if(!Bd(f))throw f;ze(_N,"Failed to update sequence numbers: "+f)}for(const f of h){const g=f.targetId;if(!f.fromCache){const x=m.Ms.get(g),_=x.snapshotVersion,j=x.withLastLimboFreeSnapshotVersion(_);m.Ms=m.Ms.insert(g,j)}}})(r.localStore,a))}async function ere(t,e){const n=yt(t);if(!n.currentUser.isEqual(e)){ze(RN,"User change. New user:",e.toKey());const r=await g5(n.localStore,e);n.currentUser=e,(function(a,o){a.mu.forEach((c=>{c.forEach((d=>{d.reject(new Le(ge.CANCELLED,o))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Nf(n,r.Ls)}}function tre(t,e){const n=yt(t),r=n.Au.get(e);if(r&&r.hu)return Rt().add(r.key);{let i=Rt();const a=n.Iu.get(e);if(!a)return i;for(const o of a){const c=n.Tu.get(o);i=i.unionWith(c.view.nu)}return i}}function L5(t){const e=yt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=R5.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tre.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Yne.bind(null,e),e.Pu.H_=Fne.bind(null,e.eventManager),e.Pu.yu=Vne.bind(null,e.eventManager),e}function nre(t){const e=yt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Jne.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Xne.bind(null,e),e}class vx{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=yy(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return ane(this.persistence,new rne,e.initialUser,this.serializer)}Cu(e){return new p5(jN.mi,this.serializer)}Du(e){return new mne}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vx.provider={build:()=>new vx};class rre extends vx{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Yt(this.persistence.referenceDelegate instanceof xx,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Bte(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?is.withCacheSize(this.cacheSizeBytes):is.DEFAULT;return new p5((r=>xx.mi(r,n)),this.serializer)}}class Yw{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>_T(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ere.bind(null,this.syncEngine),await Mne(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new One})()}createDatastore(e){const n=yy(e.databaseInfo.databaseId),r=(function(a){return new yne(a)})(e.databaseInfo);return(function(a,o,c,d){return new jne(a,o,c,d)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,o,c){return new _ne(r,i,a,o,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>_T(this.syncEngine,n,0)),(function(){return yT.v()?new yT:new fne})())}createSyncEngine(e,n){return(function(i,a,o,c,d,h,m){const f=new $ne(i,a,o,c,d,h);return m&&(f.gu=!0),f})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const a=yt(i);ze(Tc,"RemoteStore shutting down."),a.Ea.add(5),await jf(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Yw.provider={build:()=>new Yw};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):io("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl="FirestoreClient";class sre{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ss.UNAUTHENTICATED,this.clientId=cN.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async o=>{ze(bl,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(ze(bl,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ha;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=AN(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function ob(t,e){t.asyncQueue.verifyOperationInProgress(),ze(bl,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await g5(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function ET(t,e){t.asyncQueue.verifyOperationInProgress();const n=await ire(t);ze(bl,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>bT(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>bT(e.remoteStore,i))),t._onlineComponents=e}async function ire(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ze(bl,"Using user provided OfflineComponentProvider");try{await ob(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ge.FAILED_PRECONDITION||i.code===ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Um("Error using user provided cache. Falling back to memory cache: "+n),await ob(t,new vx)}}else ze(bl,"Using default OfflineComponentProvider"),await ob(t,new rre(void 0));return t._offlineComponents}async function F5(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ze(bl,"Using user provided OnlineComponentProvider"),await ET(t,t._uninitializedComponentsProvider._online)):(ze(bl,"Using default OnlineComponentProvider"),await ET(t,new Yw))),t._onlineComponents}function are(t){return F5(t).then((e=>e.syncEngine))}async function V5(t){const e=await F5(t),n=e.eventManager;return n.onListen=qne.bind(null,e.syncEngine),n.onUnlisten=Kne.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Hne.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Gne.bind(null,e.syncEngine),n}function ore(t,e,n={}){const r=new Ha;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,c,d,h){const m=new O5({next:g=>{m.Nu(),o.enqueueAndForget((()=>C5(a,f)));const x=g.docs.has(c);!x&&g.fromCache?h.reject(new Le(ge.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&g.fromCache&&d&&d.source==="server"?h.reject(new Le(ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(g)},error:g=>h.reject(g)}),f=new k5(pN(c.path),m,{includeMetadataChanges:!0,qa:!0});return E5(a,f)})(await V5(t),t.asyncQueue,e,n,r))),r.promise}function lre(t,e,n={}){const r=new Ha;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,c,d,h){const m=new O5({next:g=>{m.Nu(),o.enqueueAndForget((()=>C5(a,f))),g.fromCache&&d.source==="server"?h.reject(new Le(ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(g)},error:g=>h.reject(g)}),f=new k5(c,m,{includeMetadataChanges:!0,qa:!0});return E5(a,f)})(await V5(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U5(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cre="firestore.googleapis.com",kT=!0;class TT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Le(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cre,this.ssl=kT}else this.host=e.host,this.ssl=e.ssl??kT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=m5;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<f5)throw new Le(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}See("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=U5(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Le(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Le(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Le(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class DN{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new TT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Le(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Le(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new TT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new gee;switch(r.type){case"firstParty":return new vee(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Le(ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=CT.get(n);r&&(ze("ComponentProvider","Removing Datastore"),CT.delete(n),r.terminate())})(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Bc(this.firestore,e,this._query)}}class Vn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new il(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vn(this.firestore,e,this._key)}toJSON(){return{type:Vn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(vf(n,Vn._jsonSchema))return new Vn(e,r||null,new nt(ln.fromString(n.referencePath)))}}Vn._jsonSchemaVersion="firestore/documentReference/1.0",Vn._jsonSchema={type:Qn("string",Vn._jsonSchemaVersion),referencePath:Qn("string")};class il extends Bc{constructor(e,n,r){super(e,n,pN(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vn(this.firestore,null,new nt(e))}withConverter(e){return new il(this.firestore,e,this._path)}}function Ac(t,e,...n){if(t=Cn(t),EM("collection","path",e),t instanceof DN){const r=ln.fromString(e,...n);return Bk(r),new il(t,null,r)}{if(!(t instanceof Vn||t instanceof il))throw new Le(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ln.fromString(e,...n));return Bk(r),new il(t.firestore,null,r)}}function wl(t,e,...n){if(t=Cn(t),arguments.length===1&&(e=cN.newId()),EM("doc","path",e),t instanceof DN){const r=ln.fromString(e,...n);return zk(r),new Vn(t,null,new nt(r))}{if(!(t instanceof Vn||t instanceof il))throw new Le(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ln.fromString(e,...n));return zk(r),new Vn(t.firestore,t instanceof il?t.converter:null,new nt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="AsyncQueue";class IT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new y5(this,"async_queue_retry"),this._c=()=>{const r=ab();r&&ze(AT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=ab();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ab();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ha;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Bd(e))throw e;ze(AT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,io("INTERNAL UNHANDLED ERROR: ",RT(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=TN.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&at(47125,{Pc:RT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function RT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class $c extends DN{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new IT,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new IT(e),this._firestoreClient=void 0,await e}}}function ure(t,e,n){n||(n=dx);const r=iy(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),a=r.getOptions(n);if(Sc(a,e))return i;throw new Le(ge.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new Le(ge.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<f5)throw new Le(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&El(e.host)&&Yj(e.host),r.initialize({options:e,instanceIdentifier:n})}function MN(t){if(t._terminated)throw new Le(ge.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||dre(t),t._firestoreClient}function dre(t){var r,i,a;const e=t._freezeSettings(),n=(function(c,d,h,m){return new Lee(c,d,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,U5(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new sre(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(c){const d=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(d),_online:d}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ks(yr.fromBase64String(e))}catch(n){throw new Le(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ks(yr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ks._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(vf(e,Ks._jsonSchema))return Ks.fromBase64String(e.bytes)}}Ks._jsonSchemaVersion="firestore/bytes/1.0",Ks._jsonSchema={type:Qn("string",Ks._jsonSchemaVersion),bytes:Qn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Le(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Le(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Le(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return It(this._lat,e._lat)||It(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ia._jsonSchemaVersion}}static fromJSON(e){if(vf(e,ia._jsonSchema))return new ia(e.latitude,e.longitude)}}ia._jsonSchemaVersion="firestore/geoPoint/1.0",ia._jsonSchema={type:Qn("string",ia._jsonSchemaVersion),latitude:Qn("number"),longitude:Qn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:aa._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(vf(e,aa._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new aa(e.vectorValues);throw new Le(ge.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}aa._jsonSchemaVersion="firestore/vectorValue/1.0",aa._jsonSchema={type:Qn("string",aa._jsonSchemaVersion),vectorValues:Qn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hre=/^__.*__$/;class mre{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Tl(e,this.data,this.fieldMask,n,this.fieldTransforms):new bf(e,this.data,n,this.fieldTransforms)}}class z5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Tl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function B5(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw at(40011,{Ac:t})}}class ON{constructor(e,n,r,i,a,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ON({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return bx(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(B5(this.Ac)&&hre.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class fre{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||yy(e)}Cc(e,n,r,i=!1){return new ON({Ac:e,methodName:n,Dc:r,path:gr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jy(t){const e=t._freezeSettings(),n=yy(t._databaseId);return new fre(t._databaseId,!!e.ignoreUndefinedProperties,n)}function $5(t,e,n,r,i,a={}){const o=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);FN("Data must be an object, but it was:",o,r);const c=q5(r,o);let d,h;if(a.merge)d=new Ts(o.fieldMask),h=o.fieldTransforms;else if(a.mergeFields){const m=[];for(const f of a.mergeFields){const g=Jw(e,f,n);if(!o.contains(g))throw new Le(ge.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);W5(m,g)||m.push(g)}d=new Ts(m),h=o.fieldTransforms.filter((f=>d.covers(f.field)))}else d=null,h=o.fieldTransforms;return new mre(new as(c),d,h)}class Ny extends LN{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ny}}function pre(t,e,n,r){const i=t.Cc(1,e,n);FN("Data must be an object, but it was:",i,r);const a=[],o=as.empty();kl(r,((d,h)=>{const m=VN(e,d,n);h=Cn(h);const f=i.yc(m);if(h instanceof Ny)a.push(m);else{const g=_f(h,f);g!=null&&(a.push(m),o.set(m,g))}}));const c=new Ts(a);return new z5(o,c,i.fieldTransforms)}function gre(t,e,n,r,i,a){const o=t.Cc(1,e,n),c=[Jw(e,r,n)],d=[i];if(a.length%2!=0)throw new Le(ge.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<a.length;g+=2)c.push(Jw(e,a[g])),d.push(a[g+1]);const h=[],m=as.empty();for(let g=c.length-1;g>=0;--g)if(!W5(h,c[g])){const x=c[g];let _=d[g];_=Cn(_);const j=o.yc(x);if(_ instanceof Ny)h.push(x);else{const w=_f(_,j);w!=null&&(h.push(x),m.set(x,w))}}const f=new Ts(h);return new z5(m,f,o.fieldTransforms)}function xre(t,e,n,r=!1){return _f(n,t.Cc(r?4:3,e))}function _f(t,e){if(H5(t=Cn(t)))return FN("Unsupported field value:",e,t),q5(t,e);if(t instanceof LN)return(function(r,i){if(!B5(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let o=0;for(const c of r){let d=_f(c,i.wc(o));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),o++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=Cn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ite(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=pn.fromDate(r);return{timestampValue:gx(i.serializer,a)}}if(r instanceof pn){const a=new pn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:gx(i.serializer,a)}}if(r instanceof ia)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ks)return{bytesValue:a5(i.serializer,r._byteString)};if(r instanceof Vn){const a=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(a))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:bN(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof aa)return(function(o,c){return{mapValue:{fields:{[MM]:{stringValue:LM},[hx]:{arrayValue:{values:o.toArray().map((h=>{if(typeof h!="number")throw c.Sc("VectorValues must only contain numeric values.");return gN(c.serializer,h)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${cy(r)}`)})(t,e)}function q5(t,e){const n={};return TM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):kl(t,((r,i)=>{const a=_f(i,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function H5(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof pn||t instanceof ia||t instanceof Ks||t instanceof Vn||t instanceof LN||t instanceof aa)}function FN(t,e,n){if(!H5(n)||!CM(n)){const r=cy(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Jw(t,e,n){if((e=Cn(e))instanceof wy)return e._internalPath;if(typeof e=="string")return VN(t,e);throw bx("Field path arguments must be of type string or ",t,!1,void 0,n)}const yre=new RegExp("[~\\*/\\[\\]]");function VN(t,e,n){if(e.search(yre)>=0)throw bx(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new wy(...e.split("."))._internalPath}catch{throw bx(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function bx(t,e,n,r,i){const a=r&&!r.isEmpty(),o=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(a||o)&&(d+=" (found",a&&(d+=` in field ${r}`),o&&(d+=` in document ${i}`),d+=")"),new Le(ge.INVALID_ARGUMENT,c+t+d)}function W5(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new vre(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(UN("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class vre extends K5{data(){return super.data()}}function UN(t,e){return typeof e=="string"?VN(t,e):e instanceof wy?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bre(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Le(ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zN{}class G5 extends zN{}function BN(t,e,...n){let r=[];e instanceof zN&&r.push(e),r=r.concat(n),(function(a){const o=a.filter((d=>d instanceof qN)).length,c=a.filter((d=>d instanceof $N)).length;if(o>1||o>0&&c>0)throw new Le(ge.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class $N extends G5{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new $N(e,n,r)}_apply(e){const n=this._parse(e);return Q5(e._query,n),new Bc(e.firestore,e.converter,Uw(e._query,n))}_parse(e){const n=jy(e.firestore);return(function(a,o,c,d,h,m,f){let g;if(h.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new Le(ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){DT(f,m);const _=[];for(const j of f)_.push(PT(d,a,j));g={arrayValue:{values:_}}}else g=PT(d,a,f)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||DT(f,m),g=xre(c,o,f,m==="in"||m==="not-in");return Gn.create(h,m,g)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class qN extends zN{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new qN(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:bi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let o=i;const c=a.getFlattenedFilters();for(const d of c)Q5(o,d),o=Uw(o,d)})(e._query,n),new Bc(e.firestore,e.converter,Uw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class HN extends G5{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new HN(e,n)}_apply(e){const n=(function(i,a,o){if(i.startAt!==null)throw new Le(ge.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Le(ge.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Hm(a,o)})(e._query,this._field,this._direction);return new Bc(e.firestore,e.converter,(function(i,a){const o=i.explicitOrderBy.concat([a]);return new $d(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function WN(t,e="asc"){const n=e,r=UN("orderBy",t);return HN._create(r,n)}function PT(t,e,n){if(typeof(n=Cn(n))=="string"){if(n==="")throw new Le(ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qM(e)&&n.indexOf("/")!==-1)throw new Le(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ln.fromString(n));if(!nt.isDocumentKey(r))throw new Le(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Yk(t,new nt(r))}if(n instanceof Vn)return Yk(t,n._key);throw new Le(ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cy(n)}.`)}function DT(t,e){if(!Array.isArray(t)||t.length===0)throw new Le(ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Q5(t,e){const n=(function(i,a){for(const o of i)for(const c of o.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Le(ge.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Le(ge.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class wre{convertValue(e,n="none"){switch(yl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(xl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw at(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return kl(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){var r,i,a;const n=(a=(i=(r=e.fields)==null?void 0:r[hx].arrayValue)==null?void 0:i.values)==null?void 0:a.map((o=>Fn(o.doubleValue)));return new aa(n)}convertGeoPoint(e){return new ia(Fn(e.latitude),Fn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=hy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Bm(e));default:return null}}convertTimestamp(e){const n=gl(e);return new pn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ln.fromString(e);Yt(h5(r),9688,{name:e});const i=new $m(r.get(1),r.get(3)),a=new nt(r.popFirst(5));return i.isEqual(n)||io(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y5(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class tm{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yc extends K5{constructor(e,n,r,i,a,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new kg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(UN("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Le(ge.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=yc._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}yc._jsonSchemaVersion="firestore/documentSnapshot/1.0",yc._jsonSchema={type:Qn("string",yc._jsonSchemaVersion),bundleSource:Qn("string","DocumentSnapshot"),bundleName:Qn("string"),bundle:Qn("string")};class kg extends yc{data(e={}){return super.data(e)}}class nd{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new tm(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new kg(this._firestore,this._userDataWriter,r.key,r,new tm(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Le(ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((c=>{const d=new kg(i._firestore,i._userDataWriter,c.doc.key,c.doc,new tm(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>a||c.type!==3)).map((c=>{const d=new kg(i._firestore,i._userDataWriter,c.doc.key,c.doc,new tm(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,m=-1;return c.type!==0&&(h=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),m=o.indexOf(c.doc.key)),{type:jre(c.type),doc:d,oldIndex:h,newIndex:m}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Le(ge.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=nd._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=cN.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function jre(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return at(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J5(t){t=ua(t,Vn);const e=ua(t.firestore,$c);return ore(MN(e),t._key).then((n=>_re(e,t,n)))}nd._jsonSchemaVersion="firestore/querySnapshot/1.0",nd._jsonSchema={type:Qn("string",nd._jsonSchemaVersion),bundleSource:Qn("string","QuerySnapshot"),bundleName:Qn("string"),bundle:Qn("string")};class X5 extends wre{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ks(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vn(this.firestore,null,n)}}function wd(t){t=ua(t,Bc);const e=ua(t.firestore,$c),n=MN(e),r=new X5(e);return bre(t._query),lre(n,t._query).then((i=>new nd(e,r,t,i)))}function Z5(t,e,n){t=ua(t,Vn);const r=ua(t.firestore,$c),i=Y5(t.converter,e,n);return _y(r,[$5(jy(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Xs.none())])}function e6(t,e,n,...r){t=ua(t,Vn);const i=ua(t.firestore,$c),a=jy(i);let o;return o=typeof(e=Cn(e))=="string"||e instanceof wy?gre(a,"updateDoc",t._key,e,n,r):pre(a,"updateDoc",t._key,e),_y(i,[o.toMutation(t._key,Xs.exists(!0))])}function Nre(t){return _y(ua(t.firestore,$c),[new xN(t._key,Xs.none())])}function t6(t,e){const n=ua(t.firestore,$c),r=wl(t),i=Y5(t.converter,e);return _y(n,[$5(jy(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Xs.exists(!1))]).then((()=>r))}function _y(t,e){return(function(r,i){const a=new Ha;return r.asyncQueue.enqueueAndForget((async()=>Qne(await are(r),i,a))),a.promise})(MN(t),e)}function _re(t,e,n){const r=n.docs.get(e._key),i=new X5(t);return new yc(t,i,e._key,r,new tm(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Ud=i})(Vc),Ec(new ml("firestore",((r,{instanceIdentifier:i,options:a})=>{const o=r.getProvider("app").getImmediate(),c=new $c(new xee(r.getProvider("auth-internal")),new bee(o,r.getProvider("app-check-internal")),(function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Le(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $m(h.options.projectId,m)})(o,i),o);return a={useFetchStreams:n,...a},c._setSettings(a),c}),"PUBLIC").setMultipleInstances(!0)),ea(Ok,Fk,e),ea(Ok,Fk,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6="firebasestorage.googleapis.com",r6="storageBucket",Sre=120*1e3,Ere=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn extends pa{constructor(e,n,r=0){super(lb(e),`Firebase Storage: ${n} (${lb(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Dn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return lb(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Pn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Pn||(Pn={}));function lb(t){return"storage/"+t}function KN(){const t="An unknown error occurred, please check the error payload for server response.";return new Dn(Pn.UNKNOWN,t)}function Cre(t){return new Dn(Pn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function kre(t){return new Dn(Pn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Tre(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Dn(Pn.UNAUTHENTICATED,t)}function Are(){return new Dn(Pn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Ire(t){return new Dn(Pn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Rre(){return new Dn(Pn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Pre(){return new Dn(Pn.CANCELED,"User canceled the upload/download.")}function Dre(t){return new Dn(Pn.INVALID_URL,"Invalid URL '"+t+"'.")}function Mre(t){return new Dn(Pn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Lre(){return new Dn(Pn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+r6+"' property when initializing the app?")}function Ore(){return new Dn(Pn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Fre(){return new Dn(Pn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Vre(t){return new Dn(Pn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Xw(t){return new Dn(Pn.INVALID_ARGUMENT,t)}function s6(){return new Dn(Pn.APP_DELETED,"The Firebase app was deleted.")}function Ure(t){return new Dn(Pn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function xm(t,e){return new Dn(Pn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Vh(t){throw new Dn(Pn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=As.makeFromUrl(e,n)}catch{return new As(e,"")}if(r.path==="")return r;throw Mre(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(T){T.path.charAt(T.path.length-1)==="/"&&(T.path_=T.path_.slice(0,-1))}const o="(/(.*))?$",c=new RegExp("^gs://"+i+o,"i"),d={bucket:1,path:3};function h(T){T.path_=decodeURIComponent(T.path)}const m="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",x=new RegExp(`^https?://${f}/${m}/b/${i}/o${g}`,"i"),_={bucket:1,path:3},j=n===n6?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",N=new RegExp(`^https?://${j}/${i}/${w}`,"i"),A=[{regex:c,indices:d,postModify:a},{regex:x,indices:_,postModify:h},{regex:N,indices:{bucket:1,path:2},postModify:h}];for(let T=0;T<A.length;T++){const D=A[T],F=D.regex.exec(e);if(F){const P=F[D.indices.bucket];let R=F[D.indices.path];R||(R=""),r=new As(P,R),D.postModify(r);break}}if(r==null)throw Dre(e);return r}}class zre{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bre(t,e,n){let r=1,i=null,a=null,o=!1,c=0;function d(){return c===2}let h=!1;function m(...w){h||(h=!0,e.apply(null,w))}function f(w){i=setTimeout(()=>{i=null,t(x,d())},w)}function g(){a&&clearTimeout(a)}function x(w,...N){if(h){g();return}if(w){g(),m.call(null,w,...N);return}if(d()||o){g(),m.call(null,w,...N);return}r<64&&(r*=2);let A;c===1?(c=2,A=0):A=(r+Math.random())*1e3,f(A)}let _=!1;function j(w){_||(_=!0,g(),!h&&(i!==null?(w||(c=2),clearTimeout(i),f(0)):w||(c=1)))}return f(0),a=setTimeout(()=>{o=!0,j(!0)},n),j}function $re(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qre(t){return t!==void 0}function Hre(t){return typeof t=="object"&&!Array.isArray(t)}function GN(t){return typeof t=="string"||t instanceof String}function MT(t){return QN()&&t instanceof Blob}function QN(){return typeof Blob<"u"}function LT(t,e,n,r){if(r<e)throw Xw(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Xw(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function i6(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var vc;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(vc||(vc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wre(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kre{constructor(e,n,r,i,a,o,c,d,h,m,f,g=!0,x=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=c,this.errorCallback_=d,this.timeout_=h,this.progressCallback_=m,this.connectionFactory_=f,this.retry=g,this.isUsingEmulator=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,j)=>{this.resolve_=_,this.reject_=j,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new eg(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=c=>{const d=c.loaded,h=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,h)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const c=a.getErrorCode()===vc.NO_ERROR,d=a.getStatus();if(!c||Wre(d,this.additionalRetryCodes_)&&this.retry){const m=a.getErrorCode()===vc.ABORT;r(!1,new eg(!1,null,m));return}const h=this.successCodes_.indexOf(d)!==-1;r(!0,new eg(h,a))})},n=(r,i)=>{const a=this.resolve_,o=this.reject_,c=i.connection;if(i.wasSuccessCode)try{const d=this.callback_(c,c.getResponse());qre(d)?a(d):a()}catch(d){o(d)}else if(c!==null){const d=KN();d.serverResponse=c.getErrorText(),this.errorCallback_?o(this.errorCallback_(c,d)):o(d)}else if(i.canceled){const d=this.appDelete_?s6():Pre();o(d)}else{const d=Rre();o(d)}};this.canceled_?n(!1,new eg(!1,null,!0)):this.backoffId_=Bre(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&$re(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class eg{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Gre(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Qre(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Yre(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Jre(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Xre(t,e,n,r,i,a,o=!0,c=!1){const d=i6(t.urlParams),h=t.url+d,m=Object.assign({},t.headers);return Yre(m,e),Gre(m,n),Qre(m,a),Jre(m,r),new Kre(h,t.method,m,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zre(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function ese(...t){const e=Zre();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(QN())return new Blob(t);throw new Dn(Pn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function tse(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nse(t){if(typeof atob>"u")throw Vre("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class cb{constructor(e,n){this.data=e,this.contentType=n||null}}function rse(t,e){switch(t){case Qi.RAW:return new cb(a6(e));case Qi.BASE64:case Qi.BASE64URL:return new cb(o6(t,e));case Qi.DATA_URL:return new cb(ise(e),ase(e))}throw KN()}function a6(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,o=t.charCodeAt(++n);r=65536|(a&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function sse(t){let e;try{e=decodeURIComponent(t)}catch{throw xm(Qi.DATA_URL,"Malformed data URL.")}return a6(e)}function o6(t,e){switch(t){case Qi.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw xm(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Qi.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw xm(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=nse(e)}catch(i){throw i.message.includes("polyfill")?i:xm(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class l6{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw xm(Qi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=ose(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function ise(t){const e=new l6(t);return e.base64?o6(Qi.BASE64,e.rest):sse(e.rest)}function ase(t){return new l6(t).contentType}function ose(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,n){let r=0,i="";MT(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(MT(this.data_)){const r=this.data_,i=tse(r,e,n);return i===null?null:new Go(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Go(r,!0)}}static getBlob(...e){if(QN()){const n=e.map(r=>r instanceof Go?r.data_:r);return new Go(ese.apply(null,n))}else{const n=e.map(o=>GN(o)?rse(Qi.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let a=0;return n.forEach(o=>{for(let c=0;c<o.length;c++)i[a++]=o[c]}),new Go(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c6(t){let e;try{e=JSON.parse(t)}catch{return null}return Hre(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lse(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function cse(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function u6(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function use(t,e){return e}class Ur{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||use}}let tg=null;function dse(t){return!GN(t)||t.length<2?t:u6(t)}function d6(){if(tg)return tg;const t=[];t.push(new Ur("bucket")),t.push(new Ur("generation")),t.push(new Ur("metageneration")),t.push(new Ur("name","fullPath",!0));function e(a,o){return dse(o)}const n=new Ur("name");n.xform=e,t.push(n);function r(a,o){return o!==void 0?Number(o):o}const i=new Ur("size");return i.xform=r,t.push(i),t.push(new Ur("timeCreated")),t.push(new Ur("updated")),t.push(new Ur("md5Hash",null,!0)),t.push(new Ur("cacheControl",null,!0)),t.push(new Ur("contentDisposition",null,!0)),t.push(new Ur("contentEncoding",null,!0)),t.push(new Ur("contentLanguage",null,!0)),t.push(new Ur("contentType",null,!0)),t.push(new Ur("metadata","customMetadata",!0)),tg=t,tg}function hse(t,e){function n(){const r=t.bucket,i=t.fullPath,a=new As(r,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function mse(t,e,n){const r={};r.type="file";const i=n.length;for(let a=0;a<i;a++){const o=n[a];r[o.local]=o.xform(r,e[o.server])}return hse(r,t),r}function h6(t,e,n){const r=c6(e);return r===null?null:mse(t,r,n)}function fse(t,e,n,r){const i=c6(e);if(i===null||!GN(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const o=encodeURIComponent;return a.split(",").map(h=>{const m=t.bucket,f=t.fullPath,g="/b/"+o(m)+"/o/"+o(f),x=YN(g,n,r),_=i6({alt:"media",token:h});return x+_})[0]}function pse(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class m6{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f6(t){if(!t)throw KN()}function gse(t,e){function n(r,i){const a=h6(t,i,e);return f6(a!==null),a}return n}function xse(t,e){function n(r,i){const a=h6(t,i,e);return f6(a!==null),fse(a,i,t.host,t._protocol)}return n}function p6(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Are():i=Tre():n.getStatus()===402?i=kre(t.bucket):n.getStatus()===403?i=Ire(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function yse(t){const e=p6(t);function n(r,i){let a=e(r,i);return r.getStatus()===404&&(a=Cre(t.path)),a.serverResponse=i.serverResponse,a}return n}function vse(t,e,n){const r=e.fullServerUrl(),i=YN(r,t.host,t._protocol),a="GET",o=t.maxOperationRetryTime,c=new m6(i,a,xse(t,n),o);return c.errorHandler=yse(e),c}function bse(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function wse(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=bse(null,e)),r}function jse(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function c(){let A="";for(let T=0;T<2;T++)A=A+Math.random().toString().slice(2);return A}const d=c();o["Content-Type"]="multipart/related; boundary="+d;const h=wse(e,r,i),m=pse(h,n),f="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+m+`\r
--`+d+`\r
Content-Type: `+h.contentType+`\r
\r
`,g=`\r
--`+d+"--",x=Go.getBlob(f,r,g);if(x===null)throw Ore();const _={name:h.fullPath},j=YN(a,t.host,t._protocol),w="POST",N=t.maxUploadRetryTime,E=new m6(j,w,gse(t,n),N);return E.urlParams=_,E.headers=o,E.body=x.uploadData(),E.errorHandler=p6(e),E}class Nse{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=vc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=vc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=vc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,a){if(this.sent_)throw Vh("cannot .send() more than once");if(El(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const o in a)a.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,a[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Vh("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Vh("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Vh("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Vh("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class _se extends Nse{initXhr(){this.xhr_.responseType="text"}}function g6(){return new _se}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,n){this._service=e,n instanceof As?this._location=n:this._location=As.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ic(e,n)}get root(){const e=new As(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return u6(this._location.path)}get storage(){return this._service}get parent(){const e=lse(this._location.path);if(e===null)return null;const n=new As(this._location.bucket,e);return new Ic(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Ure(e)}}function Sse(t,e,n){t._throwIfRoot("uploadBytes");const r=jse(t.storage,t._location,d6(),new Go(e,!0),n);return t.storage.makeRequestWithTokens(r,g6).then(i=>({metadata:i,ref:t}))}function Ese(t){t._throwIfRoot("getDownloadURL");const e=vse(t.storage,t._location,d6());return t.storage.makeRequestWithTokens(e,g6).then(n=>{if(n===null)throw Fre();return n})}function Cse(t,e){const n=cse(t._location.path,e),r=new As(t._location.bucket,n);return new Ic(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kse(t){return/^[A-Za-z]+:\/\//.test(t)}function Tse(t,e){return new Ic(t,e)}function x6(t,e){if(t instanceof JN){const n=t;if(n._bucket==null)throw Lre();const r=new Ic(n,n._bucket);return e!=null?x6(r,e):r}else return e!==void 0?Cse(t,e):t}function Ase(t,e){if(e&&kse(e)){if(t instanceof JN)return Tse(t,e);throw Xw("To use ref(service, url), the first argument must be a Storage instance.")}else return x6(t,e)}function OT(t,e){const n=e==null?void 0:e[r6];return n==null?null:As.makeFromBucketSpec(n,t)}function Ise(t,e,n,r={}){t.host=`${e}:${n}`;const i=El(e);i&&(Yj(`https://${t.host}/b`),AD("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:jY(a,t.app.options.projectId))}class JN{constructor(e,n,r,i,a,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=o,this._bucket=null,this._host=n6,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Sre,this._maxUploadRetryTime=Ere,this._requests=new Set,i!=null?this._bucket=As.makeFromBucketSpec(i,this._host):this._bucket=OT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=As.makeFromBucketSpec(this._url,e):this._bucket=OT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){LT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){LT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(ks(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ic(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new zre(s6());{const o=Xre(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const FT="@firebase/storage",VT="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y6="storage";function Rse(t,e,n){return t=Cn(t),Sse(t,e,n)}function Pse(t){return t=Cn(t),Ese(t)}function Dse(t,e){return t=Cn(t),Ase(t,e)}function Mse(t=DD(),e){t=Cn(t);const r=iy(t,y6).getImmediate({identifier:e}),i=bY("storage");return i&&Lse(r,...i),r}function Lse(t,e,n,r={}){Ise(t,e,n,r)}function Ose(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new JN(n,r,i,e,Vc)}function Fse(){Ec(new ml(y6,Ose,"PUBLIC").setMultipleInstances(!0)),ea(FT,VT,""),ea(FT,VT,"esm2020")}Fse();const Vse={BASE_URL:"/imediaweb/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_ADMIN_EMAIL:"huzaify786@gmail.com",VITE_FIREBASE_API_KEY:"AIzaSyDLi7mVwWnHp_jFlo6KfIXMZEu1iGpA-YE",VITE_FIREBASE_APP_ID:"1:947105835283:web:b06706b15af28b4c3f12e6",VITE_FIREBASE_AUTH_DOMAIN:"studio-1726517794-3d5f0.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"947105835283",VITE_FIREBASE_PROJECT_ID:"studio-1726517794-3d5f0",VITE_FIREBASE_STORAGE_BUCKET:"studio-1726517794-3d5f0.appspot.com",VITE_USE_BACKEND:"false"};let ng,UT,Tg;const Ag="false".toLowerCase()==="true"||!1,ub={apiKey:"AIzaSyDLi7mVwWnHp_jFlo6KfIXMZEu1iGpA-YE",authDomain:"studio-1726517794-3d5f0.firebaseapp.com",projectId:"studio-1726517794-3d5f0",storageBucket:"studio-1726517794-3d5f0.appspot.com",messagingSenderId:"947105835283",appId:"1:947105835283:web:b06706b15af28b4c3f12e6"};function Ut(){if(!ng&&ub.apiKey&&ub.projectId){ng=PD(ub),UT=hee(ng);const t=typeof import.meta<"u"&&Vse&&!1;try{fee(t?"error":"silent")}catch{}}return{app:ng,auth:UT,db:Tg}}function pi(){const{app:t}=Ut();if(!t)throw new Error("Firebase not configured");return Tg||(Tg=ure(t,{experimentalAutoDetectLongPolling:!0,useFetchStreams:!1})),Tg}async function v6(t,e){const{auth:n}=Ut();if(!n)throw new Error("Firebase not configured");return(await lM(n,t,e)).user}async function b6(t,e){const{auth:n}=Ut();if(!n)throw new Error("Firebase not configured");return(await lM(n,t,e)).user}async function w6(){const{auth:t}=Ut();t&&await tZ(t)}async function j6(t,e){const{auth:n}=Ut();if(!n)throw new Error("Firebase not configured");return(await YX(n,t,e)).user}async function XN(t,e){const n=pi(),r=wl(n,"users",t);await Z5(r,{uid:t,...e||{},updatedAt:new Date},{merge:!0})}async function Hd(t){const e=pi(),n=wl(e,"users",t),r=await J5(n);return r.exists()?r.data():null}function qc(t){const{auth:e}=Ut();return e?eZ(e,t):()=>{}}async function N6(t){const{auth:e}=Ut();if(!e)throw new Error("Firebase not configured");return iN(e,t)}async function _6(){const{auth:t}=Ut(),e=t==null?void 0:t.currentUser;if(!e)throw new Error("No authenticated user to verify");await JX(e)}const wx={async add(t){var r,i;if(Ag)try{const{auth:a}=Ut(),o=await((i=(r=a==null?void 0:a.currentUser)==null?void 0:r.getIdToken)==null?void 0:i.call(r)),d=await fetch("/api/messages",{method:"POST",headers:{"Content-Type":"application/json",...o?{Authorization:`Bearer ${o}`}:{}},body:JSON.stringify({message:t})});if(!d.ok)throw new Error(`Backend error: ${d.status}`);return await d.json()}catch(a){console.warn("Backend add failed, falling back to Firestore:",(a==null?void 0:a.message)||a)}const e=pi(),n=Ac(e,"messages");return t6(n,t)},async list(){var i,a;if(Ag)try{const{auth:o}=Ut(),c=await((a=(i=o==null?void 0:o.currentUser)==null?void 0:i.getIdToken)==null?void 0:a.call(i)),h=await fetch("/api/messages",{headers:{...c?{Authorization:`Bearer ${c}`}:{}}});if(!h.ok)throw new Error(`Backend error: ${h.status}`);return await h.json()}catch(o){console.warn("Backend list failed, falling back to Firestore:",(o==null?void 0:o.message)||o)}const t=pi(),e=Ac(t,"messages"),n=BN(e,WN("createdAt","desc"));return(await wd(n)).docs.map(o=>({id:o.id,...o.data()}))},async markRead(t,e=!0){var i,a;if(Ag)try{const{auth:o}=Ut(),c=await((a=(i=o==null?void 0:o.currentUser)==null?void 0:i.getIdToken)==null?void 0:a.call(i)),h=await fetch("/api/messages",{method:"PATCH",headers:{"Content-Type":"application/json",...c?{Authorization:`Bearer ${c}`}:{}},body:JSON.stringify({id:t,read:e})});if(!h.ok)throw new Error(`Backend error: ${h.status}`);return await h.json()}catch(o){console.warn("Backend markRead failed, falling back to Firestore:",(o==null?void 0:o.message)||o)}const n=pi(),r=wl(n,"messages",t);await e6(r,{read:e})}},ZN={async list(){var r,i;if(Ag)try{const{auth:a}=Ut(),o=await((i=(r=a==null?void 0:a.currentUser)==null?void 0:r.getIdToken)==null?void 0:i.call(r)),d=await fetch("/api/users",{headers:{...o?{Authorization:`Bearer ${o}`}:{}}});if(!d.ok)throw new Error(`Backend error: ${d.status}`);return await d.json()}catch(a){console.warn("Backend users list failed, falling back to Firestore:",(a==null?void 0:a.message)||a)}const t=pi(),e=Ac(t,"users");return(await wd(e)).docs.map(a=>({id:a.id,...a.data()}))}};function rg(){try{const t=localStorage.getItem("local_sponsors");return t?JSON.parse(t):[]}catch{return[]}}function db(t){try{localStorage.setItem("local_sponsors",JSON.stringify(t))}catch{}}const Use=()=>{var t,e;return((e=(t=globalThis.crypto)==null?void 0:t.randomUUID)==null?void 0:e.call(t))||`local_${Date.now()}`},Wu={async add(t){let e;try{e=pi()}catch{}if(!e){const i=rg(),a=Use(),o=[...i,{...t,_localId:a}];return db(o),{id:a}}const n=Ac(e,"sponsors");return{id:(await t6(n,t)).id}},async list(){let t;try{t=pi()}catch{}if(!t)return rg();const e=Ac(t,"sponsors");let n;try{const r=BN(e,WN("order","asc"));n=await wd(r)}catch{n=await wd(e)}return n.docs.map(r=>({id:r.id,...r.data()}))},async update(t,e){let n;try{n=pi()}catch{}if(!n){const a=rg().map(o=>o.id===t||o._localId===t?{...o,...e}:o);return db(a),{ok:!0}}const r=wl(n,"sponsors",t);await e6(r,e)},async remove(t){let e;try{e=pi()}catch{}if(!e){const r=rg().filter(i=>i.id!==t&&i._localId!==t);return db(r),{ok:!0}}const n=wl(e,"sponsors",t);await Nre(n)}};async function S6(t,e=""){const{app:n}=Ut();if(!n)throw new Error("Firebase not configured");if(!t)throw new Error("No file provided");const r=Mse(n),i=String(e||t.name||"image").replace(/[^a-z0-9._-]+/gi,"-").toLowerCase(),a=`sponsors/${Date.now()}_${i}`,o=Dse(r,a);return await Rse(o,t),{url:await Pse(o),path:a}}async function jx(){const{auth:t}=Ut(),e=t==null?void 0:t.currentUser;if(!e)return!1;const n="huzaify786@gmail.com".toLowerCase(),r=String(e.email||"").toLowerCase();return n?r===n:!0}const zT=Object.freeze(Object.defineProperty({__proto__:null,adminSignIn:v6,adminSignOut:w6,getDb:pi,getFirebase:Ut,getUserProfile:Hd,isAdminUser:jx,messagesApi:wx,resetPassword:N6,saveUserProfile:XN,sendVerification:_6,signIn:b6,signUp:j6,sponsorsApi:Wu,uploadSponsorImage:S6,usersApi:ZN,watchAuth:qc},Symbol.toStringTag,{value:"Module"})),E6=v.createContext(),zse=()=>{const t=v.useContext(E6);return t||{isPlaying:!1,isMuted:!1,volume:.7,togglePlay:()=>{},toggleMute:()=>{},setVolume:()=>{}}};function C6({children:t,currentPageName:e}){const[n,r]=v.useState(!1),[i,a]=v.useState(null),[o,c]=v.useState(!1),[d,h]=v.useState(null),[m,f]=v.useState(!1),[g,x]=v.useState(!1),[_,j]=v.useState(.7),w=v.useRef(null),[N,E]=v.useState({siteTitle:"Islam Kids Zone",tagline:"Learn, Play & Grow",logoEmoji:"",headerGradient:"from-blue-600 to-purple-600",navActiveGradient:"from-blue-500 to-purple-500",backgroundGradient:"from-blue-50 via-purple-50 to-pink-50",darkModeDefault:!1,showTestBanner:!0,showRadioBar:!0});v.useEffect(()=>{try{const K=localStorage.getItem("siteSettings");if(K){const W=JSON.parse(K);E(B=>({...B,...W}))}}catch{}},[]),v.useEffect(()=>{N.darkModeDefault?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[N.darkModeDefault]);const A=`min-h-screen bg-gradient-to-br ${N.backgroundGradient}`,T=`bg-gradient-to-r ${N.headerGradient} text-white shadow-lg sticky top-0 z-50`,D=N.supportEmail||"imedia786@gmail.com",F=N.radioUrl||"https://a4.asurahosting.com:7820/radio.mp3";v.useEffect(()=>{const K=["Home","About","ContactUs","Welcome","ParentZone","PrivacyPolicy","Games","Leaderboard","Stories","Audio","Learn","Quran","Duas","RecordAndShare","IslamicEncyclopedia","IslamicFacts","ColoringPages","PoetryWriting","Worksheets","MonthlyContest","CreativeCorner","Videos","History","Hadith","Tajweed","LearningPaths","LearningLibrary"];console.log("currentPageName:",e),console.log("publicPages:",K)},[e]),v.useEffect(()=>{w.current&&(w.current.volume=_)},[_]),v.useEffect(()=>{const K=qc(async W=>{try{if(W){c(!0);let B=null;try{B=await Hd(W.uid)}catch{}const q=(B==null?void 0:B.fullName)||(B==null?void 0:B.name)||W.displayName||W.email||"User",X=(B==null?void 0:B.points)||0;h({full_name:q,points:X,email:W.email,uid:W.uid})}else c(!1),h(null)}catch(B){console.warn("Auth/profile load failed:",(B==null?void 0:B.message)||B),c(!!W),h(W?{full_name:W.email||"User",points:0,email:W.email,uid:W.uid}:null)}});return()=>K==null?void 0:K()},[]);const P=()=>{c(!1),h(null)},R=()=>{w.current&&(m?w.current.pause():w.current.play().catch(K=>{console.error("Error playing radio:",K)}),f(!m))},I=()=>{w.current&&(w.current.muted=!g,x(!g))},O=K=>{j(K),w.current&&(w.current.volume=K)},V=[{name:"Home",icon:lz,path:"Home"},{name:"Games",icon:Ga,path:"Games"},{name:"Learning Paths",icon:im,path:"LearningPaths"},{name:"Leaderboard",icon:xr,path:"Leaderboard"},{name:"My Points",icon:Vt,path:"MyPoints"},{name:"Stories",icon:un,path:"Stories"},{name:"Videos",icon:Ba,path:"Videos"},{name:"Audio",icon:zg,path:"Audio"},{name:"Learn",icon:im,dropdown:[{name:"Hadith",path:"Hadith",icon:un},{name:"History",path:"History",icon:nC},{name:"Tajweed",path:"Tajweed",icon:im}]},{name:"Quran",icon:un,dropdown:[{name:"Learn Quran",path:"Quran",icon:un},{name:"Full Quran",path:"FullQuran",icon:nC},{name:"Manzil (17)",path:"Manzil",icon:aC},{name:"Hizb (1240)",path:"Hizb",icon:aC},{name:"Hifz Dashboard",path:"HifzDashboard",icon:C9}]},{name:"Challenges",icon:xr,path:"Challenges"},{name:"Parents",icon:_l,path:"ParentZone"},{name:"Signup",icon:Kb,path:"Signup"},{name:"About",icon:yv,path:"About"}],J=String(e||"").toLowerCase().startsWith("admin")||e==="Assistant"?[...V,{name:"AI Agent / ChatGPT",icon:Td,path:"Assistant"}]:V,ne=()=>{r(!1),a(null)},ce=K=>{a(i===K?null:K)},se={isPlaying:m,isMuted:g,volume:_,togglePlay:R,toggleMute:I,setVolume:O};return s.jsx(E6.Provider,{value:se,children:s.jsxs("div",{className:A,children:[s.jsx("audio",{ref:w,src:F,preload:"none"}),s.jsx("header",{className:T,children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-6 py-3 md:py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Nt,{to:Xe("Home"),className:"flex items-center gap-2 md:gap-3 hover:opacity-90 transition-opacity",children:[s.jsx("div",{className:"text-3xl md:text-4xl",children:N.logoEmoji}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl md:text-2xl font-bold",children:N.siteTitle}),s.jsx("p",{className:"text-xs md:text-sm text-blue-100",children:N.tagline})]})]}),s.jsx("div",{className:"hidden md:flex items-center gap-3",children:o&&d?s.jsx(s.Fragment,{children:s.jsxs(Z2,{children:[s.jsx(ek,{asChild:!0,children:s.jsxs("button",{className:"flex items-center gap-2 bg-white/20 px-4 py-2 rounded-full hover:bg-white/30 transition-colors",children:[s.jsx(YI,{className:"w-4 h-4"}),s.jsxs("div",{className:"text-sm text-left",children:[s.jsx("div",{className:"font-semibold",children:d.full_name||"User"}),s.jsxs("div",{className:"text-xs text-blue-100",children:[d.points||0," points"]})]}),s.jsx(Ku,{className:"w-4 h-4"})]})}),s.jsxs(Sw,{align:"end",className:"w-48",children:[s.jsx(Qh,{asChild:!0,children:s.jsxs(Nt,{to:Xe("MyPoints"),className:"cursor-pointer",children:[s.jsx(Vt,{className:"w-4 h-4 mr-2"}),"My Points"]})}),s.jsx(Qh,{asChild:!0,children:s.jsxs(Nt,{to:Xe("DeleteAccount"),className:"cursor-pointer text-red-600 hover:text-red-700 hover:bg-red-50",children:[s.jsx(hd,{className:"w-4 h-4 mr-2"}),"Delete Account"]})}),s.jsxs(Qh,{onClick:P,className:"cursor-pointer",children:[s.jsx(oC,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})}):null}),s.jsx(G,{variant:"ghost",size:"icon",className:"md:hidden text-white hover:bg-white/20",onClick:()=>r(!n),children:n?s.jsx(qr,{className:"w-6 h-6"}):s.jsx(wz,{className:"w-6 h-6"})})]})})}),s.jsx("nav",{className:"md:hidden bg-white/95 backdrop-blur-sm shadow-sm sticky top-[56px] z-40 border-b border-gray-100",children:s.jsx("div",{className:"max-w-7xl mx-auto px-2",children:s.jsx("div",{className:"flex items-center overflow-x-auto gap-1 py-1.5 scrollbar-hide",children:J.map(K=>{const W=K.icon,B=K.path&&e===K.path;return s.jsx(Nt,{to:K.path?Xe(K.path):"#",onClick:ne,"aria-label":K.name,title:K.name,className:`flex items-center justify-center w-7 h-7 rounded-full whitespace-nowrap transition-all flex-shrink-0 ${B?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow":"bg-white border border-gray-200 text-gray-700"}`,children:s.jsx(W,{className:"w-4 h-4"})},K.path||K.name)})})})}),s.jsx("nav",{className:"hidden md:block bg-white shadow-md sticky top-[68px] z-40",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4",children:s.jsx("div",{className:"flex overflow-x-auto scrollbar-hide gap-1 py-2",children:J.map(K=>{const W=K.icon,B=K.path&&e===K.path;if(K.dropdown&&K.dropdown.length>0){const q=K.dropdown.some(X=>e===X.path);return s.jsxs(Z2,{children:[s.jsx(ek,{asChild:!0,children:s.jsxs("button",{type:"button",className:`flex items-center gap-1.5 px-3 py-2 rounded-lg whitespace-nowrap transition-all flex-shrink-0 ${q?`bg-gradient-to-r ${N.navActiveGradient} text-white shadow-md`:"text-gray-700 hover:bg-gray-100"}`,children:[s.jsx(W,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:K.name}),s.jsx(Ku,{className:"w-3 h-3"})]})}),s.jsx(Sw,{children:K.dropdown.map(X=>{const $=X.icon;return s.jsx(Qh,{asChild:!0,children:s.jsxs(Nt,{to:Xe(X.path),className:"cursor-pointer flex items-center gap-2",children:[$?s.jsx($,{className:"w-4 h-4"}):null,s.jsx("span",{children:X.name})]})},X.path)})})]},K.name)}return s.jsxs(Nt,{to:Xe(K.path),className:`flex items-center gap-1.5 px-3 py-2 rounded-lg whitespace-nowrap transition-all flex-shrink-0 ${B?`bg-gradient-to-r ${N.navActiveGradient} text-white shadow-md`:"text-gray-700 hover:bg-gray-100"}`,children:[s.jsx(W,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:K.name})]},K.path)})})})}),n&&s.jsxs("div",{className:"fixed inset-0 z-[1000] md:hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>r(!1)}),s.jsx("div",{className:"absolute top-0 right-0 h-full w-[280px] bg-white shadow-2xl overflow-y-auto z-[1001]",children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Menu"}),s.jsx(G,{variant:"ghost",size:"icon",onClick:()=>r(!1),children:s.jsx(qr,{className:"w-5 h-5"})})]}),o&&d?s.jsxs("div",{className:"mb-4 pb-4 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3 bg-gradient-to-r from-blue-50 to-purple-500 p-3 rounded-lg",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-2xl",children:d.avatar||""}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-bold text-gray-900",children:d.full_name||"User"}),s.jsx("div",{className:"text-sm text-gray-600",children:d.email}),s.jsxs("div",{className:"text-xs text-blue-600 font-semibold mt-1",children:[" ",d.points||0," points"]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Nt,{to:Xe("MyPoints"),onClick:ne,children:s.jsxs(G,{variant:"default",size:"sm",className:"w-full bg-gradient-to-r from-amber-400 to-amber-500 text-white",children:[s.jsx(Vt,{className:"w-4 h-4 mr-2"}),"My Points"]})}),s.jsx(Nt,{to:Xe("DeleteAccount"),onClick:ne,children:s.jsxs(G,{variant:"outline",size:"sm",className:"w-full text-red-600 border-red-300 hover:bg-red-50",children:[s.jsx(hd,{className:"w-4 h-4 mr-2"}),"Delete Account"]})}),s.jsxs(G,{onClick:P,variant:"outline",size:"sm",className:"w-full",children:[s.jsx(oC,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]}):s.jsxs("div",{className:"mb-4 pb-4 border-b border-gray-200 space-y-2",children:[s.jsx(Nt,{to:Xe("Signup"),onClick:ne,children:s.jsxs(G,{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-blue-500 to-purple-500 text-white font-bold shadow hover:scale-105 transition-transform w-full",children:[s.jsx(Kb,{className:"w-4 h-4 mr-2"}),"Sign up"]})}),s.jsx(Nt,{to:Xe("Login"),onClick:ne,children:s.jsxs(G,{variant:"outline",className:"flex items-center gap-2 px-4 py-2 rounded-lg w-full",children:[s.jsx(H1,{className:"w-4 h-4 mr-2"}),"Login"]})})]}),s.jsx("nav",{className:"space-y-1",children:J.map(K=>{const W=K.icon,B=K.path&&e===K.path;if(K.dropdown&&K.dropdown.length>0){const q=K.dropdown.some($=>e===$.path),X=i===K.name;return s.jsxs("div",{className:"space-y-1",children:[s.jsxs("button",{onClick:()=>ce(K.name),className:`w-full flex items-center justify-between px-4 py-3 rounded-lg transition-all ${q?"bg-gradient-to-r from-blue-500 to-purple-500 text-white":"text-gray-700 hover:bg-gray-100"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(W,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:K.name})]}),s.jsx(Ku,{className:`w-4 h-4 transition-transform ${X?"rotate-180":""}`})]}),X&&s.jsx("div",{className:"ml-4 space-y-1 border-l-2 border-gray-200 pl-2",children:K.dropdown.map($=>{const he=$.icon;return s.jsxs(Nt,{to:Xe($.path),onClick:ne,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all ${e===$.path?"bg-blue-50 text-blue-600 font-medium":"text-gray-600 hover:bg-gray-50"}`,children:[he?s.jsx(he,{className:"w-4 h-4"}):null,s.jsx("span",{children:$.name})]},$.path)})})]},K.name)}return s.jsxs(Nt,{to:Xe(K.path),onClick:ne,className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${B?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-md":"text-gray-700 hover:bg-gray-100"}`,children:[s.jsx(W,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:K.name})]},K.path)})})]})})]}),s.jsxs("main",{className:"max-w-7xl mx-auto px-4 md:px-6 py-4 md:py-6",style:{paddingBottom:m?"100px":"24px"},children:[N.maintenanceMode&&s.jsx("div",{className:"mb-4",children:s.jsx("div",{className:"bg-yellow-100 border-2 border-yellow-300 rounded-lg p-3 shadow-md",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(yv,{className:"w-5 h-5 text-yellow-700 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1 text-sm text-gray-800",children:[s.jsx("strong",{className:"text-yellow-700",children:"Maintenance Mode:"})," Some features may be temporarily unavailable. For support, email ",s.jsx("span",{className:"font-medium",children:D}),N.supportWhatsappNumber&&s.jsxs(s.Fragment,{children:[" or WhatsApp ",s.jsx("span",{className:"font-medium",children:N.supportWhatsappNumber})]}),"."]})]})})}),t,N.showTestBanner&&s.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"mt-8 mb-4",children:s.jsx("div",{className:"bg-gradient-to-r from-blue-100 to-purple-100 border-2 border-blue-300 rounded-lg p-4 shadow-md",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(yv,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),s.jsx("div",{className:"flex-1",children:s.jsxs("p",{className:"text-sm text-gray-800 leading-relaxed",children:[s.jsx("strong",{className:"text-blue-600",children:" Test Mode:"})," We are currently testing the website. If you see any errors, please use the WhatsApp icon on the home page or contact page to message us.",s.jsx("br",{className:"hidden md:block"}),s.jsx("strong",{className:"text-purple-600",children:" Install as App:"}),' To install this website as an app on your device, click on the three dots () if using Chrome and scroll down to "Add to Home Screen."']})})]})})})]}),N.showRadioBar&&m&&s.jsx(ee.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},className:"fixed bottom-0 left-0 right-0 bg-gradient-to-r from-purple-600 to-blue-600 text-white shadow-2xl z-50 border-t-4 border-purple-400",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-3",children:s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[s.jsx(QI,{className:"w-6 h-6 text-white flex-shrink-0 animate-pulse"}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"font-bold text-sm truncate",children:"Islamic Radio 24/7"}),s.jsx("p",{className:"text-xs text-purple-200 truncate",children:"Live Islamic Content"})]})]}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[s.jsxs("div",{className:"hidden sm:flex items-center gap-2 bg-white/20 px-3 py-2 rounded-full backdrop-blur-sm",children:[s.jsx(G,{onClick:I,size:"sm",variant:"ghost",className:"text-white hover:bg-white/20 p-1 h-8 w-8",children:g?s.jsx(Em,{className:"w-4 h-4"}):s.jsx(ll,{className:"w-4 h-4"})}),s.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:_,onChange:K=>O(parseFloat(K.target.value)),className:"w-20 h-2 bg-white/30 rounded-lg appearance-none cursor-pointer accent-white"})]}),s.jsx(G,{onClick:R,size:"sm",className:"bg-white/20 hover:bg-white/30 text-white border-2 border-white/40 rounded-full w-10 h-10 p-0",children:m?s.jsx(Nl,{className:"w-5 h-5"}):s.jsx(cr,{className:"w-5 h-5 ml-0.5"})}),s.jsx(G,{onClick:I,size:"sm",variant:"ghost",className:"sm:hidden text-white hover:bg-white/20 p-2 h-10 w-10",children:g?s.jsx(Em,{className:"w-5 h-5"}):s.jsx(ll,{className:"w-5 h-5"})})]})]})})})]})})}C6.propTypes={children:Tt.node.isRequired,currentPageName:Tt.string};const te=v.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:lt("rounded-xl border bg-card text-card-foreground shadow",t),...e}));te.displayName="Card";const Oe=v.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:lt("flex flex-col space-y-1.5 p-6",t),...e}));Oe.displayName="CardHeader";const Fe=v.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:lt("font-semibold leading-none tracking-tight",t),...e}));Fe.displayName="CardTitle";const Bse=v.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:lt("text-sm text-muted-foreground",t),...e}));Bse.displayName="CardDescription";const re=v.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:lt("p-6 pt-0",t),...e}));re.displayName="CardContent";const $se=v.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:lt("flex items-center p-6 pt-0",t),...e}));$se.displayName="CardFooter";const qse=[{title:"Islamic Games",description:"Fun educational games to learn about Islam",icon:Ga,link:"Games",color:"from-blue-500 to-purple-500"},{title:"Learning Paths",description:"Structured journeys through Islamic knowledge",icon:im,link:"LearningPaths",color:"from-purple-500 to-pink-500"},{title:"Stories",description:"Read inspiring stories from Islamic history",icon:un,link:"Stories",color:"from-green-500 to-teal-500"},{title:"Audio Library",description:"Listen to Quran recitations and Islamic lectures",icon:Qa,link:"Audio",color:"from-purple-500 to-pink-500"},{title:"Videos",description:"Watch educational Islamic videos for kids",icon:Ba,link:"Videos",color:"from-red-500 to-orange-500"},{title:"Leaderboard",description:"Compete with friends and earn badges",icon:xr,link:"Leaderboard",color:"from-amber-500 to-yellow-500"},{title:"Creative Corner",description:"Express yourself through Islamic art & poetry",icon:Ox,link:"CreativeCorner",color:"from-pink-500 to-rose-500"},{title:"Record & Share",description:"Record Quran recitations and nasheeds",icon:ol,link:"RecordAndShare",color:"from-cyan-500 to-blue-500"}],Hse=[{icon:Ad,title:"Love & Compassion",description:"Teaching kindness and mercy to all",color:"text-red-500"},{icon:Vt,title:"Knowledge & Wisdom",description:"Seeking knowledge is obligatory",color:"text-yellow-500"},{icon:Id,title:"Safety & Security",description:"A safe environment for children",color:"text-blue-500"}];function Ig(){const{isPlaying:t,isMuted:e,volume:n,togglePlay:r,toggleMute:i,setVolume:a}=zse(),[o,c]=v.useState(0),[d,h]=v.useState([]),m=[{id:1,text:"Welcome to Islam Kids Zone",subtext:"Learn, Play & Grow in Faith",gradient:"from-blue-600 via-purple-600 to-pink-600"},{id:2,text:'"Whoever guides someone to goodness will have a reward like one who did it."',subtext:" Sahih Muslim",gradient:"from-green-600 via-teal-600 to-cyan-600"},{id:3,text:`"The best among you are those who learn the Qur'an and teach it."`,subtext:" Sahih Bukhari",gradient:"from-amber-600 via-orange-600 to-red-600"},{id:4,text:'"Remember Allah much so that you may be successful."',subtext:" Qur'an 62:10",gradient:"from-purple-600 via-pink-600 to-rose-600"}];v.useEffect(()=>{const g=setInterval(()=>{c(x=>(x+1)%m.length)},5e3);return()=>clearInterval(g)},[]),v.useEffect(()=>{(async()=>{try{const _=(await Wu.list()||[]).filter(j=>(j.active??!0)&&(j.placement||"home")==="home");_.sort((j,w)=>(j.order??0)-(w.order??0)),h(_)}catch{try{const _=localStorage.getItem("homepage_sponsors"),j=_?JSON.parse(_):[],w=(Array.isArray(j)?j:[]).filter(N=>(N.active??!0)&&(N.placement||"home")==="home");w.sort((N,E)=>(N.order??0)-(E.order??0)),h(w)}catch{h([])}}})()},[]);const f=g=>{const x=parseFloat(g.target.value);a(x)};return s.jsxs("div",{className:"min-h-screen",children:[s.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"fixed bottom-6 left-4 md:left-6 z-50",children:s.jsx("a",{href:"https://wa.me/447447999284?text=Assalamu%20Alaikum!%20I%20have%20a%20question%20about%20Islam%20Kids%20Zone.",target:"_blank",rel:"noopener noreferrer",className:"block bg-green-500 hover:bg-green-600 text-white rounded-full p-3 md:p-4 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-110","aria-label":"Chat on WhatsApp",children:s.jsx(Nz,{className:"w-6 h-6 md:w-8 md:h-8"})})}),s.jsxs("section",{className:"relative py-12 md:py-20 px-4 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-100 via-purple-100 to-pink-100 opacity-50"}),s.jsx("div",{className:"max-w-6xl mx-auto relative z-10",children:s.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[s.jsx(ee.div,{className:"text-6xl md:text-8xl mb-6",animate:{rotate:[0,10,-10,0]},transition:{duration:3,repeat:1/0,repeatDelay:2},children:""}),s.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-gray-900 mb-4 md:mb-6",children:["Welcome to ",s.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600",children:"Islam Kids Zone"})]}),s.jsx("p",{className:"text-lg md:text-xl text-gray-700 mb-6 md:mb-8 max-w-3xl mx-auto",children:"A comprehensive Islamic learning platform designed for children. Learn through interactive games, stories, and structured learning paths."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx(Nt,{to:Xe("Games"),children:s.jsxs(G,{size:"lg",className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white text-base md:text-lg px-6 md:px-8 py-4 md:py-6 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[s.jsx(Qs,{className:"mr-2 w-5 h-5 md:w-6 md:h-6"}),"Start Learning"]})}),s.jsx(Nt,{to:Xe("LearningPaths"),children:s.jsxs(G,{size:"lg",variant:"outline",className:"border-2 border-purple-500 text-purple-600 hover:bg-purple-50 text-base md:text-lg px-6 md:px-8 py-4 md:py-6 rounded-full",children:[s.jsx(K1,{className:"mr-2 w-5 h-5 md:w-6 md:h-6"}),"Browse Learning Paths"]})}),s.jsx(Nt,{to:Xe("Signup"),children:s.jsxs(G,{size:"lg",className:"bg-gradient-to-r from-green-500 to-teal-500 hover:from-green-600 hover:to-teal-600 text-white text-base md:text-lg px-6 md:px-8 py-4 md:py-6 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[s.jsx(Kb,{className:"mr-2 w-5 h-5 md:w-6 md:h-6"}),"Signup"]})})]})]})})]}),s.jsx("section",{className:"py-4 px-4 bg-gradient-to-r from-amber-500 to-orange-500",children:s.jsx("div",{className:"max-w-6xl mx-auto",children:s.jsx(ee.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl border-4 border-amber-400",children:s.jsx("div",{className:"p-6 md:p-8",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"text-4xl md:text-5xl flex-shrink-0 animate-bounce",children:""}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx(Qs,{className:"w-6 h-6 text-amber-600"}),"Website Under Development"]}),s.jsxs("div",{className:"space-y-2 text-gray-700",children:[s.jsx("p",{className:"text-base md:text-lg font-semibold",children:" We are currently working on exciting website improvements!"}),s.jsxs("p",{className:"text-sm md:text-base",children:["Our team is enhancing your experience with new features, better performance, and more Islamic content. The website is under construction and testing for the next ",s.jsx("strong",{className:"text-amber-600",children:"two weeks"}),"."]}),s.jsxs("div",{className:"bg-amber-50 border-2 border-amber-200 rounded-lg p-4 mt-4",children:[s.jsxs("p",{className:"text-sm md:text-base font-semibold text-amber-900 flex items-center gap-2",children:[s.jsx(Ad,{className:"w-5 h-5 text-red-500 fill-red-500"}),"Please kindly support us during this time!"]}),s.jsx("p",{className:"text-xs md:text-sm text-amber-800 mt-2",children:"If you encounter any issues or have suggestions, please use the WhatsApp button or contact us. Thank you for your patience and understanding! "})]})]})]})]})})})})}),s.jsx("section",{className:"py-8 md:py-12 px-4",children:s.jsx("div",{className:"max-w-6xl mx-auto",children:s.jsxs("div",{className:"relative overflow-hidden rounded-2xl shadow-2xl",children:[s.jsx(ds,{mode:"wait",children:s.jsx(ee.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:.5},className:`bg-gradient-to-r ${m[o].gradient} flex items-center justify-center p-8 md:p-12`,children:s.jsxs("div",{className:"text-center text-white",children:[s.jsx("h2",{className:"text-2xl md:text-4xl font-bold mb-2",children:m[o].text}),m[o].subtext&&s.jsx("p",{className:"text-sm md:text-lg text-white/90",children:m[o].subtext})]})},o)}),s.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex gap-2 z-10",children:m.map((g,x)=>s.jsx("button",{onClick:()=>c(x),className:`w-2 h-2 md:w-3 md:h-3 rounded-full transition-all ${x===o?"bg-white w-6 md:w-8":"bg-white/50"}`,"aria-label":`Go to slide ${x+1}`},x))})]})})}),s.jsx("section",{className:"py-8 md:py-12 px-4 bg-white",children:s.jsx("div",{className:"max-w-6xl mx-auto",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-center p-6 bg-gradient-to-br from-blue-50 to-purple-50 rounded-2xl border-2 border-blue-200",children:[s.jsx("div",{className:"text-5xl mb-4",children:""}),s.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-2",children:"12+"}),s.jsx("p",{className:"text-gray-600 font-medium",children:"Interactive Games"})]}),s.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-center p-6 bg-gradient-to-br from-green-50 to-teal-50 rounded-2xl border-2 border-green-200",children:[s.jsx("div",{className:"text-5xl mb-4",children:""}),s.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-2",children:"7"}),s.jsx("p",{className:"text-gray-600 font-medium",children:"Learning Paths"})]}),s.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-center p-6 bg-gradient-to-br from-amber-50 to-orange-50 rounded-2xl border-2 border-amber-200",children:[s.jsx("div",{className:"text-5xl mb-4",children:""}),s.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-2",children:"100+"}),s.jsx("p",{className:"text-gray-600 font-medium",children:"Active Learners"})]})]})})}),s.jsx("section",{className:"py-8 md:py-12 px-4 bg-gradient-to-br from-purple-50 to-blue-50",children:s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:s.jsx(te,{className:"border-4 border-purple-300 shadow-2xl bg-gradient-to-r from-purple-600 to-blue-600",children:s.jsxs(re,{className:"p-6 md:p-8",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[s.jsx(QI,{className:"w-10 h-10 md:w-12 md:h-12 text-white"}),s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white",children:"Islamic Radio "})]}),s.jsx("p",{className:"text-lg md:text-xl text-white/90",children:"Listen to Live Islamic Content 24/7"}),s.jsx("p",{className:"text-sm text-white/80 mt-2",children:"Radio continues playing as you browse the site!"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[s.jsx(G,{onClick:r,size:"lg",className:"bg-white/20 hover:bg-white/30 text-white border-4 border-white/40 rounded-full w-20 h-20 md:w-24 md:h-24 p-0 shadow-xl",children:t?s.jsx(Nl,{className:"w-10 h-10 md:w-12 md:h-12"}):s.jsx(cr,{className:"w-10 h-10 md:w-12 md:h-12 ml-1"})}),s.jsxs("div",{className:"flex items-center gap-4 bg-white/20 px-6 py-4 rounded-full backdrop-blur-sm w-full sm:w-auto sm:min-w-[300px]",children:[s.jsx(G,{onClick:i,size:"sm",variant:"ghost",className:"text-white hover:bg-white/20 p-2 h-10 w-10",children:e?s.jsx(Em,{className:"w-6 h-6"}):s.jsx(ll,{className:"w-6 h-6"})}),s.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:n,onChange:f,className:"flex-1 h-3 bg-white/30 rounded-lg appearance-none cursor-pointer accent-white"})]})]}),s.jsx("div",{className:"text-center mt-6",children:s.jsx("p",{className:"text-sm text-white/80",children:t?" Now Playing - Islamic Radio":"Click play to start listening"})})]})})})})}),s.jsx("section",{className:"py-12 md:py-16 px-4 bg-white",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Our Core Values"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Building strong Islamic character and knowledge through engaging content"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8",children:Hse.map((g,x)=>s.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*x},children:s.jsx(te,{className:"h-full hover:shadow-xl transition-shadow duration-300 border-2 hover:border-purple-300",children:s.jsxs(re,{className:"p-6 text-center",children:[s.jsx(g.icon,{className:`w-16 h-16 mx-auto mb-4 ${g.color}`}),s.jsx("h3",{className:"text-xl font-bold mb-2 text-gray-900",children:g.title}),s.jsx("p",{className:"text-gray-600",children:g.description})]})})},x))})]})}),s.jsx("section",{className:"py-12 md:py-16 px-4 bg-gradient-to-br from-blue-50 to-purple-50",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Comprehensive Islamic Learning"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Explore our wide range of educational resources designed for children"})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:qse.map((g,x)=>s.jsx(ee.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1*x},whileHover:{scale:1.05},children:s.jsx(Nt,{to:Xe(g.link),children:s.jsx(te,{className:"h-full hover:shadow-2xl transition-all duration-300 cursor-pointer border-2 hover:border-purple-300",children:s.jsxs(re,{className:"p-6 text-center",children:[s.jsx("div",{className:`w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-r ${g.color} flex items-center justify-center`,children:s.jsx(g.icon,{className:"w-8 h-8 text-white"})}),s.jsx("h3",{className:"text-lg font-bold mb-2 text-gray-900",children:g.title}),s.jsx("p",{className:"text-sm text-gray-600",children:g.description})]})})})},x))})]})}),s.jsx("section",{className:"py-12 md:py-16 px-4 bg-white",children:s.jsx("div",{className:"max-w-6xl mx-auto",children:s.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:s.jsx(te,{className:"border-4 border-amber-400 shadow-2xl bg-gradient-to-br from-amber-50 to-orange-50",children:s.jsx(re,{className:"p-8 md:p-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-6xl mb-6",children:""}),s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Monthly Learning Competition"}),s.jsx("p",{className:"text-lg text-gray-700 mb-6 max-w-2xl mx-auto",children:"Compete with learners worldwide! Top 3 students each month win amazing prizes. Play games, complete learning paths, and climb the leaderboard."}),s.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[s.jsx(Nt,{to:Xe("Leaderboard"),children:s.jsxs(G,{size:"lg",className:"bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600",children:[s.jsx(xr,{className:"w-5 h-5 mr-2"}),"View Leaderboard"]})}),s.jsx(Nt,{to:Xe("Games"),children:s.jsxs(G,{size:"lg",variant:"outline",className:"border-2 border-amber-500",children:[s.jsx(Ga,{className:"w-5 h-5 mr-2"}),"Start Playing"]})})]})]})})})})})}),s.jsx("section",{className:"py-12 md:py-16 px-4 bg-gradient-to-br from-purple-50 to-pink-50",children:s.jsx("div",{className:"max-w-4xl mx-auto text-center",children:s.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Join Our Community"}),s.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Follow us for daily Islamic inspiration and educational content"}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-4 md:gap-6",children:[s.jsxs("a",{href:"https://www.tiktok.com/@islamkidszone",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-black hover:bg-gray-800 text-white px-6 py-3 rounded-full transition-all duration-300 transform hover:scale-105 shadow-lg",children:[s.jsx(Gu,{className:"w-5 h-5"}),s.jsx("span",{className:"font-semibold",children:"TikTok"})]}),s.jsxs("a",{href:"https://www.instagram.com/islamkidszone",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-6 py-3 rounded-full transition-all duration-300 transform hover:scale-105 shadow-lg",children:[s.jsx(Gu,{className:"w-5 h-5"}),s.jsx("span",{className:"font-semibold",children:"Instagram"})]})]})]})})}),s.jsx("section",{className:"py-12 md:py-16 px-4 bg-white",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-8 md:mb-12",children:[s.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[s.jsx(KI,{className:"w-10 h-10 text-purple-600"}),s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900",children:"Latest Articles"})]}),s.jsx("p",{className:"text-lg text-gray-600",children:"Educational resources and parenting tips for Muslim families"})]}),s.jsx("div",{className:"text-center mt-8",children:s.jsxs("a",{href:"https://islamkidszone.com",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-purple-600 hover:text-purple-700 font-semibold text-lg",children:["Visit Our Blog",s.jsx(Gu,{className:"w-5 h-5"})]})})]})}),s.jsx("section",{className:"py-16 md:py-20 px-4 bg-gradient-to-r from-blue-600 to-purple-600",children:s.jsx("div",{className:"max-w-4xl mx-auto text-center",children:s.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[s.jsx("h2",{className:"text-3xl md:text-5xl font-bold text-white mb-6",children:"Start Your Islamic Learning Journey Today"}),s.jsx("p",{className:"text-lg md:text-xl text-blue-100 mb-8",children:"Join thousands of children learning about Islam through our engaging platform"}),s.jsx(Nt,{to:Xe("Games"),children:s.jsxs(G,{size:"lg",className:"bg-white text-purple-600 hover:bg-blue-50 text-base md:text-lg px-8 md:px-12 py-4 md:py-6 rounded-full shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105",children:[s.jsx(Qs,{className:"mr-2 w-5 h-5 md:w-6 md:h-6"}),"Get Started Now"]})})]})})})]})}const Wse="modulepreload",Kse=function(t){return"/imediaweb/"+t},BT={},sn=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let o=function(h){return Promise.all(h.map(m=>Promise.resolve(m).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));i=o(n.map(h=>{if(h=Kse(h),h in BT)return;BT[h]=!0;const m=h.endsWith(".css"),f=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${f}`))return;const g=document.createElement("link");if(g.rel=m?"stylesheet":Wse,m||(g.as="script"),g.crossOrigin="",g.href=h,d&&g.setAttribute("nonce",d),document.head.appendChild(g),m)return new Promise((x,_)=>{g.addEventListener("load",x),g.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return i.then(o=>{for(const c of o||[])c.status==="rejected"&&a(c.reason);return e().catch(a)})};var Sy=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Gse={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Qo,D1,vI,Qse=(vI=class{constructor(){Wt(this,Qo,Gse);Wt(this,D1,!1)}setTimeoutProvider(t){_t(this,Qo,t)}setTimeout(t,e){return xe(this,Qo).setTimeout(t,e)}clearTimeout(t){xe(this,Qo).clearTimeout(t)}setInterval(t,e){return xe(this,Qo).setInterval(t,e)}clearInterval(t){xe(this,Qo).clearInterval(t)}},Qo=new WeakMap,D1=new WeakMap,vI),sg=new Qse;function Yse(t){setTimeout(t,0)}var Gm=typeof window>"u"||"Deno"in globalThis;function Nx(){}function $T(t){return typeof t=="number"&&t>=0&&t!==1/0}function Jse(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ym(t,e){return typeof t=="function"?t(e):t}function mi(t,e){return typeof t=="function"?t(e):t}function qT(t){return JSON.stringify(t,(e,n)=>Zw(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}var Xse=Object.prototype.hasOwnProperty;function k6(t,e){if(t===e)return t;const n=HT(t)&&HT(e);if(!n&&!(Zw(t)&&Zw(e)))return e;const i=(n?t:Object.keys(t)).length,a=n?e:Object.keys(e),o=a.length,c=n?new Array(o):{};let d=0;for(let h=0;h<o;h++){const m=n?h:a[h],f=t[m],g=e[m];if(f===g){c[m]=f,(n?h<i:Xse.call(t,m))&&d++;continue}if(f===null||g===null||typeof f!="object"||typeof g!="object"){c[m]=g;continue}const x=k6(f,g);c[m]=x,x===f&&d++}return i===o&&d===i?t:c}function _x(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function HT(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Zw(t){if(!WT(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!WT(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function WT(t){return Object.prototype.toString.call(t)==="[object Object]"}function KT(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?k6(t,e):e}function T6(t,e){return typeof t=="function"?t(...e):!!t}var hc,Yo,id,bI,Zse=(bI=class extends Sy{constructor(){super();Wt(this,hc);Wt(this,Yo);Wt(this,id);_t(this,id,e=>{if(!Gm&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){xe(this,Yo)||this.setEventListener(xe(this,id))}onUnsubscribe(){var e;this.hasListeners()||((e=xe(this,Yo))==null||e.call(this),_t(this,Yo,void 0))}setEventListener(e){var n;_t(this,id,e),(n=xe(this,Yo))==null||n.call(this),_t(this,Yo,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){xe(this,hc)!==e&&(_t(this,hc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof xe(this,hc)=="boolean"?xe(this,hc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},hc=new WeakMap,Yo=new WeakMap,id=new WeakMap,bI),eie=new Zse;function GT(){let t,e;const n=new Promise((i,a)=>{t=i,e=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var tie=Yse;function nie(){let t=[],e=0,n=c=>{c()},r=c=>{c()},i=tie;const a=c=>{e?t.push(c):i(()=>{n(c)})},o=()=>{const c=t;t=[],c.length&&i(()=>{r(()=>{c.forEach(d=>{n(d)})})})};return{batch:c=>{let d;e++;try{d=c()}finally{e--,e||o()}return d},batchCalls:c=>(...d)=>{a(()=>{c(...d)})},schedule:a,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{i=c}}}var Ey=nie(),ad,Jo,od,wI,rie=(wI=class extends Sy{constructor(){super();Wt(this,ad,!0);Wt(this,Jo);Wt(this,od);_t(this,od,e=>{if(!Gm&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){xe(this,Jo)||this.setEventListener(xe(this,od))}onUnsubscribe(){var e;this.hasListeners()||((e=xe(this,Jo))==null||e.call(this),_t(this,Jo,void 0))}setEventListener(e){var n;_t(this,od,e),(n=xe(this,Jo))==null||n.call(this),_t(this,Jo,e(this.setOnline.bind(this)))}setOnline(e){xe(this,ad)!==e&&(_t(this,ad,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return xe(this,ad)}},ad=new WeakMap,Jo=new WeakMap,od=new WeakMap,wI),sie=new rie;function iie(t){return(t??"online")==="online"?sie.isOnline():!0}function aie(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:iie(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}var ns,Mt,Jm,zr,mc,ld,Da,Xo,Xm,cd,ud,fc,pc,Zo,dd,Qt,nm,e1,t1,n1,r1,s1,i1,a1,A6,jI,oie=(jI=class extends Sy{constructor(e,n){super();Wt(this,Qt);Wt(this,ns);Wt(this,Mt);Wt(this,Jm);Wt(this,zr);Wt(this,mc);Wt(this,ld);Wt(this,Da);Wt(this,Xo);Wt(this,Xm);Wt(this,cd);Wt(this,ud);Wt(this,fc);Wt(this,pc);Wt(this,Zo);Wt(this,dd,new Set);this.options=n,_t(this,ns,e),_t(this,Xo,null),_t(this,Da,GT()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(xe(this,Mt).addObserver(this),QT(xe(this,Mt),this.options)?fn(this,Qt,nm).call(this):this.updateResult(),fn(this,Qt,r1).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return o1(xe(this,Mt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return o1(xe(this,Mt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,fn(this,Qt,s1).call(this),fn(this,Qt,i1).call(this),xe(this,Mt).removeObserver(this)}setOptions(e){const n=this.options,r=xe(this,Mt);if(this.options=xe(this,ns).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof mi(this.options.enabled,xe(this,Mt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");fn(this,Qt,a1).call(this),xe(this,Mt).setOptions(this.options),n._defaulted&&!_x(this.options,n)&&xe(this,ns).getQueryCache().notify({type:"observerOptionsUpdated",query:xe(this,Mt),observer:this});const i=this.hasListeners();i&&YT(xe(this,Mt),r,this.options,n)&&fn(this,Qt,nm).call(this),this.updateResult(),i&&(xe(this,Mt)!==r||mi(this.options.enabled,xe(this,Mt))!==mi(n.enabled,xe(this,Mt))||ym(this.options.staleTime,xe(this,Mt))!==ym(n.staleTime,xe(this,Mt)))&&fn(this,Qt,e1).call(this);const a=fn(this,Qt,t1).call(this);i&&(xe(this,Mt)!==r||mi(this.options.enabled,xe(this,Mt))!==mi(n.enabled,xe(this,Mt))||a!==xe(this,Zo))&&fn(this,Qt,n1).call(this,a)}getOptimisticResult(e){const n=xe(this,ns).getQueryCache().build(xe(this,ns),e),r=this.createResult(n,e);return cie(this,r)&&(_t(this,zr,r),_t(this,ld,this.options),_t(this,mc,xe(this,Mt).state)),r}getCurrentResult(){return xe(this,zr)}trackResult(e,n){return new Proxy(e,{get:(r,i)=>(this.trackProp(i),n==null||n(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&xe(this,Da).status==="pending"&&xe(this,Da).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,i))})}trackProp(e){xe(this,dd).add(e)}getCurrentQuery(){return xe(this,Mt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=xe(this,ns).defaultQueryOptions(e),r=xe(this,ns).getQueryCache().build(xe(this,ns),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return fn(this,Qt,nm).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),xe(this,zr)))}createResult(e,n){var I;const r=xe(this,Mt),i=this.options,a=xe(this,zr),o=xe(this,mc),c=xe(this,ld),h=e!==r?e.state:xe(this,Jm),{state:m}=e;let f={...m},g=!1,x;if(n._optimisticResults){const O=this.hasListeners(),V=!O&&QT(e,n),M=O&&YT(e,r,n,i);(V||M)&&(f={...f,...aie(m.data,e.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:_,errorUpdatedAt:j,status:w}=f;x=f.data;let N=!1;if(n.placeholderData!==void 0&&x===void 0&&w==="pending"){let O;a!=null&&a.isPlaceholderData&&n.placeholderData===(c==null?void 0:c.placeholderData)?(O=a.data,N=!0):O=typeof n.placeholderData=="function"?n.placeholderData((I=xe(this,ud))==null?void 0:I.state.data,xe(this,ud)):n.placeholderData,O!==void 0&&(w="success",x=KT(a==null?void 0:a.data,O,n),g=!0)}if(n.select&&x!==void 0&&!N)if(a&&x===(o==null?void 0:o.data)&&n.select===xe(this,Xm))x=xe(this,cd);else try{_t(this,Xm,n.select),x=n.select(x),x=KT(a==null?void 0:a.data,x,n),_t(this,cd,x),_t(this,Xo,null)}catch(O){_t(this,Xo,O)}xe(this,Xo)&&(_=xe(this,Xo),x=xe(this,cd),j=Date.now(),w="error");const E=f.fetchStatus==="fetching",A=w==="pending",T=w==="error",D=A&&E,F=x!==void 0,R={status:w,fetchStatus:f.fetchStatus,isPending:A,isSuccess:w==="success",isError:T,isInitialLoading:D,isLoading:D,data:x,dataUpdatedAt:f.dataUpdatedAt,error:_,errorUpdatedAt:j,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>h.dataUpdateCount||f.errorUpdateCount>h.errorUpdateCount,isFetching:E,isRefetching:E&&!A,isLoadingError:T&&!F,isPaused:f.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:T&&F,isStale:e_(e,n),refetch:this.refetch,promise:xe(this,Da),isEnabled:mi(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const O=U=>{R.status==="error"?U.reject(R.error):R.data!==void 0&&U.resolve(R.data)},V=()=>{const U=_t(this,Da,R.promise=GT());O(U)},M=xe(this,Da);switch(M.status){case"pending":e.queryHash===r.queryHash&&O(M);break;case"fulfilled":(R.status==="error"||R.data!==M.value)&&V();break;case"rejected":(R.status!=="error"||R.error!==M.reason)&&V();break}}return R}updateResult(){const e=xe(this,zr),n=this.createResult(xe(this,Mt),this.options);if(_t(this,mc,xe(this,Mt).state),_t(this,ld,this.options),xe(this,mc).data!==void 0&&_t(this,ud,xe(this,Mt)),_x(n,e))return;_t(this,zr,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!xe(this,dd).size)return!0;const o=new Set(a??xe(this,dd));return this.options.throwOnError&&o.add("error"),Object.keys(xe(this,zr)).some(c=>{const d=c;return xe(this,zr)[d]!==e[d]&&o.has(d)})};fn(this,Qt,A6).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&fn(this,Qt,r1).call(this)}},ns=new WeakMap,Mt=new WeakMap,Jm=new WeakMap,zr=new WeakMap,mc=new WeakMap,ld=new WeakMap,Da=new WeakMap,Xo=new WeakMap,Xm=new WeakMap,cd=new WeakMap,ud=new WeakMap,fc=new WeakMap,pc=new WeakMap,Zo=new WeakMap,dd=new WeakMap,Qt=new WeakSet,nm=function(e){fn(this,Qt,a1).call(this);let n=xe(this,Mt).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Nx)),n},e1=function(){fn(this,Qt,s1).call(this);const e=ym(this.options.staleTime,xe(this,Mt));if(Gm||xe(this,zr).isStale||!$T(e))return;const r=Jse(xe(this,zr).dataUpdatedAt,e)+1;_t(this,fc,sg.setTimeout(()=>{xe(this,zr).isStale||this.updateResult()},r))},t1=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(xe(this,Mt)):this.options.refetchInterval)??!1},n1=function(e){fn(this,Qt,i1).call(this),_t(this,Zo,e),!(Gm||mi(this.options.enabled,xe(this,Mt))===!1||!$T(xe(this,Zo))||xe(this,Zo)===0)&&_t(this,pc,sg.setInterval(()=>{(this.options.refetchIntervalInBackground||eie.isFocused())&&fn(this,Qt,nm).call(this)},xe(this,Zo)))},r1=function(){fn(this,Qt,e1).call(this),fn(this,Qt,n1).call(this,fn(this,Qt,t1).call(this))},s1=function(){xe(this,fc)&&(sg.clearTimeout(xe(this,fc)),_t(this,fc,void 0))},i1=function(){xe(this,pc)&&(sg.clearInterval(xe(this,pc)),_t(this,pc,void 0))},a1=function(){const e=xe(this,ns).getQueryCache().build(xe(this,ns),this.options);if(e===xe(this,Mt))return;const n=xe(this,Mt);_t(this,Mt,e),_t(this,Jm,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},A6=function(e){Ey.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(xe(this,zr))}),xe(this,ns).getQueryCache().notify({query:xe(this,Mt),type:"observerResultsUpdated"})})},jI);function lie(t,e){return mi(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function QT(t,e){return lie(t,e)||t.state.data!==void 0&&o1(t,e,e.refetchOnMount)}function o1(t,e,n){if(mi(e.enabled,t)!==!1&&ym(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&e_(t,e)}return!1}function YT(t,e,n,r){return(t!==e||mi(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&e_(t,n)}function e_(t,e){return mi(e.enabled,t)!==!1&&t.isStaleByTime(ym(e.staleTime,t))}function cie(t,e){return!_x(t.getCurrentResult(),e)}function uie(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ma,el,rs,La,Wa,Rg,l1,NI,die=(NI=class extends Sy{constructor(n,r){super();Wt(this,Wa);Wt(this,Ma);Wt(this,el);Wt(this,rs);Wt(this,La);_t(this,Ma,n),this.setOptions(r),this.bindMethods(),fn(this,Wa,Rg).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=xe(this,Ma).defaultMutationOptions(n),_x(this.options,r)||xe(this,Ma).getMutationCache().notify({type:"observerOptionsUpdated",mutation:xe(this,rs),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&qT(r.mutationKey)!==qT(this.options.mutationKey)?this.reset():((i=xe(this,rs))==null?void 0:i.state.status)==="pending"&&xe(this,rs).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=xe(this,rs))==null||n.removeObserver(this)}onMutationUpdate(n){fn(this,Wa,Rg).call(this),fn(this,Wa,l1).call(this,n)}getCurrentResult(){return xe(this,el)}reset(){var n;(n=xe(this,rs))==null||n.removeObserver(this),_t(this,rs,void 0),fn(this,Wa,Rg).call(this),fn(this,Wa,l1).call(this)}mutate(n,r){var i;return _t(this,La,r),(i=xe(this,rs))==null||i.removeObserver(this),_t(this,rs,xe(this,Ma).getMutationCache().build(xe(this,Ma),this.options)),xe(this,rs).addObserver(this),xe(this,rs).execute(n)}},Ma=new WeakMap,el=new WeakMap,rs=new WeakMap,La=new WeakMap,Wa=new WeakSet,Rg=function(){var r;const n=((r=xe(this,rs))==null?void 0:r.state)??uie();_t(this,el,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},l1=function(n){Ey.batch(()=>{var r,i,a,o,c,d,h,m;if(xe(this,La)&&this.hasListeners()){const f=xe(this,el).variables,g=xe(this,el).context,x={client:xe(this,Ma),meta:this.options.meta,mutationKey:this.options.mutationKey};(n==null?void 0:n.type)==="success"?((i=(r=xe(this,La)).onSuccess)==null||i.call(r,n.data,f,g,x),(o=(a=xe(this,La)).onSettled)==null||o.call(a,n.data,null,f,g,x)):(n==null?void 0:n.type)==="error"&&((d=(c=xe(this,La)).onError)==null||d.call(c,n.error,f,g,x),(m=(h=xe(this,La)).onSettled)==null||m.call(h,void 0,n.error,f,g,x))}this.listeners.forEach(f=>{f(xe(this,el))})})},NI),hie=v.createContext(void 0),Ds=t=>{const e=v.useContext(hie);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},I6=v.createContext(!1),mie=()=>v.useContext(I6);I6.Provider;function fie(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var pie=v.createContext(fie()),gie=()=>v.useContext(pie),xie=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},yie=t=>{v.useEffect(()=>{t.clearReset()},[t])},vie=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||T6(n,[t.error,r])),bie=t=>{if(t.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},wie=(t,e)=>t.isLoading&&t.isFetching&&!e,jie=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,JT=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function Nie(t,e,n){var f,g,x,_,j;const r=mie(),i=gie(),a=Ds(),o=a.defaultQueryOptions(t);(g=(f=a.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||g.call(f,o),o._optimisticResults=r?"isRestoring":"optimistic",bie(o),xie(o,i),yie(i);const c=!a.getQueryCache().get(o.queryHash),[d]=v.useState(()=>new e(a,o)),h=d.getOptimisticResult(o),m=!r&&t.subscribed!==!1;if(v.useSyncExternalStore(v.useCallback(w=>{const N=m?d.subscribe(Ey.batchCalls(w)):Nx;return d.updateResult(),N},[d,m]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),v.useEffect(()=>{d.setOptions(o)},[o,d]),jie(o,h))throw JT(o,d,i);if(vie({result:h,errorResetBoundary:i,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw h.error;if((_=(x=a.getDefaultOptions().queries)==null?void 0:x._experimental_afterQuery)==null||_.call(x,o,h),o.experimental_prefetchInRender&&!Gm&&wie(h,r)){const w=c?JT(o,d,i):(j=a.getQueryCache().get(o.queryHash))==null?void 0:j.promise;w==null||w.catch(Nx).finally(()=>{d.updateResult()})}return o.notifyOnChangeProps?h:d.trackResult(h)}function vn(t,e){return Nie(t,oie)}function gn(t,e){const n=Ds(),[r]=v.useState(()=>new die(n,t));v.useEffect(()=>{r.setOptions(t)},[r,t]);const i=v.useSyncExternalStore(v.useCallback(o=>r.subscribe(Ey.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=v.useCallback((o,c)=>{r.mutate(o,c).catch(Nx)},[r]);if(i.error&&T6(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}const _ie=hf("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function we({className:t,variant:e,...n}){return s.jsx("div",{className:lt(_ie({variant:e}),t),...n})}const Sie=v.lazy(()=>sn(()=>import("./WordScrambleGame.BcmB9ZtJ.js"),[])),Eie=v.lazy(()=>sn(()=>import("./IslamicQuizGame.CoQOJKC4.js"),[])),Cie=v.lazy(()=>sn(()=>import("./IslamicWordSearchGame.B_wpTQXb.js"),[])),kie=v.lazy(()=>sn(()=>import("./SeerahGame.J3jRVy_C.js"),[])),Tie=v.lazy(()=>sn(()=>import("./QuranGame.BpfueWbb.js"),[])),Aie=v.lazy(()=>sn(()=>import("./HadithGame.sa4h_Abx.js"),[])),Iie=v.lazy(()=>sn(()=>import("./FiqhGame.xVkY8Ltc.js"),[])),Rie=v.lazy(()=>sn(()=>import("./MemoryMatchGame.DwJWDESR.js"),[]));v.lazy(()=>sn(()=>import("./QuestForIlm.CxfaqnJ1.js"),[]));const Pie=v.lazy(()=>sn(()=>import("./MatchingPairsOfIman.ym4mFeMw.js"),[]));v.lazy(()=>sn(()=>import("./SahabahArena.C74HuN8o.js"),__vite__mapDeps([0,1])));v.lazy(()=>sn(()=>import("./MazeOfGuidance.C9xHgMiE.js"),[]));const Die=v.lazy(()=>sn(()=>import("./AyatExplorer.3GJUyLNn.js"),[]));v.lazy(()=>sn(()=>import("./AkhlaqChallengeGame.D2zSpgOX.js"),[]));v.lazy(()=>sn(()=>import("./DailySunnahGame.CeBZbArR.js"),[]));v.lazy(()=>sn(()=>import("./IslamKnowledgeRaceGame.BVm0EVn3.js"),__vite__mapDeps([2,1])));v.lazy(()=>sn(()=>import("./IslamicCrosswordGame.CtWw2fih.js"),[]));v.lazy(()=>sn(()=>import("./IslamicMoralsMazeGame.DerRd4GR.js"),[]));v.lazy(()=>sn(()=>import("./ProphetStoriesGame.SaY8FK3X.js"),[]));v.lazy(()=>sn(()=>import("./QuranMemoryMatchGame.YB_T_t_o.js"),[]));v.lazy(()=>sn(()=>import("./QuranQuestGame.N4I6g8Xv.js"),[]));v.lazy(()=>sn(()=>import("./SacredSitesJigsaw.lA2JVXOQ.js"),[]));v.lazy(()=>sn(()=>import("./SahabahStoriesGame.CO4GZzre.js"),[]));v.lazy(()=>sn(()=>import("./SeerahAdventureGame.BZhnllWJ.js"),[]));v.lazy(()=>sn(()=>import("./SpinToWinWheel.C8eFcj5N.js"),__vite__mapDeps([3,1])));const hb=[{id:"word_scramble",title:" Word Scramble Challenge",description:"Unscramble Islamic words - Easy, Medium & Hard!",emoji:"",difficulty:"All Levels",points:"10 pts per game",allowPoints:!0,allowPrizes:!1,component:Sie},{id:"matching_pairs_iman",title:" Matching Pairs of Iman",description:"Match Islamic concepts and terms to strengthen your Iman!",emoji:"",difficulty:"All Levels",points:"10 pts per game",allowPoints:!0,allowPrizes:!1,component:Pie},{id:"ayat_explorer",title:" Ayat Explorer",description:"Explore Quranic knowledge through puzzles!",emoji:"",difficulty:"Medium",points:"10 pts per game",component:Die},{id:"islamic_quiz",title:" Islamic Knowledge Quiz",description:"Test your knowledge of Quran, Hadith, Seerah & more!",emoji:"",difficulty:"All Levels",points:"10 pts per game",component:Eie},{id:"word_search",title:" Islamic Word Search",description:"Find Islamic words hidden in the grid",emoji:"",difficulty:"All Levels",points:"10 pts per game",component:Cie},{id:"seerah_game",title:" Seerah Quiz",description:"Learn about the life of Prophet Muhammad ",emoji:"",difficulty:"All Levels",points:"10 pts per game",component:kie},{id:"quran_game",title:" Quran Quiz",description:"Test your knowledge of the Holy Quran",emoji:"",difficulty:"All Levels",points:"10 pts per game",component:Tie},{id:"hadith_game",title:" Hadith Match",description:"Learn authentic sayings of Prophet ",emoji:"",difficulty:"All Levels",points:"10 pts per game",component:Aie},{id:"fiqh_game",title:" Fiqh Challenge",description:"Learn Islamic rulings and practices",emoji:"",difficulty:"All Levels",points:"10 pts per game",component:Iie},{id:"memory_match",title:" Islamic Memory Match",description:"Match pairs of Islamic terms",emoji:"",difficulty:"All Levels",points:"10 pts per game",component:Rie}],Mie=()=>s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:""}),s.jsx("p",{className:"text-gray-600 font-medium",children:"Loading game..."})]})});function c1(){var w;const t=zn(),[e,n]=v.useState(null),[r,i]=v.useState(!1),[a,o]=v.useState(!0),[c,d]=v.useState(null),[h,m]=v.useState(!1);v.useEffect(()=>{const N=localStorage.getItem("user");N?(i(!0),d(JSON.parse(N))):(i(!1),d(null)),o(!1)},[t]);const{data:f=[]}=vn({queryKey:["monthly-leaderboard"],queryFn:async()=>{const N=new Date,E=new Date(N.getFullYear(),N.getMonth(),1),T=JSON.parse(localStorage.getItem("gameScores")||"[]").filter(I=>new Date(I.created_date)>=E),D={};T.forEach(I=>{D[I.user_id]||(D[I.user_id]={user_id:I.user_id,total_score:0,games_played:0}),D[I.user_id].total_score+=I.score||0,D[I.user_id].games_played+=1});const F=JSON.parse(localStorage.getItem("users")||"[]");return Object.keys(D).map(I=>({...F.find(V=>V.id===I)||{id:I,name:"Guest"},monthly_score:D[I].total_score,monthly_games:D[I].games_played})).filter(I=>I.monthly_score>0).sort((I,O)=>O.monthly_score-I.monthly_score).slice(0,10)},enabled:r,initialData:[]}),{data:g=[]}=vn({queryKey:["leaderboard"],queryFn:async()=>JSON.parse(localStorage.getItem("users")||"[]").filter(E=>E.points>0).sort((E,A)=>A.points-E.points).slice(0,10),enabled:r,initialData:[]}),x=N=>{n(N)},_=async N=>{if(r&&c&&e)try{const E=JSON.parse(localStorage.getItem("gameScores")||"[]");E.push({user_id:c.id,game_type:e.id,score:N,created_date:new Date().toISOString()}),localStorage.setItem("gameScores",JSON.stringify(E));const A=JSON.parse(localStorage.getItem("users")||"[]"),T=A.findIndex(F=>F.id===c.id);let D=Math.min((c.points||0)+N,1500);T!==-1&&(A[T].points=D,localStorage.setItem("users",JSON.stringify(A))),d(F=>({...F,points:D}))}catch(E){console.error("Error saving game score:",E)}setTimeout(()=>n(null),3e3)};if(a)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-100 via-purple-50 to-pink-100 p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:""}),s.jsx("p",{className:"text-gray-600 font-medium",children:"Loading games..."})]})});const j=e==null?void 0:e.component;return e?s.jsx("div",{className:"min-h-screen py-6 px-4 bg-gradient-to-br from-blue-100 via-purple-50 to-pink-100",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs(G,{variant:"ghost",onClick:()=>n(null),className:"mb-6 bg-white/80 backdrop-blur-sm hover:bg-white",size:"sm",children:[s.jsx(jl,{className:"w-4 h-4 mr-2"}),"Back to Games"]}),s.jsx(v.Suspense,{fallback:s.jsx(Mie,{}),children:j&&s.jsx(j,{onComplete:_})})]})}):s.jsx("div",{className:"min-h-screen py-8 px-4 bg-gradient-to-br from-blue-100 via-purple-50 to-pink-100",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx(ee.div,{className:"text-6xl mb-4",animate:{rotate:[0,10,-10,0]},transition:{duration:3,repeat:1/0,repeatDelay:2},children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Islamic Knowledge Games"}),s.jsxs("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:["Play fun games and test your Islamic knowledge!",r?" Each game earns you 10 points.":" Email us at imediac786@gmail.com to create your account and track your progress!"]})]}),!r&&s.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8 max-w-2xl mx-auto",children:s.jsx(te,{className:"border-2 border-blue-300 shadow-lg bg-gradient-to-br from-blue-50 to-purple-50",children:s.jsxs(re,{className:"p-6 text-center",children:[s.jsx(xr,{className:"w-12 h-12 mx-auto mb-4 text-blue-600"}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:" Playing as Guest"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"You can play all games for free! Email us to create your account, track your progress, earn points, and compete on the leaderboard."}),s.jsx("div",{className:"flex gap-3 justify-center",children:s.jsxs(G,{onClick:()=>{const N=encodeURIComponent("Access Request - Islam Kids Zone"),E=encodeURIComponent("Hi, I'd like to create an account for Islam Kids Zone. My name is ____ and my contact details are ____.");window.location.href=`mailto:imediac786@gmail.com?subject=${N}&body=${E}`},className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-blue-500 to-purple-500 text-white font-bold shadow hover:scale-105 transition-transform",children:[s.jsx(Lx,{className:"w-4 h-4 mr-2"}),"Request Access via Email"]})})]})})}),r&&s.jsxs(s.Fragment,{children:[s.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-wrap justify-center gap-3 mb-12",children:[s.jsxs(G,{onClick:()=>m(!h),className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white shadow-lg",children:[s.jsx(xr,{className:"w-4 h-4 mr-2"}),"Monthly Champions"]}),s.jsx(Nt,{to:Xe("Challenges"),children:s.jsxs(G,{className:"bg-gradient-to-r from-red-500 to-pink-500 hover:from-red-600 hover:to-pink-600 text-white shadow-lg",children:[s.jsx(Ga,{className:"w-4 h-4 mr-2"}),"Challenge Friends"]})})]}),s.jsx(ds,{children:h&&f.length>0&&s.jsx(ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"mb-12 max-w-xl mx-auto",children:s.jsxs(te,{className:"border-2 border-purple-300 shadow-xl bg-gradient-to-br from-purple-50 to-pink-50",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-t-xl",children:s.jsxs(Fe,{className:"text-2xl flex items-center gap-2 justify-center",children:[s.jsx(xr,{className:"w-6 h-6"}),"Monthly Champions"]})}),s.jsx(re,{className:"p-6 pt-4",children:s.jsx("div",{className:"space-y-3",children:f.slice(0,10).map((N,E)=>{const T=[{icon:sC,color:"text-yellow-500",bg:"bg-yellow-50"},{icon:Vu,color:"text-gray-400",bg:"bg-gray-50"},{icon:Vu,color:"text-orange-600",bg:"bg-orange-50"}][E],D=(T==null?void 0:T.icon)||Vt;return s.jsxs(ee.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:E*.1},className:`flex items-center gap-3 p-3 rounded-xl ${(T==null?void 0:T.bg)||"bg-white"} border-2 ${E===0?"border-amber-400":"border-gray-200"}`,children:[s.jsx("div",{className:`w-8 h-8 rounded-full ${(T==null?void 0:T.bg)||"bg-blue-50"} flex items-center justify-center ${(T==null?void 0:T.color)||"text-gray-600"}`,children:s.jsx(D,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-bold text-sm text-gray-900",children:N.full_name||"Anonymous"}),s.jsxs("p",{className:"text-xs text-gray-600",children:[N.monthly_games," games this month"]})]}),s.jsxs("div",{className:"flex items-center gap-1 bg-purple-100 px-2 py-1 rounded-full",children:[s.jsx(Vt,{className:"w-4 h-4 text-purple-600 fill-purple-600"}),s.jsx("span",{className:"font-bold text-sm text-purple-900",children:N.monthly_score})]})]},N.id)})})})]})})})]}),s.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:s.jsx(te,{className:"border-4 border-amber-400 shadow-2xl",children:s.jsx(re,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"text-5xl",children:""}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Win Prizes Every Month!"}),s.jsx("p",{className:"text-gray-800 font-medium",children:"Play games, earn points, compete! Top 3 players win prizes!"})]})]})})})}),g.length>0&&s.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:s.jsxs(te,{className:"border-2 border-purple-200 shadow-xl",children:[s.jsx(Oe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Fe,{className:"text-2xl flex items-center gap-2",children:[s.jsx(_l,{className:"w-6 h-6 text-indigo-500"}),"Top Players (All Time)"]}),s.jsx(G,{onClick:()=>t(Xe("Leaderboard")),variant:"outline",size:"sm",children:"View All"})]})}),s.jsx(re,{children:s.jsx("div",{className:"space-y-3",children:g.slice(0,3).map((N,E)=>{const T=[{icon:sC,color:"text-yellow-500",bg:"bg-yellow-50"},{icon:Vu,color:"text-gray-400",bg:"bg-gray-50"},{icon:Vu,color:"text-orange-600",bg:"bg-orange-50"}][E],D=(T==null?void 0:T.icon)||Vt;return s.jsxs(ee.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:E*.1},className:`flex items-center gap-4 p-4 rounded-xl ${(T==null?void 0:T.bg)||"bg-white"} border-2 ${E===0?"border-amber-400":"border-gray-200"}`,children:[s.jsx("div",{className:`w-10 h-10 rounded-full ${(T==null?void 0:T.bg)||"bg-blue-50"} flex items-center justify-center ${(T==null?void 0:T.color)||"text-gray-600"}`,children:s.jsx(D,{className:"w-6 h-6"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-bold text-base text-gray-900",children:N.full_name||"Anonymous"}),s.jsx("p",{className:"text-sm text-gray-600",children:N.city||"Unknown"})]}),s.jsxs("div",{className:"flex items-center gap-1 bg-amber-100 px-2 py-1 rounded-full",children:[s.jsx(Vt,{className:"w-4 h-4 text-amber-600 fill-amber-600"}),s.jsx("span",{className:"font-bold text-sm text-amber-900",children:N.points})]})]},N.id)})})})]})}),s.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-500 to-purple-500 rounded-2xl p-6 mb-12 text-white shadow-2xl",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[s.jsxs("div",{children:[s.jsx(Ga,{className:"w-8 h-8 mx-auto mb-2"}),s.jsx("div",{className:"text-2xl font-bold",children:hb.length}),s.jsx("div",{className:"text-sm text-blue-100",children:"Games"})]}),s.jsxs("div",{children:[s.jsx(Vt,{className:"w-8 h-8 mx-auto mb-2"}),s.jsx("div",{className:"text-2xl font-bold",children:(c==null?void 0:c.points)||0}),s.jsx("div",{className:"text-sm text-blue-100",children:"Your Points"})]}),s.jsxs("div",{children:[s.jsx(xr,{className:"w-8 h-8 mx-auto mb-2"}),s.jsx("div",{className:"text-2xl font-bold",children:((w=c==null?void 0:c.badges)==null?void 0:w.length)||0}),s.jsx("div",{className:"text-sm text-blue-100",children:"Badges"})]})]}),r&&s.jsxs("div",{className:"mt-4 p-3 bg-white/20 rounded-lg backdrop-blur-sm",children:[s.jsxs("p",{className:"text-sm font-semibold mb-2 flex items-center justify-center gap-2",children:[s.jsx(WI,{className:"w-4 h-4"}),"Daily Challenge: Complete all ",hb.length," games for +10 bonus points!"]}),s.jsx("div",{className:"text-xs text-blue-100 text-center",children:"Perfect score on any game = +5 bonus points "})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-6xl mx-auto",children:s.jsx(ds,{children:hb.map((N,E)=>s.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:E*.05},whileHover:{y:-5},children:s.jsxs(te,{className:"h-full border-2 hover:border-blue-300 hover:shadow-2xl transition-all duration-300 cursor-pointer group",children:[s.jsxs(Oe,{className:"bg-gradient-to-br from-blue-50 to-purple-50",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx(ee.div,{className:"text-5xl",whileHover:{scale:1.2,rotate:[0,-10,10,-10,0]},transition:{duration:.5},children:N.emoji}),s.jsx(we,{className:"bg-amber-500 hover:bg-amber-600",children:N.points})]}),s.jsx(Fe,{className:"text-xl group-hover:text-blue-600 transition-colors",children:N.title})]}),s.jsxs(re,{className:"pt-3",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:N.description}),s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[s.jsx(we,{variant:"outline",className:"text-xs",children:N.difficulty}),s.jsx(G,{onClick:()=>x(N),className:"bg-blue-600 hover:bg-blue-700",size:"sm",children:"Play Now"})]})]})]})},N.id))})})]})})}function Lie(t,e=[]){let n=[];function r(a,o){const c=v.createContext(o);c.displayName=a+"Context";const d=n.length;n=[...n,o];const h=f=>{var N;const{scope:g,children:x,..._}=f,j=((N=g==null?void 0:g[t])==null?void 0:N[d])||c,w=v.useMemo(()=>_,Object.values(_));return s.jsx(j.Provider,{value:w,children:x})};h.displayName=a+"Provider";function m(f,g){var j;const x=((j=g==null?void 0:g[t])==null?void 0:j[d])||c,_=v.useContext(x);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[h,m]}const i=()=>{const a=n.map(o=>v.createContext(o));return function(c){const d=(c==null?void 0:c[t])||a;return v.useMemo(()=>({[`__scope${t}`]:{...c,[t]:d}}),[c,d])}};return i.scopeName=t,[r,Oie(i,...e)]}function Oie(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((c,{useScope:d,scopeName:h})=>{const f=d(a)[`__scope${h}`];return{...c,...f}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Fie=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],t_=Fie.reduce((t,e)=>{const n=ry(`Primitive.${e}`),r=v.forwardRef((i,a)=>{const{asChild:o,...c}=i,d=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(d,{...c,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),mb={exports:{}},fb={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XT;function Vie(){if(XT)return fb;XT=1;var t=Ix();function e(f,g){return f===g&&(f!==0||1/f===1/g)||f!==f&&g!==g}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,o=t.useDebugValue;function c(f,g){var x=g(),_=r({inst:{value:x,getSnapshot:g}}),j=_[0].inst,w=_[1];return a(function(){j.value=x,j.getSnapshot=g,d(j)&&w({inst:j})},[f,x,g]),i(function(){return d(j)&&w({inst:j}),f(function(){d(j)&&w({inst:j})})},[f]),o(x),x}function d(f){var g=f.getSnapshot;f=f.value;try{var x=g();return!n(f,x)}catch{return!0}}function h(f,g){return g()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return fb.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,fb}var ZT;function Uie(){return ZT||(ZT=1,mb.exports=Vie()),mb.exports}var zie=Uie();function Bie(){return zie.useSyncExternalStore($ie,()=>!0,()=>!1)}function $ie(){return()=>{}}var n_="Avatar",[qie]=Lie(n_),[Hie,R6]=qie(n_),P6=v.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,a]=v.useState("idle");return s.jsx(Hie,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:s.jsx(t_.span,{...r,ref:e})})});P6.displayName=n_;var D6="AvatarImage",M6=v.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...a}=t,o=R6(D6,n),c=Wie(r,a),d=gi(h=>{i(h),o.onImageLoadingStatusChange(h)});return rr(()=>{c!=="idle"&&d(c)},[c,d]),c==="loaded"?s.jsx(t_.img,{...a,ref:e,src:r}):null});M6.displayName=D6;var L6="AvatarFallback",O6=v.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,a=R6(L6,n),[o,c]=v.useState(r===void 0);return v.useEffect(()=>{if(r!==void 0){const d=window.setTimeout(()=>c(!0),r);return()=>window.clearTimeout(d)}},[r]),o&&a.imageLoadingStatus!=="loaded"?s.jsx(t_.span,{...i,ref:e}):null});O6.displayName=L6;function eA(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Wie(t,{referrerPolicy:e,crossOrigin:n}){const r=Bie(),i=v.useRef(null),a=r?(i.current||(i.current=new window.Image),i.current):null,[o,c]=v.useState(()=>eA(a,t));return rr(()=>{c(eA(a,t))},[a,t]),rr(()=>{const d=f=>()=>{c(f)};if(!a)return;const h=d("loaded"),m=d("error");return a.addEventListener("load",h),a.addEventListener("error",m),e&&(a.referrerPolicy=e),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",h),a.removeEventListener("error",m)}},[a,n,e]),o}var F6=P6,V6=M6,U6=O6;const Kie=v.forwardRef(({className:t,...e},n)=>s.jsx(F6,{ref:n,className:lt("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Kie.displayName=F6.displayName;const Gie=v.forwardRef(({className:t,...e},n)=>s.jsx(V6,{ref:n,className:lt("aspect-square h-full w-full",t),...e}));Gie.displayName=V6.displayName;const Qie=v.forwardRef(({className:t,...e},n)=>s.jsx(U6,{ref:n,className:lt("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Qie.displayName=U6.displayName;function z6(){const[t,e]=v.useState(null),[n,r]=v.useState(!1);v.useEffect(()=>{const h=qc(async m=>{const f=!!m;if(r(f),f)try{const g=await Hd(m.uid);e(g?{id:m.uid,...g}:{id:m.uid,email:m.email,points:0})}catch{e({id:m.uid,email:m.email,points:0})}else e(null)});return()=>{try{h==null||h()}catch{}}},[]);const{data:i=[],isLoading:a}=vn({queryKey:["leaderboard-users"],queryFn:async()=>{try{return(await ZN.list()).sort((m,f)=>Number(f.points||0)-Number(m.points||0))}catch{return[]}},initialData:[]}),o=h=>{switch(h){case 0:return s.jsx(xr,{className:"w-6 h-6 sm:w-8 sm:h-8 text-amber-500"});case 1:return s.jsx(Vu,{className:"w-6 h-6 sm:w-8 sm:h-8 text-gray-400"});case 2:return s.jsx(Vu,{className:"w-6 h-6 sm:w-8 sm:h-8 text-amber-600"});default:return s.jsxs("span",{className:"text-lg sm:text-2xl font-bold text-gray-400",children:["#",h+1]})}},c=h=>{switch(h){case 0:return"from-amber-400 to-amber-600";case 1:return"from-gray-300 to-gray-500";case 2:return"from-amber-500 to-amber-700";default:return"from-blue-100 to-purple-100"}},d=h=>{var f;const m=h.fullName||h.full_name||h.name||"";return m?m.split(" ")[0]:((f=h.email)==null?void 0:f.split("@")[0])||"Anonymous"};return s.jsx("div",{className:"min-h-screen py-6 sm:py-8 md:py-12 px-3 sm:px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs(ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8 sm:mb-12",children:[s.jsx("div",{className:"text-5xl sm:text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-gray-900 mb-3 sm:mb-4 px-2",children:"Top Young Learners"}),s.jsx("p",{className:"text-base sm:text-lg text-gray-600 px-2",children:"These amazing kids are learning and earning points!"})]}),!n&&s.jsx(ee.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-6 sm:mb-8",children:s.jsx(te,{className:"border-2 border-blue-200 shadow-lg bg-gradient-to-br from-blue-50 to-purple-50",children:s.jsxs(re,{className:"p-4 sm:p-6 text-center",children:[s.jsx(Vt,{className:"w-8 h-8 sm:w-10 sm:h-10 mx-auto mb-3 sm:mb-4 text-blue-600"}),s.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-2",children:"Want to See Your Name Here?"}),s.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-3 sm:mb-4 px-2",children:"Join Islam Kids Zone to earn points, compete with friends, and climb the leaderboard!"}),s.jsxs(G,{onClick:()=>{const h=encodeURIComponent("Access Request - Islam Kids Zone"),m=encodeURIComponent("Hi, I'd like to create an account to join the leaderboard. My name is ____ and my contact details are ____.");window.location.href=`mailto:imediac786@gmail.com?subject=${h}&body=${m}`},className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600",children:[s.jsx(H1,{className:"w-4 h-4 mr-2"}),"Request Access via Email"]})]})})}),t&&s.jsx(ee.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-6 sm:mb-8",children:s.jsx(te,{className:"border-2 border-blue-300 shadow-lg",children:s.jsx(re,{className:"p-4 sm:p-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 w-full sm:w-auto",children:[s.jsx("div",{className:"text-3xl sm:text-4xl flex-shrink-0",children:t.avatar||""}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Your Progress"}),s.jsx("p",{className:"text-lg sm:text-xl font-bold text-gray-900 truncate",children:d(t)}),s.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[s.jsx(Vt,{className:"w-4 h-4 text-amber-500 fill-amber-500 flex-shrink-0"}),s.jsxs("span",{className:"font-semibold text-amber-600 text-sm sm:text-base",children:[t.points||0," points"]}),t.madrasah_maktab&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-gray-400 hidden xs:inline",children:""}),s.jsxs("span",{className:"text-xs sm:text-sm text-gray-600 truncate",children:[" ",t.madrasah_maktab]})]})]})]})]}),s.jsxs("div",{className:"text-center flex-shrink-0",children:[s.jsx(Vx,{className:"w-6 h-6 sm:w-8 sm:h-8 text-green-500 mx-auto mb-1"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Keep going!"})]})]})})})}),s.jsxs(te,{className:"shadow-xl",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white p-4 sm:p-6",children:s.jsx(Fe,{className:"text-xl sm:text-2xl",children:"All-Time Leaderboard"})}),s.jsx(re,{className:"p-0",children:a?s.jsx("div",{className:"p-8 sm:p-12 text-center text-gray-500",children:"Loading leaderboard..."}):i.length===0?s.jsxs("div",{className:"p-8 sm:p-12 text-center text-gray-500",children:[s.jsx(Vt,{className:"w-12 h-12 sm:w-16 sm:h-16 mx-auto mb-4 text-gray-300"}),s.jsx("p",{children:"No learners yet. Be the first to earn points!"})]}):s.jsx("div",{className:"divide-y divide-gray-100",children:i.map((h,m)=>s.jsx(ee.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:m*.05},className:`p-4 sm:p-6 hover:bg-gray-50 transition-colors ${t!=null&&t.id&&t.id===(h.uid||h.id)?"bg-blue-50 border-l-4 border-blue-500":""}`,children:s.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[s.jsx("div",{className:"w-12 sm:w-16 flex justify-center flex-shrink-0",children:o(m)}),s.jsxs("div",{className:"flex-1 min-w-0 flex items-center gap-3 sm:gap-4",children:[s.jsx("div",{className:`w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-gradient-to-br ${c(m)} flex items-center justify-center text-xl sm:text-2xl shadow-lg flex-shrink-0`,children:h.avatar||""}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"font-bold text-sm sm:text-base text-gray-900 flex items-center gap-2 flex-wrap",children:[s.jsx("span",{className:"truncate",children:d(h)}),(t==null?void 0:t.id)&&t.id===(h.uid||h.id)&&s.jsx(we,{className:"bg-blue-500 text-xs flex-shrink-0",children:"You"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-gray-500 flex-wrap",children:[h.city&&s.jsx("span",{className:"truncate",children:h.city}),h.madrasah_maktab&&s.jsxs(s.Fragment,{children:[h.city&&s.jsx("span",{className:"hidden xs:inline",children:""}),s.jsxs("span",{className:"flex items-center gap-1 truncate",children:[s.jsx("span",{className:"text-sm sm:text-base",children:""}),s.jsx("span",{className:"truncate",children:h.madrasah_maktab})]})]})]})]})]}),s.jsxs("div",{className:"text-right flex-shrink-0",children:[s.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 text-lg sm:text-xl font-bold text-amber-600",children:[s.jsx(Vt,{className:"w-4 h-4 sm:w-5 sm:h-5 fill-amber-500 text-amber-500"}),s.jsx("span",{children:Number(h.points||0)})]}),s.jsx("p",{className:"text-[10px] sm:text-xs text-gray-500",children:"points"})]})]})},h.uid||h.id||`${h.email||h.full_name||"user"}-${m}`))})})]})]})})}function Yie(t,e=[]){let n=[];function r(a,o){const c=v.createContext(o);c.displayName=a+"Context";const d=n.length;n=[...n,o];const h=f=>{var N;const{scope:g,children:x,..._}=f,j=((N=g==null?void 0:g[t])==null?void 0:N[d])||c,w=v.useMemo(()=>_,Object.values(_));return s.jsx(j.Provider,{value:w,children:x})};h.displayName=a+"Provider";function m(f,g){var j;const x=((j=g==null?void 0:g[t])==null?void 0:j[d])||c,_=v.useContext(x);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[h,m]}const i=()=>{const a=n.map(o=>v.createContext(o));return function(c){const d=(c==null?void 0:c[t])||a;return v.useMemo(()=>({[`__scope${t}`]:{...c,[t]:d}}),[c,d])}};return i.scopeName=t,[r,Jie(i,...e)]}function Jie(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((c,{useScope:d,scopeName:h})=>{const f=d(a)[`__scope${h}`];return{...c,...f}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Xie=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],B6=Xie.reduce((t,e)=>{const n=ry(`Primitive.${e}`),r=v.forwardRef((i,a)=>{const{asChild:o,...c}=i,d=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(d,{...c,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),r_="Progress",s_=100,[Zie]=Yie(r_),[eae,tae]=Zie(r_),$6=v.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:a=nae,...o}=t;(i||i===0)&&!tA(i)&&console.error(rae(`${i}`,"Progress"));const c=tA(i)?i:s_;r!==null&&!nA(r,c)&&console.error(sae(`${r}`,"Progress"));const d=nA(r,c)?r:null,h=Sx(d)?a(d,c):void 0;return s.jsx(eae,{scope:n,value:d,max:c,children:s.jsx(B6.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":Sx(d)?d:void 0,"aria-valuetext":h,role:"progressbar","data-state":W6(d,c),"data-value":d??void 0,"data-max":c,...o,ref:e})})});$6.displayName=r_;var q6="ProgressIndicator",H6=v.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,i=tae(q6,n);return s.jsx(B6.div,{"data-state":W6(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:e})});H6.displayName=q6;function nae(t,e){return`${Math.round(t/e*100)}%`}function W6(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Sx(t){return typeof t=="number"}function tA(t){return Sx(t)&&!isNaN(t)&&t>0}function nA(t,e){return Sx(t)&&!isNaN(t)&&t<=e&&t>=0}function rae(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${s_}\`.`}function sae(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${s_} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var K6=$6,iae=H6;const Rc=v.forwardRef(({className:t,value:e,...n},r)=>s.jsx(K6,{ref:r,className:lt("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",t),...n,children:s.jsx(iae,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Rc.displayName=K6.displayName;function u1(){const[t,e]=v.useState(null),[n,r]=v.useState(null),[i,a]=v.useState([]),[o,c]=v.useState(!0),[d,h]=v.useState(""),m=async _=>{c(!0),h("");try{if(!_){r(null),a([]),c(!1);return}const j=await Hd(_.uid);r(j?{id:_.uid,email:_.email,...j}:{id:_.uid,email:_.email,points:0});try{const{db:w}=Ut();if(w){const N=wl(w,"users",_.uid),E=Ac(N,"game_scores"),A=BN(E,WN("at","desc")),D=(await wd(A)).docs.map(F=>({id:F.id,...F.data()}));a(D)}}catch{}}catch(j){h(`Failed to load profile: ${(j==null?void 0:j.message)||j}`)}finally{c(!1)}};v.useEffect(()=>{const _=qc(async j=>{e(j||null),await m(j)});return()=>{try{_==null||_()}catch{}}},[]);const f=1500,g=Number((n==null?void 0:n.points)||0),x=Math.round(Math.min(g/f*100,100));return s.jsx("div",{className:"min-h-screen py-6 sm:py-8 md:py-12 px-3 sm:px-4",children:s.jsx("div",{className:"max-w-3xl mx-auto",children:s.jsxs(te,{className:"border-2 border-blue-300 shadow-lg mb-6",children:[s.jsx(Oe,{className:"p-4 sm:p-6 bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:s.jsxs(Fe,{className:"text-xl sm:text-2xl flex items-center gap-2",children:[s.jsx(Vt,{className:"w-5 h-5 text-amber-300"}),"My Points"]})}),s.jsxs(re,{className:"p-4 sm:p-6",children:[d&&s.jsx("div",{className:"mb-3 text-sm text-blue-700 bg-blue-50 border border-blue-200 rounded p-2",children:d}),t?o?s.jsx("div",{className:"text-center text-gray-500",children:"Loading your points"}):s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vt,{className:"w-5 h-5 text-amber-500 fill-amber-500"}),s.jsxs("span",{className:"font-bold text-amber-700 text-lg",children:[g," points"]}),s.jsxs(we,{className:"bg-blue-100 text-blue-700",children:["Cap ",f]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(G,{variant:"outline",onClick:()=>m(t),children:[s.jsx(Fx,{className:"w-4 h-4 mr-2"})," Refresh"]}),s.jsx(Nt,{to:"/Leaderboard",children:s.jsxs(G,{children:[s.jsx(xr,{className:"w-4 h-4 mr-2"})," Leaderboard"]})})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx(Rc,{value:x,className:"h-3"}),s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Progress to cap: ",x,"%"]})]}),n!=null&&n.lastAward?s.jsxs("div",{className:"mb-4 p-3 border rounded bg-gray-50",children:[s.jsx("div",{className:"text-sm text-gray-700",children:"Last Award"}),s.jsxs("div",{className:"text-sm text-gray-900 font-medium",children:[n.lastAward.game_type||"Game"," ",n.lastAward.perfect?" Perfect!":""," (+",n.lastAward.points_awarded||0,")"]})]}):s.jsx("div",{className:"mb-4 text-sm text-gray-600",children:"Play a game to earn your first points!"}),s.jsxs("div",{className:"mt-6",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-2",children:"Recent Awards"}),i.length===0?s.jsx("div",{className:"text-sm text-gray-600",children:"No awards yet."}):s.jsx("div",{className:"space-y-2",children:i.slice(0,10).map(_=>s.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[s.jsxs("div",{className:"text-sm text-gray-800",children:[_.game_type||"Game"," ",_.perfect?" Perfect!":""]}),s.jsxs("div",{className:"flex items-center gap-1 text-amber-700 font-semibold",children:[s.jsx(Vt,{className:"w-3 h-3 text-amber-500 fill-amber-500"}),"+",Number(_.points_awarded||0)]})]},_.id))})]}),s.jsxs("div",{className:"mt-6 p-3 border rounded bg-blue-50 text-blue-700 flex items-center gap-2",children:[s.jsx(Vx,{className:"w-4 h-4"}),"Keep learning and playing to earn more points!"]})]}):s.jsxs("div",{className:"text-center text-gray-600",children:[s.jsx("p",{className:"mb-3",children:"Youre not signed in."}),s.jsx("p",{className:"mb-4",children:"Sign in to track your points and awards."}),s.jsx(Nt,{to:"/Signup",children:s.jsx(G,{className:"bg-blue-600 hover:bg-blue-700",children:"Sign in / Signup"})})]})]})]})})})}function aae(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const oae=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,lae=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,cae={};function rA(t,e){return(cae.jsx?lae:oae).test(t)}const uae=/[ \t\n\f\r]/g;function dae(t){return typeof t=="object"?t.type==="text"?sA(t.value):!1:sA(t)}function sA(t){return t.replace(uae,"")===""}class Sf{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}Sf.prototype.normal={};Sf.prototype.property={};Sf.prototype.space=void 0;function G6(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new Sf(n,r,e)}function d1(t){return t.toLowerCase()}class hs{constructor(e,n){this.attribute=n,this.property=e}}hs.prototype.attribute="";hs.prototype.booleanish=!1;hs.prototype.boolean=!1;hs.prototype.commaOrSpaceSeparated=!1;hs.prototype.commaSeparated=!1;hs.prototype.defined=!1;hs.prototype.mustUseProperty=!1;hs.prototype.number=!1;hs.prototype.overloadedBoolean=!1;hs.prototype.property="";hs.prototype.spaceSeparated=!1;hs.prototype.space=void 0;let hae=0;const jt=Hc(),Wn=Hc(),h1=Hc(),Ce=Hc(),on=Hc(),rd=Hc(),Ss=Hc();function Hc(){return 2**++hae}const m1=Object.freeze(Object.defineProperty({__proto__:null,boolean:jt,booleanish:Wn,commaOrSpaceSeparated:Ss,commaSeparated:rd,number:Ce,overloadedBoolean:h1,spaceSeparated:on},Symbol.toStringTag,{value:"Module"})),pb=Object.keys(m1);class i_ extends hs{constructor(e,n,r,i){let a=-1;if(super(e,n),iA(this,"space",i),typeof r=="number")for(;++a<pb.length;){const o=pb[a];iA(this,pb[a],(r&m1[o])===m1[o])}}}i_.prototype.defined=!0;function iA(t,e,n){n&&(t[e]=n)}function Wd(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const a=new i_(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),e[r]=a,n[d1(r)]=r,n[d1(a.attribute)]=r}return new Sf(e,n,t.space)}const Q6=Wd({properties:{ariaActiveDescendant:null,ariaAtomic:Wn,ariaAutoComplete:null,ariaBusy:Wn,ariaChecked:Wn,ariaColCount:Ce,ariaColIndex:Ce,ariaColSpan:Ce,ariaControls:on,ariaCurrent:null,ariaDescribedBy:on,ariaDetails:null,ariaDisabled:Wn,ariaDropEffect:on,ariaErrorMessage:null,ariaExpanded:Wn,ariaFlowTo:on,ariaGrabbed:Wn,ariaHasPopup:null,ariaHidden:Wn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:on,ariaLevel:Ce,ariaLive:null,ariaModal:Wn,ariaMultiLine:Wn,ariaMultiSelectable:Wn,ariaOrientation:null,ariaOwns:on,ariaPlaceholder:null,ariaPosInSet:Ce,ariaPressed:Wn,ariaReadOnly:Wn,ariaRelevant:null,ariaRequired:Wn,ariaRoleDescription:on,ariaRowCount:Ce,ariaRowIndex:Ce,ariaRowSpan:Ce,ariaSelected:Wn,ariaSetSize:Ce,ariaSort:null,ariaValueMax:Ce,ariaValueMin:Ce,ariaValueNow:Ce,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function Y6(t,e){return e in t?t[e]:e}function J6(t,e){return Y6(t,e.toLowerCase())}const mae=Wd({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:rd,acceptCharset:on,accessKey:on,action:null,allow:null,allowFullScreen:jt,allowPaymentRequest:jt,allowUserMedia:jt,alt:null,as:null,async:jt,autoCapitalize:null,autoComplete:on,autoFocus:jt,autoPlay:jt,blocking:on,capture:null,charSet:null,checked:jt,cite:null,className:on,cols:Ce,colSpan:null,content:null,contentEditable:Wn,controls:jt,controlsList:on,coords:Ce|rd,crossOrigin:null,data:null,dateTime:null,decoding:null,default:jt,defer:jt,dir:null,dirName:null,disabled:jt,download:h1,draggable:Wn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:jt,formTarget:null,headers:on,height:Ce,hidden:h1,high:Ce,href:null,hrefLang:null,htmlFor:on,httpEquiv:on,id:null,imageSizes:null,imageSrcSet:null,inert:jt,inputMode:null,integrity:null,is:null,isMap:jt,itemId:null,itemProp:on,itemRef:on,itemScope:jt,itemType:on,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:jt,low:Ce,manifest:null,max:null,maxLength:Ce,media:null,method:null,min:null,minLength:Ce,multiple:jt,muted:jt,name:null,nonce:null,noModule:jt,noValidate:jt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:jt,optimum:Ce,pattern:null,ping:on,placeholder:null,playsInline:jt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:jt,referrerPolicy:null,rel:on,required:jt,reversed:jt,rows:Ce,rowSpan:Ce,sandbox:on,scope:null,scoped:jt,seamless:jt,selected:jt,shadowRootClonable:jt,shadowRootDelegatesFocus:jt,shadowRootMode:null,shape:null,size:Ce,sizes:null,slot:null,span:Ce,spellCheck:Wn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ce,step:null,style:null,tabIndex:Ce,target:null,title:null,translate:null,type:null,typeMustMatch:jt,useMap:null,value:Wn,width:Ce,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:on,axis:null,background:null,bgColor:null,border:Ce,borderColor:null,bottomMargin:Ce,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:jt,declare:jt,event:null,face:null,frame:null,frameBorder:null,hSpace:Ce,leftMargin:Ce,link:null,longDesc:null,lowSrc:null,marginHeight:Ce,marginWidth:Ce,noResize:jt,noHref:jt,noShade:jt,noWrap:jt,object:null,profile:null,prompt:null,rev:null,rightMargin:Ce,rules:null,scheme:null,scrolling:Wn,standby:null,summary:null,text:null,topMargin:Ce,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ce,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:jt,disableRemotePlayback:jt,prefix:null,property:null,results:Ce,security:null,unselectable:null},space:"html",transform:J6}),fae=Wd({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Ss,accentHeight:Ce,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ce,amplitude:Ce,arabicForm:null,ascent:Ce,attributeName:null,attributeType:null,azimuth:Ce,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ce,by:null,calcMode:null,capHeight:Ce,className:on,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ce,diffuseConstant:Ce,direction:null,display:null,dur:null,divisor:Ce,dominantBaseline:null,download:jt,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ce,enableBackground:null,end:null,event:null,exponent:Ce,externalResourcesRequired:null,fill:null,fillOpacity:Ce,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:rd,g2:rd,glyphName:rd,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ce,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ce,horizOriginX:Ce,horizOriginY:Ce,id:null,ideographic:Ce,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ce,k:Ce,k1:Ce,k2:Ce,k3:Ce,k4:Ce,kernelMatrix:Ss,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ce,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ce,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ce,overlineThickness:Ce,paintOrder:null,panose1:null,path:null,pathLength:Ce,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:on,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ce,pointsAtY:Ce,pointsAtZ:Ce,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ss,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ss,rev:Ss,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ss,requiredFeatures:Ss,requiredFonts:Ss,requiredFormats:Ss,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ce,specularExponent:Ce,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ce,strikethroughThickness:Ce,string:null,stroke:null,strokeDashArray:Ss,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ce,strokeOpacity:Ce,strokeWidth:null,style:null,surfaceScale:Ce,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ss,tabIndex:Ce,tableValues:null,target:null,targetX:Ce,targetY:Ce,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ss,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ce,underlineThickness:Ce,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ce,values:null,vAlphabetic:Ce,vMathematical:Ce,vectorEffect:null,vHanging:Ce,vIdeographic:Ce,version:null,vertAdvY:Ce,vertOriginX:Ce,vertOriginY:Ce,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ce,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Y6}),X6=Wd({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),Z6=Wd({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:J6}),eL=Wd({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),pae={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},gae=/[A-Z]/g,aA=/-[a-z]/g,xae=/^data[-\w.:]+$/i;function yae(t,e){const n=d1(e);let r=e,i=hs;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&xae.test(e)){if(e.charAt(4)==="-"){const a=e.slice(5).replace(aA,bae);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=e.slice(4);if(!aA.test(a)){let o=a.replace(gae,vae);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=i_}return new i(r,e)}function vae(t){return"-"+t.toLowerCase()}function bae(t){return t.charAt(1).toUpperCase()}const wae=G6([Q6,mae,X6,Z6,eL],"html"),a_=G6([Q6,fae,X6,Z6,eL],"svg");function jae(t){return t.join(" ").trim()}var Iu={},gb,oA;function Nae(){if(oA)return gb;oA=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,c=/^\s+|\s+$/g,d=`
`,h="/",m="*",f="",g="comment",x="declaration";function _(w,N){if(typeof w!="string")throw new TypeError("First argument must be a string");if(!w)return[];N=N||{};var E=1,A=1;function T(J){var ne=J.match(e);ne&&(E+=ne.length);var ce=J.lastIndexOf(d);A=~ce?J.length-ce:A+J.length}function D(){var J={line:E,column:A};return function(ne){return ne.position=new F(J),I(),ne}}function F(J){this.start=J,this.end={line:E,column:A},this.source=N.source}F.prototype.content=w;function P(J){var ne=new Error(N.source+":"+E+":"+A+": "+J);if(ne.reason=J,ne.filename=N.source,ne.line=E,ne.column=A,ne.source=w,!N.silent)throw ne}function R(J){var ne=J.exec(w);if(ne){var ce=ne[0];return T(ce),w=w.slice(ce.length),ne}}function I(){R(n)}function O(J){var ne;for(J=J||[];ne=V();)ne!==!1&&J.push(ne);return J}function V(){var J=D();if(!(h!=w.charAt(0)||m!=w.charAt(1))){for(var ne=2;f!=w.charAt(ne)&&(m!=w.charAt(ne)||h!=w.charAt(ne+1));)++ne;if(ne+=2,f===w.charAt(ne-1))return P("End of comment missing");var ce=w.slice(2,ne-2);return A+=2,T(ce),w=w.slice(ne),A+=2,J({type:g,comment:ce})}}function M(){var J=D(),ne=R(r);if(ne){if(V(),!R(i))return P("property missing ':'");var ce=R(a),se=J({type:x,property:j(ne[0].replace(t,f)),value:ce?j(ce[0].replace(t,f)):f});return R(o),se}}function U(){var J=[];O(J);for(var ne;ne=M();)ne!==!1&&(J.push(ne),O(J));return J}return I(),U()}function j(w){return w?w.replace(c,f):f}return gb=_,gb}var lA;function _ae(){if(lA)return Iu;lA=1;var t=Iu&&Iu.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Iu,"__esModule",{value:!0}),Iu.default=n;const e=t(Nae());function n(r,i){let a=null;if(!r||typeof r!="string")return a;const o=(0,e.default)(r),c=typeof i=="function";return o.forEach(d=>{if(d.type!=="declaration")return;const{property:h,value:m}=d;c?i(h,m,d):m&&(a=a||{},a[h]=m)}),a}return Iu}var Uh={},cA;function Sae(){if(cA)return Uh;cA=1,Object.defineProperty(Uh,"__esModule",{value:!0}),Uh.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,a=function(h){return!h||n.test(h)||t.test(h)},o=function(h,m){return m.toUpperCase()},c=function(h,m){return"".concat(m,"-")},d=function(h,m){return m===void 0&&(m={}),a(h)?h:(h=h.toLowerCase(),m.reactCompat?h=h.replace(i,c):h=h.replace(r,c),h.replace(e,o))};return Uh.camelCase=d,Uh}var zh,uA;function Eae(){if(uA)return zh;uA=1;var t=zh&&zh.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},e=t(_ae()),n=Sae();function r(i,a){var o={};return!i||typeof i!="string"||(0,e.default)(i,function(c,d){c&&d&&(o[(0,n.camelCase)(c,a)]=d)}),o}return r.default=r,zh=r,zh}var Cae=Eae();const kae=Ed(Cae),tL=nL("end"),o_=nL("start");function nL(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Tae(t){const e=o_(t),n=tL(t);if(e&&n)return{start:e,end:n}}function vm(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?dA(t.position):"start"in t||"end"in t?dA(t):"line"in t||"column"in t?f1(t):""}function f1(t){return hA(t&&t.line)+":"+hA(t&&t.column)}function dA(t){return f1(t&&t.start)+"-"+f1(t&&t.end)}function hA(t){return t&&typeof t=="number"?t:1}class Pr extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},o=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof e=="string"?i=e:!a.cause&&e&&(o=!0,i=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof r=="string"){const d=r.indexOf(":");d===-1?a.ruleId=r:(a.source=r.slice(0,d),a.ruleId=r.slice(d+1))}if(!a.place&&a.ancestors&&a.ancestors){const d=a.ancestors[a.ancestors.length-1];d&&(a.place=d.position)}const c=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=c?c.line:void 0,this.name=vm(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=o&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Pr.prototype.file="";Pr.prototype.name="";Pr.prototype.reason="";Pr.prototype.message="";Pr.prototype.stack="";Pr.prototype.column=void 0;Pr.prototype.line=void 0;Pr.prototype.ancestors=void 0;Pr.prototype.cause=void 0;Pr.prototype.fatal=void 0;Pr.prototype.place=void 0;Pr.prototype.ruleId=void 0;Pr.prototype.source=void 0;const l_={}.hasOwnProperty,Aae=new Map,Iae=/[A-Z]/g,Rae=new Set(["table","tbody","thead","tfoot","tr"]),Pae=new Set(["td","th"]),rL="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Dae(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Bae(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=zae(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?a_:wae,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},a=sL(i,t,void 0);return a&&typeof a!="string"?a:i.create(t,i.Fragment,{children:a||void 0},void 0)}function sL(t,e,n){if(e.type==="element")return Mae(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return Lae(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return Fae(t,e,n);if(e.type==="mdxjsEsm")return Oae(t,e);if(e.type==="root")return Vae(t,e,n);if(e.type==="text")return Uae(t,e)}function Mae(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=a_,t.schema=i),t.ancestors.push(e);const a=aL(t,e.tagName,!1),o=$ae(t,e);let c=u_(t,e);return Rae.has(e.tagName)&&(c=c.filter(function(d){return typeof d=="string"?!dae(d):!0})),iL(t,o,a,e),c_(o,c),t.ancestors.pop(),t.schema=r,t.create(e,a,o,n)}function Lae(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}Qm(t,e.position)}function Oae(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Qm(t,e.position)}function Fae(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=a_,t.schema=i),t.ancestors.push(e);const a=e.name===null?t.Fragment:aL(t,e.name,!0),o=qae(t,e),c=u_(t,e);return iL(t,o,a,e),c_(o,c),t.ancestors.pop(),t.schema=r,t.create(e,a,o,n)}function Vae(t,e,n){const r={};return c_(r,u_(t,e)),t.create(e,t.Fragment,r,n)}function Uae(t,e){return e.value}function iL(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function c_(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function zae(t,e,n){return r;function r(i,a,o,c){const h=Array.isArray(o.children)?n:e;return c?h(a,o,c):h(a,o)}}function Bae(t,e){return n;function n(r,i,a,o){const c=Array.isArray(a.children),d=o_(r);return e(i,a,o,c,{columnNumber:d?d.column-1:void 0,fileName:t,lineNumber:d?d.line:void 0},void 0)}}function $ae(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&l_.call(e.properties,i)){const a=Hae(t,i,e.properties[i]);if(a){const[o,c]=a;t.tableCellAlignToStyle&&o==="align"&&typeof c=="string"&&Pae.has(e.tagName)?r=c:n[o]=c}}if(r){const a=n.style||(n.style={});a[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function qae(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const a=r.data.estree.body[0];a.type;const o=a.expression;o.type;const c=o.properties[0];c.type,Object.assign(n,t.evaluater.evaluateExpression(c.argument))}else Qm(t,e.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const c=r.value.data.estree.body[0];c.type,a=t.evaluater.evaluateExpression(c.expression)}else Qm(t,e.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function u_(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:Aae;for(;++r<e.children.length;){const a=e.children[r];let o;if(t.passKeys){const d=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(d){const h=i.get(d)||0;o=d+"-"+h,i.set(d,h+1)}}const c=sL(t,a,o);c!==void 0&&n.push(c)}return n}function Hae(t,e,n){const r=yae(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?aae(n):jae(n)),r.property==="style"){let i=typeof n=="object"?n:Wae(t,String(n));return t.stylePropertyNameCase==="css"&&(i=Kae(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?pae[r.property]||r.property:r.attribute,n]}}function Wae(t,e){try{return kae(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new Pr("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=rL+"#cannot-parse-style-attribute",i}}function aL(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let a=-1,o;for(;++a<i.length;){const c=rA(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};o=o?{type:"MemberExpression",object:o,property:c,computed:!!(a&&c.type==="Literal"),optional:!1}:c}r=o}else r=rA(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return l_.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);Qm(t)}function Qm(t,e){const n=new Pr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=rL+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Kae(t){const e={};let n;for(n in t)l_.call(t,n)&&(e[Gae(n)]=t[n]);return e}function Gae(t){let e=t.replace(Iae,Qae);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function Qae(t){return"-"+t.toLowerCase()}const xb={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Yae={};function Jae(t,e){const n=Yae,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return oL(t,r,i)}function oL(t,e,n){if(Xae(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return mA(t.children,e,n)}return Array.isArray(t)?mA(t,e,n):""}function mA(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=oL(t[i],e,n);return r.join("")}function Xae(t){return!!(t&&typeof t=="object")}const fA=document.createElement("i");function d_(t){const e="&"+t+";";fA.innerHTML=e;const n=fA.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function ha(t,e,n,r){const i=t.length;let a=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(e,n),t.splice(...o);else for(n&&t.splice(e,n);a<r.length;)o=r.slice(a,a+1e4),o.unshift(e,0),t.splice(...o),a+=1e4,e+=1e4}function Ws(t,e){return t.length>0?(ha(t,t.length,0,e),t):e}const pA={}.hasOwnProperty;function Zae(t){const e={};let n=-1;for(;++n<t.length;)eoe(e,t[n]);return e}function eoe(t,e){let n;for(n in e){const i=(pA.call(t,n)?t[n]:void 0)||(t[n]={}),a=e[n];let o;if(a)for(o in a){pA.call(i,o)||(i[o]=[]);const c=a[o];toe(i[o],Array.isArray(c)?c:c?[c]:[])}}}function toe(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);ha(t,0,0,r)}function lL(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function sd(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ki=Al(/[A-Za-z]/),Is=Al(/[\dA-Za-z]/),noe=Al(/[#-'*+\--9=?A-Z^-~]/);function p1(t){return t!==null&&(t<32||t===127)}const g1=Al(/\d/),roe=Al(/[\dA-Fa-f]/),soe=Al(/[!-/:-@[-`{-~]/);function ht(t){return t!==null&&t<-2}function ls(t){return t!==null&&(t<0||t===32)}function $t(t){return t===-2||t===-1||t===32}const ioe=Al(new RegExp("\\p{P}|\\p{S}","u")),aoe=Al(/\s/);function Al(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Kd(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const a=t.charCodeAt(n);let o="";if(a===37&&Is(t.charCodeAt(n+1))&&Is(t.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(o=String.fromCharCode(a));else if(a>55295&&a<57344){const c=t.charCodeAt(n+1);a<56320&&c>56319&&c<57344?(o=String.fromCharCode(a,c),i=1):o=""}else o=String.fromCharCode(a);o&&(e.push(t.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function cn(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return o;function o(d){return $t(d)?(t.enter(n),c(d)):e(d)}function c(d){return $t(d)&&a++<i?(t.consume(d),c):(t.exit(n),e(d))}}const ooe={tokenize:loe};function loe(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(c){if(c===null){t.consume(c);return}return t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),cn(t,e,"linePrefix")}function i(c){return t.enter("paragraph"),a(c)}function a(c){const d=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=d),n=d,o(c)}function o(c){if(c===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(c);return}return ht(c)?(t.consume(c),t.exit("chunkText"),a):(t.consume(c),o)}}const coe={tokenize:uoe},gA={tokenize:doe};function uoe(t){const e=this,n=[];let r=0,i,a,o;return c;function c(A){if(r<n.length){const T=n[r];return e.containerState=T[1],t.attempt(T[0].continuation,d,h)(A)}return h(A)}function d(A){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&E();const T=e.events.length;let D=T,F;for(;D--;)if(e.events[D][0]==="exit"&&e.events[D][1].type==="chunkFlow"){F=e.events[D][1].end;break}N(r);let P=T;for(;P<e.events.length;)e.events[P][1].end={...F},P++;return ha(e.events,D+1,0,e.events.slice(T)),e.events.length=P,h(A)}return c(A)}function h(A){if(r===n.length){if(!i)return g(A);if(i.currentConstruct&&i.currentConstruct.concrete)return _(A);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(gA,m,f)(A)}function m(A){return i&&E(),N(r),g(A)}function f(A){return e.parser.lazy[e.now().line]=r!==n.length,o=e.now().offset,_(A)}function g(A){return e.containerState={},t.attempt(gA,x,_)(A)}function x(A){return r++,n.push([e.currentConstruct,e.containerState]),g(A)}function _(A){if(A===null){i&&E(),N(0),t.consume(A);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),j(A)}function j(A){if(A===null){w(t.exit("chunkFlow"),!0),N(0),t.consume(A);return}return ht(A)?(t.consume(A),w(t.exit("chunkFlow")),r=0,e.interrupt=void 0,c):(t.consume(A),j)}function w(A,T){const D=e.sliceStream(A);if(T&&D.push(null),A.previous=a,a&&(a.next=A),a=A,i.defineSkip(A.start),i.write(D),e.parser.lazy[A.start.line]){let F=i.events.length;for(;F--;)if(i.events[F][1].start.offset<o&&(!i.events[F][1].end||i.events[F][1].end.offset>o))return;const P=e.events.length;let R=P,I,O;for(;R--;)if(e.events[R][0]==="exit"&&e.events[R][1].type==="chunkFlow"){if(I){O=e.events[R][1].end;break}I=!0}for(N(r),F=P;F<e.events.length;)e.events[F][1].end={...O},F++;ha(e.events,R+1,0,e.events.slice(P)),e.events.length=F}}function N(A){let T=n.length;for(;T-- >A;){const D=n[T];e.containerState=D[1],D[0].exit.call(e,t)}n.length=A}function E(){i.write([null]),a=void 0,i=void 0,e.containerState._closeFlow=void 0}}function doe(t,e,n){return cn(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function xA(t){if(t===null||ls(t)||aoe(t))return 1;if(ioe(t))return 2}function h_(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const a=t[i].resolveAll;a&&!r.includes(a)&&(e=a(e,n),r.push(a))}return e}const x1={name:"attention",resolveAll:hoe,tokenize:moe};function hoe(t,e){let n=-1,r,i,a,o,c,d,h,m;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;d=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const f={...t[r][1].end},g={...t[n][1].start};yA(f,-d),yA(g,d),o={type:d>1?"strongSequence":"emphasisSequence",start:f,end:{...t[r][1].end}},c={type:d>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:g},a={type:d>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:d>1?"strong":"emphasis",start:{...o.start},end:{...c.end}},t[r][1].end={...o.start},t[n][1].start={...c.end},h=[],t[r][1].end.offset-t[r][1].start.offset&&(h=Ws(h,[["enter",t[r][1],e],["exit",t[r][1],e]])),h=Ws(h,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",a,e]]),h=Ws(h,h_(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),h=Ws(h,[["exit",a,e],["enter",c,e],["exit",c,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(m=2,h=Ws(h,[["enter",t[n][1],e],["exit",t[n][1],e]])):m=0,ha(t,r-1,n-r+3,h),n=r+h.length-m-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function moe(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=xA(r);let a;return o;function o(d){return a=d,t.enter("attentionSequence"),c(d)}function c(d){if(d===a)return t.consume(d),c;const h=t.exit("attentionSequence"),m=xA(d),f=!m||m===2&&i||n.includes(d),g=!i||i===2&&m||n.includes(r);return h._open=!!(a===42?f:f&&(i||!g)),h._close=!!(a===42?g:g&&(m||!f)),e(d)}}function yA(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const foe={name:"autolink",tokenize:poe};function poe(t,e,n){let r=0;return i;function i(x){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(x),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),a}function a(x){return Ki(x)?(t.consume(x),o):x===64?n(x):h(x)}function o(x){return x===43||x===45||x===46||Is(x)?(r=1,c(x)):h(x)}function c(x){return x===58?(t.consume(x),r=0,d):(x===43||x===45||x===46||Is(x))&&r++<32?(t.consume(x),c):(r=0,h(x))}function d(x){return x===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(x),t.exit("autolinkMarker"),t.exit("autolink"),e):x===null||x===32||x===60||p1(x)?n(x):(t.consume(x),d)}function h(x){return x===64?(t.consume(x),m):noe(x)?(t.consume(x),h):n(x)}function m(x){return Is(x)?f(x):n(x)}function f(x){return x===46?(t.consume(x),r=0,m):x===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(x),t.exit("autolinkMarker"),t.exit("autolink"),e):g(x)}function g(x){if((x===45||Is(x))&&r++<63){const _=x===45?g:f;return t.consume(x),_}return n(x)}}const Cy={partial:!0,tokenize:goe};function goe(t,e,n){return r;function r(a){return $t(a)?cn(t,i,"linePrefix")(a):i(a)}function i(a){return a===null||ht(a)?e(a):n(a)}}const cL={continuation:{tokenize:yoe},exit:voe,name:"blockQuote",tokenize:xoe};function xoe(t,e,n){const r=this;return i;function i(o){if(o===62){const c=r.containerState;return c.open||(t.enter("blockQuote",{_container:!0}),c.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),a}return n(o)}function a(o){return $t(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function yoe(t,e,n){const r=this;return i;function i(o){return $t(o)?cn(t,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):a(o)}function a(o){return t.attempt(cL,e,n)(o)}}function voe(t){t.exit("blockQuote")}const uL={name:"characterEscape",tokenize:boe};function boe(t,e,n){return r;function r(a){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(a),t.exit("escapeMarker"),i}function i(a){return soe(a)?(t.enter("characterEscapeValue"),t.consume(a),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(a)}}const dL={name:"characterReference",tokenize:woe};function woe(t,e,n){const r=this;let i=0,a,o;return c;function c(f){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),d}function d(f){return f===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(f),t.exit("characterReferenceMarkerNumeric"),h):(t.enter("characterReferenceValue"),a=31,o=Is,m(f))}function h(f){return f===88||f===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(f),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),a=6,o=roe,m):(t.enter("characterReferenceValue"),a=7,o=g1,m(f))}function m(f){if(f===59&&i){const g=t.exit("characterReferenceValue");return o===Is&&!d_(r.sliceSerialize(g))?n(f):(t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return o(f)&&i++<a?(t.consume(f),m):n(f)}}const vA={partial:!0,tokenize:Noe},bA={concrete:!0,name:"codeFenced",tokenize:joe};function joe(t,e,n){const r=this,i={partial:!0,tokenize:D};let a=0,o=0,c;return d;function d(F){return h(F)}function h(F){const P=r.events[r.events.length-1];return a=P&&P[1].type==="linePrefix"?P[2].sliceSerialize(P[1],!0).length:0,c=F,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),m(F)}function m(F){return F===c?(o++,t.consume(F),m):o<3?n(F):(t.exit("codeFencedFenceSequence"),$t(F)?cn(t,f,"whitespace")(F):f(F))}function f(F){return F===null||ht(F)?(t.exit("codeFencedFence"),r.interrupt?e(F):t.check(vA,j,T)(F)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),g(F))}function g(F){return F===null||ht(F)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),f(F)):$t(F)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),cn(t,x,"whitespace")(F)):F===96&&F===c?n(F):(t.consume(F),g)}function x(F){return F===null||ht(F)?f(F):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),_(F))}function _(F){return F===null||ht(F)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),f(F)):F===96&&F===c?n(F):(t.consume(F),_)}function j(F){return t.attempt(i,T,w)(F)}function w(F){return t.enter("lineEnding"),t.consume(F),t.exit("lineEnding"),N}function N(F){return a>0&&$t(F)?cn(t,E,"linePrefix",a+1)(F):E(F)}function E(F){return F===null||ht(F)?t.check(vA,j,T)(F):(t.enter("codeFlowValue"),A(F))}function A(F){return F===null||ht(F)?(t.exit("codeFlowValue"),E(F)):(t.consume(F),A)}function T(F){return t.exit("codeFenced"),e(F)}function D(F,P,R){let I=0;return O;function O(ne){return F.enter("lineEnding"),F.consume(ne),F.exit("lineEnding"),V}function V(ne){return F.enter("codeFencedFence"),$t(ne)?cn(F,M,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ne):M(ne)}function M(ne){return ne===c?(F.enter("codeFencedFenceSequence"),U(ne)):R(ne)}function U(ne){return ne===c?(I++,F.consume(ne),U):I>=o?(F.exit("codeFencedFenceSequence"),$t(ne)?cn(F,J,"whitespace")(ne):J(ne)):R(ne)}function J(ne){return ne===null||ht(ne)?(F.exit("codeFencedFence"),P(ne)):R(ne)}}}function Noe(t,e,n){const r=this;return i;function i(o){return o===null?n(o):(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),a)}function a(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}const yb={name:"codeIndented",tokenize:Soe},_oe={partial:!0,tokenize:Eoe};function Soe(t,e,n){const r=this;return i;function i(h){return t.enter("codeIndented"),cn(t,a,"linePrefix",5)(h)}function a(h){const m=r.events[r.events.length-1];return m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?o(h):n(h)}function o(h){return h===null?d(h):ht(h)?t.attempt(_oe,o,d)(h):(t.enter("codeFlowValue"),c(h))}function c(h){return h===null||ht(h)?(t.exit("codeFlowValue"),o(h)):(t.consume(h),c)}function d(h){return t.exit("codeIndented"),e(h)}}function Eoe(t,e,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):ht(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i):cn(t,a,"linePrefix",5)(o)}function a(o){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(o):ht(o)?i(o):n(o)}}const Coe={name:"codeText",previous:Toe,resolve:koe,tokenize:Aoe};function koe(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function Toe(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Aoe(t,e,n){let r=0,i,a;return o;function o(f){return t.enter("codeText"),t.enter("codeTextSequence"),c(f)}function c(f){return f===96?(t.consume(f),r++,c):(t.exit("codeTextSequence"),d(f))}function d(f){return f===null?n(f):f===32?(t.enter("space"),t.consume(f),t.exit("space"),d):f===96?(a=t.enter("codeTextSequence"),i=0,m(f)):ht(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),d):(t.enter("codeTextData"),h(f))}function h(f){return f===null||f===32||f===96||ht(f)?(t.exit("codeTextData"),d(f)):(t.consume(f),h)}function m(f){return f===96?(t.consume(f),i++,m):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(f)):(a.type="codeTextData",h(f))}}class Ioe{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Bh(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Bh(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Bh(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);Bh(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Bh(this.left,n.reverse())}}}function Bh(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function hL(t){const e={};let n=-1,r,i,a,o,c,d,h;const m=new Ioe(t);for(;++n<m.length;){for(;n in e;)n=e[n];if(r=m.get(n),n&&r[1].type==="chunkFlow"&&m.get(n-1)[1].type==="listItemPrefix"&&(d=r[1]._tokenizer.events,a=0,a<d.length&&d[a][1].type==="lineEndingBlank"&&(a+=2),a<d.length&&d[a][1].type==="content"))for(;++a<d.length&&d[a][1].type!=="content";)d[a][1].type==="chunkText"&&(d[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,Roe(m,n)),n=e[n],h=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(o=m.get(a),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(m.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=a);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...m.get(i)[1].start},c=m.slice(i,n),c.unshift(r),m.splice(i,n-i+1,c))}}return ha(t,0,Number.POSITIVE_INFINITY,m.slice(0)),!h}function Roe(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const a=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const c=o.events,d=[],h={};let m,f,g=-1,x=n,_=0,j=0;const w=[j];for(;x;){for(;t.get(++i)[1]!==x;);a.push(i),x._tokenizer||(m=r.sliceStream(x),x.next||m.push(null),f&&o.defineSkip(x.start),x._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(m),x._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=x,x=x.next}for(x=n;++g<c.length;)c[g][0]==="exit"&&c[g-1][0]==="enter"&&c[g][1].type===c[g-1][1].type&&c[g][1].start.line!==c[g][1].end.line&&(j=g+1,w.push(j),x._tokenizer=void 0,x.previous=void 0,x=x.next);for(o.events=[],x?(x._tokenizer=void 0,x.previous=void 0):w.pop(),g=w.length;g--;){const N=c.slice(w[g],w[g+1]),E=a.pop();d.push([E,E+N.length-1]),t.splice(E,2,N)}for(d.reverse(),g=-1;++g<d.length;)h[_+d[g][0]]=_+d[g][1],_+=d[g][1]-d[g][0]-1;return h}const Poe={resolve:Moe,tokenize:Loe},Doe={partial:!0,tokenize:Ooe};function Moe(t){return hL(t),t}function Loe(t,e){let n;return r;function r(c){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(c)}function i(c){return c===null?a(c):ht(c)?t.check(Doe,o,a)(c):(t.consume(c),i)}function a(c){return t.exit("chunkContent"),t.exit("content"),e(c)}function o(c){return t.consume(c),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Ooe(t,e,n){const r=this;return i;function i(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),cn(t,a,"linePrefix")}function a(o){if(o===null||ht(o))return n(o);const c=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(o):t.interrupt(r.parser.constructs.flow,n,e)(o)}}function mL(t,e,n,r,i,a,o,c,d){const h=d||Number.POSITIVE_INFINITY;let m=0;return f;function f(N){return N===60?(t.enter(r),t.enter(i),t.enter(a),t.consume(N),t.exit(a),g):N===null||N===32||N===41||p1(N)?n(N):(t.enter(r),t.enter(o),t.enter(c),t.enter("chunkString",{contentType:"string"}),j(N))}function g(N){return N===62?(t.enter(a),t.consume(N),t.exit(a),t.exit(i),t.exit(r),e):(t.enter(c),t.enter("chunkString",{contentType:"string"}),x(N))}function x(N){return N===62?(t.exit("chunkString"),t.exit(c),g(N)):N===null||N===60||ht(N)?n(N):(t.consume(N),N===92?_:x)}function _(N){return N===60||N===62||N===92?(t.consume(N),x):x(N)}function j(N){return!m&&(N===null||N===41||ls(N))?(t.exit("chunkString"),t.exit(c),t.exit(o),t.exit(r),e(N)):m<h&&N===40?(t.consume(N),m++,j):N===41?(t.consume(N),m--,j):N===null||N===32||N===40||p1(N)?n(N):(t.consume(N),N===92?w:j)}function w(N){return N===40||N===41||N===92?(t.consume(N),j):j(N)}}function fL(t,e,n,r,i,a){const o=this;let c=0,d;return h;function h(x){return t.enter(r),t.enter(i),t.consume(x),t.exit(i),t.enter(a),m}function m(x){return c>999||x===null||x===91||x===93&&!d||x===94&&!c&&"_hiddenFootnoteSupport"in o.parser.constructs?n(x):x===93?(t.exit(a),t.enter(i),t.consume(x),t.exit(i),t.exit(r),e):ht(x)?(t.enter("lineEnding"),t.consume(x),t.exit("lineEnding"),m):(t.enter("chunkString",{contentType:"string"}),f(x))}function f(x){return x===null||x===91||x===93||ht(x)||c++>999?(t.exit("chunkString"),m(x)):(t.consume(x),d||(d=!$t(x)),x===92?g:f)}function g(x){return x===91||x===92||x===93?(t.consume(x),c++,f):f(x)}}function pL(t,e,n,r,i,a){let o;return c;function c(g){return g===34||g===39||g===40?(t.enter(r),t.enter(i),t.consume(g),t.exit(i),o=g===40?41:g,d):n(g)}function d(g){return g===o?(t.enter(i),t.consume(g),t.exit(i),t.exit(r),e):(t.enter(a),h(g))}function h(g){return g===o?(t.exit(a),d(o)):g===null?n(g):ht(g)?(t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),cn(t,h,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),m(g))}function m(g){return g===o||g===null||ht(g)?(t.exit("chunkString"),h(g)):(t.consume(g),g===92?f:m)}function f(g){return g===o||g===92?(t.consume(g),m):m(g)}}function bm(t,e){let n;return r;function r(i){return ht(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):$t(i)?cn(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const Foe={name:"definition",tokenize:Uoe},Voe={partial:!0,tokenize:zoe};function Uoe(t,e,n){const r=this;let i;return a;function a(x){return t.enter("definition"),o(x)}function o(x){return fL.call(r,t,c,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(x)}function c(x){return i=sd(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),x===58?(t.enter("definitionMarker"),t.consume(x),t.exit("definitionMarker"),d):n(x)}function d(x){return ls(x)?bm(t,h)(x):h(x)}function h(x){return mL(t,m,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(x)}function m(x){return t.attempt(Voe,f,f)(x)}function f(x){return $t(x)?cn(t,g,"whitespace")(x):g(x)}function g(x){return x===null||ht(x)?(t.exit("definition"),r.parser.defined.push(i),e(x)):n(x)}}function zoe(t,e,n){return r;function r(c){return ls(c)?bm(t,i)(c):n(c)}function i(c){return pL(t,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function a(c){return $t(c)?cn(t,o,"whitespace")(c):o(c)}function o(c){return c===null||ht(c)?e(c):n(c)}}const Boe={name:"hardBreakEscape",tokenize:$oe};function $oe(t,e,n){return r;function r(a){return t.enter("hardBreakEscape"),t.consume(a),i}function i(a){return ht(a)?(t.exit("hardBreakEscape"),e(a)):n(a)}}const qoe={name:"headingAtx",resolve:Hoe,tokenize:Woe};function Hoe(t,e){let n=t.length-2,r=3,i,a;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},a={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},ha(t,r,n-r+1,[["enter",i,e],["enter",a,e],["exit",a,e],["exit",i,e]])),t}function Woe(t,e,n){let r=0;return i;function i(m){return t.enter("atxHeading"),a(m)}function a(m){return t.enter("atxHeadingSequence"),o(m)}function o(m){return m===35&&r++<6?(t.consume(m),o):m===null||ls(m)?(t.exit("atxHeadingSequence"),c(m)):n(m)}function c(m){return m===35?(t.enter("atxHeadingSequence"),d(m)):m===null||ht(m)?(t.exit("atxHeading"),e(m)):$t(m)?cn(t,c,"whitespace")(m):(t.enter("atxHeadingText"),h(m))}function d(m){return m===35?(t.consume(m),d):(t.exit("atxHeadingSequence"),c(m))}function h(m){return m===null||m===35||ls(m)?(t.exit("atxHeadingText"),c(m)):(t.consume(m),h)}}const Koe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],wA=["pre","script","style","textarea"],Goe={concrete:!0,name:"htmlFlow",resolveTo:Joe,tokenize:Xoe},Qoe={partial:!0,tokenize:ele},Yoe={partial:!0,tokenize:Zoe};function Joe(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function Xoe(t,e,n){const r=this;let i,a,o,c,d;return h;function h($){return m($)}function m($){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume($),f}function f($){return $===33?(t.consume($),g):$===47?(t.consume($),a=!0,j):$===63?(t.consume($),i=3,r.interrupt?e:B):Ki($)?(t.consume($),o=String.fromCharCode($),w):n($)}function g($){return $===45?(t.consume($),i=2,x):$===91?(t.consume($),i=5,c=0,_):Ki($)?(t.consume($),i=4,r.interrupt?e:B):n($)}function x($){return $===45?(t.consume($),r.interrupt?e:B):n($)}function _($){const he="CDATA[";return $===he.charCodeAt(c++)?(t.consume($),c===he.length?r.interrupt?e:M:_):n($)}function j($){return Ki($)?(t.consume($),o=String.fromCharCode($),w):n($)}function w($){if($===null||$===47||$===62||ls($)){const he=$===47,Ne=o.toLowerCase();return!he&&!a&&wA.includes(Ne)?(i=1,r.interrupt?e($):M($)):Koe.includes(o.toLowerCase())?(i=6,he?(t.consume($),N):r.interrupt?e($):M($)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n($):a?E($):A($))}return $===45||Is($)?(t.consume($),o+=String.fromCharCode($),w):n($)}function N($){return $===62?(t.consume($),r.interrupt?e:M):n($)}function E($){return $t($)?(t.consume($),E):O($)}function A($){return $===47?(t.consume($),O):$===58||$===95||Ki($)?(t.consume($),T):$t($)?(t.consume($),A):O($)}function T($){return $===45||$===46||$===58||$===95||Is($)?(t.consume($),T):D($)}function D($){return $===61?(t.consume($),F):$t($)?(t.consume($),D):A($)}function F($){return $===null||$===60||$===61||$===62||$===96?n($):$===34||$===39?(t.consume($),d=$,P):$t($)?(t.consume($),F):R($)}function P($){return $===d?(t.consume($),d=null,I):$===null||ht($)?n($):(t.consume($),P)}function R($){return $===null||$===34||$===39||$===47||$===60||$===61||$===62||$===96||ls($)?D($):(t.consume($),R)}function I($){return $===47||$===62||$t($)?A($):n($)}function O($){return $===62?(t.consume($),V):n($)}function V($){return $===null||ht($)?M($):$t($)?(t.consume($),V):n($)}function M($){return $===45&&i===2?(t.consume($),ce):$===60&&i===1?(t.consume($),se):$===62&&i===4?(t.consume($),q):$===63&&i===3?(t.consume($),B):$===93&&i===5?(t.consume($),W):ht($)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(Qoe,X,U)($)):$===null||ht($)?(t.exit("htmlFlowData"),U($)):(t.consume($),M)}function U($){return t.check(Yoe,J,X)($)}function J($){return t.enter("lineEnding"),t.consume($),t.exit("lineEnding"),ne}function ne($){return $===null||ht($)?U($):(t.enter("htmlFlowData"),M($))}function ce($){return $===45?(t.consume($),B):M($)}function se($){return $===47?(t.consume($),o="",K):M($)}function K($){if($===62){const he=o.toLowerCase();return wA.includes(he)?(t.consume($),q):M($)}return Ki($)&&o.length<8?(t.consume($),o+=String.fromCharCode($),K):M($)}function W($){return $===93?(t.consume($),B):M($)}function B($){return $===62?(t.consume($),q):$===45&&i===2?(t.consume($),B):M($)}function q($){return $===null||ht($)?(t.exit("htmlFlowData"),X($)):(t.consume($),q)}function X($){return t.exit("htmlFlow"),e($)}}function Zoe(t,e,n){const r=this;return i;function i(o){return ht(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),a):n(o)}function a(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}function ele(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(Cy,e,n)}}const tle={name:"htmlText",tokenize:nle};function nle(t,e,n){const r=this;let i,a,o;return c;function c(B){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(B),d}function d(B){return B===33?(t.consume(B),h):B===47?(t.consume(B),D):B===63?(t.consume(B),A):Ki(B)?(t.consume(B),R):n(B)}function h(B){return B===45?(t.consume(B),m):B===91?(t.consume(B),a=0,_):Ki(B)?(t.consume(B),E):n(B)}function m(B){return B===45?(t.consume(B),x):n(B)}function f(B){return B===null?n(B):B===45?(t.consume(B),g):ht(B)?(o=f,se(B)):(t.consume(B),f)}function g(B){return B===45?(t.consume(B),x):f(B)}function x(B){return B===62?ce(B):B===45?g(B):f(B)}function _(B){const q="CDATA[";return B===q.charCodeAt(a++)?(t.consume(B),a===q.length?j:_):n(B)}function j(B){return B===null?n(B):B===93?(t.consume(B),w):ht(B)?(o=j,se(B)):(t.consume(B),j)}function w(B){return B===93?(t.consume(B),N):j(B)}function N(B){return B===62?ce(B):B===93?(t.consume(B),N):j(B)}function E(B){return B===null||B===62?ce(B):ht(B)?(o=E,se(B)):(t.consume(B),E)}function A(B){return B===null?n(B):B===63?(t.consume(B),T):ht(B)?(o=A,se(B)):(t.consume(B),A)}function T(B){return B===62?ce(B):A(B)}function D(B){return Ki(B)?(t.consume(B),F):n(B)}function F(B){return B===45||Is(B)?(t.consume(B),F):P(B)}function P(B){return ht(B)?(o=P,se(B)):$t(B)?(t.consume(B),P):ce(B)}function R(B){return B===45||Is(B)?(t.consume(B),R):B===47||B===62||ls(B)?I(B):n(B)}function I(B){return B===47?(t.consume(B),ce):B===58||B===95||Ki(B)?(t.consume(B),O):ht(B)?(o=I,se(B)):$t(B)?(t.consume(B),I):ce(B)}function O(B){return B===45||B===46||B===58||B===95||Is(B)?(t.consume(B),O):V(B)}function V(B){return B===61?(t.consume(B),M):ht(B)?(o=V,se(B)):$t(B)?(t.consume(B),V):I(B)}function M(B){return B===null||B===60||B===61||B===62||B===96?n(B):B===34||B===39?(t.consume(B),i=B,U):ht(B)?(o=M,se(B)):$t(B)?(t.consume(B),M):(t.consume(B),J)}function U(B){return B===i?(t.consume(B),i=void 0,ne):B===null?n(B):ht(B)?(o=U,se(B)):(t.consume(B),U)}function J(B){return B===null||B===34||B===39||B===60||B===61||B===96?n(B):B===47||B===62||ls(B)?I(B):(t.consume(B),J)}function ne(B){return B===47||B===62||ls(B)?I(B):n(B)}function ce(B){return B===62?(t.consume(B),t.exit("htmlTextData"),t.exit("htmlText"),e):n(B)}function se(B){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(B),t.exit("lineEnding"),K}function K(B){return $t(B)?cn(t,W,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(B):W(B)}function W(B){return t.enter("htmlTextData"),o(B)}}const m_={name:"labelEnd",resolveAll:ale,resolveTo:ole,tokenize:lle},rle={tokenize:cle},sle={tokenize:ule},ile={tokenize:dle};function ale(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&ha(t,0,t.length,n),t}function ole(t,e){let n=t.length,r=0,i,a,o,c;for(;n--;)if(i=t[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const d={type:t[a][1].type==="labelLink"?"link":"image",start:{...t[a][1].start},end:{...t[t.length-1][1].end}},h={type:"label",start:{...t[a][1].start},end:{...t[o][1].end}},m={type:"labelText",start:{...t[a+r+2][1].end},end:{...t[o-2][1].start}};return c=[["enter",d,e],["enter",h,e]],c=Ws(c,t.slice(a+1,a+r+3)),c=Ws(c,[["enter",m,e]]),c=Ws(c,h_(e.parser.constructs.insideSpan.null,t.slice(a+r+4,o-3),e)),c=Ws(c,[["exit",m,e],t[o-2],t[o-1],["exit",h,e]]),c=Ws(c,t.slice(o+1)),c=Ws(c,[["exit",d,e]]),ha(t,a,t.length,c),t}function lle(t,e,n){const r=this;let i=r.events.length,a,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return c;function c(g){return a?a._inactive?f(g):(o=r.parser.defined.includes(sd(r.sliceSerialize({start:a.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(g),t.exit("labelMarker"),t.exit("labelEnd"),d):n(g)}function d(g){return g===40?t.attempt(rle,m,o?m:f)(g):g===91?t.attempt(sle,m,o?h:f)(g):o?m(g):f(g)}function h(g){return t.attempt(ile,m,f)(g)}function m(g){return e(g)}function f(g){return a._balanced=!0,n(g)}}function cle(t,e,n){return r;function r(f){return t.enter("resource"),t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),i}function i(f){return ls(f)?bm(t,a)(f):a(f)}function a(f){return f===41?m(f):mL(t,o,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function o(f){return ls(f)?bm(t,d)(f):m(f)}function c(f){return n(f)}function d(f){return f===34||f===39||f===40?pL(t,h,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):m(f)}function h(f){return ls(f)?bm(t,m)(f):m(f)}function m(f){return f===41?(t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),t.exit("resource"),e):n(f)}}function ule(t,e,n){const r=this;return i;function i(c){return fL.call(r,t,a,o,"reference","referenceMarker","referenceString")(c)}function a(c){return r.parser.defined.includes(sd(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(c):n(c)}function o(c){return n(c)}}function dle(t,e,n){return r;function r(a){return t.enter("reference"),t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),i}function i(a){return a===93?(t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),t.exit("reference"),e):n(a)}}const hle={name:"labelStartImage",resolveAll:m_.resolveAll,tokenize:mle};function mle(t,e,n){const r=this;return i;function i(c){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(c),t.exit("labelImageMarker"),a}function a(c){return c===91?(t.enter("labelMarker"),t.consume(c),t.exit("labelMarker"),t.exit("labelImage"),o):n(c)}function o(c){return c===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(c):e(c)}}const fle={name:"labelStartLink",resolveAll:m_.resolveAll,tokenize:ple};function ple(t,e,n){const r=this;return i;function i(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),a}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const vb={name:"lineEnding",tokenize:gle};function gle(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),cn(t,e,"linePrefix")}}const Pg={name:"thematicBreak",tokenize:xle};function xle(t,e,n){let r=0,i;return a;function a(h){return t.enter("thematicBreak"),o(h)}function o(h){return i=h,c(h)}function c(h){return h===i?(t.enter("thematicBreakSequence"),d(h)):r>=3&&(h===null||ht(h))?(t.exit("thematicBreak"),e(h)):n(h)}function d(h){return h===i?(t.consume(h),r++,d):(t.exit("thematicBreakSequence"),$t(h)?cn(t,c,"whitespace")(h):c(h))}}const ts={continuation:{tokenize:wle},exit:Nle,name:"list",tokenize:ble},yle={partial:!0,tokenize:_le},vle={partial:!0,tokenize:jle};function ble(t,e,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return c;function c(x){const _=r.containerState.type||(x===42||x===43||x===45?"listUnordered":"listOrdered");if(_==="listUnordered"?!r.containerState.marker||x===r.containerState.marker:g1(x)){if(r.containerState.type||(r.containerState.type=_,t.enter(_,{_container:!0})),_==="listUnordered")return t.enter("listItemPrefix"),x===42||x===45?t.check(Pg,n,h)(x):h(x);if(!r.interrupt||x===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),d(x)}return n(x)}function d(x){return g1(x)&&++o<10?(t.consume(x),d):(!r.interrupt||o<2)&&(r.containerState.marker?x===r.containerState.marker:x===41||x===46)?(t.exit("listItemValue"),h(x)):n(x)}function h(x){return t.enter("listItemMarker"),t.consume(x),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||x,t.check(Cy,r.interrupt?n:m,t.attempt(yle,g,f))}function m(x){return r.containerState.initialBlankLine=!0,a++,g(x)}function f(x){return $t(x)?(t.enter("listItemPrefixWhitespace"),t.consume(x),t.exit("listItemPrefixWhitespace"),g):n(x)}function g(x){return r.containerState.size=a+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(x)}}function wle(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Cy,i,a);function i(c){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,cn(t,e,"listItemIndent",r.containerState.size+1)(c)}function a(c){return r.containerState.furtherBlankLines||!$t(c)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(c)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(vle,e,o)(c))}function o(c){return r.containerState._closeFlow=!0,r.interrupt=void 0,cn(t,t.attempt(ts,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}}function jle(t,e,n){const r=this;return cn(t,i,"listItemIndent",r.containerState.size+1);function i(a){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(a):n(a)}}function Nle(t){t.exit(this.containerState.type)}function _le(t,e,n){const r=this;return cn(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const o=r.events[r.events.length-1];return!$t(a)&&o&&o[1].type==="listItemPrefixWhitespace"?e(a):n(a)}}const jA={name:"setextUnderline",resolveTo:Sle,tokenize:Ele};function Sle(t,e){let n=t.length,r,i,a;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!a&&t[n][1].type==="definition"&&(a=n);const o={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",a?(t.splice(i,0,["enter",o,e]),t.splice(a+1,0,["exit",t[r][1],e]),t[r][1].end={...t[a][1].end}):t[r][1]=o,t.push(["exit",o,e]),t}function Ele(t,e,n){const r=this;let i;return a;function a(h){let m=r.events.length,f;for(;m--;)if(r.events[m][1].type!=="lineEnding"&&r.events[m][1].type!=="linePrefix"&&r.events[m][1].type!=="content"){f=r.events[m][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(t.enter("setextHeadingLine"),i=h,o(h)):n(h)}function o(h){return t.enter("setextHeadingLineSequence"),c(h)}function c(h){return h===i?(t.consume(h),c):(t.exit("setextHeadingLineSequence"),$t(h)?cn(t,d,"lineSuffix")(h):d(h))}function d(h){return h===null||ht(h)?(t.exit("setextHeadingLine"),e(h)):n(h)}}const Cle={tokenize:kle};function kle(t){const e=this,n=t.attempt(Cy,r,t.attempt(this.parser.constructs.flowInitial,i,cn(t,t.attempt(this.parser.constructs.flow,i,t.attempt(Poe,i)),"linePrefix")));return n;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEndingBlank"),t.consume(a),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const Tle={resolveAll:xL()},Ale=gL("string"),Ile=gL("text");function gL(t){return{resolveAll:xL(t==="text"?Rle:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],a=n.attempt(i,o,c);return o;function o(m){return h(m)?a(m):c(m)}function c(m){if(m===null){n.consume(m);return}return n.enter("data"),n.consume(m),d}function d(m){return h(m)?(n.exit("data"),a(m)):(n.consume(m),d)}function h(m){if(m===null)return!0;const f=i[m];let g=-1;if(f)for(;++g<f.length;){const x=f[g];if(!x.previous||x.previous.call(r,r.previous))return!0}return!1}}}function xL(t){return e;function e(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return t?t(n,r):n}}function Rle(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let a=i.length,o=-1,c=0,d;for(;a--;){const h=i[a];if(typeof h=="string"){for(o=h.length;h.charCodeAt(o-1)===32;)c++,o--;if(o)break;o=-1}else if(h===-2)d=!0,c++;else if(h!==-1){a++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(c=0),c){const h={type:n===t.length||d||c<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?o:r.start._bufferIndex+o,_index:r.start._index+a,line:r.end.line,column:r.end.column-c,offset:r.end.offset-c},end:{...r.end}};r.end={...h.start},r.start.offset===r.end.offset?Object.assign(r,h):(t.splice(n,0,["enter",h,e],["exit",h,e]),n+=2)}n++}return t}const Ple={42:ts,43:ts,45:ts,48:ts,49:ts,50:ts,51:ts,52:ts,53:ts,54:ts,55:ts,56:ts,57:ts,62:cL},Dle={91:Foe},Mle={[-2]:yb,[-1]:yb,32:yb},Lle={35:qoe,42:Pg,45:[jA,Pg],60:Goe,61:jA,95:Pg,96:bA,126:bA},Ole={38:dL,92:uL},Fle={[-5]:vb,[-4]:vb,[-3]:vb,33:hle,38:dL,42:x1,60:[foe,tle],91:fle,92:[Boe,uL],93:m_,95:x1,96:Coe},Vle={null:[x1,Tle]},Ule={null:[42,95]},zle={null:[]},Ble=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Ule,contentInitial:Dle,disable:zle,document:Ple,flow:Lle,flowInitial:Mle,insideSpan:Vle,string:Ole,text:Fle},Symbol.toStringTag,{value:"Module"}));function $le(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let o=[],c=[];const d={attempt:P(D),check:P(F),consume:E,enter:A,exit:T,interrupt:P(F,{interrupt:!0})},h={code:null,containerState:{},defineSkip:j,events:[],now:_,parser:t,previous:null,sliceSerialize:g,sliceStream:x,write:f};let m=e.tokenize.call(h,d);return e.resolveAll&&a.push(e),h;function f(V){return o=Ws(o,V),w(),o[o.length-1]!==null?[]:(R(e,0),h.events=h_(a,h.events,h),h.events)}function g(V,M){return Hle(x(V),M)}function x(V){return qle(o,V)}function _(){const{_bufferIndex:V,_index:M,line:U,column:J,offset:ne}=r;return{_bufferIndex:V,_index:M,line:U,column:J,offset:ne}}function j(V){i[V.line]=V.column,O()}function w(){let V;for(;r._index<o.length;){const M=o[r._index];if(typeof M=="string")for(V=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===V&&r._bufferIndex<M.length;)N(M.charCodeAt(r._bufferIndex));else N(M)}}function N(V){m=m(V)}function E(V){ht(V)?(r.line++,r.column=1,r.offset+=V===-3?2:1,O()):V!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),h.previous=V}function A(V,M){const U=M||{};return U.type=V,U.start=_(),h.events.push(["enter",U,h]),c.push(U),U}function T(V){const M=c.pop();return M.end=_(),h.events.push(["exit",M,h]),M}function D(V,M){R(V,M.from)}function F(V,M){M.restore()}function P(V,M){return U;function U(J,ne,ce){let se,K,W,B;return Array.isArray(J)?X(J):"tokenize"in J?X([J]):q(J);function q(Ae){return pe;function pe(Se){const De=Se!==null&&Ae[Se],Ue=Se!==null&&Ae.null,$e=[...Array.isArray(De)?De:De?[De]:[],...Array.isArray(Ue)?Ue:Ue?[Ue]:[]];return X($e)(Se)}}function X(Ae){return se=Ae,K=0,Ae.length===0?ce:$(Ae[K])}function $(Ae){return pe;function pe(Se){return B=I(),W=Ae,Ae.partial||(h.currentConstruct=Ae),Ae.name&&h.parser.constructs.disable.null.includes(Ae.name)?Ne():Ae.tokenize.call(M?Object.assign(Object.create(h),M):h,d,he,Ne)(Se)}}function he(Ae){return V(W,B),ne}function Ne(Ae){return B.restore(),++K<se.length?$(se[K]):ce}}}function R(V,M){V.resolveAll&&!a.includes(V)&&a.push(V),V.resolve&&ha(h.events,M,h.events.length-M,V.resolve(h.events.slice(M),h)),V.resolveTo&&(h.events=V.resolveTo(h.events,h))}function I(){const V=_(),M=h.previous,U=h.currentConstruct,J=h.events.length,ne=Array.from(c);return{from:J,restore:ce};function ce(){r=V,h.previous=M,h.currentConstruct=U,h.events.length=J,c=ne,O()}}function O(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function qle(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,a=e.end._bufferIndex;let o;if(n===i)o=[t[n].slice(r,a)];else{if(o=t.slice(n,i),r>-1){const c=o[0];typeof c=="string"?o[0]=c.slice(r):o.shift()}a>0&&o.push(t[i].slice(0,a))}return o}function Hle(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const a=t[n];let o;if(typeof a=="string")o=a;else switch(a){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(a)}i=a===-2,r.push(o)}return r.join("")}function Wle(t){const r={constructs:Zae([Ble,...(t||{}).extensions||[]]),content:i(ooe),defined:[],document:i(coe),flow:i(Cle),lazy:{},string:i(Ale),text:i(Ile)};return r;function i(a){return o;function o(c){return $le(r,a,c)}}}function Kle(t){for(;!hL(t););return t}const NA=/[\0\t\n\r]/g;function Gle(){let t=1,e="",n=!0,r;return i;function i(a,o,c){const d=[];let h,m,f,g,x;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(o||void 0).decode(a)),f=0,e="",n&&(a.charCodeAt(0)===65279&&f++,n=void 0);f<a.length;){if(NA.lastIndex=f,h=NA.exec(a),g=h&&h.index!==void 0?h.index:a.length,x=a.charCodeAt(g),!h){e=a.slice(f);break}if(x===10&&f===g&&r)d.push(-3),r=void 0;else switch(r&&(d.push(-5),r=void 0),f<g&&(d.push(a.slice(f,g)),t+=g-f),x){case 0:{d.push(65533),t++;break}case 9:{for(m=Math.ceil(t/4)*4,d.push(-2);t++<m;)d.push(-1);break}case 10:{d.push(-4),t=1;break}default:r=!0,t=1}f=g+1}return c&&(r&&d.push(-5),e&&d.push(e),d.push(null)),d}}const Qle=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Yle(t){return t.replace(Qle,Jle)}function Jle(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return lL(n.slice(a?2:1),a?16:10)}return d_(n)||t}const yL={}.hasOwnProperty;function Xle(t,e,n){return typeof e!="string"&&(n=e,e=void 0),Zle(n)(Kle(Wle(n).document().write(Gle()(t,e,!0))))}function Zle(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(zt),autolinkProtocol:I,autolinkEmail:I,atxHeading:a(vr),blockQuote:a(Ue),characterEscape:I,characterReference:I,codeFenced:a($e),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:a($e,o),codeText:a(ft,o),codeTextData:I,data:I,codeFlowValue:I,definition:a(Jt),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:a(Tn),hardBreakEscape:a(Bn),hardBreakTrailing:a(Bn),htmlFlow:a(Yn,o),htmlFlowData:I,htmlText:a(Yn,o),htmlTextData:I,image:a(ms),label:o,link:a(zt),listItem:a(Dr),listItemValue:g,listOrdered:a(Xt,f),listUnordered:a(Xt),paragraph:a(ga),reference:$,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:a(vr),strong:a(Ni),thematicBreak:a(Ms)},exit:{atxHeading:d(),atxHeadingSequence:D,autolink:d(),autolinkEmail:De,autolinkProtocol:Se,blockQuote:d(),characterEscapeValue:O,characterReferenceMarkerHexadecimal:Ne,characterReferenceMarkerNumeric:Ne,characterReferenceValue:Ae,characterReference:pe,codeFenced:d(w),codeFencedFence:j,codeFencedFenceInfo:x,codeFencedFenceMeta:_,codeFlowValue:O,codeIndented:d(N),codeText:d(ne),codeTextData:O,data:O,definition:d(),definitionDestinationString:T,definitionLabelString:E,definitionTitleString:A,emphasis:d(),hardBreakEscape:d(M),hardBreakTrailing:d(M),htmlFlow:d(U),htmlFlowData:O,htmlText:d(J),htmlTextData:O,image:d(se),label:W,labelText:K,lineEnding:V,link:d(ce),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:he,resourceDestinationString:B,resourceTitleString:q,resource:X,setextHeading:d(R),setextHeadingLineSequence:P,setextHeadingText:F,strong:d(),thematicBreak:d()}};vL(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(me){let Ie={type:"root",children:[]};const Ze={stack:[Ie],tokenStack:[],config:e,enter:c,exit:h,buffer:o,resume:m,data:n},vt=[];let Ct=-1;for(;++Ct<me.length;)if(me[Ct][1].type==="listOrdered"||me[Ct][1].type==="listUnordered")if(me[Ct][0]==="enter")vt.push(Ct);else{const bn=vt.pop();Ct=i(me,bn,Ct)}for(Ct=-1;++Ct<me.length;){const bn=e[me[Ct][0]];yL.call(bn,me[Ct][1].type)&&bn[me[Ct][1].type].call(Object.assign({sliceSerialize:me[Ct][2].sliceSerialize},Ze),me[Ct][1])}if(Ze.tokenStack.length>0){const bn=Ze.tokenStack[Ze.tokenStack.length-1];(bn[1]||_A).call(Ze,void 0,bn[0])}for(Ie.position={start:zo(me.length>0?me[0][1].start:{line:1,column:1,offset:0}),end:zo(me.length>0?me[me.length-2][1].end:{line:1,column:1,offset:0})},Ct=-1;++Ct<e.transforms.length;)Ie=e.transforms[Ct](Ie)||Ie;return Ie}function i(me,Ie,Ze){let vt=Ie-1,Ct=-1,bn=!1,fe,qe,et,tt;for(;++vt<=Ze;){const gt=me[vt];switch(gt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{gt[0]==="enter"?Ct++:Ct--,tt=void 0;break}case"lineEndingBlank":{gt[0]==="enter"&&(fe&&!tt&&!Ct&&!et&&(et=vt),tt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:tt=void 0}if(!Ct&&gt[0]==="enter"&&gt[1].type==="listItemPrefix"||Ct===-1&&gt[0]==="exit"&&(gt[1].type==="listUnordered"||gt[1].type==="listOrdered")){if(fe){let ct=vt;for(qe=void 0;ct--;){const Pt=me[ct];if(Pt[1].type==="lineEnding"||Pt[1].type==="lineEndingBlank"){if(Pt[0]==="exit")continue;qe&&(me[qe][1].type="lineEndingBlank",bn=!0),Pt[1].type="lineEnding",qe=ct}else if(!(Pt[1].type==="linePrefix"||Pt[1].type==="blockQuotePrefix"||Pt[1].type==="blockQuotePrefixWhitespace"||Pt[1].type==="blockQuoteMarker"||Pt[1].type==="listItemIndent"))break}et&&(!qe||et<qe)&&(fe._spread=!0),fe.end=Object.assign({},qe?me[qe][1].start:gt[1].end),me.splice(qe||vt,0,["exit",fe,gt[2]]),vt++,Ze++}if(gt[1].type==="listItemPrefix"){const ct={type:"listItem",_spread:!1,start:Object.assign({},gt[1].start),end:void 0};fe=ct,me.splice(vt,0,["enter",ct,gt[2]]),vt++,Ze++,et=void 0,tt=!0}}}return me[Ie][1]._spread=bn,Ze}function a(me,Ie){return Ze;function Ze(vt){c.call(this,me(vt),vt),Ie&&Ie.call(this,vt)}}function o(){this.stack.push({type:"fragment",children:[]})}function c(me,Ie,Ze){this.stack[this.stack.length-1].children.push(me),this.stack.push(me),this.tokenStack.push([Ie,Ze||void 0]),me.position={start:zo(Ie.start),end:void 0}}function d(me){return Ie;function Ie(Ze){me&&me.call(this,Ze),h.call(this,Ze)}}function h(me,Ie){const Ze=this.stack.pop(),vt=this.tokenStack.pop();if(vt)vt[0].type!==me.type&&(Ie?Ie.call(this,me,vt[0]):(vt[1]||_A).call(this,me,vt[0]));else throw new Error("Cannot close `"+me.type+"` ("+vm({start:me.start,end:me.end})+"): its not open");Ze.position.end=zo(me.end)}function m(){return Jae(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function g(me){if(this.data.expectingFirstListItemValue){const Ie=this.stack[this.stack.length-2];Ie.start=Number.parseInt(this.sliceSerialize(me),10),this.data.expectingFirstListItemValue=void 0}}function x(){const me=this.resume(),Ie=this.stack[this.stack.length-1];Ie.lang=me}function _(){const me=this.resume(),Ie=this.stack[this.stack.length-1];Ie.meta=me}function j(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function w(){const me=this.resume(),Ie=this.stack[this.stack.length-1];Ie.value=me.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function N(){const me=this.resume(),Ie=this.stack[this.stack.length-1];Ie.value=me.replace(/(\r?\n|\r)$/g,"")}function E(me){const Ie=this.resume(),Ze=this.stack[this.stack.length-1];Ze.label=Ie,Ze.identifier=sd(this.sliceSerialize(me)).toLowerCase()}function A(){const me=this.resume(),Ie=this.stack[this.stack.length-1];Ie.title=me}function T(){const me=this.resume(),Ie=this.stack[this.stack.length-1];Ie.url=me}function D(me){const Ie=this.stack[this.stack.length-1];if(!Ie.depth){const Ze=this.sliceSerialize(me).length;Ie.depth=Ze}}function F(){this.data.setextHeadingSlurpLineEnding=!0}function P(me){const Ie=this.stack[this.stack.length-1];Ie.depth=this.sliceSerialize(me).codePointAt(0)===61?1:2}function R(){this.data.setextHeadingSlurpLineEnding=void 0}function I(me){const Ze=this.stack[this.stack.length-1].children;let vt=Ze[Ze.length-1];(!vt||vt.type!=="text")&&(vt=_i(),vt.position={start:zo(me.start),end:void 0},Ze.push(vt)),this.stack.push(vt)}function O(me){const Ie=this.stack.pop();Ie.value+=this.sliceSerialize(me),Ie.position.end=zo(me.end)}function V(me){const Ie=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ze=Ie.children[Ie.children.length-1];Ze.position.end=zo(me.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Ie.type)&&(I.call(this,me),O.call(this,me))}function M(){this.data.atHardBreak=!0}function U(){const me=this.resume(),Ie=this.stack[this.stack.length-1];Ie.value=me}function J(){const me=this.resume(),Ie=this.stack[this.stack.length-1];Ie.value=me}function ne(){const me=this.resume(),Ie=this.stack[this.stack.length-1];Ie.value=me}function ce(){const me=this.stack[this.stack.length-1];if(this.data.inReference){const Ie=this.data.referenceType||"shortcut";me.type+="Reference",me.referenceType=Ie,delete me.url,delete me.title}else delete me.identifier,delete me.label;this.data.referenceType=void 0}function se(){const me=this.stack[this.stack.length-1];if(this.data.inReference){const Ie=this.data.referenceType||"shortcut";me.type+="Reference",me.referenceType=Ie,delete me.url,delete me.title}else delete me.identifier,delete me.label;this.data.referenceType=void 0}function K(me){const Ie=this.sliceSerialize(me),Ze=this.stack[this.stack.length-2];Ze.label=Yle(Ie),Ze.identifier=sd(Ie).toLowerCase()}function W(){const me=this.stack[this.stack.length-1],Ie=this.resume(),Ze=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ze.type==="link"){const vt=me.children;Ze.children=vt}else Ze.alt=Ie}function B(){const me=this.resume(),Ie=this.stack[this.stack.length-1];Ie.url=me}function q(){const me=this.resume(),Ie=this.stack[this.stack.length-1];Ie.title=me}function X(){this.data.inReference=void 0}function $(){this.data.referenceType="collapsed"}function he(me){const Ie=this.resume(),Ze=this.stack[this.stack.length-1];Ze.label=Ie,Ze.identifier=sd(this.sliceSerialize(me)).toLowerCase(),this.data.referenceType="full"}function Ne(me){this.data.characterReferenceType=me.type}function Ae(me){const Ie=this.sliceSerialize(me),Ze=this.data.characterReferenceType;let vt;Ze?(vt=lL(Ie,Ze==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):vt=d_(Ie);const Ct=this.stack[this.stack.length-1];Ct.value+=vt}function pe(me){const Ie=this.stack.pop();Ie.position.end=zo(me.end)}function Se(me){O.call(this,me);const Ie=this.stack[this.stack.length-1];Ie.url=this.sliceSerialize(me)}function De(me){O.call(this,me);const Ie=this.stack[this.stack.length-1];Ie.url="mailto:"+this.sliceSerialize(me)}function Ue(){return{type:"blockquote",children:[]}}function $e(){return{type:"code",lang:null,meta:null,value:""}}function ft(){return{type:"inlineCode",value:""}}function Jt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Tn(){return{type:"emphasis",children:[]}}function vr(){return{type:"heading",depth:0,children:[]}}function Bn(){return{type:"break"}}function Yn(){return{type:"html",value:""}}function ms(){return{type:"image",title:null,url:"",alt:null}}function zt(){return{type:"link",title:null,url:"",children:[]}}function Xt(me){return{type:"list",ordered:me.type==="listOrdered",start:null,spread:me._spread,children:[]}}function Dr(me){return{type:"listItem",spread:me._spread,checked:null,children:[]}}function ga(){return{type:"paragraph",children:[]}}function Ni(){return{type:"strong",children:[]}}function _i(){return{type:"text",value:""}}function Ms(){return{type:"thematicBreak"}}}function zo(t){return{line:t.line,column:t.column,offset:t.offset}}function vL(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?vL(t,r):ece(t,r)}}function ece(t,e){let n;for(n in e)if(yL.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function _A(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+vm({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+vm({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+vm({start:e.start,end:e.end})+") is still open")}function tce(t){const e=this;e.parser=n;function n(r){return Xle(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function nce(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function rce(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function sce(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function ice(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function ace(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function oce(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=Kd(r.toLowerCase()),a=t.footnoteOrder.indexOf(r);let o,c=t.footnoteCounts.get(r);c===void 0?(c=0,t.footnoteOrder.push(r),o=t.footnoteOrder.length):o=a+1,c+=1,t.footnoteCounts.set(r,c);const d={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(c>1?"-"+c:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};t.patch(e,d);const h={type:"element",tagName:"sup",properties:{},children:[d]};return t.patch(e,h),t.applyData(e,h)}function lce(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function cce(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function bL(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function uce(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return bL(t,e);const i={src:Kd(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,a),t.applyData(e,a)}function dce(t,e){const n={src:Kd(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function hce(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function mce(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return bL(t,e);const i={href:Kd(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function fce(t,e){const n={href:Kd(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function pce(t,e,n){const r=t.all(e),i=n?gce(n):wL(e),a={},o=[];if(typeof e.checked=="boolean"){const m=r[0];let f;m&&m.type==="element"&&m.tagName==="p"?f=m:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let c=-1;for(;++c<r.length;){const m=r[c];(i||c!==0||m.type!=="element"||m.tagName!=="p")&&o.push({type:"text",value:`
`}),m.type==="element"&&m.tagName==="p"&&!i?o.push(...m.children):o.push(m)}const d=r[r.length-1];d&&(i||d.type!=="element"||d.tagName!=="p")&&o.push({type:"text",value:`
`});const h={type:"element",tagName:"li",properties:a,children:o};return t.patch(e,h),t.applyData(e,h)}function gce(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=wL(n[r])}return e}function wL(t){const e=t.spread;return e??t.children.length>1}function xce(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,a),t.applyData(e,a)}function yce(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function vce(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function bce(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function wce(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},c=o_(e.children[1]),d=tL(e.children[e.children.length-1]);c&&d&&(o.position={start:c,end:d}),i.push(o)}const a={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,a),t.applyData(e,a)}function jce(t,e,n){const r=n?n.children:void 0,a=(r?r.indexOf(e):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,c=o?o.length:e.children.length;let d=-1;const h=[];for(;++d<c;){const f=e.children[d],g={},x=o?o[d]:void 0;x&&(g.align=x);let _={type:"element",tagName:a,properties:g,children:[]};f&&(_.children=t.all(f),t.patch(f,_),_=t.applyData(f,_)),h.push(_)}const m={type:"element",tagName:"tr",properties:{},children:t.wrap(h,!0)};return t.patch(e,m),t.applyData(e,m)}function Nce(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const SA=9,EA=32;function _ce(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const a=[];for(;r;)a.push(CA(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return a.push(CA(e.slice(i),i>0,!1)),a.join("")}function CA(t,e,n){let r=0,i=t.length;if(e){let a=t.codePointAt(r);for(;a===SA||a===EA;)r++,a=t.codePointAt(r)}if(n){let a=t.codePointAt(i-1);for(;a===SA||a===EA;)i--,a=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function Sce(t,e){const n={type:"text",value:_ce(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function Ece(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const Cce={blockquote:nce,break:rce,code:sce,delete:ice,emphasis:ace,footnoteReference:oce,heading:lce,html:cce,imageReference:uce,image:dce,inlineCode:hce,linkReference:mce,link:fce,listItem:pce,list:xce,paragraph:yce,root:vce,strong:bce,table:wce,tableCell:Nce,tableRow:jce,text:Sce,thematicBreak:Ece,toml:ig,yaml:ig,definition:ig,footnoteDefinition:ig};function ig(){}const jL=-1,ky=0,wm=1,Ex=2,f_=3,p_=4,g_=5,x_=6,NL=7,_L=8,kA=typeof self=="object"?self:globalThis,kce=(t,e)=>{const n=(i,a)=>(t.set(a,i),i),r=i=>{if(t.has(i))return t.get(i);const[a,o]=e[i];switch(a){case ky:case jL:return n(o,i);case wm:{const c=n([],i);for(const d of o)c.push(r(d));return c}case Ex:{const c=n({},i);for(const[d,h]of o)c[r(d)]=r(h);return c}case f_:return n(new Date(o),i);case p_:{const{source:c,flags:d}=o;return n(new RegExp(c,d),i)}case g_:{const c=n(new Map,i);for(const[d,h]of o)c.set(r(d),r(h));return c}case x_:{const c=n(new Set,i);for(const d of o)c.add(r(d));return c}case NL:{const{name:c,message:d}=o;return n(new kA[c](d),i)}case _L:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:c}=new Uint8Array(o);return n(new DataView(c),o)}}return n(new kA[a](o),i)};return r},TA=t=>kce(new Map,t)(0),Ru="",{toString:Tce}={},{keys:Ace}=Object,$h=t=>{const e=typeof t;if(e!=="object"||!t)return[ky,e];const n=Tce.call(t).slice(8,-1);switch(n){case"Array":return[wm,Ru];case"Object":return[Ex,Ru];case"Date":return[f_,Ru];case"RegExp":return[p_,Ru];case"Map":return[g_,Ru];case"Set":return[x_,Ru];case"DataView":return[wm,n]}return n.includes("Array")?[wm,n]:n.includes("Error")?[NL,n]:[Ex,n]},ag=([t,e])=>t===ky&&(e==="function"||e==="symbol"),Ice=(t,e,n,r)=>{const i=(o,c)=>{const d=r.push(o)-1;return n.set(c,d),d},a=o=>{if(n.has(o))return n.get(o);let[c,d]=$h(o);switch(c){case ky:{let m=o;switch(d){case"bigint":c=_L,m=o.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+d);m=null;break;case"undefined":return i([jL],o)}return i([c,m],o)}case wm:{if(d){let g=o;return d==="DataView"?g=new Uint8Array(o.buffer):d==="ArrayBuffer"&&(g=new Uint8Array(o)),i([d,[...g]],o)}const m=[],f=i([c,m],o);for(const g of o)m.push(a(g));return f}case Ex:{if(d)switch(d){case"BigInt":return i([d,o.toString()],o);case"Boolean":case"Number":case"String":return i([d,o.valueOf()],o)}if(e&&"toJSON"in o)return a(o.toJSON());const m=[],f=i([c,m],o);for(const g of Ace(o))(t||!ag($h(o[g])))&&m.push([a(g),a(o[g])]);return f}case f_:return i([c,o.toISOString()],o);case p_:{const{source:m,flags:f}=o;return i([c,{source:m,flags:f}],o)}case g_:{const m=[],f=i([c,m],o);for(const[g,x]of o)(t||!(ag($h(g))||ag($h(x))))&&m.push([a(g),a(x)]);return f}case x_:{const m=[],f=i([c,m],o);for(const g of o)(t||!ag($h(g)))&&m.push(a(g));return f}}const{message:h}=o;return i([c,{name:d,message:h}],o)};return a},AA=(t,{json:e,lossy:n}={})=>{const r=[];return Ice(!(e||n),!!e,new Map,r)(t),r},Cx=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?TA(AA(t,e)):structuredClone(t):(t,e)=>TA(AA(t,e));function Rce(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function Pce(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function Dce(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||Rce,r=t.options.footnoteBackLabel||Pce,i=t.options.footnoteLabel||"Footnotes",a=t.options.footnoteLabelTagName||"h2",o=t.options.footnoteLabelProperties||{className:["sr-only"]},c=[];let d=-1;for(;++d<t.footnoteOrder.length;){const h=t.footnoteById.get(t.footnoteOrder[d]);if(!h)continue;const m=t.all(h),f=String(h.identifier).toUpperCase(),g=Kd(f.toLowerCase());let x=0;const _=[],j=t.footnoteCounts.get(f);for(;j!==void 0&&++x<=j;){_.length>0&&_.push({type:"text",value:" "});let E=typeof n=="string"?n:n(d,x);typeof E=="string"&&(E={type:"text",value:E}),_.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+g+(x>1?"-"+x:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(d,x),className:["data-footnote-backref"]},children:Array.isArray(E)?E:[E]})}const w=m[m.length-1];if(w&&w.type==="element"&&w.tagName==="p"){const E=w.children[w.children.length-1];E&&E.type==="text"?E.value+=" ":w.children.push({type:"text",value:" "}),w.children.push(..._)}else m.push(..._);const N={type:"element",tagName:"li",properties:{id:e+"fn-"+g},children:t.wrap(m,!0)};t.patch(h,N),c.push(N)}if(c.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...Cx(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(c,!0)},{type:"text",value:`
`}]}}const SL=(function(t){if(t==null)return Fce;if(typeof t=="function")return Ty(t);if(typeof t=="object")return Array.isArray(t)?Mce(t):Lce(t);if(typeof t=="string")return Oce(t);throw new Error("Expected function, string, or object as test")});function Mce(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=SL(t[n]);return Ty(r);function r(...i){let a=-1;for(;++a<e.length;)if(e[a].apply(this,i))return!0;return!1}}function Lce(t){const e=t;return Ty(n);function n(r){const i=r;let a;for(a in t)if(i[a]!==e[a])return!1;return!0}}function Oce(t){return Ty(e);function e(n){return n&&n.type===t}}function Ty(t){return e;function e(n,r,i){return!!(Vce(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function Fce(){return!0}function Vce(t){return t!==null&&typeof t=="object"&&"type"in t}const EL=[],Uce=!0,IA=!1,zce="skip";function Bce(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const a=SL(i),o=r?-1:1;c(t,void 0,[])();function c(d,h,m){const f=d&&typeof d=="object"?d:{};if(typeof f.type=="string"){const x=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(d.type+(x?"<"+x+">":""))+")"})}return g;function g(){let x=EL,_,j,w;if((!e||a(d,h,m[m.length-1]||void 0))&&(x=$ce(n(d,m)),x[0]===IA))return x;if("children"in d&&d.children){const N=d;if(N.children&&x[0]!==zce)for(j=(r?N.children.length:-1)+o,w=m.concat(N);j>-1&&j<N.children.length;){const E=N.children[j];if(_=c(E,j,w)(),_[0]===IA)return _;j=typeof _[1]=="number"?_[1]:j+o}}return x}}}function $ce(t){return Array.isArray(t)?t:typeof t=="number"?[Uce,t]:t==null?EL:[t]}function CL(t,e,n,r){let i,a,o;typeof e=="function"&&typeof n!="function"?(a=void 0,o=e,i=n):(a=e,o=n,i=r),Bce(t,a,c,i);function c(d,h){const m=h[h.length-1],f=m?m.children.indexOf(d):void 0;return o(d,f,m)}}const y1={}.hasOwnProperty,qce={};function Hce(t,e){const n=e||qce,r=new Map,i=new Map,a=new Map,o={...Cce,...n.handlers},c={all:h,applyData:Kce,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:o,one:d,options:n,patch:Wce,wrap:Qce};return CL(t,function(m){if(m.type==="definition"||m.type==="footnoteDefinition"){const f=m.type==="definition"?r:i,g=String(m.identifier).toUpperCase();f.has(g)||f.set(g,m)}}),c;function d(m,f){const g=m.type,x=c.handlers[g];if(y1.call(c.handlers,g)&&x)return x(c,m,f);if(c.options.passThrough&&c.options.passThrough.includes(g)){if("children"in m){const{children:j,...w}=m,N=Cx(w);return N.children=c.all(m),N}return Cx(m)}return(c.options.unknownHandler||Gce)(c,m,f)}function h(m){const f=[];if("children"in m){const g=m.children;let x=-1;for(;++x<g.length;){const _=c.one(g[x],m);if(_){if(x&&g[x-1].type==="break"&&(!Array.isArray(_)&&_.type==="text"&&(_.value=RA(_.value)),!Array.isArray(_)&&_.type==="element")){const j=_.children[0];j&&j.type==="text"&&(j.value=RA(j.value))}Array.isArray(_)?f.push(..._):f.push(_)}}}return f}}function Wce(t,e){t.position&&(e.position=Tae(t))}function Kce(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,a=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&a&&Object.assign(n.properties,Cx(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function Gce(t,e){const n=e.data||{},r="value"in e&&!(y1.call(n,"hProperties")||y1.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Qce(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function RA(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function PA(t,e){const n=Hce(t,e),r=n.one(t,void 0),i=Dce(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function Yce(t,e){return t&&"run"in t?async function(n,r){const i=PA(n,{file:r,...e});await t.run(i,r)}:function(n,r){return PA(n,{file:r,...t||e})}}function DA(t){if(t)throw t}var bb,MA;function Jce(){if(MA)return bb;MA=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(h){return typeof Array.isArray=="function"?Array.isArray(h):e.call(h)==="[object Array]"},a=function(h){if(!h||e.call(h)!=="[object Object]")return!1;var m=t.call(h,"constructor"),f=h.constructor&&h.constructor.prototype&&t.call(h.constructor.prototype,"isPrototypeOf");if(h.constructor&&!m&&!f)return!1;var g;for(g in h);return typeof g>"u"||t.call(h,g)},o=function(h,m){n&&m.name==="__proto__"?n(h,m.name,{enumerable:!0,configurable:!0,value:m.newValue,writable:!0}):h[m.name]=m.newValue},c=function(h,m){if(m==="__proto__")if(t.call(h,m)){if(r)return r(h,m).value}else return;return h[m]};return bb=function d(){var h,m,f,g,x,_,j=arguments[0],w=1,N=arguments.length,E=!1;for(typeof j=="boolean"&&(E=j,j=arguments[1]||{},w=2),(j==null||typeof j!="object"&&typeof j!="function")&&(j={});w<N;++w)if(h=arguments[w],h!=null)for(m in h)f=c(j,m),g=c(h,m),j!==g&&(E&&g&&(a(g)||(x=i(g)))?(x?(x=!1,_=f&&i(f)?f:[]):_=f&&a(f)?f:{},o(j,{name:m,newValue:d(E,_,g)})):typeof g<"u"&&o(j,{name:m,newValue:g}));return j},bb}var Xce=Jce();const wb=Ed(Xce);function v1(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Zce(){const t=[],e={run:n,use:r};return e;function n(...i){let a=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);c(null,...i);function c(d,...h){const m=t[++a];let f=-1;if(d){o(d);return}for(;++f<i.length;)(h[f]===null||h[f]===void 0)&&(h[f]=i[f]);i=h,m?eue(m,c)(...h):o(null,...h)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function eue(t,e){let n;return r;function r(...o){const c=t.length>o.length;let d;c&&o.push(i);try{d=t.apply(this,o)}catch(h){const m=h;if(c&&n)throw m;return i(m)}c||(d&&d.then&&typeof d.then=="function"?d.then(a,i):d instanceof Error?i(d):a(d))}function i(o,...c){n||(n=!0,e(o,...c))}function a(o){i(null,o)}}const qi={basename:tue,dirname:nue,extname:rue,join:sue,sep:"/"};function tue(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Ef(t);let n=0,r=-1,i=t.length,a;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let o=-1,c=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else o<0&&(a=!0,o=i+1),c>-1&&(t.codePointAt(i)===e.codePointAt(c--)?c<0&&(r=i):(c=-1,r=o));return n===r?r=o:r<0&&(r=t.length),t.slice(n,r)}function nue(t){if(Ef(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function rue(t){Ef(t);let e=t.length,n=-1,r=0,i=-1,a=0,o;for(;e--;){const c=t.codePointAt(e);if(c===47){if(o){r=e+1;break}continue}n<0&&(o=!0,n=e+1),c===46?i<0?i=e:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function sue(...t){let e=-1,n;for(;++e<t.length;)Ef(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":iue(n)}function iue(t){Ef(t);const e=t.codePointAt(0)===47;let n=aue(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function aue(t,e){let n="",r=0,i=-1,a=0,o=-1,c,d;for(;++o<=t.length;){if(o<t.length)c=t.codePointAt(o);else{if(c===47)break;c=47}if(c===47){if(!(i===o-1||a===1))if(i!==o-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(d=n.lastIndexOf("/"),d!==n.length-1){d<0?(n="",r=0):(n=n.slice(0,d),r=n.length-1-n.lastIndexOf("/")),i=o,a=0;continue}}else if(n.length>0){n="",r=0,i=o,a=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,o):n=t.slice(i+1,o),r=o-i-1;i=o,a=0}else c===46&&a>-1?a++:a=-1}return n}function Ef(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const oue={cwd:lue};function lue(){return"/"}function b1(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function cue(t){if(typeof t=="string")t=new URL(t);else if(!b1(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return uue(t)}function uue(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const jb=["history","path","basename","stem","extname","dirname"];class kL{constructor(e){let n;e?b1(e)?n={path:e}:typeof e=="string"||due(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":oue.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<jb.length;){const a=jb[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)jb.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?qi.basename(this.path):void 0}set basename(e){_b(e,"basename"),Nb(e,"basename"),this.path=qi.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?qi.dirname(this.path):void 0}set dirname(e){LA(this.basename,"dirname"),this.path=qi.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?qi.extname(this.path):void 0}set extname(e){if(Nb(e,"extname"),LA(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=qi.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){b1(e)&&(e=cue(e)),_b(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?qi.basename(this.path,this.extname):void 0}set stem(e){_b(e,"stem"),Nb(e,"stem"),this.path=qi.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new Pr(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Nb(t,e){if(t&&t.includes(qi.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+qi.sep+"`")}function _b(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function LA(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function due(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const hue=(function(t){const r=this.constructor.prototype,i=r[t],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a}),mue={}.hasOwnProperty;class y_ extends hue{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Zce()}copy(){const e=new y_;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(wb(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(Cb("data",this.frozen),this.namespace[e]=n,this):mue.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Cb("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=og(e),r=this.parser||this.Parser;return Sb("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),Sb("process",this.parser||this.Parser),Eb("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,o){const c=og(e),d=r.parse(c);r.run(d,c,function(m,f,g){if(m||!f||!g)return h(m);const x=f,_=r.stringify(x,g);gue(_)?g.value=_:g.result=_,h(m,g)});function h(m,f){m||!f?o(m):a?a(f):n(void 0,f)}}}processSync(e){let n=!1,r;return this.freeze(),Sb("processSync",this.parser||this.Parser),Eb("processSync",this.compiler||this.Compiler),this.process(e,i),FA("processSync","process",n),r;function i(a,o){n=!0,DA(a),r=o}}run(e,n,r){OA(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(o,c){const d=og(n);i.run(e,d,h);function h(m,f,g){const x=f||e;m?c(m):o?o(x):r(void 0,x,g)}}}runSync(e,n){let r=!1,i;return this.run(e,n,a),FA("runSync","run",r),i;function a(o,c){DA(o),i=c,r=!0}}stringify(e,n){this.freeze();const r=og(n),i=this.compiler||this.Compiler;return Eb("stringify",i),OA(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(Cb("use",this.frozen),e!=null)if(typeof e=="function")d(e,n);else if(typeof e=="object")Array.isArray(e)?c(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(h){if(typeof h=="function")d(h,[]);else if(typeof h=="object")if(Array.isArray(h)){const[m,...f]=h;d(m,f)}else o(h);else throw new TypeError("Expected usable value, not `"+h+"`")}function o(h){if(!("plugins"in h)&&!("settings"in h))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(h.plugins),h.settings&&(i.settings=wb(!0,i.settings,h.settings))}function c(h){let m=-1;if(h!=null)if(Array.isArray(h))for(;++m<h.length;){const f=h[m];a(f)}else throw new TypeError("Expected a list of plugins, not `"+h+"`")}function d(h,m){let f=-1,g=-1;for(;++f<r.length;)if(r[f][0]===h){g=f;break}if(g===-1)r.push([h,...m]);else if(m.length>0){let[x,..._]=m;const j=r[g][1];v1(j)&&v1(x)&&(x=wb(!0,j,x)),r[g]=[h,x,..._]}}}}const fue=new y_().freeze();function Sb(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Eb(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Cb(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function OA(t){if(!v1(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function FA(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function og(t){return pue(t)?t:new kL(t)}function pue(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function gue(t){return typeof t=="string"||xue(t)}function xue(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const yue="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",VA=[],UA={allowDangerousHtml:!0},vue=/^(https?|ircs?|mailto|xmpp)$/i,bue=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function TL(t){const e=wue(t),n=jue(t);return Nue(e.runSync(e.parse(n),n),t)}function wue(t){const e=t.rehypePlugins||VA,n=t.remarkPlugins||VA,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...UA}:UA;return fue().use(tce).use(n).use(Yce,r).use(e)}function jue(t){const e=t.children||"",n=new kL;return typeof e=="string"&&(n.value=e),n}function Nue(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,a=e.disallowedElements,o=e.skipHtml,c=e.unwrapDisallowed,d=e.urlTransform||_ue;for(const m of bue)Object.hasOwn(e,m.from)&&(""+m.from+(m.to?"use `"+m.to+"` instead":"remove it")+yue+m.id,void 0);return CL(t,h),Dae(t,{Fragment:s.Fragment,components:i,ignoreInvalidStyle:!0,jsx:s.jsx,jsxs:s.jsxs,passKeys:!0,passNode:!0});function h(m,f,g){if(m.type==="raw"&&g&&typeof f=="number")return o?g.children.splice(f,1):g.children[f]={type:"text",value:m.value},f;if(m.type==="element"){let x;for(x in xb)if(Object.hasOwn(xb,x)&&Object.hasOwn(m.properties,x)){const _=m.properties[x],j=xb[x];(j===null||j.includes(m.tagName))&&(m.properties[x]=d(String(_||""),x,m))}}if(m.type==="element"){let x=n?!n.includes(m.tagName):a?a.includes(m.tagName):!1;if(!x&&r&&typeof f=="number"&&(x=!r(m,f,g)),x&&g&&typeof f=="number")return c&&m.children?g.children.splice(f,1,...m.children):g.children.splice(f,1),f}}}function _ue(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||vue.test(t.slice(0,e))?t:""}function AL(t,e){return function(){return t.apply(e,arguments)}}const{toString:Sue}=Object.prototype,{getPrototypeOf:v_}=Object,{iterator:Ay,toStringTag:IL}=Symbol,Iy=(t=>e=>{const n=Sue.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),wi=t=>(t=t.toLowerCase(),e=>Iy(e)===t),Ry=t=>e=>typeof e===t,{isArray:Gd}=Array,jd=Ry("undefined");function Cf(t){return t!==null&&!jd(t)&&t.constructor!==null&&!jd(t.constructor)&&cs(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const RL=wi("ArrayBuffer");function Eue(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&RL(t.buffer),e}const Cue=Ry("string"),cs=Ry("function"),PL=Ry("number"),kf=t=>t!==null&&typeof t=="object",kue=t=>t===!0||t===!1,Dg=t=>{if(Iy(t)!=="object")return!1;const e=v_(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(IL in t)&&!(Ay in t)},Tue=t=>{if(!kf(t)||Cf(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Aue=wi("Date"),Iue=wi("File"),Rue=wi("Blob"),Pue=wi("FileList"),Due=t=>kf(t)&&cs(t.pipe),Mue=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||cs(t.append)&&((e=Iy(t))==="formdata"||e==="object"&&cs(t.toString)&&t.toString()==="[object FormData]"))},Lue=wi("URLSearchParams"),[Oue,Fue,Vue,Uue]=["ReadableStream","Request","Response","Headers"].map(wi),zue=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Tf(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Gd(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(Cf(t))return;const a=n?Object.getOwnPropertyNames(t):Object.keys(t),o=a.length;let c;for(r=0;r<o;r++)c=a[r],e.call(null,t[c],c,t)}}function DL(t,e){if(Cf(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const dc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ML=t=>!jd(t)&&t!==dc;function w1(){const{caseless:t,skipUndefined:e}=ML(this)&&this||{},n={},r=(i,a)=>{const o=t&&DL(n,a)||a;Dg(n[o])&&Dg(i)?n[o]=w1(n[o],i):Dg(i)?n[o]=w1({},i):Gd(i)?n[o]=i.slice():(!e||!jd(i))&&(n[o]=i)};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&Tf(arguments[i],r);return n}const Bue=(t,e,n,{allOwnKeys:r}={})=>(Tf(e,(i,a)=>{n&&cs(i)?t[a]=AL(i,n):t[a]=i},{allOwnKeys:r}),t),$ue=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),que=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Hue=(t,e,n,r)=>{let i,a,o;const c={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),a=i.length;a-- >0;)o=i[a],(!r||r(o,t,e))&&!c[o]&&(e[o]=t[o],c[o]=!0);t=n!==!1&&v_(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Wue=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},Kue=t=>{if(!t)return null;if(Gd(t))return t;let e=t.length;if(!PL(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Gue=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&v_(Uint8Array)),Que=(t,e)=>{const r=(t&&t[Ay]).call(t);let i;for(;(i=r.next())&&!i.done;){const a=i.value;e.call(t,a[0],a[1])}},Yue=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},Jue=wi("HTMLFormElement"),Xue=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),zA=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Zue=wi("RegExp"),LL=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Tf(n,(i,a)=>{let o;(o=e(i,a,t))!==!1&&(r[a]=o||i)}),Object.defineProperties(t,r)},ede=t=>{LL(t,(e,n)=>{if(cs(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(cs(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},tde=(t,e)=>{const n={},r=i=>{i.forEach(a=>{n[a]=!0})};return Gd(t)?r(t):r(String(t).split(e)),n},nde=()=>{},rde=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function sde(t){return!!(t&&cs(t.append)&&t[IL]==="FormData"&&t[Ay])}const ide=t=>{const e=new Array(10),n=(r,i)=>{if(kf(r)){if(e.indexOf(r)>=0)return;if(Cf(r))return r;if(!("toJSON"in r)){e[i]=r;const a=Gd(r)?[]:{};return Tf(r,(o,c)=>{const d=n(o,i+1);!jd(d)&&(a[c]=d)}),e[i]=void 0,a}}return r};return n(t,0)},ade=wi("AsyncFunction"),ode=t=>t&&(kf(t)||cs(t))&&cs(t.then)&&cs(t.catch),OL=((t,e)=>t?setImmediate:e?((n,r)=>(dc.addEventListener("message",({source:i,data:a})=>{i===dc&&a===n&&r.length&&r.shift()()},!1),i=>{r.push(i),dc.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",cs(dc.postMessage)),lde=typeof queueMicrotask<"u"?queueMicrotask.bind(dc):typeof process<"u"&&process.nextTick||OL,cde=t=>t!=null&&cs(t[Ay]),de={isArray:Gd,isArrayBuffer:RL,isBuffer:Cf,isFormData:Mue,isArrayBufferView:Eue,isString:Cue,isNumber:PL,isBoolean:kue,isObject:kf,isPlainObject:Dg,isEmptyObject:Tue,isReadableStream:Oue,isRequest:Fue,isResponse:Vue,isHeaders:Uue,isUndefined:jd,isDate:Aue,isFile:Iue,isBlob:Rue,isRegExp:Zue,isFunction:cs,isStream:Due,isURLSearchParams:Lue,isTypedArray:Gue,isFileList:Pue,forEach:Tf,merge:w1,extend:Bue,trim:zue,stripBOM:$ue,inherits:que,toFlatObject:Hue,kindOf:Iy,kindOfTest:wi,endsWith:Wue,toArray:Kue,forEachEntry:Que,matchAll:Yue,isHTMLForm:Jue,hasOwnProperty:zA,hasOwnProp:zA,reduceDescriptors:LL,freezeMethods:ede,toObjectSet:tde,toCamelCase:Xue,noop:nde,toFiniteNumber:rde,findKey:DL,global:dc,isContextDefined:ML,isSpecCompliantForm:sde,toJSONObject:ide,isAsyncFn:ade,isThenable:ode,setImmediate:OL,asap:lde,isIterable:cde};function wt(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}de.inherits(wt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:de.toJSONObject(this.config),code:this.code,status:this.status}}});const FL=wt.prototype,VL={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{VL[t]={value:t}});Object.defineProperties(wt,VL);Object.defineProperty(FL,"isAxiosError",{value:!0});wt.from=(t,e,n,r,i,a)=>{const o=Object.create(FL);de.toFlatObject(t,o,function(m){return m!==Error.prototype},h=>h!=="isAxiosError");const c=t&&t.message?t.message:"Error",d=e==null&&t?t.code:e;return wt.call(o,c,d,n,r,i),t&&o.cause==null&&Object.defineProperty(o,"cause",{value:t,configurable:!0}),o.name=t&&t.name||"Error",a&&Object.assign(o,a),o};const ude=null;function j1(t){return de.isPlainObject(t)||de.isArray(t)}function UL(t){return de.endsWith(t,"[]")?t.slice(0,-2):t}function BA(t,e,n){return t?t.concat(e).map(function(i,a){return i=UL(i),!n&&a?"["+i+"]":i}).join(n?".":""):e}function dde(t){return de.isArray(t)&&!t.some(j1)}const hde=de.toFlatObject(de,{},null,function(e){return/^is[A-Z]/.test(e)});function Py(t,e,n){if(!de.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=de.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,w){return!de.isUndefined(w[j])});const r=n.metaTokens,i=n.visitor||m,a=n.dots,o=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&de.isSpecCompliantForm(e);if(!de.isFunction(i))throw new TypeError("visitor must be a function");function h(_){if(_===null)return"";if(de.isDate(_))return _.toISOString();if(de.isBoolean(_))return _.toString();if(!d&&de.isBlob(_))throw new wt("Blob is not supported. Use a Buffer instead.");return de.isArrayBuffer(_)||de.isTypedArray(_)?d&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function m(_,j,w){let N=_;if(_&&!w&&typeof _=="object"){if(de.endsWith(j,"{}"))j=r?j:j.slice(0,-2),_=JSON.stringify(_);else if(de.isArray(_)&&dde(_)||(de.isFileList(_)||de.endsWith(j,"[]"))&&(N=de.toArray(_)))return j=UL(j),N.forEach(function(A,T){!(de.isUndefined(A)||A===null)&&e.append(o===!0?BA([j],T,a):o===null?j:j+"[]",h(A))}),!1}return j1(_)?!0:(e.append(BA(w,j,a),h(_)),!1)}const f=[],g=Object.assign(hde,{defaultVisitor:m,convertValue:h,isVisitable:j1});function x(_,j){if(!de.isUndefined(_)){if(f.indexOf(_)!==-1)throw Error("Circular reference detected in "+j.join("."));f.push(_),de.forEach(_,function(N,E){(!(de.isUndefined(N)||N===null)&&i.call(e,N,de.isString(E)?E.trim():E,j,g))===!0&&x(N,j?j.concat(E):[E])}),f.pop()}}if(!de.isObject(t))throw new TypeError("data must be an object");return x(t),e}function $A(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function b_(t,e){this._pairs=[],t&&Py(t,this,e)}const zL=b_.prototype;zL.append=function(e,n){this._pairs.push([e,n])};zL.toString=function(e){const n=e?function(r){return e.call(this,r,$A)}:$A;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function mde(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function BL(t,e,n){if(!e)return t;const r=n&&n.encode||mde;de.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let a;if(i?a=i(e,n):a=de.isURLSearchParams(e)?e.toString():new b_(e,n).toString(r),a){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class qA{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){de.forEach(this.handlers,function(r){r!==null&&e(r)})}}const $L={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},fde=typeof URLSearchParams<"u"?URLSearchParams:b_,pde=typeof FormData<"u"?FormData:null,gde=typeof Blob<"u"?Blob:null,xde={isBrowser:!0,classes:{URLSearchParams:fde,FormData:pde,Blob:gde},protocols:["http","https","file","blob","url","data"]},w_=typeof window<"u"&&typeof document<"u",N1=typeof navigator=="object"&&navigator||void 0,yde=w_&&(!N1||["ReactNative","NativeScript","NS"].indexOf(N1.product)<0),vde=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",bde=w_&&window.location.href||"http://localhost",wde=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:w_,hasStandardBrowserEnv:yde,hasStandardBrowserWebWorkerEnv:vde,navigator:N1,origin:bde},Symbol.toStringTag,{value:"Module"})),Ar={...wde,...xde};function jde(t,e){return Py(t,new Ar.classes.URLSearchParams,{visitor:function(n,r,i,a){return Ar.isNode&&de.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...e})}function Nde(t){return de.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function _de(t){const e={},n=Object.keys(t);let r;const i=n.length;let a;for(r=0;r<i;r++)a=n[r],e[a]=t[a];return e}function qL(t){function e(n,r,i,a){let o=n[a++];if(o==="__proto__")return!0;const c=Number.isFinite(+o),d=a>=n.length;return o=!o&&de.isArray(i)?i.length:o,d?(de.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!c):((!i[o]||!de.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],a)&&de.isArray(i[o])&&(i[o]=_de(i[o])),!c)}if(de.isFormData(t)&&de.isFunction(t.entries)){const n={};return de.forEachEntry(t,(r,i)=>{e(Nde(r),i,n,0)}),n}return null}function Sde(t,e,n){if(de.isString(t))try{return(e||JSON.parse)(t),de.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Af={transitional:$L,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,a=de.isObject(e);if(a&&de.isHTMLForm(e)&&(e=new FormData(e)),de.isFormData(e))return i?JSON.stringify(qL(e)):e;if(de.isArrayBuffer(e)||de.isBuffer(e)||de.isStream(e)||de.isFile(e)||de.isBlob(e)||de.isReadableStream(e))return e;if(de.isArrayBufferView(e))return e.buffer;if(de.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return jde(e,this.formSerializer).toString();if((c=de.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Py(c?{"files[]":e}:e,d&&new d,this.formSerializer)}}return a||i?(n.setContentType("application/json",!1),Sde(e)):e}],transformResponse:[function(e){const n=this.transitional||Af.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(de.isResponse(e)||de.isReadableStream(e))return e;if(e&&de.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(c){if(o)throw c.name==="SyntaxError"?wt.from(c,wt.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ar.classes.FormData,Blob:Ar.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};de.forEach(["delete","get","head","post","put","patch"],t=>{Af.headers[t]={}});const Ede=de.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Cde=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&Ede[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},HA=Symbol("internals");function qh(t){return t&&String(t).trim().toLowerCase()}function Mg(t){return t===!1||t==null?t:de.isArray(t)?t.map(Mg):String(t)}function kde(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const Tde=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function kb(t,e,n,r,i){if(de.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!de.isString(e)){if(de.isString(r))return e.indexOf(r)!==-1;if(de.isRegExp(r))return r.test(e)}}function Ade(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function Ide(t,e){const n=de.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,a,o){return this[r].call(this,e,i,a,o)},configurable:!0})})}let us=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function a(c,d,h){const m=qh(d);if(!m)throw new Error("header name must be a non-empty string");const f=de.findKey(i,m);(!f||i[f]===void 0||h===!0||h===void 0&&i[f]!==!1)&&(i[f||d]=Mg(c))}const o=(c,d)=>de.forEach(c,(h,m)=>a(h,m,d));if(de.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(de.isString(e)&&(e=e.trim())&&!Tde(e))o(Cde(e),n);else if(de.isObject(e)&&de.isIterable(e)){let c={},d,h;for(const m of e){if(!de.isArray(m))throw TypeError("Object iterator must return a key-value pair");c[h=m[0]]=(d=c[h])?de.isArray(d)?[...d,m[1]]:[d,m[1]]:m[1]}o(c,n)}else e!=null&&a(n,e,r);return this}get(e,n){if(e=qh(e),e){const r=de.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return kde(i);if(de.isFunction(n))return n.call(this,i,r);if(de.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=qh(e),e){const r=de.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||kb(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function a(o){if(o=qh(o),o){const c=de.findKey(r,o);c&&(!n||kb(r,r[c],c,n))&&(delete r[c],i=!0)}}return de.isArray(e)?e.forEach(a):a(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const a=n[r];(!e||kb(this,this[a],a,e,!0))&&(delete this[a],i=!0)}return i}normalize(e){const n=this,r={};return de.forEach(this,(i,a)=>{const o=de.findKey(r,a);if(o){n[o]=Mg(i),delete n[a];return}const c=e?Ade(a):String(a).trim();c!==a&&delete n[a],n[c]=Mg(i),r[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return de.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&de.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[HA]=this[HA]={accessors:{}}).accessors,i=this.prototype;function a(o){const c=qh(o);r[c]||(Ide(i,o),r[c]=!0)}return de.isArray(e)?e.forEach(a):a(e),this}};us.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);de.reduceDescriptors(us.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});de.freezeMethods(us);function Tb(t,e){const n=this||Af,r=e||n,i=us.from(r.headers);let a=r.data;return de.forEach(t,function(c){a=c.call(n,a,i.normalize(),e?e.status:void 0)}),i.normalize(),a}function HL(t){return!!(t&&t.__CANCEL__)}function Qd(t,e,n){wt.call(this,t??"canceled",wt.ERR_CANCELED,e,n),this.name="CanceledError"}de.inherits(Qd,wt,{__CANCEL__:!0});function WL(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new wt("Request failed with status code "+n.status,[wt.ERR_BAD_REQUEST,wt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Rde(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Pde(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,a=0,o;return e=e!==void 0?e:1e3,function(d){const h=Date.now(),m=r[a];o||(o=h),n[i]=d,r[i]=h;let f=a,g=0;for(;f!==i;)g+=n[f++],f=f%t;if(i=(i+1)%t,i===a&&(a=(a+1)%t),h-o<e)return;const x=m&&h-m;return x?Math.round(g*1e3/x):void 0}}function Dde(t,e){let n=0,r=1e3/e,i,a;const o=(h,m=Date.now())=>{n=m,i=null,a&&(clearTimeout(a),a=null),t(...h)};return[(...h)=>{const m=Date.now(),f=m-n;f>=r?o(h,m):(i=h,a||(a=setTimeout(()=>{a=null,o(i)},r-f)))},()=>i&&o(i)]}const kx=(t,e,n=3)=>{let r=0;const i=Pde(50,250);return Dde(a=>{const o=a.loaded,c=a.lengthComputable?a.total:void 0,d=o-r,h=i(d),m=o<=c;r=o;const f={loaded:o,total:c,progress:c?o/c:void 0,bytes:d,rate:h||void 0,estimated:h&&c&&m?(c-o)/h:void 0,event:a,lengthComputable:c!=null,[e?"download":"upload"]:!0};t(f)},n)},WA=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},KA=t=>(...e)=>de.asap(()=>t(...e)),Mde=Ar.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Ar.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Ar.origin),Ar.navigator&&/(msie|trident)/i.test(Ar.navigator.userAgent)):()=>!0,Lde=Ar.hasStandardBrowserEnv?{write(t,e,n,r,i,a,o){if(typeof document>"u")return;const c=[`${t}=${encodeURIComponent(e)}`];de.isNumber(n)&&c.push(`expires=${new Date(n).toUTCString()}`),de.isString(r)&&c.push(`path=${r}`),de.isString(i)&&c.push(`domain=${i}`),a===!0&&c.push("secure"),de.isString(o)&&c.push(`SameSite=${o}`),document.cookie=c.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Ode(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Fde(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function KL(t,e,n){let r=!Ode(e);return t&&(r||n==!1)?Fde(t,e):e}const GA=t=>t instanceof us?{...t}:t;function Pc(t,e){e=e||{};const n={};function r(h,m,f,g){return de.isPlainObject(h)&&de.isPlainObject(m)?de.merge.call({caseless:g},h,m):de.isPlainObject(m)?de.merge({},m):de.isArray(m)?m.slice():m}function i(h,m,f,g){if(de.isUndefined(m)){if(!de.isUndefined(h))return r(void 0,h,f,g)}else return r(h,m,f,g)}function a(h,m){if(!de.isUndefined(m))return r(void 0,m)}function o(h,m){if(de.isUndefined(m)){if(!de.isUndefined(h))return r(void 0,h)}else return r(void 0,m)}function c(h,m,f){if(f in e)return r(h,m);if(f in t)return r(void 0,h)}const d={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(h,m,f)=>i(GA(h),GA(m),f,!0)};return de.forEach(Object.keys({...t,...e}),function(m){const f=d[m]||i,g=f(t[m],e[m],m);de.isUndefined(g)&&f!==c||(n[m]=g)}),n}const GL=t=>{const e=Pc({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:c}=e;if(e.headers=o=us.from(o),e.url=BL(KL(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),c&&o.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),de.isFormData(n)){if(Ar.hasStandardBrowserEnv||Ar.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(de.isFunction(n.getHeaders)){const d=n.getHeaders(),h=["content-type","content-length"];Object.entries(d).forEach(([m,f])=>{h.includes(m.toLowerCase())&&o.set(m,f)})}}if(Ar.hasStandardBrowserEnv&&(r&&de.isFunction(r)&&(r=r(e)),r||r!==!1&&Mde(e.url))){const d=i&&a&&Lde.read(a);d&&o.set(i,d)}return e},Vde=typeof XMLHttpRequest<"u",Ude=Vde&&function(t){return new Promise(function(n,r){const i=GL(t);let a=i.data;const o=us.from(i.headers).normalize();let{responseType:c,onUploadProgress:d,onDownloadProgress:h}=i,m,f,g,x,_;function j(){x&&x(),_&&_(),i.cancelToken&&i.cancelToken.unsubscribe(m),i.signal&&i.signal.removeEventListener("abort",m)}let w=new XMLHttpRequest;w.open(i.method.toUpperCase(),i.url,!0),w.timeout=i.timeout;function N(){if(!w)return;const A=us.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),D={data:!c||c==="text"||c==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:A,config:t,request:w};WL(function(P){n(P),j()},function(P){r(P),j()},D),w=null}"onloadend"in w?w.onloadend=N:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(N)},w.onabort=function(){w&&(r(new wt("Request aborted",wt.ECONNABORTED,t,w)),w=null)},w.onerror=function(T){const D=T&&T.message?T.message:"Network Error",F=new wt(D,wt.ERR_NETWORK,t,w);F.event=T||null,r(F),w=null},w.ontimeout=function(){let T=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const D=i.transitional||$L;i.timeoutErrorMessage&&(T=i.timeoutErrorMessage),r(new wt(T,D.clarifyTimeoutError?wt.ETIMEDOUT:wt.ECONNABORTED,t,w)),w=null},a===void 0&&o.setContentType(null),"setRequestHeader"in w&&de.forEach(o.toJSON(),function(T,D){w.setRequestHeader(D,T)}),de.isUndefined(i.withCredentials)||(w.withCredentials=!!i.withCredentials),c&&c!=="json"&&(w.responseType=i.responseType),h&&([g,_]=kx(h,!0),w.addEventListener("progress",g)),d&&w.upload&&([f,x]=kx(d),w.upload.addEventListener("progress",f),w.upload.addEventListener("loadend",x)),(i.cancelToken||i.signal)&&(m=A=>{w&&(r(!A||A.type?new Qd(null,t,w):A),w.abort(),w=null)},i.cancelToken&&i.cancelToken.subscribe(m),i.signal&&(i.signal.aborted?m():i.signal.addEventListener("abort",m)));const E=Rde(i.url);if(E&&Ar.protocols.indexOf(E)===-1){r(new wt("Unsupported protocol "+E+":",wt.ERR_BAD_REQUEST,t));return}w.send(a||null)})},zde=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const a=function(h){if(!i){i=!0,c();const m=h instanceof Error?h:this.reason;r.abort(m instanceof wt?m:new Qd(m instanceof Error?m.message:m))}};let o=e&&setTimeout(()=>{o=null,a(new wt(`timeout ${e} of ms exceeded`,wt.ETIMEDOUT))},e);const c=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(h=>{h.unsubscribe?h.unsubscribe(a):h.removeEventListener("abort",a)}),t=null)};t.forEach(h=>h.addEventListener("abort",a));const{signal:d}=r;return d.unsubscribe=()=>de.asap(c),d}},Bde=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},$de=async function*(t,e){for await(const n of qde(t))yield*Bde(n,e)},qde=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},QA=(t,e,n,r)=>{const i=$de(t,e);let a=0,o,c=d=>{o||(o=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:h,value:m}=await i.next();if(h){c(),d.close();return}let f=m.byteLength;if(n){let g=a+=f;n(g)}d.enqueue(new Uint8Array(m))}catch(h){throw c(h),h}},cancel(d){return c(d),i.return()}},{highWaterMark:2})},YA=64*1024,{isFunction:lg}=de,Hde=(({Request:t,Response:e})=>({Request:t,Response:e}))(de.global),{ReadableStream:JA,TextEncoder:XA}=de.global,ZA=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Wde=t=>{t=de.merge.call({skipUndefined:!0},Hde,t);const{fetch:e,Request:n,Response:r}=t,i=e?lg(e):typeof fetch=="function",a=lg(n),o=lg(r);if(!i)return!1;const c=i&&lg(JA),d=i&&(typeof XA=="function"?(_=>j=>_.encode(j))(new XA):async _=>new Uint8Array(await new n(_).arrayBuffer())),h=a&&c&&ZA(()=>{let _=!1;const j=new n(Ar.origin,{body:new JA,method:"POST",get duplex(){return _=!0,"half"}}).headers.has("Content-Type");return _&&!j}),m=o&&c&&ZA(()=>de.isReadableStream(new r("").body)),f={stream:m&&(_=>_.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(_=>{!f[_]&&(f[_]=(j,w)=>{let N=j&&j[_];if(N)return N.call(j);throw new wt(`Response type '${_}' is not supported`,wt.ERR_NOT_SUPPORT,w)})});const g=async _=>{if(_==null)return 0;if(de.isBlob(_))return _.size;if(de.isSpecCompliantForm(_))return(await new n(Ar.origin,{method:"POST",body:_}).arrayBuffer()).byteLength;if(de.isArrayBufferView(_)||de.isArrayBuffer(_))return _.byteLength;if(de.isURLSearchParams(_)&&(_=_+""),de.isString(_))return(await d(_)).byteLength},x=async(_,j)=>{const w=de.toFiniteNumber(_.getContentLength());return w??g(j)};return async _=>{let{url:j,method:w,data:N,signal:E,cancelToken:A,timeout:T,onDownloadProgress:D,onUploadProgress:F,responseType:P,headers:R,withCredentials:I="same-origin",fetchOptions:O}=GL(_),V=e||fetch;P=P?(P+"").toLowerCase():"text";let M=zde([E,A&&A.toAbortSignal()],T),U=null;const J=M&&M.unsubscribe&&(()=>{M.unsubscribe()});let ne;try{if(F&&h&&w!=="get"&&w!=="head"&&(ne=await x(R,N))!==0){let q=new n(j,{method:"POST",body:N,duplex:"half"}),X;if(de.isFormData(N)&&(X=q.headers.get("content-type"))&&R.setContentType(X),q.body){const[$,he]=WA(ne,kx(KA(F)));N=QA(q.body,YA,$,he)}}de.isString(I)||(I=I?"include":"omit");const ce=a&&"credentials"in n.prototype,se={...O,signal:M,method:w.toUpperCase(),headers:R.normalize().toJSON(),body:N,duplex:"half",credentials:ce?I:void 0};U=a&&new n(j,se);let K=await(a?V(U,O):V(j,se));const W=m&&(P==="stream"||P==="response");if(m&&(D||W&&J)){const q={};["status","statusText","headers"].forEach(Ne=>{q[Ne]=K[Ne]});const X=de.toFiniteNumber(K.headers.get("content-length")),[$,he]=D&&WA(X,kx(KA(D),!0))||[];K=new r(QA(K.body,YA,$,()=>{he&&he(),J&&J()}),q)}P=P||"text";let B=await f[de.findKey(f,P)||"text"](K,_);return!W&&J&&J(),await new Promise((q,X)=>{WL(q,X,{data:B,headers:us.from(K.headers),status:K.status,statusText:K.statusText,config:_,request:U})})}catch(ce){throw J&&J(),ce&&ce.name==="TypeError"&&/Load failed|fetch/i.test(ce.message)?Object.assign(new wt("Network Error",wt.ERR_NETWORK,_,U),{cause:ce.cause||ce}):wt.from(ce,ce&&ce.code,_,U)}}},Kde=new Map,QL=t=>{let e=t&&t.env||{};const{fetch:n,Request:r,Response:i}=e,a=[r,i,n];let o=a.length,c=o,d,h,m=Kde;for(;c--;)d=a[c],h=m.get(d),h===void 0&&m.set(d,h=c?new Map:Wde(e)),m=h;return h};QL();const j_={http:ude,xhr:Ude,fetch:{get:QL}};de.forEach(j_,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const eI=t=>`- ${t}`,Gde=t=>de.isFunction(t)||t===null||t===!1;function Qde(t,e){t=de.isArray(t)?t:[t];const{length:n}=t;let r,i;const a={};for(let o=0;o<n;o++){r=t[o];let c;if(i=r,!Gde(r)&&(i=j_[(c=String(r)).toLowerCase()],i===void 0))throw new wt(`Unknown adapter '${c}'`);if(i&&(de.isFunction(i)||(i=i.get(e))))break;a[c||"#"+o]=i}if(!i){const o=Object.entries(a).map(([d,h])=>`adapter ${d} `+(h===!1?"is not supported by the environment":"is not available in the build"));let c=n?o.length>1?`since :
`+o.map(eI).join(`
`):" "+eI(o[0]):"as no adapter specified";throw new wt("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return i}const YL={getAdapter:Qde,adapters:j_};function Ab(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Qd(null,t)}function tI(t){return Ab(t),t.headers=us.from(t.headers),t.data=Tb.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),YL.getAdapter(t.adapter||Af.adapter,t)(t).then(function(r){return Ab(t),r.data=Tb.call(t,t.transformResponse,r),r.headers=us.from(r.headers),r},function(r){return HL(r)||(Ab(t),r&&r.response&&(r.response.data=Tb.call(t,t.transformResponse,r.response),r.response.headers=us.from(r.response.headers))),Promise.reject(r)})}const JL="1.13.2",Dy={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Dy[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const nI={};Dy.transitional=function(e,n,r){function i(a,o){return"[Axios v"+JL+"] Transitional option '"+a+"'"+o+(r?". "+r:"")}return(a,o,c)=>{if(e===!1)throw new wt(i(o," has been removed"+(n?" in "+n:"")),wt.ERR_DEPRECATED);return n&&!nI[o]&&(nI[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(a,o,c):!0}};Dy.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function Yde(t,e,n){if(typeof t!="object")throw new wt("options must be an object",wt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const a=r[i],o=e[a];if(o){const c=t[a],d=c===void 0||o(c,a,t);if(d!==!0)throw new wt("option "+a+" must be "+d,wt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new wt("Unknown option "+a,wt.ERR_BAD_OPTION)}}const Lg={assertOptions:Yde,validators:Dy},$i=Lg.validators;let bc=class{constructor(e){this.defaults=e||{},this.interceptors={request:new qA,response:new qA}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Pc(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:a}=n;r!==void 0&&Lg.assertOptions(r,{silentJSONParsing:$i.transitional($i.boolean),forcedJSONParsing:$i.transitional($i.boolean),clarifyTimeoutError:$i.transitional($i.boolean)},!1),i!=null&&(de.isFunction(i)?n.paramsSerializer={serialize:i}:Lg.assertOptions(i,{encode:$i.function,serialize:$i.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Lg.assertOptions(n,{baseUrl:$i.spelling("baseURL"),withXsrfToken:$i.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=a&&de.merge(a.common,a[n.method]);a&&de.forEach(["delete","get","head","post","put","patch","common"],_=>{delete a[_]}),n.headers=us.concat(o,a);const c=[];let d=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(n)===!1||(d=d&&j.synchronous,c.unshift(j.fulfilled,j.rejected))});const h=[];this.interceptors.response.forEach(function(j){h.push(j.fulfilled,j.rejected)});let m,f=0,g;if(!d){const _=[tI.bind(this),void 0];for(_.unshift(...c),_.push(...h),g=_.length,m=Promise.resolve(n);f<g;)m=m.then(_[f++],_[f++]);return m}g=c.length;let x=n;for(;f<g;){const _=c[f++],j=c[f++];try{x=_(x)}catch(w){j.call(this,w);break}}try{m=tI.call(this,x)}catch(_){return Promise.reject(_)}for(f=0,g=h.length;f<g;)m=m.then(h[f++],h[f++]);return m}getUri(e){e=Pc(this.defaults,e);const n=KL(e.baseURL,e.url,e.allowAbsoluteUrls);return BL(n,e.params,e.paramsSerializer)}};de.forEach(["delete","get","head","options"],function(e){bc.prototype[e]=function(n,r){return this.request(Pc(r||{},{method:e,url:n,data:(r||{}).data}))}});de.forEach(["post","put","patch"],function(e){function n(r){return function(a,o,c){return this.request(Pc(c||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}bc.prototype[e]=n(),bc.prototype[e+"Form"]=n(!0)});let Jde=class XL{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(c=>{r.subscribe(c),a=c}).then(i);return o.cancel=function(){r.unsubscribe(a)},o},e(function(a,o,c){r.reason||(r.reason=new Qd(a,o,c),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new XL(function(i){e=i}),cancel:e}}};function Xde(t){return function(n){return t.apply(null,n)}}function Zde(t){return de.isObject(t)&&t.isAxiosError===!0}const _1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(_1).forEach(([t,e])=>{_1[e]=t});function ZL(t){const e=new bc(t),n=AL(bc.prototype.request,e);return de.extend(n,bc.prototype,e,{allOwnKeys:!0}),de.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return ZL(Pc(t,i))},n}const Un=ZL(Af);Un.Axios=bc;Un.CanceledError=Qd;Un.CancelToken=Jde;Un.isCancel=HL;Un.VERSION=JL;Un.toFormData=Py;Un.AxiosError=wt;Un.Cancel=Un.CanceledError;Un.all=function(e){return Promise.all(e)};Un.spread=Xde;Un.isAxiosError=Zde;Un.mergeConfig=Pc;Un.AxiosHeaders=us;Un.formToJSON=t=>qL(de.isHTMLForm(t)?new FormData(t):t);Un.getAdapter=YL.getAdapter;Un.HttpStatusCode=_1;Un.default=Un;const{Axios:Hfe,AxiosError:Wfe,CanceledError:Kfe,isCancel:Gfe,CancelToken:Qfe,VERSION:Yfe,all:Jfe,Cancel:Xfe,isAxiosError:Zfe,spread:epe,toFormData:tpe,AxiosHeaders:npe,HttpStatusCode:rpe,formToJSON:spe,getAdapter:ipe,mergeConfig:ape}=Un;class ehe extends Error{constructor(e,n,r,i,a){super(e),this.name="Base44Error",this.status=n,this.code=r,this.data=i,this.originalError=a}toJSON(){return{name:this.name,message:this.message,status:this.status,code:this.code,data:this.data}}}function the(t){let{baseURL:e,headers:n={},token:r,requiresAuth:i=!1,appId:a,serverUrl:o}=t;const c=Un.create({baseURL:e,headers:{"Content-Type":"application/json",Accept:"application/json",...n}});return r&&(c.defaults.headers.common.Authorization=`Bearer ${r}`),c.interceptors.request.use((d=>(typeof window<"u"&&(d.headers={...d.headers,"X-Origin-URL":window.location.href}),d))),c.interceptors.response.use((d=>d.data),(d=>{var f,g,x,_,j,w,N,E,A,T;const h=((g=(f=d.response)==null?void 0:f.data)==null?void 0:g.message)||((_=(x=d.response)==null?void 0:x.data)==null?void 0:_.detail)||d.message,m=new ehe(h,(j=d.response)==null?void 0:j.status,(N=(w=d.response)==null?void 0:w.data)==null?void 0:N.code,(E=d.response)==null?void 0:E.data,d);return console.log(i,(A=d.response)==null?void 0:A.status,typeof window<"u"),i&&((T=d.response)==null?void 0:T.status)===403&&typeof window<"u"&&(console.log("Authentication required. Redirecting to login..."),setTimeout((()=>{(function(D,F){if(typeof window>"u")return;const P=`${D}/login?from_url=${encodeURIComponent(window.location.href)}&app_id=${F}`;window.location.href=P})(o,a)}),100)),Promise.reject(m)})),c}function nhe(t,e){return new Proxy({},{get(n,r){if(typeof r=="string"&&r!=="then"&&!r.startsWith("_"))return(function(i,a,o){const c=`/apps/${a}/entities/${o}`;return{async list(d,h,m,f){const g={};return d&&(g.sort=d),h&&(g.limit=h),m&&(g.skip=m),f&&(g.fields=Array.isArray(f)?f.join(","):f),i.get(c,{params:g})},async filter(d,h,m,f,g){const x={q:JSON.stringify(d)};return h&&(x.sort=h),m&&(x.limit=m),f&&(x.skip=f),g&&(x.fields=Array.isArray(g)?g.join(","):g),i.get(c,{params:x})},get:async d=>i.get(`${c}/${d}`),create:async d=>i.post(c,d),update:async(d,h)=>i.put(`${c}/${d}`,h),delete:async d=>i.delete(`${c}/${d}`),deleteMany:async d=>i.delete(c,{data:d}),bulkCreate:async d=>i.post(`${c}/bulk`,d),async importEntities(d){const h=new FormData;return h.append("file",d,d.name),i.post(`${c}/import`,h,{headers:{"Content-Type":"multipart/form-data"}})}}})(t,e,r)}})}function rhe(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{storageKey:e="base44_access_token",paramName:n="access_token",saveToStorage:r=!0,removeFromUrl:i=!0}=t;let a=null;if(typeof window<"u"&&window.location)try{const o=new URLSearchParams(window.location.search);if(a=o.get(n),a){if(r&&she(a,{storageKey:e}),i){o.delete(n);const c=`${window.location.pathname}${o.toString()?`?${o.toString()}`:""}${window.location.hash}`;window.history.replaceState({},document.title,c)}return a}}catch(o){console.error("Error retrieving token from URL:",o)}if(typeof window<"u"&&window.localStorage)try{return a=window.localStorage.getItem(e),a}catch(o){console.error("Error retrieving token from localStorage:",o)}return null}function she(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{storageKey:n="base44_access_token"}=e;if(typeof window>"u"||!window.localStorage||!t)return!1;try{return window.localStorage.setItem(n,t),!0}catch(r){return console.error("Error saving token to localStorage:",r),!1}}function ihe(t){if(!t||!t.appId)throw new Error("appId is required");const{serverUrl:e="https://base44.app",appId:n,env:r="prod",token:i,requiresAuth:a=!1}=t,o=the({baseURL:`${e}/api`,headers:{"X-App-Id":String(n),"X-Environment":r},token:i,requiresAuth:a,appId:n,serverUrl:e}),c=nhe(o,n),d=(function(m,f){return new Proxy({},{get(g,x){if(typeof x=="string"&&x!=="then"&&!x.startsWith("_"))return new Proxy({},{get(_,j){if(typeof j=="string"&&j!=="then"&&!j.startsWith("_"))return async w=>{if(typeof w=="string")throw new Error(`Integration ${j} must receive an object with named parameters, received: ${w}`);let N,E;return w instanceof FormData||w&&Object.values(w).some((A=>A instanceof File))?(N=new FormData,Object.keys(w).forEach((A=>{w[A]instanceof File?N.append(A,w[A],w[A].name):typeof w[A]=="object"&&w[A]!==null?N.append(A,JSON.stringify(w[A])):N.append(A,w[A])})),E="multipart/form-data"):(N=w,E="application/json"),x==="Core"?m.post(`/apps/${f}/integration-endpoints/Core/${j}`,N||w,{headers:{"Content-Type":E}}):m.post(`/apps/${f}/integration-endpoints/installable/${x}/integration-endpoints/${j}`,N||w,{headers:{"Content-Type":E}})}}})}})})(o,n),h=(function(m,f,g){return{me:async()=>m.get(`/apps/${f}/entities/User/me`),updateMe:async x=>m.put(`/apps/${f}/entities/User/me`,x),login(x){if(typeof window>"u")throw new Error("Login method can only be used in a browser environment");const _=x||window.location.href,j=`${g}/login?from_url=${encodeURIComponent(_)}&app_id=${f}`;window.location.href=j},async logout(x){if(delete m.defaults.headers.common.Authorization,typeof window<"u"&&window.localStorage)try{window.localStorage.removeItem("base44_access_token")}catch(_){console.error("Failed to remove token from localStorage:",_)}return x&&typeof window<"u"&&(window.location.href=x),Promise.resolve()},setToken(x){let _=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(x&&(m.defaults.headers.common.Authorization=`Bearer ${x}`,_&&typeof window<"u"&&window.localStorage))try{window.localStorage.setItem("base44_access_token",x)}catch(j){console.error("Failed to save token to localStorage:",j)}},async isAuthenticated(){try{return await this.me(),!0}catch{return!1}}}})(o,n,e);if(typeof window<"u"){const m=i||rhe();m&&h.setToken(m)}return a&&typeof window<"u"&&setTimeout((async()=>{try{await h.isAuthenticated()||h.login(window.location.href)}catch(m){console.error("Authentication check failed:",m),h.login(window.location.href)}}),0),{entities:c,integrations:d,auth:h,setToken(m){h.setToken(m)},getConfig:()=>({serverUrl:e,appId:n,env:r,requiresAuth:a})}}const Je=ihe({appId:"68fcd301afef087bf759dba3",requiresAuth:!1});function eO({story:t,onComplete:e}){const[n,r]=v.useState(t.starting_node),[i,a]=v.useState([]),[o,c]=v.useState(0),[d,h]=v.useState(null),[m,f]=v.useState(!1);v.useEffect(()=>{g()},[]);const g=async()=>{try{if(await Je.auth.isAuthenticated()){const A=await Je.auth.me();h(A)}}catch{console.log("User not authenticated")}},x=()=>{var E;return(E=t.story_nodes)==null?void 0:E.find(A=>A.id===n)},_=async E=>{var T;E.points&&c(o+E.points),a([...i,n]);const A=(T=t.story_nodes)==null?void 0:T.find(D=>D.id===E.next_node);if(r(E.next_node),A!=null&&A.is_ending&&(f(!0),d))try{const F=Math.min((d.points||0)+10,1500);await Je.auth.updateMe({points:F})}catch(D){console.error("Error saving points:",D)}},j=()=>{r(t.starting_node),a([]),c(0),f(!1)},w=x();if(!w)return s.jsxs("div",{className:"text-center py-12",children:[s.jsx("p",{className:"text-gray-600",children:"Story node not found"}),s.jsxs(G,{onClick:j,className:"mt-4",children:[s.jsx(lC,{className:"w-4 h-4 mr-2"}),"Restart Story"]})]});const N={good:"from-green-500 to-teal-500",great:"from-blue-500 to-purple-500",excellent:"from-amber-500 to-orange-500",bad:"from-gray-500 to-slate-500"};return s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(un,{className:"w-5 h-5 text-purple-600"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[i.length," decisions made"]})]}),s.jsxs("div",{className:"flex items-center gap-2 bg-amber-100 px-4 py-2 rounded-full",children:[s.jsx(Vt,{className:"w-5 h-5 text-amber-600"}),s.jsxs("span",{className:"font-bold text-amber-900",children:[o," points"]})]})]}),s.jsx(ds,{mode:"wait",children:s.jsx(ee.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:s.jsxs(te,{className:`shadow-2xl overflow-hidden ${w.is_ending?`bg-gradient-to-br ${N[w.ending_type]||N.good}`:"bg-white"}`,children:[w.image_url&&s.jsx("div",{className:"h-64 md:h-80 overflow-hidden",children:s.jsx("img",{src:w.image_url,alt:"Story scene",className:"w-full h-full object-cover"})}),s.jsxs(re,{className:`p-6 md:p-8 ${w.is_ending?"text-white":""}`,children:[w.character&&s.jsx(we,{className:"mb-4 bg-purple-100 text-purple-800 px-4 py-1",children:w.character}),s.jsx("div",{className:`prose prose-lg max-w-none mb-6 ${w.is_ending?"prose-invert":"prose-slate"}`,children:s.jsx(TL,{children:w.content})}),w.is_ending&&s.jsxs("div",{className:"text-center mb-6",children:[s.jsxs("div",{className:"text-6xl mb-4",children:[w.ending_type==="excellent"&&"",w.ending_type==="great"&&"",w.ending_type==="good"&&"",w.ending_type==="bad"&&""]}),s.jsxs(we,{className:"bg-white/20 text-white text-lg px-6 py-2",children:[w.ending_type==="excellent"&&"Excellent Ending!",w.ending_type==="great"&&"Great Ending!",w.ending_type==="good"&&"Good Ending!",w.ending_type==="bad"&&"Try Again!"]})]}),!w.is_ending&&w.choices&&w.choices.length>0&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-600 mb-4",children:"What will you do?"}),w.choices.map((E,A)=>s.jsx(ee.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:A*.1},onClick:()=>_(E),className:"w-full p-4 bg-gradient-to-r from-blue-50 to-purple-50 hover:from-blue-100 hover:to-purple-100 border-2 border-blue-200 hover:border-purple-300 rounded-xl text-left transition-all duration-300 transform hover:scale-102 group",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium text-gray-900 group-hover:text-purple-900",children:E.text}),s.jsxs("div",{className:"flex items-center gap-2",children:[E.points>0&&s.jsxs(we,{className:"bg-amber-100 text-amber-800",children:["+",E.points," pts"]}),s.jsx(y9,{className:"w-5 h-5 text-purple-600 group-hover:translate-x-1 transition-transform"})]})]})},A))]}),w.is_ending&&s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mt-8",children:[s.jsxs(G,{onClick:j,size:"lg",className:"bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white border-2 border-white/40",children:[s.jsx(lC,{className:"w-5 h-5 mr-2"}),"Try Different Choices"]}),e&&s.jsxs(G,{onClick:e,size:"lg",className:"bg-white text-purple-600 hover:bg-gray-100",children:[s.jsx(Qs,{className:"w-5 h-5 mr-2"}),"Back to Stories"]})]}),w.is_ending&&t.moral&&s.jsxs("div",{className:"mt-8 p-6 bg-white/10 backdrop-blur-sm rounded-xl border-2 border-white/20",children:[s.jsx("h3",{className:"text-xl font-bold mb-2",children:" Moral of the Story:"}),s.jsx("p",{className:"text-lg",children:t.moral})]})]})]})},n)}),i.length>0&&!w.is_ending&&s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-sm text-gray-500",children:["Your journey: ",i.length," choices made"]})})]})}eO.propTypes={story:Tt.object.isRequired,onComplete:Tt.func};const Ib=[{id:"all",name:"All Stories",icon:""},{id:"prophets",name:"Prophets",icon:""},{id:"sahabah",name:"Companions",icon:""},{id:"manners",name:"Good Manners",icon:""},{id:"kindness",name:"Kindness",icon:""},{id:"honesty",name:"Honesty",icon:""},{id:"gratitude",name:"Gratitude",icon:""},{id:"bedtime",name:"Bedtime",icon:""}];function tO(){var m;const[t,e]=v.useState("all"),[n,r]=v.useState(null),[i,a]=v.useState(null);v.useEffect(()=>{o()},[]);const o=async()=>{try{if(await base44.auth.isAuthenticated()){const g=await base44.auth.me();a(g)}else a(null)}catch{a(null)}},{data:c=[],isLoading:d}=vn({queryKey:["stories"],queryFn:async()=>await base44.entities.Story.list("-created_date"),initialData:[]}),h=t==="all"?c:c.filter(f=>f.category===t);return d?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:""}),s.jsx("p",{className:"text-gray-600",children:"Loading stories..."})]})}):s.jsxs("div",{className:"min-h-screen py-8 md:py-12 px-4",children:[s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8 md:mb-12",children:[s.jsx("div",{className:"text-5xl md:text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-gray-900 mb-4",children:"Islamic Stories"}),s.jsx("p",{className:"text-base md:text-lg text-gray-600 max-w-2xl mx-auto",children:"Read inspiring stories from Islamic history and learn valuable lessons"})]}),s.jsx("div",{className:"flex flex-wrap gap-2 md:gap-3 justify-center mb-8",children:Ib.map(f=>s.jsxs(G,{onClick:()=>e(f.id),variant:t===f.id?"default":"outline",size:"sm",className:t===f.id?"bg-gradient-to-r from-blue-500 to-purple-500":"",children:[s.jsx("span",{className:"mr-2",children:f.icon}),f.name]},f.id))}),h.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("p",{className:"text-gray-600",children:"No stories available in this category yet."})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map((f,g)=>{var x;return s.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:g*.1},children:s.jsxs(te,{className:"h-full hover:shadow-2xl transition-all duration-300 cursor-pointer group",children:[s.jsxs(Oe,{className:"p-0 relative",children:[f.image_url&&s.jsx("div",{className:"h-48 bg-gradient-to-br from-blue-100 to-purple-100 rounded-t-xl overflow-hidden",children:s.jsx("img",{src:f.image_url,alt:f.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"})}),f.is_interactive&&s.jsx("div",{className:"absolute top-2 right-2",children:s.jsxs(we,{className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white shadow-lg",children:[s.jsx(Qs,{className:"w-3 h-3 mr-1"}),"Interactive"]})})]}),s.jsxs(re,{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs(we,{variant:"outline",className:"text-xs",children:[(x=Ib.find(_=>_.id===f.category))==null?void 0:x.icon," ",f.category]}),f.age_range&&s.jsxs(we,{variant:"outline",className:"text-xs",children:[f.age_range," years"]})]}),s.jsx(Fe,{className:"text-xl mb-3 line-clamp-2",children:f.title}),f.description&&s.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:f.description}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 mb-4",children:[f.audio_url&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Qa,{className:"w-3 h-3"}),"Audio"]}),f.is_interactive&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(cr,{className:"w-3 h-3"}),"Make Choices"]})]}),s.jsxs(G,{onClick:()=>r(f),className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600",children:[s.jsx(un,{className:"w-4 h-4 mr-2"}),f.is_interactive?"Play Story":"Read Story"]})]})]})},f.id)})})]}),s.jsx(ds,{children:n&&s.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 overflow-y-auto",children:s.jsx("div",{className:"min-h-screen p-4 flex items-center justify-center",children:s.jsxs(ee.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"w-full max-w-5xl",children:[s.jsx("div",{className:"flex justify-end mb-4",children:s.jsx(G,{onClick:()=>r(null),variant:"ghost",size:"icon",className:"bg-white/10 hover:bg-white/20 text-white rounded-full",children:s.jsx(qr,{className:"w-6 h-6"})})}),n.is_interactive?s.jsx(eO,{story:n,onComplete:()=>r(null)}):s.jsxs(te,{className:"bg-white shadow-2xl",children:[n.image_url&&s.jsx("div",{className:"h-64 md:h-96 overflow-hidden rounded-t-xl",children:s.jsx("img",{src:n.image_url,alt:n.title,className:"w-full h-full object-cover"})}),s.jsxs(re,{className:"p-6 md:p-10",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs(we,{className:"mb-4",children:[(m=Ib.find(f=>f.id===n.category))==null?void 0:m.icon," ",n.category]}),s.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:n.title})]}),n.audio_url&&s.jsx("div",{className:"mb-6 bg-purple-50 p-4 rounded-xl",children:s.jsxs("audio",{controls:!0,className:"w-full",children:[s.jsx("source",{src:n.audio_url,type:"audio/mpeg"}),"Your browser does not support audio."]})}),s.jsx("div",{className:"prose prose-lg max-w-none mb-8",children:s.jsx(TL,{children:n.content})}),n.moral&&s.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 border-l-4 border-amber-500 p-6 rounded-r-xl",children:[s.jsxs("h3",{className:"text-xl font-bold text-amber-900 mb-2 flex items-center gap-2",children:[s.jsx(Qs,{className:"w-6 h-6"}),"Moral of the Story"]}),s.jsx("p",{className:"text-gray-700 text-lg",children:n.moral})]})]})]})]})})})})]})}const Te=v.forwardRef(({className:t,type:e,...n},r)=>s.jsx("input",{type:e,className:lt("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Te.displayName="Input";var ahe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ohe=ahe.reduce((t,e)=>{const n=ry(`Primitive.${e}`),r=v.forwardRef((i,a)=>{const{asChild:o,...c}=i,d=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(d,{...c,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),lhe="Label",nO=v.forwardRef((t,e)=>s.jsx(ohe.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));nO.displayName=lhe;var rO=nO;const che=hf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ye=v.forwardRef(({className:t,...e},n)=>s.jsx(rO,{ref:n,className:lt(che(),t),...e}));ye.displayName=rO.displayName;function uhe(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}Array(12).fill(0);let S1=1;class dhe{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...i}=e,a=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:S1++,o=this.toasts.find(d=>d.id===a),c=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),o?this.toasts=this.toasts.map(d=>d.id===a?(this.publish({...d,...e,id:a,title:r}),{...d,...e,id:a,dismissible:c,title:r}):d):this.addToast({title:r,...i,dismissible:c,id:a}),a},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let a=r!==void 0,o;const c=i.then(async h=>{if(o=["resolve",h],_n.isValidElement(h))a=!1,this.create({id:r,type:"default",message:h});else if(mhe(h)&&!h.ok){a=!1;const f=typeof n.error=="function"?await n.error(`HTTP error! status: ${h.status}`):n.error,g=typeof n.description=="function"?await n.description(`HTTP error! status: ${h.status}`):n.description,_=typeof f=="object"&&!_n.isValidElement(f)?f:{message:f};this.create({id:r,type:"error",description:g,..._})}else if(h instanceof Error){a=!1;const f=typeof n.error=="function"?await n.error(h):n.error,g=typeof n.description=="function"?await n.description(h):n.description,_=typeof f=="object"&&!_n.isValidElement(f)?f:{message:f};this.create({id:r,type:"error",description:g,..._})}else if(n.success!==void 0){a=!1;const f=typeof n.success=="function"?await n.success(h):n.success,g=typeof n.description=="function"?await n.description(h):n.description,_=typeof f=="object"&&!_n.isValidElement(f)?f:{message:f};this.create({id:r,type:"success",description:g,..._})}}).catch(async h=>{if(o=["reject",h],n.error!==void 0){a=!1;const m=typeof n.error=="function"?await n.error(h):n.error,f=typeof n.description=="function"?await n.description(h):n.description,x=typeof m=="object"&&!_n.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:f,...x})}}).finally(()=>{a&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),d=()=>new Promise((h,m)=>c.then(()=>o[0]==="reject"?m(o[1]):h(o[1])).catch(m));return typeof r!="string"&&typeof r!="number"?{unwrap:d}:Object.assign(r,{unwrap:d})},this.custom=(e,n)=>{const r=(n==null?void 0:n.id)||S1++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Hs=new dhe,hhe=(t,e)=>{const n=(e==null?void 0:e.id)||S1++;return Hs.addToast({title:t,...e,id:n}),n},mhe=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",fhe=hhe,phe=()=>Hs.toasts,ghe=()=>Hs.getActiveToasts(),mt=Object.assign(fhe,{success:Hs.success,info:Hs.info,warning:Hs.warning,error:Hs.error,custom:Hs.custom,message:Hs.message,promise:Hs.promise,dismiss:Hs.dismiss,loading:Hs.loading},{getHistory:phe,getToasts:ghe});uhe("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function sO(){const[t,e]=v.useState(null),[n,r]=v.useState(!1),[i,a]=v.useState(null),[o,c]=v.useState(null),[d,h]=v.useState("quran"),[m,f]=v.useState(!1),[g,x]=v.useState(!1),_=v.useRef(null),j=v.useRef([]),w=v.useRef(null);v.useEffect(()=>{N()},[]);const N=async()=>{try{if(await Je.auth.isAuthenticated()){const R=await Je.auth.me();e(R)}else e(null)}catch{console.log("User not authenticated"),e(null)}},{data:E=[]}=vn({queryKey:["featuredAudio"],queryFn:async()=>(await Je.entities.AudioContent.list("-plays_count",6)).filter(R=>R.featured&&R.status==="active"),initialData:[]}),A=async()=>{try{const P=await navigator.mediaDevices.getUserMedia({audio:!0}),R=new MediaRecorder(P);_.current=R,j.current=[],R.ondataavailable=I=>{I.data.size>0&&j.current.push(I.data)},R.onstop=()=>{const I=new Blob(j.current,{type:"audio/webm"});a(I),c(URL.createObjectURL(I)),P.getTracks().forEach(O=>O.stop())},w.current=Date.now(),R.start(),r(!0),mt.success("Recording started!")}catch(P){console.error("Error starting recording:",P),mt.error("Could not access microphone. Please check permissions.")}},T=()=>{_.current&&n&&(_.current.stop(),r(!1),mt.success("Recording stopped!"))},D=()=>{a(null),c(null),j.current=[]},F=async()=>{if(!i||!t){mt.error("Please record audio first");return}f(!0);try{const P=w.current?Math.floor((Date.now()-w.current)/1e3):0,R=new File([i],`recording-${Date.now()}.webm`,{type:"audio/webm"}),{file_url:I}=await Je.integrations.Core.UploadFile({file:R}),O=await Je.entities.Recording.create({user_id:t.id,user_name:t.full_name||t.email,user_email:t.email,recording_type:d,file_url:I,duration:P,status:"pending"});await Je.integrations.Core.SendEmail({from_name:"Islam Kids Zone",to:"huzaify786@gmail.com",subject:` New ${d.charAt(0).toUpperCase()+d.slice(1)} Recording Submission`,body:`
          <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px; background-color: #f3f4f6; border-radius: 10px;">
            <div style="background: linear-gradient(135deg, #3B82F6 0%, #8B5CF6 100%); padding: 30px; border-radius: 10px 10px 0 0; text-align: center;">
              <h1 style="color: white; margin: 0; font-size: 28px;"> New Audio Recording</h1>
            </div>
            
            <div style="background-color: white; padding: 30px; border-radius: 0 0 10px 10px; margin-top: 2px;">
              <h2 style="color: #3B82F6; margin-top: 0;">Recording Details</h2>
              
              <table style="width: 100%; border-collapse: collapse;">
                <tr>
                  <td style="padding: 12px; border-bottom: 1px solid #e5e7eb; font-weight: bold; color: #4B5563;">Type:</td>
                  <td style="padding: 12px; border-bottom: 1px solid #e5e7eb; color: #1F2937;">${d.charAt(0).toUpperCase()+d.slice(1)}</td>
                </tr>
                <tr>
                  <td style="padding: 12px; border-bottom: 1px solid #e5e7eb; font-weight: bold; color: #4B5563;">User Name:</td>
                  <td style="padding: 12px; border-bottom: 1px solid #e5e7eb; color: #1F2937;">${t.full_name||"Not provided"}</td>
                </tr>
                <tr>
                  <td style="padding: 12px; border-bottom: 1px solid #e5e7eb; font-weight: bold; color: #4B5563;">Email:</td>
                  <td style="padding: 12px; border-bottom: 1px solid #e5e7eb; color: #1F2937;">${t.email}</td>
                </tr>
                <tr>
                  <td style="padding: 12px; border-bottom: 1px solid #e5e7eb; font-weight: bold; color: #4B5563;">Duration:</td>
                  <td style="padding: 12px; border-bottom: 1px solid #e5e7eb; color: #1F2937;">${Math.floor(P/60)}:${(P%60).toString().padStart(2,"0")} minutes</td>
                </tr>
                <tr>
                  <td style="padding: 12px; border-bottom: 1px solid #e5e7eb; font-weight: bold; color: #4B5563;">Submitted:</td>
                  <td style="padding: 12px; border-bottom: 1px solid #e5e7eb; color: #1F2937;">${new Date().toLocaleString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}</td>
                </tr>
                <tr>
                  <td style="padding: 12px; font-weight: bold; color: #4B5563;">Recording ID:</td>
                  <td style="padding: 12px; color: #1F2937;">${O.id}</td>
                </tr>
              </table>

              <div style="margin: 30px 0; padding: 20px; background-color: #EFF6FF; border-left: 4px solid #3B82F6; border-radius: 5px;">
                <h3 style="margin-top: 0; color: #1E40AF;"> Audio File</h3>
                <p style="margin: 10px 0;">
                  <a href="${I}" 
                     style="display: inline-block; padding: 12px 24px; background: linear-gradient(135deg, #3B82F6 0%, #8B5CF6 100%); color: white; text-decoration: none; border-radius: 8px; font-weight: bold;">
                     Download & Listen to Recording
                  </a>
                </p>
                <p style="margin: 10px 0; font-size: 12px; color: #6B7280;">
                  Direct link: <a href="${I}" style="color: #3B82F6; word-break: break-all;">${I}</a>
                </p>
              </div>

              <div style="margin-top: 30px; padding: 20px; background-color: #FEF3C7; border-left: 4px solid #F59E0B; border-radius: 5px;">
                <h3 style="margin-top: 0; color: #92400E;"> Action Required</h3>
                <p style="margin: 5px 0; color: #78350F;">Please review this recording and update its status in the admin panel:</p>
                <ul style="color: #78350F; margin: 10px 0;">
                  <li><strong>Approve</strong> - Make it visible to all users</li>
                  <li><strong>Feature</strong> - Highlight it on the homepage</li>
                  <li><strong>Reject</strong> - Remove if inappropriate</li>
                </ul>
              </div>
            </div>

            <div style="margin-top: 20px; padding: 20px; text-align: center; color: #6B7280; font-size: 12px;">
              <p style="margin: 5px 0;">This is an automated notification from <strong>Islam Kids Zone</strong></p>
              <p style="margin: 5px 0;">Part of Islam Media Central - www.imediac.com</p>
            </div>
          </div>
        `}),x(!0),mt.success("Recording submitted successfully!"),setTimeout(()=>{D(),x(!1),h("quran")},3e3)}catch(P){console.error("Error submitting recording:",P),mt.error("Failed to submit recording. Please try again.")}finally{f(!1)}};return t?s.jsx("div",{className:"min-h-screen py-8 px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs(ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Record & Share Your Voice"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Record your Quran recitation, nasheeds, or stories and share with the community!"})]}),s.jsxs(te,{className:"mb-8 shadow-xl border-2 border-blue-200",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:s.jsx(Fe,{className:"text-2xl",children:" Recording Studio"})}),s.jsx(re,{className:"p-6",children:g?s.jsxs(ee.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"text-center py-8",children:[s.jsx(Yi,{className:"w-20 h-20 text-green-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Masha'Allah!"}),s.jsx("p",{className:"text-gray-600",children:"Your recording has been submitted for review."})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"recordingType",className:"text-lg font-semibold mb-2 block",children:"What would you like to record?"}),s.jsxs("select",{id:"recordingType",value:d,onChange:P=>h(P.target.value),disabled:n||i,className:"w-full p-3 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none",children:[s.jsx("option",{value:"quran",children:"Quran Recitation"}),s.jsx("option",{value:"nasheed",children:"Nasheed"}),s.jsx("option",{value:"story",children:"Story"})]})]}),s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[!i&&!n&&s.jsxs(G,{onClick:A,size:"lg",className:"bg-red-500 hover:bg-red-600 text-white w-full md:w-auto",children:[s.jsx(ol,{className:"w-6 h-6 mr-2"}),"Start Recording"]}),n&&s.jsxs("div",{className:"text-center",children:[s.jsx(ee.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0},className:"w-20 h-20 bg-red-500 rounded-full mx-auto mb-4 flex items-center justify-center",children:s.jsx(ol,{className:"w-10 h-10 text-white"})}),s.jsx("p",{className:"text-lg font-semibold text-red-500 mb-4",children:"Recording..."}),s.jsxs(G,{onClick:T,size:"lg",variant:"outline",className:"border-2 border-red-500 text-red-500",children:[s.jsx(W1,{className:"w-5 h-5 mr-2"}),"Stop Recording"]})]}),i&&o&&!n&&s.jsx("div",{className:"w-full space-y-4",children:s.jsxs("div",{className:"bg-green-50 border-2 border-green-200 rounded-lg p-4",children:[s.jsx("p",{className:"text-green-800 font-semibold mb-3",children:" Recording Complete!"}),s.jsx("audio",{src:o,controls:!0,className:"w-full mb-3"}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsxs(G,{onClick:F,disabled:m,className:"flex-1 bg-green-500 hover:bg-green-600",children:[s.jsx(Xa,{className:"w-4 h-4 mr-2"}),m?"Submitting...":"Submit Recording"]}),s.jsxs(G,{onClick:D,variant:"outline",className:"border-2 border-red-500 text-red-500",children:[s.jsx(nr,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})})]})]})})]}),E.length>0&&s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[s.jsx(Qa,{className:"w-6 h-6 text-purple-600"}),"Featured Audio"]}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:E.map(P=>s.jsxs(te,{className:"hover:shadow-xl transition-shadow",children:[P.cover_image&&s.jsx("div",{className:"h-40 overflow-hidden",children:s.jsx("img",{src:P.cover_image,alt:P.title,className:"w-full h-full object-cover"})}),s.jsxs(re,{className:"p-4",children:[s.jsx("h3",{className:"font-bold text-lg mb-2 line-clamp-1",children:P.title}),s.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:P.description}),s.jsxs("div",{className:"flex gap-2 mb-3",children:[s.jsx(we,{className:"text-xs",children:P.duration}),s.jsx(we,{variant:"outline",className:"text-xs",children:P.category})]}),P.mp3_url&&s.jsx("audio",{src:P.mp3_url,controls:!0,className:"w-full"})]})]},P.id))})]})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(te,{className:"max-w-md mx-auto",children:s.jsx(re,{className:"pt-6",children:s.jsx("p",{className:"text-center text-gray-600",children:"Please log in to record and submit audio."})})})})}function N_(t){const e=v.useRef({value:t,previous:t});return v.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var My="Checkbox",[xhe]=mo(My),[yhe,__]=xhe(My);function vhe(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:i,disabled:a,form:o,name:c,onCheckedChange:d,required:h,value:m="on",internal_do_not_use_render:f}=t,[g,x]=Nc({prop:n,defaultProp:i??!1,onChange:d,caller:My}),[_,j]=v.useState(null),[w,N]=v.useState(null),E=v.useRef(!1),A=_?!!o||!!_.closest("form"):!0,T={checked:g,disabled:a,setChecked:x,control:_,setControl:j,name:c,form:o,value:m,hasConsumerStoppedPropagationRef:E,required:h,defaultChecked:al(i)?!1:i,isFormControl:A,bubbleInput:w,setBubbleInput:N};return s.jsx(yhe,{scope:e,...T,children:bhe(f)?f(T):r})}var iO="CheckboxTrigger",aO=v.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},i)=>{const{control:a,value:o,disabled:c,checked:d,required:h,setControl:m,setChecked:f,hasConsumerStoppedPropagationRef:g,isFormControl:x,bubbleInput:_}=__(iO,t),j=qt(i,m),w=v.useRef(d);return v.useEffect(()=>{const N=a==null?void 0:a.form;if(N){const E=()=>f(w.current);return N.addEventListener("reset",E),()=>N.removeEventListener("reset",E)}},[a,f]),s.jsx(Et.button,{type:"button",role:"checkbox","aria-checked":al(d)?"mixed":d,"aria-required":h,"data-state":dO(d),"data-disabled":c?"":void 0,disabled:c,value:o,...r,ref:j,onKeyDown:Ye(e,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:Ye(n,N=>{f(E=>al(E)?!0:!E),_&&x&&(g.current=N.isPropagationStopped(),g.current||N.stopPropagation())})})});aO.displayName=iO;var S_=v.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:a,required:o,disabled:c,value:d,onCheckedChange:h,form:m,...f}=t;return s.jsx(vhe,{__scopeCheckbox:n,checked:i,defaultChecked:a,disabled:c,required:o,onCheckedChange:h,name:r,form:m,value:d,internal_do_not_use_render:({isFormControl:g})=>s.jsxs(s.Fragment,{children:[s.jsx(aO,{...f,ref:e,__scopeCheckbox:n}),g&&s.jsx(uO,{__scopeCheckbox:n})]})})});S_.displayName=My;var oO="CheckboxIndicator",lO=v.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,a=__(oO,n);return s.jsx(fo,{present:r||al(a.checked)||a.checked===!0,children:s.jsx(Et.span,{"data-state":dO(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});lO.displayName=oO;var cO="CheckboxBubbleInput",uO=v.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:o,required:c,disabled:d,name:h,value:m,form:f,bubbleInput:g,setBubbleInput:x}=__(cO,t),_=qt(n,x),j=N_(a),w=Fj(r);v.useEffect(()=>{const E=g;if(!E)return;const A=window.HTMLInputElement.prototype,D=Object.getOwnPropertyDescriptor(A,"checked").set,F=!i.current;if(j!==a&&D){const P=new Event("click",{bubbles:F});E.indeterminate=al(a),D.call(E,al(a)?!1:a),E.dispatchEvent(P)}},[g,j,a,i]);const N=v.useRef(al(a)?!1:a);return s.jsx(Et.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??N.current,required:c,disabled:d,name:h,value:m,form:f,...e,tabIndex:-1,ref:_,style:{...e.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});uO.displayName=cO;function bhe(t){return typeof t=="function"}function al(t){return t==="indeterminate"}function dO(t){return al(t)?"indeterminate":t?"checked":"unchecked"}const E_=v.forwardRef(({className:t,...e},n)=>s.jsx(S_,{ref:n,className:lt("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:s.jsx(lO,{className:lt("flex items-center justify-center text-current"),children:s.jsx(Sm,{className:"h-4 w-4"})})}));E_.displayName=S_.displayName;const whe=[{arabic:"   ",english:"In the name of Allah, the Most Gracious, the Most Merciful",transliteration:"Bismillah ir-Rahman ir-Rahim"},{arabic:" ",english:"All praise is due to Allah",transliteration:"Alhamdulillah"}],Pu=[{arabic:"",english:"Peace",transliteration:"Salaam"},{arabic:"",english:"Thank you",transliteration:"Shukran"},{arabic:"",english:"Patience",transliteration:"Sabr"},{arabic:"",english:"Mercy",transliteration:"Rahmah"}],jhe=[{id:"helped_parents",label:"Helped my parents",emoji:""},{id:"prayed_on_time",label:"Prayed on time",emoji:""},{id:"shared_toys",label:"Shared my toys",emoji:""},{id:"read_quran",label:"Read Quran",emoji:""},{id:"said_bismillah",label:"Said Bismillah before eating",emoji:""},{id:"helped_friend",label:"Helped a friend",emoji:""},{id:"cleaned_room",label:"Cleaned my room",emoji:""},{id:"kind_words",label:"Used kind words",emoji:""}];function hO(){const[t,e]=v.useState([]),[n,r]=v.useState(null),[i,a]=v.useState(0);v.useEffect(()=>{o()},[]);const o=async()=>{try{if(await base44.auth.isAuthenticated()){const h=await base44.auth.me();r(h)}else r(null)}catch{r(null)}},c=async d=>{if(!t.includes(d)&&n)try{await base44.entities.GoodDeed.create({user_id:n.id,deed_type:d,date:new Date().toISOString().split("T")[0]}),await base44.auth.updateMe({points:(n.points||0)+5}),e([...t,d])}catch(m){console.error("Error saving good deed:",m)}else e(t.filter(m=>m!==d))};return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs(ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Learn & Grow"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Daily lessons, duas, and activities to help you grow as a Muslim"})]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[s.jsx(ee.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:s.jsxs(te,{className:"shadow-lg border-2 border-blue-200",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:s.jsxs(Fe,{className:"flex items-center gap-2",children:[s.jsx(Vt,{className:"w-6 h-6"}),"Dua of the Day"]})}),s.jsx(re,{className:"p-6",children:whe.map((d,h)=>s.jsxs("div",{className:"mb-6 last:mb-0",children:[s.jsxs("div",{className:"text-center mb-4",children:[s.jsx("p",{className:"text-3xl text-right mb-3",style:{fontFamily:"serif"},children:d.arabic}),s.jsxs(G,{variant:"outline",size:"sm",className:"mb-2",children:[s.jsx(ll,{className:"w-4 h-4 mr-2"}),"Listen"]})]}),s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[s.jsx("p",{className:"font-medium text-gray-700 mb-1",children:d.transliteration}),s.jsx("p",{className:"text-gray-600",children:d.english})]})]},h))})]})}),s.jsx(ee.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},children:s.jsxs(te,{className:"shadow-lg border-2 border-green-200",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-green-500 to-teal-500 text-white",children:s.jsxs(Fe,{className:"flex items-center gap-2",children:[s.jsx(un,{className:"w-6 h-6"}),"Learn Arabic Words"]})}),s.jsxs(re,{className:"p-6",children:[s.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-teal-50 rounded-xl p-8 text-center mb-4",children:[s.jsx("p",{className:"text-5xl mb-4",style:{fontFamily:"serif"},children:Pu[i].arabic}),s.jsx("p",{className:"text-xl font-semibold text-gray-700 mb-2",children:Pu[i].transliteration}),s.jsx("p",{className:"text-lg text-gray-600",children:Pu[i].english})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(G,{onClick:()=>a((i-1+Pu.length)%Pu.length),variant:"outline",className:"flex-1",children:"Previous"}),s.jsx(G,{onClick:()=>a((i+1)%Pu.length),className:"flex-1 bg-green-600 hover:bg-green-700",children:"Next"})]})]})]})}),s.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"lg:col-span-2",children:s.jsxs(te,{className:"shadow-lg border-2 border-amber-200",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs(Fe,{className:"flex items-center gap-2",children:[s.jsx(Yi,{className:"w-6 h-6"}),"Good Deeds Tracker"]}),s.jsx(we,{className:"bg-white/20 text-white text-lg px-4 py-2",children:"+5 points each"})]})}),s.jsxs(re,{className:"p-6",children:[s.jsx("p",{className:"text-gray-600 mb-6 text-center",children:"Check off the good deeds you did today and earn points! "}),s.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4",children:jhe.map(d=>s.jsx(ee.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:s.jsxs("label",{className:`flex items-start gap-3 p-4 rounded-xl border-2 cursor-pointer transition-all ${t.includes(d.id)?"bg-green-50 border-green-400":"bg-white border-gray-200 hover:border-gray-300"}`,children:[s.jsx(E_,{checked:t.includes(d.id),onCheckedChange:()=>c(d.id),className:"mt-1"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl mb-1",children:d.emoji}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:d.label})]})]})},d.id))})]})]})})]})]})})}const Nhe=[{title:"How to Teach Islam with Love",excerpt:"Creating a nurturing environment where children develop a genuine love for their faith...",icon:Ad,color:"from-pink-500 to-rose-500"},{title:"Digital Safety for Muslim Kids",excerpt:"Essential guidelines to ensure your children's online experience is safe and beneficial...",icon:Id,color:"from-blue-500 to-cyan-500"},{title:"Making Learning Fun",excerpt:"Creative ways to engage children in Islamic education through play and activities...",icon:un,color:"from-purple-500 to-violet-500"}];function mO(){return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs(ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Parent Guidance"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Resources and support for raising righteous children"})]}),s.jsx(ee.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-12",children:s.jsx(te,{className:"border-2 border-green-300 shadow-lg",children:s.jsxs(re,{className:"p-8 text-center",children:[s.jsx(Id,{className:"w-16 h-16 mx-auto mb-4 text-green-600"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Safe & Ad-Free Environment "}),s.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Islam Kids Zone is committed to providing a completely safe, ad-free learning environment. All content is carefully curated and monitored to ensure it aligns with Islamic values and is age-appropriate."})]})})}),s.jsxs("div",{className:"mb-12",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Parenting Resources"}),s.jsx("div",{className:"space-y-6",children:Nhe.map((t,e)=>{const n=t.icon;return s.jsx(ee.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:e*.1},children:s.jsxs(te,{className:"hover:shadow-xl transition-all duration-300",children:[s.jsx(Oe,{children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`w-12 h-12 rounded-xl bg-gradient-to-br ${t.color} flex items-center justify-center flex-shrink-0`,children:s.jsx(n,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx(Fe,{className:"text-xl mb-2",children:t.title}),s.jsx("p",{className:"text-gray-600",children:t.excerpt})]})]})}),s.jsx(re,{children:s.jsx(G,{variant:"outline",children:"Read More"})})]})},t.title)})})]}),s.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:s.jsxs(te,{className:"shadow-lg",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:s.jsxs(Fe,{className:"flex items-center gap-2",children:[s.jsx(Ug,{className:"w-6 h-6"}),"Send Us Your Feedback"]})}),s.jsxs(re,{className:"p-6",children:[s.jsx("p",{className:"text-gray-600 mb-6",children:"We'd love to hear your thoughts, suggestions, or concerns about Islam Kids Zone. Your feedback helps us create a better experience for your children."}),s.jsxs(G,{className:"w-full bg-blue-600 hover:bg-blue-700",children:[s.jsx(Ug,{className:"w-4 h-4 mr-2"}),"Share Your Feedback"]})]})]})})]})})}const _he=[{icon:Ad,title:"Learn with Love",description:"Every activity is designed to inspire love for Islam in young hearts"},{icon:Vt,title:"Quality Content",description:"Carefully curated Islamic content that's both educational and engaging"},{icon:Id,title:"Safe Environment",description:"100% ad-free and child-safe platform monitored by caring educators"},{icon:Qs,title:"Fun Learning",description:"Interactive games and activities that make learning enjoyable"}];function fO(){return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs(ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"About Islam Kids Zone"})]}),s.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-12",children:s.jsx(te,{className:"shadow-lg border-2 border-blue-200",children:s.jsxs(re,{className:"p-8",children:[s.jsxs("p",{className:"text-lg text-gray-700 leading-relaxed mb-6",children:[s.jsx("strong",{children:"Islam Media Kids Zone"})," is part of ",s.jsx("strong",{children:"Islam Media Central"}),", built to inspire the next generation through games, stories, and educational media."]}),s.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:"Every activity is designed to teach Islamic manners, knowledge, and fun learning experiences  all in a safe and loving environment where children can explore their faith with joy and confidence."})]})})}),s.jsxs("div",{className:"mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8 text-center",children:"Our Values"}),s.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:_he.map((t,e)=>{const n=t.icon;return s.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:e*.1},children:s.jsx(te,{className:"h-full hover:shadow-xl transition-all duration-300",children:s.jsx(re,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center flex-shrink-0",children:s.jsx(n,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:t.title}),s.jsx("p",{className:"text-gray-600",children:t.description})]})]})})})},t.title)})})]}),s.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:s.jsx(te,{className:"shadow-lg bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:s.jsxs(re,{className:"p-8 text-center",children:[s.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Connect with Islam Media Central"}),s.jsx("p",{className:"text-blue-100 mb-6 text-lg",children:"Discover more Islamic content and resources for the whole family"}),s.jsxs(G,{onClick:()=>window.open("https://www.imediac.com","_blank"),className:"bg-white hover:bg-gray-100 text-blue-600",children:[s.jsx(Gu,{className:"w-4 h-4 mr-2"}),"Visit Website"]})]})})}),s.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-8",children:s.jsx(te,{className:"shadow border-2 border-green-200",children:s.jsxs(re,{className:"p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Acknowledgements"}),s.jsxs("p",{className:"text-gray-700",children:["Quran text, translations, and audio in our Recitation & Hifz module are powered by the",s.jsx("a",{href:"https://alquran.cloud/api",target:"_blank",rel:"noreferrer",className:"text-green-700 font-semibold ml-1",children:"AlQuran.Cloud API"}),"by Islamic Network. We are grateful for their service to the community."]})]})})})]})})}const She=["","","","","","","","","","","",""];function pO(){const t=zn(),[e,n]=v.useState(!1),[r,i]=v.useState(!1),[a,o]=v.useState({full_name:"",age:"",city:"",madrasah_maktab:"",avatar:""});v.useEffect(()=>{try{const x=localStorage.getItem("ikz_user");if(x){const _=JSON.parse(x);o(j=>({...j,full_name:_.full_name||j.full_name,age:_.age||j.age,city:_.city||j.city,madrasah_maktab:_.madrasah_maktab||j.madrasah_maktab,avatar:_.avatar||j.avatar}))}}catch{}i(!1)},[]);const[c,d]=v.useState(null),[h,m]=v.useState(!1),f=()=>{t(Xe("Games"))},g=x=>{x.preventDefault(),n(!0),setTimeout(()=>{d(a),m(!0),n(!1),localStorage.setItem("ikz_user",JSON.stringify(a)),t(Xe("Games"))},500)};return h?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 flex items-center justify-center p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:""}),s.jsx("p",{className:"text-white text-lg font-medium",children:"Signup successful! Welcome to Islam Kids Zone."})]})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 flex items-center justify-center p-4",children:s.jsx(ee.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"w-full max-w-md",children:s.jsxs(te,{className:"shadow-2xl border-4 border-white/50",children:[s.jsxs(Oe,{className:"text-center pb-4",children:[s.jsx(ee.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200},className:"text-6xl mb-4",children:""}),s.jsx(Fe,{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Welcome to Islam Kids Zone!"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Sign up to personalize your experience!"})]}),s.jsx(re,{children:s.jsxs("form",{onSubmit:g,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"full_name",children:"Full Name"}),s.jsx(Te,{id:"full_name",type:"text",value:a.full_name,onChange:x=>o({...a,full_name:x.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"age",children:"Age"}),s.jsx(Te,{id:"age",type:"number",min:"1",value:a.age,onChange:x=>o({...a,age:x.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"city",children:"City"}),s.jsx(Te,{id:"city",type:"text",value:a.city,onChange:x=>o({...a,city:x.target.value})})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"madrasah_maktab",children:"Madrasah/Maktab"}),s.jsx(Te,{id:"madrasah_maktab",type:"text",value:a.madrasah_maktab,onChange:x=>o({...a,madrasah_maktab:x.target.value})})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Choose an Avatar"}),s.jsx("div",{className:"flex gap-2 flex-wrap mt-2",children:She.map(x=>s.jsx("button",{type:"button",className:`text-2xl px-2 py-1 rounded-lg border ${a.avatar===x?"border-blue-500 bg-blue-100":"border-gray-300 bg-white"}`,onClick:()=>o({...a,avatar:x}),children:x},x))})]}),s.jsxs("div",{className:"flex gap-4 mt-6",children:[s.jsx(G,{type:"submit",disabled:e,className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 text-white font-bold",children:e?"Saving...":"Save & Continue"}),s.jsx(G,{type:"button",variant:"outline",onClick:f,className:"w-full",children:"Skip & Explore"})]})]})})]})})})}const Rn=v.forwardRef(({className:t,...e},n)=>s.jsx("textarea",{className:lt("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));Rn.displayName="Textarea";function gO(){const[t,e]=v.useState({name:"",email:"",subject:"",message:""}),[n,r]=v.useState(!1),[i,a]=v.useState(!1),[o,c]=v.useState(null);_n.useEffect(()=>{d()},[]);const d=async()=>{try{if(await base44.auth.isAuthenticated()){const f=await base44.auth.me();c(f)}else c(null)}catch{c(null)}},h=async m=>{m.preventDefault(),r(!0);try{await base44.integrations.Core.SendEmail({from_name:"Islam Kids Zone - Contact Form",to:"huzaify786@gmail.com",subject:`Contact Form: ${t.subject}`,body:`
          <div style="font-family: Arial, sans-serif; padding: 20px; background-color: #f3f4f6; border-radius: 10px;">
            <h2 style="color: #3B82F6;"> New Contact Form Submission</h2>
            <div style="background-color: white; padding: 20px; border-radius: 8px; margin-top: 20px;">
              <p><strong> Name:</strong> ${t.name}</p>
              <p><strong> Email:</strong> ${t.email}</p>
              <p><strong> Subject:</strong> ${t.subject}</p>
              <hr style="margin: 20px 0; border: none; border-top: 1px solid #e5e7eb;">
              <p><strong> Message:</strong></p>
              <p style="background-color: #f9fafb; padding: 15px; border-radius: 5px; white-space: pre-wrap;">${t.message}</p>
            </div>
            <hr style="margin: 20px 0; border: none; border-top: 1px solid #e5e7eb;">
            <p style="color: #6b7280; font-size: 12px; text-align: center;">
               Sent on: ${new Date().toLocaleString()}
            </p>
          </div>
        `});try{await wx.add({name:t.name,email:t.email,subject:t.subject,message:t.message,createdAt:new Date().toISOString(),read:!1})}catch(f){console.warn("Message not persisted (Firebase not configured or error)",(f==null?void 0:f.message)||f)}a(!0),e({name:(o==null?void 0:o.full_name)||"",email:(o==null?void 0:o.email)||"",subject:"",message:""}),setTimeout(()=>a(!1),5e3)}catch(f){console.error("Error sending message:",f),alert("Failed to send message. Please try again.")}finally{r(!1)}};return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs(ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Contact Us"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Have a question, suggestion, or feedback? We'd love to hear from you!"})]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[s.jsxs(ee.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"space-y-6",children:[s.jsx(te,{className:"border-2 border-blue-200 shadow-lg hover:shadow-xl transition-all duration-300",children:s.jsx(re,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center flex-shrink-0",children:s.jsx(Lx,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:"Email Us"}),s.jsx("a",{href:"mailto:huzaify786@gmail.com",className:"text-blue-600 hover:text-blue-700 text-sm break-all",children:"huzaify786@gmail.com"})]})]})})}),s.jsx(te,{className:"border-2 border-green-200 shadow-lg",children:s.jsx(re,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-green-500 to-teal-500 flex items-center justify-center flex-shrink-0",children:s.jsx(Ug,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:"Quick Response"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"We typically respond within 24-48 hours"})]})]})})}),s.jsx(te,{className:"border-2 border-amber-200 shadow-lg bg-gradient-to-br from-amber-50 to-orange-50",children:s.jsx(re,{className:"p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl mb-3",children:""}),s.jsx("p",{className:"text-gray-700 italic text-sm mb-2",children:'"The best of people are those who are most beneficial to people."'}),s.jsx("p",{className:"text-gray-500 text-xs",children:"- Prophet Muhammad "})]})})})]}),s.jsx(ee.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"md:col-span-2",children:s.jsxs(te,{className:"shadow-2xl border-2 border-blue-300",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:s.jsxs(Fe,{className:"text-2xl flex items-center gap-2",children:[s.jsx(Qs,{className:"w-6 h-6"}),"Send us a Message"]})}),s.jsx(re,{className:"p-6",children:i?s.jsxs(ee.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"text-center py-12",children:[s.jsx(Yi,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Message Sent! "}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Thank you for contacting us. We'll get back to you soon!"}),s.jsx(G,{onClick:()=>a(!1),variant:"outline",children:"Send Another Message"})]}):s.jsxs("form",{onSubmit:h,className:"space-y-5",children:[s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"name",className:"text-gray-700 font-semibold",children:"Your Name *"}),s.jsx(Te,{id:"name",type:"text",value:t.name,onChange:m=>e({...t,name:m.target.value}),placeholder:"Enter your name",required:!0,className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"email",className:"text-gray-700 font-semibold",children:"Your Email *"}),s.jsx(Te,{id:"email",type:"email",value:t.email,onChange:m=>e({...t,email:m.target.value}),placeholder:"your.email@example.com",required:!0,className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"subject",className:"text-gray-700 font-semibold",children:"Subject *"}),s.jsx(Te,{id:"subject",type:"text",value:t.subject,onChange:m=>e({...t,subject:m.target.value}),placeholder:"What is this about?",required:!0,className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"message",className:"text-gray-700 font-semibold",children:"Message *"}),s.jsx(Rn,{id:"message",value:t.message,onChange:m=>e({...t,message:m.target.value}),placeholder:"Tell us more about your question or feedback...",required:!0,rows:6,className:"mt-1"})]}),s.jsx(G,{type:"submit",disabled:n,className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-lg py-6",children:n?s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Sending..."]}):s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(Bg,{className:"w-5 h-5"}),"Send Message"]})})]})})]})})]})]})})}const rI=[{id:"bismillah",category:"Daily",title:"Before Eating",arabic:" ",transliteration:"Bismillah",translation:"In the name of Allah",audio:null},{id:"alhamdulillah",category:"Daily",title:"After Eating",arabic:" ",transliteration:"Alhamdulillah",translation:"All praise is for Allah",audio:null},{id:"morning",category:"Morning",title:"Morning Dua",arabic:"          ",transliteration:"Allahumma bika asbahna, wa bika amsayna, wa bika nahya, wa bika namutu, wa ilayka an-nushur",translation:"O Allah, by You we enter the morning, by You we enter the evening, by You we live, by You we die, and to You is the resurrection",audio:null},{id:"sleep",category:"Bedtime",title:"Before Sleeping",arabic:"   ",transliteration:"Bismika Allahumma amutu wa ahya",translation:"In Your name O Allah, I die and I live",audio:null},{id:"travel",category:"Travel",title:"Traveling Dua",arabic:"        ",transliteration:"Subhanal-ladhi sakhkhara lana hadha wa ma kunna lahu muqrinin",translation:"Glory to Him who has subjected this to us, and we could not have done it ourselves",audio:null},{id:"entering_home",category:"Daily",title:"Entering Home",arabic:"      ",transliteration:"Allahumma inni as'aluka khayra al-mawliji wa khayra al-makhraji",translation:"O Allah, I ask You for the best entering and the best leaving",audio:null}],Ehe=["All","Daily","Morning","Bedtime","Travel"];function xO(){const[t,e]=v.useState("All"),[n,r]=v.useState([]),i=t==="All"?rI:rI.filter(o=>o.category===t),a=o=>{n.includes(o)?r(n.filter(c=>c!==o)):r([...n,o])};return s.jsx("div",{className:"min-h-screen py-8 md:py-12 px-2 md:px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs(ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8 px-2",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-gray-900 mb-4",children:"Daily Duas"}),s.jsx("p",{className:"text-base md:text-lg text-gray-600",children:"Learn and memorize essential Islamic supplications"})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-8 justify-center",children:Ehe.map(o=>s.jsx(G,{onClick:()=>e(o),variant:t===o?"default":"outline",className:t===o?"bg-blue-600":"",children:o},o))}),s.jsx("div",{className:"space-y-6",children:i.map((o,c)=>s.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:c*.1},children:s.jsxs(te,{className:"shadow-lg hover:shadow-xl transition-all duration-300",children:[s.jsx(Oe,{children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(we,{className:"bg-blue-100 text-blue-800",children:o.category}),s.jsx(Fe,{className:"text-xl",children:o.title})]})}),s.jsx(G,{variant:"ghost",size:"icon",onClick:()=>a(o.id),className:n.includes(o.id)?"text-red-500":"text-gray-400",children:s.jsx(Ad,{className:`w-5 h-5 ${n.includes(o.id)?"fill-current":""}`})})]})}),s.jsxs(re,{className:"space-y-4",children:[s.jsx("div",{className:"text-center",children:s.jsx("p",{className:"text-2xl md:text-3xl text-right mb-2",style:{fontFamily:"serif",lineHeight:"1.8"},children:o.arabic})}),s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[s.jsx("p",{className:"font-semibold text-gray-700 mb-1",children:"Transliteration:"}),s.jsx("p",{className:"text-gray-800 italic",children:o.transliteration})]}),s.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[s.jsx("p",{className:"font-semibold text-gray-700 mb-1",children:"Translation:"}),s.jsx("p",{className:"text-gray-800",children:o.translation})]})]})]})},o.id))}),s.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-12",children:s.jsx(te,{className:"border-2 border-amber-200 bg-gradient-to-br from-amber-50 to-orange-50",children:s.jsxs(re,{className:"p-8 text-center",children:[s.jsx("div",{className:"text-5xl mb-4",children:""}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Keep Making Dua!"}),s.jsx("p",{className:"text-gray-700 max-w-2xl mx-auto",children:'The Prophet Muhammad  said: "Dua is the essence of worship." Keep these duas in your daily routine and teach them to others!'})]})})})]})})}function sI(t,[e,n]){return Math.min(n,Math.max(e,t))}function Che(t){const e=khe(t),n=v.forwardRef((r,i)=>{const{children:a,...o}=r,c=v.Children.toArray(a),d=c.find(Ahe);if(d){const h=d.props.children,m=c.map(f=>f===d?v.Children.count(h)>1?v.Children.only(null):v.isValidElement(h)?h.props.children:null:f);return s.jsx(e,{...o,ref:i,children:v.isValidElement(h)?v.cloneElement(h,void 0,m):null})}return s.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function khe(t){const e=v.forwardRef((n,r)=>{const{children:i,...a}=n;if(v.isValidElement(i)){const o=Rhe(i),c=Ihe(a,i.props);return i.type!==v.Fragment&&(c.ref=r?ho(r,o):o),v.cloneElement(i,c)}return v.Children.count(i)>1?v.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var The=Symbol("radix.slottable");function Ahe(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===The}function Ihe(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...c)=>{const d=a(...c);return i(...c),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function Rhe(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var yO=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Phe="VisuallyHidden",Dhe=v.forwardRef((t,e)=>s.jsx(Et.span,{...t,ref:e,style:{...yO,...t.style}}));Dhe.displayName=Phe;var Mhe=[" ","Enter","ArrowUp","ArrowDown"],Lhe=[" ","Enter"],Dc="Select",[Ly,Oy,Ohe]=Tj(Dc),[Yd]=mo(Dc,[Ohe,Yx]),Fy=Yx(),[Fhe,Il]=Yd(Dc),[Vhe,Uhe]=Yd(Dc),vO=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:a,value:o,defaultValue:c,onValueChange:d,dir:h,name:m,autoComplete:f,disabled:g,required:x,form:_}=t,j=Fy(e),[w,N]=v.useState(null),[E,A]=v.useState(null),[T,D]=v.useState(!1),F=Aj(h),[P,R]=Nc({prop:r,defaultProp:i??!1,onChange:a,caller:Dc}),[I,O]=Nc({prop:o,defaultProp:c,onChange:d,caller:Dc}),V=v.useRef(null),M=w?_||!!w.closest("form"):!0,[U,J]=v.useState(new Set),ne=Array.from(U).map(ce=>ce.props.value).join(";");return s.jsx(e4,{...j,children:s.jsxs(Fhe,{required:x,scope:e,trigger:w,onTriggerChange:N,valueNode:E,onValueNodeChange:A,valueNodeHasChildren:T,onValueNodeHasChildrenChange:D,contentId:$a(),value:I,onValueChange:O,open:P,onOpenChange:R,dir:F,triggerPointerDownPosRef:V,disabled:g,children:[s.jsx(Ly.Provider,{scope:e,children:s.jsx(Vhe,{scope:t.__scopeSelect,onNativeOptionAdd:v.useCallback(ce=>{J(se=>new Set(se).add(ce))},[]),onNativeOptionRemove:v.useCallback(ce=>{J(se=>{const K=new Set(se);return K.delete(ce),K})},[]),children:n})}),M?s.jsxs($O,{"aria-hidden":!0,required:x,tabIndex:-1,name:m,autoComplete:f,value:I,onChange:ce=>O(ce.target.value),disabled:g,form:_,children:[I===void 0?s.jsx("option",{value:""}):null,Array.from(U)]},ne):null]})})};vO.displayName=Dc;var bO="SelectTrigger",wO=v.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,a=Fy(n),o=Il(bO,n),c=o.disabled||r,d=qt(e,o.onTriggerChange),h=Oy(n),m=v.useRef("touch"),[f,g,x]=HO(j=>{const w=h().filter(A=>!A.disabled),N=w.find(A=>A.value===o.value),E=WO(w,j,N);E!==void 0&&o.onValueChange(E.value)}),_=j=>{c||(o.onOpenChange(!0),x()),j&&(o.triggerPointerDownPosRef.current={x:Math.round(j.pageX),y:Math.round(j.pageY)})};return s.jsx(t4,{asChild:!0,...a,children:s.jsx(Et.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":qO(o.value)?"":void 0,...i,ref:d,onClick:Ye(i.onClick,j=>{j.currentTarget.focus(),m.current!=="mouse"&&_(j)}),onPointerDown:Ye(i.onPointerDown,j=>{m.current=j.pointerType;const w=j.target;w.hasPointerCapture(j.pointerId)&&w.releasePointerCapture(j.pointerId),j.button===0&&j.ctrlKey===!1&&j.pointerType==="mouse"&&(_(j),j.preventDefault())}),onKeyDown:Ye(i.onKeyDown,j=>{const w=f.current!=="";!(j.ctrlKey||j.altKey||j.metaKey)&&j.key.length===1&&g(j.key),!(w&&j.key===" ")&&Mhe.includes(j.key)&&(_(),j.preventDefault())})})})});wO.displayName=bO;var jO="SelectValue",NO=v.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:a,placeholder:o="",...c}=t,d=Il(jO,n),{onValueNodeHasChildrenChange:h}=d,m=a!==void 0,f=qt(e,d.onValueNodeChange);return rr(()=>{h(m)},[h,m]),s.jsx(Et.span,{...c,ref:f,style:{pointerEvents:"none"},children:qO(d.value)?s.jsx(s.Fragment,{children:o}):a})});NO.displayName=jO;var zhe="SelectIcon",_O=v.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return s.jsx(Et.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});_O.displayName=zhe;var Bhe="SelectPortal",SO=t=>s.jsx(Jx,{asChild:!0,...t});SO.displayName=Bhe;var Mc="SelectContent",EO=v.forwardRef((t,e)=>{const n=Il(Mc,t.__scopeSelect),[r,i]=v.useState();if(rr(()=>{i(new DocumentFragment)},[]),!n.open){const a=r;return a?nf.createPortal(s.jsx(CO,{scope:t.__scopeSelect,children:s.jsx(Ly.Slot,{scope:t.__scopeSelect,children:s.jsx("div",{children:t.children})})}),a):null}return s.jsx(kO,{...t,ref:e})});EO.displayName=Mc;var hi=10,[CO,Rl]=Yd(Mc),$he="SelectContentImpl",qhe=Che("SelectContent.RemoveScroll"),kO=v.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:c,sideOffset:d,align:h,alignOffset:m,arrowPadding:f,collisionBoundary:g,collisionPadding:x,sticky:_,hideWhenDetached:j,avoidCollisions:w,...N}=t,E=Il(Mc,n),[A,T]=v.useState(null),[D,F]=v.useState(null),P=qt(e,pe=>T(pe)),[R,I]=v.useState(null),[O,V]=v.useState(null),M=Oy(n),[U,J]=v.useState(!1),ne=v.useRef(!1);v.useEffect(()=>{if(A)return zj(A)},[A]),Ij();const ce=v.useCallback(pe=>{const[Se,...De]=M().map(ft=>ft.ref.current),[Ue]=De.slice(-1),$e=document.activeElement;for(const ft of pe)if(ft===$e||(ft==null||ft.scrollIntoView({block:"nearest"}),ft===Se&&D&&(D.scrollTop=0),ft===Ue&&D&&(D.scrollTop=D.scrollHeight),ft==null||ft.focus(),document.activeElement!==$e))return},[M,D]),se=v.useCallback(()=>ce([R,A]),[ce,R,A]);v.useEffect(()=>{U&&se()},[U,se]);const{onOpenChange:K,triggerPointerDownPosRef:W}=E;v.useEffect(()=>{if(A){let pe={x:0,y:0};const Se=Ue=>{var $e,ft;pe={x:Math.abs(Math.round(Ue.pageX)-((($e=W.current)==null?void 0:$e.x)??0)),y:Math.abs(Math.round(Ue.pageY)-(((ft=W.current)==null?void 0:ft.y)??0))}},De=Ue=>{pe.x<=10&&pe.y<=10?Ue.preventDefault():A.contains(Ue.target)||K(!1),document.removeEventListener("pointermove",Se),W.current=null};return W.current!==null&&(document.addEventListener("pointermove",Se),document.addEventListener("pointerup",De,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Se),document.removeEventListener("pointerup",De,{capture:!0})}}},[A,K,W]),v.useEffect(()=>{const pe=()=>K(!1);return window.addEventListener("blur",pe),window.addEventListener("resize",pe),()=>{window.removeEventListener("blur",pe),window.removeEventListener("resize",pe)}},[K]);const[B,q]=HO(pe=>{const Se=M().filter($e=>!$e.disabled),De=Se.find($e=>$e.ref.current===document.activeElement),Ue=WO(Se,pe,De);Ue&&setTimeout(()=>Ue.ref.current.focus())}),X=v.useCallback((pe,Se,De)=>{const Ue=!ne.current&&!De;(E.value!==void 0&&E.value===Se||Ue)&&(I(pe),Ue&&(ne.current=!0))},[E.value]),$=v.useCallback(()=>A==null?void 0:A.focus(),[A]),he=v.useCallback((pe,Se,De)=>{const Ue=!ne.current&&!De;(E.value!==void 0&&E.value===Se||Ue)&&V(pe)},[E.value]),Ne=r==="popper"?E1:TO,Ae=Ne===E1?{side:c,sideOffset:d,align:h,alignOffset:m,arrowPadding:f,collisionBoundary:g,collisionPadding:x,sticky:_,hideWhenDetached:j,avoidCollisions:w}:{};return s.jsx(CO,{scope:n,content:A,viewport:D,onViewportChange:F,itemRefCallback:X,selectedItem:R,onItemLeave:$,itemTextRefCallback:he,focusSelectedItem:se,selectedItemText:O,position:r,isPositioned:U,searchRef:B,children:s.jsx(Zx,{as:qhe,allowPinchZoom:!0,children:s.jsx(Hx,{asChild:!0,trapped:E.open,onMountAutoFocus:pe=>{pe.preventDefault()},onUnmountAutoFocus:Ye(i,pe=>{var Se;(Se=E.trigger)==null||Se.focus({preventScroll:!0}),pe.preventDefault()}),children:s.jsx(qx,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:pe=>pe.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:s.jsx(Ne,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:pe=>pe.preventDefault(),...N,...Ae,onPlaced:()=>J(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:Ye(N.onKeyDown,pe=>{const Se=pe.ctrlKey||pe.altKey||pe.metaKey;if(pe.key==="Tab"&&pe.preventDefault(),!Se&&pe.key.length===1&&q(pe.key),["ArrowUp","ArrowDown","Home","End"].includes(pe.key)){let Ue=M().filter($e=>!$e.disabled).map($e=>$e.ref.current);if(["ArrowUp","End"].includes(pe.key)&&(Ue=Ue.slice().reverse()),["ArrowUp","ArrowDown"].includes(pe.key)){const $e=pe.target,ft=Ue.indexOf($e);Ue=Ue.slice(ft+1)}setTimeout(()=>ce(Ue)),pe.preventDefault()}})})})})})})});kO.displayName=$he;var Hhe="SelectItemAlignedPosition",TO=v.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,a=Il(Mc,n),o=Rl(Mc,n),[c,d]=v.useState(null),[h,m]=v.useState(null),f=qt(e,P=>m(P)),g=Oy(n),x=v.useRef(!1),_=v.useRef(!0),{viewport:j,selectedItem:w,selectedItemText:N,focusSelectedItem:E}=o,A=v.useCallback(()=>{if(a.trigger&&a.valueNode&&c&&h&&j&&w&&N){const P=a.trigger.getBoundingClientRect(),R=h.getBoundingClientRect(),I=a.valueNode.getBoundingClientRect(),O=N.getBoundingClientRect();if(a.dir!=="rtl"){const $e=O.left-R.left,ft=I.left-$e,Jt=P.left-ft,Tn=P.width+Jt,vr=Math.max(Tn,R.width),Bn=window.innerWidth-hi,Yn=sI(ft,[hi,Math.max(hi,Bn-vr)]);c.style.minWidth=Tn+"px",c.style.left=Yn+"px"}else{const $e=R.right-O.right,ft=window.innerWidth-I.right-$e,Jt=window.innerWidth-P.right-ft,Tn=P.width+Jt,vr=Math.max(Tn,R.width),Bn=window.innerWidth-hi,Yn=sI(ft,[hi,Math.max(hi,Bn-vr)]);c.style.minWidth=Tn+"px",c.style.right=Yn+"px"}const V=g(),M=window.innerHeight-hi*2,U=j.scrollHeight,J=window.getComputedStyle(h),ne=parseInt(J.borderTopWidth,10),ce=parseInt(J.paddingTop,10),se=parseInt(J.borderBottomWidth,10),K=parseInt(J.paddingBottom,10),W=ne+ce+U+K+se,B=Math.min(w.offsetHeight*5,W),q=window.getComputedStyle(j),X=parseInt(q.paddingTop,10),$=parseInt(q.paddingBottom,10),he=P.top+P.height/2-hi,Ne=M-he,Ae=w.offsetHeight/2,pe=w.offsetTop+Ae,Se=ne+ce+pe,De=W-Se;if(Se<=he){const $e=V.length>0&&w===V[V.length-1].ref.current;c.style.bottom="0px";const ft=h.clientHeight-j.offsetTop-j.offsetHeight,Jt=Math.max(Ne,Ae+($e?$:0)+ft+se),Tn=Se+Jt;c.style.height=Tn+"px"}else{const $e=V.length>0&&w===V[0].ref.current;c.style.top="0px";const Jt=Math.max(he,ne+j.offsetTop+($e?X:0)+Ae)+De;c.style.height=Jt+"px",j.scrollTop=Se-he+j.offsetTop}c.style.margin=`${hi}px 0`,c.style.minHeight=B+"px",c.style.maxHeight=M+"px",r==null||r(),requestAnimationFrame(()=>x.current=!0)}},[g,a.trigger,a.valueNode,c,h,j,w,N,a.dir,r]);rr(()=>A(),[A]);const[T,D]=v.useState();rr(()=>{h&&D(window.getComputedStyle(h).zIndex)},[h]);const F=v.useCallback(P=>{P&&_.current===!0&&(A(),E==null||E(),_.current=!1)},[A,E]);return s.jsx(Khe,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:x,onScrollButtonChange:F,children:s.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T},children:s.jsx(Et.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});TO.displayName=Hhe;var Whe="SelectPopperPosition",E1=v.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=hi,...a}=t,o=Fy(n);return s.jsx(n4,{...o,...a,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});E1.displayName=Whe;var[Khe,C_]=Yd(Mc,{}),C1="SelectViewport",AO=v.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,a=Rl(C1,n),o=C_(C1,n),c=qt(e,a.onViewportChange),d=v.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),s.jsx(Ly.Slot,{scope:n,children:s.jsx(Et.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ye(i.onScroll,h=>{const m=h.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:g}=o;if(g!=null&&g.current&&f){const x=Math.abs(d.current-m.scrollTop);if(x>0){const _=window.innerHeight-hi*2,j=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),N=Math.max(j,w);if(N<_){const E=N+x,A=Math.min(_,E),T=E-A;f.style.height=A+"px",f.style.bottom==="0px"&&(m.scrollTop=T>0?T:0,f.style.justifyContent="flex-end")}}}d.current=m.scrollTop})})})]})});AO.displayName=C1;var IO="SelectGroup",[Ghe,Qhe]=Yd(IO),Yhe=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=$a();return s.jsx(Ghe,{scope:n,id:i,children:s.jsx(Et.div,{role:"group","aria-labelledby":i,...r,ref:e})})});Yhe.displayName=IO;var RO="SelectLabel",PO=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Qhe(RO,n);return s.jsx(Et.div,{id:i.id,...r,ref:e})});PO.displayName=RO;var Tx="SelectItem",[Jhe,DO]=Yd(Tx),MO=v.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:a,...o}=t,c=Il(Tx,n),d=Rl(Tx,n),h=c.value===r,[m,f]=v.useState(a??""),[g,x]=v.useState(!1),_=qt(e,E=>{var A;return(A=d.itemRefCallback)==null?void 0:A.call(d,E,r,i)}),j=$a(),w=v.useRef("touch"),N=()=>{i||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(Jhe,{scope:n,value:r,disabled:i,textId:j,isSelected:h,onItemTextChange:v.useCallback(E=>{f(A=>A||((E==null?void 0:E.textContent)??"").trim())},[]),children:s.jsx(Ly.ItemSlot,{scope:n,value:r,disabled:i,textValue:m,children:s.jsx(Et.div,{role:"option","aria-labelledby":j,"data-highlighted":g?"":void 0,"aria-selected":h&&g,"data-state":h?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:_,onFocus:Ye(o.onFocus,()=>x(!0)),onBlur:Ye(o.onBlur,()=>x(!1)),onClick:Ye(o.onClick,()=>{w.current!=="mouse"&&N()}),onPointerUp:Ye(o.onPointerUp,()=>{w.current==="mouse"&&N()}),onPointerDown:Ye(o.onPointerDown,E=>{w.current=E.pointerType}),onPointerMove:Ye(o.onPointerMove,E=>{var A;w.current=E.pointerType,i?(A=d.onItemLeave)==null||A.call(d):w.current==="mouse"&&E.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ye(o.onPointerLeave,E=>{var A;E.currentTarget===document.activeElement&&((A=d.onItemLeave)==null||A.call(d))}),onKeyDown:Ye(o.onKeyDown,E=>{var T;((T=d.searchRef)==null?void 0:T.current)!==""&&E.key===" "||(Lhe.includes(E.key)&&N(),E.key===" "&&E.preventDefault())})})})})});MO.displayName=Tx;var rm="SelectItemText",LO=v.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...a}=t,o=Il(rm,n),c=Rl(rm,n),d=DO(rm,n),h=Uhe(rm,n),[m,f]=v.useState(null),g=qt(e,N=>f(N),d.onItemTextChange,N=>{var E;return(E=c.itemTextRefCallback)==null?void 0:E.call(c,N,d.value,d.disabled)}),x=m==null?void 0:m.textContent,_=v.useMemo(()=>s.jsx("option",{value:d.value,disabled:d.disabled,children:x},d.value),[d.disabled,d.value,x]),{onNativeOptionAdd:j,onNativeOptionRemove:w}=h;return rr(()=>(j(_),()=>w(_)),[j,w,_]),s.jsxs(s.Fragment,{children:[s.jsx(Et.span,{id:d.textId,...a,ref:g}),d.isSelected&&o.valueNode&&!o.valueNodeHasChildren?nf.createPortal(a.children,o.valueNode):null]})});LO.displayName=rm;var OO="SelectItemIndicator",FO=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return DO(OO,n).isSelected?s.jsx(Et.span,{"aria-hidden":!0,...r,ref:e}):null});FO.displayName=OO;var k1="SelectScrollUpButton",VO=v.forwardRef((t,e)=>{const n=Rl(k1,t.__scopeSelect),r=C_(k1,t.__scopeSelect),[i,a]=v.useState(!1),o=qt(e,r.onScrollButtonChange);return rr(()=>{if(n.viewport&&n.isPositioned){let c=function(){const h=d.scrollTop>0;a(h)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),i?s.jsx(zO,{...t,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});VO.displayName=k1;var T1="SelectScrollDownButton",UO=v.forwardRef((t,e)=>{const n=Rl(T1,t.__scopeSelect),r=C_(T1,t.__scopeSelect),[i,a]=v.useState(!1),o=qt(e,r.onScrollButtonChange);return rr(()=>{if(n.viewport&&n.isPositioned){let c=function(){const h=d.scrollHeight-d.clientHeight,m=Math.ceil(d.scrollTop)<h;a(m)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),i?s.jsx(zO,{...t,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});UO.displayName=T1;var zO=v.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,a=Rl("SelectScrollButton",n),o=v.useRef(null),c=Oy(n),d=v.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return v.useEffect(()=>()=>d(),[d]),rr(()=>{var m;const h=c().find(f=>f.ref.current===document.activeElement);(m=h==null?void 0:h.ref.current)==null||m.scrollIntoView({block:"nearest"})},[c]),s.jsx(Et.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Ye(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Ye(i.onPointerMove,()=>{var h;(h=a.onItemLeave)==null||h.call(a),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Ye(i.onPointerLeave,()=>{d()})})}),Xhe="SelectSeparator",BO=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return s.jsx(Et.div,{"aria-hidden":!0,...r,ref:e})});BO.displayName=Xhe;var A1="SelectArrow",Zhe=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Fy(n),a=Il(A1,n),o=Rl(A1,n);return a.open&&o.position==="popper"?s.jsx(r4,{...i,...r,ref:e}):null});Zhe.displayName=A1;var eme="SelectBubbleInput",$O=v.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=v.useRef(null),a=qt(r,i),o=N_(e);return v.useEffect(()=>{const c=i.current;if(!c)return;const d=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(o!==e&&m){const f=new Event("change",{bubbles:!0});m.call(c,e),c.dispatchEvent(f)}},[o,e]),s.jsx(Et.select,{...n,style:{...yO,...n.style},ref:a,defaultValue:e})});$O.displayName=eme;function qO(t){return t===""||t===void 0}function HO(t){const e=gi(t),n=v.useRef(""),r=v.useRef(0),i=v.useCallback(o=>{const c=n.current+o;e(c),(function d(h){n.current=h,window.clearTimeout(r.current),h!==""&&(r.current=window.setTimeout(()=>d(""),1e3))})(c)},[e]),a=v.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,a]}function WO(t,e,n){const i=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let o=tme(t,Math.max(a,0));i.length===1&&(o=o.filter(h=>h!==n));const d=o.find(h=>h.textValue.toLowerCase().startsWith(i.toLowerCase()));return d!==n?d:void 0}function tme(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var nme=vO,KO=wO,rme=NO,sme=_O,ime=SO,GO=EO,ame=AO,QO=PO,YO=MO,ome=LO,lme=FO,JO=VO,XO=UO,ZO=BO;const en=nme,tn=rme,Kt=v.forwardRef(({className:t,children:e,...n},r)=>s.jsxs(KO,{ref:r,className:lt("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,s.jsx(sme,{asChild:!0,children:s.jsx(Ku,{className:"h-4 w-4 opacity-50"})})]}));Kt.displayName=KO.displayName;const e3=v.forwardRef(({className:t,...e},n)=>s.jsx(JO,{ref:n,className:lt("flex cursor-default items-center justify-center py-1",t),...e,children:s.jsx(qI,{className:"h-4 w-4"})}));e3.displayName=JO.displayName;const t3=v.forwardRef(({className:t,...e},n)=>s.jsx(XO,{ref:n,className:lt("flex cursor-default items-center justify-center py-1",t),...e,children:s.jsx(Ku,{className:"h-4 w-4"})}));t3.displayName=XO.displayName;const Gt=v.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>s.jsx(ime,{children:s.jsxs(GO,{ref:i,className:lt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[s.jsx(e3,{}),s.jsx(ame,{className:lt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),s.jsx(t3,{})]})}));Gt.displayName=GO.displayName;const cme=v.forwardRef(({className:t,...e},n)=>s.jsx(QO,{ref:n,className:lt("px-2 py-1.5 text-sm font-semibold",t),...e}));cme.displayName=QO.displayName;const Re=v.forwardRef(({className:t,children:e,...n},r)=>s.jsxs(YO,{ref:r,className:lt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[s.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(lme,{children:s.jsx(Sm,{className:"h-4 w-4"})})}),s.jsx(ome,{children:e})]}));Re.displayName=YO.displayName;const ume=v.forwardRef(({className:t,...e},n)=>s.jsx(ZO,{ref:n,className:lt("-mx-1 my-1 h-px bg-muted",t),...e}));ume.displayName=ZO.displayName;function n3(){const[t,e]=v.useState(!1),[n,r]=v.useState(null),[i,a]=v.useState(null),[o,c]=v.useState(null),[d,h]=v.useState("quran"),[m,f]=v.useState(!1),[g,x]=v.useState(null),[_,j]=v.useState(!1),[w,N]=v.useState(null),[E,A]=v.useState(0),[T,D]=v.useState(null);v.useEffect(()=>{F()},[]),v.useEffect(()=>{if(i&&g&&g.pause(),i){const M=new Audio(i);x(M),M.onended=()=>{f(!1)}}},[i,g]);const F=async()=>{try{if(!await Je.auth.isAuthenticated()){mt.error("Please log in to record and share");return}const U=await Je.auth.me();N(U)}catch(M){console.error("Error loading user:",M),mt.error("Failed to load user data.")}},P=async()=>{try{const M=await navigator.mediaDevices.getUserMedia({audio:!0}),U=new MediaRecorder(M),J=[];U.ondataavailable=ce=>{J.push(ce.data)},U.onstop=()=>{const ce=new Blob(J,{type:"audio/webm"});r(ce),a(URL.createObjectURL(ce)),M.getTracks().forEach(se=>se.stop())},U.start(),c(U),e(!0),A(0);const ne=setInterval(()=>{A(ce=>ce+1)},1e3);D(ne),mt.success("Recording started! ")}catch(M){console.error("Error accessing microphone:",M),mt.error("Could not access microphone. Please check permissions.")}},R=()=>{o&&t&&(o.stop(),e(!1),T&&(clearInterval(T),D(null)),mt.success("Recording stopped!"))},I=()=>{g&&(m?(g.pause(),f(!1)):(g.play(),f(!0)))},O=async()=>{if(!n||!w){mt.error("Please record something first and make sure you're logged in");return}j(!0);try{const M=new File([n],`recording-${Date.now()}.webm`,{type:"audio/webm"}),{file_url:U}=await Je.integrations.Core.UploadFile({file:M});await Je.entities.Recording.create({user_id:w.id,user_name:w.full_name||w.email,user_email:w.email,recording_type:d,file_url:U,duration:Math.floor(E),status:"pending"});const J=w.points||0;await Je.auth.updateMe({points:J+10}),N({...w,points:J+10}),r(null),a(null),A(0),g&&(g.pause(),x(null),f(!1)),mt.success(" Recording submitted! You earned 10 points!",{duration:5e3,description:"Your recording will be reviewed by our team. Keep up the great work!"});try{await Je.integrations.Core.SendEmail({from_name:"Islam Kids Zone",to:"huzaify786@gmail.com",subject:" New Audio Recording Submitted",body:`
            <div style="font-family: Arial, sans-serif; padding: 20px; background-color: #f3f4f6; border-radius: 10px;">
              <h2 style="color: #3B82F6;"> New Recording Submitted!</h2>
              <div style="background-color: white; padding: 20px; border-radius: 8px; margin-top: 20px;">
                <p><strong> Submitted by:</strong> ${w.full_name||w.email}</p>
                <p><strong> Email:</strong> ${w.email}</p>
                <p><strong> Type:</strong> ${d}</p>
                <p><strong> Duration:</strong> ${Math.floor(E/60)}:${String(E%60).padStart(2,"0")}</p>
                <p><strong> File URL:</strong> <a href="${U}">${U}</a></p>
                <p><strong> Points Awarded:</strong> 10 points</p>
                <p><strong> Submitted:</strong> ${new Date().toLocaleString()}</p>
              </div>
              <hr style="margin: 20px 0; border: none; border-top: 1px solid #e5e7eb;">
              <p style="color: #6b7280; font-size: 12px; text-align: center;">
                Please review this recording in the admin dashboard.
              </p>
            </div>
          `})}catch(ne){console.error("Error sending notification email:",ne),mt.warning("Notification email to admin failed, but recording was submitted.")}}catch(M){console.error("Error uploading recording:",M),mt.error("Failed to upload recording. Please try again.")}finally{j(!1)}},V=M=>{const U=Math.floor(M/60),J=M%60;return`${U}:${String(J).padStart(2,"0")}`};return w?s.jsx("div",{className:"min-h-screen py-8 px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs(ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Record & Share"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Share your beautiful Quran recitation, nasheed, or Islamic story"})]}),s.jsx(ee.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-8",children:s.jsx(te,{className:"border-4 border-amber-400 bg-gradient-to-r from-amber-50 to-yellow-50",children:s.jsx(re,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-16 h-16 bg-amber-500 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx(wc,{className:"w-8 h-8 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-2 flex items-center gap-2",children:[s.jsx(Vt,{className:"w-6 h-6 text-amber-600 fill-amber-600"}),s.jsx("span",{children:"Earn 10 Points!"})]}),s.jsxs("p",{className:"text-gray-700 font-medium",children:["Submit a recording and earn ",s.jsx("strong",{children:"10 points"})," instantly! Your recordings help inspire other kids."]})]})]})})})}),s.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:s.jsx(te,{className:"bg-gradient-to-r from-blue-50 to-purple-50",children:s.jsx(re,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Your Current Points"}),s.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[w.points||0," points"]})]}),s.jsx(Vt,{className:"w-12 h-12 text-amber-500 fill-amber-500"})]})})})}),s.jsxs(te,{className:"mb-8",children:[s.jsx(Oe,{children:s.jsx(Fe,{children:"What would you like to record?"})}),s.jsx(re,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[s.jsxs("button",{onClick:()=>h("quran"),className:`p-6 rounded-xl border-2 transition-all ${d==="quran"?"border-green-500 bg-green-50":"border-gray-200 hover:border-green-300"}`,children:[s.jsx(un,{className:"w-8 h-8 mx-auto mb-3 text-green-600"}),s.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Quran Recitation"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Recite verses from the Quran"})]}),s.jsxs("button",{onClick:()=>h("nasheed"),className:`p-6 rounded-xl border-2 transition-all ${d==="nasheed"?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-purple-300"}`,children:[s.jsx(zg,{className:"w-8 h-8 mx-auto mb-3 text-purple-600"}),s.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Nasheed"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Sing an Islamic nasheed"})]}),s.jsxs("button",{onClick:()=>h("story"),className:`p-6 rounded-xl border-2 transition-all ${d==="story"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}`,children:[s.jsx(_l,{className:"w-8 h-8 mx-auto mb-3 text-blue-600"}),s.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Islamic Story"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Tell an Islamic story"})]})]})})]}),s.jsxs(te,{className:"mb-8",children:[s.jsx(Oe,{children:s.jsx(Fe,{children:"Recording Studio"})}),s.jsx(re,{children:s.jsxs("div",{className:"text-center space-y-6",children:[(t||n)&&s.jsx("div",{className:"text-4xl font-mono font-bold text-gray-900",children:V(E)}),!n&&s.jsx(ee.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:t?R:P,className:`w-24 h-24 rounded-full flex items-center justify-center transition-all shadow-xl ${t?"bg-red-500 hover:bg-red-600 animate-pulse":"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600"}`,"aria-label":t?"Stop Recording":"Start Recording",children:t?s.jsx(W1,{className:"w-10 h-10 text-white"}):s.jsx(ol,{className:"w-10 h-10 text-white"})}),t&&s.jsx("p",{className:"text-red-500 font-semibold animate-pulse",children:" Recording in progress..."}),n&&s.jsxs("div",{className:"space-y-4",children:[s.jsx(we,{className:"bg-green-500 text-white text-lg px-4 py-2",children:"Recording Complete! "}),s.jsxs("div",{className:"flex gap-4 justify-center",children:[s.jsx(G,{onClick:I,size:"lg",className:"bg-blue-600 hover:bg-blue-700","aria-label":m?"Pause Recording":"Play Recording",children:m?s.jsxs(s.Fragment,{children:[s.jsx(Nl,{className:"w-5 h-5 mr-2"}),"Pause"]}):s.jsxs(s.Fragment,{children:[s.jsx(cr,{className:"w-5 h-5 mr-2"}),"Play"]})}),s.jsx(G,{onClick:()=>{r(null),a(null),A(0),g&&(g.pause(),x(null),f(!1))},variant:"outline",size:"lg",children:"Record Again"})]}),s.jsx(G,{onClick:O,disabled:_,size:"lg",className:"w-full bg-gradient-to-r from-green-500 to-teal-500 hover:from-green-600 hover:to-teal-600 text-lg py-6",children:_?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Submitting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Xa,{className:"w-5 h-5 mr-2"}),"Submit & Earn 10 Points! "]})})]})]})})]}),s.jsxs(te,{className:"border-2 border-blue-200",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-blue-50 to-purple-50",children:s.jsx(Fe,{children:"Recording Tips "})}),s.jsx(re,{className:"pt-6",children:s.jsxs("ul",{className:"space-y-3 text-gray-700",children:[s.jsxs("li",{className:"flex gap-3",children:[s.jsx("span",{className:"text-blue-600 font-bold",children:"1."}),s.jsx("span",{children:"Find a quiet place with no background noise"})]}),s.jsxs("li",{className:"flex gap-3",children:[s.jsx("span",{className:"text-blue-600 font-bold",children:"2."}),s.jsx("span",{children:"Speak clearly and at a comfortable pace"})]}),s.jsxs("li",{className:"flex gap-3",children:[s.jsx("span",{className:"text-blue-600 font-bold",children:"3."}),s.jsx("span",{children:"Hold your device about 6 inches from your mouth"})]}),s.jsxs("li",{className:"flex gap-3",children:[s.jsx("span",{className:"text-blue-600 font-bold",children:"4."}),s.jsx("span",{children:"Take your time and do your best - it's okay to record again!"})]}),s.jsxs("li",{className:"flex gap-3",children:[s.jsx("span",{className:"text-green-600 font-bold",children:"5."}),s.jsxs("span",{children:["Submit your recording and earn ",s.jsx("strong",{children:"10 points"})," automatically! "]})]})]})})]})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:s.jsx(te,{className:"max-w-md",children:s.jsxs(re,{className:"pt-6 text-center",children:[s.jsx(ol,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Access Required"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Please email us to enable recording and sharing features."}),s.jsx(G,{onClick:()=>{const M=encodeURIComponent("Access Request - Record & Share"),U=encodeURIComponent("Hi, I'd like to enable recording features on Islam Kids Zone. My name is ____ and my contact details are ____.");window.location.href=`mailto:imediac786@gmail.com?subject=${M}&body=${U}`},children:"Email Us"})]})})})}function r3(){const[t,e]=v.useState(null),[n,r]=v.useState(!1),[i,a]=v.useState(!1),[o,c]=v.useState(null),[d,h]=v.useState(null),[m,f]=v.useState(!1),[g,x]=v.useState(!1),[_,j]=v.useState(""),w=v.useRef(null),N=v.useRef([]),E=v.useRef(null),A=v.useRef(null);v.useEffect(()=>{T(),D()},[]);const T=async()=>{try{if(await Je.auth.isAuthenticated()){const M=await Je.auth.me();e(M)}else e(null)}catch{e(null)}},D=()=>{try{const V=localStorage.getItem("siteSettings");if(V){const M=JSON.parse(V);j((M==null?void 0:M.recordingStudioText)||"Welcome to Islam Media Central Recording Studio. Please record Quran recitation, nasheeds, or Islamic messages with clarity and respect.")}else j("Welcome to Islam Media Central Recording Studio. Please record Quran recitation, nasheeds, or Islamic messages with clarity and respect.")}catch{j("Welcome to Islam Media Central Recording Studio. Please record Quran recitation, nasheeds, or Islamic messages with clarity and respect.")}},F=async()=>{try{a(!1);const V=await navigator.mediaDevices.getUserMedia({audio:!0}),M=new MediaRecorder(V);w.current=M,N.current=[],M.ondataavailable=U=>{U.data.size>0&&N.current.push(U.data)},M.onstop=()=>{const U=new Blob(N.current,{type:"audio/webm"});c(U);const J=URL.createObjectURL(U);h(J),V.getTracks().forEach(ne=>ne.stop())},E.current=Date.now(),M.start(),r(!0),mt.success("Recording started")}catch(V){console.error("Error starting recording:",V),(V==null?void 0:V.name)==="NotAllowedError"&&a(!0),mt.error("Could not access microphone. Please enable permissions.")}},P=()=>{w.current&&n&&(w.current.stop(),r(!1),mt.success("Recording stopped"))},R=()=>{A.current&&d&&(A.current.currentTime=0,A.current.play())},I=()=>{c(null),h(null),N.current=[]},O=async()=>{if(!o){mt.error("Please record audio first");return}if(!t){mt.error("Please log in to submit your recording");return}f(!0);try{const V=E.current?Math.floor((Date.now()-E.current)/1e3):0,M=new File([o],`recording-${Date.now()}.webm`,{type:"audio/webm"}),{file_url:U}=await Je.integrations.Core.UploadFile({file:M}),J=await Je.entities.Recording.create({user_id:t.id,user_name:t.full_name||t.email,user_email:t.email,recording_type:"studio",file_url:U,duration:V,status:"pending"});let ne="imedia786@gmail.com";try{const ce=localStorage.getItem("siteSettings");if(ce){const se=JSON.parse(ce);se!=null&&se.supportEmail&&(ne=se.supportEmail)}}catch{}await Je.integrations.Core.SendEmail({from_name:"Islam Media Central",to:ne,subject:" New Recording Submission",body:`
          <div style="font-family: Arial, sans-serif; max-width: 640px; margin: 0 auto; background: #ffffff; border-radius: 12px; overflow: hidden; border: 1px solid #e5e7eb;">
            <div style="padding: 24px; background: linear-gradient(135deg, #2563EB 0%, #60A5FA 100%); color: white;">
              <h2 style="margin: 0;">Islam Media Central Recording Studio</h2>
            </div>
            <div style="padding: 24px;">
              <p><strong>User:</strong> ${t.full_name||t.email}</p>
              <p><strong>Email:</strong> ${t.email}</p>
              <p><strong>Duration:</strong> ${Math.floor(V/60)}:${(V%60).toString().padStart(2,"0")} minutes</p>
              <p><strong>Recording ID:</strong> ${J.id}</p>
              <div style="margin: 16px 0; padding: 12px; background: #EFF6FF; border-left: 4px solid #2563EB;">
                <a href="${U}" style="display:inline-block;padding:10px 16px;background:#2563EB;color:#fff;border-radius:8px;text-decoration:none;font-weight:bold">Download & Listen</a>
                <p style="margin-top:8px;font-size:12px;color:#6B7280">Direct link: ${U}</p>
              </div>
            </div>
          </div>
        `}),x(!0),mt.success("Recording submitted successfully"),setTimeout(()=>{I(),x(!1)},2500)}catch(V){console.error("Error submitting recording:",V),mt.error("Failed to submit recording")}finally{f(!1)}};return s.jsx("div",{className:"min-h-screen py-10 px-4 bg-gradient-to-br from-blue-50 to-white",children:s.jsxs("div",{className:"max-w-3xl mx-auto",children:[s.jsxs(ee.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("div",{className:"text-6xl mb-2",children:""}),s.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-blue-900",children:"Islam Media Central Recording Studio"}),s.jsx("p",{className:"text-blue-700",children:"Record directly in your browser and submit with one click."})]}),s.jsxs(te,{className:"mb-6 border-blue-200",children:[s.jsx(Oe,{className:"bg-blue-600 text-white",children:s.jsx(Fe,{children:"Instructions & Guidelines"})}),s.jsx(re,{className:"p-5",children:s.jsx("div",{className:"prose max-w-none",children:s.jsx("p",{className:"text-gray-800 whitespace-pre-line",children:_})})})]}),s.jsxs(te,{className:"shadow-md border-blue-100",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-blue-600 to-blue-500 text-white",children:s.jsxs(Fe,{className:"flex items-center gap-2",children:[s.jsx(ol,{className:"w-5 h-5"})," Recording Controls"]})}),s.jsxs(re,{className:"p-6",children:[i&&s.jsx("div",{className:"mb-4 p-3 rounded bg-red-50 text-red-700",children:"Microphone access denied. Please enable permissions in your browser settings."}),t?null:s.jsx("div",{className:"p-4 rounded bg-yellow-50 text-yellow-800 mb-4",children:"Please log in to submit recordings."}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsxs(G,{onClick:F,disabled:n,className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(ol,{className:"w-4 h-4 mr-2"})," Start"]}),s.jsxs(G,{onClick:P,disabled:!n,variant:"outline",className:"border-blue-600 text-blue-600",children:[s.jsx(W1,{className:"w-4 h-4 mr-2"})," Stop"]}),s.jsxs(G,{onClick:R,disabled:!d,variant:"outline",className:"border-blue-600 text-blue-600",children:[s.jsx(cr,{className:"w-4 h-4 mr-2"})," Play"]}),s.jsxs(G,{onClick:O,disabled:!o||m||!t,className:"bg-green-600 hover:bg-green-700",children:[s.jsx(Xa,{className:"w-4 h-4 mr-2"})," ",m?"Submitting...":"Submit"]})]}),s.jsx("div",{className:"mt-4",children:s.jsx("audio",{ref:A,src:d||void 0,controls:!0,className:"w-full"})}),g&&s.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},className:"mt-4 p-3 rounded bg-green-50 text-green-700",children:"Alhamdulillah! Your recording has been submitted."})]})]})]})})}function s3(){const[t,e]=v.useState(null),[n,r]=v.useState(null),[i,a]=v.useState(""),[o,c]=v.useState(50),[d,h]=v.useState(""),m=Ds(),{data:f=[],isLoading:g}=vn({queryKey:["recordings"],queryFn:()=>Je.entities.Recording.list("-created_date"),initialData:[]}),x=gn({mutationFn:({id:F,data:P})=>Je.entities.Recording.update(F,P),onSuccess:()=>{m.invalidateQueries({queryKey:["recordings"]}),r(null)}});v.useEffect(()=>{try{const F=localStorage.getItem("siteSettings");if(F){const P=JSON.parse(F);h((P==null?void 0:P.recordingStudioText)||"")}}catch{}},[]);const _=()=>{try{const F=localStorage.getItem("siteSettings"),R={...F?JSON.parse(F):{},recordingStudioText:d};localStorage.setItem("siteSettings",JSON.stringify(R)),alert("Recording Studio text saved")}catch{alert("Failed to save text")}},j=async F=>{try{await x.mutateAsync({id:F.id,data:{status:"approved",admin_notes:i,points_awarded:o}});const R=(await Je.entities.User.list()).find(I=>I.id===F.user_id);R&&await Je.auth.updateMe({points:(R.points||0)+o}),await Je.integrations.Core.SendEmail({from_name:"Islam Kids Zone",to:F.user_email,subject:" Your Recording Has Been Approved!",body:`
          <div style="font-family: Arial, sans-serif; padding: 20px; background-color: #f3f4f6; border-radius: 10px;">
            <h2 style="color: #10B981;"> Masha'Allah! Your Recording is Approved!</h2>
            <div style="background-color: white; padding: 20px; border-radius: 8px; margin-top: 20px;">
              <p>Assalamu Alaikum <strong>${F.user_name}</strong>,</p>
              <p>Great news! Your ${F.recording_type} recording has been approved and featured on our website!</p>
              <p><strong> You've earned ${o} points!</strong></p>
              ${i?`<p><strong> Feedback:</strong> ${i}</p>`:""}
              <p>Keep up the amazing work! We can't wait to hear more from you.</p>
              <p style="margin-top: 20px;">Jazakallahu Khayran,<br>Islam Kids Zone Team</p>
            </div>
          </div>
        `}),alert("Recording approved and user notified!")}catch(P){console.error("Error approving recording:",P),alert("Error approving recording")}},w=async F=>{try{await x.mutateAsync({id:F.id,data:{status:"rejected",admin_notes:i}}),F.user_email&&await Je.integrations.Core.SendEmail({from_name:"Islam Kids Zone",to:F.user_email,subject:" Update on Your Recording Submission",body:`
            <div style="font-family: Arial, sans-serif; padding: 20px; background-color: #f3f4f6; border-radius: 10px;">
              <h2 style="color: #3B82F6;">Update on Your Recording</h2>
              <div style="background-color: white; padding: 20px; border-radius: 8px; margin-top: 20px;">
                <p>Assalamu Alaikum <strong>${F.user_name}</strong>,</p>
                <p>Thank you for submitting your ${F.recording_type} recording!</p>
                ${i?`<p><strong> Feedback:</strong> ${i}</p>`:""}
                <p>Don't be discouraged! Please feel free to submit another recording. We're here to help you improve!</p>
                <p style="margin-top: 20px;">Jazakallahu Khayran,<br>Islam Kids Zone Team</p>
              </div>
            </div>
          `}),alert("Recording rejected and user notified!")}catch(P){console.error("Error rejecting recording:",P),alert("Error rejecting recording")}},N=async F=>{var P,R;if(confirm("Delete this recording permanently?"))try{(R=(P=Je==null?void 0:Je.entities)==null?void 0:P.Recording)!=null&&R.delete?await Je.entities.Recording.delete(F.id):await x.mutateAsync({id:F.id,data:{status:"deleted"}}),m.invalidateQueries({queryKey:["recordings"]}),alert("Recording deleted")}catch(I){console.error("Error deleting recording:",I),alert("Failed to delete recording")}},E=F=>new Date(F).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),A=F=>{const P=Math.floor(F/60),R=F%60;return`${P}:${R.toString().padStart(2,"0")}`},T={pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",featured:"bg-purple-100 text-purple-800",rejected:"bg-red-100 text-red-800"},D={quran:"",nasheed:"",story:""};return s.jsx("div",{className:"min-h-screen py-12 px-4 bg-gradient-to-br from-blue-50 to-purple-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Recording Submissions"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Review and manage student recordings"})]}),s.jsxs(te,{className:"mb-8",children:[s.jsx(Oe,{children:s.jsx(Fe,{children:"Recording Studio Page Text"})}),s.jsxs(re,{className:"space-y-3",children:[s.jsx(Rn,{value:d,onChange:F=>h(F.target.value),className:"min-h-[120px]",placeholder:"Write instructions, motivational messages, or Quran/Nasheed guidelines for users..."}),s.jsx("div",{className:"flex gap-2",children:s.jsx(G,{onClick:_,className:"bg-blue-600 hover:bg-blue-700",children:"Save Text"})}),s.jsx("p",{className:"text-xs text-gray-500",children:"This text appears at the top of the Recording Studio page."})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsx(te,{children:s.jsxs(re,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl mb-2",children:""}),s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:f.length}),s.jsx("div",{className:"text-sm text-gray-500",children:"Total Submissions"})]})}),s.jsx(te,{children:s.jsxs(re,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl mb-2",children:""}),s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:f.filter(F=>F.status==="pending").length}),s.jsx("div",{className:"text-sm text-gray-500",children:"Pending Review"})]})}),s.jsx(te,{children:s.jsxs(re,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl mb-2",children:""}),s.jsx("div",{className:"text-2xl font-bold text-green-600",children:f.filter(F=>F.status==="approved"||F.status==="featured").length}),s.jsx("div",{className:"text-sm text-gray-500",children:"Approved"})]})}),s.jsx(te,{children:s.jsxs(re,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl mb-2",children:""}),s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:f.filter(F=>F.status==="featured").length}),s.jsx("div",{className:"text-sm text-gray-500",children:"Featured"})]})})]}),g?s.jsx("div",{className:"text-center py-12 text-gray-500",children:"Loading recordings..."}):f.length===0?s.jsx(te,{children:s.jsxs(re,{className:"p-12 text-center",children:[s.jsx(ol,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),s.jsx("p",{className:"text-gray-500",children:"No recordings submitted yet"})]})}):s.jsx("div",{className:"space-y-4",children:f.map((F,P)=>s.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:P*.05},children:s.jsx(te,{className:"hover:shadow-lg transition-all duration-300",children:s.jsx(re,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"text-5xl",children:D[F.recording_type]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:[F.recording_type.charAt(0).toUpperCase()+F.recording_type.slice(1)," Recording"]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-gray-500",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(YI,{className:"w-4 h-4"}),F.user_name]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Oa,{className:"w-4 h-4"}),A(F.duration)]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Dx,{className:"w-4 h-4"}),E(F.created_date)]})]})]}),s.jsx(we,{className:T[F.status],children:F.status})]}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-3",children:s.jsx("audio",{controls:!0,src:F.file_url,className:"w-full"})}),s.jsx("div",{className:"mb-3",children:s.jsxs("a",{href:F.file_url,download:!0,className:"text-blue-600 hover:text-blue-700 text-sm flex items-center gap-2",children:[s.jsx(co,{className:"w-4 h-4"}),"Download Recording"]})}),F.admin_notes&&s.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-3 mb-3",children:s.jsxs("p",{className:"text-sm text-blue-900",children:[s.jsx("strong",{children:"Admin Notes:"})," ",F.admin_notes]})}),F.status==="pending"&&s.jsx("div",{className:"space-y-3",children:(n==null?void 0:n.id)===F.id?s.jsxs("div",{className:"space-y-3 border-t pt-3",children:[s.jsx(Rn,{placeholder:"Add feedback or notes...",value:i,onChange:R=>a(R.target.value),className:"min-h-[80px]"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Points to Award:"}),s.jsx(Te,{type:"number",value:o,onChange:R=>c(parseInt(R.target.value)||0),className:"w-24"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(G,{onClick:()=>j(F),className:"bg-green-600 hover:bg-green-700",children:[s.jsx(jc,{className:"w-4 h-4 mr-2"}),"Approve & Award Points"]}),s.jsxs(G,{onClick:()=>w(F),variant:"destructive",children:[s.jsx(Mx,{className:"w-4 h-4 mr-2"}),"Reject"]}),s.jsx(G,{onClick:()=>{r(null),a(""),c(50)},variant:"outline",children:"Cancel"})]})]}):s.jsx(G,{onClick:()=>r(F),variant:"outline",className:"w-full",children:"Review & Take Action"})}),s.jsx("div",{className:"mt-3",children:s.jsxs(G,{onClick:()=>N(F),variant:"destructive",children:[s.jsx(nr,{className:"w-4 h-4 mr-2"})," Delete Recording"]})}),F.points_awarded>0&&s.jsxs("div",{className:"flex items-center gap-2 text-amber-600 font-semibold",children:[s.jsx(Vt,{className:"w-5 h-5 fill-amber-500"}),F.points_awarded," points awarded"]})]})]})})})},F.id))})]})})}const dme=[{id:"coloring",title:"Colouring Pages",description:"Print or colour online: mosques, Ka'bah, Islamic patterns",icon:Ox,color:"from-pink-500 to-rose-500",emoji:"",link:"ColoringPages"},{id:"drawing",title:"Islamic Art Board",description:"Digital drawing pad for Islamic art and calligraphy",icon:Mz,color:"from-purple-500 to-violet-500",emoji:"",link:"DrawingBoard"},{id:"writing",title:"Poem & Nasheed Writing",description:"Write and submit your Islamic poems and nasheeds",icon:$1,color:"from-blue-500 to-cyan-500",emoji:"",link:"PoetryWriting"},{id:"contest",title:"Monthly Contest",description:"Win prizes for best story, drawing, or recitation!",icon:xr,color:"from-amber-500 to-orange-500",emoji:"",link:"MonthlyContest"}];function i3(){return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Creative Corner"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Express your creativity through Islamic art, poetry, and more!"})]}),s.jsx(ee.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-12",children:s.jsx(te,{className:"border-4 border-amber-400 shadow-2xl overflow-hidden",children:s.jsxs("div",{className:"bg-gradient-to-r from-amber-500 via-orange-500 to-red-500 p-8 text-white text-center",children:[s.jsx(xr,{className:"w-16 h-16 mx-auto mb-4"}),s.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Monthly Creative Contest!"}),s.jsx("p",{className:"text-xl mb-4",children:"Submit your best work and win amazing prizes! "}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[s.jsx("div",{className:"bg-white/20 px-4 py-2 rounded-full",children:" Best Drawing"}),s.jsx("div",{className:"bg-white/20 px-4 py-2 rounded-full",children:" Best Story"}),s.jsx("div",{className:"bg-white/20 px-4 py-2 rounded-full",children:" Best Recitation"})]})]})})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:dme.map((t,e)=>{const n=t.icon;return s.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:e*.1},children:s.jsx(Nt,{to:Xe(t.link),children:s.jsxs(te,{className:"h-full hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 cursor-pointer group overflow-hidden border-2 hover:border-blue-300",children:[s.jsx(Oe,{className:`bg-gradient-to-br ${t.color} text-white pb-6`,children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ee.div,{whileHover:{scale:1.1,rotate:5},className:"text-6xl",children:t.emoji}),s.jsxs("div",{children:[s.jsx(Fe,{className:"text-2xl mb-2",children:t.title}),s.jsx("p",{className:"text-sm text-white/90",children:t.description})]})]})}),s.jsx(re,{className:"p-6",children:s.jsxs(G,{className:"w-full bg-white text-gray-900 hover:bg-gray-100 border-2 border-gray-200 group-hover:border-blue-500 transition-all",children:[s.jsx(n,{className:"w-5 h-5 mr-2"}),"Start Creating"]})})]})})},t.id)})}),s.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"mt-12",children:s.jsx(te,{className:"border-2 border-purple-200 bg-gradient-to-r from-purple-50 to-pink-50",children:s.jsxs(re,{className:"p-8",children:[s.jsxs("h3",{className:"text-2xl font-bold text-purple-900 mb-4 flex items-center gap-2",children:[s.jsx(Qs,{className:"w-6 h-6"}),"Creative Tips"]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-purple-800",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsx("p",{children:"Be original and express your unique creativity"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsx("p",{children:"Start with Bismillah before creating"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsx("p",{children:"Use bright colours and Islamic patterns"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsx("p",{children:"Create with love for Allah and Islam"})]})]})]})})})]})})}const hme=[{id:"encyclopedia",title:"Islamic Encyclopedia",description:"Learn about prophets, angels, and Islamic months",icon:un,color:"from-blue-500 to-cyan-500",emoji:"",link:"IslamicEncyclopedia"},{id:"tafsir",title:"Audio Tafsir for Kids",description:"Easy explanations of short surahs",icon:Qa,color:"from-green-500 to-teal-500",emoji:"",link:"AudioTafsir"},{id:"facts",title:"Did You Know?",description:"Fun and amazing Islamic facts",icon:mz,color:"from-amber-500 to-orange-500",emoji:"",link:"IslamicFacts"},{id:"worksheets",title:"Printable Worksheets",description:"Quran tracing, matching activities & more",icon:$1,color:"from-purple-500 to-pink-500",emoji:"",link:"Worksheets"}],mme=[{title:"25 Prophets",icon:_l,count:"25 stories"},{title:"Islamic Months",icon:Dx,count:"12 months"},{title:"99 Names of Allah",icon:Vt,count:"Learn all"}];function a3(){return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Learning Library"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Explore Islamic knowledge through engaging resources and materials"})]}),s.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-12",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:mme.map((t,e)=>{const n=t.icon;return s.jsx(ee.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:e*.1},children:s.jsx(te,{className:"bg-gradient-to-br from-blue-500 to-purple-500 text-white hover:shadow-xl transition-all duration-300 cursor-pointer",children:s.jsxs(re,{className:"p-6 text-center",children:[s.jsx(n,{className:"w-12 h-12 mx-auto mb-3"}),s.jsx("h3",{className:"text-xl font-bold mb-1",children:t.title}),s.jsx("p",{className:"text-sm text-blue-100",children:t.count})]})})},t.title)})})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12",children:hme.map((t,e)=>{const n=t.icon;return s.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:e*.1+.3},children:s.jsx(Nt,{to:Xe(t.link),children:s.jsxs(te,{className:"h-full hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 cursor-pointer group overflow-hidden border-2 hover:border-green-300",children:[s.jsx(Oe,{className:`bg-gradient-to-br ${t.color} text-white pb-6`,children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ee.div,{whileHover:{scale:1.1,rotate:5},className:"text-6xl",children:t.emoji}),s.jsxs("div",{children:[s.jsx(Fe,{className:"text-2xl mb-2",children:t.title}),s.jsx("p",{className:"text-sm text-white/90",children:t.description})]})]})}),s.jsx(re,{className:"p-6",children:s.jsxs(G,{className:"w-full bg-white text-gray-900 hover:bg-gray-100 border-2 border-gray-200 group-hover:border-green-500 transition-all",children:[s.jsx(n,{className:"w-5 h-5 mr-2"}),"Explore Now"]})})]})})},t.id)})}),s.jsx(ee.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.7},children:s.jsx(te,{className:"border-4 border-green-400 shadow-2xl bg-gradient-to-r from-green-50 to-teal-50",children:s.jsxs(re,{className:"p-8 text-center",children:[s.jsx(un,{className:"w-16 h-16 mx-auto mb-4 text-green-600"}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-3",children:'"Seek knowledge from the cradle to the grave"'}),s.jsx("p",{className:"text-lg text-gray-700 mb-4",children:"- Prophet Muhammad "}),s.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Our learning library is designed to make Islamic education easy, fun, and engaging for young learners."})]})})})]})})}const fme=[{id:1,title:"Kaaba",url:"https://images.unsplash.com/photo-1591604129939-f1efa4d9f7fa?w=800&h=800&fit=crop",description:"Color the Holy Kaaba"},{id:2,title:"Mosque",url:"https://images.unsplash.com/photo-1564769625905-50e93615e769?w=800&h=800&fit=crop",description:"Beautiful mosque design"},{id:3,title:"Islamic Pattern",url:"https://images.unsplash.com/photo-1583578702627-7c1e0618f0c4?w=800&h=800&fit=crop",description:"Geometric Islamic art"},{id:4,title:"Crescent Moon",url:"https://images.unsplash.com/photo-1532693322450-2cb5c511067d?w=800&h=800&fit=crop",description:"Islamic symbol"},{id:5,title:"Arabic Calligraphy",url:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=800&h=800&fit=crop",description:"Beautiful Arabic writing"},{id:6,title:"Lantern",url:"https://images.unsplash.com/photo-1586991879365-a8759d239cf1?w=800&h=800&fit=crop",description:"Ramadan lantern"}],pme=({page:t,onClose:e})=>{const n=v.useRef(null),[r,i]=v.useState(!1),[a,o]=v.useState("#000000"),[c,d]=v.useState(5),[h,m]=v.useState(!1),f=["#000000","#FFFFFF","#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF","#FFA500","#800080","#FFC0CB","#8B4513","#808080","#FFD700","#40E0D0"];v.useEffect(()=>{const N=n.current;if(!N)return;const E=N.getContext("2d"),A=new Image;A.crossOrigin="anonymous",A.onload=()=>{N.width=800,N.height=800,E.fillStyle="#FFFFFF",E.fillRect(0,0,N.width,N.height),E.drawImage(A,0,0,N.width,N.height);const T=E.getImageData(0,0,N.width,N.height),D=T.data;for(let F=0;F<D.length;F+=4){const P=(D[F]+D[F+1]+D[F+2])/3;D[F]=P,D[F+1]=P,D[F+2]=P}E.putImageData(T,0,0),m(!0)},A.onerror=()=>{N.width=800,N.height=800,E.fillStyle="#FFFFFF",E.fillRect(0,0,N.width,N.height),E.strokeStyle="#000000",E.lineWidth=2,E.strokeRect(50,50,700,700),E.font="24px Arial",E.fillStyle="#000000",E.textAlign="center",E.fillText(t.title,N.width/2,N.height/2),m(!0)},A.src=t.url},[t]);const g=N=>{h&&(i(!0),_(N))},x=()=>{i(!1)},_=N=>{if(!r&&N.type!=="mousedown"&&N.type!=="touchstart"||!h)return;const E=n.current,A=E.getContext("2d"),T=E.getBoundingClientRect();let D,F;if(N.type.includes("touch")){const I=N.touches[0]||N.changedTouches[0];D=I.clientX-T.left,F=I.clientY-T.top}else D=N.clientX-T.left,F=N.clientY-T.top;const P=E.width/T.width,R=E.height/T.height;D*=P,F*=R,A.lineCap="round",A.lineJoin="round",A.strokeStyle=a,A.lineWidth=c,N.type==="mousedown"||N.type==="touchstart"?(A.beginPath(),A.moveTo(D,F)):(A.lineTo(D,F),A.stroke())},j=()=>{const N=n.current,E=N.getContext("2d"),A=new Image;A.crossOrigin="anonymous",A.onload=()=>{E.fillStyle="#FFFFFF",E.fillRect(0,0,N.width,N.height),E.drawImage(A,0,0,N.width,N.height);const T=E.getImageData(0,0,N.width,N.height),D=T.data;for(let F=0;F<D.length;F+=4){const P=(D[F]+D[F+1]+D[F+2])/3;D[F]=P,D[F+1]=P,D[F+2]=P}E.putImageData(T,0,0)},A.src=t.url},w=()=>{const N=n.current,E=document.createElement("a");E.download=`${t.title}-colored.png`,E.href=N.toDataURL(),E.click()};return s.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:e,children:s.jsxs(ee.div,{initial:{scale:.9},animate:{scale:1},onClick:N=>N.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl max-w-6xl w-full max-h-[95vh] overflow-y-auto",children:[s.jsx("div",{className:"sticky top-0 bg-white border-b p-4 z-10",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h2",{className:"text-2xl font-bold",children:["Color: ",t.title]}),s.jsx(G,{variant:"ghost",onClick:e,children:"Close"})]})}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"grid md:grid-cols-[1fr,200px] gap-6",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("canvas",{ref:n,onMouseDown:g,onMouseMove:_,onMouseUp:x,onMouseLeave:x,onTouchStart:g,onTouchMove:_,onTouchEnd:x,className:"border-4 border-gray-300 rounded-lg cursor-crosshair max-w-full touch-none",style:{width:"100%",maxWidth:"600px",height:"auto",aspectRatio:"1/1"}}),!h&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("div",{className:"text-gray-500",children:"Loading..."})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-bold mb-3 flex items-center gap-2",children:[s.jsx(Ox,{className:"w-5 h-5"}),"Colors"]}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:f.map(N=>s.jsx("button",{onClick:()=>o(N),className:`w-full h-12 rounded-lg border-4 transition-all ${a===N?"border-blue-500 scale-110":"border-gray-300"}`,style:{backgroundColor:N},title:N},N))}),s.jsx("input",{type:"color",value:a,onChange:N=>o(N.target.value),className:"w-full h-12 mt-2 rounded-lg cursor-pointer"})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-bold mb-3 flex items-center gap-2",children:[s.jsx(Iz,{className:"w-5 h-5"}),"Brush Size"]}),s.jsx("input",{type:"range",min:"1",max:"50",value:c,onChange:N=>d(parseInt(N.target.value)),className:"w-full"}),s.jsxs("p",{className:"text-center text-sm text-gray-600 mt-2",children:[c,"px"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(G,{onClick:j,variant:"outline",className:"w-full",children:[s.jsx(nr,{className:"w-4 h-4 mr-2"}),"Clear"]}),s.jsxs(G,{onClick:w,className:"w-full bg-green-600 hover:bg-green-700",children:[s.jsx(co,{className:"w-4 h-4 mr-2"}),"Download"]})]})]})]})})]})})};function o3(){const[t,e]=v.useState(null);return s.jsxs("div",{className:"min-h-screen py-12 px-4",children:[s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs(ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Islamic Coloring Pages"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Color beautiful Islamic designs online or download to print"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:fme.map((n,r)=>s.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:r*.1},children:s.jsxs(te,{className:"hover:shadow-2xl transition-all duration-300 cursor-pointer group",children:[s.jsx(Oe,{className:"p-0",children:s.jsx("div",{className:"h-64 bg-gradient-to-br from-blue-100 to-purple-100 rounded-t-xl overflow-hidden",children:s.jsx("img",{src:n.url,alt:n.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"})})}),s.jsxs(re,{className:"p-6",children:[s.jsx(Fe,{className:"text-xl mb-2",children:n.title}),s.jsx("p",{className:"text-gray-600 mb-4",children:n.description}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(G,{onClick:()=>e(n),className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-500",children:[s.jsx(Ox,{className:"w-4 h-4 mr-2"}),"Color Online"]}),s.jsx(G,{onClick:()=>{const i=document.createElement("a");i.href=n.url,i.download=`${n.title}.jpg`,i.click()},variant:"outline",children:s.jsx(co,{className:"w-4 h-4"})})]})]})]})},n.id))}),s.jsx(te,{className:"mt-12 bg-blue-50 border-blue-200",children:s.jsxs(re,{className:"p-6",children:[s.jsx("h3",{className:"font-bold text-lg mb-3",children:" How to Use"}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[s.jsxs("p",{children:["1. ",s.jsx("strong",{children:"Color Online:"}),' Click "Color Online" to use our digital coloring tool']}),s.jsxs("p",{children:["2. ",s.jsx("strong",{children:"Download:"})," Click the download icon to print and color with crayons"]}),s.jsxs("p",{children:["3. ",s.jsx("strong",{children:"Save Your Work:"}),' After coloring online, click "Download" to save your artwork']}),s.jsxs("p",{children:["4. ",s.jsx("strong",{children:"Tips:"})," Use different brush sizes for details and filling large areas"]})]})]})})]}),t&&s.jsx(pme,{page:t,onClose:()=>e(null)})]})}const gme=["#000000","#FFFFFF","#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF","#FFA500","#800080","#FFC0CB","#A52A2A","#808080","#FFD700","#4B0082"],xme=[2,5,10,15,20];function l3(){const t=v.useRef(null),[e,n]=v.useState(!1),[r,i]=v.useState("#000000"),[a,o]=v.useState(5),[c,d]=v.useState(!1);v.useEffect(()=>{const _=t.current;if(_){const j=_.getContext("2d");j.fillStyle="#FFFFFF",j.fillRect(0,0,_.width,_.height)}},[]);const h=_=>{const j=t.current,w=j.getContext("2d"),N=j.getBoundingClientRect(),E=_.clientX-N.left,A=_.clientY-N.top;w.beginPath(),w.moveTo(E,A),n(!0)},m=_=>{if(!e)return;const j=t.current,w=j.getContext("2d"),N=j.getBoundingClientRect(),E=_.clientX-N.left,A=_.clientY-N.top;w.lineTo(E,A),w.strokeStyle=c?"#FFFFFF":r,w.lineWidth=a,w.lineCap="round",w.stroke()},f=()=>{n(!1)},g=()=>{const _=t.current,j=_.getContext("2d");j.fillStyle="#FFFFFF",j.fillRect(0,0,_.width,_.height)},x=()=>{const j=t.current.toDataURL("image/png"),w=document.createElement("a");w.download="islamic-art.png",w.href=j,w.click()};return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs(ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Islamic Art Drawing Board"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Create beautiful Islamic art and calligraphy!"})]}),s.jsxs("div",{className:"grid lg:grid-cols-4 gap-6",children:[s.jsxs(te,{className:"lg:col-span-1",children:[s.jsx(Oe,{children:s.jsx(Fe,{className:"text-lg",children:"Tools"})}),s.jsxs(re,{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-3",children:"Colors"}),s.jsx("div",{className:"grid grid-cols-5 gap-2",children:gme.map(_=>s.jsx("button",{onClick:()=>{i(_),d(!1)},className:`w-10 h-10 rounded-lg border-2 transition-all ${r===_&&!c?"border-blue-500 scale-110":"border-gray-300"}`,style:{backgroundColor:_}},_))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-3",children:"Brush Size"}),s.jsx("div",{className:"flex gap-2",children:xme.map(_=>s.jsx("button",{onClick:()=>o(_),className:`px-3 py-2 rounded-lg border-2 transition-all ${a===_?"border-blue-500 bg-blue-50":"border-gray-300"}`,children:_},_))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(G,{onClick:()=>d(!c),variant:c?"default":"outline",className:"w-full",children:[s.jsx(K9,{className:"w-4 h-4 mr-2"}),"Eraser"]}),s.jsxs(G,{onClick:g,variant:"outline",className:"w-full",children:[s.jsx(nr,{className:"w-4 h-4 mr-2"}),"Clear All"]}),s.jsxs(G,{onClick:x,className:"w-full bg-green-600 hover:bg-green-700",children:[s.jsx(co,{className:"w-4 h-4 mr-2"}),"Save Art"]})]})]})]}),s.jsxs("div",{className:"lg:col-span-3",children:[s.jsx(te,{children:s.jsx(re,{className:"p-6",children:s.jsx("canvas",{ref:t,width:800,height:600,onMouseDown:h,onMouseMove:m,onMouseUp:f,onMouseLeave:f,className:"border-2 border-gray-300 rounded-lg cursor-crosshair w-full",style:{maxWidth:"100%",height:"auto"}})})}),s.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"mt-6",children:s.jsx(te,{className:"border-2 border-purple-200 bg-purple-50",children:s.jsxs(re,{className:"p-4",children:[s.jsxs("h3",{className:"font-bold text-purple-900 mb-2 flex items-center gap-2",children:[s.jsx(Qs,{className:"w-5 h-5"}),"Drawing Tips"]}),s.jsxs("ul",{className:"text-sm text-purple-800 space-y-1",children:[s.jsx("li",{children:" Try drawing Islamic geometric patterns"}),s.jsx("li",{children:" Practice Arabic calligraphy"}),s.jsx("li",{children:" Draw your favorite mosque"}),s.jsx("li",{children:" Save and share your artwork!"})]})]})})})]})]})]})})}function c3(){const[t,e]=v.useState({title:"",content:"",type:"poem"}),[n,r]=v.useState(!1),[i,a]=v.useState(!1),[o,c]=v.useState(null);v.useEffect(()=>{d()},[]);const d=async()=>{try{if(await base44.auth.isAuthenticated()){const f=await base44.auth.me();c(f)}else c(null)}catch{c(null)}},h=async m=>{if(m.preventDefault(),!o){alert("Please log in to submit your work!");return}r(!0);try{await base44.entities.Poetry.create({user_id:o.id,user_name:o.full_name||"Anonymous",title:t.title,content:t.content,type:t.type,status:"pending"}),await base44.integrations.Core.SendEmail({from_name:"Islam Kids Zone",to:"huzaify786@gmail.com",subject:` New ${t.type==="poem"?"Poem":"Nasheed"} Submission`,body:`
          <div style="font-family: Arial, sans-serif; padding: 20px;">
            <h2>New ${t.type==="poem"?"Poem":"Nasheed"} Submission</h2>
            <p><strong>Student:</strong> ${o.full_name||"Anonymous"}</p>
            <p><strong>Title:</strong> ${t.title}</p>
            <hr/>
            <pre style="background: #f5f5f5; padding: 15px; border-radius: 5px;">${t.content}</pre>
          </div>
        `}),a(!0),setTimeout(()=>{a(!1),e({title:"",content:"",type:"poem"})},5e3)}catch(f){console.error("Error submitting:",f),alert("Error submitting. Please try again.")}finally{r(!1)}};return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs(ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Write Islamic Poetry & Nasheeds"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Express your love for Islam through beautiful words!"})]}),i?s.jsx(ee.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},children:s.jsx(te,{className:"border-4 border-green-400 shadow-2xl",children:s.jsxs(re,{className:"p-12 text-center",children:[s.jsx(jc,{className:"w-24 h-24 text-green-500 mx-auto mb-6"}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Masha'Allah! "}),s.jsxs("p",{className:"text-xl text-gray-600",children:["Your ",t.type," has been submitted successfully!"]})]})})}):s.jsxs(te,{className:"shadow-2xl",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white",children:s.jsxs(Fe,{className:"text-2xl flex items-center gap-2",children:[s.jsx($1,{className:"w-6 h-6"}),"Submit Your Work"]})}),s.jsxs(re,{className:"p-8",children:[s.jsxs("form",{onSubmit:h,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(ye,{className:"text-gray-700 font-semibold mb-3 block",children:"What are you writing?"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("button",{type:"button",onClick:()=>e({...t,type:"poem"}),className:`flex-1 p-4 rounded-xl border-2 transition-all ${t.type==="poem"?"border-purple-500 bg-purple-50":"border-gray-300"}`,children:[s.jsx("div",{className:"text-3xl mb-2",children:""}),s.jsx("div",{className:"font-bold",children:"Islamic Poem"})]}),s.jsxs("button",{type:"button",onClick:()=>e({...t,type:"nasheed"}),className:`flex-1 p-4 rounded-xl border-2 transition-all ${t.type==="nasheed"?"border-purple-500 bg-purple-50":"border-gray-300"}`,children:[s.jsx("div",{className:"text-3xl mb-2",children:""}),s.jsx("div",{className:"font-bold",children:"Nasheed"})]})]})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"title",className:"text-gray-700 font-semibold",children:"Title *"}),s.jsx(Te,{id:"title",value:t.title,onChange:m=>e({...t,title:m.target.value}),placeholder:"Give your work a beautiful title...",required:!0,className:"mt-2"})]}),s.jsxs("div",{children:[s.jsxs(ye,{htmlFor:"content",className:"text-gray-700 font-semibold",children:["Your ",t.type==="poem"?"Poem":"Nasheed"," *"]}),s.jsx(Rn,{id:"content",value:t.content,onChange:m=>e({...t,content:m.target.value}),placeholder:"Write your beautiful words here...",required:!0,rows:12,className:"mt-2 font-mono"})]}),s.jsx(G,{type:"submit",disabled:n,className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-xl py-6",children:n?"Submitting...":s.jsxs(s.Fragment,{children:[s.jsx(Bg,{className:"w-5 h-5 mr-2"}),"Submit for Review"]})})]}),s.jsxs("div",{className:"mt-6 bg-purple-50 rounded-xl p-4 border-2 border-purple-200",children:[s.jsxs("h3",{className:"font-bold text-purple-900 mb-2 flex items-center gap-2",children:[s.jsx(Qs,{className:"w-5 h-5"}),"Writing Tips"]}),s.jsxs("ul",{className:"text-sm text-purple-800 space-y-1",children:[s.jsx("li",{children:" Start with Bismillah"}),s.jsx("li",{children:" Write from your heart about Islam"}),s.jsx("li",{children:" Check spelling and grammar"}),s.jsx("li",{children:" Be creative and original!"})]})]})]})]})]})})}const yme=[{id:"story",title:"Best Story",emoji:"",prize:"Islamic Story Book Set",color:"from-blue-500 to-cyan-500"},{id:"drawing",title:"Best Drawing",emoji:"",prize:"Art Supplies Kit",color:"from-pink-500 to-rose-500"},{id:"recitation",title:"Best Recitation",emoji:"",prize:"Special Islamic Gift",color:"from-green-500 to-teal-500"},{id:"poem",title:"Best Poem/Nasheed",emoji:"",prize:"Featured on Website + Prize",color:"from-purple-500 to-violet-500"}];function u3(){return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs(ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx(ee.div,{animate:{rotate:[0,10,-10,0],scale:[1,1.2,1]},transition:{repeat:1/0,duration:3},className:"text-8xl mb-6",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Monthly Creative Contest"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Showcase your talents and win amazing prizes every month!"})]}),s.jsx(ee.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-12",children:s.jsx(te,{className:"border-4 border-amber-400 shadow-2xl bg-gradient-to-r from-amber-50 to-orange-50",children:s.jsxs(re,{className:"p-8 text-center",children:[s.jsx(Dx,{className:"w-16 h-16 mx-auto mb-4 text-amber-600"}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"December 2024 Contest"}),s.jsx("p",{className:"text-lg text-gray-700 mb-4",children:"Submit your entries before December 31st!"}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[s.jsxs("div",{className:"bg-white px-6 py-3 rounded-full shadow-lg",children:[s.jsx("span",{className:"font-bold text-amber-600",children:"Total Prizes:"})," 4 Winners"]}),s.jsxs("div",{className:"bg-white px-6 py-3 rounded-full shadow-lg",children:[s.jsx("span",{className:"font-bold text-amber-600",children:"Deadline:"})," Dec 31"]})]})]})})}),s.jsx("div",{className:"grid md:grid-cols-2 gap-6 mb-12",children:yme.map((t,e)=>s.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:e*.1},children:s.jsxs(te,{className:"h-full hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 border-2",children:[s.jsx(Oe,{className:`bg-gradient-to-br ${t.color} text-white`,children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"text-6xl",children:t.emoji}),s.jsxs("div",{children:[s.jsx(Fe,{className:"text-2xl mb-2",children:t.title}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(WI,{className:"w-4 h-4"}),s.jsxs("span",{children:["Prize: ",t.prize]})]})]})]})}),s.jsx(re,{className:"p-6",children:s.jsx(Nt,{to:Xe(t.id==="story"?"Stories":t.id==="drawing"?"DrawingBoard":t.id==="recitation"?"RecordAndShare":"PoetryWriting"),children:s.jsx(G,{className:"w-full bg-gray-900 hover:bg-gray-800",children:"Submit Entry"})})})]})},t.id))}),s.jsxs(te,{className:"shadow-2xl border-2 border-blue-300",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:s.jsxs(Fe,{className:"text-2xl flex items-center gap-2",children:[s.jsx(Vt,{className:"w-6 h-6"}),"Contest Rules & Guidelines"]})}),s.jsx(re,{className:"p-8",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg mb-4 text-blue-900",children:"How to Participate"}),s.jsxs("ul",{className:"space-y-2 text-gray-700",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-xl",children:""}),s.jsx("span",{children:"Create your best Islamic artwork, story, poem, or recitation"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-xl",children:""}),s.jsx("span",{children:"Submit before the monthly deadline"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-xl",children:""}),s.jsx("span",{children:"Winners announced at the start of each month"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-xl",children:""}),s.jsx("span",{children:"Prizes shipped to winners worldwide!"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg mb-4 text-purple-900",children:"Judging Criteria"}),s.jsxs("ul",{className:"space-y-2 text-gray-700",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-xl",children:""}),s.jsx("span",{children:"Originality and creativity"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-xl",children:""}),s.jsx("span",{children:"Islamic values and messages"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-xl",children:""}),s.jsx("span",{children:"Effort and presentation"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-xl",children:""}),s.jsx("span",{children:"Age-appropriate content"})]})]})]})]})})]}),s.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-12",children:s.jsx(te,{className:"bg-gradient-to-r from-green-50 to-teal-50 border-2 border-green-300",children:s.jsxs(re,{className:"p-8 text-center",children:[s.jsx(wc,{className:"w-16 h-16 mx-auto mb-4 text-green-600"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Join Our Hall of Fame!"}),s.jsx("p",{className:"text-gray-700 max-w-2xl mx-auto",children:"All winners get featured on our website and receive special badges on their profiles. Start creating today and join the ranks of talented young Muslim artists!"})]})})})]})})}const vme=[{id:"prophets",title:"25 Prophets",emoji:"",color:"from-blue-500 to-cyan-500",description:"Learn about all 25 prophets mentioned in the Quran"},{id:"angels",title:"Angels in Islam",emoji:"",color:"from-purple-500 to-pink-500",description:"Discover the angels and their important roles"},{id:"months",title:"Islamic Months",emoji:"",color:"from-green-500 to-teal-500",description:"Understand the 12 Islamic calendar months"},{id:"pillars",title:"5 Pillars of Islam",emoji:"",color:"from-amber-500 to-orange-500",description:"The foundation of Islamic practice"}],bme=["Adam","Idris","Nuh (Noah)","Hud","Saleh","Ibrahim (Abraham)","Lut (Lot)","Ismail (Ishmael)","Ishaq (Isaac)","Yaqub (Jacob)","Yusuf (Joseph)","Ayyub (Job)","Shuaib","Musa (Moses)","Harun (Aaron)","Dhul-Kifl","Dawud (David)","Sulaiman (Solomon)","Ilyas (Elijah)","Al-Yasa (Elisha)","Yunus (Jonah)","Zakariya (Zechariah)","Yahya (John)","Isa (Jesus)","Muhammad "];function d3(){const[t,e]=v.useState(null);return t==="prophets"?s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx(G,{onClick:()=>e(null),variant:"outline",className:"mb-6",children:" Back to Encyclopedia"}),s.jsxs(te,{className:"shadow-2xl",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-blue-500 to-cyan-500 text-white",children:s.jsxs(Fe,{className:"text-3xl flex items-center gap-3",children:[s.jsx(_l,{className:"w-8 h-8"}),"The 25 Prophets in the Quran"]})}),s.jsx(re,{className:"p-8",children:s.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:bme.map((n,r)=>s.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:r*.05},children:s.jsx(te,{className:"hover:shadow-lg transition-all hover:-translate-y-1 cursor-pointer",children:s.jsx(re,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-bold",children:r+1}),s.jsx("span",{className:"font-semibold text-gray-900",children:n})]})})})},n))})})]})]})}):s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Mini Islamic Encyclopedia"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Learn about prophets, angels, Islamic months, and more!"})]}),s.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:vme.map((n,r)=>s.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:r*.1},children:s.jsxs(te,{onClick:()=>e(n.id),className:"h-full hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 cursor-pointer group",children:[s.jsx(Oe,{className:`bg-gradient-to-br ${n.color} text-white pb-6`,children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"text-6xl",children:n.emoji}),s.jsxs("div",{children:[s.jsx(Fe,{className:"text-2xl mb-2",children:n.title}),s.jsx("p",{className:"text-sm text-white/90",children:n.description})]})]})}),s.jsx(re,{className:"p-6",children:s.jsxs(G,{className:"w-full bg-gray-900 hover:bg-gray-800 group-hover:scale-105 transition-transform",children:[s.jsx(un,{className:"w-5 h-5 mr-2"}),"Explore Now"]})})]})},n.id))})]})})}const iI=[{id:1,surah:"Al-Fatiha",number:1,verses:7,duration:"8:30",mp3Url:"https://server8.mp3quran.net/afs/001.mp3",description:"The Opening - Learn the meaning of the most recited surah"},{id:2,surah:"Al-Ikhlas",number:112,verses:4,duration:"2:15",mp3Url:"https://server8.mp3quran.net/afs/112.mp3",description:"Sincerity - Understanding Allah's oneness"},{id:3,surah:"Al-Falaq",number:113,verses:5,duration:"1:50",mp3Url:"https://server8.mp3quran.net/afs/113.mp3",description:"The Daybreak - Seeking protection from evil"},{id:4,surah:"An-Nas",number:114,verses:6,duration:"1:40",mp3Url:"https://server8.mp3quran.net/afs/114.mp3",description:"Mankind - Protection from whispers"},{id:5,surah:"Al-Asr",number:103,verses:3,duration:"1:20",mp3Url:"https://server8.mp3quran.net/afs/103.mp3",description:"Time - The importance of faith and good deeds"},{id:6,surah:"Al-Kawthar",number:108,verses:3,duration:"1:15",mp3Url:"https://server8.mp3quran.net/afs/108.mp3",description:"Abundance - Allah's gift to the Prophet "}];function h3(){const[t,e]=v.useState(null),[n,r]=v.useState(.7),[i,a]=v.useState(!1),o=v.useRef({}),c=m=>{const f=o.current[m];if(Object.keys(o.current).forEach(g=>{g!==m.toString()&&o.current[g]&&o.current[g].pause()}),t===m)f.pause(),e(null);else{if(!f.src){const g=iI.find(x=>x.id===m);f.src=g.mp3Url}f.volume=i?0:n,f.play(),e(m)}f.onended=()=>{e(null)}},d=m=>{const f=parseFloat(m.target.value);r(f),a(f===0),Object.values(o.current).forEach(g=>{g&&(g.volume=f)})},h=()=>{const m=!i;a(m),Object.values(o.current).forEach(f=>{f&&(f.volume=m?0:n)})};return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs(ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Audio Tafsir for Kids"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Listen to recitations of short surahs"})]}),s.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},className:"mb-8 max-w-xs mx-auto",children:s.jsx(te,{className:"bg-gradient-to-r from-blue-50 to-purple-50",children:s.jsx(re,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:h,className:"text-blue-600 hover:text-blue-700",children:i||n===0?s.jsx(Em,{className:"w-6 h-6"}):s.jsx(ll,{className:"w-6 h-6"})}),s.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:i?0:n,onChange:d,className:"flex-1 h-2 bg-blue-200 rounded-lg appearance-none cursor-pointer"}),s.jsxs("span",{className:"text-sm text-gray-600 w-12 text-right",children:[Math.round((i?0:n)*100),"%"]})]})})})}),s.jsx("div",{className:"grid gap-6",children:iI.map((m,f)=>s.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:f*.1},children:s.jsx(te,{className:"hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:s.jsxs(re,{className:"p-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-4 md:gap-6",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-20 h-20 rounded-2xl bg-gradient-to-br from-green-500 to-teal-500 flex items-center justify-center text-white font-bold text-2xl",children:m.number})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-1",children:["Surah ",m.surah]}),s.jsx("p",{className:"text-gray-600 mb-2",children:m.description}),s.jsxs("div",{className:"flex gap-4 text-sm text-gray-500",children:[s.jsxs("span",{children:[" ",m.verses," verses"]}),s.jsxs("span",{children:[" ",m.duration]})]})]}),s.jsx(G,{onClick:()=>c(m.id),className:`${t===m.id?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"}`,children:t===m.id?s.jsxs(s.Fragment,{children:[s.jsx(Nl,{className:"w-5 h-5 mr-2"}),"Pause"]}):s.jsxs(s.Fragment,{children:[s.jsx(cr,{className:"w-5 h-5 mr-2"}),"Listen"]})})]}),s.jsx("audio",{ref:g=>o.current[m.id]=g,preload:"none"})]})})},m.id))}),s.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-12",children:s.jsx(te,{className:"bg-gradient-to-r from-blue-50 to-purple-50 border-2 border-blue-300",children:s.jsxs(re,{className:"p-8 text-center",children:[s.jsx(Qa,{className:"w-16 h-16 mx-auto mb-4 text-blue-600"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"More Tafsir Lessons Coming Soon!"}),s.jsx("p",{className:"text-gray-700",children:"We're working on adding more surahs with simple, kid-friendly explanations."})]})})})]})})}const wme=[{id:1,fact:"The Quran has 114 chapters (surahs) and over 6,000 verses!",emoji:"",category:"Quran"},{id:2,fact:"Muslims pray 5 times a day facing the Ka'bah in Mecca.",emoji:"",category:"Prayer"},{id:3,fact:"The month of Ramadan is when Muslims fast from sunrise to sunset.",emoji:"",category:"Ramadan"},{id:4,fact:"There are 25 prophets mentioned by name in the Quran.",emoji:"",category:"Prophets"},{id:5,fact:"Angel Jibreel (Gabriel) brought the Quran's revelations to Prophet Muhammad .",emoji:"",category:"Angels"},{id:6,fact:"Muslims greet each other with 'Assalamu Alaikum' which means 'Peace be upon you'.",emoji:"",category:"Manners"},{id:7,fact:"The Ka'bah was built by Prophet Ibrahim and his son Ismail (peace be upon them).",emoji:"",category:"History"},{id:8,fact:"Giving charity (Zakat) is one of the 5 pillars of Islam.",emoji:"",category:"Pillars"},{id:9,fact:"The Islamic calendar is based on the moon and has 12 months.",emoji:"",category:"Calendar"},{id:10,fact:"Prophet Muhammad  was known as 'Al-Amin' (The Trustworthy) even before prophethood.",emoji:"",category:"Seerah"}];function m3(){return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs(ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Did You Know?"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Fun and amazing Islamic facts for curious minds!"})]}),s.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:wme.map((t,e)=>s.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:e*.1},children:s.jsx(te,{className:"h-full hover:shadow-xl transition-all duration-300 hover:-translate-y-1 border-2 border-amber-200 bg-gradient-to-br from-amber-50 to-orange-50",children:s.jsx(re,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"text-5xl flex-shrink-0",children:t.emoji}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"mb-2",children:s.jsx("span",{className:"text-xs bg-amber-200 text-amber-800 px-3 py-1 rounded-full font-semibold",children:t.category})}),s.jsx("p",{className:"text-lg text-gray-800 leading-relaxed",children:t.fact})]})]})})})},t.id))}),s.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-12",children:s.jsx(te,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white border-4 border-purple-300 shadow-2xl",children:s.jsxs(re,{className:"p-8 text-center",children:[s.jsx(Vt,{className:"w-16 h-16 mx-auto mb-4"}),s.jsx("h3",{className:"text-2xl font-bold mb-3",children:"Keep Learning Every Day!"}),s.jsx("p",{className:"text-lg",children:"Come back regularly to discover more amazing Islamic facts! "})]})})})]})})}const jme=[{id:"quran_tracing_1",title:"Surah Al-Fatiha Tracing",category:"Quran Tracing",description:"Trace and learn Surah Al-Fatiha in Arabic",level:"Beginner",pages:3,fileUrl:"https://www.islamicfinder.org/islamic-content/",color:"from-green-500 to-teal-500",icon:""},{id:"arabic_alphabet",title:"Arabic Alphabet Workbook",category:"Arabic Learning",description:"Learn all 28 Arabic letters with tracing",level:"Beginner",pages:28,fileUrl:"https://www.arabicworksheets.com/",color:"from-blue-500 to-indigo-500",icon:""},{id:"99_names_coloring",title:"99 Names of Allah Coloring",category:"Coloring",description:"Color and memorize Allah's beautiful names",level:"All Ages",pages:10,fileUrl:"https://www.islamiccoloring.com/",color:"from-purple-500 to-pink-500",icon:""},{id:"prophet_stories",title:"Stories of Prophets Activity Book",category:"Seerah",description:"Activities and worksheets about Prophet stories",level:"Ages 7-12",pages:15,fileUrl:"https://www.islamicworksheets.net/",color:"from-amber-500 to-orange-500",icon:""},{id:"salah_guide",title:"How to Pray - Step by Step",category:"Fiqh",description:"Visual guide with pictures for each step of prayer",level:"All Ages",pages:8,fileUrl:"https://www.islamicposter.com/salah-guide",color:"from-rose-500 to-pink-500",icon:""},{id:"wudu_worksheet",title:"Wudu Step-by-Step Worksheet",category:"Fiqh",description:"Learn the steps of ablution with pictures",level:"Ages 5-10",pages:4,fileUrl:"https://www.muslimkidsactivities.com/",color:"from-cyan-500 to-blue-500",icon:""},{id:"dua_coloring",title:"Daily Duas Coloring Book",category:"Duas",description:"Beautiful duas with coloring illustrations",level:"Ages 5-10",pages:12,fileUrl:"https://www.islamickidsactivities.com/",color:"from-pink-500 to-purple-500",icon:""},{id:"hadith_matching",title:"Hadith Matching Game",category:"Hadith",description:"Match hadiths with their meanings",level:"Ages 8-12",pages:6,fileUrl:"https://www.hadithforkids.com/",color:"from-indigo-500 to-purple-500",icon:""},{id:"ramadan_activities",title:"Ramadan Activity Pack",category:"Special Occasions",description:"Fun activities for the blessed month",level:"All Ages",pages:20,fileUrl:"https://www.ramadanworksheets.com/",color:"from-amber-400 to-yellow-500",icon:""},{id:"hijri_calendar",title:"Islamic Months Learning Sheet",category:"General Knowledge",description:"Learn the names of Islamic months",level:"Ages 7-12",pages:4,fileUrl:"https://www.islamicmonths.com/",color:"from-gray-500 to-gray-700",icon:""},{id:"arabic_numbers",title:"Arabic Numbers Worksheet",category:"Arabic Learning",description:"Learn to write numbers 1-20 in Arabic",level:"Beginner",pages:5,fileUrl:"https://www.arabicnumbers.com/",color:"from-blue-400 to-cyan-500",icon:""},{id:"pillars_of_islam",title:"5 Pillars of Islam Worksheet",category:"Islamic Knowledge",description:"Learn about the 5 pillars with activities",level:"Ages 7-12",pages:8,fileUrl:"https://www.islamicpillars.com/",color:"from-green-400 to-emerald-500",icon:""}];function f3(){const[t,e]=v.useState(null),n=async i=>{e(i.id),await new Promise(a=>setTimeout(a,1e3)),mt.success(`Downloaded: ${i.title}`),mt.info("Note: This is a demo. Connect to actual worksheet files for production."),window.open(i.fileUrl,"_blank"),e(null)},r=i=>{mt.info(`Opening ${i.title} for printing...`),window.open(i.fileUrl,"_blank")};return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Printable Islamic Worksheets"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Download and print Islamic worksheets for your children!"})]}),s.jsx(ee.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-12",children:s.jsx(te,{className:"border-4 border-blue-200 bg-gradient-to-r from-blue-50 to-purple-50",children:s.jsxs(re,{className:"p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-blue-900 mb-3",children:"For Parents & Teachers"}),s.jsxs("ul",{className:"space-y-2 text-blue-800",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"All worksheets are designed for kids ages 5-12"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"Perfect for homeschooling, Islamic schools, or weekend classes"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"Free to download and print!"})]})]})]})})}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12",children:jme.map((i,a)=>s.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:a*.1},children:s.jsxs(te,{className:"h-full hover:shadow-xl transition-all duration-300 border-2 border-gray-100",children:[s.jsx(Oe,{className:`bg-gradient-to-br ${i.color} text-white`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"text-5xl",children:i.icon}),s.jsx(Fe,{className:"text-xl",children:i.title})]})}),s.jsxs(re,{className:"p-6",children:[s.jsx("p",{className:"text-gray-600 mb-2",children:i.description}),s.jsxs("div",{className:"flex items-center gap-2 mb-4 text-sm text-gray-500",children:[s.jsx(un,{className:"w-4 h-4"}),s.jsxs("span",{children:[i.pages," pages  ",i.level]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(G,{onClick:()=>n(i),disabled:t===i.id,className:"flex-1 bg-blue-600 hover:bg-blue-700",size:"sm",children:t===i.id?s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Downloading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(co,{className:"w-4 h-4 mr-2"}),"Download"]})}),s.jsx(G,{onClick:()=>r(i),variant:"outline",size:"sm",children:s.jsx(GI,{className:"w-4 h-4"})})]})]})]})},i.id))}),s.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:s.jsx(te,{className:"border-4 border-amber-300 bg-gradient-to-r from-amber-50 to-yellow-50",children:s.jsxs(re,{className:"p-8 text-center",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"More Worksheets Coming Soon!"}),s.jsx("p",{className:"text-lg text-gray-700 mb-6 max-w-2xl mx-auto",children:"We're constantly adding new Islamic worksheets and activities. Check back regularly for updates!"})]})})})]})})}function k_({title:t,mp3Url:e,coverImage:n,onPlayComplete:r,allowDownload:i=!0,autoplay:a=!1}){const[o,c]=v.useState(!1),[d,h]=v.useState(0),[m,f]=v.useState(0),[g,x]=v.useState(1),[_,j]=v.useState(null),[w,N]=v.useState(null);v.useEffect(()=>{if(!e){j("No audio URL provided");return}const T=new Audio(e);return N(T),T.addEventListener("loadedmetadata",()=>{f(T.duration)}),T.addEventListener("timeupdate",()=>{h(T.currentTime)}),T.addEventListener("ended",()=>{c(!1),r&&r()}),a&&(T.play(),c(!0)),()=>{T.pause(),T.src=""}},[e,a,r]);const E=()=>{w&&(o?w.pause():w.play(),c(!o))},A=()=>{if(e){const T=document.createElement("a");T.href=e,T.download=t||"audio",T.click()}};return _?s.jsxs("div",{className:"text-red-500",children:["Error: ",_]}):s.jsx(te,{className:"p-6",children:s.jsxs(ee.div,{initial:{opacity:0},animate:{opacity:1},children:[n&&s.jsx("img",{src:n,alt:t,className:"w-full h-48 object-cover rounded-lg mb-4"}),s.jsx("h3",{className:"text-xl font-bold mb-4",children:t}),s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsxs(G,{onClick:E,className:"flex-1",children:[o?s.jsx(Nl,{className:"w-4 h-4 mr-2"}):s.jsx(cr,{className:"w-4 h-4 mr-2"}),o?"Pause":"Play"]}),i&&s.jsx(G,{onClick:A,variant:"outline",children:s.jsx(co,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[g>0?s.jsx(ll,{className:"w-4 h-4"}):s.jsx(Em,{className:"w-4 h-4"}),s.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:g,onChange:T=>{const D=parseFloat(T.target.value);x(D),w&&(w.volume=D)},className:"flex-1"})]}),s.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[Math.floor(d/60),":",String(Math.floor(d%60)).padStart(2,"0")," /",Math.floor(m/60),":",String(Math.floor(m%60)).padStart(2,"0")]})]})})}k_.propTypes={title:Tt.string.isRequired,mp3Url:Tt.string,coverImage:Tt.string,onPlayComplete:Tt.func,allowDownload:Tt.bool,autoplay:Tt.bool};function p3(){const[t,e]=v.useState(""),[n,r]=v.useState("all"),[i,a]=v.useState("all"),[o,c]=v.useState(null),[d,h]=v.useState(null),{data:m=[],isLoading:f}=vn({queryKey:["audioContent"],queryFn:()=>Je.entities.AudioContent.list("-created_date"),initialData:[]}),{data:g=[]}=vn({queryKey:["featuredAudio"],queryFn:async()=>(await Je.entities.AudioContent.list("-plays_count",5)).filter(E=>E.featured),initialData:[]}),x=m.filter(N=>{var D,F;const E=N.title.toLowerCase().includes(t.toLowerCase())||((D=N.description)==null?void 0:D.toLowerCase().includes(t.toLowerCase()))||((F=N.tags)==null?void 0:F.some(P=>P.toLowerCase().includes(t.toLowerCase()))),A=n==="all"||N.category===n,T=i==="all"||N.age_group===i;return E&&A&&T}),_=async N=>{c(N),h(N.id);try{await Je.entities.AudioContent.update(N.id,{plays_count:(N.plays_count||0)+1})}catch(E){console.error("Error updating play count:",E)}},j=[{value:"all",label:"All Ages"},{value:"3-6",label:"Ages 3-6"},{value:"7-10",label:"Ages 7-10"},{value:"11+",label:"Ages 11+"}],w=[{value:"all",label:"All Categories"},{value:"story",label:"Stories"},{value:"hadith",label:"Hadith"},{value:"history",label:"History"},{value:"nasheed",label:"Nasheeds"},{value:"tajweed",label:"Tajweed"},{value:"fiqh",label:"Fiqh"},{value:"quran",label:"Quran"}];return s.jsx("div",{className:"min-h-screen py-8 md:py-12 px-2 md:px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8 md:mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-gray-900 mb-4",children:"Islamic Audio Library"}),s.jsx("p",{className:"text-base md:text-lg text-gray-600 max-w-2xl mx-auto",children:"Listen to stories, lessons, and nasheeds that teach Islamic values"})]}),g.length>0&&s.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(Vt,{className:"w-6 h-6 text-amber-500"}),"Featured Content"]}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:g.slice(0,3).map((N,E)=>s.jsx(ee.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:E*.1},children:s.jsxs(te,{className:"overflow-hidden hover:shadow-xl transition-shadow border-2 border-amber-200",children:[N.cover_image&&s.jsx("div",{className:"h-40 overflow-hidden",children:s.jsx("img",{src:N.cover_image,alt:N.title,className:"w-full h-full object-cover"})}),s.jsxs(re,{className:"p-4",children:[s.jsx("h3",{className:"font-bold text-lg mb-2 line-clamp-1",children:N.title}),s.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:N.description}),s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsx(we,{className:"text-xs",children:N.duration}),s.jsx(we,{variant:"outline",className:"text-xs",children:N.age_group})]}),s.jsx(G,{onClick:()=>_(N),size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:s.jsx(cr,{className:"w-4 h-4"})})]})]})]})},N.id))})]}),s.jsx(te,{className:"mb-8 shadow-lg",children:s.jsx(re,{className:"p-4 md:p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Ja,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx(Te,{placeholder:"Search by title, theme, or tags...",value:t,onChange:N=>e(N.target.value),className:"pl-10"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(en,{value:n,onValueChange:r,children:[s.jsx(Kt,{className:"w-full md:w-[180px]",children:s.jsx(tn,{placeholder:"Category"})}),s.jsx(Gt,{children:w.map(N=>s.jsx(Re,{value:N.value,children:N.label},N.value))})]}),s.jsxs(en,{value:i,onValueChange:a,children:[s.jsx(Kt,{className:"w-full md:w-[150px]",children:s.jsx(tn,{placeholder:"Age Group"})}),s.jsx(Gt,{children:j.map(N=>s.jsx(Re,{value:N.value,children:N.label},N.value))})]})]})]})})}),o&&s.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[s.jsx("h3",{className:"text-xl font-bold mb-4",children:"Now Playing"}),s.jsx(k_,{title:o.title,mp3Url:o.mp3_url,youtubeId:o.youtube_id,coverImage:o.cover_image,allowDownload:o.allow_download,onPlayComplete:()=>console.log("Audio completed")}),s.jsx(te,{className:"mt-4 p-4",children:s.jsxs("div",{className:"space-y-4",children:[o.description&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"About"}),s.jsx("p",{className:"text-gray-700",children:o.description})]}),o.moral_lesson&&s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border-l-4 border-blue-500",children:[s.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Moral Lesson"}),s.jsx("p",{className:"text-blue-800",children:o.moral_lesson})]}),o.transcript&&s.jsxs("details",{className:"cursor-pointer",children:[s.jsxs("summary",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[s.jsx(un,{className:"w-4 h-4"}),"Read Transcript"]}),s.jsx("div",{className:"mt-2 p-4 bg-gray-50 rounded-lg whitespace-pre-wrap text-sm text-gray-700",children:o.transcript})]}),o.license_source&&s.jsx("div",{className:"text-xs text-gray-500",children:s.jsxs("p",{children:["Source: ",o.license_source]})})]})})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-2xl font-bold mb-6",children:["All Audio Content (",x.length,")"]}),f?s.jsx("div",{className:"text-center py-12 text-gray-500",children:"Loading audio content..."}):x.length===0?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"No audio content found. Try adjusting your filters."})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map((N,E)=>s.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:E*.05},children:s.jsxs(te,{className:`hover:shadow-xl transition-all ${d===N.id?"border-2 border-blue-500":""}`,children:[N.cover_image&&s.jsx("div",{className:"h-48 overflow-hidden",children:s.jsx("img",{src:N.cover_image,alt:N.title,className:"w-full h-full object-cover"})}),s.jsxs(re,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[s.jsx("h3",{className:"font-bold text-lg line-clamp-2 flex-1",children:N.title}),N.status==="broken"&&s.jsx(we,{variant:"destructive",className:"text-xs",children:"Unavailable"})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-3",children:N.description}),s.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[N.duration&&s.jsx(we,{variant:"outline",className:"text-xs",children:N.duration}),N.age_group&&s.jsx(we,{variant:"outline",className:"text-xs",children:N.age_group}),N.category&&s.jsx(we,{className:"text-xs capitalize",children:N.category})]}),N.tags&&N.tags.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:N.tags.slice(0,3).map((A,T)=>s.jsxs("span",{className:"text-xs text-blue-600",children:["#",A]},T))}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(G,{onClick:()=>_(N),className:"flex-1 bg-blue-600 hover:bg-blue-700",disabled:N.status==="broken"&&!N.youtube_id,children:[s.jsx(cr,{className:"w-4 h-4 mr-2"}),d===N.id?"Playing":"Listen"]}),N.allow_download&&N.mp3_url&&s.jsx(G,{variant:"outline",size:"icon",onClick:()=>window.open(N.mp3_url,"_blank"),children:s.jsx(co,{className:"w-4 h-4"})})]})]})]})},N.id))})]})]})})}const Rb=[{value:"1",name:"Sahih Bukhari",color:"from-green-600 to-emerald-600"},{value:"2",name:"Sahih Muslim",color:"from-blue-600 to-cyan-600"},{value:"3",name:"Sunan Abu Dawud",color:"from-orange-600 to-amber-600"},{value:"4",name:"Jami' at-Tirmidhi",color:"from-purple-600 to-pink-600"},{value:"5",name:"Sunan an-Nasa'i",color:"from-red-600 to-rose-600"},{value:"6",name:"Sunan Ibn Majah",color:"from-indigo-600 to-purple-600"},{value:"7",name:"Muwatta Malik",color:"from-teal-600 to-cyan-600"},{value:"8",name:"Musnad Ahmad",color:"from-amber-600 to-orange-600"}],Pb=[{id:1,arabic:"       ",english:"Actions are judged by intentions, and every person will get the reward according to what he intended.",reference:"Sahih Bukhari & Muslim",narrator:"Umar ibn Al-Khattab (RA)",kidsAdvice:"Always do good things because you want to make Allah happy, not to show off to others!"},{id:2,arabic:"    ",english:"The best among you are those who learn the Quran and teach it.",reference:"Sahih Bukhari",narrator:"Uthman (RA)",kidsAdvice:"Learning Quran is amazing! And when you help others learn it too, you become even more special to Allah."},{id:3,arabic:"    ",english:"Your smile in the face of your brother is charity.",reference:"Jami' at-Tirmidhi",narrator:"Abu Dharr (RA)",kidsAdvice:"Smiling at people is free but makes everyone happy! Even a smile counts as a good deed!"},{id:4,arabic:"        ",english:"None of you truly believes until he loves for his brother what he loves for himself.",reference:"Sahih Bukhari & Muslim",narrator:"Anas ibn Malik (RA)",kidsAdvice:"Want good things for your friends just like you want them for yourself. Share happiness and toys!"},{id:5,arabic:"        ",english:"A strong believer is better and more beloved to Allah than a weak believer.",reference:"Sahih Muslim",narrator:"Abu Hurairah (RA)",kidsAdvice:"Being strong means having strong faith, good character, and helping others - not just being physically strong!"},{id:6,arabic:"  ",english:"The best of you are those who are best to their families.",reference:"Sahih Muslim & Tirmidhi",narrator:"Abu Hurairah (RA)",kidsAdvice:"Be kind and helpful to your parents, brothers, and sisters. Your family is very special!"},{id:7,arabic:"  ",english:"A good word is charity.",reference:"Sahih Bukhari & Muslim",narrator:"Abu Hurairah (RA)",kidsAdvice:"Saying nice things to people like 'thank you' and 'please' is a good deed that Allah loves!"},{id:8,arabic:"       ",english:"He will not enter Paradise whose neighbor is not secure from his wrongful conduct.",reference:"Sahih Muslim",narrator:"Abu Hurairah (RA)",kidsAdvice:"Always be nice to your neighbors! Don't be noisy or do things that bother them."},{id:9,arabic:"         ",english:"Whoever believes in Allah and the Last Day should speak good or remain silent.",reference:"Sahih Bukhari & Muslim",narrator:"Abu Hurairah (RA)",kidsAdvice:"If you don't have something nice to say, it's better to stay quiet. Don't say mean things!"},{id:10,arabic:"      ",english:"Allah is Good and accepts only that which is good.",reference:"Sahih Muslim",narrator:"Abu Hurairah (RA)",kidsAdvice:"Always do things with a clean heart and good intentions. Allah loves when we are pure and honest!"}];function g3(){const[t,e]=v.useState(""),[n,r]=v.useState({1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!1,8:!1}),[i,a]=v.useState(null),o=()=>{const f=new Date,g=new Date(f.getFullYear(),0,1),x=f-g,_=1e3*60*60*24*7;return Math.floor(x/_)};v.useEffect(()=>{const g=o()%Pb.length;a(Pb[g])},[]);const c=f=>{f.preventDefault();const g=Object.entries(n).filter(([_,j])=>j).map(([_,j])=>_).join(","),x=`https://www.searchtruth.com/searchHadith.php?keyword=${encodeURIComponent(t)}&book=${g}&translator=1&search=1`;window.open(x,"_blank")},d=f=>{r(g=>({...g,[f]:!g[f]}))},h=()=>{const f={};Rb.forEach(g=>{f[g.value]=!0}),r(f)},m=()=>{const f={};Rb.forEach(g=>{f[g.value]=!1}),r(f)};return s.jsx("div",{className:"min-h-screen py-8 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Hadith Library"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Learn authentic hadiths from Prophet Muhammad () - Changes every week!"})]}),i&&s.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-12",children:s.jsxs(te,{className:"border-4 border-amber-400 shadow-2xl bg-gradient-to-br from-amber-50 to-orange-50",children:[s.jsxs(Oe,{className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white",children:[s.jsxs(Fe,{className:"text-2xl flex items-center gap-2 justify-center",children:[s.jsx(Vt,{className:"w-6 h-6"}),"Hadith of This Week",s.jsx(Vt,{className:"w-6 h-6"})]}),s.jsx("p",{className:"text-center text-amber-100 text-sm mt-2",children:"Changes every Monday!"})]}),s.jsxs(re,{className:"p-8",children:[s.jsx("div",{className:"mb-6 text-center bg-white p-6 rounded-xl border-2 border-amber-200",children:s.jsx("p",{className:"text-3xl md:text-4xl lg:text-5xl leading-loose text-gray-900 mb-2",style:{fontFamily:"'Amiri', 'Scheherazade New', 'Traditional Arabic', 'Arabic Typesetting', serif",lineHeight:"2.5",direction:"rtl"},children:i.arabic})}),s.jsxs("div",{className:"mb-6 bg-white p-6 rounded-xl border-2 border-amber-200",children:[s.jsxs("p",{className:"text-lg md:text-xl text-gray-800 leading-relaxed italic",children:['"',i.english,'"']}),s.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[s.jsx(we,{className:"bg-amber-600 text-white",children:i.reference}),s.jsxs(we,{variant:"outline",className:"border-amber-600 text-amber-700",children:["Narrator: ",i.narrator]})]})]}),s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-6 rounded-xl border-2 border-blue-200",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Ad,{className:"w-6 h-6 text-blue-600 flex-shrink-0 mt-1"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-lg text-gray-900 mb-2",children:" For Kids:"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:i.kidsAdvice})]})]})})]})]})}),s.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6 text-center",children:" Learn These 10 Beautiful Hadiths"}),s.jsx("div",{className:"grid gap-6",children:Pb.map((f,g)=>s.jsx(ee.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:g*.1},children:s.jsx(te,{className:"hover:shadow-xl transition-all border-2 border-gray-200 hover:border-blue-300",children:s.jsx(re,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[s.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-purple-500 text-white w-10 h-10 rounded-full flex items-center justify-center font-bold flex-shrink-0",children:g+1}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-6 rounded-xl border-2 border-green-200 mb-4",children:s.jsx("p",{className:"text-2xl md:text-3xl lg:text-4xl leading-loose text-gray-900",style:{fontFamily:"'Amiri', 'Scheherazade New', 'Traditional Arabic', 'Arabic Typesetting', serif",lineHeight:"2.5",direction:"rtl",textAlign:"right"},children:f.arabic})}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-4",children:[s.jsxs("p",{className:"text-base md:text-lg text-gray-800 leading-relaxed italic",children:['"',f.english,'"']}),s.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[s.jsx(we,{className:"bg-green-600",children:f.reference}),s.jsx(we,{variant:"outline",children:f.narrator})]})]}),s.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border-l-4 border-blue-500",children:s.jsxs("p",{className:"text-sm md:text-base text-gray-700",children:[s.jsx("strong",{className:"text-blue-700",children:" Lesson:"})," ",f.kidsAdvice]})})]})]})})})},f.id))})]}),s.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8",children:s.jsxs(te,{className:"border-2 border-blue-200 shadow-xl",children:[s.jsxs(Oe,{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:[s.jsxs(Fe,{className:"text-2xl flex items-center gap-2",children:[s.jsx(Ja,{className:"w-6 h-6"}),"Search More Hadiths"]}),s.jsx("p",{className:"text-blue-100 text-sm mt-2",children:"Search thousands of authentic hadiths"})]}),s.jsx(re,{className:"p-6",children:s.jsxs("form",{onSubmit:c,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Enter keyword or topic"}),s.jsx(Te,{type:"text",value:t,onChange:f=>e(f.target.value),placeholder:"e.g., prayer, charity, kindness...",className:"text-base",required:!0})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Select Hadith Books"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(G,{type:"button",variant:"outline",size:"sm",onClick:h,children:"Select All"}),s.jsx(G,{type:"button",variant:"outline",size:"sm",onClick:m,children:"Deselect All"})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Rb.map(f=>s.jsx("div",{onClick:()=>d(f.value),className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${n[f.value]?`bg-gradient-to-r ${f.color} text-white border-transparent shadow-lg`:"bg-white border-gray-200 hover:border-blue-300"}`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-6 h-6 rounded border-2 flex items-center justify-center ${n[f.value]?"bg-white border-white":"border-gray-300"}`,children:n[f.value]&&s.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{d:"M5 13l4 4L19 7"})})}),s.jsx("span",{className:"font-semibold",children:f.name})]})},f.value))})]}),s.jsxs(G,{type:"submit",size:"lg",className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-lg",disabled:!t.trim()||Object.values(n).every(f=>!f),children:[s.jsx(Ja,{className:"w-5 h-5 mr-2"}),"Search Hadiths",s.jsx(Gu,{className:"w-4 h-4 ml-2"})]}),s.jsx("p",{className:"text-sm text-gray-500 text-center",children:"Powered by SearchTruth.com"})]})})]})}),s.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:s.jsxs(te,{className:"bg-gradient-to-br from-green-50 to-emerald-50 border-2 border-green-200",children:[s.jsx(Oe,{children:s.jsx(Fe,{className:"text-2xl",children:"About Hadiths"})}),s.jsxs(re,{className:"space-y-3",children:[s.jsxs("p",{className:"text-gray-700",children:[s.jsx("strong",{children:"Hadiths"})," are the sayings and actions of Prophet Muhammad (). They teach us how to be good Muslims and follow Allah's path."]}),s.jsxs("p",{className:"text-gray-700",children:["The most authentic collections are ",s.jsx("strong",{children:"Sahih Bukhari"})," and ",s.jsx("strong",{children:"Sahih Muslim"}),", which have been carefully verified by Islamic scholars."]}),s.jsx("p",{className:"text-gray-700",children:"Learning hadiths helps us understand the Quran better and know how to live like the Prophet () taught us."})]})]})})]})})}const Nme=[{id:1,category:"Prophets",title:"Prophet Ibrahim (AS) and the Idols",summary:"Learn about Prophet Ibrahim's bravery when he destroyed the idols",content:`Prophet Ibrahim (AS) lived among people who worshipped idols made of stone and wood. He knew this was wrong because only Allah deserves to be worshipped.

One day, when everyone went to a festival, Prophet Ibrahim (AS) went to the temple. He broke all the idols except the biggest one, and placed the axe in its hand!

When people returned and asked who did this, Prophet Ibrahim (AS) pointed to the biggest idol and said, "Ask him, if he can speak!" 

The people realized their idols couldn't speak, move, or do anything. This made them think about how foolish it was to worship them.`,moral:"We should worship only Allah and have courage to stand for what is right.",image:"https://images.unsplash.com/photo-1564769625905-50e93615e769?w=800",audioUrl:"",ageGroup:"7-10"},{id:2,category:"Prophets",title:"Prophet Yusuf (AS) in the Well",summary:"The story of Prophet Yusuf and his jealous brothers",content:`Prophet Yusuf (AS) was dearly loved by his father, Prophet Yaqub (AS). His brothers became jealous and made a plan to get rid of him.

They threw young Yusuf into a deep, dark well! But Allah protected him. Travelers found him and took him to Egypt.

Years later, after many trials, Prophet Yusuf (AS) became a powerful leader in Egypt. When his brothers came for help during a famine, he forgave them!`,moral:"Forgiveness is a beautiful quality. Allah always has a plan for us, even in difficult times.",image:"https://images.unsplash.com/photo-1542601906990-b4d3fb778b09?w=800",audioUrl:"",ageGroup:"7-10"},{id:3,category:"Sahabah",title:"Abu Bakr (RA) - The Best Friend",summary:"How Abu Bakr supported the Prophet ",content:`Abu Bakr (RA) was the Prophet Muhammad's  closest friend. When others doubted, he always believed.

When the Prophet  told about his night journey (Isra and Mi'raj), many people didn't believe him. But Abu Bakr (RA) said immediately: "If he said it, then it is true!"

He spent his wealth to help Islam and even accompanied the Prophet  on the dangerous journey to Madinah, hiding in a cave together.`,moral:"True friendship means standing by your friends and believing in them.",image:"https://images.unsplash.com/photo-1564769625905-50e93615e769?w=800",audioUrl:"",ageGroup:"7-10"},{id:4,category:"Makkah & Madinah",title:"The Building of the Kaaba",summary:"Learn about the sacred Kaaba's history",content:`The Kaaba was first built by Prophet Ibrahim (AS) and his son Ismail (AS) thousands of years ago. They built it as a house of worship for Allah.

Prophet Ibrahim (AS) would pray: "O our Lord! I have settled some of my family in a valley without cultivation near Your Sacred House..."

Today, millions of Muslims from around the world face the Kaaba when they pray, and visit it during Hajj.`,moral:"The Kaaba reminds us that all Muslims are united in worshipping Allah.",image:"https://images.unsplash.com/photo-1591604129939-f1efa4d9f7fa?w=800",audioUrl:"",ageGroup:"7-10"},{id:5,category:"Sahabah",title:"Bilal (RA) - The First Muezzin",summary:"The amazing story of Bilal's beautiful voice",content:`Bilal (RA) was once a slave who was tortured for accepting Islam. His master would leave him under the burning sun with a heavy rock on his chest.

But Bilal would only say: "Ahad, Ahad!" meaning "One God, One God!"

When Islam became strong, the Prophet  chose Bilal to be the first person ever to call Muslims to prayer! His beautiful, strong voice echoed through Madinah.`,moral:"No matter where you come from, if you have faith and patience, Allah will honor you.",image:"https://images.unsplash.com/photo-1542601906990-b4d3fb778b09?w=800",audioUrl:"",ageGroup:"7-10"}];function x3(){const[t,e]=v.useState("Prophets"),[n,r]=v.useState(null),i=["Prophets","Sahabah","Makkah & Madinah"],a=Nme.filter(o=>o.category===t);return s.jsx("div",{className:"min-h-screen py-8 md:py-12 px-2 md:px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-gray-900 mb-4",children:"Islamic History"}),s.jsx("p",{className:"text-base md:text-lg text-gray-600 max-w-2xl mx-auto",children:"Amazing stories from Islamic history"})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-8 justify-center",children:i.map(o=>s.jsx(G,{onClick:()=>{e(o),r(null)},variant:t===o?"default":"outline",className:t===o?"bg-blue-600":"",children:o},o))}),n?s.jsxs(ee.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},children:[s.jsx(G,{variant:"ghost",onClick:()=>r(null),className:"mb-4",children:" Back to Stories"}),s.jsxs(te,{className:"shadow-xl",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white",children:s.jsx(Fe,{className:"text-2xl",children:n.title})}),s.jsxs(re,{className:"p-6",children:[n.image&&s.jsx("div",{className:"mb-6",children:s.jsx("img",{src:n.image,alt:n.title,className:"w-full h-64 object-cover rounded-lg"})}),n.audioUrl&&s.jsx("div",{className:"mb-6",children:s.jsx(k_,{title:n.title,mp3Url:n.audioUrl,coverImage:n.image})}),s.jsx("div",{className:"prose max-w-none mb-6",children:s.jsx("p",{className:"text-gray-800 leading-relaxed whitespace-pre-line text-lg",children:n.content})}),s.jsxs("div",{className:"bg-green-50 rounded-lg p-6 border-l-4 border-green-500",children:[s.jsx("h4",{className:"font-semibold text-green-900 mb-2",children:" Moral of the Story:"}),s.jsx("p",{className:"text-green-800",children:n.moral})]})]})]})]}):s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map((o,c)=>s.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:c*.1},children:s.jsxs(te,{className:"h-full hover:shadow-xl transition-shadow cursor-pointer",onClick:()=>r(o),children:[o.image&&s.jsx("div",{className:"h-48 overflow-hidden",children:s.jsx("img",{src:o.image,alt:o.title,className:"w-full h-full object-cover"})}),s.jsxs(re,{className:"p-4",children:[s.jsx(we,{className:"mb-3",children:o.category}),s.jsx("h3",{className:"font-bold text-lg mb-2",children:o.title}),s.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:o.summary}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(we,{variant:"outline",className:"text-xs",children:o.ageGroup}),s.jsx($I,{className:"w-5 h-5 text-blue-600"})]})]})]})},o.id))})]})})}Tt.string,Tt.string,Tt.string,Tt.string,Tt.string,Tt.bool,Tt.bool,Tt.bool,Tt.func;const aI=[{id:"noon_sakinah_idgham",category:"Noon Sakinah & Tanween",title:"Idgham (Merging)",kidExplanation:"Idgham means merging or blending. When noon sakinah () or tanween (  ) comes before these 6 letters:       - you merge them together smoothly!",arabicExample:" ",exampleTranslation:"from their Lord",surahReference:"Al-Baqarah 2:5",ruleHighlight:"The noon in 'min' merges with the 'raa' in 'rabbihim'",whyThisShowsRule:"Notice how the noon sound blends smoothly into the 'r' sound without a pause.",quiz:[{question:"Which letters cause Idgham?",options:["     "," ","","   "],correct:0},{question:"What does Idgham mean?",options:["Hiding","Merging/Blending","Showing clearly","Changing"],correct:1},{question:"In ' ', which rule applies?",options:["Ikhfa","Idgham","Iqlab","Izhar"],correct:1}]},{id:"noon_sakinah_ikhfa",category:"Noon Sakinah & Tanween",title:"Ikhfa (Hiding)",kidExplanation:"Ikhfa means hiding. When noon sakinah or tanween comes before 15 specific letters, you hide the noon sound a little bit - it's between showing and merging!",arabicExample:" ",exampleTranslation:"whoever does",surahReference:"Az-Zalzalah 99:7",ruleHighlight:"The noon in 'man' is hidden before the 'ya' in 'ya'mal'",whyThisShowsRule:"The noon sound is softened and hidden with a slight nasal sound (ghunnah).",quiz:[{question:"How many letters cause Ikhfa?",options:["4","6","15","28"],correct:2},{question:"What does Ikhfa mean?",options:["Merging","Hiding","Showing","Changing"],correct:1},{question:"Is there ghunnah (nasal sound) in Ikhfa?",options:["Yes","No","Sometimes","Never"],correct:0}]},{id:"noon_sakinah_iqlab",category:"Noon Sakinah & Tanween",title:"Iqlab (Changing)",kidExplanation:"Iqlab means changing. When noon sakinah or tanween comes before the letter '' (baa), you change the noon sound to '' (meem) sound!",arabicExample:" ",exampleTranslation:"after",surahReference:"Al-Baqarah 2:27",ruleHighlight:"The noon in 'min' changes to a meem sound before 'ba'd'",whyThisShowsRule:"The noon completely transforms into a meem sound when followed by baa.",quiz:[{question:"Which letter causes Iqlab?",options:[" only"," only"," only"," and "],correct:0},{question:"What sound does noon change to?",options:["Baa","Meem","Noon","Laam"],correct:1},{question:"Is there ghunnah in Iqlab?",options:["Yes","No"],correct:0}]},{id:"noon_sakinah_izhar",category:"Noon Sakinah & Tanween",title:"Izhar (Clear Pronunciation)",kidExplanation:"Izhar means to show clearly. When noon sakinah or tanween comes before the 6 throat letters (     ), you pronounce the noon very clearly!",arabicExample:" ",exampleTranslation:"whoever believes",surahReference:"Al-Baqarah 2:62",ruleHighlight:"The noon in 'man' is pronounced clearly before the hamza () in 'aamana'",whyThisShowsRule:"The noon sound is fully pronounced without any hiding or merging.",quiz:[{question:"How many throat letters cause Izhar?",options:["4","5","6","7"],correct:2},{question:"What does Izhar mean?",options:["Hiding","Merging","Showing clearly","Changing"],correct:2},{question:"Is there ghunnah in Izhar?",options:["Yes","No"],correct:1}]},{id:"meem_sakinah_idgham_shafawi",category:"Meem Sakinah",title:"Idgham Shafawi (Lip Merging)",kidExplanation:"When meem sakinah () comes before another meem (), you merge them together! It's called 'shafawi' because you use your lips to pronounce it.",arabicExample:" ",exampleTranslation:"for them is what",surahReference:"Al-Baqarah 2:25",ruleHighlight:"The meem in 'lahum' merges with the meem in 'ma'",whyThisShowsRule:"Two meems come together and are pronounced as one long meem with ghunnah.",quiz:[{question:"When does Idgham Shafawi happen?",options:["Meem before meem","Meem before baa","Meem before noon","Meem before any letter"],correct:0},{question:"Is there ghunnah in Idgham Shafawi?",options:["Yes","No"],correct:0},{question:"Why is it called 'shafawi'?",options:["It's hidden","Uses the lips","Uses the throat","It's merged"],correct:1}]},{id:"meem_sakinah_ikhfa_shafawi",category:"Meem Sakinah",title:"Ikhfa Shafawi (Lip Hiding)",kidExplanation:"When meem sakinah () comes before '' (baa), you hide the meem sound slightly! Close your lips and make a soft nasal sound.",arabicExample:" ",exampleTranslation:"striking them with stones",surahReference:"Al-Feel 105:4",ruleHighlight:"The meem in 'tarmeehim' is hidden before the baa in 'bihijarah'",whyThisShowsRule:"The meem is softened and pronounced with the lips closed, creating a nasal sound.",quiz:[{question:"Which letter causes Ikhfa Shafawi?",options:["","","","All letters"],correct:1},{question:"How do you pronounce Ikhfa Shafawi?",options:["Clearly","Hidden with ghunnah","Merged","Changed"],correct:1},{question:"What does 'shafawi' mean?",options:["Throat","Lip","Tongue","Nose"],correct:1}]},{id:"qalqalah",category:"Qalqalah",title:"Qalqalah (Echoing Sound)",kidExplanation:"Qalqalah means a bouncing or echoing sound! When these 5 letters have sukoon (), they bounce:     . Remember: 'Qutb Jad'!",arabicExample:"",exampleTranslation:"One (Allah is One)",surahReference:"Al-Ikhlas 112:1",ruleHighlight:"The 'dal' () at the end has qalqalah",whyThisShowsRule:"The letter 'd' bounces when you stop on it, creating an echoing sound.",quiz:[{question:"Which letters have qalqalah?",options:["    ","   ","   ","   "],correct:0},{question:"What does qalqalah mean?",options:["Merging","Bouncing/Echoing","Hiding","Stretching"],correct:1},{question:"How do you remember qalqalah letters?",options:["Qutb Jad","Noon Wa Laam","Meem Baa","Raa Laam"],correct:0}]},{id:"madd_tabee'ee",category:"Madd (Elongation)",title:"Madd Tabee'ee (Natural Elongation)",kidExplanation:"Madd means to stretch or lengthen. Natural madd happens when you see alif (), waw (), or ya () - you stretch the sound for 2 counts!",arabicExample:"",exampleTranslation:"he said",surahReference:"Al-Baqarah 2:30",ruleHighlight:"The alif after 'qaf' creates natural madd",whyThisShowsRule:"The alif stretches the 'a' sound for 2 counts: qaaala.",quiz:[{question:"Which letters create madd?",options:["  ","  "," "," "],correct:0},{question:"How long is natural madd?",options:["1 count","2 counts","4 counts","6 counts"],correct:1},{question:"What does madd mean?",options:["Hiding","Bouncing","Stretching/Lengthening","Merging"],correct:2}]},{id:"laam_shamsiyyah",category:"Laam Rules",title:"Laam Shamsiyyah (Sun Letters)",kidExplanation:"When '' (al) comes before 14 'sun letters', the laam is hidden and the next letter is doubled! Like:  (ash-shams) not (al-shams).",arabicExample:"",exampleTranslation:"The Most Merciful",surahReference:"Al-Fatihah 1:3",ruleHighlight:"The laam in '' is hidden before '', making it 'ar-Rahman' not 'al-Rahman'",whyThisShowsRule:"The 'r' is a sun letter, so the laam is assimilated into it.",quiz:[{question:"How many sun letters are there?",options:["12","13","14","15"],correct:2},{question:"What happens to the laam before sun letters?",options:["It's pronounced clearly","It's hidden","It's changed","It's bounced"],correct:1},{question:"Is '' a sun letter?",options:["Yes","No"],correct:0}]},{id:"laam_qamariyyah",category:"Laam Rules",title:"Laam Qamariyyah (Moon Letters)",kidExplanation:"When '' (al) comes before 14 'moon letters', you pronounce the laam clearly! Like:  (al-qamar).",arabicExample:"",exampleTranslation:"the worlds",surahReference:"Al-Fatihah 1:2",ruleHighlight:"The laam in '' is pronounced clearly before '', making it 'al-'aalameen'",whyThisShowsRule:"The 'ayn' is a moon letter, so the laam is pronounced fully.",quiz:[{question:"How many moon letters are there?",options:["12","13","14","15"],correct:2},{question:"What happens to the laam before moon letters?",options:["It's hidden","It's pronounced clearly","It's merged","It's changed"],correct:1},{question:"Is '' a moon letter?",options:["Yes","No"],correct:0}]},{id:"raa_tafkheem",category:"Raa Rules",title:"Raa Tafkheem (Heavy R)",kidExplanation:"Sometimes the letter '' (raa) is pronounced heavy (with a full mouth). This happens when raa has fatha (), damma (), or comes after these vowels!",arabicExample:"",exampleTranslation:"Lord",surahReference:"Al-Fatihah 1:2",ruleHighlight:"The raa has fatha, so it's pronounced heavy: 'Rabb'",whyThisShowsRule:"The fatha makes the raa sound thick and full.",quiz:[{question:"When is raa heavy?",options:["With kasra always","With fatha or damma","Never","With sukoon always"],correct:1},{question:"What does tafkheem mean?",options:["Light","Heavy/Thick","Hidden","Merged"],correct:1},{question:"In '', is the raa heavy or light?",options:["Heavy","Light"],correct:0}]},{id:"raa_tarqeeq",category:"Raa Rules",title:"Raa Tarqeeq (Light R)",kidExplanation:"Sometimes the letter '' (raa) is pronounced light (with an empty mouth). This happens when raa has kasra () or comes after kasra!",arabicExample:"",exampleTranslation:"provision",surahReference:"Al-Baqarah 2:22",ruleHighlight:"The raa has kasra, so it's pronounced light: 'rizqan'",whyThisShowsRule:"The kasra makes the raa sound thin and light.",quiz:[{question:"When is raa light?",options:["With fatha","With kasra","Never","Always"],correct:1},{question:"What does tarqeeq mean?",options:["Heavy","Light/Thin","Hidden","Bouncing"],correct:1},{question:"In '', is the raa heavy or light?",options:["Heavy","Light"],correct:1}]}];function y3(){const[t,e]=v.useState("All"),[n,r]=v.useState(null),[i,a]=v.useState({}),[o,c]=v.useState(!1),[d,h]=v.useState(-1),[m,f]=v.useState(!1),g=["All","Noon Sakinah & Tanween","Meem Sakinah","Qalqalah","Madd (Elongation)","Laam Rules","Raa Rules"],x=t==="All"?aI:aI.filter(N=>N.category===t),_=(N,E)=>{a({...i,[N]:E})},j=()=>{if(!(n!=null&&n.quiz))return 0;let N=0;return n.quiz.forEach((E,A)=>{i[A]===E.correct&&N++}),N},w=()=>{a({}),c(!1)};return s.jsx("div",{className:"min-h-screen py-8 md:py-12 px-2 md:px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-gray-900 mb-4",children:"Learn Tajweed"}),s.jsx("p",{className:"text-base md:text-lg text-gray-600 max-w-2xl mx-auto",children:"Learn to recite the Quran beautifully with proper pronunciation rules"})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-8 justify-center",children:g.map(N=>s.jsx(G,{onClick:()=>{e(N),r(null)},variant:t===N?"default":"outline",size:"sm",className:t===N?"bg-teal-600":"",children:N},N))}),n?s.jsxs(ee.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},children:[s.jsx(G,{variant:"ghost",onClick:()=>{r(null),w(),h(-1)},className:"mb-4",children:" Back to Rules"}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2 space-y-6",children:s.jsxs(te,{className:"shadow-xl",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-teal-500 to-cyan-500 text-white",children:s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[s.jsx(Fe,{className:"text-xl md:text-2xl",children:n.title}),s.jsx(we,{className:"bg-white/20 text-white",children:n.category})]})}),s.jsxs(re,{className:"p-4 md:p-6",children:[s.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 mb-6 border-l-4 border-blue-500",children:[s.jsxs("h4",{className:"font-semibold text-blue-900 mb-2 flex items-center gap-2",children:[" What is ",n.title,"?"]}),s.jsx("p",{className:"text-gray-800 leading-relaxed text-base",children:n.kidExplanation})]}),s.jsxs("div",{className:"bg-amber-50 rounded-lg p-6 mb-6 border-r-4 border-amber-500",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h4",{className:"font-semibold text-amber-900",children:" Quran Example:"}),s.jsxs(G,{variant:"outline",size:"sm",onClick:()=>f(!m),children:[m?"Hide":"Show"," Transliteration"]})]}),s.jsx("div",{className:"text-3xl md:text-4xl text-right mb-3 leading-relaxed",dir:"rtl",children:n.arabicExample}),s.jsx("p",{className:"text-gray-700 mb-2 italic",children:n.exampleTranslation}),s.jsx(we,{variant:"outline",className:"mb-4",children:n.surahReference}),s.jsx("div",{className:"bg-white rounded-lg p-4 mb-4",children:s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("strong",{children:"Why this shows the rule:"})," ",n.whyThisShowsRule]})}),s.jsx("div",{className:"bg-teal-50 rounded-lg p-4",children:s.jsxs("p",{className:"text-sm text-teal-900",children:[s.jsx("strong",{children:" Focus:"})," ",n.ruleHighlight]})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"font-semibold mb-3 text-lg flex items-center gap-2",children:" Listen & Practice"}),s.jsx("div",{className:"bg-purple-50 rounded-lg p-4 mb-4",children:s.jsx("p",{className:"text-sm text-purple-900",children:"Note: Audio recitation coming soon. For now, practice with your teacher or use online Quran recitation resources!"})})]})]})]})}),s.jsx("div",{className:"space-y-6",children:s.jsxs(te,{className:"shadow-xl sticky top-24",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white",children:s.jsxs(Fe,{className:"text-lg md:text-xl flex items-center gap-2",children:[s.jsx(wc,{className:"w-5 h-5"}),"Test Your Knowledge"]})}),s.jsx(re,{className:"p-4",children:o?s.jsxs(ee.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},children:[s.jsxs("div",{className:"text-center mb-4",children:[s.jsx("div",{className:"text-5xl mb-3",children:j()===n.quiz.length?"":""}),s.jsxs("h3",{className:"text-xl font-bold mb-2",children:["Score: ",j()," / ",n.quiz.length]}),s.jsx("p",{className:"text-gray-600 text-sm",children:j()===n.quiz.length?"Masha'Allah! Perfect score!":"Good try! Review and try again."})]}),s.jsx("div",{className:"space-y-2 mb-4",children:n.quiz.map((N,E)=>{const A=i[E]===N.correct;return s.jsx("div",{className:`p-3 rounded-lg ${A?"bg-green-50":"bg-red-50"}`,children:s.jsxs("div",{className:"flex items-start gap-2",children:[A?s.jsx(Yi,{className:"w-4 h-4 text-green-600 flex-shrink-0 mt-0.5"}):s.jsx(Mx,{className:"w-4 h-4 text-red-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-xs",children:[s.jsx("p",{className:"font-semibold mb-1",children:N.question}),s.jsxs("p",{className:"text-gray-600",children:["Correct: ",N.options[N.correct]]})]})]})},E)})}),s.jsx(G,{onClick:w,className:"w-full",variant:"outline",children:"Try Again"})]}):s.jsxs("div",{className:"space-y-4",children:[n.quiz.map((N,E)=>s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("p",{className:"font-semibold mb-3 text-sm",children:[E+1,". ",N.question]}),s.jsx("div",{className:"space-y-2",children:N.options.map((A,T)=>s.jsx(G,{onClick:()=>_(E,T),variant:i[E]===T?"default":"outline",className:"w-full justify-start text-left h-auto py-2 text-xs",size:"sm",children:A},T))})]},E)),s.jsx(G,{onClick:()=>c(!0),disabled:Object.keys(i).length!==n.quiz.length,className:"w-full bg-green-600 hover:bg-green-700",children:"Check Answers"})]})})]})})]})]}):s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:s.jsx(ds,{children:x.map((N,E)=>s.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:E*.05},children:s.jsxs(te,{className:"h-full hover:shadow-xl transition-all duration-300 cursor-pointer group",onClick:()=>{r(N),w()},children:[s.jsxs(Oe,{className:"pb-3",children:[s.jsx(we,{className:"mb-2 w-fit text-xs",children:N.category}),s.jsx(Fe,{className:"text-lg md:text-xl group-hover:text-teal-600 transition-colors leading-tight",children:N.title})]}),s.jsxs(re,{children:[s.jsx("div",{className:"bg-amber-50 rounded-lg p-3 mb-3",children:s.jsx("p",{className:"text-2xl md:text-3xl text-right",dir:"rtl",children:N.arabicExample})}),s.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mb-3",children:N.kidExplanation}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(we,{variant:"outline",className:"text-xs",children:[N.quiz.length," Quiz Questions"]}),s.jsx(G,{size:"sm",variant:"ghost",className:"text-xs",children:"Learn "})]})]})]})},N.id))})})]})})}function v3(){const t=[{id:"quran",title:"Qur'an Knowledge Quiz",icon:"",description:"Test knowledge of Surahs, verses, and Quranic stories",levels:["Easy","Medium","Hard"],color:"from-green-500 to-teal-500"},{id:"prophets",title:"Prophets & Messengers Quiz",icon:"",description:"Learn about the noble prophets mentioned in the Quran",levels:["Easy","Medium","Hard"],color:"from-blue-500 to-indigo-500"},{id:"seerah",title:"Life of Prophet Muhammad ",icon:"",description:"Questions about the Seerah and the Prophet's life",levels:["Easy","Medium","Hard"],color:"from-purple-500 to-pink-500"},{id:"fiqh",title:"Fiqh & Islamic Practices",icon:"",description:"Salah, fasting, Hajj, and daily Islamic practices",levels:["Easy","Medium","Hard"],color:"from-amber-500 to-orange-500"},{id:"akhlaq",title:"Islamic Manners & Character",icon:"",description:"Good character, honesty, kindness, and respect",levels:["Easy","Medium"],color:"from-rose-500 to-pink-500"},{id:"history",title:"Islamic History Quiz",icon:"",description:"Sahabah, battles, caliphs, and Islamic civilization",levels:["Medium","Hard"],color:"from-cyan-500 to-blue-500"}],e=(r,i)=>{alert(`Downloading ${r} - ${i} quiz... (Feature coming soon!)`)},n=(r,i)=>{alert(`Preparing to print ${r} - ${i} quiz... (Feature coming soon!)`)};return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Printable Islamic Quizzes"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Download and print Islamic quizzes for your children, students, or homeschool!"})]}),s.jsx(ee.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-12",children:s.jsx(te,{className:"border-4 border-blue-200 bg-gradient-to-r from-blue-50 to-purple-50",children:s.jsxs(re,{className:"p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-blue-900 mb-3",children:"For Parents & Teachers"}),s.jsxs("ul",{className:"space-y-2 text-blue-800",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"All quizzes are designed for kids ages 5-12"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"Answer keys included for easy grading"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"Perfect for homeschooling, Islamic schools, or weekend classes"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"Free to download and print!"})]})]})]})})}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12",children:t.map((r,i)=>s.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:i*.1},children:s.jsxs(te,{className:"h-full hover:shadow-xl transition-all duration-300 border-2 border-gray-100",children:[s.jsx(Oe,{className:`bg-gradient-to-br ${r.color} text-white`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"text-5xl",children:r.icon}),s.jsx(Fe,{className:"text-xl",children:r.title})]})}),s.jsxs(re,{className:"p-6",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:r.description}),s.jsx("div",{className:"space-y-2",children:r.levels.map(a=>s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(G,{onClick:()=>e(r.title,a),className:"flex-1 bg-blue-600 hover:bg-blue-700",size:"sm",children:[s.jsx(co,{className:"w-4 h-4 mr-2"}),a]}),s.jsx(G,{onClick:()=>n(r.title,a),variant:"outline",size:"sm",children:s.jsx(GI,{className:"w-4 h-4"})})]},a))})]})]})},r.id))}),s.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:s.jsx(te,{className:"border-4 border-green-300 bg-gradient-to-r from-green-50 to-teal-50",children:s.jsxs(re,{className:"p-8 text-center",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Submit Your Own Quiz Questions!"}),s.jsx("p",{className:"text-lg text-gray-700 mb-6 max-w-2xl mx-auto",children:"Have great Islamic quiz questions or crosswords? Share them with us and they might be featured!"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsxs(G,{onClick:()=>window.location.href="mailto:huzaify786@gmail.com?subject=Islamic Quiz Submission",className:"bg-gradient-to-r from-green-500 to-teal-500 hover:from-green-600 hover:to-teal-600",size:"lg",children:[s.jsx(Lx,{className:"w-5 h-5 mr-2"}),"Email Your Submission"]}),s.jsx(G,{onClick:()=>window.open("https://wa.me/447447999284?text=I'd like to submit Islamic quiz questions!","_blank"),className:"bg-green-600 hover:bg-green-700",size:"lg",children:" WhatsApp Us"})]})]})})})]})})}const T_=v.createContext(),b3=({children:t})=>{const[e,n]=v.useState(null),[r,i]=v.useState(!1),[a,o]=v.useState(null),c=m=>{a&&a.pause();const f=new Audio(m.url);f.play().catch(g=>{console.error("Error playing audio:",g),mt.error("Could not play audio. Please try another.")}),o(f),n(m),i(!0),f.onended=()=>{i(!1)}},d=()=>{a&&(a.pause(),i(!1))},h=()=>{a&&(a.play(),i(!0))};return s.jsx(T_.Provider,{value:{currentAudio:e,isPlaying:r,playAudio:c,pauseAudio:d,resumeAudio:h},children:t})};b3.propTypes={children:Tt.node.isRequired};const _me={quran:[{id:"fatiha",title:"Surah Al-Fatiha",reciter:"Mishary Rashid Alafasy",url:"https://server8.mp3quran.net/afs/001.mp3",category:"Quran"},{id:"yaseen",title:"Surah Yaseen",reciter:"Mishary Rashid Alafasy",url:"https://server8.mp3quran.net/afs/036.mp3",category:"Quran"},{id:"mulk",title:"Surah Al-Mulk",reciter:"Mishary Rashid Alafasy",url:"https://server8.mp3quran.net/afs/067.mp3",category:"Quran"},{id:"rahman",title:"Surah Ar-Rahman",reciter:"Mishary Rashid Alafasy",url:"https://server8.mp3quran.net/afs/055.mp3",category:"Quran"},{id:"kahf",title:"Surah Al-Kahf",reciter:"Mishary Rashid Alafasy",url:"https://server8.mp3quran.net/afs/018.mp3",category:"Quran"}]},w3=({audio:t})=>{const{currentAudio:e,isPlaying:n,playAudio:r,pauseAudio:i,resumeAudio:a}=v.useContext(T_),o=(e==null?void 0:e.id)===t.id&&n;return s.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-5},children:s.jsx(te,{className:"hover:shadow-xl transition-all duration-300",children:s.jsxs(re,{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:t.title}),t.reciter&&s.jsx("p",{className:"text-sm text-gray-600",children:t.reciter}),t.artist&&s.jsx("p",{className:"text-sm text-gray-600",children:t.artist}),t.narrator&&s.jsx("p",{className:"text-sm text-gray-600",children:t.narrator}),t.speaker&&s.jsx("p",{className:"text-sm text-gray-600",children:t.speaker})]}),s.jsx(we,{className:"bg-gradient-to-r from-green-500 to-teal-500 text-white",children:t.category})]}),t.description&&s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:t.description}),s.jsx("div",{className:"flex gap-2",children:s.jsx(G,{onClick:()=>{o?i():(e==null?void 0:e.id)===t.id?a():r(t)},className:"flex-1 bg-gradient-to-r from-green-500 to-teal-500 hover:from-green-600 hover:to-teal-600",children:o?s.jsxs(s.Fragment,{children:[s.jsx(Nl,{className:"w-4 h-4 mr-2"}),"Pause"]}):s.jsxs(s.Fragment,{children:[s.jsx(cr,{className:"w-4 h-4 mr-2"}),(e==null?void 0:e.id)===t.id?"Resume":"Play"]})})})]})})})};w3.propTypes={audio:Tt.shape({id:Tt.string.isRequired,title:Tt.string.isRequired,url:Tt.string.isRequired,reciter:Tt.string,artist:Tt.string,narrator:Tt.string,speaker:Tt.string,category:Tt.string.isRequired,description:Tt.string}).isRequired};function Sme(){var r;const[t,e]=v.useState("quran"),n=[{id:"quran",name:"Quran Recitations",icon:"",description:"Listen to beautiful Quran recitations"}];return s.jsxs("div",{className:"min-h-screen py-12 px-4",children:[s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Islamic Multimedia"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Listen to beautiful Quran recitations"})]}),s.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-12",children:n.map(i=>s.jsxs(G,{onClick:()=>e(i.id),variant:t===i.id?"default":"outline",className:`${t===i.id?"bg-gradient-to-r from-green-500 to-teal-500 text-white":""}`,size:"lg",children:[s.jsx("span",{className:"text-2xl mr-2",children:i.icon}),i.name]},i.id))}),s.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:(r=_me[t])==null?void 0:r.map(i=>s.jsx(w3,{audio:i},i.id))},t)]}),s.jsx(Eme,{})]})}const Eme=()=>{const{currentAudio:t,isPlaying:e,pauseAudio:n,resumeAudio:r}=v.useContext(T_);return t?s.jsx(ee.div,{initial:{y:100},animate:{y:0},className:"fixed bottom-0 left-0 right-0 bg-gradient-to-r from-green-600 to-teal-600 text-white p-4 shadow-2xl z-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ll,{className:"w-6 h-6"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold",children:t.title}),t.reciter&&s.jsx("p",{className:"text-sm opacity-90",children:t.reciter})]})]}),s.jsx(G,{onClick:e?n:r,variant:"ghost",className:"text-white hover:bg-white/20",children:e?s.jsx(Nl,{className:"w-6 h-6"}):s.jsx(cr,{className:"w-6 h-6"})})]})}):null};function j3(){return s.jsx(b3,{children:s.jsx(Sme,{})})}const Cme="quran_hifz_db",kme=1,Br={surahCache:"surahCache",juzCache:"juzCache",ayahProgress:"ayahProgress",settings:"settings"};function Tme(){return new Promise((t,e)=>{const n=indexedDB.open(Cme,kme);n.onupgradeneeded=r=>{const i=n.result;i.objectStoreNames.contains(Br.surahCache)||i.createObjectStore(Br.surahCache),i.objectStoreNames.contains(Br.juzCache)||i.createObjectStore(Br.juzCache),i.objectStoreNames.contains(Br.ayahProgress)||i.createObjectStore(Br.ayahProgress),i.objectStoreNames.contains(Br.settings)||i.createObjectStore(Br.settings)},n.onsuccess=()=>t(n.result),n.onerror=()=>e(n.error)})}async function Wc(t,e,n){const r=await Tme();return new Promise((i,a)=>{const o=r.transaction(t,e),c=o.objectStore(t),d=n(c);o.oncomplete=()=>i(d),o.onerror=()=>a(o.error)})}async function oI(t,e){return Wc(Br.surahCache,"readwrite",n=>n.put(e,t))}async function Ame(t){return Wc(Br.surahCache,"readonly",e=>e.get(t))}async function cg(t,e){return Wc(Br.juzCache,"readwrite",n=>n.put(e,t))}async function Ime(t){return Wc(Br.juzCache,"readonly",e=>e.get(t))}async function Rme(t,e,n){const r=`${t}-${e}`,i={status:n,updatedAt:Date.now()};return Wc(Br.ayahProgress,"readwrite",a=>a.put(i,r))}async function Pme(t,e){const n=`${t}-${e}`;return Wc(Br.ayahProgress,"readonly",r=>r.get(n))}async function Dme(){return Wc(Br.ayahProgress,"readonly",t=>new Promise((e,n)=>{const r={},i=t.openCursor();i.onsuccess=a=>{const o=a.target.result;o?(r[o.key]=o.value,o.continue()):e(r)},i.onerror=()=>n(i.error)}))}const lI={memorised:{label:"Memorised",color:"bg-green-600",Icon:jc},revision:{label:"Under Revision",color:"bg-yellow-500",Icon:Fx},new:{label:"Not Memorised",color:"bg-gray-500",Icon:B1}};function N3({surahNumber:t,ayahNumber:e,onChange:n}){const[r,i]=v.useState("new");v.useEffect(()=>{let c=!0;return Pme(t,e).then(d=>{c&&d!=null&&d.status&&i(d.status)}).catch(()=>{}),()=>{c=!1}},[t,e]);const a=async c=>{i(c);try{await Rme(t,e,c)}catch{}n==null||n(c)},o=lI[r]||lI.new;return s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsxs(we,{className:o.color,children:[s.jsx(o.Icon,{className:"w-4 h-4 mr-1"})," ",o.label]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(G,{size:"sm",variant:r==="memorised"?"default":"outline",onClick:()=>a("memorised"),children:[s.jsx(jc,{className:"w-4 h-4 mr-1"})," Memorised"]}),s.jsxs(G,{size:"sm",variant:r==="revision"?"default":"outline",onClick:()=>a("revision"),children:[s.jsx(Fx,{className:"w-4 h-4 mr-1"})," Revision"]}),s.jsxs(G,{size:"sm",variant:r==="new"?"default":"outline",onClick:()=>a("new"),children:[s.jsx(B1,{className:"w-4 h-4 mr-1"})," Not Yet"]})]})]})}N3.propTypes={surahNumber:Tt.number.isRequired,ayahNumber:Tt.number.isRequired,onChange:Tt.func};const _3="https://api.alquran.cloud/v1",cI=["quran-uthmani","quran-simple"],Mme=[{id:"en.sahih",name:"Sahih International"},{id:"en.yusufali",name:"Yusuf Ali"},{id:"ur.junagarhi",name:"Junagarhi (Urdu)"},{id:"ur.maududi",name:"Maududi (Urdu)"}],uI={alafasy:"ar.alafasy",sudais:"ar.abdurrahmanalsudais",basit:"ar.abdulbasitmurattal",husary:"ar.husary"};function Lme(t){return uI[t]||uI.alafasy}async function Ome({juzNumber:t,translationId:e,audioEdition:n}){var g,x,_,j,w,N,E,A;const r=T=>{const D=[T,e];return n&&D.push(n),`${_3}/juz/${t}/editions/${D.join(",")}`};let i=await fetch(r(cI[0])),a=await i.json();if((a.status!=="OK"||!((_=(x=(g=a==null?void 0:a.data)==null?void 0:g[0])==null?void 0:x.ayahs)!=null&&_.length))&&(i=await fetch(r(cI[1])),a=await i.json()),a.status!=="OK")throw new Error("Failed to fetch juz");const o=((j=a.data[0])==null?void 0:j.ayahs)||[],c=((w=a.data[1])==null?void 0:w.ayahs)||[],d=((N=a.data[2])==null?void 0:N.ayahs)||[],h=new Map;for(const T of c){const D=`${(E=T==null?void 0:T.surah)==null?void 0:E.number}-${T==null?void 0:T.numberInSurah}`;D&&h.set(D,(T==null?void 0:T.text)??"")}const m=new Map;for(const T of d){const D=`${(A=T==null?void 0:T.surah)==null?void 0:A.number}-${T==null?void 0:T.numberInSurah}`;D&&m.set(D,(T==null?void 0:T.audio)??null)}return o.map(T=>{var F;const D=`${(F=T==null?void 0:T.surah)==null?void 0:F.number}-${T==null?void 0:T.numberInSurah}`;return{surahNumber:T.surah.number,surahName:T.surah.englishName||T.surah.name,numberInSurah:T.numberInSurah,arabic:T.text,translation:h.get(D)||"",audio:m.get(D)||null}})}async function Fme(){var r;const e=await(await fetch(`${_3}/sajda`)).json();return e.status!=="OK"?[]:(((r=e==null?void 0:e.data)==null?void 0:r.ayahs)||(e==null?void 0:e.data)||[]).map(i=>{var a,o;return{surah:((a=i==null?void 0:i.surah)==null?void 0:a.number)||((o=i==null?void 0:i.surah)==null?void 0:o.number)||0,ayah:(i==null?void 0:i.numberInSurah)||(i==null?void 0:i.ayah)||0}}).filter(i=>i.surah&&i.ayah)}const Vme={1:[{surah:1,ayah:1},{surah:2,ayah:26},{surah:2,ayah:75},{surah:2,ayah:124},{surah:2,ayah:142},{surah:2,ayah:203},{surah:2,ayah:253},{surah:3,ayah:15}]};function Ume(t,e){const n=Vme[t];return!n||e<1||e>n.length?null:n[e-1]||null}const dI=[{id:"alafasy",name:"Mishary Rashid Alafasy",url:"https://server8.mp3quran.net/afs/",flag:""},{id:"sudais",name:"Abdur-Rahman As-Sudais",url:"https://server11.mp3quran.net/sds/",flag:""},{id:"basit",name:"Abdul Basit",url:"https://server7.mp3quran.net/basit/",flag:""},{id:"husary",name:"Mahmoud Khalil Al-Husary",url:"https://server13.mp3quran.net/husr/",flag:""}],Db=[{number:1,name:"Al-Fatihah",englishName:"The Opening",verses:7,revelation:"Meccan"},{number:2,name:"Al-Baqarah",englishName:"The Cow",verses:286,revelation:"Medinan"},{number:3,name:"Ali 'Imran",englishName:"Family of Imran",verses:200,revelation:"Medinan"},{number:4,name:"An-Nisa",englishName:"The Women",verses:176,revelation:"Medinan"},{number:5,name:"Al-Ma'idah",englishName:"The Table Spread",verses:120,revelation:"Medinan"},{number:6,name:"Al-An'am",englishName:"The Cattle",verses:165,revelation:"Meccan"},{number:7,name:"Al-A'raf",englishName:"The Heights",verses:206,revelation:"Meccan"},{number:8,name:"Al-Anfal",englishName:"The Spoils of War",verses:75,revelation:"Medinan"},{number:9,name:"At-Tawbah",englishName:"The Repentance",verses:129,revelation:"Medinan"},{number:10,name:"Yunus",englishName:"Jonah",verses:109,revelation:"Meccan"},{number:36,name:"Ya-Sin",englishName:"Ya-Sin",verses:83,revelation:"Meccan"},{number:55,name:"Ar-Rahman",englishName:"The Beneficent",verses:78,revelation:"Medinan"},{number:67,name:"Al-Mulk",englishName:"The Sovereignty",verses:30,revelation:"Meccan"},{number:112,name:"Al-Ikhlas",englishName:"The Sincerity",verses:4,revelation:"Meccan"},{number:113,name:"Al-Falaq",englishName:"The Daybreak",verses:5,revelation:"Meccan"},{number:114,name:"An-Nas",englishName:"Mankind",verses:6,revelation:"Meccan"}],Mb=Mme,Lb=[{number:1,name:"Alif Lm Mm"},{number:2,name:"Sayaql"},{number:3,name:"Tilka ar-Rusul"},{number:4,name:"Lan Tanlu"},{number:5,name:"Wal Musant"},{number:6,name:"L Yuibbullhu al-jahr"},{number:7,name:"Wa I Sami"},{number:8,name:"Wa Lau'ann"},{number:9,name:"Ql al-Mala'u"},{number:10,name:"Wa Alam"},{number:11,name:"Yataakkarn"},{number:12,name:"Wa M Ubarriu Nafsi"},{number:13,name:"Wa M Uttum"},{number:14,name:"Rubam"},{number:15,name:"Subnalladh"},{number:16,name:"Qla Alam"},{number:17,name:"Iqtaraba"},{number:18,name:"Qad Aflaha"},{number:19,name:"Wa Qlalladhna"},{number:20,name:"Amn"},{number:21,name:"Utlu M"},{number:22,name:"Wa Mli"},{number:23,name:"Wa M L"},{number:24,name:"Faman Alamu"},{number:25,name:"Ilayhi Yuraddu"},{number:26,name:" Mm"},{number:27,name:"Qla Fama"},{number:28,name:"Qad Samiallhu"},{number:29,name:"Tabrakalladh"},{number:30,name:"Amma"}],Ob=[{number:1,name:""},{number:2,name:""},{number:3,name:" "},{number:4,name:" "},{number:5,name:""},{number:6,name:"   "},{number:7,name:" "},{number:8,name:" "},{number:9,name:" "},{number:10,name:""},{number:11,name:""},{number:12,name:"  "},{number:13,name:" "},{number:14,name:""},{number:15,name:" "},{number:16,name:" "},{number:17,name:""},{number:18,name:" "},{number:19,name:" "},{number:20,name:""},{number:21,name:" "},{number:22,name:""},{number:23,name:" "},{number:24,name:" "},{number:25,name:" "},{number:26,name:""},{number:27,name:" "},{number:28,name:"  "},{number:29,name:" "},{number:30,name:""}],S3=({verse:t,expanded:e,onToggle:n,onPlay:r,isHighlighted:i=!1})=>s.jsx(ee.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`bg-gradient-to-r from-green-50 to-teal-50 rounded-xl p-6 border-l-4 border-green-500 shadow-sm hover:shadow-md transition-shadow mb-4 ${i?"ring-2 ring-green-500 shadow-lg":""}`,children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[s.jsx(we,{className:"bg-green-600 text-white text-sm px-3 py-1",children:t.numberInSurah}),t.isSajda&&s.jsxs(we,{className:"bg-orange-500 text-white text-xs px-2 py-1",title:"Sajda Ayah",children:[s.jsx(G1,{className:"w-3 h-3 mr-1 inline"})," Sajda"]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{dir:"rtl",style:{fontFamily:"'Scheherazade New', 'Amiri', serif"},onClick:()=>r&&r(t),title:"Click to play ayah audio",role:"button",className:"text-right text-2xl md:text-3xl leading-loose mb-4 font-arabic cursor-pointer hover:text-green-700 text-green-900",children:t.arabic}),s.jsx("p",{className:"text-gray-700 leading-relaxed text-base",children:t.translation}),s.jsx("div",{className:"mt-3",children:s.jsx(N3,{surahNumber:t.surahNumber||(t==null?void 0:t.surahNumber)||0,ayahNumber:t.numberInSurah,onChange:()=>{}})}),t.tafsir&&s.jsxs("div",{className:"mt-4",children:[s.jsx(G,{variant:"ghost",size:"sm",onClick:()=>n(t.numberInSurah),className:"text-green-600 hover:text-green-700 hover:bg-green-50",children:e?s.jsxs(s.Fragment,{children:[s.jsx(qI,{className:"w-4 h-4 mr-2"}),"Hide Tafsir"]}):s.jsxs(s.Fragment,{children:[s.jsx(Ku,{className:"w-4 h-4 mr-2"}),"Show Tafsir"]})}),e&&s.jsxs(ee.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-3 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[s.jsx("p",{className:"text-sm font-semibold text-blue-900 mb-2",children:" Tafsir (Explanation):"}),s.jsx("p",{className:"text-sm text-blue-800 leading-relaxed",children:t.tafsir})]})]})]})]})});S3.propTypes={verse:Tt.object.isRequired,expanded:Tt.bool.isRequired,onToggle:Tt.func.isRequired,onPlay:Tt.func};function jm(){var Ct,bn;const t=lo(),[e,n]=v.useState(Db[0]),[r,i]=v.useState(dI[0]),[a,o]=v.useState(Mb[0]),[c,d]=v.useState(""),[h,m]=v.useState([]),[f,g]=v.useState([]),[x,_]=v.useState(!1),[j,w]=v.useState(!1),[N,E]=v.useState(null),[A,T]=v.useState(!1),[D,F]=v.useState(null),[P,R]=v.useState("translit"),[I,O]=v.useState(!1),[V,M]=v.useState(null),[U,J]=v.useState(!1),[ne,ce]=v.useState(!1),[se,K]=v.useState(null),[W,B]=v.useState(new Set),[q,X]=v.useState(null);v.useEffect(()=>{const fe=new URLSearchParams(t.search||""),qe=fe.get("surah"),et=fe.get("juz"),tt=fe.get("quarter");if(qe){const gt=Number(qe),ct=Db.find(Pt=>Pt.number===gt);ct&&(n(ct),T(!1))}else if(et){const gt=Number(et);if(gt>=1&&gt<=30&&(F(gt),T(!0)),tt){const ct=Number(tt);ct>=1&&ct<=8&&X(ct)}}},[t.search]),v.useEffect(()=>{var fe,qe;if(A&&q&&Array.isArray(f)&&f.length>0){let et=null,tt=null;if(D){const ct=Ume(D,q);if(ct){const Pt=f.findIndex(wn=>(wn==null?void 0:wn.surahNumber)===ct.surah&&(wn==null?void 0:wn.numberInSurah)===ct.ayah);Pt>=0&&(et=Pt,tt={surah:ct.surah,ayah:ct.ayah})}}if(et==null){const ct=f.length,Pt=Math.floor(ct/8)||1;et=Math.min(ct-1,Math.max(0,(q-1)*Pt))}const gt=(qe=(fe=Ne==null?void 0:Ne.current)==null?void 0:fe.byIndex)==null?void 0:qe[et];if(gt&&gt.scrollIntoView){gt.scrollIntoView({behavior:"smooth",block:"center"});const ct=f[et];ct&&(pe({surah:ct.surahNumber,ayah:ct.numberInSurah}),setTimeout(()=>pe(null),2500),tt?mt.success(`Jumped to Juz ${D} Q${q} start  Surah ${tt.surah}, Ayah ${tt.ayah}`):mt.info(`Jumped to Juz ${D} Q${q} (approximate segment)`))}}},[A,q,D,f]);const[$,he]=v.useState("light"),Ne=v.useRef({}),[Ae,pe]=v.useState(null),[Se,De]=v.useState(null),Ue=v.useRef(!1),$e=()=>{Se&&(Se.pause(),Se.currentTime=0,De(null),w(!1)),ce(!1),K(null)};v.useEffect(()=>()=>{$e()},[Se]),v.useEffect(()=>{let fe=!0;return Fme().then(qe=>{if(!fe)return;const et=new Set(qe.map(tt=>`${tt.surah}-${tt.ayah}`));B(et)}).catch(()=>{}),()=>{fe=!1}},[]),v.useEffect(()=>{!A&&e&&Tn(e.number,a.id)},[e,a,A]),v.useEffect(()=>{A&&D&&vr(D,a.id)},[A,D,a]),v.useEffect(()=>{A&&D&&U&&f.length>0&&!x&&(J(!1),_i())},[A,D,U,f,x]);const ft={alafasy:"ar.alafasy",sudais:"ar.abdurrahmanalsudais",basit:"ar.abdulbasitmurattal",husary:"ar.husary"},Jt=()=>ft[r==null?void 0:r.id]||Lme(r==null?void 0:r.id),Tn=async(fe,qe)=>{var et;_(!0),$e();try{const tt=Jt(),gt=`${fe}|${qe}|${tt}`,ct=await Ame(gt);if((et=ct==null?void 0:ct.verses)!=null&&et.length)m(ct.verses.map(Pt=>({...Pt,isSajda:W.has(`${fe}-${Pt.numberInSurah}`),tafsir:Pt.tafsir||null})));else{const wn=await(await fetch(`https://api.alquran.cloud/v1/surah/${fe}/editions/quran-simple,${qe},${tt}`)).json();if(wn.status==="OK"){const Wr=wn.data[0].ayahs,Mr=wn.data[1]?wn.data[1].ayahs:[],nn=wn.data[2]?wn.data[2].ayahs:[],Zs=Wr.map((Lr,Or)=>{var Si;return{numberInSurah:Lr.numberInSurah,arabic:Lr.text,translation:Mr[Or]?Mr[Or].text:"Translation not available for this verse.",tafsir:null,audio:((Si=nn[Or])==null?void 0:Si.audio)||null,surahNumber:fe,isSajda:W.has(`${fe}-${Lr.numberInSurah}`)}});m(Zs),oI(gt,{verses:Zs,cachedAt:Date.now()}).catch(()=>{})}else mt.error("Failed to load surah details from API.")}}catch(tt){console.error("Error loading surah:",tt),mt.error("Failed to load surah. Please check your internet connection.")}finally{_(!1)}},vr=async(fe,qe)=>{var gt,ct,Pt,wn,Wr,Mr,nn,Zs,Lr,Or,Si,Pl,fs,Dl,Ei,ei,ti;_(!0),$e();const et=Jt(),tt=ps=>`https://api.alquran.cloud/v1/juz/${fe}/editions/${ps},${qe}`;try{const ps=`${fe}|${qe}|${et}`,Kr=await Ime(ps);if((gt=Kr==null?void 0:Kr.verses)!=null&&gt.length)g(Kr.verses.map(br=>({...br,isSajda:W.has(`${br.surahNumber}-${br.numberInSurah}`)})));else try{const Gr=(await Ome({juzNumber:fe,translationId:qe})||[]).map(Ht=>({...Ht,isSajda:W.has(`${Ht.surahNumber}-${Ht.numberInSurah}`)}));if(g(Gr),cg(ps,{verses:Gr,cachedAt:Date.now()}).catch(()=>{}),!Gr.length){let Ht=await fetch(tt("quran-uthmani")),wr=await Ht.json();if((wr.status!=="OK"||!((wn=(Pt=(ct=wr==null?void 0:wr.data)==null?void 0:ct[0])==null?void 0:Pt.ayahs)!=null&&wn.length))&&(Ht=await fetch(tt("quran-simple")),wr=await Ht.json()),wr.status==="OK"){const xo=((Wr=wr.data[0])==null?void 0:Wr.ayahs)||[],xa=((Mr=wr.data[1])==null?void 0:Mr.ayahs)||[],jr=((nn=wr.data[2])==null?void 0:nn.ayahs)||[],ni=new Map;for(const ut of xa){const Jn=`${(Zs=ut==null?void 0:ut.surah)==null?void 0:Zs.number}-${ut==null?void 0:ut.numberInSurah}`;Jn&&ni.set(Jn,(ut==null?void 0:ut.text)??"")}const ri=new Map;for(const ut of jr){const Jn=`${(Lr=ut==null?void 0:ut.surah)==null?void 0:Lr.number}-${ut==null?void 0:ut.numberInSurah}`;Jn&&ri.set(Jn,(ut==null?void 0:ut.audio)??null)}const bt=xo.map(ut=>{var yo;const Jn=`${(yo=ut==null?void 0:ut.surah)==null?void 0:yo.number}-${ut==null?void 0:ut.numberInSurah}`;return{surahNumber:ut.surah.number,surahName:ut.surah.englishName||ut.surah.name,numberInSurah:ut.numberInSurah,arabic:ut.text,translation:ni.get(Jn)||"",audio:ri.get(Jn)||null,isSajda:W.has(`${ut.surah.number}-${ut.numberInSurah}`)}});g(bt),cg(ps,{verses:bt,cachedAt:Date.now()}).catch(()=>{}),bt.length||mt.info("No verses loaded for this Juz. Try a different translation or check your network.")}else mt.error("Failed to load Juz.")}}catch{let Gr=await fetch(tt("quran-uthmani")),Ht=await Gr.json();if((Ht.status!=="OK"||!((Pl=(Si=(Or=Ht==null?void 0:Ht.data)==null?void 0:Or[0])==null?void 0:Si.ayahs)!=null&&Pl.length))&&(Gr=await fetch(tt("quran-simple")),Ht=await Gr.json()),Ht.status==="OK"){const wr=((fs=Ht.data[0])==null?void 0:fs.ayahs)||[],xo=((Dl=Ht.data[1])==null?void 0:Dl.ayahs)||[],xa=((Ei=Ht.data[2])==null?void 0:Ei.ayahs)||[],jr=new Map;for(const bt of xo){const ut=`${(ei=bt==null?void 0:bt.surah)==null?void 0:ei.number}-${bt==null?void 0:bt.numberInSurah}`;ut&&jr.set(ut,(bt==null?void 0:bt.text)??"")}const ni=new Map;for(const bt of xa){const ut=`${(ti=bt==null?void 0:bt.surah)==null?void 0:ti.number}-${bt==null?void 0:bt.numberInSurah}`;ut&&ni.set(ut,(bt==null?void 0:bt.audio)??null)}const ri=wr.map(bt=>{var Jn;const ut=`${(Jn=bt==null?void 0:bt.surah)==null?void 0:Jn.number}-${bt==null?void 0:bt.numberInSurah}`;return{surahNumber:bt.surah.number,surahName:bt.surah.englishName||bt.surah.name,numberInSurah:bt.numberInSurah,arabic:bt.text,translation:jr.get(ut)||"",audio:ni.get(ut)||null,isSajda:W.has(`${bt.surah.number}-${bt.numberInSurah}`)}});g(ri),cg(ps,{verses:ri,cachedAt:Date.now()}).catch(()=>{}),ri.length||mt.info("No verses loaded for this Juz. Try a different translation or check your network.")}else mt.error("Failed to load Juz.")}}catch(ps){console.error("Error loading juz:",ps),mt.error("Failed to load Juz. Please check your internet connection.")}finally{_(!1)}},Bn=async(fe,qe=null,et=null)=>{if(!fe){mt.error("No audio available for this selection.");return}if(!Ue.current){Ue.current=!0;try{$e();const tt=new Audio(fe);tt.loop=I,De(tt),await tt.play(),w(!0),M(qe),tt.onended=()=>{if(typeof et=="function"){et();return}I||(w(!1),De(null),M(null))}}catch(tt){(tt==null?void 0:tt.name)==="AbortError"?console.debug("Audio play aborted (pause/stop triggered). Ignoring."):(console.error("Error playing audio:",tt),mt.error("Unable to play audio. The reciter might not have audio for this ayah/surah, or there's a network issue.")),w(!1),M(null)}finally{Ue.current=!1}}},Yn=()=>{if(!r||!e){mt.error("Please select a Surah and Reciter first.");return}const fe=e.number.toString().padStart(3,"0"),qe=`${r.url}${fe}.mp3`;Bn(qe)},ms=()=>{$e(),ce(!1)},zt=()=>{const fe=!I;O(fe),Se&&(Se.loop=fe)},Xt=fe=>{fe!=null&&fe.audio?Bn(fe.audio,fe.numberInSurah):(mt.info("Ayah audio not available for this reciter. Playing full surah instead."),Yn())},Dr=fe=>{const qe=A?f.find(et=>et.numberInSurah===fe):h.find(et=>et.numberInSurah===fe);if(qe){const et=Ne.current[fe];et&&et.scrollIntoView&&et.scrollIntoView({behavior:"smooth",block:"center"}),Xt(qe)}},ga=()=>{var qe;const fe=(qe=Ne.current)==null?void 0:qe.juzStart;fe&&fe.scrollIntoView&&fe.scrollIntoView({behavior:"smooth",block:"start"})},Ni=(fe=0)=>{if(!A||!D){mt.error("Please select a Juz first.");return}if(!f||f.length===0){mt.error("No ayat loaded for this Juz yet. Please wait or reselect the Juz.");return}ce(!0),K(fe);const qe=et=>{const tt=f[et];if(!tt){ce(!1),M(null),De(null),w(!1);return}const gt=()=>{if(I)return;const ct=et+1;ct<f.length?(K(ct),qe(ct)):(ce(!1),M(null),De(null),w(!1))};if(M(tt.numberInSurah),tt.audio)Bn(tt.audio,tt.numberInSurah,gt);else{const ct=String(tt.surahNumber).padStart(3,"0"),Pt=`${r.url}${ct}.mp3`;mt.info(`Verse-level audio unavailable; playing Surah ${tt.surahNumber} audio as fallback.`),Bn(Pt,tt.numberInSurah,gt)}};qe(fe)},_i=()=>{Ni(0)},Ms=fe=>{$e(),i(fe)},me=fe=>{$e(),n(fe)},Ie=fe=>{const qe=Mb.find(et=>et.id===fe);qe&&o(qe)},Ze=Db.filter(fe=>fe.name.toLowerCase().includes(c.toLowerCase())||fe.englishName.toLowerCase().includes(c.toLowerCase())||fe.number.toString().includes(c)),vt=async()=>{try{if(A&&D){const fe=Jt(),qe=`${D}|${a.id}|${fe}`;f.length?await cg(qe,{verses:f,cachedAt:Date.now()}):await vr(D,a.id),mt.success(`Juz ${D} cached for offline use.`)}else if(e){const fe=Jt(),qe=`${e.number}|${a.id}|${fe}`;h.length?await oI(qe,{verses:h,cachedAt:Date.now()}):await Tn(e.number,a.id),mt.success(`Surah ${e.name} cached for offline use.`)}}catch{mt.error("Failed to cache selection.")}};return s.jsxs("div",{className:"min-h-screen py-8 px-4",children:[s.jsx("style",{children:`
        @import url('https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Scheherazade+New:wght@400;700&display=swap');
        .custom-scrollbar::-webkit-scrollbar {
          width: 8px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: #f1f1f1;
          border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background: #888;
          border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background: #555;
        }
      `}),s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"The Noble Qur'an"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Read, listen, and understand Allah's words"})]}),s.jsxs(te,{className:"mb-8 border-2 border-green-200",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-green-50 to-teal-50",children:s.jsx(Fe,{children:"Select Reciter, Surah & Translation"})}),s.jsxs(re,{className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Choose Reciter"}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:dI.map(fe=>s.jsx(G,{onClick:()=>Ms(fe),variant:r.id===fe.id?"default":"outline",className:`h-auto py-3 px-4 ${r.id===fe.id?"bg-gradient-to-r from-purple-500 to-indigo-500 text-white hover:from-purple-600 hover:to-indigo-600":"hover:bg-gray-100"}`,children:s.jsxs("div",{className:"text-center w-full",children:[s.jsx("div",{className:"text-2xl mb-1",children:fe.flag}),s.jsx("p",{className:"text-xs font-semibold truncate",children:fe.name})]})},fe.id))})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Choose Translation"}),s.jsxs(en,{value:a.id,onValueChange:Ie,children:[s.jsx(Kt,{className:"w-full",children:s.jsx(tn,{placeholder:"Select a translation"})}),s.jsx(Gt,{children:Mb.map(fe=>s.jsx(Re,{value:fe.id,children:fe.name},fe.id))})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Search & Choose Surah"}),s.jsxs("div",{className:"relative mb-3",children:[s.jsx(Ja,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500"}),s.jsx(Te,{type:"text",placeholder:"Search Surah by name or number...",value:c,onChange:fe=>d(fe.target.value),className:"pl-9 pr-3 py-2 w-full"})]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3 max-h-[250px] overflow-y-auto pr-2 custom-scrollbar",children:Ze.map(fe=>s.jsx(G,{onClick:()=>me(fe),variant:(e==null?void 0:e.number)===fe.number?"default":"outline",className:`h-auto py-3 px-4 ${(e==null?void 0:e.number)===fe.number?"bg-gradient-to-r from-green-500 to-teal-500 text-white hover:from-green-600 hover:to-teal-600":"hover:bg-gray-100"}`,children:s.jsxs("div",{className:"text-center w-full",children:[s.jsx("p",{className:"text-sm font-semibold",children:fe.name}),s.jsxs("p",{className:"text-xs text-gray-500",children:["(",fe.englishName,")"]})]})},fe.number))}),Ze.length===0&&c&&s.jsxs("p",{className:"text-center text-gray-500 mt-4",children:['No surahs found for "',c,'"']})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-6",children:[s.jsx("div",{children:A?s.jsxs(s.Fragment,{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Select Ayah in Juz"}),s.jsxs(en,{onValueChange:fe=>{const qe=Number(fe)-1,et=f[qe];if(et){const tt=Ne.current[et.numberInSurah];tt&&tt.scrollIntoView&&tt.scrollIntoView({behavior:"smooth",block:"center"}),Xt(et)}},disabled:!D,children:[s.jsx(Kt,{className:"w-full",children:s.jsx(tn,{placeholder:"Choose Ayah index in Juz"})}),s.jsx(Gt,{children:f&&f.map((fe,qe)=>s.jsx(Re,{value:String(qe+1),children:qe+1},qe))})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Select Ayah (verse)"}),s.jsxs(en,{onValueChange:fe=>Dr(Number(fe)),disabled:!e,children:[s.jsx(Kt,{className:"w-full",children:s.jsx(tn,{placeholder:"Choose Ayah number"})}),s.jsx(Gt,{children:e&&Array.from({length:e.verses},(fe,qe)=>qe+1).map(fe=>s.jsx(Re,{value:String(fe),children:fe},fe))})]})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Select Juz (Para)"}),s.jsxs(en,{value:D?String(D):void 0,onValueChange:fe=>{F(Number(fe)),T(!0)},children:[s.jsx(Kt,{className:"w-full",children:s.jsx(tn,{placeholder:"Choose Juz (e.g., Alif Lm Mm)"})}),s.jsx(Gt,{children:(P==="urdu"?Ob:Lb).map(fe=>s.jsxs(Re,{value:String(fe.number),children:["Juz ",fe.number,"  ",fe.name]},fe.number))})]}),s.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[s.jsx("span",{className:"text-xs text-gray-600",children:"Name style:"}),s.jsx(G,{size:"sm",variant:P==="translit"?"default":"outline",onClick:()=>R("translit"),children:"Transliteration"}),s.jsx(G,{size:"sm",variant:P==="urdu"?"default":"outline",onClick:()=>R("urdu"),children:""})]}),A&&s.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[s.jsxs(we,{className:"bg-green-600",children:["Viewing: Juz ",D,"  ",((Ct=(P==="urdu"?Ob:Lb).find(fe=>fe.number===D))==null?void 0:Ct.name)||""]}),s.jsx(G,{variant:"outline",onClick:()=>{T(!1),F(null),g([])},children:"Exit Juz View"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Audio Controls"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(G,{onClick:ms,variant:"outline",className:"flex-1",children:[s.jsx(Mp,{className:"w-4 h-4 mr-1"})," Stop"]}),s.jsxs(G,{onClick:zt,variant:I?"default":"outline",className:"flex-1",children:[s.jsx(vv,{className:"w-4 h-4 mr-1"})," ",I?"Repeat: On":"Repeat: Off"]}),s.jsxs(G,{onClick:vt,variant:"outline",className:"flex-1",children:[s.jsx(co,{className:"w-4 h-4 mr-1"})," Cache Offline"]})]})]})]}),s.jsx(G,{onClick:()=>{if(j){ms();return}A?x||!f.length?(J(!0),mt.info("Loading Juz playback will start automatically.")):_i():Yn()},className:"w-full bg-gradient-to-r from-green-600 to-teal-600 hover:from-green-700 hover:to-teal-700",size:"lg",disabled:!1,children:x?s.jsxs(s.Fragment,{children:[s.jsx(Fu,{className:"w-5 h-5 mr-2 animate-spin"}),A?"Loading Juz...":"Loading Surah..."]}):j?s.jsxs(s.Fragment,{children:[s.jsx(Nl,{className:"w-5 h-5 mr-2"}),"Pause Audio"]}):s.jsxs(s.Fragment,{children:[s.jsx(cr,{className:"w-5 h-5 mr-2"}),A?"Play Full Juz":"Play Full Surah"]})}),A&&f.length>0&&s.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-4",children:[s.jsxs(G,{onClick:stopJuzSequence,variant:"destructive",className:"w-full",disabled:!j&&!ne,children:[s.jsx(Mp,{className:"w-4 h-4 mr-1"}),"Stop Juz"]}),s.jsxs(G,{onClick:resumeJuzSequence,className:"w-full bg-blue-600 hover:bg-blue-700",disabled:j||se===null,children:[s.jsx(cr,{className:"w-4 h-4 mr-1"}),"Resume Juz"]})]})]})]}),e&&s.jsx(te,{className:"mb-8 border-2 border-blue-200 bg-gradient-to-r from-blue-50 to-cyan-50",children:s.jsx(re,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:e.name}),s.jsx("p",{className:"text-lg text-gray-700 mb-1",children:e.englishName}),s.jsxs("div",{className:"flex gap-3 flex-wrap",children:[s.jsxs(we,{className:"bg-blue-600",children:[e.verses," Verses"]}),s.jsx(we,{className:"bg-purple-600",children:e.revelation})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(un,{className:"w-8 h-8 text-blue-600"}),s.jsx(ll,{className:"w-8 h-8 text-green-600"}),s.jsx(G,{variant:"outline",onClick:()=>he($==="light"?"dark":"light"),title:"Toggle theme",children:$==="light"?s.jsx(Cz,{className:"w-4 h-4"}):s.jsx(tB,{className:"w-4 h-4"})})]})]})})}),e&&e.number!==9&&e.number!==1&&s.jsxs("div",{className:"text-center py-6 mb-6 border-b-2 border-green-200 bg-gradient-to-r from-green-50 to-teal-50 rounded-lg",children:[s.jsx("p",{className:"text-4xl md:text-5xl mb-3 font-arabic",dir:"rtl",style:{fontFamily:"'Scheherazade New', 'Amiri', serif"},children:"   "}),s.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"In the name of Allah, the Most Gracious, the Most Merciful"})]}),x&&!j?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(Fu,{className:"w-12 h-12 animate-spin text-green-600 mb-4"}),s.jsx("p",{className:"text-gray-600",children:A?"Loading Juz Verses...":"Loading Surah Verses..."})]}):s.jsxs("div",{className:"space-y-4",children:[A&&D&&s.jsx(te,{className:"mb-4 border border-green-200 bg-green-50",children:s.jsx(re,{className:"py-4 px-6",children:s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["Juz ",D,"  ",((bn=(P==="urdu"?Ob:Lb).find(fe=>fe.number===D))==null?void 0:bn.name)||""]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Displaying combined ayat across their surahs"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(vv,{className:"w-6 h-6 text-green-600"}),s.jsx(Mp,{className:"w-6 h-6 text-red-600"}),s.jsxs(G,{variant:"outline",onClick:ga,children:[s.jsx(un,{className:"w-4 h-4 mr-1"})," Go to start"]}),s.jsxs(G,{className:"bg-green-600",onClick:_i,children:[s.jsx(cr,{className:"w-4 h-4 mr-1"})," Play from start"]}),!j&&A&&(f==null?void 0:f.length)>0&&se!=null&&s.jsxs(G,{className:"bg-green-600",onClick:()=>Ni(se),children:[s.jsx(cr,{className:"w-4 h-4 mr-1"})," Resume Juz"]})]})]})})}),A&&!x&&D&&f.length===0&&s.jsx("p",{className:"text-center text-sm text-gray-600",children:"No ayat loaded for this Juz. Try a different translation or check your network."}),(A?f:h).map((fe,qe)=>s.jsxs("div",{ref:et=>{Ne.current[fe.numberInSurah]=et,Ne.current.byIndex||(Ne.current.byIndex=[]),Ne.current.byIndex[qe]=et,A&&qe===0&&(Ne.current.juzStart=et)},children:[A&&s.jsxs("div",{className:"mb-1 text-sm text-gray-600",children:["Surah ",fe.surahName,"  Ayah ",fe.numberInSurah]}),s.jsx(S3,{verse:fe,expanded:N===fe.numberInSurah,onToggle:et=>E(N===et?null:et),onPlay:Xt,isHighlighted:!!(Ae&&Ae.surah===fe.surahNumber&&Ae.ayah===fe.numberInSurah)}),s.jsxs("div",{className:"flex gap-2 mb-6",children:[s.jsxs(G,{onClick:()=>Xt(fe),className:"bg-green-600",children:[s.jsx(cr,{className:"w-4 h-4 mr-1"})," Play Ayah"]}),s.jsxs(G,{onClick:ms,variant:"outline",children:[s.jsx(Mp,{className:"w-4 h-4 mr-1"})," Stop"]}),s.jsxs(G,{onClick:zt,variant:I?"default":"outline",children:[s.jsx(vv,{className:"w-4 h-4 mr-1"})," ",I?"Repeat On":"Repeat Off"]}),V===fe.numberInSurah&&j&&s.jsx(we,{className:"bg-green-600",children:"Playing"})]})]},`${fe.surahNumber||(e==null?void 0:e.number)}-${fe.numberInSurah}`))]})]})]})}const zme=[{number:1,range:[1,4],label:"Al-Fatihah  An-Nisa"},{number:2,range:[5,9],label:"Al-Maidah  At-Tawbah"},{number:3,range:[10,16],label:"Yunus  An-Nahl"},{number:4,range:[17,25],label:"Al-Isra  Al-Furqan"},{number:5,range:[26,36],label:"Ash-Shuara  Ya-Sin"},{number:6,range:[37,49],label:"As-Saffat  Al-Hujurat"},{number:7,range:[50,114],label:"Qaf  An-Nas"}];function E3(){const t=zn(),e=v.useMemo(()=>zme,[]);return s.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[s.jsxs(te,{className:"mb-6",children:[s.jsx(Oe,{children:s.jsx(Fe,{children:"Manzil (Weekly Recitation)"})}),s.jsx(re,{children:s.jsx("p",{className:"text-sm text-gray-600",children:"Select a Manzil to review or recite. You can open the surahs in the Full Quran view and cache them for offline reading."})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.map(n=>s.jsxs(te,{className:"border-green-200",children:[s.jsxs(Oe,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Fe,{className:"flex items-center gap-2",children:[s.jsx(un,{className:"w-5 h-5 text-green-600"})," Manzil ",n.number]}),s.jsxs(we,{className:"bg-green-600",children:["Surah ",n.range[0],"  ",n.range[1]]})]}),s.jsx("p",{className:"text-sm text-gray-600 mt-2",children:n.label})]}),s.jsx(re,{children:s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx(G,{onClick:()=>t(`/FullQuran?surah=${n.range[0]}`),variant:"outline",children:"Open start surah"}),s.jsx(G,{onClick:()=>t(`/FullQuran?surah=${n.range[1]}`),variant:"outline",children:"Open end surah"})]})})]},n.number))})]})}function Bme(t){const e=Math.ceil(t/8),n=(t-1)%8+1;return{juz:e,idx:n}}function C3(){const t=zn(),[e,n]=v.useState(1),{juz:r,idx:i}=v.useMemo(()=>Bme(Math.min(240,Math.max(1,Number(e)||1))),[e]);return s.jsxs("div",{className:"max-w-3xl mx-auto p-6",children:[s.jsxs(te,{className:"mb-6",children:[s.jsx(Oe,{children:s.jsx(Fe,{children:"Hizb / Quarter-Hizb Selection"})}),s.jsx(re,{children:s.jsx("p",{className:"text-sm text-gray-600",children:"Select a quarter (1240). Each Juz has 8 quarters. This navigator links you to the Juz in the Full Quran module and approximates the quarter position."})})]}),s.jsxs(te,{children:[s.jsx(Oe,{children:s.jsx(Fe,{children:"Choose Quarter"})}),s.jsxs(re,{children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Te,{type:"number",min:1,max:240,value:e,onChange:a=>n(a.target.value),className:"w-32"}),s.jsxs(we,{children:["Juz ",r,"  Quarter ",i," of 8"]}),s.jsxs(G,{onClick:()=>t(`/FullQuran?juz=${r}&quarter=${i}`),variant:"default",children:["Open Juz ",r]})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Note: Exact ayah ranges per quarter-hizb vary by script. Well refine per-ayah segment mapping in a subsequent update."})]})]})]})}function hI(t,e){return e?Math.round(t/e*100):0}function k3(){const[t,e]=v.useState({total:0,memorised:0,revision:0,notMemorised:0}),[n,r]=v.useState([]);v.useEffect(()=>{(async()=>{const a=await Dme(),o=Object.entries(a).map(([g,x])=>{const[_,j]=g.split("-").map(Number);return{surahNumber:_,ayahNumber:j,status:x==null?void 0:x.status}}),c=o.length,d=o.filter(g=>g.status==="memorised").length,h=o.filter(g=>g.status==="revision").length,m=o.filter(g=>g.status==="new"||!g.status).length,f=new Map;o.forEach(g=>{const x=g.surahNumber,_=f.get(x)||{surahNumber:x,total:0,memorised:0};_.total+=1,g.status==="memorised"&&(_.memorised+=1),f.set(x,_)}),e({total:c,memorised:d,revision:h,notMemorised:m}),r(Array.from(f.values()).sort((g,x)=>g.surahNumber-x.surahNumber))})()},[]);const i=v.useMemo(()=>hI(t.memorised,t.total),[t]);return s.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[s.jsxs(te,{className:"mb-6",children:[s.jsx(Oe,{children:s.jsx(Fe,{children:"Hifz Progress Dashboard"})}),s.jsxs(re,{children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Total Ayahs Tracked"}),s.jsx("p",{className:"text-lg font-semibold",children:t.total})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Memorised"}),s.jsx("p",{className:"text-lg font-semibold",children:t.memorised})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Under Revision"}),s.jsx("p",{className:"text-lg font-semibold",children:t.revision})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Not Memorised"}),s.jsx("p",{className:"text-lg font-semibold",children:t.notMemorised})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("p",{className:"text-sm mb-1",children:"Overall Memorisation"}),s.jsx(Rc,{value:i}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[i,"% complete"]})]})]})]}),s.jsxs(te,{children:[s.jsx(Oe,{children:s.jsx(Fe,{children:"By Surah"})}),s.jsx(re,{children:s.jsxs("div",{className:"space-y-3",children:[n.length===0&&s.jsx("p",{className:"text-sm text-gray-600",children:"No memorisation data yet. Mark ayahs as memorised in the Full Quran page."}),n.map(a=>{const o=hI(a.memorised,a.total);return s.jsxs("div",{className:"border rounded p-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(we,{children:["Surah ",a.surahNumber]}),s.jsxs("span",{className:"text-sm text-gray-600",children:["Memorised ",a.memorised,"/",a.total]})]}),s.jsxs("span",{className:"text-sm font-medium",children:[o,"%"]})]}),s.jsx(Rc,{value:o,className:"mt-2"})]},a.surahNumber)})]})})]})]})}const $me=hf("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),T3=v.forwardRef(({className:t,variant:e,...n},r)=>s.jsx("div",{ref:r,role:"alert",className:lt($me({variant:e}),t),...n}));T3.displayName="Alert";const qme=v.forwardRef(({className:t,...e},n)=>s.jsx("h5",{ref:n,className:lt("mb-1 font-medium leading-none tracking-tight",t),...e}));qme.displayName="AlertTitle";const A3=v.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:lt("text-sm [&_p]:leading-relaxed",t),...e}));A3.displayName="AlertDescription";const Fb=t=>{const e=Number.isFinite(t)?t:0;return Math.max(0,Math.min(1500,Math.round(e)))};function Hh(){try{const t=localStorage.getItem("ikz_leaderboard"),e=t?JSON.parse(t):[];return Array.isArray(e)?e:[]}catch{return[]}}function Vb(t){try{localStorage.setItem("ikz_leaderboard",JSON.stringify(t))}catch{}}function Wh(){try{const t=localStorage.getItem("users"),e=t?JSON.parse(t):[];return Array.isArray(e)?e:[]}catch{return[]}}function Ub(t){try{localStorage.setItem("users",JSON.stringify(t))}catch{}}function I3(){const[t,e]=v.useState([]),[n,r]=v.useState([]),[i,a]=v.useState(400),[o,c]=v.useState(""),[d,h]=v.useState(400),[m,f]=v.useState(50),[g,x]=v.useState("");v.useEffect(()=>{e(Hh()),r(Wh())},[]);const _=v.useMemo(()=>{const T=new Map;return t.forEach(D=>{const F=(D.email||D.full_name||"").toLowerCase();T.set(F,{source:"leaderboard",...D})}),n.forEach(D=>{const F=(D.email||D.full_name||"").toLowerCase();T.has(F)||T.set(F,{source:"users",...D})}),Array.from(T.values())},[t,n]),j=()=>{e(Hh()),r(Wh())},w=()=>{const T=Fb(Number(i)),F=Hh().map(I=>({...I,points:T}));Vb(F);const R=Wh().map(I=>({...I,points:T}));Ub(R),x(`Reset all learner points to ${T}.`),j()},N=()=>{const T=String(o||"").trim().toLowerCase();if(!T){x("Enter an email to set points.");return}const D=Fb(Number(d));let F=0;const R=Hh().map(V=>(V.email||"").toLowerCase()===T?(F++,{...V,points:D}):V);Vb(R);const O=Wh().map(V=>(V.email||"").toLowerCase()===T?(F++,{...V,points:D}):V);Ub(O),x(F>0?`Set ${T} points to ${D}.`:`No user found for ${T}.`),j()},E=()=>{const T=String(o||"").trim().toLowerCase();if(!T){x("Enter an email to add points.");return}const D=Number(m);let F=0;const P=M=>({...M,points:Fb((M.points||0)+D)}),I=Hh().map(M=>(M.email||"").toLowerCase()===T?(F++,P(M)):M);Vb(I);const V=Wh().map(M=>(M.email||"").toLowerCase()===T?(F++,P(M)):M);Ub(V),x(F>0?`Added ${D} points to ${T}.`:`No user found for ${T}.`),j()},A=()=>{try{localStorage.removeItem("ikz_leaderboard"),localStorage.removeItem("users"),localStorage.removeItem("gameScores"),x("Cleared local sample data: leaderboard, users, game scores.")}catch{x("Failed to clear local sample data.")}j()};return s.jsx("div",{className:"min-h-screen py-12 px-4 bg-gradient-to-br from-blue-50 to-purple-50",children:s.jsx("div",{className:"max-w-5xl mx-auto",children:s.jsxs(te,{className:"shadow-xl border-2 border-blue-200",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:s.jsxs(Fe,{className:"text-2xl flex items-center gap-2",children:[s.jsx(xr,{className:"w-6 h-6"}),"Points Tools: Reset or Add Points"]})}),s.jsxs(re,{className:"p-6 space-y-6",children:[s.jsxs(T3,{className:"bg-blue-50 border-blue-200",children:[s.jsx(z1,{className:"w-4 h-4 text-blue-600"}),s.jsx(A3,{className:"text-blue-800",children:"These tools update local leaderboard and users data. Game logic caps points at 1500."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 items-end",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-700",children:"Reset all learners to"}),s.jsx(Te,{type:"number",value:i,onChange:T=>a(T.target.value)})]}),s.jsx("div",{className:"md:col-span-2 flex gap-2",children:s.jsx(G,{onClick:w,children:"Reset All"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 items-end",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-700",children:"Target email"}),s.jsx(Te,{placeholder:"student@example.com",value:o,onChange:T=>c(T.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-700",children:"Set points to"}),s.jsx(Te,{type:"number",value:d,onChange:T=>h(T.target.value)})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(G,{variant:"outline",onClick:N,children:"Set Exact"}),s.jsx(G,{onClick:E,children:"Add Points"})]})]}),g&&s.jsx("div",{className:"text-sm text-green-700",children:g}),s.jsxs("div",{className:"mt-4 p-4 border rounded-md bg-red-50 border-red-200",children:[s.jsx("div",{className:"font-semibold text-red-700 mb-2",children:"Danger Zone"}),s.jsx("p",{className:"text-sm text-red-700 mb-3",children:"Delete all local sample accounts and details (leaderboard, users, game scores)."}),s.jsx(G,{variant:"destructive",onClick:A,children:"Delete All Fake Accounts and Details"})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Current Learners"}),_.length===0?s.jsx("div",{className:"text-sm text-gray-600",children:"No learners found in local storage."}):s.jsx("div",{className:"divide-y divide-gray-100 bg-white border rounded-md overflow-hidden",children:_.map((T,D)=>{var F;return s.jsxs("div",{className:"p-3 sm:p-4 flex items-center gap-3",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"font-semibold text-gray-900 truncate",children:T.full_name||((F=T.email)==null?void 0:F.split("@")[0])||"Learner"}),s.jsx("div",{className:"text-xs text-gray-600 truncate",children:T.email||"no-email"})]}),s.jsxs("div",{className:"text-right flex-shrink-0",children:[s.jsx("div",{className:"text-amber-600 font-bold",children:T.points||0}),s.jsx("div",{className:"text-[10px] text-gray-500",children:"points"})]})]},`${T.email||T.full_name||"user"}-${D}`)})})]})]})]})})})}function I1(){const[t,e]=v.useState({totalUsers:1200,totalStories:500,totalAudio:300,totalVideos:150,totalQuestions:1e3,totalPaths:50}),n=[{title:"AI Agent / ChatGPT",description:"Ask questions or get admin edit suggestions",icon:Td,path:"Assistant",color:"from-purple-600 to-blue-600",stats:"Admin-only"},{title:"Users Management",description:"Manage users, view profiles, reset points",icon:_l,path:"AdminUsers",color:"from-blue-500 to-cyan-500",stats:`${t.totalUsers} users`},{title:"Points Tools",description:"Reset or add points for learners",icon:xr,path:"ResetPointsAdmin",color:"from-amber-500 to-orange-500",stats:"Adjust points"},{title:"Stories Management",description:"Add, edit, delete stories with images",icon:un,path:"AdminStories",color:"from-green-500 to-teal-500",stats:`${t.totalStories} stories`},{title:"Audio Content",description:"Manage audio files and recordings",icon:Qa,path:"AdminAudioContent",color:"from-purple-500 to-pink-500",stats:`${t.totalAudio} tracks`},{title:"Videos Management",description:"Add and manage video content",icon:Ba,path:"AdminVideos",color:"from-red-500 to-orange-500",stats:`${t.totalVideos} videos`},{title:"Quiz Questions",description:"Create and edit quiz questions",icon:L9,path:"AdminQuestions",color:"from-amber-500 to-yellow-500",stats:`${t.totalQuestions} questions`},{title:"Learning Paths",description:"Create and manage learning paths",icon:im,path:"AdminLearningPaths",color:"from-indigo-500 to-purple-500",stats:`${t.totalPaths} paths`},{title:"Homepage Banners",description:"Manage rotating homepage banners",icon:Ug,path:"AdminBanners",color:"from-teal-500 to-cyan-500",stats:"Edit slides"},{title:"Sponsors & Ads",description:"Manage sponsors and advertising tiles",icon:KI,path:"AdminSponsors",color:"from-amber-500 to-orange-500",stats:"Configure placements"},{title:"Media Library",description:"Upload and manage images",icon:Ya,path:"AdminMedia",color:"from-pink-500 to-rose-500",stats:"Upload files"},{title:"Recordings Review",description:"Review user submissions",icon:Ga,path:"RecordingsAdmin",color:"from-cyan-500 to-blue-500",stats:"Pending review"},{title:"Analytics & Reports",description:"View site statistics and reports",icon:S9,path:"AdminAnalytics",color:"from-violet-500 to-purple-500",stats:"View insights"},{title:"Site Settings",description:"Configure website settings",icon:hd,path:"AdminSettings",color:"from-gray-500 to-slate-500",stats:"Configure"}];return s.jsx("div",{className:"min-h-screen py-12 px-4 bg-gradient-to-br from-gray-50 to-gray-100",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Admin Dashboard"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Manage all website content without using AI credits"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((r,i)=>{const a=r.icon;return s.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:i*.1},children:s.jsxs(Nt,{to:Xe(r.path),children:[" ",s.jsxs(te,{className:"h-full hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 cursor-pointer border-2 hover:border-blue-300",children:[s.jsxs(Oe,{children:[s.jsx("div",{className:`w-14 h-14 rounded-xl bg-gradient-to-br ${r.color} flex items-center justify-center mb-3`,children:s.jsx(a,{className:"w-7 h-7 text-white"})}),s.jsx(Fe,{className:"text-xl",children:r.title})]}),s.jsxs(re,{children:[s.jsx("p",{className:"text-gray-600 mb-2",children:r.description})," ",r.stats&&s.jsx("p",{className:"text-sm font-semibold text-gray-800",children:r.stats})]})]})]})},r.title)})}),s.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-12 text-center",children:s.jsx(te,{className:"bg-blue-50 border-2 border-blue-200",children:s.jsxs(re,{className:"p-6",children:[s.jsx(hd,{className:"w-12 h-12 mx-auto mb-3 text-blue-600"}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No AI Credits Required"}),s.jsx("p",{className:"text-gray-600",children:"All admin pages use standard forms and database operations - no AI processing needed!"})]})})})]})})}function mI(){const t=zn(),[e,n]=v.useState(""),[r,i]=v.useState(""),[a,o]=v.useState(""),[c,d]=v.useState(!1),[h,m]=v.useState(!1),f={apiKey:!0,authDomain:!0,projectId:!0,appId:!0},g={apiKey:"AIzaSyDLi7mVwWnHp_jFlo6KfIXMZEu1iGpA-YE",authDomain:"studio-1726517794-3d5f0.firebaseapp.com",projectId:"studio-1726517794-3d5f0",appId:"1:947105835283:web:b06706b15af28b4c3f12e6",storageBucket:"studio-1726517794-3d5f0.appspot.com",messagingSenderId:"947105835283"},x=(j,w=4,N=4)=>j?j.length<=w+N?j:`${j.slice(0,w)}${j.slice(-N)}`:"(empty)";v.useEffect(()=>{const{app:j}=Ut();m(!!j);const w=qc(async N=>{N&&await jx()&&t(Xe("AdminDashboard"))});return()=>w&&w()},[t]);const _=async j=>{j.preventDefault(),o(""),d(!0);try{if(!h)throw new Error("Firebase not configured");const w=await v6(e,r);if(!await jx())throw await w6(),new Error("Access restricted to admin only");t(Xe("AdminDashboard"))}catch(w){const N=(w==null?void 0:w.code)||"";let E=(w==null?void 0:w.message)||"Login failed";N==="auth/invalid-credential"&&(E="Invalid email or password. Please try again or reset your password."),N==="auth/user-not-found"&&(E="No account found for this email. Please sign up or ask an admin to create one."),N==="auth/wrong-password"&&(E="Incorrect password. Try again or reset your password."),N==="auth/too-many-requests"&&(E="Too many attempts. Please wait a minute, then try again."),N==="auth/operation-not-allowed"&&(E="Email/password sign-in is disabled. Enable it in Firebase Auth  Sign-in method."),o(E)}finally{d(!1)}};return s.jsx("div",{className:"min-h-screen py-12 px-4 bg-gradient-to-br from-slate-50 to-blue-50",children:s.jsx("div",{className:"max-w-md mx-auto",children:s.jsxs(te,{className:"shadow-xl border-2 border-blue-200",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:s.jsxs(Fe,{className:"flex items-center gap-2",children:[s.jsx(Id,{className:"w-5 h-5"})," Secure Admin Login"]})}),s.jsx(re,{className:"p-6",children:h?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-xs text-gray-500 bg-gray-50 border rounded p-2 mb-4",children:[s.jsx("div",{className:"font-semibold mb-1",children:"Debug config (masked)"}),s.jsxs("ul",{className:"list-disc ml-4",children:[s.jsxs("li",{children:["apiKey: ",x(g.apiKey)]}),s.jsxs("li",{children:["authDomain: ",g.authDomain]}),s.jsxs("li",{children:["projectId: ",g.projectId]}),s.jsxs("li",{children:["appId: ",x(g.appId,3,6)]})]})]}),s.jsxs("form",{onSubmit:_,className:"space-y-4",children:[a&&s.jsx("div",{className:"p-2 rounded bg-red-50 text-red-700 text-sm",children:a}),s.jsxs("div",{children:[s.jsx(ye,{children:"Email"}),s.jsx(Te,{type:"email",value:e,onChange:j=>n(j.target.value),required:!0})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Password"}),s.jsx(Te,{type:"password",value:r,onChange:j=>i(j.target.value),required:!0})]}),s.jsx(G,{type:"submit",disabled:c,className:"w-full",children:c?"Signing in...":s.jsxs("span",{className:"inline-flex items-center gap-2",children:[s.jsx(q1,{className:"w-4 h-4"}),"Sign In"]})}),s.jsxs("div",{className:"flex items-center justify-between text-xs mt-2",children:[s.jsx("button",{type:"button",className:"text-blue-600 hover:underline",onClick:async()=>{o("");try{const{auth:j}=Ut();if(!j)throw new Error("Firebase not configured");if(!e)throw new Error("Enter your email above, then click reset.");await iN(j,e),o("Password reset email sent. Check your inbox.")}catch(j){const w=(j==null?void 0:j.code)||"";let N=(j==null?void 0:j.message)||"Failed to send reset email.";w==="auth/invalid-email"&&(N="Please enter a valid email address."),w==="auth/user-not-found"&&(N="No account found for this email."),o(N)}},children:"Forgot password?"}),s.jsxs("span",{className:"text-gray-500 flex items-center gap-1",children:[s.jsx(Yi,{className:"w-4 h-4 text-green-600"})," Access available to any signed-in user"]})]})]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-amber-600",children:[s.jsx(G1,{className:"w-5 h-5"}),s.jsx("span",{children:"Firebase is not configured."})]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Please set Firebase env vars in ",s.jsx("code",{children:".env"}),": ",s.jsx("code",{children:"VITE_FIREBASE_API_KEY"}),", ",s.jsx("code",{children:"VITE_FIREBASE_AUTH_DOMAIN"}),", ",s.jsx("code",{children:"VITE_FIREBASE_PROJECT_ID"}),", ",s.jsx("code",{children:"VITE_FIREBASE_APP_ID"}),". Optional: ",s.jsx("code",{children:"VITE_ADMIN_EMAIL"})," (exact match), ",s.jsx("code",{children:"VITE_ADMIN_EMAIL_DOMAIN"})," (e.g. ",s.jsx("code",{children:"imediackids.com"}),")."]}),s.jsxs("div",{className:"text-xs text-gray-500 bg-gray-50 border rounded p-2",children:[s.jsx("div",{className:"font-semibold mb-1",children:"Detected env flags (no secrets):"}),s.jsxs("ul",{className:"list-disc ml-4",children:[s.jsxs("li",{children:["VITE_FIREBASE_API_KEY: ",f.apiKey?"":""]}),s.jsxs("li",{children:["VITE_FIREBASE_AUTH_DOMAIN: ",f.authDomain?"":""]}),s.jsxs("li",{children:["VITE_FIREBASE_PROJECT_ID: ",f.projectId?"":""]}),s.jsxs("li",{children:["VITE_FIREBASE_APP_ID: ",f.appId?"":""]})]}),s.jsxs("div",{className:"mt-2",children:["After editing ",s.jsx("code",{children:".env"}),", fully restart the dev server (",s.jsx("code",{children:"Ctrl+C"})," then ",s.jsx("code",{children:"npm run dev"}),")."]})]}),s.jsxs("div",{className:"text-xs text-gray-500 bg-gray-50 border rounded p-2",children:[s.jsx("div",{className:"font-semibold mb-1",children:"Debug config (masked)"}),s.jsxs("ul",{className:"list-disc ml-4",children:[s.jsxs("li",{children:["apiKey: ",x(g.apiKey)]}),s.jsxs("li",{children:["authDomain: ",g.authDomain]}),s.jsxs("li",{children:["projectId: ",g.projectId]}),s.jsxs("li",{children:["appId: ",x(g.appId,3,6)]}),s.jsxs("li",{children:["storageBucket: ",g.storageBucket]}),s.jsxs("li",{children:["messagingSenderId: ",g.messagingSenderId]})]}),s.jsxs("div",{className:"mt-2",children:["If values show as ",s.jsx("code",{children:"(empty)"}),", ensure your ",s.jsx("code",{children:".env"})," exists at the project root and variables start with ",s.jsx("code",{children:"VITE_"}),"."]})]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Admin login requires Firebase configuration. Once configured, use your email/password to sign in."})]})})]})})})}function or({children:t}){const e=zn(),[n,r]=v.useState(!1),[i,a]=v.useState(!1);return v.useEffect(()=>{let o=()=>{};const{app:c}=Ut();return c?o=qc(async()=>{const d=await jx();r(d),a(!0),d||e(Xe("AdminLogin"))}):(r(!1),a(!0),e(Xe("Home"))),()=>o&&o()},[e]),!i||!n?null:t}var Vy="Switch",[Hme]=mo(Vy),[Wme,Kme]=Hme(Vy),R3=v.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:a,required:o,disabled:c,value:d="on",onCheckedChange:h,form:m,...f}=t,[g,x]=v.useState(null),_=qt(e,A=>x(A)),j=v.useRef(!1),w=g?m||!!g.closest("form"):!0,[N,E]=Nc({prop:i,defaultProp:a??!1,onChange:h,caller:Vy});return s.jsxs(Wme,{scope:n,checked:N,disabled:c,children:[s.jsx(Et.button,{type:"button",role:"switch","aria-checked":N,"aria-required":o,"data-state":L3(N),"data-disabled":c?"":void 0,disabled:c,value:d,...f,ref:_,onClick:Ye(t.onClick,A=>{E(T=>!T),w&&(j.current=A.isPropagationStopped(),j.current||A.stopPropagation())})}),w&&s.jsx(M3,{control:g,bubbles:!j.current,name:r,value:d,checked:N,required:o,disabled:c,form:m,style:{transform:"translateX(-100%)"}})]})});R3.displayName=Vy;var P3="SwitchThumb",D3=v.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=Kme(P3,n);return s.jsx(Et.span,{"data-state":L3(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});D3.displayName=P3;var Gme="SwitchBubbleInput",M3=v.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...i},a)=>{const o=v.useRef(null),c=qt(o,a),d=N_(n),h=Fj(e);return v.useEffect(()=>{const m=o.current;if(!m)return;const f=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(f,"checked").set;if(d!==n&&x){const _=new Event("click",{bubbles:r});x.call(m,n),m.dispatchEvent(_)}},[d,n,r]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:c,style:{...i.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});M3.displayName=Gme;function L3(t){return t?"checked":"unchecked"}var O3=R3,Qme=D3;const Cs=v.forwardRef(({className:t,...e},n)=>s.jsx(O3,{className:lt("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:s.jsx(Qme,{className:lt("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));Cs.displayName=O3.displayName;const zb={siteTitle:"Islam Kids Zone",tagline:"Learn, Play & Grow",logoEmoji:"",headerGradient:"from-blue-600 to-purple-600",navActiveGradient:"from-blue-500 to-purple-500",backgroundGradient:"from-blue-50 via-purple-50 to-pink-50",darkModeDefault:!1,showTestBanner:!0,showRadioBar:!0,supportEmail:"imedia786@gmail.com",supportWhatsappNumber:"+971500000000",apiBaseUrl:"https://api.example.com",assetsCdnUrl:"https://cdn.example.com",radioUrl:"https://a4.asurahosting.com:7820/radio.mp3",maintenanceMode:!1,enableAnalytics:!1,enableMessages:!0,cacheTtlSeconds:600,recordingStudioText:"Welcome to Islam Media Central Recording Studio. Please record Quran recitation, nasheeds, or Islamic messages with clarity and respect."},fI=[{label:"Blue  Purple",value:"from-blue-600 to-purple-600"},{label:"Purple  Pink",value:"from-purple-600 to-pink-600"},{label:"Teal  Cyan",value:"from-teal-600 to-cyan-600"},{label:"Rose  Orange",value:"from-rose-600 to-orange-600"},{label:"Slate  Gray",value:"from-slate-700 to-gray-700"}],Yme=[{label:"Blue/Purple/Pink",value:"from-blue-50 via-purple-50 to-pink-50"},{label:"Teal/Cyan",value:"from-teal-50 via-cyan-50 to-blue-50"},{label:"Rose/Orange",value:"from-rose-50 via-orange-50 to-yellow-50"},{label:"Neutral",value:"from-gray-50 to-gray-100"}];function F3(){const[t,e]=v.useState(zb),[n,r]=v.useState(!1),[i,a]=v.useState(""),[o,c]=v.useState(""),[d,h]=v.useState(""),[m,f]=v.useState("");v.useEffect(()=>{try{const x=localStorage.getItem("siteSettings");if(x){const _=JSON.parse(x);e({...zb,..._})}}catch{}},[]);const g=()=>{localStorage.setItem("siteSettings",JSON.stringify(t)),r(!0),setTimeout(()=>r(!1),1500)};return s.jsx("div",{className:`min-h-screen py-8 px-4 bg-gradient-to-br ${t.backgroundGradient}`,children:s.jsx("div",{className:"max-w-5xl mx-auto",children:s.jsxs(te,{className:"shadow-xl border-2 border-blue-200",children:[s.jsx(Oe,{className:`text-white bg-gradient-to-r ${t.headerGradient}`,children:s.jsxs(Fe,{className:"flex items-center gap-2",children:[s.jsx(hd,{className:"w-6 h-6"})," Site Settings"]})}),s.jsxs(re,{className:"p-6 space-y-6",children:[n&&s.jsx("div",{className:"p-2 rounded bg-green-50 text-green-700 text-sm",children:"Settings saved"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Site Title"}),s.jsx(Te,{value:t.siteTitle,onChange:x=>e({...t,siteTitle:x.target.value})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Tagline"}),s.jsx(Te,{value:t.tagline,onChange:x=>e({...t,tagline:x.target.value})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Logo Emoji"}),s.jsx(Te,{value:t.logoEmoji,onChange:x=>e({...t,logoEmoji:x.target.value})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Header Gradient"}),s.jsxs(en,{value:t.headerGradient,onValueChange:x=>e({...t,headerGradient:x}),children:[s.jsx(Kt,{children:s.jsx(tn,{placeholder:"Select gradient"})}),s.jsx(Gt,{children:fI.map(x=>s.jsx(Re,{value:x.value,children:x.label},x.value))})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Active Nav Gradient"}),s.jsxs(en,{value:t.navActiveGradient,onValueChange:x=>e({...t,navActiveGradient:x}),children:[s.jsx(Kt,{children:s.jsx(tn,{placeholder:"Select gradient"})}),s.jsx(Gt,{children:fI.map(x=>s.jsx(Re,{value:x.value,children:x.label},x.value))})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Background Gradient"}),s.jsxs(en,{value:t.backgroundGradient,onValueChange:x=>e({...t,backgroundGradient:x}),children:[s.jsx(Kt,{children:s.jsx(tn,{placeholder:"Select background"})}),s.jsx(Gt,{children:Yme.map(x=>s.jsx(Re,{value:x.value,children:x.label},x.value))})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Dark Mode Default"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Cs,{checked:t.darkModeDefault,onCheckedChange:x=>e({...t,darkModeDefault:x})}),s.jsx("span",{className:"text-sm text-gray-600",children:"Apply dark mode on load"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Show Test Mode Banner"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Cs,{checked:t.showTestBanner,onCheckedChange:x=>e({...t,showTestBanner:x})}),s.jsx("span",{className:"text-sm text-gray-600",children:"Toggle info banner in Layout"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Show Radio Bar"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Cs,{checked:t.showRadioBar,onCheckedChange:x=>e({...t,showRadioBar:x})}),s.jsx("span",{className:"text-sm text-gray-600",children:"Enable persistent radio player"})]})]})]}),s.jsxs("div",{className:"pt-6 border-t",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Backend Settings"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Support Email"}),s.jsx(Te,{type:"email",value:t.supportEmail,onChange:x=>e({...t,supportEmail:x.target.value})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Support WhatsApp Number"}),s.jsx(Te,{value:t.supportWhatsappNumber,onChange:x=>e({...t,supportWhatsappNumber:x.target.value})})]}),s.jsxs("div",{className:"space-y-3 md:col-span-2",children:[s.jsx(ye,{children:"API Base URL"}),s.jsx(Te,{value:t.apiBaseUrl,onChange:x=>e({...t,apiBaseUrl:x.target.value})}),s.jsx("p",{className:"text-xs text-gray-500",children:"Non-secret; use env for sensitive keys."})]}),s.jsxs("div",{className:"space-y-3 md:col-span-2",children:[s.jsx(ye,{children:"Assets CDN URL"}),s.jsx(Te,{value:t.assetsCdnUrl,onChange:x=>e({...t,assetsCdnUrl:x.target.value})})]}),s.jsxs("div",{className:"space-y-3 md:col-span-2",children:[s.jsx(ye,{children:"Radio Stream URL"}),s.jsx(Te,{value:t.radioUrl,onChange:x=>e({...t,radioUrl:x.target.value})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Maintenance Mode"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Cs,{checked:t.maintenanceMode,onCheckedChange:x=>e({...t,maintenanceMode:x})}),s.jsx("span",{className:"text-sm text-gray-600",children:"Show site-wide maintenance banner"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Enable Analytics"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Cs,{checked:t.enableAnalytics,onCheckedChange:x=>e({...t,enableAnalytics:x})}),s.jsx("span",{className:"text-sm text-gray-600",children:"Toggle client-side telemetry hooks"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Enable Messages"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Cs,{checked:t.enableMessages,onCheckedChange:x=>e({...t,enableMessages:x})}),s.jsx("span",{className:"text-sm text-gray-600",children:"Toggle AdminMessages/Netlify function usage"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Cache TTL (seconds)"}),s.jsx(Te,{type:"number",min:"0",value:t.cacheTtlSeconds,onChange:x=>e({...t,cacheTtlSeconds:parseInt(x.target.value||0,10)})})]}),s.jsxs("div",{className:"space-y-3 md:col-span-2",children:[s.jsx(ye,{children:"Recording Studio Page Text"}),s.jsx(Rn,{value:t.recordingStudioText,onChange:x=>e({...t,recordingStudioText:x.target.value}),className:"min-h-[120px]",placeholder:"Write instructions, motivational messages, or Quran/Nasheed guidelines for users..."}),s.jsx("p",{className:"text-xs text-gray-500",children:"This appears at the top of the Recording Studio page."})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3 pt-4",children:[s.jsx(G,{onClick:g,children:"Save Settings"}),s.jsx(G,{variant:"outline",onClick:()=>e(zb),children:"Reset to Defaults"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Stored locally for now. For production, persist in Firestore or your backend (Netlify functions), with secure server-side enforcement."}),s.jsxs("div",{className:"pt-8 border-t",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Admin Auth Tools"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 items-end",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Check if Auth Email Exists"}),s.jsx(Te,{type:"email",placeholder:"user@example.com",value:i,onChange:x=>a(x.target.value)})]}),s.jsx("div",{className:"space-y-3",children:s.jsx(G,{onClick:async()=>{var x,_;c("");try{const{auth:j}=(await sn(async()=>{const{getFirebase:A}=await Promise.resolve().then(()=>zT);return{getFirebase:A}},void 0)).getFirebase(),w=await((_=(x=j==null?void 0:j.currentUser)==null?void 0:x.getIdToken)==null?void 0:_.call(x));if(!w)throw new Error("Admin login required");const N=await fetch("/.netlify/functions/authLookup",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${w}`},body:JSON.stringify({email:i.trim().toLowerCase()})}),E=await N.json().catch(()=>({}));if(!N.ok)throw new Error((E==null?void 0:E.error)||`Error ${N.status}`);c(E.exists?`Exists (uid: ${E.uid})`:"Not found in Auth")}catch(j){c(`Lookup failed: ${j.message||j}`)}},children:"Check Email"})})]}),o&&s.jsx("div",{className:"mt-3 text-sm p-2 rounded border bg-white/60",children:o}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:'Requires admin login and server-side verification. Useful when signup says "email already in use" but no user appears in Firestore.'}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-6 items-end",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Delete Test Account (Email or UID)"}),s.jsx(Te,{placeholder:"user@example.com or UID",value:d,onChange:x=>h(x.target.value)})]}),s.jsx("div",{className:"space-y-3",children:s.jsx(G,{variant:"destructive",onClick:async()=>{var _,j;f("");const x=d.trim();if(!x){f("Provide email or UID");return}try{const{auth:w}=(await sn(async()=>{const{getFirebase:D}=await Promise.resolve().then(()=>zT);return{getFirebase:D}},void 0)).getFirebase(),N=await((j=(_=w==null?void 0:w.currentUser)==null?void 0:_.getIdToken)==null?void 0:j.call(_));if(!N)throw new Error("Admin login required");const E=/@/.test(x),A=await fetch("/.netlify/functions/deleteUser",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${N}`},body:JSON.stringify(E?{email:x.toLowerCase()}:{uid:x})}),T=await A.json().catch(()=>({}));if(!A.ok)throw new Error((T==null?void 0:T.error)||`Error ${A.status}`);f(`Deleted: uid=${T.uid}${T.email?`, email=${T.email}`:""}`)}catch(w){f(`Delete failed: ${w.message||w}`)}},children:"Delete Account"})})]}),m&&s.jsx("div",{className:"mt-3 text-sm p-2 rounded border bg-white/60",children:m})]})]})]})})})}function V3(){const[t,e]=v.useState(null),[n,r]=v.useState(!1),[i,a]=v.useState(""),[o,c]=v.useState("all"),d=Ds();zn();const[h,m]=v.useState({title:"",content:"",moral:"",image_url:"",audio_url:"",age_range:"5-12",category:"prophets"}),{data:f=[],isLoading:g}=vn({queryKey:["admin-stories"],queryFn:async()=>await base44.entities.Story.list("-created_date"),initialData:[]}),x=gn({mutationFn:async D=>await base44.entities.Story.create(D),onSuccess:()=>{d.invalidateQueries({queryKey:["admin-stories"]}),r(!1),w()}}),_=gn({mutationFn:async({id:D,storyData:F})=>await base44.entities.Story.update(D,F),onSuccess:()=>{d.invalidateQueries({queryKey:["admin-stories"]}),e(null),r(!1),w()}}),j=gn({mutationFn:async D=>await base44.entities.Story.delete(D),onSuccess:()=>{d.invalidateQueries({queryKey:["admin-stories"]})}}),w=()=>{m({title:"",content:"",moral:"",image_url:"",audio_url:"",age_range:"5-12",category:"prophets"})},N=D=>{e(D),m({title:D.title,content:D.content,moral:D.moral,image_url:D.image_url||"",audio_url:D.audio_url||"",age_range:D.age_range||"5-12",category:D.category}),r(!0)},E=async D=>{window.confirm("Are you sure you want to delete this story?")&&await j.mutateAsync(D)},A=async D=>{D.preventDefault(),t?await _.mutateAsync({id:t.id,storyData:h}):await x.mutateAsync(h)},T=f.filter(D=>{const F=D.title.toLowerCase().includes(i.toLowerCase())||D.content.toLowerCase().includes(i.toLowerCase()),P=o==="all"||D.category===o;return F&&P});return s.jsx("div",{className:"min-h-screen py-8 px-4 bg-gradient-to-br from-slate-50 to-blue-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Nt,{to:Xe("AdminDashboard"),children:s.jsxs(G,{variant:"outline",children:[s.jsx(jl,{className:"w-4 h-4 mr-2"}),"Back"]})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Stories Management"}),s.jsx("p",{className:"text-gray-600",children:"Create and manage Islamic stories"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Nt,{to:Xe("Assistant"),children:s.jsxs(G,{variant:"outline",children:[s.jsx(Td,{className:"w-4 h-4 mr-2"}),"Open AI Agent"]})}),s.jsx(Nt,{to:Xe("AdminMedia"),children:s.jsxs(G,{variant:"outline",children:[s.jsx(Ya,{className:"w-4 h-4 mr-2"}),"Media Library"]})}),s.jsxs(G,{onClick:()=>{r(!0),e(null),w()},className:"bg-green-600 hover:bg-green-700",children:[s.jsx(Rs,{className:"w-4 h-4 mr-2"}),"Add New Story"]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Ja,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx(Te,{type:"text",placeholder:"Search stories...",value:i,onChange:D=>a(D.target.value),className:"pl-10"})]}),s.jsxs(en,{value:o,onValueChange:c,children:[s.jsx(Kt,{className:"w-full sm:w-48",children:s.jsx(tn,{placeholder:"Filter by category"})}),s.jsxs(Gt,{children:[s.jsx(Re,{value:"all",children:"All Categories"}),s.jsx(Re,{value:"prophets",children:"Prophets"}),s.jsx(Re,{value:"sahabah",children:"Sahabah"}),s.jsx(Re,{value:"manners",children:"Manners"}),s.jsx(Re,{value:"kindness",children:"Kindness"}),s.jsx(Re,{value:"honesty",children:"Honesty"}),s.jsx(Re,{value:"gratitude",children:"Gratitude"}),s.jsx(Re,{value:"bedtime",children:"Bedtime"})]})]})]}),s.jsx(ds,{children:n&&s.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:s.jsxs(ee.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"sticky top-0 bg-white border-b p-6 z-10",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl font-bold",children:t?"Edit Story":"Create New Story"}),s.jsx(G,{variant:"ghost",size:"icon",onClick:()=>{r(!1),e(null),w()},children:s.jsx(qr,{className:"w-6 h-6"})})]})}),s.jsxs("form",{onSubmit:A,className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Title *"}),s.jsx(Te,{value:h.title,onChange:D=>m({...h,title:D.target.value}),required:!0,placeholder:"e.g., The Story of Prophet Yusuf"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Category *"}),s.jsxs(en,{value:h.category,onValueChange:D=>m({...h,category:D}),children:[s.jsx(Kt,{children:s.jsx(tn,{})}),s.jsxs(Gt,{children:[s.jsx(Re,{value:"prophets",children:"Prophets"}),s.jsx(Re,{value:"sahabah",children:"Sahabah"}),s.jsx(Re,{value:"manners",children:"Manners"}),s.jsx(Re,{value:"kindness",children:"Kindness"}),s.jsx(Re,{value:"honesty",children:"Honesty"}),s.jsx(Re,{value:"gratitude",children:"Gratitude"}),s.jsx(Re,{value:"bedtime",children:"Bedtime"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Age Range"}),s.jsxs(en,{value:h.age_range,onValueChange:D=>m({...h,age_range:D}),children:[s.jsx(Kt,{children:s.jsx(tn,{})}),s.jsxs(Gt,{children:[s.jsx(Re,{value:"3-6",children:"3-6 years"}),s.jsx(Re,{value:"5-12",children:"5-12 years"}),s.jsx(Re,{value:"7-10",children:"7-10 years"}),s.jsx(Re,{value:"11+",children:"11+ years"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Story Content * (Markdown supported)"}),s.jsx(Rn,{value:h.content,onChange:D=>m({...h,content:D.target.value}),required:!0,rows:12,placeholder:"Write your story here... You can use **bold**, *italic*, and # headings",className:"font-mono"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Tip: Use markdown formatting for better text styling"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Moral/Lesson *"}),s.jsx(Rn,{value:h.moral,onChange:D=>m({...h,moral:D.target.value}),required:!0,rows:3,placeholder:"What should children learn from this story?"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Image URL (optional)"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Te,{value:h.image_url,onChange:D=>m({...h,image_url:D.target.value}),placeholder:"https://... or upload via Media Library"}),s.jsx(Nt,{to:Xe("AdminMedia"),target:"_blank",children:s.jsx(G,{type:"button",variant:"outline",children:s.jsx(Ya,{className:"w-4 h-4"})})})]}),h.image_url&&s.jsx("img",{src:h.image_url,alt:"Preview",className:"mt-2 h-32 object-cover rounded-lg",onError:D=>D.target.style.display="none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Audio URL (optional)"}),s.jsx(Te,{value:h.audio_url,onChange:D=>m({...h,audio_url:D.target.value}),placeholder:"https://... (MP3 audio narration)"})]}),s.jsxs("div",{className:"flex gap-4 justify-end border-t pt-6",children:[s.jsx(G,{type:"button",variant:"outline",onClick:()=>{r(!1),e(null),w()},children:"Cancel"}),s.jsxs(G,{type:"submit",className:"bg-green-600 hover:bg-green-700",children:[s.jsx(la,{className:"w-4 h-4 mr-2"}),t?"Update Story":"Create Story"]})]})]})]})})}),g?s.jsx("div",{className:"text-center py-12",children:"Loading stories..."}):T.length===0?s.jsxs(te,{className:"p-12 text-center",children:[s.jsx(un,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-gray-600",children:f.length===0?"No stories created yet.":"No stories match your search."}),s.jsx(G,{onClick:()=>r(!0),className:"mt-4",children:"Create Your First Story"})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:T.map(D=>s.jsxs(te,{className:"hover:shadow-lg transition-shadow",children:[s.jsxs(Oe,{className:"pb-3",children:[D.image_url&&s.jsx("div",{className:"h-48 -mx-6 -mt-6 mb-4 rounded-t-lg overflow-hidden",children:s.jsx("img",{src:D.image_url,alt:D.title,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsx(Fe,{className:"text-lg line-clamp-2",children:D.title}),s.jsx(we,{children:D.category})]})]}),s.jsxs(re,{children:[s.jsxs("p",{className:"text-sm text-gray-600 mb-4 line-clamp-3",children:[D.content.substring(0,150),"..."]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 mb-4",children:[s.jsx("span",{children:D.age_range}),D.audio_url&&s.jsx("span",{children:"  Audio"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(G,{onClick:()=>N(D),size:"sm",className:"flex-1 bg-blue-600 hover:bg-blue-700",children:[s.jsx(uo,{className:"w-4 h-4 mr-1"}),"Edit"]}),s.jsx(G,{onClick:()=>E(D.id),size:"sm",variant:"outline",className:"text-red-600 border-red-600 hover:bg-red-50",children:s.jsx(nr,{className:"w-4 h-4"})})]})]})]},D.id))}),s.jsxs("div",{className:"mt-8 grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsx(te,{children:s.jsxs(re,{className:"p-4 text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:f.length}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total Stories"})]})}),s.jsx(te,{children:s.jsxs(re,{className:"p-4 text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-green-600",children:f.filter(D=>D.image_url).length}),s.jsx("p",{className:"text-sm text-gray-600",children:"With Images"})]})}),s.jsx(te,{children:s.jsxs(re,{className:"p-4 text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-purple-600",children:f.filter(D=>D.audio_url).length}),s.jsx("p",{className:"text-sm text-gray-600",children:"With Audio"})]})})]})]})})}function Jme(t){const e=Xme(t),n=v.forwardRef((r,i)=>{const{children:a,...o}=r,c=v.Children.toArray(a),d=c.find(efe);if(d){const h=d.props.children,m=c.map(f=>f===d?v.Children.count(h)>1?v.Children.only(null):v.isValidElement(h)?h.props.children:null:f);return s.jsx(e,{...o,ref:i,children:v.isValidElement(h)?v.cloneElement(h,void 0,m):null})}return s.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function Xme(t){const e=v.forwardRef((n,r)=>{const{children:i,...a}=n;if(v.isValidElement(i)){const o=nfe(i),c=tfe(a,i.props);return i.type!==v.Fragment&&(c.ref=r?ho(r,o):o),v.cloneElement(i,c)}return v.Children.count(i)>1?v.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Zme=Symbol("radix.slottable");function efe(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Zme}function tfe(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...c)=>{const d=a(...c);return i(...c),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function nfe(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Uy="Dialog",[U3]=mo(Uy),[rfe,ji]=U3(Uy),z3=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:o=!0}=t,c=v.useRef(null),d=v.useRef(null),[h,m]=Nc({prop:r,defaultProp:i??!1,onChange:a,caller:Uy});return s.jsx(rfe,{scope:e,triggerRef:c,contentRef:d,contentId:$a(),titleId:$a(),descriptionId:$a(),open:h,onOpenChange:m,onOpenToggle:v.useCallback(()=>m(f=>!f),[m]),modal:o,children:n})};z3.displayName=Uy;var B3="DialogTrigger",sfe=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ji(B3,n),a=qt(e,i.triggerRef);return s.jsx(Et.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":R_(i.open),...r,ref:a,onClick:Ye(t.onClick,i.onOpenToggle)})});sfe.displayName=B3;var A_="DialogPortal",[ife,$3]=U3(A_,{forceMount:void 0}),q3=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,a=ji(A_,e);return s.jsx(ife,{scope:e,forceMount:n,children:v.Children.map(r,o=>s.jsx(fo,{present:n||a.open,children:s.jsx(Jx,{asChild:!0,container:i,children:o})}))})};q3.displayName=A_;var Ax="DialogOverlay",H3=v.forwardRef((t,e)=>{const n=$3(Ax,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,a=ji(Ax,t.__scopeDialog);return a.modal?s.jsx(fo,{present:r||a.open,children:s.jsx(ofe,{...i,ref:e})}):null});H3.displayName=Ax;var afe=Jme("DialogOverlay.RemoveScroll"),ofe=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ji(Ax,n);return s.jsx(Zx,{as:afe,allowPinchZoom:!0,shards:[i.contentRef],children:s.jsx(Et.div,{"data-state":R_(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Lc="DialogContent",W3=v.forwardRef((t,e)=>{const n=$3(Lc,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,a=ji(Lc,t.__scopeDialog);return s.jsx(fo,{present:r||a.open,children:a.modal?s.jsx(lfe,{...i,ref:e}):s.jsx(cfe,{...i,ref:e})})});W3.displayName=Lc;var lfe=v.forwardRef((t,e)=>{const n=ji(Lc,t.__scopeDialog),r=v.useRef(null),i=qt(e,n.contentRef,r);return v.useEffect(()=>{const a=r.current;if(a)return zj(a)},[]),s.jsx(K3,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ye(t.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ye(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0;(o.button===2||c)&&a.preventDefault()}),onFocusOutside:Ye(t.onFocusOutside,a=>a.preventDefault())})}),cfe=v.forwardRef((t,e)=>{const n=ji(Lc,t.__scopeDialog),r=v.useRef(!1),i=v.useRef(!1);return s.jsx(K3,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,c;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(r.current||(c=n.triggerRef.current)==null||c.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var d,h;(d=t.onInteractOutside)==null||d.call(t,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((h=n.triggerRef.current)==null?void 0:h.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),K3=v.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=t,c=ji(Lc,n),d=v.useRef(null),h=qt(e,d);return Ij(),s.jsxs(s.Fragment,{children:[s.jsx(Hx,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:s.jsx(qx,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":R_(c.open),...o,ref:h,onDismiss:()=>c.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(ufe,{titleId:c.titleId}),s.jsx(hfe,{contentRef:d,descriptionId:c.descriptionId})]})]})}),I_="DialogTitle",G3=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ji(I_,n);return s.jsx(Et.h2,{id:i.titleId,...r,ref:e})});G3.displayName=I_;var Q3="DialogDescription",Y3=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ji(Q3,n);return s.jsx(Et.p,{id:i.descriptionId,...r,ref:e})});Y3.displayName=Q3;var J3="DialogClose",X3=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ji(J3,n);return s.jsx(Et.button,{type:"button",...r,ref:e,onClick:Ye(t.onClick,()=>i.onOpenChange(!1))})});X3.displayName=J3;function R_(t){return t?"open":"closed"}var Z3="DialogTitleWarning",[ope,eF]=Xq(Z3,{contentName:Lc,titleName:I_,docsSlug:"dialog"}),ufe=({titleId:t})=>{const e=eF(Z3),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return v.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},dfe="DialogDescriptionWarning",hfe=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${eF(dfe).contentName}}.`;return v.useEffect(()=>{var a;const i=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},mfe=z3,ffe=q3,tF=H3,nF=W3,rF=G3,sF=Y3,pfe=X3;const Ym=mfe,gfe=ffe,iF=v.forwardRef(({className:t,...e},n)=>s.jsx(tF,{ref:n,className:lt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));iF.displayName=tF.displayName;const Nd=v.forwardRef(({className:t,children:e,...n},r)=>s.jsxs(gfe,{children:[s.jsx(iF,{}),s.jsxs(nF,{ref:r,className:lt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,s.jsxs(pfe,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(qr,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Nd.displayName=nF.displayName;const _d=({className:t,...e})=>s.jsx("div",{className:lt("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});_d.displayName="DialogHeader";const Sd=v.forwardRef(({className:t,...e},n)=>s.jsx(rF,{ref:n,className:lt("text-lg font-semibold leading-none tracking-tight",t),...e}));Sd.displayName=rF.displayName;const xfe=v.forwardRef(({className:t,...e},n)=>s.jsx(sF,{ref:n,className:lt("text-sm text-muted-foreground",t),...e}));xfe.displayName=sF.displayName;function aF(){const[t,e]=v.useState(!1),[n,r]=v.useState(null),[i,a]=v.useState(!1),[o,c]=v.useState({title:"",mp3_url:"",cover_image:"",description:"",transcript:"",moral_lesson:"",duration:"",age_group:"all",category:"story",subcategory:"",language:"English",allow_download:!1,featured:!1}),d=Ds(),{data:h=[],isLoading:m}=vn({queryKey:["admin-audio"],queryFn:()=>base44.entities.AudioContent.list("-created_date"),initialData:[]}),f=gn({mutationFn:E=>base44.entities.AudioContent.create(E),onSuccess:()=>{d.invalidateQueries({queryKey:["admin-audio"]}),e(!1),_()}}),g=gn({mutationFn:({id:E,data:A})=>base44.entities.AudioContent.update(E,A),onSuccess:()=>{d.invalidateQueries({queryKey:["admin-audio"]}),e(!1),_()}}),x=gn({mutationFn:E=>base44.entities.AudioContent.delete(E),onSuccess:()=>{d.invalidateQueries({queryKey:["admin-audio"]})}}),_=()=>{c({title:"",mp3_url:"",cover_image:"",description:"",transcript:"",moral_lesson:"",duration:"",age_group:"all",category:"story",subcategory:"",language:"English",allow_download:!1,featured:!1}),r(null)},j=E=>{r(E),c({title:E.title||"",mp3_url:E.mp3_url||"",cover_image:E.cover_image||"",description:E.description||"",transcript:E.transcript||"",moral_lesson:E.moral_lesson||"",duration:E.duration||"",age_group:E.age_group||"all",category:E.category||"story",subcategory:E.subcategory||"",language:E.language||"English",allow_download:E.allow_download||!1,featured:E.featured||!1}),e(!0)},w=E=>{E.preventDefault(),n?g.mutate({id:n.id,data:o}):f.mutate(o)},N=async(E,A)=>{const T=E.target.files[0];if(T){a(!0);try{const{file_url:D}=await base44.integrations.Core.UploadFile({file:T});c({...o,[A]:D})}catch(D){console.error("Error uploading file:",D),alert("Failed to upload file")}finally{a(!1)}}};return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"Audio Content Management"}),s.jsxs(G,{onClick:()=>{_(),e(!0)},className:"bg-green-600 hover:bg-green-700",children:[s.jsx(Rs,{className:"w-4 h-4 mr-2"}),"Add New Audio"]})]}),m?s.jsx("p",{className:"text-center py-12 text-gray-500",children:"Loading audio content..."}):s.jsx("div",{className:"grid gap-6",children:h.map((E,A)=>s.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:A*.05},children:s.jsxs(te,{children:[s.jsx(Oe,{children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex gap-4 flex-1",children:[E.cover_image&&s.jsx("img",{src:E.cover_image,alt:E.title,className:"w-20 h-20 rounded object-cover"}),s.jsxs("div",{className:"flex-1",children:[s.jsx(Fe,{className:"text-xl mb-2",children:E.title}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:E.category}),s.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:E.age_group}),E.duration&&s.jsx("span",{className:"text-xs bg-gray-100 text-gray-800 px-2 py-1 rounded",children:E.duration}),E.featured&&s.jsx("span",{className:"text-xs bg-amber-100 text-amber-800 px-2 py-1 rounded",children:" Featured"})]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[E.mp3_url&&s.jsx(G,{variant:"outline",size:"sm",onClick:()=>window.open(E.mp3_url,"_blank"),children:s.jsx(cr,{className:"w-4 h-4"})}),s.jsx(G,{variant:"outline",size:"sm",onClick:()=>j(E),children:s.jsx(Oz,{className:"w-4 h-4"})}),s.jsx(G,{variant:"outline",size:"sm",onClick:()=>{confirm("Are you sure you want to delete this audio?")&&x.mutate(E.id)},className:"text-red-600 hover:text-red-700",children:s.jsx(nr,{className:"w-4 h-4"})})]})]})}),E.description&&s.jsx(re,{children:s.jsx("p",{className:"text-gray-600 text-sm line-clamp-2",children:E.description})})]})},E.id))}),s.jsx(Ym,{open:t,onOpenChange:e,children:s.jsxs(Nd,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[s.jsx(_d,{children:s.jsx(Sd,{children:n?"Edit Audio":"Add New Audio"})}),s.jsxs("form",{onSubmit:w,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"title",children:"Title *"}),s.jsx(Te,{id:"title",value:o.title,onChange:E=>c({...o,title:E.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"duration",children:"Duration (MM:SS)"}),s.jsx(Te,{id:"duration",value:o.duration,onChange:E=>c({...o,duration:E.target.value}),placeholder:"05:30"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"category",children:"Category *"}),s.jsxs(en,{value:o.category,onValueChange:E=>c({...o,category:E}),children:[s.jsx(Kt,{children:s.jsx(tn,{})}),s.jsxs(Gt,{children:[s.jsx(Re,{value:"story",children:"Story"}),s.jsx(Re,{value:"hadith",children:"Hadith"}),s.jsx(Re,{value:"history",children:"History"}),s.jsx(Re,{value:"nasheed",children:"Nasheed"}),s.jsx(Re,{value:"tajweed",children:"Tajweed"}),s.jsx(Re,{value:"fiqh",children:"Fiqh"}),s.jsx(Re,{value:"quran",children:"Quran"})]})]})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"age_group",children:"Age Group"}),s.jsxs(en,{value:o.age_group,onValueChange:E=>c({...o,age_group:E}),children:[s.jsx(Kt,{children:s.jsx(tn,{})}),s.jsxs(Gt,{children:[s.jsx(Re,{value:"3-6",children:"3-6 years"}),s.jsx(Re,{value:"7-10",children:"7-10 years"}),s.jsx(Re,{value:"11+",children:"11+ years"}),s.jsx(Re,{value:"all",children:"All Ages"})]})]})]})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"description",children:"Description"}),s.jsx(Rn,{id:"description",value:o.description,onChange:E=>c({...o,description:E.target.value}),rows:3})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"mp3",children:"Audio File (MP3) *"}),s.jsxs("div",{className:"flex gap-2 items-end",children:[s.jsx("div",{className:"flex-1",children:s.jsx(Te,{id:"mp3",value:o.mp3_url,onChange:E=>c({...o,mp3_url:E.target.value}),placeholder:"MP3 URL or upload below",required:!0})}),s.jsxs(G,{type:"button",variant:"outline",onClick:()=>document.getElementById("mp3-upload").click(),disabled:i,children:[s.jsx(Xa,{className:"w-4 h-4 mr-2"}),i?"Uploading...":"Upload"]}),s.jsx("input",{id:"mp3-upload",type:"file",accept:"audio/*",className:"hidden",onChange:E=>N(E,"mp3_url")})]})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"cover",children:"Cover Image"}),s.jsxs("div",{className:"flex gap-2 items-end",children:[s.jsx("div",{className:"flex-1",children:s.jsx(Te,{id:"cover",value:o.cover_image,onChange:E=>c({...o,cover_image:E.target.value}),placeholder:"Image URL or upload below"})}),s.jsxs(G,{type:"button",variant:"outline",onClick:()=>document.getElementById("cover-upload").click(),disabled:i,children:[s.jsx(Xa,{className:"w-4 h-4 mr-2"}),i?"Uploading...":"Upload"]}),s.jsx("input",{id:"cover-upload",type:"file",accept:"image/*",className:"hidden",onChange:E=>N(E,"cover_image")})]})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"transcript",children:"Transcript"}),s.jsx(Rn,{id:"transcript",value:o.transcript,onChange:E=>c({...o,transcript:E.target.value}),rows:6,placeholder:"Full text transcript of the audio..."})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"moral",children:"Moral Lesson"}),s.jsx(Rn,{id:"moral",value:o.moral_lesson,onChange:E=>c({...o,moral_lesson:E.target.value}),rows:2})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"featured",checked:o.featured,onChange:E=>c({...o,featured:E.target.checked}),className:"w-4 h-4"}),s.jsx(ye,{htmlFor:"featured",className:"cursor-pointer",children:"Featured Content"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"allow_download",checked:o.allow_download,onChange:E=>c({...o,allow_download:E.target.checked}),className:"w-4 h-4"}),s.jsx(ye,{htmlFor:"allow_download",className:"cursor-pointer",children:"Allow Downloads"})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx(G,{type:"button",variant:"outline",onClick:()=>e(!1),className:"flex-1",children:"Cancel"}),s.jsx(G,{type:"submit",disabled:f.isPending||g.isPending,className:"flex-1 bg-green-600 hover:bg-green-700",children:n?"Update Audio":"Create Audio"})]})]})]})})]})})}function oF(){const[t,e]=v.useState(null),[n,r]=v.useState(!1),[i,a]=v.useState([]),[o,c]=v.useState(null),[d,h]=v.useState(""),[m,f]=v.useState(!1),[g,x]=v.useState([]);zn(),v.useEffect(()=>{_()},[]);const _=()=>{const I=localStorage.getItem("uploaded_media_files");I&&a(JSON.parse(I))},j=I=>{localStorage.setItem("uploaded_media_files",JSON.stringify(I)),a(I)},w=v.useCallback(I=>{I.preventDefault(),I.stopPropagation(),I.type==="dragenter"||I.type==="dragover"?f(!0):I.type==="dragleave"&&f(!1)},[]),N=v.useCallback(I=>{I.preventDefault(),I.stopPropagation(),f(!1),I.dataTransfer.files&&I.dataTransfer.files[0]&&A(I.dataTransfer.files)},[]),E=I=>{I.target.files&&I.target.files[0]&&A(I.target.files)},A=async I=>{r(!0);const O=[];for(let M=0;M<I.length;M++){const U=I[M];try{const J=await Je.integrations.Core.UploadFile({file:U});O.push({id:Date.now()+M,name:U.name,url:J.file_url,type:U.type,size:U.size,uploadedAt:new Date().toISOString()})}catch(J){console.error("Upload failed:",J),alert(`Failed to upload ${U.name}`)}}const V=[...O,...i];j(V),r(!1)},T=I=>{navigator.clipboard.writeText(I),c(I),setTimeout(()=>c(null),2e3)},D=I=>{if(window.confirm("Delete this file? This won't delete it from storage but removes it from this list.")){const O=i.filter(V=>V.id!==I);j(O)}},F=I=>{g.includes(I)?x(g.filter(O=>O!==I)):x([...g,I])},P=()=>{if(window.confirm(`Delete ${g.length} selected files?`)){const I=i.filter(O=>!g.includes(O.id));j(I),x([])}},R=i.filter(I=>I.name.toLowerCase().includes(d.toLowerCase()));return s.jsx("div",{className:"min-h-screen py-8 px-4 bg-gradient-to-br from-slate-50 to-blue-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Nt,{to:Xe("AdminDashboard"),children:s.jsxs(G,{variant:"outline",children:[s.jsx(jl,{className:"w-4 h-4 mr-2"}),"Back"]})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Media Library"}),s.jsx("p",{className:"text-gray-600",children:"Upload and manage images & files"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Nt,{to:Xe("Assistant"),children:s.jsxs(G,{variant:"outline",children:[s.jsx(Td,{className:"w-4 h-4 mr-2"}),"Open AI Agent"]})}),g.length>0&&s.jsxs(G,{onClick:P,variant:"destructive",children:[s.jsx(nr,{className:"w-4 h-4 mr-2"}),"Delete ",g.length," Selected"]})]})]}),s.jsxs(te,{className:"mb-8",children:[s.jsx(Oe,{children:s.jsxs(Fe,{className:"flex items-center gap-2",children:[s.jsx(Xa,{className:"w-6 h-6"}),"Upload Files"]})}),s.jsx(re,{children:s.jsx("div",{className:`border-4 border-dashed rounded-xl p-12 text-center transition-all ${m?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:w,onDragLeave:w,onDragOver:w,onDrop:N,children:n?s.jsxs("div",{children:[s.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Uploading..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(Ya,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Drag & Drop Files Here"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"or click to browse (supports multiple files)"}),s.jsx("input",{type:"file",multiple:!0,onChange:E,className:"hidden",id:"file-input",accept:"image/*,audio/*,video/*"}),s.jsx("label",{htmlFor:"file-input",children:s.jsx(G,{type:"button",className:"cursor-pointer",asChild:!0,children:s.jsxs("span",{children:[s.jsx(Xa,{className:"w-4 h-4 mr-2"}),"Choose Files"]})})}),s.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Supported: Images, Audio, Video files"})]})})})]}),s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Ja,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx(Te,{type:"text",placeholder:"Search files...",value:d,onChange:I=>h(I.target.value),className:"pl-10"})]}),s.jsxs("div",{className:"text-sm text-gray-600",children:[R.length," files"]})]})}),R.length===0?s.jsxs(te,{className:"p-12 text-center",children:[s.jsx(Ya,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-gray-600",children:i.length===0?"No files uploaded yet. Upload your first file above!":"No files match your search."})]}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:s.jsx(ds,{children:R.map(I=>{var O,V,M;return s.jsx(ee.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},children:s.jsx(te,{className:`hover:shadow-lg transition-all cursor-pointer ${g.includes(I.id)?"ring-2 ring-blue-500":""}`,children:s.jsxs(re,{className:"p-0",children:[s.jsxs("div",{className:"relative h-48 bg-gray-100 rounded-t-lg overflow-hidden",onClick:()=>F(I.id),children:[(O=I.type)!=null&&O.startsWith("image/")?s.jsx("img",{src:I.url,alt:I.name,className:"w-full h-full object-cover"}):(V=I.type)!=null&&V.startsWith("audio/")?s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx("div",{className:"text-6xl",children:""})}):(M=I.type)!=null&&M.startsWith("video/")?s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx("div",{className:"text-6xl",children:""})}):s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx("div",{className:"text-6xl",children:""})}),g.includes(I.id)&&s.jsx("div",{className:"absolute top-2 right-2 bg-blue-500 text-white rounded-full p-1",children:s.jsx(Sm,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("p",{className:"font-semibold text-sm mb-2 truncate",title:I.name,children:I.name}),s.jsxs("p",{className:"text-xs text-gray-500 mb-3",children:[(I.size/1024).toFixed(1)," KB  ",new Date(I.uploadedAt).toLocaleDateString()]}),s.jsx("div",{className:"flex items-center gap-2 mb-3",children:s.jsx(Te,{value:I.url,readOnly:!0,className:"text-xs flex-1",onClick:U=>U.target.select()})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(G,{size:"sm",className:"flex-1",onClick:()=>T(I.url),children:o===I.url?s.jsxs(s.Fragment,{children:[s.jsx(Sm,{className:"w-3 h-3 mr-1"}),"Copied!"]}):s.jsxs(s.Fragment,{children:[s.jsx($9,{className:"w-3 h-3 mr-1"}),"Copy URL"]})}),s.jsx(G,{size:"sm",variant:"outline",onClick:()=>D(I.id),className:"text-red-600 hover:bg-red-50",children:s.jsx(nr,{className:"w-3 h-3"})})]})]})]})})},I.id)})})}),s.jsx(te,{className:"mt-8 bg-blue-50 border-blue-200",children:s.jsxs(re,{className:"p-6",children:[s.jsx("h3",{className:"font-bold text-lg mb-3",children:" How to Use Uploaded Files"}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[s.jsxs("p",{children:["1. ",s.jsx("strong",{children:"Copy the URL"})," from any file above"]}),s.jsxs("p",{children:["2. ",s.jsx("strong",{children:"Paste it"})," into Story Image URL, Audio URL, or Video fields"]}),s.jsx("p",{children:"3. The file will be displayed in your content"}),s.jsxs("p",{children:["4. ",s.jsx("strong",{children:"Tip:"})," Upload images for stories, audio for lessons, videos for tutorials"]})]})]})})]})})}function lF(){const t=[{icon:HI,title:"Information We Collect",color:"from-blue-500 to-cyan-500",content:[{subtitle:"Personal Information",text:"When you create an account, we collect basic information such as your child's name, age, city, and email address. We only collect the minimum information necessary to provide our services."},{subtitle:"Usage Data",text:"We collect information about how you use our website, including pages visited, games played, and learning progress. This helps us improve our services and provide a better experience."},{subtitle:"Recordings and Submissions",text:"If your child submits audio recordings, drawings, or writings through our platform, we store this content along with the associated user information."}]},{icon:q1,title:"How We Use Your Information",color:"from-green-500 to-emerald-500",content:[{subtitle:"Service Delivery",text:"We use your information to provide access to educational content, games, and learning materials on our platform."},{subtitle:"Progress Tracking",text:"We track learning progress, points, and achievements to motivate children and provide personalized learning experiences."},{subtitle:"Communication",text:"We may send important updates about the platform, new features, or educational content. We will never send spam or share your email with third parties."},{subtitle:"Improvement",text:"We analyze usage patterns to improve our content and make the learning experience better for all children."}]},{icon:cC,title:"Children's Privacy",color:"from-purple-500 to-pink-500",content:[{subtitle:"Age Requirements",text:"Our service is designed for children aged 3-18. We take children's privacy very seriously and comply with applicable children's privacy laws."},{subtitle:"Parental Consent",text:"We encourage parents to be involved in their children's online activities. Parents can request to review, update, or delete their child's information at any time."},{subtitle:"Safe Environment",text:"We maintain a safe, ad-free environment. We never show advertisements or share children's information with third-party advertisers."},{subtitle:"No Public Profiles",text:"Children's profiles and personal information are not publicly visible. Only usernames and points appear on leaderboards."}]},{icon:Id,title:"Data Protection & Security",color:"from-amber-500 to-orange-500",content:[{subtitle:"Secure Storage",text:"We use industry-standard security measures to protect your information. All data is stored securely using encryption."},{subtitle:"Access Control",text:"Access to personal information is restricted to authorized personnel only, and only when necessary for service delivery."},{subtitle:"No Data Selling",text:"We will never sell, rent, or trade your personal information or your child's information to third parties."}]},{icon:z1,title:"Third-Party Services",color:"from-red-500 to-rose-500",content:[{subtitle:"External Links",text:"Our website may contain links to external websites (e.g., SearchTruth.com for Hadith search). We are not responsible for the privacy practices of these external sites."},{subtitle:"Analytics",text:"We may use basic analytics to understand how our service is used, but we do not share personal information with analytics providers."},{subtitle:"Content Delivery",text:"We use secure content delivery networks (CDNs) to serve Quran audio and other educational content."}]},{icon:cC,title:"Your Rights",color:"from-indigo-500 to-purple-500",content:[{subtitle:"Access Your Data",text:"You have the right to access all personal information we hold about you or your child."},{subtitle:"Update Information",text:"You can update your profile information at any time through your account settings."},{subtitle:"Delete Account",text:"You can request deletion of your account and all associated data at any time by contacting us."},{subtitle:"Data Portability",text:"You can request a copy of your data in a portable format."}]}];return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-5xl mx-auto",children:[s.jsxs(ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Privacy Policy"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Your privacy and your child's safety are our top priorities"}),s.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Last Updated: January 2025"})]}),s.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-12",children:s.jsx(te,{className:"border-2 border-blue-300 shadow-xl bg-gradient-to-br from-blue-50 to-purple-50",children:s.jsxs(re,{className:"p-8",children:[s.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"Welcome to Islam Kids Zone. We are committed to protecting your privacy and ensuring a safe online environment for children. This Privacy Policy explains how we collect, use, and protect your information."}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:"By using our website, you agree to the collection and use of information in accordance with this policy. If you do not agree with our policies, please do not use our service."})]})})}),s.jsx("div",{className:"space-y-8 mb-12",children:t.map((e,n)=>{const r=e.icon;return s.jsx(ee.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:n*.1},children:s.jsxs(te,{className:"border-2 border-gray-200 shadow-lg hover:shadow-xl transition-all",children:[s.jsx(Oe,{children:s.jsxs(Fe,{className:"flex items-center gap-3 text-2xl",children:[s.jsx("div",{className:`w-12 h-12 rounded-xl bg-gradient-to-br ${e.color} flex items-center justify-center`,children:s.jsx(r,{className:"w-6 h-6 text-white"})}),e.title]})}),s.jsx(re,{className:"space-y-6",children:e.content.map((i,a)=>s.jsxs("div",{className:"bg-gray-50 p-5 rounded-lg border-l-4 border-blue-400",children:[s.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:i.subtitle}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:i.text})]},a))})]})},e.title)})}),s.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"mb-12",children:s.jsxs(te,{className:"border-2 border-amber-300 shadow-xl",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white",children:s.jsx(Fe,{className:"text-2xl",children:" Cookies & Tracking"})}),s.jsxs(re,{className:"p-6 space-y-4",children:[s.jsxs("p",{className:"text-gray-700",children:[s.jsx("strong",{children:"What are cookies?"})," Cookies are small text files stored on your device that help us remember your preferences and provide a better experience."]}),s.jsxs("div",{className:"bg-amber-50 p-4 rounded-lg",children:[s.jsxs("p",{className:"text-gray-700 mb-2",children:[s.jsx("strong",{children:"Essential Cookies:"})," Required for the website to function properly (e.g., login sessions)."]}),s.jsxs("p",{className:"text-gray-700",children:[s.jsx("strong",{children:"Analytics Cookies:"})," Help us understand how visitors use our site to improve it."]})]}),s.jsx("p",{className:"text-gray-700",children:"You can disable cookies in your browser settings, but this may affect your ability to use certain features of our website."})]})]})}),s.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"mb-12",children:s.jsxs(te,{className:"border-2 border-green-300 shadow-xl",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white",children:s.jsx(Fe,{className:"text-2xl",children:" Data Retention"})}),s.jsxs(re,{className:"p-6",children:[s.jsx("p",{className:"text-gray-700 mb-4",children:"We retain your personal information only for as long as necessary to provide our services and comply with legal obligations."}),s.jsxs("ul",{className:"space-y-2 text-gray-700",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-green-600 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Active Accounts:"})," Data is retained while your account is active."]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-green-600 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Inactive Accounts:"})," Accounts inactive for 2 years may be deleted after notification."]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-green-600 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Deleted Accounts:"})," Upon request, we delete all personal data within 30 days."]})]})]})]})]})}),s.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"mb-12",children:s.jsxs(te,{className:"border-2 border-purple-300 shadow-xl",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white",children:s.jsx(Fe,{className:"text-2xl",children:" Changes to This Policy"})}),s.jsxs(re,{className:"p-6",children:[s.jsx("p",{className:"text-gray-700 mb-4",children:'We may update our Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page and updating the "Last Updated" date.'}),s.jsx("p",{className:"text-gray-700",children:"We encourage you to review this Privacy Policy periodically for any changes. Changes to this Privacy Policy are effective when they are posted on this page."})]})]})}),s.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},children:s.jsxs(te,{className:"border-2 border-blue-300 shadow-2xl bg-gradient-to-br from-blue-50 to-cyan-50",children:[s.jsx(Oe,{children:s.jsxs(Fe,{className:"text-2xl flex items-center gap-2",children:[s.jsx(Lx,{className:"w-6 h-6 text-blue-600"}),"Contact Us"]})}),s.jsxs(re,{className:"p-6",children:[s.jsx("p",{className:"text-gray-700 mb-4",children:"If you have any questions about this Privacy Policy, or if you want to exercise your rights regarding your personal information, please contact us:"}),s.jsx("div",{className:"bg-white p-6 rounded-xl border-2 border-blue-200",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("p",{className:"text-gray-700",children:[s.jsx("strong",{children:"Email:"})," ",s.jsx("a",{href:"mailto:huzaify786@gmail.com",className:"text-blue-600 hover:text-blue-700 underline",children:"huzaify786@gmail.com"})]}),s.jsxs("p",{className:"text-gray-700",children:[s.jsx("strong",{children:"WhatsApp:"})," ",s.jsx("a",{href:"https://wa.me/447447999284",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-700 underline",children:"+44 744 799 9284"})]}),s.jsxs("p",{className:"text-gray-700",children:[s.jsx("strong",{children:"Contact Page:"})," ",s.jsx(Nt,{to:Xe("ContactUs"),className:"text-blue-600 hover:text-blue-700 underline",children:"Visit our Contact Page"})]})]})}),s.jsx("p",{className:"text-sm text-gray-600 mt-4",children:"We aim to respond to all privacy-related inquiries within 48 hours."})]})]})}),s.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"mt-12 text-center",children:s.jsx("p",{className:"text-gray-600 text-sm",children:"Islam Kids Zone is committed to creating a safe, educational, and enjoyable online experience for Muslim children worldwide. "})})]})})}const Bb=[{id:"islamic_quiz",name:"Islamic Quiz",icon:""},{id:"word_search",name:"Word Search",icon:""},{id:"memory_match",name:"Memory Match",icon:""},{id:"seerah",name:"Seerah Quiz",icon:""},{id:"quran",name:"Quran Quiz",icon:""},{id:"hadith",name:"Hadith Match",icon:""}];function cF(){const t=zn(),e=Ds(),[n,r]=v.useState(null),[i,a]=v.useState(!1),[o,c]=v.useState(Bb[0].id),[d,h]=v.useState(""),[m,f]=v.useState("all");v.useEffect(()=>{g()},[]);const g=async()=>{try{if(await base44.auth.isAuthenticated()){const O=await base44.auth.me();r(O)}else t(Xe("Games"))}catch(I){console.error("Error loading user:",I),t(Xe("Games"))}},{data:x=[]}=vn({queryKey:["all-users"],queryFn:async()=>(await base44.entities.User.list("-points",100)).filter(O=>O.id!==(n==null?void 0:n.id)&&O.email),enabled:!!n,initialData:[]}),{data:_=[],isLoading:j}=vn({queryKey:["challenges",n==null?void 0:n.id],queryFn:async()=>{if(!n)return[];const I=await base44.entities.Challenge.filter({challenger_id:n.id},"-created_date",100),O=await base44.entities.Challenge.filter({opponent_id:n.id},"-created_date",100);return[...I,...O]},enabled:!!n,initialData:[]}),w=gn({mutationFn:async I=>await base44.entities.Challenge.create(I),onSuccess:()=>{e.invalidateQueries({queryKey:["challenges"]}),a(!1),h("")}}),N=gn({mutationFn:async I=>await base44.entities.Challenge.update(I,{status:"accepted"}),onSuccess:()=>{e.invalidateQueries({queryKey:["challenges"]})}}),E=gn({mutationFn:async I=>await base44.entities.Challenge.update(I,{status:"declined"}),onSuccess:()=>{e.invalidateQueries({queryKey:["challenges"]})}}),A=async()=>{if(!d||!n)return;const I=x.find(V=>V.email===d);if(!I){alert("User not found. Please check the email address.");return}const O=new Date;O.setDate(O.getDate()+7),await w.mutateAsync({challenger_id:n.id,challenger_name:n.full_name||n.email,opponent_id:I.id,opponent_name:I.full_name||I.email,game_type:o,status:"pending",expires_at:O.toISOString()}),alert(`Challenge sent to ${I.full_name||I.email}!`)},T=async I=>{await N.mutateAsync(I.id),t(Xe("Games")+`?challenge=${I.id}`)},D=I=>{t(Xe("Games")+`?challenge=${I.id}`)},F=_.filter(I=>m==="all"?!0:m==="sent"?I.challenger_id===(n==null?void 0:n.id):m==="received"?I.opponent_id===(n==null?void 0:n.id)&&I.status==="pending":m==="completed"?I.status==="completed":!0),P=I=>{const O=I.challenger_id===(n==null?void 0:n.id);switch(I.status){case"pending":return s.jsx(we,{className:"bg-yellow-500",children:O?"Waiting":"New!"});case"accepted":return s.jsx(we,{className:"bg-blue-500",children:"In Progress"});case"completed":return s.jsx(we,{className:"bg-green-500",children:"Completed"});case"declined":return s.jsx(we,{className:"bg-red-500",children:"Declined"});default:return null}},R=I=>{if(I.status!=="completed"||!I.winner_id)return null;const O=I.winner_id===(n==null?void 0:n.id);return I.challenger_score===I.opponent_score?s.jsx(we,{className:"bg-gray-500",children:"Draw"}):O?s.jsxs(we,{className:"bg-green-500 flex items-center gap-1",children:[s.jsx(xr,{className:"w-3 h-3"})," You Won!"]}):s.jsx(we,{className:"bg-red-500",children:"You Lost"})};return n?s.jsx("div",{className:"min-h-screen py-8 px-4 bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx("div",{className:"flex items-center justify-between mb-8",children:s.jsxs(G,{variant:"ghost",onClick:()=>t(Xe("Games")),className:"text-gray-600",children:[s.jsx(jl,{className:"w-4 h-4 mr-2"}),"Back to Games"]})}),s.jsxs(ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Challenge Arena"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Challenge friends and compete for glory!"})]}),s.jsx("div",{className:"mb-8",children:s.jsxs(G,{onClick:()=>a(!i),size:"lg",className:"w-full md:w-auto bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:[s.jsx(rB,{className:"w-5 h-5 mr-2"}),"Send New Challenge"]})}),s.jsx(ds,{children:i&&s.jsx(ee.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mb-8",children:s.jsxs(te,{className:"border-2 border-purple-300 shadow-xl",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white",children:s.jsx(Fe,{children:"Create New Challenge"})}),s.jsx(re,{className:"p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Select Game Type"}),s.jsxs(en,{value:o,onValueChange:c,children:[s.jsx(Kt,{children:s.jsx(tn,{})}),s.jsx(Gt,{children:Bb.map(I=>s.jsxs(Re,{value:I.id,children:[I.icon," ",I.name]},I.id))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Opponent's Email"}),s.jsx(Te,{type:"email",value:d,onChange:I=>h(I.target.value),placeholder:"friend@example.com",list:"users-list"}),s.jsx("datalist",{id:"users-list",children:x.map(I=>s.jsx("option",{value:I.email,children:I.full_name||I.email},I.id))})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(G,{onClick:A,disabled:!d||w.isPending,className:"flex-1 bg-gradient-to-r from-green-500 to-teal-500",children:[s.jsx(Bg,{className:"w-4 h-4 mr-2"}),w.isPending?"Sending...":"Send Challenge"]}),s.jsx(G,{onClick:()=>a(!1),variant:"outline",className:"flex-1",children:"Cancel"})]})]})})]})})}),s.jsx("div",{className:"flex gap-2 mb-6 overflow-x-auto",children:[{id:"all",label:"All Challenges",icon:_l},{id:"received",label:"New Challenges",icon:Oa},{id:"sent",label:"Sent",icon:Bg},{id:"completed",label:"Completed",icon:xr}].map(I=>{const O=I.icon;return s.jsxs(G,{onClick:()=>f(I.id),variant:m===I.id?"default":"outline",className:m===I.id?"bg-purple-500":"",children:[s.jsx(O,{className:"w-4 h-4 mr-2"}),I.label]},I.id)})}),j?s.jsx("div",{className:"text-center py-12",children:"Loading challenges..."}):F.length===0?s.jsx(te,{className:"border-2 border-gray-200",children:s.jsxs(re,{className:"p-12 text-center",children:[s.jsx(Ga,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-gray-600",children:"No challenges yet. Send one to get started!"})]})}):s.jsx("div",{className:"grid gap-4",children:F.map((I,O)=>{const V=I.challenger_id===n.id,M=V?I.opponent_name:I.challenger_name,U=Bb.find(ne=>ne.id===I.game_type),J=new Date(I.expires_at)<new Date;return s.jsx(ee.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:O*.1},children:s.jsx(te,{className:"border-2 hover:shadow-xl transition-all",children:s.jsx(re,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"text-3xl",children:U==null?void 0:U.icon}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg text-gray-900",children:U==null?void 0:U.name}),s.jsxs("p",{className:"text-sm text-gray-600",children:[V?"vs":"from"," ",M]})]})]}),I.status==="completed"&&s.jsxs("div",{className:"flex gap-4 mt-3 text-sm",children:[s.jsxs("div",{className:"bg-blue-50 px-3 py-2 rounded-lg",children:[s.jsx("span",{className:"text-gray-600",children:"Your score: "}),s.jsx("span",{className:"font-bold text-blue-600",children:V?I.challenger_score:I.opponent_score})]}),s.jsxs("div",{className:"bg-purple-50 px-3 py-2 rounded-lg",children:[s.jsx("span",{className:"text-gray-600",children:"Their score: "}),s.jsx("span",{className:"font-bold text-purple-600",children:V?I.opponent_score:I.challenger_score})]})]}),J&&I.status==="pending"&&s.jsx(we,{className:"bg-gray-500 mt-2",children:"Expired"})]}),s.jsxs("div",{className:"flex flex-col items-end gap-2",children:[P(I),R(I),I.status==="pending"&&!V&&!J&&s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsxs(G,{onClick:()=>T(I),size:"sm",className:"bg-green-500 hover:bg-green-600",children:[s.jsx(Yi,{className:"w-4 h-4 mr-1"}),"Accept"]}),s.jsxs(G,{onClick:()=>E.mutate(I.id),size:"sm",variant:"outline",className:"text-red-500 border-red-500",children:[s.jsx(Mx,{className:"w-4 h-4 mr-1"}),"Decline"]})]}),I.status==="accepted"&&s.jsxs(G,{onClick:()=>D(I),size:"sm",className:"bg-blue-500 hover:bg-blue-600 mt-2",children:[s.jsx(Ga,{className:"w-4 h-4 mr-1"}),"Play Now"]})]})]})})})},I.id)})})]})}):s.jsx("div",{className:"text-center py-12",children:"Loading..."})}function uF(){const t=Ds(),[e,n]=v.useState(!1),[r,i]=v.useState(null),[a,o]=v.useState(""),[c,d]=v.useState("all"),[h,m]=v.useState("all"),[f,g]=v.useState({category:"Quran",difficulty:"easy",question:"",options:["","","",""],correct_answer_index:0,explanation:"",source:"",age_group:"all",is_active:!0}),x=["Quran","Hadith","Seerah","Fiqh","Prophets","Sahabah","Akhlaq","History","Arabic","Beliefs"],_=["easy","medium","hard"],j=["5-8","9-12","13+","all"],{data:w=[],isLoading:N}=vn({queryKey:["quiz-questions"],queryFn:()=>base44.entities.QuizQuestion.list("-date_added",500),initialData:[]}),E=gn({mutationFn:M=>base44.entities.QuizQuestion.create(M),onSuccess:()=>{t.invalidateQueries({queryKey:["quiz-questions"]}),R()}}),A=gn({mutationFn:({id:M,data:U})=>base44.entities.QuizQuestion.update(M,U),onSuccess:()=>{t.invalidateQueries({queryKey:["quiz-questions"]}),R()}}),T=gn({mutationFn:M=>base44.entities.QuizQuestion.delete(M),onSuccess:()=>{t.invalidateQueries({queryKey:["quiz-questions"]})}}),D=async M=>{M.preventDefault();const U={...f,date_added:new Date().toISOString().split("T")[0]};r?await A.mutateAsync({id:r.id,data:U}):await E.mutateAsync(U)},F=M=>{i(M),g({category:M.category,difficulty:M.difficulty,question:M.question,options:M.options,correct_answer_index:M.correct_answer_index,explanation:M.explanation,source:M.source||"",age_group:M.age_group||"all",is_active:M.is_active??!0}),n(!0)},P=async M=>{window.confirm("Are you sure you want to delete this question?")&&await T.mutateAsync(M)},R=()=>{g({category:"Quran",difficulty:"easy",question:"",options:["","","",""],correct_answer_index:0,explanation:"",source:"",age_group:"all",is_active:!0}),i(null),n(!1)},I=(M,U)=>{const J=[...f.options];J[M]=U,g({...f,options:J})},O=w.filter(M=>{const U=M.question.toLowerCase().includes(a.toLowerCase())||M.explanation.toLowerCase().includes(a.toLowerCase()),J=c==="all"||M.category===c,ne=h==="all"||M.difficulty===h;return U&&J&&ne}),V={total:w.length,active:w.filter(M=>M.is_active).length,byCategory:x.reduce((M,U)=>(M[U]=w.filter(J=>J.category===U).length,M),{}),byDifficulty:_.reduce((M,U)=>(M[U]=w.filter(J=>J.difficulty===U).length,M),{})};return N?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("p",{className:"text-gray-600",children:"Loading questions..."})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 py-8 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Quiz Questions Manager"}),s.jsx("p",{className:"text-gray-600",children:"Manage questions for Islamic Knowledge Quiz"})]}),s.jsxs(G,{onClick:()=>n(!e),className:"bg-blue-600 hover:bg-blue-700",children:[e?s.jsx(qr,{className:"w-4 h-4 mr-2"}):s.jsx(Rs,{className:"w-4 h-4 mr-2"}),e?"Cancel":"Add New Question"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[s.jsx(te,{children:s.jsx(re,{className:"p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Questions"}),s.jsx("p",{className:"text-3xl font-bold text-blue-600",children:V.total})]})})}),s.jsx(te,{children:s.jsx(re,{className:"p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Active"}),s.jsx("p",{className:"text-3xl font-bold text-green-600",children:V.active})]})})}),s.jsx(te,{children:s.jsx(re,{className:"p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Easy"}),s.jsx("p",{className:"text-3xl font-bold text-green-500",children:V.byDifficulty.easy||0})]})})}),s.jsx(te,{children:s.jsx(re,{className:"p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Hard"}),s.jsx("p",{className:"text-3xl font-bold text-red-500",children:V.byDifficulty.hard||0})]})})})]}),s.jsx(ds,{children:e&&s.jsx(ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:s.jsxs(te,{className:"mb-8 border-2 border-blue-300",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-blue-50 to-purple-50",children:s.jsx(Fe,{children:r?"Edit Question":"Add New Question"})}),s.jsx(re,{className:"p-6",children:s.jsxs("form",{onSubmit:D,className:"space-y-4",children:[s.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"Category"}),s.jsxs(en,{value:f.category,onValueChange:M=>g({...f,category:M}),children:[s.jsx(Kt,{children:s.jsx(tn,{})}),s.jsx(Gt,{children:x.map(M=>s.jsx(Re,{value:M,children:M},M))})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Difficulty"}),s.jsxs(en,{value:f.difficulty,onValueChange:M=>g({...f,difficulty:M}),children:[s.jsx(Kt,{children:s.jsx(tn,{})}),s.jsx(Gt,{children:_.map(M=>s.jsx(Re,{value:M,children:M.charAt(0).toUpperCase()+M.slice(1)},M))})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Age Group"}),s.jsxs(en,{value:f.age_group,onValueChange:M=>g({...f,age_group:M}),children:[s.jsx(Kt,{children:s.jsx(tn,{})}),s.jsx(Gt,{children:j.map(M=>s.jsx(Re,{value:M,children:M},M))})]})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Question"}),s.jsx(Rn,{value:f.question,onChange:M=>g({...f,question:M.target.value}),placeholder:"Enter your question...",required:!0,rows:2})]}),s.jsxs("div",{children:[s.jsx(ye,{className:"mb-2 block",children:"Answer Options"}),f.options.map((M,U)=>s.jsxs("div",{className:"flex gap-2 mb-2",children:[s.jsx(we,{className:f.correct_answer_index===U?"bg-green-500":"bg-gray-400",children:U+1}),s.jsx(Te,{value:M,onChange:J=>I(U,J.target.value),placeholder:`Option ${U+1}`,required:!0}),s.jsxs(G,{type:"button",variant:f.correct_answer_index===U?"default":"outline",onClick:()=>g({...f,correct_answer_index:U}),className:"whitespace-nowrap",children:[f.correct_answer_index===U?s.jsx(jc,{className:"w-4 h-4 mr-1"}):null,"Correct"]})]},U))]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Explanation"}),s.jsx(Rn,{value:f.explanation,onChange:M=>g({...f,explanation:M.target.value}),placeholder:"Explain the correct answer...",required:!0,rows:3})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Source (Optional)"}),s.jsx(Te,{value:f.source,onChange:M=>g({...f,source:M.target.value}),placeholder:"e.g., Quran 2:255, Sahih Bukhari 1234"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Cs,{checked:f.is_active,onCheckedChange:M=>g({...f,is_active:M})}),s.jsx(ye,{children:"Active (Show in quiz)"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(G,{type:"submit",className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(la,{className:"w-4 h-4 mr-2"}),r?"Update":"Create"," Question"]}),s.jsx(G,{type:"button",variant:"outline",onClick:R,children:"Cancel"})]})]})})]})})}),s.jsx(te,{className:"mb-6",children:s.jsx(re,{className:"p-4",children:s.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsxs(ye,{className:"mb-2 flex items-center gap-2",children:[s.jsx(Ja,{className:"w-4 h-4"}),"Search"]}),s.jsx(Te,{value:a,onChange:M=>o(M.target.value),placeholder:"Search questions..."})]}),s.jsxs("div",{children:[s.jsxs(ye,{className:"mb-2 flex items-center gap-2",children:[s.jsx(iC,{className:"w-4 h-4"}),"Category"]}),s.jsxs(en,{value:c,onValueChange:d,children:[s.jsx(Kt,{children:s.jsx(tn,{})}),s.jsxs(Gt,{children:[s.jsx(Re,{value:"all",children:"All Categories"}),x.map(M=>s.jsx(Re,{value:M,children:M},M))]})]})]}),s.jsxs("div",{children:[s.jsxs(ye,{className:"mb-2 flex items-center gap-2",children:[s.jsx(iC,{className:"w-4 h-4"}),"Difficulty"]}),s.jsxs(en,{value:h,onValueChange:m,children:[s.jsx(Kt,{children:s.jsx(tn,{})}),s.jsxs(Gt,{children:[s.jsx(Re,{value:"all",children:"All Difficulties"}),_.map(M=>s.jsx(Re,{value:M,children:M.charAt(0).toUpperCase()+M.slice(1)},M))]})]})]})]})})}),s.jsx("div",{className:"space-y-4",children:O.map((M,U)=>s.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:U*.05},children:s.jsx(te,{className:M.is_active?"":"opacity-60",children:s.jsx(re,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(we,{children:M.category}),s.jsx(we,{variant:"outline",className:M.difficulty==="easy"?"bg-green-100":M.difficulty==="medium"?"bg-yellow-100":"bg-red-100",children:M.difficulty}),s.jsx(we,{variant:"outline",children:M.age_group}),!M.is_active&&s.jsx(we,{variant:"destructive",children:"Inactive"})]}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:M.question}),s.jsx("div",{className:"space-y-1 mb-3",children:M.options.map((J,ne)=>s.jsxs("div",{className:`text-sm ${ne===M.correct_answer_index?"text-green-600 font-semibold":"text-gray-600"}`,children:[ne===M.correct_answer_index&&s.jsx(jc,{className:"w-3 h-3 inline mr-1"}),ne+1,". ",J]},ne))}),s.jsxs("p",{className:"text-sm text-gray-700 bg-blue-50 p-2 rounded",children:[s.jsx("strong",{children:"Explanation:"})," ",M.explanation]}),M.source&&s.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Source: ",M.source]})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx(G,{onClick:()=>F(M),variant:"outline",size:"sm",children:s.jsx(uo,{className:"w-4 h-4"})}),s.jsx(G,{onClick:()=>P(M.id),variant:"outline",size:"sm",className:"text-red-600 hover:bg-red-50",children:s.jsx(nr,{className:"w-4 h-4"})})]})]})})})},M.id))}),O.length===0&&s.jsx(te,{children:s.jsx(re,{className:"p-12 text-center",children:s.jsx("p",{className:"text-gray-500",children:"No questions found. Add some questions to get started!"})})})]})})}function dF(){const[t,e]=v.useState(null),[n,r]=v.useState(""),[i,a]=v.useState("all"),[o,c]=v.useState("all"),{data:d=[],isLoading:h}=vn({queryKey:["videos"],queryFn:()=>Je.entities.Video.list("-created_date"),initialData:[]}),m=[{id:"all",name:"All Videos",emoji:""},{id:"prophets",name:"Prophets",emoji:""},{id:"manners",name:"Manners",emoji:""},{id:"duas",name:"Duas",emoji:""},{id:"facts",name:"Islamic Facts",emoji:""},{id:"series",name:"Series",emoji:""}],f={prophets:"bg-blue-100 text-blue-800",manners:"bg-green-100 text-green-800",duas:"bg-purple-100 text-purple-800",facts:"bg-amber-100 text-amber-800",series:"bg-pink-100 text-pink-800"},g=j=>{if(!j)return null;const w=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,N=j.match(w);return N&&N[2].length===11?N[2]:null},x=j=>{const w=g(j);return w?`https://img.youtube.com/vi/${w}/hqdefault.jpg`:null},_=d.filter(j=>{const w=j.title.toLowerCase().includes(n.toLowerCase())||j.description&&j.description.toLowerCase().includes(n.toLowerCase()),N=i==="all"||j.category===i,E=o==="all"||j.filter_tag===o;return w&&N&&E});return s.jsx("div",{className:"min-h-screen py-8 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Islamic Video Library"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Watch educational Islamic videos, stories, and lessons!"})]}),s.jsxs("div",{className:"mb-8 space-y-4",children:[s.jsxs("div",{className:"relative max-w-2xl mx-auto",children:[s.jsx(Ja,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx(Te,{type:"text",placeholder:"Search videos...",value:n,onChange:j=>r(j.target.value),className:"pl-10 pr-4 py-6 text-lg"})]}),s.jsxs("div",{className:"flex flex-wrap gap-3 justify-center",children:[s.jsxs(en,{value:i,onValueChange:a,children:[s.jsx(Kt,{className:"w-48",children:s.jsx(tn,{placeholder:"Category"})}),s.jsx(Gt,{children:m.map(j=>s.jsxs(Re,{value:j.id,children:[j.emoji," ",j.name]},j.id))})]}),s.jsxs(en,{value:o,onValueChange:c,children:[s.jsx(Kt,{className:"w-48",children:s.jsx(tn,{placeholder:"Video Length"})}),s.jsxs(Gt,{children:[s.jsx(Re,{value:"all",children:"All Lengths"}),s.jsx(Re,{value:"short",children:"Short (0-5 min)"}),s.jsx(Re,{value:"lesson",children:"Lesson (5-15 min)"}),s.jsx(Re,{value:"series",children:"Series (15+ min)"})]})]})]})]}),h?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ba,{className:"w-16 h-16 mx-auto mb-4 text-gray-300 animate-pulse"}),s.jsx("p",{className:"text-gray-500",children:"Loading videos..."})]}):_.length===0?s.jsx(te,{className:"border-2 border-gray-200",children:s.jsxs(re,{className:"p-12 text-center",children:[s.jsx(Ba,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-gray-600",children:n||i!=="all"?"No videos found matching your criteria.":"No videos available yet. Check back soon!"})]})}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:_.map((j,w)=>{const N=j.thumbnail_url||x(j.video_url);return s.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:w*.1},children:s.jsx(te,{className:"h-full hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 cursor-pointer group overflow-hidden",children:s.jsxs("div",{onClick:()=>e(j),className:"relative",children:[s.jsxs("div",{className:"h-48 overflow-hidden bg-gradient-to-br from-purple-100 to-blue-100 relative",children:[N?s.jsx("img",{src:N,alt:j.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300",onError:E=>{E.target.style.display="none"}}):s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx(Ba,{className:"w-16 h-16 text-gray-400"})}),s.jsx("div",{className:"absolute inset-0 bg-black/30 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:s.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center",children:s.jsx(cr,{className:"w-8 h-8 text-blue-600 ml-1"})})})]}),s.jsxs(Oe,{children:[s.jsx("div",{className:"flex items-start justify-between gap-2 mb-2",children:s.jsx(Fe,{className:"text-lg group-hover:text-blue-600 transition-colors line-clamp-2",children:j.title})}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[j.category&&s.jsx(we,{className:f[j.category],children:j.category}),j.duration&&s.jsxs(we,{variant:"outline",className:"flex items-center gap-1",children:[s.jsx(Oa,{className:"w-3 h-3"}),j.duration]}),j.filter_tag&&s.jsx(we,{variant:"outline",children:j.filter_tag})]})]}),j.description&&s.jsx(re,{children:s.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:j.description})})]})})},j.id)})}),s.jsx(Ym,{open:t!==null,onOpenChange:()=>e(null),children:s.jsxs(Nd,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(_d,{children:[s.jsx(Sd,{className:"text-2xl font-bold pr-8",children:t==null?void 0:t.title}),s.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[(t==null?void 0:t.category)&&s.jsx(we,{className:f[t.category],children:t.category}),(t==null?void 0:t.duration)&&s.jsxs(we,{variant:"outline",className:"flex items-center gap-1",children:[s.jsx(Oa,{className:"w-3 h-3"}),t.duration]})]})]}),t&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"aspect-video w-full rounded-lg overflow-hidden bg-black",children:s.jsx("iframe",{width:"100%",height:"100%",src:`https://www.youtube.com/embed/${g(t.video_url)}?autoplay=1`,title:t.title,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-full"})}),t.description&&s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"About this video:"}),s.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:t.description})]})]})]})})]})})}function hF(){const t=Ds(),[e,n]=v.useState(!1),[r,i]=v.useState(null),[a,o]=v.useState({title:"",video_url:"",thumbnail_url:"",category:"prophets",duration:"",filter_tag:"lesson",description:""}),{data:c=[],isLoading:d}=vn({queryKey:["videos"],queryFn:()=>base44.entities.Video.list("-created_date"),initialData:[]}),h=gn({mutationFn:w=>base44.entities.Video.create(w),onSuccess:()=>{t.invalidateQueries({queryKey:["videos"]}),g(),alert("Video added successfully!")}}),m=gn({mutationFn:({id:w,data:N})=>base44.entities.Video.update(w,N),onSuccess:()=>{t.invalidateQueries({queryKey:["videos"]}),g(),alert("Video updated successfully!")}}),f=gn({mutationFn:w=>base44.entities.Video.delete(w),onSuccess:()=>{t.invalidateQueries({queryKey:["videos"]}),alert("Video deleted successfully!")}}),g=()=>{o({title:"",video_url:"",thumbnail_url:"",category:"prophets",duration:"",filter_tag:"lesson",description:""}),i(null),n(!1)},x=w=>{o({title:w.title||"",video_url:w.video_url||"",thumbnail_url:w.thumbnail_url||"",category:w.category||"prophets",duration:w.duration||"",filter_tag:w.filter_tag||"lesson",description:w.description||""}),i(w),n(!0)},_=w=>{if(w.preventDefault(),!a.title||!a.video_url){alert("Please fill in title and video URL");return}let N={...a};if(!N.thumbnail_url&&a.video_url.includes("youtube")){const E=j(a.video_url);E&&(N.thumbnail_url=`https://img.youtube.com/vi/${E}/hqdefault.jpg`)}r?m.mutate({id:r.id,data:N}):h.mutate(N)},j=w=>{const N=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,E=w.match(N);return E&&E[2].length===11?E[2]:null};return s.jsx("div",{className:"min-h-screen py-8 px-4 bg-gradient-to-br from-purple-50 to-blue-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Manage Videos"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Add and manage YouTube videos for the video library"})]}),s.jsx("div",{className:"mb-6",children:s.jsxs(G,{onClick:()=>n(!0),size:"lg",className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600",children:[s.jsx(Rs,{className:"w-5 h-5 mr-2"}),"Add New Video"]})}),s.jsx(Ym,{open:e,onOpenChange:w=>!w&&g(),children:s.jsxs(Nd,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(_d,{children:s.jsx(Sd,{children:r?"Edit Video":"Add New Video"})}),s.jsxs("form",{onSubmit:_,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"title",children:"Video Title *"}),s.jsx(Te,{id:"title",value:a.title,onChange:w=>o({...a,title:w.target.value}),placeholder:"e.g., Story of Prophet Muhammad ",required:!0})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"video_url",children:"YouTube URL *"}),s.jsx(Te,{id:"video_url",value:a.video_url,onChange:w=>o({...a,video_url:w.target.value}),placeholder:"https://www.youtube.com/watch?v=...",required:!0}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Thumbnail will be auto-generated from YouTube"})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"category",children:"Category"}),s.jsxs(en,{value:a.category,onValueChange:w=>o({...a,category:w}),children:[s.jsx(Kt,{children:s.jsx(tn,{})}),s.jsxs(Gt,{children:[s.jsx(Re,{value:"prophets",children:"Prophets"}),s.jsx(Re,{value:"manners",children:"Manners"}),s.jsx(Re,{value:"duas",children:"Duas"}),s.jsx(Re,{value:"facts",children:"Islamic Facts"}),s.jsx(Re,{value:"series",children:"Series"})]})]})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"filter_tag",children:"Video Length"}),s.jsxs(en,{value:a.filter_tag,onValueChange:w=>o({...a,filter_tag:w}),children:[s.jsx(Kt,{children:s.jsx(tn,{})}),s.jsxs(Gt,{children:[s.jsx(Re,{value:"short",children:"Short (0-5 min)"}),s.jsx(Re,{value:"lesson",children:"Lesson (5-15 min)"}),s.jsx(Re,{value:"series",children:"Series (15+ min)"})]})]})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"duration",children:"Duration"}),s.jsx(Te,{id:"duration",value:a.duration,onChange:w=>o({...a,duration:w.target.value}),placeholder:"e.g., 10:25"})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"description",children:"Description"}),s.jsx(Rn,{id:"description",value:a.description,onChange:w=>o({...a,description:w.target.value}),placeholder:"Brief description of the video content...",rows:4})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsxs(G,{type:"submit",disabled:h.isPending||m.isPending,className:"flex-1 bg-green-500 hover:bg-green-600",children:[s.jsx(la,{className:"w-4 h-4 mr-2"}),r?"Update":"Add"," Video"]}),s.jsxs(G,{type:"button",onClick:g,variant:"outline",className:"flex-1",children:[s.jsx(qr,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]})]})}),d?s.jsx("div",{className:"text-center py-12",children:"Loading videos..."}):c.length===0?s.jsx(te,{children:s.jsxs(re,{className:"p-12 text-center",children:[s.jsx(Ba,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-gray-600",children:"No videos yet. Add your first video!"})]})}):s.jsx("div",{className:"grid gap-4",children:c.map((w,N)=>s.jsx(ee.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:N*.05},children:s.jsx(te,{children:s.jsx(re,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-32 h-20 bg-gray-200 rounded-lg overflow-hidden flex-shrink-0",children:w.thumbnail_url?s.jsx("img",{src:w.thumbnail_url,alt:w.title,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx(Ba,{className:"w-8 h-8 text-gray-400"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-2 truncate",children:w.title}),s.jsxs("div",{className:"flex flex-wrap gap-2 mb-2",children:[s.jsx(we,{children:w.category}),w.filter_tag&&s.jsx(we,{variant:"outline",children:w.filter_tag}),w.duration&&s.jsx(we,{variant:"outline",children:w.duration})]}),w.description&&s.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:w.description})]}),s.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[s.jsx(G,{onClick:()=>x(w),size:"sm",variant:"outline",children:s.jsx(uo,{className:"w-4 h-4"})}),s.jsx(G,{onClick:()=>{confirm("Are you sure you want to delete this video?")&&f.mutate(w.id)},size:"sm",variant:"outline",className:"text-red-500 border-red-500 hover:bg-red-50",children:s.jsx(nr,{className:"w-4 h-4"})})]})]})})})},w.id))})]})})}function mF(){Ds();const[t,e]=v.useState(!1),[n,r]=v.useState(!1),[i,a]=v.useState(null),[o,c]=v.useState(!1),[d,h]=v.useState({audio:!1,image:!1}),m=v.useRef(null),f=v.useRef(null),[g,x]=v.useState({title:"",slug:"",mp3_url:"",youtube_id:"",cover_image:"",description:"",transcript:"",moral_lesson:"",duration:"",age_group:"all",category:"story",subcategory:"",language:"English",tags:[],license_source:"",allow_download:!1,featured:!1}),_=()=>{if(!g.title||!g.category){alert("Please fill in at least the title and category");return}g.slug||(g.slug=g.title.toLowerCase().replace(/[^a-z0-9]+/g,"-")),typeof g.tags=="string"&&(g.tags=g.tags.split(",").map(T=>T.trim()).filter(T=>T)),createAudioMutation.mutate(g)},j=T=>{a(T),x({title:T.title||"",slug:T.slug||"",mp3_url:T.mp3_url||"",youtube_id:T.youtube_id||"",cover_image:T.cover_image||"",description:T.description||"",transcript:T.transcript||"",moral_lesson:T.moral_lesson||"",duration:T.duration||"",age_group:T.age_group||"all",category:T.category||"story",subcategory:T.subcategory||"",language:T.language||"English",tags:T.tags||[],license_source:T.license_source||"",allow_download:T.allow_download||!1,featured:T.featured||!1}),r(!0)},w=()=>{i&&(typeof g.tags=="string"&&(g.tags=g.tags.split(",").map(T=>T.trim()).filter(T=>T)),updateAudioMutation.mutate({id:i.id,data:g}))},N=T=>{confirm(`Are you sure you want to delete "${T.title}"? This action cannot be undone.`)&&deleteAudioMutation.mutate(T.id)},E=()=>{x({title:"",slug:"",mp3_url:"",youtube_id:"",cover_image:"",description:"",transcript:"",moral_lesson:"",duration:"",age_group:"all",category:"story",subcategory:"",language:"English",tags:[],license_source:"",allow_download:!1,featured:!1}),a(null)},A={story:"bg-blue-100 text-blue-800",hadith:"bg-green-100 text-green-800",history:"bg-purple-100 text-purple-800",nasheed:"bg-pink-100 text-pink-800",tajweed:"bg-amber-100 text-amber-800",fiqh:"bg-indigo-100 text-indigo-800",quran:"bg-emerald-100 text-emerald-800"};return s.jsx("div",{className:"min-h-screen py-8 px-4 bg-gradient-to-br from-purple-50 to-pink-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Audio Content Management"}),s.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"Upload and manage Islamic audio stories, lessons, and nasheeds"}),s.jsxs(G,{onClick:()=>e(!0),size:"lg",className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:[s.jsx(Rs,{className:"w-5 h-5 mr-2"}),"Add New Audio"]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4 mb-6",children:[s.jsx(te,{children:s.jsxs(re,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-purple-600",children:audioContent.length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Audio"})]})}),s.jsx(te,{children:s.jsxs(re,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-green-600",children:audioContent.filter(T=>T.status==="active").length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Active"})]})}),s.jsx(te,{children:s.jsxs(re,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-amber-600",children:audioContent.filter(T=>T.featured).length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Featured"})]})}),s.jsx(te,{children:s.jsxs(re,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-blue-600",children:audioContent.reduce((T,D)=>T+(D.plays_count||0),0)}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Plays"})]})})]}),isLoading?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(zg,{className:"w-16 h-16 mx-auto mb-4 text-gray-300 animate-pulse"}),s.jsx("p",{className:"text-gray-500",children:"Loading audio content..."})]}):audioContent.length===0?s.jsx(te,{children:s.jsxs(re,{className:"p-12 text-center",children:[s.jsx(Qa,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"No audio content yet"}),s.jsxs(G,{onClick:()=>e(!0),children:[s.jsx(Rs,{className:"w-4 h-4 mr-2"}),"Add First Audio"]})]})}):s.jsx("div",{className:"grid gap-4",children:audioContent.map((T,D)=>s.jsx(ee.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:D*.05},children:s.jsx(te,{className:"hover:shadow-lg transition-shadow",children:s.jsx(re,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-purple-200 to-pink-200 rounded-lg flex-shrink-0 overflow-hidden",children:T.cover_image?s.jsx("img",{src:T.cover_image,alt:T.title,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx(zg,{className:"w-12 h-12 text-gray-400"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h3",{className:"font-bold text-lg text-gray-900 truncate pr-4",children:T.title}),s.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[s.jsx(G,{onClick:()=>j(T),size:"sm",variant:"outline",className:"text-blue-600",children:s.jsx(uo,{className:"w-4 h-4"})}),s.jsx(G,{onClick:()=>N(T),size:"sm",variant:"outline",className:"text-red-500",children:s.jsx(nr,{className:"w-4 h-4"})})]})]}),T.description&&s.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:T.description}),s.jsxs("div",{className:"flex flex-wrap gap-2 mb-2",children:[s.jsx(we,{className:A[T.category],children:T.category}),T.subcategory&&s.jsx(we,{variant:"outline",children:T.subcategory}),T.duration&&s.jsx(we,{variant:"outline",children:T.duration}),T.age_group&&s.jsxs(we,{variant:"outline",children:["Ages: ",T.age_group]}),T.featured&&s.jsx(we,{className:"bg-amber-500",children:" Featured"})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[T.mp3_url&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Qa,{className:"w-3 h-3"}),"Audio uploaded"]}),T.plays_count>0&&s.jsxs("span",{children:[T.plays_count," plays"]}),s.jsx("span",{children:T.language||"English"})]})]})]})})})},T.id))}),s.jsx(Ym,{open:t,onOpenChange:T=>!T&&E(),children:s.jsxs(Nd,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(_d,{children:s.jsx(Sd,{className:"text-2xl",children:"Add New Audio Content"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx(ye,{htmlFor:"title",children:"Title *"}),s.jsx(Te,{id:"title",value:g.title,onChange:T=>x({...g,title:T.target.value}),placeholder:"e.g., Story of Prophet Ibrahim"})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"category",children:"Category *"}),s.jsxs(en,{value:g.category,onValueChange:T=>x({...g,category:T}),children:[s.jsx(Kt,{children:s.jsx(tn,{})}),s.jsxs(Gt,{children:[s.jsx(Re,{value:"story",children:"Story"}),s.jsx(Re,{value:"hadith",children:"Hadith"}),s.jsx(Re,{value:"history",children:"History"}),s.jsx(Re,{value:"nasheed",children:"Nasheed"}),s.jsx(Re,{value:"tajweed",children:"Tajweed"}),s.jsx(Re,{value:"fiqh",children:"Fiqh"}),s.jsx(Re,{value:"quran",children:"Quran"})]})]})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"age_group",children:"Age Group"}),s.jsxs(en,{value:g.age_group,onValueChange:T=>x({...g,age_group:T}),children:[s.jsx(Kt,{children:s.jsx(tn,{})}),s.jsxs(Gt,{children:[s.jsx(Re,{value:"3-6",children:"3-6 years"}),s.jsx(Re,{value:"7-10",children:"7-10 years"}),s.jsx(Re,{value:"11+",children:"11+ years"}),s.jsx(Re,{value:"all",children:"All ages"})]})]})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Audio File (MP3)"}),s.jsx("input",{ref:m,type:"file",accept:"audio/*",onChange:handleAudioUpload,className:"hidden"}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx(G,{type:"button",onClick:()=>{var T;return(T=m.current)==null?void 0:T.click()},variant:"outline",className:"flex-1",disabled:d.audio,children:d.audio?s.jsxs(s.Fragment,{children:[s.jsx(Fu,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Xa,{className:"w-4 h-4 mr-2"}),"Upload Audio File"]})}),g.mp3_url&&s.jsx(we,{className:"bg-green-500 px-4 py-2",children:" Uploaded"})]}),g.mp3_url&&s.jsx("p",{className:"text-xs text-gray-500 mt-1 truncate",children:g.mp3_url})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Cover Image"}),s.jsx("input",{ref:f,type:"file",accept:"image/*",onChange:handleImageUpload,className:"hidden"}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx(G,{type:"button",onClick:()=>{var T;return(T=f.current)==null?void 0:T.click()},variant:"outline",className:"flex-1",disabled:d.image,children:d.image?s.jsxs(s.Fragment,{children:[s.jsx(Fu,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ya,{className:"w-4 h-4 mr-2"}),"Upload Cover Image"]})}),g.cover_image&&s.jsx(we,{className:"bg-green-500 px-4 py-2",children:" Uploaded"})]}),g.cover_image&&s.jsx("div",{className:"mt-2",children:s.jsx("img",{src:g.cover_image,alt:"Cover preview",className:"w-32 h-32 object-cover rounded-lg"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"subcategory",children:"Subcategory"}),s.jsx(Te,{id:"subcategory",value:g.subcategory,onChange:T=>x({...g,subcategory:T.target.value}),placeholder:"e.g., Prophets, Sahabah"})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"duration",children:"Duration"}),s.jsx(Te,{id:"duration",value:g.duration,onChange:T=>x({...g,duration:T.target.value}),placeholder:"e.g., 05:30"})]})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"description",children:"Description"}),s.jsx(Rn,{id:"description",value:g.description,onChange:T=>x({...g,description:T.target.value}),placeholder:"Brief description of the audio content",rows:3})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"moral_lesson",children:"Moral Lesson"}),s.jsx(Rn,{id:"moral_lesson",value:g.moral_lesson,onChange:T=>x({...g,moral_lesson:T.target.value}),placeholder:"Key lesson or takeaway",rows:2})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"tags",children:"Tags (comma-separated)"}),s.jsx(Te,{id:"tags",value:Array.isArray(g.tags)?g.tags.join(", "):g.tags,onChange:T=>x({...g,tags:T.target.value}),placeholder:"e.g., prophets, kindness, patience"})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:g.featured,onChange:T=>x({...g,featured:T.target.checked}),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Featured"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:g.allow_download,onChange:T=>x({...g,allow_download:T.target.checked}),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Allow Download"})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsxs(G,{onClick:_,disabled:createAudioMutation.isPending,className:"flex-1 bg-gradient-to-r from-purple-500 to-pink-500",children:[s.jsx(la,{className:"w-4 h-4 mr-2"}),"Create Audio"]}),s.jsxs(G,{onClick:()=>{e(!1),E()},variant:"outline",className:"flex-1",children:[s.jsx(qr,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]})]})}),s.jsx(Ym,{open:n,onOpenChange:T=>!T&&E(),children:s.jsxs(Nd,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(_d,{children:s.jsx(Sd,{className:"text-2xl",children:"Edit Audio Content"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx(ye,{htmlFor:"edit-title",children:"Title *"}),s.jsx(Te,{id:"edit-title",value:g.title,onChange:T=>x({...g,title:T.target.value}),placeholder:"e.g., Story of Prophet Ibrahim"})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"edit-category",children:"Category *"}),s.jsxs(en,{value:g.category,onValueChange:T=>x({...g,category:T}),children:[s.jsx(Kt,{children:s.jsx(tn,{})}),s.jsxs(Gt,{children:[s.jsx(Re,{value:"story",children:"Story"}),s.jsx(Re,{value:"hadith",children:"Hadith"}),s.jsx(Re,{value:"history",children:"History"}),s.jsx(Re,{value:"nasheed",children:"Nasheed"}),s.jsx(Re,{value:"tajweed",children:"Tajweed"}),s.jsx(Re,{value:"fiqh",children:"Fiqh"}),s.jsx(Re,{value:"quran",children:"Quran"})]})]})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"edit-age",children:"Age Group"}),s.jsxs(en,{value:g.age_group,onValueChange:T=>x({...g,age_group:T}),children:[s.jsx(Kt,{children:s.jsx(tn,{})}),s.jsxs(Gt,{children:[s.jsx(Re,{value:"3-6",children:"3-6 years"}),s.jsx(Re,{value:"7-10",children:"7-10 years"}),s.jsx(Re,{value:"11+",children:"11+ years"}),s.jsx(Re,{value:"all",children:"All ages"})]})]})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Audio File (MP3)"}),s.jsx("input",{ref:m,type:"file",accept:"audio/*",onChange:handleAudioUpload,className:"hidden"}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx(G,{type:"button",onClick:()=>{var T;return(T=m.current)==null?void 0:T.click()},variant:"outline",className:"flex-1",disabled:d.audio,children:d.audio?s.jsxs(s.Fragment,{children:[s.jsx(Fu,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Xa,{className:"w-4 h-4 mr-2"}),g.mp3_url?"Replace Audio":"Upload Audio File"]})}),g.mp3_url&&s.jsx(we,{className:"bg-green-500 px-4 py-2",children:" Uploaded"})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Cover Image"}),s.jsx("input",{ref:f,type:"file",accept:"image/*",onChange:handleImageUpload,className:"hidden"}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx(G,{type:"button",onClick:()=>{var T;return(T=f.current)==null?void 0:T.click()},variant:"outline",className:"flex-1",disabled:d.image,children:d.image?s.jsxs(s.Fragment,{children:[s.jsx(Fu,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ya,{className:"w-4 h-4 mr-2"}),g.cover_image?"Replace Image":"Upload Cover Image"]})}),g.cover_image&&s.jsx(we,{className:"bg-green-500 px-4 py-2",children:" Uploaded"})]}),g.cover_image&&s.jsx("div",{className:"mt-2",children:s.jsx("img",{src:g.cover_image,alt:"Cover preview",className:"w-32 h-32 object-cover rounded-lg"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"edit-subcategory",children:"Subcategory"}),s.jsx(Te,{id:"edit-subcategory",value:g.subcategory,onChange:T=>x({...g,subcategory:T.target.value}),placeholder:"e.g., Prophets, Sahabah"})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"edit-duration",children:"Duration"}),s.jsx(Te,{id:"edit-duration",value:g.duration,onChange:T=>x({...g,duration:T.target.value}),placeholder:"e.g., 05:30"})]})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"edit-description",children:"Description"}),s.jsx(Rn,{id:"edit-description",value:g.description,onChange:T=>x({...g,description:T.target.value}),placeholder:"Brief description of the audio content",rows:3})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"edit-moral",children:"Moral Lesson"}),s.jsx(Rn,{id:"edit-moral",value:g.moral_lesson,onChange:T=>x({...g,moral_lesson:T.target.value}),placeholder:"Key lesson or takeaway",rows:2})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"edit-tags",children:"Tags (comma-separated)"}),s.jsx(Te,{id:"edit-tags",value:Array.isArray(g.tags)?g.tags.join(", "):g.tags,onChange:T=>x({...g,tags:T.target.value}),placeholder:"e.g., prophets, kindness, patience"})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:g.featured,onChange:T=>x({...g,featured:T.target.checked}),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Featured"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:g.allow_download,onChange:T=>x({...g,allow_download:T.target.checked}),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Allow Download"})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsxs(G,{onClick:w,disabled:updateAudioMutation.isPending,className:"flex-1 bg-gradient-to-r from-purple-500 to-pink-500",children:[s.jsx(la,{className:"w-4 h-4 mr-2"}),"Update Audio"]}),s.jsxs(G,{onClick:()=>{r(!1),E()},variant:"outline",className:"flex-1",children:[s.jsx(qr,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]})]})})]})})}function fF(){const[t,e]=v.useState(""),[n,r]=v.useState([]),[i,a]=v.useState(null),[o,c]=v.useState(""),d=async()=>{c("");try{const m=await ZN.list();if(Array.isArray(m)&&m.length>=0){const f=m.map(g=>({id:g.id||g.uid,uid:g.uid||g.id,name:g.fullName||g.name||"",email:g.email||"",role:g.role||"user",age:g.age||"",city:g.city||"",madrasah:g.madrasah||g.madrasah_maktab||"",points:Number(g.points||0),lastAward:g.lastAward||null}));r(f);return}}catch(m){console.warn("Backend users list failed:",(m==null?void 0:m.message)||m)}try{const{db:m}=Ut();if(!m)return;const f=Ac(m,"users"),x=(await wd(f)).docs.map(_=>{const j=_.data()||{};return{id:_.id,uid:_.id,name:j.fullName||j.name||"",email:j.email||"",role:j.role||"user",age:j.age||"",city:j.city||"",madrasah:j.madrasah||j.madrasah_maktab||"",points:Number(j.points||0),lastAward:j.lastAward||null}});r(x)}catch(m){console.warn("Failed to load users from Firestore:",(m==null?void 0:m.message)||m)}};v.useEffect(()=>{d()},[]);const h=n.filter(m=>{const f=t.toLowerCase();return m.name.toLowerCase().includes(f)||m.email.toLowerCase().includes(f)||m.role.toLowerCase().includes(f)});return s.jsx("div",{className:"min-h-screen py-8 px-4 bg-gradient-to-br from-blue-50 to-purple-50",children:s.jsx("div",{className:"max-w-6xl mx-auto",children:s.jsxs(te,{className:"shadow-xl border-2 border-blue-200",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Fe,{className:"flex items-center gap-2",children:[s.jsx(_l,{className:"w-6 h-6"})," Users Management"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Te,{placeholder:"Search users...",value:t,onChange:m=>e(m.target.value),className:"bg-white text-gray-900 w-56"}),s.jsxs(G,{variant:"secondary",className:"bg-white/20 text-white hover:bg-white/30",onClick:d,children:[s.jsx(Ja,{className:"w-4 h-4 mr-2"})," Find"]}),s.jsxs(G,{variant:"secondary",className:"bg-white/20 text-white hover:bg-white/30",onClick:d,children:[s.jsx(Fx,{className:"w-4 h-4 mr-2"})," Refresh"]}),s.jsxs(G,{onClick:()=>a({id:"new"}),children:[s.jsx(Rs,{className:"w-4 h-4 mr-2"})," Add User"]})]})]})}),s.jsxs(re,{className:"p-6",children:[o&&s.jsx("div",{className:"mb-4 text-sm text-blue-700 bg-blue-50 border border-blue-200 rounded p-2",children:o}),h.length===0?s.jsx("div",{className:"text-center text-gray-600 py-10",children:"No users yet. Ask users to sign up via the Signup page."}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map(m=>s.jsxs("div",{className:"border rounded-lg p-4 bg-white",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("div",{className:"font-semibold text-gray-900",children:m.name}),s.jsx(we,{variant:m.role==="admin"?"default":"outline",className:m.role==="admin"?"bg-purple-600 text-white":"",children:m.role})]}),s.jsx("div",{className:"text-sm text-gray-600 mb-1",children:m.email}),s.jsxs("div",{className:"flex items-center gap-2 text-amber-700 mb-2",children:[s.jsx(Vt,{className:"w-4 h-4 fill-amber-500 text-amber-500"}),s.jsxs("span",{className:"font-semibold",children:[m.points||0," points"]})]}),m.lastAward&&s.jsxs("div",{className:"text-xs text-gray-600 mb-2",children:["Last award: ",m.lastAward.game_type||""," (+",m.lastAward.points_awarded||0,")"]}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Age: ",m.age||"-"]}),s.jsxs("div",{className:"text-xs text-gray-500",children:["City: ",m.city||"-"]}),s.jsxs("div",{className:"text-xs text-gray-500 mb-4",children:["Madrasah: ",m.madrasah||"-"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(G,{size:"sm",variant:"outline",onClick:()=>a(m),children:[s.jsx(uo,{className:"w-4 h-4 mr-1"})," Edit"]}),s.jsxs(G,{size:"sm",variant:"destructive",onClick:()=>r(n.filter(f=>f.id!==m.id)),children:[s.jsx(nr,{className:"w-4 h-4 mr-1"})," Delete (local)"]}),s.jsxs(G,{size:"sm",variant:"destructive",onClick:async()=>{var f,g;try{const{auth:x}=Ut(),_=await((g=(f=x==null?void 0:x.currentUser)==null?void 0:f.getIdToken)==null?void 0:g.call(f)),w=await fetch("/api/deleteUser",{method:"POST",headers:{"Content-Type":"application/json",..._?{Authorization:`Bearer ${_}`}:{}},body:JSON.stringify({uid:m.uid,email:m.email})});if(!w.ok)throw new Error(`Delete failed: ${w.status}`);const N=await w.json();c(`Deleted user ${m.email} (uid=${m.uid||m.id}).`),await d()}catch(x){c(`Server delete failed for ${m.email}: ${(x==null?void 0:x.message)||x}`)}},children:[s.jsx(nr,{className:"w-4 h-4 mr-1"})," Delete (server)"]})]})]},m.id))}),i&&s.jsxs("div",{className:"mt-6 border-t pt-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:i.id==="new"?"Add New User":"Edit User"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsx(Te,{placeholder:"Name",value:i.name||"",onChange:m=>a({...i,name:m.target.value})}),s.jsx(Te,{placeholder:"Email",type:"email",value:i.email||"",onChange:m=>a({...i,email:m.target.value})}),s.jsx(Te,{placeholder:"Role (admin/user)",value:i.role||"user",onChange:m=>a({...i,role:m.target.value})})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[s.jsx(G,{onClick:()=>{if(i.id==="new"){const m=`u${Date.now()}`;r([...n,{id:m,name:i.name||"",email:i.email||"",role:i.role||"user"}])}else r(n.map(m=>m.id===i.id?i:m));a(null)},children:"Save Changes"}),s.jsx(G,{variant:"outline",onClick:()=>a(null),children:"Cancel"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:'Users are loaded from Firestore `users` collection. Editing is local-only. Use "Delete (server)" to remove accounts from Firebase Auth and Firestore.'})]})]})]})})})}function pF(){const t=zn(),[e,n]=_n.useState(""),[r,i]=_n.useState(!1),a=encodeURIComponent("Account Deletion Request - Islam Kids Zone"),o=encodeURIComponent("Hi, I'd like to delete my account on Islam Kids Zone. My name is ____ and my contact details are ____."),c=()=>{window.location.href=`mailto:imediac786@gmail.com?subject=${a}&body=${o}`};return s.jsx("div",{className:"min-h-screen py-8 px-4",children:s.jsxs("div",{className:"max-w-2xl mx-auto",children:[s.jsxs(G,{variant:"outline",className:"mb-4",onClick:()=>t(Xe("Home")),children:[s.jsx(jl,{className:"w-4 h-4 mr-2"})," Back to Home"]}),s.jsxs(te,{className:"border-2 border-red-300 shadow-lg bg-gradient-to-br from-red-50 to-orange-50",children:[s.jsx(Oe,{children:s.jsxs(Fe,{className:"text-2xl flex items-center",children:[s.jsx(nr,{className:"w-6 h-6 mr-2 text-red-600"}),"Delete Account (Email-Only Mode)"]})}),s.jsx(re,{children:s.jsxs(ee.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:[s.jsxs("div",{className:"mb-4 flex items-start gap-3",children:[s.jsx(G1,{className:"w-6 h-6 text-red-600 mt-1"}),s.jsx("p",{className:"text-gray-700",children:"Direct account deletion is disabled in this mode. To delete your account, please email our team. We'll process the request and confirm via email. You can include your name and contact details in the email."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type DELETE to confirm you understand this action"}),s.jsx(Te,{value:e,onChange:d=>n(d.target.value),placeholder:"DELETE"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(E_,{id:"agree",checked:r,onCheckedChange:d=>i(!!d)}),s.jsx("label",{htmlFor:"agree",className:"text-sm text-gray-700",children:"I understand this will permanently remove my account and associated content."})]})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx(G,{onClick:c,disabled:e!=="DELETE"||!r,className:"w-full bg-gradient-to-r from-red-500 to-orange-500",children:"Email Us to Delete My Account"}),s.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"We'll respond to confirm your account deletion request."})]})]})})]})]})})}const pI={quran:"from-green-500 to-teal-500",hadith:"from-blue-500 to-cyan-500",seerah:"from-purple-500 to-pink-500",fiqh:"from-amber-500 to-orange-500",akhlaq:"from-rose-500 to-red-500",prophets:"from-indigo-500 to-blue-500",comprehensive:"from-violet-500 to-purple-500"},yfe={beginner:"bg-green-100 text-green-800",intermediate:"bg-yellow-100 text-yellow-800",advanced:"bg-red-100 text-red-800"},vfe={game:Ga,story:un,video:Ba,audio:Qa,quiz:K1,reading:un};function gF(){var F,P;const[t,e]=v.useState(null),[n,r]=v.useState(!1),[i,a]=v.useState(null),[o,c]=v.useState("all"),d=Ds(),h=zn();v.useEffect(()=>{m()},[]);const m=async()=>{try{const R=await Je.auth.isAuthenticated();if(r(R),R){const I=await Je.auth.me();e(I)}}catch{console.log("User not authenticated"),r(!1)}},{data:f=[],isLoading:g}=vn({queryKey:["learning-paths"],queryFn:async()=>await Je.entities.LearningPath.list("order"),initialData:[]}),{data:x=[]}=vn({queryKey:["user-path-progress",t==null?void 0:t.id],queryFn:async()=>t?await Je.entities.UserPathProgress.filter({user_id:t.id}):[],enabled:!!t,initialData:[]}),_=gn({mutationFn:async R=>await Je.entities.UserPathProgress.create({user_id:t.id,path_id:R,status:"in_progress",started_date:new Date().toISOString()}),onSuccess:()=>{d.invalidateQueries({queryKey:["user-path-progress"]})}}),j=gn({mutationFn:async({progressId:R,moduleId:I,path:O})=>{const M=[...x.find(ce=>ce.id===R).completed_modules||[],I],U=Math.round(M.length/O.modules.length*100),J=U===100,ne={completed_modules:M,completion_percentage:U,current_module_index:M.length,...J&&{status:"completed",completed_date:new Date().toISOString()}};if(await Je.entities.UserPathProgress.update(R,ne),J&&t){const ce=Math.min((t.points||0)+(O.completion_points||50),1500),se=[...t.badges||[]];se.includes(O.completion_badge)||se.push(O.completion_badge),await Je.auth.updateMe({points:ce,badges:se})}return{isCompleted:J,completionPercentage:U}},onSuccess:()=>{d.invalidateQueries({queryKey:["user-path-progress"]}),m()}}),w=R=>x.find(I=>I.path_id===R),N=async R=>{if(!n){const O=encodeURIComponent("Access Request - Learning Paths"),V=encodeURIComponent("Hi, I'd like to access Learning Paths on Islam Kids Zone. My name is ____ and my contact details are ____.");window.location.href=`mailto:imediac786@gmail.com?subject=${O}&body=${V}`;return}w(R.id)||await _.mutateAsync(R.id),a(R)},E=(R,I)=>{h(Xe("Games"))},A=async(R,I)=>{var V;if(!n){const M=encodeURIComponent("Access Request - Learning Paths"),U=encodeURIComponent("Hi, I'd like to enable progress tracking in Learning Paths. My name is ____ and my contact details are ____.");window.location.href=`mailto:imediac786@gmail.com?subject=${M}&body=${U}`;return}const O=w(I.id);if(O){if((V=O.completed_modules)==null?void 0:V.includes(R.id))return;await j.mutateAsync({progressId:O.id,moduleId:R.id,path:I})}else{await _.mutateAsync(I.id),await d.invalidateQueries({queryKey:["user-path-progress"]});const M=await Je.entities.UserPathProgress.filter({user_id:t.id,path_id:I.id});if(M.length===0)return;await j.mutateAsync({progressId:M[0].id,moduleId:R.id,path:I})}},T=[{id:"all",name:"All Paths",icon:""},{id:"quran",name:"Quran",icon:""},{id:"hadith",name:"Hadith",icon:""},{id:"seerah",name:"Seerah",icon:""},{id:"fiqh",name:"Fiqh",icon:""},{id:"akhlaq",name:"Akhlaq",icon:""},{id:"prophets",name:"Prophets",icon:""},{id:"comprehensive",name:"Complete",icon:""}],D=o==="all"?f:f.filter(R=>R.category===o);return g?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:""}),s.jsx("p",{className:"text-gray-600",children:"Loading learning paths..."})]})}):s.jsx("div",{className:"min-h-screen py-6 sm:py-8 md:py-12 px-3 sm:px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8 sm:mb-12",children:[s.jsx("div",{className:"text-5xl sm:text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-gray-900 mb-3 sm:mb-4",children:"Learning Paths"}),s.jsx("p",{className:"text-base sm:text-lg text-gray-600 max-w-2xl mx-auto px-2",children:"Follow structured learning journeys to master Islamic knowledge. Complete paths to earn special badges and bonus points!"})]}),!n&&s.jsx(ee.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-8",children:s.jsx(te,{className:"border-2 border-blue-300 shadow-lg bg-gradient-to-br from-blue-50 to-purple-50",children:s.jsxs(re,{className:"p-6 text-center",children:[s.jsx(H1,{className:"w-12 h-12 mx-auto mb-4 text-blue-600"}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Request Access to Track Your Learning"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Email us to enable progress tracking, earn badges, and unlock achievements!"}),s.jsx(G,{onClick:()=>{const R=encodeURIComponent("Access Request - Learning Paths"),I=encodeURIComponent("Hi, I'd like to enable Learning Paths tracking on Islam Kids Zone. My name is ____ and my contact details are ____.");window.location.href=`mailto:imediac786@gmail.com?subject=${R}&body=${I}`},className:"bg-gradient-to-r from-blue-500 to-purple-500",children:"Request Access via Email"})]})})}),n&&t&&s.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:s.jsx(te,{className:"border-2 border-purple-300 shadow-lg bg-gradient-to-br from-purple-50 to-pink-50",children:s.jsx(re,{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 text-center",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-3xl mb-2",children:""}),s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:x.filter(R=>R.status==="in_progress").length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Active Paths"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-3xl mb-2",children:""}),s.jsx("div",{className:"text-2xl font-bold text-green-600",children:x.filter(R=>R.status==="completed").length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Completed"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-3xl mb-2",children:""}),s.jsx("div",{className:"text-2xl font-bold text-amber-600",children:((F=t.badges)==null?void 0:F.length)||0}),s.jsx("div",{className:"text-sm text-gray-600",children:"Badges Earned"})]})]})})})}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-8 justify-center",children:T.map(R=>s.jsxs(G,{onClick:()=>c(R.id),variant:o===R.id?"default":"outline",size:"sm",className:o===R.id?"bg-gradient-to-r from-blue-500 to-purple-500":"",children:[s.jsx("span",{className:"mr-2",children:R.icon}),R.name]},R.id))}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.jsx(ds,{mode:"popLayout",children:D.map((R,I)=>{var U;const O=w(R.id),V=!!O,M=(O==null?void 0:O.status)==="completed";return s.jsx(ee.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{delay:I*.1},whileHover:{y:-5},children:s.jsxs(te,{className:"h-full hover:shadow-2xl transition-all cursor-pointer border-2 hover:border-purple-300",children:[s.jsxs(Oe,{className:`bg-gradient-to-br ${pI[R.category]} text-white p-4`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("div",{className:"text-4xl",children:R.icon||""}),s.jsx(we,{className:`${yfe[R.difficulty_level]} text-xs`,children:R.difficulty_level})]}),s.jsx(Fe,{className:"text-lg leading-tight",children:R.title}),s.jsx("p",{className:"text-sm text-white/90 mt-2 line-clamp-2",children:R.description})]}),s.jsxs(re,{className:"p-4 space-y-4",children:[V&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[s.jsx("span",{className:"text-gray-600",children:"Progress"}),s.jsxs("span",{className:"font-bold text-purple-600",children:[O.completion_percentage,"%"]})]}),s.jsx(Rc,{value:O.completion_percentage,className:"h-2"})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(un,{className:"w-4 h-4"}),s.jsxs("span",{children:[((U=R.modules)==null?void 0:U.length)||0," modules"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Oa,{className:"w-4 h-4"}),s.jsx("span",{children:R.estimated_duration})]})]}),s.jsxs("div",{className:"bg-amber-50 rounded-lg p-3 border border-amber-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(wc,{className:"w-4 h-4 text-amber-600"}),s.jsx("span",{className:"text-xs font-semibold text-amber-900",children:"Completion Rewards:"})]}),s.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(xr,{className:"w-4 h-4 text-amber-600"}),s.jsxs("span",{className:"font-bold text-amber-900",children:["+",R.completion_points," pts"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Vt,{className:"w-4 h-4 text-amber-600"}),s.jsx("span",{className:"text-amber-900",children:R.completion_badge})]})]})]}),s.jsx(G,{onClick:()=>N(R),className:`w-full ${M?"bg-green-500 hover:bg-green-600":V?"bg-purple-500 hover:bg-purple-600":"bg-gradient-to-r from-blue-500 to-purple-500"}`,children:M?s.jsxs(s.Fragment,{children:[s.jsx(Yi,{className:"w-4 h-4 mr-2"}),"Completed!"]}):V?s.jsxs(s.Fragment,{children:[s.jsx(rC,{className:"w-4 h-4 mr-2"}),"Continue Learning"]}):s.jsxs(s.Fragment,{children:[s.jsx(Qs,{className:"w-4 h-4 mr-2"}),"Start Path"]})})]})]})},R.id)})})}),D.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("p",{className:"text-gray-600 text-lg",children:"No learning paths available in this category yet."})]}),s.jsx(ds,{children:i&&s.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>a(null),children:s.jsxs(ee.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:R=>R.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:`bg-gradient-to-br ${pI[i.category]} text-white p-6 sticky top-0 z-10`,children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-5xl mb-3",children:i.icon||""}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:i.title}),s.jsx("p",{className:"text-white/90",children:i.description})]}),s.jsx(G,{variant:"ghost",size:"icon",onClick:()=>a(null),className:"text-white hover:bg-white/20",children:s.jsx(qr,{className:"w-6 h-6"})})]}),w(i.id)&&s.jsxs("div",{className:"mt-4",children:[s.jsx(Rc,{value:w(i.id).completion_percentage,className:"h-3 bg-white/20"}),s.jsxs("p",{className:"text-sm text-white/90 mt-2",children:[w(i.id).completion_percentage,"% Complete"]})]})]}),s.jsxs("div",{className:"p-6 space-y-3",children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(un,{className:"w-6 h-6"}),"Learning Modules"]}),(P=i.modules)==null?void 0:P.map((R,I)=>{var ne,ce,se;const O=vfe[R.type]||un,V=w(i.id),M=(ne=V==null?void 0:V.completed_modules)==null?void 0:ne.includes(R.id),U=I===0||((se=V==null?void 0:V.completed_modules)==null?void 0:se.includes((ce=i.modules[I-1])==null?void 0:ce.id)),J=!n||U;return s.jsx(ee.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:I*.05},className:`p-4 rounded-lg border-2 ${M?"bg-green-50 border-green-300":J?"bg-white border-gray-200 hover:border-purple-300":"bg-gray-50 border-gray-200 opacity-60"} transition-all`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ${M?"bg-green-500":J?"bg-purple-500":"bg-gray-400"}`,children:M?s.jsx(Yi,{className:"w-6 h-6 text-white"}):J?s.jsx(O,{className:"w-5 h-5 text-white"}):s.jsx(q1,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsxs("span",{className:"text-sm font-bold text-gray-900",children:["Module ",I+1]}),s.jsx(we,{variant:"outline",className:"text-xs",children:R.type})]}),s.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:R.title}),s.jsx("p",{className:"text-sm text-gray-600",children:R.description})]}),J&&s.jsxs("div",{className:"flex flex-col gap-2 flex-shrink-0",children:[s.jsxs(G,{size:"sm",onClick:()=>E(),className:"bg-purple-500 hover:bg-purple-600 text-white",children:[s.jsx(rC,{className:"w-4 h-4 mr-1"}),"Play"]}),n&&!M&&s.jsxs(G,{size:"sm",variant:"outline",onClick:()=>A(R,i),className:"text-xs border-green-500 text-green-600 hover:bg-green-50",children:[s.jsx(Yi,{className:"w-3 h-3 mr-1"}),"Mark Done"]})]})]})},R.id)})]})]})})})]})})}function xF(){const[t,e]=v.useState(null),[n,r]=v.useState([]),[i,a]=v.useState(null),[o,c]=v.useState(!1);zn();const[d,h]=v.useState({text:"",subtext:"",gradient:"from-blue-600 via-purple-600 to-pink-600",active:!0,order:1});v.useEffect(()=>{m()},[]);const m=()=>{const E=localStorage.getItem("homepage_banners");if(E)r(JSON.parse(E));else{const A=[{id:1,text:"Welcome to Islam Kids Zone",subtext:"Learn, Play & Grow in Faith",gradient:"from-blue-600 via-purple-600 to-pink-600",active:!0,order:1},{id:2,text:'"Whoever guides someone to goodness will have a reward like one who did it."',subtext:" Sahih Muslim",gradient:"from-green-600 via-teal-600 to-cyan-600",active:!0,order:2}];r(A),f(A)}},f=E=>{localStorage.setItem("homepage_banners",JSON.stringify(E)),r(E)},g=()=>{h({text:"",subtext:"",gradient:"from-blue-600 via-purple-600 to-pink-600",active:!0,order:1})},x=E=>{a(E),h(E),c(!0)},_=E=>{if(E.preventDefault(),i){const A=n.map(T=>T.id===i.id?{...d,id:T.id}:T);f(A)}else{const A={...d,id:Date.now()};f([...n,A])}c(!1),a(null),g()},j=E=>{window.confirm("Delete this banner?")&&f(n.filter(A=>A.id!==E))},w=E=>{const A=n.map(T=>T.id===E?{...T,active:!T.active}:T);f(A)},N=[{name:"Blue Purple",value:"from-blue-600 via-purple-600 to-pink-600"},{name:"Green Teal",value:"from-green-600 via-teal-600 to-cyan-600"},{name:"Orange Red",value:"from-amber-600 via-orange-600 to-red-600"},{name:"Purple Pink",value:"from-purple-600 via-pink-600 to-rose-600"},{name:"Indigo Blue",value:"from-indigo-600 via-blue-600 to-cyan-600"}];return s.jsx("div",{className:"min-h-screen py-8 px-4 bg-gradient-to-br from-slate-50 to-blue-50",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Nt,{to:Xe("AdminDashboard"),children:s.jsxs(G,{variant:"outline",children:[s.jsx(jl,{className:"w-4 h-4 mr-2"}),"Back"]})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Homepage Banners"}),s.jsx("p",{className:"text-gray-600",children:"Manage rotating homepage banner slides"})]})]}),s.jsxs(G,{onClick:()=>{c(!0),a(null),g()},children:[s.jsx(Rs,{className:"w-4 h-4 mr-2"}),"Add Banner"]})]}),s.jsx(ds,{children:o&&s.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:s.jsxs(ee.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"sticky top-0 bg-white border-b p-6 z-10",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl font-bold",children:i?"Edit Banner":"Create Banner"}),s.jsx(G,{variant:"ghost",size:"icon",onClick:()=>c(!1),children:s.jsx(qr,{className:"w-6 h-6"})})]})}),s.jsxs("form",{onSubmit:_,className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Main Text *"}),s.jsx(Te,{value:d.text,onChange:E=>h({...d,text:E.target.value}),required:!0,placeholder:"Welcome message or quote"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Subtext"}),s.jsx(Te,{value:d.subtext,onChange:E=>h({...d,subtext:E.target.value}),placeholder:"Optional subtitle or attribution"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Gradient Style"}),s.jsx("div",{className:"grid grid-cols-2 gap-2 mb-2",children:N.map(E=>s.jsx("button",{type:"button",onClick:()=>h({...d,gradient:E.value}),className:`p-3 rounded-lg bg-gradient-to-r ${E.value} text-white text-sm font-semibold ${d.gradient===E.value?"ring-4 ring-blue-500":""}`,children:E.name},E.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Display Order"}),s.jsx(Te,{type:"number",value:d.order,onChange:E=>h({...d,order:parseInt(E.target.value)}),min:"1"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"font-semibold",children:"Active"}),s.jsx(Cs,{checked:d.active,onCheckedChange:E=>h({...d,active:E})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Preview"}),s.jsxs("div",{className:`p-8 rounded-xl bg-gradient-to-r ${d.gradient} text-white text-center`,children:[s.jsx("h3",{className:"text-2xl font-bold mb-2",children:d.text||"Your text here"}),d.subtext&&s.jsx("p",{className:"text-white/90",children:d.subtext})]})]}),s.jsxs("div",{className:"flex gap-4 justify-end border-t pt-6",children:[s.jsx(G,{type:"button",variant:"outline",onClick:()=>c(!1),children:"Cancel"}),s.jsxs(G,{type:"submit",children:[s.jsx(la,{className:"w-4 h-4 mr-2"}),i?"Update":"Create"]})]})]})]})})}),s.jsx("div",{className:"space-y-4",children:n.sort((E,A)=>E.order-A.order).map(E=>s.jsx(te,{className:E.active?"":"opacity-50",children:s.jsx(re,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:`p-6 rounded-xl bg-gradient-to-r ${E.gradient} text-white mb-4`,children:[s.jsx("h3",{className:"text-xl font-bold mb-1",children:E.text}),E.subtext&&s.jsx("p",{className:"text-sm text-white/90",children:E.subtext})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[s.jsxs("span",{children:["Order: ",E.order]}),s.jsx("span",{children:""}),s.jsx("span",{children:E.active?" Active":" Inactive"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(G,{size:"sm",variant:"outline",onClick:()=>w(E.id),children:E.active?s.jsx(Y9,{className:"w-4 h-4"}):s.jsx(HI,{className:"w-4 h-4"})}),s.jsx(G,{size:"sm",onClick:()=>x(E),children:s.jsx(uo,{className:"w-4 h-4"})}),s.jsx(G,{size:"sm",variant:"outline",onClick:()=>j(E.id),className:"text-red-600",children:s.jsx(nr,{className:"w-4 h-4"})})]})]})})},E.id))}),n.length===0&&s.jsxs(te,{className:"p-12 text-center",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"No banners created yet"}),s.jsx(G,{onClick:()=>c(!0),children:"Create First Banner"})]})]})})}function gI(){zn();const[t,e]=v.useState([]),[n,r]=v.useState(null),[i,a]=v.useState({name:"",linkUrl:"",imageUrl:"",type:"sponsor",placement:"home",order:0,active:!0}),[o,c]=v.useState(!1),[d,h]=v.useState(""),[m,f]=v.useState(null),[g,x]=v.useState(!1),_=()=>{try{const D=localStorage.getItem("homepage_sponsors"),F=D?JSON.parse(D):[];e(Array.isArray(F)?F:[])}catch{e([])}},j=D=>{localStorage.setItem("homepage_sponsors",JSON.stringify(D))},w=async()=>{c(!0),h("");try{const D=await Wu.list();e(D.sort((F,P)=>(F.order??0)-(P.order??0)))}catch(D){console.warn("Sponsors list via Firestore failed, using localStorage",(D==null?void 0:D.message)||D),_()}finally{c(!1)}};v.useEffect(()=>{const{app:D}=Ut();x(!!D),w()},[]);const N=()=>{a({name:"",linkUrl:"",imageUrl:"",type:"sponsor",placement:"home",order:t.length,active:!0}),r(null),h("")},E=D=>{r(D.id||D._localId),a({name:D.name||"",linkUrl:D.linkUrl||"",imageUrl:D.imageUrl||"",type:D.type||"sponsor",placement:D.placement||"home",order:D.order??0,active:D.active??!0})},A=async D=>{D.preventDefault(),c(!0),h("");try{const F={...i,name:i.name.trim(),linkUrl:i.linkUrl.trim(),imageUrl:i.imageUrl.trim(),createdAt:new Date().toISOString()};if(n)try{await Wu.update(n,F),await w()}catch{const R=t.map(I=>I.id===n||I._localId===n?{...I,...F}:I);e(R),j(R)}else try{const P=await Wu.add(F),R=(P==null?void 0:P.id)||Math.random().toString(36).slice(2);e(I=>[...I,{id:R,...F}])}catch{const R={_localId:Math.random().toString(36).slice(2),...F},I=[...t,R];e(I),j(I)}N()}catch(F){h((F==null?void 0:F.message)||"Failed to save")}finally{c(!1)}},T=async D=>{if(window.confirm("Delete this item?")){c(!0);try{if(D.id)try{await Wu.remove(D.id),await w()}catch{const P=t.filter(R=>R.id!==D.id);e(P),j(P)}else{const F=t.filter(P=>P._localId!==D._localId);e(F),j(F)}}finally{c(!1)}}};return s.jsx("div",{className:"min-h-screen py-8 px-4 bg-gradient-to-br from-slate-50 to-blue-50",children:s.jsx("div",{className:"max-w-5xl mx-auto",children:s.jsxs(te,{className:"shadow-xl border-2 border-blue-200",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:s.jsxs(Fe,{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(Gu,{className:"w-5 h-5"})," Manage Sponsors & Ads"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Nt,{to:Xe("Assistant"),className:"text-white/90 hover:text-white",children:s.jsxs(G,{variant:"ghost",className:"text-white",children:[s.jsx(Td,{className:"w-4 h-4 mr-2"})," Open AI Agent"]})}),s.jsx(Nt,{to:Xe("AdminDashboard"),className:"text-white/90 hover:text-white",children:s.jsxs(G,{variant:"ghost",className:"text-white",children:[s.jsx(jl,{className:"w-4 h-4 mr-2"})," Back to Dashboard"]})})]})]})}),s.jsxs(re,{className:"p-6",children:[s.jsxs("form",{onSubmit:A,className:"space-y-4",children:[d&&s.jsx("div",{className:"text-red-600",children:d}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"Name"}),s.jsx(Te,{value:i.name,onChange:D=>a({...i,name:D.target.value}),placeholder:"Sponsor name",required:!0})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Link URL"}),s.jsx(Te,{value:i.linkUrl,onChange:D=>a({...i,linkUrl:D.target.value}),placeholder:"https://sponsor.com",type:"url",required:!0})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Logo/Image URL"}),s.jsx(Te,{value:i.imageUrl,onChange:D=>a({...i,imageUrl:D.target.value}),placeholder:"https://...logo.png"})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Upload Image (optional)"}),s.jsx(Te,{type:"file",accept:"image/*",onChange:D=>{var F;return f(((F=D.target.files)==null?void 0:F[0])||null)}}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:g?"Uploads go to Firebase Storage and auto-fill the Image URL.":"Upload disabled: configure Firebase env vars to enable Storage."}),s.jsxs("div",{className:"mt-2 flex gap-2",children:[s.jsx(G,{type:"button",variant:"outline",disabled:!m||!g||o,onClick:async()=>{if(h(""),!!m)try{const D=await S6(m,i.name||m.name);a({...i,imageUrl:D.url})}catch(D){h((D==null?void 0:D.message)||"Upload failed")}},children:"Upload to Storage"}),i.imageUrl&&s.jsx("a",{href:i.imageUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 text-sm",children:"Preview"})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Type"}),s.jsxs("select",{className:"border rounded px-3 py-2 w-full",value:i.type,onChange:D=>a({...i,type:D.target.value}),children:[s.jsx("option",{value:"sponsor",children:"Sponsor"}),s.jsx("option",{value:"ad",children:"Ad"})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Placement"}),s.jsx("select",{className:"border rounded px-3 py-2 w-full",value:i.placement,onChange:D=>a({...i,placement:D.target.value}),children:s.jsx("option",{value:"home",children:"Home"})})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Order"}),s.jsx(Te,{type:"number",value:i.order,onChange:D=>a({...i,order:Number(D.target.value)})})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Cs,{checked:i.active,onCheckedChange:D=>a({...i,active:!!D})}),s.jsx(ye,{children:"Active"})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(G,{type:"submit",disabled:o,className:"bg-blue-600 text-white",children:[s.jsx(la,{className:"w-4 h-4 mr-2"})," ",n?"Update":"Add"," Item"]}),n&&s.jsxs(G,{type:"button",variant:"outline",onClick:N,children:[s.jsx(qr,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]}),s.jsxs("div",{className:"mt-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-xl font-bold",children:"Current Items"}),s.jsxs(G,{variant:"outline",onClick:N,children:[s.jsx(Rs,{className:"w-4 h-4 mr-2"}),"New"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.map(D=>s.jsx("div",{className:"border rounded-xl p-4 bg-white",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded flex items-center justify-center overflow-hidden",children:D.imageUrl?s.jsx(bfe,{url:D.imageUrl,name:D.name}):s.jsx(Ya,{className:"w-8 h-8 text-gray-400"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold",children:D.name}),s.jsx("div",{className:"text-sm text-blue-600 break-all",children:s.jsx("a",{href:D.linkUrl,target:"_blank",rel:"noopener noreferrer",children:D.linkUrl})}),s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Type: ",D.type,"  Placement: ",D.placement,"  Order: ",D.order??0,"  Active: ",D.active?"Yes":"No"]}),s.jsxs("div",{className:"mt-3 flex gap-2",children:[s.jsxs(G,{size:"sm",variant:"outline",onClick:()=>E(D),children:[s.jsx(uo,{className:"w-4 h-4 mr-1"}),"Edit"]}),s.jsxs(G,{size:"sm",variant:"destructive",onClick:()=>T(D),children:[s.jsx(nr,{className:"w-4 h-4 mr-1"}),"Delete"]})]})]})]})},D.id||D._localId)),t.length===0&&s.jsx("div",{className:"text-gray-600",children:"No sponsors or ads yet. Add your first above."})]})]})]})]})})})}function bfe({url:t,name:e}){const[n,r]=_n.useState(!1);return n?s.jsx(Ya,{className:"w-8 h-8 text-gray-400"}):s.jsx("img",{src:t,alt:e||"Sponsor",className:"object-contain w-full h-full",referrerPolicy:"no-referrer",onError:()=>r(!0)})}function yF(){const[t,e]=v.useState(null),[n,r]=v.useState(!1),[i,a]=v.useState(null),o=Ds();zn();const[c,d]=v.useState({title:"",description:"",moral:"",image_url:"",category:"manners",age_range:"7-12",is_interactive:!0,starting_node:"start",story_nodes:[]}),[h,m]=v.useState({id:"",content:"",character:"",image_url:"",is_ending:!1,ending_type:"good",choices:[]}),{data:f=[],isLoading:g}=vn({queryKey:["admin-interactive-stories"],queryFn:async()=>(await Je.entities.Story.list("-created_date")).filter(V=>V.is_interactive),initialData:[]}),x=gn({mutationFn:async O=>await Je.entities.Story.create(O),onSuccess:()=>{o.invalidateQueries({queryKey:["admin-interactive-stories"]}),r(!1),w()}}),_=gn({mutationFn:async({id:O,storyData:V})=>await Je.entities.Story.update(O,V),onSuccess:()=>{o.invalidateQueries({queryKey:["admin-interactive-stories"]}),e(null),r(!1),w()}}),j=gn({mutationFn:async O=>await Je.entities.Story.delete(O),onSuccess:()=>{o.invalidateQueries({queryKey:["admin-interactive-stories"]})}}),w=()=>{d({title:"",description:"",moral:"",image_url:"",category:"manners",age_range:"7-12",is_interactive:!0,starting_node:"start",story_nodes:[]}),a(null)},N=O=>{e(O),d({title:O.title,description:O.description||"",moral:O.moral,image_url:O.image_url||"",category:O.category,age_range:O.age_range||"7-12",is_interactive:!0,starting_node:O.starting_node||"start",story_nodes:O.story_nodes||[]}),r(!0)},E=async O=>{window.confirm("Are you sure you want to delete this interactive story?")&&await j.mutateAsync(O)},A=async O=>{O.preventDefault(),t?await _.mutateAsync({id:t.id,storyData:c}):await x.mutateAsync(c)},T=()=>{const O={id:`node_${Date.now()}`,content:"",character:"",image_url:"",is_ending:!1,ending_type:"good",choices:[]};d({...c,story_nodes:[...c.story_nodes,O]})},D=(O,V,M)=>{const U=[...c.story_nodes];U[O]={...U[O],[V]:M},d({...c,story_nodes:U})},F=O=>{if(window.confirm("Delete this story node?")){const V=c.story_nodes.filter((M,U)=>U!==O);d({...c,story_nodes:V})}},P=O=>{const V=[...c.story_nodes];V[O].choices||(V[O].choices=[]),V[O].choices.push({text:"",next_node:"",points:5}),d({...c,story_nodes:V})},R=(O,V,M,U)=>{const J=[...c.story_nodes];J[O].choices[V]={...J[O].choices[V],[M]:U},d({...c,story_nodes:J})},I=(O,V)=>{const M=[...c.story_nodes];M[O].choices=M[O].choices.filter((U,J)=>J!==V),d({...c,story_nodes:M})};return s.jsx("div",{className:"min-h-screen py-8 px-4 bg-gradient-to-br from-slate-50 to-blue-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Nt,{to:Xe("AdminDashboard"),children:s.jsxs(G,{variant:"outline",children:[s.jsx(jl,{className:"w-4 h-4 mr-2"}),"Back"]})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Interactive Story Builder"}),s.jsx("p",{className:"text-gray-600",children:"Create branching narrative stories"})]})]}),s.jsxs(G,{onClick:()=>{r(!0),e(null),w()},className:"bg-purple-600 hover:bg-purple-700",children:[s.jsx(Rs,{className:"w-4 h-4 mr-2"}),"Create Interactive Story"]})]}),!n&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(O=>{var V;return s.jsxs(te,{className:"hover:shadow-lg transition-shadow",children:[s.jsx(Oe,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx(Fe,{className:"text-lg line-clamp-2",children:O.title}),s.jsxs(we,{className:"bg-purple-100 text-purple-800",children:[s.jsx(rz,{className:"w-3 h-3 mr-1"}),((V=O.story_nodes)==null?void 0:V.length)||0," nodes"]})]})}),s.jsxs(re,{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:O.description}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(G,{onClick:()=>N(O),size:"sm",className:"flex-1 bg-blue-600 hover:bg-blue-700",children:[s.jsx(uo,{className:"w-4 h-4 mr-1"}),"Edit"]}),s.jsx(G,{onClick:()=>E(O.id),size:"sm",variant:"outline",className:"text-red-600 border-red-600",children:s.jsx(nr,{className:"w-4 h-4"})})]})]})]},O.id)})}),n&&s.jsxs(te,{children:[s.jsx(Oe,{children:s.jsx(Fe,{children:t?"Edit Interactive Story":"Create New Interactive Story"})}),s.jsx(re,{children:s.jsxs("form",{onSubmit:A,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Title *"}),s.jsx(Te,{value:c.title,onChange:O=>d({...c,title:O.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Category *"}),s.jsxs("select",{value:c.category,onChange:O=>d({...c,category:O.target.value}),className:"w-full border rounded-lg px-3 py-2",children:[s.jsx("option",{value:"prophets",children:"Prophets"}),s.jsx("option",{value:"sahabah",children:"Sahabah"}),s.jsx("option",{value:"manners",children:"Manners"}),s.jsx("option",{value:"kindness",children:"Kindness"}),s.jsx("option",{value:"honesty",children:"Honesty"}),s.jsx("option",{value:"gratitude",children:"Gratitude"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Description"}),s.jsx(Te,{value:c.description,onChange:O=>d({...c,description:O.target.value}),placeholder:"Brief description of the story"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Moral/Lesson *"}),s.jsx(Rn,{value:c.moral,onChange:O=>d({...c,moral:O.target.value}),required:!0,rows:2})]}),s.jsxs("div",{className:"border-t pt-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-xl font-bold",children:"Story Nodes"}),s.jsxs(G,{type:"button",onClick:T,size:"sm",children:[s.jsx(Rs,{className:"w-4 h-4 mr-2"}),"Add Node"]})]}),s.jsx("div",{className:"space-y-4",children:c.story_nodes.map((O,V)=>{var M;return s.jsx(te,{className:"border-2 border-purple-200",children:s.jsxs(re,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsxs(we,{className:"mb-2",children:["Node ",V+1]}),s.jsxs("p",{className:"text-xs text-gray-500",children:["ID: ",O.id]})]}),s.jsx(G,{type:"button",variant:"ghost",size:"sm",onClick:()=>F(V),className:"text-red-600",children:s.jsx(nr,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Character Name"}),s.jsx(Te,{value:O.character,onChange:U=>D(V,"character",U.target.value),placeholder:"e.g., Ahmad (You)"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Content *"}),s.jsx(Rn,{value:O.content,onChange:U=>D(V,"content",U.target.value),rows:4,placeholder:"Story content (Markdown supported)"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:O.is_ending,onChange:U=>D(V,"is_ending",U.target.checked)}),s.jsx("span",{className:"text-sm font-semibold",children:"Is Ending Node"})]}),O.is_ending&&s.jsxs("select",{value:O.ending_type,onChange:U=>D(V,"ending_type",U.target.value),className:"border rounded px-2 py-1 text-sm",children:[s.jsx("option",{value:"excellent",children:"Excellent"}),s.jsx("option",{value:"great",children:"Great"}),s.jsx("option",{value:"good",children:"Good"}),s.jsx("option",{value:"bad",children:"Bad"})]})]}),!O.is_ending&&s.jsxs("div",{className:"border-t pt-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("label",{className:"text-sm font-semibold",children:"Choices"}),s.jsxs(G,{type:"button",onClick:()=>P(V),size:"sm",variant:"outline",children:[s.jsx(Rs,{className:"w-3 h-3 mr-1"}),"Add Choice"]})]}),(M=O.choices)==null?void 0:M.map((U,J)=>s.jsxs("div",{className:"bg-gray-50 p-3 rounded mb-2",children:[s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsxs("span",{className:"text-xs font-bold",children:["Choice ",J+1]}),s.jsx(G,{type:"button",variant:"ghost",size:"sm",onClick:()=>I(V,J),children:s.jsx(qr,{className:"w-3 h-3"})})]}),s.jsx(Te,{value:U.text,onChange:ne=>R(V,J,"text",ne.target.value),placeholder:"Choice text",className:"mb-2"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx(Te,{value:U.next_node,onChange:ne=>R(V,J,"next_node",ne.target.value),placeholder:"Next node ID"}),s.jsx(Te,{type:"number",value:U.points,onChange:ne=>R(V,J,"points",parseInt(ne.target.value)),placeholder:"Points"})]})]},J))]})]})]})},V)})})]}),s.jsxs("div",{className:"flex gap-4 justify-end border-t pt-6",children:[s.jsx(G,{type:"button",variant:"outline",onClick:()=>{r(!1),w()},children:"Cancel"}),s.jsxs(G,{type:"submit",className:"bg-purple-600 hover:bg-purple-700",children:[s.jsx(la,{className:"w-4 h-4 mr-2"}),t?"Update Story":"Create Story"]})]})]})})]})]})})}const xI=[{game_id:"ayat_explorer",game_name:"Ayat Explorer",emoji:""},{game_id:"word_search",game_name:"Islamic Word Search",emoji:""},{game_id:"memory_match",game_name:"Islamic Memory Match",emoji:""},{game_id:"memory",game_name:"Memory Game",emoji:""},{game_id:"matching_pairs",game_name:"Matching Pairs of Iman",emoji:""},{game_id:"islamic_quiz",game_name:"Islamic Knowledge Quiz",emoji:""},{game_id:"sahabah_arena",game_name:"Sahabah Arena",emoji:""},{game_id:"knowledge_race",game_name:"Islam Knowledge Race",emoji:""},{game_id:"sahabah_stories",game_name:"Sahabah Stories",emoji:""},{game_id:"maze_of_guidance",game_name:"Maze of Guidance",emoji:""},{game_id:"trivia",game_name:"Trivia",emoji:""},{game_id:"quran_quest",game_name:"Quran Quest",emoji:""},{game_id:"crossword",game_name:"Islamic Crossword",emoji:""},{game_id:"hadith_match",game_name:"Hadith Match",emoji:""},{game_id:"prophet_stories",game_name:"Prophet Stories",emoji:""},{game_id:"quran_memory",game_name:"Quran Memory Match",emoji:""},{game_id:"morals_maze",game_name:"Islamic Morals Maze",emoji:""},{game_id:"seerah_quiz",game_name:"Seerah Quiz",emoji:""},{game_id:"word_scramble",game_name:"Word Scramble Challenge",emoji:""},{game_id:"quest_for_ilm",game_name:"The Quest for Ilm",emoji:""},{game_id:"fiqh_game",game_name:"Fiqh Challenge",emoji:""}];function vF(){zn();const t=Ds(),[e,n]=v.useState(!1),[r,i]=v.useState({}),{data:a=[],isLoading:o}=vn({queryKey:["game-settings"],queryFn:async()=>{const g=await Je.entities.GameSettings.list(),x=g.map(j=>j.game_id),_=xI.filter(j=>!x.includes(j.game_id));return _.length>0?(await Promise.all(_.map(j=>Je.entities.GameSettings.create({game_id:j.game_id,game_name:j.game_name,points_per_game:10,perfect_score_bonus:5,is_active:!0,min_points:5,max_points:20}))),await Je.entities.GameSettings.list()):g},enabled:!0}),c=gn({mutationFn:({id:g,data:x})=>Je.entities.GameSettings.update(g,x),onSuccess:()=>{t.invalidateQueries({queryKey:["game-settings"]}),n(!0),setTimeout(()=>n(!1),3e3)}}),d=(g,x,_)=>{i(j=>({...j,[g]:{...j[g],[x]:_}}))},h=async g=>{const x=r[g.game_id]||{};Object.keys(x).length!==0&&(await c.mutateAsync({id:g.id,data:x}),i(_=>{const j={..._};return delete j[g.game_id],j}))},m=(g,x)=>{var _;return((_=r[g.game_id])==null?void 0:_[x])??g[x]},f=g=>r[g]&&Object.keys(r[g]).length>0;return o?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(hd,{className:"w-12 h-12 mx-auto mb-4 animate-spin text-blue-600"}),s.jsx("p",{className:"text-gray-600",children:"Loading game settings..."})]})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 py-8 px-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx(ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Game Settings"}),s.jsx("p",{className:"text-gray-600",children:"Manage points and settings for all games"})]}),e&&s.jsxs(we,{className:"bg-green-500 text-white",children:[s.jsx(jc,{className:"w-4 h-4 mr-2"}),"Saved Successfully!"]})]})}),s.jsx("div",{className:"grid gap-6",children:a.map((g,x)=>{const _=xI.find(w=>w.game_id===g.game_id),j=f(g.game_id);return s.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:x*.05},children:s.jsxs(te,{className:`border-2 ${j?"border-blue-400 shadow-lg":"border-gray-200"}`,children:[s.jsx(Oe,{className:"bg-gradient-to-r from-blue-50 to-purple-50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"text-4xl",children:(_==null?void 0:_.emoji)||""}),s.jsxs("div",{children:[s.jsx(Fe,{className:"text-xl",children:g.game_name}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Game ID: ",g.game_id]})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[j&&s.jsx(we,{variant:"outline",className:"bg-blue-100 text-blue-700",children:"Unsaved Changes"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ye,{htmlFor:`active-${g.id}`,children:"Active"}),s.jsx(Cs,{id:`active-${g.id}`,checked:m(g,"is_active"),onCheckedChange:w=>d(g.game_id,"is_active",w)})]})]})]})}),s.jsxs(re,{className:"p-6",children:[s.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{children:[s.jsxs(ye,{htmlFor:`points-${g.id}`,className:"flex items-center gap-2 mb-2",children:[s.jsx(wc,{className:"w-4 h-4 text-blue-600"}),"Points Per Game"]}),s.jsx(Te,{id:`points-${g.id}`,type:"number",value:m(g,"points_per_game"),onChange:w=>d(g.game_id,"points_per_game",parseInt(w.target.value)),className:"text-center font-bold text-lg",min:m(g,"min_points"),max:m(g,"max_points")})]}),s.jsxs("div",{children:[s.jsxs(ye,{htmlFor:`bonus-${g.id}`,className:"flex items-center gap-2 mb-2",children:[s.jsx(Vx,{className:"w-4 h-4 text-green-600"}),"Perfect Score Bonus"]}),s.jsx(Te,{id:`bonus-${g.id}`,type:"number",value:m(g,"perfect_score_bonus"),onChange:w=>d(g.game_id,"perfect_score_bonus",parseInt(w.target.value)),className:"text-center font-bold text-lg",min:0,max:20})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:`min-${g.id}`,className:"mb-2 block",children:"Min Points"}),s.jsx(Te,{id:`min-${g.id}`,type:"number",value:m(g,"min_points"),onChange:w=>d(g.game_id,"min_points",parseInt(w.target.value)),className:"text-center",min:0})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:`max-${g.id}`,className:"mb-2 block",children:"Max Points"}),s.jsx(Te,{id:`max-${g.id}`,type:"number",value:m(g,"max_points"),onChange:w=>d(g.game_id,"max_points",parseInt(w.target.value)),className:"text-center",min:m(g,"min_points")})]})]}),s.jsxs("div",{className:"mt-4 flex items-center gap-3",children:[s.jsx("div",{className:"flex-1 bg-blue-50 rounded-lg p-3 border border-blue-200",children:s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("strong",{children:"Total Possible:"})," ",m(g,"points_per_game")," + ",m(g,"perfect_score_bonus")," bonus = ",s.jsxs("span",{className:"text-blue-600 font-bold",children:[m(g,"points_per_game")+m(g,"perfect_score_bonus")," points"]})]})}),s.jsxs(G,{onClick:()=>h(g),disabled:!j,className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(la,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]})]})]})},g.id)})}),s.jsx(te,{className:"mt-8 border-2 border-amber-300 bg-amber-50",children:s.jsx(re,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(z1,{className:"w-6 h-6 text-amber-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-amber-900 mb-2",children:"Important Notes:"}),s.jsxs("ul",{className:"text-sm text-amber-800 space-y-1",children:[s.jsx("li",{children:" Changes take effect immediately for all new games played"}),s.jsx("li",{children:" User points are capped at 1500 total regardless of individual game settings"}),s.jsx("li",{children:" Perfect score bonus is only awarded when users get 100% correct"}),s.jsx("li",{children:" Deactivating a game will hide it from the Games page"})]})]})]})})})]})})}async function wfe(t,e,n={}){var o,c,d,h,m,f;const{isPerfect:r=!1,fallbackScore:i=10,metadata:a={}}=n;try{const g=await Je.entities.GameSettings.filter({game_id:e}),x=g&&g.length>0?g[0]:null,_=x?x.is_active!==!1:!0,j=x?Number(x.points_per_game??i):i,w=x?Number(x.perfect_score_bonus??0):0,N=x?Number(x.min_points??0):0,E=x?Number(x.max_points??99999):99999;let A=_?j+(r?w:0):0;A=Math.max(N,Math.min(A,E));const{auth:T}=Ut(),D=await((c=(o=T==null?void 0:T.currentUser)==null?void 0:o.getIdToken)==null?void 0:c.call(o));if(D){const O="/api/updatePoints";try{if((await fetch(O,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${D}`},body:JSON.stringify({game_type:e,points_awarded:A,isPerfect:r,metadata:a})})).ok)return A}catch{}}const{db:F,auth:P}=Ut(),R=(d=P==null?void 0:P.currentUser)==null?void 0:d.uid,I=((h=P==null?void 0:P.currentUser)==null?void 0:h.email)||null;if(F&&R)try{const O=wl(F,"users",R),V=await J5(O),M=Number(V.exists()&&((m=V.data())==null?void 0:m.points)||0),J=Math.min(M+A,1500);await Z5(O,{uid:R,email:I,points:J,lastAward:{game_type:e||null,points_awarded:A,perfect:r,at:new Date},updatedAt:new Date,createdAt:V.exists()?((f=V.data())==null?void 0:f.createdAt)||new Date:new Date},{merge:!0})}catch{}return A}catch(g){return console.error("awardPointsForGame error:",g),i}}function bF(){zn();const[t,e]=v.useState(null),[n,r]=v.useState(null),[i,a]=v.useState(0),[o,c]=v.useState(null),[d,h]=v.useState(!1),[m,f]=v.useState([]),[g,x]=v.useState(null),[_,j]=v.useState(!1),[w,N]=v.useState(null),[E,A]=v.useState("all"),[T,D]=v.useState(null);v.useEffect(()=>{F()},[]),v.useEffect(()=>{const q=qc(X=>D(X));return()=>q&&q()},[]);const F=async()=>{try{if(await base44.auth.isAuthenticated()){const X=await base44.auth.me();e(X)}}catch{console.log("User not authenticated")}},{data:P=[],isLoading:R}=vn({queryKey:["quizzes"],queryFn:async()=>{const q=await base44.entities.Quiz.filter({is_active:!0},"-created_date",100),X=new Date;return q.filter($=>{const he=$.start_date?new Date($.start_date):null,Ne=$.end_date?new Date($.end_date):null;return!(he&&X<he||Ne&&X>Ne)})},initialData:[]}),{data:I=[]}=vn({queryKey:["user-quiz-attempts",t==null?void 0:t.id],queryFn:()=>base44.entities.QuizAttempt.filter({user_id:t.id},"-created_date",100),enabled:!!t,initialData:[]}),{data:O=[]}=vn({queryKey:["quiz-questions",n==null?void 0:n.id],queryFn:async()=>{if(!n)return[];const q=n.questions||[];return(await Promise.all(q.map(async $=>{try{return(await base44.entities.QuizQuestion.filter({id:$}))[0]}catch{return null}}))).filter($=>$!==null)},enabled:!!n,initialData:[]}),V=q=>{r(q),a(0),f([]),h(!1),j(!1),x(Date.now())},M=q=>{d||c(q)},U=()=>{if(o===null)return;const q=O[i],X=o===q.correct_answer_index;f([...m,{question_id:q.id,selected_answer:o,is_correct:X}]),h(!0)},J=()=>{i<O.length-1?(a(i+1),c(null),h(!1)):ne()},ne=async()=>{var Se,De,Ue;const q=Math.floor((Date.now()-g)/1e3),X=m.filter($e=>$e.is_correct).length+(o===((Se=O[i])==null?void 0:Se.correct_answer_index)?1:0),$=O.length,he=Math.round(X/$*100),Ne=he>=(n.passing_score||70);let Ae=Ne?n.points_reward||20:0;if(he===100&&(Ae+=n.bonus_points||10),N({score:he,correct_answers:X,total_questions:$,time_taken:q,points_earned:Ae,passed:Ne}),j(!0),t)try{await base44.entities.QuizAttempt.create({user_id:t.id,quiz_id:n.id,score:he,points_earned:Ae,correct_answers:X,total_questions:$,time_taken_seconds:q,answers:[...m,{question_id:(De=O[i])==null?void 0:De.id,selected_answer:o,is_correct:o===((Ue=O[i])==null?void 0:Ue.correct_answer_index)}],passed:Ne,completed_at:new Date().toISOString()}),await base44.entities.Quiz.update(n.id,{total_attempts:(n.total_attempts||0)+1})}catch($e){console.error("Error saving quiz attempt:",$e)}try{await wfe(t,"quiz",{isPerfect:he===100,fallbackScore:Ae,metadata:{quiz_id:n.id,score_percentage:he,correct_answers:X,total_questions:$,time_taken_seconds:q,passed:Ne}})}catch($e){console.warn("awardPointsForGame failed:",($e==null?void 0:$e.message)||$e)}},ce=()=>{r(null),a(0),c(null),h(!1),f([]),j(!1),N(null)},se=q=>{const X=I.filter($=>$.quiz_id===q);return X.length===0?null:Math.max(...X.map($=>$.score))},K=["all","Quran","Hadith","Seerah","Fiqh","Prophets","Sahabah","Akhlaq","History","Mixed"],W=E==="all"?P:P.filter(q=>q.subject===E),B=P.filter(q=>q.is_featured);if(R)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-purple-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Td,{className:"w-16 h-16 mx-auto mb-4 animate-bounce text-blue-600"}),s.jsx("p",{className:"text-gray-600 font-medium",children:"Loading quizzes..."})]})});if(n&&!_){if(O.length===0)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:s.jsx(te,{className:"max-w-md",children:s.jsxs(re,{className:"p-8 text-center",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"Loading quiz questions..."}),s.jsx(G,{onClick:ce,children:"Back to Quizzes"})]})})});const q=O[i],X=(i+1)/O.length*100;return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 py-8 px-4",children:s.jsx("div",{className:"max-w-3xl mx-auto",children:s.jsxs(te,{className:"shadow-2xl",children:[s.jsxs(Oe,{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx(Fe,{className:"text-2xl",children:n.title}),s.jsxs(we,{className:"bg-white/20 text-white",children:[s.jsx(Oa,{className:"w-4 h-4 mr-1"}),"Question ",i+1,"/",O.length]})]}),s.jsx(Rc,{value:X,className:"bg-white/20"})]}),s.jsx(re,{className:"p-8",children:d?s.jsxs(ee.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center",children:[s.jsx("div",{className:"text-6xl mb-6",children:o===q.correct_answer_index?"":""}),s.jsx("h3",{className:`text-3xl font-bold mb-4 ${o===q.correct_answer_index?"text-green-600":"text-red-600"}`,children:o===q.correct_answer_index?"Correct!":"Not Quite!"}),s.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 mb-6",children:[o!==q.correct_answer_index&&s.jsxs("p",{className:"text-lg mb-3",children:[s.jsx("strong",{children:"Correct Answer:"})," ",q.options[q.correct_answer_index]]}),s.jsxs("p",{className:"text-gray-700",children:[s.jsx("strong",{children:"Explanation:"})," ",q.explanation]}),q.source&&s.jsxs("p",{className:"text-sm text-gray-600 mt-3",children:[s.jsx("strong",{children:"Source:"})," ",q.source]})]}),s.jsx(G,{onClick:J,size:"lg",className:"bg-gradient-to-r from-blue-500 to-purple-500",children:i<O.length-1?"Next Question":"See Results"})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(we,{className:"mb-4",children:q.category}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:q.question})]}),s.jsx("div",{className:"space-y-3",children:q.options.map(($,he)=>s.jsx(ee.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>M(he),className:`w-full p-4 rounded-xl border-2 text-left transition-all ${o===he?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300 bg-white"}`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold ${o===he?"bg-blue-500 text-white":"bg-gray-200 text-gray-600"}`,children:String.fromCharCode(65+he)}),s.jsx("span",{className:"flex-1 text-gray-900",children:$})]})},he))}),s.jsx(G,{onClick:U,disabled:o===null,className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 text-lg py-6",size:"lg",children:"Submit Answer"})]})})]})})})}return _&&w?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 py-8 px-4",children:s.jsx("div",{className:"max-w-2xl mx-auto",children:s.jsx(ee.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},children:s.jsx(te,{className:"shadow-2xl border-4 border-blue-300",children:s.jsxs(re,{className:"p-12 text-center",children:[s.jsx("div",{className:"text-6xl mb-6",children:w.passed?"":""}),s.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:w.passed?"Congratulations!":"Keep Learning!"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[s.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 border-2 border-blue-200",children:[s.jsx(K1,{className:"w-8 h-8 mx-auto mb-2 text-blue-600"}),s.jsxs("p",{className:"text-4xl font-bold text-blue-600",children:[w.score,"%"]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Score"})]}),s.jsxs("div",{className:"bg-purple-50 rounded-xl p-6 border-2 border-purple-200",children:[s.jsx(wc,{className:"w-8 h-8 mx-auto mb-2 text-purple-600"}),s.jsx("p",{className:"text-4xl font-bold text-purple-600",children:w.points_earned}),s.jsx("p",{className:"text-sm text-gray-600",children:"Points"})]})]}),s.jsx("div",{className:"bg-gray-50 rounded-xl p-6 mb-8",children:s.jsxs("div",{className:"flex justify-around text-center",children:[s.jsxs("div",{children:[s.jsx(Yi,{className:"w-6 h-6 mx-auto mb-1 text-green-600"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w.correct_answers}),s.jsx("p",{className:"text-xs text-gray-600",children:"Correct"})]}),s.jsxs("div",{children:[s.jsx(Mx,{className:"w-6 h-6 mx-auto mb-1 text-red-600"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w.total_questions-w.correct_answers}),s.jsx("p",{className:"text-xs text-gray-600",children:"Wrong"})]}),s.jsxs("div",{children:[s.jsx(Oa,{className:"w-6 h-6 mx-auto mb-1 text-blue-600"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[Math.floor(w.time_taken/60),":",(w.time_taken%60).toString().padStart(2,"0")]}),s.jsx("p",{className:"text-xs text-gray-600",children:"Time"})]})]})}),w.score===100&&s.jsx("div",{className:"bg-gradient-to-r from-amber-100 to-yellow-100 border-2 border-amber-400 rounded-xl p-4 mb-6",children:s.jsxs("p",{className:"text-amber-900 font-bold",children:[" Perfect Score! +",n.bonus_points," Bonus Points!"]})}),s.jsxs("div",{className:"flex gap-4 justify-center",children:[s.jsx(G,{onClick:ce,variant:"outline",size:"lg",children:"Back to Quizzes"}),s.jsx(G,{onClick:()=>V(n),className:"bg-gradient-to-r from-blue-500 to-purple-500",size:"lg",children:"Retry Quiz"})]})]})})})})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 py-8 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[!T&&s.jsx("div",{className:"mb-4",children:s.jsx(te,{className:"border-2 border-yellow-300 bg-yellow-50",children:s.jsx(re,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsx("div",{className:"text-sm text-yellow-900",children:"To track your points on the Leaderboard, please sign in."}),s.jsx(Nt,{to:"/Signup",children:s.jsx(G,{className:"bg-blue-600 hover:bg-blue-700",children:"Sign in / Signup"})})]})})})}),s.jsxs(ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-5xl font-bold text-gray-900 mb-4",children:"Islamic Quizzes"}),s.jsx("p",{className:"text-xl text-gray-600",children:"Test your knowledge on various Islamic topics"})]}),s.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-8",children:K.map(q=>s.jsx(G,{onClick:()=>A(q),variant:E===q?"default":"outline",className:E===q?"bg-blue-600":"",children:q==="all"?"All Subjects":q},q))}),B.length>0&&E==="all"&&s.jsxs("div",{className:"mb-12",children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[s.jsx(Vt,{className:"w-6 h-6 text-amber-500 fill-amber-500"}),"Featured This Week"]}),s.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:B.map((q,X)=>{var $;return s.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:X*.1},children:s.jsxs(te,{className:"border-4 border-amber-400 hover:shadow-2xl transition-all cursor-pointer bg-gradient-to-br from-amber-50 to-yellow-50",children:[s.jsx(Oe,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"text-4xl",children:q.icon}),s.jsxs("div",{children:[s.jsx(Fe,{className:"text-2xl",children:q.title}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:q.description})]})]}),s.jsx(we,{className:"bg-amber-500",children:"Featured"})]})}),s.jsxs(re,{children:[s.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[s.jsx(we,{children:q.subject}),s.jsxs(we,{variant:"outline",children:[(($=q.questions)==null?void 0:$.length)||0," Questions"]}),s.jsxs(we,{variant:"outline",children:[s.jsx(Oa,{className:"w-3 h-3 mr-1"}),q.duration_minutes," min"]}),s.jsxs(we,{variant:"outline",children:[s.jsx(wc,{className:"w-3 h-3 mr-1"}),q.points_reward," pts"]})]}),t&&se(q.id)!==null&&s.jsx("div",{className:"bg-blue-100 rounded-lg p-2 mb-4",children:s.jsxs("p",{className:"text-sm text-blue-900",children:[s.jsx("strong",{children:"Your Best:"})," ",se(q.id),"%"]})}),s.jsx(G,{onClick:()=>V(q),className:"w-full bg-gradient-to-r from-amber-500 to-orange-500",size:"lg",children:"Start Quiz"})]})]})},q.id)})})]}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:E==="all"?"All Quizzes":`${E} Quizzes`}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:W.map((q,X)=>{var $;return s.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:X*.1},children:s.jsxs(te,{className:"hover:shadow-xl transition-all cursor-pointer h-full",children:[s.jsxs(Oe,{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"text-4xl",children:q.icon}),s.jsx("div",{className:"flex-1",children:s.jsx(Fe,{className:"text-lg",children:q.title})})]}),s.jsx("p",{className:"text-sm text-gray-600",children:q.description})]}),s.jsxs(re,{children:[s.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[s.jsx(we,{children:q.subject}),s.jsxs(we,{variant:"outline",children:[(($=q.questions)==null?void 0:$.length)||0," Qs"]}),s.jsxs(we,{variant:"outline",children:[s.jsx(Oa,{className:"w-3 h-3 mr-1"}),q.duration_minutes,"m"]})]}),t&&se(q.id)!==null&&s.jsx("div",{className:"bg-green-100 rounded-lg p-2 mb-4",children:s.jsxs("p",{className:"text-xs text-green-900",children:["Best: ",se(q.id),"%"]})}),s.jsx(G,{onClick:()=>V(q),className:"w-full bg-blue-600",children:"Take Quiz"})]})]})},q.id)})}),W.length===0&&s.jsx(te,{children:s.jsxs(re,{className:"p-12 text-center",children:[s.jsx(un,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-gray-600",children:"No quizzes available in this category yet."})]})})]})})}function wF(){const t=Ds(),[e,n]=v.useState(!1),[r,i]=v.useState(null),[a,o]=v.useState([]),[c,d]=v.useState(""),[h,m]=v.useState(5),[f,g]=v.useState(!1),[x,_]=v.useState(""),[j,w]=v.useState(""),[N,E]=v.useState({title:"",description:"",subject:"Quran",difficulty:"mixed",duration_minutes:15,passing_score:70,points_reward:20,bonus_points:10,is_active:!0,is_featured:!1,age_group:"all",icon:"",start_date:"",end_date:""}),A=["Quran","Hadith","Seerah","Fiqh","Prophets","Sahabah","Akhlaq","History","Arabic","Beliefs","Mixed"],{data:T=[]}=vn({queryKey:["all-quizzes"],queryFn:()=>Je.entities.Quiz.list("-created_date",100),initialData:[]}),{data:D=[]}=vn({queryKey:["all-quiz-questions"],queryFn:()=>Je.entities.QuizQuestion.filter({is_active:!0},"-date_added",500),initialData:[]}),F=gn({mutationFn:W=>Je.entities.Quiz.create(W),onSuccess:()=>{t.invalidateQueries({queryKey:["all-quizzes"]}),U()}}),P=gn({mutationFn:({id:W,data:B})=>Je.entities.Quiz.update(W,B),onSuccess:()=>{t.invalidateQueries({queryKey:["all-quizzes"]}),U()}}),R=gn({mutationFn:W=>Je.entities.Quiz.delete(W),onSuccess:()=>{t.invalidateQueries({queryKey:["all-quizzes"]})}}),I=async W=>{W.preventDefault();const B={...N,questions:a,week_number:N.start_date?O(new Date(N.start_date)):null};r?await P.mutateAsync({id:r.id,data:B}):await F.mutateAsync(B)},O=W=>{const B=new Date(W.getFullYear(),0,1),q=(W-B)/864e5;return Math.ceil((q+B.getDay()+1)/7)},V=W=>{i(W),E({title:W.title,description:W.description,subject:W.subject,difficulty:W.difficulty,duration_minutes:W.duration_minutes,passing_score:W.passing_score,points_reward:W.points_reward,bonus_points:W.bonus_points,is_active:W.is_active,is_featured:W.is_featured,age_group:W.age_group||"all",icon:W.icon||"",start_date:W.start_date||"",end_date:W.end_date||""}),o(W.questions||[]),n(!0)},M=async W=>{window.confirm("Are you sure you want to delete this quiz?")&&await R.mutateAsync(W)},U=()=>{E({title:"",description:"",subject:"Quran",difficulty:"mixed",duration_minutes:15,passing_score:70,points_reward:20,bonus_points:10,is_active:!0,is_featured:!1,age_group:"all",icon:"",start_date:"",end_date:""}),o([]),i(null),n(!1),d(""),m(5),g(!1),_(""),w("")},J=W=>{o(B=>B.includes(W)?B.filter(q=>q!==W):[...B,W])},ne=D.filter(W=>N.subject==="Mixed"||W.category===N.subject),ce=W=>{const B=String(W||"").toLowerCase();return["easy","medium","hard"].includes(B)?B:"easy"},se=async()=>{if(_(""),w(""),!c.trim()){_("Enter a topic for AI generation");return}g(!0);try{const{auth:W}=Ut();if(!(W!=null&&W.currentUser))throw new Error("Please login to use AI agent");const B=await W.currentUser.getIdToken(),q=await fetch("/api/quizAgent",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${B}`},body:JSON.stringify({topic:c,subject:N.subject,difficulty:N.difficulty,count:h})});if(!q.ok)throw new Error(`Agent error: ${q.status}`);const X=await q.json(),$=Array.isArray(X.questions)?X.questions:[],he=[];for(const Ne of $)try{const Ae=Array.isArray(Ne.options)&&Ne.options.length>=2?Ne.options.slice(0,4):["A","B","C","D"],pe=Math.max(0,Ae.findIndex(Ue=>String(Ue).trim()===String(Ne.answer||"").trim())),Se={category:Ne.category||N.subject,difficulty:ce(Ne.difficulty||N.difficulty),question:Ne.question||`Question about ${c}`,options:Ae,correct_answer_index:pe>=0?pe:0,explanation:"",source:"AI",age_group:N.age_group||"all",is_active:!0},De=await Je.entities.QuizQuestion.create(Se);De!=null&&De.id&&he.push(De.id)}catch{}he.length&&(o(Ne=>[...Ne,...he]),t.invalidateQueries({queryKey:["all-quiz-questions"]})),w(`Generated ${$.length} and added ${he.length} questions.`)}catch(W){_((W==null?void 0:W.message)||"Failed to generate with AI")}finally{g(!1)}},K={total:T.length,active:T.filter(W=>W.is_active).length,featured:T.filter(W=>W.is_featured).length,totalAttempts:T.reduce((W,B)=>W+(B.total_attempts||0),0)};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 py-8 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Quiz Manager"}),s.jsx("p",{className:"text-gray-600",children:"Create and manage weekly quizzes"})]}),s.jsxs(G,{onClick:()=>n(!e),className:"bg-blue-600 hover:bg-blue-700",children:[e?s.jsx(qr,{className:"w-4 h-4 mr-2"}):s.jsx(Rs,{className:"w-4 h-4 mr-2"}),e?"Cancel":"Create Quiz"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[s.jsx(te,{children:s.jsxs(re,{className:"p-4 text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Quizzes"}),s.jsx("p",{className:"text-3xl font-bold text-blue-600",children:K.total})]})}),s.jsx(te,{children:s.jsxs(re,{className:"p-4 text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Active"}),s.jsx("p",{className:"text-3xl font-bold text-green-600",children:K.active})]})}),s.jsx(te,{children:s.jsxs(re,{className:"p-4 text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Featured"}),s.jsx("p",{className:"text-3xl font-bold text-amber-600",children:K.featured})]})}),s.jsx(te,{children:s.jsxs(re,{className:"p-4 text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Attempts"}),s.jsx("p",{className:"text-3xl font-bold text-purple-600",children:K.totalAttempts})]})})]}),s.jsx(ds,{children:e&&s.jsx(ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:s.jsxs(te,{className:"mb-8 border-2 border-blue-300",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-blue-50 to-purple-50",children:s.jsx(Fe,{children:r?"Edit Quiz":"Create New Quiz"})}),s.jsx(re,{className:"p-6",children:s.jsxs("form",{onSubmit:I,className:"space-y-6",children:[s.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"AI Topic"}),s.jsx(Te,{value:c,onChange:W=>d(W.target.value),placeholder:"e.g., Ramadan, Salah, Wudu"})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"AI Count"}),s.jsx(Te,{type:"number",value:h,onChange:W=>m(parseInt(W.target.value||"5"))})]}),s.jsx("div",{className:"flex items-end",children:s.jsx(G,{type:"button",className:"bg-purple-600 hover:bg-purple-700",onClick:se,disabled:f,children:f?"Generating":"Generate via AI"})})]}),(x||j)&&s.jsxs("div",{className:"text-sm",children:[x&&s.jsx("div",{className:"text-red-600",children:x}),j&&s.jsx("div",{className:"text-green-600",children:j})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"Quiz Title"}),s.jsx(Te,{value:N.title,onChange:W=>E({...N,title:W.target.value}),placeholder:"e.g., Ramadan Champions Quiz",required:!0})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Icon Emoji"}),s.jsx(Te,{value:N.icon,onChange:W=>E({...N,icon:W.target.value}),placeholder:""})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Description"}),s.jsx(Rn,{value:N.description,onChange:W=>E({...N,description:W.target.value}),placeholder:"Describe the quiz...",rows:2})]}),s.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"Subject"}),s.jsxs(en,{value:N.subject,onValueChange:W=>E({...N,subject:W}),children:[s.jsx(Kt,{children:s.jsx(tn,{})}),s.jsx(Gt,{children:A.map(W=>s.jsx(Re,{value:W,children:W},W))})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Duration (min)"}),s.jsx(Te,{type:"number",value:N.duration_minutes,onChange:W=>E({...N,duration_minutes:parseInt(W.target.value)})})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Points"}),s.jsx(Te,{type:"number",value:N.points_reward,onChange:W=>E({...N,points_reward:parseInt(W.target.value)})})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Bonus"}),s.jsx(Te,{type:"number",value:N.bonus_points,onChange:W=>E({...N,bonus_points:parseInt(W.target.value)})})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"Start Date"}),s.jsx(Te,{type:"date",value:N.start_date,onChange:W=>E({...N,start_date:W.target.value})})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"End Date"}),s.jsx(Te,{type:"date",value:N.end_date,onChange:W=>E({...N,end_date:W.target.value})})]})]}),s.jsxs("div",{className:"flex gap-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Cs,{checked:N.is_active,onCheckedChange:W=>E({...N,is_active:W})}),s.jsx(ye,{children:"Active"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Cs,{checked:N.is_featured,onCheckedChange:W=>E({...N,is_featured:W})}),s.jsx(ye,{children:"Featured"})]})]}),s.jsxs("div",{children:[s.jsxs(ye,{className:"mb-3 block",children:["Select Questions (",a.length," selected)"]}),s.jsx("div",{className:"max-h-96 overflow-y-auto border rounded-lg p-4 space-y-2",children:ne.map(W=>s.jsx("div",{onClick:()=>J(W.id),className:`p-3 rounded-lg border-2 cursor-pointer transition-all ${a.includes(W.id)?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("input",{type:"checkbox",checked:a.includes(W.id),onChange:()=>{},className:"mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-gray-900",children:W.question}),s.jsxs("div",{className:"flex gap-2 mt-1",children:[s.jsx(we,{variant:"outline",className:"text-xs",children:W.category}),s.jsx(we,{variant:"outline",className:"text-xs",children:W.difficulty})]})]})]})},W.id))})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(G,{type:"submit",className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(la,{className:"w-4 h-4 mr-2"}),r?"Update":"Create"," Quiz"]}),s.jsx(G,{type:"button",variant:"outline",onClick:U,children:"Cancel"})]})]})})]})})}),s.jsx("div",{className:"space-y-4",children:T.map((W,B)=>{var q;return s.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:B*.05},children:s.jsx(te,{className:W.is_featured?"border-4 border-amber-400":"",children:s.jsx(re,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"text-4xl",children:W.icon}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:W.title}),s.jsx("p",{className:"text-sm text-gray-600",children:W.description})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[s.jsx(we,{children:W.subject}),s.jsxs(we,{variant:"outline",children:[((q=W.questions)==null?void 0:q.length)||0," questions"]}),s.jsxs(we,{variant:"outline",children:[W.duration_minutes," min"]}),s.jsxs(we,{variant:"outline",children:[W.points_reward," pts"]}),W.is_featured&&s.jsxs(we,{className:"bg-amber-500",children:[s.jsx(Vt,{className:"w-3 h-3 mr-1"}),"Featured"]}),!W.is_active&&s.jsx(we,{variant:"destructive",children:"Inactive"}),W.total_attempts>0&&s.jsxs(we,{variant:"outline",children:[s.jsx(Vx,{className:"w-3 h-3 mr-1"}),W.total_attempts," attempts"]})]}),W.start_date&&s.jsxs("div",{className:"flex items-center gap-2 mt-2 text-sm text-gray-600",children:[s.jsx(Dx,{className:"w-4 h-4"}),W.start_date," to ",W.end_date]})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx(G,{onClick:()=>V(W),variant:"outline",size:"sm",children:s.jsx(uo,{className:"w-4 h-4"})}),s.jsx(G,{onClick:()=>M(W.id),variant:"outline",size:"sm",className:"text-red-600 hover:bg-red-50",children:s.jsx(nr,{className:"w-4 h-4"})})]})]})})})},W.id)})})]})})}function sm(){const[t,e]=v.useState(""),[n,r]=v.useState(""),[i,a]=v.useState(""),[o,c]=v.useState(""),[d,h]=v.useState(""),[m,f]=v.useState(""),[g,x]=v.useState({}),[_,j]=v.useState(!1),[w,N]=v.useState(!1),[E,A]=v.useState(""),[T,D]=v.useState(null),[F,P]=v.useState(""),[R,I]=v.useState(!1),[O,V]=v.useState(""),[M,U]=v.useState(!1),J=zn();function ne(){const se={};return t.trim()||(se.fullName="Full name is required"),n.trim()?/^\d+$/.test(n.trim())||(se.age="Age must be a number"):se.age="Age is required",i.trim()||(se.city="City is required"),o.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.trim())||(se.email="Invalid email format"):se.email="Email is required",m.trim()||(se.madrasah="Madrasah name is required"),(!d.trim()||d.length<6)&&(se.password="Password must be at least 6 characters"),x(se),Object.keys(se).length===0}async function ce(se){var K,W,B,q;if(se.preventDefault(),A(""),!!ne()){j(!0);try{const X=o.trim().toLowerCase(),$=await j6(X,d.trim());try{await _6(),U(!0)}catch{}N(!0),setTimeout(()=>J("/Login"),1500);try{await XN($.uid,{fullName:t.trim(),age:n.trim(),city:i.trim(),madrasah:m.trim(),email:X}),D(!0);try{const{auth:he}=Ut(),Ne=await((W=(K=he==null?void 0:he.currentUser)==null?void 0:K.getIdToken)==null?void 0:W.call(K));if(Ne){const pe=await fetch("/api/signupNotify",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ne}`},body:JSON.stringify({email:X,fullName:t.trim()})});if(pe.ok){const Se=await pe.json();Se!=null&&Se.notified&&P("Admin has been notified of your signup.")}}}catch{}}catch(he){const Ne=(he==null?void 0:he.code)||"";let Ae=(he==null?void 0:he.message)||"Profile save failed.";Ne==="permission-denied"&&(Ae="Profile save requires Firebase access. You can still log in."),D(!1),P(Ae);try{const{auth:pe}=Ut(),Se=await((q=(B=pe==null?void 0:pe.currentUser)==null?void 0:B.getIdToken)==null?void 0:q.call(B));if(Se){const Ue=await fetch("/api/signupNotify",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Se}`},body:JSON.stringify({email:X,fullName:t.trim()})});if(Ue.ok){const $e=await Ue.json();$e!=null&&$e.ok&&P(ft=>ft||"Your account is registered on the backend.")}}}catch{}}}catch(X){const $=(X==null?void 0:X.code)||"";let he=(X==null?void 0:X.message)||"Signup failed";$==="auth/email-already-in-use"&&(he="Email already in use. Try logging in or reset your password.",I(!0),V(o.trim().toLowerCase())),$==="auth/invalid-email"&&(he="Invalid email address."),$==="auth/weak-password"&&(he="Password is too weak. Use at least 6 characters."),$==="auth/operation-not-allowed"&&(he="Email/password sign-up is disabled. Enable it in Firebase."),A(he)}finally{j(!1)}}}return s.jsxs("div",{className:"container mx-auto max-w-xl px-4 py-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Sign Up"}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Create your account and well register you in our backend. You can log in immediately after signing up."}),!1,s.jsxs("form",{onSubmit:ce,className:"space-y-4 bg-white/50 rounded-lg p-6 shadow",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"fullName",children:"Full Name"}),s.jsx("input",{id:"fullName",type:"text",className:"w-full rounded border px-3 py-2 focus:outline-none focus:ring",value:t,onChange:se=>e(se.target.value),placeholder:"e.g., Aisha Khan"}),g.fullName&&s.jsx("div",{className:"text-red-600 text-xs mt-1",children:g.fullName})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"age",children:"Age"}),s.jsx("input",{id:"age",type:"text",className:"w-full rounded border px-3 py-2 focus:outline-none focus:ring",value:n,onChange:se=>r(se.target.value),placeholder:"e.g., 10"}),g.age&&s.jsx("div",{className:"text-red-600 text-xs mt-1",children:g.age})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"madrasah",children:"Madrasah Name"}),s.jsx("input",{id:"madrasah",type:"text",className:"w-full rounded border px-3 py-2 focus:outline-none focus:ring",value:m,onChange:se=>f(se.target.value),placeholder:"e.g., Darul Uloom Karachi"}),g.madrasah&&s.jsx("div",{className:"text-red-600 text-xs mt-1",children:g.madrasah})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"city",children:"City"}),s.jsx("input",{id:"city",type:"text",className:"w-full rounded border px-3 py-2 focus:outline-none focus:ring",value:i,onChange:se=>a(se.target.value),placeholder:"e.g., Karachi"}),g.city&&s.jsx("div",{className:"text-red-600 text-xs mt-1",children:g.city})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"email",children:"Email"}),s.jsx("input",{id:"email",type:"email",className:"w-full rounded border px-3 py-2 focus:outline-none focus:ring",value:o,onChange:se=>c(se.target.value),placeholder:"e.g., aisha@example.com"}),g.email&&s.jsx("div",{className:"text-red-600 text-xs mt-1",children:g.email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"password",children:"Password"}),s.jsx("input",{id:"password",type:"password",className:"w-full rounded border px-3 py-2 focus:outline-none focus:ring",value:d,onChange:se=>h(se.target.value),placeholder:"At least 6 characters"}),g.password&&s.jsx("div",{className:"text-red-600 text-xs mt-1",children:g.password})]}),E&&s.jsx("div",{className:"text-red-600 text-sm",children:E}),R&&s.jsx("div",{className:"mt-2 flex items-center gap-2 text-sm",children:s.jsx("button",{type:"button",className:"text-blue-700 underline",onClick:async()=>{P("");try{await N6(O),P("Password reset email sent. Check your inbox."),I(!1)}catch(se){const K=(se==null?void 0:se.code)||"";let W=(se==null?void 0:se.message)||"Failed to send reset email.";K==="auth/invalid-email"&&(W="Please enter a valid email address."),K==="auth/user-not-found"&&(W="No account found for this email."),P(W)}},children:"Send reset email"})}),w&&s.jsx("div",{className:"text-green-600 text-sm",children:"Account created! Redirecting to login"}),M&&s.jsx("div",{className:"text-green-700 bg-green-50 border border-green-200 rounded p-2 text-sm",children:"Verification email sent. Please check your inbox."}),T===!1&&s.jsx("div",{className:"text-yellow-700 bg-yellow-50 border border-yellow-200 rounded p-2 text-sm",children:F||"We couldnt save your profile right now, but your account is created. You can complete your profile after login."}),F&&T!==!1&&s.jsx("div",{className:"text-blue-700 bg-blue-50 border border-blue-200 rounded p-2 text-sm",children:F}),s.jsx("button",{type:"submit",className:"inline-flex items-center justify-center rounded bg-blue-600 px-4 py-2 text-white hover:bg-blue-700 disabled:opacity-60",disabled:_,children:_?"Creating":"Create Account"}),s.jsxs("div",{className:"mt-4 text-center",children:[s.jsx("span",{children:"Already have an account? "}),s.jsx("a",{href:"/Login",className:"text-blue-700 font-semibold",children:"Login"})]})]})]})}function R1(){const[t,e]=v.useState(""),[n,r]=v.useState(""),[i,a]=v.useState(""),[o,c]=v.useState(!1),d=zn(),h=async m=>{m.preventDefault(),a(""),c(!0);try{const f=await b6(t,n);try{const{db:g}=Ut();if(g&&(f!=null&&f.uid)){const x=await Hd(f.uid),_=!(x!=null&&x.fullName)||!(x!=null&&x.age)||!(x!=null&&x.city)||!(x!=null&&x.madrasah);d(_?"/CompleteProfile":"/Games")}else d("/Games")}catch{d("/Games")}}catch(f){const g=(f==null?void 0:f.code)||"";let x=(f==null?void 0:f.message)||"Login failed";g==="auth/invalid-credential"&&(x="Invalid email or password."),g==="auth/user-not-found"&&(x="No account found for this email. Please sign up."),g==="auth/wrong-password"&&(x="Incorrect password."),g==="auth/too-many-requests"&&(x="Too many attempts. Please wait and try again."),a(x)}finally{c(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-100 to-purple-100",children:s.jsxs("form",{onSubmit:h,className:"bg-white p-8 rounded-xl shadow-lg w-full max-w-md",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Login"}),i&&s.jsx("div",{className:"mb-4 text-red-600",children:i}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block mb-2 font-semibold",children:"Email"}),s.jsx("input",{type:"email",value:t,onChange:m=>e(m.target.value),className:"w-full p-2 border rounded",required:!0})]}),s.jsxs("div",{className:"mb-2",children:[s.jsx("label",{className:"block mb-2 font-semibold",children:"Password"}),s.jsx("input",{type:"password",value:n,onChange:m=>r(m.target.value),className:"w-full p-2 border rounded",required:!0})]}),s.jsx("div",{className:"text-right text-sm mb-6",children:s.jsx("button",{type:"button",className:"text-blue-600 hover:underline",onClick:async()=>{a("");try{const{auth:m}=Ut();if(!m)throw new Error("Firebase not configured");if(!t)throw new Error("Enter your email above, then click reset.");await iN(m,t),a("Password reset email sent. Check your inbox.")}catch(m){const f=(m==null?void 0:m.code)||"";let g=(m==null?void 0:m.message)||"Failed to send reset email.";f==="auth/invalid-email"&&(g="Please enter a valid email address."),f==="auth/user-not-found"&&(g="No account found for this email."),a(g)}},children:"Forgot password?"})}),s.jsx("button",{type:"submit",className:"w-full py-2 px-4 bg-gradient-to-r from-blue-500 to-purple-500 text-white font-bold rounded hover:scale-105 transition-transform",disabled:o,children:o?"Signing in":"Login"}),s.jsxs("div",{className:"mt-4 text-center",children:[s.jsx("span",{children:"Don't have an account? "}),s.jsx("a",{href:"/Signup",className:"text-blue-600 font-semibold",children:"Sign up"})]})]})})}function jfe(){const[t,e]=_n.useState([]),[n,r]=_n.useState(!1),[i,a]=_n.useState({text:"",status:"all"}),o=_n.useCallback(async()=>{r(!0);try{const h=await wx.list();e(h)}catch(h){console.error("Failed to load messages:",h)}finally{r(!1)}},[]);_n.useEffect(()=>{o()},[o]);const c=async(h,m)=>{try{await wx.markRead(h,!m),e(f=>f.map(g=>g.id===h?{...g,read:!m}:g))}catch(f){console.error("Failed to update read status:",f)}},d=t.filter(h=>{const m=i.status==="all"?!0:i.status==="read"?h.read:!h.read,f=(i.text||"").toLowerCase(),g=!f||[h.name,h.email,h.subject,h.message].some(x=>(x||"").toLowerCase().includes(f));return m&&g});return s.jsx("div",{className:"p-6",children:s.jsxs(te,{children:[s.jsx(Oe,{children:s.jsx(Fe,{children:"Messages"})}),s.jsxs(re,{children:[s.jsxs("div",{className:"flex gap-2 mb-4 items-center",children:[s.jsx(Te,{placeholder:"Search by name, email, subject, message",value:i.text,onChange:h=>a({...i,text:h.target.value})}),s.jsxs("select",{className:"border rounded px-2 py-2",value:i.status,onChange:h=>a({...i,status:h.target.value}),children:[s.jsx("option",{value:"all",children:"All"}),s.jsx("option",{value:"unread",children:"Unread"}),s.jsx("option",{value:"read",children:"Read"})]}),s.jsx(G,{variant:"outline",onClick:o,disabled:n,children:n?"Loading...":"Refresh"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left border-b",children:[s.jsx("th",{className:"p-2",children:"Status"}),s.jsx("th",{className:"p-2",children:"Name"}),s.jsx("th",{className:"p-2",children:"Email"}),s.jsx("th",{className:"p-2",children:"Subject"}),s.jsx("th",{className:"p-2",children:"Message"}),s.jsx("th",{className:"p-2",children:"Date"}),s.jsx("th",{className:"p-2",children:"Actions"})]})}),s.jsxs("tbody",{children:[d.map(h=>s.jsxs("tr",{className:"border-b align-top",children:[s.jsx("td",{className:"p-2",children:h.read?"Read":"Unread"}),s.jsx("td",{className:"p-2",children:h.name}),s.jsx("td",{className:"p-2",children:h.email}),s.jsx("td",{className:"p-2",children:h.subject}),s.jsx("td",{className:"p-2 whitespace-pre-wrap max-w-xl",children:h.message}),s.jsx("td",{className:"p-2",children:h.createdAt?new Date(h.createdAt).toLocaleString():""}),s.jsx("td",{className:"p-2",children:s.jsx(G,{size:"sm",onClick:()=>c(h.id,h.read),children:h.read?"Mark Unread":"Mark Read"})})]},h.id)),d.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"p-4 text-center text-gray-500",children:"No messages found."})})]})]})})]})]})})}function jF(){const[t,e]=v.useState("chat"),[n,r]=v.useState([{role:"assistant",content:"Hi! Im your AI assistant. Ask me anything or request edits."}]),[i,a]=v.useState(""),[o,c]=v.useState(!1),[d,h]=v.useState(""),m=v.useRef(null),f=zn(),g=()=>{m.current&&(m.current.scrollTop=m.current.scrollHeight)},x=async()=>{var w,N,E;h("");const j=i.trim();if(j){a(""),c(!0);try{const{auth:A}=Ut();let T=null;if(A!=null&&A.currentUser)T=await A.currentUser.getIdToken();else{f(Xe("Login"));return}const D=["/api/assistant","/.netlify/functions/assistant"];let F;for(const O of D)try{if(F=await fetch(O,{method:"POST",headers:T?{"Content-Type":"application/json",Authorization:`Bearer ${T}`}:{"Content-Type":"application/json"},body:JSON.stringify({mode:t,messages:[...n,{role:"user",content:j}]})}),F.ok)break}catch{}if(!F||!F.ok)throw new Error(`Assistant error: ${F?F.status:"no response"}`);const P=await F.json();if(P!=null&&P.error){const O=(w=P.error)==null?void 0:w.code,V=(N=P.error)==null?void 0:N.type;let M=String(((E=P.error)==null?void 0:E.message)||"Assistant error");O===429&&(M=V==="quota"?"OpenAI quota exceeded for this API key. Check plan/billing or use a different key.":"OpenAI rate limit reached. Please slow down and retry shortly."),h(M)}const R=String(P.reply||""),I=[...n,{role:"user",content:j},{role:"assistant",content:R}];r(I),setTimeout(g,50)}catch(A){h((A==null?void 0:A.message)||"Failed to contact assistant")}finally{c(!1)}}},_=[{label:"Edit Stories",page:"AdminStories"},{label:"Edit Banners",page:"AdminBanners"},{label:"Manage Users",page:"AdminUsers"},{label:"Quiz Manager",page:"AdminQuizManager"}];return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 py-6 px-3",children:s.jsx("div",{className:"max-w-2xl mx-auto",children:s.jsxs(te,{className:"shadow-lg border-2 border-blue-200",children:[s.jsx(Oe,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:s.jsxs(Fe,{className:"flex items-center justify-between",children:[s.jsx("span",{children:"AI Agent / ChatGPT"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(G,{variant:t==="chat"?"default":"outline",size:"sm",onClick:()=>e("chat"),children:"ChatGPT"}),s.jsx(G,{variant:t==="admin"?"default":"outline",size:"sm",onClick:()=>e("admin"),children:"Admin Agent"})]})]})}),s.jsxs(re,{className:"p-4",children:[d&&s.jsx("div",{className:"mb-3 text-red-600",children:d}),s.jsx("div",{ref:m,className:"h-[50vh] overflow-y-auto bg-white rounded-lg p-3 border",children:n.map((j,w)=>s.jsxs("div",{className:`mb-3 ${j.role==="assistant"?"text-gray-800":"text-gray-900"}`,children:[s.jsx(we,{variant:j.role==="assistant"?"secondary":"outline",className:"mr-2",children:j.role==="assistant"?"Assistant":"You"}),s.jsx("span",{className:"whitespace-pre-wrap",children:j.content})]},w))}),s.jsxs("div",{className:"mt-3",children:[s.jsx(Rn,{value:i,onChange:j=>a(j.target.value),placeholder:"Ask a question or request an edit",rows:3,className:"w-full"}),s.jsxs("div",{className:"flex items-center justify-between mt-2",children:[s.jsx("div",{className:"flex flex-wrap gap-2",children:_.map(j=>s.jsx(G,{variant:"outline",size:"sm",onClick:()=>f(Xe(j.page)),children:j.label},j.page))}),s.jsx(G,{onClick:x,disabled:o,children:o?"Sending":"Send"})]}),s.jsx("div",{className:"text-xs text-gray-500 mt-2",children:t==="admin"?"Admin Agent suggests exact pages and steps for edits. For full control, use the quick links.":"ChatGPT mode answers general questions. Switch to Admin Agent for site edits."})]})]})]})})})}function P1(){const t=zn(),[e,n]=v.useState(!0),[r,i]=v.useState(!1),[a,o]=v.useState(""),[c,d]=v.useState(""),[h,m]=v.useState({fullName:"",age:"",city:"",madrasah:""});v.useEffect(()=>{(async()=>{o(""),d("");try{const{auth:j,db:w}=Ut(),N=j==null?void 0:j.currentUser;if(!N){t(Xe("Login"));return}if(!w){d("Profile cannot be saved right now (Firebase not configured). You can still use the app."),n(!1);return}const E=await Hd(N.uid);m({fullName:(E==null?void 0:E.fullName)||(E==null?void 0:E.name)||"",age:(E==null?void 0:E.age)||"",city:(E==null?void 0:E.city)||"",madrasah:(E==null?void 0:E.madrasah)||""})}catch(j){o((j==null?void 0:j.message)||"Failed to load profile")}finally{n(!1)}})()},[t]);const f=_=>j=>m(w=>({...w,[_]:j.target.value})),g=()=>{var _,j,w,N;return!((_=h.fullName)!=null&&_.trim())||!((j=h.age)!=null&&j.trim())||!((w=h.city)!=null&&w.trim())||!((N=h.madrasah)!=null&&N.trim())},x=async _=>{_.preventDefault(),i(!0),o(""),d("");try{const{auth:j,db:w}=Ut(),N=j==null?void 0:j.currentUser;if(!N){t(Xe("Login"));return}if(!w){d("Profile cannot be saved (Firebase not configured). You can continue."),t(Xe("Games"));return}await XN(N.uid,{fullName:h.fullName.trim(),age:h.age.trim(),city:h.city.trim(),madrasah:h.madrasah.trim(),email:String(N.email||"")}),t(Xe("Games"))}catch(j){const w=(j==null?void 0:j.code)||"";let N=(j==null?void 0:j.message)||"Failed to save profile";w==="permission-denied"&&(N="Missing permissions to save profile. You can continue and try later."),o(N)}finally{i(!1)}};return e?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading"}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-purple-50 px-4",children:s.jsxs("form",{onSubmit:x,className:"bg-white p-6 rounded-xl shadow-lg w-full max-w-lg",children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Complete Your Profile"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Please fill the missing details to personalize your experience."}),a&&s.jsx("div",{className:"mb-3 text-red-700 bg-red-50 border border-red-200 rounded p-2 text-sm",children:a}),c&&s.jsx("div",{className:"mb-3 text-yellow-700 bg-yellow-50 border border-yellow-200 rounded p-2 text-sm",children:c}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"block mb-1 font-medium",children:"Full Name"}),s.jsx("input",{className:"w-full p-2 border rounded",value:h.fullName,onChange:f("fullName")})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"block mb-1 font-medium",children:"Age"}),s.jsx("input",{className:"w-full p-2 border rounded",value:h.age,onChange:f("age")})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"block mb-1 font-medium",children:"City"}),s.jsx("input",{className:"w-full p-2 border rounded",value:h.city,onChange:f("city")})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block mb-1 font-medium",children:"Madrasah"}),s.jsx("input",{className:"w-full p-2 border rounded",value:h.madrasah,onChange:f("madrasah")})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("button",{type:"submit",className:"px-4 py-2 rounded bg-blue-600 text-white hover:bg-blue-700",disabled:r||g(),children:r?"Saving":"Save and Continue"}),s.jsx("button",{type:"button",className:"px-4 py-2 rounded border",onClick:()=>t(Xe("Games")),children:"Skip for now"})]})]})})}const Nfe={Home:Ig,Games:c1,Leaderboard:z6,MyPoints:u1,Stories:tO,Audio:sO,Learn:hO,ParentZone:mO,About:fO,Welcome:pO,ContactUs:gO,Duas:xO,RecordAndShare:n3,RecordingStudio:r3,RecordingsAdmin:s3,CreativeCorner:i3,LearningLibrary:a3,ColoringPages:o3,DrawingBoard:l3,PoetryWriting:c3,MonthlyContest:u3,IslamicEncyclopedia:d3,AudioTafsir:h3,IslamicFacts:m3,Worksheets:f3,AudioNew:p3,Hadith:g3,History:x3,Tajweed:y3,PrintableQuizzes:v3,Multimedia:j3,FullQuran:jm,Quran:jm,Manzil:E3,Hizb:C3,HifzDashboard:k3,ResetPointsAdmin:I3,AdminDashboard:I1,AdminSettings:F3,AdminStories:V3,AdminAudio:aF,AdminMedia:oF,PrivacyPolicy:lF,Challenges:cF,AdminQuestions:uF,Videos:dF,AdminVideos:hF,AdminAudioContent:mF,AdminUsers:fF,DeleteAccount:pF,LearningPaths:gF,AdminBanners:xF,AdminStoryBuilder:yF,AdminGameSettings:vF,Quizzes:bF,AdminQuizManager:wF,Signup:sm,Login:R1,Assistant:jF,CompleteProfile:P1};function _fe(t){t.endsWith("/")&&(t=t.slice(0,-1));let e=t.split("/").pop();e.includes("?")&&(e=e.split("?")[0]);const n=Object.keys(Nfe).find(r=>r.toLowerCase()===e.toLowerCase());return!n||n==="Layout"?"Home":n}function Sfe(){const t=lo(),e=_fe(t.pathname),n=s.jsx(or,{children:s.jsx(jF,{})});return s.jsx(C6,{currentPageName:e,children:s.jsxs(DU,{children:[s.jsx(Me,{path:"/",element:s.jsx(Ig,{})}),s.jsx(Me,{path:"/Home",element:s.jsx(Ig,{})}),s.jsx(Me,{path:"/Games",element:s.jsx(c1,{})}),s.jsx(Me,{path:"/games",element:s.jsx(c1,{})}),s.jsx(Me,{path:"/Leaderboard",element:s.jsx(z6,{})}),s.jsx(Me,{path:"/MyPoints",element:s.jsx(u1,{})}),s.jsx(Me,{path:"/mypoints",element:s.jsx(u1,{})}),s.jsx(Me,{path:"/Stories",element:s.jsx(tO,{})}),s.jsx(Me,{path:"/Audio",element:s.jsx(sO,{})}),s.jsx(Me,{path:"/Learn",element:s.jsx(hO,{})}),s.jsx(Me,{path:"/ParentZone",element:s.jsx(mO,{})}),s.jsx(Me,{path:"/About",element:s.jsx(fO,{})}),s.jsx(Me,{path:"/Welcome",element:s.jsx(pO,{})}),s.jsx(Me,{path:"/ContactUs",element:s.jsx(gO,{})}),s.jsx(Me,{path:"/Duas",element:s.jsx(xO,{})}),s.jsx(Me,{path:"/RecordAndShare",element:s.jsx(n3,{})}),s.jsx(Me,{path:"/RecordingStudio",element:s.jsx(r3,{})}),s.jsx(Me,{path:"/RecordingsAdmin",element:s.jsx(or,{children:s.jsx(s3,{})})}),s.jsx(Me,{path:"/CreativeCorner",element:s.jsx(i3,{})}),s.jsx(Me,{path:"/LearningLibrary",element:s.jsx(a3,{})}),s.jsx(Me,{path:"/ColoringPages",element:s.jsx(o3,{})}),s.jsx(Me,{path:"/DrawingBoard",element:s.jsx(l3,{})}),s.jsx(Me,{path:"/PoetryWriting",element:s.jsx(c3,{})}),s.jsx(Me,{path:"/MonthlyContest",element:s.jsx(u3,{})}),s.jsx(Me,{path:"/IslamicEncyclopedia",element:s.jsx(d3,{})}),s.jsx(Me,{path:"/AudioTafsir",element:s.jsx(h3,{})}),s.jsx(Me,{path:"/IslamicFacts",element:s.jsx(m3,{})}),s.jsx(Me,{path:"/Worksheets",element:s.jsx(f3,{})}),s.jsx(Me,{path:"/AudioNew",element:s.jsx(p3,{})}),s.jsx(Me,{path:"/Hadith",element:s.jsx(g3,{})}),s.jsx(Me,{path:"/History",element:s.jsx(x3,{})}),s.jsx(Me,{path:"/Tajweed",element:s.jsx(y3,{})}),s.jsx(Me,{path:"/PrintableQuizzes",element:s.jsx(v3,{})}),s.jsx(Me,{path:"/Multimedia",element:s.jsx(j3,{})}),s.jsx(Me,{path:"/FullQuran",element:s.jsx(jm,{})}),s.jsx(Me,{path:"/Quran",element:s.jsx(jm,{})}),s.jsx(Me,{path:"/quran",element:s.jsx(jm,{})}),s.jsx(Me,{path:"/Manzil",element:s.jsx(E3,{})}),s.jsx(Me,{path:"/Hizb",element:s.jsx(C3,{})}),s.jsx(Me,{path:"/HifzDashboard",element:s.jsx(k3,{})}),s.jsx(Me,{path:"/ResetPointsAdmin",element:s.jsx(I3,{})}),s.jsx(Me,{path:"/AdminLogin",element:s.jsx(mI,{})}),s.jsx(Me,{path:"/adminlogin",element:s.jsx(mI,{})}),s.jsx(Me,{path:"/AdminDashboard",element:s.jsx(or,{children:s.jsx(I1,{})})}),s.jsx(Me,{path:"/admindashboard",element:s.jsx(or,{children:s.jsx(I1,{})})}),s.jsx(Me,{path:"/AdminSettings",element:s.jsx(or,{children:s.jsx(F3,{})})}),s.jsx(Me,{path:"/AdminStories",element:s.jsx(or,{children:s.jsx(V3,{})})}),s.jsx(Me,{path:"/AdminAudio",element:s.jsx(or,{children:s.jsx(aF,{})})}),s.jsx(Me,{path:"/AdminMedia",element:s.jsx(or,{children:s.jsx(oF,{})})}),s.jsx(Me,{path:"/PrivacyPolicy",element:s.jsx(lF,{})}),s.jsx(Me,{path:"/Challenges",element:s.jsx(cF,{})}),s.jsx(Me,{path:"/AdminQuestions",element:s.jsx(or,{children:s.jsx(uF,{})})}),s.jsx(Me,{path:"/Videos",element:s.jsx(dF,{})}),s.jsx(Me,{path:"/AdminVideos",element:s.jsx(or,{children:s.jsx(hF,{})})}),s.jsx(Me,{path:"/AdminAudioContent",element:s.jsx(or,{children:s.jsx(mF,{})})}),s.jsx(Me,{path:"/AdminUsers",element:s.jsx(or,{children:s.jsx(fF,{})})}),s.jsx(Me,{path:"/DeleteAccount",element:s.jsx(pF,{})}),s.jsx(Me,{path:"/LearningPaths",element:s.jsx(gF,{})}),s.jsx(Me,{path:"/AdminBanners",element:s.jsx(or,{children:s.jsx(xF,{})})}),s.jsx(Me,{path:"/AdminSponsors",element:s.jsx(or,{children:s.jsx(gI,{})})}),s.jsx(Me,{path:"/adminsponsors",element:s.jsx(or,{children:s.jsx(gI,{})})}),s.jsx(Me,{path:"/AdminStoryBuilder",element:s.jsx(or,{children:s.jsx(yF,{})})}),s.jsx(Me,{path:"/AdminGameSettings",element:s.jsx(or,{children:s.jsx(vF,{})})}),s.jsx(Me,{path:"/AdminMessages",element:s.jsx(or,{children:s.jsx(jfe,{})})}),s.jsx(Me,{path:"/Quizzes",element:s.jsx(bF,{})}),s.jsx(Me,{path:"/AdminQuizManager",element:s.jsx(wF,{})}),s.jsx(Me,{path:"/signup",element:s.jsx(sm,{})}),s.jsx(Me,{path:"/Signup",element:s.jsx(sm,{})}),s.jsx(Me,{path:"/Signin",element:s.jsx(sm,{})}),s.jsx(Me,{path:"/signin",element:s.jsx(sm,{})}),s.jsx(Me,{path:"/Login",element:s.jsx(R1,{})}),s.jsx(Me,{path:"/login",element:s.jsx(R1,{})}),s.jsx(Me,{path:"/CompleteProfile",element:s.jsx(P1,{})}),s.jsx(Me,{path:"/completeprofile",element:s.jsx(P1,{})}),s.jsx(Me,{path:"/Assistant",element:n}),s.jsx(Me,{path:"/assistant",element:n}),s.jsx(Me,{path:"*",element:s.jsx(Ig,{})})]})})}function Efe(){return s.jsx(VI,{children:s.jsx(Sfe,{})})}const Cfe=20,kfe=1e6,Ua={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let $b=0;function Tfe(){return $b=($b+1)%Number.MAX_VALUE,$b.toString()}const qb=new Map,yI=t=>{if(qb.has(t))return;const e=setTimeout(()=>{qb.delete(t),Nm({type:Ua.REMOVE_TOAST,toastId:t})},kfe);qb.set(t,e)},Afe=(t,e)=>{switch(e.type){case Ua.ADD_TOAST:return{...t,toasts:[e.toast,...t.toasts].slice(0,Cfe)};case Ua.UPDATE_TOAST:return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case Ua.DISMISS_TOAST:{const{toastId:n}=e;return n?yI(n):t.toasts.forEach(r=>{yI(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case Ua.REMOVE_TOAST:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Og=[];let Fg={toasts:[]};function Nm(t){Fg=Afe(Fg,t),Og.forEach(e=>{e(Fg)})}function Ife({...t}){const e=Tfe(),n=i=>Nm({type:Ua.UPDATE_TOAST,toast:{...i,id:e}}),r=()=>Nm({type:Ua.DISMISS_TOAST,toastId:e});return Nm({type:Ua.ADD_TOAST,toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function Rfe(){const[t,e]=v.useState(Fg);return v.useEffect(()=>(Og.push(e),()=>{const n=Og.indexOf(e);n>-1&&Og.splice(n,1)}),[t]),{...t,toast:Ife,dismiss:n=>Nm({type:Ua.DISMISS_TOAST,toastId:n})}}const NF=v.forwardRef(({...t},e)=>s.jsx("div",{ref:e,className:"fixed top-0 z-[100] pointer-events-none flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));NF.displayName="ToastProvider";const _F=v.forwardRef(({...t},e)=>s.jsx("div",{ref:e,className:"fixed top-0 z-[100] pointer-events-none flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));_F.displayName="ToastViewport";const Pfe=hf("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),SF=v.forwardRef(({className:t,variant:e,...n},r)=>s.jsx("div",{ref:r,className:lt(Pfe({variant:e}),t),...n}));SF.displayName="Toast";const Dfe=v.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:lt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Dfe.displayName="ToastAction";const EF=v.forwardRef(({className:t,...e},n)=>s.jsx("button",{ref:n,className:lt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:s.jsx(qr,{className:"h-4 w-4"})}));EF.displayName="ToastClose";const CF=v.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:lt("text-sm font-semibold",t),...e}));CF.displayName="ToastTitle";const kF=v.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:lt("text-sm opacity-90",t),...e}));kF.displayName="ToastDescription";function Mfe(){const{toasts:t}=Rfe();return s.jsxs(NF,{children:[t.map(function({id:e,title:n,description:r,action:i,...a}){return s.jsxs(SF,{...a,children:[s.jsxs("div",{className:"grid gap-1",children:[n&&s.jsx(CF,{children:n}),r&&s.jsx(kF,{children:r})]}),i,s.jsx(EF,{})]},e)}),s.jsx(_F,{})]})}function Lfe(){return s.jsxs(s.Fragment,{children:[s.jsx(Efe,{}),s.jsx(Mfe,{})]})}qV.createRoot(document.getElementById("root")).render(s.jsx(_n.StrictMode,{children:s.jsx(VI,{basename:"/imediaweb/",children:s.jsx(Lfe,{})})}));export{ds as A,G as B,te as C,WI as G,Ad as H,Te as I,mz as L,Rc as P,lC as R,Vt as S,xr as T,Oe as a,Fe as b,re as c,we as d,Qs as e,Tt as f,Je as g,Td as h,Yi as i,s as j,Mx as k,wfe as l,ee as m,z1 as n,yv as o,un as p,Ee as q,v as r,y9 as s,nC as t};
