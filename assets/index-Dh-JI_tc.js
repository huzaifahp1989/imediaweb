const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/SahabahArena-BtKsToV-.js","assets/zap-WiL2oK7f.js","assets/IslamKnowledgeRaceGame-D45hLoxS.js","assets/SpinToWinWheel-CDUunLFi.js"])))=>i.map(i=>d[i]);
var CC=t=>{throw TypeError(t)};var $v=(t,e,n)=>e.has(t)||CC("Cannot "+n);var Y=(t,e,n)=>($v(t,e,"read from private field"),n?n.call(t):e.get(t)),Ze=(t,e,n)=>e.has(t)?CC("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ve=(t,e,n,r)=>($v(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),St=(t,e,n)=>($v(t,e,"access private method"),n);var mg=(t,e,n,r)=>({set _(i){Ve(t,e,i,n)},get _(){return Y(t,e,r)}});function LU(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function nh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var qv={exports:{}},hm={},Hv={exports:{}},At={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kC;function FU(){if(kC)return At;kC=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),f=Symbol.iterator;function g(q){return q===null||typeof q!="object"?null:(q=f&&q[f]||q["@@iterator"],typeof q=="function"?q:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,w={};function j(q,Z,$){this.props=q,this.context=Z,this.refs=w,this.updater=$||x}j.prototype.isReactComponent={},j.prototype.setState=function(q,Z){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,Z,"setState")},j.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function N(){}N.prototype=j.prototype;function E(q,Z,$){this.props=q,this.context=Z,this.refs=w,this.updater=$||x}var k=E.prototype=new N;k.constructor=E,_(k,j.prototype),k.isPureReactComponent=!0;var C=Array.isArray,P=Object.prototype.hasOwnProperty,F={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function R(q,Z,$){var me,Ne={},Ae=null,ge=null;if(Z!=null)for(me in Z.ref!==void 0&&(ge=Z.ref),Z.key!==void 0&&(Ae=""+Z.key),Z)P.call(Z,me)&&!D.hasOwnProperty(me)&&(Ne[me]=Z[me]);var Se=arguments.length-2;if(Se===1)Ne.children=$;else if(1<Se){for(var De=Array(Se),ze=0;ze<Se;ze++)De[ze]=arguments[ze+2];Ne.children=De}if(q&&q.defaultProps)for(me in Se=q.defaultProps,Se)Ne[me]===void 0&&(Ne[me]=Se[me]);return{$$typeof:t,type:q,key:Ae,ref:ge,props:Ne,_owner:F.current}}function I(q,Z){return{$$typeof:t,type:q.type,key:Z,ref:q.ref,props:q.props,_owner:q._owner}}function M(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function V(q){var Z={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function($){return Z[$]})}var O=/\/+/g;function U(q,Z){return typeof q=="object"&&q!==null&&q.key!=null?V(""+q.key):Z.toString(36)}function X(q,Z,$,me,Ne){var Ae=typeof q;(Ae==="undefined"||Ae==="boolean")&&(q=null);var ge=!1;if(q===null)ge=!0;else switch(Ae){case"string":case"number":ge=!0;break;case"object":switch(q.$$typeof){case t:case e:ge=!0}}if(ge)return ge=q,Ne=Ne(ge),q=me===""?"."+U(ge,0):me,C(Ne)?($="",q!=null&&($=q.replace(O,"$&/")+"/"),X(Ne,Z,$,"",function(ze){return ze})):Ne!=null&&(M(Ne)&&(Ne=I(Ne,$+(!Ne.key||ge&&ge.key===Ne.key?"":(""+Ne.key).replace(O,"$&/")+"/")+q)),Z.push(Ne)),1;if(ge=0,me=me===""?".":me+":",C(q))for(var Se=0;Se<q.length;Se++){Ae=q[Se];var De=me+U(Ae,Se);ge+=X(Ae,Z,$,De,Ne)}else if(De=g(q),typeof De=="function")for(q=De.call(q),Se=0;!(Ae=q.next()).done;)Ae=Ae.value,De=me+U(Ae,Se++),ge+=X(Ae,Z,$,De,Ne);else if(Ae==="object")throw Z=String(q),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return ge}function re(q,Z,$){if(q==null)return q;var me=[],Ne=0;return X(q,me,"","",function(Ae){return Z.call($,Ae,Ne++)}),me}function ue(q){if(q._status===-1){var Z=q._result;Z=Z(),Z.then(function($){(q._status===0||q._status===-1)&&(q._status=1,q._result=$)},function($){(q._status===0||q._status===-1)&&(q._status=2,q._result=$)}),q._status===-1&&(q._status=0,q._result=Z)}if(q._status===1)return q._result.default;throw q._result}var ie={current:null},K={transition:null},W={ReactCurrentDispatcher:ie,ReactCurrentBatchConfig:K,ReactCurrentOwner:F};function B(){throw Error("act(...) is not supported in production builds of React.")}return At.Children={map:re,forEach:function(q,Z,$){re(q,function(){Z.apply(this,arguments)},$)},count:function(q){var Z=0;return re(q,function(){Z++}),Z},toArray:function(q){return re(q,function(Z){return Z})||[]},only:function(q){if(!M(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},At.Component=j,At.Fragment=n,At.Profiler=i,At.PureComponent=E,At.StrictMode=r,At.Suspense=d,At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W,At.act=B,At.cloneElement=function(q,Z,$){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var me=_({},q.props),Ne=q.key,Ae=q.ref,ge=q._owner;if(Z!=null){if(Z.ref!==void 0&&(Ae=Z.ref,ge=F.current),Z.key!==void 0&&(Ne=""+Z.key),q.type&&q.type.defaultProps)var Se=q.type.defaultProps;for(De in Z)P.call(Z,De)&&!D.hasOwnProperty(De)&&(me[De]=Z[De]===void 0&&Se!==void 0?Se[De]:Z[De])}var De=arguments.length-2;if(De===1)me.children=$;else if(1<De){Se=Array(De);for(var ze=0;ze<De;ze++)Se[ze]=arguments[ze+2];me.children=Se}return{$$typeof:t,type:q.type,key:Ne,ref:Ae,props:me,_owner:ge}},At.createContext=function(q){return q={$$typeof:o,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:a,_context:q},q.Consumer=q},At.createElement=R,At.createFactory=function(q){var Z=R.bind(null,q);return Z.type=q,Z},At.createRef=function(){return{current:null}},At.forwardRef=function(q){return{$$typeof:c,render:q}},At.isValidElement=M,At.lazy=function(q){return{$$typeof:m,_payload:{_status:-1,_result:q},_init:ue}},At.memo=function(q,Z){return{$$typeof:h,type:q,compare:Z===void 0?null:Z}},At.startTransition=function(q){var Z=K.transition;K.transition={};try{q()}finally{K.transition=Z}},At.unstable_act=B,At.useCallback=function(q,Z){return ie.current.useCallback(q,Z)},At.useContext=function(q){return ie.current.useContext(q)},At.useDebugValue=function(){},At.useDeferredValue=function(q){return ie.current.useDeferredValue(q)},At.useEffect=function(q,Z){return ie.current.useEffect(q,Z)},At.useId=function(){return ie.current.useId()},At.useImperativeHandle=function(q,Z,$){return ie.current.useImperativeHandle(q,Z,$)},At.useInsertionEffect=function(q,Z){return ie.current.useInsertionEffect(q,Z)},At.useLayoutEffect=function(q,Z){return ie.current.useLayoutEffect(q,Z)},At.useMemo=function(q,Z){return ie.current.useMemo(q,Z)},At.useReducer=function(q,Z,$){return ie.current.useReducer(q,Z,$)},At.useRef=function(q){return ie.current.useRef(q)},At.useState=function(q){return ie.current.useState(q)},At.useSyncExternalStore=function(q,Z,$){return ie.current.useSyncExternalStore(q,Z,$)},At.useTransition=function(){return ie.current.useTransition()},At.version="18.3.1",At}var TC;function hy(){return TC||(TC=1,Hv.exports=FU()),Hv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AC;function VU(){if(AC)return hm;AC=1;var t=hy(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(c,d,h){var m,f={},g=null,x=null;h!==void 0&&(g=""+h),d.key!==void 0&&(g=""+d.key),d.ref!==void 0&&(x=d.ref);for(m in d)r.call(d,m)&&!a.hasOwnProperty(m)&&(f[m]=d[m]);if(c&&c.defaultProps)for(m in d=c.defaultProps,d)f[m]===void 0&&(f[m]=d[m]);return{$$typeof:e,type:c,key:g,ref:x,props:f,_owner:i.current}}return hm.Fragment=n,hm.jsx=o,hm.jsxs=o,hm}var IC;function UU(){return IC||(IC=1,qv.exports=VU()),qv.exports}var s=UU(),v=hy();const Rn=nh(v),yj=LU({__proto__:null,default:Rn},[v]);var fg={},Wv={exports:{}},is={},Kv={exports:{}},Gv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RC;function zU(){return RC||(RC=1,(function(t){function e(K,W){var B=K.length;K.push(W);e:for(;0<B;){var q=B-1>>>1,Z=K[q];if(0<i(Z,W))K[q]=W,K[B]=Z,B=q;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var W=K[0],B=K.pop();if(B!==W){K[0]=B;e:for(var q=0,Z=K.length,$=Z>>>1;q<$;){var me=2*(q+1)-1,Ne=K[me],Ae=me+1,ge=K[Ae];if(0>i(Ne,B))Ae<Z&&0>i(ge,Ne)?(K[q]=ge,K[Ae]=B,q=Ae):(K[q]=Ne,K[me]=B,q=me);else if(Ae<Z&&0>i(ge,B))K[q]=ge,K[Ae]=B,q=Ae;else break e}}return W}function i(K,W){var B=K.sortIndex-W.sortIndex;return B!==0?B:K.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var d=[],h=[],m=1,f=null,g=3,x=!1,_=!1,w=!1,j=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(K){for(var W=n(h);W!==null;){if(W.callback===null)r(h);else if(W.startTime<=K)r(h),W.sortIndex=W.expirationTime,e(d,W);else break;W=n(h)}}function C(K){if(w=!1,k(K),!_)if(n(d)!==null)_=!0,ue(P);else{var W=n(h);W!==null&&ie(C,W.startTime-K)}}function P(K,W){_=!1,w&&(w=!1,N(R),R=-1),x=!0;var B=g;try{for(k(W),f=n(d);f!==null&&(!(f.expirationTime>W)||K&&!V());){var q=f.callback;if(typeof q=="function"){f.callback=null,g=f.priorityLevel;var Z=q(f.expirationTime<=W);W=t.unstable_now(),typeof Z=="function"?f.callback=Z:f===n(d)&&r(d),k(W)}else r(d);f=n(d)}if(f!==null)var $=!0;else{var me=n(h);me!==null&&ie(C,me.startTime-W),$=!1}return $}finally{f=null,g=B,x=!1}}var F=!1,D=null,R=-1,I=5,M=-1;function V(){return!(t.unstable_now()-M<I)}function O(){if(D!==null){var K=t.unstable_now();M=K;var W=!0;try{W=D(!0,K)}finally{W?U():(F=!1,D=null)}}else F=!1}var U;if(typeof E=="function")U=function(){E(O)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,re=X.port2;X.port1.onmessage=O,U=function(){re.postMessage(null)}}else U=function(){j(O,0)};function ue(K){D=K,F||(F=!0,U())}function ie(K,W){R=j(function(){K(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){_||x||(_=!0,ue(P))},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(K){switch(g){case 1:case 2:case 3:var W=3;break;default:W=g}var B=g;g=W;try{return K()}finally{g=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,W){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var B=g;g=K;try{return W()}finally{g=B}},t.unstable_scheduleCallback=function(K,W,B){var q=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?q+B:q):B=q,K){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=B+Z,K={id:m++,callback:W,priorityLevel:K,startTime:B,expirationTime:Z,sortIndex:-1},B>q?(K.sortIndex=B,e(h,K),n(d)===null&&K===n(h)&&(w?(N(R),R=-1):w=!0,ie(C,B-q))):(K.sortIndex=Z,e(d,K),_||x||(_=!0,ue(P))),K},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(K){var W=g;return function(){var B=g;g=W;try{return K.apply(this,arguments)}finally{g=B}}}})(Gv)),Gv}var PC;function BU(){return PC||(PC=1,Kv.exports=zU()),Kv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DC;function $U(){if(DC)return is;DC=1;var t=hy(),e=BU();function n(l){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+l,p=1;p<arguments.length;p++)u+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(l,u){o(l,u),o(l+"Capture",u)}function o(l,u){for(i[l]=u,l=0;l<u.length;l++)r.add(u[l])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},f={};function g(l){return d.call(f,l)?!0:d.call(m,l)?!1:h.test(l)?f[l]=!0:(m[l]=!0,!1)}function x(l,u,p,b){if(p!==null&&p.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return b?!1:p!==null?!p.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function _(l,u,p,b){if(u===null||typeof u>"u"||x(l,u,p,b))return!0;if(b)return!1;if(p!==null)switch(p.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function w(l,u,p,b,S,T,z){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=b,this.attributeNamespace=S,this.mustUseProperty=p,this.propertyName=l,this.type=u,this.sanitizeURL=T,this.removeEmptyString=z}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){j[l]=new w(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var u=l[0];j[u]=new w(u,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){j[l]=new w(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){j[l]=new w(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){j[l]=new w(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){j[l]=new w(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){j[l]=new w(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){j[l]=new w(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){j[l]=new w(l,5,!1,l.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function E(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var u=l.replace(N,E);j[u]=new w(u,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var u=l.replace(N,E);j[u]=new w(u,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var u=l.replace(N,E);j[u]=new w(u,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){j[l]=new w(l,1,!1,l.toLowerCase(),null,!1,!1)}),j.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){j[l]=new w(l,1,!1,l.toLowerCase(),null,!0,!0)});function k(l,u,p,b){var S=j.hasOwnProperty(u)?j[u]:null;(S!==null?S.type!==0:b||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(_(u,p,S,b)&&(p=null),b||S===null?g(u)&&(p===null?l.removeAttribute(u):l.setAttribute(u,""+p)):S.mustUseProperty?l[S.propertyName]=p===null?S.type===3?!1:"":p:(u=S.attributeName,b=S.attributeNamespace,p===null?l.removeAttribute(u):(S=S.type,p=S===3||S===4&&p===!0?"":""+p,b?l.setAttributeNS(b,u,p):l.setAttribute(u,p))))}var C=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),F=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),V=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),re=Symbol.for("react.memo"),ue=Symbol.for("react.lazy"),ie=Symbol.for("react.offscreen"),K=Symbol.iterator;function W(l){return l===null||typeof l!="object"?null:(l=K&&l[K]||l["@@iterator"],typeof l=="function"?l:null)}var B=Object.assign,q;function Z(l){if(q===void 0)try{throw Error()}catch(p){var u=p.stack.trim().match(/\n( *(at )?)/);q=u&&u[1]||""}return`
`+q+l}var $=!1;function me(l,u){if(!l||$)return"";$=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(ce){var b=ce}Reflect.construct(l,[],u)}else{try{u.call()}catch(ce){b=ce}l.call(u.prototype)}else{try{throw Error()}catch(ce){b=ce}l()}}catch(ce){if(ce&&b&&typeof ce.stack=="string"){for(var S=ce.stack.split(`
`),T=b.stack.split(`
`),z=S.length-1,Q=T.length-1;1<=z&&0<=Q&&S[z]!==T[Q];)Q--;for(;1<=z&&0<=Q;z--,Q--)if(S[z]!==T[Q]){if(z!==1||Q!==1)do if(z--,Q--,0>Q||S[z]!==T[Q]){var J=`
`+S[z].replace(" at new "," at ");return l.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",l.displayName)),J}while(1<=z&&0<=Q);break}}}finally{$=!1,Error.prepareStackTrace=p}return(l=l?l.displayName||l.name:"")?Z(l):""}function Ne(l){switch(l.tag){case 5:return Z(l.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return l=me(l.type,!1),l;case 11:return l=me(l.type.render,!1),l;case 1:return l=me(l.type,!0),l;default:return""}}function Ae(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case D:return"Fragment";case F:return"Portal";case I:return"Profiler";case R:return"StrictMode";case U:return"Suspense";case X:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case V:return(l.displayName||"Context")+".Consumer";case M:return(l._context.displayName||"Context")+".Provider";case O:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case re:return u=l.displayName||null,u!==null?u:Ae(l.type)||"Memo";case ue:u=l._payload,l=l._init;try{return Ae(l(u))}catch{}}return null}function ge(l){var u=l.type;switch(l.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=u.render,l=l.displayName||l.name||"",u.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ae(u);case 8:return u===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function Se(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function De(l){var u=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function ze(l){var u=De(l)?"checked":"value",p=Object.getOwnPropertyDescriptor(l.constructor.prototype,u),b=""+l[u];if(!l.hasOwnProperty(u)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var S=p.get,T=p.set;return Object.defineProperty(l,u,{configurable:!0,get:function(){return S.call(this)},set:function(z){b=""+z,T.call(this,z)}}),Object.defineProperty(l,u,{enumerable:p.enumerable}),{getValue:function(){return b},setValue:function(z){b=""+z},stopTracking:function(){l._valueTracker=null,delete l[u]}}}}function qe(l){l._valueTracker||(l._valueTracker=ze(l))}function gt(l){if(!l)return!1;var u=l._valueTracker;if(!u)return!0;var p=u.getValue(),b="";return l&&(b=De(l)?l.checked?"true":"false":l.value),l=b,l!==p?(u.setValue(l),!0):!1}function Xt(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function kn(l,u){var p=u.checked;return B({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??l._wrapperState.initialChecked})}function jr(l,u){var p=u.defaultValue==null?"":u.defaultValue,b=u.checked!=null?u.checked:u.defaultChecked;p=Se(u.value!=null?u.value:p),l._wrapperState={initialChecked:b,initialValue:p,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function $n(l,u){u=u.checked,u!=null&&k(l,"checked",u,!1)}function Jn(l,u){$n(l,u);var p=Se(u.value),b=u.type;if(p!=null)b==="number"?(p===0&&l.value===""||l.value!=p)&&(l.value=""+p):l.value!==""+p&&(l.value=""+p);else if(b==="submit"||b==="reset"){l.removeAttribute("value");return}u.hasOwnProperty("value")?$t(l,u.type,p):u.hasOwnProperty("defaultValue")&&$t(l,u.type,Se(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(l.defaultChecked=!!u.defaultChecked)}function ys(l,u,p){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var b=u.type;if(!(b!=="submit"&&b!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+l._wrapperState.initialValue,p||u===l.value||(l.value=u),l.defaultValue=u}p=l.name,p!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,p!==""&&(l.name=p)}function $t(l,u,p){(u!=="number"||Xt(l.ownerDocument)!==l)&&(p==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+p&&(l.defaultValue=""+p))}var Zt=Array.isArray;function Lr(l,u,p,b){if(l=l.options,u){u={};for(var S=0;S<p.length;S++)u["$"+p[S]]=!0;for(p=0;p<l.length;p++)S=u.hasOwnProperty("$"+l[p].value),l[p].selected!==S&&(l[p].selected=S),S&&b&&(l[p].defaultSelected=!0)}else{for(p=""+Se(p),u=null,S=0;S<l.length;S++){if(l[S].value===p){l[S].selected=!0,b&&(l[S].defaultSelected=!0);return}u!==null||l[S].disabled||(u=l[S])}u!==null&&(u.selected=!0)}}function Ca(l,u){if(u.dangerouslySetInnerHTML!=null)throw Error(n(91));return B({},u,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function Ii(l,u){var p=u.value;if(p==null){if(p=u.children,u=u.defaultValue,p!=null){if(u!=null)throw Error(n(92));if(Zt(p)){if(1<p.length)throw Error(n(93));p=p[0]}u=p}u==null&&(u=""),p=u}l._wrapperState={initialValue:Se(p)}}function Ri(l,u){var p=Se(u.value),b=Se(u.defaultValue);p!=null&&(p=""+p,p!==l.value&&(l.value=p),u.defaultValue==null&&l.defaultValue!==p&&(l.defaultValue=p)),b!=null&&(l.defaultValue=""+b)}function Us(l){var u=l.textContent;u===l._wrapperState.initialValue&&u!==""&&u!==null&&(l.value=u)}function fe(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ie(l,u){return l==null||l==="http://www.w3.org/1999/xhtml"?fe(u):l==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var tt,wt=(function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,p,b,S){MSApp.execUnsafeLocalFunction(function(){return l(u,p,b,S)})}:l})(function(l,u){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=u;else{for(tt=tt||document.createElement("div"),tt.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=tt.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;u.firstChild;)l.appendChild(u.firstChild)}});function Tt(l,u){if(u){var p=l.firstChild;if(p&&p===l.lastChild&&p.nodeType===3){p.nodeValue=u;return}}l.textContent=u}var bn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];Object.keys(bn).forEach(function(l){pe.forEach(function(u){u=u+l.charAt(0).toUpperCase()+l.substring(1),bn[u]=bn[l]})});function He(l,u,p){return u==null||typeof u=="boolean"||u===""?"":p||typeof u!="number"||u===0||bn.hasOwnProperty(l)&&bn[l]?(""+u).trim():u+"px"}function nt(l,u){l=l.style;for(var p in u)if(u.hasOwnProperty(p)){var b=p.indexOf("--")===0,S=He(p,u[p],b);p==="float"&&(p="cssFloat"),b?l.setProperty(p,S):l[p]=S}}var rt=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yt(l,u){if(u){if(rt[l]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(n(137,l));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(n(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(n(61))}if(u.style!=null&&typeof u.style!="object")throw Error(n(62))}}function dt(l,u){if(l.indexOf("-")===-1)return typeof u.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mt=null;function wn(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Jr=null,Fr=null,rn=null;function ai(l){if(l=Jh(l)){if(typeof Jr!="function")throw Error(n(280));var u=l.stateNode;u&&(u=kp(u),Jr(l.stateNode,l.type,u))}}function Vr(l){Fr?rn?rn.push(l):rn=[l]:Fr=l}function Ur(){if(Fr){var l=Fr,u=rn;if(rn=Fr=null,ai(l),u)for(l=0;l<u.length;l++)ai(u[l])}}function Pi(l,u){return l(u)}function Jl(){}var vs=!1;function Xl(l,u,p){if(vs)return l(u,p);vs=!0;try{return Pi(l,u,p)}finally{vs=!1,(Fr!==null||rn!==null)&&(Jl(),Ur())}}function Di(l,u){var p=l.stateNode;if(p===null)return null;var b=kp(p);if(b===null)return null;p=b[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(l=l.type,b=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!b;break e;default:l=!1}if(l)return null;if(p&&typeof p!="function")throw Error(n(231,u,typeof p));return p}var oi=!1;if(c)try{var li={};Object.defineProperty(li,"passive",{get:function(){oi=!0}}),window.addEventListener("test",li,li),window.removeEventListener("test",li,li)}catch{oi=!1}function bs(l,u,p,b,S,T,z,Q,J){var ce=Array.prototype.slice.call(arguments,3);try{u.apply(p,ce)}catch(je){this.onError(je)}}var Xr=!1,Nr=null,Zr=!1,Kt=null,_r={onError:function(l){Xr=!0,Nr=l}};function Ao(l,u,p,b,S,T,z,Q,J){Xr=!1,Nr=null,bs.apply(_r,arguments)}function ka(l,u,p,b,S,T,z,Q,J){if(Ao.apply(this,arguments),Xr){if(Xr){var ce=Nr;Xr=!1,Nr=null}else throw Error(n(198));Zr||(Zr=!0,Kt=ce)}}function Sr(l){var u=l,p=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(p=u.return),l=u.return;while(l)}return u.tag===3?p:null}function ci(l){if(l.tag===13){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function ui(l){if(Sr(l)!==l)throw Error(n(188))}function jt(l){var u=l.alternate;if(!u){if(u=Sr(l),u===null)throw Error(n(188));return u!==l?null:l}for(var p=l,b=u;;){var S=p.return;if(S===null)break;var T=S.alternate;if(T===null){if(b=S.return,b!==null){p=b;continue}break}if(S.child===T.child){for(T=S.child;T;){if(T===p)return ui(S),l;if(T===b)return ui(S),u;T=T.sibling}throw Error(n(188))}if(p.return!==b.return)p=S,b=T;else{for(var z=!1,Q=S.child;Q;){if(Q===p){z=!0,p=S,b=T;break}if(Q===b){z=!0,b=S,p=T;break}Q=Q.sibling}if(!z){for(Q=T.child;Q;){if(Q===p){z=!0,p=T,b=S;break}if(Q===b){z=!0,b=T,p=S;break}Q=Q.sibling}if(!z)throw Error(n(189))}}if(p.alternate!==b)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?l:u}function ht(l){return l=jt(l),l!==null?Xn(l):null}function Xn(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var u=Xn(l);if(u!==null)return u;l=l.sibling}return null}var Io=e.unstable_scheduleCallback,yu=e.unstable_cancelCallback,Zl=e.unstable_shouldYield,Ta=e.unstable_requestPaint,hn=e.unstable_now,b0=e.unstable_getCurrentPriorityLevel,vu=e.unstable_ImmediatePriority,kh=e.unstable_UserBlockingPriority,ec=e.unstable_NormalPriority,Th=e.unstable_LowPriority,bu=e.unstable_IdlePriority,tc=null,ws=null;function dp(l){if(ws&&typeof ws.onCommitFiberRoot=="function")try{ws.onCommitFiberRoot(tc,l,void 0,(l.current.flags&128)===128)}catch{}}var js=Math.clz32?Math.clz32:nc,Mi=Math.log,zs=Math.LN2;function nc(l){return l>>>=0,l===0?32:31-(Mi(l)/zs|0)|0}var Oi=64,Ro=4194304;function qt(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function Aa(l,u){var p=l.pendingLanes;if(p===0)return 0;var b=0,S=l.suspendedLanes,T=l.pingedLanes,z=p&268435455;if(z!==0){var Q=z&~S;Q!==0?b=qt(Q):(T&=z,T!==0&&(b=qt(T)))}else z=p&~S,z!==0?b=qt(z):T!==0&&(b=qt(T));if(b===0)return 0;if(u!==0&&u!==b&&(u&S)===0&&(S=b&-b,T=u&-u,S>=T||S===16&&(T&4194240)!==0))return u;if((b&4)!==0&&(b|=p&16),u=l.entangledLanes,u!==0)for(l=l.entanglements,u&=b;0<u;)p=31-js(u),S=1<<p,b|=l[p],u&=~S;return b}function rc(l,u){switch(l){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sc(l,u){for(var p=l.suspendedLanes,b=l.pingedLanes,S=l.expirationTimes,T=l.pendingLanes;0<T;){var z=31-js(T),Q=1<<z,J=S[z];J===-1?((Q&p)===0||(Q&b)!==0)&&(S[z]=rc(Q,u)):J<=u&&(l.expiredLanes|=Q),T&=~Q}}function Ah(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function Ih(){var l=Oi;return Oi<<=1,(Oi&4194240)===0&&(Oi=64),l}function Rh(l){for(var u=[],p=0;31>p;p++)u.push(l);return u}function ic(l,u,p){l.pendingLanes|=u,u!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,u=31-js(u),l[u]=p}function w0(l,u){var p=l.pendingLanes&~u;l.pendingLanes=u,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=u,l.mutableReadLanes&=u,l.entangledLanes&=u,u=l.entanglements;var b=l.eventTimes;for(l=l.expirationTimes;0<p;){var S=31-js(p),T=1<<S;u[S]=0,b[S]=-1,l[S]=-1,p&=~T}}function Ph(l,u){var p=l.entangledLanes|=u;for(l=l.entanglements;p;){var b=31-js(p),S=1<<b;S&u|l[b]&u&&(l[b]|=u),p&=~S}}var Ot=0;function Li(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var Dh,wu,Mh,Oh,Lh,Fi=!1,ju=[],Vi=null,Ui=null,mr=null,ac=new Map,Ia=new Map,Ns=[],hp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Po(l,u){switch(l){case"focusin":case"focusout":Vi=null;break;case"dragenter":case"dragleave":Ui=null;break;case"mouseover":case"mouseout":mr=null;break;case"pointerover":case"pointerout":ac.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ia.delete(u.pointerId)}}function di(l,u,p,b,S,T){return l===null||l.nativeEvent!==T?(l={blockedOn:u,domEventName:p,eventSystemFlags:b,nativeEvent:T,targetContainers:[S]},u!==null&&(u=Jh(u),u!==null&&wu(u)),l):(l.eventSystemFlags|=b,u=l.targetContainers,S!==null&&u.indexOf(S)===-1&&u.push(S),l)}function mp(l,u,p,b,S){switch(u){case"focusin":return Vi=di(Vi,l,u,p,b,S),!0;case"dragenter":return Ui=di(Ui,l,u,p,b,S),!0;case"mouseover":return mr=di(mr,l,u,p,b,S),!0;case"pointerover":var T=S.pointerId;return ac.set(T,di(ac.get(T)||null,l,u,p,b,S)),!0;case"gotpointercapture":return T=S.pointerId,Ia.set(T,di(Ia.get(T)||null,l,u,p,b,S)),!0}return!1}function Nu(l){var u=uc(l.target);if(u!==null){var p=Sr(u);if(p!==null){if(u=p.tag,u===13){if(u=ci(p),u!==null){l.blockedOn=u,Lh(l.priority,function(){Mh(p)});return}}else if(u===3&&p.stateNode.current.memoizedState.isDehydrated){l.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}l.blockedOn=null}function sn(l){if(l.blockedOn!==null)return!1;for(var u=l.targetContainers;0<u.length;){var p=_u(l.domEventName,l.eventSystemFlags,u[0],l.nativeEvent);if(p===null){p=l.nativeEvent;var b=new p.constructor(p.type,p);Mt=b,p.target.dispatchEvent(b),Mt=null}else return u=Jh(p),u!==null&&wu(u),l.blockedOn=p,!1;u.shift()}return!0}function fp(l,u,p){sn(l)&&p.delete(u)}function j0(){Fi=!1,Vi!==null&&sn(Vi)&&(Vi=null),Ui!==null&&sn(Ui)&&(Ui=null),mr!==null&&sn(mr)&&(mr=null),ac.forEach(fp),Ia.forEach(fp)}function Do(l,u){l.blockedOn===u&&(l.blockedOn=null,Fi||(Fi=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,j0)))}function Mo(l){function u(S){return Do(S,l)}if(0<ju.length){Do(ju[0],l);for(var p=1;p<ju.length;p++){var b=ju[p];b.blockedOn===l&&(b.blockedOn=null)}}for(Vi!==null&&Do(Vi,l),Ui!==null&&Do(Ui,l),mr!==null&&Do(mr,l),ac.forEach(u),Ia.forEach(u),p=0;p<Ns.length;p++)b=Ns[p],b.blockedOn===l&&(b.blockedOn=null);for(;0<Ns.length&&(p=Ns[0],p.blockedOn===null);)Nu(p),p.blockedOn===null&&Ns.shift()}var Ra=C.ReactCurrentBatchConfig,Pa=!0;function zi(l,u,p,b){var S=Ot,T=Ra.transition;Ra.transition=null;try{Ot=1,Fh(l,u,p,b)}finally{Ot=S,Ra.transition=T}}function pp(l,u,p,b){var S=Ot,T=Ra.transition;Ra.transition=null;try{Ot=4,Fh(l,u,p,b)}finally{Ot=S,Ra.transition=T}}function Fh(l,u,p,b){if(Pa){var S=_u(l,u,p,b);if(S===null)P0(l,u,b,Bi,p),Po(l,b);else if(mp(S,l,u,p,b))b.stopPropagation();else if(Po(l,b),u&4&&-1<hp.indexOf(l)){for(;S!==null;){var T=Jh(S);if(T!==null&&Dh(T),T=_u(l,u,p,b),T===null&&P0(l,u,b,Bi,p),T===S)break;S=T}S!==null&&b.stopPropagation()}else P0(l,u,b,null,p)}}var Bi=null;function _u(l,u,p,b){if(Bi=null,l=wn(b),l=uc(l),l!==null)if(u=Sr(l),u===null)l=null;else if(p=u.tag,p===13){if(l=ci(u),l!==null)return l;l=null}else if(p===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;l=null}else u!==l&&(l=null);return Bi=l,null}function Su(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(b0()){case vu:return 1;case kh:return 4;case ec:case Th:return 16;case bu:return 536870912;default:return 16}default:return 16}}var _s=null,Eu=null,Da=null;function gp(){if(Da)return Da;var l,u=Eu,p=u.length,b,S="value"in _s?_s.value:_s.textContent,T=S.length;for(l=0;l<p&&u[l]===S[l];l++);var z=p-l;for(b=1;b<=z&&u[p-b]===S[T-b];b++);return Da=S.slice(l,1<b?1-b:void 0)}function oc(l){var u=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&u===13&&(l=13)):l=u,l===10&&(l=13),32<=l||l===13?l:0}function $i(){return!0}function Vh(){return!1}function Er(l){function u(p,b,S,T,z){this._reactName=p,this._targetInst=S,this.type=b,this.nativeEvent=T,this.target=z,this.currentTarget=null;for(var Q in l)l.hasOwnProperty(Q)&&(p=l[Q],this[Q]=p?p(T):T[Q]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?$i:Vh,this.isPropagationStopped=Vh,this}return B(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),u}var qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lc=Er(qi),Oo=B({},qi,{view:0,detail:0}),Cu=Er(Oo),ku,Tu,Ss,cc=B({},Oo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vt,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Ss&&(Ss&&l.type==="mousemove"?(ku=l.screenX-Ss.screenX,Tu=l.screenY-Ss.screenY):Tu=ku=0,Ss=l),ku)},movementY:function(l){return"movementY"in l?l.movementY:Tu}}),Uh=Er(cc),xp=B({},cc,{dataTransfer:0}),yp=Er(xp),Au=B({},Oo,{relatedTarget:0}),fr=Er(Au),vp=B({},qi,{animationName:0,elapsedTime:0,pseudoElement:0}),bp=Er(vp),Lo=B({},qi,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),y=Er(Lo),A=B({},qi,{data:0}),L=Er(A),H={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},de={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pe(l){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(l):(l=de[l])?!!u[l]:!1}function vt(){return Pe}var On=B({},Oo,{key:function(l){if(l.key){var u=H[l.key]||l.key;if(u!=="Unidentified")return u}return l.type==="keypress"?(l=oc(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?oe[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vt,charCode:function(l){return l.type==="keypress"?oc(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?oc(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),en=Er(On),qn=B({},cc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Es=Er(qn),Ma=B({},Oo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vt}),Hi=Er(Ma),Wi=B({},qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Iu=Er(Wi),zh=B({},cc,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),IV=Er(zh),RV=[9,13,27,32],N0=c&&"CompositionEvent"in window,Bh=null;c&&"documentMode"in document&&(Bh=document.documentMode);var PV=c&&"TextEvent"in window&&!Bh,vS=c&&(!N0||Bh&&8<Bh&&11>=Bh),bS=" ",wS=!1;function jS(l,u){switch(l){case"keyup":return RV.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function NS(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Ru=!1;function DV(l,u){switch(l){case"compositionend":return NS(u);case"keypress":return u.which!==32?null:(wS=!0,bS);case"textInput":return l=u.data,l===bS&&wS?null:l;default:return null}}function MV(l,u){if(Ru)return l==="compositionend"||!N0&&jS(l,u)?(l=gp(),Da=Eu=_s=null,Ru=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return vS&&u.locale!=="ko"?null:u.data;default:return null}}var OV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _S(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u==="input"?!!OV[l.type]:u==="textarea"}function SS(l,u,p,b){Vr(b),u=Sp(u,"onChange"),0<u.length&&(p=new lc("onChange","change",null,p,b),l.push({event:p,listeners:u}))}var $h=null,qh=null;function LV(l){$S(l,0)}function wp(l){var u=Lu(l);if(gt(u))return l}function FV(l,u){if(l==="change")return u}var ES=!1;if(c){var _0;if(c){var S0="oninput"in document;if(!S0){var CS=document.createElement("div");CS.setAttribute("oninput","return;"),S0=typeof CS.oninput=="function"}_0=S0}else _0=!1;ES=_0&&(!document.documentMode||9<document.documentMode)}function kS(){$h&&($h.detachEvent("onpropertychange",TS),qh=$h=null)}function TS(l){if(l.propertyName==="value"&&wp(qh)){var u=[];SS(u,qh,l,wn(l)),Xl(LV,u)}}function VV(l,u,p){l==="focusin"?(kS(),$h=u,qh=p,$h.attachEvent("onpropertychange",TS)):l==="focusout"&&kS()}function UV(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return wp(qh)}function zV(l,u){if(l==="click")return wp(u)}function BV(l,u){if(l==="input"||l==="change")return wp(u)}function $V(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var hi=typeof Object.is=="function"?Object.is:$V;function Hh(l,u){if(hi(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var p=Object.keys(l),b=Object.keys(u);if(p.length!==b.length)return!1;for(b=0;b<p.length;b++){var S=p[b];if(!d.call(u,S)||!hi(l[S],u[S]))return!1}return!0}function AS(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function IS(l,u){var p=AS(l);l=0;for(var b;p;){if(p.nodeType===3){if(b=l+p.textContent.length,l<=u&&b>=u)return{node:p,offset:u-l};l=b}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=AS(p)}}function RS(l,u){return l&&u?l===u?!0:l&&l.nodeType===3?!1:u&&u.nodeType===3?RS(l,u.parentNode):"contains"in l?l.contains(u):l.compareDocumentPosition?!!(l.compareDocumentPosition(u)&16):!1:!1}function PS(){for(var l=window,u=Xt();u instanceof l.HTMLIFrameElement;){try{var p=typeof u.contentWindow.location.href=="string"}catch{p=!1}if(p)l=u.contentWindow;else break;u=Xt(l.document)}return u}function E0(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u&&(u==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||u==="textarea"||l.contentEditable==="true")}function qV(l){var u=PS(),p=l.focusedElem,b=l.selectionRange;if(u!==p&&p&&p.ownerDocument&&RS(p.ownerDocument.documentElement,p)){if(b!==null&&E0(p)){if(u=b.start,l=b.end,l===void 0&&(l=u),"selectionStart"in p)p.selectionStart=u,p.selectionEnd=Math.min(l,p.value.length);else if(l=(u=p.ownerDocument||document)&&u.defaultView||window,l.getSelection){l=l.getSelection();var S=p.textContent.length,T=Math.min(b.start,S);b=b.end===void 0?T:Math.min(b.end,S),!l.extend&&T>b&&(S=b,b=T,T=S),S=IS(p,T);var z=IS(p,b);S&&z&&(l.rangeCount!==1||l.anchorNode!==S.node||l.anchorOffset!==S.offset||l.focusNode!==z.node||l.focusOffset!==z.offset)&&(u=u.createRange(),u.setStart(S.node,S.offset),l.removeAllRanges(),T>b?(l.addRange(u),l.extend(z.node,z.offset)):(u.setEnd(z.node,z.offset),l.addRange(u)))}}for(u=[],l=p;l=l.parentNode;)l.nodeType===1&&u.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<u.length;p++)l=u[p],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var HV=c&&"documentMode"in document&&11>=document.documentMode,Pu=null,C0=null,Wh=null,k0=!1;function DS(l,u,p){var b=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;k0||Pu==null||Pu!==Xt(b)||(b=Pu,"selectionStart"in b&&E0(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),Wh&&Hh(Wh,b)||(Wh=b,b=Sp(C0,"onSelect"),0<b.length&&(u=new lc("onSelect","select",null,u,p),l.push({event:u,listeners:b}),u.target=Pu)))}function jp(l,u){var p={};return p[l.toLowerCase()]=u.toLowerCase(),p["Webkit"+l]="webkit"+u,p["Moz"+l]="moz"+u,p}var Du={animationend:jp("Animation","AnimationEnd"),animationiteration:jp("Animation","AnimationIteration"),animationstart:jp("Animation","AnimationStart"),transitionend:jp("Transition","TransitionEnd")},T0={},MS={};c&&(MS=document.createElement("div").style,"AnimationEvent"in window||(delete Du.animationend.animation,delete Du.animationiteration.animation,delete Du.animationstart.animation),"TransitionEvent"in window||delete Du.transitionend.transition);function Np(l){if(T0[l])return T0[l];if(!Du[l])return l;var u=Du[l],p;for(p in u)if(u.hasOwnProperty(p)&&p in MS)return T0[l]=u[p];return l}var OS=Np("animationend"),LS=Np("animationiteration"),FS=Np("animationstart"),VS=Np("transitionend"),US=new Map,zS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fo(l,u){US.set(l,u),a(u,[l])}for(var A0=0;A0<zS.length;A0++){var I0=zS[A0],WV=I0.toLowerCase(),KV=I0[0].toUpperCase()+I0.slice(1);Fo(WV,"on"+KV)}Fo(OS,"onAnimationEnd"),Fo(LS,"onAnimationIteration"),Fo(FS,"onAnimationStart"),Fo("dblclick","onDoubleClick"),Fo("focusin","onFocus"),Fo("focusout","onBlur"),Fo(VS,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GV=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kh));function BS(l,u,p){var b=l.type||"unknown-event";l.currentTarget=p,ka(b,u,void 0,l),l.currentTarget=null}function $S(l,u){u=(u&4)!==0;for(var p=0;p<l.length;p++){var b=l[p],S=b.event;b=b.listeners;e:{var T=void 0;if(u)for(var z=b.length-1;0<=z;z--){var Q=b[z],J=Q.instance,ce=Q.currentTarget;if(Q=Q.listener,J!==T&&S.isPropagationStopped())break e;BS(S,Q,ce),T=J}else for(z=0;z<b.length;z++){if(Q=b[z],J=Q.instance,ce=Q.currentTarget,Q=Q.listener,J!==T&&S.isPropagationStopped())break e;BS(S,Q,ce),T=J}}}if(Zr)throw l=Kt,Zr=!1,Kt=null,l}function mn(l,u){var p=u[V0];p===void 0&&(p=u[V0]=new Set);var b=l+"__bubble";p.has(b)||(qS(u,l,2,!1),p.add(b))}function R0(l,u,p){var b=0;u&&(b|=4),qS(p,l,b,u)}var _p="_reactListening"+Math.random().toString(36).slice(2);function Gh(l){if(!l[_p]){l[_p]=!0,r.forEach(function(p){p!=="selectionchange"&&(GV.has(p)||R0(p,!1,l),R0(p,!0,l))});var u=l.nodeType===9?l:l.ownerDocument;u===null||u[_p]||(u[_p]=!0,R0("selectionchange",!1,u))}}function qS(l,u,p,b){switch(Su(u)){case 1:var S=zi;break;case 4:S=pp;break;default:S=Fh}p=S.bind(null,u,p,l),S=void 0,!oi||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(S=!0),b?S!==void 0?l.addEventListener(u,p,{capture:!0,passive:S}):l.addEventListener(u,p,!0):S!==void 0?l.addEventListener(u,p,{passive:S}):l.addEventListener(u,p,!1)}function P0(l,u,p,b,S){var T=b;if((u&1)===0&&(u&2)===0&&b!==null)e:for(;;){if(b===null)return;var z=b.tag;if(z===3||z===4){var Q=b.stateNode.containerInfo;if(Q===S||Q.nodeType===8&&Q.parentNode===S)break;if(z===4)for(z=b.return;z!==null;){var J=z.tag;if((J===3||J===4)&&(J=z.stateNode.containerInfo,J===S||J.nodeType===8&&J.parentNode===S))return;z=z.return}for(;Q!==null;){if(z=uc(Q),z===null)return;if(J=z.tag,J===5||J===6){b=T=z;continue e}Q=Q.parentNode}}b=b.return}Xl(function(){var ce=T,je=wn(p),_e=[];e:{var be=US.get(l);if(be!==void 0){var Ue=lc,We=l;switch(l){case"keypress":if(oc(p)===0)break e;case"keydown":case"keyup":Ue=en;break;case"focusin":We="focus",Ue=fr;break;case"focusout":We="blur",Ue=fr;break;case"beforeblur":case"afterblur":Ue=fr;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ue=Uh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ue=yp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ue=Hi;break;case OS:case LS:case FS:Ue=bp;break;case VS:Ue=Iu;break;case"scroll":Ue=Cu;break;case"wheel":Ue=IV;break;case"copy":case"cut":case"paste":Ue=y;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ue=Es}var Qe=(u&4)!==0,Ln=!Qe&&l==="scroll",ae=Qe?be!==null?be+"Capture":null:be;Qe=[];for(var ee=ce,le;ee!==null;){le=ee;var ke=le.stateNode;if(le.tag===5&&ke!==null&&(le=ke,ae!==null&&(ke=Di(ee,ae),ke!=null&&Qe.push(Qh(ee,ke,le)))),Ln)break;ee=ee.return}0<Qe.length&&(be=new Ue(be,We,null,p,je),_e.push({event:be,listeners:Qe}))}}if((u&7)===0){e:{if(be=l==="mouseover"||l==="pointerover",Ue=l==="mouseout"||l==="pointerout",be&&p!==Mt&&(We=p.relatedTarget||p.fromElement)&&(uc(We)||We[Oa]))break e;if((Ue||be)&&(be=je.window===je?je:(be=je.ownerDocument)?be.defaultView||be.parentWindow:window,Ue?(We=p.relatedTarget||p.toElement,Ue=ce,We=We?uc(We):null,We!==null&&(Ln=Sr(We),We!==Ln||We.tag!==5&&We.tag!==6)&&(We=null)):(Ue=null,We=ce),Ue!==We)){if(Qe=Uh,ke="onMouseLeave",ae="onMouseEnter",ee="mouse",(l==="pointerout"||l==="pointerover")&&(Qe=Es,ke="onPointerLeave",ae="onPointerEnter",ee="pointer"),Ln=Ue==null?be:Lu(Ue),le=We==null?be:Lu(We),be=new Qe(ke,ee+"leave",Ue,p,je),be.target=Ln,be.relatedTarget=le,ke=null,uc(je)===ce&&(Qe=new Qe(ae,ee+"enter",We,p,je),Qe.target=le,Qe.relatedTarget=Ln,ke=Qe),Ln=ke,Ue&&We)t:{for(Qe=Ue,ae=We,ee=0,le=Qe;le;le=Mu(le))ee++;for(le=0,ke=ae;ke;ke=Mu(ke))le++;for(;0<ee-le;)Qe=Mu(Qe),ee--;for(;0<le-ee;)ae=Mu(ae),le--;for(;ee--;){if(Qe===ae||ae!==null&&Qe===ae.alternate)break t;Qe=Mu(Qe),ae=Mu(ae)}Qe=null}else Qe=null;Ue!==null&&HS(_e,be,Ue,Qe,!1),We!==null&&Ln!==null&&HS(_e,Ln,We,Qe,!0)}}e:{if(be=ce?Lu(ce):window,Ue=be.nodeName&&be.nodeName.toLowerCase(),Ue==="select"||Ue==="input"&&be.type==="file")var Ye=FV;else if(_S(be))if(ES)Ye=BV;else{Ye=UV;var it=VV}else(Ue=be.nodeName)&&Ue.toLowerCase()==="input"&&(be.type==="checkbox"||be.type==="radio")&&(Ye=zV);if(Ye&&(Ye=Ye(l,ce))){SS(_e,Ye,p,je);break e}it&&it(l,be,ce),l==="focusout"&&(it=be._wrapperState)&&it.controlled&&be.type==="number"&&$t(be,"number",be.value)}switch(it=ce?Lu(ce):window,l){case"focusin":(_S(it)||it.contentEditable==="true")&&(Pu=it,C0=ce,Wh=null);break;case"focusout":Wh=C0=Pu=null;break;case"mousedown":k0=!0;break;case"contextmenu":case"mouseup":case"dragend":k0=!1,DS(_e,p,je);break;case"selectionchange":if(HV)break;case"keydown":case"keyup":DS(_e,p,je)}var at;if(N0)e:{switch(l){case"compositionstart":var mt="onCompositionStart";break e;case"compositionend":mt="onCompositionEnd";break e;case"compositionupdate":mt="onCompositionUpdate";break e}mt=void 0}else Ru?jS(l,p)&&(mt="onCompositionEnd"):l==="keydown"&&p.keyCode===229&&(mt="onCompositionStart");mt&&(vS&&p.locale!=="ko"&&(Ru||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&Ru&&(at=gp()):(_s=je,Eu="value"in _s?_s.value:_s.textContent,Ru=!0)),it=Sp(ce,mt),0<it.length&&(mt=new L(mt,l,null,p,je),_e.push({event:mt,listeners:it}),at?mt.data=at:(at=NS(p),at!==null&&(mt.data=at)))),(at=PV?DV(l,p):MV(l,p))&&(ce=Sp(ce,"onBeforeInput"),0<ce.length&&(je=new L("onBeforeInput","beforeinput",null,p,je),_e.push({event:je,listeners:ce}),je.data=at))}$S(_e,u)})}function Qh(l,u,p){return{instance:l,listener:u,currentTarget:p}}function Sp(l,u){for(var p=u+"Capture",b=[];l!==null;){var S=l,T=S.stateNode;S.tag===5&&T!==null&&(S=T,T=Di(l,p),T!=null&&b.unshift(Qh(l,T,S)),T=Di(l,u),T!=null&&b.push(Qh(l,T,S))),l=l.return}return b}function Mu(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function HS(l,u,p,b,S){for(var T=u._reactName,z=[];p!==null&&p!==b;){var Q=p,J=Q.alternate,ce=Q.stateNode;if(J!==null&&J===b)break;Q.tag===5&&ce!==null&&(Q=ce,S?(J=Di(p,T),J!=null&&z.unshift(Qh(p,J,Q))):S||(J=Di(p,T),J!=null&&z.push(Qh(p,J,Q)))),p=p.return}z.length!==0&&l.push({event:u,listeners:z})}var QV=/\r\n?/g,YV=/\u0000|\uFFFD/g;function WS(l){return(typeof l=="string"?l:""+l).replace(QV,`
`).replace(YV,"")}function Ep(l,u,p){if(u=WS(u),WS(l)!==u&&p)throw Error(n(425))}function Cp(){}var D0=null,M0=null;function O0(l,u){return l==="textarea"||l==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var L0=typeof setTimeout=="function"?setTimeout:void 0,JV=typeof clearTimeout=="function"?clearTimeout:void 0,KS=typeof Promise=="function"?Promise:void 0,XV=typeof queueMicrotask=="function"?queueMicrotask:typeof KS<"u"?function(l){return KS.resolve(null).then(l).catch(ZV)}:L0;function ZV(l){setTimeout(function(){throw l})}function F0(l,u){var p=u,b=0;do{var S=p.nextSibling;if(l.removeChild(p),S&&S.nodeType===8)if(p=S.data,p==="/$"){if(b===0){l.removeChild(S),Mo(u);return}b--}else p!=="$"&&p!=="$?"&&p!=="$!"||b++;p=S}while(p);Mo(u)}function Vo(l){for(;l!=null;l=l.nextSibling){var u=l.nodeType;if(u===1||u===3)break;if(u===8){if(u=l.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return l}function GS(l){l=l.previousSibling;for(var u=0;l;){if(l.nodeType===8){var p=l.data;if(p==="$"||p==="$!"||p==="$?"){if(u===0)return l;u--}else p==="/$"&&u++}l=l.previousSibling}return null}var Ou=Math.random().toString(36).slice(2),Ki="__reactFiber$"+Ou,Yh="__reactProps$"+Ou,Oa="__reactContainer$"+Ou,V0="__reactEvents$"+Ou,eU="__reactListeners$"+Ou,tU="__reactHandles$"+Ou;function uc(l){var u=l[Ki];if(u)return u;for(var p=l.parentNode;p;){if(u=p[Oa]||p[Ki]){if(p=u.alternate,u.child!==null||p!==null&&p.child!==null)for(l=GS(l);l!==null;){if(p=l[Ki])return p;l=GS(l)}return u}l=p,p=l.parentNode}return null}function Jh(l){return l=l[Ki]||l[Oa],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function Lu(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(n(33))}function kp(l){return l[Yh]||null}var U0=[],Fu=-1;function Uo(l){return{current:l}}function fn(l){0>Fu||(l.current=U0[Fu],U0[Fu]=null,Fu--)}function on(l,u){Fu++,U0[Fu]=l.current,l.current=u}var zo={},Cr=Uo(zo),es=Uo(!1),dc=zo;function Vu(l,u){var p=l.type.contextTypes;if(!p)return zo;var b=l.stateNode;if(b&&b.__reactInternalMemoizedUnmaskedChildContext===u)return b.__reactInternalMemoizedMaskedChildContext;var S={},T;for(T in p)S[T]=u[T];return b&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=u,l.__reactInternalMemoizedMaskedChildContext=S),S}function ts(l){return l=l.childContextTypes,l!=null}function Tp(){fn(es),fn(Cr)}function QS(l,u,p){if(Cr.current!==zo)throw Error(n(168));on(Cr,u),on(es,p)}function YS(l,u,p){var b=l.stateNode;if(u=u.childContextTypes,typeof b.getChildContext!="function")return p;b=b.getChildContext();for(var S in b)if(!(S in u))throw Error(n(108,ge(l)||"Unknown",S));return B({},p,b)}function Ap(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||zo,dc=Cr.current,on(Cr,l),on(es,es.current),!0}function JS(l,u,p){var b=l.stateNode;if(!b)throw Error(n(169));p?(l=YS(l,u,dc),b.__reactInternalMemoizedMergedChildContext=l,fn(es),fn(Cr),on(Cr,l)):fn(es),on(es,p)}var La=null,Ip=!1,z0=!1;function XS(l){La===null?La=[l]:La.push(l)}function nU(l){Ip=!0,XS(l)}function Bo(){if(!z0&&La!==null){z0=!0;var l=0,u=Ot;try{var p=La;for(Ot=1;l<p.length;l++){var b=p[l];do b=b(!0);while(b!==null)}La=null,Ip=!1}catch(S){throw La!==null&&(La=La.slice(l+1)),Io(vu,Bo),S}finally{Ot=u,z0=!1}}return null}var Uu=[],zu=0,Rp=null,Pp=0,Bs=[],$s=0,hc=null,Fa=1,Va="";function mc(l,u){Uu[zu++]=Pp,Uu[zu++]=Rp,Rp=l,Pp=u}function ZS(l,u,p){Bs[$s++]=Fa,Bs[$s++]=Va,Bs[$s++]=hc,hc=l;var b=Fa;l=Va;var S=32-js(b)-1;b&=~(1<<S),p+=1;var T=32-js(u)+S;if(30<T){var z=S-S%5;T=(b&(1<<z)-1).toString(32),b>>=z,S-=z,Fa=1<<32-js(u)+S|p<<S|b,Va=T+l}else Fa=1<<T|p<<S|b,Va=l}function B0(l){l.return!==null&&(mc(l,1),ZS(l,1,0))}function $0(l){for(;l===Rp;)Rp=Uu[--zu],Uu[zu]=null,Pp=Uu[--zu],Uu[zu]=null;for(;l===hc;)hc=Bs[--$s],Bs[$s]=null,Va=Bs[--$s],Bs[$s]=null,Fa=Bs[--$s],Bs[$s]=null}var Cs=null,ks=null,xn=!1,mi=null;function eE(l,u){var p=Ks(5,null,null,0);p.elementType="DELETED",p.stateNode=u,p.return=l,u=l.deletions,u===null?(l.deletions=[p],l.flags|=16):u.push(p)}function tE(l,u){switch(l.tag){case 5:var p=l.type;return u=u.nodeType!==1||p.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(l.stateNode=u,Cs=l,ks=Vo(u.firstChild),!0):!1;case 6:return u=l.pendingProps===""||u.nodeType!==3?null:u,u!==null?(l.stateNode=u,Cs=l,ks=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(p=hc!==null?{id:Fa,overflow:Va}:null,l.memoizedState={dehydrated:u,treeContext:p,retryLane:1073741824},p=Ks(18,null,null,0),p.stateNode=u,p.return=l,l.child=p,Cs=l,ks=null,!0):!1;default:return!1}}function q0(l){return(l.mode&1)!==0&&(l.flags&128)===0}function H0(l){if(xn){var u=ks;if(u){var p=u;if(!tE(l,u)){if(q0(l))throw Error(n(418));u=Vo(p.nextSibling);var b=Cs;u&&tE(l,u)?eE(b,p):(l.flags=l.flags&-4097|2,xn=!1,Cs=l)}}else{if(q0(l))throw Error(n(418));l.flags=l.flags&-4097|2,xn=!1,Cs=l}}}function nE(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;Cs=l}function Dp(l){if(l!==Cs)return!1;if(!xn)return nE(l),xn=!0,!1;var u;if((u=l.tag!==3)&&!(u=l.tag!==5)&&(u=l.type,u=u!=="head"&&u!=="body"&&!O0(l.type,l.memoizedProps)),u&&(u=ks)){if(q0(l))throw rE(),Error(n(418));for(;u;)eE(l,u),u=Vo(u.nextSibling)}if(nE(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));e:{for(l=l.nextSibling,u=0;l;){if(l.nodeType===8){var p=l.data;if(p==="/$"){if(u===0){ks=Vo(l.nextSibling);break e}u--}else p!=="$"&&p!=="$!"&&p!=="$?"||u++}l=l.nextSibling}ks=null}}else ks=Cs?Vo(l.stateNode.nextSibling):null;return!0}function rE(){for(var l=ks;l;)l=Vo(l.nextSibling)}function Bu(){ks=Cs=null,xn=!1}function W0(l){mi===null?mi=[l]:mi.push(l)}var rU=C.ReactCurrentBatchConfig;function Xh(l,u,p){if(l=p.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(n(309));var b=p.stateNode}if(!b)throw Error(n(147,l));var S=b,T=""+l;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===T?u.ref:(u=function(z){var Q=S.refs;z===null?delete Q[T]:Q[T]=z},u._stringRef=T,u)}if(typeof l!="string")throw Error(n(284));if(!p._owner)throw Error(n(290,l))}return l}function Mp(l,u){throw l=Object.prototype.toString.call(u),Error(n(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l))}function sE(l){var u=l._init;return u(l._payload)}function iE(l){function u(ae,ee){if(l){var le=ae.deletions;le===null?(ae.deletions=[ee],ae.flags|=16):le.push(ee)}}function p(ae,ee){if(!l)return null;for(;ee!==null;)u(ae,ee),ee=ee.sibling;return null}function b(ae,ee){for(ae=new Map;ee!==null;)ee.key!==null?ae.set(ee.key,ee):ae.set(ee.index,ee),ee=ee.sibling;return ae}function S(ae,ee){return ae=Yo(ae,ee),ae.index=0,ae.sibling=null,ae}function T(ae,ee,le){return ae.index=le,l?(le=ae.alternate,le!==null?(le=le.index,le<ee?(ae.flags|=2,ee):le):(ae.flags|=2,ee)):(ae.flags|=1048576,ee)}function z(ae){return l&&ae.alternate===null&&(ae.flags|=2),ae}function Q(ae,ee,le,ke){return ee===null||ee.tag!==6?(ee=Lv(le,ae.mode,ke),ee.return=ae,ee):(ee=S(ee,le),ee.return=ae,ee)}function J(ae,ee,le,ke){var Ye=le.type;return Ye===D?je(ae,ee,le.props.children,ke,le.key):ee!==null&&(ee.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===ue&&sE(Ye)===ee.type)?(ke=S(ee,le.props),ke.ref=Xh(ae,ee,le),ke.return=ae,ke):(ke=ig(le.type,le.key,le.props,null,ae.mode,ke),ke.ref=Xh(ae,ee,le),ke.return=ae,ke)}function ce(ae,ee,le,ke){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==le.containerInfo||ee.stateNode.implementation!==le.implementation?(ee=Fv(le,ae.mode,ke),ee.return=ae,ee):(ee=S(ee,le.children||[]),ee.return=ae,ee)}function je(ae,ee,le,ke,Ye){return ee===null||ee.tag!==7?(ee=wc(le,ae.mode,ke,Ye),ee.return=ae,ee):(ee=S(ee,le),ee.return=ae,ee)}function _e(ae,ee,le){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return ee=Lv(""+ee,ae.mode,le),ee.return=ae,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case P:return le=ig(ee.type,ee.key,ee.props,null,ae.mode,le),le.ref=Xh(ae,null,ee),le.return=ae,le;case F:return ee=Fv(ee,ae.mode,le),ee.return=ae,ee;case ue:var ke=ee._init;return _e(ae,ke(ee._payload),le)}if(Zt(ee)||W(ee))return ee=wc(ee,ae.mode,le,null),ee.return=ae,ee;Mp(ae,ee)}return null}function be(ae,ee,le,ke){var Ye=ee!==null?ee.key:null;if(typeof le=="string"&&le!==""||typeof le=="number")return Ye!==null?null:Q(ae,ee,""+le,ke);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case P:return le.key===Ye?J(ae,ee,le,ke):null;case F:return le.key===Ye?ce(ae,ee,le,ke):null;case ue:return Ye=le._init,be(ae,ee,Ye(le._payload),ke)}if(Zt(le)||W(le))return Ye!==null?null:je(ae,ee,le,ke,null);Mp(ae,le)}return null}function Ue(ae,ee,le,ke,Ye){if(typeof ke=="string"&&ke!==""||typeof ke=="number")return ae=ae.get(le)||null,Q(ee,ae,""+ke,Ye);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case P:return ae=ae.get(ke.key===null?le:ke.key)||null,J(ee,ae,ke,Ye);case F:return ae=ae.get(ke.key===null?le:ke.key)||null,ce(ee,ae,ke,Ye);case ue:var it=ke._init;return Ue(ae,ee,le,it(ke._payload),Ye)}if(Zt(ke)||W(ke))return ae=ae.get(le)||null,je(ee,ae,ke,Ye,null);Mp(ee,ke)}return null}function We(ae,ee,le,ke){for(var Ye=null,it=null,at=ee,mt=ee=0,lr=null;at!==null&&mt<le.length;mt++){at.index>mt?(lr=at,at=null):lr=at.sibling;var Ut=be(ae,at,le[mt],ke);if(Ut===null){at===null&&(at=lr);break}l&&at&&Ut.alternate===null&&u(ae,at),ee=T(Ut,ee,mt),it===null?Ye=Ut:it.sibling=Ut,it=Ut,at=lr}if(mt===le.length)return p(ae,at),xn&&mc(ae,mt),Ye;if(at===null){for(;mt<le.length;mt++)at=_e(ae,le[mt],ke),at!==null&&(ee=T(at,ee,mt),it===null?Ye=at:it.sibling=at,it=at);return xn&&mc(ae,mt),Ye}for(at=b(ae,at);mt<le.length;mt++)lr=Ue(at,ae,mt,le[mt],ke),lr!==null&&(l&&lr.alternate!==null&&at.delete(lr.key===null?mt:lr.key),ee=T(lr,ee,mt),it===null?Ye=lr:it.sibling=lr,it=lr);return l&&at.forEach(function(Jo){return u(ae,Jo)}),xn&&mc(ae,mt),Ye}function Qe(ae,ee,le,ke){var Ye=W(le);if(typeof Ye!="function")throw Error(n(150));if(le=Ye.call(le),le==null)throw Error(n(151));for(var it=Ye=null,at=ee,mt=ee=0,lr=null,Ut=le.next();at!==null&&!Ut.done;mt++,Ut=le.next()){at.index>mt?(lr=at,at=null):lr=at.sibling;var Jo=be(ae,at,Ut.value,ke);if(Jo===null){at===null&&(at=lr);break}l&&at&&Jo.alternate===null&&u(ae,at),ee=T(Jo,ee,mt),it===null?Ye=Jo:it.sibling=Jo,it=Jo,at=lr}if(Ut.done)return p(ae,at),xn&&mc(ae,mt),Ye;if(at===null){for(;!Ut.done;mt++,Ut=le.next())Ut=_e(ae,Ut.value,ke),Ut!==null&&(ee=T(Ut,ee,mt),it===null?Ye=Ut:it.sibling=Ut,it=Ut);return xn&&mc(ae,mt),Ye}for(at=b(ae,at);!Ut.done;mt++,Ut=le.next())Ut=Ue(at,ae,mt,Ut.value,ke),Ut!==null&&(l&&Ut.alternate!==null&&at.delete(Ut.key===null?mt:Ut.key),ee=T(Ut,ee,mt),it===null?Ye=Ut:it.sibling=Ut,it=Ut);return l&&at.forEach(function(OU){return u(ae,OU)}),xn&&mc(ae,mt),Ye}function Ln(ae,ee,le,ke){if(typeof le=="object"&&le!==null&&le.type===D&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case P:e:{for(var Ye=le.key,it=ee;it!==null;){if(it.key===Ye){if(Ye=le.type,Ye===D){if(it.tag===7){p(ae,it.sibling),ee=S(it,le.props.children),ee.return=ae,ae=ee;break e}}else if(it.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===ue&&sE(Ye)===it.type){p(ae,it.sibling),ee=S(it,le.props),ee.ref=Xh(ae,it,le),ee.return=ae,ae=ee;break e}p(ae,it);break}else u(ae,it);it=it.sibling}le.type===D?(ee=wc(le.props.children,ae.mode,ke,le.key),ee.return=ae,ae=ee):(ke=ig(le.type,le.key,le.props,null,ae.mode,ke),ke.ref=Xh(ae,ee,le),ke.return=ae,ae=ke)}return z(ae);case F:e:{for(it=le.key;ee!==null;){if(ee.key===it)if(ee.tag===4&&ee.stateNode.containerInfo===le.containerInfo&&ee.stateNode.implementation===le.implementation){p(ae,ee.sibling),ee=S(ee,le.children||[]),ee.return=ae,ae=ee;break e}else{p(ae,ee);break}else u(ae,ee);ee=ee.sibling}ee=Fv(le,ae.mode,ke),ee.return=ae,ae=ee}return z(ae);case ue:return it=le._init,Ln(ae,ee,it(le._payload),ke)}if(Zt(le))return We(ae,ee,le,ke);if(W(le))return Qe(ae,ee,le,ke);Mp(ae,le)}return typeof le=="string"&&le!==""||typeof le=="number"?(le=""+le,ee!==null&&ee.tag===6?(p(ae,ee.sibling),ee=S(ee,le),ee.return=ae,ae=ee):(p(ae,ee),ee=Lv(le,ae.mode,ke),ee.return=ae,ae=ee),z(ae)):p(ae,ee)}return Ln}var $u=iE(!0),aE=iE(!1),Op=Uo(null),Lp=null,qu=null,K0=null;function G0(){K0=qu=Lp=null}function Q0(l){var u=Op.current;fn(Op),l._currentValue=u}function Y0(l,u,p){for(;l!==null;){var b=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,b!==null&&(b.childLanes|=u)):b!==null&&(b.childLanes&u)!==u&&(b.childLanes|=u),l===p)break;l=l.return}}function Hu(l,u){Lp=l,K0=qu=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&u)!==0&&(ns=!0),l.firstContext=null)}function qs(l){var u=l._currentValue;if(K0!==l)if(l={context:l,memoizedValue:u,next:null},qu===null){if(Lp===null)throw Error(n(308));qu=l,Lp.dependencies={lanes:0,firstContext:l}}else qu=qu.next=l;return u}var fc=null;function J0(l){fc===null?fc=[l]:fc.push(l)}function oE(l,u,p,b){var S=u.interleaved;return S===null?(p.next=p,J0(u)):(p.next=S.next,S.next=p),u.interleaved=p,Ua(l,b)}function Ua(l,u){l.lanes|=u;var p=l.alternate;for(p!==null&&(p.lanes|=u),p=l,l=l.return;l!==null;)l.childLanes|=u,p=l.alternate,p!==null&&(p.childLanes|=u),p=l,l=l.return;return p.tag===3?p.stateNode:null}var $o=!1;function X0(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lE(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function za(l,u){return{eventTime:l,lane:u,tag:0,payload:null,callback:null,next:null}}function qo(l,u,p){var b=l.updateQueue;if(b===null)return null;if(b=b.shared,(Vt&2)!==0){var S=b.pending;return S===null?u.next=u:(u.next=S.next,S.next=u),b.pending=u,Ua(l,p)}return S=b.interleaved,S===null?(u.next=u,J0(b)):(u.next=S.next,S.next=u),b.interleaved=u,Ua(l,p)}function Fp(l,u,p){if(u=u.updateQueue,u!==null&&(u=u.shared,(p&4194240)!==0)){var b=u.lanes;b&=l.pendingLanes,p|=b,u.lanes=p,Ph(l,p)}}function cE(l,u){var p=l.updateQueue,b=l.alternate;if(b!==null&&(b=b.updateQueue,p===b)){var S=null,T=null;if(p=p.firstBaseUpdate,p!==null){do{var z={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};T===null?S=T=z:T=T.next=z,p=p.next}while(p!==null);T===null?S=T=u:T=T.next=u}else S=T=u;p={baseState:b.baseState,firstBaseUpdate:S,lastBaseUpdate:T,shared:b.shared,effects:b.effects},l.updateQueue=p;return}l=p.lastBaseUpdate,l===null?p.firstBaseUpdate=u:l.next=u,p.lastBaseUpdate=u}function Vp(l,u,p,b){var S=l.updateQueue;$o=!1;var T=S.firstBaseUpdate,z=S.lastBaseUpdate,Q=S.shared.pending;if(Q!==null){S.shared.pending=null;var J=Q,ce=J.next;J.next=null,z===null?T=ce:z.next=ce,z=J;var je=l.alternate;je!==null&&(je=je.updateQueue,Q=je.lastBaseUpdate,Q!==z&&(Q===null?je.firstBaseUpdate=ce:Q.next=ce,je.lastBaseUpdate=J))}if(T!==null){var _e=S.baseState;z=0,je=ce=J=null,Q=T;do{var be=Q.lane,Ue=Q.eventTime;if((b&be)===be){je!==null&&(je=je.next={eventTime:Ue,lane:0,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null});e:{var We=l,Qe=Q;switch(be=u,Ue=p,Qe.tag){case 1:if(We=Qe.payload,typeof We=="function"){_e=We.call(Ue,_e,be);break e}_e=We;break e;case 3:We.flags=We.flags&-65537|128;case 0:if(We=Qe.payload,be=typeof We=="function"?We.call(Ue,_e,be):We,be==null)break e;_e=B({},_e,be);break e;case 2:$o=!0}}Q.callback!==null&&Q.lane!==0&&(l.flags|=64,be=S.effects,be===null?S.effects=[Q]:be.push(Q))}else Ue={eventTime:Ue,lane:be,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},je===null?(ce=je=Ue,J=_e):je=je.next=Ue,z|=be;if(Q=Q.next,Q===null){if(Q=S.shared.pending,Q===null)break;be=Q,Q=be.next,be.next=null,S.lastBaseUpdate=be,S.shared.pending=null}}while(!0);if(je===null&&(J=_e),S.baseState=J,S.firstBaseUpdate=ce,S.lastBaseUpdate=je,u=S.shared.interleaved,u!==null){S=u;do z|=S.lane,S=S.next;while(S!==u)}else T===null&&(S.shared.lanes=0);xc|=z,l.lanes=z,l.memoizedState=_e}}function uE(l,u,p){if(l=u.effects,u.effects=null,l!==null)for(u=0;u<l.length;u++){var b=l[u],S=b.callback;if(S!==null){if(b.callback=null,b=p,typeof S!="function")throw Error(n(191,S));S.call(b)}}}var Zh={},Gi=Uo(Zh),em=Uo(Zh),tm=Uo(Zh);function pc(l){if(l===Zh)throw Error(n(174));return l}function Z0(l,u){switch(on(tm,u),on(em,l),on(Gi,Zh),l=u.nodeType,l){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:Ie(null,"");break;default:l=l===8?u.parentNode:u,u=l.namespaceURI||null,l=l.tagName,u=Ie(u,l)}fn(Gi),on(Gi,u)}function Wu(){fn(Gi),fn(em),fn(tm)}function dE(l){pc(tm.current);var u=pc(Gi.current),p=Ie(u,l.type);u!==p&&(on(em,l),on(Gi,p))}function ev(l){em.current===l&&(fn(Gi),fn(em))}var jn=Uo(0);function Up(l){for(var u=l;u!==null;){if(u.tag===13){var p=u.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var tv=[];function nv(){for(var l=0;l<tv.length;l++)tv[l]._workInProgressVersionPrimary=null;tv.length=0}var zp=C.ReactCurrentDispatcher,rv=C.ReactCurrentBatchConfig,gc=0,Nn=null,Zn=null,ar=null,Bp=!1,nm=!1,rm=0,sU=0;function kr(){throw Error(n(321))}function sv(l,u){if(u===null)return!1;for(var p=0;p<u.length&&p<l.length;p++)if(!hi(l[p],u[p]))return!1;return!0}function iv(l,u,p,b,S,T){if(gc=T,Nn=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,zp.current=l===null||l.memoizedState===null?lU:cU,l=p(b,S),nm){T=0;do{if(nm=!1,rm=0,25<=T)throw Error(n(301));T+=1,ar=Zn=null,u.updateQueue=null,zp.current=uU,l=p(b,S)}while(nm)}if(zp.current=Hp,u=Zn!==null&&Zn.next!==null,gc=0,ar=Zn=Nn=null,Bp=!1,u)throw Error(n(300));return l}function av(){var l=rm!==0;return rm=0,l}function Qi(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ar===null?Nn.memoizedState=ar=l:ar=ar.next=l,ar}function Hs(){if(Zn===null){var l=Nn.alternate;l=l!==null?l.memoizedState:null}else l=Zn.next;var u=ar===null?Nn.memoizedState:ar.next;if(u!==null)ar=u,Zn=l;else{if(l===null)throw Error(n(310));Zn=l,l={memoizedState:Zn.memoizedState,baseState:Zn.baseState,baseQueue:Zn.baseQueue,queue:Zn.queue,next:null},ar===null?Nn.memoizedState=ar=l:ar=ar.next=l}return ar}function sm(l,u){return typeof u=="function"?u(l):u}function ov(l){var u=Hs(),p=u.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=l;var b=Zn,S=b.baseQueue,T=p.pending;if(T!==null){if(S!==null){var z=S.next;S.next=T.next,T.next=z}b.baseQueue=S=T,p.pending=null}if(S!==null){T=S.next,b=b.baseState;var Q=z=null,J=null,ce=T;do{var je=ce.lane;if((gc&je)===je)J!==null&&(J=J.next={lane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),b=ce.hasEagerState?ce.eagerState:l(b,ce.action);else{var _e={lane:je,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null};J===null?(Q=J=_e,z=b):J=J.next=_e,Nn.lanes|=je,xc|=je}ce=ce.next}while(ce!==null&&ce!==T);J===null?z=b:J.next=Q,hi(b,u.memoizedState)||(ns=!0),u.memoizedState=b,u.baseState=z,u.baseQueue=J,p.lastRenderedState=b}if(l=p.interleaved,l!==null){S=l;do T=S.lane,Nn.lanes|=T,xc|=T,S=S.next;while(S!==l)}else S===null&&(p.lanes=0);return[u.memoizedState,p.dispatch]}function lv(l){var u=Hs(),p=u.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=l;var b=p.dispatch,S=p.pending,T=u.memoizedState;if(S!==null){p.pending=null;var z=S=S.next;do T=l(T,z.action),z=z.next;while(z!==S);hi(T,u.memoizedState)||(ns=!0),u.memoizedState=T,u.baseQueue===null&&(u.baseState=T),p.lastRenderedState=T}return[T,b]}function hE(){}function mE(l,u){var p=Nn,b=Hs(),S=u(),T=!hi(b.memoizedState,S);if(T&&(b.memoizedState=S,ns=!0),b=b.queue,cv(gE.bind(null,p,b,l),[l]),b.getSnapshot!==u||T||ar!==null&&ar.memoizedState.tag&1){if(p.flags|=2048,im(9,pE.bind(null,p,b,S,u),void 0,null),or===null)throw Error(n(349));(gc&30)!==0||fE(p,u,S)}return S}function fE(l,u,p){l.flags|=16384,l={getSnapshot:u,value:p},u=Nn.updateQueue,u===null?(u={lastEffect:null,stores:null},Nn.updateQueue=u,u.stores=[l]):(p=u.stores,p===null?u.stores=[l]:p.push(l))}function pE(l,u,p,b){u.value=p,u.getSnapshot=b,xE(u)&&yE(l)}function gE(l,u,p){return p(function(){xE(u)&&yE(l)})}function xE(l){var u=l.getSnapshot;l=l.value;try{var p=u();return!hi(l,p)}catch{return!0}}function yE(l){var u=Ua(l,1);u!==null&&xi(u,l,1,-1)}function vE(l){var u=Qi();return typeof l=="function"&&(l=l()),u.memoizedState=u.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sm,lastRenderedState:l},u.queue=l,l=l.dispatch=oU.bind(null,Nn,l),[u.memoizedState,l]}function im(l,u,p,b){return l={tag:l,create:u,destroy:p,deps:b,next:null},u=Nn.updateQueue,u===null?(u={lastEffect:null,stores:null},Nn.updateQueue=u,u.lastEffect=l.next=l):(p=u.lastEffect,p===null?u.lastEffect=l.next=l:(b=p.next,p.next=l,l.next=b,u.lastEffect=l)),l}function bE(){return Hs().memoizedState}function $p(l,u,p,b){var S=Qi();Nn.flags|=l,S.memoizedState=im(1|u,p,void 0,b===void 0?null:b)}function qp(l,u,p,b){var S=Hs();b=b===void 0?null:b;var T=void 0;if(Zn!==null){var z=Zn.memoizedState;if(T=z.destroy,b!==null&&sv(b,z.deps)){S.memoizedState=im(u,p,T,b);return}}Nn.flags|=l,S.memoizedState=im(1|u,p,T,b)}function wE(l,u){return $p(8390656,8,l,u)}function cv(l,u){return qp(2048,8,l,u)}function jE(l,u){return qp(4,2,l,u)}function NE(l,u){return qp(4,4,l,u)}function _E(l,u){if(typeof u=="function")return l=l(),u(l),function(){u(null)};if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function SE(l,u,p){return p=p!=null?p.concat([l]):null,qp(4,4,_E.bind(null,u,l),p)}function uv(){}function EE(l,u){var p=Hs();u=u===void 0?null:u;var b=p.memoizedState;return b!==null&&u!==null&&sv(u,b[1])?b[0]:(p.memoizedState=[l,u],l)}function CE(l,u){var p=Hs();u=u===void 0?null:u;var b=p.memoizedState;return b!==null&&u!==null&&sv(u,b[1])?b[0]:(l=l(),p.memoizedState=[l,u],l)}function kE(l,u,p){return(gc&21)===0?(l.baseState&&(l.baseState=!1,ns=!0),l.memoizedState=p):(hi(p,u)||(p=Ih(),Nn.lanes|=p,xc|=p,l.baseState=!0),u)}function iU(l,u){var p=Ot;Ot=p!==0&&4>p?p:4,l(!0);var b=rv.transition;rv.transition={};try{l(!1),u()}finally{Ot=p,rv.transition=b}}function TE(){return Hs().memoizedState}function aU(l,u,p){var b=Go(l);if(p={lane:b,action:p,hasEagerState:!1,eagerState:null,next:null},AE(l))IE(u,p);else if(p=oE(l,u,p,b),p!==null){var S=Br();xi(p,l,b,S),RE(p,u,b)}}function oU(l,u,p){var b=Go(l),S={lane:b,action:p,hasEagerState:!1,eagerState:null,next:null};if(AE(l))IE(u,S);else{var T=l.alternate;if(l.lanes===0&&(T===null||T.lanes===0)&&(T=u.lastRenderedReducer,T!==null))try{var z=u.lastRenderedState,Q=T(z,p);if(S.hasEagerState=!0,S.eagerState=Q,hi(Q,z)){var J=u.interleaved;J===null?(S.next=S,J0(u)):(S.next=J.next,J.next=S),u.interleaved=S;return}}catch{}finally{}p=oE(l,u,S,b),p!==null&&(S=Br(),xi(p,l,b,S),RE(p,u,b))}}function AE(l){var u=l.alternate;return l===Nn||u!==null&&u===Nn}function IE(l,u){nm=Bp=!0;var p=l.pending;p===null?u.next=u:(u.next=p.next,p.next=u),l.pending=u}function RE(l,u,p){if((p&4194240)!==0){var b=u.lanes;b&=l.pendingLanes,p|=b,u.lanes=p,Ph(l,p)}}var Hp={readContext:qs,useCallback:kr,useContext:kr,useEffect:kr,useImperativeHandle:kr,useInsertionEffect:kr,useLayoutEffect:kr,useMemo:kr,useReducer:kr,useRef:kr,useState:kr,useDebugValue:kr,useDeferredValue:kr,useTransition:kr,useMutableSource:kr,useSyncExternalStore:kr,useId:kr,unstable_isNewReconciler:!1},lU={readContext:qs,useCallback:function(l,u){return Qi().memoizedState=[l,u===void 0?null:u],l},useContext:qs,useEffect:wE,useImperativeHandle:function(l,u,p){return p=p!=null?p.concat([l]):null,$p(4194308,4,_E.bind(null,u,l),p)},useLayoutEffect:function(l,u){return $p(4194308,4,l,u)},useInsertionEffect:function(l,u){return $p(4,2,l,u)},useMemo:function(l,u){var p=Qi();return u=u===void 0?null:u,l=l(),p.memoizedState=[l,u],l},useReducer:function(l,u,p){var b=Qi();return u=p!==void 0?p(u):u,b.memoizedState=b.baseState=u,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:u},b.queue=l,l=l.dispatch=aU.bind(null,Nn,l),[b.memoizedState,l]},useRef:function(l){var u=Qi();return l={current:l},u.memoizedState=l},useState:vE,useDebugValue:uv,useDeferredValue:function(l){return Qi().memoizedState=l},useTransition:function(){var l=vE(!1),u=l[0];return l=iU.bind(null,l[1]),Qi().memoizedState=l,[u,l]},useMutableSource:function(){},useSyncExternalStore:function(l,u,p){var b=Nn,S=Qi();if(xn){if(p===void 0)throw Error(n(407));p=p()}else{if(p=u(),or===null)throw Error(n(349));(gc&30)!==0||fE(b,u,p)}S.memoizedState=p;var T={value:p,getSnapshot:u};return S.queue=T,wE(gE.bind(null,b,T,l),[l]),b.flags|=2048,im(9,pE.bind(null,b,T,p,u),void 0,null),p},useId:function(){var l=Qi(),u=or.identifierPrefix;if(xn){var p=Va,b=Fa;p=(b&~(1<<32-js(b)-1)).toString(32)+p,u=":"+u+"R"+p,p=rm++,0<p&&(u+="H"+p.toString(32)),u+=":"}else p=sU++,u=":"+u+"r"+p.toString(32)+":";return l.memoizedState=u},unstable_isNewReconciler:!1},cU={readContext:qs,useCallback:EE,useContext:qs,useEffect:cv,useImperativeHandle:SE,useInsertionEffect:jE,useLayoutEffect:NE,useMemo:CE,useReducer:ov,useRef:bE,useState:function(){return ov(sm)},useDebugValue:uv,useDeferredValue:function(l){var u=Hs();return kE(u,Zn.memoizedState,l)},useTransition:function(){var l=ov(sm)[0],u=Hs().memoizedState;return[l,u]},useMutableSource:hE,useSyncExternalStore:mE,useId:TE,unstable_isNewReconciler:!1},uU={readContext:qs,useCallback:EE,useContext:qs,useEffect:cv,useImperativeHandle:SE,useInsertionEffect:jE,useLayoutEffect:NE,useMemo:CE,useReducer:lv,useRef:bE,useState:function(){return lv(sm)},useDebugValue:uv,useDeferredValue:function(l){var u=Hs();return Zn===null?u.memoizedState=l:kE(u,Zn.memoizedState,l)},useTransition:function(){var l=lv(sm)[0],u=Hs().memoizedState;return[l,u]},useMutableSource:hE,useSyncExternalStore:mE,useId:TE,unstable_isNewReconciler:!1};function fi(l,u){if(l&&l.defaultProps){u=B({},u),l=l.defaultProps;for(var p in l)u[p]===void 0&&(u[p]=l[p]);return u}return u}function dv(l,u,p,b){u=l.memoizedState,p=p(b,u),p=p==null?u:B({},u,p),l.memoizedState=p,l.lanes===0&&(l.updateQueue.baseState=p)}var Wp={isMounted:function(l){return(l=l._reactInternals)?Sr(l)===l:!1},enqueueSetState:function(l,u,p){l=l._reactInternals;var b=Br(),S=Go(l),T=za(b,S);T.payload=u,p!=null&&(T.callback=p),u=qo(l,T,S),u!==null&&(xi(u,l,S,b),Fp(u,l,S))},enqueueReplaceState:function(l,u,p){l=l._reactInternals;var b=Br(),S=Go(l),T=za(b,S);T.tag=1,T.payload=u,p!=null&&(T.callback=p),u=qo(l,T,S),u!==null&&(xi(u,l,S,b),Fp(u,l,S))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var p=Br(),b=Go(l),S=za(p,b);S.tag=2,u!=null&&(S.callback=u),u=qo(l,S,b),u!==null&&(xi(u,l,b,p),Fp(u,l,b))}};function PE(l,u,p,b,S,T,z){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(b,T,z):u.prototype&&u.prototype.isPureReactComponent?!Hh(p,b)||!Hh(S,T):!0}function DE(l,u,p){var b=!1,S=zo,T=u.contextType;return typeof T=="object"&&T!==null?T=qs(T):(S=ts(u)?dc:Cr.current,b=u.contextTypes,T=(b=b!=null)?Vu(l,S):zo),u=new u(p,T),l.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Wp,l.stateNode=u,u._reactInternals=l,b&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=S,l.__reactInternalMemoizedMaskedChildContext=T),u}function ME(l,u,p,b){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(p,b),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(p,b),u.state!==l&&Wp.enqueueReplaceState(u,u.state,null)}function hv(l,u,p,b){var S=l.stateNode;S.props=p,S.state=l.memoizedState,S.refs={},X0(l);var T=u.contextType;typeof T=="object"&&T!==null?S.context=qs(T):(T=ts(u)?dc:Cr.current,S.context=Vu(l,T)),S.state=l.memoizedState,T=u.getDerivedStateFromProps,typeof T=="function"&&(dv(l,u,T,p),S.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(u=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),u!==S.state&&Wp.enqueueReplaceState(S,S.state,null),Vp(l,p,S,b),S.state=l.memoizedState),typeof S.componentDidMount=="function"&&(l.flags|=4194308)}function Ku(l,u){try{var p="",b=u;do p+=Ne(b),b=b.return;while(b);var S=p}catch(T){S=`
Error generating stack: `+T.message+`
`+T.stack}return{value:l,source:u,stack:S,digest:null}}function mv(l,u,p){return{value:l,source:null,stack:p??null,digest:u??null}}function fv(l,u){try{console.error(u.value)}catch(p){setTimeout(function(){throw p})}}var dU=typeof WeakMap=="function"?WeakMap:Map;function OE(l,u,p){p=za(-1,p),p.tag=3,p.payload={element:null};var b=u.value;return p.callback=function(){Zp||(Zp=!0,Tv=b),fv(l,u)},p}function LE(l,u,p){p=za(-1,p),p.tag=3;var b=l.type.getDerivedStateFromError;if(typeof b=="function"){var S=u.value;p.payload=function(){return b(S)},p.callback=function(){fv(l,u)}}var T=l.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(p.callback=function(){fv(l,u),typeof b!="function"&&(Wo===null?Wo=new Set([this]):Wo.add(this));var z=u.stack;this.componentDidCatch(u.value,{componentStack:z!==null?z:""})}),p}function FE(l,u,p){var b=l.pingCache;if(b===null){b=l.pingCache=new dU;var S=new Set;b.set(u,S)}else S=b.get(u),S===void 0&&(S=new Set,b.set(u,S));S.has(p)||(S.add(p),l=SU.bind(null,l,u,p),u.then(l,l))}function VE(l){do{var u;if((u=l.tag===13)&&(u=l.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return l;l=l.return}while(l!==null);return null}function UE(l,u,p,b,S){return(l.mode&1)===0?(l===u?l.flags|=65536:(l.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(u=za(-1,1),u.tag=2,qo(p,u,1))),p.lanes|=1),l):(l.flags|=65536,l.lanes=S,l)}var hU=C.ReactCurrentOwner,ns=!1;function zr(l,u,p,b){u.child=l===null?aE(u,null,p,b):$u(u,l.child,p,b)}function zE(l,u,p,b,S){p=p.render;var T=u.ref;return Hu(u,S),b=iv(l,u,p,b,T,S),p=av(),l!==null&&!ns?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~S,Ba(l,u,S)):(xn&&p&&B0(u),u.flags|=1,zr(l,u,b,S),u.child)}function BE(l,u,p,b,S){if(l===null){var T=p.type;return typeof T=="function"&&!Ov(T)&&T.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(u.tag=15,u.type=T,$E(l,u,T,b,S)):(l=ig(p.type,null,b,u,u.mode,S),l.ref=u.ref,l.return=u,u.child=l)}if(T=l.child,(l.lanes&S)===0){var z=T.memoizedProps;if(p=p.compare,p=p!==null?p:Hh,p(z,b)&&l.ref===u.ref)return Ba(l,u,S)}return u.flags|=1,l=Yo(T,b),l.ref=u.ref,l.return=u,u.child=l}function $E(l,u,p,b,S){if(l!==null){var T=l.memoizedProps;if(Hh(T,b)&&l.ref===u.ref)if(ns=!1,u.pendingProps=b=T,(l.lanes&S)!==0)(l.flags&131072)!==0&&(ns=!0);else return u.lanes=l.lanes,Ba(l,u,S)}return pv(l,u,p,b,S)}function qE(l,u,p){var b=u.pendingProps,S=b.children,T=l!==null?l.memoizedState:null;if(b.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},on(Qu,Ts),Ts|=p;else{if((p&1073741824)===0)return l=T!==null?T.baseLanes|p:p,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:l,cachePool:null,transitions:null},u.updateQueue=null,on(Qu,Ts),Ts|=l,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},b=T!==null?T.baseLanes:p,on(Qu,Ts),Ts|=b}else T!==null?(b=T.baseLanes|p,u.memoizedState=null):b=p,on(Qu,Ts),Ts|=b;return zr(l,u,S,p),u.child}function HE(l,u){var p=u.ref;(l===null&&p!==null||l!==null&&l.ref!==p)&&(u.flags|=512,u.flags|=2097152)}function pv(l,u,p,b,S){var T=ts(p)?dc:Cr.current;return T=Vu(u,T),Hu(u,S),p=iv(l,u,p,b,T,S),b=av(),l!==null&&!ns?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~S,Ba(l,u,S)):(xn&&b&&B0(u),u.flags|=1,zr(l,u,p,S),u.child)}function WE(l,u,p,b,S){if(ts(p)){var T=!0;Ap(u)}else T=!1;if(Hu(u,S),u.stateNode===null)Gp(l,u),DE(u,p,b),hv(u,p,b,S),b=!0;else if(l===null){var z=u.stateNode,Q=u.memoizedProps;z.props=Q;var J=z.context,ce=p.contextType;typeof ce=="object"&&ce!==null?ce=qs(ce):(ce=ts(p)?dc:Cr.current,ce=Vu(u,ce));var je=p.getDerivedStateFromProps,_e=typeof je=="function"||typeof z.getSnapshotBeforeUpdate=="function";_e||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(Q!==b||J!==ce)&&ME(u,z,b,ce),$o=!1;var be=u.memoizedState;z.state=be,Vp(u,b,z,S),J=u.memoizedState,Q!==b||be!==J||es.current||$o?(typeof je=="function"&&(dv(u,p,je,b),J=u.memoizedState),(Q=$o||PE(u,p,Q,b,be,J,ce))?(_e||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount()),typeof z.componentDidMount=="function"&&(u.flags|=4194308)):(typeof z.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=b,u.memoizedState=J),z.props=b,z.state=J,z.context=ce,b=Q):(typeof z.componentDidMount=="function"&&(u.flags|=4194308),b=!1)}else{z=u.stateNode,lE(l,u),Q=u.memoizedProps,ce=u.type===u.elementType?Q:fi(u.type,Q),z.props=ce,_e=u.pendingProps,be=z.context,J=p.contextType,typeof J=="object"&&J!==null?J=qs(J):(J=ts(p)?dc:Cr.current,J=Vu(u,J));var Ue=p.getDerivedStateFromProps;(je=typeof Ue=="function"||typeof z.getSnapshotBeforeUpdate=="function")||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(Q!==_e||be!==J)&&ME(u,z,b,J),$o=!1,be=u.memoizedState,z.state=be,Vp(u,b,z,S);var We=u.memoizedState;Q!==_e||be!==We||es.current||$o?(typeof Ue=="function"&&(dv(u,p,Ue,b),We=u.memoizedState),(ce=$o||PE(u,p,ce,b,be,We,J)||!1)?(je||typeof z.UNSAFE_componentWillUpdate!="function"&&typeof z.componentWillUpdate!="function"||(typeof z.componentWillUpdate=="function"&&z.componentWillUpdate(b,We,J),typeof z.UNSAFE_componentWillUpdate=="function"&&z.UNSAFE_componentWillUpdate(b,We,J)),typeof z.componentDidUpdate=="function"&&(u.flags|=4),typeof z.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof z.componentDidUpdate!="function"||Q===l.memoizedProps&&be===l.memoizedState||(u.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||Q===l.memoizedProps&&be===l.memoizedState||(u.flags|=1024),u.memoizedProps=b,u.memoizedState=We),z.props=b,z.state=We,z.context=J,b=ce):(typeof z.componentDidUpdate!="function"||Q===l.memoizedProps&&be===l.memoizedState||(u.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||Q===l.memoizedProps&&be===l.memoizedState||(u.flags|=1024),b=!1)}return gv(l,u,p,b,T,S)}function gv(l,u,p,b,S,T){HE(l,u);var z=(u.flags&128)!==0;if(!b&&!z)return S&&JS(u,p,!1),Ba(l,u,T);b=u.stateNode,hU.current=u;var Q=z&&typeof p.getDerivedStateFromError!="function"?null:b.render();return u.flags|=1,l!==null&&z?(u.child=$u(u,l.child,null,T),u.child=$u(u,null,Q,T)):zr(l,u,Q,T),u.memoizedState=b.state,S&&JS(u,p,!0),u.child}function KE(l){var u=l.stateNode;u.pendingContext?QS(l,u.pendingContext,u.pendingContext!==u.context):u.context&&QS(l,u.context,!1),Z0(l,u.containerInfo)}function GE(l,u,p,b,S){return Bu(),W0(S),u.flags|=256,zr(l,u,p,b),u.child}var xv={dehydrated:null,treeContext:null,retryLane:0};function yv(l){return{baseLanes:l,cachePool:null,transitions:null}}function QE(l,u,p){var b=u.pendingProps,S=jn.current,T=!1,z=(u.flags&128)!==0,Q;if((Q=z)||(Q=l!==null&&l.memoizedState===null?!1:(S&2)!==0),Q?(T=!0,u.flags&=-129):(l===null||l.memoizedState!==null)&&(S|=1),on(jn,S&1),l===null)return H0(u),l=u.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((u.mode&1)===0?u.lanes=1:l.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(z=b.children,l=b.fallback,T?(b=u.mode,T=u.child,z={mode:"hidden",children:z},(b&1)===0&&T!==null?(T.childLanes=0,T.pendingProps=z):T=ag(z,b,0,null),l=wc(l,b,p,null),T.return=u,l.return=u,T.sibling=l,u.child=T,u.child.memoizedState=yv(p),u.memoizedState=xv,l):vv(u,z));if(S=l.memoizedState,S!==null&&(Q=S.dehydrated,Q!==null))return mU(l,u,z,b,Q,S,p);if(T){T=b.fallback,z=u.mode,S=l.child,Q=S.sibling;var J={mode:"hidden",children:b.children};return(z&1)===0&&u.child!==S?(b=u.child,b.childLanes=0,b.pendingProps=J,u.deletions=null):(b=Yo(S,J),b.subtreeFlags=S.subtreeFlags&14680064),Q!==null?T=Yo(Q,T):(T=wc(T,z,p,null),T.flags|=2),T.return=u,b.return=u,b.sibling=T,u.child=b,b=T,T=u.child,z=l.child.memoizedState,z=z===null?yv(p):{baseLanes:z.baseLanes|p,cachePool:null,transitions:z.transitions},T.memoizedState=z,T.childLanes=l.childLanes&~p,u.memoizedState=xv,b}return T=l.child,l=T.sibling,b=Yo(T,{mode:"visible",children:b.children}),(u.mode&1)===0&&(b.lanes=p),b.return=u,b.sibling=null,l!==null&&(p=u.deletions,p===null?(u.deletions=[l],u.flags|=16):p.push(l)),u.child=b,u.memoizedState=null,b}function vv(l,u){return u=ag({mode:"visible",children:u},l.mode,0,null),u.return=l,l.child=u}function Kp(l,u,p,b){return b!==null&&W0(b),$u(u,l.child,null,p),l=vv(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function mU(l,u,p,b,S,T,z){if(p)return u.flags&256?(u.flags&=-257,b=mv(Error(n(422))),Kp(l,u,z,b)):u.memoizedState!==null?(u.child=l.child,u.flags|=128,null):(T=b.fallback,S=u.mode,b=ag({mode:"visible",children:b.children},S,0,null),T=wc(T,S,z,null),T.flags|=2,b.return=u,T.return=u,b.sibling=T,u.child=b,(u.mode&1)!==0&&$u(u,l.child,null,z),u.child.memoizedState=yv(z),u.memoizedState=xv,T);if((u.mode&1)===0)return Kp(l,u,z,null);if(S.data==="$!"){if(b=S.nextSibling&&S.nextSibling.dataset,b)var Q=b.dgst;return b=Q,T=Error(n(419)),b=mv(T,b,void 0),Kp(l,u,z,b)}if(Q=(z&l.childLanes)!==0,ns||Q){if(b=or,b!==null){switch(z&-z){case 4:S=2;break;case 16:S=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:S=32;break;case 536870912:S=268435456;break;default:S=0}S=(S&(b.suspendedLanes|z))!==0?0:S,S!==0&&S!==T.retryLane&&(T.retryLane=S,Ua(l,S),xi(b,l,S,-1))}return Mv(),b=mv(Error(n(421))),Kp(l,u,z,b)}return S.data==="$?"?(u.flags|=128,u.child=l.child,u=EU.bind(null,l),S._reactRetry=u,null):(l=T.treeContext,ks=Vo(S.nextSibling),Cs=u,xn=!0,mi=null,l!==null&&(Bs[$s++]=Fa,Bs[$s++]=Va,Bs[$s++]=hc,Fa=l.id,Va=l.overflow,hc=u),u=vv(u,b.children),u.flags|=4096,u)}function YE(l,u,p){l.lanes|=u;var b=l.alternate;b!==null&&(b.lanes|=u),Y0(l.return,u,p)}function bv(l,u,p,b,S){var T=l.memoizedState;T===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:b,tail:p,tailMode:S}:(T.isBackwards=u,T.rendering=null,T.renderingStartTime=0,T.last=b,T.tail=p,T.tailMode=S)}function JE(l,u,p){var b=u.pendingProps,S=b.revealOrder,T=b.tail;if(zr(l,u,b.children,p),b=jn.current,(b&2)!==0)b=b&1|2,u.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&YE(l,p,u);else if(l.tag===19)YE(l,p,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}b&=1}if(on(jn,b),(u.mode&1)===0)u.memoizedState=null;else switch(S){case"forwards":for(p=u.child,S=null;p!==null;)l=p.alternate,l!==null&&Up(l)===null&&(S=p),p=p.sibling;p=S,p===null?(S=u.child,u.child=null):(S=p.sibling,p.sibling=null),bv(u,!1,S,p,T);break;case"backwards":for(p=null,S=u.child,u.child=null;S!==null;){if(l=S.alternate,l!==null&&Up(l)===null){u.child=S;break}l=S.sibling,S.sibling=p,p=S,S=l}bv(u,!0,p,null,T);break;case"together":bv(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Gp(l,u){(u.mode&1)===0&&l!==null&&(l.alternate=null,u.alternate=null,u.flags|=2)}function Ba(l,u,p){if(l!==null&&(u.dependencies=l.dependencies),xc|=u.lanes,(p&u.childLanes)===0)return null;if(l!==null&&u.child!==l.child)throw Error(n(153));if(u.child!==null){for(l=u.child,p=Yo(l,l.pendingProps),u.child=p,p.return=u;l.sibling!==null;)l=l.sibling,p=p.sibling=Yo(l,l.pendingProps),p.return=u;p.sibling=null}return u.child}function fU(l,u,p){switch(u.tag){case 3:KE(u),Bu();break;case 5:dE(u);break;case 1:ts(u.type)&&Ap(u);break;case 4:Z0(u,u.stateNode.containerInfo);break;case 10:var b=u.type._context,S=u.memoizedProps.value;on(Op,b._currentValue),b._currentValue=S;break;case 13:if(b=u.memoizedState,b!==null)return b.dehydrated!==null?(on(jn,jn.current&1),u.flags|=128,null):(p&u.child.childLanes)!==0?QE(l,u,p):(on(jn,jn.current&1),l=Ba(l,u,p),l!==null?l.sibling:null);on(jn,jn.current&1);break;case 19:if(b=(p&u.childLanes)!==0,(l.flags&128)!==0){if(b)return JE(l,u,p);u.flags|=128}if(S=u.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),on(jn,jn.current),b)break;return null;case 22:case 23:return u.lanes=0,qE(l,u,p)}return Ba(l,u,p)}var XE,wv,ZE,eC;XE=function(l,u){for(var p=u.child;p!==null;){if(p.tag===5||p.tag===6)l.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===u)break;for(;p.sibling===null;){if(p.return===null||p.return===u)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},wv=function(){},ZE=function(l,u,p,b){var S=l.memoizedProps;if(S!==b){l=u.stateNode,pc(Gi.current);var T=null;switch(p){case"input":S=kn(l,S),b=kn(l,b),T=[];break;case"select":S=B({},S,{value:void 0}),b=B({},b,{value:void 0}),T=[];break;case"textarea":S=Ca(l,S),b=Ca(l,b),T=[];break;default:typeof S.onClick!="function"&&typeof b.onClick=="function"&&(l.onclick=Cp)}yt(p,b);var z;p=null;for(ce in S)if(!b.hasOwnProperty(ce)&&S.hasOwnProperty(ce)&&S[ce]!=null)if(ce==="style"){var Q=S[ce];for(z in Q)Q.hasOwnProperty(z)&&(p||(p={}),p[z]="")}else ce!=="dangerouslySetInnerHTML"&&ce!=="children"&&ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&ce!=="autoFocus"&&(i.hasOwnProperty(ce)?T||(T=[]):(T=T||[]).push(ce,null));for(ce in b){var J=b[ce];if(Q=S!=null?S[ce]:void 0,b.hasOwnProperty(ce)&&J!==Q&&(J!=null||Q!=null))if(ce==="style")if(Q){for(z in Q)!Q.hasOwnProperty(z)||J&&J.hasOwnProperty(z)||(p||(p={}),p[z]="");for(z in J)J.hasOwnProperty(z)&&Q[z]!==J[z]&&(p||(p={}),p[z]=J[z])}else p||(T||(T=[]),T.push(ce,p)),p=J;else ce==="dangerouslySetInnerHTML"?(J=J?J.__html:void 0,Q=Q?Q.__html:void 0,J!=null&&Q!==J&&(T=T||[]).push(ce,J)):ce==="children"?typeof J!="string"&&typeof J!="number"||(T=T||[]).push(ce,""+J):ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&(i.hasOwnProperty(ce)?(J!=null&&ce==="onScroll"&&mn("scroll",l),T||Q===J||(T=[])):(T=T||[]).push(ce,J))}p&&(T=T||[]).push("style",p);var ce=T;(u.updateQueue=ce)&&(u.flags|=4)}},eC=function(l,u,p,b){p!==b&&(u.flags|=4)};function am(l,u){if(!xn)switch(l.tailMode){case"hidden":u=l.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?l.tail=null:p.sibling=null;break;case"collapsed":p=l.tail;for(var b=null;p!==null;)p.alternate!==null&&(b=p),p=p.sibling;b===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:b.sibling=null}}function Tr(l){var u=l.alternate!==null&&l.alternate.child===l.child,p=0,b=0;if(u)for(var S=l.child;S!==null;)p|=S.lanes|S.childLanes,b|=S.subtreeFlags&14680064,b|=S.flags&14680064,S.return=l,S=S.sibling;else for(S=l.child;S!==null;)p|=S.lanes|S.childLanes,b|=S.subtreeFlags,b|=S.flags,S.return=l,S=S.sibling;return l.subtreeFlags|=b,l.childLanes=p,u}function pU(l,u,p){var b=u.pendingProps;switch($0(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tr(u),null;case 1:return ts(u.type)&&Tp(),Tr(u),null;case 3:return b=u.stateNode,Wu(),fn(es),fn(Cr),nv(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(l===null||l.child===null)&&(Dp(u)?u.flags|=4:l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,mi!==null&&(Rv(mi),mi=null))),wv(l,u),Tr(u),null;case 5:ev(u);var S=pc(tm.current);if(p=u.type,l!==null&&u.stateNode!=null)ZE(l,u,p,b,S),l.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!b){if(u.stateNode===null)throw Error(n(166));return Tr(u),null}if(l=pc(Gi.current),Dp(u)){b=u.stateNode,p=u.type;var T=u.memoizedProps;switch(b[Ki]=u,b[Yh]=T,l=(u.mode&1)!==0,p){case"dialog":mn("cancel",b),mn("close",b);break;case"iframe":case"object":case"embed":mn("load",b);break;case"video":case"audio":for(S=0;S<Kh.length;S++)mn(Kh[S],b);break;case"source":mn("error",b);break;case"img":case"image":case"link":mn("error",b),mn("load",b);break;case"details":mn("toggle",b);break;case"input":jr(b,T),mn("invalid",b);break;case"select":b._wrapperState={wasMultiple:!!T.multiple},mn("invalid",b);break;case"textarea":Ii(b,T),mn("invalid",b)}yt(p,T),S=null;for(var z in T)if(T.hasOwnProperty(z)){var Q=T[z];z==="children"?typeof Q=="string"?b.textContent!==Q&&(T.suppressHydrationWarning!==!0&&Ep(b.textContent,Q,l),S=["children",Q]):typeof Q=="number"&&b.textContent!==""+Q&&(T.suppressHydrationWarning!==!0&&Ep(b.textContent,Q,l),S=["children",""+Q]):i.hasOwnProperty(z)&&Q!=null&&z==="onScroll"&&mn("scroll",b)}switch(p){case"input":qe(b),ys(b,T,!0);break;case"textarea":qe(b),Us(b);break;case"select":case"option":break;default:typeof T.onClick=="function"&&(b.onclick=Cp)}b=S,u.updateQueue=b,b!==null&&(u.flags|=4)}else{z=S.nodeType===9?S:S.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=fe(p)),l==="http://www.w3.org/1999/xhtml"?p==="script"?(l=z.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof b.is=="string"?l=z.createElement(p,{is:b.is}):(l=z.createElement(p),p==="select"&&(z=l,b.multiple?z.multiple=!0:b.size&&(z.size=b.size))):l=z.createElementNS(l,p),l[Ki]=u,l[Yh]=b,XE(l,u,!1,!1),u.stateNode=l;e:{switch(z=dt(p,b),p){case"dialog":mn("cancel",l),mn("close",l),S=b;break;case"iframe":case"object":case"embed":mn("load",l),S=b;break;case"video":case"audio":for(S=0;S<Kh.length;S++)mn(Kh[S],l);S=b;break;case"source":mn("error",l),S=b;break;case"img":case"image":case"link":mn("error",l),mn("load",l),S=b;break;case"details":mn("toggle",l),S=b;break;case"input":jr(l,b),S=kn(l,b),mn("invalid",l);break;case"option":S=b;break;case"select":l._wrapperState={wasMultiple:!!b.multiple},S=B({},b,{value:void 0}),mn("invalid",l);break;case"textarea":Ii(l,b),S=Ca(l,b),mn("invalid",l);break;default:S=b}yt(p,S),Q=S;for(T in Q)if(Q.hasOwnProperty(T)){var J=Q[T];T==="style"?nt(l,J):T==="dangerouslySetInnerHTML"?(J=J?J.__html:void 0,J!=null&&wt(l,J)):T==="children"?typeof J=="string"?(p!=="textarea"||J!=="")&&Tt(l,J):typeof J=="number"&&Tt(l,""+J):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(i.hasOwnProperty(T)?J!=null&&T==="onScroll"&&mn("scroll",l):J!=null&&k(l,T,J,z))}switch(p){case"input":qe(l),ys(l,b,!1);break;case"textarea":qe(l),Us(l);break;case"option":b.value!=null&&l.setAttribute("value",""+Se(b.value));break;case"select":l.multiple=!!b.multiple,T=b.value,T!=null?Lr(l,!!b.multiple,T,!1):b.defaultValue!=null&&Lr(l,!!b.multiple,b.defaultValue,!0);break;default:typeof S.onClick=="function"&&(l.onclick=Cp)}switch(p){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}}b&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return Tr(u),null;case 6:if(l&&u.stateNode!=null)eC(l,u,l.memoizedProps,b);else{if(typeof b!="string"&&u.stateNode===null)throw Error(n(166));if(p=pc(tm.current),pc(Gi.current),Dp(u)){if(b=u.stateNode,p=u.memoizedProps,b[Ki]=u,(T=b.nodeValue!==p)&&(l=Cs,l!==null))switch(l.tag){case 3:Ep(b.nodeValue,p,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&Ep(b.nodeValue,p,(l.mode&1)!==0)}T&&(u.flags|=4)}else b=(p.nodeType===9?p:p.ownerDocument).createTextNode(b),b[Ki]=u,u.stateNode=b}return Tr(u),null;case 13:if(fn(jn),b=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(xn&&ks!==null&&(u.mode&1)!==0&&(u.flags&128)===0)rE(),Bu(),u.flags|=98560,T=!1;else if(T=Dp(u),b!==null&&b.dehydrated!==null){if(l===null){if(!T)throw Error(n(318));if(T=u.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(n(317));T[Ki]=u}else Bu(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Tr(u),T=!1}else mi!==null&&(Rv(mi),mi=null),T=!0;if(!T)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=p,u):(b=b!==null,b!==(l!==null&&l.memoizedState!==null)&&b&&(u.child.flags|=8192,(u.mode&1)!==0&&(l===null||(jn.current&1)!==0?er===0&&(er=3):Mv())),u.updateQueue!==null&&(u.flags|=4),Tr(u),null);case 4:return Wu(),wv(l,u),l===null&&Gh(u.stateNode.containerInfo),Tr(u),null;case 10:return Q0(u.type._context),Tr(u),null;case 17:return ts(u.type)&&Tp(),Tr(u),null;case 19:if(fn(jn),T=u.memoizedState,T===null)return Tr(u),null;if(b=(u.flags&128)!==0,z=T.rendering,z===null)if(b)am(T,!1);else{if(er!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if(z=Up(l),z!==null){for(u.flags|=128,am(T,!1),b=z.updateQueue,b!==null&&(u.updateQueue=b,u.flags|=4),u.subtreeFlags=0,b=p,p=u.child;p!==null;)T=p,l=b,T.flags&=14680066,z=T.alternate,z===null?(T.childLanes=0,T.lanes=l,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=z.childLanes,T.lanes=z.lanes,T.child=z.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=z.memoizedProps,T.memoizedState=z.memoizedState,T.updateQueue=z.updateQueue,T.type=z.type,l=z.dependencies,T.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),p=p.sibling;return on(jn,jn.current&1|2),u.child}l=l.sibling}T.tail!==null&&hn()>Yu&&(u.flags|=128,b=!0,am(T,!1),u.lanes=4194304)}else{if(!b)if(l=Up(z),l!==null){if(u.flags|=128,b=!0,p=l.updateQueue,p!==null&&(u.updateQueue=p,u.flags|=4),am(T,!0),T.tail===null&&T.tailMode==="hidden"&&!z.alternate&&!xn)return Tr(u),null}else 2*hn()-T.renderingStartTime>Yu&&p!==1073741824&&(u.flags|=128,b=!0,am(T,!1),u.lanes=4194304);T.isBackwards?(z.sibling=u.child,u.child=z):(p=T.last,p!==null?p.sibling=z:u.child=z,T.last=z)}return T.tail!==null?(u=T.tail,T.rendering=u,T.tail=u.sibling,T.renderingStartTime=hn(),u.sibling=null,p=jn.current,on(jn,b?p&1|2:p&1),u):(Tr(u),null);case 22:case 23:return Dv(),b=u.memoizedState!==null,l!==null&&l.memoizedState!==null!==b&&(u.flags|=8192),b&&(u.mode&1)!==0?(Ts&1073741824)!==0&&(Tr(u),u.subtreeFlags&6&&(u.flags|=8192)):Tr(u),null;case 24:return null;case 25:return null}throw Error(n(156,u.tag))}function gU(l,u){switch($0(u),u.tag){case 1:return ts(u.type)&&Tp(),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return Wu(),fn(es),fn(Cr),nv(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 5:return ev(u),null;case 13:if(fn(jn),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(n(340));Bu()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return fn(jn),null;case 4:return Wu(),null;case 10:return Q0(u.type._context),null;case 22:case 23:return Dv(),null;case 24:return null;default:return null}}var Qp=!1,Ar=!1,xU=typeof WeakSet=="function"?WeakSet:Set,$e=null;function Gu(l,u){var p=l.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(b){Tn(l,u,b)}else p.current=null}function jv(l,u,p){try{p()}catch(b){Tn(l,u,b)}}var tC=!1;function yU(l,u){if(D0=Pa,l=PS(),E0(l)){if("selectionStart"in l)var p={start:l.selectionStart,end:l.selectionEnd};else e:{p=(p=l.ownerDocument)&&p.defaultView||window;var b=p.getSelection&&p.getSelection();if(b&&b.rangeCount!==0){p=b.anchorNode;var S=b.anchorOffset,T=b.focusNode;b=b.focusOffset;try{p.nodeType,T.nodeType}catch{p=null;break e}var z=0,Q=-1,J=-1,ce=0,je=0,_e=l,be=null;t:for(;;){for(var Ue;_e!==p||S!==0&&_e.nodeType!==3||(Q=z+S),_e!==T||b!==0&&_e.nodeType!==3||(J=z+b),_e.nodeType===3&&(z+=_e.nodeValue.length),(Ue=_e.firstChild)!==null;)be=_e,_e=Ue;for(;;){if(_e===l)break t;if(be===p&&++ce===S&&(Q=z),be===T&&++je===b&&(J=z),(Ue=_e.nextSibling)!==null)break;_e=be,be=_e.parentNode}_e=Ue}p=Q===-1||J===-1?null:{start:Q,end:J}}else p=null}p=p||{start:0,end:0}}else p=null;for(M0={focusedElem:l,selectionRange:p},Pa=!1,$e=u;$e!==null;)if(u=$e,l=u.child,(u.subtreeFlags&1028)!==0&&l!==null)l.return=u,$e=l;else for(;$e!==null;){u=$e;try{var We=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(We!==null){var Qe=We.memoizedProps,Ln=We.memoizedState,ae=u.stateNode,ee=ae.getSnapshotBeforeUpdate(u.elementType===u.type?Qe:fi(u.type,Qe),Ln);ae.__reactInternalSnapshotBeforeUpdate=ee}break;case 3:var le=u.stateNode.containerInfo;le.nodeType===1?le.textContent="":le.nodeType===9&&le.documentElement&&le.removeChild(le.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ke){Tn(u,u.return,ke)}if(l=u.sibling,l!==null){l.return=u.return,$e=l;break}$e=u.return}return We=tC,tC=!1,We}function om(l,u,p){var b=u.updateQueue;if(b=b!==null?b.lastEffect:null,b!==null){var S=b=b.next;do{if((S.tag&l)===l){var T=S.destroy;S.destroy=void 0,T!==void 0&&jv(u,p,T)}S=S.next}while(S!==b)}}function Yp(l,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var p=u=u.next;do{if((p.tag&l)===l){var b=p.create;p.destroy=b()}p=p.next}while(p!==u)}}function Nv(l){var u=l.ref;if(u!==null){var p=l.stateNode;switch(l.tag){case 5:l=p;break;default:l=p}typeof u=="function"?u(l):u.current=l}}function nC(l){var u=l.alternate;u!==null&&(l.alternate=null,nC(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&(delete u[Ki],delete u[Yh],delete u[V0],delete u[eU],delete u[tU])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function rC(l){return l.tag===5||l.tag===3||l.tag===4}function sC(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||rC(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function _v(l,u,p){var b=l.tag;if(b===5||b===6)l=l.stateNode,u?p.nodeType===8?p.parentNode.insertBefore(l,u):p.insertBefore(l,u):(p.nodeType===8?(u=p.parentNode,u.insertBefore(l,p)):(u=p,u.appendChild(l)),p=p._reactRootContainer,p!=null||u.onclick!==null||(u.onclick=Cp));else if(b!==4&&(l=l.child,l!==null))for(_v(l,u,p),l=l.sibling;l!==null;)_v(l,u,p),l=l.sibling}function Sv(l,u,p){var b=l.tag;if(b===5||b===6)l=l.stateNode,u?p.insertBefore(l,u):p.appendChild(l);else if(b!==4&&(l=l.child,l!==null))for(Sv(l,u,p),l=l.sibling;l!==null;)Sv(l,u,p),l=l.sibling}var pr=null,pi=!1;function Ho(l,u,p){for(p=p.child;p!==null;)iC(l,u,p),p=p.sibling}function iC(l,u,p){if(ws&&typeof ws.onCommitFiberUnmount=="function")try{ws.onCommitFiberUnmount(tc,p)}catch{}switch(p.tag){case 5:Ar||Gu(p,u);case 6:var b=pr,S=pi;pr=null,Ho(l,u,p),pr=b,pi=S,pr!==null&&(pi?(l=pr,p=p.stateNode,l.nodeType===8?l.parentNode.removeChild(p):l.removeChild(p)):pr.removeChild(p.stateNode));break;case 18:pr!==null&&(pi?(l=pr,p=p.stateNode,l.nodeType===8?F0(l.parentNode,p):l.nodeType===1&&F0(l,p),Mo(l)):F0(pr,p.stateNode));break;case 4:b=pr,S=pi,pr=p.stateNode.containerInfo,pi=!0,Ho(l,u,p),pr=b,pi=S;break;case 0:case 11:case 14:case 15:if(!Ar&&(b=p.updateQueue,b!==null&&(b=b.lastEffect,b!==null))){S=b=b.next;do{var T=S,z=T.destroy;T=T.tag,z!==void 0&&((T&2)!==0||(T&4)!==0)&&jv(p,u,z),S=S.next}while(S!==b)}Ho(l,u,p);break;case 1:if(!Ar&&(Gu(p,u),b=p.stateNode,typeof b.componentWillUnmount=="function"))try{b.props=p.memoizedProps,b.state=p.memoizedState,b.componentWillUnmount()}catch(Q){Tn(p,u,Q)}Ho(l,u,p);break;case 21:Ho(l,u,p);break;case 22:p.mode&1?(Ar=(b=Ar)||p.memoizedState!==null,Ho(l,u,p),Ar=b):Ho(l,u,p);break;default:Ho(l,u,p)}}function aC(l){var u=l.updateQueue;if(u!==null){l.updateQueue=null;var p=l.stateNode;p===null&&(p=l.stateNode=new xU),u.forEach(function(b){var S=CU.bind(null,l,b);p.has(b)||(p.add(b),b.then(S,S))})}}function gi(l,u){var p=u.deletions;if(p!==null)for(var b=0;b<p.length;b++){var S=p[b];try{var T=l,z=u,Q=z;e:for(;Q!==null;){switch(Q.tag){case 5:pr=Q.stateNode,pi=!1;break e;case 3:pr=Q.stateNode.containerInfo,pi=!0;break e;case 4:pr=Q.stateNode.containerInfo,pi=!0;break e}Q=Q.return}if(pr===null)throw Error(n(160));iC(T,z,S),pr=null,pi=!1;var J=S.alternate;J!==null&&(J.return=null),S.return=null}catch(ce){Tn(S,u,ce)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)oC(u,l),u=u.sibling}function oC(l,u){var p=l.alternate,b=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(gi(u,l),Yi(l),b&4){try{om(3,l,l.return),Yp(3,l)}catch(Qe){Tn(l,l.return,Qe)}try{om(5,l,l.return)}catch(Qe){Tn(l,l.return,Qe)}}break;case 1:gi(u,l),Yi(l),b&512&&p!==null&&Gu(p,p.return);break;case 5:if(gi(u,l),Yi(l),b&512&&p!==null&&Gu(p,p.return),l.flags&32){var S=l.stateNode;try{Tt(S,"")}catch(Qe){Tn(l,l.return,Qe)}}if(b&4&&(S=l.stateNode,S!=null)){var T=l.memoizedProps,z=p!==null?p.memoizedProps:T,Q=l.type,J=l.updateQueue;if(l.updateQueue=null,J!==null)try{Q==="input"&&T.type==="radio"&&T.name!=null&&$n(S,T),dt(Q,z);var ce=dt(Q,T);for(z=0;z<J.length;z+=2){var je=J[z],_e=J[z+1];je==="style"?nt(S,_e):je==="dangerouslySetInnerHTML"?wt(S,_e):je==="children"?Tt(S,_e):k(S,je,_e,ce)}switch(Q){case"input":Jn(S,T);break;case"textarea":Ri(S,T);break;case"select":var be=S._wrapperState.wasMultiple;S._wrapperState.wasMultiple=!!T.multiple;var Ue=T.value;Ue!=null?Lr(S,!!T.multiple,Ue,!1):be!==!!T.multiple&&(T.defaultValue!=null?Lr(S,!!T.multiple,T.defaultValue,!0):Lr(S,!!T.multiple,T.multiple?[]:"",!1))}S[Yh]=T}catch(Qe){Tn(l,l.return,Qe)}}break;case 6:if(gi(u,l),Yi(l),b&4){if(l.stateNode===null)throw Error(n(162));S=l.stateNode,T=l.memoizedProps;try{S.nodeValue=T}catch(Qe){Tn(l,l.return,Qe)}}break;case 3:if(gi(u,l),Yi(l),b&4&&p!==null&&p.memoizedState.isDehydrated)try{Mo(u.containerInfo)}catch(Qe){Tn(l,l.return,Qe)}break;case 4:gi(u,l),Yi(l);break;case 13:gi(u,l),Yi(l),S=l.child,S.flags&8192&&(T=S.memoizedState!==null,S.stateNode.isHidden=T,!T||S.alternate!==null&&S.alternate.memoizedState!==null||(kv=hn())),b&4&&aC(l);break;case 22:if(je=p!==null&&p.memoizedState!==null,l.mode&1?(Ar=(ce=Ar)||je,gi(u,l),Ar=ce):gi(u,l),Yi(l),b&8192){if(ce=l.memoizedState!==null,(l.stateNode.isHidden=ce)&&!je&&(l.mode&1)!==0)for($e=l,je=l.child;je!==null;){for(_e=$e=je;$e!==null;){switch(be=$e,Ue=be.child,be.tag){case 0:case 11:case 14:case 15:om(4,be,be.return);break;case 1:Gu(be,be.return);var We=be.stateNode;if(typeof We.componentWillUnmount=="function"){b=be,p=be.return;try{u=b,We.props=u.memoizedProps,We.state=u.memoizedState,We.componentWillUnmount()}catch(Qe){Tn(b,p,Qe)}}break;case 5:Gu(be,be.return);break;case 22:if(be.memoizedState!==null){uC(_e);continue}}Ue!==null?(Ue.return=be,$e=Ue):uC(_e)}je=je.sibling}e:for(je=null,_e=l;;){if(_e.tag===5){if(je===null){je=_e;try{S=_e.stateNode,ce?(T=S.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none"):(Q=_e.stateNode,J=_e.memoizedProps.style,z=J!=null&&J.hasOwnProperty("display")?J.display:null,Q.style.display=He("display",z))}catch(Qe){Tn(l,l.return,Qe)}}}else if(_e.tag===6){if(je===null)try{_e.stateNode.nodeValue=ce?"":_e.memoizedProps}catch(Qe){Tn(l,l.return,Qe)}}else if((_e.tag!==22&&_e.tag!==23||_e.memoizedState===null||_e===l)&&_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===l)break e;for(;_e.sibling===null;){if(_e.return===null||_e.return===l)break e;je===_e&&(je=null),_e=_e.return}je===_e&&(je=null),_e.sibling.return=_e.return,_e=_e.sibling}}break;case 19:gi(u,l),Yi(l),b&4&&aC(l);break;case 21:break;default:gi(u,l),Yi(l)}}function Yi(l){var u=l.flags;if(u&2){try{e:{for(var p=l.return;p!==null;){if(rC(p)){var b=p;break e}p=p.return}throw Error(n(160))}switch(b.tag){case 5:var S=b.stateNode;b.flags&32&&(Tt(S,""),b.flags&=-33);var T=sC(l);Sv(l,T,S);break;case 3:case 4:var z=b.stateNode.containerInfo,Q=sC(l);_v(l,Q,z);break;default:throw Error(n(161))}}catch(J){Tn(l,l.return,J)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function vU(l,u,p){$e=l,lC(l)}function lC(l,u,p){for(var b=(l.mode&1)!==0;$e!==null;){var S=$e,T=S.child;if(S.tag===22&&b){var z=S.memoizedState!==null||Qp;if(!z){var Q=S.alternate,J=Q!==null&&Q.memoizedState!==null||Ar;Q=Qp;var ce=Ar;if(Qp=z,(Ar=J)&&!ce)for($e=S;$e!==null;)z=$e,J=z.child,z.tag===22&&z.memoizedState!==null?dC(S):J!==null?(J.return=z,$e=J):dC(S);for(;T!==null;)$e=T,lC(T),T=T.sibling;$e=S,Qp=Q,Ar=ce}cC(l)}else(S.subtreeFlags&8772)!==0&&T!==null?(T.return=S,$e=T):cC(l)}}function cC(l){for(;$e!==null;){var u=$e;if((u.flags&8772)!==0){var p=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:Ar||Yp(5,u);break;case 1:var b=u.stateNode;if(u.flags&4&&!Ar)if(p===null)b.componentDidMount();else{var S=u.elementType===u.type?p.memoizedProps:fi(u.type,p.memoizedProps);b.componentDidUpdate(S,p.memoizedState,b.__reactInternalSnapshotBeforeUpdate)}var T=u.updateQueue;T!==null&&uE(u,T,b);break;case 3:var z=u.updateQueue;if(z!==null){if(p=null,u.child!==null)switch(u.child.tag){case 5:p=u.child.stateNode;break;case 1:p=u.child.stateNode}uE(u,z,p)}break;case 5:var Q=u.stateNode;if(p===null&&u.flags&4){p=Q;var J=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":J.autoFocus&&p.focus();break;case"img":J.src&&(p.src=J.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var ce=u.alternate;if(ce!==null){var je=ce.memoizedState;if(je!==null){var _e=je.dehydrated;_e!==null&&Mo(_e)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Ar||u.flags&512&&Nv(u)}catch(be){Tn(u,u.return,be)}}if(u===l){$e=null;break}if(p=u.sibling,p!==null){p.return=u.return,$e=p;break}$e=u.return}}function uC(l){for(;$e!==null;){var u=$e;if(u===l){$e=null;break}var p=u.sibling;if(p!==null){p.return=u.return,$e=p;break}$e=u.return}}function dC(l){for(;$e!==null;){var u=$e;try{switch(u.tag){case 0:case 11:case 15:var p=u.return;try{Yp(4,u)}catch(J){Tn(u,p,J)}break;case 1:var b=u.stateNode;if(typeof b.componentDidMount=="function"){var S=u.return;try{b.componentDidMount()}catch(J){Tn(u,S,J)}}var T=u.return;try{Nv(u)}catch(J){Tn(u,T,J)}break;case 5:var z=u.return;try{Nv(u)}catch(J){Tn(u,z,J)}}}catch(J){Tn(u,u.return,J)}if(u===l){$e=null;break}var Q=u.sibling;if(Q!==null){Q.return=u.return,$e=Q;break}$e=u.return}}var bU=Math.ceil,Jp=C.ReactCurrentDispatcher,Ev=C.ReactCurrentOwner,Ws=C.ReactCurrentBatchConfig,Vt=0,or=null,Hn=null,gr=0,Ts=0,Qu=Uo(0),er=0,lm=null,xc=0,Xp=0,Cv=0,cm=null,rs=null,kv=0,Yu=1/0,$a=null,Zp=!1,Tv=null,Wo=null,eg=!1,Ko=null,tg=0,um=0,Av=null,ng=-1,rg=0;function Br(){return(Vt&6)!==0?hn():ng!==-1?ng:ng=hn()}function Go(l){return(l.mode&1)===0?1:(Vt&2)!==0&&gr!==0?gr&-gr:rU.transition!==null?(rg===0&&(rg=Ih()),rg):(l=Ot,l!==0||(l=window.event,l=l===void 0?16:Su(l.type)),l)}function xi(l,u,p,b){if(50<um)throw um=0,Av=null,Error(n(185));ic(l,p,b),((Vt&2)===0||l!==or)&&(l===or&&((Vt&2)===0&&(Xp|=p),er===4&&Qo(l,gr)),ss(l,b),p===1&&Vt===0&&(u.mode&1)===0&&(Yu=hn()+500,Ip&&Bo()))}function ss(l,u){var p=l.callbackNode;sc(l,u);var b=Aa(l,l===or?gr:0);if(b===0)p!==null&&yu(p),l.callbackNode=null,l.callbackPriority=0;else if(u=b&-b,l.callbackPriority!==u){if(p!=null&&yu(p),u===1)l.tag===0?nU(mC.bind(null,l)):XS(mC.bind(null,l)),XV(function(){(Vt&6)===0&&Bo()}),p=null;else{switch(Li(b)){case 1:p=vu;break;case 4:p=kh;break;case 16:p=ec;break;case 536870912:p=bu;break;default:p=ec}p=wC(p,hC.bind(null,l))}l.callbackPriority=u,l.callbackNode=p}}function hC(l,u){if(ng=-1,rg=0,(Vt&6)!==0)throw Error(n(327));var p=l.callbackNode;if(Ju()&&l.callbackNode!==p)return null;var b=Aa(l,l===or?gr:0);if(b===0)return null;if((b&30)!==0||(b&l.expiredLanes)!==0||u)u=sg(l,b);else{u=b;var S=Vt;Vt|=2;var T=pC();(or!==l||gr!==u)&&($a=null,Yu=hn()+500,vc(l,u));do try{NU();break}catch(Q){fC(l,Q)}while(!0);G0(),Jp.current=T,Vt=S,Hn!==null?u=0:(or=null,gr=0,u=er)}if(u!==0){if(u===2&&(S=Ah(l),S!==0&&(b=S,u=Iv(l,S))),u===1)throw p=lm,vc(l,0),Qo(l,b),ss(l,hn()),p;if(u===6)Qo(l,b);else{if(S=l.current.alternate,(b&30)===0&&!wU(S)&&(u=sg(l,b),u===2&&(T=Ah(l),T!==0&&(b=T,u=Iv(l,T))),u===1))throw p=lm,vc(l,0),Qo(l,b),ss(l,hn()),p;switch(l.finishedWork=S,l.finishedLanes=b,u){case 0:case 1:throw Error(n(345));case 2:bc(l,rs,$a);break;case 3:if(Qo(l,b),(b&130023424)===b&&(u=kv+500-hn(),10<u)){if(Aa(l,0)!==0)break;if(S=l.suspendedLanes,(S&b)!==b){Br(),l.pingedLanes|=l.suspendedLanes&S;break}l.timeoutHandle=L0(bc.bind(null,l,rs,$a),u);break}bc(l,rs,$a);break;case 4:if(Qo(l,b),(b&4194240)===b)break;for(u=l.eventTimes,S=-1;0<b;){var z=31-js(b);T=1<<z,z=u[z],z>S&&(S=z),b&=~T}if(b=S,b=hn()-b,b=(120>b?120:480>b?480:1080>b?1080:1920>b?1920:3e3>b?3e3:4320>b?4320:1960*bU(b/1960))-b,10<b){l.timeoutHandle=L0(bc.bind(null,l,rs,$a),b);break}bc(l,rs,$a);break;case 5:bc(l,rs,$a);break;default:throw Error(n(329))}}}return ss(l,hn()),l.callbackNode===p?hC.bind(null,l):null}function Iv(l,u){var p=cm;return l.current.memoizedState.isDehydrated&&(vc(l,u).flags|=256),l=sg(l,u),l!==2&&(u=rs,rs=p,u!==null&&Rv(u)),l}function Rv(l){rs===null?rs=l:rs.push.apply(rs,l)}function wU(l){for(var u=l;;){if(u.flags&16384){var p=u.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var b=0;b<p.length;b++){var S=p[b],T=S.getSnapshot;S=S.value;try{if(!hi(T(),S))return!1}catch{return!1}}}if(p=u.child,u.subtreeFlags&16384&&p!==null)p.return=u,u=p;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Qo(l,u){for(u&=~Cv,u&=~Xp,l.suspendedLanes|=u,l.pingedLanes&=~u,l=l.expirationTimes;0<u;){var p=31-js(u),b=1<<p;l[p]=-1,u&=~b}}function mC(l){if((Vt&6)!==0)throw Error(n(327));Ju();var u=Aa(l,0);if((u&1)===0)return ss(l,hn()),null;var p=sg(l,u);if(l.tag!==0&&p===2){var b=Ah(l);b!==0&&(u=b,p=Iv(l,b))}if(p===1)throw p=lm,vc(l,0),Qo(l,u),ss(l,hn()),p;if(p===6)throw Error(n(345));return l.finishedWork=l.current.alternate,l.finishedLanes=u,bc(l,rs,$a),ss(l,hn()),null}function Pv(l,u){var p=Vt;Vt|=1;try{return l(u)}finally{Vt=p,Vt===0&&(Yu=hn()+500,Ip&&Bo())}}function yc(l){Ko!==null&&Ko.tag===0&&(Vt&6)===0&&Ju();var u=Vt;Vt|=1;var p=Ws.transition,b=Ot;try{if(Ws.transition=null,Ot=1,l)return l()}finally{Ot=b,Ws.transition=p,Vt=u,(Vt&6)===0&&Bo()}}function Dv(){Ts=Qu.current,fn(Qu)}function vc(l,u){l.finishedWork=null,l.finishedLanes=0;var p=l.timeoutHandle;if(p!==-1&&(l.timeoutHandle=-1,JV(p)),Hn!==null)for(p=Hn.return;p!==null;){var b=p;switch($0(b),b.tag){case 1:b=b.type.childContextTypes,b!=null&&Tp();break;case 3:Wu(),fn(es),fn(Cr),nv();break;case 5:ev(b);break;case 4:Wu();break;case 13:fn(jn);break;case 19:fn(jn);break;case 10:Q0(b.type._context);break;case 22:case 23:Dv()}p=p.return}if(or=l,Hn=l=Yo(l.current,null),gr=Ts=u,er=0,lm=null,Cv=Xp=xc=0,rs=cm=null,fc!==null){for(u=0;u<fc.length;u++)if(p=fc[u],b=p.interleaved,b!==null){p.interleaved=null;var S=b.next,T=p.pending;if(T!==null){var z=T.next;T.next=S,b.next=z}p.pending=b}fc=null}return l}function fC(l,u){do{var p=Hn;try{if(G0(),zp.current=Hp,Bp){for(var b=Nn.memoizedState;b!==null;){var S=b.queue;S!==null&&(S.pending=null),b=b.next}Bp=!1}if(gc=0,ar=Zn=Nn=null,nm=!1,rm=0,Ev.current=null,p===null||p.return===null){er=1,lm=u,Hn=null;break}e:{var T=l,z=p.return,Q=p,J=u;if(u=gr,Q.flags|=32768,J!==null&&typeof J=="object"&&typeof J.then=="function"){var ce=J,je=Q,_e=je.tag;if((je.mode&1)===0&&(_e===0||_e===11||_e===15)){var be=je.alternate;be?(je.updateQueue=be.updateQueue,je.memoizedState=be.memoizedState,je.lanes=be.lanes):(je.updateQueue=null,je.memoizedState=null)}var Ue=VE(z);if(Ue!==null){Ue.flags&=-257,UE(Ue,z,Q,T,u),Ue.mode&1&&FE(T,ce,u),u=Ue,J=ce;var We=u.updateQueue;if(We===null){var Qe=new Set;Qe.add(J),u.updateQueue=Qe}else We.add(J);break e}else{if((u&1)===0){FE(T,ce,u),Mv();break e}J=Error(n(426))}}else if(xn&&Q.mode&1){var Ln=VE(z);if(Ln!==null){(Ln.flags&65536)===0&&(Ln.flags|=256),UE(Ln,z,Q,T,u),W0(Ku(J,Q));break e}}T=J=Ku(J,Q),er!==4&&(er=2),cm===null?cm=[T]:cm.push(T),T=z;do{switch(T.tag){case 3:T.flags|=65536,u&=-u,T.lanes|=u;var ae=OE(T,J,u);cE(T,ae);break e;case 1:Q=J;var ee=T.type,le=T.stateNode;if((T.flags&128)===0&&(typeof ee.getDerivedStateFromError=="function"||le!==null&&typeof le.componentDidCatch=="function"&&(Wo===null||!Wo.has(le)))){T.flags|=65536,u&=-u,T.lanes|=u;var ke=LE(T,Q,u);cE(T,ke);break e}}T=T.return}while(T!==null)}xC(p)}catch(Ye){u=Ye,Hn===p&&p!==null&&(Hn=p=p.return);continue}break}while(!0)}function pC(){var l=Jp.current;return Jp.current=Hp,l===null?Hp:l}function Mv(){(er===0||er===3||er===2)&&(er=4),or===null||(xc&268435455)===0&&(Xp&268435455)===0||Qo(or,gr)}function sg(l,u){var p=Vt;Vt|=2;var b=pC();(or!==l||gr!==u)&&($a=null,vc(l,u));do try{jU();break}catch(S){fC(l,S)}while(!0);if(G0(),Vt=p,Jp.current=b,Hn!==null)throw Error(n(261));return or=null,gr=0,er}function jU(){for(;Hn!==null;)gC(Hn)}function NU(){for(;Hn!==null&&!Zl();)gC(Hn)}function gC(l){var u=bC(l.alternate,l,Ts);l.memoizedProps=l.pendingProps,u===null?xC(l):Hn=u,Ev.current=null}function xC(l){var u=l;do{var p=u.alternate;if(l=u.return,(u.flags&32768)===0){if(p=pU(p,u,Ts),p!==null){Hn=p;return}}else{if(p=gU(p,u),p!==null){p.flags&=32767,Hn=p;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{er=6,Hn=null;return}}if(u=u.sibling,u!==null){Hn=u;return}Hn=u=l}while(u!==null);er===0&&(er=5)}function bc(l,u,p){var b=Ot,S=Ws.transition;try{Ws.transition=null,Ot=1,_U(l,u,p,b)}finally{Ws.transition=S,Ot=b}return null}function _U(l,u,p,b){do Ju();while(Ko!==null);if((Vt&6)!==0)throw Error(n(327));p=l.finishedWork;var S=l.finishedLanes;if(p===null)return null;if(l.finishedWork=null,l.finishedLanes=0,p===l.current)throw Error(n(177));l.callbackNode=null,l.callbackPriority=0;var T=p.lanes|p.childLanes;if(w0(l,T),l===or&&(Hn=or=null,gr=0),(p.subtreeFlags&2064)===0&&(p.flags&2064)===0||eg||(eg=!0,wC(ec,function(){return Ju(),null})),T=(p.flags&15990)!==0,(p.subtreeFlags&15990)!==0||T){T=Ws.transition,Ws.transition=null;var z=Ot;Ot=1;var Q=Vt;Vt|=4,Ev.current=null,yU(l,p),oC(p,l),qV(M0),Pa=!!D0,M0=D0=null,l.current=p,vU(p),Ta(),Vt=Q,Ot=z,Ws.transition=T}else l.current=p;if(eg&&(eg=!1,Ko=l,tg=S),T=l.pendingLanes,T===0&&(Wo=null),dp(p.stateNode),ss(l,hn()),u!==null)for(b=l.onRecoverableError,p=0;p<u.length;p++)S=u[p],b(S.value,{componentStack:S.stack,digest:S.digest});if(Zp)throw Zp=!1,l=Tv,Tv=null,l;return(tg&1)!==0&&l.tag!==0&&Ju(),T=l.pendingLanes,(T&1)!==0?l===Av?um++:(um=0,Av=l):um=0,Bo(),null}function Ju(){if(Ko!==null){var l=Li(tg),u=Ws.transition,p=Ot;try{if(Ws.transition=null,Ot=16>l?16:l,Ko===null)var b=!1;else{if(l=Ko,Ko=null,tg=0,(Vt&6)!==0)throw Error(n(331));var S=Vt;for(Vt|=4,$e=l.current;$e!==null;){var T=$e,z=T.child;if(($e.flags&16)!==0){var Q=T.deletions;if(Q!==null){for(var J=0;J<Q.length;J++){var ce=Q[J];for($e=ce;$e!==null;){var je=$e;switch(je.tag){case 0:case 11:case 15:om(8,je,T)}var _e=je.child;if(_e!==null)_e.return=je,$e=_e;else for(;$e!==null;){je=$e;var be=je.sibling,Ue=je.return;if(nC(je),je===ce){$e=null;break}if(be!==null){be.return=Ue,$e=be;break}$e=Ue}}}var We=T.alternate;if(We!==null){var Qe=We.child;if(Qe!==null){We.child=null;do{var Ln=Qe.sibling;Qe.sibling=null,Qe=Ln}while(Qe!==null)}}$e=T}}if((T.subtreeFlags&2064)!==0&&z!==null)z.return=T,$e=z;else e:for(;$e!==null;){if(T=$e,(T.flags&2048)!==0)switch(T.tag){case 0:case 11:case 15:om(9,T,T.return)}var ae=T.sibling;if(ae!==null){ae.return=T.return,$e=ae;break e}$e=T.return}}var ee=l.current;for($e=ee;$e!==null;){z=$e;var le=z.child;if((z.subtreeFlags&2064)!==0&&le!==null)le.return=z,$e=le;else e:for(z=ee;$e!==null;){if(Q=$e,(Q.flags&2048)!==0)try{switch(Q.tag){case 0:case 11:case 15:Yp(9,Q)}}catch(Ye){Tn(Q,Q.return,Ye)}if(Q===z){$e=null;break e}var ke=Q.sibling;if(ke!==null){ke.return=Q.return,$e=ke;break e}$e=Q.return}}if(Vt=S,Bo(),ws&&typeof ws.onPostCommitFiberRoot=="function")try{ws.onPostCommitFiberRoot(tc,l)}catch{}b=!0}return b}finally{Ot=p,Ws.transition=u}}return!1}function yC(l,u,p){u=Ku(p,u),u=OE(l,u,1),l=qo(l,u,1),u=Br(),l!==null&&(ic(l,1,u),ss(l,u))}function Tn(l,u,p){if(l.tag===3)yC(l,l,p);else for(;u!==null;){if(u.tag===3){yC(u,l,p);break}else if(u.tag===1){var b=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(Wo===null||!Wo.has(b))){l=Ku(p,l),l=LE(u,l,1),u=qo(u,l,1),l=Br(),u!==null&&(ic(u,1,l),ss(u,l));break}}u=u.return}}function SU(l,u,p){var b=l.pingCache;b!==null&&b.delete(u),u=Br(),l.pingedLanes|=l.suspendedLanes&p,or===l&&(gr&p)===p&&(er===4||er===3&&(gr&130023424)===gr&&500>hn()-kv?vc(l,0):Cv|=p),ss(l,u)}function vC(l,u){u===0&&((l.mode&1)===0?u=1:(u=Ro,Ro<<=1,(Ro&130023424)===0&&(Ro=4194304)));var p=Br();l=Ua(l,u),l!==null&&(ic(l,u,p),ss(l,p))}function EU(l){var u=l.memoizedState,p=0;u!==null&&(p=u.retryLane),vC(l,p)}function CU(l,u){var p=0;switch(l.tag){case 13:var b=l.stateNode,S=l.memoizedState;S!==null&&(p=S.retryLane);break;case 19:b=l.stateNode;break;default:throw Error(n(314))}b!==null&&b.delete(u),vC(l,p)}var bC;bC=function(l,u,p){if(l!==null)if(l.memoizedProps!==u.pendingProps||es.current)ns=!0;else{if((l.lanes&p)===0&&(u.flags&128)===0)return ns=!1,fU(l,u,p);ns=(l.flags&131072)!==0}else ns=!1,xn&&(u.flags&1048576)!==0&&ZS(u,Pp,u.index);switch(u.lanes=0,u.tag){case 2:var b=u.type;Gp(l,u),l=u.pendingProps;var S=Vu(u,Cr.current);Hu(u,p),S=iv(null,u,b,l,S,p);var T=av();return u.flags|=1,typeof S=="object"&&S!==null&&typeof S.render=="function"&&S.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,ts(b)?(T=!0,Ap(u)):T=!1,u.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,X0(u),S.updater=Wp,u.stateNode=S,S._reactInternals=u,hv(u,b,l,p),u=gv(null,u,b,!0,T,p)):(u.tag=0,xn&&T&&B0(u),zr(null,u,S,p),u=u.child),u;case 16:b=u.elementType;e:{switch(Gp(l,u),l=u.pendingProps,S=b._init,b=S(b._payload),u.type=b,S=u.tag=TU(b),l=fi(b,l),S){case 0:u=pv(null,u,b,l,p);break e;case 1:u=WE(null,u,b,l,p);break e;case 11:u=zE(null,u,b,l,p);break e;case 14:u=BE(null,u,b,fi(b.type,l),p);break e}throw Error(n(306,b,""))}return u;case 0:return b=u.type,S=u.pendingProps,S=u.elementType===b?S:fi(b,S),pv(l,u,b,S,p);case 1:return b=u.type,S=u.pendingProps,S=u.elementType===b?S:fi(b,S),WE(l,u,b,S,p);case 3:e:{if(KE(u),l===null)throw Error(n(387));b=u.pendingProps,T=u.memoizedState,S=T.element,lE(l,u),Vp(u,b,null,p);var z=u.memoizedState;if(b=z.element,T.isDehydrated)if(T={element:b,isDehydrated:!1,cache:z.cache,pendingSuspenseBoundaries:z.pendingSuspenseBoundaries,transitions:z.transitions},u.updateQueue.baseState=T,u.memoizedState=T,u.flags&256){S=Ku(Error(n(423)),u),u=GE(l,u,b,p,S);break e}else if(b!==S){S=Ku(Error(n(424)),u),u=GE(l,u,b,p,S);break e}else for(ks=Vo(u.stateNode.containerInfo.firstChild),Cs=u,xn=!0,mi=null,p=aE(u,null,b,p),u.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(Bu(),b===S){u=Ba(l,u,p);break e}zr(l,u,b,p)}u=u.child}return u;case 5:return dE(u),l===null&&H0(u),b=u.type,S=u.pendingProps,T=l!==null?l.memoizedProps:null,z=S.children,O0(b,S)?z=null:T!==null&&O0(b,T)&&(u.flags|=32),HE(l,u),zr(l,u,z,p),u.child;case 6:return l===null&&H0(u),null;case 13:return QE(l,u,p);case 4:return Z0(u,u.stateNode.containerInfo),b=u.pendingProps,l===null?u.child=$u(u,null,b,p):zr(l,u,b,p),u.child;case 11:return b=u.type,S=u.pendingProps,S=u.elementType===b?S:fi(b,S),zE(l,u,b,S,p);case 7:return zr(l,u,u.pendingProps,p),u.child;case 8:return zr(l,u,u.pendingProps.children,p),u.child;case 12:return zr(l,u,u.pendingProps.children,p),u.child;case 10:e:{if(b=u.type._context,S=u.pendingProps,T=u.memoizedProps,z=S.value,on(Op,b._currentValue),b._currentValue=z,T!==null)if(hi(T.value,z)){if(T.children===S.children&&!es.current){u=Ba(l,u,p);break e}}else for(T=u.child,T!==null&&(T.return=u);T!==null;){var Q=T.dependencies;if(Q!==null){z=T.child;for(var J=Q.firstContext;J!==null;){if(J.context===b){if(T.tag===1){J=za(-1,p&-p),J.tag=2;var ce=T.updateQueue;if(ce!==null){ce=ce.shared;var je=ce.pending;je===null?J.next=J:(J.next=je.next,je.next=J),ce.pending=J}}T.lanes|=p,J=T.alternate,J!==null&&(J.lanes|=p),Y0(T.return,p,u),Q.lanes|=p;break}J=J.next}}else if(T.tag===10)z=T.type===u.type?null:T.child;else if(T.tag===18){if(z=T.return,z===null)throw Error(n(341));z.lanes|=p,Q=z.alternate,Q!==null&&(Q.lanes|=p),Y0(z,p,u),z=T.sibling}else z=T.child;if(z!==null)z.return=T;else for(z=T;z!==null;){if(z===u){z=null;break}if(T=z.sibling,T!==null){T.return=z.return,z=T;break}z=z.return}T=z}zr(l,u,S.children,p),u=u.child}return u;case 9:return S=u.type,b=u.pendingProps.children,Hu(u,p),S=qs(S),b=b(S),u.flags|=1,zr(l,u,b,p),u.child;case 14:return b=u.type,S=fi(b,u.pendingProps),S=fi(b.type,S),BE(l,u,b,S,p);case 15:return $E(l,u,u.type,u.pendingProps,p);case 17:return b=u.type,S=u.pendingProps,S=u.elementType===b?S:fi(b,S),Gp(l,u),u.tag=1,ts(b)?(l=!0,Ap(u)):l=!1,Hu(u,p),DE(u,b,S),hv(u,b,S,p),gv(null,u,b,!0,l,p);case 19:return JE(l,u,p);case 22:return qE(l,u,p)}throw Error(n(156,u.tag))};function wC(l,u){return Io(l,u)}function kU(l,u,p,b){this.tag=l,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ks(l,u,p,b){return new kU(l,u,p,b)}function Ov(l){return l=l.prototype,!(!l||!l.isReactComponent)}function TU(l){if(typeof l=="function")return Ov(l)?1:0;if(l!=null){if(l=l.$$typeof,l===O)return 11;if(l===re)return 14}return 2}function Yo(l,u){var p=l.alternate;return p===null?(p=Ks(l.tag,u,l.key,l.mode),p.elementType=l.elementType,p.type=l.type,p.stateNode=l.stateNode,p.alternate=l,l.alternate=p):(p.pendingProps=u,p.type=l.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=l.flags&14680064,p.childLanes=l.childLanes,p.lanes=l.lanes,p.child=l.child,p.memoizedProps=l.memoizedProps,p.memoizedState=l.memoizedState,p.updateQueue=l.updateQueue,u=l.dependencies,p.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},p.sibling=l.sibling,p.index=l.index,p.ref=l.ref,p}function ig(l,u,p,b,S,T){var z=2;if(b=l,typeof l=="function")Ov(l)&&(z=1);else if(typeof l=="string")z=5;else e:switch(l){case D:return wc(p.children,S,T,u);case R:z=8,S|=8;break;case I:return l=Ks(12,p,u,S|2),l.elementType=I,l.lanes=T,l;case U:return l=Ks(13,p,u,S),l.elementType=U,l.lanes=T,l;case X:return l=Ks(19,p,u,S),l.elementType=X,l.lanes=T,l;case ie:return ag(p,S,T,u);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case M:z=10;break e;case V:z=9;break e;case O:z=11;break e;case re:z=14;break e;case ue:z=16,b=null;break e}throw Error(n(130,l==null?l:typeof l,""))}return u=Ks(z,p,u,S),u.elementType=l,u.type=b,u.lanes=T,u}function wc(l,u,p,b){return l=Ks(7,l,b,u),l.lanes=p,l}function ag(l,u,p,b){return l=Ks(22,l,b,u),l.elementType=ie,l.lanes=p,l.stateNode={isHidden:!1},l}function Lv(l,u,p){return l=Ks(6,l,null,u),l.lanes=p,l}function Fv(l,u,p){return u=Ks(4,l.children!==null?l.children:[],l.key,u),u.lanes=p,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}function AU(l,u,p,b,S){this.tag=u,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rh(0),this.expirationTimes=Rh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rh(0),this.identifierPrefix=b,this.onRecoverableError=S,this.mutableSourceEagerHydrationData=null}function Vv(l,u,p,b,S,T,z,Q,J){return l=new AU(l,u,p,Q,J),u===1?(u=1,T===!0&&(u|=8)):u=0,T=Ks(3,null,null,u),l.current=T,T.stateNode=l,T.memoizedState={element:b,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},X0(T),l}function IU(l,u,p){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:b==null?null:""+b,children:l,containerInfo:u,implementation:p}}function jC(l){if(!l)return zo;l=l._reactInternals;e:{if(Sr(l)!==l||l.tag!==1)throw Error(n(170));var u=l;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(ts(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(n(171))}if(l.tag===1){var p=l.type;if(ts(p))return YS(l,p,u)}return u}function NC(l,u,p,b,S,T,z,Q,J){return l=Vv(p,b,!0,l,S,T,z,Q,J),l.context=jC(null),p=l.current,b=Br(),S=Go(p),T=za(b,S),T.callback=u??null,qo(p,T,S),l.current.lanes=S,ic(l,S,b),ss(l,b),l}function og(l,u,p,b){var S=u.current,T=Br(),z=Go(S);return p=jC(p),u.context===null?u.context=p:u.pendingContext=p,u=za(T,z),u.payload={element:l},b=b===void 0?null:b,b!==null&&(u.callback=b),l=qo(S,u,z),l!==null&&(xi(l,S,z,T),Fp(l,S,z)),z}function lg(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function _C(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var p=l.retryLane;l.retryLane=p!==0&&p<u?p:u}}function Uv(l,u){_C(l,u),(l=l.alternate)&&_C(l,u)}function RU(){return null}var SC=typeof reportError=="function"?reportError:function(l){console.error(l)};function zv(l){this._internalRoot=l}cg.prototype.render=zv.prototype.render=function(l){var u=this._internalRoot;if(u===null)throw Error(n(409));og(l,u,null,null)},cg.prototype.unmount=zv.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var u=l.containerInfo;yc(function(){og(null,l,null,null)}),u[Oa]=null}};function cg(l){this._internalRoot=l}cg.prototype.unstable_scheduleHydration=function(l){if(l){var u=Oh();l={blockedOn:null,target:l,priority:u};for(var p=0;p<Ns.length&&u!==0&&u<Ns[p].priority;p++);Ns.splice(p,0,l),p===0&&Nu(l)}};function Bv(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function ug(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function EC(){}function PU(l,u,p,b,S){if(S){if(typeof b=="function"){var T=b;b=function(){var ce=lg(z);T.call(ce)}}var z=NC(u,b,l,0,null,!1,!1,"",EC);return l._reactRootContainer=z,l[Oa]=z.current,Gh(l.nodeType===8?l.parentNode:l),yc(),z}for(;S=l.lastChild;)l.removeChild(S);if(typeof b=="function"){var Q=b;b=function(){var ce=lg(J);Q.call(ce)}}var J=Vv(l,0,!1,null,null,!1,!1,"",EC);return l._reactRootContainer=J,l[Oa]=J.current,Gh(l.nodeType===8?l.parentNode:l),yc(function(){og(u,J,p,b)}),J}function dg(l,u,p,b,S){var T=p._reactRootContainer;if(T){var z=T;if(typeof S=="function"){var Q=S;S=function(){var J=lg(z);Q.call(J)}}og(u,z,l,S)}else z=PU(p,u,l,S,b);return lg(z)}Dh=function(l){switch(l.tag){case 3:var u=l.stateNode;if(u.current.memoizedState.isDehydrated){var p=qt(u.pendingLanes);p!==0&&(Ph(u,p|1),ss(u,hn()),(Vt&6)===0&&(Yu=hn()+500,Bo()))}break;case 13:yc(function(){var b=Ua(l,1);if(b!==null){var S=Br();xi(b,l,1,S)}}),Uv(l,1)}},wu=function(l){if(l.tag===13){var u=Ua(l,134217728);if(u!==null){var p=Br();xi(u,l,134217728,p)}Uv(l,134217728)}},Mh=function(l){if(l.tag===13){var u=Go(l),p=Ua(l,u);if(p!==null){var b=Br();xi(p,l,u,b)}Uv(l,u)}},Oh=function(){return Ot},Lh=function(l,u){var p=Ot;try{return Ot=l,u()}finally{Ot=p}},Jr=function(l,u,p){switch(u){case"input":if(Jn(l,p),u=p.name,p.type==="radio"&&u!=null){for(p=l;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<p.length;u++){var b=p[u];if(b!==l&&b.form===l.form){var S=kp(b);if(!S)throw Error(n(90));gt(b),Jn(b,S)}}}break;case"textarea":Ri(l,p);break;case"select":u=p.value,u!=null&&Lr(l,!!p.multiple,u,!1)}},Pi=Pv,Jl=yc;var DU={usingClientEntryPoint:!1,Events:[Jh,Lu,kp,Vr,Ur,Pv]},dm={findFiberByHostInstance:uc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},MU={bundleType:dm.bundleType,version:dm.version,rendererPackageName:dm.rendererPackageName,rendererConfig:dm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=ht(l),l===null?null:l.stateNode},findFiberByHostInstance:dm.findFiberByHostInstance||RU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hg.isDisabled&&hg.supportsFiber)try{tc=hg.inject(MU),ws=hg}catch{}}return is.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DU,is.createPortal=function(l,u){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bv(u))throw Error(n(200));return IU(l,u,null,p)},is.createRoot=function(l,u){if(!Bv(l))throw Error(n(299));var p=!1,b="",S=SC;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(b=u.identifierPrefix),u.onRecoverableError!==void 0&&(S=u.onRecoverableError)),u=Vv(l,1,!1,null,null,p,!1,b,S),l[Oa]=u.current,Gh(l.nodeType===8?l.parentNode:l),new zv(u)},is.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(n(188)):(l=Object.keys(l).join(","),Error(n(268,l)));return l=ht(u),l=l===null?null:l.stateNode,l},is.flushSync=function(l){return yc(l)},is.hydrate=function(l,u,p){if(!ug(u))throw Error(n(200));return dg(null,l,u,!0,p)},is.hydrateRoot=function(l,u,p){if(!Bv(l))throw Error(n(405));var b=p!=null&&p.hydratedSources||null,S=!1,T="",z=SC;if(p!=null&&(p.unstable_strictMode===!0&&(S=!0),p.identifierPrefix!==void 0&&(T=p.identifierPrefix),p.onRecoverableError!==void 0&&(z=p.onRecoverableError)),u=NC(u,null,l,1,p??null,S,!1,T,z),l[Oa]=u.current,Gh(l),b)for(l=0;l<b.length;l++)p=b[l],S=p._getVersion,S=S(p._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[p,S]:u.mutableSourceEagerHydrationData.push(p,S);return new cg(u)},is.render=function(l,u,p){if(!ug(u))throw Error(n(200));return dg(null,l,u,!1,p)},is.unmountComponentAtNode=function(l){if(!ug(l))throw Error(n(40));return l._reactRootContainer?(yc(function(){dg(null,null,l,!1,function(){l._reactRootContainer=null,l[Oa]=null})}),!0):!1},is.unstable_batchedUpdates=Pv,is.unstable_renderSubtreeIntoContainer=function(l,u,p,b){if(!ug(p))throw Error(n(200));if(l==null||l._reactInternals===void 0)throw Error(n(38));return dg(l,u,p,!1,b)},is.version="18.3.1-next-f1338f8080-20240426",is}var MC;function yR(){if(MC)return Wv.exports;MC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Wv.exports=$U(),Wv.exports}var OC;function qU(){if(OC)return fg;OC=1;var t=yR();return fg.createRoot=t.createRoot,fg.hydrateRoot=t.hydrateRoot,fg}var HU=qU();const WU=nh(HU);/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var LC="popstate";function KU(t={}){function e(r,i){let{pathname:a,search:o,hash:c}=r.location;return _w("",{pathname:a,search:o,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ef(i)}return QU(e,n,null,t)}function Sn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ya(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function GU(){return Math.random().toString(36).substring(2,10)}function FC(t,e){return{usr:t.state,key:t.key,idx:e}}function _w(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?rh(e):e,state:n,key:e&&e.key||r||GU()}}function ef({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function rh(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function QU(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,c="POP",d=null,h=m();h==null&&(h=0,o.replaceState({...o.state,idx:h},""));function m(){return(o.state||{idx:null}).idx}function f(){c="POP";let j=m(),N=j==null?null:j-h;h=j,d&&d({action:c,location:w.location,delta:N})}function g(j,N){c="PUSH";let E=_w(w.location,j,N);h=m()+1;let k=FC(E,h),C=w.createHref(E);try{o.pushState(k,"",C)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(C)}a&&d&&d({action:c,location:w.location,delta:1})}function x(j,N){c="REPLACE";let E=_w(w.location,j,N);h=m();let k=FC(E,h),C=w.createHref(E);o.replaceState(k,"",C),a&&d&&d({action:c,location:w.location,delta:0})}function _(j){return YU(j)}let w={get action(){return c},get location(){return t(i,o)},listen(j){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(LC,f),d=j,()=>{i.removeEventListener(LC,f),d=null}},createHref(j){return e(i,j)},createURL:_,encodeLocation(j){let N=_(j);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:g,replace:x,go(j){return o.go(j)}};return w}function YU(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Sn(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:ef(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function vR(t,e,n="/"){return JU(t,e,n,!1)}function JU(t,e,n,r){let i=typeof e=="string"?rh(e):e,a=ao(i.pathname||"/",n);if(a==null)return null;let o=bR(t);XU(o);let c=null;for(let d=0;c==null&&d<o.length;++d){let h=c9(a);c=o9(o[d],h,r)}return c}function bR(t,e=[],n=[],r="",i=!1){let a=(o,c,d=i,h)=>{let m={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&d)return;Sn(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let f=eo([r,m.relativePath]),g=n.concat(m);o.children&&o.children.length>0&&(Sn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),bR(o.children,e,g,f,d)),!(o.path==null&&!o.index)&&e.push({path:f,score:i9(f,o.index),routesMeta:g})};return t.forEach((o,c)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))a(o,c);else for(let h of wR(o.path))a(o,c,!0,h)}),e}function wR(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=wR(r.join("/")),c=[];return c.push(...o.map(d=>d===""?a:[a,d].join("/"))),i&&c.push(...o),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function XU(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:a9(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var ZU=/^:[\w-]+$/,e9=3,t9=2,n9=1,r9=10,s9=-2,VC=t=>t==="*";function i9(t,e){let n=t.split("/"),r=n.length;return n.some(VC)&&(r+=s9),e&&(r+=t9),n.filter(i=>!VC(i)).reduce((i,a)=>i+(ZU.test(a)?e9:a===""?n9:r9),r)}function a9(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function o9(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",o=[];for(let c=0;c<r.length;++c){let d=r[c],h=c===r.length-1,m=a==="/"?e:e.slice(a.length)||"/",f=bx({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},m),g=d.route;if(!f&&h&&n&&!r[r.length-1].route.index&&(f=bx({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:eo([a,f.pathname]),pathnameBase:m9(eo([a,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(a=eo([a,f.pathnameBase]))}return o}function bx(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=l9(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((h,{paramName:m,isOptional:f},g)=>{if(m==="*"){let _=c[g]||"";o=a.slice(0,a.length-_.length).replace(/(.)\/+$/,"$1")}const x=c[g];return f&&!x?h[m]=void 0:h[m]=(x||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:o,pattern:t}}function l9(t,e=!1,n=!0){ya(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function c9(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ya(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ao(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function u9(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?rh(t):t;return{pathname:n?n.startsWith("/")?n:d9(n,e):e,search:f9(r),hash:p9(i)}}function d9(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Qv(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function h9(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function jR(t){let e=h9(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function NR(t,e,n,r=!1){let i;typeof t=="string"?i=rh(t):(i={...t},Sn(!i.pathname||!i.pathname.includes("?"),Qv("?","pathname","search",i)),Sn(!i.pathname||!i.pathname.includes("#"),Qv("#","pathname","hash",i)),Sn(!i.search||!i.search.includes("#"),Qv("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,c;if(o==null)c=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),f-=1;i.pathname=g.join("/")}c=f>=0?e[f]:"/"}let d=u9(i,c),h=o&&o!=="/"&&o.endsWith("/"),m=(a||o===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(h||m)&&(d.pathname+="/"),d}var eo=t=>t.join("/").replace(/\/\/+/g,"/"),m9=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),f9=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,p9=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function g9(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var _R=["POST","PUT","PATCH","DELETE"];new Set(_R);var x9=["GET",..._R];new Set(x9);var sh=v.createContext(null);sh.displayName="DataRouter";var my=v.createContext(null);my.displayName="DataRouterState";v.createContext(!1);var SR=v.createContext({isTransitioning:!1});SR.displayName="ViewTransition";var y9=v.createContext(new Map);y9.displayName="Fetchers";var v9=v.createContext(null);v9.displayName="Await";var _a=v.createContext(null);_a.displayName="Navigation";var Pf=v.createContext(null);Pf.displayName="Location";var wo=v.createContext({outlet:null,matches:[],isDataRoute:!1});wo.displayName="Route";var vj=v.createContext(null);vj.displayName="RouteError";function b9(t,{relative:e}={}){Sn(Df(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=v.useContext(_a),{hash:i,pathname:a,search:o}=Mf(t,{relative:e}),c=a;return n!=="/"&&(c=a==="/"?n:eo([n,a])),r.createHref({pathname:c,search:o,hash:i})}function Df(){return v.useContext(Pf)!=null}function jo(){return Sn(Df(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(Pf).location}var ER="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function CR(t){v.useContext(_a).static||v.useLayoutEffect(t)}function Bn(){let{isDataRoute:t}=v.useContext(wo);return t?P9():w9()}function w9(){Sn(Df(),"useNavigate() may be used only in the context of a <Router> component.");let t=v.useContext(sh),{basename:e,navigator:n}=v.useContext(_a),{matches:r}=v.useContext(wo),{pathname:i}=jo(),a=JSON.stringify(jR(r)),o=v.useRef(!1);return CR(()=>{o.current=!0}),v.useCallback((d,h={})=>{if(ya(o.current,ER),!o.current)return;if(typeof d=="number"){n.go(d);return}let m=NR(d,JSON.parse(a),i,h.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:eo([e,m.pathname])),(h.replace?n.replace:n.push)(m,h.state,h)},[e,n,a,i,t])}v.createContext(null);function Mf(t,{relative:e}={}){let{matches:n}=v.useContext(wo),{pathname:r}=jo(),i=JSON.stringify(jR(n));return v.useMemo(()=>NR(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function j9(t,e){return kR(t,e)}function kR(t,e,n,r,i){var E;Sn(Df(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=v.useContext(_a),{matches:o}=v.useContext(wo),c=o[o.length-1],d=c?c.params:{},h=c?c.pathname:"/",m=c?c.pathnameBase:"/",f=c&&c.route;{let k=f&&f.path||"";TR(h,!f||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let g=jo(),x;if(e){let k=typeof e=="string"?rh(e):e;Sn(m==="/"||((E=k.pathname)==null?void 0:E.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${k.pathname}" was given in the \`location\` prop.`),x=k}else x=g;let _=x.pathname||"/",w=_;if(m!=="/"){let k=m.replace(/^\//,"").split("/");w="/"+_.replace(/^\//,"").split("/").slice(k.length).join("/")}let j=vR(t,{pathname:w});ya(f||j!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),ya(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=C9(j&&j.map(k=>Object.assign({},k,{params:Object.assign({},d,k.params),pathname:eo([m,a.encodeLocation?a.encodeLocation(k.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?m:eo([m,a.encodeLocation?a.encodeLocation(k.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathnameBase])})),o,n,r,i);return e&&N?v.createElement(Pf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},N):N}function N9(){let t=R9(),e=g9(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:a},"ErrorBoundary")," or"," ",v.createElement("code",{style:a},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),n?v.createElement("pre",{style:i},n):null,o)}var _9=v.createElement(N9,null),S9=class extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?v.createElement(wo.Provider,{value:this.props.routeContext},v.createElement(vj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function E9({routeContext:t,match:e,children:n}){let r=v.useContext(sh);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),v.createElement(wo.Provider,{value:t},n)}function C9(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=n==null?void 0:n.errors;if(o!=null){let h=a.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);Sn(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,d=-1;if(n)for(let h=0;h<a.length;h++){let m=a[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=h),m.route.id){let{loaderData:f,errors:g}=n,x=m.route.loader&&!f.hasOwnProperty(m.route.id)&&(!g||g[m.route.id]===void 0);if(m.route.lazy||x){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((h,m,f)=>{let g,x=!1,_=null,w=null;n&&(g=o&&m.route.id?o[m.route.id]:void 0,_=m.route.errorElement||_9,c&&(d<0&&f===0?(TR("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,w=null):d===f&&(x=!0,w=m.route.hydrateFallbackElement||null)));let j=e.concat(a.slice(0,f+1)),N=()=>{let E;return g?E=_:x?E=w:m.route.Component?E=v.createElement(m.route.Component,null):m.route.element?E=m.route.element:E=h,v.createElement(E9,{match:m,routeContext:{outlet:h,matches:j,isDataRoute:n!=null},children:E})};return n&&(m.route.ErrorBoundary||m.route.errorElement||f===0)?v.createElement(S9,{location:n.location,revalidation:n.revalidation,component:_,error:g,children:N(),routeContext:{outlet:null,matches:j,isDataRoute:!0},unstable_onError:r}):N()},null)}function bj(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function k9(t){let e=v.useContext(sh);return Sn(e,bj(t)),e}function T9(t){let e=v.useContext(my);return Sn(e,bj(t)),e}function A9(t){let e=v.useContext(wo);return Sn(e,bj(t)),e}function wj(t){let e=A9(t),n=e.matches[e.matches.length-1];return Sn(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function I9(){return wj("useRouteId")}function R9(){var r;let t=v.useContext(vj),e=T9("useRouteError"),n=wj("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function P9(){let{router:t}=k9("useNavigate"),e=wj("useNavigate"),n=v.useRef(!1);return CR(()=>{n.current=!0}),v.useCallback(async(i,a={})=>{ya(n.current,ER),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var UC={};function TR(t,e,n){!e&&!UC[t]&&(UC[t]=!0,ya(!1,n))}v.memo(D9);function D9({routes:t,future:e,state:n,unstable_onError:r}){return kR(t,void 0,n,r,e)}function Me(t){Sn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function M9({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){Sn(!Df(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),c=v.useMemo(()=>({basename:o,navigator:i,static:a,future:{}}),[o,i,a]);typeof n=="string"&&(n=rh(n));let{pathname:d="/",search:h="",hash:m="",state:f=null,key:g="default"}=n,x=v.useMemo(()=>{let _=ao(d,o);return _==null?null:{location:{pathname:_,search:h,hash:m,state:f,key:g},navigationType:r}},[o,d,h,m,f,g,r]);return ya(x!=null,`<Router basename="${o}"> is not able to match the URL "${d}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:v.createElement(_a.Provider,{value:c},v.createElement(Pf.Provider,{children:e,value:x}))}function O9({children:t,location:e}){return j9(Sw(t),e)}function Sw(t,e=[]){let n=[];return v.Children.forEach(t,(r,i)=>{if(!v.isValidElement(r))return;let a=[...e,i];if(r.type===v.Fragment){n.push.apply(n,Sw(r.props.children,a));return}Sn(r.type===Me,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Sn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Sw(r.props.children,a)),n.push(o)}),n}var Hg="get",Wg="application/x-www-form-urlencoded";function fy(t){return t!=null&&typeof t.tagName=="string"}function L9(t){return fy(t)&&t.tagName.toLowerCase()==="button"}function F9(t){return fy(t)&&t.tagName.toLowerCase()==="form"}function V9(t){return fy(t)&&t.tagName.toLowerCase()==="input"}function U9(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function z9(t,e){return t.button===0&&(!e||e==="_self")&&!U9(t)}var pg=null;function B9(){if(pg===null)try{new FormData(document.createElement("form"),0),pg=!1}catch{pg=!0}return pg}var $9=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Yv(t){return t!=null&&!$9.has(t)?(ya(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wg}"`),null):t}function q9(t,e){let n,r,i,a,o;if(F9(t)){let c=t.getAttribute("action");r=c?ao(c,e):null,n=t.getAttribute("method")||Hg,i=Yv(t.getAttribute("enctype"))||Wg,a=new FormData(t)}else if(L9(t)||V9(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||c.getAttribute("action");if(r=d?ao(d,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||Hg,i=Yv(t.getAttribute("formenctype"))||Yv(c.getAttribute("enctype"))||Wg,a=new FormData(c,t),!B9()){let{name:h,type:m,value:f}=t;if(m==="image"){let g=h?`${h}.`:"";a.append(`${g}x`,"0"),a.append(`${g}y`,"0")}else h&&a.append(h,f)}}else{if(fy(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Hg,r=null,i=Wg,o=t}return a&&i==="text/plain"&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function jj(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function H9(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&ao(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function W9(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function K9(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function G9(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let o=await W9(a,n);return o.links?o.links():[]}return[]}));return X9(r.flat(1).filter(K9).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function zC(t,e,n,r,i,a){let o=(d,h)=>n[h]?d.route.id!==n[h].route.id:!0,c=(d,h)=>{var m;return n[h].pathname!==d.pathname||((m=n[h].route.path)==null?void 0:m.endsWith("*"))&&n[h].params["*"]!==d.params["*"]};return a==="assets"?e.filter((d,h)=>o(d,h)||c(d,h)):a==="data"?e.filter((d,h)=>{var f;let m=r.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(o(d,h)||c(d,h))return!0;if(d.route.shouldRevalidate){let g=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function Q9(t,e,{includeHydrateFallback:n}={}){return Y9(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function Y9(t){return[...new Set(t)]}function J9(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function X9(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(J9(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function AR(){let t=v.useContext(sh);return jj(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Z9(){let t=v.useContext(my);return jj(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Nj=v.createContext(void 0);Nj.displayName="FrameworkContext";function IR(){let t=v.useContext(Nj);return jj(t,"You must render this element inside a <HydratedRouter> element"),t}function ez(t,e){let n=v.useContext(Nj),[r,i]=v.useState(!1),[a,o]=v.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:h,onMouseLeave:m,onTouchStart:f}=e,g=v.useRef(null);v.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let w=N=>{N.forEach(E=>{o(E.isIntersecting)})},j=new IntersectionObserver(w,{threshold:.5});return g.current&&j.observe(g.current),()=>{j.disconnect()}}},[t]),v.useEffect(()=>{if(r){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[r]);let x=()=>{i(!0)},_=()=>{i(!1),o(!1)};return n?t!=="intent"?[a,g,{}]:[a,g,{onFocus:mm(c,x),onBlur:mm(d,_),onMouseEnter:mm(h,x),onMouseLeave:mm(m,_),onTouchStart:mm(f,x)}]:[!1,g,{}]}function mm(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function tz({page:t,...e}){let{router:n}=AR(),r=v.useMemo(()=>vR(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?v.createElement(rz,{page:t,matches:r,...e}):null}function nz(t){let{manifest:e,routeModules:n}=IR(),[r,i]=v.useState([]);return v.useEffect(()=>{let a=!1;return G9(t,e,n).then(o=>{a||i(o)}),()=>{a=!0}},[t,e,n]),r}function rz({page:t,matches:e,...n}){let r=jo(),{manifest:i,routeModules:a}=IR(),{basename:o}=AR(),{loaderData:c,matches:d}=Z9(),h=v.useMemo(()=>zC(t,e,d,i,r,"data"),[t,e,d,i,r]),m=v.useMemo(()=>zC(t,e,d,i,r,"assets"),[t,e,d,i,r]),f=v.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let _=new Set,w=!1;if(e.forEach(N=>{var k;let E=i.routes[N.route.id];!E||!E.hasLoader||(!h.some(C=>C.route.id===N.route.id)&&N.route.id in c&&((k=a[N.route.id])!=null&&k.shouldRevalidate)||E.hasClientLoader?w=!0:_.add(N.route.id))}),_.size===0)return[];let j=H9(t,o,"data");return w&&_.size>0&&j.searchParams.set("_routes",e.filter(N=>_.has(N.route.id)).map(N=>N.route.id).join(",")),[j.pathname+j.search]},[o,c,r,i,h,e,t,a]),g=v.useMemo(()=>Q9(m,i),[m,i]),x=nz(m);return v.createElement(v.Fragment,null,f.map(_=>v.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),g.map(_=>v.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),x.map(({key:_,link:w})=>v.createElement("link",{key:_,nonce:n.nonce,...w})))}function sz(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var RR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{RR&&(window.__reactRouterVersion="7.9.5")}catch{}function iz({basename:t,children:e,window:n}){let r=v.useRef();r.current==null&&(r.current=KU({window:n,v5Compat:!0}));let i=r.current,[a,o]=v.useState({action:i.action,location:i.location}),c=v.useCallback(d=>{v.startTransition(()=>o(d))},[o]);return v.useLayoutEffect(()=>i.listen(c),[i,c]),v.createElement(M9,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var PR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Et=v.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:o,state:c,target:d,to:h,preventScrollReset:m,viewTransition:f,...g},x){let{basename:_}=v.useContext(_a),w=typeof h=="string"&&PR.test(h),j,N=!1;if(typeof h=="string"&&w&&(j=h,RR))try{let I=new URL(window.location.href),M=h.startsWith("//")?new URL(I.protocol+h):new URL(h),V=ao(M.pathname,_);M.origin===I.origin&&V!=null?h=V+M.search+M.hash:N=!0}catch{ya(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=b9(h,{relative:i}),[k,C,P]=ez(r,g),F=cz(h,{replace:o,state:c,target:d,preventScrollReset:m,relative:i,viewTransition:f});function D(I){e&&e(I),I.defaultPrevented||F(I)}let R=v.createElement("a",{...g,...P,href:j||E,onClick:N||a?e:D,ref:sz(x,C),target:d,"data-discover":!w&&n==="render"?"true":void 0});return k&&!w?v.createElement(v.Fragment,null,R,v.createElement(tz,{page:E})):R});Et.displayName="Link";var az=v.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:o,viewTransition:c,children:d,...h},m){let f=Mf(o,{relative:h.relative}),g=jo(),x=v.useContext(my),{navigator:_,basename:w}=v.useContext(_a),j=x!=null&&fz(f)&&c===!0,N=_.encodeLocation?_.encodeLocation(f).pathname:f.pathname,E=g.pathname,k=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(E=E.toLowerCase(),k=k?k.toLowerCase():null,N=N.toLowerCase()),k&&w&&(k=ao(k,w)||k);const C=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let P=E===N||!i&&E.startsWith(N)&&E.charAt(C)==="/",F=k!=null&&(k===N||!i&&k.startsWith(N)&&k.charAt(N.length)==="/"),D={isActive:P,isPending:F,isTransitioning:j},R=P?e:void 0,I;typeof r=="function"?I=r(D):I=[r,P?"active":null,F?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let M=typeof a=="function"?a(D):a;return v.createElement(Et,{...h,"aria-current":R,className:I,ref:m,style:M,to:o,viewTransition:c},typeof d=="function"?d(D):d)});az.displayName="NavLink";var oz=v.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:o=Hg,action:c,onSubmit:d,relative:h,preventScrollReset:m,viewTransition:f,...g},x)=>{let _=hz(),w=mz(c,{relative:h}),j=o.toLowerCase()==="get"?"get":"post",N=typeof c=="string"&&PR.test(c),E=k=>{if(d&&d(k),k.defaultPrevented)return;k.preventDefault();let C=k.nativeEvent.submitter,P=(C==null?void 0:C.getAttribute("formmethod"))||o;_(C||k.currentTarget,{fetcherKey:e,method:P,navigate:n,replace:i,state:a,relative:h,preventScrollReset:m,viewTransition:f})};return v.createElement("form",{ref:x,method:j,action:w,onSubmit:r?d:E,...g,"data-discover":!N&&t==="render"?"true":void 0})});oz.displayName="Form";function lz(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DR(t){let e=v.useContext(sh);return Sn(e,lz(t)),e}function cz(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:o}={}){let c=Bn(),d=jo(),h=Mf(t,{relative:a});return v.useCallback(m=>{if(z9(m,e)){m.preventDefault();let f=n!==void 0?n:ef(d)===ef(h);c(t,{replace:f,state:r,preventScrollReset:i,relative:a,viewTransition:o})}},[d,c,h,n,r,e,t,i,a,o])}var uz=0,dz=()=>`__${String(++uz)}__`;function hz(){let{router:t}=DR("useSubmit"),{basename:e}=v.useContext(_a),n=I9();return v.useCallback(async(r,i={})=>{let{action:a,method:o,encType:c,formData:d,body:h}=q9(r,e);if(i.navigate===!1){let m=i.fetcherKey||dz();await t.fetch(m,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:h,formMethod:i.method||o,formEncType:i.encType||c,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:h,formMethod:i.method||o,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function mz(t,{relative:e}={}){let{basename:n}=v.useContext(_a),r=v.useContext(wo);Sn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Mf(t||".",{relative:e})},o=jo();if(t==null){a.search=o.search;let c=new URLSearchParams(a.search),d=c.getAll("index");if(d.some(m=>m==="")){c.delete("index"),d.filter(f=>f).forEach(f=>c.append("index",f));let m=c.toString();a.search=m?`?${m}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:eo([n,a.pathname])),ef(a)}function fz(t,{relative:e}={}){let n=v.useContext(SR);Sn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=DR("useViewTransitionState"),i=Mf(t,{relative:e});if(!n.isTransitioning)return!1;let a=ao(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=ao(n.nextLocation.pathname,r)||n.nextLocation.pathname;return bx(i.pathname,o)!=null||bx(i.pathname,a)!=null}var Of=yR();const pz=nh(Of);function et(t){return"/"+t.toLowerCase().replace(/ /g,"-")}/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gz=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),MR=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var xz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yz=v.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...c},d)=>v.createElement("svg",{ref:d,...xz,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:MR("lucide",i),...c},[...o.map(([h,m])=>v.createElement(h,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=(t,e)=>{const n=v.forwardRef(({className:r,...i},a)=>v.createElement(yz,{ref:a,iconNode:e,className:MR(`lucide-${gz(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vz=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ul=Ee("ArrowLeft",vz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bz=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],wz=Ee("ArrowRight",bz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jz=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Hc=Ee("Award",jz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nz=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],dn=Ee("BookOpen",Nz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _z=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],BC=Ee("Book",_z);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sz=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],ih=Ee("Brain",Sz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ez=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],py=Ee("Calendar",Ez);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cz=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],kz=Ee("ChartColumn",Cz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tz=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],Az=Ee("ChartNoAxesColumn",Tz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iz=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],tf=Ee("Check",Iz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rz=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],yd=Ee("ChevronDown",Rz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pz=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],OR=Ee("ChevronRight",Pz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dz=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],LR=Ee("ChevronUp",Dz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],_j=Ee("CircleAlert",Mz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oz=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Wc=Ee("CircleCheckBig",Oz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],oa=Ee("CircleCheck",Lz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Vz=Ee("CircleHelp",Fz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]],$C=Ee("CirclePlay",Uz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]],gg=Ee("CircleStop",zz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],gy=Ee("CircleX",Bz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $z=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Sj=Ee("Circle",$z);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Ya=Ee("Clock",qz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Wz=Ee("Copy",Hz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kz=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],qC=Ee("Crown",Kz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gz=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],No=Ee("Download",Gz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qz=[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]],Yz=Ee("Eraser",Qz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],vd=Ee("ExternalLink",Jz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Zz=Ee("EyeOff",Xz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],FR=Ee("Eye",eB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ej=Ee("FileText",tB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],HC=Ee("Filter",nB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],oo=Ee("Gamepad2",rB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],VR=Ee("Gift",sB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],aB=Ee("GitBranch",iB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Om=Ee("GraduationCap",oB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lB=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],lo=Ee("Headphones",lB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],ah=Ee("Heart",cB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uB=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],dB=Ee("House",uB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hB=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],co=Ee("Image",hB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Jv=Ee("Info",mB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fB=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],WC=Ee("Layers",fB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pB=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],gB=Ee("Lightbulb",pB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xB=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],cd=Ee("LoaderCircle",xB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yB=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Cj=Ee("Lock",yB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vB=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],kj=Ee("LogIn",vB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bB=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],KC=Ee("LogOut",bB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wB=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],xy=Ee("Mail",wB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],ud=Ee("Medal",jB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NB=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],_B=Ee("Menu",NB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SB=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],EB=Ee("MessageCircle",SB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CB=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],wx=Ee("MessageSquare",CB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kB=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],Sl=Ee("Mic",kB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TB=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],AB=Ee("Moon",TB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IB=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],jx=Ee("Music",IB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RB=[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]],UR=Ee("Newspaper",RB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PB=[["path",{d:"m14.622 17.897-10.68-2.913",key:"vj2p1u"}],["path",{d:"M18.376 2.622a1 1 0 1 1 3.002 3.002L17.36 9.643a.5.5 0 0 0 0 .707l.944.944a2.41 2.41 0 0 1 0 3.408l-.944.944a.5.5 0 0 1-.707 0L8.354 7.348a.5.5 0 0 1 0-.707l.944-.944a2.41 2.41 0 0 1 3.408 0l.944.944a.5.5 0 0 0 .707 0z",key:"18tc5c"}],["path",{d:"M9 8c-1.804 2.71-3.97 3.46-6.583 3.948a.507.507 0 0 0-.302.819l7.32 8.883a1 1 0 0 0 1.185.204C12.735 20.405 16 16.792 16 15",key:"ytzfxy"}]],DB=Ee("Paintbrush",PB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MB=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],yy=Ee("Palette",MB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],zl=Ee("Pause",OB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],FB=Ee("PenTool",LB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VB=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],UB=Ee("Pencil",VB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zB=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],hr=Ee("Play",zB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ls=Ee("Plus",BB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $B=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],zR=Ee("Printer",$B);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]],BR=Ee("Radio",qB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HB=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],vy=Ee("RefreshCw",HB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WB=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],Xv=Ee("Repeat",WB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KB=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],GC=Ee("RotateCcw",KB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GB=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],va=Ee("Save",GB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QB=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],uo=Ee("Search",QB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Nx=Ee("Send",YB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Bd=Ee("Settings",JB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],oh=Ee("Shield",XB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],ni=Ee("Sparkles",ZB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e$=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],_o=Ee("SquarePen",e$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t$=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Tj=Ee("Square",t$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n$=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],zt=Ee("Star",n$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r$=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],s$=Ee("Sun",r$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i$=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],a$=Ee("Swords",i$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Aj=Ee("Target",o$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l$=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],sr=Ee("Trash2",l$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c$=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],by=Ee("TrendingUp",c$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u$=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ij=Ee("TriangleAlert",u$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d$=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],br=Ee("Trophy",d$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h$=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],ho=Ee("Upload",h$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m$=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],QC=Ee("UserCheck",m$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f$=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Ew=Ee("UserPlus",f$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p$=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],$R=Ee("User",p$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g$=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Bl=Ee("Users",g$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x$=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],to=Ee("Video",x$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y$=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],El=Ee("Volume2",y$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v$=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],nf=Ee("VolumeX",v$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b$=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Qr=Ee("X",b$),Rj=v.createContext({});function Pj(t){const e=v.useRef(null);return e.current===null&&(e.current=t()),e.current}const Dj=typeof window<"u",qR=Dj?v.useLayoutEffect:v.useEffect,wy=v.createContext(null);function Mj(t,e){t.indexOf(e)===-1&&t.push(e)}function Oj(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const mo=(t,e,n)=>n>e?e:n<t?t:n;let Lj=()=>{};const fo={},HR=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function WR(t){return typeof t=="object"&&t!==null}const KR=t=>/^0[^.\s]+$/u.test(t);function Fj(t){let e;return()=>(e===void 0&&(e=t()),e)}const ri=t=>t,w$=(t,e)=>n=>e(t(n)),Lf=(...t)=>t.reduce(w$),rf=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Vj{constructor(){this.subscriptions=[]}add(e){return Mj(this.subscriptions,e),()=>Oj(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const la=t=>t*1e3,ti=t=>t/1e3;function GR(t,e){return e?t*(1e3/e):0}const QR=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,j$=1e-7,N$=12;function _$(t,e,n,r,i){let a,o,c=0;do o=e+(n-e)/2,a=QR(o,r,i)-t,a>0?n=o:e=o;while(Math.abs(a)>j$&&++c<N$);return o}function Ff(t,e,n,r){if(t===e&&n===r)return ri;const i=a=>_$(a,0,1,t,n);return a=>a===0||a===1?a:QR(i(a),e,r)}const YR=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,JR=t=>e=>1-t(1-e),XR=Ff(.33,1.53,.69,.99),Uj=JR(XR),ZR=YR(Uj),eP=t=>(t*=2)<1?.5*Uj(t):.5*(2-Math.pow(2,-10*(t-1))),zj=t=>1-Math.sin(Math.acos(t)),tP=JR(zj),nP=YR(zj),S$=Ff(.42,0,1,1),E$=Ff(0,0,.58,1),rP=Ff(.42,0,.58,1),C$=t=>Array.isArray(t)&&typeof t[0]!="number",sP=t=>Array.isArray(t)&&typeof t[0]=="number",k$={linear:ri,easeIn:S$,easeInOut:rP,easeOut:E$,circIn:zj,circInOut:nP,circOut:tP,backIn:Uj,backInOut:ZR,backOut:XR,anticipate:eP},T$=t=>typeof t=="string",YC=t=>{if(sP(t)){Lj(t.length===4);const[e,n,r,i]=t;return Ff(e,n,r,i)}else if(T$(t))return k$[t];return t},xg=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function A$(t,e){let n=new Set,r=new Set,i=!1,a=!1;const o=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(m){o.has(m)&&(h.schedule(m),t()),m(c)}const h={schedule:(m,f=!1,g=!1)=>{const _=g&&i?n:r;return f&&o.add(m),_.has(m)||_.add(m),m},cancel:m=>{r.delete(m),o.delete(m)},process:m=>{if(c=m,i){a=!0;return}i=!0,[n,r]=[r,n],n.forEach(d),n.clear(),i=!1,a&&(a=!1,h.process(m))}};return h}const I$=40;function iP(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=xg.reduce((k,C)=>(k[C]=A$(a),k),{}),{setup:c,read:d,resolveKeyframes:h,preUpdate:m,update:f,preRender:g,render:x,postRender:_}=o,w=()=>{const k=fo.useManualTiming?i.timestamp:performance.now();n=!1,fo.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(k-i.timestamp,I$),1)),i.timestamp=k,i.isProcessing=!0,c.process(i),d.process(i),h.process(i),m.process(i),f.process(i),g.process(i),x.process(i),_.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(w))},j=()=>{n=!0,r=!0,i.isProcessing||t(w)};return{schedule:xg.reduce((k,C)=>{const P=o[C];return k[C]=(F,D=!1,R=!1)=>(n||j(),P.schedule(F,D,R)),k},{}),cancel:k=>{for(let C=0;C<xg.length;C++)o[xg[C]].cancel(k)},state:i,steps:o}}const{schedule:yn,cancel:Cl,state:xr,steps:Zv}=iP(typeof requestAnimationFrame<"u"?requestAnimationFrame:ri,!0);let Kg;function R$(){Kg=void 0}const hs={now:()=>(Kg===void 0&&hs.set(xr.isProcessing||fo.useManualTiming?xr.timestamp:performance.now()),Kg),set:t=>{Kg=t,queueMicrotask(R$)}},aP=t=>e=>typeof e=="string"&&e.startsWith(t),Bj=aP("--"),P$=aP("var(--"),$j=t=>P$(t)?D$.test(t.split("/*")[0].trim()):!1,D$=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,lh={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},sf={...lh,transform:t=>mo(0,1,t)},yg={...lh,default:1},Lm=t=>Math.round(t*1e5)/1e5,qj=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function M$(t){return t==null}const O$=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Hj=(t,e)=>n=>!!(typeof n=="string"&&O$.test(n)&&n.startsWith(t)||e&&!M$(n)&&Object.prototype.hasOwnProperty.call(n,e)),oP=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,a,o,c]=r.match(qj);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(o),alpha:c!==void 0?parseFloat(c):1}},L$=t=>mo(0,255,t),eb={...lh,transform:t=>Math.round(L$(t))},Ec={test:Hj("rgb","red"),parse:oP("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+eb.transform(t)+", "+eb.transform(e)+", "+eb.transform(n)+", "+Lm(sf.transform(r))+")"};function F$(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Cw={test:Hj("#"),parse:F$,transform:Ec.transform},Vf=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),tl=Vf("deg"),ca=Vf("%"),ct=Vf("px"),V$=Vf("vh"),U$=Vf("vw"),JC={...ca,parse:t=>ca.parse(t)/100,transform:t=>ca.transform(t*100)},dd={test:Hj("hsl","hue"),parse:oP("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ca.transform(Lm(e))+", "+ca.transform(Lm(n))+", "+Lm(sf.transform(r))+")"},Gn={test:t=>Ec.test(t)||Cw.test(t)||dd.test(t),parse:t=>Ec.test(t)?Ec.parse(t):dd.test(t)?dd.parse(t):Cw.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ec.transform(t):dd.transform(t),getAnimatableNone:t=>{const e=Gn.parse(t);return e.alpha=0,Gn.transform(e)}},z$=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function B$(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(qj))==null?void 0:e.length)||0)+(((n=t.match(z$))==null?void 0:n.length)||0)>0}const lP="number",cP="color",$$="var",q$="var(",XC="${}",H$=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function af(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const c=e.replace(H$,d=>(Gn.test(d)?(r.color.push(a),i.push(cP),n.push(Gn.parse(d))):d.startsWith(q$)?(r.var.push(a),i.push($$),n.push(d)):(r.number.push(a),i.push(lP),n.push(parseFloat(d))),++a,XC)).split(XC);return{values:n,split:c,indexes:r,types:i}}function uP(t){return af(t).values}function dP(t){const{split:e,types:n}=af(t),r=e.length;return i=>{let a="";for(let o=0;o<r;o++)if(a+=e[o],i[o]!==void 0){const c=n[o];c===lP?a+=Lm(i[o]):c===cP?a+=Gn.transform(i[o]):a+=i[o]}return a}}const W$=t=>typeof t=="number"?0:Gn.test(t)?Gn.getAnimatableNone(t):t;function K$(t){const e=uP(t);return dP(t)(e.map(W$))}const kl={test:B$,parse:uP,createTransformer:dP,getAnimatableNone:K$};function tb(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function G$({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,a=0,o=0;if(!e)i=a=o=n;else{const c=n<.5?n*(1+e):n+e-n*e,d=2*n-c;i=tb(d,c,t+1/3),a=tb(d,c,t),o=tb(d,c,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}function _x(t,e){return n=>n>0?e:t}const _n=(t,e,n)=>t+(e-t)*n,nb=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},Q$=[Cw,Ec,dd],Y$=t=>Q$.find(e=>e.test(t));function ZC(t){const e=Y$(t);if(!e)return!1;let n=e.parse(t);return e===dd&&(n=G$(n)),n}const e2=(t,e)=>{const n=ZC(t),r=ZC(e);if(!n||!r)return _x(t,e);const i={...n};return a=>(i.red=nb(n.red,r.red,a),i.green=nb(n.green,r.green,a),i.blue=nb(n.blue,r.blue,a),i.alpha=_n(n.alpha,r.alpha,a),Ec.transform(i))},kw=new Set(["none","hidden"]);function J$(t,e){return kw.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function X$(t,e){return n=>_n(t,e,n)}function Wj(t){return typeof t=="number"?X$:typeof t=="string"?$j(t)?_x:Gn.test(t)?e2:t8:Array.isArray(t)?hP:typeof t=="object"?Gn.test(t)?e2:Z$:_x}function hP(t,e){const n=[...t],r=n.length,i=t.map((a,o)=>Wj(a)(a,e[o]));return a=>{for(let o=0;o<r;o++)n[o]=i[o](a);return n}}function Z$(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Wj(t[i])(t[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function e8(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],o=t.indexes[a][r[a]],c=t.values[o]??0;n[i]=c,r[a]++}return n}const t8=(t,e)=>{const n=kl.createTransformer(e),r=af(t),i=af(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?kw.has(t)&&!i.values.length||kw.has(e)&&!r.values.length?J$(t,e):Lf(hP(e8(r,i),i.values),n):_x(t,e)};function mP(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?_n(t,e,n):Wj(t)(t,e)}const n8=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>yn.update(e,n),stop:()=>Cl(e),now:()=>xr.isProcessing?xr.timestamp:hs.now()}},fP=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)r+=Math.round(t(a/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Sx=2e4;function Kj(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Sx;)e+=n,r=t.next(e);return e>=Sx?1/0:e}function r8(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(Kj(r),Sx);return{type:"keyframes",ease:a=>r.next(i*a).value/e,duration:ti(i)}}const s8=5;function pP(t,e,n){const r=Math.max(e-s8,0);return GR(n-t(r),e-r)}const In={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},rb=.001;function i8({duration:t=In.duration,bounce:e=In.bounce,velocity:n=In.velocity,mass:r=In.mass}){let i,a,o=1-e;o=mo(In.minDamping,In.maxDamping,o),t=mo(In.minDuration,In.maxDuration,ti(t)),o<1?(i=h=>{const m=h*o,f=m*t,g=m-n,x=Tw(h,o),_=Math.exp(-f);return rb-g/x*_},a=h=>{const f=h*o*t,g=f*n+n,x=Math.pow(o,2)*Math.pow(h,2)*t,_=Math.exp(-f),w=Tw(Math.pow(h,2),o);return(-i(h)+rb>0?-1:1)*((g-x)*_)/w}):(i=h=>{const m=Math.exp(-h*t),f=(h-n)*t+1;return-rb+m*f},a=h=>{const m=Math.exp(-h*t),f=(n-h)*(t*t);return m*f});const c=5/t,d=o8(i,a,c);if(t=la(t),isNaN(d))return{stiffness:In.stiffness,damping:In.damping,duration:t};{const h=Math.pow(d,2)*r;return{stiffness:h,damping:o*2*Math.sqrt(r*h),duration:t}}}const a8=12;function o8(t,e,n){let r=n;for(let i=1;i<a8;i++)r=r-t(r)/e(r);return r}function Tw(t,e){return t*Math.sqrt(1-e*e)}const l8=["duration","bounce"],c8=["stiffness","damping","mass"];function t2(t,e){return e.some(n=>t[n]!==void 0)}function u8(t){let e={velocity:In.velocity,stiffness:In.stiffness,damping:In.damping,mass:In.mass,isResolvedFromDuration:!1,...t};if(!t2(t,c8)&&t2(t,l8))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*mo(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:In.mass,stiffness:i,damping:a}}else{const n=i8(t);e={...e,...n,mass:In.mass},e.isResolvedFromDuration=!0}return e}function Ex(t=In.visualDuration,e=In.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],c={done:!1,value:a},{stiffness:d,damping:h,mass:m,duration:f,velocity:g,isResolvedFromDuration:x}=u8({...n,velocity:-ti(n.velocity||0)}),_=g||0,w=h/(2*Math.sqrt(d*m)),j=o-a,N=ti(Math.sqrt(d/m)),E=Math.abs(j)<5;r||(r=E?In.restSpeed.granular:In.restSpeed.default),i||(i=E?In.restDelta.granular:In.restDelta.default);let k;if(w<1){const P=Tw(N,w);k=F=>{const D=Math.exp(-w*N*F);return o-D*((_+w*N*j)/P*Math.sin(P*F)+j*Math.cos(P*F))}}else if(w===1)k=P=>o-Math.exp(-N*P)*(j+(_+N*j)*P);else{const P=N*Math.sqrt(w*w-1);k=F=>{const D=Math.exp(-w*N*F),R=Math.min(P*F,300);return o-D*((_+w*N*j)*Math.sinh(R)+P*j*Math.cosh(R))/P}}const C={calculatedDuration:x&&f||null,next:P=>{const F=k(P);if(x)c.done=P>=f;else{let D=P===0?_:0;w<1&&(D=P===0?la(_):pP(k,P,F));const R=Math.abs(D)<=r,I=Math.abs(o-F)<=i;c.done=R&&I}return c.value=c.done?o:F,c},toString:()=>{const P=Math.min(Kj(C),Sx),F=fP(D=>C.next(P*D).value,P,30);return P+"ms "+F},toTransition:()=>{}};return C}Ex.applyToOptions=t=>{const e=r8(t,100,Ex);return t.ease=e.ease,t.duration=la(e.duration),t.type="keyframes",t};function Aw({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:c,max:d,restDelta:h=.5,restSpeed:m}){const f=t[0],g={done:!1,value:f},x=R=>c!==void 0&&R<c||d!==void 0&&R>d,_=R=>c===void 0?d:d===void 0||Math.abs(c-R)<Math.abs(d-R)?c:d;let w=n*e;const j=f+w,N=o===void 0?j:o(j);N!==j&&(w=N-f);const E=R=>-w*Math.exp(-R/r),k=R=>N+E(R),C=R=>{const I=E(R),M=k(R);g.done=Math.abs(I)<=h,g.value=g.done?N:M};let P,F;const D=R=>{x(g.value)&&(P=R,F=Ex({keyframes:[g.value,_(g.value)],velocity:pP(k,R,g.value),damping:i,stiffness:a,restDelta:h,restSpeed:m}))};return D(0),{calculatedDuration:null,next:R=>{let I=!1;return!F&&P===void 0&&(I=!0,C(R),D(R)),P!==void 0&&R>=P?F.next(R-P):(!I&&C(R),g)}}}function d8(t,e,n){const r=[],i=n||fo.mix||mP,a=t.length-1;for(let o=0;o<a;o++){let c=i(t[o],t[o+1]);if(e){const d=Array.isArray(e)?e[o]||ri:e;c=Lf(d,c)}r.push(c)}return r}function h8(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;if(Lj(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=d8(e,r,i),d=c.length,h=m=>{if(o&&m<t[0])return e[0];let f=0;if(d>1)for(;f<t.length-2&&!(m<t[f+1]);f++);const g=rf(t[f],t[f+1],m);return c[f](g)};return n?m=>h(mo(t[0],t[a-1],m)):h}function m8(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=rf(0,e,r);t.push(_n(n,1,i))}}function f8(t){const e=[0];return m8(e,t.length-1),e}function p8(t,e){return t.map(n=>n*e)}function g8(t,e){return t.map(()=>e||rP).splice(0,t.length-1)}function Fm({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=C$(r)?r.map(YC):YC(r),a={done:!1,value:e[0]},o=p8(n&&n.length===e.length?n:f8(e),t),c=h8(o,e,{ease:Array.isArray(i)?i:g8(e,i)});return{calculatedDuration:t,next:d=>(a.value=c(d),a.done=d>=t,a)}}const x8=t=>t!==null;function Gj(t,{repeat:e,repeatType:n="loop"},r,i=1){const a=t.filter(x8),c=i<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!c||r===void 0?a[c]:r}const y8={decay:Aw,inertia:Aw,tween:Fm,keyframes:Fm,spring:Ex};function gP(t){typeof t.type=="string"&&(t.type=y8[t.type])}class Qj{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const v8=t=>t/100;class Yj extends Qj{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==hs.now()&&this.tick(hs.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;gP(e);const{type:n=Fm,repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=e;let{keyframes:c}=e;const d=n||Fm;d!==Fm&&typeof c[0]!="number"&&(this.mixKeyframes=Lf(v8,mP(c[0],c[1])),c=[0,100]);const h=d({...e,keyframes:c});a==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...c].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=Kj(h));const{calculatedDuration:m}=h;this.calculatedDuration=m,this.resolvedDuration=m+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=h}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:c,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:h=0,keyframes:m,repeat:f,repeatType:g,repeatDelay:x,type:_,onUpdate:w,finalKeyframe:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const N=this.currentTime-h*(this.playbackSpeed>=0?1:-1),E=this.playbackSpeed>=0?N<0:N>i;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let k=this.currentTime,C=r;if(f){const R=Math.min(this.currentTime,i)/c;let I=Math.floor(R),M=R%1;!M&&R>=1&&(M=1),M===1&&I--,I=Math.min(I,f+1),!!(I%2)&&(g==="reverse"?(M=1-M,x&&(M-=x/c)):g==="mirror"&&(C=o)),k=mo(0,1,M)*c}const P=E?{done:!1,value:m[0]}:C.next(k);a&&(P.value=a(P.value));let{done:F}=P;!E&&d!==null&&(F=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&F);return D&&_!==Aw&&(P.value=Gj(m,this.options,j,this.speed)),w&&w(P.value),D&&this.finish(),P}then(e,n){return this.finished.then(e,n)}get duration(){return ti(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ti(e)}get time(){return ti(this.currentTime)}set time(e){var n;e=la(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(hs.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ti(this.currentTime))}play(){var i,a;if(this.isStopped)return;const{driver:e=n8,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(a=(i=this.options).onPlay)==null||a.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(hs.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function b8(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Cc=t=>t*180/Math.PI,Iw=t=>{const e=Cc(Math.atan2(t[1],t[0]));return Rw(e)},w8={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Iw,rotateZ:Iw,skewX:t=>Cc(Math.atan(t[1])),skewY:t=>Cc(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Rw=t=>(t=t%360,t<0&&(t+=360),t),n2=Iw,r2=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),s2=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),j8={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:r2,scaleY:s2,scale:t=>(r2(t)+s2(t))/2,rotateX:t=>Rw(Cc(Math.atan2(t[6],t[5]))),rotateY:t=>Rw(Cc(Math.atan2(-t[2],t[0]))),rotateZ:n2,rotate:n2,skewX:t=>Cc(Math.atan(t[4])),skewY:t=>Cc(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Pw(t){return t.includes("scale")?1:0}function Dw(t,e){if(!t||t==="none")return Pw(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=j8,i=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=w8,i=c}if(!i)return Pw(e);const a=r[e],o=i[1].split(",").map(_8);return typeof a=="function"?a(o):o[a]}const N8=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Dw(n,e)};function _8(t){return parseFloat(t.trim())}const ch=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],uh=new Set(ch),i2=t=>t===lh||t===ct,S8=new Set(["x","y","z"]),E8=ch.filter(t=>!S8.has(t));function C8(t){const e=[];return E8.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Uc={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Dw(e,"x"),y:(t,{transform:e})=>Dw(e,"y")};Uc.translateX=Uc.x;Uc.translateY=Uc.y;const zc=new Set;let Mw=!1,Ow=!1,Lw=!1;function xP(){if(Ow){const t=Array.from(zc).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=C8(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,o])=>{var c;(c=r.getValue(a))==null||c.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Ow=!1,Mw=!1,zc.forEach(t=>t.complete(Lw)),zc.clear()}function yP(){zc.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Ow=!0)})}function k8(){Lw=!0,yP(),xP(),Lw=!1}class Jj{constructor(e,n,r,i,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(zc.add(this),Mw||(Mw=!0,yn.read(yP),yn.resolveKeyframes(xP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const a=i==null?void 0:i.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const c=r.readValue(n,o);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=o),i&&a===void 0&&i.set(e[0])}b8(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),zc.delete(this)}cancel(){this.state==="scheduled"&&(zc.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const T8=t=>t.startsWith("--");function A8(t,e,n){T8(e)?t.style.setProperty(e,n):t.style[e]=n}const I8=Fj(()=>window.ScrollTimeline!==void 0),R8={};function P8(t,e){const n=Fj(t);return()=>R8[e]??n()}const vP=P8(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),_m=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,a2={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:_m([0,.65,.55,1]),circOut:_m([.55,0,1,.45]),backIn:_m([.31,.01,.66,-.59]),backOut:_m([.33,1.53,.69,.99])};function bP(t,e){if(t)return typeof t=="function"?vP()?fP(t,e):"ease-out":sP(t)?_m(t):Array.isArray(t)?t.map(n=>bP(n,e)||a2.easeOut):a2[t]}function D8(t,e,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:c="easeOut",times:d}={},h=void 0){const m={[e]:n};d&&(m.offset=d);const f=bP(c,i);Array.isArray(f)&&(m.easing=f);const g={delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return h&&(g.pseudoElement=h),t.animate(m,g)}function wP(t){return typeof t=="function"&&"applyToOptions"in t}function M8({type:t,...e}){return wP(t)&&vP()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class O8 extends Qj{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:c,onComplete:d}=e;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=e,Lj(typeof e.type!="string");const h=M8(e);this.animation=D8(n,r,i,h,a),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const m=Gj(i,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(m):A8(n,r,m),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return ti(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ti(e)}get time(){return ti(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=la(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&I8()?(this.animation.timeline=e,ri):n(this)}}const jP={anticipate:eP,backInOut:ZR,circInOut:nP};function L8(t){return t in jP}function F8(t){typeof t.ease=="string"&&L8(t.ease)&&(t.ease=jP[t.ease])}const o2=10;class V8 extends O8{constructor(e){F8(e),gP(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:a,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const c=new Yj({...o,autoplay:!1}),d=la(this.finishedTime??this.time);n.setWithVelocity(c.sample(d-o2).value,c.sample(d).value,o2),c.stop()}}const l2=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(kl.test(t)||t==="0")&&!t.startsWith("url("));function U8(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function z8(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],o=l2(i,e),c=l2(a,e);return!o||!c?!1:U8(t)||(n==="spring"||wP(n))&&r}function Fw(t){t.duration=0,t.type="keyframes"}const B8=new Set(["opacity","clipPath","filter","transform"]),$8=Fj(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function q8(t){var m;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:a,type:o}=t;if(!(((m=e==null?void 0:e.owner)==null?void 0:m.current)instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:h}=e.owner.getProps();return $8()&&n&&B8.has(n)&&(n!=="transform"||!h)&&!d&&!r&&i!=="mirror"&&a!==0&&o!=="inertia"}const H8=40;class W8 extends Qj{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",keyframes:c,name:d,motionValue:h,element:m,...f}){var _;super(),this.stop=()=>{var w,j;this._animation&&(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)),(j=this.keyframeResolver)==null||j.cancel()},this.createdAt=hs.now();const g={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:o,name:d,motionValue:h,element:m,...f},x=(m==null?void 0:m.KeyframeResolver)||Jj;this.keyframeResolver=new x(c,(w,j,N)=>this.onKeyframesResolved(w,j,g,!N),d,h,m),(_=this.keyframeResolver)==null||_.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:a,type:o,velocity:c,delay:d,isHandoff:h,onUpdate:m}=r;this.resolvedAt=hs.now(),z8(e,a,o,c)||((fo.instantAnimations||!d)&&(m==null||m(Gj(e,r,n))),e[0]=e[e.length-1],Fw(r),r.repeat=0);const g={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>H8?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},x=!h&&q8(g)?new V8({...g,element:g.motionValue.owner.current}):new Yj(g);x.finished.then(()=>this.notifyFinished()).catch(ri),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),k8()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const K8=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function G8(t){const e=K8.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function NP(t,e,n=1){const[r,i]=G8(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const o=a.trim();return HR(o)?parseFloat(o):o}return $j(i)?NP(i,e,n+1):i}function Xj(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const _P=new Set(["width","height","top","left","right","bottom",...ch]),Q8={test:t=>t==="auto",parse:t=>t},SP=t=>e=>e.test(t),EP=[lh,ct,ca,tl,U$,V$,Q8],c2=t=>EP.find(SP(t));function Y8(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||KR(t):!0}const J8=new Set(["brightness","contrast","saturate","opacity"]);function X8(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(qj)||[];if(!r)return t;const i=n.replace(r,"");let a=J8.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const Z8=/\b([a-z-]*)\(.*?\)/gu,Vw={...kl,getAnimatableNone:t=>{const e=t.match(Z8);return e?e.map(X8).join(" "):t}},u2={...lh,transform:Math.round},e7={rotate:tl,rotateX:tl,rotateY:tl,rotateZ:tl,scale:yg,scaleX:yg,scaleY:yg,scaleZ:yg,skew:tl,skewX:tl,skewY:tl,distance:ct,translateX:ct,translateY:ct,translateZ:ct,x:ct,y:ct,z:ct,perspective:ct,transformPerspective:ct,opacity:sf,originX:JC,originY:JC,originZ:ct},Zj={borderWidth:ct,borderTopWidth:ct,borderRightWidth:ct,borderBottomWidth:ct,borderLeftWidth:ct,borderRadius:ct,radius:ct,borderTopLeftRadius:ct,borderTopRightRadius:ct,borderBottomRightRadius:ct,borderBottomLeftRadius:ct,width:ct,maxWidth:ct,height:ct,maxHeight:ct,top:ct,right:ct,bottom:ct,left:ct,padding:ct,paddingTop:ct,paddingRight:ct,paddingBottom:ct,paddingLeft:ct,margin:ct,marginTop:ct,marginRight:ct,marginBottom:ct,marginLeft:ct,backgroundPositionX:ct,backgroundPositionY:ct,...e7,zIndex:u2,fillOpacity:sf,strokeOpacity:sf,numOctaves:u2},t7={...Zj,color:Gn,backgroundColor:Gn,outlineColor:Gn,fill:Gn,stroke:Gn,borderColor:Gn,borderTopColor:Gn,borderRightColor:Gn,borderBottomColor:Gn,borderLeftColor:Gn,filter:Vw,WebkitFilter:Vw},CP=t=>t7[t];function kP(t,e){let n=CP(t);return n!==Vw&&(n=kl),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const n7=new Set(["auto","none","0"]);function r7(t,e,n){let r=0,i;for(;r<t.length&&!i;){const a=t[r];typeof a=="string"&&!n7.has(a)&&af(a).values.length&&(i=t[r]),r++}if(i&&n)for(const a of e)t[a]=kP(n,i)}class s7 extends Jj{constructor(e,n,r,i,a){super(e,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let h=e[d];if(typeof h=="string"&&(h=h.trim(),$j(h))){const m=NP(h,n.current);m!==void 0&&(e[d]=m),d===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!_P.has(r)||e.length!==2)return;const[i,a]=e,o=c2(i),c=c2(a);if(o!==c)if(i2(o)&&i2(c))for(let d=0;d<e.length;d++){const h=e[d];typeof h=="string"&&(e[d]=parseFloat(h))}else Uc[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||Y8(e[i]))&&r.push(i);r.length&&r7(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Uc[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var c;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,o=r[a];r[a]=Uc[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([d,h])=>{e.getValue(d).set(h)}),this.resolveNoneKeyframes()}}function i7(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const TP=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function AP(t){return WR(t)&&"offsetHeight"in t}const d2=30,a7=t=>!isNaN(parseFloat(t));class o7{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var a;const i=hs.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=hs.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=a7(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Vj);const r=this.events[e].add(n);return e==="change"?()=>{r(),yn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=hs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>d2)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,d2);return GR(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function $d(t,e){return new o7(t,e)}const{schedule:eN}=iP(queueMicrotask,!1),yi={x:!1,y:!1};function IP(){return yi.x||yi.y}function l7(t){return t==="x"||t==="y"?yi[t]?null:(yi[t]=!0,()=>{yi[t]=!1}):yi.x||yi.y?null:(yi.x=yi.y=!0,()=>{yi.x=yi.y=!1})}function RP(t,e){const n=i7(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function h2(t){return!(t.pointerType==="touch"||IP())}function c7(t,e,n={}){const[r,i,a]=RP(t,n),o=c=>{if(!h2(c))return;const{target:d}=c,h=e(d,c);if(typeof h!="function"||!d)return;const m=f=>{h2(f)&&(h(f),d.removeEventListener("pointerleave",m))};d.addEventListener("pointerleave",m,i)};return r.forEach(c=>{c.addEventListener("pointerenter",o,i)}),a}const PP=(t,e)=>e?t===e?!0:PP(t,e.parentElement):!1,tN=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,u7=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function d7(t){return u7.has(t.tagName)||t.tabIndex!==-1}const Gg=new WeakSet;function m2(t){return e=>{e.key==="Enter"&&t(e)}}function sb(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const h7=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=m2(()=>{if(Gg.has(n))return;sb(n,"down");const i=m2(()=>{sb(n,"up")}),a=()=>sb(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function f2(t){return tN(t)&&!IP()}function m7(t,e,n={}){const[r,i,a]=RP(t,n),o=c=>{const d=c.currentTarget;if(!f2(c))return;Gg.add(d);const h=e(d,c),m=(x,_)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",g),Gg.has(d)&&Gg.delete(d),f2(x)&&typeof h=="function"&&h(x,{success:_})},f=x=>{m(x,d===window||d===document||n.useGlobalTarget||PP(d,x.target))},g=x=>{m(x,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",g,i)};return r.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",o,i),AP(c)&&(c.addEventListener("focus",h=>h7(h,i)),!d7(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),a}function DP(t){return WR(t)&&"ownerSVGElement"in t}function f7(t){return DP(t)&&t.tagName==="svg"}const Dr=t=>!!(t&&t.getVelocity),p7=[...EP,Gn,kl],g7=t=>p7.find(SP(t)),nN=v.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function p2(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function x7(...t){return e=>{let n=!1;const r=t.map(i=>{const a=p2(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():p2(t[i],null)}}}}function y7(...t){return v.useCallback(x7(...t),t)}class v7 extends v.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=AP(r)&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function b7({children:t,isPresent:e,anchorX:n,root:r}){const i=v.useId(),a=v.useRef(null),o=v.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=v.useContext(nN),d=y7(a,t==null?void 0:t.ref);return v.useInsertionEffect(()=>{const{width:h,height:m,top:f,left:g,right:x}=o.current;if(e||!a.current||!h||!m)return;const _=n==="left"?`left: ${g}`:`right: ${x}`;a.current.dataset.motionPopId=i;const w=document.createElement("style");c&&(w.nonce=c);const j=r??document.head;return j.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${m}px !important;
            ${_}px !important;
            top: ${f}px !important;
          }
        `),()=>{j.contains(w)&&j.removeChild(w)}},[e]),s.jsx(v7,{isPresent:e,childRef:a,sizeRef:o,children:v.cloneElement(t,{ref:d})})}const w7=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:o,anchorX:c,root:d})=>{const h=Pj(j7),m=v.useId();let f=!0,g=v.useMemo(()=>(f=!1,{id:m,initial:e,isPresent:n,custom:i,onExitComplete:x=>{h.set(x,!0);for(const _ of h.values())if(!_)return;r&&r()},register:x=>(h.set(x,!1),()=>h.delete(x))}),[n,h,r]);return a&&f&&(g={...g}),v.useMemo(()=>{h.forEach((x,_)=>h.set(_,!1))},[n]),v.useEffect(()=>{!n&&!h.size&&r&&r()},[n]),o==="popLayout"&&(t=s.jsx(b7,{isPresent:n,anchorX:c,root:d,children:t})),s.jsx(wy.Provider,{value:g,children:t})};function j7(){return new Map}function MP(t=!0){const e=v.useContext(wy);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,a=v.useId();v.useEffect(()=>{if(t)return i(a)},[t]);const o=v.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,o]:[!0]}const vg=t=>t.key||"";function g2(t){const e=[];return v.Children.forEach(t,n=>{v.isValidElement(n)&&e.push(n)}),e}const gs=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:o=!1,anchorX:c="left",root:d})=>{const[h,m]=MP(o),f=v.useMemo(()=>g2(t),[t]),g=o&&!h?[]:f.map(vg),x=v.useRef(!0),_=v.useRef(f),w=Pj(()=>new Map),[j,N]=v.useState(f),[E,k]=v.useState(f);qR(()=>{x.current=!1,_.current=f;for(let F=0;F<E.length;F++){const D=vg(E[F]);g.includes(D)?w.delete(D):w.get(D)!==!0&&w.set(D,!1)}},[E,g.length,g.join("-")]);const C=[];if(f!==j){let F=[...f];for(let D=0;D<E.length;D++){const R=E[D],I=vg(R);g.includes(I)||(F.splice(D,0,R),C.push(R))}return a==="wait"&&C.length&&(F=C),k(g2(F)),N(f),null}const{forceRender:P}=v.useContext(Rj);return s.jsx(s.Fragment,{children:E.map(F=>{const D=vg(F),R=o&&!h?!1:f===E||g.includes(D),I=()=>{if(w.has(D))w.set(D,!0);else return;let M=!0;w.forEach(V=>{V||(M=!1)}),M&&(P==null||P(),k(_.current),o&&(m==null||m()),r&&r())};return s.jsx(w7,{isPresent:R,initial:!x.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:a,root:d,onExitComplete:R?void 0:I,anchorX:c,children:F},D)})})},OP=v.createContext({strict:!1}),x2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},qd={};for(const t in x2)qd[t]={isEnabled:e=>x2[t].some(n=>!!e[n])};function N7(t){for(const e in t)qd[e]={...qd[e],...t[e]}}const _7=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Cx(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||_7.has(t)}let LP=t=>!Cx(t);function S7(t){typeof t=="function"&&(LP=e=>e.startsWith("on")?!Cx(e):t(e))}try{S7(require("@emotion/is-prop-valid").default)}catch{}function E7(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(LP(i)||n===!0&&Cx(i)||!e&&!Cx(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const jy=v.createContext({});function Ny(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function of(t){return typeof t=="string"||Array.isArray(t)}const rN=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],sN=["initial",...rN];function _y(t){return Ny(t.animate)||sN.some(e=>of(t[e]))}function FP(t){return!!(_y(t)||t.variants)}function C7(t,e){if(_y(t)){const{initial:n,animate:r}=t;return{initial:n===!1||of(n)?n:void 0,animate:of(r)?r:void 0}}return t.inherit!==!1?e:{}}function k7(t){const{initial:e,animate:n}=C7(t,v.useContext(jy));return v.useMemo(()=>({initial:e,animate:n}),[y2(e),y2(n)])}function y2(t){return Array.isArray(t)?t.join(" "):t}const lf={};function T7(t){for(const e in t)lf[e]=t[e],Bj(e)&&(lf[e].isCSSVariable=!0)}function VP(t,{layout:e,layoutId:n}){return uh.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!lf[t]||t==="opacity")}const A7={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},I7=ch.length;function R7(t,e,n){let r="",i=!0;for(let a=0;a<I7;a++){const o=ch[a],c=t[o];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(o.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||n){const h=TP(c,Zj[o]);if(!d){i=!1;const m=A7[o]||o;r+=`${m}(${h}) `}n&&(e[o]=h)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function iN(t,e,n){const{style:r,vars:i,transformOrigin:a}=t;let o=!1,c=!1;for(const d in e){const h=e[d];if(uh.has(d)){o=!0;continue}else if(Bj(d)){i[d]=h;continue}else{const m=TP(h,Zj[d]);d.startsWith("origin")?(c=!0,a[d]=m):r[d]=m}}if(e.transform||(o||n?r.transform=R7(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:d="50%",originY:h="50%",originZ:m=0}=a;r.transformOrigin=`${d} ${h} ${m}`}}const aN=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function UP(t,e,n){for(const r in e)!Dr(e[r])&&!VP(r,n)&&(t[r]=e[r])}function P7({transformTemplate:t},e){return v.useMemo(()=>{const n=aN();return iN(n,e,t),Object.assign({},n.vars,n.style)},[e])}function D7(t,e){const n=t.style||{},r={};return UP(r,n,t),Object.assign(r,P7(t,e)),r}function M7(t,e){const n={},r=D7(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const O7={offset:"stroke-dashoffset",array:"stroke-dasharray"},L7={offset:"strokeDashoffset",array:"strokeDasharray"};function F7(t,e,n=1,r=0,i=!0){t.pathLength=1;const a=i?O7:L7;t[a.offset]=ct.transform(-r);const o=ct.transform(e),c=ct.transform(n);t[a.array]=`${o} ${c}`}function zP(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:o=0,...c},d,h,m){if(iN(t,c,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:g}=t;f.transform&&(g.transform=f.transform,delete f.transform),(g.transform||f.transformOrigin)&&(g.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),g.transform&&(g.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),i!==void 0&&F7(f,i,a,o,!1)}const BP=()=>({...aN(),attrs:{}}),$P=t=>typeof t=="string"&&t.toLowerCase()==="svg";function V7(t,e,n,r){const i=v.useMemo(()=>{const a=BP();return zP(a,e,$P(r),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};UP(a,t.style,t),i.style={...a,...i.style}}return i}const U7=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function oN(t){return typeof t!="string"||t.includes("-")?!1:!!(U7.indexOf(t)>-1||/[A-Z]/u.test(t))}function z7(t,e,n,{latestValues:r},i,a=!1){const c=(oN(t)?V7:M7)(e,r,i,t),d=E7(e,typeof t=="string",a),h=t!==v.Fragment?{...d,...c,ref:n}:{},{children:m}=e,f=v.useMemo(()=>Dr(m)?m.get():m,[m]);return v.createElement(t,{...h,children:f})}function v2(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function lN(t,e,n,r){if(typeof e=="function"){const[i,a]=v2(r);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=v2(r);e=e(n!==void 0?n:t.custom,i,a)}return e}function Qg(t){return Dr(t)?t.get():t}function B7({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:$7(n,r,i,t),renderState:e()}}function $7(t,e,n,r){const i={},a=r(t,{});for(const g in a)i[g]=Qg(a[g]);let{initial:o,animate:c}=t;const d=_y(t),h=FP(t);e&&h&&!d&&t.inherit!==!1&&(o===void 0&&(o=e.initial),c===void 0&&(c=e.animate));let m=n?n.initial===!1:!1;m=m||o===!1;const f=m?c:o;if(f&&typeof f!="boolean"&&!Ny(f)){const g=Array.isArray(f)?f:[f];for(let x=0;x<g.length;x++){const _=lN(t,g[x]);if(_){const{transitionEnd:w,transition:j,...N}=_;for(const E in N){let k=N[E];if(Array.isArray(k)){const C=m?k.length-1:0;k=k[C]}k!==null&&(i[E]=k)}for(const E in w)i[E]=w[E]}}}return i}const qP=t=>(e,n)=>{const r=v.useContext(jy),i=v.useContext(wy),a=()=>B7(t,e,r,i);return n?a():Pj(a)};function cN(t,e,n){var a;const{style:r}=t,i={};for(const o in r)(Dr(r[o])||e.style&&Dr(e.style[o])||VP(o,t)||((a=n==null?void 0:n.getValue(o))==null?void 0:a.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const q7=qP({scrapeMotionValuesFromProps:cN,createRenderState:aN});function HP(t,e,n){const r=cN(t,e,n);for(const i in t)if(Dr(t[i])||Dr(e[i])){const a=ch.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=t[i]}return r}const H7=qP({scrapeMotionValuesFromProps:HP,createRenderState:BP}),W7=Symbol.for("motionComponentSymbol");function hd(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function K7(t,e,n){return v.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):hd(n)&&(n.current=r))},[e])}const uN=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),G7="framerAppearId",WP="data-"+uN(G7),KP=v.createContext({});function Q7(t,e,n,r,i){var w,j;const{visualElement:a}=v.useContext(jy),o=v.useContext(OP),c=v.useContext(wy),d=v.useContext(nN).reducedMotion,h=v.useRef(null);r=r||o.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const m=h.current,f=v.useContext(KP);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&Y7(h.current,n,i,f);const g=v.useRef(!1);v.useInsertionEffect(()=>{m&&g.current&&m.update(n,c)});const x=n[WP],_=v.useRef(!!x&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,x))&&((j=window.MotionHasOptimisedAnimation)==null?void 0:j.call(window,x)));return qR(()=>{m&&(g.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),_.current&&m.animationState&&m.animationState.animateChanges())}),v.useEffect(()=>{m&&(!_.current&&m.animationState&&m.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{var N;(N=window.MotionHandoffMarkAsComplete)==null||N.call(window,x)}),_.current=!1),m.enteringChildren=void 0)}),m}function Y7(t,e,n,r){const{layoutId:i,layout:a,drag:o,dragConstraints:c,layoutScroll:d,layoutRoot:h,layoutCrossfade:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:GP(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||c&&hd(c),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:m,layoutScroll:d,layoutRoot:h})}function GP(t){if(t)return t.options.allowProjection!==!1?t.projection:GP(t.parent)}function ib(t,{forwardMotionProps:e=!1}={},n,r){n&&N7(n);const i=oN(t)?H7:q7;function a(c,d){let h;const m={...v.useContext(nN),...c,layoutId:J7(c)},{isStatic:f}=m,g=k7(c),x=i(c,f);if(!f&&Dj){X7();const _=Z7(m);h=_.MeasureLayout,g.visualElement=Q7(t,x,m,r,_.ProjectionNode)}return s.jsxs(jy.Provider,{value:g,children:[h&&g.visualElement?s.jsx(h,{visualElement:g.visualElement,...m}):null,z7(t,c,K7(x,g.visualElement,d),x,f,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=v.forwardRef(a);return o[W7]=t,o}function J7({layoutId:t}){const e=v.useContext(Rj).id;return e&&t!==void 0?e+"-"+t:t}function X7(t,e){v.useContext(OP).strict}function Z7(t){const{drag:e,layout:n}=qd;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function eq(t,e){if(typeof Proxy>"u")return ib;const n=new Map,r=(a,o)=>ib(a,o,t,e),i=(a,o)=>r(a,o);return new Proxy(i,{get:(a,o)=>o==="create"?r:(n.has(o)||n.set(o,ib(o,void 0,t,e)),n.get(o))})}function QP({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function tq({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function nq(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function ab(t){return t===void 0||t===1}function Uw({scale:t,scaleX:e,scaleY:n}){return!ab(t)||!ab(e)||!ab(n)}function _c(t){return Uw(t)||YP(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function YP(t){return b2(t.x)||b2(t.y)}function b2(t){return t&&t!=="0%"}function kx(t,e,n){const r=t-n,i=e*r;return n+i}function w2(t,e,n,r,i){return i!==void 0&&(t=kx(t,i,r)),kx(t,n,r)+e}function zw(t,e=0,n=1,r,i){t.min=w2(t.min,e,n,r,i),t.max=w2(t.max,e,n,r,i)}function JP(t,{x:e,y:n}){zw(t.x,e.translate,e.scale,e.originPoint),zw(t.y,n.translate,n.scale,n.originPoint)}const j2=.999999999999,N2=1.0000000000001;function rq(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,o;for(let c=0;c<i;c++){a=n[c],o=a.projectionDelta;const{visualElement:d}=a.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&fd(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,JP(t,o)),r&&_c(a.latestValues)&&fd(t,a.latestValues))}e.x<N2&&e.x>j2&&(e.x=1),e.y<N2&&e.y>j2&&(e.y=1)}function md(t,e){t.min=t.min+e,t.max=t.max+e}function _2(t,e,n,r,i=.5){const a=_n(t.min,t.max,i);zw(t,e,n,a,r)}function fd(t,e){_2(t.x,e.x,e.scaleX,e.scale,e.originX),_2(t.y,e.y,e.scaleY,e.scale,e.originY)}function XP(t,e){return QP(nq(t.getBoundingClientRect(),e))}function sq(t,e,n){const r=XP(t,n),{scroll:i}=e;return i&&(md(r.x,i.offset.x),md(r.y,i.offset.y)),r}const S2=()=>({translate:0,scale:1,origin:0,originPoint:0}),pd=()=>({x:S2(),y:S2()}),E2=()=>({min:0,max:0}),Fn=()=>({x:E2(),y:E2()}),Bw={current:null},ZP={current:!1};function iq(){if(ZP.current=!0,!!Dj)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Bw.current=t.matches;t.addEventListener("change",e),e()}else Bw.current=!1}const aq=new WeakMap;function oq(t,e,n){for(const r in e){const i=e[r],a=n[r];if(Dr(i))t.addValue(r,i);else if(Dr(a))t.addValue(r,$d(i,{owner:t}));else if(a!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,$d(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const C2=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class lq{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:o},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Jj,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=hs.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,yn.render(this.render,!1,!0))};const{latestValues:d,renderState:h}=o;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=_y(n),this.isVariantNode=FP(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in f){const x=f[g];d[g]!==void 0&&Dr(x)&&x.set(d[g])}}mount(e){var n;this.current=e,aq.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),ZP.current||iq(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Bw.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Cl(this.notifyUpdate),Cl(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=uh.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&yn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in qd){const n=qd[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Fn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<C2.length;r++){const i=C2[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=e[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=oq(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=$d(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(HR(r)||KR(r))?r=parseFloat(r):!g7(r)&&kl.test(n)&&(r=kP(e,n)),this.setBaseTarget(e,Dr(r)?r.get():r)),Dr(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var a;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=lN(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Dr(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Vj),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){eN.render(this.render)}}class e4 extends lq{constructor(){super(...arguments),this.KeyframeResolver=s7}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Dr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function t4(t,{style:e,vars:n},r,i){const a=t.style;let o;for(o in e)a[o]=e[o];i==null||i.applyProjectionStyles(a,r);for(o in n)a.setProperty(o,n[o])}function cq(t){return window.getComputedStyle(t)}class uq extends e4{constructor(){super(...arguments),this.type="html",this.renderInstance=t4}readValueFromInstance(e,n){var r;if(uh.has(n))return(r=this.projection)!=null&&r.isProjecting?Pw(n):N8(e,n);{const i=cq(e),a=(Bj(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return XP(e,n)}build(e,n,r){iN(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return cN(e,n,r)}}const n4=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function dq(t,e,n,r){t4(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(n4.has(i)?i:uN(i),e.attrs[i])}class hq extends e4{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Fn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(uh.has(n)){const r=CP(n);return r&&r.default||0}return n=n4.has(n)?n:uN(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return HP(e,n,r)}build(e,n,r){zP(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){dq(e,n,r,i)}mount(e){this.isSVGTag=$P(e.tagName),super.mount(e)}}const mq=(t,e)=>oN(t)?new hq(e):new uq(e,{allowProjection:t!==v.Fragment});function bd(t,e,n){const r=t.getProps();return lN(r,e,n!==void 0?n:r.custom,t)}const $w=t=>Array.isArray(t);function fq(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,$d(n))}function pq(t){return $w(t)?t[t.length-1]||0:t}function gq(t,e){const n=bd(t,e);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const o in a){const c=pq(a[o]);fq(t,o,c)}}function xq(t){return!!(Dr(t)&&t.add)}function qw(t,e){const n=t.getValue("willChange");if(xq(n))return n.add(e);if(!n&&fo.WillChange){const r=new fo.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function r4(t){return t.props[WP]}const yq=t=>t!==null;function vq(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(yq),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[a]}const bq={type:"spring",stiffness:500,damping:25,restSpeed:10},wq=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),jq={type:"keyframes",duration:.8},Nq={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},_q=(t,{keyframes:e})=>e.length>2?jq:uh.has(t)?t.startsWith("scale")?wq(e[1]):bq:Nq;function Sq({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:c,from:d,elapsed:h,...m}){return!!Object.keys(m).length}const dN=(t,e,n,r={},i,a)=>o=>{const c=Xj(r,t)||{},d=c.delay||r.delay||0;let{elapsed:h=0}=r;h=h-la(d);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-h,onUpdate:g=>{e.set(g),c.onUpdate&&c.onUpdate(g)},onComplete:()=>{o(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:a?void 0:i};Sq(c)||Object.assign(m,_q(t,m)),m.duration&&(m.duration=la(m.duration)),m.repeatDelay&&(m.repeatDelay=la(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let f=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(Fw(m),m.delay===0&&(f=!0)),(fo.instantAnimations||fo.skipAnimations)&&(f=!0,Fw(m),m.delay=0),m.allowFlatten=!c.type&&!c.ease,f&&!a&&e.get()!==void 0){const g=vq(m.keyframes,c);if(g!==void 0){yn.update(()=>{m.onUpdate(g),m.onComplete()});return}}return c.isSync?new Yj(m):new W8(m)};function Eq({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function s4(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:o,...c}=e;r&&(a=r);const d=[],h=i&&t.animationState&&t.animationState.getState()[i];for(const m in c){const f=t.getValue(m,t.latestValues[m]??null),g=c[m];if(g===void 0||h&&Eq(h,m))continue;const x={delay:n,...Xj(a||{},m)},_=f.get();if(_!==void 0&&!f.isAnimating&&!Array.isArray(g)&&g===_&&!x.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const N=r4(t);if(N){const E=window.MotionHandoffAnimation(N,m,yn);E!==null&&(x.startTime=E,w=!0)}}qw(t,m),f.start(dN(m,f,g,t.shouldReduceMotion&&_P.has(m)?{type:!1}:x,t,w));const j=f.animation;j&&d.push(j)}return o&&Promise.all(d).then(()=>{yn.update(()=>{o&&gq(t,o)})}),d}function i4(t,e,n,r=0,i=1){const a=Array.from(t).sort((h,m)=>h.sortNodePosition(m)).indexOf(e),o=t.size,c=(o-1)*r;return typeof n=="function"?n(a,o):i===1?a*r:c-a*r}function Hw(t,e,n={}){var d;const r=bd(t,e,n.type==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(s4(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:m=0,staggerChildren:f,staggerDirection:g}=i;return Cq(t,e,h,m,f,g,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[h,m]=c==="beforeChildren"?[a,o]:[o,a];return h().then(()=>m())}else return Promise.all([a(),o(n.delay)])}function Cq(t,e,n=0,r=0,i=0,a=1,o){const c=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),c.push(Hw(d,e,{...o,delay:n+(typeof r=="function"?0:r)+i4(t.variantChildren,d,r,i,a)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(c)}function kq(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>Hw(t,a,n));r=Promise.all(i)}else if(typeof e=="string")r=Hw(t,e,n);else{const i=typeof e=="function"?bd(t,e,n.custom):e;r=Promise.all(s4(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function a4(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const Tq=sN.length;function o4(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?o4(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Tq;n++){const r=sN[n],i=t.props[r];(of(i)||i===!1)&&(e[r]=i)}return e}const Aq=[...rN].reverse(),Iq=rN.length;function Rq(t){return e=>Promise.all(e.map(({animation:n,options:r})=>kq(t,n,r)))}function Pq(t){let e=Rq(t),n=k2(),r=!0;const i=d=>(h,m)=>{var g;const f=bd(t,m,d==="exit"?(g=t.presenceContext)==null?void 0:g.custom:void 0);if(f){const{transition:x,transitionEnd:_,...w}=f;h={...h,...w,..._}}return h};function a(d){e=d(t)}function o(d){const{props:h}=t,m=o4(t.parent)||{},f=[],g=new Set;let x={},_=1/0;for(let j=0;j<Iq;j++){const N=Aq[j],E=n[N],k=h[N]!==void 0?h[N]:m[N],C=of(k),P=N===d?E.isActive:null;P===!1&&(_=j);let F=k===m[N]&&k!==h[N]&&C;if(F&&r&&t.manuallyAnimateOnMount&&(F=!1),E.protectedKeys={...x},!E.isActive&&P===null||!k&&!E.prevProp||Ny(k)||typeof k=="boolean")continue;const D=Dq(E.prevProp,k);let R=D||N===d&&E.isActive&&!F&&C||j>_&&C,I=!1;const M=Array.isArray(k)?k:[k];let V=M.reduce(i(N),{});P===!1&&(V={});const{prevResolvedValues:O={}}=E,U={...O,...V},X=ie=>{R=!0,g.has(ie)&&(I=!0,g.delete(ie)),E.needsAnimating[ie]=!0;const K=t.getValue(ie);K&&(K.liveStyle=!1)};for(const ie in U){const K=V[ie],W=O[ie];if(x.hasOwnProperty(ie))continue;let B=!1;$w(K)&&$w(W)?B=!a4(K,W):B=K!==W,B?K!=null?X(ie):g.add(ie):K!==void 0&&g.has(ie)?X(ie):E.protectedKeys[ie]=!0}E.prevProp=k,E.prevResolvedValues=V,E.isActive&&(x={...x,...V}),r&&t.blockInitialAnimation&&(R=!1);const re=F&&D;R&&(!re||I)&&f.push(...M.map(ie=>{const K={type:N};if(typeof ie=="string"&&r&&!re&&t.manuallyAnimateOnMount&&t.parent){const{parent:W}=t,B=bd(W,ie);if(W.enteringChildren&&B){const{delayChildren:q}=B.transition||{};K.delay=i4(W.enteringChildren,t,q)}}return{animation:ie,options:K}}))}if(g.size){const j={};if(typeof h.initial!="boolean"){const N=bd(t,Array.isArray(h.initial)?h.initial[0]:h.initial);N&&N.transition&&(j.transition=N.transition)}g.forEach(N=>{const E=t.getBaseTarget(N),k=t.getValue(N);k&&(k.liveStyle=!0),j[N]=E??null}),f.push({animation:j})}let w=!!f.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(w=!1),r=!1,w?e(f):Promise.resolve()}function c(d,h){var f;if(n[d].isActive===h)return Promise.resolve();(f=t.variantChildren)==null||f.forEach(g=>{var x;return(x=g.animationState)==null?void 0:x.setActive(d,h)}),n[d].isActive=h;const m=o(d);for(const g in n)n[g].protectedKeys={};return m}return{animateChanges:o,setActive:c,setAnimateFunction:a,getState:()=>n,reset:()=>{n=k2()}}}function Dq(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!a4(e,t):!1}function jc(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function k2(){return{animate:jc(!0),whileInView:jc(),whileHover:jc(),whileTap:jc(),whileDrag:jc(),whileFocus:jc(),exit:jc()}}class $l{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Mq extends $l{constructor(e){super(e),e.animationState||(e.animationState=Pq(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ny(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Oq=0;class Lq extends $l{constructor(){super(...arguments),this.id=Oq++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Fq={animation:{Feature:Mq},exit:{Feature:Lq}};function cf(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Uf(t){return{point:{x:t.pageX,y:t.pageY}}}const Vq=t=>e=>tN(e)&&t(e,Uf(e));function Vm(t,e,n,r){return cf(t,e,Vq(n),r)}const l4=1e-4,Uq=1-l4,zq=1+l4,c4=.01,Bq=0-c4,$q=0+c4;function Gr(t){return t.max-t.min}function qq(t,e,n){return Math.abs(t-e)<=n}function T2(t,e,n,r=.5){t.origin=r,t.originPoint=_n(e.min,e.max,t.origin),t.scale=Gr(n)/Gr(e),t.translate=_n(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Uq&&t.scale<=zq||isNaN(t.scale))&&(t.scale=1),(t.translate>=Bq&&t.translate<=$q||isNaN(t.translate))&&(t.translate=0)}function Um(t,e,n,r){T2(t.x,e.x,n.x,r?r.originX:void 0),T2(t.y,e.y,n.y,r?r.originY:void 0)}function A2(t,e,n){t.min=n.min+e.min,t.max=t.min+Gr(e)}function Hq(t,e,n){A2(t.x,e.x,n.x),A2(t.y,e.y,n.y)}function I2(t,e,n){t.min=e.min-n.min,t.max=t.min+Gr(e)}function zm(t,e,n){I2(t.x,e.x,n.x),I2(t.y,e.y,n.y)}function Qs(t){return[t("x"),t("y")]}const u4=({current:t})=>t?t.ownerDocument.defaultView:null,R2=(t,e)=>Math.abs(t-e);function Wq(t,e){const n=R2(t.x,e.x),r=R2(t.y,e.y);return Math.sqrt(n**2+r**2)}class d4{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=lb(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,_=Wq(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!_)return;const{point:w}=g,{timestamp:j}=xr;this.history.push({...w,timestamp:j});const{onStart:N,onMove:E}=this.handlers;x||(N&&N(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,g)},this.handlePointerMove=(g,x)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=ob(x,this.transformPagePoint),yn.update(this.updatePoint,!0)},this.handlePointerUp=(g,x)=>{this.end();const{onEnd:_,onSessionEnd:w,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=lb(g.type==="pointercancel"?this.lastMoveEventInfo:ob(x,this.transformPagePoint),this.history);this.startEvent&&_&&_(g,N),w&&w(g,N)},!tN(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const c=Uf(e),d=ob(c,this.transformPagePoint),{point:h}=d,{timestamp:m}=xr;this.history=[{...h,timestamp:m}];const{onSessionStart:f}=n;f&&f(e,lb(d,this.history)),this.removeListeners=Lf(Vm(this.contextWindow,"pointermove",this.handlePointerMove),Vm(this.contextWindow,"pointerup",this.handlePointerUp),Vm(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Cl(this.updatePoint)}}function ob(t,e){return e?{point:e(t.point)}:t}function P2(t,e){return{x:t.x-e.x,y:t.y-e.y}}function lb({point:t},e){return{point:t,delta:P2(t,h4(e)),offset:P2(t,Kq(e)),velocity:Gq(e,.1)}}function Kq(t){return t[0]}function h4(t){return t[t.length-1]}function Gq(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=h4(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>la(e)));)n--;if(!r)return{x:0,y:0};const a=ti(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Qq(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?_n(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?_n(n,t,r.max):Math.min(t,n)),t}function D2(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Yq(t,{top:e,left:n,bottom:r,right:i}){return{x:D2(t.x,n,i),y:D2(t.y,e,r)}}function M2(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Jq(t,e){return{x:M2(t.x,e.x),y:M2(t.y,e.y)}}function Xq(t,e){let n=.5;const r=Gr(t),i=Gr(e);return i>r?n=rf(e.min,e.max-r,t.min):r>i&&(n=rf(t.min,t.max-i,e.min)),mo(0,1,n)}function Zq(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Ww=.35;function eH(t=Ww){return t===!1?t=0:t===!0&&(t=Ww),{x:O2(t,"left","right"),y:O2(t,"top","bottom")}}function O2(t,e,n){return{min:L2(t,e),max:L2(t,n)}}function L2(t,e){return typeof t=="number"?t:t[e]||0}const tH=new WeakMap;class nH{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Fn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=f=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Uf(f).point)},o=(f,g)=>{const{drag:x,dragPropagation:_,onDragStart:w}=this.getProps();if(x&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=l7(x),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Qs(N=>{let E=this.getAxisMotionValue(N).get()||0;if(ca.test(E)){const{projection:k}=this.visualElement;if(k&&k.layout){const C=k.layout.layoutBox[N];C&&(E=Gr(C)*(parseFloat(E)/100))}}this.originPoint[N]=E}),w&&yn.postRender(()=>w(f,g)),qw(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},c=(f,g)=>{this.latestPointerEvent=f,this.latestPanInfo=g;const{dragPropagation:x,dragDirectionLock:_,onDirectionLock:w,onDrag:j}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:N}=g;if(_&&this.currentDirection===null){this.currentDirection=rH(N),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",g.point,N),this.updateAxis("y",g.point,N),this.visualElement.render(),j&&j(f,g)},d=(f,g)=>{this.latestPointerEvent=f,this.latestPanInfo=g,this.stop(f,g),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>Qs(f=>{var g;return this.getAnimationState(f)==="paused"&&((g=this.getAxisMotionValue(f).animation)==null?void 0:g.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new d4(e,{onSessionStart:a,onStart:o,onMove:c,onSessionEnd:d,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:r,contextWindow:u4(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:c}=this.getProps();c&&yn.postRender(()=>c(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!bg(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=Qq(o,this.constraints[e],this.elastic[e])),a.set(o)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,i=this.constraints;e&&hd(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=Yq(r.layoutBox,e):this.constraints=!1,this.elastic=eH(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Qs(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Zq(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!hd(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=sq(r,i.root,this.visualElement.getTransformPagePoint());let o=Jq(i.layout.layoutBox,a);if(n){const c=n(tq(o));this.hasMutatedConstraints=!!c,c&&(o=QP(c))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},h=Qs(m=>{if(!bg(m,n,this.currentDirection))return;let f=d&&d[m]||{};o&&(f={min:0,max:0});const g=i?200:1e6,x=i?40:1e7,_={type:"inertia",velocity:r?e[m]:0,bounceStiffness:g,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(m,_)});return Promise.all(h).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return qw(this.visualElement,e),r.start(dN(e,r,0,n,this.visualElement,!1))}stopAnimation(){Qs(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Qs(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Qs(n=>{const{drag:r}=this.getProps();if(!bg(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:c}=i.layout.layoutBox[n];a.set(e[n]-_n(o,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!hd(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Qs(o=>{const c=this.getAxisMotionValue(o);if(c&&this.constraints!==!1){const d=c.get();i[o]=Xq({min:d,max:d},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Qs(o=>{if(!bg(o,e,null))return;const c=this.getAxisMotionValue(o),{min:d,max:h}=this.constraints[o];c.set(_n(d,h,i[o]))})}addListeners(){if(!this.visualElement.current)return;tH.set(this.visualElement,this);const e=this.visualElement.current,n=Vm(e,"pointerdown",d=>{const{drag:h,dragListener:m=!0}=this.getProps();h&&m&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();hd(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),yn.read(r);const o=cf(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:h})=>{this.isDragging&&h&&(Qs(m=>{const f=this.getAxisMotionValue(m);f&&(this.originPoint[m]+=d[m].translate,f.set(f.get()+d[m].translate))}),this.visualElement.render())}));return()=>{o(),n(),a(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=Ww,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:c}}}function bg(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function rH(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class sH extends $l{constructor(e){super(e),this.removeGroupControls=ri,this.removeListeners=ri,this.controls=new nH(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ri}unmount(){this.removeGroupControls(),this.removeListeners()}}const F2=t=>(e,n)=>{t&&yn.postRender(()=>t(e,n))};class iH extends $l{constructor(){super(...arguments),this.removePointerDownListener=ri}onPointerDown(e){this.session=new d4(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:u4(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:F2(e),onStart:F2(n),onMove:r,onEnd:(a,o)=>{delete this.session,i&&yn.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=Vm(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Yg={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function V2(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const fm={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ct.test(t))t=parseFloat(t);else return t;const n=V2(t,e.target.x),r=V2(t,e.target.y);return`${n}% ${r}%`}},aH={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=kl.parse(t);if(i.length>5)return r;const a=kl.createTransformer(t),o=typeof i[0]!="number"?1:0,c=n.x.scale*e.x,d=n.y.scale*e.y;i[0+o]/=c,i[1+o]/=d;const h=_n(c,d,.5);return typeof i[2+o]=="number"&&(i[2+o]/=h),typeof i[3+o]=="number"&&(i[3+o]/=h),a(i)}};let cb=!1;class oH extends v.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;T7(lH),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),cb&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Yg.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,{projection:o}=r;return o&&(o.isPresent=a,cb=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==a?o.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?o.promote():o.relegate()||yn.postRender(()=>{const c=o.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),eN.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;cb=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function m4(t){const[e,n]=MP(),r=v.useContext(Rj);return s.jsx(oH,{...t,layoutGroup:r,switchLayoutGroup:v.useContext(KP),isPresent:e,safeToRemove:n})}const lH={borderRadius:{...fm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:fm,borderTopRightRadius:fm,borderBottomLeftRadius:fm,borderBottomRightRadius:fm,boxShadow:aH};function cH(t,e,n){const r=Dr(t)?t:$d(t);return r.start(dN("",r,e,n)),r.animation}const uH=(t,e)=>t.depth-e.depth;class dH{constructor(){this.children=[],this.isDirty=!1}add(e){Mj(this.children,e),this.isDirty=!0}remove(e){Oj(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(uH),this.isDirty=!1,this.children.forEach(e)}}function hH(t,e){const n=hs.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(Cl(r),t(a-e))};return yn.setup(r,!0),()=>Cl(r)}const f4=["TopLeft","TopRight","BottomLeft","BottomRight"],mH=f4.length,U2=t=>typeof t=="string"?parseFloat(t):t,z2=t=>typeof t=="number"||ct.test(t);function fH(t,e,n,r,i,a){i?(t.opacity=_n(0,n.opacity??1,pH(r)),t.opacityExit=_n(e.opacity??1,0,gH(r))):a&&(t.opacity=_n(e.opacity??1,n.opacity??1,r));for(let o=0;o<mH;o++){const c=`border${f4[o]}Radius`;let d=B2(e,c),h=B2(n,c);if(d===void 0&&h===void 0)continue;d||(d=0),h||(h=0),d===0||h===0||z2(d)===z2(h)?(t[c]=Math.max(_n(U2(d),U2(h),r),0),(ca.test(h)||ca.test(d))&&(t[c]+="%")):t[c]=h}(e.rotate||n.rotate)&&(t.rotate=_n(e.rotate||0,n.rotate||0,r))}function B2(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const pH=p4(0,.5,tP),gH=p4(.5,.95,ri);function p4(t,e,n){return r=>r<t?0:r>e?1:n(rf(t,e,r))}function $2(t,e){t.min=e.min,t.max=e.max}function Gs(t,e){$2(t.x,e.x),$2(t.y,e.y)}function q2(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function H2(t,e,n,r,i){return t-=e,t=kx(t,1/n,r),i!==void 0&&(t=kx(t,1/i,r)),t}function xH(t,e=0,n=1,r=.5,i,a=t,o=t){if(ca.test(e)&&(e=parseFloat(e),e=_n(o.min,o.max,e/100)-o.min),typeof e!="number")return;let c=_n(a.min,a.max,r);t===a&&(c-=e),t.min=H2(t.min,e,n,c,i),t.max=H2(t.max,e,n,c,i)}function W2(t,e,[n,r,i],a,o){xH(t,e[n],e[r],e[i],e.scale,a,o)}const yH=["x","scaleX","originX"],vH=["y","scaleY","originY"];function K2(t,e,n,r){W2(t.x,e,yH,n?n.x:void 0,r?r.x:void 0),W2(t.y,e,vH,n?n.y:void 0,r?r.y:void 0)}function G2(t){return t.translate===0&&t.scale===1}function g4(t){return G2(t.x)&&G2(t.y)}function Q2(t,e){return t.min===e.min&&t.max===e.max}function bH(t,e){return Q2(t.x,e.x)&&Q2(t.y,e.y)}function Y2(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function x4(t,e){return Y2(t.x,e.x)&&Y2(t.y,e.y)}function J2(t){return Gr(t.x)/Gr(t.y)}function X2(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class wH{constructor(){this.members=[]}add(e){Mj(this.members,e),e.scheduleRender()}remove(e){if(Oj(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function jH(t,e,n){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||a||o)&&(r=`translate3d(${i}px, ${a}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:m,rotateX:f,rotateY:g,skewX:x,skewY:_}=n;h&&(r=`perspective(${h}px) ${r}`),m&&(r+=`rotate(${m}deg) `),f&&(r+=`rotateX(${f}deg) `),g&&(r+=`rotateY(${g}deg) `),x&&(r+=`skewX(${x}deg) `),_&&(r+=`skewY(${_}deg) `)}const c=t.x.scale*e.x,d=t.y.scale*e.y;return(c!==1||d!==1)&&(r+=`scale(${c}, ${d})`),r||"none"}const ub=["","X","Y","Z"],NH=1e3;let _H=0;function db(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function y4(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=r4(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",yn,!(i||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&y4(r)}function v4({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},c=e==null?void 0:e()){this.id=_H++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(CH),this.nodes.forEach(IH),this.nodes.forEach(RH),this.nodes.forEach(kH)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new dH)}addEventListener(o,c){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Vj),this.eventHandlers.get(o).add(c)}notifyListeners(o,...c){const d=this.eventHandlers.get(o);d&&d.notify(...c)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=DP(o)&&!f7(o),this.instance=o;const{layoutId:c,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),t){let m,f=0;const g=()=>this.root.updateBlockedByResize=!1;yn.read(()=>{f=window.innerWidth}),t(o,()=>{const x=window.innerWidth;x!==f&&(f=x,this.root.updateBlockedByResize=!0,m&&m(),m=hH(g,250),Yg.hasAnimatedSinceResize&&(Yg.hasAnimatedSinceResize=!1,this.nodes.forEach(tk)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||d)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:f,hasRelativeLayoutChanged:g,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||h.getDefaultTransition()||LH,{onLayoutAnimationStart:w,onLayoutAnimationComplete:j}=h.getProps(),N=!this.targetLayout||!x4(this.targetLayout,x),E=!f&&g;if(this.options.layoutRoot||this.resumeFrom||E||f&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const k={...Xj(_,"layout"),onPlay:w,onComplete:j};(h.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k),this.setAnimationOrigin(m,E)}else f||tk(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Cl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(PH),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&y4(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const f=this.path[m];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Z2);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(ek);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(AH),this.nodes.forEach(SH),this.nodes.forEach(EH)):this.nodes.forEach(ek),this.clearAllSnapshots();const c=hs.now();xr.delta=mo(0,1e3/60,c-xr.timestamp),xr.timestamp=c,xr.isProcessing=!0,Zv.update.process(xr),Zv.preRender.process(xr),Zv.render.process(xr),xr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,eN.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(TH),this.sharedNodes.forEach(DH)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,yn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){yn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Gr(this.snapshot.measuredBox.x)&&!Gr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Fn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(c=!1),c&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!g4(this.projectionDelta),d=this.getTransformTemplate(),h=d?d(this.latestValues,""):void 0,m=h!==this.prevTransformTemplateValue;o&&this.instance&&(c||_c(this.latestValues)||m)&&(i(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return o&&(d=this.removeTransform(d)),FH(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:o}=this.options;if(!o)return Fn();const c=o.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(VH))){const{scroll:m}=this.root;m&&(md(c.x,m.offset.x),md(c.y,m.offset.y))}return c}removeElementScroll(o){var d;const c=Fn();if(Gs(c,o),(d=this.scroll)!=null&&d.wasRoot)return c;for(let h=0;h<this.path.length;h++){const m=this.path[h],{scroll:f,options:g}=m;m!==this.root&&f&&g.layoutScroll&&(f.wasRoot&&Gs(c,o),md(c.x,f.offset.x),md(c.y,f.offset.y))}return c}applyTransform(o,c=!1){const d=Fn();Gs(d,o);for(let h=0;h<this.path.length;h++){const m=this.path[h];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&fd(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),_c(m.latestValues)&&fd(d,m.latestValues)}return _c(this.latestValues)&&fd(d,this.latestValues),d}removeTransform(o){const c=Fn();Gs(c,o);for(let d=0;d<this.path.length;d++){const h=this.path[d];if(!h.instance||!_c(h.latestValues))continue;Uw(h.latestValues)&&h.updateSnapshot();const m=Fn(),f=h.measurePageBox();Gs(m,f),K2(c,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,m)}return _c(this.latestValues)&&K2(c,this.latestValues),c}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==xr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var g;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:f}=this.options;if(!(!this.layout||!(m||f))){if(this.resolvedRelativeTargetAt=xr.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fn(),this.relativeTargetOrigin=Fn(),zm(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),Gs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Fn(),this.targetWithTransforms=Fn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Hq(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Gs(this.target,this.layout.layoutBox),JP(this.target,this.targetDelta)):Gs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fn(),this.relativeTargetOrigin=Fn(),zm(this.relativeTargetOrigin,this.target,x.target),Gs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Uw(this.parent.latestValues)||YP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var _;const o=this.getLead(),c=!!this.resumingFrom||this!==o;let d=!0;if((this.isProjectionDirty||(_=this.parent)!=null&&_.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===xr.timestamp&&(d=!1),d)return;const{layout:h,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||m))return;Gs(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,g=this.treeScale.y;rq(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Fn());const{target:x}=o;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(q2(this.prevProjectionDelta.x,this.projectionDelta.x),q2(this.prevProjectionDelta.y,this.projectionDelta.y)),Um(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==g||!X2(this.projectionDelta.x,this.prevProjectionDelta.x)||!X2(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),o){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=pd(),this.projectionDelta=pd(),this.projectionDeltaWithTransform=pd()}setAnimationOrigin(o,c=!1){const d=this.snapshot,h=d?d.latestValues:{},m={...this.latestValues},f=pd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const g=Fn(),x=d?d.source:void 0,_=this.layout?this.layout.source:void 0,w=x!==_,j=this.getStack(),N=!j||j.members.length<=1,E=!!(w&&!N&&this.options.crossfade===!0&&!this.path.some(OH));this.animationProgress=0;let k;this.mixTargetDelta=C=>{const P=C/1e3;nk(f.x,o.x,P),nk(f.y,o.y,P),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(zm(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),MH(this.relativeTarget,this.relativeTargetOrigin,g,P),k&&bH(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=Fn()),Gs(k,this.relativeTarget)),w&&(this.animationValues=m,fH(m,h,this.latestValues,P,E,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var c,d,h;this.notifyListeners("animationStart"),(c=this.currentAnimation)==null||c.stop(),(h=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||h.stop(),this.pendingAnimation&&(Cl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=yn.update(()=>{Yg.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=$d(0)),this.currentAnimation=cH(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),o.onUpdate&&o.onUpdate(m)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(NH),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:c,target:d,layout:h,latestValues:m}=o;if(!(!c||!d||!h)){if(this!==o&&this.layout&&h&&b4(this.options.animationType,this.layout.layoutBox,h.layoutBox)){d=this.target||Fn();const f=Gr(this.layout.layoutBox.x);d.x.min=o.target.x.min,d.x.max=d.x.min+f;const g=Gr(this.layout.layoutBox.y);d.y.min=o.target.y.min,d.y.max=d.y.min+g}Gs(c,d),fd(c,m),Um(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(o,c){this.sharedNodes.has(o)||this.sharedNodes.set(o,new wH),this.sharedNodes.get(o).add(c);const h=c.options.initialPromotionConfig;c.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(c):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var c;const{layoutId:o}=this.options;return o?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:o}=this.options;return o?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:c,preserveFollowOpacity:d}={}){const h=this.getStack();h&&h.promote(this,d),o&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let c=!1;const{latestValues:d}=o;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const h={};d.z&&db("z",o,h,this.animationValues);for(let m=0;m<ub.length;m++)db(`rotate${ub[m]}`,o,h,this.animationValues),db(`skew${ub[m]}`,o,h,this.animationValues);o.render();for(const m in h)o.setStaticValue(m,h[m]),this.animationValues&&(this.animationValues[m]=h[m]);o.scheduleRender()}applyProjectionStyles(o,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Qg(c==null?void 0:c.pointerEvents)||"",o.transform=d?d(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Qg(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!_c(this.latestValues)&&(o.transform=d?d({},""):"none",this.hasProjected=!1);return}o.visibility="";const m=h.animationValues||h.latestValues;this.applyTransformsToTarget();let f=jH(this.projectionDeltaWithTransform,this.treeScale,m);d&&(f=d(m,f)),o.transform=f;const{x:g,y:x}=this.projectionDelta;o.transformOrigin=`${g.origin*100}% ${x.origin*100}% 0`,h.animationValues?o.opacity=h===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:o.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const _ in lf){if(m[_]===void 0)continue;const{correct:w,applyTo:j,isCSSVariable:N}=lf[_],E=f==="none"?m[_]:w(m[_],h);if(j){const k=j.length;for(let C=0;C<k;C++)o[j[C]]=E}else N?this.options.visualElement.renderState.vars[_]=E:o[_]=E}this.options.layoutId&&(o.pointerEvents=h===this?Qg(c==null?void 0:c.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var c;return(c=o.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach(Z2),this.root.sharedNodes.clear()}}}function SH(t){t.updateLayout()}function EH(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:a}=t.options,o=e.source!==t.layout.source;a==="size"?Qs(f=>{const g=o?e.measuredBox[f]:e.layoutBox[f],x=Gr(g);g.min=r[f].min,g.max=g.min+x}):b4(a,e.layoutBox,r)&&Qs(f=>{const g=o?e.measuredBox[f]:e.layoutBox[f],x=Gr(r[f]);g.max=g.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+x)});const c=pd();Um(c,r,e.layoutBox);const d=pd();o?Um(d,t.applyTransform(i,!0),e.measuredBox):Um(d,r,e.layoutBox);const h=!g4(c);let m=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:g,layout:x}=f;if(g&&x){const _=Fn();zm(_,e.layoutBox,g.layoutBox);const w=Fn();zm(w,r,x.layoutBox),x4(_,w)||(m=!0),f.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=_,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:d,layoutDelta:c,hasLayoutChanged:h,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function CH(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function kH(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function TH(t){t.clearSnapshot()}function Z2(t){t.clearMeasurements()}function ek(t){t.isLayoutDirty=!1}function AH(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function tk(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function IH(t){t.resolveTargetDelta()}function RH(t){t.calcProjection()}function PH(t){t.resetSkewAndRotation()}function DH(t){t.removeLeadSnapshot()}function nk(t,e,n){t.translate=_n(e.translate,0,n),t.scale=_n(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function rk(t,e,n,r){t.min=_n(e.min,n.min,r),t.max=_n(e.max,n.max,r)}function MH(t,e,n,r){rk(t.x,e.x,n.x,r),rk(t.y,e.y,n.y,r)}function OH(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const LH={duration:.45,ease:[.4,0,.1,1]},sk=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),ik=sk("applewebkit/")&&!sk("chrome/")?Math.round:ri;function ak(t){t.min=ik(t.min),t.max=ik(t.max)}function FH(t){ak(t.x),ak(t.y)}function b4(t,e,n){return t==="position"||t==="preserve-aspect"&&!qq(J2(e),J2(n),.2)}function VH(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const UH=v4({attachResizeListener:(t,e)=>cf(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),hb={current:void 0},w4=v4({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!hb.current){const t=new UH({});t.mount(window),t.setOptions({layoutScroll:!0}),hb.current=t}return hb.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),zH={pan:{Feature:iH},drag:{Feature:sH,ProjectionNode:w4,MeasureLayout:m4}};function ok(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&yn.postRender(()=>a(e,Uf(e)))}class BH extends $l{mount(){const{current:e}=this.node;e&&(this.unmount=c7(e,(n,r)=>(ok(this.node,r,"Start"),i=>ok(this.node,i,"End"))))}unmount(){}}class $H extends $l{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Lf(cf(this.node.current,"focus",()=>this.onFocus()),cf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function lk(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&yn.postRender(()=>a(e,Uf(e)))}class qH extends $l{mount(){const{current:e}=this.node;e&&(this.unmount=m7(e,(n,r)=>(lk(this.node,r,"Start"),(i,{success:a})=>lk(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Kw=new WeakMap,mb=new WeakMap,HH=t=>{const e=Kw.get(t.target);e&&e(t)},WH=t=>{t.forEach(HH)};function KH({root:t,...e}){const n=t||document;mb.has(n)||mb.set(n,{});const r=mb.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(WH,{root:t,...e})),r[i]}function GH(t,e,n){const r=KH(e);return Kw.set(t,n),r.observe(t),()=>{Kw.delete(t),r.unobserve(t)}}const QH={some:0,all:1};class YH extends $l{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:QH[i]},c=d=>{const{isIntersecting:h}=d;if(this.isInView===h||(this.isInView=h,a&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:m,onViewportLeave:f}=this.node.getProps(),g=h?m:f;g&&g(d)};return GH(this.node.current,o,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(JH(e,n))&&this.startObserver()}unmount(){}}function JH({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const XH={inView:{Feature:YH},tap:{Feature:qH},focus:{Feature:$H},hover:{Feature:BH}},ZH={layout:{ProjectionNode:w4,MeasureLayout:m4}},eW={...Fq,...XH,...zH,...ZH},te=eq(eW,mq);function Je(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function ck(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function So(...t){return e=>{let n=!1;const r=t.map(i=>{const a=ck(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():ck(t[i],null)}}}}function Wt(...t){return v.useCallback(So(...t),t)}function tW(t,e){const n=v.createContext(e),r=a=>{const{children:o,...c}=a,d=v.useMemo(()=>c,Object.values(c));return s.jsx(n.Provider,{value:d,children:o})};r.displayName=t+"Provider";function i(a){const o=v.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[r,i]}function Eo(t,e=[]){let n=[];function r(a,o){const c=v.createContext(o),d=n.length;n=[...n,o];const h=f=>{var N;const{scope:g,children:x,..._}=f,w=((N=g==null?void 0:g[t])==null?void 0:N[d])||c,j=v.useMemo(()=>_,Object.values(_));return s.jsx(w.Provider,{value:j,children:x})};h.displayName=a+"Provider";function m(f,g){var w;const x=((w=g==null?void 0:g[t])==null?void 0:w[d])||c,_=v.useContext(x);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[h,m]}const i=()=>{const a=n.map(o=>v.createContext(o));return function(c){const d=(c==null?void 0:c[t])||a;return v.useMemo(()=>({[`__scope${t}`]:{...c,[t]:d}}),[c,d])}};return i.scopeName=t,[r,nW(i,...e)]}function nW(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((c,{useScope:d,scopeName:h})=>{const f=d(a)[`__scope${h}`];return{...c,...f}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var ir=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},rW=yj[" useInsertionEffect ".trim().toString()]||ir;function Kc({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,a,o]=sW({defaultProp:e,onChange:n}),c=t!==void 0,d=c?t:i;{const m=v.useRef(t!==void 0);v.useEffect(()=>{const f=m.current;f!==c&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=c},[c,r])}const h=v.useCallback(m=>{var f;if(c){const g=iW(m)?m(t):m;g!==t&&((f=o.current)==null||f.call(o,g))}else a(m)},[c,t,a,o]);return[d,h]}function sW({defaultProp:t,onChange:e}){const[n,r]=v.useState(t),i=v.useRef(n),a=v.useRef(e);return rW(()=>{a.current=e},[e]),v.useEffect(()=>{var o;i.current!==n&&((o=a.current)==null||o.call(a,n),i.current=n)},[n,i]),[n,r,a]}function iW(t){return typeof t=="function"}function aW(t){const e=oW(t),n=v.forwardRef((r,i)=>{const{children:a,...o}=r,c=v.Children.toArray(a),d=c.find(cW);if(d){const h=d.props.children,m=c.map(f=>f===d?v.Children.count(h)>1?v.Children.only(null):v.isValidElement(h)?h.props.children:null:f);return s.jsx(e,{...o,ref:i,children:v.isValidElement(h)?v.cloneElement(h,void 0,m):null})}return s.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function oW(t){const e=v.forwardRef((n,r)=>{const{children:i,...a}=n;if(v.isValidElement(i)){const o=dW(i),c=uW(a,i.props);return i.type!==v.Fragment&&(c.ref=r?So(r,o):o),v.cloneElement(i,c)}return v.Children.count(i)>1?v.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var lW=Symbol("radix.slottable");function cW(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===lW}function uW(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...c)=>{const d=a(...c);return i(...c),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function dW(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var hW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],kt=hW.reduce((t,e)=>{const n=aW(`Primitive.${e}`),r=v.forwardRef((i,a)=>{const{asChild:o,...c}=i,d=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(d,{...c,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function j4(t,e){t&&Of.flushSync(()=>t.dispatchEvent(e))}function uk(t){const e=mW(t),n=v.forwardRef((r,i)=>{const{children:a,...o}=r,c=v.Children.toArray(a),d=c.find(pW);if(d){const h=d.props.children,m=c.map(f=>f===d?v.Children.count(h)>1?v.Children.only(null):v.isValidElement(h)?h.props.children:null:f);return s.jsx(e,{...o,ref:i,children:v.isValidElement(h)?v.cloneElement(h,void 0,m):null})}return s.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function mW(t){const e=v.forwardRef((n,r)=>{const{children:i,...a}=n;if(v.isValidElement(i)){const o=xW(i),c=gW(a,i.props);return i.type!==v.Fragment&&(c.ref=r?So(r,o):o),v.cloneElement(i,c)}return v.Children.count(i)>1?v.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var fW=Symbol("radix.slottable");function pW(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===fW}function gW(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...c)=>{const d=a(...c);return i(...c),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function xW(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function hN(t){const e=t+"CollectionProvider",[n,r]=Eo(e),[i,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=w=>{const{scope:j,children:N}=w,E=Rn.useRef(null),k=Rn.useRef(new Map).current;return s.jsx(i,{scope:j,itemMap:k,collectionRef:E,children:N})};o.displayName=e;const c=t+"CollectionSlot",d=uk(c),h=Rn.forwardRef((w,j)=>{const{scope:N,children:E}=w,k=a(c,N),C=Wt(j,k.collectionRef);return s.jsx(d,{ref:C,children:E})});h.displayName=c;const m=t+"CollectionItemSlot",f="data-radix-collection-item",g=uk(m),x=Rn.forwardRef((w,j)=>{const{scope:N,children:E,...k}=w,C=Rn.useRef(null),P=Wt(j,C),F=a(m,N);return Rn.useEffect(()=>(F.itemMap.set(C,{ref:C,...k}),()=>void F.itemMap.delete(C))),s.jsx(g,{[f]:"",ref:P,children:E})});x.displayName=m;function _(w){const j=a(t+"CollectionConsumer",w);return Rn.useCallback(()=>{const E=j.collectionRef.current;if(!E)return[];const k=Array.from(E.querySelectorAll(`[${f}]`));return Array.from(j.itemMap.values()).sort((F,D)=>k.indexOf(F.ref.current)-k.indexOf(D.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:o,Slot:h,ItemSlot:x},_,r]}var yW=v.createContext(void 0);function mN(t){const e=v.useContext(yW);return t||e||"ltr"}function _i(t){const e=v.useRef(t);return v.useEffect(()=>{e.current=t}),v.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function vW(t,e=globalThis==null?void 0:globalThis.document){const n=_i(t);v.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var bW="DismissableLayer",Gw="dismissableLayer.update",wW="dismissableLayer.pointerDownOutside",jW="dismissableLayer.focusOutside",dk,N4=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Sy=v.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:c,...d}=t,h=v.useContext(N4),[m,f]=v.useState(null),g=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=v.useState({}),_=Wt(e,D=>f(D)),w=Array.from(h.layers),[j]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),N=w.indexOf(j),E=m?w.indexOf(m):-1,k=h.layersWithOutsidePointerEventsDisabled.size>0,C=E>=N,P=SW(D=>{const R=D.target,I=[...h.branches].some(M=>M.contains(R));!C||I||(i==null||i(D),o==null||o(D),D.defaultPrevented||c==null||c())},g),F=EW(D=>{const R=D.target;[...h.branches].some(M=>M.contains(R))||(a==null||a(D),o==null||o(D),D.defaultPrevented||c==null||c())},g);return vW(D=>{E===h.layers.size-1&&(r==null||r(D),!D.defaultPrevented&&c&&(D.preventDefault(),c()))},g),v.useEffect(()=>{if(m)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(dk=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(m)),h.layers.add(m),hk(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=dk)}},[m,g,n,h]),v.useEffect(()=>()=>{m&&(h.layers.delete(m),h.layersWithOutsidePointerEventsDisabled.delete(m),hk())},[m,h]),v.useEffect(()=>{const D=()=>x({});return document.addEventListener(Gw,D),()=>document.removeEventListener(Gw,D)},[]),s.jsx(kt.div,{...d,ref:_,style:{pointerEvents:k?C?"auto":"none":void 0,...t.style},onFocusCapture:Je(t.onFocusCapture,F.onFocusCapture),onBlurCapture:Je(t.onBlurCapture,F.onBlurCapture),onPointerDownCapture:Je(t.onPointerDownCapture,P.onPointerDownCapture)})});Sy.displayName=bW;var NW="DismissableLayerBranch",_W=v.forwardRef((t,e)=>{const n=v.useContext(N4),r=v.useRef(null),i=Wt(e,r);return v.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),s.jsx(kt.div,{...t,ref:i})});_W.displayName=NW;function SW(t,e=globalThis==null?void 0:globalThis.document){const n=_i(t),r=v.useRef(!1),i=v.useRef(()=>{});return v.useEffect(()=>{const a=c=>{if(c.target&&!r.current){let d=function(){_4(wW,n,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=d,e.addEventListener("click",i.current,{once:!0})):d()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function EW(t,e=globalThis==null?void 0:globalThis.document){const n=_i(t),r=v.useRef(!1);return v.useEffect(()=>{const i=a=>{a.target&&!r.current&&_4(jW,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function hk(){const t=new CustomEvent(Gw);document.dispatchEvent(t)}function _4(t,e,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?j4(i,a):i.dispatchEvent(a)}var fb=0;function fN(){v.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??mk()),document.body.insertAdjacentElement("beforeend",t[1]??mk()),fb++,()=>{fb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),fb--}},[])}function mk(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var pb="focusScope.autoFocusOnMount",gb="focusScope.autoFocusOnUnmount",fk={bubbles:!1,cancelable:!0},CW="FocusScope",Ey=v.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=t,[c,d]=v.useState(null),h=_i(i),m=_i(a),f=v.useRef(null),g=Wt(e,w=>d(w)),x=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(r){let w=function(k){if(x.paused||!c)return;const C=k.target;c.contains(C)?f.current=C:nl(f.current,{select:!0})},j=function(k){if(x.paused||!c)return;const C=k.relatedTarget;C!==null&&(c.contains(C)||nl(f.current,{select:!0}))},N=function(k){if(document.activeElement===document.body)for(const P of k)P.removedNodes.length>0&&nl(c)};document.addEventListener("focusin",w),document.addEventListener("focusout",j);const E=new MutationObserver(N);return c&&E.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",j),E.disconnect()}}},[r,c,x.paused]),v.useEffect(()=>{if(c){gk.add(x);const w=document.activeElement;if(!c.contains(w)){const N=new CustomEvent(pb,fk);c.addEventListener(pb,h),c.dispatchEvent(N),N.defaultPrevented||(kW(PW(S4(c)),{select:!0}),document.activeElement===w&&nl(c))}return()=>{c.removeEventListener(pb,h),setTimeout(()=>{const N=new CustomEvent(gb,fk);c.addEventListener(gb,m),c.dispatchEvent(N),N.defaultPrevented||nl(w??document.body,{select:!0}),c.removeEventListener(gb,m),gk.remove(x)},0)}}},[c,h,m,x]);const _=v.useCallback(w=>{if(!n&&!r||x.paused)return;const j=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,N=document.activeElement;if(j&&N){const E=w.currentTarget,[k,C]=TW(E);k&&C?!w.shiftKey&&N===C?(w.preventDefault(),n&&nl(k,{select:!0})):w.shiftKey&&N===k&&(w.preventDefault(),n&&nl(C,{select:!0})):N===E&&w.preventDefault()}},[n,r,x.paused]);return s.jsx(kt.div,{tabIndex:-1,...o,ref:g,onKeyDown:_})});Ey.displayName=CW;function kW(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(nl(r,{select:e}),document.activeElement!==n)return}function TW(t){const e=S4(t),n=pk(e,t),r=pk(e.reverse(),t);return[n,r]}function S4(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function pk(t,e){for(const n of t)if(!AW(n,{upTo:e}))return n}function AW(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function IW(t){return t instanceof HTMLInputElement&&"select"in t}function nl(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&IW(t)&&e&&t.select()}}var gk=RW();function RW(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=xk(t,e),t.unshift(e)},remove(e){var n;t=xk(t,e),(n=t[0])==null||n.resume()}}}function xk(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function PW(t){return t.filter(e=>e.tagName!=="A")}var DW=yj[" useId ".trim().toString()]||(()=>{}),MW=0;function no(t){const[e,n]=v.useState(DW());return ir(()=>{n(r=>r??String(MW++))},[t]),e?`radix-${e}`:""}const OW=["top","right","bottom","left"],Tl=Math.min,Is=Math.max,Tx=Math.round,wg=Math.floor,ua=t=>({x:t,y:t}),LW={left:"right",right:"left",bottom:"top",top:"bottom"},FW={start:"end",end:"start"};function Qw(t,e,n){return Is(t,Tl(e,n))}function po(t,e){return typeof t=="function"?t(e):t}function go(t){return t.split("-")[0]}function dh(t){return t.split("-")[1]}function pN(t){return t==="x"?"y":"x"}function gN(t){return t==="y"?"height":"width"}const VW=new Set(["top","bottom"]);function ia(t){return VW.has(go(t))?"y":"x"}function xN(t){return pN(ia(t))}function UW(t,e,n){n===void 0&&(n=!1);const r=dh(t),i=xN(t),a=gN(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=Ax(o)),[o,Ax(o)]}function zW(t){const e=Ax(t);return[Yw(t),e,Yw(e)]}function Yw(t){return t.replace(/start|end/g,e=>FW[e])}const yk=["left","right"],vk=["right","left"],BW=["top","bottom"],$W=["bottom","top"];function qW(t,e,n){switch(t){case"top":case"bottom":return n?e?vk:yk:e?yk:vk;case"left":case"right":return e?BW:$W;default:return[]}}function HW(t,e,n,r){const i=dh(t);let a=qW(go(t),n==="start",r);return i&&(a=a.map(o=>o+"-"+i),e&&(a=a.concat(a.map(Yw)))),a}function Ax(t){return t.replace(/left|right|bottom|top/g,e=>LW[e])}function WW(t){return{top:0,right:0,bottom:0,left:0,...t}}function E4(t){return typeof t!="number"?WW(t):{top:t,right:t,bottom:t,left:t}}function Ix(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function bk(t,e,n){let{reference:r,floating:i}=t;const a=ia(e),o=xN(e),c=gN(o),d=go(e),h=a==="y",m=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,g=r[c]/2-i[c]/2;let x;switch(d){case"top":x={x:m,y:r.y-i.height};break;case"bottom":x={x:m,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:f};break;case"left":x={x:r.x-i.width,y:f};break;default:x={x:r.x,y:r.y}}switch(dh(e)){case"start":x[o]-=g*(n&&h?-1:1);break;case"end":x[o]+=g*(n&&h?-1:1);break}return x}const KW=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,c=a.filter(Boolean),d=await(o.isRTL==null?void 0:o.isRTL(e));let h=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:m,y:f}=bk(h,r,d),g=r,x={},_=0;for(let w=0;w<c.length;w++){const{name:j,fn:N}=c[w],{x:E,y:k,data:C,reset:P}=await N({x:m,y:f,initialPlacement:r,placement:g,strategy:i,middlewareData:x,rects:h,platform:o,elements:{reference:t,floating:e}});m=E??m,f=k??f,x={...x,[j]:{...x[j],...C}},P&&_<=50&&(_++,typeof P=="object"&&(P.placement&&(g=P.placement),P.rects&&(h=P.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):P.rects),{x:m,y:f}=bk(h,g,d)),w=-1)}return{x:m,y:f,placement:g,strategy:i,middlewareData:x}};async function uf(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:o,elements:c,strategy:d}=t,{boundary:h="clippingAncestors",rootBoundary:m="viewport",elementContext:f="floating",altBoundary:g=!1,padding:x=0}=po(e,t),_=E4(x),j=c[g?f==="floating"?"reference":"floating":f],N=Ix(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(j)))==null||n?j:j.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:h,rootBoundary:m,strategy:d})),E=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,k=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),C=await(a.isElement==null?void 0:a.isElement(k))?await(a.getScale==null?void 0:a.getScale(k))||{x:1,y:1}:{x:1,y:1},P=Ix(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:E,offsetParent:k,strategy:d}):E);return{top:(N.top-P.top+_.top)/C.y,bottom:(P.bottom-N.bottom+_.bottom)/C.y,left:(N.left-P.left+_.left)/C.x,right:(P.right-N.right+_.right)/C.x}}const GW=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:a,platform:o,elements:c,middlewareData:d}=e,{element:h,padding:m=0}=po(t,e)||{};if(h==null)return{};const f=E4(m),g={x:n,y:r},x=xN(i),_=gN(x),w=await o.getDimensions(h),j=x==="y",N=j?"top":"left",E=j?"bottom":"right",k=j?"clientHeight":"clientWidth",C=a.reference[_]+a.reference[x]-g[x]-a.floating[_],P=g[x]-a.reference[x],F=await(o.getOffsetParent==null?void 0:o.getOffsetParent(h));let D=F?F[k]:0;(!D||!await(o.isElement==null?void 0:o.isElement(F)))&&(D=c.floating[k]||a.floating[_]);const R=C/2-P/2,I=D/2-w[_]/2-1,M=Tl(f[N],I),V=Tl(f[E],I),O=M,U=D-w[_]-V,X=D/2-w[_]/2+R,re=Qw(O,X,U),ue=!d.arrow&&dh(i)!=null&&X!==re&&a.reference[_]/2-(X<O?M:V)-w[_]/2<0,ie=ue?X<O?X-O:X-U:0;return{[x]:g[x]+ie,data:{[x]:re,centerOffset:X-re-ie,...ue&&{alignmentOffset:ie}},reset:ue}}}),QW=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:a,rects:o,initialPlacement:c,platform:d,elements:h}=e,{mainAxis:m=!0,crossAxis:f=!0,fallbackPlacements:g,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:w=!0,...j}=po(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const N=go(i),E=ia(c),k=go(c)===c,C=await(d.isRTL==null?void 0:d.isRTL(h.floating)),P=g||(k||!w?[Ax(c)]:zW(c)),F=_!=="none";!g&&F&&P.push(...HW(c,w,_,C));const D=[c,...P],R=await uf(e,j),I=[];let M=((r=a.flip)==null?void 0:r.overflows)||[];if(m&&I.push(R[N]),f){const X=UW(i,o,C);I.push(R[X[0]],R[X[1]])}if(M=[...M,{placement:i,overflows:I}],!I.every(X=>X<=0)){var V,O;const X=(((V=a.flip)==null?void 0:V.index)||0)+1,re=D[X];if(re&&(!(f==="alignment"?E!==ia(re):!1)||M.every(K=>ia(K.placement)===E?K.overflows[0]>0:!0)))return{data:{index:X,overflows:M},reset:{placement:re}};let ue=(O=M.filter(ie=>ie.overflows[0]<=0).sort((ie,K)=>ie.overflows[1]-K.overflows[1])[0])==null?void 0:O.placement;if(!ue)switch(x){case"bestFit":{var U;const ie=(U=M.filter(K=>{if(F){const W=ia(K.placement);return W===E||W==="y"}return!0}).map(K=>[K.placement,K.overflows.filter(W=>W>0).reduce((W,B)=>W+B,0)]).sort((K,W)=>K[1]-W[1])[0])==null?void 0:U[0];ie&&(ue=ie);break}case"initialPlacement":ue=c;break}if(i!==ue)return{reset:{placement:ue}}}return{}}}};function wk(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function jk(t){return OW.some(e=>t[e]>=0)}const YW=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=po(t,e);switch(r){case"referenceHidden":{const a=await uf(e,{...i,elementContext:"reference"}),o=wk(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:jk(o)}}}case"escaped":{const a=await uf(e,{...i,altBoundary:!0}),o=wk(a,n.floating);return{data:{escapedOffsets:o,escaped:jk(o)}}}default:return{}}}}},C4=new Set(["left","top"]);async function JW(t,e){const{placement:n,platform:r,elements:i}=t,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=go(n),c=dh(n),d=ia(n)==="y",h=C4.has(o)?-1:1,m=a&&d?-1:1,f=po(e,t);let{mainAxis:g,crossAxis:x,alignmentAxis:_}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return c&&typeof _=="number"&&(x=c==="end"?_*-1:_),d?{x:x*m,y:g*h}:{x:g*h,y:x*m}}const XW=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:a,placement:o,middlewareData:c}=e,d=await JW(e,t);return o===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:i+d.x,y:a+d.y,data:{...d,placement:o}}}}},ZW=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:c={fn:j=>{let{x:N,y:E}=j;return{x:N,y:E}}},...d}=po(t,e),h={x:n,y:r},m=await uf(e,d),f=ia(go(i)),g=pN(f);let x=h[g],_=h[f];if(a){const j=g==="y"?"top":"left",N=g==="y"?"bottom":"right",E=x+m[j],k=x-m[N];x=Qw(E,x,k)}if(o){const j=f==="y"?"top":"left",N=f==="y"?"bottom":"right",E=_+m[j],k=_-m[N];_=Qw(E,_,k)}const w=c.fn({...e,[g]:x,[f]:_});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[g]:a,[f]:o}}}}}},eK=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:a,middlewareData:o}=e,{offset:c=0,mainAxis:d=!0,crossAxis:h=!0}=po(t,e),m={x:n,y:r},f=ia(i),g=pN(f);let x=m[g],_=m[f];const w=po(c,e),j=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(d){const k=g==="y"?"height":"width",C=a.reference[g]-a.floating[k]+j.mainAxis,P=a.reference[g]+a.reference[k]-j.mainAxis;x<C?x=C:x>P&&(x=P)}if(h){var N,E;const k=g==="y"?"width":"height",C=C4.has(go(i)),P=a.reference[f]-a.floating[k]+(C&&((N=o.offset)==null?void 0:N[f])||0)+(C?0:j.crossAxis),F=a.reference[f]+a.reference[k]+(C?0:((E=o.offset)==null?void 0:E[f])||0)-(C?j.crossAxis:0);_<P?_=P:_>F&&(_=F)}return{[g]:x,[f]:_}}}},tK=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:a,platform:o,elements:c}=e,{apply:d=()=>{},...h}=po(t,e),m=await uf(e,h),f=go(i),g=dh(i),x=ia(i)==="y",{width:_,height:w}=a.floating;let j,N;f==="top"||f==="bottom"?(j=f,N=g===(await(o.isRTL==null?void 0:o.isRTL(c.floating))?"start":"end")?"left":"right"):(N=f,j=g==="end"?"top":"bottom");const E=w-m.top-m.bottom,k=_-m.left-m.right,C=Tl(w-m[j],E),P=Tl(_-m[N],k),F=!e.middlewareData.shift;let D=C,R=P;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(R=k),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(D=E),F&&!g){const M=Is(m.left,0),V=Is(m.right,0),O=Is(m.top,0),U=Is(m.bottom,0);x?R=_-2*(M!==0||V!==0?M+V:Is(m.left,m.right)):D=w-2*(O!==0||U!==0?O+U:Is(m.top,m.bottom))}await d({...e,availableWidth:R,availableHeight:D});const I=await o.getDimensions(c.floating);return _!==I.width||w!==I.height?{reset:{rects:!0}}:{}}}};function Cy(){return typeof window<"u"}function hh(t){return k4(t)?(t.nodeName||"").toLowerCase():"#document"}function Fs(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Sa(t){var e;return(e=(k4(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function k4(t){return Cy()?t instanceof Node||t instanceof Fs(t).Node:!1}function Si(t){return Cy()?t instanceof Element||t instanceof Fs(t).Element:!1}function ba(t){return Cy()?t instanceof HTMLElement||t instanceof Fs(t).HTMLElement:!1}function Nk(t){return!Cy()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Fs(t).ShadowRoot}const nK=new Set(["inline","contents"]);function zf(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Ei(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!nK.has(i)}const rK=new Set(["table","td","th"]);function sK(t){return rK.has(hh(t))}const iK=[":popover-open",":modal"];function ky(t){return iK.some(e=>{try{return t.matches(e)}catch{return!1}})}const aK=["transform","translate","scale","rotate","perspective"],oK=["transform","translate","scale","rotate","perspective","filter"],lK=["paint","layout","strict","content"];function yN(t){const e=vN(),n=Si(t)?Ei(t):t;return aK.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||oK.some(r=>(n.willChange||"").includes(r))||lK.some(r=>(n.contain||"").includes(r))}function cK(t){let e=Al(t);for(;ba(e)&&!Hd(e);){if(yN(e))return e;if(ky(e))return null;e=Al(e)}return null}function vN(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const uK=new Set(["html","body","#document"]);function Hd(t){return uK.has(hh(t))}function Ei(t){return Fs(t).getComputedStyle(t)}function Ty(t){return Si(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Al(t){if(hh(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Nk(t)&&t.host||Sa(t);return Nk(e)?e.host:e}function T4(t){const e=Al(t);return Hd(e)?t.ownerDocument?t.ownerDocument.body:t.body:ba(e)&&zf(e)?e:T4(e)}function df(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=T4(t),a=i===((r=t.ownerDocument)==null?void 0:r.body),o=Fs(i);if(a){const c=Jw(o);return e.concat(o,o.visualViewport||[],zf(i)?i:[],c&&n?df(c):[])}return e.concat(i,df(i,[],n))}function Jw(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function A4(t){const e=Ei(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=ba(t),a=i?t.offsetWidth:n,o=i?t.offsetHeight:r,c=Tx(n)!==a||Tx(r)!==o;return c&&(n=a,r=o),{width:n,height:r,$:c}}function bN(t){return Si(t)?t:t.contextElement}function wd(t){const e=bN(t);if(!ba(e))return ua(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:a}=A4(e);let o=(a?Tx(n.width):n.width)/r,c=(a?Tx(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!c||!Number.isFinite(c))&&(c=1),{x:o,y:c}}const dK=ua(0);function I4(t){const e=Fs(t);return!vN()||!e.visualViewport?dK:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function hK(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Fs(t)?!1:e}function Gc(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),a=bN(t);let o=ua(1);e&&(r?Si(r)&&(o=wd(r)):o=wd(t));const c=hK(a,n,r)?I4(a):ua(0);let d=(i.left+c.x)/o.x,h=(i.top+c.y)/o.y,m=i.width/o.x,f=i.height/o.y;if(a){const g=Fs(a),x=r&&Si(r)?Fs(r):r;let _=g,w=Jw(_);for(;w&&r&&x!==_;){const j=wd(w),N=w.getBoundingClientRect(),E=Ei(w),k=N.left+(w.clientLeft+parseFloat(E.paddingLeft))*j.x,C=N.top+(w.clientTop+parseFloat(E.paddingTop))*j.y;d*=j.x,h*=j.y,m*=j.x,f*=j.y,d+=k,h+=C,_=Fs(w),w=Jw(_)}}return Ix({width:m,height:f,x:d,y:h})}function Ay(t,e){const n=Ty(t).scrollLeft;return e?e.left+n:Gc(Sa(t)).left+n}function R4(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Ay(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function mK(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const a=i==="fixed",o=Sa(r),c=e?ky(e.floating):!1;if(r===o||c&&a)return n;let d={scrollLeft:0,scrollTop:0},h=ua(1);const m=ua(0),f=ba(r);if((f||!f&&!a)&&((hh(r)!=="body"||zf(o))&&(d=Ty(r)),ba(r))){const x=Gc(r);h=wd(r),m.x=x.x+r.clientLeft,m.y=x.y+r.clientTop}const g=o&&!f&&!a?R4(o,d):ua(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-d.scrollLeft*h.x+m.x+g.x,y:n.y*h.y-d.scrollTop*h.y+m.y+g.y}}function fK(t){return Array.from(t.getClientRects())}function pK(t){const e=Sa(t),n=Ty(t),r=t.ownerDocument.body,i=Is(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=Is(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Ay(t);const c=-n.scrollTop;return Ei(r).direction==="rtl"&&(o+=Is(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:c}}const _k=25;function gK(t,e){const n=Fs(t),r=Sa(t),i=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,c=0,d=0;if(i){a=i.width,o=i.height;const m=vN();(!m||m&&e==="fixed")&&(c=i.offsetLeft,d=i.offsetTop)}const h=Ay(r);if(h<=0){const m=r.ownerDocument,f=m.body,g=getComputedStyle(f),x=m.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,_=Math.abs(r.clientWidth-f.clientWidth-x);_<=_k&&(a-=_)}else h<=_k&&(a+=h);return{width:a,height:o,x:c,y:d}}const xK=new Set(["absolute","fixed"]);function yK(t,e){const n=Gc(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,a=ba(t)?wd(t):ua(1),o=t.clientWidth*a.x,c=t.clientHeight*a.y,d=i*a.x,h=r*a.y;return{width:o,height:c,x:d,y:h}}function Sk(t,e,n){let r;if(e==="viewport")r=gK(t,n);else if(e==="document")r=pK(Sa(t));else if(Si(e))r=yK(e,n);else{const i=I4(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Ix(r)}function P4(t,e){const n=Al(t);return n===e||!Si(n)||Hd(n)?!1:Ei(n).position==="fixed"||P4(n,e)}function vK(t,e){const n=e.get(t);if(n)return n;let r=df(t,[],!1).filter(c=>Si(c)&&hh(c)!=="body"),i=null;const a=Ei(t).position==="fixed";let o=a?Al(t):t;for(;Si(o)&&!Hd(o);){const c=Ei(o),d=yN(o);!d&&c.position==="fixed"&&(i=null),(a?!d&&!i:!d&&c.position==="static"&&!!i&&xK.has(i.position)||zf(o)&&!d&&P4(t,o))?r=r.filter(m=>m!==o):i=c,o=Al(o)}return e.set(t,r),r}function bK(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?ky(e)?[]:vK(e,this._c):[].concat(n),r],c=o[0],d=o.reduce((h,m)=>{const f=Sk(e,m,i);return h.top=Is(f.top,h.top),h.right=Tl(f.right,h.right),h.bottom=Tl(f.bottom,h.bottom),h.left=Is(f.left,h.left),h},Sk(e,c,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function wK(t){const{width:e,height:n}=A4(t);return{width:e,height:n}}function jK(t,e,n){const r=ba(e),i=Sa(e),a=n==="fixed",o=Gc(t,!0,a,e);let c={scrollLeft:0,scrollTop:0};const d=ua(0);function h(){d.x=Ay(i)}if(r||!r&&!a)if((hh(e)!=="body"||zf(i))&&(c=Ty(e)),r){const x=Gc(e,!0,a,e);d.x=x.x+e.clientLeft,d.y=x.y+e.clientTop}else i&&h();a&&!r&&i&&h();const m=i&&!r&&!a?R4(i,c):ua(0),f=o.left+c.scrollLeft-d.x-m.x,g=o.top+c.scrollTop-d.y-m.y;return{x:f,y:g,width:o.width,height:o.height}}function xb(t){return Ei(t).position==="static"}function Ek(t,e){if(!ba(t)||Ei(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Sa(t)===n&&(n=n.ownerDocument.body),n}function D4(t,e){const n=Fs(t);if(ky(t))return n;if(!ba(t)){let i=Al(t);for(;i&&!Hd(i);){if(Si(i)&&!xb(i))return i;i=Al(i)}return n}let r=Ek(t,e);for(;r&&sK(r)&&xb(r);)r=Ek(r,e);return r&&Hd(r)&&xb(r)&&!yN(r)?n:r||cK(t)||n}const NK=async function(t){const e=this.getOffsetParent||D4,n=this.getDimensions,r=await n(t.floating);return{reference:jK(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function _K(t){return Ei(t).direction==="rtl"}const SK={convertOffsetParentRelativeRectToViewportRelativeRect:mK,getDocumentElement:Sa,getClippingRect:bK,getOffsetParent:D4,getElementRects:NK,getClientRects:fK,getDimensions:wK,getScale:wd,isElement:Si,isRTL:_K};function M4(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function EK(t,e){let n=null,r;const i=Sa(t);function a(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function o(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),a();const h=t.getBoundingClientRect(),{left:m,top:f,width:g,height:x}=h;if(c||e(),!g||!x)return;const _=wg(f),w=wg(i.clientWidth-(m+g)),j=wg(i.clientHeight-(f+x)),N=wg(m),k={rootMargin:-_+"px "+-w+"px "+-j+"px "+-N+"px",threshold:Is(0,Tl(1,d))||1};let C=!0;function P(F){const D=F[0].intersectionRatio;if(D!==d){if(!C)return o();D?o(!1,D):r=setTimeout(()=>{o(!1,1e-7)},1e3)}D===1&&!M4(h,t.getBoundingClientRect())&&o(),C=!1}try{n=new IntersectionObserver(P,{...k,root:i.ownerDocument})}catch{n=new IntersectionObserver(P,k)}n.observe(t)}return o(!0),a}function CK(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,h=bN(t),m=i||a?[...h?df(h):[],...df(e)]:[];m.forEach(N=>{i&&N.addEventListener("scroll",n,{passive:!0}),a&&N.addEventListener("resize",n)});const f=h&&c?EK(h,n):null;let g=-1,x=null;o&&(x=new ResizeObserver(N=>{let[E]=N;E&&E.target===h&&x&&(x.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var k;(k=x)==null||k.observe(e)})),n()}),h&&!d&&x.observe(h),x.observe(e));let _,w=d?Gc(t):null;d&&j();function j(){const N=Gc(t);w&&!M4(w,N)&&n(),w=N,_=requestAnimationFrame(j)}return n(),()=>{var N;m.forEach(E=>{i&&E.removeEventListener("scroll",n),a&&E.removeEventListener("resize",n)}),f==null||f(),(N=x)==null||N.disconnect(),x=null,d&&cancelAnimationFrame(_)}}const kK=XW,TK=ZW,AK=QW,IK=tK,RK=YW,Ck=GW,PK=eK,DK=(t,e,n)=>{const r=new Map,i={platform:SK,...n},a={...i.platform,_c:r};return KW(t,e,{...i,platform:a})};var MK=typeof document<"u",OK=function(){},Jg=MK?v.useLayoutEffect:OK;function Rx(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Rx(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&t.$$typeof)&&!Rx(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function O4(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function kk(t,e){const n=O4(t);return Math.round(e*n)/n}function yb(t){const e=v.useRef(t);return Jg(()=>{e.current=t}),e}function LK(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:o}={},transform:c=!0,whileElementsMounted:d,open:h}=t,[m,f]=v.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[g,x]=v.useState(r);Rx(g,r)||x(r);const[_,w]=v.useState(null),[j,N]=v.useState(null),E=v.useCallback(K=>{K!==F.current&&(F.current=K,w(K))},[]),k=v.useCallback(K=>{K!==D.current&&(D.current=K,N(K))},[]),C=a||_,P=o||j,F=v.useRef(null),D=v.useRef(null),R=v.useRef(m),I=d!=null,M=yb(d),V=yb(i),O=yb(h),U=v.useCallback(()=>{if(!F.current||!D.current)return;const K={placement:e,strategy:n,middleware:g};V.current&&(K.platform=V.current),DK(F.current,D.current,K).then(W=>{const B={...W,isPositioned:O.current!==!1};X.current&&!Rx(R.current,B)&&(R.current=B,Of.flushSync(()=>{f(B)}))})},[g,e,n,V,O]);Jg(()=>{h===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,f(K=>({...K,isPositioned:!1})))},[h]);const X=v.useRef(!1);Jg(()=>(X.current=!0,()=>{X.current=!1}),[]),Jg(()=>{if(C&&(F.current=C),P&&(D.current=P),C&&P){if(M.current)return M.current(C,P,U);U()}},[C,P,U,M,I]);const re=v.useMemo(()=>({reference:F,floating:D,setReference:E,setFloating:k}),[E,k]),ue=v.useMemo(()=>({reference:C,floating:P}),[C,P]),ie=v.useMemo(()=>{const K={position:n,left:0,top:0};if(!ue.floating)return K;const W=kk(ue.floating,m.x),B=kk(ue.floating,m.y);return c?{...K,transform:"translate("+W+"px, "+B+"px)",...O4(ue.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:W,top:B}},[n,c,ue.floating,m.x,m.y]);return v.useMemo(()=>({...m,update:U,refs:re,elements:ue,floatingStyles:ie}),[m,U,re,ue,ie])}const FK=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Ck({element:r.current,padding:i}).fn(n):{}:r?Ck({element:r,padding:i}).fn(n):{}}}},VK=(t,e)=>({...kK(t),options:[t,e]}),UK=(t,e)=>({...TK(t),options:[t,e]}),zK=(t,e)=>({...PK(t),options:[t,e]}),BK=(t,e)=>({...AK(t),options:[t,e]}),$K=(t,e)=>({...IK(t),options:[t,e]}),qK=(t,e)=>({...RK(t),options:[t,e]}),HK=(t,e)=>({...FK(t),options:[t,e]});var WK="Arrow",L4=v.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...a}=t;return s.jsx(kt.svg,{...a,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});L4.displayName=WK;var KK=L4;function wN(t){const[e,n]=v.useState(void 0);return ir(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,c;if("borderBoxSize"in a){const d=a.borderBoxSize,h=Array.isArray(d)?d[0]:d;o=h.inlineSize,c=h.blockSize}else o=t.offsetWidth,c=t.offsetHeight;n({width:o,height:c})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var jN="Popper",[F4,Iy]=Eo(jN),[GK,V4]=F4(jN),U4=t=>{const{__scopePopper:e,children:n}=t,[r,i]=v.useState(null);return s.jsx(GK,{scope:e,anchor:r,onAnchorChange:i,children:n})};U4.displayName=jN;var z4="PopperAnchor",B4=v.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,a=V4(z4,n),o=v.useRef(null),c=Wt(e,o),d=v.useRef(null);return v.useEffect(()=>{const h=d.current;d.current=(r==null?void 0:r.current)||o.current,h!==d.current&&a.onAnchorChange(d.current)}),r?null:s.jsx(kt.div,{...i,ref:c})});B4.displayName=z4;var NN="PopperContent",[QK,YK]=F4(NN),$4=v.forwardRef((t,e)=>{var ge,Se,De,ze,qe,gt;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:h=[],collisionPadding:m=0,sticky:f="partial",hideWhenDetached:g=!1,updatePositionStrategy:x="optimized",onPlaced:_,...w}=t,j=V4(NN,n),[N,E]=v.useState(null),k=Wt(e,Xt=>E(Xt)),[C,P]=v.useState(null),F=wN(C),D=(F==null?void 0:F.width)??0,R=(F==null?void 0:F.height)??0,I=r+(a!=="center"?"-"+a:""),M=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},V=Array.isArray(h)?h:[h],O=V.length>0,U={padding:M,boundary:V.filter(XK),altBoundary:O},{refs:X,floatingStyles:re,placement:ue,isPositioned:ie,middlewareData:K}=LK({strategy:"fixed",placement:I,whileElementsMounted:(...Xt)=>CK(...Xt,{animationFrame:x==="always"}),elements:{reference:j.anchor},middleware:[VK({mainAxis:i+R,alignmentAxis:o}),d&&UK({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?zK():void 0,...U}),d&&BK({...U}),$K({...U,apply:({elements:Xt,rects:kn,availableWidth:jr,availableHeight:$n})=>{const{width:Jn,height:ys}=kn.reference,$t=Xt.floating.style;$t.setProperty("--radix-popper-available-width",`${jr}px`),$t.setProperty("--radix-popper-available-height",`${$n}px`),$t.setProperty("--radix-popper-anchor-width",`${Jn}px`),$t.setProperty("--radix-popper-anchor-height",`${ys}px`)}}),C&&HK({element:C,padding:c}),ZK({arrowWidth:D,arrowHeight:R}),g&&qK({strategy:"referenceHidden",...U})]}),[W,B]=W4(ue),q=_i(_);ir(()=>{ie&&(q==null||q())},[ie,q]);const Z=(ge=K.arrow)==null?void 0:ge.x,$=(Se=K.arrow)==null?void 0:Se.y,me=((De=K.arrow)==null?void 0:De.centerOffset)!==0,[Ne,Ae]=v.useState();return ir(()=>{N&&Ae(window.getComputedStyle(N).zIndex)},[N]),s.jsx("div",{ref:X.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:ie?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ne,"--radix-popper-transform-origin":[(ze=K.transformOrigin)==null?void 0:ze.x,(qe=K.transformOrigin)==null?void 0:qe.y].join(" "),...((gt=K.hide)==null?void 0:gt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:s.jsx(QK,{scope:n,placedSide:W,onArrowChange:P,arrowX:Z,arrowY:$,shouldHideArrow:me,children:s.jsx(kt.div,{"data-side":W,"data-align":B,...w,ref:k,style:{...w.style,animation:ie?void 0:"none"}})})})});$4.displayName=NN;var q4="PopperArrow",JK={top:"bottom",right:"left",bottom:"top",left:"right"},H4=v.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,a=YK(q4,r),o=JK[a.placedSide];return s.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:s.jsx(KK,{...i,ref:n,style:{...i.style,display:"block"}})})});H4.displayName=q4;function XK(t){return t!==null}var ZK=t=>({name:"transformOrigin",options:t,fn(e){var j,N,E;const{placement:n,rects:r,middlewareData:i}=e,o=((j=i.arrow)==null?void 0:j.centerOffset)!==0,c=o?0:t.arrowWidth,d=o?0:t.arrowHeight,[h,m]=W4(n),f={start:"0%",center:"50%",end:"100%"}[m],g=(((N=i.arrow)==null?void 0:N.x)??0)+c/2,x=(((E=i.arrow)==null?void 0:E.y)??0)+d/2;let _="",w="";return h==="bottom"?(_=o?f:`${g}px`,w=`${-d}px`):h==="top"?(_=o?f:`${g}px`,w=`${r.floating.height+d}px`):h==="right"?(_=`${-d}px`,w=o?f:`${x}px`):h==="left"&&(_=`${r.floating.width+d}px`,w=o?f:`${x}px`),{data:{x:_,y:w}}}});function W4(t){const[e,n="center"]=t.split("-");return[e,n]}var K4=U4,G4=B4,Q4=$4,Y4=H4,eG="Portal",Ry=v.forwardRef((t,e)=>{var c;const{container:n,...r}=t,[i,a]=v.useState(!1);ir(()=>a(!0),[]);const o=n||i&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return o?pz.createPortal(s.jsx(kt.div,{...r,ref:e}),o):null});Ry.displayName=eG;function tG(t,e){return v.useReducer((n,r)=>e[n][r]??n,t)}var Co=t=>{const{present:e,children:n}=t,r=nG(e),i=typeof n=="function"?n({present:r.isPresent}):v.Children.only(n),a=Wt(r.ref,rG(i));return typeof n=="function"||r.isPresent?v.cloneElement(i,{ref:a}):null};Co.displayName="Presence";function nG(t){const[e,n]=v.useState(),r=v.useRef(null),i=v.useRef(t),a=v.useRef("none"),o=t?"mounted":"unmounted",[c,d]=tG(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const h=jg(r.current);a.current=c==="mounted"?h:"none"},[c]),ir(()=>{const h=r.current,m=i.current;if(m!==t){const g=a.current,x=jg(h);t?d("MOUNT"):x==="none"||(h==null?void 0:h.display)==="none"?d("UNMOUNT"):d(m&&g!==x?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,d]),ir(()=>{if(e){let h;const m=e.ownerDocument.defaultView??window,f=x=>{const w=jg(r.current).includes(CSS.escape(x.animationName));if(x.target===e&&w&&(d("ANIMATION_END"),!i.current)){const j=e.style.animationFillMode;e.style.animationFillMode="forwards",h=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=j)})}},g=x=>{x.target===e&&(a.current=jg(r.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{m.clearTimeout(h),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:v.useCallback(h=>{r.current=h?getComputedStyle(h):null,n(h)},[])}}function jg(t){return(t==null?void 0:t.animationName)||"none"}function rG(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var vb="rovingFocusGroup.onEntryFocus",sG={bubbles:!1,cancelable:!0},Bf="RovingFocusGroup",[Xw,J4,iG]=hN(Bf),[aG,X4]=Eo(Bf,[iG]),[oG,lG]=aG(Bf),Z4=v.forwardRef((t,e)=>s.jsx(Xw.Provider,{scope:t.__scopeRovingFocusGroup,children:s.jsx(Xw.Slot,{scope:t.__scopeRovingFocusGroup,children:s.jsx(cG,{...t,ref:e})})}));Z4.displayName=Bf;var cG=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:h,preventScrollOnEntryFocus:m=!1,...f}=t,g=v.useRef(null),x=Wt(e,g),_=mN(a),[w,j]=Kc({prop:o,defaultProp:c??null,onChange:d,caller:Bf}),[N,E]=v.useState(!1),k=_i(h),C=J4(n),P=v.useRef(!1),[F,D]=v.useState(0);return v.useEffect(()=>{const R=g.current;if(R)return R.addEventListener(vb,k),()=>R.removeEventListener(vb,k)},[k]),s.jsx(oG,{scope:n,orientation:r,dir:_,loop:i,currentTabStopId:w,onItemFocus:v.useCallback(R=>j(R),[j]),onItemShiftTab:v.useCallback(()=>E(!0),[]),onFocusableItemAdd:v.useCallback(()=>D(R=>R+1),[]),onFocusableItemRemove:v.useCallback(()=>D(R=>R-1),[]),children:s.jsx(kt.div,{tabIndex:N||F===0?-1:0,"data-orientation":r,...f,ref:x,style:{outline:"none",...t.style},onMouseDown:Je(t.onMouseDown,()=>{P.current=!0}),onFocus:Je(t.onFocus,R=>{const I=!P.current;if(R.target===R.currentTarget&&I&&!N){const M=new CustomEvent(vb,sG);if(R.currentTarget.dispatchEvent(M),!M.defaultPrevented){const V=C().filter(ue=>ue.focusable),O=V.find(ue=>ue.active),U=V.find(ue=>ue.id===w),re=[O,U,...V].filter(Boolean).map(ue=>ue.ref.current);nD(re,m)}}P.current=!1}),onBlur:Je(t.onBlur,()=>E(!1))})})}),eD="RovingFocusGroupItem",tD=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,children:o,...c}=t,d=no(),h=a||d,m=lG(eD,n),f=m.currentTabStopId===h,g=J4(n),{onFocusableItemAdd:x,onFocusableItemRemove:_,currentTabStopId:w}=m;return v.useEffect(()=>{if(r)return x(),()=>_()},[r,x,_]),s.jsx(Xw.ItemSlot,{scope:n,id:h,focusable:r,active:i,children:s.jsx(kt.span,{tabIndex:f?0:-1,"data-orientation":m.orientation,...c,ref:e,onMouseDown:Je(t.onMouseDown,j=>{r?m.onItemFocus(h):j.preventDefault()}),onFocus:Je(t.onFocus,()=>m.onItemFocus(h)),onKeyDown:Je(t.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){m.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const N=hG(j,m.orientation,m.dir);if(N!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let k=g().filter(C=>C.focusable).map(C=>C.ref.current);if(N==="last")k.reverse();else if(N==="prev"||N==="next"){N==="prev"&&k.reverse();const C=k.indexOf(j.currentTarget);k=m.loop?mG(k,C+1):k.slice(C+1)}setTimeout(()=>nD(k))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:w!=null}):o})})});tD.displayName=eD;var uG={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function dG(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function hG(t,e,n){const r=dG(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return uG[r]}function nD(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function mG(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var fG=Z4,pG=tD;function gG(t){const e=xG(t),n=v.forwardRef((r,i)=>{const{children:a,...o}=r,c=v.Children.toArray(a),d=c.find(vG);if(d){const h=d.props.children,m=c.map(f=>f===d?v.Children.count(h)>1?v.Children.only(null):v.isValidElement(h)?h.props.children:null:f);return s.jsx(e,{...o,ref:i,children:v.isValidElement(h)?v.cloneElement(h,void 0,m):null})}return s.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function xG(t){const e=v.forwardRef((n,r)=>{const{children:i,...a}=n;if(v.isValidElement(i)){const o=wG(i),c=bG(a,i.props);return i.type!==v.Fragment&&(c.ref=r?So(r,o):o),v.cloneElement(i,c)}return v.Children.count(i)>1?v.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var yG=Symbol("radix.slottable");function vG(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===yG}function bG(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...c)=>{const d=a(...c);return i(...c),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function wG(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var jG=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Xu=new WeakMap,Ng=new WeakMap,_g={},bb=0,rD=function(t){return t&&(t.host||rD(t.parentNode))},NG=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=rD(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},_G=function(t,e,n,r){var i=NG(e,Array.isArray(t)?t:[t]);_g[n]||(_g[n]=new WeakMap);var a=_g[n],o=[],c=new Set,d=new Set(i),h=function(f){!f||c.has(f)||(c.add(f),h(f.parentNode))};i.forEach(h);var m=function(f){!f||d.has(f)||Array.prototype.forEach.call(f.children,function(g){if(c.has(g))m(g);else try{var x=g.getAttribute(r),_=x!==null&&x!=="false",w=(Xu.get(g)||0)+1,j=(a.get(g)||0)+1;Xu.set(g,w),a.set(g,j),o.push(g),w===1&&_&&Ng.set(g,!0),j===1&&g.setAttribute(n,"true"),_||g.setAttribute(r,"true")}catch(N){console.error("aria-hidden: cannot operate on ",g,N)}})};return m(e),c.clear(),bb++,function(){o.forEach(function(f){var g=Xu.get(f)-1,x=a.get(f)-1;Xu.set(f,g),a.set(f,x),g||(Ng.has(f)||f.removeAttribute(r),Ng.delete(f)),x||f.removeAttribute(n)}),bb--,bb||(Xu=new WeakMap,Xu=new WeakMap,Ng=new WeakMap,_g={})}},_N=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=jG(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),_G(r,i,n,"aria-hidden")):function(){return null}},ra=function(){return ra=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ra.apply(this,arguments)};function sD(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function SG(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var Xg="right-scroll-bar-position",Zg="width-before-scroll-bar",EG="with-scroll-bars-hidden",CG="--removed-body-scroll-bar-size";function wb(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function kG(t,e){var n=v.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var TG=typeof window<"u"?v.useLayoutEffect:v.useEffect,Tk=new WeakMap;function AG(t,e){var n=kG(null,function(r){return t.forEach(function(i){return wb(i,r)})});return TG(function(){var r=Tk.get(n);if(r){var i=new Set(r),a=new Set(t),o=n.current;i.forEach(function(c){a.has(c)||wb(c,null)}),a.forEach(function(c){i.has(c)||wb(c,o)})}Tk.set(n,t)},[t]),n}function IG(t){return t}function RG(t,e){e===void 0&&(e=IG);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var o=e(a,r);return n.push(o),function(){n=n.filter(function(c){return c!==o})}},assignSyncMedium:function(a){for(r=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(c){return a(c)},filter:function(){return n}}},assignMedium:function(a){r=!0;var o=[];if(n.length){var c=n;n=[],c.forEach(a),o=n}var d=function(){var m=o;o=[],m.forEach(a)},h=function(){return Promise.resolve().then(d)};h(),n={push:function(m){o.push(m),h()},filter:function(m){return o=o.filter(m),n}}}};return i}function PG(t){t===void 0&&(t={});var e=RG(null);return e.options=ra({async:!0,ssr:!1},t),e}var iD=function(t){var e=t.sideCar,n=sD(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return v.createElement(r,ra({},n))};iD.isSideCarExport=!0;function DG(t,e){return t.useMedium(e),iD}var aD=PG(),jb=function(){},Py=v.forwardRef(function(t,e){var n=v.useRef(null),r=v.useState({onScrollCapture:jb,onWheelCapture:jb,onTouchMoveCapture:jb}),i=r[0],a=r[1],o=t.forwardProps,c=t.children,d=t.className,h=t.removeScrollBar,m=t.enabled,f=t.shards,g=t.sideCar,x=t.noRelative,_=t.noIsolation,w=t.inert,j=t.allowPinchZoom,N=t.as,E=N===void 0?"div":N,k=t.gapMode,C=sD(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=g,F=AG([n,e]),D=ra(ra({},C),i);return v.createElement(v.Fragment,null,m&&v.createElement(P,{sideCar:aD,removeScrollBar:h,shards:f,noRelative:x,noIsolation:_,inert:w,setCallbacks:a,allowPinchZoom:!!j,lockRef:n,gapMode:k}),o?v.cloneElement(v.Children.only(c),ra(ra({},D),{ref:F})):v.createElement(E,ra({},D,{className:d,ref:F}),c))});Py.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Py.classNames={fullWidth:Zg,zeroRight:Xg};var MG=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function OG(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=MG();return e&&t.setAttribute("nonce",e),t}function LG(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function FG(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var VG=function(){var t=0,e=null;return{add:function(n){t==0&&(e=OG())&&(LG(e,n),FG(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},UG=function(){var t=VG();return function(e,n){v.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},oD=function(){var t=UG(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},zG={left:0,top:0,right:0,gap:0},Nb=function(t){return parseInt(t||"",10)||0},BG=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Nb(n),Nb(r),Nb(i)]},$G=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return zG;var e=BG(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},qG=oD(),jd="data-scroll-locked",HG=function(t,e,n,r){var i=t.left,a=t.top,o=t.right,c=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(EG,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(jd,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Xg,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Zg,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Xg," .").concat(Xg,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Zg," .").concat(Zg,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(jd,`] {
    `).concat(CG,": ").concat(c,`px;
  }
`)},Ak=function(){var t=parseInt(document.body.getAttribute(jd)||"0",10);return isFinite(t)?t:0},WG=function(){v.useEffect(function(){return document.body.setAttribute(jd,(Ak()+1).toString()),function(){var t=Ak()-1;t<=0?document.body.removeAttribute(jd):document.body.setAttribute(jd,t.toString())}},[])},KG=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;WG();var a=v.useMemo(function(){return $G(i)},[i]);return v.createElement(qG,{styles:HG(a,!e,i,n?"":"!important")})},Zw=!1;if(typeof window<"u")try{var Sg=Object.defineProperty({},"passive",{get:function(){return Zw=!0,!0}});window.addEventListener("test",Sg,Sg),window.removeEventListener("test",Sg,Sg)}catch{Zw=!1}var Zu=Zw?{passive:!1}:!1,GG=function(t){return t.tagName==="TEXTAREA"},lD=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!GG(t)&&n[e]==="visible")},QG=function(t){return lD(t,"overflowY")},YG=function(t){return lD(t,"overflowX")},Ik=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=cD(t,r);if(i){var a=uD(t,r),o=a[1],c=a[2];if(o>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},JG=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},XG=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},cD=function(t,e){return t==="v"?QG(e):YG(e)},uD=function(t,e){return t==="v"?JG(e):XG(e)},ZG=function(t,e){return t==="h"&&e==="rtl"?-1:1},eQ=function(t,e,n,r,i){var a=ZG(t,window.getComputedStyle(e).direction),o=a*r,c=n.target,d=e.contains(c),h=!1,m=o>0,f=0,g=0;do{if(!c)break;var x=uD(t,c),_=x[0],w=x[1],j=x[2],N=w-j-a*_;(_||N)&&cD(t,c)&&(f+=N,g+=_);var E=c.parentNode;c=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!d&&c!==document.body||d&&(e.contains(c)||e===c));return(m&&Math.abs(f)<1||!m&&Math.abs(g)<1)&&(h=!0),h},Eg=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Rk=function(t){return[t.deltaX,t.deltaY]},Pk=function(t){return t&&"current"in t?t.current:t},tQ=function(t,e){return t[0]===e[0]&&t[1]===e[1]},nQ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},rQ=0,ed=[];function sQ(t){var e=v.useRef([]),n=v.useRef([0,0]),r=v.useRef(),i=v.useState(rQ++)[0],a=v.useState(oD)[0],o=v.useRef(t);v.useEffect(function(){o.current=t},[t]),v.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var w=SG([t.lockRef.current],(t.shards||[]).map(Pk),!0).filter(Boolean);return w.forEach(function(j){return j.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),w.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var c=v.useCallback(function(w,j){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!o.current.allowPinchZoom;var N=Eg(w),E=n.current,k="deltaX"in w?w.deltaX:E[0]-N[0],C="deltaY"in w?w.deltaY:E[1]-N[1],P,F=w.target,D=Math.abs(k)>Math.abs(C)?"h":"v";if("touches"in w&&D==="h"&&F.type==="range")return!1;var R=Ik(D,F);if(!R)return!0;if(R?P=D:(P=D==="v"?"h":"v",R=Ik(D,F)),!R)return!1;if(!r.current&&"changedTouches"in w&&(k||C)&&(r.current=P),!P)return!0;var I=r.current||P;return eQ(I,j,w,I==="h"?k:C)},[]),d=v.useCallback(function(w){var j=w;if(!(!ed.length||ed[ed.length-1]!==a)){var N="deltaY"in j?Rk(j):Eg(j),E=e.current.filter(function(P){return P.name===j.type&&(P.target===j.target||j.target===P.shadowParent)&&tQ(P.delta,N)})[0];if(E&&E.should){j.cancelable&&j.preventDefault();return}if(!E){var k=(o.current.shards||[]).map(Pk).filter(Boolean).filter(function(P){return P.contains(j.target)}),C=k.length>0?c(j,k[0]):!o.current.noIsolation;C&&j.cancelable&&j.preventDefault()}}},[]),h=v.useCallback(function(w,j,N,E){var k={name:w,delta:j,target:N,should:E,shadowParent:iQ(N)};e.current.push(k),setTimeout(function(){e.current=e.current.filter(function(C){return C!==k})},1)},[]),m=v.useCallback(function(w){n.current=Eg(w),r.current=void 0},[]),f=v.useCallback(function(w){h(w.type,Rk(w),w.target,c(w,t.lockRef.current))},[]),g=v.useCallback(function(w){h(w.type,Eg(w),w.target,c(w,t.lockRef.current))},[]);v.useEffect(function(){return ed.push(a),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:g}),document.addEventListener("wheel",d,Zu),document.addEventListener("touchmove",d,Zu),document.addEventListener("touchstart",m,Zu),function(){ed=ed.filter(function(w){return w!==a}),document.removeEventListener("wheel",d,Zu),document.removeEventListener("touchmove",d,Zu),document.removeEventListener("touchstart",m,Zu)}},[]);var x=t.removeScrollBar,_=t.inert;return v.createElement(v.Fragment,null,_?v.createElement(a,{styles:nQ(i)}):null,x?v.createElement(KG,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function iQ(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const aQ=DG(aD,sQ);var Dy=v.forwardRef(function(t,e){return v.createElement(Py,ra({},t,{ref:e,sideCar:aQ}))});Dy.classNames=Py.classNames;var e1=["Enter"," "],oQ=["ArrowDown","PageUp","Home"],dD=["ArrowUp","PageDown","End"],lQ=[...oQ,...dD],cQ={ltr:[...e1,"ArrowRight"],rtl:[...e1,"ArrowLeft"]},uQ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},$f="Menu",[hf,dQ,hQ]=hN($f),[cu,hD]=Eo($f,[hQ,Iy,X4]),My=Iy(),mD=X4(),[mQ,uu]=cu($f),[fQ,qf]=cu($f),fD=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:a,modal:o=!0}=t,c=My(e),[d,h]=v.useState(null),m=v.useRef(!1),f=_i(a),g=mN(i);return v.useEffect(()=>{const x=()=>{m.current=!0,document.addEventListener("pointerdown",_,{capture:!0,once:!0}),document.addEventListener("pointermove",_,{capture:!0,once:!0})},_=()=>m.current=!1;return document.addEventListener("keydown",x,{capture:!0}),()=>{document.removeEventListener("keydown",x,{capture:!0}),document.removeEventListener("pointerdown",_,{capture:!0}),document.removeEventListener("pointermove",_,{capture:!0})}},[]),s.jsx(K4,{...c,children:s.jsx(mQ,{scope:e,open:n,onOpenChange:f,content:d,onContentChange:h,children:s.jsx(fQ,{scope:e,onClose:v.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:m,dir:g,modal:o,children:r})})})};fD.displayName=$f;var pQ="MenuAnchor",SN=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=My(n);return s.jsx(G4,{...i,...r,ref:e})});SN.displayName=pQ;var EN="MenuPortal",[gQ,pD]=cu(EN,{forceMount:void 0}),gD=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,a=uu(EN,e);return s.jsx(gQ,{scope:e,forceMount:n,children:s.jsx(Co,{present:n||a.open,children:s.jsx(Ry,{asChild:!0,container:i,children:r})})})};gD.displayName=EN;var si="MenuContent",[xQ,CN]=cu(si),xD=v.forwardRef((t,e)=>{const n=pD(si,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,a=uu(si,t.__scopeMenu),o=qf(si,t.__scopeMenu);return s.jsx(hf.Provider,{scope:t.__scopeMenu,children:s.jsx(Co,{present:r||a.open,children:s.jsx(hf.Slot,{scope:t.__scopeMenu,children:o.modal?s.jsx(yQ,{...i,ref:e}):s.jsx(vQ,{...i,ref:e})})})})}),yQ=v.forwardRef((t,e)=>{const n=uu(si,t.__scopeMenu),r=v.useRef(null),i=Wt(e,r);return v.useEffect(()=>{const a=r.current;if(a)return _N(a)},[]),s.jsx(kN,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Je(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),vQ=v.forwardRef((t,e)=>{const n=uu(si,t.__scopeMenu);return s.jsx(kN,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),bQ=gG("MenuContent.ScrollLock"),kN=v.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:c,onEntryFocus:d,onEscapeKeyDown:h,onPointerDownOutside:m,onFocusOutside:f,onInteractOutside:g,onDismiss:x,disableOutsideScroll:_,...w}=t,j=uu(si,n),N=qf(si,n),E=My(n),k=mD(n),C=dQ(n),[P,F]=v.useState(null),D=v.useRef(null),R=Wt(e,D,j.onContentChange),I=v.useRef(0),M=v.useRef(""),V=v.useRef(0),O=v.useRef(null),U=v.useRef("right"),X=v.useRef(0),re=_?Dy:v.Fragment,ue=_?{as:bQ,allowPinchZoom:!0}:void 0,ie=W=>{var ge,Se;const B=M.current+W,q=C().filter(De=>!De.disabled),Z=document.activeElement,$=(ge=q.find(De=>De.ref.current===Z))==null?void 0:ge.textValue,me=q.map(De=>De.textValue),Ne=RQ(me,B,$),Ae=(Se=q.find(De=>De.textValue===Ne))==null?void 0:Se.ref.current;(function De(ze){M.current=ze,window.clearTimeout(I.current),ze!==""&&(I.current=window.setTimeout(()=>De(""),1e3))})(B),Ae&&setTimeout(()=>Ae.focus())};v.useEffect(()=>()=>window.clearTimeout(I.current),[]),fN();const K=v.useCallback(W=>{var q,Z;return U.current===((q=O.current)==null?void 0:q.side)&&DQ(W,(Z=O.current)==null?void 0:Z.area)},[]);return s.jsx(xQ,{scope:n,searchRef:M,onItemEnter:v.useCallback(W=>{K(W)&&W.preventDefault()},[K]),onItemLeave:v.useCallback(W=>{var B;K(W)||((B=D.current)==null||B.focus(),F(null))},[K]),onTriggerLeave:v.useCallback(W=>{K(W)&&W.preventDefault()},[K]),pointerGraceTimerRef:V,onPointerGraceIntentChange:v.useCallback(W=>{O.current=W},[]),children:s.jsx(re,{...ue,children:s.jsx(Ey,{asChild:!0,trapped:i,onMountAutoFocus:Je(a,W=>{var B;W.preventDefault(),(B=D.current)==null||B.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(Sy,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:h,onPointerDownOutside:m,onFocusOutside:f,onInteractOutside:g,onDismiss:x,children:s.jsx(fG,{asChild:!0,...k,dir:N.dir,orientation:"vertical",loop:r,currentTabStopId:P,onCurrentTabStopIdChange:F,onEntryFocus:Je(d,W=>{N.isUsingKeyboardRef.current||W.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(Q4,{role:"menu","aria-orientation":"vertical","data-state":PD(j.open),"data-radix-menu-content":"",dir:N.dir,...E,...w,ref:R,style:{outline:"none",...w.style},onKeyDown:Je(w.onKeyDown,W=>{const q=W.target.closest("[data-radix-menu-content]")===W.currentTarget,Z=W.ctrlKey||W.altKey||W.metaKey,$=W.key.length===1;q&&(W.key==="Tab"&&W.preventDefault(),!Z&&$&&ie(W.key));const me=D.current;if(W.target!==me||!lQ.includes(W.key))return;W.preventDefault();const Ae=C().filter(ge=>!ge.disabled).map(ge=>ge.ref.current);dD.includes(W.key)&&Ae.reverse(),AQ(Ae)}),onBlur:Je(t.onBlur,W=>{W.currentTarget.contains(W.target)||(window.clearTimeout(I.current),M.current="")}),onPointerMove:Je(t.onPointerMove,mf(W=>{const B=W.target,q=X.current!==W.clientX;if(W.currentTarget.contains(B)&&q){const Z=W.clientX>X.current?"right":"left";U.current=Z,X.current=W.clientX}}))})})})})})})});xD.displayName=si;var wQ="MenuGroup",TN=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return s.jsx(kt.div,{role:"group",...r,ref:e})});TN.displayName=wQ;var jQ="MenuLabel",yD=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return s.jsx(kt.div,{...r,ref:e})});yD.displayName=jQ;var Px="MenuItem",Dk="menu.itemSelect",Oy=v.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,a=v.useRef(null),o=qf(Px,t.__scopeMenu),c=CN(Px,t.__scopeMenu),d=Wt(e,a),h=v.useRef(!1),m=()=>{const f=a.current;if(!n&&f){const g=new CustomEvent(Dk,{bubbles:!0,cancelable:!0});f.addEventListener(Dk,x=>r==null?void 0:r(x),{once:!0}),j4(f,g),g.defaultPrevented?h.current=!1:o.onClose()}};return s.jsx(vD,{...i,ref:d,disabled:n,onClick:Je(t.onClick,m),onPointerDown:f=>{var g;(g=t.onPointerDown)==null||g.call(t,f),h.current=!0},onPointerUp:Je(t.onPointerUp,f=>{var g;h.current||(g=f.currentTarget)==null||g.click()}),onKeyDown:Je(t.onKeyDown,f=>{const g=c.searchRef.current!=="";n||g&&f.key===" "||e1.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Oy.displayName=Px;var vD=v.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...a}=t,o=CN(Px,n),c=mD(n),d=v.useRef(null),h=Wt(e,d),[m,f]=v.useState(!1),[g,x]=v.useState("");return v.useEffect(()=>{const _=d.current;_&&x((_.textContent??"").trim())},[a.children]),s.jsx(hf.ItemSlot,{scope:n,disabled:r,textValue:i??g,children:s.jsx(pG,{asChild:!0,...c,focusable:!r,children:s.jsx(kt.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:h,onPointerMove:Je(t.onPointerMove,mf(_=>{r?o.onItemLeave(_):(o.onItemEnter(_),_.defaultPrevented||_.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Je(t.onPointerLeave,mf(_=>o.onItemLeave(_))),onFocus:Je(t.onFocus,()=>f(!0)),onBlur:Je(t.onBlur,()=>f(!1))})})})}),NQ="MenuCheckboxItem",bD=v.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return s.jsx(SD,{scope:t.__scopeMenu,checked:n,children:s.jsx(Oy,{role:"menuitemcheckbox","aria-checked":Dx(n)?"mixed":n,...i,ref:e,"data-state":IN(n),onSelect:Je(i.onSelect,()=>r==null?void 0:r(Dx(n)?!0:!n),{checkForDefaultPrevented:!1})})})});bD.displayName=NQ;var wD="MenuRadioGroup",[_Q,SQ]=cu(wD,{value:void 0,onValueChange:()=>{}}),jD=v.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,a=_i(r);return s.jsx(_Q,{scope:t.__scopeMenu,value:n,onValueChange:a,children:s.jsx(TN,{...i,ref:e})})});jD.displayName=wD;var ND="MenuRadioItem",_D=v.forwardRef((t,e)=>{const{value:n,...r}=t,i=SQ(ND,t.__scopeMenu),a=n===i.value;return s.jsx(SD,{scope:t.__scopeMenu,checked:a,children:s.jsx(Oy,{role:"menuitemradio","aria-checked":a,...r,ref:e,"data-state":IN(a),onSelect:Je(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});_D.displayName=ND;var AN="MenuItemIndicator",[SD,EQ]=cu(AN,{checked:!1}),ED=v.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,a=EQ(AN,n);return s.jsx(Co,{present:r||Dx(a.checked)||a.checked===!0,children:s.jsx(kt.span,{...i,ref:e,"data-state":IN(a.checked)})})});ED.displayName=AN;var CQ="MenuSeparator",CD=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return s.jsx(kt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});CD.displayName=CQ;var kQ="MenuArrow",kD=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=My(n);return s.jsx(Y4,{...i,...r,ref:e})});kD.displayName=kQ;var TQ="MenuSub",[Gpe,TD]=cu(TQ),Sm="MenuSubTrigger",AD=v.forwardRef((t,e)=>{const n=uu(Sm,t.__scopeMenu),r=qf(Sm,t.__scopeMenu),i=TD(Sm,t.__scopeMenu),a=CN(Sm,t.__scopeMenu),o=v.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:d}=a,h={__scopeMenu:t.__scopeMenu},m=v.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return v.useEffect(()=>m,[m]),v.useEffect(()=>{const f=c.current;return()=>{window.clearTimeout(f),d(null)}},[c,d]),s.jsx(SN,{asChild:!0,...h,children:s.jsx(vD,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":PD(n.open),...t,ref:So(e,i.onTriggerChange),onClick:f=>{var g;(g=t.onClick)==null||g.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Je(t.onPointerMove,mf(f=>{a.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),m()},100))})),onPointerLeave:Je(t.onPointerLeave,mf(f=>{var x,_;m();const g=(x=n.content)==null?void 0:x.getBoundingClientRect();if(g){const w=(_=n.content)==null?void 0:_.dataset.side,j=w==="right",N=j?-5:5,E=g[j?"left":"right"],k=g[j?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+N,y:f.clientY},{x:E,y:g.top},{x:k,y:g.top},{x:k,y:g.bottom},{x:E,y:g.bottom}],side:w}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Je(t.onKeyDown,f=>{var x;const g=a.searchRef.current!=="";t.disabled||g&&f.key===" "||cQ[r.dir].includes(f.key)&&(n.onOpenChange(!0),(x=n.content)==null||x.focus(),f.preventDefault())})})})});AD.displayName=Sm;var ID="MenuSubContent",RD=v.forwardRef((t,e)=>{const n=pD(si,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,a=uu(si,t.__scopeMenu),o=qf(si,t.__scopeMenu),c=TD(ID,t.__scopeMenu),d=v.useRef(null),h=Wt(e,d);return s.jsx(hf.Provider,{scope:t.__scopeMenu,children:s.jsx(Co,{present:r||a.open,children:s.jsx(hf.Slot,{scope:t.__scopeMenu,children:s.jsx(kN,{id:c.contentId,"aria-labelledby":c.triggerId,...i,ref:h,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{var f;o.isUsingKeyboardRef.current&&((f=d.current)==null||f.focus()),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:Je(t.onFocusOutside,m=>{m.target!==c.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Je(t.onEscapeKeyDown,m=>{o.onClose(),m.preventDefault()}),onKeyDown:Je(t.onKeyDown,m=>{var x;const f=m.currentTarget.contains(m.target),g=uQ[o.dir].includes(m.key);f&&g&&(a.onOpenChange(!1),(x=c.trigger)==null||x.focus(),m.preventDefault())})})})})})});RD.displayName=ID;function PD(t){return t?"open":"closed"}function Dx(t){return t==="indeterminate"}function IN(t){return Dx(t)?"indeterminate":t?"checked":"unchecked"}function AQ(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function IQ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function RQ(t,e,n){const i=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let o=IQ(t,Math.max(a,0));i.length===1&&(o=o.filter(h=>h!==n));const d=o.find(h=>h.toLowerCase().startsWith(i.toLowerCase()));return d!==n?d:void 0}function PQ(t,e){const{x:n,y:r}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const c=e[a],d=e[o],h=c.x,m=c.y,f=d.x,g=d.y;m>r!=g>r&&n<(f-h)*(r-m)/(g-m)+h&&(i=!i)}return i}function DQ(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return PQ(n,e)}function mf(t){return e=>e.pointerType==="mouse"?t(e):void 0}var MQ=fD,OQ=SN,LQ=gD,FQ=xD,VQ=TN,UQ=yD,zQ=Oy,BQ=bD,$Q=jD,qQ=_D,HQ=ED,WQ=CD,KQ=kD,GQ=AD,QQ=RD,Ly="DropdownMenu",[YQ]=Eo(Ly,[hD]),Yr=hD(),[JQ,DD]=YQ(Ly),MD=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:a,onOpenChange:o,modal:c=!0}=t,d=Yr(e),h=v.useRef(null),[m,f]=Kc({prop:i,defaultProp:a??!1,onChange:o,caller:Ly});return s.jsx(JQ,{scope:e,triggerId:no(),triggerRef:h,contentId:no(),open:m,onOpenChange:f,onOpenToggle:v.useCallback(()=>f(g=>!g),[f]),modal:c,children:s.jsx(MQ,{...d,open:m,onOpenChange:f,dir:r,modal:c,children:n})})};MD.displayName=Ly;var OD="DropdownMenuTrigger",LD=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,a=DD(OD,n),o=Yr(n);return s.jsx(OQ,{asChild:!0,...o,children:s.jsx(kt.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:So(e,a.triggerRef),onPointerDown:Je(t.onPointerDown,c=>{!r&&c.button===0&&c.ctrlKey===!1&&(a.onOpenToggle(),a.open||c.preventDefault())}),onKeyDown:Je(t.onKeyDown,c=>{r||(["Enter"," "].includes(c.key)&&a.onOpenToggle(),c.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});LD.displayName=OD;var XQ="DropdownMenuPortal",FD=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Yr(e);return s.jsx(LQ,{...r,...n})};FD.displayName=XQ;var VD="DropdownMenuContent",UD=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=DD(VD,n),a=Yr(n),o=v.useRef(!1);return s.jsx(FQ,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...r,ref:e,onCloseAutoFocus:Je(t.onCloseAutoFocus,c=>{var d;o.current||(d=i.triggerRef.current)==null||d.focus(),o.current=!1,c.preventDefault()}),onInteractOutside:Je(t.onInteractOutside,c=>{const d=c.detail.originalEvent,h=d.button===0&&d.ctrlKey===!0,m=d.button===2||h;(!i.modal||m)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});UD.displayName=VD;var ZQ="DropdownMenuGroup",eY=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Yr(n);return s.jsx(VQ,{...i,...r,ref:e})});eY.displayName=ZQ;var tY="DropdownMenuLabel",zD=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Yr(n);return s.jsx(UQ,{...i,...r,ref:e})});zD.displayName=tY;var nY="DropdownMenuItem",BD=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Yr(n);return s.jsx(zQ,{...i,...r,ref:e})});BD.displayName=nY;var rY="DropdownMenuCheckboxItem",$D=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Yr(n);return s.jsx(BQ,{...i,...r,ref:e})});$D.displayName=rY;var sY="DropdownMenuRadioGroup",iY=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Yr(n);return s.jsx($Q,{...i,...r,ref:e})});iY.displayName=sY;var aY="DropdownMenuRadioItem",qD=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Yr(n);return s.jsx(qQ,{...i,...r,ref:e})});qD.displayName=aY;var oY="DropdownMenuItemIndicator",HD=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Yr(n);return s.jsx(HQ,{...i,...r,ref:e})});HD.displayName=oY;var lY="DropdownMenuSeparator",WD=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Yr(n);return s.jsx(WQ,{...i,...r,ref:e})});WD.displayName=lY;var cY="DropdownMenuArrow",uY=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Yr(n);return s.jsx(KQ,{...i,...r,ref:e})});uY.displayName=cY;var dY="DropdownMenuSubTrigger",KD=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Yr(n);return s.jsx(GQ,{...i,...r,ref:e})});KD.displayName=dY;var hY="DropdownMenuSubContent",GD=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Yr(n);return s.jsx(QQ,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});GD.displayName=hY;var mY=MD,fY=LD,pY=FD,QD=UD,YD=zD,JD=BD,XD=$D,ZD=qD,eM=HD,tM=WD,nM=KD,rM=GD;function sM(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=sM(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function iM(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=sM(t))&&(r&&(r+=" "),r+=e);return r}const RN="-",gY=t=>{const e=yY(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const c=o.split(RN);return c[0]===""&&c.length!==1&&c.shift(),aM(c,e)||xY(o)},getConflictingClassGroupIds:(o,c)=>{const d=n[o]||[];return c&&r[o]?[...d,...r[o]]:d}}},aM=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?aM(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(RN);return(o=e.validators.find(({validator:c})=>c(a)))==null?void 0:o.classGroupId},Mk=/^\[(.+)\]$/,xY=t=>{if(Mk.test(t)){const e=Mk.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},yY=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const i in n)t1(n[i],r,i,e);return r},t1=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:Ok(e,i);a.classGroupId=n;return}if(typeof i=="function"){if(vY(i)){t1(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,o])=>{t1(o,Ok(e,a),n,r)})})},Ok=(t,e)=>{let n=t;return e.split(RN).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},vY=t=>t.isThemeGetter,bY=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(a,o)=>{n.set(a,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=r.get(a))!==void 0)return i(a,o),o},set(a,o){n.has(a)?n.set(a,o):i(a,o)}}},n1="!",r1=":",wY=r1.length,jY=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const a=[];let o=0,c=0,d=0,h;for(let _=0;_<i.length;_++){let w=i[_];if(o===0&&c===0){if(w===r1){a.push(i.slice(d,_)),d=_+wY;continue}if(w==="/"){h=_;continue}}w==="["?o++:w==="]"?o--:w==="("?c++:w===")"&&c--}const m=a.length===0?i:i.substring(d),f=NY(m),g=f!==m,x=h&&h>d?h-d:void 0;return{modifiers:a,hasImportantModifier:g,baseClassName:f,maybePostfixModifierPosition:x}};if(e){const i=e+r1,a=r;r=o=>o.startsWith(i)?a(o.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=a=>n({className:a,parseClassName:i})}return r},NY=t=>t.endsWith(n1)?t.substring(0,t.length-1):t.startsWith(n1)?t.substring(1):t,_Y=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let a=[];return r.forEach(o=>{o[0]==="["||e[o]?(i.push(...a.sort(),o),a=[]):a.push(o)}),i.push(...a.sort()),i}},SY=t=>({cache:bY(t.cacheSize),parseClassName:jY(t),sortModifiers:_Y(t),...gY(t)}),EY=/\s+/,CY=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:a}=e,o=[],c=t.trim().split(EY);let d="";for(let h=c.length-1;h>=0;h-=1){const m=c[h],{isExternal:f,modifiers:g,hasImportantModifier:x,baseClassName:_,maybePostfixModifierPosition:w}=n(m);if(f){d=m+(d.length>0?" "+d:d);continue}let j=!!w,N=r(j?_.substring(0,w):_);if(!N){if(!j){d=m+(d.length>0?" "+d:d);continue}if(N=r(_),!N){d=m+(d.length>0?" "+d:d);continue}j=!1}const E=a(g).join(":"),k=x?E+n1:E,C=k+N;if(o.includes(C))continue;o.push(C);const P=i(N,j);for(let F=0;F<P.length;++F){const D=P[F];o.push(k+D)}d=m+(d.length>0?" "+d:d)}return d};function kY(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=oM(e))&&(r&&(r+=" "),r+=n);return r}const oM=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=oM(t[r]))&&(n&&(n+=" "),n+=e);return n};function TY(t,...e){let n,r,i,a=o;function o(d){const h=e.reduce((m,f)=>f(m),t());return n=SY(h),r=n.cache.get,i=n.cache.set,a=c,c(d)}function c(d){const h=r(d);if(h)return h;const m=CY(d,n);return i(d,m),m}return function(){return a(kY.apply(null,arguments))}}const tr=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},lM=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,cM=/^\((?:(\w[\w-]*):)?(.+)\)$/i,AY=/^\d+\/\d+$/,IY=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,RY=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,PY=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,DY=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,MY=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,td=t=>AY.test(t),Ct=t=>!!t&&!Number.isNaN(Number(t)),Xo=t=>!!t&&Number.isInteger(Number(t)),_b=t=>t.endsWith("%")&&Ct(t.slice(0,-1)),qa=t=>IY.test(t),OY=()=>!0,LY=t=>RY.test(t)&&!PY.test(t),uM=()=>!1,FY=t=>DY.test(t),VY=t=>MY.test(t),UY=t=>!Ke(t)&&!Ge(t),zY=t=>mh(t,mM,uM),Ke=t=>lM.test(t),Nc=t=>mh(t,fM,LY),Sb=t=>mh(t,WY,Ct),Lk=t=>mh(t,dM,uM),BY=t=>mh(t,hM,VY),Cg=t=>mh(t,pM,FY),Ge=t=>cM.test(t),pm=t=>fh(t,fM),$Y=t=>fh(t,KY),Fk=t=>fh(t,dM),qY=t=>fh(t,mM),HY=t=>fh(t,hM),kg=t=>fh(t,pM,!0),mh=(t,e,n)=>{const r=lM.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},fh=(t,e,n=!1)=>{const r=cM.exec(t);return r?r[1]?e(r[1]):n:!1},dM=t=>t==="position"||t==="percentage",hM=t=>t==="image"||t==="url",mM=t=>t==="length"||t==="size"||t==="bg-size",fM=t=>t==="length",WY=t=>t==="number",KY=t=>t==="family-name",pM=t=>t==="shadow",GY=()=>{const t=tr("color"),e=tr("font"),n=tr("text"),r=tr("font-weight"),i=tr("tracking"),a=tr("leading"),o=tr("breakpoint"),c=tr("container"),d=tr("spacing"),h=tr("radius"),m=tr("shadow"),f=tr("inset-shadow"),g=tr("text-shadow"),x=tr("drop-shadow"),_=tr("blur"),w=tr("perspective"),j=tr("aspect"),N=tr("ease"),E=tr("animate"),k=()=>["auto","avoid","all","avoid-page","page","left","right","column"],C=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],P=()=>[...C(),Ge,Ke],F=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto","contain","none"],R=()=>[Ge,Ke,d],I=()=>[td,"full","auto",...R()],M=()=>[Xo,"none","subgrid",Ge,Ke],V=()=>["auto",{span:["full",Xo,Ge,Ke]},Xo,Ge,Ke],O=()=>[Xo,"auto",Ge,Ke],U=()=>["auto","min","max","fr",Ge,Ke],X=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],re=()=>["start","end","center","stretch","center-safe","end-safe"],ue=()=>["auto",...R()],ie=()=>[td,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...R()],K=()=>[t,Ge,Ke],W=()=>[...C(),Fk,Lk,{position:[Ge,Ke]}],B=()=>["no-repeat",{repeat:["","x","y","space","round"]}],q=()=>["auto","cover","contain",qY,zY,{size:[Ge,Ke]}],Z=()=>[_b,pm,Nc],$=()=>["","none","full",h,Ge,Ke],me=()=>["",Ct,pm,Nc],Ne=()=>["solid","dashed","dotted","double"],Ae=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ge=()=>[Ct,_b,Fk,Lk],Se=()=>["","none",_,Ge,Ke],De=()=>["none",Ct,Ge,Ke],ze=()=>["none",Ct,Ge,Ke],qe=()=>[Ct,Ge,Ke],gt=()=>[td,"full",...R()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[qa],breakpoint:[qa],color:[OY],container:[qa],"drop-shadow":[qa],ease:["in","out","in-out"],font:[UY],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[qa],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[qa],shadow:[qa],spacing:["px",Ct],text:[qa],"text-shadow":[qa],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",td,Ke,Ge,j]}],container:["container"],columns:[{columns:[Ct,Ke,Ge,c]}],"break-after":[{"break-after":k()}],"break-before":[{"break-before":k()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:P()}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:I()}],"inset-x":[{"inset-x":I()}],"inset-y":[{"inset-y":I()}],start:[{start:I()}],end:[{end:I()}],top:[{top:I()}],right:[{right:I()}],bottom:[{bottom:I()}],left:[{left:I()}],visibility:["visible","invisible","collapse"],z:[{z:[Xo,"auto",Ge,Ke]}],basis:[{basis:[td,"full","auto",c,...R()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ct,td,"auto","initial","none",Ke]}],grow:[{grow:["",Ct,Ge,Ke]}],shrink:[{shrink:["",Ct,Ge,Ke]}],order:[{order:[Xo,"first","last","none",Ge,Ke]}],"grid-cols":[{"grid-cols":M()}],"col-start-end":[{col:V()}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":M()}],"row-start-end":[{row:V()}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":U()}],"auto-rows":[{"auto-rows":U()}],gap:[{gap:R()}],"gap-x":[{"gap-x":R()}],"gap-y":[{"gap-y":R()}],"justify-content":[{justify:[...X(),"normal"]}],"justify-items":[{"justify-items":[...re(),"normal"]}],"justify-self":[{"justify-self":["auto",...re()]}],"align-content":[{content:["normal",...X()]}],"align-items":[{items:[...re(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...re(),{baseline:["","last"]}]}],"place-content":[{"place-content":X()}],"place-items":[{"place-items":[...re(),"baseline"]}],"place-self":[{"place-self":["auto",...re()]}],p:[{p:R()}],px:[{px:R()}],py:[{py:R()}],ps:[{ps:R()}],pe:[{pe:R()}],pt:[{pt:R()}],pr:[{pr:R()}],pb:[{pb:R()}],pl:[{pl:R()}],m:[{m:ue()}],mx:[{mx:ue()}],my:[{my:ue()}],ms:[{ms:ue()}],me:[{me:ue()}],mt:[{mt:ue()}],mr:[{mr:ue()}],mb:[{mb:ue()}],ml:[{ml:ue()}],"space-x":[{"space-x":R()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":R()}],"space-y-reverse":["space-y-reverse"],size:[{size:ie()}],w:[{w:[c,"screen",...ie()]}],"min-w":[{"min-w":[c,"screen","none",...ie()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[o]},...ie()]}],h:[{h:["screen","lh",...ie()]}],"min-h":[{"min-h":["screen","lh","none",...ie()]}],"max-h":[{"max-h":["screen","lh",...ie()]}],"font-size":[{text:["base",n,pm,Nc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ge,Sb]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",_b,Ke]}],"font-family":[{font:[$Y,Ke,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Ge,Ke]}],"line-clamp":[{"line-clamp":[Ct,"none",Ge,Sb]}],leading:[{leading:[a,...R()]}],"list-image":[{"list-image":["none",Ge,Ke]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ge,Ke]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:K()}],"text-color":[{text:K()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ne(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ct,"from-font","auto",Ge,Nc]}],"text-decoration-color":[{decoration:K()}],"underline-offset":[{"underline-offset":[Ct,"auto",Ge,Ke]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ge,Ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ge,Ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:W()}],"bg-repeat":[{bg:B()}],"bg-size":[{bg:q()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Xo,Ge,Ke],radial:["",Ge,Ke],conic:[Xo,Ge,Ke]},HY,BY]}],"bg-color":[{bg:K()}],"gradient-from-pos":[{from:Z()}],"gradient-via-pos":[{via:Z()}],"gradient-to-pos":[{to:Z()}],"gradient-from":[{from:K()}],"gradient-via":[{via:K()}],"gradient-to":[{to:K()}],rounded:[{rounded:$()}],"rounded-s":[{"rounded-s":$()}],"rounded-e":[{"rounded-e":$()}],"rounded-t":[{"rounded-t":$()}],"rounded-r":[{"rounded-r":$()}],"rounded-b":[{"rounded-b":$()}],"rounded-l":[{"rounded-l":$()}],"rounded-ss":[{"rounded-ss":$()}],"rounded-se":[{"rounded-se":$()}],"rounded-ee":[{"rounded-ee":$()}],"rounded-es":[{"rounded-es":$()}],"rounded-tl":[{"rounded-tl":$()}],"rounded-tr":[{"rounded-tr":$()}],"rounded-br":[{"rounded-br":$()}],"rounded-bl":[{"rounded-bl":$()}],"border-w":[{border:me()}],"border-w-x":[{"border-x":me()}],"border-w-y":[{"border-y":me()}],"border-w-s":[{"border-s":me()}],"border-w-e":[{"border-e":me()}],"border-w-t":[{"border-t":me()}],"border-w-r":[{"border-r":me()}],"border-w-b":[{"border-b":me()}],"border-w-l":[{"border-l":me()}],"divide-x":[{"divide-x":me()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":me()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ne(),"hidden","none"]}],"divide-style":[{divide:[...Ne(),"hidden","none"]}],"border-color":[{border:K()}],"border-color-x":[{"border-x":K()}],"border-color-y":[{"border-y":K()}],"border-color-s":[{"border-s":K()}],"border-color-e":[{"border-e":K()}],"border-color-t":[{"border-t":K()}],"border-color-r":[{"border-r":K()}],"border-color-b":[{"border-b":K()}],"border-color-l":[{"border-l":K()}],"divide-color":[{divide:K()}],"outline-style":[{outline:[...Ne(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ct,Ge,Ke]}],"outline-w":[{outline:["",Ct,pm,Nc]}],"outline-color":[{outline:K()}],shadow:[{shadow:["","none",m,kg,Cg]}],"shadow-color":[{shadow:K()}],"inset-shadow":[{"inset-shadow":["none",f,kg,Cg]}],"inset-shadow-color":[{"inset-shadow":K()}],"ring-w":[{ring:me()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:K()}],"ring-offset-w":[{"ring-offset":[Ct,Nc]}],"ring-offset-color":[{"ring-offset":K()}],"inset-ring-w":[{"inset-ring":me()}],"inset-ring-color":[{"inset-ring":K()}],"text-shadow":[{"text-shadow":["none",g,kg,Cg]}],"text-shadow-color":[{"text-shadow":K()}],opacity:[{opacity:[Ct,Ge,Ke]}],"mix-blend":[{"mix-blend":[...Ae(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ae()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ct]}],"mask-image-linear-from-pos":[{"mask-linear-from":ge()}],"mask-image-linear-to-pos":[{"mask-linear-to":ge()}],"mask-image-linear-from-color":[{"mask-linear-from":K()}],"mask-image-linear-to-color":[{"mask-linear-to":K()}],"mask-image-t-from-pos":[{"mask-t-from":ge()}],"mask-image-t-to-pos":[{"mask-t-to":ge()}],"mask-image-t-from-color":[{"mask-t-from":K()}],"mask-image-t-to-color":[{"mask-t-to":K()}],"mask-image-r-from-pos":[{"mask-r-from":ge()}],"mask-image-r-to-pos":[{"mask-r-to":ge()}],"mask-image-r-from-color":[{"mask-r-from":K()}],"mask-image-r-to-color":[{"mask-r-to":K()}],"mask-image-b-from-pos":[{"mask-b-from":ge()}],"mask-image-b-to-pos":[{"mask-b-to":ge()}],"mask-image-b-from-color":[{"mask-b-from":K()}],"mask-image-b-to-color":[{"mask-b-to":K()}],"mask-image-l-from-pos":[{"mask-l-from":ge()}],"mask-image-l-to-pos":[{"mask-l-to":ge()}],"mask-image-l-from-color":[{"mask-l-from":K()}],"mask-image-l-to-color":[{"mask-l-to":K()}],"mask-image-x-from-pos":[{"mask-x-from":ge()}],"mask-image-x-to-pos":[{"mask-x-to":ge()}],"mask-image-x-from-color":[{"mask-x-from":K()}],"mask-image-x-to-color":[{"mask-x-to":K()}],"mask-image-y-from-pos":[{"mask-y-from":ge()}],"mask-image-y-to-pos":[{"mask-y-to":ge()}],"mask-image-y-from-color":[{"mask-y-from":K()}],"mask-image-y-to-color":[{"mask-y-to":K()}],"mask-image-radial":[{"mask-radial":[Ge,Ke]}],"mask-image-radial-from-pos":[{"mask-radial-from":ge()}],"mask-image-radial-to-pos":[{"mask-radial-to":ge()}],"mask-image-radial-from-color":[{"mask-radial-from":K()}],"mask-image-radial-to-color":[{"mask-radial-to":K()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":C()}],"mask-image-conic-pos":[{"mask-conic":[Ct]}],"mask-image-conic-from-pos":[{"mask-conic-from":ge()}],"mask-image-conic-to-pos":[{"mask-conic-to":ge()}],"mask-image-conic-from-color":[{"mask-conic-from":K()}],"mask-image-conic-to-color":[{"mask-conic-to":K()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:W()}],"mask-repeat":[{mask:B()}],"mask-size":[{mask:q()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ge,Ke]}],filter:[{filter:["","none",Ge,Ke]}],blur:[{blur:Se()}],brightness:[{brightness:[Ct,Ge,Ke]}],contrast:[{contrast:[Ct,Ge,Ke]}],"drop-shadow":[{"drop-shadow":["","none",x,kg,Cg]}],"drop-shadow-color":[{"drop-shadow":K()}],grayscale:[{grayscale:["",Ct,Ge,Ke]}],"hue-rotate":[{"hue-rotate":[Ct,Ge,Ke]}],invert:[{invert:["",Ct,Ge,Ke]}],saturate:[{saturate:[Ct,Ge,Ke]}],sepia:[{sepia:["",Ct,Ge,Ke]}],"backdrop-filter":[{"backdrop-filter":["","none",Ge,Ke]}],"backdrop-blur":[{"backdrop-blur":Se()}],"backdrop-brightness":[{"backdrop-brightness":[Ct,Ge,Ke]}],"backdrop-contrast":[{"backdrop-contrast":[Ct,Ge,Ke]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ct,Ge,Ke]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ct,Ge,Ke]}],"backdrop-invert":[{"backdrop-invert":["",Ct,Ge,Ke]}],"backdrop-opacity":[{"backdrop-opacity":[Ct,Ge,Ke]}],"backdrop-saturate":[{"backdrop-saturate":[Ct,Ge,Ke]}],"backdrop-sepia":[{"backdrop-sepia":["",Ct,Ge,Ke]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":R()}],"border-spacing-x":[{"border-spacing-x":R()}],"border-spacing-y":[{"border-spacing-y":R()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ge,Ke]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ct,"initial",Ge,Ke]}],ease:[{ease:["linear","initial",N,Ge,Ke]}],delay:[{delay:[Ct,Ge,Ke]}],animate:[{animate:["none",E,Ge,Ke]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,Ge,Ke]}],"perspective-origin":[{"perspective-origin":P()}],rotate:[{rotate:De()}],"rotate-x":[{"rotate-x":De()}],"rotate-y":[{"rotate-y":De()}],"rotate-z":[{"rotate-z":De()}],scale:[{scale:ze()}],"scale-x":[{"scale-x":ze()}],"scale-y":[{"scale-y":ze()}],"scale-z":[{"scale-z":ze()}],"scale-3d":["scale-3d"],skew:[{skew:qe()}],"skew-x":[{"skew-x":qe()}],"skew-y":[{"skew-y":qe()}],transform:[{transform:[Ge,Ke,"","none","gpu","cpu"]}],"transform-origin":[{origin:P()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:gt()}],"translate-x":[{"translate-x":gt()}],"translate-y":[{"translate-y":gt()}],"translate-z":[{"translate-z":gt()}],"translate-none":["translate-none"],accent:[{accent:K()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:K()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ge,Ke]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ge,Ke]}],fill:[{fill:["none",...K()]}],"stroke-w":[{stroke:[Ct,pm,Nc,Sb]}],stroke:[{stroke:["none",...K()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},QY=TY(GY);function ut(...t){return QY(iM(t))}const Vk=mY,Uk=fY,YY=v.forwardRef(({className:t,inset:e,children:n,...r},i)=>s.jsxs(nM,{ref:i,className:ut("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,s.jsx(OR,{className:"ml-auto"})]}));YY.displayName=nM.displayName;const JY=v.forwardRef(({className:t,...e},n)=>s.jsx(rM,{ref:n,className:ut("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));JY.displayName=rM.displayName;const s1=v.forwardRef(({className:t,sideOffset:e=4,...n},r)=>s.jsx(pY,{children:s.jsx(QD,{ref:r,sideOffset:e,className:ut("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));s1.displayName=QD.displayName;const Em=v.forwardRef(({className:t,inset:e,...n},r)=>s.jsx(JD,{ref:r,className:ut("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",t),...n}));Em.displayName=JD.displayName;const XY=v.forwardRef(({className:t,children:e,checked:n,...r},i)=>s.jsxs(XD,{ref:i,className:ut("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(eM,{children:s.jsx(tf,{className:"h-4 w-4"})})}),e]}));XY.displayName=XD.displayName;const ZY=v.forwardRef(({className:t,children:e,...n},r)=>s.jsxs(ZD,{ref:r,className:ut("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(eM,{children:s.jsx(Sj,{className:"h-2 w-2 fill-current"})})}),e]}));ZY.displayName=ZD.displayName;const eJ=v.forwardRef(({className:t,inset:e,...n},r)=>s.jsx(YD,{ref:r,className:ut("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));eJ.displayName=YD.displayName;const tJ=v.forwardRef(({className:t,...e},n)=>s.jsx(tM,{ref:n,className:ut("-mx-1 my-1 h-px bg-muted",t),...e}));tJ.displayName=tM.displayName;var nJ=Symbol.for("react.lazy"),Mx=yj[" use ".trim().toString()];function rJ(t){return typeof t=="object"&&t!==null&&"then"in t}function gM(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===nJ&&"_payload"in t&&rJ(t._payload)}function Fy(t){const e=iJ(t),n=v.forwardRef((r,i)=>{let{children:a,...o}=r;gM(a)&&typeof Mx=="function"&&(a=Mx(a._payload));const c=v.Children.toArray(a),d=c.find(oJ);if(d){const h=d.props.children,m=c.map(f=>f===d?v.Children.count(h)>1?v.Children.only(null):v.isValidElement(h)?h.props.children:null:f);return s.jsx(e,{...o,ref:i,children:v.isValidElement(h)?v.cloneElement(h,void 0,m):null})}return s.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}var sJ=Fy("Slot");function iJ(t){const e=v.forwardRef((n,r)=>{let{children:i,...a}=n;if(gM(i)&&typeof Mx=="function"&&(i=Mx(i._payload)),v.isValidElement(i)){const o=cJ(i),c=lJ(a,i.props);return i.type!==v.Fragment&&(c.ref=r?So(r,o):o),v.cloneElement(i,c)}return v.Children.count(i)>1?v.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var aJ=Symbol("radix.slottable");function oJ(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===aJ}function lJ(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...c)=>{const d=a(...c);return i(...c),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function cJ(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const zk=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Bk=iM,Hf=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Bk(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:a}=e,o=Object.keys(i).map(h=>{const m=n==null?void 0:n[h],f=a==null?void 0:a[h];if(m===null)return null;const g=zk(m)||zk(f);return i[h][g]}),c=n&&Object.entries(n).reduce((h,m)=>{let[f,g]=m;return g===void 0||(h[f]=g),h},{}),d=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((h,m)=>{let{class:f,className:g,...x}=m;return Object.entries(x).every(_=>{let[w,j]=_;return Array.isArray(j)?j.includes({...a,...c}[w]):{...a,...c}[w]===j})?[...h,f,g]:h},[]);return Bk(t,o,d,n==null?void 0:n.class,n==null?void 0:n.className)},uJ=Hf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),G=v.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},a)=>{const o=r?sJ:"button";return s.jsx(o,{className:ut(uJ({variant:e,size:n,className:t})),ref:a,...i})});G.displayName="Button";var Eb={exports:{}},Cb,$k;function dJ(){if($k)return Cb;$k=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Cb=t,Cb}var kb,qk;function hJ(){if(qk)return kb;qk=1;var t=dJ();function e(){}function n(){}return n.resetWarningCache=e,kb=function(){function r(o,c,d,h,m,f){if(f!==t){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},kb}var Hk;function mJ(){return Hk||(Hk=1,Eb.exports=hJ()()),Eb.exports}var fJ=mJ();const It=nh(fJ),pJ=()=>{};var Wk={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},gJ=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],o=t[n++],c=t[n++],d=((i&7)<<18|(a&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const a=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},yM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,c=o?t[i+1]:0,d=i+2<t.length,h=d?t[i+2]:0,m=a>>2,f=(a&3)<<4|c>>4;let g=(c&15)<<2|h>>6,x=h&63;d||(x=64,o||(g=64)),r.push(n[m],n[f],n[g],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(xM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):gJ(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||c==null||h==null||f==null)throw new xJ;const g=a<<2|c>>4;if(r.push(g),h!==64){const x=c<<4&240|h>>2;if(r.push(x),f!==64){const _=h<<6&192|f;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class xJ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yJ=function(t){const e=xM(t);return yM.encodeByteArray(e,!0)},Ox=function(t){return yJ(t).replace(/\./g,"")},vM=function(t){try{return yM.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vJ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bJ=()=>vJ().__FIREBASE_DEFAULTS__,wJ=()=>{if(typeof process>"u"||typeof Wk>"u")return;const t=Wk.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},jJ=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&vM(t[1]);return e&&JSON.parse(e)},Vy=()=>{try{return pJ()||bJ()||wJ()||jJ()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},bM=t=>{var e,n;return(n=(e=Vy())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},NJ=t=>{const e=bM(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},wM=()=>{var t;return(t=Vy())==null?void 0:t.config},jM=t=>{var e;return(e=Vy())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _J{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ql(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function PN(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SJ(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Ox(JSON.stringify(n)),Ox(JSON.stringify(o)),""].join(".")}const Bm={};function EJ(){const t={prod:[],emulator:[]};for(const e of Object.keys(Bm))Bm[e]?t.emulator.push(e):t.prod.push(e);return t}function CJ(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Kk=!1;function NM(t,e){if(typeof window>"u"||typeof document>"u"||!ql(window.location.host)||Bm[t]===e||Bm[t]||Kk)return;Bm[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",a=EJ().prod.length>0;function o(){const g=document.getElementById(r);g&&g.remove()}function c(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function d(g,x){g.setAttribute("width","24"),g.setAttribute("id",x),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function h(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{Kk=!0,o()},g}function m(g,x){g.setAttribute("id",x),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function f(){const g=CJ(r),x=n("text"),_=document.getElementById(x)||document.createElement("span"),w=n("learnmore"),j=document.getElementById(w)||document.createElement("a"),N=n("preprendIcon"),E=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const k=g.element;c(k),m(j,w);const C=h();d(E,N),k.append(E,_,j,C),document.body.appendChild(k)}a?(_.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kJ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mr())}function TJ(){var e;const t=(e=Vy())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AJ(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function IJ(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function RJ(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PJ(){const t=Mr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function DJ(){return!TJ()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function MJ(){try{return typeof indexedDB=="object"}catch{return!1}}function OJ(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LJ="FirebaseError";class Ea extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=LJ,Object.setPrototypeOf(this,Ea.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wf.prototype.create)}}class Wf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?FJ(a,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new Ea(i,c,r)}}function FJ(t,e){return t.replace(VJ,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const VJ=/\{\$([^}]+)}/g;function UJ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Qc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],o=e[i];if(Gk(a)&&Gk(o)){if(!Qc(a,o))return!1}else if(a!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Gk(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Cm(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function km(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function zJ(t,e){const n=new BJ(t,e);return n.subscribe.bind(n)}class BJ{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");$J(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Tb),i.error===void 0&&(i.error=Tb),i.complete===void 0&&(i.complete=Tb);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $J(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Tb(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(t){return t&&t._delegate?t._delegate:t}class Il{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qJ{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new _J;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(WJ(e))try{this.getOrInitializeService({instanceIdentifier:Sc})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Sc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Sc){return this.instances.has(e)}getOptions(e=Sc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:HJ(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Sc){return this.component?this.component.multipleInstances?e:Sc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HJ(t){return t===Sc?void 0:t}function WJ(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KJ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new qJ(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Rt||(Rt={}));const GJ={debug:Rt.DEBUG,verbose:Rt.VERBOSE,info:Rt.INFO,warn:Rt.WARN,error:Rt.ERROR,silent:Rt.SILENT},QJ=Rt.INFO,YJ={[Rt.DEBUG]:"log",[Rt.VERBOSE]:"log",[Rt.INFO]:"info",[Rt.WARN]:"warn",[Rt.ERROR]:"error"},JJ=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=YJ[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class DN{constructor(e){this.name=e,this._logLevel=QJ,this._logHandler=JJ,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?GJ[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Rt.DEBUG,...e),this._logHandler(this,Rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Rt.VERBOSE,...e),this._logHandler(this,Rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Rt.INFO,...e),this._logHandler(this,Rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Rt.WARN,...e),this._logHandler(this,Rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Rt.ERROR,...e),this._logHandler(this,Rt.ERROR,...e)}}const XJ=(t,e)=>e.some(n=>t instanceof n);let Qk,Yk;function ZJ(){return Qk||(Qk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eX(){return Yk||(Yk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _M=new WeakMap,i1=new WeakMap,SM=new WeakMap,Ab=new WeakMap,MN=new WeakMap;function tX(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(vl(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&_M.set(n,t)}).catch(()=>{}),MN.set(e,t),e}function nX(t){if(i1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});i1.set(t,e)}let a1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return i1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||SM.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vl(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function rX(t){a1=t(a1)}function sX(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ib(this),e,...n);return SM.set(r,e.sort?e.sort():[e]),vl(r)}:eX().includes(t)?function(...e){return t.apply(Ib(this),e),vl(_M.get(this))}:function(...e){return vl(t.apply(Ib(this),e))}}function iX(t){return typeof t=="function"?sX(t):(t instanceof IDBTransaction&&nX(t),XJ(t,ZJ())?new Proxy(t,a1):t)}function vl(t){if(t instanceof IDBRequest)return tX(t);if(Ab.has(t))return Ab.get(t);const e=iX(t);return e!==t&&(Ab.set(t,e),MN.set(e,t)),e}const Ib=t=>MN.get(t);function aX(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),c=vl(o);return r&&o.addEventListener("upgradeneeded",d=>{r(vl(o.result),d.oldVersion,d.newVersion,vl(o.transaction),d)}),n&&o.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{a&&d.addEventListener("close",()=>a()),i&&d.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const oX=["get","getKey","getAll","getAllKeys","count"],lX=["put","add","delete","clear"],Rb=new Map;function Jk(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Rb.get(e))return Rb.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=lX.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||oX.includes(n)))return;const a=async function(o,...c){const d=this.transaction(o,i?"readwrite":"readonly");let h=d.store;return r&&(h=h.index(c.shift())),(await Promise.all([h[n](...c),i&&d.done]))[0]};return Rb.set(e,a),a}rX(t=>({...t,get:(e,n,r)=>Jk(e,n)||t.get(e,n,r),has:(e,n)=>!!Jk(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cX{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(uX(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function uX(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const o1="@firebase/app",Xk="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo=new DN("@firebase/app"),dX="@firebase/app-compat",hX="@firebase/analytics-compat",mX="@firebase/analytics",fX="@firebase/app-check-compat",pX="@firebase/app-check",gX="@firebase/auth",xX="@firebase/auth-compat",yX="@firebase/database",vX="@firebase/data-connect",bX="@firebase/database-compat",wX="@firebase/functions",jX="@firebase/functions-compat",NX="@firebase/installations",_X="@firebase/installations-compat",SX="@firebase/messaging",EX="@firebase/messaging-compat",CX="@firebase/performance",kX="@firebase/performance-compat",TX="@firebase/remote-config",AX="@firebase/remote-config-compat",IX="@firebase/storage",RX="@firebase/storage-compat",PX="@firebase/firestore",DX="@firebase/ai",MX="@firebase/firestore-compat",OX="firebase",LX="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1="[DEFAULT]",FX={[o1]:"fire-core",[dX]:"fire-core-compat",[mX]:"fire-analytics",[hX]:"fire-analytics-compat",[pX]:"fire-app-check",[fX]:"fire-app-check-compat",[gX]:"fire-auth",[xX]:"fire-auth-compat",[yX]:"fire-rtdb",[vX]:"fire-data-connect",[bX]:"fire-rtdb-compat",[wX]:"fire-fn",[jX]:"fire-fn-compat",[NX]:"fire-iid",[_X]:"fire-iid-compat",[SX]:"fire-fcm",[EX]:"fire-fcm-compat",[CX]:"fire-perf",[kX]:"fire-perf-compat",[TX]:"fire-rc",[AX]:"fire-rc-compat",[IX]:"fire-gcs",[RX]:"fire-gcs-compat",[PX]:"fire-fst",[MX]:"fire-fst-compat",[DX]:"fire-vertex","fire-js":"fire-js",[OX]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx=new Map,VX=new Map,c1=new Map;function Zk(t,e){try{t.container.addComponent(e)}catch(n){xo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Yc(t){const e=t.name;if(c1.has(e))return xo.debug(`There were multiple attempts to register component ${e}.`),!1;c1.set(e,t);for(const n of Lx.values())Zk(n,t);for(const n of VX.values())Zk(n,t);return!0}function Uy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ps(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UX={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bl=new Wf("app","Firebase",UX);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zX{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Il("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du=LX;function EM(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:l1,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw bl.create("bad-app-name",{appName:String(i)});if(n||(n=wM()),!n)throw bl.create("no-options");const a=Lx.get(i);if(a){if(Qc(n,a.options)&&Qc(r,a.config))return a;throw bl.create("duplicate-app",{appName:i})}const o=new KJ(i);for(const d of c1.values())o.addComponent(d);const c=new zX(n,r,o);return Lx.set(i,c),c}function CM(t=l1){const e=Lx.get(t);if(!e&&t===l1&&wM())return EM();if(!e)throw bl.create("no-app",{appName:t});return e}function da(t,e,n){let r=FX[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xo.warn(o.join(" "));return}Yc(new Il(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BX="firebase-heartbeat-database",$X=1,ff="firebase-heartbeat-store";let Pb=null;function kM(){return Pb||(Pb=aX(BX,$X,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ff)}catch(n){console.warn(n)}}}}).catch(t=>{throw bl.create("idb-open",{originalErrorMessage:t.message})})),Pb}async function qX(t){try{const n=(await kM()).transaction(ff),r=await n.objectStore(ff).get(TM(t));return await n.done,r}catch(e){if(e instanceof Ea)xo.warn(e.message);else{const n=bl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xo.warn(n.message)}}}async function eT(t,e){try{const r=(await kM()).transaction(ff,"readwrite");await r.objectStore(ff).put(e,TM(t)),await r.done}catch(n){if(n instanceof Ea)xo.warn(n.message);else{const r=bl.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});xo.warn(r.message)}}}function TM(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HX=1024,WX=30;class KX{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new QX(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=tT();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>WX){const o=YX(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){xo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=tT(),{heartbeatsToSend:r,unsentEntries:i}=GX(this._heartbeatsCache.heartbeats),a=Ox(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return xo.warn(n),""}}}function tT(){return new Date().toISOString().substring(0,10)}function GX(t,e=HX){const n=[];let r=t.slice();for(const i of t){const a=n.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),nT(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),nT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class QX{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return MJ()?OJ().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await qX(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return eT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return eT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function nT(t){return Ox(JSON.stringify({version:2,heartbeats:t})).length}function YX(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JX(t){Yc(new Il("platform-logger",e=>new cX(e),"PRIVATE")),Yc(new Il("heartbeat",e=>new KX(e),"PRIVATE")),da(o1,Xk,t),da(o1,Xk,"esm2020"),da("fire-js","")}JX("");var XX="firebase",ZX="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */da(XX,ZX,"app");function AM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const eZ=AM,IM=new Wf("auth","Firebase",AM());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx=new DN("@firebase/auth");function tZ(t,...e){Fx.logLevel<=Rt.WARN&&Fx.warn(`Auth (${du}): ${t}`,...e)}function ex(t,...e){Fx.logLevel<=Rt.ERROR&&Fx.error(`Auth (${du}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(t,...e){throw ON(t,...e)}function ha(t,...e){return ON(t,...e)}function RM(t,e,n){const r={...eZ(),[e]:n};return new Wf("auth","Firebase",r).create(e,{appName:t.name})}function ro(t){return RM(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ON(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return IM.create(t,...e)}function ot(t,e,...n){if(!t)throw ON(e,...n)}function Ja(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ex(e),new Error(e)}function yo(t,e){t||Ja(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function nZ(){return rT()==="http:"||rT()==="https:"}function rT(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rZ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nZ()||IJ()||"connection"in navigator)?navigator.onLine:!0}function sZ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,n){this.shortDelay=e,this.longDelay=n,yo(n>e,"Short delay should be less than long delay!"),this.isMobile=kJ()||RJ()}get(){return rZ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(t,e){yo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ja("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ja("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ja("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iZ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aZ=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],oZ=new Gf(3e4,6e4);function ko(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function To(t,e,n,r,i={}){return DM(t,i,async()=>{let a={},o={};r&&(e==="GET"?o=r:a={body:JSON.stringify(r)});const c=Kf({key:t.config.apiKey,...o}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:d,...a};return AJ()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&ql(t.emulatorConfig.host)&&(h.credentials="include"),PM.fetch()(await MM(t,t.config.apiHost,n,c),h)})}async function DM(t,e,n){t._canInitEmulator=!1;const r={...iZ,...e};try{const i=new cZ(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw Tg(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const c=a.ok?o.errorMessage:o.error.message,[d,h]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tg(t,"credential-already-in-use",o);if(d==="EMAIL_EXISTS")throw Tg(t,"email-already-in-use",o);if(d==="USER_DISABLED")throw Tg(t,"user-disabled",o);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw RM(t,m,h);Ci(t,m)}}catch(i){if(i instanceof Ea)throw i;Ci(t,"network-request-failed",{message:String(i)})}}async function Qf(t,e,n,r,i={}){const a=await To(t,e,n,r,i);return"mfaPendingCredential"in a&&Ci(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function MM(t,e,n,r){const i=`${e}${n}?${r}`,a=t,o=a.config.emulator?LN(t.config,i):`${t.config.apiScheme}://${i}`;return aZ.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function lZ(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class cZ{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ha(this.auth,"network-request-failed")),oZ.get())})}}function Tg(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ha(t,e,r);return i.customData._tokenResponse=n,i}function sT(t){return t!==void 0&&t.enterprise!==void 0}class uZ{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return lZ(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function dZ(t,e){return To(t,"GET","/v2/recaptchaConfig",ko(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hZ(t,e){return To(t,"POST","/v1/accounts:delete",e)}async function Vx(t,e){return To(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function mZ(t,e=!1){const n=En(t),r=await n.getIdToken(e),i=FN(r);ot(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:$m(Db(i.auth_time)),issuedAtTime:$m(Db(i.iat)),expirationTime:$m(Db(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Db(t){return Number(t)*1e3}function FN(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ex("JWT malformed, contained fewer than 3 sections"),null;try{const i=vM(n);return i?JSON.parse(i):(ex("Failed to decode base64 JWT payload"),null)}catch(i){return ex("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function iT(t){const e=FN(t);return ot(e,"internal-error"),ot(typeof e.exp<"u","internal-error"),ot(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pf(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ea&&fZ(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function fZ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pZ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$m(this.lastLoginAt),this.creationTime=$m(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ux(t){var f;const e=t.auth,n=await t.getIdToken(),r=await pf(t,Vx(e,{idToken:n}));ot(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=(f=i.providerUserInfo)!=null&&f.length?OM(i.providerUserInfo):[],o=xZ(t.providerData,a),c=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),h=c?d:!1,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new d1(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,m)}async function gZ(t){const e=En(t);await Ux(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function xZ(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function OM(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yZ(t,e){const n=await DM(t,{},async()=>{const r=Kf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await MM(t,i,"/v1/token",`key=${a}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:c,body:r};return t.emulatorConfig&&ql(t.emulatorConfig.host)&&(d.credentials="include"),PM.fetch()(o,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function vZ(t,e){return To(t,"POST","/v2/accounts:revokeToken",ko(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ot(e.idToken,"internal-error"),ot(typeof e.idToken<"u","internal-error"),ot(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):iT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ot(e.length!==0,"internal-error");const n=iT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ot(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await yZ(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new Nd;return r&&(ot(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ot(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(ot(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Nd,this.toJSON())}_performRefresh(){return Ja("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zo(t,e){ot(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ji{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new pZ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new d1(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await pf(this,this.stsTokenManager.getToken(this.auth,e));return ot(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return mZ(this,e)}reload(){return gZ(this)}_assign(e){this!==e&&(ot(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ji({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ot(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ux(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ps(this.auth.app))return Promise.reject(ro(this.auth));const e=await this.getIdToken();return await pf(this,hZ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,o=n.photoURL??void 0,c=n.tenantId??void 0,d=n._redirectEventId??void 0,h=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:f,emailVerified:g,isAnonymous:x,providerData:_,stsTokenManager:w}=n;ot(f&&w,e,"internal-error");const j=Nd.fromJSON(this.name,w);ot(typeof f=="string",e,"internal-error"),Zo(r,e.name),Zo(i,e.name),ot(typeof g=="boolean",e,"internal-error"),ot(typeof x=="boolean",e,"internal-error"),Zo(a,e.name),Zo(o,e.name),Zo(c,e.name),Zo(d,e.name),Zo(h,e.name),Zo(m,e.name);const N=new ji({uid:f,auth:e,email:i,emailVerified:g,displayName:r,isAnonymous:x,photoURL:o,phoneNumber:a,tenantId:c,stsTokenManager:j,createdAt:h,lastLoginAt:m});return _&&Array.isArray(_)&&(N.providerData=_.map(E=>({...E}))),d&&(N._redirectEventId=d),N}static async _fromIdTokenResponse(e,n,r=!1){const i=new Nd;i.updateFromServerResponse(n);const a=new ji({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ux(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ot(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?OM(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),c=new Nd;c.updateFromIdToken(r);const d=new ji({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new d1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT=new Map;function Xa(t){yo(t instanceof Function,"Expected a class definition");let e=aT.get(t);return e?(yo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,aT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}LM.type="NONE";const oT=LM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(t,e,n){return`firebase:${t}:${e}:${n}`}class _d{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=tx(this.userKey,i.apiKey,a),this.fullPersistenceKey=tx("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Vx(this.auth,{idToken:e}).catch(()=>{});return n?ji._fromGetAccountInfoResponse(this.auth,n,e):null}return ji._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new _d(Xa(oT),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let a=i[0]||Xa(oT);const o=tx(r,e.config.apiKey,e.name);let c=null;for(const h of n)try{const m=await h._get(o);if(m){let f;if(typeof m=="string"){const g=await Vx(e,{idToken:m}).catch(()=>{});if(!g)break;f=await ji._fromGetAccountInfoResponse(e,g,m)}else f=ji._fromJSON(e,m);h!==a&&(c=f),a=h;break}}catch{}const d=i.filter(h=>h._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new _d(a,e,r):(a=d[0],c&&await a._set(o,c.toJSON()),await Promise.all(n.map(async h=>{if(h!==a)try{await h._remove(o)}catch{}})),new _d(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(FM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($M(e))return"Blackberry";if(qM(e))return"Webos";if(VM(e))return"Safari";if((e.includes("chrome/")||UM(e))&&!e.includes("edge/"))return"Chrome";if(BM(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function FM(t=Mr()){return/firefox\//i.test(t)}function VM(t=Mr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function UM(t=Mr()){return/crios\//i.test(t)}function zM(t=Mr()){return/iemobile/i.test(t)}function BM(t=Mr()){return/android/i.test(t)}function $M(t=Mr()){return/blackberry/i.test(t)}function qM(t=Mr()){return/webos/i.test(t)}function VN(t=Mr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function bZ(t=Mr()){var e;return VN(t)&&!!((e=window.navigator)!=null&&e.standalone)}function wZ(){return PJ()&&document.documentMode===10}function HM(t=Mr()){return VN(t)||BM(t)||qM(t)||$M(t)||/windows phone/i.test(t)||zM(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WM(t,e=[]){let n;switch(t){case"Browser":n=lT(Mr());break;case"Worker":n=`${lT(Mr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${du}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jZ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((o,c)=>{try{const d=e(a);o(d)}catch(d){c(d)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NZ(t,e={}){return To(t,"GET","/v2/passwordPolicy",ko(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _Z=6;class SZ{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??_Z,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EZ{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cT(this),this.idTokenSubscription=new cT(this),this.beforeStateQueue=new jZ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=IM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Xa(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await _d.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Vx(this,{idToken:e}),r=await ji._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(Ps(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(a=this.redirectUser)==null?void 0:a._redirectEventId,c=r==null?void 0:r._redirectEventId,d=await this.tryRedirectSignIn(e);(!o||o===c)&&(d!=null&&d.user)&&(r=d.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ot(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ux(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=sZ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ps(this.app))return Promise.reject(ro(this));const n=e?En(e):null;return n&&ot(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ot(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ps(this.app)?Promise.reject(ro(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ps(this.app)?Promise.reject(ro(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await NZ(this),n=new SZ(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Wf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await vZ(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Xa(e)||this._popupRedirectResolver;ot(n,this,"argument-error"),this.redirectPersistenceManager=await _d.create(this,[Xa(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(ot(c,this,"internal-error"),c.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,i);return()=>{o=!0,d()}}else{const d=e.addObserver(n);return()=>{o=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ot(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=WM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Ps(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&tZ(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Hl(t){return En(t)}class cT{constructor(e){this.auth=e,this.observer=null,this.addObserver=zJ(n=>this.observer=n)}get next(){return ot(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function CZ(t){zy=t}function KM(t){return zy.loadJS(t)}function kZ(){return zy.recaptchaEnterpriseScript}function TZ(){return zy.gapiScript}function AZ(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class IZ{constructor(){this.enterprise=new RZ}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class RZ{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const PZ="recaptcha-enterprise",GM="NO_RECAPTCHA";class DZ{constructor(e){this.type=PZ,this.auth=Hl(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,c)=>{dZ(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const h=new uZ(d);return a.tenantId==null?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,o(h.siteKey)}}).catch(d=>{c(d)})})}function i(a,o,c){const d=window.grecaptcha;sT(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(h=>{o(h)}).catch(()=>{o(GM)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new IZ().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{r(this.auth).then(c=>{if(!n&&sT(window.grecaptcha))i(c,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let d=kZ();d.length!==0&&(d+=c),KM(d).then(()=>{i(c,a,o)}).catch(h=>{o(h)})}}).catch(c=>{o(c)})})}}async function uT(t,e,n,r=!1,i=!1){const a=new DZ(t);let o;if(i)o=GM;else try{o=await a.verify(n)}catch{o=await a.verify(n,!0)}const c={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,h=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:h,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:o}):Object.assign(c,{captchaResponse:o}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function zx(t,e,n,r,i){var a;if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await uT(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await uT(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MZ(t,e){const n=Uy(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Qc(a,e??{}))return i;Ci(i,"already-initialized")}return n.initialize({options:e})}function OZ(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Xa);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function LZ(t,e,n){const r=Hl(t);ot(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=QM(e),{host:o,port:c}=FZ(e),d=c===null?"":`:${c}`,h={url:`${a}//${o}${d}/`},m=Object.freeze({host:o,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ot(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ot(Qc(h,r.config.emulator)&&Qc(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,ql(o)?(PN(`${a}//${o}${d}`),NM("Auth",!0)):VZ()}function QM(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function FZ(t){const e=QM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:dT(r.substr(a.length+1))}}else{const[a,o]=r.split(":");return{host:a,port:dT(o)}}}function dT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function VZ(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ja("not implemented")}_getIdTokenResponse(e){return Ja("not implemented")}_linkToIdToken(e,n){return Ja("not implemented")}_getReauthenticationResolver(e){return Ja("not implemented")}}async function UZ(t,e){return To(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zZ(t,e){return Qf(t,"POST","/v1/accounts:signInWithPassword",ko(t,e))}async function YM(t,e){return To(t,"POST","/v1/accounts:sendOobCode",ko(t,e))}async function BZ(t,e){return YM(t,e)}async function $Z(t,e){return YM(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qZ(t,e){return Qf(t,"POST","/v1/accounts:signInWithEmailLink",ko(t,e))}async function HZ(t,e){return Qf(t,"POST","/v1/accounts:signInWithEmailLink",ko(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf extends UN{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new gf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new gf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zx(e,n,"signInWithPassword",zZ);case"emailLink":return qZ(e,{email:this._email,oobCode:this._password});default:Ci(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zx(e,r,"signUpPassword",UZ);case"emailLink":return HZ(e,{idToken:n,email:this._email,oobCode:this._password});default:Ci(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sd(t,e){return Qf(t,"POST","/v1/accounts:signInWithIdp",ko(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WZ="http://localhost";class Jc extends UN{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Jc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ci("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const o=new Jc(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Sd(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Sd(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Sd(e,n)}buildRequest(){const e={requestUri:WZ,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Kf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KZ(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function GZ(t){const e=Cm(km(t)).link,n=e?Cm(km(e)).deep_link_id:null,r=Cm(km(t)).deep_link_id;return(r?Cm(km(r)).link:null)||r||n||e||t}class zN{constructor(e){const n=Cm(km(e)),r=n.apiKey??null,i=n.oobCode??null,a=KZ(n.mode??null);ot(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=GZ(e);try{return new zN(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(){this.providerId=ph.PROVIDER_ID}static credential(e,n){return gf._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=zN.parseLink(n);return ot(r,"argument-error"),gf._fromEmailAndCode(e,r.code,r.tenantId)}}ph.PROVIDER_ID="password";ph.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ph.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf extends JM{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl extends Yf{constructor(){super("facebook.com")}static credential(e){return Jc._fromParams({providerId:sl.PROVIDER_ID,signInMethod:sl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sl.credentialFromTaggedObject(e)}static credentialFromError(e){return sl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sl.credential(e.oauthAccessToken)}catch{return null}}}sl.FACEBOOK_SIGN_IN_METHOD="facebook.com";sl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il extends Yf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Jc._fromParams({providerId:il.PROVIDER_ID,signInMethod:il.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return il.credentialFromTaggedObject(e)}static credentialFromError(e){return il.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return il.credential(n,r)}catch{return null}}}il.GOOGLE_SIGN_IN_METHOD="google.com";il.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al extends Yf{constructor(){super("github.com")}static credential(e){return Jc._fromParams({providerId:al.PROVIDER_ID,signInMethod:al.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return al.credentialFromTaggedObject(e)}static credentialFromError(e){return al.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return al.credential(e.oauthAccessToken)}catch{return null}}}al.GITHUB_SIGN_IN_METHOD="github.com";al.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol extends Yf{constructor(){super("twitter.com")}static credential(e,n){return Jc._fromParams({providerId:ol.PROVIDER_ID,signInMethod:ol.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ol.credentialFromTaggedObject(e)}static credentialFromError(e){return ol.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ol.credential(n,r)}catch{return null}}}ol.TWITTER_SIGN_IN_METHOD="twitter.com";ol.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QZ(t,e){return Qf(t,"POST","/v1/accounts:signUp",ko(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await ji._fromIdTokenResponse(e,r,i),o=hT(r);return new Xc({user:a,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=hT(r);return new Xc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function hT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx extends Ea{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Bx.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Bx(e,n,r,i)}}function XM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Bx._fromErrorAndOperation(t,a,e,r):a})}async function YZ(t,e,n=!1){const r=await pf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Xc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JZ(t,e,n=!1){const{auth:r}=t;if(Ps(r.app))return Promise.reject(ro(r));const i="reauthenticate";try{const a=await pf(t,XM(r,i,e,t),n);ot(a.idToken,r,"internal-error");const o=FN(a.idToken);ot(o,r,"internal-error");const{sub:c}=o;return ot(t.uid===c,r,"user-mismatch"),Xc._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Ci(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZM(t,e,n=!1){if(Ps(t.app))return Promise.reject(ro(t));const r="signIn",i=await XM(t,r,e),a=await Xc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function XZ(t,e){return ZM(Hl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e5(t){const e=Hl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function BN(t,e,n){const r=Hl(t);await zx(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",$Z)}async function ZZ(t,e,n){if(Ps(t.app))return Promise.reject(ro(t));const r=Hl(t),o=await zx(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",QZ).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&e5(t),d}),c=await Xc._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(c.user),c}function t5(t,e,n){return Ps(t.app)?Promise.reject(ro(t)):XZ(En(t),ph.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&e5(t),r})}async function eee(t,e){const n=En(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:a}=await BZ(n.auth,i);a!==t.email&&await t.reload()}function tee(t,e,n,r){return En(t).onIdTokenChanged(e,n,r)}function nee(t,e,n){return En(t).beforeAuthStateChanged(e,n)}function ree(t,e,n,r){return En(t).onAuthStateChanged(e,n,r)}function see(t){return En(t).signOut()}const $x="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem($x,"1"),this.storage.removeItem($x),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iee=1e3,aee=10;class r5 extends n5{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=HM(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,c,d)=>{this.notifyListeners(o,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},a=this.storage.getItem(r);wZ()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,aee):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},iee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}r5.type="LOCAL";const oee=r5;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5 extends n5{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}s5.type="SESSION";const i5=s5;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lee(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new By(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(o).map(async h=>h(n.origin,a)),d=await lee(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}By.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cee{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((c,d)=>{const h=$N("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const g=f;if(g.data.eventId===h)switch(g.data.status){case"ack":clearTimeout(m),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(g.data.response);break;default:clearTimeout(m),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ma(){return window}function uee(t){ma().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a5(){return typeof ma().WorkerGlobalScope<"u"&&typeof ma().importScripts=="function"}async function dee(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hee(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function mee(){return a5()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o5="firebaseLocalStorageDb",fee=1,qx="firebaseLocalStorage",l5="fbase_key";class Jf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function $y(t,e){return t.transaction([qx],e?"readwrite":"readonly").objectStore(qx)}function pee(){const t=indexedDB.deleteDatabase(o5);return new Jf(t).toPromise()}function h1(){const t=indexedDB.open(o5,fee);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(qx,{keyPath:l5})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(qx)?e(r):(r.close(),await pee(),e(await h1()))})})}async function mT(t,e,n){const r=$y(t,!0).put({[l5]:e,value:n});return new Jf(r).toPromise()}async function gee(t,e){const n=$y(t,!1).get(e),r=await new Jf(n).toPromise();return r===void 0?null:r.value}function fT(t,e){const n=$y(t,!0).delete(e);return new Jf(n).toPromise()}const xee=800,yee=3;class c5{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await h1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>yee)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return a5()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=By._getInstance(mee()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await dee(),!this.activeServiceWorker)return;this.sender=new cee(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||hee()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await h1();return await mT(e,$x,"1"),await fT(e,$x),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>mT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>gee(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>fT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=$y(i,!1).getAll();return new Jf(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),xee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}c5.type="LOCAL";const vee=c5;new Gf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bee(t,e){return e?Xa(e):(ot(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN extends UN{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Sd(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Sd(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Sd(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function wee(t){return ZM(t.auth,new qN(t),t.bypassAuthState)}function jee(t){const{auth:e,user:n}=t;return ot(n,e,"internal-error"),JZ(n,new qN(t),t.bypassAuthState)}async function Nee(t){const{auth:e,user:n}=t;return ot(n,e,"internal-error"),YZ(n,new qN(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:o,type:c}=e;if(o){this.reject(o);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wee;case"linkViaPopup":case"linkViaRedirect":return Nee;case"reauthViaPopup":case"reauthViaRedirect":return jee;default:Ci(this.auth,"internal-error")}}resolve(e){yo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _ee=new Gf(2e3,1e4);class gd extends u5{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,gd.currentPopupAction&&gd.currentPopupAction.cancel(),gd.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ot(e,this.auth,"internal-error"),e}async onExecution(){yo(this.filter.length===1,"Popup operations only handle one event");const e=$N();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ha(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ha(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,gd.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ha(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_ee.get())};e()}}gd.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const See="pendingRedirect",nx=new Map;class Eee extends u5{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=nx.get(this.auth._key());if(!e){try{const r=await Cee(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}nx.set(this.auth._key(),e)}return this.bypassAuthState||nx.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Cee(t,e){const n=Aee(e),r=Tee(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function kee(t,e){nx.set(t._key(),e)}function Tee(t){return Xa(t._redirectPersistence)}function Aee(t){return tx(See,t.config.apiKey,t.name)}async function Iee(t,e,n=!1){if(Ps(t.app))return Promise.reject(ro(t));const r=Hl(t),i=bee(r,e),o=await new Eee(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ree=600*1e3;class Pee{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Dee(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!d5(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(ha(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Ree&&this.cachedEventUids.clear(),this.cachedEventUids.has(pT(e))}saveEventToCache(e){this.cachedEventUids.add(pT(e)),this.lastProcessedEventTime=Date.now()}}function pT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function d5({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Dee(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return d5(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mee(t,e={}){return To(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oee=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Lee=/^https?/;async function Fee(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Mee(t);for(const n of e)try{if(Vee(n))return}catch{}Ci(t,"unauthorized-domain")}function Vee(t){const e=u1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Lee.test(n))return!1;if(Oee.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uee=new Gf(3e4,6e4);function gT(){const t=ma().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function zee(t){return new Promise((e,n)=>{var i,a,o;function r(){gT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gT(),n(ha(t,"network-request-failed"))},timeout:Uee.get()})}if((a=(i=ma().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((o=ma().gapi)!=null&&o.load)r();else{const c=AZ("iframefcb");return ma()[c]=()=>{gapi.load?r():n(ha(t,"network-request-failed"))},KM(`${TZ()}?onload=${c}`).catch(d=>n(d))}}).catch(e=>{throw rx=null,e})}let rx=null;function Bee(t){return rx=rx||zee(t),rx}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ee=new Gf(5e3,15e3),qee="__/auth/iframe",Hee="emulator/auth/iframe",Wee={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Kee=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gee(t){const e=t.config;ot(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?LN(e,Hee):`https://${t.config.authDomain}/${qee}`,r={apiKey:e.apiKey,appName:t.name,v:du},i=Kee.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Kf(r).slice(1)}`}async function Qee(t){const e=await Bee(t),n=ma().gapi;return ot(n,t,"internal-error"),e.open({where:document.body,url:Gee(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wee,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const o=ha(t,"network-request-failed"),c=ma().setTimeout(()=>{a(o)},$ee.get());function d(){ma().clearTimeout(c),i(r)}r.ping(d).then(d,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yee={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Jee=500,Xee=600,Zee="_blank",ete="http://localhost";class xT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tte(t,e,n,r=Jee,i=Xee){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d={...Yee,width:r.toString(),height:i.toString(),top:a,left:o},h=Mr().toLowerCase();n&&(c=UM(h)?Zee:n),FM(h)&&(e=e||ete,d.scrollbars="yes");const m=Object.entries(d).reduce((g,[x,_])=>`${g}${x}=${_},`,"");if(bZ(h)&&c!=="_self")return nte(e||"",c),new xT(null);const f=window.open(e||"",c,m);ot(f,t,"popup-blocked");try{f.focus()}catch{}return new xT(f)}function nte(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rte="__/auth/handler",ste="emulator/auth/handler",ite=encodeURIComponent("fac");async function yT(t,e,n,r,i,a){ot(t.config.authDomain,t,"auth-domain-config-required"),ot(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:du,eventId:i};if(e instanceof JM){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",UJ(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,f]of Object.entries({}))o[m]=f}if(e instanceof Yf){const m=e.getScopes().filter(f=>f!=="");m.length>0&&(o.scopes=m.join(","))}t.tenantId&&(o.tid=t.tenantId);const c=o;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const d=await t._getAppCheckToken(),h=d?`#${ite}=${encodeURIComponent(d)}`:"";return`${ate(t)}?${Kf(c).slice(1)}${h}`}function ate({config:t}){return t.emulator?LN(t,ste):`https://${t.authDomain}/${rte}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb="webStorageSupport";class ote{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=i5,this._completeRedirectFn=Iee,this._overrideRedirectResult=kee}async _openPopup(e,n,r,i){var o;yo((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await yT(e,n,r,u1(),i);return tte(e,a,$N())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await yT(e,n,r,u1(),i);return uee(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(yo(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Qee(e),r=new Pee(e);return n.register("authEvent",i=>(ot(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Mb,{type:Mb},i=>{var o;const a=(o=i==null?void 0:i[0])==null?void 0:o[Mb];a!==void 0&&n(!!a),Ci(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Fee(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return HM()||VM()||VN()}}const lte=ote;var vT="@firebase/auth",bT="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cte{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ot(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ute(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dte(t){Yc(new Il("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;ot(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:WM(t)},h=new EZ(r,i,a,d);return OZ(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Yc(new Il("auth-internal",e=>{const n=Hl(e.getProvider("auth").getImmediate());return(r=>new cte(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),da(vT,bT,ute(t)),da(vT,bT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hte=300,mte=jM("authIdTokenMaxAge")||hte;let wT=null;const fte=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>mte)return;const i=n==null?void 0:n.token;wT!==i&&(wT=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function pte(t=CM()){const e=Uy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=MZ(t,{popupRedirectResolver:lte,persistence:[vee,oee,i5]}),r=jM("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const o=fte(a.toString());nee(n,o,()=>o(n.currentUser)),tee(n,c=>o(c))}}const i=bM("auth");return i&&LZ(n,`http://${i}`),n}function gte(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}CZ({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=ha("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",gte().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dte("Browser");var jT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wl,h5;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,R){function I(){}I.prototype=R.prototype,D.F=R.prototype,D.prototype=new I,D.prototype.constructor=D,D.D=function(M,V,O){for(var U=Array(arguments.length-2),X=2;X<arguments.length;X++)U[X-2]=arguments[X];return R.prototype[V].apply(M,U)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,R,I){I||(I=0);const M=Array(16);if(typeof R=="string")for(var V=0;V<16;++V)M[V]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(V=0;V<16;++V)M[V]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=D.g[0],I=D.g[1],V=D.g[2];let O=D.g[3],U;U=R+(O^I&(V^O))+M[0]+3614090360&4294967295,R=I+(U<<7&4294967295|U>>>25),U=O+(V^R&(I^V))+M[1]+3905402710&4294967295,O=R+(U<<12&4294967295|U>>>20),U=V+(I^O&(R^I))+M[2]+606105819&4294967295,V=O+(U<<17&4294967295|U>>>15),U=I+(R^V&(O^R))+M[3]+3250441966&4294967295,I=V+(U<<22&4294967295|U>>>10),U=R+(O^I&(V^O))+M[4]+4118548399&4294967295,R=I+(U<<7&4294967295|U>>>25),U=O+(V^R&(I^V))+M[5]+1200080426&4294967295,O=R+(U<<12&4294967295|U>>>20),U=V+(I^O&(R^I))+M[6]+2821735955&4294967295,V=O+(U<<17&4294967295|U>>>15),U=I+(R^V&(O^R))+M[7]+4249261313&4294967295,I=V+(U<<22&4294967295|U>>>10),U=R+(O^I&(V^O))+M[8]+1770035416&4294967295,R=I+(U<<7&4294967295|U>>>25),U=O+(V^R&(I^V))+M[9]+2336552879&4294967295,O=R+(U<<12&4294967295|U>>>20),U=V+(I^O&(R^I))+M[10]+4294925233&4294967295,V=O+(U<<17&4294967295|U>>>15),U=I+(R^V&(O^R))+M[11]+2304563134&4294967295,I=V+(U<<22&4294967295|U>>>10),U=R+(O^I&(V^O))+M[12]+1804603682&4294967295,R=I+(U<<7&4294967295|U>>>25),U=O+(V^R&(I^V))+M[13]+4254626195&4294967295,O=R+(U<<12&4294967295|U>>>20),U=V+(I^O&(R^I))+M[14]+2792965006&4294967295,V=O+(U<<17&4294967295|U>>>15),U=I+(R^V&(O^R))+M[15]+1236535329&4294967295,I=V+(U<<22&4294967295|U>>>10),U=R+(V^O&(I^V))+M[1]+4129170786&4294967295,R=I+(U<<5&4294967295|U>>>27),U=O+(I^V&(R^I))+M[6]+3225465664&4294967295,O=R+(U<<9&4294967295|U>>>23),U=V+(R^I&(O^R))+M[11]+643717713&4294967295,V=O+(U<<14&4294967295|U>>>18),U=I+(O^R&(V^O))+M[0]+3921069994&4294967295,I=V+(U<<20&4294967295|U>>>12),U=R+(V^O&(I^V))+M[5]+3593408605&4294967295,R=I+(U<<5&4294967295|U>>>27),U=O+(I^V&(R^I))+M[10]+38016083&4294967295,O=R+(U<<9&4294967295|U>>>23),U=V+(R^I&(O^R))+M[15]+3634488961&4294967295,V=O+(U<<14&4294967295|U>>>18),U=I+(O^R&(V^O))+M[4]+3889429448&4294967295,I=V+(U<<20&4294967295|U>>>12),U=R+(V^O&(I^V))+M[9]+568446438&4294967295,R=I+(U<<5&4294967295|U>>>27),U=O+(I^V&(R^I))+M[14]+3275163606&4294967295,O=R+(U<<9&4294967295|U>>>23),U=V+(R^I&(O^R))+M[3]+4107603335&4294967295,V=O+(U<<14&4294967295|U>>>18),U=I+(O^R&(V^O))+M[8]+1163531501&4294967295,I=V+(U<<20&4294967295|U>>>12),U=R+(V^O&(I^V))+M[13]+2850285829&4294967295,R=I+(U<<5&4294967295|U>>>27),U=O+(I^V&(R^I))+M[2]+4243563512&4294967295,O=R+(U<<9&4294967295|U>>>23),U=V+(R^I&(O^R))+M[7]+1735328473&4294967295,V=O+(U<<14&4294967295|U>>>18),U=I+(O^R&(V^O))+M[12]+2368359562&4294967295,I=V+(U<<20&4294967295|U>>>12),U=R+(I^V^O)+M[5]+4294588738&4294967295,R=I+(U<<4&4294967295|U>>>28),U=O+(R^I^V)+M[8]+2272392833&4294967295,O=R+(U<<11&4294967295|U>>>21),U=V+(O^R^I)+M[11]+1839030562&4294967295,V=O+(U<<16&4294967295|U>>>16),U=I+(V^O^R)+M[14]+4259657740&4294967295,I=V+(U<<23&4294967295|U>>>9),U=R+(I^V^O)+M[1]+2763975236&4294967295,R=I+(U<<4&4294967295|U>>>28),U=O+(R^I^V)+M[4]+1272893353&4294967295,O=R+(U<<11&4294967295|U>>>21),U=V+(O^R^I)+M[7]+4139469664&4294967295,V=O+(U<<16&4294967295|U>>>16),U=I+(V^O^R)+M[10]+3200236656&4294967295,I=V+(U<<23&4294967295|U>>>9),U=R+(I^V^O)+M[13]+681279174&4294967295,R=I+(U<<4&4294967295|U>>>28),U=O+(R^I^V)+M[0]+3936430074&4294967295,O=R+(U<<11&4294967295|U>>>21),U=V+(O^R^I)+M[3]+3572445317&4294967295,V=O+(U<<16&4294967295|U>>>16),U=I+(V^O^R)+M[6]+76029189&4294967295,I=V+(U<<23&4294967295|U>>>9),U=R+(I^V^O)+M[9]+3654602809&4294967295,R=I+(U<<4&4294967295|U>>>28),U=O+(R^I^V)+M[12]+3873151461&4294967295,O=R+(U<<11&4294967295|U>>>21),U=V+(O^R^I)+M[15]+530742520&4294967295,V=O+(U<<16&4294967295|U>>>16),U=I+(V^O^R)+M[2]+3299628645&4294967295,I=V+(U<<23&4294967295|U>>>9),U=R+(V^(I|~O))+M[0]+4096336452&4294967295,R=I+(U<<6&4294967295|U>>>26),U=O+(I^(R|~V))+M[7]+1126891415&4294967295,O=R+(U<<10&4294967295|U>>>22),U=V+(R^(O|~I))+M[14]+2878612391&4294967295,V=O+(U<<15&4294967295|U>>>17),U=I+(O^(V|~R))+M[5]+4237533241&4294967295,I=V+(U<<21&4294967295|U>>>11),U=R+(V^(I|~O))+M[12]+1700485571&4294967295,R=I+(U<<6&4294967295|U>>>26),U=O+(I^(R|~V))+M[3]+2399980690&4294967295,O=R+(U<<10&4294967295|U>>>22),U=V+(R^(O|~I))+M[10]+4293915773&4294967295,V=O+(U<<15&4294967295|U>>>17),U=I+(O^(V|~R))+M[1]+2240044497&4294967295,I=V+(U<<21&4294967295|U>>>11),U=R+(V^(I|~O))+M[8]+1873313359&4294967295,R=I+(U<<6&4294967295|U>>>26),U=O+(I^(R|~V))+M[15]+4264355552&4294967295,O=R+(U<<10&4294967295|U>>>22),U=V+(R^(O|~I))+M[6]+2734768916&4294967295,V=O+(U<<15&4294967295|U>>>17),U=I+(O^(V|~R))+M[13]+1309151649&4294967295,I=V+(U<<21&4294967295|U>>>11),U=R+(V^(I|~O))+M[4]+4149444226&4294967295,R=I+(U<<6&4294967295|U>>>26),U=O+(I^(R|~V))+M[11]+3174756917&4294967295,O=R+(U<<10&4294967295|U>>>22),U=V+(R^(O|~I))+M[2]+718787259&4294967295,V=O+(U<<15&4294967295|U>>>17),U=I+(O^(V|~R))+M[9]+3951481745&4294967295,D.g[0]=D.g[0]+R&4294967295,D.g[1]=D.g[1]+(V+(U<<21&4294967295|U>>>11))&4294967295,D.g[2]=D.g[2]+V&4294967295,D.g[3]=D.g[3]+O&4294967295}r.prototype.v=function(D,R){R===void 0&&(R=D.length);const I=R-this.blockSize,M=this.C;let V=this.h,O=0;for(;O<R;){if(V==0)for(;O<=I;)i(this,D,O),O+=this.blockSize;if(typeof D=="string"){for(;O<R;)if(M[V++]=D.charCodeAt(O++),V==this.blockSize){i(this,M),V=0;break}}else for(;O<R;)if(M[V++]=D[O++],V==this.blockSize){i(this,M),V=0;break}}this.h=V,this.o+=R},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var R=1;R<D.length-8;++R)D[R]=0;R=this.o*8;for(var I=D.length-8;I<D.length;++I)D[I]=R&255,R/=256;for(this.v(D),D=Array(16),R=0,I=0;I<4;++I)for(let M=0;M<32;M+=8)D[R++]=this.g[I]>>>M&255;return D};function a(D,R){var I=c;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=R(D)}function o(D,R){this.h=R;const I=[];let M=!0;for(let V=D.length-1;V>=0;V--){const O=D[V]|0;M&&O==R||(I[V]=O,M=!1)}this.g=I}var c={};function d(D){return-128<=D&&D<128?a(D,function(R){return new o([R|0],R<0?-1:0)}):new o([D|0],D<0?-1:0)}function h(D){if(isNaN(D)||!isFinite(D))return f;if(D<0)return j(h(-D));const R=[];let I=1;for(let M=0;D>=I;M++)R[M]=D/I|0,I*=4294967296;return new o(R,0)}function m(D,R){if(D.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(D.charAt(0)=="-")return j(m(D.substring(1),R));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=h(Math.pow(R,8));let M=f;for(let O=0;O<D.length;O+=8){var V=Math.min(8,D.length-O);const U=parseInt(D.substring(O,O+V),R);V<8?(V=h(Math.pow(R,V)),M=M.j(V).add(h(U))):(M=M.j(I),M=M.add(h(U)))}return M}var f=d(0),g=d(1),x=d(16777216);t=o.prototype,t.m=function(){if(w(this))return-j(this).m();let D=0,R=1;for(let I=0;I<this.g.length;I++){const M=this.i(I);D+=(M>=0?M:4294967296+M)*R,R*=4294967296}return D},t.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(_(this))return"0";if(w(this))return"-"+j(this).toString(D);const R=h(Math.pow(D,6));var I=this;let M="";for(;;){const V=C(I,R).g;I=N(I,V.j(R));let O=((I.g.length>0?I.g[0]:I.h)>>>0).toString(D);if(I=V,_(I))return O+M;for(;O.length<6;)O="0"+O;M=O+M}},t.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function _(D){if(D.h!=0)return!1;for(let R=0;R<D.g.length;R++)if(D.g[R]!=0)return!1;return!0}function w(D){return D.h==-1}t.l=function(D){return D=N(this,D),w(D)?-1:_(D)?0:1};function j(D){const R=D.g.length,I=[];for(let M=0;M<R;M++)I[M]=~D.g[M];return new o(I,~D.h).add(g)}t.abs=function(){return w(this)?j(this):this},t.add=function(D){const R=Math.max(this.g.length,D.g.length),I=[];let M=0;for(let V=0;V<=R;V++){let O=M+(this.i(V)&65535)+(D.i(V)&65535),U=(O>>>16)+(this.i(V)>>>16)+(D.i(V)>>>16);M=U>>>16,O&=65535,U&=65535,I[V]=U<<16|O}return new o(I,I[I.length-1]&-2147483648?-1:0)};function N(D,R){return D.add(j(R))}t.j=function(D){if(_(this)||_(D))return f;if(w(this))return w(D)?j(this).j(j(D)):j(j(this).j(D));if(w(D))return j(this.j(j(D)));if(this.l(x)<0&&D.l(x)<0)return h(this.m()*D.m());const R=this.g.length+D.g.length,I=[];for(var M=0;M<2*R;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(let V=0;V<D.g.length;V++){const O=this.i(M)>>>16,U=this.i(M)&65535,X=D.i(V)>>>16,re=D.i(V)&65535;I[2*M+2*V]+=U*re,E(I,2*M+2*V),I[2*M+2*V+1]+=O*re,E(I,2*M+2*V+1),I[2*M+2*V+1]+=U*X,E(I,2*M+2*V+1),I[2*M+2*V+2]+=O*X,E(I,2*M+2*V+2)}for(D=0;D<R;D++)I[D]=I[2*D+1]<<16|I[2*D];for(D=R;D<2*R;D++)I[D]=0;return new o(I,0)};function E(D,R){for(;(D[R]&65535)!=D[R];)D[R+1]+=D[R]>>>16,D[R]&=65535,R++}function k(D,R){this.g=D,this.h=R}function C(D,R){if(_(R))throw Error("division by zero");if(_(D))return new k(f,f);if(w(D))return R=C(j(D),R),new k(j(R.g),j(R.h));if(w(R))return R=C(D,j(R)),new k(j(R.g),R.h);if(D.g.length>30){if(w(D)||w(R))throw Error("slowDivide_ only works with positive integers.");for(var I=g,M=R;M.l(D)<=0;)I=P(I),M=P(M);var V=F(I,1),O=F(M,1);for(M=F(M,2),I=F(I,2);!_(M);){var U=O.add(M);U.l(D)<=0&&(V=V.add(I),O=U),M=F(M,1),I=F(I,1)}return R=N(D,V.j(R)),new k(V,R)}for(V=f;D.l(R)>=0;){for(I=Math.max(1,Math.floor(D.m()/R.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),O=h(I),U=O.j(R);w(U)||U.l(D)>0;)I-=M,O=h(I),U=O.j(R);_(O)&&(O=g),V=V.add(O),D=N(D,U)}return new k(V,D)}t.B=function(D){return C(this,D).h},t.and=function(D){const R=Math.max(this.g.length,D.g.length),I=[];for(let M=0;M<R;M++)I[M]=this.i(M)&D.i(M);return new o(I,this.h&D.h)},t.or=function(D){const R=Math.max(this.g.length,D.g.length),I=[];for(let M=0;M<R;M++)I[M]=this.i(M)|D.i(M);return new o(I,this.h|D.h)},t.xor=function(D){const R=Math.max(this.g.length,D.g.length),I=[];for(let M=0;M<R;M++)I[M]=this.i(M)^D.i(M);return new o(I,this.h^D.h)};function P(D){const R=D.g.length+1,I=[];for(let M=0;M<R;M++)I[M]=D.i(M)<<1|D.i(M-1)>>>31;return new o(I,D.h)}function F(D,R){const I=R>>5;R%=32;const M=D.g.length-I,V=[];for(let O=0;O<M;O++)V[O]=R>0?D.i(O+I)>>>R|D.i(O+I+1)<<32-R:D.i(O+I);return new o(V,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,h5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=m,wl=o}).apply(typeof jT<"u"?jT:typeof self<"u"?self:typeof window<"u"?window:{});var Ag=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var m5,Tm,f5,sx,m1,p5,g5,x5;(function(){var t,e=Object.defineProperty;function n(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ag=="object"&&Ag];for(var A=0;A<y.length;++A){var L=y[A];if(L&&L.Math==Math)return L}throw Error("Cannot find global object")}var r=n(this);function i(y,A){if(A)e:{var L=r;y=y.split(".");for(var H=0;H<y.length-1;H++){var oe=y[H];if(!(oe in L))break e;L=L[oe]}y=y[y.length-1],H=L[y],A=A(H),A!=H&&A!=null&&e(L,y,{configurable:!0,writable:!0,value:A})}}i("Symbol.dispose",function(y){return y||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(y){return y||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(y){return y||function(A){var L=[],H;for(H in A)Object.prototype.hasOwnProperty.call(A,H)&&L.push([H,A[H]]);return L}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function c(y){var A=typeof y;return A=="object"&&y!=null||A=="function"}function d(y,A,L){return y.call.apply(y.bind,arguments)}function h(y,A,L){return h=d,h.apply(null,arguments)}function m(y,A){var L=Array.prototype.slice.call(arguments,1);return function(){var H=L.slice();return H.push.apply(H,arguments),y.apply(this,H)}}function f(y,A){function L(){}L.prototype=A.prototype,y.Z=A.prototype,y.prototype=new L,y.prototype.constructor=y,y.Ob=function(H,oe,de){for(var Pe=Array(arguments.length-2),vt=2;vt<arguments.length;vt++)Pe[vt-2]=arguments[vt];return A.prototype[oe].apply(H,Pe)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?y=>y&&AsyncContext.Snapshot.wrap(y):y=>y;function x(y){const A=y.length;if(A>0){const L=Array(A);for(let H=0;H<A;H++)L[H]=y[H];return L}return[]}function _(y,A){for(let H=1;H<arguments.length;H++){const oe=arguments[H];var L=typeof oe;if(L=L!="object"?L:oe?Array.isArray(oe)?"array":L:"null",L=="array"||L=="object"&&typeof oe.length=="number"){L=y.length||0;const de=oe.length||0;y.length=L+de;for(let Pe=0;Pe<de;Pe++)y[L+Pe]=oe[Pe]}else y.push(oe)}}class w{constructor(A,L){this.i=A,this.j=L,this.h=0,this.g=null}get(){let A;return this.h>0?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function j(y){o.setTimeout(()=>{throw y},0)}function N(){var y=D;let A=null;return y.g&&(A=y.g,y.g=y.g.next,y.g||(y.h=null),A.next=null),A}class E{constructor(){this.h=this.g=null}add(A,L){const H=k.get();H.set(A,L),this.h?this.h.next=H:this.g=H,this.h=H}}var k=new w(()=>new C,y=>y.reset());class C{constructor(){this.next=this.g=this.h=null}set(A,L){this.h=A,this.g=L,this.next=null}reset(){this.next=this.g=this.h=null}}let P,F=!1,D=new E,R=()=>{const y=Promise.resolve(void 0);P=()=>{y.then(I)}};function I(){for(var y;y=N();){try{y.h.call(y.g)}catch(L){j(L)}var A=k;A.j(y),A.h<100&&(A.h++,y.next=A.g,A.g=y)}F=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(y,A){this.type=y,this.g=this.target=A,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var O=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var y=!1,A=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const L=()=>{};o.addEventListener("test",L,A),o.removeEventListener("test",L,A)}catch{}return y})();function U(y){return/^[\s\xa0]*$/.test(y)}function X(y,A){V.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y&&this.init(y,A)}f(X,V),X.prototype.init=function(y,A){const L=this.type=y.type,H=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;this.target=y.target||y.srcElement,this.g=A,A=y.relatedTarget,A||(L=="mouseover"?A=y.fromElement:L=="mouseout"&&(A=y.toElement)),this.relatedTarget=A,H?(this.clientX=H.clientX!==void 0?H.clientX:H.pageX,this.clientY=H.clientY!==void 0?H.clientY:H.pageY,this.screenX=H.screenX||0,this.screenY=H.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=y.pointerType,this.state=y.state,this.i=y,y.defaultPrevented&&X.Z.h.call(this)},X.prototype.h=function(){X.Z.h.call(this);const y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var re="closure_listenable_"+(Math.random()*1e6|0),ue=0;function ie(y,A,L,H,oe){this.listener=y,this.proxy=null,this.src=A,this.type=L,this.capture=!!H,this.ha=oe,this.key=++ue,this.da=this.fa=!1}function K(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function W(y,A,L){for(const H in y)A.call(L,y[H],H,y)}function B(y,A){for(const L in y)A.call(void 0,y[L],L,y)}function q(y){const A={};for(const L in y)A[L]=y[L];return A}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $(y,A){let L,H;for(let oe=1;oe<arguments.length;oe++){H=arguments[oe];for(L in H)y[L]=H[L];for(let de=0;de<Z.length;de++)L=Z[de],Object.prototype.hasOwnProperty.call(H,L)&&(y[L]=H[L])}}function me(y){this.src=y,this.g={},this.h=0}me.prototype.add=function(y,A,L,H,oe){const de=y.toString();y=this.g[de],y||(y=this.g[de]=[],this.h++);const Pe=Ae(y,A,H,oe);return Pe>-1?(A=y[Pe],L||(A.fa=!1)):(A=new ie(A,this.src,de,!!H,oe),A.fa=L,y.push(A)),A};function Ne(y,A){const L=A.type;if(L in y.g){var H=y.g[L],oe=Array.prototype.indexOf.call(H,A,void 0),de;(de=oe>=0)&&Array.prototype.splice.call(H,oe,1),de&&(K(A),y.g[L].length==0&&(delete y.g[L],y.h--))}}function Ae(y,A,L,H){for(let oe=0;oe<y.length;++oe){const de=y[oe];if(!de.da&&de.listener==A&&de.capture==!!L&&de.ha==H)return oe}return-1}var ge="closure_lm_"+(Math.random()*1e6|0),Se={};function De(y,A,L,H,oe){if(Array.isArray(A)){for(let de=0;de<A.length;de++)De(y,A[de],L,H,oe);return null}return L=ys(L),y&&y[re]?y.J(A,L,c(H)?!!H.capture:!1,oe):ze(y,A,L,!1,H,oe)}function ze(y,A,L,H,oe,de){if(!A)throw Error("Invalid event type");const Pe=c(oe)?!!oe.capture:!!oe;let vt=$n(y);if(vt||(y[ge]=vt=new me(y)),L=vt.add(A,L,H,Pe,de),L.proxy)return L;if(H=qe(),L.proxy=H,H.src=y,H.listener=L,y.addEventListener)O||(oe=Pe),oe===void 0&&(oe=!1),y.addEventListener(A.toString(),H,oe);else if(y.attachEvent)y.attachEvent(kn(A.toString()),H);else if(y.addListener&&y.removeListener)y.addListener(H);else throw Error("addEventListener and attachEvent are unavailable.");return L}function qe(){function y(L){return A.call(y.src,y.listener,L)}const A=jr;return y}function gt(y,A,L,H,oe){if(Array.isArray(A))for(var de=0;de<A.length;de++)gt(y,A[de],L,H,oe);else H=c(H)?!!H.capture:!!H,L=ys(L),y&&y[re]?(y=y.i,de=String(A).toString(),de in y.g&&(A=y.g[de],L=Ae(A,L,H,oe),L>-1&&(K(A[L]),Array.prototype.splice.call(A,L,1),A.length==0&&(delete y.g[de],y.h--)))):y&&(y=$n(y))&&(A=y.g[A.toString()],y=-1,A&&(y=Ae(A,L,H,oe)),(L=y>-1?A[y]:null)&&Xt(L))}function Xt(y){if(typeof y!="number"&&y&&!y.da){var A=y.src;if(A&&A[re])Ne(A.i,y);else{var L=y.type,H=y.proxy;A.removeEventListener?A.removeEventListener(L,H,y.capture):A.detachEvent?A.detachEvent(kn(L),H):A.addListener&&A.removeListener&&A.removeListener(H),(L=$n(A))?(Ne(L,y),L.h==0&&(L.src=null,A[ge]=null)):K(y)}}}function kn(y){return y in Se?Se[y]:Se[y]="on"+y}function jr(y,A){if(y.da)y=!0;else{A=new X(A,this);const L=y.listener,H=y.ha||y.src;y.fa&&Xt(y),y=L.call(H,A)}return y}function $n(y){return y=y[ge],y instanceof me?y:null}var Jn="__closure_events_fn_"+(Math.random()*1e9>>>0);function ys(y){return typeof y=="function"?y:(y[Jn]||(y[Jn]=function(A){return y.handleEvent(A)}),y[Jn])}function $t(){M.call(this),this.i=new me(this),this.M=this,this.G=null}f($t,M),$t.prototype[re]=!0,$t.prototype.removeEventListener=function(y,A,L,H){gt(this,y,A,L,H)};function Zt(y,A){var L,H=y.G;if(H)for(L=[];H;H=H.G)L.push(H);if(y=y.M,H=A.type||A,typeof A=="string")A=new V(A,y);else if(A instanceof V)A.target=A.target||y;else{var oe=A;A=new V(H,y),$(A,oe)}oe=!0;let de,Pe;if(L)for(Pe=L.length-1;Pe>=0;Pe--)de=A.g=L[Pe],oe=Lr(de,H,!0,A)&&oe;if(de=A.g=y,oe=Lr(de,H,!0,A)&&oe,oe=Lr(de,H,!1,A)&&oe,L)for(Pe=0;Pe<L.length;Pe++)de=A.g=L[Pe],oe=Lr(de,H,!1,A)&&oe}$t.prototype.N=function(){if($t.Z.N.call(this),this.i){var y=this.i;for(const A in y.g){const L=y.g[A];for(let H=0;H<L.length;H++)K(L[H]);delete y.g[A],y.h--}}this.G=null},$t.prototype.J=function(y,A,L,H){return this.i.add(String(y),A,!1,L,H)},$t.prototype.K=function(y,A,L,H){return this.i.add(String(y),A,!0,L,H)};function Lr(y,A,L,H){if(A=y.i.g[String(A)],!A)return!0;A=A.concat();let oe=!0;for(let de=0;de<A.length;++de){const Pe=A[de];if(Pe&&!Pe.da&&Pe.capture==L){const vt=Pe.listener,On=Pe.ha||Pe.src;Pe.fa&&Ne(y.i,Pe),oe=vt.call(On,H)!==!1&&oe}}return oe&&!H.defaultPrevented}function Ca(y,A){if(typeof y!="function")if(y&&typeof y.handleEvent=="function")y=h(y.handleEvent,y);else throw Error("Invalid listener argument");return Number(A)>2147483647?-1:o.setTimeout(y,A||0)}function Ii(y){y.g=Ca(()=>{y.g=null,y.i&&(y.i=!1,Ii(y))},y.l);const A=y.h;y.h=null,y.m.apply(null,A)}class Ri extends M{constructor(A,L){super(),this.m=A,this.l=L,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:Ii(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Us(y){M.call(this),this.h=y,this.g={}}f(Us,M);var fe=[];function Ie(y){W(y.g,function(A,L){this.g.hasOwnProperty(L)&&Xt(A)},y),y.g={}}Us.prototype.N=function(){Us.Z.N.call(this),Ie(this)},Us.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var tt=o.JSON.stringify,wt=o.JSON.parse,Tt=class{stringify(y){return o.JSON.stringify(y,void 0)}parse(y){return o.JSON.parse(y,void 0)}};function bn(){}function pe(){}var He={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function nt(){V.call(this,"d")}f(nt,V);function rt(){V.call(this,"c")}f(rt,V);var yt={},dt=null;function Mt(){return dt=dt||new $t}yt.Ia="serverreachability";function wn(y){V.call(this,yt.Ia,y)}f(wn,V);function Jr(y){const A=Mt();Zt(A,new wn(A))}yt.STAT_EVENT="statevent";function Fr(y,A){V.call(this,yt.STAT_EVENT,y),this.stat=A}f(Fr,V);function rn(y){const A=Mt();Zt(A,new Fr(A,y))}yt.Ja="timingevent";function ai(y,A){V.call(this,yt.Ja,y),this.size=A}f(ai,V);function Vr(y,A){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){y()},A)}function Ur(){this.g=!0}Ur.prototype.ua=function(){this.g=!1};function Pi(y,A,L,H,oe,de){y.info(function(){if(y.g)if(de){var Pe="",vt=de.split("&");for(let en=0;en<vt.length;en++){var On=vt[en].split("=");if(On.length>1){const qn=On[0];On=On[1];const Es=qn.split("_");Pe=Es.length>=2&&Es[1]=="type"?Pe+(qn+"="+On+"&"):Pe+(qn+"=redacted&")}}}else Pe=null;else Pe=de;return"XMLHTTP REQ ("+H+") [attempt "+oe+"]: "+A+`
`+L+`
`+Pe})}function Jl(y,A,L,H,oe,de,Pe){y.info(function(){return"XMLHTTP RESP ("+H+") [ attempt "+oe+"]: "+A+`
`+L+`
`+de+" "+Pe})}function vs(y,A,L,H){y.info(function(){return"XMLHTTP TEXT ("+A+"): "+Di(y,L)+(H?" "+H:"")})}function Xl(y,A){y.info(function(){return"TIMEOUT: "+A})}Ur.prototype.info=function(){};function Di(y,A){if(!y.g)return A;if(!A)return null;try{const de=JSON.parse(A);if(de){for(y=0;y<de.length;y++)if(Array.isArray(de[y])){var L=de[y];if(!(L.length<2)){var H=L[1];if(Array.isArray(H)&&!(H.length<1)){var oe=H[0];if(oe!="noop"&&oe!="stop"&&oe!="close")for(let Pe=1;Pe<H.length;Pe++)H[Pe]=""}}}}return tt(de)}catch{return A}}var oi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},li={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},bs;function Xr(){}f(Xr,bn),Xr.prototype.g=function(){return new XMLHttpRequest},bs=new Xr;function Nr(y){return encodeURIComponent(String(y))}function Zr(y){var A=1;y=y.split(":");const L=[];for(;A>0&&y.length;)L.push(y.shift()),A--;return y.length&&L.push(y.join(":")),L}function Kt(y,A,L,H){this.j=y,this.i=A,this.l=L,this.S=H||1,this.V=new Us(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new _r}function _r(){this.i=null,this.g="",this.h=!1}var Ao={},ka={};function Sr(y,A,L){y.M=1,y.A=Aa(zs(A)),y.u=L,y.R=!0,ci(y,null)}function ci(y,A){y.F=Date.now(),Xn(y),y.B=zs(y.A);var L=y.B,H=y.S;Array.isArray(H)||(H=[String(H)]),Oh(L.i,"t",H),y.C=0,L=y.j.L,y.h=new _r,y.g=xp(y.j,L?A:null,!y.u),y.P>0&&(y.O=new Ri(h(y.Y,y,y.g),y.P)),A=y.V,L=y.g,H=y.ba;var oe="readystatechange";Array.isArray(oe)||(oe&&(fe[0]=oe.toString()),oe=fe);for(let de=0;de<oe.length;de++){const Pe=De(L,oe[de],H||A.handleEvent,!1,A.h||A);if(!Pe)break;A.g[Pe.key]=Pe}A=y.J?q(y.J):{},y.u?(y.v||(y.v="POST"),A["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.B,y.v,y.u,A)):(y.v="GET",y.g.ea(y.B,y.v,null,A)),Jr(),Pi(y.i,y.v,y.B,y.l,y.S,y.u)}Kt.prototype.ba=function(y){y=y.target;const A=this.O;A&&zi(y)==3?A.j():this.Y(y)},Kt.prototype.Y=function(y){try{if(y==this.g)e:{const vt=zi(this.g),On=this.g.ya(),en=this.g.ca();if(!(vt<3)&&(vt!=3||this.g&&(this.h.h||this.g.la()||pp(this.g)))){this.K||vt!=4||On==7||(On==8||en<=0?Jr(3):Jr(2)),yu(this);var A=this.g.ca();this.X=A;var L=ui(this);if(this.o=A==200,Jl(this.i,this.v,this.B,this.l,this.S,vt,A),this.o){if(this.U&&!this.L){t:{if(this.g){var H,oe=this.g;if((H=oe.g?oe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(H)){var de=H;break t}}de=null}if(y=de)vs(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,hn(this,y);else{this.o=!1,this.m=3,rn(12),Ta(this),Zl(this);break e}}if(this.R){y=!0;let qn;for(;!this.K&&this.C<L.length;)if(qn=ht(this,L),qn==ka){vt==4&&(this.m=4,rn(14),y=!1),vs(this.i,this.l,null,"[Incomplete Response]");break}else if(qn==Ao){this.m=4,rn(15),vs(this.i,this.l,L,"[Invalid Chunk]"),y=!1;break}else vs(this.i,this.l,qn,null),hn(this,qn);if(jt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vt!=4||L.length!=0||this.h.h||(this.m=1,rn(16),y=!1),this.o=this.o&&y,!y)vs(this.i,this.l,L,"[Invalid Chunked Response]"),Ta(this),Zl(this);else if(L.length>0&&!this.W){this.W=!0;var Pe=this.j;Pe.g==this&&Pe.aa&&!Pe.P&&(Pe.j.info("Great, no buffering proxy detected. Bytes received: "+L.length),lc(Pe),Pe.P=!0,rn(11))}}else vs(this.i,this.l,L,null),hn(this,L);vt==4&&Ta(this),this.o&&!this.K&&(vt==4?ku(this.j,this):(this.o=!1,Xn(this)))}else Fh(this.g),A==400&&L.indexOf("Unknown SID")>0?(this.m=3,rn(12)):(this.m=0,rn(13)),Ta(this),Zl(this)}}}catch{}finally{}};function ui(y){if(!jt(y))return y.g.la();const A=pp(y.g);if(A==="")return"";let L="";const H=A.length,oe=zi(y.g)==4;if(!y.h.i){if(typeof TextDecoder>"u")return Ta(y),Zl(y),"";y.h.i=new o.TextDecoder}for(let de=0;de<H;de++)y.h.h=!0,L+=y.h.i.decode(A[de],{stream:!(oe&&de==H-1)});return A.length=0,y.h.g+=L,y.C=0,y.h.g}function jt(y){return y.g?y.v=="GET"&&y.M!=2&&y.j.Aa:!1}function ht(y,A){var L=y.C,H=A.indexOf(`
`,L);return H==-1?ka:(L=Number(A.substring(L,H)),isNaN(L)?Ao:(H+=1,H+L>A.length?ka:(A=A.slice(H,H+L),y.C=H+L,A)))}Kt.prototype.cancel=function(){this.K=!0,Ta(this)};function Xn(y){y.T=Date.now()+y.H,Io(y,y.H)}function Io(y,A){if(y.D!=null)throw Error("WatchDog timer not null");y.D=Vr(h(y.aa,y),A)}function yu(y){y.D&&(o.clearTimeout(y.D),y.D=null)}Kt.prototype.aa=function(){this.D=null;const y=Date.now();y-this.T>=0?(Xl(this.i,this.B),this.M!=2&&(Jr(),rn(17)),Ta(this),this.m=2,Zl(this)):Io(this,this.T-y)};function Zl(y){y.j.I==0||y.K||ku(y.j,y)}function Ta(y){yu(y);var A=y.O;A&&typeof A.dispose=="function"&&A.dispose(),y.O=null,Ie(y.V),y.g&&(A=y.g,y.g=null,A.abort(),A.dispose())}function hn(y,A){try{var L=y.j;if(L.I!=0&&(L.g==y||Th(L.h,y))){if(!y.L&&Th(L.h,y)&&L.I==3){try{var H=L.Ba.g.parse(A)}catch{H=null}if(Array.isArray(H)&&H.length==3){var oe=H;if(oe[0]==0){e:if(!L.v){if(L.g)if(L.g.F+3e3<y.F)Cu(L),_s(L);else break e;qi(L),rn(18)}}else L.xa=oe[1],0<L.xa-L.K&&oe[2]<37500&&L.F&&L.A==0&&!L.C&&(L.C=Vr(h(L.Va,L),6e3));ec(L.h)<=1&&L.ta&&(L.ta=void 0)}else Ss(L,11)}else if((y.L||L.g==y)&&Cu(L),!U(A))for(oe=L.Ba.g.parse(A),A=0;A<oe.length;A++){let en=oe[A];const qn=en[0];if(!(qn<=L.K))if(L.K=qn,en=en[1],L.I==2)if(en[0]=="c"){L.M=en[1],L.ba=en[2];const Es=en[3];Es!=null&&(L.ka=Es,L.j.info("VER="+L.ka));const Ma=en[4];Ma!=null&&(L.za=Ma,L.j.info("SVER="+L.za));const Hi=en[5];Hi!=null&&typeof Hi=="number"&&Hi>0&&(H=1.5*Hi,L.O=H,L.j.info("backChannelRequestTimeoutMs_="+H)),H=L;const Wi=y.g;if(Wi){const Iu=Wi.g?Wi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Iu){var de=H.h;de.g||Iu.indexOf("spdy")==-1&&Iu.indexOf("quic")==-1&&Iu.indexOf("h2")==-1||(de.j=de.l,de.g=new Set,de.h&&(bu(de,de.h),de.h=null))}if(H.G){const zh=Wi.g?Wi.g.getResponseHeader("X-HTTP-Session-Id"):null;zh&&(H.wa=zh,qt(H.J,H.G,zh))}}L.I=3,L.l&&L.l.ra(),L.aa&&(L.T=Date.now()-y.F,L.j.info("Handshake RTT: "+L.T+"ms")),H=L;var Pe=y;if(H.na=Uh(H,H.L?H.ba:null,H.W),Pe.L){tc(H.h,Pe);var vt=Pe,On=H.O;On&&(vt.H=On),vt.D&&(yu(vt),Xn(vt)),H.g=Pe}else Er(H);L.i.length>0&&Da(L)}else en[0]!="stop"&&en[0]!="close"||Ss(L,7);else L.I==3&&(en[0]=="stop"||en[0]=="close"?en[0]=="stop"?Ss(L,7):Su(L):en[0]!="noop"&&L.l&&L.l.qa(en),L.A=0)}}Jr(4)}catch{}}var b0=class{constructor(y,A){this.g=y,this.map=A}};function vu(y){this.l=y||10,o.PerformanceNavigationTiming?(y=o.performance.getEntriesByType("navigation"),y=y.length>0&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function kh(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function ec(y){return y.h?1:y.g?y.g.size:0}function Th(y,A){return y.h?y.h==A:y.g?y.g.has(A):!1}function bu(y,A){y.g?y.g.add(A):y.h=A}function tc(y,A){y.h&&y.h==A?y.h=null:y.g&&y.g.has(A)&&y.g.delete(A)}vu.prototype.cancel=function(){if(this.i=ws(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function ws(y){if(y.h!=null)return y.i.concat(y.h.G);if(y.g!=null&&y.g.size!==0){let A=y.i;for(const L of y.g.values())A=A.concat(L.G);return A}return x(y.i)}var dp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function js(y,A){if(y){y=y.split("&");for(let L=0;L<y.length;L++){const H=y[L].indexOf("=");let oe,de=null;H>=0?(oe=y[L].substring(0,H),de=y[L].substring(H+1)):oe=y[L],A(oe,de?decodeURIComponent(de.replace(/\+/g," ")):"")}}}function Mi(y){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let A;y instanceof Mi?(this.l=y.l,nc(this,y.j),this.o=y.o,this.g=y.g,Oi(this,y.u),this.h=y.h,Ro(this,Lh(y.i)),this.m=y.m):y&&(A=String(y).match(dp))?(this.l=!1,nc(this,A[1]||"",!0),this.o=rc(A[2]||""),this.g=rc(A[3]||"",!0),Oi(this,A[4]),this.h=rc(A[5]||"",!0),Ro(this,A[6]||"",!0),this.m=rc(A[7]||"")):(this.l=!1,this.i=new Ot(null,this.l))}Mi.prototype.toString=function(){const y=[];var A=this.j;A&&y.push(sc(A,Ih,!0),":");var L=this.g;return(L||A=="file")&&(y.push("//"),(A=this.o)&&y.push(sc(A,Ih,!0),"@"),y.push(Nr(L).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),L=this.u,L!=null&&y.push(":",String(L))),(L=this.h)&&(this.g&&L.charAt(0)!="/"&&y.push("/"),y.push(sc(L,L.charAt(0)=="/"?ic:Rh,!0))),(L=this.i.toString())&&y.push("?",L),(L=this.m)&&y.push("#",sc(L,Ph)),y.join("")},Mi.prototype.resolve=function(y){const A=zs(this);let L=!!y.j;L?nc(A,y.j):L=!!y.o,L?A.o=y.o:L=!!y.g,L?A.g=y.g:L=y.u!=null;var H=y.h;if(L)Oi(A,y.u);else if(L=!!y.h){if(H.charAt(0)!="/")if(this.g&&!this.h)H="/"+H;else{var oe=A.h.lastIndexOf("/");oe!=-1&&(H=A.h.slice(0,oe+1)+H)}if(oe=H,oe==".."||oe==".")H="";else if(oe.indexOf("./")!=-1||oe.indexOf("/.")!=-1){H=oe.lastIndexOf("/",0)==0,oe=oe.split("/");const de=[];for(let Pe=0;Pe<oe.length;){const vt=oe[Pe++];vt=="."?H&&Pe==oe.length&&de.push(""):vt==".."?((de.length>1||de.length==1&&de[0]!="")&&de.pop(),H&&Pe==oe.length&&de.push("")):(de.push(vt),H=!0)}H=de.join("/")}else H=oe}return L?A.h=H:L=y.i.toString()!=="",L?Ro(A,Lh(y.i)):L=!!y.m,L&&(A.m=y.m),A};function zs(y){return new Mi(y)}function nc(y,A,L){y.j=L?rc(A,!0):A,y.j&&(y.j=y.j.replace(/:$/,""))}function Oi(y,A){if(A){if(A=Number(A),isNaN(A)||A<0)throw Error("Bad port number "+A);y.u=A}else y.u=null}function Ro(y,A,L){A instanceof Ot?(y.i=A,ju(y.i,y.l)):(L||(A=sc(A,w0)),y.i=new Ot(A,y.l))}function qt(y,A,L){y.i.set(A,L)}function Aa(y){return qt(y,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),y}function rc(y,A){return y?A?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function sc(y,A,L){return typeof y=="string"?(y=encodeURI(y).replace(A,Ah),L&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function Ah(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var Ih=/[#\/\?@]/g,Rh=/[#\?:]/g,ic=/[#\?]/g,w0=/[#\?@]/g,Ph=/#/g;function Ot(y,A){this.h=this.g=null,this.i=y||null,this.j=!!A}function Li(y){y.g||(y.g=new Map,y.h=0,y.i&&js(y.i,function(A,L){y.add(decodeURIComponent(A.replace(/\+/g," ")),L)}))}t=Ot.prototype,t.add=function(y,A){Li(this),this.i=null,y=Fi(this,y);let L=this.g.get(y);return L||this.g.set(y,L=[]),L.push(A),this.h+=1,this};function Dh(y,A){Li(y),A=Fi(y,A),y.g.has(A)&&(y.i=null,y.h-=y.g.get(A).length,y.g.delete(A))}function wu(y,A){return Li(y),A=Fi(y,A),y.g.has(A)}t.forEach=function(y,A){Li(this),this.g.forEach(function(L,H){L.forEach(function(oe){y.call(A,oe,H,this)},this)},this)};function Mh(y,A){Li(y);let L=[];if(typeof A=="string")wu(y,A)&&(L=L.concat(y.g.get(Fi(y,A))));else for(y=Array.from(y.g.values()),A=0;A<y.length;A++)L=L.concat(y[A]);return L}t.set=function(y,A){return Li(this),this.i=null,y=Fi(this,y),wu(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[A]),this.h+=1,this},t.get=function(y,A){return y?(y=Mh(this,y),y.length>0?String(y[0]):A):A};function Oh(y,A,L){Dh(y,A),L.length>0&&(y.i=null,y.g.set(Fi(y,A),x(L)),y.h+=L.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],A=Array.from(this.g.keys());for(let H=0;H<A.length;H++){var L=A[H];const oe=Nr(L);L=Mh(this,L);for(let de=0;de<L.length;de++){let Pe=oe;L[de]!==""&&(Pe+="="+Nr(L[de])),y.push(Pe)}}return this.i=y.join("&")};function Lh(y){const A=new Ot;return A.i=y.i,y.g&&(A.g=new Map(y.g),A.h=y.h),A}function Fi(y,A){return A=String(A),y.j&&(A=A.toLowerCase()),A}function ju(y,A){A&&!y.j&&(Li(y),y.i=null,y.g.forEach(function(L,H){const oe=H.toLowerCase();H!=oe&&(Dh(this,H),Oh(this,oe,L))},y)),y.j=A}function Vi(y,A){const L=new Ur;if(o.Image){const H=new Image;H.onload=m(mr,L,"TestLoadImage: loaded",!0,A,H),H.onerror=m(mr,L,"TestLoadImage: error",!1,A,H),H.onabort=m(mr,L,"TestLoadImage: abort",!1,A,H),H.ontimeout=m(mr,L,"TestLoadImage: timeout",!1,A,H),o.setTimeout(function(){H.ontimeout&&H.ontimeout()},1e4),H.src=y}else A(!1)}function Ui(y,A){const L=new Ur,H=new AbortController,oe=setTimeout(()=>{H.abort(),mr(L,"TestPingServer: timeout",!1,A)},1e4);fetch(y,{signal:H.signal}).then(de=>{clearTimeout(oe),de.ok?mr(L,"TestPingServer: ok",!0,A):mr(L,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(oe),mr(L,"TestPingServer: error",!1,A)})}function mr(y,A,L,H,oe){try{oe&&(oe.onload=null,oe.onerror=null,oe.onabort=null,oe.ontimeout=null),H(L)}catch{}}function ac(){this.g=new Tt}function Ia(y){this.i=y.Sb||null,this.h=y.ab||!1}f(Ia,bn),Ia.prototype.g=function(){return new Ns(this.i,this.h)};function Ns(y,A){$t.call(this),this.H=y,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(Ns,$t),t=Ns.prototype,t.open=function(y,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=y,this.D=A,this.readyState=1,di(this)},t.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const A={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};y&&(A.body=y),(this.H||o).fetch(new Request(this.D,A)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Po(this)),this.readyState=0},t.Pa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,di(this)),this.g&&(this.readyState=3,di(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;hp(this)}else y.text().then(this.Oa.bind(this),this.ga.bind(this))};function hp(y){y.j.read().then(y.Ma.bind(y)).catch(y.ga.bind(y))}t.Ma=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var A=y.value?y.value:new Uint8Array(0);(A=this.B.decode(A,{stream:!y.done}))&&(this.response=this.responseText+=A)}y.done?Po(this):di(this),this.readyState==3&&hp(this)}},t.Oa=function(y){this.g&&(this.response=this.responseText=y,Po(this))},t.Na=function(y){this.g&&(this.response=y,Po(this))},t.ga=function(){this.g&&Po(this)};function Po(y){y.readyState=4,y.l=null,y.j=null,y.B=null,di(y)}t.setRequestHeader=function(y,A){this.A.append(y,A)},t.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],A=this.h.entries();for(var L=A.next();!L.done;)L=L.value,y.push(L[0]+": "+L[1]),L=A.next();return y.join(`\r
`)};function di(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(Ns.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function mp(y){let A="";return W(y,function(L,H){A+=H,A+=":",A+=L,A+=`\r
`}),A}function Nu(y,A,L){e:{for(H in L){var H=!1;break e}H=!0}H||(L=mp(L),typeof y=="string"?L!=null&&Nr(L):qt(y,A,L))}function sn(y){$t.call(this),this.headers=new Map,this.L=y||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(sn,$t);var fp=/^https?$/i,j0=["POST","PUT"];t=sn.prototype,t.Fa=function(y){this.H=y},t.ea=function(y,A,L,H){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);A=A?A.toUpperCase():"GET",this.D=y,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():bs.g(),this.g.onreadystatechange=g(h(this.Ca,this));try{this.B=!0,this.g.open(A,String(y),!0),this.B=!1}catch(de){Do(this,de);return}if(y=L||"",L=new Map(this.headers),H)if(Object.getPrototypeOf(H)===Object.prototype)for(var oe in H)L.set(oe,H[oe]);else if(typeof H.keys=="function"&&typeof H.get=="function")for(const de of H.keys())L.set(de,H.get(de));else throw Error("Unknown input type for opt_headers: "+String(H));H=Array.from(L.keys()).find(de=>de.toLowerCase()=="content-type"),oe=o.FormData&&y instanceof o.FormData,!(Array.prototype.indexOf.call(j0,A,void 0)>=0)||H||oe||L.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[de,Pe]of L)this.g.setRequestHeader(de,Pe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(y),this.v=!1}catch(de){Do(this,de)}};function Do(y,A){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=A,y.o=5,Mo(y),Pa(y)}function Mo(y){y.A||(y.A=!0,Zt(y,"complete"),Zt(y,"error"))}t.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=y||7,Zt(this,"complete"),Zt(this,"abort"),Pa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pa(this,!0)),sn.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Ra(this):this.Xa())},t.Xa=function(){Ra(this)};function Ra(y){if(y.h&&typeof a<"u"){if(y.v&&zi(y)==4)setTimeout(y.Ca.bind(y),0);else if(Zt(y,"readystatechange"),zi(y)==4){y.h=!1;try{const de=y.ca();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var L;if(!(L=A)){var H;if(H=de===0){let Pe=String(y.D).match(dp)[1]||null;!Pe&&o.self&&o.self.location&&(Pe=o.self.location.protocol.slice(0,-1)),H=!fp.test(Pe?Pe.toLowerCase():"")}L=H}if(L)Zt(y,"complete"),Zt(y,"success");else{y.o=6;try{var oe=zi(y)>2?y.g.statusText:""}catch{oe=""}y.l=oe+" ["+y.ca()+"]",Mo(y)}}finally{Pa(y)}}}}function Pa(y,A){if(y.g){y.m&&(clearTimeout(y.m),y.m=null);const L=y.g;y.g=null,A||Zt(y,"ready");try{L.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function zi(y){return y.g?y.g.readyState:0}t.ca=function(){try{return zi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(y){if(this.g){var A=this.g.responseText;return y&&A.indexOf(y)==0&&(A=A.substring(y.length)),wt(A)}};function pp(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.F){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function Fh(y){const A={};y=(y.g&&zi(y)>=2&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let H=0;H<y.length;H++){if(U(y[H]))continue;var L=Zr(y[H]);const oe=L[0];if(L=L[1],typeof L!="string")continue;L=L.trim();const de=A[oe]||[];A[oe]=de,de.push(L)}B(A,function(H){return H.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bi(y,A,L){return L&&L.internalChannelParams&&L.internalChannelParams[y]||A}function _u(y){this.za=0,this.i=[],this.j=new Ur,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Bi("failFast",!1,y),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Bi("baseRetryDelayMs",5e3,y),this.Za=Bi("retryDelaySeedMs",1e4,y),this.Ta=Bi("forwardChannelMaxRetries",2,y),this.va=Bi("forwardChannelRequestTimeoutMs",2e4,y),this.ma=y&&y.xmlHttpFactory||void 0,this.Ua=y&&y.Rb||void 0,this.Aa=y&&y.useFetchStreams||!1,this.O=void 0,this.L=y&&y.supportsCrossDomainXhr||!1,this.M="",this.h=new vu(y&&y.concurrentRequestLimit),this.Ba=new ac,this.S=y&&y.fastHandshake||!1,this.R=y&&y.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=y&&y.Pb||!1,y&&y.ua&&this.j.ua(),y&&y.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&y&&y.detectBufferingProxy||!1,this.ia=void 0,y&&y.longPollingTimeout&&y.longPollingTimeout>0&&(this.ia=y.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=_u.prototype,t.ka=8,t.I=1,t.connect=function(y,A,L,H){rn(0),this.W=y,this.H=A||{},L&&H!==void 0&&(this.H.OSID=L,this.H.OAID=H),this.F=this.X,this.J=Uh(this,null,this.W),Da(this)};function Su(y){if(Eu(y),y.I==3){var A=y.V++,L=zs(y.J);if(qt(L,"SID",y.M),qt(L,"RID",A),qt(L,"TYPE","terminate"),$i(y,L),A=new Kt(y,y.j,A),A.M=2,A.A=Aa(zs(L)),L=!1,o.navigator&&o.navigator.sendBeacon)try{L=o.navigator.sendBeacon(A.A.toString(),"")}catch{}!L&&o.Image&&(new Image().src=A.A,L=!0),L||(A.g=xp(A.j,null),A.g.ea(A.A)),A.F=Date.now(),Xn(A)}cc(y)}function _s(y){y.g&&(lc(y),y.g.cancel(),y.g=null)}function Eu(y){_s(y),y.v&&(o.clearTimeout(y.v),y.v=null),Cu(y),y.h.cancel(),y.m&&(typeof y.m=="number"&&o.clearTimeout(y.m),y.m=null)}function Da(y){if(!kh(y.h)&&!y.m){y.m=!0;var A=y.Ea;P||R(),F||(P(),F=!0),D.add(A,y),y.D=0}}function gp(y,A){return ec(y.h)>=y.h.j-(y.m?1:0)?!1:y.m?(y.i=A.G.concat(y.i),!0):y.I==1||y.I==2||y.D>=(y.Sa?0:y.Ta)?!1:(y.m=Vr(h(y.Ea,y,A),Tu(y,y.D)),y.D++,!0)}t.Ea=function(y){if(this.m)if(this.m=null,this.I==1){if(!y){this.V=Math.floor(Math.random()*1e5),y=this.V++;const oe=new Kt(this,this.j,y);let de=this.o;if(this.U&&(de?(de=q(de),$(de,this.U)):de=this.U),this.u!==null||this.R||(oe.J=de,de=null),this.S)e:{for(var A=0,L=0;L<this.i.length;L++){t:{var H=this.i[L];if("__data__"in H.map&&(H=H.map.__data__,typeof H=="string")){H=H.length;break t}H=void 0}if(H===void 0)break;if(A+=H,A>4096){A=L;break e}if(A===4096||L===this.i.length-1){A=L+1;break e}}A=1e3}else A=1e3;A=Vh(this,oe,A),L=zs(this.J),qt(L,"RID",y),qt(L,"CVER",22),this.G&&qt(L,"X-HTTP-Session-Id",this.G),$i(this,L),de&&(this.R?A="headers="+Nr(mp(de))+"&"+A:this.u&&Nu(L,this.u,de)),bu(this.h,oe),this.Ra&&qt(L,"TYPE","init"),this.S?(qt(L,"$req",A),qt(L,"SID","null"),oe.U=!0,Sr(oe,L,null)):Sr(oe,L,A),this.I=2}}else this.I==3&&(y?oc(this,y):this.i.length==0||kh(this.h)||oc(this))};function oc(y,A){var L;A?L=A.l:L=y.V++;const H=zs(y.J);qt(H,"SID",y.M),qt(H,"RID",L),qt(H,"AID",y.K),$i(y,H),y.u&&y.o&&Nu(H,y.u,y.o),L=new Kt(y,y.j,L,y.D+1),y.u===null&&(L.J=y.o),A&&(y.i=A.G.concat(y.i)),A=Vh(y,L,1e3),L.H=Math.round(y.va*.5)+Math.round(y.va*.5*Math.random()),bu(y.h,L),Sr(L,H,A)}function $i(y,A){y.H&&W(y.H,function(L,H){qt(A,H,L)}),y.l&&W({},function(L,H){qt(A,H,L)})}function Vh(y,A,L){L=Math.min(y.i.length,L);const H=y.l?h(y.l.Ka,y.l,y):null;e:{var oe=y.i;let vt=-1;for(;;){const On=["count="+L];vt==-1?L>0?(vt=oe[0].g,On.push("ofs="+vt)):vt=0:On.push("ofs="+vt);let en=!0;for(let qn=0;qn<L;qn++){var de=oe[qn].g;const Es=oe[qn].map;if(de-=vt,de<0)vt=Math.max(0,oe[qn].g-100),en=!1;else try{de="req"+de+"_"||"";try{var Pe=Es instanceof Map?Es:Object.entries(Es);for(const[Ma,Hi]of Pe){let Wi=Hi;c(Hi)&&(Wi=tt(Hi)),On.push(de+Ma+"="+encodeURIComponent(Wi))}}catch(Ma){throw On.push(de+"type="+encodeURIComponent("_badmap")),Ma}}catch{H&&H(Es)}}if(en){Pe=On.join("&");break e}}Pe=void 0}return y=y.i.splice(0,L),A.G=y,Pe}function Er(y){if(!y.g&&!y.v){y.Y=1;var A=y.Da;P||R(),F||(P(),F=!0),D.add(A,y),y.A=0}}function qi(y){return y.g||y.v||y.A>=3?!1:(y.Y++,y.v=Vr(h(y.Da,y),Tu(y,y.A)),y.A++,!0)}t.Da=function(){if(this.v=null,Oo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var y=4*this.T;this.j.info("BP detection timer enabled: "+y),this.B=Vr(h(this.Wa,this),y)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,rn(10),_s(this),Oo(this))};function lc(y){y.B!=null&&(o.clearTimeout(y.B),y.B=null)}function Oo(y){y.g=new Kt(y,y.j,"rpc",y.Y),y.u===null&&(y.g.J=y.o),y.g.P=0;var A=zs(y.na);qt(A,"RID","rpc"),qt(A,"SID",y.M),qt(A,"AID",y.K),qt(A,"CI",y.F?"0":"1"),!y.F&&y.ia&&qt(A,"TO",y.ia),qt(A,"TYPE","xmlhttp"),$i(y,A),y.u&&y.o&&Nu(A,y.u,y.o),y.O&&(y.g.H=y.O);var L=y.g;y=y.ba,L.M=1,L.A=Aa(zs(A)),L.u=null,L.R=!0,ci(L,y)}t.Va=function(){this.C!=null&&(this.C=null,_s(this),qi(this),rn(19))};function Cu(y){y.C!=null&&(o.clearTimeout(y.C),y.C=null)}function ku(y,A){var L=null;if(y.g==A){Cu(y),lc(y),y.g=null;var H=2}else if(Th(y.h,A))L=A.G,tc(y.h,A),H=1;else return;if(y.I!=0){if(A.o)if(H==1){L=A.u?A.u.length:0,A=Date.now()-A.F;var oe=y.D;H=Mt(),Zt(H,new ai(H,L)),Da(y)}else Er(y);else if(oe=A.m,oe==3||oe==0&&A.X>0||!(H==1&&gp(y,A)||H==2&&qi(y)))switch(L&&L.length>0&&(A=y.h,A.i=A.i.concat(L)),oe){case 1:Ss(y,5);break;case 4:Ss(y,10);break;case 3:Ss(y,6);break;default:Ss(y,2)}}}function Tu(y,A){let L=y.Qa+Math.floor(Math.random()*y.Za);return y.isActive()||(L*=2),L*A}function Ss(y,A){if(y.j.info("Error code "+A),A==2){var L=h(y.bb,y),H=y.Ua;const oe=!H;H=new Mi(H||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||nc(H,"https"),Aa(H),oe?Vi(H.toString(),L):Ui(H.toString(),L)}else rn(2);y.I=0,y.l&&y.l.pa(A),cc(y),Eu(y)}t.bb=function(y){y?(this.j.info("Successfully pinged google.com"),rn(2)):(this.j.info("Failed to ping google.com"),rn(1))};function cc(y){if(y.I=0,y.ja=[],y.l){const A=ws(y.h);(A.length!=0||y.i.length!=0)&&(_(y.ja,A),_(y.ja,y.i),y.h.i.length=0,x(y.i),y.i.length=0),y.l.oa()}}function Uh(y,A,L){var H=L instanceof Mi?zs(L):new Mi(L);if(H.g!="")A&&(H.g=A+"."+H.g),Oi(H,H.u);else{var oe=o.location;H=oe.protocol,A=A?A+"."+oe.hostname:oe.hostname,oe=+oe.port;const de=new Mi(null);H&&nc(de,H),A&&(de.g=A),oe&&Oi(de,oe),L&&(de.h=L),H=de}return L=y.G,A=y.wa,L&&A&&qt(H,L,A),qt(H,"VER",y.ka),$i(y,H),H}function xp(y,A,L){if(A&&!y.L)throw Error("Can't create secondary domain capable XhrIo object.");return A=y.Aa&&!y.ma?new sn(new Ia({ab:L})):new sn(y.ma),A.Fa(y.L),A}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function yp(){}t=yp.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Au(){}Au.prototype.g=function(y,A){return new fr(y,A)};function fr(y,A){$t.call(this),this.g=new _u(A),this.l=y,this.h=A&&A.messageUrlParams||null,y=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(y?y["X-WebChannel-Content-Type"]=A.messageContentType:y={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.sa&&(y?y["X-WebChannel-Client-Profile"]=A.sa:y={"X-WebChannel-Client-Profile":A.sa}),this.g.U=y,(y=A&&A.Qb)&&!U(y)&&(this.g.u=y),this.A=A&&A.supportsCrossDomainXhr||!1,this.v=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!U(A)&&(this.g.G=A,y=this.h,y!==null&&A in y&&(y=this.h,A in y&&delete y[A])),this.j=new Lo(this)}f(fr,$t),fr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},fr.prototype.close=function(){Su(this.g)},fr.prototype.o=function(y){var A=this.g;if(typeof y=="string"){var L={};L.__data__=y,y=L}else this.v&&(L={},L.__data__=tt(y),y=L);A.i.push(new b0(A.Ya++,y)),A.I==3&&Da(A)},fr.prototype.N=function(){this.g.l=null,delete this.j,Su(this.g),delete this.g,fr.Z.N.call(this)};function vp(y){nt.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var A=y.__sm__;if(A){e:{for(const L in A){y=L;break e}y=void 0}(this.i=y)&&(y=this.i,A=A!==null&&y in A?A[y]:void 0),this.data=A}else this.data=y}f(vp,nt);function bp(){rt.call(this),this.status=1}f(bp,rt);function Lo(y){this.g=y}f(Lo,yp),Lo.prototype.ra=function(){Zt(this.g,"a")},Lo.prototype.qa=function(y){Zt(this.g,new vp(y))},Lo.prototype.pa=function(y){Zt(this.g,new bp)},Lo.prototype.oa=function(){Zt(this.g,"b")},Au.prototype.createWebChannel=Au.prototype.g,fr.prototype.send=fr.prototype.o,fr.prototype.open=fr.prototype.m,fr.prototype.close=fr.prototype.close,x5=function(){return new Au},g5=function(){return Mt()},p5=yt,m1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},oi.NO_ERROR=0,oi.TIMEOUT=8,oi.HTTP_ERROR=6,sx=oi,li.COMPLETE="complete",f5=li,pe.EventType=He,He.OPEN="a",He.CLOSE="b",He.ERROR="c",He.MESSAGE="d",$t.prototype.listen=$t.prototype.J,Tm=pe,sn.prototype.listenOnce=sn.prototype.K,sn.prototype.getLastError=sn.prototype.Ha,sn.prototype.getLastErrorCode=sn.prototype.ya,sn.prototype.getStatus=sn.prototype.ca,sn.prototype.getResponseJson=sn.prototype.La,sn.prototype.getResponseText=sn.prototype.la,sn.prototype.send=sn.prototype.ea,sn.prototype.setWithCredentials=sn.prototype.Fa,m5=sn}).apply(typeof Ag<"u"?Ag:typeof self<"u"?self:typeof window<"u"?window:{});const NT="@firebase/firestore",_T="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cs.UNAUTHENTICATED=new cs(null),cs.GOOGLE_CREDENTIALS=new cs("google-credentials-uid"),cs.FIRST_PARTY=new cs("first-party-uid"),cs.MOCK_USER=new cs("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gh="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl=new DN("@firebase/firestore");function id(){return Rl.logLevel}function xte(t){Rl.setLogLevel(t)}function Be(t,...e){if(Rl.logLevel<=Rt.DEBUG){const n=e.map(HN);Rl.debug(`Firestore (${gh}): ${t}`,...n)}}function vo(t,...e){if(Rl.logLevel<=Rt.ERROR){const n=e.map(HN);Rl.error(`Firestore (${gh}): ${t}`,...n)}}function xf(t,...e){if(Rl.logLevel<=Rt.WARN){const n=e.map(HN);Rl.warn(`Firestore (${gh}): ${t}`,...n)}}function HN(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,y5(t,r,n)}function y5(t,e,n){let r=`FIRESTORE (${gh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw vo(r),new Error(r)}function Jt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||y5(e,i,r)}function bt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends Ea{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yte{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vte{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(cs.UNAUTHENTICATED)))}shutdown(){}}class bte{constructor(e){this.t=e,this.currentUser=cs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Jt(this.o===void 0,42304);let r=this.i;const i=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let a=new so;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new so,e.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const d=a;e.enqueueRetryable((async()=>{await d.promise,await i(this.currentUser)}))},c=d=>{Be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((d=>c(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(Be("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new so)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Jt(typeof r.accessToken=="string",31837,{l:r}),new yte(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Jt(e===null||typeof e=="string",2055,{h:e}),new cs(e)}}class wte{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=cs.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class jte{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new wte(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(cs.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ST{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Nte{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ps(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Jt(this.o===void 0,3512);const r=a=>{a.error!=null&&Be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,Be("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{Be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ST(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Jt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ST(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _te(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=_te(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function Pt(t,e){return t<e?-1:t>e?1:0}function f1(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return Ob(i)===Ob(a)?Pt(i,a):Ob(i)?1:-1}return Pt(t.length,e.length)}const Ste=55296,Ete=57343;function Ob(t){const e=t.charCodeAt(0);return e>=Ste&&e<=Ete}function Wd(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET="__name__";class Zi{constructor(e,n,r){n===void 0?n=0:n>e.length&&lt(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&lt(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Zi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Zi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Zi.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return Pt(e.length,n.length)}static compareSegments(e,n){const r=Zi.isNumericId(e),i=Zi.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Zi.extractNumericId(e).compare(Zi.extractNumericId(n)):f1(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return wl.fromString(e.substring(4,e.length-2))}}class cn extends Zi{construct(e,n,r){return new cn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Oe(xe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new cn(n)}static emptyPath(){return new cn([])}}const Cte=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vr extends Zi{construct(e,n,r){return new vr(e,n,r)}static isValidIdentifier(e){return Cte.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ET}static keyField(){return new vr([ET])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Oe(xe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new Oe(xe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Oe(xe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(r+=c,i++):(a(),i++)}if(a(),o)throw new Oe(xe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vr(n)}static emptyPath(){return new vr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e){this.path=e}static fromPath(e){return new st(cn.fromString(e))}static fromName(e){return new st(cn.fromString(e).popFirst(5))}static empty(){return new st(cn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&cn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return cn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new st(new cn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v5(t,e,n){if(!n)throw new Oe(xe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function kte(t,e,n,r){if(e===!0&&r===!0)throw new Oe(xe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function CT(t){if(!st.isDocumentKey(t))throw new Oe(xe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function kT(t){if(st.isDocumentKey(t))throw new Oe(xe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function b5(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function qy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":lt(12329,{type:typeof t})}function wa(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Oe(xe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qy(t);throw new Oe(xe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Xf(t,e){if(!b5(t))throw new Oe(xe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new Oe(xe.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT=-62135596800,AT=1e6;class pn{static now(){return pn.fromMillis(Date.now())}static fromDate(e){return pn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*AT);return new pn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Oe(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Oe(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<TT)throw new Oe(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oe(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/AT}_compareTo(e){return this.seconds===e.seconds?Pt(this.nanoseconds,e.nanoseconds):Pt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:pn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Xf(e,pn._jsonSchema))return new pn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-TT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}pn._jsonSchemaVersion="firestore/timestamp/1.0",pn._jsonSchema={type:Yn("string",pn._jsonSchemaVersion),seconds:Yn("number"),nanoseconds:Yn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{static fromTimestamp(e){return new xt(e)}static min(){return new xt(new pn(0,0))}static max(){return new xt(new pn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf=-1;function Tte(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=xt.fromTimestamp(r===1e9?new pn(n+1,0):new pn(n,r));return new Pl(i,st.empty(),e)}function Ate(t){return new Pl(t.readTime,t.key,yf)}class Pl{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Pl(xt.min(),st.empty(),yf)}static max(){return new Pl(xt.max(),st.empty(),yf)}}function Ite(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=st.comparator(t.documentKey,e.documentKey),n!==0?n:Pt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rte="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Pte{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xh(t){if(t.code!==xe.FAILED_PRECONDITION||t.message!==Rte)throw t;Be("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&lt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ve(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ve?n:ve.resolve(n)}catch(n){return ve.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ve.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ve.reject(n)}static resolve(e){return new ve(((n,r)=>{n(e)}))}static reject(e){return new ve(((n,r)=>{r(e)}))}static waitFor(e){return new ve(((n,r)=>{let i=0,a=0,o=!1;e.forEach((c=>{++i,c.next((()=>{++a,o&&a===i&&n()}),(d=>r(d)))})),o=!0,a===i&&n()}))}static or(e){let n=ve.resolve(!1);for(const r of e)n=n.next((i=>i?ve.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new ve(((r,i)=>{const a=e.length,o=new Array(a);let c=0;for(let d=0;d<a;d++){const h=d;n(e[h]).next((m=>{o[h]=m,++c,c===a&&r(o)}),(m=>i(m)))}}))}static doWhile(e,n){return new ve(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function Dte(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function yh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Hy.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN=-1;function Wy(t){return t==null}function Hx(t){return t===0&&1/t==-1/0}function Mte(t){return typeof t=="number"&&Number.isInteger(t)&&!Hx(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w5="";function Ote(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=IT(e)),e=Lte(t.get(n),e);return IT(e)}function Lte(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case w5:n+="";break;default:n+=a}}return n}function IT(t){return t+w5+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Wl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function j5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e,n){this.comparator=e,this.root=n||yr.EMPTY}insert(e,n){return new Cn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,yr.BLACK,null,null))}remove(e){return new Cn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ig(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ig(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ig(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ig(this.root,e,this.comparator,!0)}}class Ig{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yr{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??yr.RED,this.left=i??yr.EMPTY,this.right=a??yr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new yr(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return yr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return yr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw lt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw lt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw lt(27949);return e+(this.isRed()?0:1)}}yr.EMPTY=null,yr.RED=!0,yr.BLACK=!1;yr.EMPTY=new class{constructor(){this.size=0}get key(){throw lt(57766)}get value(){throw lt(16141)}get color(){throw lt(16727)}get left(){throw lt(29726)}get right(){throw lt(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new yr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.comparator=e,this.data=new Cn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new PT(this.data.getIterator())}getIteratorFrom(e){return new PT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof rr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new rr(this.comparator);return n.data=e,n}}class PT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e){this.fields=e,e.sort(vr.comparator)}static empty(){return new Ds([])}unionWith(e){let n=new rr(vr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ds(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wd(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new N5("Invalid base64 string: "+a):a}})(e);return new wr(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a})(e);return new wr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wr.EMPTY_BYTE_STRING=new wr("");const Fte=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dl(t){if(Jt(!!t,39018),typeof t=="string"){let e=0;const n=Fte.exec(t);if(Jt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Vn(t.seconds),nanos:Vn(t.nanos)}}function Vn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ml(t){return typeof t=="string"?wr.fromBase64String(t):wr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _5="server_timestamp",S5="__type__",E5="__previous_value__",C5="__local_write_time__";function GN(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[S5])==null?void 0:r.stringValue)===_5}function Ky(t){const e=t.mapValue.fields[E5];return GN(e)?Ky(e):e}function vf(t){const e=Dl(t.mapValue.fields[C5].timestampValue);return new pn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vte{constructor(e,n,r,i,a,o,c,d,h,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=h,this.isUsingEmulator=m}}const Wx="(default)";class bf{constructor(e,n){this.projectId=e,this.database=n||Wx}static empty(){return new bf("","")}get isDefaultDatabase(){return this.database===Wx}isEqual(e){return e instanceof bf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k5="__type__",Ute="__max__",Rg={mapValue:{}},T5="__vector__",Kx="value";function Ol(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?GN(t)?4:Bte(t)?9007199254740991:zte(t)?10:11:lt(28295,{value:t})}function ja(t,e){if(t===e)return!0;const n=Ol(t);if(n!==Ol(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return vf(t).isEqual(vf(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=Dl(i.timestampValue),c=Dl(a.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return Ml(i.bytesValue).isEqual(Ml(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return Vn(i.geoPointValue.latitude)===Vn(a.geoPointValue.latitude)&&Vn(i.geoPointValue.longitude)===Vn(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return Vn(i.integerValue)===Vn(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=Vn(i.doubleValue),c=Vn(a.doubleValue);return o===c?Hx(o)===Hx(c):isNaN(o)&&isNaN(c)}return!1})(t,e);case 9:return Wd(t.arrayValue.values||[],e.arrayValue.values||[],ja);case 10:case 11:return(function(i,a){const o=i.mapValue.fields||{},c=a.mapValue.fields||{};if(RT(o)!==RT(c))return!1;for(const d in o)if(o.hasOwnProperty(d)&&(c[d]===void 0||!ja(o[d],c[d])))return!1;return!0})(t,e);default:return lt(52216,{left:t})}}function wf(t,e){return(t.values||[]).find((n=>ja(n,e)))!==void 0}function Kd(t,e){if(t===e)return 0;const n=Ol(t),r=Ol(e);if(n!==r)return Pt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pt(t.booleanValue,e.booleanValue);case 2:return(function(a,o){const c=Vn(a.integerValue||a.doubleValue),d=Vn(o.integerValue||o.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1})(t,e);case 3:return DT(t.timestampValue,e.timestampValue);case 4:return DT(vf(t),vf(e));case 5:return f1(t.stringValue,e.stringValue);case 6:return(function(a,o){const c=Ml(a),d=Ml(o);return c.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(a,o){const c=a.split("/"),d=o.split("/");for(let h=0;h<c.length&&h<d.length;h++){const m=Pt(c[h],d[h]);if(m!==0)return m}return Pt(c.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,o){const c=Pt(Vn(a.latitude),Vn(o.latitude));return c!==0?c:Pt(Vn(a.longitude),Vn(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return MT(t.arrayValue,e.arrayValue);case 10:return(function(a,o){var g,x,_,w;const c=a.fields||{},d=o.fields||{},h=(g=c[Kx])==null?void 0:g.arrayValue,m=(x=d[Kx])==null?void 0:x.arrayValue,f=Pt(((_=h==null?void 0:h.values)==null?void 0:_.length)||0,((w=m==null?void 0:m.values)==null?void 0:w.length)||0);return f!==0?f:MT(h,m)})(t.mapValue,e.mapValue);case 11:return(function(a,o){if(a===Rg.mapValue&&o===Rg.mapValue)return 0;if(a===Rg.mapValue)return 1;if(o===Rg.mapValue)return-1;const c=a.fields||{},d=Object.keys(c),h=o.fields||{},m=Object.keys(h);d.sort(),m.sort();for(let f=0;f<d.length&&f<m.length;++f){const g=f1(d[f],m[f]);if(g!==0)return g;const x=Kd(c[d[f]],h[m[f]]);if(x!==0)return x}return Pt(d.length,m.length)})(t.mapValue,e.mapValue);default:throw lt(23264,{he:n})}}function DT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Pt(t,e);const n=Dl(t),r=Dl(e),i=Pt(n.seconds,r.seconds);return i!==0?i:Pt(n.nanos,r.nanos)}function MT(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Kd(n[i],r[i]);if(a)return a}return Pt(n.length,r.length)}function Gd(t){return p1(t)}function p1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Dl(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Ml(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return st.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=p1(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const o of r)a?a=!1:i+=",",i+=`${o}:${p1(n.fields[o])}`;return i+"}"})(t.mapValue):lt(61005,{value:t})}function ix(t){switch(Ol(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ky(t);return e?16+ix(e):16;case 5:return 2*t.stringValue.length;case 6:return Ml(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+ix(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Wl(r.fields,((a,o)=>{i+=a.length+ix(o)})),i})(t.mapValue);default:throw lt(13486,{value:t})}}function OT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function g1(t){return!!t&&"integerValue"in t}function QN(t){return!!t&&"arrayValue"in t}function LT(t){return!!t&&"nullValue"in t}function FT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ax(t){return!!t&&"mapValue"in t}function zte(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[k5])==null?void 0:r.stringValue)===T5}function qm(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Wl(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=qm(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=qm(t.arrayValue.values[n]);return e}return{...t}}function Bte(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Ute}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e){this.value=e}static empty(){return new ds({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ax(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=qm(n)}setAll(e){let n=vr.emptyPath(),r={},i=[];e.forEach(((o,c)=>{if(!n.isImmediateParentOf(c)){const d=this.getFieldsMap(n);this.applyChanges(d,r,i),r={},i=[],n=c.popLast()}o?r[c.lastSegment()]=qm(o):i.push(c.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());ax(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ja(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ax(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Wl(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new ds(qm(this.value))}}function A5(t){const e=[];return Wl(t.fields,((n,r)=>{const i=new vr([n]);if(ax(r)){const a=A5(r.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)})),new Ds(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e,n,r,i,a,o,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=c}static newInvalidDocument(e){return new Rr(e,0,xt.min(),xt.min(),xt.min(),ds.empty(),0)}static newFoundDocument(e,n,r,i){return new Rr(e,1,n,xt.min(),r,i,0)}static newNoDocument(e,n){return new Rr(e,2,n,xt.min(),xt.min(),ds.empty(),0)}static newUnknownDocument(e,n){return new Rr(e,3,n,xt.min(),xt.min(),ds.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ds.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ds.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Rr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e,n){this.position=e,this.inclusive=n}}function VT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?r=st.comparator(st.fromName(o.referenceValue),n.key):r=Kd(o,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function UT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ja(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,n="asc"){this.field=e,this.dir=n}}function $te(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{}class Qn extends I5{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Hte(e,n,r):n==="array-contains"?new Gte(e,r):n==="in"?new Qte(e,r):n==="not-in"?new Yte(e,r):n==="array-contains-any"?new Jte(e,r):new Qn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Wte(e,r):new Kte(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Kd(n,this.value)):n!==null&&Ol(this.value)===Ol(n)&&this.matchesComparison(Kd(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return lt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ki extends I5{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ki(e,n)}matches(e){return R5(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function R5(t){return t.op==="and"}function P5(t){return qte(t)&&R5(t)}function qte(t){for(const e of t.filters)if(e instanceof ki)return!1;return!0}function x1(t){if(t instanceof Qn)return t.field.canonicalString()+t.op.toString()+Gd(t.value);if(P5(t))return t.filters.map((e=>x1(e))).join(",");{const e=t.filters.map((n=>x1(n))).join(",");return`${t.op}(${e})`}}function D5(t,e){return t instanceof Qn?(function(r,i){return i instanceof Qn&&r.op===i.op&&r.field.isEqual(i.field)&&ja(r.value,i.value)})(t,e):t instanceof ki?(function(r,i){return i instanceof ki&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,o,c)=>a&&D5(o,i.filters[c])),!0):!1})(t,e):void lt(19439)}function M5(t){return t instanceof Qn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Gd(n.value)}`})(t):t instanceof ki?(function(n){return n.op.toString()+" {"+n.getFilters().map(M5).join(" ,")+"}"})(t):"Filter"}class Hte extends Qn{constructor(e,n,r){super(e,n,r),this.key=st.fromName(r.referenceValue)}matches(e){const n=st.comparator(e.key,this.key);return this.matchesComparison(n)}}class Wte extends Qn{constructor(e,n){super(e,"in",n),this.keys=O5("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Kte extends Qn{constructor(e,n){super(e,"not-in",n),this.keys=O5("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function O5(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>st.fromName(r.referenceValue)))}class Gte extends Qn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return QN(n)&&wf(n.arrayValue,this.value)}}class Qte extends Qn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&wf(this.value.arrayValue,n)}}class Yte extends Qn{constructor(e,n){super(e,"not-in",n)}matches(e){if(wf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!wf(this.value.arrayValue,n)}}class Jte extends Qn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!QN(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>wf(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xte{constructor(e,n=null,r=[],i=[],a=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=c,this.Te=null}}function zT(t,e=null,n=[],r=[],i=null,a=null,o=null){return new Xte(t,e,n,r,i,a,o)}function YN(t){const e=bt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>x1(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Wy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Gd(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Gd(r))).join(",")),e.Te=n}return e.Te}function JN(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!$te(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!D5(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!UT(t.startAt,e.startAt)&&UT(t.endAt,e.endAt)}function y1(t){return st.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n=null,r=[],i=[],a=null,o="F",c=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=c,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Zte(t,e,n,r,i,a,o,c){return new vh(t,e,n,r,i,a,o,c)}function XN(t){return new vh(t)}function BT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function L5(t){return t.collectionGroup!==null}function Hm(t){const e=bt(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new rr(vr.comparator);return o.filters.forEach((d=>{d.getFlattenedFilters().forEach((h=>{h.isInequality()&&(c=c.add(h.field))}))})),c})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new jf(a,r))})),n.has(vr.keyField().canonicalString())||e.Ie.push(new jf(vr.keyField(),r))}return e.Ie}function fa(t){const e=bt(t);return e.Ee||(e.Ee=ene(e,Hm(t))),e.Ee}function ene(t,e){if(t.limitType==="F")return zT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new jf(i.field,a)}));const n=t.endAt?new Gx(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Gx(t.startAt.position,t.startAt.inclusive):null;return zT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function v1(t,e){const n=t.filters.concat([e]);return new vh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function b1(t,e,n){return new vh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Gy(t,e){return JN(fa(t),fa(e))&&t.limitType===e.limitType}function F5(t){return`${YN(fa(t))}|lt:${t.limitType}`}function ad(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>M5(i))).join(", ")}]`),Wy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Gd(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Gd(i))).join(",")),`Target(${r})`})(fa(t))}; limitType=${t.limitType})`}function Qy(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):st.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of Hm(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(o,c,d){const h=VT(o,c,d);return o.inclusive?h<=0:h<0})(r.startAt,Hm(r),i)||r.endAt&&!(function(o,c,d){const h=VT(o,c,d);return o.inclusive?h>=0:h>0})(r.endAt,Hm(r),i))})(t,e)}function tne(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function V5(t){return(e,n)=>{let r=!1;for(const i of Hm(t)){const a=nne(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function nne(t,e,n){const r=t.field.isKeyField()?st.comparator(e.key,n.key):(function(a,o,c){const d=o.data.field(a),h=c.data.field(a);return d!==null&&h!==null?Kd(d,h):lt(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return lt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Wl(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return j5(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rne=new Cn(st.comparator);function bo(){return rne}const U5=new Cn(st.comparator);function Am(...t){let e=U5;for(const n of t)e=e.insert(n.key,n);return e}function z5(t){let e=U5;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function kc(){return Wm()}function B5(){return Wm()}function Wm(){return new hu((t=>t.toString()),((t,e)=>t.isEqual(e)))}const sne=new Cn(st.comparator),ine=new rr(st.comparator);function Dt(...t){let e=ine;for(const n of t)e=e.add(n);return e}const ane=new rr(Pt);function one(){return ane}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hx(e)?"-0":e}}function $5(t){return{integerValue:""+t}}function lne(t,e){return Mte(e)?$5(e):ZN(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(){this._=void 0}}function cne(t,e,n){return t instanceof Qx?(function(i,a){const o={fields:{[S5]:{stringValue:_5},[C5]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&GN(a)&&(a=Ky(a)),a&&(o.fields[E5]=a),{mapValue:o}})(n,e):t instanceof Nf?H5(t,e):t instanceof _f?W5(t,e):(function(i,a){const o=q5(i,a),c=$T(o)+$T(i.Ae);return g1(o)&&g1(i.Ae)?$5(c):ZN(i.serializer,c)})(t,e)}function une(t,e,n){return t instanceof Nf?H5(t,e):t instanceof _f?W5(t,e):n}function q5(t,e){return t instanceof Yx?(function(r){return g1(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Qx extends Yy{}class Nf extends Yy{constructor(e){super(),this.elements=e}}function H5(t,e){const n=K5(e);for(const r of t.elements)n.some((i=>ja(i,r)))||n.push(r);return{arrayValue:{values:n}}}class _f extends Yy{constructor(e){super(),this.elements=e}}function W5(t,e){let n=K5(e);for(const r of t.elements)n=n.filter((i=>!ja(i,r)));return{arrayValue:{values:n}}}class Yx extends Yy{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function $T(t){return Vn(t.integerValue||t.doubleValue)}function K5(t){return QN(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function dne(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Nf&&i instanceof Nf||r instanceof _f&&i instanceof _f?Wd(r.elements,i.elements,ja):r instanceof Yx&&i instanceof Yx?ja(r.Ae,i.Ae):r instanceof Qx&&i instanceof Qx})(t.transform,e.transform)}class hne{constructor(e,n){this.version=e,this.transformResults=n}}class ii{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ii}static exists(e){return new ii(void 0,e)}static updateTime(e){return new ii(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ox(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}let Jy=class{};function G5(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new e_(t.key,ii.none()):new Zf(t.key,t.data,ii.none());{const n=t.data,r=ds.empty();let i=new rr(vr.comparator);for(let a of e.fields)if(!i.has(a)){let o=n.field(a);o===null&&a.length>1&&(a=a.popLast(),o=n.field(a)),o===null?r.delete(a):r.set(a,o),i=i.add(a)}return new Kl(t.key,r,new Ds(i.toArray()),ii.none())}}function mne(t,e,n){t instanceof Zf?(function(i,a,o){const c=i.value.clone(),d=HT(i.fieldTransforms,a,o.transformResults);c.setAll(d),a.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(t,e,n):t instanceof Kl?(function(i,a,o){if(!ox(i.precondition,a))return void a.convertToUnknownDocument(o.version);const c=HT(i.fieldTransforms,a,o.transformResults),d=a.data;d.setAll(Q5(i)),d.setAll(c),a.convertToFoundDocument(o.version,d).setHasCommittedMutations()})(t,e,n):(function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function Km(t,e,n,r){return t instanceof Zf?(function(a,o,c,d){if(!ox(a.precondition,o))return c;const h=a.value.clone(),m=WT(a.fieldTransforms,d,o);return h.setAll(m),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof Kl?(function(a,o,c,d){if(!ox(a.precondition,o))return c;const h=WT(a.fieldTransforms,d,o),m=o.data;return m.setAll(Q5(a)),m.setAll(h),o.convertToFoundDocument(o.version,m).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((f=>f.field)))})(t,e,n,r):(function(a,o,c){return ox(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c})(t,e,n)}function fne(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=q5(r.transform,i||null);a!=null&&(n===null&&(n=ds.empty()),n.set(r.field,a))}return n||null}function qT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Wd(r,i,((a,o)=>dne(a,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Zf extends Jy{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Kl extends Jy{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Q5(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function HT(t,e,n){const r=new Map;Jt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],o=a.transform,c=e.data.field(a.field);r.set(a.field,une(o,c,n[i]))}return r}function WT(t,e,n){const r=new Map;for(const i of t){const a=i.transform,o=n.data.field(i.field);r.set(i.field,cne(a,o,e))}return r}class e_ extends Jy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pne extends Jy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gne{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&mne(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Km(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Km(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=B5();return this.mutations.forEach((i=>{const a=e.get(i.key),o=a.overlayedDocument;let c=this.applyToLocalView(o,a.mutatedFields);c=n.has(i.key)?null:c;const d=G5(o,c);d!==null&&r.set(i.key,d),o.isValidDocument()||o.convertToNoDocument(xt.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Dt())}isEqual(e){return this.batchId===e.batchId&&Wd(this.mutations,e.mutations,((n,r)=>qT(n,r)))&&Wd(this.baseMutations,e.baseMutations,((n,r)=>qT(n,r)))}}class t_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Jt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return sne})();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new t_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xne=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yne{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wn,Ft;function vne(t){switch(t){case xe.OK:return lt(64938);case xe.CANCELLED:case xe.UNKNOWN:case xe.DEADLINE_EXCEEDED:case xe.RESOURCE_EXHAUSTED:case xe.INTERNAL:case xe.UNAVAILABLE:case xe.UNAUTHENTICATED:return!1;case xe.INVALID_ARGUMENT:case xe.NOT_FOUND:case xe.ALREADY_EXISTS:case xe.PERMISSION_DENIED:case xe.FAILED_PRECONDITION:case xe.ABORTED:case xe.OUT_OF_RANGE:case xe.UNIMPLEMENTED:case xe.DATA_LOSS:return!0;default:return lt(15467,{code:t})}}function Y5(t){if(t===void 0)return vo("GRPC error has no .code"),xe.UNKNOWN;switch(t){case Wn.OK:return xe.OK;case Wn.CANCELLED:return xe.CANCELLED;case Wn.UNKNOWN:return xe.UNKNOWN;case Wn.DEADLINE_EXCEEDED:return xe.DEADLINE_EXCEEDED;case Wn.RESOURCE_EXHAUSTED:return xe.RESOURCE_EXHAUSTED;case Wn.INTERNAL:return xe.INTERNAL;case Wn.UNAVAILABLE:return xe.UNAVAILABLE;case Wn.UNAUTHENTICATED:return xe.UNAUTHENTICATED;case Wn.INVALID_ARGUMENT:return xe.INVALID_ARGUMENT;case Wn.NOT_FOUND:return xe.NOT_FOUND;case Wn.ALREADY_EXISTS:return xe.ALREADY_EXISTS;case Wn.PERMISSION_DENIED:return xe.PERMISSION_DENIED;case Wn.FAILED_PRECONDITION:return xe.FAILED_PRECONDITION;case Wn.ABORTED:return xe.ABORTED;case Wn.OUT_OF_RANGE:return xe.OUT_OF_RANGE;case Wn.UNIMPLEMENTED:return xe.UNIMPLEMENTED;case Wn.DATA_LOSS:return xe.DATA_LOSS;default:return lt(39323,{code:t})}}(Ft=Wn||(Wn={}))[Ft.OK=0]="OK",Ft[Ft.CANCELLED=1]="CANCELLED",Ft[Ft.UNKNOWN=2]="UNKNOWN",Ft[Ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ft[Ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ft[Ft.NOT_FOUND=5]="NOT_FOUND",Ft[Ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ft[Ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ft[Ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ft[Ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ft[Ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ft[Ft.ABORTED=10]="ABORTED",Ft[Ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ft[Ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ft[Ft.INTERNAL=13]="INTERNAL",Ft[Ft.UNAVAILABLE=14]="UNAVAILABLE",Ft[Ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bne(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wne=new wl([4294967295,4294967295],0);function KT(t){const e=bne().encode(t),n=new h5;return n.update(e),new Uint8Array(n.digest())}function GT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new wl([n,r],0),new wl([i,a],0)]}class n_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Im(`Invalid padding: ${n}`);if(r<0)throw new Im(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Im(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Im(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=wl.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(wl.fromNumber(r)));return i.compare(wne)===1&&(i=new wl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=KT(e),[r,i]=GT(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new n_(a,i,n);return r.forEach((c=>o.insert(c))),o}insert(e){if(this.ge===0)return;const n=KT(e),[r,i]=GT(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Im extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ep.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Xy(xt.min(),i,new Cn(Pt),bo(),Dt())}}class ep{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ep(r,n,Dt(),Dt(),Dt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class J5{constructor(e,n){this.targetId=e,this.Ce=n}}class X5{constructor(e,n,r=wr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class QT{constructor(){this.ve=0,this.Fe=YT(),this.Me=wr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Dt(),n=Dt(),r=Dt();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:lt(38017,{changeType:a})}})),new ep(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=YT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Jt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class jne{constructor(e){this.Ge=e,this.ze=new Map,this.je=bo(),this.Je=Pg(),this.He=Pg(),this.Ye=new Cn(Pt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:lt(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(y1(a))if(r===0){const o=new st(a.path);this.et(n,o,Rr.newNoDocument(o,xt.min()))}else Jt(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const c=this.ut(e),d=c?this.ct(c,e,o):1;if(d!==0){this.it(n);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let o,c;try{o=Ml(r).toUint8Array()}catch(d){if(d instanceof N5)return xf("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new n_(o,i,a)}catch(d){return xf(d instanceof Im?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const o=this.Ge.ht(),c=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,o)=>{const c=this.ot(o);if(c){if(a.current&&y1(c.target)){const d=new st(c.target.path);this.It(d).has(o)||this.Et(o,d)||this.et(o,d,Rr.newNoDocument(d,e))}a.Be&&(n.set(o,a.ke()),a.qe())}}));let r=Dt();this.He.forEach(((a,o)=>{let c=!0;o.forEachWhile((d=>{const h=this.ot(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(a))})),this.je.forEach(((a,o)=>o.setReadTime(e)));const i=new Xy(e,n,this.Ye,this.je,r);return this.je=bo(),this.Je=Pg(),this.He=Pg(),this.Ye=new Cn(Pt),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new QT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new rr(Pt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new rr(Pt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Be("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new QT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Pg(){return new Cn(st.comparator)}function YT(){return new Cn(st.comparator)}const Nne={asc:"ASCENDING",desc:"DESCENDING"},_ne={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Sne={and:"AND",or:"OR"};class Ene{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function w1(t,e){return t.useProto3Json||Wy(e)?e:{value:e}}function Jx(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Z5(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Cne(t,e){return Jx(t,e.toTimestamp())}function pa(t){return Jt(!!t,49232),xt.fromTimestamp((function(n){const r=Dl(n);return new pn(r.seconds,r.nanos)})(t))}function r_(t,e){return j1(t,e).canonicalString()}function j1(t,e){const n=(function(i){return new cn(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function e6(t){const e=cn.fromString(t);return Jt(i6(e),10190,{key:e.toString()}),e}function N1(t,e){return r_(t.databaseId,e.path)}function Lb(t,e){const n=e6(e);if(n.get(1)!==t.databaseId.projectId)throw new Oe(xe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Oe(xe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new st(n6(n))}function t6(t,e){return r_(t.databaseId,e)}function kne(t){const e=e6(t);return e.length===4?cn.emptyPath():n6(e)}function _1(t){return new cn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function n6(t){return Jt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function JT(t,e,n){return{name:N1(t,e),fields:n.value.mapValue.fields}}function Tne(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:lt(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(h,m){return h.useProto3Json?(Jt(m===void 0||typeof m=="string",58123),wr.fromBase64String(m||"")):(Jt(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),wr.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&(function(h){const m=h.code===void 0?xe.UNKNOWN:Y5(h.code);return new Oe(m,h.message||"")})(o);n=new X5(r,i,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Lb(t,r.document.name),a=pa(r.document.updateTime),o=r.document.createTime?pa(r.document.createTime):xt.min(),c=new ds({mapValue:{fields:r.document.fields}}),d=Rr.newFoundDocument(i,a,o,c),h=r.targetIds||[],m=r.removedTargetIds||[];n=new lx(h,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Lb(t,r.document),a=r.readTime?pa(r.readTime):xt.min(),o=Rr.newNoDocument(i,a),c=r.removedTargetIds||[];n=new lx([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Lb(t,r.document),a=r.removedTargetIds||[];n=new lx([],a,i,null)}else{if(!("filter"in e))return lt(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,o=new yne(i,a),c=r.targetId;n=new J5(c,o)}}return n}function Ane(t,e){let n;if(e instanceof Zf)n={update:JT(t,e.key,e.value)};else if(e instanceof e_)n={delete:N1(t,e.key)};else if(e instanceof Kl)n={update:JT(t,e.key,e.data),updateMask:Vne(e.fieldMask)};else{if(!(e instanceof pne))return lt(16599,{Vt:e.type});n={verify:N1(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,o){const c=o.transform;if(c instanceof Qx)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Nf)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof _f)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Yx)return{fieldPath:o.field.canonicalString(),increment:c.Ae};throw lt(20930,{transform:o.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:Cne(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:lt(27497)})(t,e.precondition)),n}function Ine(t,e){return t&&t.length>0?(Jt(e!==void 0,14353),t.map((n=>(function(i,a){let o=i.updateTime?pa(i.updateTime):pa(a);return o.isEqual(xt.min())&&(o=pa(a)),new hne(o,i.transformResults||[])})(n,e)))):[]}function Rne(t,e){return{documents:[t6(t,e.path)]}}function Pne(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=t6(t,i);const a=(function(h){if(h.length!==0)return s6(ki.create(h,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const o=(function(h){if(h.length!==0)return h.map((m=>(function(g){return{field:od(g.field),direction:One(g.dir)}})(m)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const c=w1(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:i}}function Dne(t){let e=kne(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Jt(r===1,65062);const m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let a=[];n.where&&(a=(function(f){const g=r6(f);return g instanceof ki&&P5(g)?g.getFilters():[g]})(n.where));let o=[];n.orderBy&&(o=(function(f){return f.map((g=>(function(_){return new jf(ld(_.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(_.direction))})(g)))})(n.orderBy));let c=null;n.limit&&(c=(function(f){let g;return g=typeof f=="object"?f.value:f,Wy(g)?null:g})(n.limit));let d=null;n.startAt&&(d=(function(f){const g=!!f.before,x=f.values||[];return new Gx(x,g)})(n.startAt));let h=null;return n.endAt&&(h=(function(f){const g=!f.before,x=f.values||[];return new Gx(x,g)})(n.endAt)),Zte(e,i,o,a,c,"F",d,h)}function Mne(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return lt(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function r6(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ld(n.unaryFilter.field);return Qn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ld(n.unaryFilter.field);return Qn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ld(n.unaryFilter.field);return Qn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ld(n.unaryFilter.field);return Qn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return lt(61313);default:return lt(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Qn.create(ld(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return lt(58110);default:return lt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ki.create(n.compositeFilter.filters.map((r=>r6(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return lt(1026)}})(n.compositeFilter.op))})(t):lt(30097,{filter:t})}function One(t){return Nne[t]}function Lne(t){return _ne[t]}function Fne(t){return Sne[t]}function od(t){return{fieldPath:t.canonicalString()}}function ld(t){return vr.fromServerFormat(t.fieldPath)}function s6(t){return t instanceof Qn?(function(n){if(n.op==="=="){if(FT(n.value))return{unaryFilter:{field:od(n.field),op:"IS_NAN"}};if(LT(n.value))return{unaryFilter:{field:od(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(FT(n.value))return{unaryFilter:{field:od(n.field),op:"IS_NOT_NAN"}};if(LT(n.value))return{unaryFilter:{field:od(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:od(n.field),op:Lne(n.op),value:n.value}}})(t):t instanceof ki?(function(n){const r=n.getFilters().map((i=>s6(i)));return r.length===1?r[0]:{compositeFilter:{op:Fne(n.op),filters:r}}})(t):lt(54877,{filter:t})}function Vne(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function i6(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,n,r,i,a=xt.min(),o=xt.min(),c=wr.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new yl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new yl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Une{constructor(e){this.yt=e}}function zne(t){const e=Dne({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?b1(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bne{constructor(){this.Cn=new $ne}addToCollectionParentIndex(e,n){return this.Cn.add(n),ve.resolve()}getCollectionParents(e,n){return ve.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ve.resolve()}deleteFieldIndex(e,n){return ve.resolve()}deleteAllFieldIndexes(e){return ve.resolve()}createTargetIndexes(e,n){return ve.resolve()}getDocumentsMatchingTarget(e,n){return ve.resolve(null)}getIndexType(e,n){return ve.resolve(0)}getFieldIndexes(e,n){return ve.resolve([])}getNextCollectionGroupToUpdate(e){return ve.resolve(null)}getMinOffset(e,n){return ve.resolve(Pl.min())}getMinOffsetFromCollectionGroup(e,n){return ve.resolve(Pl.min())}updateCollectionGroup(e,n,r){return ve.resolve()}updateIndexEntries(e,n){return ve.resolve()}}class $ne{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new rr(cn.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new rr(cn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},a6=41943040;class us{static withCacheSize(e){return new us(e,us.DEFAULT_COLLECTION_PERCENTILE,us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */us.DEFAULT_COLLECTION_PERCENTILE=10,us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,us.DEFAULT=new us(a6,us.DEFAULT_COLLECTION_PERCENTILE,us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),us.DISABLED=new us(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Qd(0)}static cr(){return new Qd(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT="LruGarbageCollector",o6=1048576;function eA([t,e],[n,r]){const i=Pt(t,n);return i===0?Pt(e,r):i}class qne{constructor(e){this.Ir=e,this.buffer=new rr(eA),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();eA(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Hne{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Be(ZT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){yh(n)?Be(ZT,"Ignoring IndexedDB error during garbage collection: ",n):await xh(n)}await this.Vr(3e5)}))}}class Wne{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ve.resolve(Hy.ce);const r=new qne(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Be("LruGarbageCollector","Garbage collection skipped; disabled"),ve.resolve(XT)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Be("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),XT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,o,c,d,h;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((f=>(f>this.params.maximumSequenceNumbersToCollect?(Be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i)))).next((f=>(r=f,c=Date.now(),this.removeTargets(e,r,n)))).next((f=>(a=f,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((f=>(h=Date.now(),id()<=Rt.DEBUG&&Be("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-m}ms
	Determined least recently used ${i} in `+(c-o)+`ms
	Removed ${a} targets in `+(d-c)+`ms
	Removed ${f} documents in `+(h-d)+`ms
Total Duration: ${h-m}ms`),ve.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:f}))))}}function Kne(t,e){return new Wne(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gne{constructor(){this.changes=new hu((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Rr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ve.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qne{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yne{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Km(r.mutation,i,Ds.empty(),pn.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Dt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Dt()){const i=kc();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let o=Am();return a.forEach(((c,d)=>{o=o.insert(c,d.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const r=kc();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Dt())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((o,c)=>{n.set(o,c)}))}))}computeViews(e,n,r,i){let a=bo();const o=Wm(),c=(function(){return Wm()})();return n.forEach(((d,h)=>{const m=r.get(h.key);i.has(h.key)&&(m===void 0||m.mutation instanceof Kl)?a=a.insert(h.key,h):m!==void 0?(o.set(h.key,m.mutation.getFieldMask()),Km(m.mutation,h,m.mutation.getFieldMask(),pn.now())):o.set(h.key,Ds.empty())})),this.recalculateAndSaveOverlays(e,a).next((d=>(d.forEach(((h,m)=>o.set(h,m))),n.forEach(((h,m)=>c.set(h,new Qne(m,o.get(h)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=Wm();let i=new Cn(((o,c)=>o-c)),a=Dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const c of o)c.keys().forEach((d=>{const h=n.get(d);if(h===null)return;let m=r.get(d)||Ds.empty();m=c.applyToLocalView(h,m),r.set(d,m);const f=(i.get(c.batchId)||Dt()).add(d);i=i.insert(c.batchId,f)}))})).next((()=>{const o=[],c=i.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),h=d.key,m=d.value,f=B5();m.forEach((g=>{if(!a.has(g)){const x=G5(n.get(g),r.get(g));x!==null&&f.set(g,x),a=a.add(g)}})),o.push(this.documentOverlayCache.saveOverlays(e,h,f))}return ve.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(o){return st.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):L5(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):ve.resolve(kc());let c=yf,d=a;return o.next((h=>ve.forEach(h,((m,f)=>(c<f.largestBatchId&&(c=f.largestBatchId),a.get(m)?ve.resolve():this.remoteDocumentCache.getEntry(e,m).next((g=>{d=d.insert(m,g)}))))).next((()=>this.populateOverlays(e,h,a))).next((()=>this.computeViews(e,d,h,Dt()))).next((m=>({batchId:c,changes:z5(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new st(n)).next((r=>{let i=Am();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let o=Am();return this.indexManager.getCollectionParents(e,a).next((c=>ve.forEach(c,(d=>{const h=(function(f,g){return new vh(g,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)})(n,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next((m=>{m.forEach(((f,g)=>{o=o.insert(f,g)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((o=>{a.forEach(((d,h)=>{const m=h.getKey();o.get(m)===null&&(o=o.insert(m,Rr.newInvalidDocument(m)))}));let c=Am();return o.forEach(((d,h)=>{const m=a.get(d);m!==void 0&&Km(m.mutation,h,Ds.empty(),pn.now()),Qy(n,h)&&(c=c.insert(d,h))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jne{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ve.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:pa(i.createTime)}})(n)),ve.resolve()}getNamedQuery(e,n){return ve.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:zne(i.bundledQuery),readTime:pa(i.readTime)}})(n)),ve.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xne{constructor(){this.overlays=new Cn(st.comparator),this.qr=new Map}getOverlay(e,n){return ve.resolve(this.overlays.get(n))}getOverlays(e,n){const r=kc();return ve.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.St(e,n,a)})),ve.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),ve.resolve()}getOverlaysForCollection(e,n,r){const i=kc(),a=n.length+1,o=new st(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const d=c.getNext().value,h=d.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===a&&d.largestBatchId>r&&i.set(d.getKey(),d)}return ve.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new Cn(((h,m)=>h-m));const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let m=a.get(h.largestBatchId);m===null&&(m=kc(),a=a.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}const c=kc(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((h,m)=>c.set(h,m))),!(c.size()>=i)););return ve.resolve(c)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new xne(n,r));let a=this.qr.get(n);a===void 0&&(a=Dt(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zne{constructor(){this.sessionToken=wr.EMPTY_BYTE_STRING}getSessionToken(e){return ve.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ve.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(){this.Qr=new rr(dr.$r),this.Ur=new rr(dr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new dr(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new dr(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new st(new cn([])),r=new dr(n,e),i=new dr(n,e+1),a=[];return this.Ur.forEachInRange([r,i],(o=>{this.Gr(o),a.push(o.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new st(new cn([])),r=new dr(n,e),i=new dr(n,e+1);let a=Dt();return this.Ur.forEachInRange([r,i],(o=>{a=a.add(o.key)})),a}containsKey(e){const n=new dr(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class dr{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return st.comparator(e.key,n.key)||Pt(e.Yr,n.Yr)}static Kr(e,n){return Pt(e.Yr,n.Yr)||st.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ere{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new rr(dr.$r)}checkEmpty(e){return ve.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new gne(a,n,r,i);this.mutationQueue.push(o);for(const c of i)this.Zr=this.Zr.add(new dr(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return ve.resolve(o)}lookupMutationBatch(e,n){return ve.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return ve.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ve.resolve(this.mutationQueue.length===0?KN:this.tr-1)}getAllMutationBatches(e){return ve.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new dr(n,0),i=new dr(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(o=>{const c=this.Xr(o.Yr);a.push(c)})),ve.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new rr(Pt);return n.forEach((i=>{const a=new dr(i,0),o=new dr(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,o],(c=>{r=r.add(c.Yr)}))})),ve.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;st.isDocumentKey(a)||(a=a.child(""));const o=new dr(new st(a),0);let c=new rr(Pt);return this.Zr.forEachWhile((d=>{const h=d.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(c=c.add(d.Yr)),!0)}),o),ve.resolve(this.ti(c))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Jt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ve.forEach(n.mutations,(i=>{const a=new dr(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new dr(n,0),i=this.Zr.firstAfterOrEqual(r);return ve.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ve.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tre{constructor(e){this.ri=e,this.docs=(function(){return new Cn(st.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ve.resolve(r?r.document.mutableCopy():Rr.newInvalidDocument(n))}getEntries(e,n){let r=bo();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Rr.newInvalidDocument(i))})),ve.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=bo();const o=n.path,c=new st(o.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:h,value:{document:m}}=d.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||Ite(Ate(m),r)<=0||(i.has(m.key)||Qy(n,m))&&(a=a.insert(m.key,m.mutableCopy()))}return ve.resolve(a)}getAllFromCollectionGroup(e,n,r,i){lt(9500)}ii(e,n){return ve.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new nre(this)}getSize(e){return ve.resolve(this.size)}}class nre extends Gne{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),ve.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rre{constructor(e){this.persistence=e,this.si=new hu((n=>YN(n)),JN),this.lastRemoteSnapshotVersion=xt.min(),this.highestTargetId=0,this.oi=0,this._i=new s_,this.targetCount=0,this.ai=Qd.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),ve.resolve()}getLastRemoteSnapshotVersion(e){return ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ve.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ve.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ve.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Qd(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ve.resolve()}updateTargetData(e,n){return this.Pr(n),ve.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ve.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach(((o,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(o),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),ve.waitFor(a).next((()=>i))}getTargetCount(e){return ve.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ve.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ve.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((o=>{a.push(i.markPotentiallyOrphaned(e,o))})),ve.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ve.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ve.resolve(r)}containsKey(e,n){return ve.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(e,n){this.ui={},this.overlays={},this.ci=new Hy(0),this.li=!1,this.li=!0,this.hi=new Zne,this.referenceDelegate=e(this),this.Pi=new rre(this),this.indexManager=new Bne,this.remoteDocumentCache=(function(i){return new tre(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Une(n),this.Ii=new Jne(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Xne,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new ere(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Be("MemoryPersistence","Starting transaction:",e);const i=new sre(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,n){return ve.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class sre extends Pte{constructor(e){super(),this.currentSequenceNumber=e}}class i_{constructor(e){this.persistence=e,this.Ri=new s_,this.Vi=null}static mi(e){return new i_(e)}get fi(){if(this.Vi)return this.Vi;throw lt(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ve.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ve.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ve.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ve.forEach(this.fi,(r=>{const i=st.fromPath(r);return this.gi(e,i).next((a=>{a||n.removeEntry(i,xt.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ve.or([()=>ve.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Xx{constructor(e,n){this.persistence=e,this.pi=new hu((r=>Ote(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=Kne(this,n)}static mi(e,n){return new Xx(e,n)}Ei(){}di(e){return ve.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ve.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?ve.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(o=>this.br(e,o,n).next((c=>{c||(r++,a.removeEntry(o,xt.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ve.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ve.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ve.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ve.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ix(e.data.value)),n}br(e,n,r){return ve.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return ve.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Dt(),i=Dt();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new a_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ire{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class are{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return DJ()?8:Dte(Mr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next((o=>{a.result=o})).next((()=>{if(!a.result)return this.ws(e,n,i,r).next((o=>{a.result=o}))})).next((()=>{if(a.result)return;const o=new ire;return this.Ss(e,n,o).next((c=>{if(a.result=c,this.Vs)return this.bs(e,n,o,c.size)}))})).next((()=>a.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(id()<=Rt.DEBUG&&Be("QueryEngine","SDK will not create cache indexes for query:",ad(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ve.resolve()):(id()<=Rt.DEBUG&&Be("QueryEngine","Query:",ad(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(id()<=Rt.DEBUG&&Be("QueryEngine","The SDK decides to create cache indexes for query:",ad(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fa(n))):ve.resolve())}ys(e,n){if(BT(n))return ve.resolve(null);let r=fa(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=b1(n,null,"F"),r=fa(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const o=Dt(...a);return this.ps.getDocuments(e,o).next((c=>this.indexManager.getMinOffset(e,r).next((d=>{const h=this.Ds(n,c);return this.Cs(n,h,o,d.readTime)?this.ys(e,b1(n,null,"F")):this.vs(e,h,n,d)}))))})))))}ws(e,n,r,i){return BT(n)||i.isEqual(xt.min())?ve.resolve(null):this.ps.getDocuments(e,r).next((a=>{const o=this.Ds(n,a);return this.Cs(n,o,r,i)?ve.resolve(null):(id()<=Rt.DEBUG&&Be("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ad(n)),this.vs(e,o,n,Tte(i,yf)).next((c=>c)))}))}Ds(e,n){let r=new rr(V5(e));return n.forEach(((i,a)=>{Qy(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return id()<=Rt.DEBUG&&Be("QueryEngine","Using full collection scan to execute query:",ad(n)),this.ps.getDocumentsMatchingQuery(e,n,Pl.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((o=>{a=a.insert(o.key,o)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_="LocalStore",ore=3e8;class lre{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Cn(Pt),this.xs=new hu((a=>YN(a)),JN),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Yne(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function cre(t,e,n,r){return new lre(t,e,n,r)}async function c6(t,e){const n=bt(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const o=[],c=[];let d=Dt();for(const h of i){o.push(h.batchId);for(const m of h.mutations)d=d.add(m.key)}for(const h of a){c.push(h.batchId);for(const m of h.mutations)d=d.add(m.key)}return n.localDocuments.getDocuments(r,d).next((h=>({Ls:h,removedBatchIds:o,addedBatchIds:c})))}))}))}function ure(t,e){const n=bt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,d,h,m){const f=h.batch,g=f.keys();let x=ve.resolve();return g.forEach((_=>{x=x.next((()=>m.getEntry(d,_))).next((w=>{const j=h.docVersions.get(_);Jt(j!==null,48541),w.version.compareTo(j)<0&&(f.applyToRemoteDocument(w,h),w.isValidDocument()&&(w.setReadTime(h.commitVersion),m.addEntry(w)))}))})),x.next((()=>c.mutationQueue.removeMutationBatch(d,f)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let d=Dt();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(d=d.add(c.batch.mutations[h].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function u6(t){const e=bt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function dre(t,e){const n=bt(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const c=[];e.targetChanges.forEach(((m,f)=>{const g=i.get(f);if(!g)return;c.push(n.Pi.removeMatchingKeys(a,m.removedDocuments,f).next((()=>n.Pi.addMatchingKeys(a,m.addedDocuments,f))));let x=g.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(f)!==null?x=x.withResumeToken(wr.EMPTY_BYTE_STRING,xt.min()).withLastLimboFreeSnapshotVersion(xt.min()):m.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(m.resumeToken,r)),i=i.insert(f,x),(function(w,j,N){return w.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=ore?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0})(g,x,m)&&c.push(n.Pi.updateTargetData(a,x))}));let d=bo(),h=Dt();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(a,m))})),c.push(hre(a,o,e.documentUpdates).next((m=>{d=m.ks,h=m.qs}))),!r.isEqual(xt.min())){const m=n.Pi.getLastRemoteSnapshotVersion(a).next((f=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));c.push(m)}return ve.waitFor(c).next((()=>o.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,d,h))).next((()=>d))})).then((a=>(n.Ms=i,a)))}function hre(t,e,n){let r=Dt(),i=Dt();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let o=bo();return n.forEach(((c,d)=>{const h=a.get(c);d.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(c)),d.isNoDocument()&&d.version.isEqual(xt.min())?(e.removeEntry(c,d.readTime),o=o.insert(c,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),o=o.insert(c,d)):Be(o_,"Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",d.version)})),{ks:o,qs:i}}))}function mre(t,e){const n=bt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=KN),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function fre(t,e){const n=bt(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((a=>a?(i=a,ve.resolve(i)):n.Pi.allocateTargetId(r).next((o=>(i=new yl(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function S1(t,e,n){const r=bt(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!yh(o))throw o;Be(o_,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function tA(t,e,n){const r=bt(t);let i=xt.min(),a=Dt();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(d,h,m){const f=bt(d),g=f.xs.get(m);return g!==void 0?ve.resolve(f.Ms.get(g)):f.Pi.getTargetData(h,m)})(r,o,fa(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,c.targetId).next((d=>{a=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:xt.min(),n?a:Dt()))).next((c=>(pre(r,tne(e),c),{documents:c,Qs:a})))))}function pre(t,e,n){let r=t.Os.get(e)||xt.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class nA{constructor(){this.activeTargetIds=one()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gre{constructor(){this.Mo=new nA,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new nA,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xre{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA="ConnectivityMonitor";class sA{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Be(rA,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Be(rA,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dg=null;function E1(){return Dg===null?Dg=(function(){return 268435456+Math.round(2147483648*Math.random())})():Dg++,"0x"+Dg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb="RestConnection",yre={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vre{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Wx?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const o=E1(),c=this.zo(e,n.toUriEncodedString());Be(Fb,`Sending RPC '${e}' ${o}:`,c,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,i,a);const{host:h}=new URL(c),m=ql(h);return this.Jo(e,c,d,r,m).then((f=>(Be(Fb,`Received RPC '${e}' ${o}: `,f),f)),(f=>{throw xf(Fb,`RPC '${e}' ${o} failed with error: `,f,"url: ",c,"request:",r),f}))}Ho(e,n,r,i,a,o){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+gh})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,n){const r=yre[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bre{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir="WebChannelConnection";class wre extends vre{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const o=E1();return new Promise(((c,d)=>{const h=new m5;h.setWithCredentials(!0),h.listenOnce(f5.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case sx.NO_ERROR:const f=h.getResponseJson();Be(Ir,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),c(f);break;case sx.TIMEOUT:Be(Ir,`RPC '${e}' ${o} timed out`),d(new Oe(xe.DEADLINE_EXCEEDED,"Request time out"));break;case sx.HTTP_ERROR:const g=h.getStatus();if(Be(Ir,`RPC '${e}' ${o} failed with status:`,g,"response text:",h.getResponseText()),g>0){let x=h.getResponseJson();Array.isArray(x)&&(x=x[0]);const _=x==null?void 0:x.error;if(_&&_.status&&_.message){const w=(function(N){const E=N.toLowerCase().replace(/_/g,"-");return Object.values(xe).indexOf(E)>=0?E:xe.UNKNOWN})(_.status);d(new Oe(w,_.message))}else d(new Oe(xe.UNKNOWN,"Server responded with status "+h.getStatus()))}else d(new Oe(xe.UNAVAILABLE,"Connection failed."));break;default:lt(9055,{l_:e,streamId:o,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{Be(Ir,`RPC '${e}' ${o} completed.`)}}));const m=JSON.stringify(i);Be(Ir,`RPC '${e}' ${o} sending request:`,i),h.send(n,"POST",m,r,15)}))}T_(e,n,r){const i=E1(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=x5(),c=g5(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const m=a.join("");Be(Ir,`Creating RPC '${e}' stream ${i}: ${m}`,d);const f=o.createWebChannel(m,d);this.I_(f);let g=!1,x=!1;const _=new bre({Yo:j=>{x?Be(Ir,`Not sending because RPC '${e}' stream ${i} is closed:`,j):(g||(Be(Ir,`Opening RPC '${e}' stream ${i} transport.`),f.open(),g=!0),Be(Ir,`RPC '${e}' stream ${i} sending:`,j),f.send(j))},Zo:()=>f.close()}),w=(j,N,E)=>{j.listen(N,(k=>{try{E(k)}catch(C){setTimeout((()=>{throw C}),0)}}))};return w(f,Tm.EventType.OPEN,(()=>{x||(Be(Ir,`RPC '${e}' stream ${i} transport opened.`),_.o_())})),w(f,Tm.EventType.CLOSE,(()=>{x||(x=!0,Be(Ir,`RPC '${e}' stream ${i} transport closed`),_.a_(),this.E_(f))})),w(f,Tm.EventType.ERROR,(j=>{x||(x=!0,xf(Ir,`RPC '${e}' stream ${i} transport errored. Name:`,j.name,"Message:",j.message),_.a_(new Oe(xe.UNAVAILABLE,"The operation could not be completed")))})),w(f,Tm.EventType.MESSAGE,(j=>{var N;if(!x){const E=j.data[0];Jt(!!E,16349);const k=E,C=(k==null?void 0:k.error)||((N=k[0])==null?void 0:N.error);if(C){Be(Ir,`RPC '${e}' stream ${i} received error:`,C);const P=C.status;let F=(function(I){const M=Wn[I];if(M!==void 0)return Y5(M)})(P),D=C.message;F===void 0&&(F=xe.INTERNAL,D="Unknown error status: "+P+" with message "+C.message),x=!0,_.a_(new Oe(F,D)),f.close()}else Be(Ir,`RPC '${e}' stream ${i} received:`,E),_.u_(E)}})),w(c,p5.STAT_EVENT,(j=>{j.stat===m1.PROXY?Be(Ir,`RPC '${e}' stream ${i} detected buffering proxy`):j.stat===m1.NOPROXY&&Be(Ir,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{_.__()}),0),_}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Vb(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zy(t){return new Ene(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Be("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA="PersistentStream";class h6{constructor(e,n,r,i,a,o,c,d){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new d6(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===xe.RESOURCE_EXHAUSTED?(vo(n.toString()),vo("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===xe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Oe(xe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Be(iA,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Be(iA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class jre extends h6{constructor(e,n,r,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Tne(this.serializer,e),r=(function(a){if(!("targetChange"in a))return xt.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?xt.min():o.readTime?pa(o.readTime):xt.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=_1(this.serializer),n.addTarget=(function(a,o){let c;const d=o.target;if(c=y1(d)?{documents:Rne(a,d)}:{query:Pne(a,d).ft},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=Z5(a,o.resumeToken);const h=w1(a,o.expectedCount);h!==null&&(c.expectedCount=h)}else if(o.snapshotVersion.compareTo(xt.min())>0){c.readTime=Jx(a,o.snapshotVersion.toTimestamp());const h=w1(a,o.expectedCount);h!==null&&(c.expectedCount=h)}return c})(this.serializer,e);const r=Mne(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=_1(this.serializer),n.removeTarget=e,this.q_(n)}}class Nre extends h6{constructor(e,n,r,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Jt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Jt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Jt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Ine(e.writeResults,e.commitTime),r=pa(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=_1(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Ane(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _re{}class Sre extends _re{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Oe(xe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Go(e,j1(n,r),i,a,o))).catch((a=>{throw a.name==="FirebaseError"?(a.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Oe(xe.UNKNOWN,a.toString())}))}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Ho(e,j1(n,r),i,o,c,a))).catch((o=>{throw o.name==="FirebaseError"?(o.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Oe(xe.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Ere{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(vo(n),this.aa=!1):Be("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc="RemoteStore";class Cre{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{mu(this)&&(Be(Zc,"Restarting streams for network reachability change."),await(async function(d){const h=bt(d);h.Ea.add(4),await tp(h),h.Ra.set("Unknown"),h.Ea.delete(4),await e0(h)})(this))}))})),this.Ra=new Ere(r,i)}}async function e0(t){if(mu(t))for(const e of t.da)await e(!0)}async function tp(t){for(const e of t.da)await e(!1)}function m6(t,e){const n=bt(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),d_(n)?u_(n):bh(n).O_()&&c_(n,e))}function l_(t,e){const n=bt(t),r=bh(n);n.Ia.delete(e),r.O_()&&f6(n,e),n.Ia.size===0&&(r.O_()?r.L_():mu(n)&&n.Ra.set("Unknown"))}function c_(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}bh(t).Y_(e)}function f6(t,e){t.Va.Ue(e),bh(t).Z_(e)}function u_(t){t.Va=new jne({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),bh(t).start(),t.Ra.ua()}function d_(t){return mu(t)&&!bh(t).x_()&&t.Ia.size>0}function mu(t){return bt(t).Ea.size===0}function p6(t){t.Va=void 0}async function kre(t){t.Ra.set("Online")}async function Tre(t){t.Ia.forEach(((e,n)=>{c_(t,e)}))}async function Are(t,e){p6(t),d_(t)?(t.Ra.ha(e),u_(t)):t.Ra.set("Unknown")}async function Ire(t,e,n){if(t.Ra.set("Online"),e instanceof X5&&e.state===2&&e.cause)try{await(async function(i,a){const o=a.cause;for(const c of a.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,o),i.Ia.delete(c),i.Va.removeTarget(c))})(t,e)}catch(r){Be(Zc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Zx(t,r)}else if(e instanceof lx?t.Va.Ze(e):e instanceof J5?t.Va.st(e):t.Va.tt(e),!n.isEqual(xt.min()))try{const r=await u6(t.localStore);n.compareTo(r)>=0&&await(function(a,o){const c=a.Va.Tt(o);return c.targetChanges.forEach(((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const m=a.Ia.get(h);m&&a.Ia.set(h,m.withResumeToken(d.resumeToken,o))}})),c.targetMismatches.forEach(((d,h)=>{const m=a.Ia.get(d);if(!m)return;a.Ia.set(d,m.withResumeToken(wr.EMPTY_BYTE_STRING,m.snapshotVersion)),f6(a,d);const f=new yl(m.target,d,h,m.sequenceNumber);c_(a,f)})),a.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){Be(Zc,"Failed to raise snapshot:",r),await Zx(t,r)}}async function Zx(t,e,n){if(!yh(e))throw e;t.Ea.add(1),await tp(t),t.Ra.set("Offline"),n||(n=()=>u6(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Be(Zc,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await e0(t)}))}function g6(t,e){return e().catch((n=>Zx(t,n,e)))}async function t0(t){const e=bt(t),n=Ll(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:KN;for(;Rre(e);)try{const i=await mre(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,Pre(e,i)}catch(i){await Zx(e,i)}x6(e)&&y6(e)}function Rre(t){return mu(t)&&t.Ta.length<10}function Pre(t,e){t.Ta.push(e);const n=Ll(t);n.O_()&&n.X_&&n.ea(e.mutations)}function x6(t){return mu(t)&&!Ll(t).x_()&&t.Ta.length>0}function y6(t){Ll(t).start()}async function Dre(t){Ll(t).ra()}async function Mre(t){const e=Ll(t);for(const n of t.Ta)e.ea(n.mutations)}async function Ore(t,e,n){const r=t.Ta.shift(),i=t_.from(r,e,n);await g6(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await t0(t)}async function Lre(t,e){e&&Ll(t).X_&&await(async function(r,i){if((function(o){return vne(o)&&o!==xe.ABORTED})(i.code)){const a=r.Ta.shift();Ll(r).B_(),await g6(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await t0(r)}})(t,e),x6(t)&&y6(t)}async function aA(t,e){const n=bt(t);n.asyncQueue.verifyOperationInProgress(),Be(Zc,"RemoteStore received new credentials");const r=mu(n);n.Ea.add(3),await tp(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await e0(n)}async function Fre(t,e){const n=bt(t);e?(n.Ea.delete(2),await e0(n)):e||(n.Ea.add(2),await tp(n),n.Ra.set("Unknown"))}function bh(t){return t.ma||(t.ma=(function(n,r,i){const a=bt(n);return a.sa(),new jre(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:kre.bind(null,t),t_:Tre.bind(null,t),r_:Are.bind(null,t),H_:Ire.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),d_(t)?u_(t):t.Ra.set("Unknown")):(await t.ma.stop(),p6(t))}))),t.ma}function Ll(t){return t.fa||(t.fa=(function(n,r,i){const a=bt(n);return a.sa(),new Nre(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Dre.bind(null,t),r_:Lre.bind(null,t),ta:Mre.bind(null,t),na:Ore.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await t0(t)):(await t.fa.stop(),t.Ta.length>0&&(Be(Zc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new so,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const o=Date.now()+r,c=new h_(e,n,o,i,a);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Oe(xe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function m_(t,e){if(vo("AsyncQueue",`${e}: ${t}`),yh(t))return new Oe(xe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{static emptySet(e){return new Ed(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||st.comparator(n.key,r.key):(n,r)=>st.comparator(n.key,r.key),this.keyedMap=Am(),this.sortedSet=new Cn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ed)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ed;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(){this.ga=new Cn(st.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):lt(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Yd{constructor(e,n,r,i,a,o,c,d,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,a){const o=[];return n.forEach((c=>{o.push({type:0,doc:c})})),new Yd(e,n,Ed.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vre{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Ure{constructor(){this.queries=lA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=bt(n),a=i.queries;i.queries=lA(),a.forEach(((o,c)=>{for(const d of c.Sa)d.onError(r)}))})(this,new Oe(xe.ABORTED,"Firestore shutting down"))}}function lA(){return new hu((t=>F5(t)),Gy)}async function v6(t,e){const n=bt(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new Vre,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const c=m_(o,`Initialization of query '${ad(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&f_(n)}async function b6(t,e){const n=bt(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const o=a.Sa.indexOf(e);o>=0&&(a.Sa.splice(o,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function zre(t,e){const n=bt(t);let r=!1;for(const i of e){const a=i.query,o=n.queries.get(a);if(o){for(const c of o.Sa)c.Fa(i)&&(r=!0);o.wa=i}}r&&f_(n)}function Bre(t,e,n){const r=bt(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function f_(t){t.Ca.forEach((e=>{e.next()}))}var C1,cA;(cA=C1||(C1={})).Ma="default",cA.Cache="cache";class w6{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Yd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Yd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==C1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(e){this.key=e}}class N6{constructor(e){this.key=e}}class $re{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Dt(),this.mutatedKeys=Dt(),this.eu=V5(e),this.tu=new Ed(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new oA,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,o=i,c=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((m,f)=>{const g=i.get(m),x=Qy(this.query,f)?f:null,_=!!g&&this.mutatedKeys.has(g.key),w=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let j=!1;g&&x?g.data.isEqual(x.data)?_!==w&&(r.track({type:3,doc:x}),j=!0):this.su(g,x)||(r.track({type:2,doc:x}),j=!0,(d&&this.eu(x,d)>0||h&&this.eu(x,h)<0)&&(c=!0)):!g&&x?(r.track({type:0,doc:x}),j=!0):g&&!x&&(r.track({type:1,doc:g}),j=!0,(d||h)&&(c=!0)),j&&(x?(o=o.add(x),a=w?a.add(m):a.delete(m)):(o=o.delete(m),a=a.delete(m)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const m=this.query.limitType==="F"?o.last():o.first();o=o.delete(m.key),a=a.delete(m.key),r.track({type:1,doc:m})}return{tu:o,iu:r,Cs:c,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((m,f)=>(function(x,_){const w=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return lt(20277,{Rt:j})}};return w(x)-w(_)})(m.type,f.type)||this.eu(m.doc,f.doc))),this.ou(r),i=i??!1;const c=n&&!i?this._u():[],d=this.Xa.size===0&&this.current&&!i?1:0,h=d!==this.Za;return this.Za=d,o.length!==0||h?{snapshot:new Yd(this.query,e.tu,a,o,e.mutatedKeys,d===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new oA,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Dt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new N6(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new j6(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Dt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Yd.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const p_="SyncEngine";class qre{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Hre{constructor(e){this.key=e,this.hu=!1}}class Wre{constructor(e,n,r,i,a,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new hu((c=>F5(c)),Gy),this.Iu=new Map,this.Eu=new Set,this.du=new Cn(st.comparator),this.Au=new Map,this.Ru=new s_,this.Vu={},this.mu=new Map,this.fu=Qd.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Kre(t,e,n=!0){const r=T6(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await _6(r,e,n,!0),i}async function Gre(t,e){const n=T6(t);await _6(n,e,!0,!1)}async function _6(t,e,n,r){const i=await fre(t.localStore,fa(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,n);let c;return r&&(c=await Qre(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&m6(t.remoteStore,i),c}async function Qre(t,e,n,r,i){t.pu=(f,g,x)=>(async function(w,j,N,E){let k=j.view.ru(N);k.Cs&&(k=await tA(w.localStore,j.query,!1).then((({documents:D})=>j.view.ru(D,k))));const C=E&&E.targetChanges.get(j.targetId),P=E&&E.targetMismatches.get(j.targetId)!=null,F=j.view.applyChanges(k,w.isPrimaryClient,C,P);return dA(w,j.targetId,F.au),F.snapshot})(t,f,g,x);const a=await tA(t.localStore,e,!0),o=new $re(e,a.Qs),c=o.ru(a.documents),d=ep.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=o.applyChanges(c,t.isPrimaryClient,d);dA(t,n,h.au);const m=new qre(e,n,o);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function Yre(t,e,n){const r=bt(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((o=>!Gy(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await S1(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&l_(r.remoteStore,i.targetId),k1(r,i.targetId)})).catch(xh)):(k1(r,i.targetId),await S1(r.localStore,i.targetId,!0))}async function Jre(t,e){const n=bt(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),l_(n.remoteStore,r.targetId))}async function Xre(t,e,n){const r=ise(t);try{const i=await(function(o,c){const d=bt(o),h=pn.now(),m=c.reduce(((x,_)=>x.add(_.key)),Dt());let f,g;return d.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let _=bo(),w=Dt();return d.Ns.getEntries(x,m).next((j=>{_=j,_.forEach(((N,E)=>{E.isValidDocument()||(w=w.add(N))}))})).next((()=>d.localDocuments.getOverlayedDocuments(x,_))).next((j=>{f=j;const N=[];for(const E of c){const k=fne(E,f.get(E.key).overlayedDocument);k!=null&&N.push(new Kl(E.key,k,A5(k.value.mapValue),ii.exists(!0)))}return d.mutationQueue.addMutationBatch(x,h,N,c)})).next((j=>{g=j;const N=j.applyToLocalDocumentSet(f,w);return d.documentOverlayCache.saveOverlays(x,j.batchId,N)}))})).then((()=>({batchId:g.batchId,changes:z5(f)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(o,c,d){let h=o.Vu[o.currentUser.toKey()];h||(h=new Cn(Pt)),h=h.insert(c,d),o.Vu[o.currentUser.toKey()]=h})(r,i.batchId,n),await np(r,i.changes),await t0(r.remoteStore)}catch(i){const a=m_(i,"Failed to persist write");n.reject(a)}}async function S6(t,e){const n=bt(t);try{const r=await dre(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const o=n.Au.get(a);o&&(Jt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Jt(o.hu,14607):i.removedDocuments.size>0&&(Jt(o.hu,42227),o.hu=!1))})),await np(n,r,e)}catch(r){await xh(r)}}function uA(t,e,n){const r=bt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,o)=>{const c=o.view.va(e);c.snapshot&&i.push(c.snapshot)})),(function(o,c){const d=bt(o);d.onlineState=c;let h=!1;d.queries.forEach(((m,f)=>{for(const g of f.Sa)g.va(c)&&(h=!0)})),h&&f_(d)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Zre(t,e,n){const r=bt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let o=new Cn(st.comparator);o=o.insert(a,Rr.newNoDocument(a,xt.min()));const c=Dt().add(a),d=new Xy(xt.min(),new Map,new Cn(Pt),o,c);await S6(r,d),r.du=r.du.remove(a),r.Au.delete(e),g_(r)}else await S1(r.localStore,e,!1).then((()=>k1(r,e,n))).catch(xh)}async function ese(t,e){const n=bt(t),r=e.batch.batchId;try{const i=await ure(n.localStore,e);C6(n,r,null),E6(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await np(n,i)}catch(i){await xh(i)}}async function tse(t,e,n){const r=bt(t);try{const i=await(function(o,c){const d=bt(o);return d.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let m;return d.mutationQueue.lookupMutationBatch(h,c).next((f=>(Jt(f!==null,37113),m=f.keys(),d.mutationQueue.removeMutationBatch(h,f)))).next((()=>d.mutationQueue.performConsistencyCheck(h))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(h,m,c))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m))).next((()=>d.localDocuments.getDocuments(h,m)))}))})(r.localStore,e);C6(r,e,n),E6(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await np(r,i)}catch(i){await xh(i)}}function E6(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function C6(t,e,n){const r=bt(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function k1(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||k6(t,r)}))}function k6(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(l_(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),g_(t))}function dA(t,e,n){for(const r of n)r instanceof j6?(t.Ru.addReference(r.key,e),nse(t,r)):r instanceof N6?(Be(p_,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||k6(t,r.key)):lt(19791,{wu:r})}function nse(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Be(p_,"New document in limbo: "+n),t.Eu.add(r),g_(t))}function g_(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new st(cn.fromString(e)),r=t.fu.next();t.Au.set(r,new Hre(n)),t.du=t.du.insert(n,r),m6(t.remoteStore,new yl(fa(XN(n.path)),r,"TargetPurposeLimboResolution",Hy.ce))}}async function np(t,e,n){const r=bt(t),i=[],a=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,d)=>{o.push(r.pu(d,e,n).then((h=>{var m;if((h||n)&&r.isPrimaryClient){const f=h?!h.fromCache:(m=n==null?void 0:n.targetChanges.get(d.targetId))==null?void 0:m.current;r.sharedClientState.updateQueryState(d.targetId,f?"current":"not-current")}if(h){i.push(h);const f=a_.As(d.targetId,h);a.push(f)}})))})),await Promise.all(o),r.Pu.H_(i),await(async function(d,h){const m=bt(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(f=>ve.forEach(h,(g=>ve.forEach(g.Es,(x=>m.persistence.referenceDelegate.addReference(f,g.targetId,x))).next((()=>ve.forEach(g.ds,(x=>m.persistence.referenceDelegate.removeReference(f,g.targetId,x)))))))))}catch(f){if(!yh(f))throw f;Be(o_,"Failed to update sequence numbers: "+f)}for(const f of h){const g=f.targetId;if(!f.fromCache){const x=m.Ms.get(g),_=x.snapshotVersion,w=x.withLastLimboFreeSnapshotVersion(_);m.Ms=m.Ms.insert(g,w)}}})(r.localStore,a))}async function rse(t,e){const n=bt(t);if(!n.currentUser.isEqual(e)){Be(p_,"User change. New user:",e.toKey());const r=await c6(n.localStore,e);n.currentUser=e,(function(a,o){a.mu.forEach((c=>{c.forEach((d=>{d.reject(new Oe(xe.CANCELLED,o))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await np(n,r.Ls)}}function sse(t,e){const n=bt(t),r=n.Au.get(e);if(r&&r.hu)return Dt().add(r.key);{let i=Dt();const a=n.Iu.get(e);if(!a)return i;for(const o of a){const c=n.Tu.get(o);i=i.unionWith(c.view.nu)}return i}}function T6(t){const e=bt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=S6.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sse.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Zre.bind(null,e),e.Pu.H_=zre.bind(null,e.eventManager),e.Pu.yu=Bre.bind(null,e.eventManager),e}function ise(t){const e=bt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ese.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tse.bind(null,e),e}class ey{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zy(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return cre(this.persistence,new are,e.initialUser,this.serializer)}Cu(e){return new l6(i_.mi,this.serializer)}Du(e){return new gre}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ey.provider={build:()=>new ey};class ase extends ey{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Jt(this.persistence.referenceDelegate instanceof Xx,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Hne(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?us.withCacheSize(this.cacheSizeBytes):us.DEFAULT;return new l6((r=>Xx.mi(r,n)),this.serializer)}}class T1{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>uA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=rse.bind(null,this.syncEngine),await Fre(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Ure})()}createDatastore(e){const n=Zy(e.databaseInfo.databaseId),r=(function(a){return new wre(a)})(e.databaseInfo);return(function(a,o,c,d){return new Sre(a,o,c,d)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,o,c){return new Cre(r,i,a,o,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>uA(this.syncEngine,n,0)),(function(){return sA.v()?new sA:new xre})())}createSyncEngine(e,n){return(function(i,a,o,c,d,h,m){const f=new Wre(i,a,o,c,d,h);return m&&(f.gu=!0),f})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const a=bt(i);Be(Zc,"RemoteStore shutting down."),a.Ea.add(5),await tp(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}T1.provider={build:()=>new T1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):vo("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl="FirestoreClient";class ose{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=cs.UNAUTHENTICATED,this.clientId=WN.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async o=>{Be(Fl,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(Be(Fl,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new so;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=m_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Ub(t,e){t.asyncQueue.verifyOperationInProgress(),Be(Fl,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await c6(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function hA(t,e){t.asyncQueue.verifyOperationInProgress();const n=await lse(t);Be(Fl,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>aA(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>aA(e.remoteStore,i))),t._onlineComponents=e}async function lse(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Be(Fl,"Using user provided OfflineComponentProvider");try{await Ub(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===xe.FAILED_PRECONDITION||i.code===xe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;xf("Error using user provided cache. Falling back to memory cache: "+n),await Ub(t,new ey)}}else Be(Fl,"Using default OfflineComponentProvider"),await Ub(t,new ase(void 0));return t._offlineComponents}async function I6(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Be(Fl,"Using user provided OnlineComponentProvider"),await hA(t,t._uninitializedComponentsProvider._online)):(Be(Fl,"Using default OnlineComponentProvider"),await hA(t,new T1))),t._onlineComponents}function cse(t){return I6(t).then((e=>e.syncEngine))}async function R6(t){const e=await I6(t),n=e.eventManager;return n.onListen=Kre.bind(null,e.syncEngine),n.onUnlisten=Yre.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Gre.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Jre.bind(null,e.syncEngine),n}function use(t,e,n={}){const r=new so;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,c,d,h){const m=new A6({next:g=>{m.Nu(),o.enqueueAndForget((()=>b6(a,f)));const x=g.docs.has(c);!x&&g.fromCache?h.reject(new Oe(xe.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&g.fromCache&&d&&d.source==="server"?h.reject(new Oe(xe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(g)},error:g=>h.reject(g)}),f=new w6(XN(c.path),m,{includeMetadataChanges:!0,qa:!0});return v6(a,f)})(await R6(t),t.asyncQueue,e,n,r))),r.promise}function dse(t,e,n={}){const r=new so;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,c,d,h){const m=new A6({next:g=>{m.Nu(),o.enqueueAndForget((()=>b6(a,f))),g.fromCache&&d.source==="server"?h.reject(new Oe(xe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(g)},error:g=>h.reject(g)}),f=new w6(c,m,{includeMetadataChanges:!0,qa:!0});return v6(a,f)})(await R6(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P6(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hse="firestore.googleapis.com",fA=!0;class pA{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Oe(xe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=hse,this.ssl=fA}else this.host=e.host,this.ssl=e.ssl??fA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=a6;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<o6)throw new Oe(xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kte("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=P6(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Oe(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Oe(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Oe(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class x_{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Oe(xe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Oe(xe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pA(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new vte;switch(r.type){case"firstParty":return new jte(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Oe(xe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=mA.get(n);r&&(Be("ComponentProvider","Removing Datastore"),mA.delete(n),r.terminate())})(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rp=class D6{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new D6(this.firestore,e,this._query)}};class Un{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Un(this.firestore,e,this._key)}toJSON(){return{type:Un._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Xf(n,Un._jsonSchema))return new Un(e,r||null,new st(cn.fromString(n.referencePath)))}}Un._jsonSchemaVersion="firestore/documentReference/1.0",Un._jsonSchema={type:Yn("string",Un._jsonSchemaVersion),referencePath:Yn("string")};class jl extends rp{constructor(e,n,r){super(e,n,XN(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Un(this.firestore,null,new st(e))}withConverter(e){return new jl(this.firestore,e,this._path)}}function eu(t,e,...n){if(t=En(t),v5("collection","path",e),t instanceof x_){const r=cn.fromString(e,...n);return kT(r),new jl(t,null,r)}{if(!(t instanceof Un||t instanceof jl))throw new Oe(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(cn.fromString(e,...n));return kT(r),new jl(t.firestore,null,r)}}function Vl(t,e,...n){if(t=En(t),arguments.length===1&&(e=WN.newId()),v5("doc","path",e),t instanceof x_){const r=cn.fromString(e,...n);return CT(r),new Un(t,null,new st(r))}{if(!(t instanceof Un||t instanceof jl))throw new Oe(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(cn.fromString(e,...n));return CT(r),new Un(t.firestore,t instanceof jl?t.converter:null,new st(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA="AsyncQueue";class xA{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new d6(this,"async_queue_retry"),this._c=()=>{const r=Vb();r&&Be(gA,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Vb();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Vb();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new so;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!yh(e))throw e;Be(gA,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,vo("INTERNAL UNHANDLED ERROR: ",yA(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=h_.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&lt(47125,{Pc:yA(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function yA(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class fu extends x_{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new xA,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new xA(e),this._firestoreClient=void 0,await e}}}function mse(t,e,n){n||(n=Wx);const r=Uy(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),a=r.getOptions(n);if(Qc(a,e))return i;throw new Oe(xe.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new Oe(xe.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<o6)throw new Oe(xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&ql(e.host)&&PN(e.host),r.initialize({options:e,instanceIdentifier:n})}function y_(t){if(t._terminated)throw new Oe(xe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||fse(t),t._firestoreClient}function fse(t){var r,i,a;const e=t._freezeSettings(),n=(function(c,d,h,m){return new Vte(c,d,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,P6(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new ose(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(c){const d=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(d),_online:d}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ei(wr.fromBase64String(e))}catch(n){throw new Oe(xe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ei(wr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ei._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Xf(e,ei._jsonSchema))return ei.fromBase64String(e.bytes)}}ei._jsonSchemaVersion="firestore/bytes/1.0",ei._jsonSchema={type:Yn("string",ei._jsonSchemaVersion),bytes:Yn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Oe(xe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Oe(xe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Oe(xe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pt(this._lat,e._lat)||Pt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ga._jsonSchemaVersion}}static fromJSON(e){if(Xf(e,ga._jsonSchema))return new ga(e.latitude,e.longitude)}}ga._jsonSchemaVersion="firestore/geoPoint/1.0",ga._jsonSchema={type:Yn("string",ga._jsonSchemaVersion),latitude:Yn("number"),longitude:Yn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:xa._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Xf(e,xa._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new xa(e.vectorValues);throw new Oe(xe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}xa._jsonSchemaVersion="firestore/vectorValue/1.0",xa._jsonSchema={type:Yn("string",xa._jsonSchemaVersion),vectorValues:Yn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pse=/^__.*__$/;class gse{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Kl(e,this.data,this.fieldMask,n,this.fieldTransforms):new Zf(e,this.data,n,this.fieldTransforms)}}class M6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Kl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function O6(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw lt(40011,{Ac:t})}}class b_{constructor(e,n,r,i,a,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new b_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ty(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(O6(this.Ac)&&pse.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class xse{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Zy(e)}Cc(e,n,r,i=!1){return new b_({Ac:e,methodName:n,Dc:r,path:vr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function r0(t){const e=t._freezeSettings(),n=Zy(t._databaseId);return new xse(t._databaseId,!!e.ignoreUndefinedProperties,n)}function L6(t,e,n,r,i,a={}){const o=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);w_("Data must be an object, but it was:",o,r);const c=F6(r,o);let d,h;if(a.merge)d=new Ds(o.fieldMask),h=o.fieldTransforms;else if(a.mergeFields){const m=[];for(const f of a.mergeFields){const g=A1(e,f,n);if(!o.contains(g))throw new Oe(xe.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);U6(m,g)||m.push(g)}d=new Ds(m),h=o.fieldTransforms.filter((f=>d.covers(f.field)))}else d=null,h=o.fieldTransforms;return new gse(new ds(c),d,h)}class s0 extends v_{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof s0}}function yse(t,e,n,r){const i=t.Cc(1,e,n);w_("Data must be an object, but it was:",i,r);const a=[],o=ds.empty();Wl(r,((d,h)=>{const m=j_(e,d,n);h=En(h);const f=i.yc(m);if(h instanceof s0)a.push(m);else{const g=sp(h,f);g!=null&&(a.push(m),o.set(m,g))}}));const c=new Ds(a);return new M6(o,c,i.fieldTransforms)}function vse(t,e,n,r,i,a){const o=t.Cc(1,e,n),c=[A1(e,r,n)],d=[i];if(a.length%2!=0)throw new Oe(xe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<a.length;g+=2)c.push(A1(e,a[g])),d.push(a[g+1]);const h=[],m=ds.empty();for(let g=c.length-1;g>=0;--g)if(!U6(h,c[g])){const x=c[g];let _=d[g];_=En(_);const w=o.yc(x);if(_ instanceof s0)h.push(x);else{const j=sp(_,w);j!=null&&(h.push(x),m.set(x,j))}}const f=new Ds(h);return new M6(m,f,o.fieldTransforms)}function bse(t,e,n,r=!1){return sp(n,t.Cc(r?4:3,e))}function sp(t,e){if(V6(t=En(t)))return w_("Unsupported field value:",e,t),F6(t,e);if(t instanceof v_)return(function(r,i){if(!O6(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let o=0;for(const c of r){let d=sp(c,i.wc(o));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),o++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=En(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return lne(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=pn.fromDate(r);return{timestampValue:Jx(i.serializer,a)}}if(r instanceof pn){const a=new pn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Jx(i.serializer,a)}}if(r instanceof ga)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ei)return{bytesValue:Z5(i.serializer,r._byteString)};if(r instanceof Un){const a=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(a))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:r_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof xa)return(function(o,c){return{mapValue:{fields:{[k5]:{stringValue:T5},[Kx]:{arrayValue:{values:o.toArray().map((h=>{if(typeof h!="number")throw c.Sc("VectorValues must only contain numeric values.");return ZN(c.serializer,h)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${qy(r)}`)})(t,e)}function F6(t,e){const n={};return j5(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wl(t,((r,i)=>{const a=sp(i,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function V6(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof pn||t instanceof ga||t instanceof ei||t instanceof Un||t instanceof v_||t instanceof xa)}function w_(t,e,n){if(!V6(n)||!b5(n)){const r=qy(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function A1(t,e,n){if((e=En(e))instanceof n0)return e._internalPath;if(typeof e=="string")return j_(t,e);throw ty("Field path arguments must be of type string or ",t,!1,void 0,n)}const wse=new RegExp("[~\\*/\\[\\]]");function j_(t,e,n){if(e.search(wse)>=0)throw ty(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new n0(...e.split("."))._internalPath}catch{throw ty(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ty(t,e,n,r,i){const a=r&&!r.isEmpty(),o=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(a||o)&&(d+=" (found",a&&(d+=` in field ${r}`),o&&(d+=` in document ${i}`),d+=")"),new Oe(xe.INVALID_ARGUMENT,c+t+d)}function U6(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new jse(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(N_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class jse extends z6{data(){return super.data()}}function N_(t,e){return typeof e=="string"?j_(t,e):e instanceof n0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nse(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Oe(xe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class __{}class B6 extends __{}function S_(t,e,...n){let r=[];e instanceof __&&r.push(e),r=r.concat(n),(function(a){const o=a.filter((d=>d instanceof C_)).length,c=a.filter((d=>d instanceof E_)).length;if(o>1||o>0&&c>0)throw new Oe(xe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class E_ extends B6{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new E_(e,n,r)}_apply(e){const n=this._parse(e);return $6(e._query,n),new rp(e.firestore,e.converter,v1(e._query,n))}_parse(e){const n=r0(e.firestore);return(function(a,o,c,d,h,m,f){let g;if(h.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new Oe(xe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){bA(f,m);const _=[];for(const w of f)_.push(vA(d,a,w));g={arrayValue:{values:_}}}else g=vA(d,a,f)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||bA(f,m),g=bse(c,o,f,m==="in"||m==="not-in");return Qn.create(h,m,g)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class C_ extends __{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new C_(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ki.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let o=i;const c=a.getFlattenedFilters();for(const d of c)$6(o,d),o=v1(o,d)})(e._query,n),new rp(e.firestore,e.converter,v1(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class k_ extends B6{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new k_(e,n)}_apply(e){const n=(function(i,a,o){if(i.startAt!==null)throw new Oe(xe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Oe(xe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new jf(a,o)})(e._query,this._field,this._direction);return new rp(e.firestore,e.converter,(function(i,a){const o=i.explicitOrderBy.concat([a]);return new vh(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function T_(t,e="asc"){const n=e,r=N_("orderBy",t);return k_._create(r,n)}function vA(t,e,n){if(typeof(n=En(n))=="string"){if(n==="")throw new Oe(xe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!L5(e)&&n.indexOf("/")!==-1)throw new Oe(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(cn.fromString(n));if(!st.isDocumentKey(r))throw new Oe(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return OT(t,new st(r))}if(n instanceof Un)return OT(t,n._key);throw new Oe(xe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qy(n)}.`)}function bA(t,e){if(!Array.isArray(t)||t.length===0)throw new Oe(xe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $6(t,e){const n=(function(i,a){for(const o of i)for(const c of o.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Oe(xe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Oe(xe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class _se{convertValue(e,n="none"){switch(Ol(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ml(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw lt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Wl(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){var r,i,a;const n=(a=(i=(r=e.fields)==null?void 0:r[Kx].arrayValue)==null?void 0:i.values)==null?void 0:a.map((o=>Vn(o.doubleValue)));return new xa(n)}convertGeoPoint(e){return new ga(Vn(e.latitude),Vn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ky(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(vf(e));default:return null}}convertTimestamp(e){const n=Dl(e);return new pn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=cn.fromString(e);Jt(i6(r),9688,{name:e});const i=new bf(r.get(1),r.get(3)),a=new st(r.popFirst(5));return i.isEqual(n)||vo(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q6(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Rm{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Bc extends z6{constructor(e,n,r,i,a,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new cx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(N_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Oe(xe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Bc._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Bc._jsonSchemaVersion="firestore/documentSnapshot/1.0",Bc._jsonSchema={type:Yn("string",Bc._jsonSchemaVersion),bundleSource:Yn("string","DocumentSnapshot"),bundleName:Yn("string"),bundle:Yn("string")};class cx extends Bc{data(e={}){return super.data(e)}}class Cd{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Rm(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new cx(this._firestore,this._userDataWriter,r.key,r,new Rm(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Oe(xe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((c=>{const d=new cx(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Rm(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>a||c.type!==3)).map((c=>{const d=new cx(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Rm(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,m=-1;return c.type!==0&&(h=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),m=o.indexOf(c.doc.key)),{type:Sse(c.type),doc:d,oldIndex:h,newIndex:m}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Oe(xe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Cd._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=WN.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Sse(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return lt(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H6(t){t=wa(t,Un);const e=wa(t.firestore,fu);return use(y_(e),t._key).then((n=>Cse(e,t,n)))}Cd._jsonSchemaVersion="firestore/querySnapshot/1.0",Cd._jsonSchema={type:Yn("string",Cd._jsonSchemaVersion),bundleSource:Yn("string","QuerySnapshot"),bundleName:Yn("string"),bundle:Yn("string")};class W6 extends _se{constructor(e){super(),this.firestore=e}convertBytes(e){return new ei(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Un(this.firestore,null,n)}}function Jd(t){t=wa(t,rp);const e=wa(t.firestore,fu),n=y_(e),r=new W6(e);return Nse(t._query),dse(n,t._query).then((i=>new Cd(e,r,t,i)))}function K6(t,e,n){t=wa(t,Un);const r=wa(t.firestore,fu),i=q6(t.converter,e,n);return i0(r,[L6(r0(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ii.none())])}function G6(t,e,n,...r){t=wa(t,Un);const i=wa(t.firestore,fu),a=r0(i);let o;return o=typeof(e=En(e))=="string"||e instanceof n0?vse(a,"updateDoc",t._key,e,n,r):yse(a,"updateDoc",t._key,e),i0(i,[o.toMutation(t._key,ii.exists(!0))])}function Ese(t){return i0(wa(t.firestore,fu),[new e_(t._key,ii.none())])}function Q6(t,e){const n=wa(t.firestore,fu),r=Vl(t),i=q6(t.converter,e);return i0(n,[L6(r0(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ii.exists(!1))]).then((()=>r))}function i0(t,e){return(function(r,i){const a=new so;return r.asyncQueue.enqueueAndForget((async()=>Xre(await cse(r),i,a))),a.promise})(y_(t),e)}function Cse(t,e,n){const r=n.docs.get(e._key),i=new W6(t);return new Bc(t,i,e._key,r,new Rm(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){gh=i})(du),Yc(new Il("firestore",((r,{instanceIdentifier:i,options:a})=>{const o=r.getProvider("app").getImmediate(),c=new fu(new bte(r.getProvider("auth-internal")),new Nte(o,r.getProvider("app-check-internal")),(function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Oe(xe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bf(h.options.projectId,m)})(o,i),o);return a={useFetchStreams:n,...a},c._setSettings(a),c}),"PUBLIC").setMultipleInstances(!0)),da(NT,_T,e),da(NT,_T,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y6="firebasestorage.googleapis.com",J6="storageBucket",kse=120*1e3,Tse=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn extends Ea{constructor(e,n,r=0){super(zb(e),`Firebase Storage: ${n} (${zb(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Mn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return zb(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Dn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Dn||(Dn={}));function zb(t){return"storage/"+t}function A_(){const t="An unknown error occurred, please check the error payload for server response.";return new Mn(Dn.UNKNOWN,t)}function Ase(t){return new Mn(Dn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Ise(t){return new Mn(Dn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Rse(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Mn(Dn.UNAUTHENTICATED,t)}function Pse(){return new Mn(Dn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Dse(t){return new Mn(Dn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Mse(){return new Mn(Dn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ose(){return new Mn(Dn.CANCELED,"User canceled the upload/download.")}function Lse(t){return new Mn(Dn.INVALID_URL,"Invalid URL '"+t+"'.")}function Fse(t){return new Mn(Dn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Vse(){return new Mn(Dn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+J6+"' property when initializing the app?")}function Use(){return new Mn(Dn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function zse(){return new Mn(Dn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Bse(t){return new Mn(Dn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function I1(t){return new Mn(Dn.INVALID_ARGUMENT,t)}function X6(){return new Mn(Dn.APP_DELETED,"The Firebase app was deleted.")}function $se(t){return new Mn(Dn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Gm(t,e){return new Mn(Dn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function gm(t){throw new Mn(Dn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ms.makeFromUrl(e,n)}catch{return new Ms(e,"")}if(r.path==="")return r;throw Fse(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const o="(/(.*))?$",c=new RegExp("^gs://"+i+o,"i"),d={bucket:1,path:3};function h(C){C.path_=decodeURIComponent(C.path)}const m="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",x=new RegExp(`^https?://${f}/${m}/b/${i}/o${g}`,"i"),_={bucket:1,path:3},w=n===Y6?"(?:storage.googleapis.com|storage.cloud.google.com)":n,j="([^?#]*)",N=new RegExp(`^https?://${w}/${i}/${j}`,"i"),k=[{regex:c,indices:d,postModify:a},{regex:x,indices:_,postModify:h},{regex:N,indices:{bucket:1,path:2},postModify:h}];for(let C=0;C<k.length;C++){const P=k[C],F=P.regex.exec(e);if(F){const D=F[P.indices.bucket];let R=F[P.indices.path];R||(R=""),r=new Ms(D,R),P.postModify(r);break}}if(r==null)throw Lse(e);return r}}class qse{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hse(t,e,n){let r=1,i=null,a=null,o=!1,c=0;function d(){return c===2}let h=!1;function m(...j){h||(h=!0,e.apply(null,j))}function f(j){i=setTimeout(()=>{i=null,t(x,d())},j)}function g(){a&&clearTimeout(a)}function x(j,...N){if(h){g();return}if(j){g(),m.call(null,j,...N);return}if(d()||o){g(),m.call(null,j,...N);return}r<64&&(r*=2);let k;c===1?(c=2,k=0):k=(r+Math.random())*1e3,f(k)}let _=!1;function w(j){_||(_=!0,g(),!h&&(i!==null?(j||(c=2),clearTimeout(i),f(0)):j||(c=1)))}return f(0),a=setTimeout(()=>{o=!0,w(!0)},n),w}function Wse(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kse(t){return t!==void 0}function Gse(t){return typeof t=="object"&&!Array.isArray(t)}function I_(t){return typeof t=="string"||t instanceof String}function wA(t){return R_()&&t instanceof Blob}function R_(){return typeof Blob<"u"}function jA(t,e,n,r){if(r<e)throw I1(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw I1(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function Z6(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var $c;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})($c||($c={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qse(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yse{constructor(e,n,r,i,a,o,c,d,h,m,f,g=!0,x=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=c,this.errorCallback_=d,this.timeout_=h,this.progressCallback_=m,this.connectionFactory_=f,this.retry=g,this.isUsingEmulator=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,w)=>{this.resolve_=_,this.reject_=w,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Mg(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=c=>{const d=c.loaded,h=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,h)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const c=a.getErrorCode()===$c.NO_ERROR,d=a.getStatus();if(!c||Qse(d,this.additionalRetryCodes_)&&this.retry){const m=a.getErrorCode()===$c.ABORT;r(!1,new Mg(!1,null,m));return}const h=this.successCodes_.indexOf(d)!==-1;r(!0,new Mg(h,a))})},n=(r,i)=>{const a=this.resolve_,o=this.reject_,c=i.connection;if(i.wasSuccessCode)try{const d=this.callback_(c,c.getResponse());Kse(d)?a(d):a()}catch(d){o(d)}else if(c!==null){const d=A_();d.serverResponse=c.getErrorText(),this.errorCallback_?o(this.errorCallback_(c,d)):o(d)}else if(i.canceled){const d=this.appDelete_?X6():Ose();o(d)}else{const d=Mse();o(d)}};this.canceled_?n(!1,new Mg(!1,null,!0)):this.backoffId_=Hse(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Wse(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Mg{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Jse(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Xse(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Zse(t,e){e&&(t["X-Firebase-GMPID"]=e)}function eie(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function tie(t,e,n,r,i,a,o=!0,c=!1){const d=Z6(t.urlParams),h=t.url+d,m=Object.assign({},t.headers);return Zse(m,e),Jse(m,n),Xse(m,a),eie(m,r),new Yse(h,t.method,m,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nie(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function rie(...t){const e=nie();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(R_())return new Blob(t);throw new Mn(Dn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function sie(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iie(t){if(typeof atob>"u")throw Bse("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Bb{constructor(e,n){this.data=e,this.contentType=n||null}}function aie(t,e){switch(t){case aa.RAW:return new Bb(eO(e));case aa.BASE64:case aa.BASE64URL:return new Bb(tO(t,e));case aa.DATA_URL:return new Bb(lie(e),cie(e))}throw A_()}function eO(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,o=t.charCodeAt(++n);r=65536|(a&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function oie(t){let e;try{e=decodeURIComponent(t)}catch{throw Gm(aa.DATA_URL,"Malformed data URL.")}return eO(e)}function tO(t,e){switch(t){case aa.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw Gm(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case aa.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw Gm(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=iie(e)}catch(i){throw i.message.includes("polyfill")?i:Gm(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class nO{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Gm(aa.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=uie(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function lie(t){const e=new nO(t);return e.base64?tO(aa.BASE64,e.rest):oie(e.rest)}function cie(t){return new nO(t).contentType}function uie(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,n){let r=0,i="";wA(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(wA(this.data_)){const r=this.data_,i=sie(r,e,n);return i===null?null:new ll(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new ll(r,!0)}}static getBlob(...e){if(R_()){const n=e.map(r=>r instanceof ll?r.data_:r);return new ll(rie.apply(null,n))}else{const n=e.map(o=>I_(o)?aie(aa.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let a=0;return n.forEach(o=>{for(let c=0;c<o.length;c++)i[a++]=o[c]}),new ll(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(t){let e;try{e=JSON.parse(t)}catch{return null}return Gse(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function die(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function hie(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function sO(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mie(t,e){return e}class $r{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||mie}}let Og=null;function fie(t){return!I_(t)||t.length<2?t:sO(t)}function iO(){if(Og)return Og;const t=[];t.push(new $r("bucket")),t.push(new $r("generation")),t.push(new $r("metageneration")),t.push(new $r("name","fullPath",!0));function e(a,o){return fie(o)}const n=new $r("name");n.xform=e,t.push(n);function r(a,o){return o!==void 0?Number(o):o}const i=new $r("size");return i.xform=r,t.push(i),t.push(new $r("timeCreated")),t.push(new $r("updated")),t.push(new $r("md5Hash",null,!0)),t.push(new $r("cacheControl",null,!0)),t.push(new $r("contentDisposition",null,!0)),t.push(new $r("contentEncoding",null,!0)),t.push(new $r("contentLanguage",null,!0)),t.push(new $r("contentType",null,!0)),t.push(new $r("metadata","customMetadata",!0)),Og=t,Og}function pie(t,e){function n(){const r=t.bucket,i=t.fullPath,a=new Ms(r,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function gie(t,e,n){const r={};r.type="file";const i=n.length;for(let a=0;a<i;a++){const o=n[a];r[o.local]=o.xform(r,e[o.server])}return pie(r,t),r}function aO(t,e,n){const r=rO(e);return r===null?null:gie(t,r,n)}function xie(t,e,n,r){const i=rO(e);if(i===null||!I_(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const o=encodeURIComponent;return a.split(",").map(h=>{const m=t.bucket,f=t.fullPath,g="/b/"+o(m)+"/o/"+o(f),x=P_(g,n,r),_=Z6({alt:"media",token:h});return x+_})[0]}function yie(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class oO{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lO(t){if(!t)throw A_()}function vie(t,e){function n(r,i){const a=aO(t,i,e);return lO(a!==null),a}return n}function bie(t,e){function n(r,i){const a=aO(t,i,e);return lO(a!==null),xie(a,i,t.host,t._protocol)}return n}function cO(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Pse():i=Rse():n.getStatus()===402?i=Ise(t.bucket):n.getStatus()===403?i=Dse(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function wie(t){const e=cO(t);function n(r,i){let a=e(r,i);return r.getStatus()===404&&(a=Ase(t.path)),a.serverResponse=i.serverResponse,a}return n}function jie(t,e,n){const r=e.fullServerUrl(),i=P_(r,t.host,t._protocol),a="GET",o=t.maxOperationRetryTime,c=new oO(i,a,bie(t,n),o);return c.errorHandler=wie(e),c}function Nie(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function _ie(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Nie(null,e)),r}function Sie(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function c(){let k="";for(let C=0;C<2;C++)k=k+Math.random().toString().slice(2);return k}const d=c();o["Content-Type"]="multipart/related; boundary="+d;const h=_ie(e,r,i),m=yie(h,n),f="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+m+`\r
--`+d+`\r
Content-Type: `+h.contentType+`\r
\r
`,g=`\r
--`+d+"--",x=ll.getBlob(f,r,g);if(x===null)throw Use();const _={name:h.fullPath},w=P_(a,t.host,t._protocol),j="POST",N=t.maxUploadRetryTime,E=new oO(w,j,vie(t,n),N);return E.urlParams=_,E.headers=o,E.body=x.uploadData(),E.errorHandler=cO(e),E}class Eie{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=$c.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=$c.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=$c.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,a){if(this.sent_)throw gm("cannot .send() more than once");if(ql(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const o in a)a.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,a[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw gm("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw gm("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw gm("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw gm("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Cie extends Eie{initXhr(){this.xhr_.responseType="text"}}function uO(){return new Cie}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e,n){this._service=e,n instanceof Ms?this._location=n:this._location=Ms.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new tu(e,n)}get root(){const e=new Ms(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return sO(this._location.path)}get storage(){return this._service}get parent(){const e=die(this._location.path);if(e===null)return null;const n=new Ms(this._location.bucket,e);return new tu(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw $se(e)}}function kie(t,e,n){t._throwIfRoot("uploadBytes");const r=Sie(t.storage,t._location,iO(),new ll(e,!0),n);return t.storage.makeRequestWithTokens(r,uO).then(i=>({metadata:i,ref:t}))}function Tie(t){t._throwIfRoot("getDownloadURL");const e=jie(t.storage,t._location,iO());return t.storage.makeRequestWithTokens(e,uO).then(n=>{if(n===null)throw zse();return n})}function Aie(t,e){const n=hie(t._location.path,e),r=new Ms(t._location.bucket,n);return new tu(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iie(t){return/^[A-Za-z]+:\/\//.test(t)}function Rie(t,e){return new tu(t,e)}function dO(t,e){if(t instanceof D_){const n=t;if(n._bucket==null)throw Vse();const r=new tu(n,n._bucket);return e!=null?dO(r,e):r}else return e!==void 0?Aie(t,e):t}function Pie(t,e){if(e&&Iie(e)){if(t instanceof D_)return Rie(t,e);throw I1("To use ref(service, url), the first argument must be a Storage instance.")}else return dO(t,e)}function NA(t,e){const n=e==null?void 0:e[J6];return n==null?null:Ms.makeFromBucketSpec(n,t)}function Die(t,e,n,r={}){t.host=`${e}:${n}`;const i=ql(e);i&&(PN(`https://${t.host}/b`),NM("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:SJ(a,t.app.options.projectId))}class D_{constructor(e,n,r,i,a,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=o,this._bucket=null,this._host=Y6,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=kse,this._maxUploadRetryTime=Tse,this._requests=new Set,i!=null?this._bucket=Ms.makeFromBucketSpec(i,this._host):this._bucket=NA(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ms.makeFromBucketSpec(this._url,e):this._bucket=NA(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){jA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){jA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Ps(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new tu(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new qse(X6());{const o=tie(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const _A="@firebase/storage",SA="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO="storage";function Mie(t,e,n){return t=En(t),kie(t,e,n)}function Oie(t){return t=En(t),Tie(t)}function Lie(t,e){return t=En(t),Pie(t,e)}function Fie(t=CM(),e){t=En(t);const r=Uy(t,hO).getImmediate({identifier:e}),i=NJ("storage");return i&&Vie(r,...i),r}function Vie(t,e,n,r={}){Die(t,e,n,r)}function Uie(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new D_(n,r,i,e,du)}function zie(){Yc(new Il(hO,Uie,"PUBLIC").setMultipleInstances(!0)),da(_A,SA,""),da(_A,SA,"esm2020")}zie();const Bie={BASE_URL:"/imediaweb/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_ADMIN_EMAIL:"huzaify786@gmail.com",VITE_FIREBASE_API_KEY:"AIzaSyDLi7mVwWnHp_jFlo6KfIXMZEu1iGpA-YE",VITE_FIREBASE_APP_ID:"1:947105835283:web:b06706b15af28b4c3f12e6",VITE_FIREBASE_AUTH_DOMAIN:"studio-1726517794-3d5f0.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"947105835283",VITE_FIREBASE_PROJECT_ID:"studio-1726517794-3d5f0",VITE_FIREBASE_STORAGE_BUCKET:"studio-1726517794-3d5f0.appspot.com",VITE_USE_BACKEND:"false"};let Lg,EA,ux;const dx="false".toLowerCase()==="true"||!1,$b={apiKey:"AIzaSyDLi7mVwWnHp_jFlo6KfIXMZEu1iGpA-YE",authDomain:"studio-1726517794-3d5f0.firebaseapp.com",projectId:"studio-1726517794-3d5f0",storageBucket:"studio-1726517794-3d5f0.appspot.com",messagingSenderId:"947105835283",appId:"1:947105835283:web:b06706b15af28b4c3f12e6"};function Bt(){if(!Lg&&$b.apiKey&&$b.projectId){Lg=EM($b),EA=pte(Lg);const t=typeof import.meta<"u"&&Bie&&!1;try{xte(t?"error":"silent")}catch{}}return{app:Lg,auth:EA,db:ux}}function Ni(){const{app:t}=Bt();if(!t)throw new Error("Firebase not configured");return ux||(ux=mse(t,{experimentalAutoDetectLongPolling:!0,useFetchStreams:!1})),ux}async function mO(t,e){const{auth:n}=Bt();if(!n)throw new Error("Firebase not configured");return(await t5(n,t,e)).user}async function fO(t,e){const{auth:n}=Bt();if(!n)throw new Error("Firebase not configured");return(await t5(n,t,e)).user}async function pO(){const{auth:t}=Bt();t&&await see(t)}async function gO(t,e){const{auth:n}=Bt();if(!n)throw new Error("Firebase not configured");return(await ZZ(n,t,e)).user}async function M_(t,e){const n=Ni(),r=Vl(n,"users",t);await K6(r,{uid:t,...e||{},updatedAt:new Date},{merge:!0})}async function wh(t){const e=Ni(),n=Vl(e,"users",t),r=await H6(n);return r.exists()?r.data():null}function pu(t){const{auth:e}=Bt();return e?ree(e,t):()=>{}}async function xO(t){const{auth:e}=Bt();if(!e)throw new Error("Firebase not configured");return BN(e,t)}async function yO(){const{auth:t}=Bt(),e=t==null?void 0:t.currentUser;if(!e)throw new Error("No authenticated user to verify");await eee(e)}const ny={async add(t){var r,i;if(dx)try{const{auth:a}=Bt(),o=await((i=(r=a==null?void 0:a.currentUser)==null?void 0:r.getIdToken)==null?void 0:i.call(r)),d=await fetch("/api/messages",{method:"POST",headers:{"Content-Type":"application/json",...o?{Authorization:`Bearer ${o}`}:{}},body:JSON.stringify({message:t})});if(!d.ok)throw new Error(`Backend error: ${d.status}`);return await d.json()}catch(a){console.warn("Backend add failed, falling back to Firestore:",(a==null?void 0:a.message)||a)}const e=Ni(),n=eu(e,"messages");return Q6(n,t)},async list(){var i,a;if(dx)try{const{auth:o}=Bt(),c=await((a=(i=o==null?void 0:o.currentUser)==null?void 0:i.getIdToken)==null?void 0:a.call(i)),h=await fetch("/api/messages",{headers:{...c?{Authorization:`Bearer ${c}`}:{}}});if(!h.ok)throw new Error(`Backend error: ${h.status}`);return await h.json()}catch(o){console.warn("Backend list failed, falling back to Firestore:",(o==null?void 0:o.message)||o)}const t=Ni(),e=eu(t,"messages"),n=S_(e,T_("createdAt","desc"));return(await Jd(n)).docs.map(o=>({id:o.id,...o.data()}))},async markRead(t,e=!0){var i,a;if(dx)try{const{auth:o}=Bt(),c=await((a=(i=o==null?void 0:o.currentUser)==null?void 0:i.getIdToken)==null?void 0:a.call(i)),h=await fetch("/api/messages",{method:"PATCH",headers:{"Content-Type":"application/json",...c?{Authorization:`Bearer ${c}`}:{}},body:JSON.stringify({id:t,read:e})});if(!h.ok)throw new Error(`Backend error: ${h.status}`);return await h.json()}catch(o){console.warn("Backend markRead failed, falling back to Firestore:",(o==null?void 0:o.message)||o)}const n=Ni(),r=Vl(n,"messages",t);await G6(r,{read:e})}},O_={async list(){var r,i;if(dx)try{const{auth:a}=Bt(),o=await((i=(r=a==null?void 0:a.currentUser)==null?void 0:r.getIdToken)==null?void 0:i.call(r)),d=await fetch("/api/users",{headers:{...o?{Authorization:`Bearer ${o}`}:{}}});if(!d.ok)throw new Error(`Backend error: ${d.status}`);return await d.json()}catch(a){console.warn("Backend users list failed, falling back to Firestore:",(a==null?void 0:a.message)||a)}const t=Ni(),e=eu(t,"users");return(await Jd(e)).docs.map(a=>({id:a.id,...a.data()}))}};function Fg(){try{const t=localStorage.getItem("local_sponsors");return t?JSON.parse(t):[]}catch{return[]}}function qb(t){try{localStorage.setItem("local_sponsors",JSON.stringify(t))}catch{}}const $ie=()=>{var t,e;return((e=(t=globalThis.crypto)==null?void 0:t.randomUUID)==null?void 0:e.call(t))||`local_${Date.now()}`},xd={async add(t){let e;try{e=Ni()}catch{}if(!e){const i=Fg(),a=$ie(),o=[...i,{...t,_localId:a}];return qb(o),{id:a}}const n=eu(e,"sponsors");return{id:(await Q6(n,t)).id}},async list(){let t;try{t=Ni()}catch{}if(!t)return Fg();const e=eu(t,"sponsors");let n;try{const r=S_(e,T_("order","asc"));n=await Jd(r)}catch{n=await Jd(e)}return n.docs.map(r=>({id:r.id,...r.data()}))},async update(t,e){let n;try{n=Ni()}catch{}if(!n){const a=Fg().map(o=>o.id===t||o._localId===t?{...o,...e}:o);return qb(a),{ok:!0}}const r=Vl(n,"sponsors",t);await G6(r,e)},async remove(t){let e;try{e=Ni()}catch{}if(!e){const r=Fg().filter(i=>i.id!==t&&i._localId!==t);return qb(r),{ok:!0}}const n=Vl(e,"sponsors",t);await Ese(n)}};async function vO(t,e=""){const{app:n}=Bt();if(!n)throw new Error("Firebase not configured");if(!t)throw new Error("No file provided");const r=Fie(n),i=String(e||t.name||"image").replace(/[^a-z0-9._-]+/gi,"-").toLowerCase(),a=`sponsors/${Date.now()}_${i}`,o=Lie(r,a);return await Mie(o,t),{url:await Oie(o),path:a}}async function ry(){const{auth:t}=Bt(),e=t==null?void 0:t.currentUser;if(!e)return!1;const n="huzaify786@gmail.com".toLowerCase(),r=String(e.email||"").toLowerCase();return n?r===n:!0}const CA=Object.freeze(Object.defineProperty({__proto__:null,adminSignIn:mO,adminSignOut:pO,getDb:Ni,getFirebase:Bt,getUserProfile:wh,isAdminUser:ry,messagesApi:ny,resetPassword:xO,saveUserProfile:M_,sendVerification:yO,signIn:fO,signUp:gO,sponsorsApi:xd,uploadSponsorImage:vO,usersApi:O_,watchAuth:pu},Symbol.toStringTag,{value:"Module"})),bO=v.createContext(),qie=()=>{const t=v.useContext(bO);return t||{isPlaying:!1,isMuted:!1,volume:.7,togglePlay:()=>{},toggleMute:()=>{},setVolume:()=>{}}};function wO({children:t,currentPageName:e}){const[n,r]=v.useState(!1),[i,a]=v.useState(null),[o,c]=v.useState(!1),[d,h]=v.useState(null),[m,f]=v.useState(!1),[g,x]=v.useState(!1),[_,w]=v.useState(.7),j=v.useRef(null),[N,E]=v.useState({siteTitle:"Islam Kids Zone",tagline:"Learn, Play & Grow",logoEmoji:"",headerGradient:"from-blue-600 to-purple-600",navActiveGradient:"from-blue-500 to-purple-500",backgroundGradient:"from-blue-50 via-purple-50 to-pink-50",darkModeDefault:!1,showTestBanner:!0,showRadioBar:!0});v.useEffect(()=>{try{const K=localStorage.getItem("siteSettings");if(K){const W=JSON.parse(K);E(B=>({...B,...W}))}}catch{}},[]),v.useEffect(()=>{N.darkModeDefault?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[N.darkModeDefault]);const k=`min-h-screen bg-gradient-to-br ${N.backgroundGradient}`,C=`bg-gradient-to-r ${N.headerGradient} text-white shadow-lg sticky top-0 z-50`,P=N.supportEmail||"imedia786@gmail.com",F=N.radioUrl||"https://a4.asurahosting.com:7820/radio.mp3";v.useEffect(()=>{const K=["Home","About","ContactUs","Welcome","ParentZone","PrivacyPolicy","Games","Leaderboard","Stories","Audio","Learn","Quran","Duas","RecordAndShare","IslamicEncyclopedia","IslamicFacts","ColoringPages","PoetryWriting","Worksheets","MonthlyContest","CreativeCorner","Videos","History","Hadith","Tajweed","LearningPaths","LearningLibrary"];console.log("currentPageName:",e),console.log("publicPages:",K)},[e]),v.useEffect(()=>{j.current&&(j.current.volume=_)},[_]),v.useEffect(()=>{const K=pu(async W=>{try{if(W){c(!0);let B=null;try{B=await wh(W.uid)}catch{}const q=(B==null?void 0:B.fullName)||(B==null?void 0:B.name)||W.displayName||W.email||"User",Z=(B==null?void 0:B.points)||0;h({full_name:q,points:Z,email:W.email,uid:W.uid})}else c(!1),h(null)}catch(B){console.warn("Auth/profile load failed:",(B==null?void 0:B.message)||B),c(!!W),h(W?{full_name:W.email||"User",points:0,email:W.email,uid:W.uid}:null)}});return()=>K==null?void 0:K()},[]);const D=()=>{c(!1),h(null)},R=()=>{j.current&&(m?j.current.pause():j.current.play().catch(K=>{console.error("Error playing radio:",K)}),f(!m))},I=()=>{j.current&&(j.current.muted=!g,x(!g))},M=K=>{w(K),j.current&&(j.current.volume=K)},V=[{name:"Home",icon:dB,path:"Home"},{name:"Games",icon:oo,path:"Games"},{name:"Learning Paths",icon:Om,path:"LearningPaths"},{name:"Leaderboard",icon:br,path:"Leaderboard"},{name:"My Points",icon:zt,path:"MyPoints"},{name:"Stories",icon:dn,path:"Stories"},{name:"Videos",icon:to,path:"Videos"},{name:"Audio",icon:jx,path:"Audio"},{name:"Learn",icon:Om,dropdown:[{name:"Hadith",path:"Hadith",icon:dn},{name:"History",path:"History",icon:BC},{name:"Tajweed",path:"Tajweed",icon:Om}]},{name:"Quran",icon:dn,dropdown:[{name:"Learn Quran",path:"Quran",icon:dn},{name:"Full Quran",path:"FullQuran",icon:BC},{name:"Manzil (17)",path:"Manzil",icon:WC},{name:"Hizb (1240)",path:"Hizb",icon:WC},{name:"Hifz Dashboard",path:"HifzDashboard",icon:Az}]},{name:"Challenges",icon:br,path:"Challenges"},{name:"Parents",icon:Bl,path:"ParentZone"},{name:"Signup",icon:Ew,path:"Signup"},{name:"About",icon:Jv,path:"About"}],X=String(e||"").toLowerCase().startsWith("admin")||e==="Assistant"?[...V,{name:"AI Agent / ChatGPT",icon:ih,path:"Assistant"}]:V,re=()=>{r(!1),a(null)},ue=K=>{a(i===K?null:K)},ie={isPlaying:m,isMuted:g,volume:_,togglePlay:R,toggleMute:I,setVolume:M};return s.jsx(bO.Provider,{value:ie,children:s.jsxs("div",{className:k,children:[s.jsx("audio",{ref:j,src:F,preload:"none"}),s.jsx("header",{className:C,children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-6 py-3 md:py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Et,{to:et("Home"),className:"flex items-center gap-2 md:gap-3 hover:opacity-90 transition-opacity",children:[s.jsx("div",{className:"text-3xl md:text-4xl",children:N.logoEmoji}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl md:text-2xl font-bold",children:N.siteTitle}),s.jsx("p",{className:"text-xs md:text-sm text-blue-100",children:N.tagline})]})]}),s.jsx("div",{className:"hidden md:flex items-center gap-3",children:o&&d?s.jsx(s.Fragment,{children:s.jsxs(Vk,{children:[s.jsx(Uk,{asChild:!0,children:s.jsxs("button",{className:"flex items-center gap-2 bg-white/20 px-4 py-2 rounded-full hover:bg-white/30 transition-colors",children:[s.jsx($R,{className:"w-4 h-4"}),s.jsxs("div",{className:"text-sm text-left",children:[s.jsx("div",{className:"font-semibold",children:d.full_name||"User"}),s.jsxs("div",{className:"text-xs text-blue-100",children:[d.points||0," points"]})]}),s.jsx(yd,{className:"w-4 h-4"})]})}),s.jsxs(s1,{align:"end",className:"w-48",children:[s.jsx(Em,{asChild:!0,children:s.jsxs(Et,{to:et("MyPoints"),className:"cursor-pointer",children:[s.jsx(zt,{className:"w-4 h-4 mr-2"}),"My Points"]})}),s.jsx(Em,{asChild:!0,children:s.jsxs(Et,{to:et("DeleteAccount"),className:"cursor-pointer text-red-600 hover:text-red-700 hover:bg-red-50",children:[s.jsx(Bd,{className:"w-4 h-4 mr-2"}),"Delete Account"]})}),s.jsxs(Em,{onClick:D,className:"cursor-pointer",children:[s.jsx(KC,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})}):null}),s.jsx(G,{variant:"ghost",size:"icon",className:"md:hidden text-white hover:bg-white/20",onClick:()=>r(!n),children:n?s.jsx(Qr,{className:"w-6 h-6"}):s.jsx(_B,{className:"w-6 h-6"})})]})})}),s.jsx("nav",{className:"md:hidden bg-white/95 backdrop-blur-sm shadow-sm sticky top-[56px] z-40 border-b border-gray-100",children:s.jsx("div",{className:"max-w-7xl mx-auto px-2",children:s.jsx("div",{className:"flex items-center overflow-x-auto gap-1 py-1.5 scrollbar-hide",children:X.map(K=>{const W=K.icon,B=K.path&&e===K.path;return s.jsx(Et,{to:K.path?et(K.path):"#",onClick:re,"aria-label":K.name,title:K.name,className:`flex items-center justify-center w-7 h-7 rounded-full whitespace-nowrap transition-all flex-shrink-0 ${B?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow":"bg-white border border-gray-200 text-gray-700"}`,children:s.jsx(W,{className:"w-4 h-4"})},K.path||K.name)})})})}),s.jsx("nav",{className:"hidden md:block bg-white shadow-md sticky top-[68px] z-40",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4",children:s.jsx("div",{className:"flex overflow-x-auto scrollbar-hide gap-1 py-2",children:X.map(K=>{const W=K.icon,B=K.path&&e===K.path;if(K.dropdown&&K.dropdown.length>0){const q=K.dropdown.some(Z=>e===Z.path);return s.jsxs(Vk,{children:[s.jsx(Uk,{asChild:!0,children:s.jsxs("button",{type:"button",className:`flex items-center gap-1.5 px-3 py-2 rounded-lg whitespace-nowrap transition-all flex-shrink-0 ${q?`bg-gradient-to-r ${N.navActiveGradient} text-white shadow-md`:"text-gray-700 hover:bg-gray-100"}`,children:[s.jsx(W,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:K.name}),s.jsx(yd,{className:"w-3 h-3"})]})}),s.jsx(s1,{children:K.dropdown.map(Z=>{const $=Z.icon;return s.jsx(Em,{asChild:!0,children:s.jsxs(Et,{to:et(Z.path),className:"cursor-pointer flex items-center gap-2",children:[$?s.jsx($,{className:"w-4 h-4"}):null,s.jsx("span",{children:Z.name})]})},Z.path)})})]},K.name)}return s.jsxs(Et,{to:et(K.path),className:`flex items-center gap-1.5 px-3 py-2 rounded-lg whitespace-nowrap transition-all flex-shrink-0 ${B?`bg-gradient-to-r ${N.navActiveGradient} text-white shadow-md`:"text-gray-700 hover:bg-gray-100"}`,children:[s.jsx(W,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:K.name})]},K.path)})})})}),n&&s.jsxs("div",{className:"fixed inset-0 z-[1000] md:hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>r(!1)}),s.jsx("div",{className:"absolute top-0 right-0 h-full w-[280px] bg-white shadow-2xl overflow-y-auto z-[1001]",children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Menu"}),s.jsx(G,{variant:"ghost",size:"icon",onClick:()=>r(!1),children:s.jsx(Qr,{className:"w-5 h-5"})})]}),o&&d?s.jsxs("div",{className:"mb-4 pb-4 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3 bg-gradient-to-r from-blue-50 to-purple-500 p-3 rounded-lg",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-2xl",children:d.avatar||""}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-bold text-gray-900",children:d.full_name||"User"}),s.jsx("div",{className:"text-sm text-gray-600",children:d.email}),s.jsxs("div",{className:"text-xs text-blue-600 font-semibold mt-1",children:[" ",d.points||0," points"]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Et,{to:et("MyPoints"),onClick:re,children:s.jsxs(G,{variant:"default",size:"sm",className:"w-full bg-gradient-to-r from-amber-400 to-amber-500 text-white",children:[s.jsx(zt,{className:"w-4 h-4 mr-2"}),"My Points"]})}),s.jsx(Et,{to:et("DeleteAccount"),onClick:re,children:s.jsxs(G,{variant:"outline",size:"sm",className:"w-full text-red-600 border-red-300 hover:bg-red-50",children:[s.jsx(Bd,{className:"w-4 h-4 mr-2"}),"Delete Account"]})}),s.jsxs(G,{onClick:D,variant:"outline",size:"sm",className:"w-full",children:[s.jsx(KC,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]}):s.jsxs("div",{className:"mb-4 pb-4 border-b border-gray-200 space-y-2",children:[s.jsx(Et,{to:et("Signup"),onClick:re,children:s.jsxs(G,{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-blue-500 to-purple-500 text-white font-bold shadow hover:scale-105 transition-transform w-full",children:[s.jsx(Ew,{className:"w-4 h-4 mr-2"}),"Sign up"]})}),s.jsx(Et,{to:et("Login"),onClick:re,children:s.jsxs(G,{variant:"outline",className:"flex items-center gap-2 px-4 py-2 rounded-lg w-full",children:[s.jsx(kj,{className:"w-4 h-4 mr-2"}),"Login"]})})]}),s.jsx("nav",{className:"space-y-1",children:X.map(K=>{const W=K.icon,B=K.path&&e===K.path;if(K.dropdown&&K.dropdown.length>0){const q=K.dropdown.some($=>e===$.path),Z=i===K.name;return s.jsxs("div",{className:"space-y-1",children:[s.jsxs("button",{onClick:()=>ue(K.name),className:`w-full flex items-center justify-between px-4 py-3 rounded-lg transition-all ${q?"bg-gradient-to-r from-blue-500 to-purple-500 text-white":"text-gray-700 hover:bg-gray-100"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(W,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:K.name})]}),s.jsx(yd,{className:`w-4 h-4 transition-transform ${Z?"rotate-180":""}`})]}),Z&&s.jsx("div",{className:"ml-4 space-y-1 border-l-2 border-gray-200 pl-2",children:K.dropdown.map($=>{const me=$.icon;return s.jsxs(Et,{to:et($.path),onClick:re,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all ${e===$.path?"bg-blue-50 text-blue-600 font-medium":"text-gray-600 hover:bg-gray-50"}`,children:[me?s.jsx(me,{className:"w-4 h-4"}):null,s.jsx("span",{children:$.name})]},$.path)})})]},K.name)}return s.jsxs(Et,{to:et(K.path),onClick:re,className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${B?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-md":"text-gray-700 hover:bg-gray-100"}`,children:[s.jsx(W,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:K.name})]},K.path)})})]})})]}),s.jsxs("main",{className:"max-w-7xl mx-auto px-4 md:px-6 py-4 md:py-6",style:{paddingBottom:m?"100px":"24px"},children:[N.maintenanceMode&&s.jsx("div",{className:"mb-4",children:s.jsx("div",{className:"bg-yellow-100 border-2 border-yellow-300 rounded-lg p-3 shadow-md",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Jv,{className:"w-5 h-5 text-yellow-700 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1 text-sm text-gray-800",children:[s.jsx("strong",{className:"text-yellow-700",children:"Maintenance Mode:"})," Some features may be temporarily unavailable. For support, email ",s.jsx("span",{className:"font-medium",children:P}),N.supportWhatsappNumber&&s.jsxs(s.Fragment,{children:[" or WhatsApp ",s.jsx("span",{className:"font-medium",children:N.supportWhatsappNumber})]}),"."]})]})})}),t,N.showTestBanner&&s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"mt-8 mb-4",children:s.jsx("div",{className:"bg-gradient-to-r from-blue-100 to-purple-100 border-2 border-blue-300 rounded-lg p-4 shadow-md",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Jv,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),s.jsx("div",{className:"flex-1",children:s.jsxs("p",{className:"text-sm text-gray-800 leading-relaxed",children:[s.jsx("strong",{className:"text-blue-600",children:" Test Mode:"})," We are currently testing the website. If you see any errors, please use the WhatsApp icon on the home page or contact page to message us.",s.jsx("br",{className:"hidden md:block"}),s.jsx("strong",{className:"text-purple-600",children:" Install as App:"}),' To install this website as an app on your device, click on the three dots () if using Chrome and scroll down to "Add to Home Screen."']})})]})})})]}),N.showRadioBar&&m&&s.jsx(te.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},className:"fixed bottom-0 left-0 right-0 bg-gradient-to-r from-purple-600 to-blue-600 text-white shadow-2xl z-50 border-t-4 border-purple-400",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-3",children:s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[s.jsx(BR,{className:"w-6 h-6 text-white flex-shrink-0 animate-pulse"}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"font-bold text-sm truncate",children:"Islamic Radio 24/7"}),s.jsx("p",{className:"text-xs text-purple-200 truncate",children:"Live Islamic Content"})]})]}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[s.jsxs("div",{className:"hidden sm:flex items-center gap-2 bg-white/20 px-3 py-2 rounded-full backdrop-blur-sm",children:[s.jsx(G,{onClick:I,size:"sm",variant:"ghost",className:"text-white hover:bg-white/20 p-1 h-8 w-8",children:g?s.jsx(nf,{className:"w-4 h-4"}):s.jsx(El,{className:"w-4 h-4"})}),s.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:_,onChange:K=>M(parseFloat(K.target.value)),className:"w-20 h-2 bg-white/30 rounded-lg appearance-none cursor-pointer accent-white"})]}),s.jsx(G,{onClick:R,size:"sm",className:"bg-white/20 hover:bg-white/30 text-white border-2 border-white/40 rounded-full w-10 h-10 p-0",children:m?s.jsx(zl,{className:"w-5 h-5"}):s.jsx(hr,{className:"w-5 h-5 ml-0.5"})}),s.jsx(G,{onClick:I,size:"sm",variant:"ghost",className:"sm:hidden text-white hover:bg-white/20 p-2 h-10 w-10",children:g?s.jsx(nf,{className:"w-5 h-5"}):s.jsx(El,{className:"w-5 h-5"})})]})]})})})]})})}wO.propTypes={children:It.node.isRequired,currentPageName:It.string};const ne=v.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:ut("rounded-xl border bg-card text-card-foreground shadow",t),...e}));ne.displayName="Card";const Le=v.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:ut("flex flex-col space-y-1.5 p-6",t),...e}));Le.displayName="CardHeader";const Fe=v.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:ut("font-semibold leading-none tracking-tight",t),...e}));Fe.displayName="CardTitle";const Hie=v.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:ut("text-sm text-muted-foreground",t),...e}));Hie.displayName="CardDescription";const se=v.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:ut("p-6 pt-0",t),...e}));se.displayName="CardContent";const Wie=v.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:ut("flex items-center p-6 pt-0",t),...e}));Wie.displayName="CardFooter";const Kie=[{title:"Islamic Games",description:"Fun educational games to learn about Islam",icon:oo,link:"Games",color:"from-blue-500 to-purple-500"},{title:"Learning Paths",description:"Structured journeys through Islamic knowledge",icon:Om,link:"LearningPaths",color:"from-purple-500 to-pink-500"},{title:"Stories",description:"Read inspiring stories from Islamic history",icon:dn,link:"Stories",color:"from-green-500 to-teal-500"},{title:"Audio Library",description:"Listen to Quran recitations and Islamic lectures",icon:lo,link:"Audio",color:"from-purple-500 to-pink-500"},{title:"Videos",description:"Watch educational Islamic videos for kids",icon:to,link:"Videos",color:"from-red-500 to-orange-500"},{title:"Leaderboard",description:"Compete with friends and earn badges",icon:br,link:"Leaderboard",color:"from-amber-500 to-yellow-500"},{title:"Creative Corner",description:"Express yourself through Islamic art & poetry",icon:yy,link:"CreativeCorner",color:"from-pink-500 to-rose-500"},{title:"Record & Share",description:"Record Quran recitations and nasheeds",icon:Sl,link:"RecordAndShare",color:"from-cyan-500 to-blue-500"}],Gie=[{icon:ah,title:"Love & Compassion",description:"Teaching kindness and mercy to all",color:"text-red-500"},{icon:zt,title:"Knowledge & Wisdom",description:"Seeking knowledge is obligatory",color:"text-yellow-500"},{icon:oh,title:"Safety & Security",description:"A safe environment for children",color:"text-blue-500"}];function hx(){const{isPlaying:t,isMuted:e,volume:n,togglePlay:r,toggleMute:i,setVolume:a}=qie(),[o,c]=v.useState(0),[d,h]=v.useState([]),m=[{id:1,text:"Welcome to Islam Kids Zone",subtext:"Learn, Play & Grow in Faith",gradient:"from-blue-600 via-purple-600 to-pink-600"},{id:2,text:'"Whoever guides someone to goodness will have a reward like one who did it."',subtext:" Sahih Muslim",gradient:"from-green-600 via-teal-600 to-cyan-600"},{id:3,text:`"The best among you are those who learn the Qur'an and teach it."`,subtext:" Sahih Bukhari",gradient:"from-amber-600 via-orange-600 to-red-600"},{id:4,text:'"Remember Allah much so that you may be successful."',subtext:" Qur'an 62:10",gradient:"from-purple-600 via-pink-600 to-rose-600"}];v.useEffect(()=>{const g=setInterval(()=>{c(x=>(x+1)%m.length)},5e3);return()=>clearInterval(g)},[]),v.useEffect(()=>{(async()=>{try{const _=(await xd.list()||[]).filter(w=>(w.active??!0)&&(w.placement||"home")==="home");_.sort((w,j)=>(w.order??0)-(j.order??0)),h(_)}catch{try{const _=localStorage.getItem("homepage_sponsors"),w=_?JSON.parse(_):[],j=(Array.isArray(w)?w:[]).filter(N=>(N.active??!0)&&(N.placement||"home")==="home");j.sort((N,E)=>(N.order??0)-(E.order??0)),h(j)}catch{h([])}}})()},[]);const f=g=>{const x=parseFloat(g.target.value);a(x)};return s.jsxs("div",{className:"min-h-screen",children:[s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"fixed bottom-6 left-4 md:left-6 z-50",children:s.jsx("a",{href:"https://wa.me/447447999284?text=Assalamu%20Alaikum!%20I%20have%20a%20question%20about%20Islam%20Kids%20Zone.",target:"_blank",rel:"noopener noreferrer",className:"block bg-green-500 hover:bg-green-600 text-white rounded-full p-3 md:p-4 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-110","aria-label":"Chat on WhatsApp",children:s.jsx(EB,{className:"w-6 h-6 md:w-8 md:h-8"})})}),s.jsxs("section",{className:"relative py-12 md:py-20 px-4 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-100 via-purple-100 to-pink-100 opacity-50"}),s.jsx("div",{className:"max-w-6xl mx-auto relative z-10",children:s.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[s.jsx(te.div,{className:"text-6xl md:text-8xl mb-6",animate:{rotate:[0,10,-10,0]},transition:{duration:3,repeat:1/0,repeatDelay:2},children:""}),s.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-gray-900 mb-4 md:mb-6",children:["Welcome to ",s.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600",children:"Islam Kids Zone"})]}),s.jsx("p",{className:"text-lg md:text-xl text-gray-700 mb-6 md:mb-8 max-w-3xl mx-auto",children:"A comprehensive Islamic learning platform designed for children. Learn through interactive games, stories, and structured learning paths."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx(Et,{to:et("Games"),children:s.jsxs(G,{size:"lg",className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white text-base md:text-lg px-6 md:px-8 py-4 md:py-6 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[s.jsx(ni,{className:"mr-2 w-5 h-5 md:w-6 md:h-6"}),"Start Learning"]})}),s.jsx(Et,{to:et("LearningPaths"),children:s.jsxs(G,{size:"lg",variant:"outline",className:"border-2 border-purple-500 text-purple-600 hover:bg-purple-50 text-base md:text-lg px-6 md:px-8 py-4 md:py-6 rounded-full",children:[s.jsx(Aj,{className:"mr-2 w-5 h-5 md:w-6 md:h-6"}),"Browse Learning Paths"]})}),s.jsx(Et,{to:et("Signup"),children:s.jsxs(G,{size:"lg",className:"bg-gradient-to-r from-green-500 to-teal-500 hover:from-green-600 hover:to-teal-600 text-white text-base md:text-lg px-6 md:px-8 py-4 md:py-6 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[s.jsx(Ew,{className:"mr-2 w-5 h-5 md:w-6 md:h-6"}),"Signup"]})})]})]})})]}),s.jsx("section",{className:"py-4 px-4 bg-gradient-to-r from-amber-500 to-orange-500",children:s.jsx("div",{className:"max-w-6xl mx-auto",children:s.jsx(te.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl border-4 border-amber-400",children:s.jsx("div",{className:"p-6 md:p-8",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"text-4xl md:text-5xl flex-shrink-0 animate-bounce",children:""}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx(ni,{className:"w-6 h-6 text-amber-600"}),"Website Under Development"]}),s.jsxs("div",{className:"space-y-2 text-gray-700",children:[s.jsx("p",{className:"text-base md:text-lg font-semibold",children:" We are currently working on exciting website improvements!"}),s.jsxs("p",{className:"text-sm md:text-base",children:["Our team is enhancing your experience with new features, better performance, and more Islamic content. The website is under construction and testing for the next ",s.jsx("strong",{className:"text-amber-600",children:"two weeks"}),"."]}),s.jsxs("div",{className:"bg-amber-50 border-2 border-amber-200 rounded-lg p-4 mt-4",children:[s.jsxs("p",{className:"text-sm md:text-base font-semibold text-amber-900 flex items-center gap-2",children:[s.jsx(ah,{className:"w-5 h-5 text-red-500 fill-red-500"}),"Please kindly support us during this time!"]}),s.jsx("p",{className:"text-xs md:text-sm text-amber-800 mt-2",children:"If you encounter any issues or have suggestions, please use the WhatsApp button or contact us. Thank you for your patience and understanding! "})]})]})]})]})})})})}),s.jsx("section",{className:"py-8 md:py-12 px-4",children:s.jsx("div",{className:"max-w-6xl mx-auto",children:s.jsxs("div",{className:"relative overflow-hidden rounded-2xl shadow-2xl",children:[s.jsx(gs,{mode:"wait",children:s.jsx(te.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:.5},className:`bg-gradient-to-r ${m[o].gradient} flex items-center justify-center p-8 md:p-12`,children:s.jsxs("div",{className:"text-center text-white",children:[s.jsx("h2",{className:"text-2xl md:text-4xl font-bold mb-2",children:m[o].text}),m[o].subtext&&s.jsx("p",{className:"text-sm md:text-lg text-white/90",children:m[o].subtext})]})},o)}),s.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex gap-2 z-10",children:m.map((g,x)=>s.jsx("button",{onClick:()=>c(x),className:`w-2 h-2 md:w-3 md:h-3 rounded-full transition-all ${x===o?"bg-white w-6 md:w-8":"bg-white/50"}`,"aria-label":`Go to slide ${x+1}`},x))})]})})}),s.jsx("section",{className:"py-8 md:py-12 px-4 bg-white",children:s.jsx("div",{className:"max-w-6xl mx-auto",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-center p-6 bg-gradient-to-br from-blue-50 to-purple-50 rounded-2xl border-2 border-blue-200",children:[s.jsx("div",{className:"text-5xl mb-4",children:""}),s.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-2",children:"12+"}),s.jsx("p",{className:"text-gray-600 font-medium",children:"Interactive Games"})]}),s.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-center p-6 bg-gradient-to-br from-green-50 to-teal-50 rounded-2xl border-2 border-green-200",children:[s.jsx("div",{className:"text-5xl mb-4",children:""}),s.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-2",children:"7"}),s.jsx("p",{className:"text-gray-600 font-medium",children:"Learning Paths"})]}),s.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-center p-6 bg-gradient-to-br from-amber-50 to-orange-50 rounded-2xl border-2 border-amber-200",children:[s.jsx("div",{className:"text-5xl mb-4",children:""}),s.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-2",children:"100+"}),s.jsx("p",{className:"text-gray-600 font-medium",children:"Active Learners"})]})]})})}),s.jsx("section",{className:"py-8 md:py-12 px-4 bg-gradient-to-br from-purple-50 to-blue-50",children:s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:s.jsx(ne,{className:"border-4 border-purple-300 shadow-2xl bg-gradient-to-r from-purple-600 to-blue-600",children:s.jsxs(se,{className:"p-6 md:p-8",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[s.jsx(BR,{className:"w-10 h-10 md:w-12 md:h-12 text-white"}),s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white",children:"Islamic Radio "})]}),s.jsx("p",{className:"text-lg md:text-xl text-white/90",children:"Listen to Live Islamic Content 24/7"}),s.jsx("p",{className:"text-sm text-white/80 mt-2",children:"Radio continues playing as you browse the site!"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[s.jsx(G,{onClick:r,size:"lg",className:"bg-white/20 hover:bg-white/30 text-white border-4 border-white/40 rounded-full w-20 h-20 md:w-24 md:h-24 p-0 shadow-xl",children:t?s.jsx(zl,{className:"w-10 h-10 md:w-12 md:h-12"}):s.jsx(hr,{className:"w-10 h-10 md:w-12 md:h-12 ml-1"})}),s.jsxs("div",{className:"flex items-center gap-4 bg-white/20 px-6 py-4 rounded-full backdrop-blur-sm w-full sm:w-auto sm:min-w-[300px]",children:[s.jsx(G,{onClick:i,size:"sm",variant:"ghost",className:"text-white hover:bg-white/20 p-2 h-10 w-10",children:e?s.jsx(nf,{className:"w-6 h-6"}):s.jsx(El,{className:"w-6 h-6"})}),s.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:n,onChange:f,className:"flex-1 h-3 bg-white/30 rounded-lg appearance-none cursor-pointer accent-white"})]})]}),s.jsx("div",{className:"text-center mt-6",children:s.jsx("p",{className:"text-sm text-white/80",children:t?" Now Playing - Islamic Radio":"Click play to start listening"})})]})})})})}),s.jsx("section",{className:"py-12 md:py-16 px-4 bg-white",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Our Core Values"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Building strong Islamic character and knowledge through engaging content"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8",children:Gie.map((g,x)=>s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*x},children:s.jsx(ne,{className:"h-full hover:shadow-xl transition-shadow duration-300 border-2 hover:border-purple-300",children:s.jsxs(se,{className:"p-6 text-center",children:[s.jsx(g.icon,{className:`w-16 h-16 mx-auto mb-4 ${g.color}`}),s.jsx("h3",{className:"text-xl font-bold mb-2 text-gray-900",children:g.title}),s.jsx("p",{className:"text-gray-600",children:g.description})]})})},x))})]})}),s.jsx("section",{className:"py-12 md:py-16 px-4 bg-gradient-to-br from-blue-50 to-purple-50",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Comprehensive Islamic Learning"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Explore our wide range of educational resources designed for children"})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:Kie.map((g,x)=>s.jsx(te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1*x},whileHover:{scale:1.05},children:s.jsx(Et,{to:et(g.link),children:s.jsx(ne,{className:"h-full hover:shadow-2xl transition-all duration-300 cursor-pointer border-2 hover:border-purple-300",children:s.jsxs(se,{className:"p-6 text-center",children:[s.jsx("div",{className:`w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-r ${g.color} flex items-center justify-center`,children:s.jsx(g.icon,{className:"w-8 h-8 text-white"})}),s.jsx("h3",{className:"text-lg font-bold mb-2 text-gray-900",children:g.title}),s.jsx("p",{className:"text-sm text-gray-600",children:g.description})]})})})},x))})]})}),s.jsx("section",{className:"py-12 md:py-16 px-4 bg-white",children:s.jsx("div",{className:"max-w-6xl mx-auto",children:s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:s.jsx(ne,{className:"border-4 border-amber-400 shadow-2xl bg-gradient-to-br from-amber-50 to-orange-50",children:s.jsx(se,{className:"p-8 md:p-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-6xl mb-6",children:""}),s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Monthly Learning Competition"}),s.jsx("p",{className:"text-lg text-gray-700 mb-6 max-w-2xl mx-auto",children:"Compete with learners worldwide! Top 3 students each month win amazing prizes. Play games, complete learning paths, and climb the leaderboard."}),s.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[s.jsx(Et,{to:et("Leaderboard"),children:s.jsxs(G,{size:"lg",className:"bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600",children:[s.jsx(br,{className:"w-5 h-5 mr-2"}),"View Leaderboard"]})}),s.jsx(Et,{to:et("Games"),children:s.jsxs(G,{size:"lg",variant:"outline",className:"border-2 border-amber-500",children:[s.jsx(oo,{className:"w-5 h-5 mr-2"}),"Start Playing"]})})]})]})})})})})}),s.jsx("section",{className:"py-12 md:py-16 px-4 bg-gradient-to-br from-purple-50 to-pink-50",children:s.jsx("div",{className:"max-w-4xl mx-auto text-center",children:s.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Join Our Community"}),s.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Follow us for daily Islamic inspiration and educational content"}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-4 md:gap-6",children:[s.jsxs("a",{href:"https://www.tiktok.com/@islamkidszone",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-black hover:bg-gray-800 text-white px-6 py-3 rounded-full transition-all duration-300 transform hover:scale-105 shadow-lg",children:[s.jsx(vd,{className:"w-5 h-5"}),s.jsx("span",{className:"font-semibold",children:"TikTok"})]}),s.jsxs("a",{href:"https://www.instagram.com/islamkidszone",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-6 py-3 rounded-full transition-all duration-300 transform hover:scale-105 shadow-lg",children:[s.jsx(vd,{className:"w-5 h-5"}),s.jsx("span",{className:"font-semibold",children:"Instagram"})]})]})]})})}),s.jsx("section",{className:"py-12 md:py-16 px-4 bg-white",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-8 md:mb-12",children:[s.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[s.jsx(UR,{className:"w-10 h-10 text-purple-600"}),s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900",children:"Latest Articles"})]}),s.jsx("p",{className:"text-lg text-gray-600",children:"Educational resources and parenting tips for Muslim families"})]}),s.jsx("div",{className:"text-center mt-8",children:s.jsxs("a",{href:"https://islamkidszone.com",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-purple-600 hover:text-purple-700 font-semibold text-lg",children:["Visit Our Blog",s.jsx(vd,{className:"w-5 h-5"})]})})]})}),s.jsx("section",{className:"py-16 md:py-20 px-4 bg-gradient-to-r from-blue-600 to-purple-600",children:s.jsx("div",{className:"max-w-4xl mx-auto text-center",children:s.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[s.jsx("h2",{className:"text-3xl md:text-5xl font-bold text-white mb-6",children:"Start Your Islamic Learning Journey Today"}),s.jsx("p",{className:"text-lg md:text-xl text-blue-100 mb-8",children:"Join thousands of children learning about Islam through our engaging platform"}),s.jsx(Et,{to:et("Games"),children:s.jsxs(G,{size:"lg",className:"bg-white text-purple-600 hover:bg-blue-50 text-base md:text-lg px-8 md:px-12 py-4 md:py-6 rounded-full shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105",children:[s.jsx(ni,{className:"mr-2 w-5 h-5 md:w-6 md:h-6"}),"Get Started Now"]})})]})})})]})}const Qie="modulepreload",Yie=function(t){return"/imediaweb/"+t},kA={},an=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let o=function(h){return Promise.all(h.map(m=>Promise.resolve(m).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));i=o(n.map(h=>{if(h=Yie(h),h in kA)return;kA[h]=!0;const m=h.endsWith(".css"),f=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${f}`))return;const g=document.createElement("link");if(g.rel=m?"stylesheet":Qie,m||(g.as="script"),g.crossOrigin="",g.href=h,d&&g.setAttribute("nonce",d),document.head.appendChild(g),m)return new Promise((x,_)=>{g.addEventListener("load",x),g.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return i.then(o=>{for(const c of o||[])c.status==="rejected"&&a(c.reason);return e().catch(a)})};var jh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Jie={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},cl,xj,oR,Xie=(oR=class{constructor(){Ze(this,cl,Jie);Ze(this,xj,!1)}setTimeoutProvider(t){Ve(this,cl,t)}setTimeout(t,e){return Y(this,cl).setTimeout(t,e)}clearTimeout(t){Y(this,cl).clearTimeout(t)}setInterval(t,e){return Y(this,cl).setInterval(t,e)}clearInterval(t){Y(this,cl).clearInterval(t)}},cl=new WeakMap,xj=new WeakMap,oR),Tc=new Xie;function Zie(t){setTimeout(t,0)}var nu=typeof window>"u"||"Deno"in globalThis;function Wr(){}function eae(t,e){return typeof t=="function"?t(e):t}function R1(t){return typeof t=="number"&&t>=0&&t!==1/0}function jO(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Nl(t,e){return typeof t=="function"?t(e):t}function Xs(t,e){return typeof t=="function"?t(e):t}function TA(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:o,stale:c}=t;if(o){if(r){if(e.queryHash!==L_(o,e.options))return!1}else if(!Sf(e.queryKey,o))return!1}if(n!=="all"){const d=e.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||i&&i!==e.state.fetchStatus||a&&!a(e))}function AA(t,e){const{exact:n,status:r,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(n){if(ru(e.options.mutationKey)!==ru(a))return!1}else if(!Sf(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function L_(t,e){return((e==null?void 0:e.queryKeyHashFn)||ru)(t)}function ru(t){return JSON.stringify(t,(e,n)=>P1(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Sf(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Sf(t[n],e[n])):!1}var tae=Object.prototype.hasOwnProperty;function NO(t,e){if(t===e)return t;const n=IA(t)&&IA(e);if(!n&&!(P1(t)&&P1(e)))return e;const i=(n?t:Object.keys(t)).length,a=n?e:Object.keys(e),o=a.length,c=n?new Array(o):{};let d=0;for(let h=0;h<o;h++){const m=n?h:a[h],f=t[m],g=e[m];if(f===g){c[m]=f,(n?h<i:tae.call(t,m))&&d++;continue}if(f===null||g===null||typeof f!="object"||typeof g!="object"){c[m]=g;continue}const x=NO(f,g);c[m]=x,x===f&&d++}return i===o&&d===i?t:c}function sy(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function IA(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function P1(t){if(!RA(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!RA(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function RA(t){return Object.prototype.toString.call(t)==="[object Object]"}function nae(t){return new Promise(e=>{Tc.setTimeout(e,t)})}function D1(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?NO(t,e):e}function rae(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function sae(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var F_=Symbol();function _O(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===F_?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function SO(t,e){return typeof t=="function"?t(...e):!!t}var Ic,ul,Ad,lR,iae=(lR=class extends jh{constructor(){super();Ze(this,Ic);Ze(this,ul);Ze(this,Ad);Ve(this,Ad,e=>{if(!nu&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Y(this,ul)||this.setEventListener(Y(this,Ad))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,ul))==null||e.call(this),Ve(this,ul,void 0))}setEventListener(e){var n;Ve(this,Ad,e),(n=Y(this,ul))==null||n.call(this),Ve(this,ul,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){Y(this,Ic)!==e&&(Ve(this,Ic,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof Y(this,Ic)=="boolean"?Y(this,Ic):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ic=new WeakMap,ul=new WeakMap,Ad=new WeakMap,lR),V_=new iae;function M1(){let t,e;const n=new Promise((i,a)=>{t=i,e=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var aae=Zie;function oae(){let t=[],e=0,n=c=>{c()},r=c=>{c()},i=aae;const a=c=>{e?t.push(c):i(()=>{n(c)})},o=()=>{const c=t;t=[],c.length&&i(()=>{r(()=>{c.forEach(d=>{n(d)})})})};return{batch:c=>{let d;e++;try{d=c()}finally{e--,e||o()}return d},batchCalls:c=>(...d)=>{a(()=>{c(...d)})},schedule:a,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{i=c}}}var nr=oae(),Id,dl,Rd,cR,lae=(cR=class extends jh{constructor(){super();Ze(this,Id,!0);Ze(this,dl);Ze(this,Rd);Ve(this,Rd,e=>{if(!nu&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Y(this,dl)||this.setEventListener(Y(this,Rd))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,dl))==null||e.call(this),Ve(this,dl,void 0))}setEventListener(e){var n;Ve(this,Rd,e),(n=Y(this,dl))==null||n.call(this),Ve(this,dl,e(this.setOnline.bind(this)))}setOnline(e){Y(this,Id)!==e&&(Ve(this,Id,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return Y(this,Id)}},Id=new WeakMap,dl=new WeakMap,Rd=new WeakMap,cR),iy=new lae;function cae(t){return Math.min(1e3*2**t,3e4)}function EO(t){return(t??"online")==="online"?iy.isOnline():!0}var O1=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function CO(t){let e=!1,n=0,r;const i=M1(),a=()=>i.status!=="pending",o=w=>{var j;if(!a()){const N=new O1(w);g(N),(j=t.onCancel)==null||j.call(t,N)}},c=()=>{e=!0},d=()=>{e=!1},h=()=>V_.isFocused()&&(t.networkMode==="always"||iy.isOnline())&&t.canRun(),m=()=>EO(t.networkMode)&&t.canRun(),f=w=>{a()||(r==null||r(),i.resolve(w))},g=w=>{a()||(r==null||r(),i.reject(w))},x=()=>new Promise(w=>{var j;r=N=>{(a()||h())&&w(N)},(j=t.onPause)==null||j.call(t)}).then(()=>{var w;r=void 0,a()||(w=t.onContinue)==null||w.call(t)}),_=()=>{if(a())return;let w;const j=n===0?t.initialPromise:void 0;try{w=j??t.fn()}catch(N){w=Promise.reject(N)}Promise.resolve(w).then(f).catch(N=>{var F;if(a())return;const E=t.retry??(nu?0:3),k=t.retryDelay??cae,C=typeof k=="function"?k(n,N):k,P=E===!0||typeof E=="number"&&n<E||typeof E=="function"&&E(n,N);if(e||!P){g(N);return}n++,(F=t.onFail)==null||F.call(t,n,N),nae(C).then(()=>h()?void 0:x()).then(()=>{e?g(N):_()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(r==null||r(),i),cancelRetry:c,continueRetry:d,canStart:m,start:()=>(m()?_():x().then(_),i)}}var Rc,uR,kO=(uR=class{constructor(){Ze(this,Rc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),R1(this.gcTime)&&Ve(this,Rc,Tc.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(nu?1/0:300*1e3))}clearGcTimeout(){Y(this,Rc)&&(Tc.clearTimeout(Y(this,Rc)),Ve(this,Rc,void 0))}},Rc=new WeakMap,uR),Pc,Pd,Js,Dc,ur,kf,Mc,bi,Ha,dR,uae=(dR=class extends kO{constructor(e){super();Ze(this,bi);Ze(this,Pc);Ze(this,Pd);Ze(this,Js);Ze(this,Dc);Ze(this,ur);Ze(this,kf);Ze(this,Mc);Ve(this,Mc,!1),Ve(this,kf,e.defaultOptions),this.setOptions(e.options),this.observers=[],Ve(this,Dc,e.client),Ve(this,Js,Y(this,Dc).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Ve(this,Pc,DA(this.options)),this.state=e.state??Y(this,Pc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=Y(this,ur))==null?void 0:e.promise}setOptions(e){if(this.options={...Y(this,kf),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=DA(this.options);n.data!==void 0&&(this.setState(PA(n.data,n.dataUpdatedAt)),Ve(this,Pc,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Y(this,Js).remove(this)}setData(e,n){const r=D1(this.state.data,e,this.options);return St(this,bi,Ha).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){St(this,bi,Ha).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=Y(this,ur))==null?void 0:r.promise;return(i=Y(this,ur))==null||i.cancel(e),n?n.then(Wr).catch(Wr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Y(this,Pc))}isActive(){return this.observers.some(e=>Xs(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===F_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Nl(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!jO(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=Y(this,ur))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=Y(this,ur))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Y(this,Js).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(Y(this,ur)&&(Y(this,Mc)?Y(this,ur).cancel({revert:!0}):Y(this,ur).cancelRetry()),this.scheduleGc()),Y(this,Js).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||St(this,bi,Ha).call(this,{type:"invalidate"})}async fetch(e,n){var d,h,m,f,g,x,_,w,j,N,E,k;if(this.state.fetchStatus!=="idle"&&((d=Y(this,ur))==null?void 0:d.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(Y(this,ur))return Y(this,ur).continueRetry(),Y(this,ur).promise}if(e&&this.setOptions(e),!this.options.queryFn){const C=this.observers.find(P=>P.options.queryFn);C&&this.setOptions(C.options)}const r=new AbortController,i=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(Ve(this,Mc,!0),r.signal)})},a=()=>{const C=_O(this.options,n),F=(()=>{const D={client:Y(this,Dc),queryKey:this.queryKey,meta:this.meta};return i(D),D})();return Ve(this,Mc,!1),this.options.persister?this.options.persister(C,F,this):C(F)},c=(()=>{const C={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:Y(this,Dc),state:this.state,fetchFn:a};return i(C),C})();(h=this.options.behavior)==null||h.onFetch(c,this),Ve(this,Pd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((m=c.fetchOptions)==null?void 0:m.meta))&&St(this,bi,Ha).call(this,{type:"fetch",meta:(f=c.fetchOptions)==null?void 0:f.meta}),Ve(this,ur,CO({initialPromise:n==null?void 0:n.initialPromise,fn:c.fetchFn,onCancel:C=>{C instanceof O1&&C.revert&&this.setState({...Y(this,Pd),fetchStatus:"idle"}),r.abort()},onFail:(C,P)=>{St(this,bi,Ha).call(this,{type:"failed",failureCount:C,error:P})},onPause:()=>{St(this,bi,Ha).call(this,{type:"pause"})},onContinue:()=>{St(this,bi,Ha).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0}));try{const C=await Y(this,ur).start();if(C===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(C),(x=(g=Y(this,Js).config).onSuccess)==null||x.call(g,C,this),(w=(_=Y(this,Js).config).onSettled)==null||w.call(_,C,this.state.error,this),C}catch(C){if(C instanceof O1){if(C.silent)return Y(this,ur).promise;if(C.revert){if(this.state.data===void 0)throw C;return this.state.data}}throw St(this,bi,Ha).call(this,{type:"error",error:C}),(N=(j=Y(this,Js).config).onError)==null||N.call(j,C,this),(k=(E=Y(this,Js).config).onSettled)==null||k.call(E,this.state.data,C,this),C}finally{this.scheduleGc()}}},Pc=new WeakMap,Pd=new WeakMap,Js=new WeakMap,Dc=new WeakMap,ur=new WeakMap,kf=new WeakMap,Mc=new WeakMap,bi=new WeakSet,Ha=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...TO(r.data,this.options),fetchMeta:e.meta??null};case"success":const i={...r,...PA(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Ve(this,Pd,e.manual?i:void 0),i;case"error":const a=e.error;return{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),nr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Y(this,Js).notify({query:this,type:"updated",action:e})})},dR);function TO(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:EO(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function PA(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function DA(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var os,Lt,Tf,qr,Oc,Dd,Wa,hl,Af,Md,Od,Lc,Fc,ml,Ld,Yt,Pm,L1,F1,V1,U1,z1,B1,$1,AO,hR,dae=(hR=class extends jh{constructor(e,n){super();Ze(this,Yt);Ze(this,os);Ze(this,Lt);Ze(this,Tf);Ze(this,qr);Ze(this,Oc);Ze(this,Dd);Ze(this,Wa);Ze(this,hl);Ze(this,Af);Ze(this,Md);Ze(this,Od);Ze(this,Lc);Ze(this,Fc);Ze(this,ml);Ze(this,Ld,new Set);this.options=n,Ve(this,os,e),Ve(this,hl,null),Ve(this,Wa,M1()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Y(this,Lt).addObserver(this),MA(Y(this,Lt),this.options)?St(this,Yt,Pm).call(this):this.updateResult(),St(this,Yt,U1).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return q1(Y(this,Lt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return q1(Y(this,Lt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,St(this,Yt,z1).call(this),St(this,Yt,B1).call(this),Y(this,Lt).removeObserver(this)}setOptions(e){const n=this.options,r=Y(this,Lt);if(this.options=Y(this,os).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Xs(this.options.enabled,Y(this,Lt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");St(this,Yt,$1).call(this),Y(this,Lt).setOptions(this.options),n._defaulted&&!sy(this.options,n)&&Y(this,os).getQueryCache().notify({type:"observerOptionsUpdated",query:Y(this,Lt),observer:this});const i=this.hasListeners();i&&OA(Y(this,Lt),r,this.options,n)&&St(this,Yt,Pm).call(this),this.updateResult(),i&&(Y(this,Lt)!==r||Xs(this.options.enabled,Y(this,Lt))!==Xs(n.enabled,Y(this,Lt))||Nl(this.options.staleTime,Y(this,Lt))!==Nl(n.staleTime,Y(this,Lt)))&&St(this,Yt,L1).call(this);const a=St(this,Yt,F1).call(this);i&&(Y(this,Lt)!==r||Xs(this.options.enabled,Y(this,Lt))!==Xs(n.enabled,Y(this,Lt))||a!==Y(this,ml))&&St(this,Yt,V1).call(this,a)}getOptimisticResult(e){const n=Y(this,os).getQueryCache().build(Y(this,os),e),r=this.createResult(n,e);return mae(this,r)&&(Ve(this,qr,r),Ve(this,Dd,this.options),Ve(this,Oc,Y(this,Lt).state)),r}getCurrentResult(){return Y(this,qr)}trackResult(e,n){return new Proxy(e,{get:(r,i)=>(this.trackProp(i),n==null||n(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&Y(this,Wa).status==="pending"&&Y(this,Wa).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,i))})}trackProp(e){Y(this,Ld).add(e)}getCurrentQuery(){return Y(this,Lt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=Y(this,os).defaultQueryOptions(e),r=Y(this,os).getQueryCache().build(Y(this,os),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return St(this,Yt,Pm).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),Y(this,qr)))}createResult(e,n){var I;const r=Y(this,Lt),i=this.options,a=Y(this,qr),o=Y(this,Oc),c=Y(this,Dd),h=e!==r?e.state:Y(this,Tf),{state:m}=e;let f={...m},g=!1,x;if(n._optimisticResults){const M=this.hasListeners(),V=!M&&MA(e,n),O=M&&OA(e,r,n,i);(V||O)&&(f={...f,...TO(m.data,e.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:_,errorUpdatedAt:w,status:j}=f;x=f.data;let N=!1;if(n.placeholderData!==void 0&&x===void 0&&j==="pending"){let M;a!=null&&a.isPlaceholderData&&n.placeholderData===(c==null?void 0:c.placeholderData)?(M=a.data,N=!0):M=typeof n.placeholderData=="function"?n.placeholderData((I=Y(this,Od))==null?void 0:I.state.data,Y(this,Od)):n.placeholderData,M!==void 0&&(j="success",x=D1(a==null?void 0:a.data,M,n),g=!0)}if(n.select&&x!==void 0&&!N)if(a&&x===(o==null?void 0:o.data)&&n.select===Y(this,Af))x=Y(this,Md);else try{Ve(this,Af,n.select),x=n.select(x),x=D1(a==null?void 0:a.data,x,n),Ve(this,Md,x),Ve(this,hl,null)}catch(M){Ve(this,hl,M)}Y(this,hl)&&(_=Y(this,hl),x=Y(this,Md),w=Date.now(),j="error");const E=f.fetchStatus==="fetching",k=j==="pending",C=j==="error",P=k&&E,F=x!==void 0,R={status:j,fetchStatus:f.fetchStatus,isPending:k,isSuccess:j==="success",isError:C,isInitialLoading:P,isLoading:P,data:x,dataUpdatedAt:f.dataUpdatedAt,error:_,errorUpdatedAt:w,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>h.dataUpdateCount||f.errorUpdateCount>h.errorUpdateCount,isFetching:E,isRefetching:E&&!k,isLoadingError:C&&!F,isPaused:f.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:C&&F,isStale:U_(e,n),refetch:this.refetch,promise:Y(this,Wa),isEnabled:Xs(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const M=U=>{R.status==="error"?U.reject(R.error):R.data!==void 0&&U.resolve(R.data)},V=()=>{const U=Ve(this,Wa,R.promise=M1());M(U)},O=Y(this,Wa);switch(O.status){case"pending":e.queryHash===r.queryHash&&M(O);break;case"fulfilled":(R.status==="error"||R.data!==O.value)&&V();break;case"rejected":(R.status!=="error"||R.error!==O.reason)&&V();break}}return R}updateResult(){const e=Y(this,qr),n=this.createResult(Y(this,Lt),this.options);if(Ve(this,Oc,Y(this,Lt).state),Ve(this,Dd,this.options),Y(this,Oc).data!==void 0&&Ve(this,Od,Y(this,Lt)),sy(n,e))return;Ve(this,qr,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!Y(this,Ld).size)return!0;const o=new Set(a??Y(this,Ld));return this.options.throwOnError&&o.add("error"),Object.keys(Y(this,qr)).some(c=>{const d=c;return Y(this,qr)[d]!==e[d]&&o.has(d)})};St(this,Yt,AO).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&St(this,Yt,U1).call(this)}},os=new WeakMap,Lt=new WeakMap,Tf=new WeakMap,qr=new WeakMap,Oc=new WeakMap,Dd=new WeakMap,Wa=new WeakMap,hl=new WeakMap,Af=new WeakMap,Md=new WeakMap,Od=new WeakMap,Lc=new WeakMap,Fc=new WeakMap,ml=new WeakMap,Ld=new WeakMap,Yt=new WeakSet,Pm=function(e){St(this,Yt,$1).call(this);let n=Y(this,Lt).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Wr)),n},L1=function(){St(this,Yt,z1).call(this);const e=Nl(this.options.staleTime,Y(this,Lt));if(nu||Y(this,qr).isStale||!R1(e))return;const r=jO(Y(this,qr).dataUpdatedAt,e)+1;Ve(this,Lc,Tc.setTimeout(()=>{Y(this,qr).isStale||this.updateResult()},r))},F1=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Y(this,Lt)):this.options.refetchInterval)??!1},V1=function(e){St(this,Yt,B1).call(this),Ve(this,ml,e),!(nu||Xs(this.options.enabled,Y(this,Lt))===!1||!R1(Y(this,ml))||Y(this,ml)===0)&&Ve(this,Fc,Tc.setInterval(()=>{(this.options.refetchIntervalInBackground||V_.isFocused())&&St(this,Yt,Pm).call(this)},Y(this,ml)))},U1=function(){St(this,Yt,L1).call(this),St(this,Yt,V1).call(this,St(this,Yt,F1).call(this))},z1=function(){Y(this,Lc)&&(Tc.clearTimeout(Y(this,Lc)),Ve(this,Lc,void 0))},B1=function(){Y(this,Fc)&&(Tc.clearInterval(Y(this,Fc)),Ve(this,Fc,void 0))},$1=function(){const e=Y(this,os).getQueryCache().build(Y(this,os),this.options);if(e===Y(this,Lt))return;const n=Y(this,Lt);Ve(this,Lt,e),Ve(this,Tf,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},AO=function(e){nr.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(Y(this,qr))}),Y(this,os).getQueryCache().notify({query:Y(this,Lt),type:"observerResultsUpdated"})})},hR);function hae(t,e){return Xs(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function MA(t,e){return hae(t,e)||t.state.data!==void 0&&q1(t,e,e.refetchOnMount)}function q1(t,e,n){if(Xs(e.enabled,t)!==!1&&Nl(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&U_(t,e)}return!1}function OA(t,e,n,r){return(t!==e||Xs(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&U_(t,n)}function U_(t,e){return Xs(e.enabled,t)!==!1&&t.isStaleByTime(Nl(e.staleTime,t))}function mae(t,e){return!sy(t.getCurrentResult(),e)}function LA(t){return{onFetch:(e,n)=>{var m,f,g,x,_;const r=e.options,i=(g=(f=(m=e.fetchOptions)==null?void 0:m.meta)==null?void 0:f.fetchMore)==null?void 0:g.direction,a=((x=e.state.data)==null?void 0:x.pages)||[],o=((_=e.state.data)==null?void 0:_.pageParams)||[];let c={pages:[],pageParams:[]},d=0;const h=async()=>{let w=!1;const j=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(e.signal.aborted?w=!0:e.signal.addEventListener("abort",()=>{w=!0}),e.signal)})},N=_O(e.options,e.fetchOptions),E=async(k,C,P)=>{if(w)return Promise.reject();if(C==null&&k.pages.length)return Promise.resolve(k);const D=(()=>{const V={client:e.client,queryKey:e.queryKey,pageParam:C,direction:P?"backward":"forward",meta:e.options.meta};return j(V),V})(),R=await N(D),{maxPages:I}=e.options,M=P?sae:rae;return{pages:M(k.pages,R,I),pageParams:M(k.pageParams,C,I)}};if(i&&a.length){const k=i==="backward",C=k?fae:FA,P={pages:a,pageParams:o},F=C(r,P);c=await E(P,F,k)}else{const k=t??a.length;do{const C=d===0?o[0]??r.initialPageParam:FA(r,c);if(d>0&&C==null)break;c=await E(c,C),d++}while(d<k)}return c};e.options.persister?e.fetchFn=()=>{var w,j;return(j=(w=e.options).persister)==null?void 0:j.call(w,h,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=h}}}function FA(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function fae(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var If,ea,Hr,Vc,ta,rl,mR,pae=(mR=class extends kO{constructor(e){super();Ze(this,ta);Ze(this,If);Ze(this,ea);Ze(this,Hr);Ze(this,Vc);Ve(this,If,e.client),this.mutationId=e.mutationId,Ve(this,Hr,e.mutationCache),Ve(this,ea,[]),this.state=e.state||IO(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Y(this,ea).includes(e)||(Y(this,ea).push(e),this.clearGcTimeout(),Y(this,Hr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Ve(this,ea,Y(this,ea).filter(n=>n!==e)),this.scheduleGc(),Y(this,Hr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Y(this,ea).length||(this.state.status==="pending"?this.scheduleGc():Y(this,Hr).remove(this))}continue(){var e;return((e=Y(this,Vc))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,c,d,h,m,f,g,x,_,w,j,N,E,k,C,P,F,D,R,I;const n=()=>{St(this,ta,rl).call(this,{type:"continue"})},r={client:Y(this,If),meta:this.options.meta,mutationKey:this.options.mutationKey};Ve(this,Vc,CO({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(M,V)=>{St(this,ta,rl).call(this,{type:"failed",failureCount:M,error:V})},onPause:()=>{St(this,ta,rl).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Y(this,Hr).canRun(this)}));const i=this.state.status==="pending",a=!Y(this,Vc).canStart();try{if(i)n();else{St(this,ta,rl).call(this,{type:"pending",variables:e,isPaused:a}),await((c=(o=Y(this,Hr).config).onMutate)==null?void 0:c.call(o,e,this,r));const V=await((h=(d=this.options).onMutate)==null?void 0:h.call(d,e,r));V!==this.state.context&&St(this,ta,rl).call(this,{type:"pending",context:V,variables:e,isPaused:a})}const M=await Y(this,Vc).start();return await((f=(m=Y(this,Hr).config).onSuccess)==null?void 0:f.call(m,M,e,this.state.context,this,r)),await((x=(g=this.options).onSuccess)==null?void 0:x.call(g,M,e,this.state.context,r)),await((w=(_=Y(this,Hr).config).onSettled)==null?void 0:w.call(_,M,null,this.state.variables,this.state.context,this,r)),await((N=(j=this.options).onSettled)==null?void 0:N.call(j,M,null,e,this.state.context,r)),St(this,ta,rl).call(this,{type:"success",data:M}),M}catch(M){try{throw await((k=(E=Y(this,Hr).config).onError)==null?void 0:k.call(E,M,e,this.state.context,this,r)),await((P=(C=this.options).onError)==null?void 0:P.call(C,M,e,this.state.context,r)),await((D=(F=Y(this,Hr).config).onSettled)==null?void 0:D.call(F,void 0,M,this.state.variables,this.state.context,this,r)),await((I=(R=this.options).onSettled)==null?void 0:I.call(R,void 0,M,e,this.state.context,r)),M}finally{St(this,ta,rl).call(this,{type:"error",error:M})}}finally{Y(this,Hr).runNext(this)}}},If=new WeakMap,ea=new WeakMap,Hr=new WeakMap,Vc=new WeakMap,ta=new WeakSet,rl=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),nr.batch(()=>{Y(this,ea).forEach(r=>{r.onMutationUpdate(e)}),Y(this,Hr).notify({mutation:this,type:"updated",action:e})})},mR);function IO(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ka,wi,Rf,fR,gae=(fR=class extends jh{constructor(e={}){super();Ze(this,Ka);Ze(this,wi);Ze(this,Rf);this.config=e,Ve(this,Ka,new Set),Ve(this,wi,new Map),Ve(this,Rf,0)}build(e,n,r){const i=new pae({client:e,mutationCache:this,mutationId:++mg(this,Rf)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){Y(this,Ka).add(e);const n=Vg(e);if(typeof n=="string"){const r=Y(this,wi).get(n);r?r.push(e):Y(this,wi).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Y(this,Ka).delete(e)){const n=Vg(e);if(typeof n=="string"){const r=Y(this,wi).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&Y(this,wi).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Vg(e);if(typeof n=="string"){const r=Y(this,wi).get(n),i=r==null?void 0:r.find(a=>a.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=Vg(e);if(typeof n=="string"){const i=(r=Y(this,wi).get(n))==null?void 0:r.find(a=>a!==e&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){nr.batch(()=>{Y(this,Ka).forEach(e=>{this.notify({type:"removed",mutation:e})}),Y(this,Ka).clear(),Y(this,wi).clear()})}getAll(){return Array.from(Y(this,Ka))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>AA(n,r))}findAll(e={}){return this.getAll().filter(n=>AA(e,n))}notify(e){nr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return nr.batch(()=>Promise.all(e.map(n=>n.continue().catch(Wr))))}},Ka=new WeakMap,wi=new WeakMap,Rf=new WeakMap,fR);function Vg(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Ga,fl,ls,Qa,io,mx,H1,pR,xae=(pR=class extends jh{constructor(n,r){super();Ze(this,io);Ze(this,Ga);Ze(this,fl);Ze(this,ls);Ze(this,Qa);Ve(this,Ga,n),this.setOptions(r),this.bindMethods(),St(this,io,mx).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=Y(this,Ga).defaultMutationOptions(n),sy(this.options,r)||Y(this,Ga).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Y(this,ls),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&ru(r.mutationKey)!==ru(this.options.mutationKey)?this.reset():((i=Y(this,ls))==null?void 0:i.state.status)==="pending"&&Y(this,ls).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=Y(this,ls))==null||n.removeObserver(this)}onMutationUpdate(n){St(this,io,mx).call(this),St(this,io,H1).call(this,n)}getCurrentResult(){return Y(this,fl)}reset(){var n;(n=Y(this,ls))==null||n.removeObserver(this),Ve(this,ls,void 0),St(this,io,mx).call(this),St(this,io,H1).call(this)}mutate(n,r){var i;return Ve(this,Qa,r),(i=Y(this,ls))==null||i.removeObserver(this),Ve(this,ls,Y(this,Ga).getMutationCache().build(Y(this,Ga),this.options)),Y(this,ls).addObserver(this),Y(this,ls).execute(n)}},Ga=new WeakMap,fl=new WeakMap,ls=new WeakMap,Qa=new WeakMap,io=new WeakSet,mx=function(){var r;const n=((r=Y(this,ls))==null?void 0:r.state)??IO();Ve(this,fl,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},H1=function(n){nr.batch(()=>{var r,i,a,o,c,d,h,m;if(Y(this,Qa)&&this.hasListeners()){const f=Y(this,fl).variables,g=Y(this,fl).context,x={client:Y(this,Ga),meta:this.options.meta,mutationKey:this.options.mutationKey};(n==null?void 0:n.type)==="success"?((i=(r=Y(this,Qa)).onSuccess)==null||i.call(r,n.data,f,g,x),(o=(a=Y(this,Qa)).onSettled)==null||o.call(a,n.data,null,f,g,x)):(n==null?void 0:n.type)==="error"&&((d=(c=Y(this,Qa)).onError)==null||d.call(c,n.error,f,g,x),(m=(h=Y(this,Qa)).onSettled)==null||m.call(h,void 0,n.error,f,g,x))}this.listeners.forEach(f=>{f(Y(this,fl))})})},pR),na,gR,yae=(gR=class extends jh{constructor(e={}){super();Ze(this,na);this.config=e,Ve(this,na,new Map)}build(e,n,r){const i=n.queryKey,a=n.queryHash??L_(i,n);let o=this.get(a);return o||(o=new uae({client:e,queryKey:i,queryHash:a,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){Y(this,na).has(e.queryHash)||(Y(this,na).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=Y(this,na).get(e.queryHash);n&&(e.destroy(),n===e&&Y(this,na).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){nr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Y(this,na).get(e)}getAll(){return[...Y(this,na).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>TA(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>TA(e,r)):n}notify(e){nr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){nr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){nr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},na=new WeakMap,gR),An,pl,gl,Fd,Vd,xl,Ud,zd,xR,vae=(xR=class{constructor(t={}){Ze(this,An);Ze(this,pl);Ze(this,gl);Ze(this,Fd);Ze(this,Vd);Ze(this,xl);Ze(this,Ud);Ze(this,zd);Ve(this,An,t.queryCache||new yae),Ve(this,pl,t.mutationCache||new gae),Ve(this,gl,t.defaultOptions||{}),Ve(this,Fd,new Map),Ve(this,Vd,new Map),Ve(this,xl,0)}mount(){mg(this,xl)._++,Y(this,xl)===1&&(Ve(this,Ud,V_.subscribe(async t=>{t&&(await this.resumePausedMutations(),Y(this,An).onFocus())})),Ve(this,zd,iy.subscribe(async t=>{t&&(await this.resumePausedMutations(),Y(this,An).onOnline())})))}unmount(){var t,e;mg(this,xl)._--,Y(this,xl)===0&&((t=Y(this,Ud))==null||t.call(this),Ve(this,Ud,void 0),(e=Y(this,zd))==null||e.call(this),Ve(this,zd,void 0))}isFetching(t){return Y(this,An).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Y(this,pl).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Y(this,An).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=Y(this,An).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Nl(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return Y(this,An).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=Y(this,An).get(r.queryHash),a=i==null?void 0:i.state.data,o=eae(e,a);if(o!==void 0)return Y(this,An).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return nr.batch(()=>Y(this,An).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Y(this,An).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=Y(this,An);nr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=Y(this,An);return nr.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=nr.batch(()=>Y(this,An).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Wr).catch(Wr)}invalidateQueries(t,e={}){return nr.batch(()=>(Y(this,An).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=nr.batch(()=>Y(this,An).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(Wr)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Wr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=Y(this,An).build(this,e);return n.isStaleByTime(Nl(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Wr).catch(Wr)}fetchInfiniteQuery(t){return t.behavior=LA(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Wr).catch(Wr)}ensureInfiniteQueryData(t){return t.behavior=LA(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return iy.isOnline()?Y(this,pl).resumePausedMutations():Promise.resolve()}getQueryCache(){return Y(this,An)}getMutationCache(){return Y(this,pl)}getDefaultOptions(){return Y(this,gl)}setDefaultOptions(t){Ve(this,gl,t)}setQueryDefaults(t,e){Y(this,Fd).set(ru(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...Y(this,Fd).values()],n={};return e.forEach(r=>{Sf(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){Y(this,Vd).set(ru(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...Y(this,Vd).values()],n={};return e.forEach(r=>{Sf(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...Y(this,gl).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=L_(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===F_&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...Y(this,gl).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Y(this,An).clear(),Y(this,pl).clear()}},An=new WeakMap,pl=new WeakMap,gl=new WeakMap,Fd=new WeakMap,Vd=new WeakMap,xl=new WeakMap,Ud=new WeakMap,zd=new WeakMap,xR),RO=v.createContext(void 0),Vs=t=>{const e=v.useContext(RO);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},bae=({client:t,children:e})=>(v.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),s.jsx(RO.Provider,{value:t,children:e})),PO=v.createContext(!1),wae=()=>v.useContext(PO);PO.Provider;function jae(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Nae=v.createContext(jae()),_ae=()=>v.useContext(Nae),Sae=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},Eae=t=>{v.useEffect(()=>{t.clearReset()},[t])},Cae=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||SO(n,[t.error,r])),kae=t=>{if(t.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},Tae=(t,e)=>t.isLoading&&t.isFetching&&!e,Aae=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,VA=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function Iae(t,e,n){var f,g,x,_,w;const r=wae(),i=_ae(),a=Vs(),o=a.defaultQueryOptions(t);(g=(f=a.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||g.call(f,o),o._optimisticResults=r?"isRestoring":"optimistic",kae(o),Sae(o,i),Eae(i);const c=!a.getQueryCache().get(o.queryHash),[d]=v.useState(()=>new e(a,o)),h=d.getOptimisticResult(o),m=!r&&t.subscribed!==!1;if(v.useSyncExternalStore(v.useCallback(j=>{const N=m?d.subscribe(nr.batchCalls(j)):Wr;return d.updateResult(),N},[d,m]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),v.useEffect(()=>{d.setOptions(o)},[o,d]),Aae(o,h))throw VA(o,d,i);if(Cae({result:h,errorResetBoundary:i,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw h.error;if((_=(x=a.getDefaultOptions().queries)==null?void 0:x._experimental_afterQuery)==null||_.call(x,o,h),o.experimental_prefetchInRender&&!nu&&Tae(h,r)){const j=c?VA(o,d,i):(w=a.getQueryCache().get(o.queryHash))==null?void 0:w.promise;j==null||j.catch(Wr).finally(()=>{d.updateResult()})}return o.notifyOnChangeProps?h:d.trackResult(h)}function vn(t,e){return Iae(t,dae)}function gn(t,e){const n=Vs(),[r]=v.useState(()=>new xae(n,t));v.useEffect(()=>{r.setOptions(t)},[r,t]);const i=v.useSyncExternalStore(v.useCallback(o=>r.subscribe(nr.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=v.useCallback((o,c)=>{r.mutate(o,c).catch(Wr)},[r]);if(i.error&&SO(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}const Rae=Hf("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function we({className:t,variant:e,...n}){return s.jsx("div",{className:ut(Rae({variant:e}),t),...n})}const Pae=v.lazy(()=>an(()=>import("./WordScrambleGame-uAuzsOJn.js"),[])),Dae=v.lazy(()=>an(()=>import("./IslamicQuizGame-B4isuCN-.js"),[])),Mae=v.lazy(()=>an(()=>import("./IslamicWordSearchGame-BaUtx7s8.js"),[])),Oae=v.lazy(()=>an(()=>import("./SeerahGame-CPs607es.js"),[])),Lae=v.lazy(()=>an(()=>import("./QuranGame-cOAz8RDp.js"),[])),Fae=v.lazy(()=>an(()=>import("./HadithGame-CJLIjroW.js"),[])),Vae=v.lazy(()=>an(()=>import("./FiqhGame-CUemg9ag.js"),[])),Uae=v.lazy(()=>an(()=>import("./MemoryMatchGame-BQ6Sf9Uk.js"),[]));v.lazy(()=>an(()=>import("./QuestForIlm-Cpu37NLK.js"),[]));const zae=v.lazy(()=>an(()=>import("./MatchingPairsOfIman-Dn-wiltX.js"),[]));v.lazy(()=>an(()=>import("./SahabahArena-BtKsToV-.js"),__vite__mapDeps([0,1])));v.lazy(()=>an(()=>import("./MazeOfGuidance-3ELDTPJG.js"),[]));const Bae=v.lazy(()=>an(()=>import("./AyatExplorer-B5o0sY3o.js"),[]));v.lazy(()=>an(()=>import("./AkhlaqChallengeGame-lobTtjFU.js"),[]));v.lazy(()=>an(()=>import("./DailySunnahGame-DS_7JEfH.js"),[]));v.lazy(()=>an(()=>import("./IslamKnowledgeRaceGame-D45hLoxS.js"),__vite__mapDeps([2,1])));v.lazy(()=>an(()=>import("./IslamicCrosswordGame-FjjojUfL.js"),[]));v.lazy(()=>an(()=>import("./IslamicMoralsMazeGame-DXiy2ixz.js"),[]));v.lazy(()=>an(()=>import("./ProphetStoriesGame-BrQp-qVj.js"),[]));v.lazy(()=>an(()=>import("./QuranMemoryMatchGame-BjsWa-4D.js"),[]));v.lazy(()=>an(()=>import("./QuranQuestGame-CBjoOTPd.js"),[]));v.lazy(()=>an(()=>import("./SacredSitesJigsaw-DGAO0Vmw.js"),[]));v.lazy(()=>an(()=>import("./SahabahStoriesGame-ZHuu2zKm.js"),[]));v.lazy(()=>an(()=>import("./SeerahAdventureGame-CZusmzPd.js"),[]));v.lazy(()=>an(()=>import("./SpinToWinWheel-CDUunLFi.js"),__vite__mapDeps([3,1])));const Hb=[{id:"word_scramble",title:" Word Scramble Challenge",description:"Unscramble Islamic words - Easy, Medium & Hard!",emoji:"",difficulty:"All Levels",points:"10 pts per game",allowPoints:!0,allowPrizes:!1,component:Pae},{id:"matching_pairs_iman",title:" Matching Pairs of Iman",description:"Match Islamic concepts and terms to strengthen your Iman!",emoji:"",difficulty:"All Levels",points:"10 pts per game",allowPoints:!0,allowPrizes:!1,component:zae},{id:"ayat_explorer",title:" Ayat Explorer",description:"Explore Quranic knowledge through puzzles!",emoji:"",difficulty:"Medium",points:"10 pts per game",component:Bae},{id:"islamic_quiz",title:" Islamic Knowledge Quiz",description:"Test your knowledge of Quran, Hadith, Seerah & more!",emoji:"",difficulty:"All Levels",points:"10 pts per game",component:Dae},{id:"word_search",title:" Islamic Word Search",description:"Find Islamic words hidden in the grid",emoji:"",difficulty:"All Levels",points:"10 pts per game",component:Mae},{id:"seerah_game",title:" Seerah Quiz",description:"Learn about the life of Prophet Muhammad ",emoji:"",difficulty:"All Levels",points:"10 pts per game",component:Oae},{id:"quran_game",title:" Quran Quiz",description:"Test your knowledge of the Holy Quran",emoji:"",difficulty:"All Levels",points:"10 pts per game",component:Lae},{id:"hadith_game",title:" Hadith Match",description:"Learn authentic sayings of Prophet ",emoji:"",difficulty:"All Levels",points:"10 pts per game",component:Fae},{id:"fiqh_game",title:" Fiqh Challenge",description:"Learn Islamic rulings and practices",emoji:"",difficulty:"All Levels",points:"10 pts per game",component:Vae},{id:"memory_match",title:" Islamic Memory Match",description:"Match pairs of Islamic terms",emoji:"",difficulty:"All Levels",points:"10 pts per game",component:Uae}],$ae=()=>s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:""}),s.jsx("p",{className:"text-gray-600 font-medium",children:"Loading game..."})]})});function W1(){var j;const t=Bn(),[e,n]=v.useState(null),[r,i]=v.useState(!1),[a,o]=v.useState(!0),[c,d]=v.useState(null),[h,m]=v.useState(!1);v.useEffect(()=>{const N=localStorage.getItem("user");N?(i(!0),d(JSON.parse(N))):(i(!1),d(null)),o(!1)},[t]);const{data:f=[]}=vn({queryKey:["monthly-leaderboard"],queryFn:async()=>{const N=new Date,E=new Date(N.getFullYear(),N.getMonth(),1),C=JSON.parse(localStorage.getItem("gameScores")||"[]").filter(I=>new Date(I.created_date)>=E),P={};C.forEach(I=>{P[I.user_id]||(P[I.user_id]={user_id:I.user_id,total_score:0,games_played:0}),P[I.user_id].total_score+=I.score||0,P[I.user_id].games_played+=1});const F=JSON.parse(localStorage.getItem("users")||"[]");return Object.keys(P).map(I=>({...F.find(V=>V.id===I)||{id:I,name:"Guest"},monthly_score:P[I].total_score,monthly_games:P[I].games_played})).filter(I=>I.monthly_score>0).sort((I,M)=>M.monthly_score-I.monthly_score).slice(0,10)},enabled:r,initialData:[]}),{data:g=[]}=vn({queryKey:["leaderboard"],queryFn:async()=>JSON.parse(localStorage.getItem("users")||"[]").filter(E=>E.points>0).sort((E,k)=>k.points-E.points).slice(0,10),enabled:r,initialData:[]}),x=N=>{n(N)},_=async N=>{if(r&&c&&e)try{const E=JSON.parse(localStorage.getItem("gameScores")||"[]");E.push({user_id:c.id,game_type:e.id,score:N,created_date:new Date().toISOString()}),localStorage.setItem("gameScores",JSON.stringify(E));const k=JSON.parse(localStorage.getItem("users")||"[]"),C=k.findIndex(F=>F.id===c.id);let P=Math.min((c.points||0)+N,1500);C!==-1&&(k[C].points=P,localStorage.setItem("users",JSON.stringify(k))),d(F=>({...F,points:P}))}catch(E){console.error("Error saving game score:",E)}setTimeout(()=>n(null),3e3)};if(a)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-100 via-purple-50 to-pink-100 p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:""}),s.jsx("p",{className:"text-gray-600 font-medium",children:"Loading games..."})]})});const w=e==null?void 0:e.component;return e?s.jsx("div",{className:"min-h-screen py-6 px-4 bg-gradient-to-br from-blue-100 via-purple-50 to-pink-100",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs(G,{variant:"ghost",onClick:()=>n(null),className:"mb-6 bg-white/80 backdrop-blur-sm hover:bg-white",size:"sm",children:[s.jsx(Ul,{className:"w-4 h-4 mr-2"}),"Back to Games"]}),s.jsx(v.Suspense,{fallback:s.jsx($ae,{}),children:w&&s.jsx(w,{onComplete:_})})]})}):s.jsx("div",{className:"min-h-screen py-8 px-4 bg-gradient-to-br from-blue-100 via-purple-50 to-pink-100",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx(te.div,{className:"text-6xl mb-4",animate:{rotate:[0,10,-10,0]},transition:{duration:3,repeat:1/0,repeatDelay:2},children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Islamic Knowledge Games"}),s.jsxs("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:["Play fun games and test your Islamic knowledge!",r?" Each game earns you 10 points.":" Email us at imediac786@gmail.com to create your account and track your progress!"]})]}),!r&&s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8 max-w-2xl mx-auto",children:s.jsx(ne,{className:"border-2 border-blue-300 shadow-lg bg-gradient-to-br from-blue-50 to-purple-50",children:s.jsxs(se,{className:"p-6 text-center",children:[s.jsx(br,{className:"w-12 h-12 mx-auto mb-4 text-blue-600"}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:" Playing as Guest"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"You can play all games for free! Email us to create your account, track your progress, earn points, and compete on the leaderboard."}),s.jsx("div",{className:"flex gap-3 justify-center",children:s.jsxs(G,{onClick:()=>{const N=encodeURIComponent("Access Request - Islam Kids Zone"),E=encodeURIComponent("Hi, I'd like to create an account for Islam Kids Zone. My name is ____ and my contact details are ____.");window.location.href=`mailto:imediac786@gmail.com?subject=${N}&body=${E}`},className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-blue-500 to-purple-500 text-white font-bold shadow hover:scale-105 transition-transform",children:[s.jsx(xy,{className:"w-4 h-4 mr-2"}),"Request Access via Email"]})})]})})}),r&&s.jsxs(s.Fragment,{children:[s.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-wrap justify-center gap-3 mb-12",children:[s.jsxs(G,{onClick:()=>m(!h),className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white shadow-lg",children:[s.jsx(br,{className:"w-4 h-4 mr-2"}),"Monthly Champions"]}),s.jsx(Et,{to:et("Challenges"),children:s.jsxs(G,{className:"bg-gradient-to-r from-red-500 to-pink-500 hover:from-red-600 hover:to-pink-600 text-white shadow-lg",children:[s.jsx(oo,{className:"w-4 h-4 mr-2"}),"Challenge Friends"]})})]}),s.jsx(gs,{children:h&&f.length>0&&s.jsx(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"mb-12 max-w-xl mx-auto",children:s.jsxs(ne,{className:"border-2 border-purple-300 shadow-xl bg-gradient-to-br from-purple-50 to-pink-50",children:[s.jsx(Le,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-t-xl",children:s.jsxs(Fe,{className:"text-2xl flex items-center gap-2 justify-center",children:[s.jsx(br,{className:"w-6 h-6"}),"Monthly Champions"]})}),s.jsx(se,{className:"p-6 pt-4",children:s.jsx("div",{className:"space-y-3",children:f.slice(0,10).map((N,E)=>{const C=[{icon:qC,color:"text-yellow-500",bg:"bg-yellow-50"},{icon:ud,color:"text-gray-400",bg:"bg-gray-50"},{icon:ud,color:"text-orange-600",bg:"bg-orange-50"}][E],P=(C==null?void 0:C.icon)||zt;return s.jsxs(te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:E*.1},className:`flex items-center gap-3 p-3 rounded-xl ${(C==null?void 0:C.bg)||"bg-white"} border-2 ${E===0?"border-amber-400":"border-gray-200"}`,children:[s.jsx("div",{className:`w-8 h-8 rounded-full ${(C==null?void 0:C.bg)||"bg-blue-50"} flex items-center justify-center ${(C==null?void 0:C.color)||"text-gray-600"}`,children:s.jsx(P,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-bold text-sm text-gray-900",children:N.full_name||"Anonymous"}),s.jsxs("p",{className:"text-xs text-gray-600",children:[N.monthly_games," games this month"]})]}),s.jsxs("div",{className:"flex items-center gap-1 bg-purple-100 px-2 py-1 rounded-full",children:[s.jsx(zt,{className:"w-4 h-4 text-purple-600 fill-purple-600"}),s.jsx("span",{className:"font-bold text-sm text-purple-900",children:N.monthly_score})]})]},N.id)})})})]})})})]}),s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:s.jsx(ne,{className:"border-4 border-amber-400 shadow-2xl",children:s.jsx(se,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"text-5xl",children:""}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Win Prizes Every Month!"}),s.jsx("p",{className:"text-gray-800 font-medium",children:"Play games, earn points, compete! Top 3 players win prizes!"})]})]})})})}),g.length>0&&s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:s.jsxs(ne,{className:"border-2 border-purple-200 shadow-xl",children:[s.jsx(Le,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Fe,{className:"text-2xl flex items-center gap-2",children:[s.jsx(Bl,{className:"w-6 h-6 text-indigo-500"}),"Top Players (All Time)"]}),s.jsx(G,{onClick:()=>t(et("Leaderboard")),variant:"outline",size:"sm",children:"View All"})]})}),s.jsx(se,{children:s.jsx("div",{className:"space-y-3",children:g.slice(0,3).map((N,E)=>{const C=[{icon:qC,color:"text-yellow-500",bg:"bg-yellow-50"},{icon:ud,color:"text-gray-400",bg:"bg-gray-50"},{icon:ud,color:"text-orange-600",bg:"bg-orange-50"}][E],P=(C==null?void 0:C.icon)||zt;return s.jsxs(te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:E*.1},className:`flex items-center gap-4 p-4 rounded-xl ${(C==null?void 0:C.bg)||"bg-white"} border-2 ${E===0?"border-amber-400":"border-gray-200"}`,children:[s.jsx("div",{className:`w-10 h-10 rounded-full ${(C==null?void 0:C.bg)||"bg-blue-50"} flex items-center justify-center ${(C==null?void 0:C.color)||"text-gray-600"}`,children:s.jsx(P,{className:"w-6 h-6"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-bold text-base text-gray-900",children:N.full_name||"Anonymous"}),s.jsx("p",{className:"text-sm text-gray-600",children:N.city||"Unknown"})]}),s.jsxs("div",{className:"flex items-center gap-1 bg-amber-100 px-2 py-1 rounded-full",children:[s.jsx(zt,{className:"w-4 h-4 text-amber-600 fill-amber-600"}),s.jsx("span",{className:"font-bold text-sm text-amber-900",children:N.points})]})]},N.id)})})})]})}),s.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-500 to-purple-500 rounded-2xl p-6 mb-12 text-white shadow-2xl",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[s.jsxs("div",{children:[s.jsx(oo,{className:"w-8 h-8 mx-auto mb-2"}),s.jsx("div",{className:"text-2xl font-bold",children:Hb.length}),s.jsx("div",{className:"text-sm text-blue-100",children:"Games"})]}),s.jsxs("div",{children:[s.jsx(zt,{className:"w-8 h-8 mx-auto mb-2"}),s.jsx("div",{className:"text-2xl font-bold",children:(c==null?void 0:c.points)||0}),s.jsx("div",{className:"text-sm text-blue-100",children:"Your Points"})]}),s.jsxs("div",{children:[s.jsx(br,{className:"w-8 h-8 mx-auto mb-2"}),s.jsx("div",{className:"text-2xl font-bold",children:((j=c==null?void 0:c.badges)==null?void 0:j.length)||0}),s.jsx("div",{className:"text-sm text-blue-100",children:"Badges"})]})]}),r&&s.jsxs("div",{className:"mt-4 p-3 bg-white/20 rounded-lg backdrop-blur-sm",children:[s.jsxs("p",{className:"text-sm font-semibold mb-2 flex items-center justify-center gap-2",children:[s.jsx(VR,{className:"w-4 h-4"}),"Daily Challenge: Complete all ",Hb.length," games for +10 bonus points!"]}),s.jsx("div",{className:"text-xs text-blue-100 text-center",children:"Perfect score on any game = +5 bonus points "})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-6xl mx-auto",children:s.jsx(gs,{children:Hb.map((N,E)=>s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:E*.05},whileHover:{y:-5},children:s.jsxs(ne,{className:"h-full border-2 hover:border-blue-300 hover:shadow-2xl transition-all duration-300 cursor-pointer group",children:[s.jsxs(Le,{className:"bg-gradient-to-br from-blue-50 to-purple-50",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx(te.div,{className:"text-5xl",whileHover:{scale:1.2,rotate:[0,-10,10,-10,0]},transition:{duration:.5},children:N.emoji}),s.jsx(we,{className:"bg-amber-500 hover:bg-amber-600",children:N.points})]}),s.jsx(Fe,{className:"text-xl group-hover:text-blue-600 transition-colors",children:N.title})]}),s.jsxs(se,{className:"pt-3",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:N.description}),s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[s.jsx(we,{variant:"outline",className:"text-xs",children:N.difficulty}),s.jsx(G,{onClick:()=>x(N),className:"bg-blue-600 hover:bg-blue-700",size:"sm",children:"Play Now"})]})]})]})},N.id))})})]})})}function qae(t,e=[]){let n=[];function r(a,o){const c=v.createContext(o);c.displayName=a+"Context";const d=n.length;n=[...n,o];const h=f=>{var N;const{scope:g,children:x,..._}=f,w=((N=g==null?void 0:g[t])==null?void 0:N[d])||c,j=v.useMemo(()=>_,Object.values(_));return s.jsx(w.Provider,{value:j,children:x})};h.displayName=a+"Provider";function m(f,g){var w;const x=((w=g==null?void 0:g[t])==null?void 0:w[d])||c,_=v.useContext(x);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[h,m]}const i=()=>{const a=n.map(o=>v.createContext(o));return function(c){const d=(c==null?void 0:c[t])||a;return v.useMemo(()=>({[`__scope${t}`]:{...c,[t]:d}}),[c,d])}};return i.scopeName=t,[r,Hae(i,...e)]}function Hae(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((c,{useScope:d,scopeName:h})=>{const f=d(a)[`__scope${h}`];return{...c,...f}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Wae=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],z_=Wae.reduce((t,e)=>{const n=Fy(`Primitive.${e}`),r=v.forwardRef((i,a)=>{const{asChild:o,...c}=i,d=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(d,{...c,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),Wb={exports:{}},Kb={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UA;function Kae(){if(UA)return Kb;UA=1;var t=hy();function e(f,g){return f===g&&(f!==0||1/f===1/g)||f!==f&&g!==g}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,o=t.useDebugValue;function c(f,g){var x=g(),_=r({inst:{value:x,getSnapshot:g}}),w=_[0].inst,j=_[1];return a(function(){w.value=x,w.getSnapshot=g,d(w)&&j({inst:w})},[f,x,g]),i(function(){return d(w)&&j({inst:w}),f(function(){d(w)&&j({inst:w})})},[f]),o(x),x}function d(f){var g=f.getSnapshot;f=f.value;try{var x=g();return!n(f,x)}catch{return!0}}function h(f,g){return g()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return Kb.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,Kb}var zA;function Gae(){return zA||(zA=1,Wb.exports=Kae()),Wb.exports}var Qae=Gae();function Yae(){return Qae.useSyncExternalStore(Jae,()=>!0,()=>!1)}function Jae(){return()=>{}}var B_="Avatar",[Xae]=qae(B_),[Zae,DO]=Xae(B_),MO=v.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,a]=v.useState("idle");return s.jsx(Zae,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:s.jsx(z_.span,{...r,ref:e})})});MO.displayName=B_;var OO="AvatarImage",LO=v.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...a}=t,o=DO(OO,n),c=eoe(r,a),d=_i(h=>{i(h),o.onImageLoadingStatusChange(h)});return ir(()=>{c!=="idle"&&d(c)},[c,d]),c==="loaded"?s.jsx(z_.img,{...a,ref:e,src:r}):null});LO.displayName=OO;var FO="AvatarFallback",VO=v.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,a=DO(FO,n),[o,c]=v.useState(r===void 0);return v.useEffect(()=>{if(r!==void 0){const d=window.setTimeout(()=>c(!0),r);return()=>window.clearTimeout(d)}},[r]),o&&a.imageLoadingStatus!=="loaded"?s.jsx(z_.span,{...i,ref:e}):null});VO.displayName=FO;function BA(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function eoe(t,{referrerPolicy:e,crossOrigin:n}){const r=Yae(),i=v.useRef(null),a=r?(i.current||(i.current=new window.Image),i.current):null,[o,c]=v.useState(()=>BA(a,t));return ir(()=>{c(BA(a,t))},[a,t]),ir(()=>{const d=f=>()=>{c(f)};if(!a)return;const h=d("loaded"),m=d("error");return a.addEventListener("load",h),a.addEventListener("error",m),e&&(a.referrerPolicy=e),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",h),a.removeEventListener("error",m)}},[a,n,e]),o}var UO=MO,zO=LO,BO=VO;const toe=v.forwardRef(({className:t,...e},n)=>s.jsx(UO,{ref:n,className:ut("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));toe.displayName=UO.displayName;const noe=v.forwardRef(({className:t,...e},n)=>s.jsx(zO,{ref:n,className:ut("aspect-square h-full w-full",t),...e}));noe.displayName=zO.displayName;const roe=v.forwardRef(({className:t,...e},n)=>s.jsx(BO,{ref:n,className:ut("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));roe.displayName=BO.displayName;function $O(){const[t,e]=v.useState(null),[n,r]=v.useState(!1);v.useEffect(()=>{const h=pu(async m=>{const f=!!m;if(r(f),f)try{const g=await wh(m.uid);e(g?{id:m.uid,...g}:{id:m.uid,email:m.email,points:0})}catch{e({id:m.uid,email:m.email,points:0})}else e(null)});return()=>{try{h==null||h()}catch{}}},[]);const{data:i=[],isLoading:a}=vn({queryKey:["leaderboard-users"],queryFn:async()=>{try{return(await O_.list()).sort((m,f)=>Number(f.points||0)-Number(m.points||0))}catch{return[]}},initialData:[]}),o=h=>{switch(h){case 0:return s.jsx(br,{className:"w-6 h-6 sm:w-8 sm:h-8 text-amber-500"});case 1:return s.jsx(ud,{className:"w-6 h-6 sm:w-8 sm:h-8 text-gray-400"});case 2:return s.jsx(ud,{className:"w-6 h-6 sm:w-8 sm:h-8 text-amber-600"});default:return s.jsxs("span",{className:"text-lg sm:text-2xl font-bold text-gray-400",children:["#",h+1]})}},c=h=>{switch(h){case 0:return"from-amber-400 to-amber-600";case 1:return"from-gray-300 to-gray-500";case 2:return"from-amber-500 to-amber-700";default:return"from-blue-100 to-purple-100"}},d=h=>{var f;const m=h.fullName||h.full_name||h.name||"";return m?m.split(" ")[0]:((f=h.email)==null?void 0:f.split("@")[0])||"Anonymous"};return s.jsx("div",{className:"min-h-screen py-6 sm:py-8 md:py-12 px-3 sm:px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8 sm:mb-12",children:[s.jsx("div",{className:"text-5xl sm:text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-gray-900 mb-3 sm:mb-4 px-2",children:"Top Young Learners"}),s.jsx("p",{className:"text-base sm:text-lg text-gray-600 px-2",children:"These amazing kids are learning and earning points!"})]}),!n&&s.jsx(te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-6 sm:mb-8",children:s.jsx(ne,{className:"border-2 border-blue-200 shadow-lg bg-gradient-to-br from-blue-50 to-purple-50",children:s.jsxs(se,{className:"p-4 sm:p-6 text-center",children:[s.jsx(zt,{className:"w-8 h-8 sm:w-10 sm:h-10 mx-auto mb-3 sm:mb-4 text-blue-600"}),s.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-2",children:"Want to See Your Name Here?"}),s.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-3 sm:mb-4 px-2",children:"Join Islam Kids Zone to earn points, compete with friends, and climb the leaderboard!"}),s.jsxs(G,{onClick:()=>{const h=encodeURIComponent("Access Request - Islam Kids Zone"),m=encodeURIComponent("Hi, I'd like to create an account to join the leaderboard. My name is ____ and my contact details are ____.");window.location.href=`mailto:imediac786@gmail.com?subject=${h}&body=${m}`},className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600",children:[s.jsx(kj,{className:"w-4 h-4 mr-2"}),"Request Access via Email"]})]})})}),t&&s.jsx(te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-6 sm:mb-8",children:s.jsx(ne,{className:"border-2 border-blue-300 shadow-lg",children:s.jsx(se,{className:"p-4 sm:p-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 w-full sm:w-auto",children:[s.jsx("div",{className:"text-3xl sm:text-4xl flex-shrink-0",children:t.avatar||""}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Your Progress"}),s.jsx("p",{className:"text-lg sm:text-xl font-bold text-gray-900 truncate",children:d(t)}),s.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[s.jsx(zt,{className:"w-4 h-4 text-amber-500 fill-amber-500 flex-shrink-0"}),s.jsxs("span",{className:"font-semibold text-amber-600 text-sm sm:text-base",children:[t.points||0," points"]}),t.madrasah_maktab&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-gray-400 hidden xs:inline",children:""}),s.jsxs("span",{className:"text-xs sm:text-sm text-gray-600 truncate",children:[" ",t.madrasah_maktab]})]})]})]})]}),s.jsxs("div",{className:"text-center flex-shrink-0",children:[s.jsx(by,{className:"w-6 h-6 sm:w-8 sm:h-8 text-green-500 mx-auto mb-1"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Keep going!"})]})]})})})}),s.jsxs(ne,{className:"shadow-xl",children:[s.jsx(Le,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white p-4 sm:p-6",children:s.jsx(Fe,{className:"text-xl sm:text-2xl",children:"All-Time Leaderboard"})}),s.jsx(se,{className:"p-0",children:a?s.jsx("div",{className:"p-8 sm:p-12 text-center text-gray-500",children:"Loading leaderboard..."}):i.length===0?s.jsxs("div",{className:"p-8 sm:p-12 text-center text-gray-500",children:[s.jsx(zt,{className:"w-12 h-12 sm:w-16 sm:h-16 mx-auto mb-4 text-gray-300"}),s.jsx("p",{children:"No learners yet. Be the first to earn points!"})]}):s.jsx("div",{className:"divide-y divide-gray-100",children:i.map((h,m)=>s.jsx(te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:m*.05},className:`p-4 sm:p-6 hover:bg-gray-50 transition-colors ${t!=null&&t.id&&t.id===(h.uid||h.id)?"bg-blue-50 border-l-4 border-blue-500":""}`,children:s.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[s.jsx("div",{className:"w-12 sm:w-16 flex justify-center flex-shrink-0",children:o(m)}),s.jsxs("div",{className:"flex-1 min-w-0 flex items-center gap-3 sm:gap-4",children:[s.jsx("div",{className:`w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-gradient-to-br ${c(m)} flex items-center justify-center text-xl sm:text-2xl shadow-lg flex-shrink-0`,children:h.avatar||""}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"font-bold text-sm sm:text-base text-gray-900 flex items-center gap-2 flex-wrap",children:[s.jsx("span",{className:"truncate",children:d(h)}),(t==null?void 0:t.id)&&t.id===(h.uid||h.id)&&s.jsx(we,{className:"bg-blue-500 text-xs flex-shrink-0",children:"You"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-gray-500 flex-wrap",children:[h.city&&s.jsx("span",{className:"truncate",children:h.city}),h.madrasah_maktab&&s.jsxs(s.Fragment,{children:[h.city&&s.jsx("span",{className:"hidden xs:inline",children:""}),s.jsxs("span",{className:"flex items-center gap-1 truncate",children:[s.jsx("span",{className:"text-sm sm:text-base",children:""}),s.jsx("span",{className:"truncate",children:h.madrasah_maktab})]})]})]})]})]}),s.jsxs("div",{className:"text-right flex-shrink-0",children:[s.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 text-lg sm:text-xl font-bold text-amber-600",children:[s.jsx(zt,{className:"w-4 h-4 sm:w-5 sm:h-5 fill-amber-500 text-amber-500"}),s.jsx("span",{children:Number(h.points||0)})]}),s.jsx("p",{className:"text-[10px] sm:text-xs text-gray-500",children:"points"})]})]})},h.uid||h.id||`${h.email||h.full_name||"user"}-${m}`))})})]})]})})}function soe(t,e=[]){let n=[];function r(a,o){const c=v.createContext(o);c.displayName=a+"Context";const d=n.length;n=[...n,o];const h=f=>{var N;const{scope:g,children:x,..._}=f,w=((N=g==null?void 0:g[t])==null?void 0:N[d])||c,j=v.useMemo(()=>_,Object.values(_));return s.jsx(w.Provider,{value:j,children:x})};h.displayName=a+"Provider";function m(f,g){var w;const x=((w=g==null?void 0:g[t])==null?void 0:w[d])||c,_=v.useContext(x);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[h,m]}const i=()=>{const a=n.map(o=>v.createContext(o));return function(c){const d=(c==null?void 0:c[t])||a;return v.useMemo(()=>({[`__scope${t}`]:{...c,[t]:d}}),[c,d])}};return i.scopeName=t,[r,ioe(i,...e)]}function ioe(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((c,{useScope:d,scopeName:h})=>{const f=d(a)[`__scope${h}`];return{...c,...f}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var aoe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],qO=aoe.reduce((t,e)=>{const n=Fy(`Primitive.${e}`),r=v.forwardRef((i,a)=>{const{asChild:o,...c}=i,d=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(d,{...c,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),$_="Progress",q_=100,[ooe]=soe($_),[loe,coe]=ooe($_),HO=v.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:a=uoe,...o}=t;(i||i===0)&&!$A(i)&&console.error(doe(`${i}`,"Progress"));const c=$A(i)?i:q_;r!==null&&!qA(r,c)&&console.error(hoe(`${r}`,"Progress"));const d=qA(r,c)?r:null,h=ay(d)?a(d,c):void 0;return s.jsx(loe,{scope:n,value:d,max:c,children:s.jsx(qO.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":ay(d)?d:void 0,"aria-valuetext":h,role:"progressbar","data-state":GO(d,c),"data-value":d??void 0,"data-max":c,...o,ref:e})})});HO.displayName=$_;var WO="ProgressIndicator",KO=v.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,i=coe(WO,n);return s.jsx(qO.div,{"data-state":GO(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:e})});KO.displayName=WO;function uoe(t,e){return`${Math.round(t/e*100)}%`}function GO(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function ay(t){return typeof t=="number"}function $A(t){return ay(t)&&!isNaN(t)&&t>0}function qA(t,e){return ay(t)&&!isNaN(t)&&t<=e&&t>=0}function doe(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${q_}\`.`}function hoe(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${q_} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var QO=HO,moe=KO;const su=v.forwardRef(({className:t,value:e,...n},r)=>s.jsx(QO,{ref:r,className:ut("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",t),...n,children:s.jsx(moe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));su.displayName=QO.displayName;function K1(){const[t,e]=v.useState(null),[n,r]=v.useState(null),[i,a]=v.useState([]),[o,c]=v.useState(!0),[d,h]=v.useState(""),m=async _=>{c(!0),h("");try{if(!_){r(null),a([]),c(!1);return}const w=await wh(_.uid);r(w?{id:_.uid,email:_.email,...w}:{id:_.uid,email:_.email,points:0});try{const{db:j}=Bt();if(j){const N=Vl(j,"users",_.uid),E=eu(N,"game_scores"),k=S_(E,T_("at","desc")),P=(await Jd(k)).docs.map(F=>({id:F.id,...F.data()}));a(P)}}catch{}}catch(w){h(`Failed to load profile: ${(w==null?void 0:w.message)||w}`)}finally{c(!1)}};v.useEffect(()=>{const _=pu(async w=>{e(w||null),await m(w)});return()=>{try{_==null||_()}catch{}}},[]);const f=1500,g=Number((n==null?void 0:n.points)||0),x=Math.round(Math.min(g/f*100,100));return s.jsx("div",{className:"min-h-screen py-6 sm:py-8 md:py-12 px-3 sm:px-4",children:s.jsx("div",{className:"max-w-3xl mx-auto",children:s.jsxs(ne,{className:"border-2 border-blue-300 shadow-lg mb-6",children:[s.jsx(Le,{className:"p-4 sm:p-6 bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:s.jsxs(Fe,{className:"text-xl sm:text-2xl flex items-center gap-2",children:[s.jsx(zt,{className:"w-5 h-5 text-amber-300"}),"My Points"]})}),s.jsxs(se,{className:"p-4 sm:p-6",children:[d&&s.jsx("div",{className:"mb-3 text-sm text-blue-700 bg-blue-50 border border-blue-200 rounded p-2",children:d}),t?o?s.jsx("div",{className:"text-center text-gray-500",children:"Loading your points"}):s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(zt,{className:"w-5 h-5 text-amber-500 fill-amber-500"}),s.jsxs("span",{className:"font-bold text-amber-700 text-lg",children:[g," points"]}),s.jsxs(we,{className:"bg-blue-100 text-blue-700",children:["Cap ",f]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(G,{variant:"outline",onClick:()=>m(t),children:[s.jsx(vy,{className:"w-4 h-4 mr-2"})," Refresh"]}),s.jsx(Et,{to:"/Leaderboard",children:s.jsxs(G,{children:[s.jsx(br,{className:"w-4 h-4 mr-2"})," Leaderboard"]})})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx(su,{value:x,className:"h-3"}),s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Progress to cap: ",x,"%"]})]}),n!=null&&n.lastAward?s.jsxs("div",{className:"mb-4 p-3 border rounded bg-gray-50",children:[s.jsx("div",{className:"text-sm text-gray-700",children:"Last Award"}),s.jsxs("div",{className:"text-sm text-gray-900 font-medium",children:[n.lastAward.game_type||"Game"," ",n.lastAward.perfect?" Perfect!":""," (+",n.lastAward.points_awarded||0,")"]})]}):s.jsx("div",{className:"mb-4 text-sm text-gray-600",children:"Play a game to earn your first points!"}),s.jsxs("div",{className:"mt-6",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-2",children:"Recent Awards"}),i.length===0?s.jsx("div",{className:"text-sm text-gray-600",children:"No awards yet."}):s.jsx("div",{className:"space-y-2",children:i.slice(0,10).map(_=>s.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[s.jsxs("div",{className:"text-sm text-gray-800",children:[_.game_type||"Game"," ",_.perfect?" Perfect!":""]}),s.jsxs("div",{className:"flex items-center gap-1 text-amber-700 font-semibold",children:[s.jsx(zt,{className:"w-3 h-3 text-amber-500 fill-amber-500"}),"+",Number(_.points_awarded||0)]})]},_.id))})]}),s.jsxs("div",{className:"mt-6 p-3 border rounded bg-blue-50 text-blue-700 flex items-center gap-2",children:[s.jsx(by,{className:"w-4 h-4"}),"Keep learning and playing to earn more points!"]})]}):s.jsxs("div",{className:"text-center text-gray-600",children:[s.jsx("p",{className:"mb-3",children:"Youre not signed in."}),s.jsx("p",{className:"mb-4",children:"Sign in to track your points and awards."}),s.jsx(Et,{to:"/Signup",children:s.jsx(G,{className:"bg-blue-600 hover:bg-blue-700",children:"Sign in / Signup"})})]})]})]})})})}function foe(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const poe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,goe=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,xoe={};function HA(t,e){return(xoe.jsx?goe:poe).test(t)}const yoe=/[ \t\n\f\r]/g;function voe(t){return typeof t=="object"?t.type==="text"?WA(t.value):!1:WA(t)}function WA(t){return t.replace(yoe,"")===""}class ip{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}ip.prototype.normal={};ip.prototype.property={};ip.prototype.space=void 0;function YO(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new ip(n,r,e)}function G1(t){return t.toLowerCase()}class xs{constructor(e,n){this.attribute=n,this.property=e}}xs.prototype.attribute="";xs.prototype.booleanish=!1;xs.prototype.boolean=!1;xs.prototype.commaOrSpaceSeparated=!1;xs.prototype.commaSeparated=!1;xs.prototype.defined=!1;xs.prototype.mustUseProperty=!1;xs.prototype.number=!1;xs.prototype.overloadedBoolean=!1;xs.prototype.property="";xs.prototype.spaceSeparated=!1;xs.prototype.space=void 0;let boe=0;const _t=gu(),Kn=gu(),Q1=gu(),Ce=gu(),ln=gu(),kd=gu(),As=gu();function gu(){return 2**++boe}const Y1=Object.freeze(Object.defineProperty({__proto__:null,boolean:_t,booleanish:Kn,commaOrSpaceSeparated:As,commaSeparated:kd,number:Ce,overloadedBoolean:Q1,spaceSeparated:ln},Symbol.toStringTag,{value:"Module"})),Gb=Object.keys(Y1);class H_ extends xs{constructor(e,n,r,i){let a=-1;if(super(e,n),KA(this,"space",i),typeof r=="number")for(;++a<Gb.length;){const o=Gb[a];KA(this,Gb[a],(r&Y1[o])===Y1[o])}}}H_.prototype.defined=!0;function KA(t,e,n){n&&(t[e]=n)}function Nh(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const a=new H_(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),e[r]=a,n[G1(r)]=r,n[G1(a.attribute)]=r}return new ip(e,n,t.space)}const JO=Nh({properties:{ariaActiveDescendant:null,ariaAtomic:Kn,ariaAutoComplete:null,ariaBusy:Kn,ariaChecked:Kn,ariaColCount:Ce,ariaColIndex:Ce,ariaColSpan:Ce,ariaControls:ln,ariaCurrent:null,ariaDescribedBy:ln,ariaDetails:null,ariaDisabled:Kn,ariaDropEffect:ln,ariaErrorMessage:null,ariaExpanded:Kn,ariaFlowTo:ln,ariaGrabbed:Kn,ariaHasPopup:null,ariaHidden:Kn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ln,ariaLevel:Ce,ariaLive:null,ariaModal:Kn,ariaMultiLine:Kn,ariaMultiSelectable:Kn,ariaOrientation:null,ariaOwns:ln,ariaPlaceholder:null,ariaPosInSet:Ce,ariaPressed:Kn,ariaReadOnly:Kn,ariaRelevant:null,ariaRequired:Kn,ariaRoleDescription:ln,ariaRowCount:Ce,ariaRowIndex:Ce,ariaRowSpan:Ce,ariaSelected:Kn,ariaSetSize:Ce,ariaSort:null,ariaValueMax:Ce,ariaValueMin:Ce,ariaValueNow:Ce,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function XO(t,e){return e in t?t[e]:e}function ZO(t,e){return XO(t,e.toLowerCase())}const woe=Nh({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:kd,acceptCharset:ln,accessKey:ln,action:null,allow:null,allowFullScreen:_t,allowPaymentRequest:_t,allowUserMedia:_t,alt:null,as:null,async:_t,autoCapitalize:null,autoComplete:ln,autoFocus:_t,autoPlay:_t,blocking:ln,capture:null,charSet:null,checked:_t,cite:null,className:ln,cols:Ce,colSpan:null,content:null,contentEditable:Kn,controls:_t,controlsList:ln,coords:Ce|kd,crossOrigin:null,data:null,dateTime:null,decoding:null,default:_t,defer:_t,dir:null,dirName:null,disabled:_t,download:Q1,draggable:Kn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:_t,formTarget:null,headers:ln,height:Ce,hidden:Q1,high:Ce,href:null,hrefLang:null,htmlFor:ln,httpEquiv:ln,id:null,imageSizes:null,imageSrcSet:null,inert:_t,inputMode:null,integrity:null,is:null,isMap:_t,itemId:null,itemProp:ln,itemRef:ln,itemScope:_t,itemType:ln,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:_t,low:Ce,manifest:null,max:null,maxLength:Ce,media:null,method:null,min:null,minLength:Ce,multiple:_t,muted:_t,name:null,nonce:null,noModule:_t,noValidate:_t,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:_t,optimum:Ce,pattern:null,ping:ln,placeholder:null,playsInline:_t,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:_t,referrerPolicy:null,rel:ln,required:_t,reversed:_t,rows:Ce,rowSpan:Ce,sandbox:ln,scope:null,scoped:_t,seamless:_t,selected:_t,shadowRootClonable:_t,shadowRootDelegatesFocus:_t,shadowRootMode:null,shape:null,size:Ce,sizes:null,slot:null,span:Ce,spellCheck:Kn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ce,step:null,style:null,tabIndex:Ce,target:null,title:null,translate:null,type:null,typeMustMatch:_t,useMap:null,value:Kn,width:Ce,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ln,axis:null,background:null,bgColor:null,border:Ce,borderColor:null,bottomMargin:Ce,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:_t,declare:_t,event:null,face:null,frame:null,frameBorder:null,hSpace:Ce,leftMargin:Ce,link:null,longDesc:null,lowSrc:null,marginHeight:Ce,marginWidth:Ce,noResize:_t,noHref:_t,noShade:_t,noWrap:_t,object:null,profile:null,prompt:null,rev:null,rightMargin:Ce,rules:null,scheme:null,scrolling:Kn,standby:null,summary:null,text:null,topMargin:Ce,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ce,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:_t,disableRemotePlayback:_t,prefix:null,property:null,results:Ce,security:null,unselectable:null},space:"html",transform:ZO}),joe=Nh({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:As,accentHeight:Ce,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ce,amplitude:Ce,arabicForm:null,ascent:Ce,attributeName:null,attributeType:null,azimuth:Ce,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ce,by:null,calcMode:null,capHeight:Ce,className:ln,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ce,diffuseConstant:Ce,direction:null,display:null,dur:null,divisor:Ce,dominantBaseline:null,download:_t,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ce,enableBackground:null,end:null,event:null,exponent:Ce,externalResourcesRequired:null,fill:null,fillOpacity:Ce,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:kd,g2:kd,glyphName:kd,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ce,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ce,horizOriginX:Ce,horizOriginY:Ce,id:null,ideographic:Ce,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ce,k:Ce,k1:Ce,k2:Ce,k3:Ce,k4:Ce,kernelMatrix:As,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ce,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ce,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ce,overlineThickness:Ce,paintOrder:null,panose1:null,path:null,pathLength:Ce,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ln,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ce,pointsAtY:Ce,pointsAtZ:Ce,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:As,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:As,rev:As,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:As,requiredFeatures:As,requiredFonts:As,requiredFormats:As,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ce,specularExponent:Ce,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ce,strikethroughThickness:Ce,string:null,stroke:null,strokeDashArray:As,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ce,strokeOpacity:Ce,strokeWidth:null,style:null,surfaceScale:Ce,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:As,tabIndex:Ce,tableValues:null,target:null,targetX:Ce,targetY:Ce,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:As,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ce,underlineThickness:Ce,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ce,values:null,vAlphabetic:Ce,vMathematical:Ce,vectorEffect:null,vHanging:Ce,vIdeographic:Ce,version:null,vertAdvY:Ce,vertOriginX:Ce,vertOriginY:Ce,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ce,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:XO}),eL=Nh({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),tL=Nh({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:ZO}),nL=Nh({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),Noe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},_oe=/[A-Z]/g,GA=/-[a-z]/g,Soe=/^data[-\w.:]+$/i;function Eoe(t,e){const n=G1(e);let r=e,i=xs;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Soe.test(e)){if(e.charAt(4)==="-"){const a=e.slice(5).replace(GA,koe);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=e.slice(4);if(!GA.test(a)){let o=a.replace(_oe,Coe);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=H_}return new i(r,e)}function Coe(t){return"-"+t.toLowerCase()}function koe(t){return t.charAt(1).toUpperCase()}const Toe=YO([JO,woe,eL,tL,nL],"html"),W_=YO([JO,joe,eL,tL,nL],"svg");function Aoe(t){return t.join(" ").trim()}var nd={},Qb,QA;function Ioe(){if(QA)return Qb;QA=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,c=/^\s+|\s+$/g,d=`
`,h="/",m="*",f="",g="comment",x="declaration";function _(j,N){if(typeof j!="string")throw new TypeError("First argument must be a string");if(!j)return[];N=N||{};var E=1,k=1;function C(X){var re=X.match(e);re&&(E+=re.length);var ue=X.lastIndexOf(d);k=~ue?X.length-ue:k+X.length}function P(){var X={line:E,column:k};return function(re){return re.position=new F(X),I(),re}}function F(X){this.start=X,this.end={line:E,column:k},this.source=N.source}F.prototype.content=j;function D(X){var re=new Error(N.source+":"+E+":"+k+": "+X);if(re.reason=X,re.filename=N.source,re.line=E,re.column=k,re.source=j,!N.silent)throw re}function R(X){var re=X.exec(j);if(re){var ue=re[0];return C(ue),j=j.slice(ue.length),re}}function I(){R(n)}function M(X){var re;for(X=X||[];re=V();)re!==!1&&X.push(re);return X}function V(){var X=P();if(!(h!=j.charAt(0)||m!=j.charAt(1))){for(var re=2;f!=j.charAt(re)&&(m!=j.charAt(re)||h!=j.charAt(re+1));)++re;if(re+=2,f===j.charAt(re-1))return D("End of comment missing");var ue=j.slice(2,re-2);return k+=2,C(ue),j=j.slice(re),k+=2,X({type:g,comment:ue})}}function O(){var X=P(),re=R(r);if(re){if(V(),!R(i))return D("property missing ':'");var ue=R(a),ie=X({type:x,property:w(re[0].replace(t,f)),value:ue?w(ue[0].replace(t,f)):f});return R(o),ie}}function U(){var X=[];M(X);for(var re;re=O();)re!==!1&&(X.push(re),M(X));return X}return I(),U()}function w(j){return j?j.replace(c,f):f}return Qb=_,Qb}var YA;function Roe(){if(YA)return nd;YA=1;var t=nd&&nd.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(nd,"__esModule",{value:!0}),nd.default=n;const e=t(Ioe());function n(r,i){let a=null;if(!r||typeof r!="string")return a;const o=(0,e.default)(r),c=typeof i=="function";return o.forEach(d=>{if(d.type!=="declaration")return;const{property:h,value:m}=d;c?i(h,m,d):m&&(a=a||{},a[h]=m)}),a}return nd}var xm={},JA;function Poe(){if(JA)return xm;JA=1,Object.defineProperty(xm,"__esModule",{value:!0}),xm.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,a=function(h){return!h||n.test(h)||t.test(h)},o=function(h,m){return m.toUpperCase()},c=function(h,m){return"".concat(m,"-")},d=function(h,m){return m===void 0&&(m={}),a(h)?h:(h=h.toLowerCase(),m.reactCompat?h=h.replace(i,c):h=h.replace(r,c),h.replace(e,o))};return xm.camelCase=d,xm}var ym,XA;function Doe(){if(XA)return ym;XA=1;var t=ym&&ym.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},e=t(Roe()),n=Poe();function r(i,a){var o={};return!i||typeof i!="string"||(0,e.default)(i,function(c,d){c&&d&&(o[(0,n.camelCase)(c,a)]=d)}),o}return r.default=r,ym=r,ym}var Moe=Doe();const Ooe=nh(Moe),rL=sL("end"),K_=sL("start");function sL(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Loe(t){const e=K_(t),n=rL(t);if(e&&n)return{start:e,end:n}}function Qm(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?ZA(t.position):"start"in t||"end"in t?ZA(t):"line"in t||"column"in t?J1(t):""}function J1(t){return eI(t&&t.line)+":"+eI(t&&t.column)}function ZA(t){return J1(t&&t.start)+"-"+J1(t&&t.end)}function eI(t){return t&&typeof t=="number"?t:1}class Or extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},o=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof e=="string"?i=e:!a.cause&&e&&(o=!0,i=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof r=="string"){const d=r.indexOf(":");d===-1?a.ruleId=r:(a.source=r.slice(0,d),a.ruleId=r.slice(d+1))}if(!a.place&&a.ancestors&&a.ancestors){const d=a.ancestors[a.ancestors.length-1];d&&(a.place=d.position)}const c=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=c?c.line:void 0,this.name=Qm(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=o&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Or.prototype.file="";Or.prototype.name="";Or.prototype.reason="";Or.prototype.message="";Or.prototype.stack="";Or.prototype.column=void 0;Or.prototype.line=void 0;Or.prototype.ancestors=void 0;Or.prototype.cause=void 0;Or.prototype.fatal=void 0;Or.prototype.place=void 0;Or.prototype.ruleId=void 0;Or.prototype.source=void 0;const G_={}.hasOwnProperty,Foe=new Map,Voe=/[A-Z]/g,Uoe=new Set(["table","tbody","thead","tfoot","tr"]),zoe=new Set(["td","th"]),iL="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Boe(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Yoe(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Qoe(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?W_:Toe,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},a=aL(i,t,void 0);return a&&typeof a!="string"?a:i.create(t,i.Fragment,{children:a||void 0},void 0)}function aL(t,e,n){if(e.type==="element")return $oe(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return qoe(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return Woe(t,e,n);if(e.type==="mdxjsEsm")return Hoe(t,e);if(e.type==="root")return Koe(t,e,n);if(e.type==="text")return Goe(t,e)}function $oe(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=W_,t.schema=i),t.ancestors.push(e);const a=lL(t,e.tagName,!1),o=Joe(t,e);let c=Y_(t,e);return Uoe.has(e.tagName)&&(c=c.filter(function(d){return typeof d=="string"?!voe(d):!0})),oL(t,o,a,e),Q_(o,c),t.ancestors.pop(),t.schema=r,t.create(e,a,o,n)}function qoe(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}Ef(t,e.position)}function Hoe(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Ef(t,e.position)}function Woe(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=W_,t.schema=i),t.ancestors.push(e);const a=e.name===null?t.Fragment:lL(t,e.name,!0),o=Xoe(t,e),c=Y_(t,e);return oL(t,o,a,e),Q_(o,c),t.ancestors.pop(),t.schema=r,t.create(e,a,o,n)}function Koe(t,e,n){const r={};return Q_(r,Y_(t,e)),t.create(e,t.Fragment,r,n)}function Goe(t,e){return e.value}function oL(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function Q_(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function Qoe(t,e,n){return r;function r(i,a,o,c){const h=Array.isArray(o.children)?n:e;return c?h(a,o,c):h(a,o)}}function Yoe(t,e){return n;function n(r,i,a,o){const c=Array.isArray(a.children),d=K_(r);return e(i,a,o,c,{columnNumber:d?d.column-1:void 0,fileName:t,lineNumber:d?d.line:void 0},void 0)}}function Joe(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&G_.call(e.properties,i)){const a=Zoe(t,i,e.properties[i]);if(a){const[o,c]=a;t.tableCellAlignToStyle&&o==="align"&&typeof c=="string"&&zoe.has(e.tagName)?r=c:n[o]=c}}if(r){const a=n.style||(n.style={});a[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Xoe(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const a=r.data.estree.body[0];a.type;const o=a.expression;o.type;const c=o.properties[0];c.type,Object.assign(n,t.evaluater.evaluateExpression(c.argument))}else Ef(t,e.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const c=r.value.data.estree.body[0];c.type,a=t.evaluater.evaluateExpression(c.expression)}else Ef(t,e.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function Y_(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:Foe;for(;++r<e.children.length;){const a=e.children[r];let o;if(t.passKeys){const d=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(d){const h=i.get(d)||0;o=d+"-"+h,i.set(d,h+1)}}const c=aL(t,a,o);c!==void 0&&n.push(c)}return n}function Zoe(t,e,n){const r=Eoe(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?foe(n):Aoe(n)),r.property==="style"){let i=typeof n=="object"?n:ele(t,String(n));return t.stylePropertyNameCase==="css"&&(i=tle(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?Noe[r.property]||r.property:r.attribute,n]}}function ele(t,e){try{return Ooe(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new Or("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=iL+"#cannot-parse-style-attribute",i}}function lL(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let a=-1,o;for(;++a<i.length;){const c=HA(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};o=o?{type:"MemberExpression",object:o,property:c,computed:!!(a&&c.type==="Literal"),optional:!1}:c}r=o}else r=HA(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return G_.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);Ef(t)}function Ef(t,e){const n=new Or("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=iL+"#cannot-handle-mdx-estrees-without-createevaluater",n}function tle(t){const e={};let n;for(n in t)G_.call(t,n)&&(e[nle(n)]=t[n]);return e}function nle(t){let e=t.replace(Voe,rle);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function rle(t){return"-"+t.toLowerCase()}const Yb={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},sle={};function ile(t,e){const n=sle,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return cL(t,r,i)}function cL(t,e,n){if(ale(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return tI(t.children,e,n)}return Array.isArray(t)?tI(t,e,n):""}function tI(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=cL(t[i],e,n);return r.join("")}function ale(t){return!!(t&&typeof t=="object")}const nI=document.createElement("i");function J_(t){const e="&"+t+";";nI.innerHTML=e;const n=nI.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Na(t,e,n,r){const i=t.length;let a=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(e,n),t.splice(...o);else for(n&&t.splice(e,n);a<r.length;)o=r.slice(a,a+1e4),o.unshift(e,0),t.splice(...o),a+=1e4,e+=1e4}function Zs(t,e){return t.length>0?(Na(t,t.length,0,e),t):e}const rI={}.hasOwnProperty;function ole(t){const e={};let n=-1;for(;++n<t.length;)lle(e,t[n]);return e}function lle(t,e){let n;for(n in e){const i=(rI.call(t,n)?t[n]:void 0)||(t[n]={}),a=e[n];let o;if(a)for(o in a){rI.call(i,o)||(i[o]=[]);const c=a[o];cle(i[o],Array.isArray(c)?c:c?[c]:[])}}}function cle(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Na(t,0,0,r)}function uL(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Td(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const sa=Gl(/[A-Za-z]/),Os=Gl(/[\dA-Za-z]/),ule=Gl(/[#-'*+\--9=?A-Z^-~]/);function X1(t){return t!==null&&(t<32||t===127)}const Z1=Gl(/\d/),dle=Gl(/[\dA-Fa-f]/),hle=Gl(/[!-/:-@[-`{-~]/);function ft(t){return t!==null&&t<-2}function ms(t){return t!==null&&(t<0||t===32)}function Ht(t){return t===-2||t===-1||t===32}const mle=Gl(new RegExp("\\p{P}|\\p{S}","u")),fle=Gl(/\s/);function Gl(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function _h(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const a=t.charCodeAt(n);let o="";if(a===37&&Os(t.charCodeAt(n+1))&&Os(t.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(o=String.fromCharCode(a));else if(a>55295&&a<57344){const c=t.charCodeAt(n+1);a<56320&&c>56319&&c<57344?(o=String.fromCharCode(a,c),i=1):o=""}else o=String.fromCharCode(a);o&&(e.push(t.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function un(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return o;function o(d){return Ht(d)?(t.enter(n),c(d)):e(d)}function c(d){return Ht(d)&&a++<i?(t.consume(d),c):(t.exit(n),e(d))}}const ple={tokenize:gle};function gle(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(c){if(c===null){t.consume(c);return}return t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),un(t,e,"linePrefix")}function i(c){return t.enter("paragraph"),a(c)}function a(c){const d=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=d),n=d,o(c)}function o(c){if(c===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(c);return}return ft(c)?(t.consume(c),t.exit("chunkText"),a):(t.consume(c),o)}}const xle={tokenize:yle},sI={tokenize:vle};function yle(t){const e=this,n=[];let r=0,i,a,o;return c;function c(k){if(r<n.length){const C=n[r];return e.containerState=C[1],t.attempt(C[0].continuation,d,h)(k)}return h(k)}function d(k){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&E();const C=e.events.length;let P=C,F;for(;P--;)if(e.events[P][0]==="exit"&&e.events[P][1].type==="chunkFlow"){F=e.events[P][1].end;break}N(r);let D=C;for(;D<e.events.length;)e.events[D][1].end={...F},D++;return Na(e.events,P+1,0,e.events.slice(C)),e.events.length=D,h(k)}return c(k)}function h(k){if(r===n.length){if(!i)return g(k);if(i.currentConstruct&&i.currentConstruct.concrete)return _(k);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(sI,m,f)(k)}function m(k){return i&&E(),N(r),g(k)}function f(k){return e.parser.lazy[e.now().line]=r!==n.length,o=e.now().offset,_(k)}function g(k){return e.containerState={},t.attempt(sI,x,_)(k)}function x(k){return r++,n.push([e.currentConstruct,e.containerState]),g(k)}function _(k){if(k===null){i&&E(),N(0),t.consume(k);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),w(k)}function w(k){if(k===null){j(t.exit("chunkFlow"),!0),N(0),t.consume(k);return}return ft(k)?(t.consume(k),j(t.exit("chunkFlow")),r=0,e.interrupt=void 0,c):(t.consume(k),w)}function j(k,C){const P=e.sliceStream(k);if(C&&P.push(null),k.previous=a,a&&(a.next=k),a=k,i.defineSkip(k.start),i.write(P),e.parser.lazy[k.start.line]){let F=i.events.length;for(;F--;)if(i.events[F][1].start.offset<o&&(!i.events[F][1].end||i.events[F][1].end.offset>o))return;const D=e.events.length;let R=D,I,M;for(;R--;)if(e.events[R][0]==="exit"&&e.events[R][1].type==="chunkFlow"){if(I){M=e.events[R][1].end;break}I=!0}for(N(r),F=D;F<e.events.length;)e.events[F][1].end={...M},F++;Na(e.events,R+1,0,e.events.slice(D)),e.events.length=F}}function N(k){let C=n.length;for(;C-- >k;){const P=n[C];e.containerState=P[1],P[0].exit.call(e,t)}n.length=k}function E(){i.write([null]),a=void 0,i=void 0,e.containerState._closeFlow=void 0}}function vle(t,e,n){return un(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function iI(t){if(t===null||ms(t)||fle(t))return 1;if(mle(t))return 2}function X_(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const a=t[i].resolveAll;a&&!r.includes(a)&&(e=a(e,n),r.push(a))}return e}const ej={name:"attention",resolveAll:ble,tokenize:wle};function ble(t,e){let n=-1,r,i,a,o,c,d,h,m;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;d=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const f={...t[r][1].end},g={...t[n][1].start};aI(f,-d),aI(g,d),o={type:d>1?"strongSequence":"emphasisSequence",start:f,end:{...t[r][1].end}},c={type:d>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:g},a={type:d>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:d>1?"strong":"emphasis",start:{...o.start},end:{...c.end}},t[r][1].end={...o.start},t[n][1].start={...c.end},h=[],t[r][1].end.offset-t[r][1].start.offset&&(h=Zs(h,[["enter",t[r][1],e],["exit",t[r][1],e]])),h=Zs(h,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",a,e]]),h=Zs(h,X_(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),h=Zs(h,[["exit",a,e],["enter",c,e],["exit",c,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(m=2,h=Zs(h,[["enter",t[n][1],e],["exit",t[n][1],e]])):m=0,Na(t,r-1,n-r+3,h),n=r+h.length-m-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function wle(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=iI(r);let a;return o;function o(d){return a=d,t.enter("attentionSequence"),c(d)}function c(d){if(d===a)return t.consume(d),c;const h=t.exit("attentionSequence"),m=iI(d),f=!m||m===2&&i||n.includes(d),g=!i||i===2&&m||n.includes(r);return h._open=!!(a===42?f:f&&(i||!g)),h._close=!!(a===42?g:g&&(m||!f)),e(d)}}function aI(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const jle={name:"autolink",tokenize:Nle};function Nle(t,e,n){let r=0;return i;function i(x){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(x),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),a}function a(x){return sa(x)?(t.consume(x),o):x===64?n(x):h(x)}function o(x){return x===43||x===45||x===46||Os(x)?(r=1,c(x)):h(x)}function c(x){return x===58?(t.consume(x),r=0,d):(x===43||x===45||x===46||Os(x))&&r++<32?(t.consume(x),c):(r=0,h(x))}function d(x){return x===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(x),t.exit("autolinkMarker"),t.exit("autolink"),e):x===null||x===32||x===60||X1(x)?n(x):(t.consume(x),d)}function h(x){return x===64?(t.consume(x),m):ule(x)?(t.consume(x),h):n(x)}function m(x){return Os(x)?f(x):n(x)}function f(x){return x===46?(t.consume(x),r=0,m):x===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(x),t.exit("autolinkMarker"),t.exit("autolink"),e):g(x)}function g(x){if((x===45||Os(x))&&r++<63){const _=x===45?g:f;return t.consume(x),_}return n(x)}}const a0={partial:!0,tokenize:_le};function _le(t,e,n){return r;function r(a){return Ht(a)?un(t,i,"linePrefix")(a):i(a)}function i(a){return a===null||ft(a)?e(a):n(a)}}const dL={continuation:{tokenize:Ele},exit:Cle,name:"blockQuote",tokenize:Sle};function Sle(t,e,n){const r=this;return i;function i(o){if(o===62){const c=r.containerState;return c.open||(t.enter("blockQuote",{_container:!0}),c.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),a}return n(o)}function a(o){return Ht(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function Ele(t,e,n){const r=this;return i;function i(o){return Ht(o)?un(t,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):a(o)}function a(o){return t.attempt(dL,e,n)(o)}}function Cle(t){t.exit("blockQuote")}const hL={name:"characterEscape",tokenize:kle};function kle(t,e,n){return r;function r(a){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(a),t.exit("escapeMarker"),i}function i(a){return hle(a)?(t.enter("characterEscapeValue"),t.consume(a),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(a)}}const mL={name:"characterReference",tokenize:Tle};function Tle(t,e,n){const r=this;let i=0,a,o;return c;function c(f){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),d}function d(f){return f===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(f),t.exit("characterReferenceMarkerNumeric"),h):(t.enter("characterReferenceValue"),a=31,o=Os,m(f))}function h(f){return f===88||f===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(f),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),a=6,o=dle,m):(t.enter("characterReferenceValue"),a=7,o=Z1,m(f))}function m(f){if(f===59&&i){const g=t.exit("characterReferenceValue");return o===Os&&!J_(r.sliceSerialize(g))?n(f):(t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return o(f)&&i++<a?(t.consume(f),m):n(f)}}const oI={partial:!0,tokenize:Ile},lI={concrete:!0,name:"codeFenced",tokenize:Ale};function Ale(t,e,n){const r=this,i={partial:!0,tokenize:P};let a=0,o=0,c;return d;function d(F){return h(F)}function h(F){const D=r.events[r.events.length-1];return a=D&&D[1].type==="linePrefix"?D[2].sliceSerialize(D[1],!0).length:0,c=F,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),m(F)}function m(F){return F===c?(o++,t.consume(F),m):o<3?n(F):(t.exit("codeFencedFenceSequence"),Ht(F)?un(t,f,"whitespace")(F):f(F))}function f(F){return F===null||ft(F)?(t.exit("codeFencedFence"),r.interrupt?e(F):t.check(oI,w,C)(F)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),g(F))}function g(F){return F===null||ft(F)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),f(F)):Ht(F)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),un(t,x,"whitespace")(F)):F===96&&F===c?n(F):(t.consume(F),g)}function x(F){return F===null||ft(F)?f(F):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),_(F))}function _(F){return F===null||ft(F)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),f(F)):F===96&&F===c?n(F):(t.consume(F),_)}function w(F){return t.attempt(i,C,j)(F)}function j(F){return t.enter("lineEnding"),t.consume(F),t.exit("lineEnding"),N}function N(F){return a>0&&Ht(F)?un(t,E,"linePrefix",a+1)(F):E(F)}function E(F){return F===null||ft(F)?t.check(oI,w,C)(F):(t.enter("codeFlowValue"),k(F))}function k(F){return F===null||ft(F)?(t.exit("codeFlowValue"),E(F)):(t.consume(F),k)}function C(F){return t.exit("codeFenced"),e(F)}function P(F,D,R){let I=0;return M;function M(re){return F.enter("lineEnding"),F.consume(re),F.exit("lineEnding"),V}function V(re){return F.enter("codeFencedFence"),Ht(re)?un(F,O,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(re):O(re)}function O(re){return re===c?(F.enter("codeFencedFenceSequence"),U(re)):R(re)}function U(re){return re===c?(I++,F.consume(re),U):I>=o?(F.exit("codeFencedFenceSequence"),Ht(re)?un(F,X,"whitespace")(re):X(re)):R(re)}function X(re){return re===null||ft(re)?(F.exit("codeFencedFence"),D(re)):R(re)}}}function Ile(t,e,n){const r=this;return i;function i(o){return o===null?n(o):(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),a)}function a(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}const Jb={name:"codeIndented",tokenize:Ple},Rle={partial:!0,tokenize:Dle};function Ple(t,e,n){const r=this;return i;function i(h){return t.enter("codeIndented"),un(t,a,"linePrefix",5)(h)}function a(h){const m=r.events[r.events.length-1];return m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?o(h):n(h)}function o(h){return h===null?d(h):ft(h)?t.attempt(Rle,o,d)(h):(t.enter("codeFlowValue"),c(h))}function c(h){return h===null||ft(h)?(t.exit("codeFlowValue"),o(h)):(t.consume(h),c)}function d(h){return t.exit("codeIndented"),e(h)}}function Dle(t,e,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):ft(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i):un(t,a,"linePrefix",5)(o)}function a(o){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(o):ft(o)?i(o):n(o)}}const Mle={name:"codeText",previous:Lle,resolve:Ole,tokenize:Fle};function Ole(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function Lle(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Fle(t,e,n){let r=0,i,a;return o;function o(f){return t.enter("codeText"),t.enter("codeTextSequence"),c(f)}function c(f){return f===96?(t.consume(f),r++,c):(t.exit("codeTextSequence"),d(f))}function d(f){return f===null?n(f):f===32?(t.enter("space"),t.consume(f),t.exit("space"),d):f===96?(a=t.enter("codeTextSequence"),i=0,m(f)):ft(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),d):(t.enter("codeTextData"),h(f))}function h(f){return f===null||f===32||f===96||ft(f)?(t.exit("codeTextData"),d(f)):(t.consume(f),h)}function m(f){return f===96?(t.consume(f),i++,m):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(f)):(a.type="codeTextData",h(f))}}class Vle{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&vm(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),vm(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),vm(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);vm(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);vm(this.left,n.reverse())}}}function vm(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function fL(t){const e={};let n=-1,r,i,a,o,c,d,h;const m=new Vle(t);for(;++n<m.length;){for(;n in e;)n=e[n];if(r=m.get(n),n&&r[1].type==="chunkFlow"&&m.get(n-1)[1].type==="listItemPrefix"&&(d=r[1]._tokenizer.events,a=0,a<d.length&&d[a][1].type==="lineEndingBlank"&&(a+=2),a<d.length&&d[a][1].type==="content"))for(;++a<d.length&&d[a][1].type!=="content";)d[a][1].type==="chunkText"&&(d[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,Ule(m,n)),n=e[n],h=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(o=m.get(a),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(m.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=a);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...m.get(i)[1].start},c=m.slice(i,n),c.unshift(r),m.splice(i,n-i+1,c))}}return Na(t,0,Number.POSITIVE_INFINITY,m.slice(0)),!h}function Ule(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const a=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const c=o.events,d=[],h={};let m,f,g=-1,x=n,_=0,w=0;const j=[w];for(;x;){for(;t.get(++i)[1]!==x;);a.push(i),x._tokenizer||(m=r.sliceStream(x),x.next||m.push(null),f&&o.defineSkip(x.start),x._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(m),x._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=x,x=x.next}for(x=n;++g<c.length;)c[g][0]==="exit"&&c[g-1][0]==="enter"&&c[g][1].type===c[g-1][1].type&&c[g][1].start.line!==c[g][1].end.line&&(w=g+1,j.push(w),x._tokenizer=void 0,x.previous=void 0,x=x.next);for(o.events=[],x?(x._tokenizer=void 0,x.previous=void 0):j.pop(),g=j.length;g--;){const N=c.slice(j[g],j[g+1]),E=a.pop();d.push([E,E+N.length-1]),t.splice(E,2,N)}for(d.reverse(),g=-1;++g<d.length;)h[_+d[g][0]]=_+d[g][1],_+=d[g][1]-d[g][0]-1;return h}const zle={resolve:$le,tokenize:qle},Ble={partial:!0,tokenize:Hle};function $le(t){return fL(t),t}function qle(t,e){let n;return r;function r(c){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(c)}function i(c){return c===null?a(c):ft(c)?t.check(Ble,o,a)(c):(t.consume(c),i)}function a(c){return t.exit("chunkContent"),t.exit("content"),e(c)}function o(c){return t.consume(c),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Hle(t,e,n){const r=this;return i;function i(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),un(t,a,"linePrefix")}function a(o){if(o===null||ft(o))return n(o);const c=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(o):t.interrupt(r.parser.constructs.flow,n,e)(o)}}function pL(t,e,n,r,i,a,o,c,d){const h=d||Number.POSITIVE_INFINITY;let m=0;return f;function f(N){return N===60?(t.enter(r),t.enter(i),t.enter(a),t.consume(N),t.exit(a),g):N===null||N===32||N===41||X1(N)?n(N):(t.enter(r),t.enter(o),t.enter(c),t.enter("chunkString",{contentType:"string"}),w(N))}function g(N){return N===62?(t.enter(a),t.consume(N),t.exit(a),t.exit(i),t.exit(r),e):(t.enter(c),t.enter("chunkString",{contentType:"string"}),x(N))}function x(N){return N===62?(t.exit("chunkString"),t.exit(c),g(N)):N===null||N===60||ft(N)?n(N):(t.consume(N),N===92?_:x)}function _(N){return N===60||N===62||N===92?(t.consume(N),x):x(N)}function w(N){return!m&&(N===null||N===41||ms(N))?(t.exit("chunkString"),t.exit(c),t.exit(o),t.exit(r),e(N)):m<h&&N===40?(t.consume(N),m++,w):N===41?(t.consume(N),m--,w):N===null||N===32||N===40||X1(N)?n(N):(t.consume(N),N===92?j:w)}function j(N){return N===40||N===41||N===92?(t.consume(N),w):w(N)}}function gL(t,e,n,r,i,a){const o=this;let c=0,d;return h;function h(x){return t.enter(r),t.enter(i),t.consume(x),t.exit(i),t.enter(a),m}function m(x){return c>999||x===null||x===91||x===93&&!d||x===94&&!c&&"_hiddenFootnoteSupport"in o.parser.constructs?n(x):x===93?(t.exit(a),t.enter(i),t.consume(x),t.exit(i),t.exit(r),e):ft(x)?(t.enter("lineEnding"),t.consume(x),t.exit("lineEnding"),m):(t.enter("chunkString",{contentType:"string"}),f(x))}function f(x){return x===null||x===91||x===93||ft(x)||c++>999?(t.exit("chunkString"),m(x)):(t.consume(x),d||(d=!Ht(x)),x===92?g:f)}function g(x){return x===91||x===92||x===93?(t.consume(x),c++,f):f(x)}}function xL(t,e,n,r,i,a){let o;return c;function c(g){return g===34||g===39||g===40?(t.enter(r),t.enter(i),t.consume(g),t.exit(i),o=g===40?41:g,d):n(g)}function d(g){return g===o?(t.enter(i),t.consume(g),t.exit(i),t.exit(r),e):(t.enter(a),h(g))}function h(g){return g===o?(t.exit(a),d(o)):g===null?n(g):ft(g)?(t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),un(t,h,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),m(g))}function m(g){return g===o||g===null||ft(g)?(t.exit("chunkString"),h(g)):(t.consume(g),g===92?f:m)}function f(g){return g===o||g===92?(t.consume(g),m):m(g)}}function Ym(t,e){let n;return r;function r(i){return ft(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):Ht(i)?un(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const Wle={name:"definition",tokenize:Gle},Kle={partial:!0,tokenize:Qle};function Gle(t,e,n){const r=this;let i;return a;function a(x){return t.enter("definition"),o(x)}function o(x){return gL.call(r,t,c,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(x)}function c(x){return i=Td(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),x===58?(t.enter("definitionMarker"),t.consume(x),t.exit("definitionMarker"),d):n(x)}function d(x){return ms(x)?Ym(t,h)(x):h(x)}function h(x){return pL(t,m,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(x)}function m(x){return t.attempt(Kle,f,f)(x)}function f(x){return Ht(x)?un(t,g,"whitespace")(x):g(x)}function g(x){return x===null||ft(x)?(t.exit("definition"),r.parser.defined.push(i),e(x)):n(x)}}function Qle(t,e,n){return r;function r(c){return ms(c)?Ym(t,i)(c):n(c)}function i(c){return xL(t,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function a(c){return Ht(c)?un(t,o,"whitespace")(c):o(c)}function o(c){return c===null||ft(c)?e(c):n(c)}}const Yle={name:"hardBreakEscape",tokenize:Jle};function Jle(t,e,n){return r;function r(a){return t.enter("hardBreakEscape"),t.consume(a),i}function i(a){return ft(a)?(t.exit("hardBreakEscape"),e(a)):n(a)}}const Xle={name:"headingAtx",resolve:Zle,tokenize:ece};function Zle(t,e){let n=t.length-2,r=3,i,a;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},a={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Na(t,r,n-r+1,[["enter",i,e],["enter",a,e],["exit",a,e],["exit",i,e]])),t}function ece(t,e,n){let r=0;return i;function i(m){return t.enter("atxHeading"),a(m)}function a(m){return t.enter("atxHeadingSequence"),o(m)}function o(m){return m===35&&r++<6?(t.consume(m),o):m===null||ms(m)?(t.exit("atxHeadingSequence"),c(m)):n(m)}function c(m){return m===35?(t.enter("atxHeadingSequence"),d(m)):m===null||ft(m)?(t.exit("atxHeading"),e(m)):Ht(m)?un(t,c,"whitespace")(m):(t.enter("atxHeadingText"),h(m))}function d(m){return m===35?(t.consume(m),d):(t.exit("atxHeadingSequence"),c(m))}function h(m){return m===null||m===35||ms(m)?(t.exit("atxHeadingText"),c(m)):(t.consume(m),h)}}const tce=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],cI=["pre","script","style","textarea"],nce={concrete:!0,name:"htmlFlow",resolveTo:ice,tokenize:ace},rce={partial:!0,tokenize:lce},sce={partial:!0,tokenize:oce};function ice(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function ace(t,e,n){const r=this;let i,a,o,c,d;return h;function h($){return m($)}function m($){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume($),f}function f($){return $===33?(t.consume($),g):$===47?(t.consume($),a=!0,w):$===63?(t.consume($),i=3,r.interrupt?e:B):sa($)?(t.consume($),o=String.fromCharCode($),j):n($)}function g($){return $===45?(t.consume($),i=2,x):$===91?(t.consume($),i=5,c=0,_):sa($)?(t.consume($),i=4,r.interrupt?e:B):n($)}function x($){return $===45?(t.consume($),r.interrupt?e:B):n($)}function _($){const me="CDATA[";return $===me.charCodeAt(c++)?(t.consume($),c===me.length?r.interrupt?e:O:_):n($)}function w($){return sa($)?(t.consume($),o=String.fromCharCode($),j):n($)}function j($){if($===null||$===47||$===62||ms($)){const me=$===47,Ne=o.toLowerCase();return!me&&!a&&cI.includes(Ne)?(i=1,r.interrupt?e($):O($)):tce.includes(o.toLowerCase())?(i=6,me?(t.consume($),N):r.interrupt?e($):O($)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n($):a?E($):k($))}return $===45||Os($)?(t.consume($),o+=String.fromCharCode($),j):n($)}function N($){return $===62?(t.consume($),r.interrupt?e:O):n($)}function E($){return Ht($)?(t.consume($),E):M($)}function k($){return $===47?(t.consume($),M):$===58||$===95||sa($)?(t.consume($),C):Ht($)?(t.consume($),k):M($)}function C($){return $===45||$===46||$===58||$===95||Os($)?(t.consume($),C):P($)}function P($){return $===61?(t.consume($),F):Ht($)?(t.consume($),P):k($)}function F($){return $===null||$===60||$===61||$===62||$===96?n($):$===34||$===39?(t.consume($),d=$,D):Ht($)?(t.consume($),F):R($)}function D($){return $===d?(t.consume($),d=null,I):$===null||ft($)?n($):(t.consume($),D)}function R($){return $===null||$===34||$===39||$===47||$===60||$===61||$===62||$===96||ms($)?P($):(t.consume($),R)}function I($){return $===47||$===62||Ht($)?k($):n($)}function M($){return $===62?(t.consume($),V):n($)}function V($){return $===null||ft($)?O($):Ht($)?(t.consume($),V):n($)}function O($){return $===45&&i===2?(t.consume($),ue):$===60&&i===1?(t.consume($),ie):$===62&&i===4?(t.consume($),q):$===63&&i===3?(t.consume($),B):$===93&&i===5?(t.consume($),W):ft($)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(rce,Z,U)($)):$===null||ft($)?(t.exit("htmlFlowData"),U($)):(t.consume($),O)}function U($){return t.check(sce,X,Z)($)}function X($){return t.enter("lineEnding"),t.consume($),t.exit("lineEnding"),re}function re($){return $===null||ft($)?U($):(t.enter("htmlFlowData"),O($))}function ue($){return $===45?(t.consume($),B):O($)}function ie($){return $===47?(t.consume($),o="",K):O($)}function K($){if($===62){const me=o.toLowerCase();return cI.includes(me)?(t.consume($),q):O($)}return sa($)&&o.length<8?(t.consume($),o+=String.fromCharCode($),K):O($)}function W($){return $===93?(t.consume($),B):O($)}function B($){return $===62?(t.consume($),q):$===45&&i===2?(t.consume($),B):O($)}function q($){return $===null||ft($)?(t.exit("htmlFlowData"),Z($)):(t.consume($),q)}function Z($){return t.exit("htmlFlow"),e($)}}function oce(t,e,n){const r=this;return i;function i(o){return ft(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),a):n(o)}function a(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}function lce(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(a0,e,n)}}const cce={name:"htmlText",tokenize:uce};function uce(t,e,n){const r=this;let i,a,o;return c;function c(B){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(B),d}function d(B){return B===33?(t.consume(B),h):B===47?(t.consume(B),P):B===63?(t.consume(B),k):sa(B)?(t.consume(B),R):n(B)}function h(B){return B===45?(t.consume(B),m):B===91?(t.consume(B),a=0,_):sa(B)?(t.consume(B),E):n(B)}function m(B){return B===45?(t.consume(B),x):n(B)}function f(B){return B===null?n(B):B===45?(t.consume(B),g):ft(B)?(o=f,ie(B)):(t.consume(B),f)}function g(B){return B===45?(t.consume(B),x):f(B)}function x(B){return B===62?ue(B):B===45?g(B):f(B)}function _(B){const q="CDATA[";return B===q.charCodeAt(a++)?(t.consume(B),a===q.length?w:_):n(B)}function w(B){return B===null?n(B):B===93?(t.consume(B),j):ft(B)?(o=w,ie(B)):(t.consume(B),w)}function j(B){return B===93?(t.consume(B),N):w(B)}function N(B){return B===62?ue(B):B===93?(t.consume(B),N):w(B)}function E(B){return B===null||B===62?ue(B):ft(B)?(o=E,ie(B)):(t.consume(B),E)}function k(B){return B===null?n(B):B===63?(t.consume(B),C):ft(B)?(o=k,ie(B)):(t.consume(B),k)}function C(B){return B===62?ue(B):k(B)}function P(B){return sa(B)?(t.consume(B),F):n(B)}function F(B){return B===45||Os(B)?(t.consume(B),F):D(B)}function D(B){return ft(B)?(o=D,ie(B)):Ht(B)?(t.consume(B),D):ue(B)}function R(B){return B===45||Os(B)?(t.consume(B),R):B===47||B===62||ms(B)?I(B):n(B)}function I(B){return B===47?(t.consume(B),ue):B===58||B===95||sa(B)?(t.consume(B),M):ft(B)?(o=I,ie(B)):Ht(B)?(t.consume(B),I):ue(B)}function M(B){return B===45||B===46||B===58||B===95||Os(B)?(t.consume(B),M):V(B)}function V(B){return B===61?(t.consume(B),O):ft(B)?(o=V,ie(B)):Ht(B)?(t.consume(B),V):I(B)}function O(B){return B===null||B===60||B===61||B===62||B===96?n(B):B===34||B===39?(t.consume(B),i=B,U):ft(B)?(o=O,ie(B)):Ht(B)?(t.consume(B),O):(t.consume(B),X)}function U(B){return B===i?(t.consume(B),i=void 0,re):B===null?n(B):ft(B)?(o=U,ie(B)):(t.consume(B),U)}function X(B){return B===null||B===34||B===39||B===60||B===61||B===96?n(B):B===47||B===62||ms(B)?I(B):(t.consume(B),X)}function re(B){return B===47||B===62||ms(B)?I(B):n(B)}function ue(B){return B===62?(t.consume(B),t.exit("htmlTextData"),t.exit("htmlText"),e):n(B)}function ie(B){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(B),t.exit("lineEnding"),K}function K(B){return Ht(B)?un(t,W,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(B):W(B)}function W(B){return t.enter("htmlTextData"),o(B)}}const Z_={name:"labelEnd",resolveAll:fce,resolveTo:pce,tokenize:gce},dce={tokenize:xce},hce={tokenize:yce},mce={tokenize:vce};function fce(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&Na(t,0,t.length,n),t}function pce(t,e){let n=t.length,r=0,i,a,o,c;for(;n--;)if(i=t[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const d={type:t[a][1].type==="labelLink"?"link":"image",start:{...t[a][1].start},end:{...t[t.length-1][1].end}},h={type:"label",start:{...t[a][1].start},end:{...t[o][1].end}},m={type:"labelText",start:{...t[a+r+2][1].end},end:{...t[o-2][1].start}};return c=[["enter",d,e],["enter",h,e]],c=Zs(c,t.slice(a+1,a+r+3)),c=Zs(c,[["enter",m,e]]),c=Zs(c,X_(e.parser.constructs.insideSpan.null,t.slice(a+r+4,o-3),e)),c=Zs(c,[["exit",m,e],t[o-2],t[o-1],["exit",h,e]]),c=Zs(c,t.slice(o+1)),c=Zs(c,[["exit",d,e]]),Na(t,a,t.length,c),t}function gce(t,e,n){const r=this;let i=r.events.length,a,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return c;function c(g){return a?a._inactive?f(g):(o=r.parser.defined.includes(Td(r.sliceSerialize({start:a.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(g),t.exit("labelMarker"),t.exit("labelEnd"),d):n(g)}function d(g){return g===40?t.attempt(dce,m,o?m:f)(g):g===91?t.attempt(hce,m,o?h:f)(g):o?m(g):f(g)}function h(g){return t.attempt(mce,m,f)(g)}function m(g){return e(g)}function f(g){return a._balanced=!0,n(g)}}function xce(t,e,n){return r;function r(f){return t.enter("resource"),t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),i}function i(f){return ms(f)?Ym(t,a)(f):a(f)}function a(f){return f===41?m(f):pL(t,o,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function o(f){return ms(f)?Ym(t,d)(f):m(f)}function c(f){return n(f)}function d(f){return f===34||f===39||f===40?xL(t,h,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):m(f)}function h(f){return ms(f)?Ym(t,m)(f):m(f)}function m(f){return f===41?(t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),t.exit("resource"),e):n(f)}}function yce(t,e,n){const r=this;return i;function i(c){return gL.call(r,t,a,o,"reference","referenceMarker","referenceString")(c)}function a(c){return r.parser.defined.includes(Td(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(c):n(c)}function o(c){return n(c)}}function vce(t,e,n){return r;function r(a){return t.enter("reference"),t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),i}function i(a){return a===93?(t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),t.exit("reference"),e):n(a)}}const bce={name:"labelStartImage",resolveAll:Z_.resolveAll,tokenize:wce};function wce(t,e,n){const r=this;return i;function i(c){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(c),t.exit("labelImageMarker"),a}function a(c){return c===91?(t.enter("labelMarker"),t.consume(c),t.exit("labelMarker"),t.exit("labelImage"),o):n(c)}function o(c){return c===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(c):e(c)}}const jce={name:"labelStartLink",resolveAll:Z_.resolveAll,tokenize:Nce};function Nce(t,e,n){const r=this;return i;function i(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),a}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const Xb={name:"lineEnding",tokenize:_ce};function _ce(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),un(t,e,"linePrefix")}}const fx={name:"thematicBreak",tokenize:Sce};function Sce(t,e,n){let r=0,i;return a;function a(h){return t.enter("thematicBreak"),o(h)}function o(h){return i=h,c(h)}function c(h){return h===i?(t.enter("thematicBreakSequence"),d(h)):r>=3&&(h===null||ft(h))?(t.exit("thematicBreak"),e(h)):n(h)}function d(h){return h===i?(t.consume(h),r++,d):(t.exit("thematicBreakSequence"),Ht(h)?un(t,c,"whitespace")(h):c(h))}}const as={continuation:{tokenize:Tce},exit:Ice,name:"list",tokenize:kce},Ece={partial:!0,tokenize:Rce},Cce={partial:!0,tokenize:Ace};function kce(t,e,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return c;function c(x){const _=r.containerState.type||(x===42||x===43||x===45?"listUnordered":"listOrdered");if(_==="listUnordered"?!r.containerState.marker||x===r.containerState.marker:Z1(x)){if(r.containerState.type||(r.containerState.type=_,t.enter(_,{_container:!0})),_==="listUnordered")return t.enter("listItemPrefix"),x===42||x===45?t.check(fx,n,h)(x):h(x);if(!r.interrupt||x===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),d(x)}return n(x)}function d(x){return Z1(x)&&++o<10?(t.consume(x),d):(!r.interrupt||o<2)&&(r.containerState.marker?x===r.containerState.marker:x===41||x===46)?(t.exit("listItemValue"),h(x)):n(x)}function h(x){return t.enter("listItemMarker"),t.consume(x),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||x,t.check(a0,r.interrupt?n:m,t.attempt(Ece,g,f))}function m(x){return r.containerState.initialBlankLine=!0,a++,g(x)}function f(x){return Ht(x)?(t.enter("listItemPrefixWhitespace"),t.consume(x),t.exit("listItemPrefixWhitespace"),g):n(x)}function g(x){return r.containerState.size=a+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(x)}}function Tce(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(a0,i,a);function i(c){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,un(t,e,"listItemIndent",r.containerState.size+1)(c)}function a(c){return r.containerState.furtherBlankLines||!Ht(c)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(c)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(Cce,e,o)(c))}function o(c){return r.containerState._closeFlow=!0,r.interrupt=void 0,un(t,t.attempt(as,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}}function Ace(t,e,n){const r=this;return un(t,i,"listItemIndent",r.containerState.size+1);function i(a){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(a):n(a)}}function Ice(t){t.exit(this.containerState.type)}function Rce(t,e,n){const r=this;return un(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const o=r.events[r.events.length-1];return!Ht(a)&&o&&o[1].type==="listItemPrefixWhitespace"?e(a):n(a)}}const uI={name:"setextUnderline",resolveTo:Pce,tokenize:Dce};function Pce(t,e){let n=t.length,r,i,a;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!a&&t[n][1].type==="definition"&&(a=n);const o={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",a?(t.splice(i,0,["enter",o,e]),t.splice(a+1,0,["exit",t[r][1],e]),t[r][1].end={...t[a][1].end}):t[r][1]=o,t.push(["exit",o,e]),t}function Dce(t,e,n){const r=this;let i;return a;function a(h){let m=r.events.length,f;for(;m--;)if(r.events[m][1].type!=="lineEnding"&&r.events[m][1].type!=="linePrefix"&&r.events[m][1].type!=="content"){f=r.events[m][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(t.enter("setextHeadingLine"),i=h,o(h)):n(h)}function o(h){return t.enter("setextHeadingLineSequence"),c(h)}function c(h){return h===i?(t.consume(h),c):(t.exit("setextHeadingLineSequence"),Ht(h)?un(t,d,"lineSuffix")(h):d(h))}function d(h){return h===null||ft(h)?(t.exit("setextHeadingLine"),e(h)):n(h)}}const Mce={tokenize:Oce};function Oce(t){const e=this,n=t.attempt(a0,r,t.attempt(this.parser.constructs.flowInitial,i,un(t,t.attempt(this.parser.constructs.flow,i,t.attempt(zle,i)),"linePrefix")));return n;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEndingBlank"),t.consume(a),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const Lce={resolveAll:vL()},Fce=yL("string"),Vce=yL("text");function yL(t){return{resolveAll:vL(t==="text"?Uce:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],a=n.attempt(i,o,c);return o;function o(m){return h(m)?a(m):c(m)}function c(m){if(m===null){n.consume(m);return}return n.enter("data"),n.consume(m),d}function d(m){return h(m)?(n.exit("data"),a(m)):(n.consume(m),d)}function h(m){if(m===null)return!0;const f=i[m];let g=-1;if(f)for(;++g<f.length;){const x=f[g];if(!x.previous||x.previous.call(r,r.previous))return!0}return!1}}}function vL(t){return e;function e(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return t?t(n,r):n}}function Uce(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let a=i.length,o=-1,c=0,d;for(;a--;){const h=i[a];if(typeof h=="string"){for(o=h.length;h.charCodeAt(o-1)===32;)c++,o--;if(o)break;o=-1}else if(h===-2)d=!0,c++;else if(h!==-1){a++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(c=0),c){const h={type:n===t.length||d||c<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?o:r.start._bufferIndex+o,_index:r.start._index+a,line:r.end.line,column:r.end.column-c,offset:r.end.offset-c},end:{...r.end}};r.end={...h.start},r.start.offset===r.end.offset?Object.assign(r,h):(t.splice(n,0,["enter",h,e],["exit",h,e]),n+=2)}n++}return t}const zce={42:as,43:as,45:as,48:as,49:as,50:as,51:as,52:as,53:as,54:as,55:as,56:as,57:as,62:dL},Bce={91:Wle},$ce={[-2]:Jb,[-1]:Jb,32:Jb},qce={35:Xle,42:fx,45:[uI,fx],60:nce,61:uI,95:fx,96:lI,126:lI},Hce={38:mL,92:hL},Wce={[-5]:Xb,[-4]:Xb,[-3]:Xb,33:bce,38:mL,42:ej,60:[jle,cce],91:jce,92:[Yle,hL],93:Z_,95:ej,96:Mle},Kce={null:[ej,Lce]},Gce={null:[42,95]},Qce={null:[]},Yce=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Gce,contentInitial:Bce,disable:Qce,document:zce,flow:qce,flowInitial:$ce,insideSpan:Kce,string:Hce,text:Wce},Symbol.toStringTag,{value:"Module"}));function Jce(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let o=[],c=[];const d={attempt:D(P),check:D(F),consume:E,enter:k,exit:C,interrupt:D(F,{interrupt:!0})},h={code:null,containerState:{},defineSkip:w,events:[],now:_,parser:t,previous:null,sliceSerialize:g,sliceStream:x,write:f};let m=e.tokenize.call(h,d);return e.resolveAll&&a.push(e),h;function f(V){return o=Zs(o,V),j(),o[o.length-1]!==null?[]:(R(e,0),h.events=X_(a,h.events,h),h.events)}function g(V,O){return Zce(x(V),O)}function x(V){return Xce(o,V)}function _(){const{_bufferIndex:V,_index:O,line:U,column:X,offset:re}=r;return{_bufferIndex:V,_index:O,line:U,column:X,offset:re}}function w(V){i[V.line]=V.column,M()}function j(){let V;for(;r._index<o.length;){const O=o[r._index];if(typeof O=="string")for(V=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===V&&r._bufferIndex<O.length;)N(O.charCodeAt(r._bufferIndex));else N(O)}}function N(V){m=m(V)}function E(V){ft(V)?(r.line++,r.column=1,r.offset+=V===-3?2:1,M()):V!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),h.previous=V}function k(V,O){const U=O||{};return U.type=V,U.start=_(),h.events.push(["enter",U,h]),c.push(U),U}function C(V){const O=c.pop();return O.end=_(),h.events.push(["exit",O,h]),O}function P(V,O){R(V,O.from)}function F(V,O){O.restore()}function D(V,O){return U;function U(X,re,ue){let ie,K,W,B;return Array.isArray(X)?Z(X):"tokenize"in X?Z([X]):q(X);function q(Ae){return ge;function ge(Se){const De=Se!==null&&Ae[Se],ze=Se!==null&&Ae.null,qe=[...Array.isArray(De)?De:De?[De]:[],...Array.isArray(ze)?ze:ze?[ze]:[]];return Z(qe)(Se)}}function Z(Ae){return ie=Ae,K=0,Ae.length===0?ue:$(Ae[K])}function $(Ae){return ge;function ge(Se){return B=I(),W=Ae,Ae.partial||(h.currentConstruct=Ae),Ae.name&&h.parser.constructs.disable.null.includes(Ae.name)?Ne():Ae.tokenize.call(O?Object.assign(Object.create(h),O):h,d,me,Ne)(Se)}}function me(Ae){return V(W,B),re}function Ne(Ae){return B.restore(),++K<ie.length?$(ie[K]):ue}}}function R(V,O){V.resolveAll&&!a.includes(V)&&a.push(V),V.resolve&&Na(h.events,O,h.events.length-O,V.resolve(h.events.slice(O),h)),V.resolveTo&&(h.events=V.resolveTo(h.events,h))}function I(){const V=_(),O=h.previous,U=h.currentConstruct,X=h.events.length,re=Array.from(c);return{from:X,restore:ue};function ue(){r=V,h.previous=O,h.currentConstruct=U,h.events.length=X,c=re,M()}}function M(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Xce(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,a=e.end._bufferIndex;let o;if(n===i)o=[t[n].slice(r,a)];else{if(o=t.slice(n,i),r>-1){const c=o[0];typeof c=="string"?o[0]=c.slice(r):o.shift()}a>0&&o.push(t[i].slice(0,a))}return o}function Zce(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const a=t[n];let o;if(typeof a=="string")o=a;else switch(a){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(a)}i=a===-2,r.push(o)}return r.join("")}function eue(t){const r={constructs:ole([Yce,...(t||{}).extensions||[]]),content:i(ple),defined:[],document:i(xle),flow:i(Mce),lazy:{},string:i(Fce),text:i(Vce)};return r;function i(a){return o;function o(c){return Jce(r,a,c)}}}function tue(t){for(;!fL(t););return t}const dI=/[\0\t\n\r]/g;function nue(){let t=1,e="",n=!0,r;return i;function i(a,o,c){const d=[];let h,m,f,g,x;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(o||void 0).decode(a)),f=0,e="",n&&(a.charCodeAt(0)===65279&&f++,n=void 0);f<a.length;){if(dI.lastIndex=f,h=dI.exec(a),g=h&&h.index!==void 0?h.index:a.length,x=a.charCodeAt(g),!h){e=a.slice(f);break}if(x===10&&f===g&&r)d.push(-3),r=void 0;else switch(r&&(d.push(-5),r=void 0),f<g&&(d.push(a.slice(f,g)),t+=g-f),x){case 0:{d.push(65533),t++;break}case 9:{for(m=Math.ceil(t/4)*4,d.push(-2);t++<m;)d.push(-1);break}case 10:{d.push(-4),t=1;break}default:r=!0,t=1}f=g+1}return c&&(r&&d.push(-5),e&&d.push(e),d.push(null)),d}}const rue=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function sue(t){return t.replace(rue,iue)}function iue(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return uL(n.slice(a?2:1),a?16:10)}return J_(n)||t}const bL={}.hasOwnProperty;function aue(t,e,n){return typeof e!="string"&&(n=e,e=void 0),oue(n)(tue(eue(n).document().write(nue()(t,e,!0))))}function oue(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a($t),autolinkProtocol:I,autolinkEmail:I,atxHeading:a(jr),blockQuote:a(ze),characterEscape:I,characterReference:I,codeFenced:a(qe),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:a(qe,o),codeText:a(gt,o),codeTextData:I,data:I,codeFlowValue:I,definition:a(Xt),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:a(kn),hardBreakEscape:a($n),hardBreakTrailing:a($n),htmlFlow:a(Jn,o),htmlFlowData:I,htmlText:a(Jn,o),htmlTextData:I,image:a(ys),label:o,link:a($t),listItem:a(Lr),listItemValue:g,listOrdered:a(Zt,f),listUnordered:a(Zt),paragraph:a(Ca),reference:$,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:a(jr),strong:a(Ii),thematicBreak:a(Us)},exit:{atxHeading:d(),atxHeadingSequence:P,autolink:d(),autolinkEmail:De,autolinkProtocol:Se,blockQuote:d(),characterEscapeValue:M,characterReferenceMarkerHexadecimal:Ne,characterReferenceMarkerNumeric:Ne,characterReferenceValue:Ae,characterReference:ge,codeFenced:d(j),codeFencedFence:w,codeFencedFenceInfo:x,codeFencedFenceMeta:_,codeFlowValue:M,codeIndented:d(N),codeText:d(re),codeTextData:M,data:M,definition:d(),definitionDestinationString:C,definitionLabelString:E,definitionTitleString:k,emphasis:d(),hardBreakEscape:d(O),hardBreakTrailing:d(O),htmlFlow:d(U),htmlFlowData:M,htmlText:d(X),htmlTextData:M,image:d(ie),label:W,labelText:K,lineEnding:V,link:d(ue),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:me,resourceDestinationString:B,resourceTitleString:q,resource:Z,setextHeading:d(R),setextHeadingLineSequence:D,setextHeadingText:F,strong:d(),thematicBreak:d()}};wL(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(fe){let Ie={type:"root",children:[]};const tt={stack:[Ie],tokenStack:[],config:e,enter:c,exit:h,buffer:o,resume:m,data:n},wt=[];let Tt=-1;for(;++Tt<fe.length;)if(fe[Tt][1].type==="listOrdered"||fe[Tt][1].type==="listUnordered")if(fe[Tt][0]==="enter")wt.push(Tt);else{const bn=wt.pop();Tt=i(fe,bn,Tt)}for(Tt=-1;++Tt<fe.length;){const bn=e[fe[Tt][0]];bL.call(bn,fe[Tt][1].type)&&bn[fe[Tt][1].type].call(Object.assign({sliceSerialize:fe[Tt][2].sliceSerialize},tt),fe[Tt][1])}if(tt.tokenStack.length>0){const bn=tt.tokenStack[tt.tokenStack.length-1];(bn[1]||hI).call(tt,void 0,bn[0])}for(Ie.position={start:el(fe.length>0?fe[0][1].start:{line:1,column:1,offset:0}),end:el(fe.length>0?fe[fe.length-2][1].end:{line:1,column:1,offset:0})},Tt=-1;++Tt<e.transforms.length;)Ie=e.transforms[Tt](Ie)||Ie;return Ie}function i(fe,Ie,tt){let wt=Ie-1,Tt=-1,bn=!1,pe,He,nt,rt;for(;++wt<=tt;){const yt=fe[wt];switch(yt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{yt[0]==="enter"?Tt++:Tt--,rt=void 0;break}case"lineEndingBlank":{yt[0]==="enter"&&(pe&&!rt&&!Tt&&!nt&&(nt=wt),rt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:rt=void 0}if(!Tt&&yt[0]==="enter"&&yt[1].type==="listItemPrefix"||Tt===-1&&yt[0]==="exit"&&(yt[1].type==="listUnordered"||yt[1].type==="listOrdered")){if(pe){let dt=wt;for(He=void 0;dt--;){const Mt=fe[dt];if(Mt[1].type==="lineEnding"||Mt[1].type==="lineEndingBlank"){if(Mt[0]==="exit")continue;He&&(fe[He][1].type="lineEndingBlank",bn=!0),Mt[1].type="lineEnding",He=dt}else if(!(Mt[1].type==="linePrefix"||Mt[1].type==="blockQuotePrefix"||Mt[1].type==="blockQuotePrefixWhitespace"||Mt[1].type==="blockQuoteMarker"||Mt[1].type==="listItemIndent"))break}nt&&(!He||nt<He)&&(pe._spread=!0),pe.end=Object.assign({},He?fe[He][1].start:yt[1].end),fe.splice(He||wt,0,["exit",pe,yt[2]]),wt++,tt++}if(yt[1].type==="listItemPrefix"){const dt={type:"listItem",_spread:!1,start:Object.assign({},yt[1].start),end:void 0};pe=dt,fe.splice(wt,0,["enter",dt,yt[2]]),wt++,tt++,nt=void 0,rt=!0}}}return fe[Ie][1]._spread=bn,tt}function a(fe,Ie){return tt;function tt(wt){c.call(this,fe(wt),wt),Ie&&Ie.call(this,wt)}}function o(){this.stack.push({type:"fragment",children:[]})}function c(fe,Ie,tt){this.stack[this.stack.length-1].children.push(fe),this.stack.push(fe),this.tokenStack.push([Ie,tt||void 0]),fe.position={start:el(Ie.start),end:void 0}}function d(fe){return Ie;function Ie(tt){fe&&fe.call(this,tt),h.call(this,tt)}}function h(fe,Ie){const tt=this.stack.pop(),wt=this.tokenStack.pop();if(wt)wt[0].type!==fe.type&&(Ie?Ie.call(this,fe,wt[0]):(wt[1]||hI).call(this,fe,wt[0]));else throw new Error("Cannot close `"+fe.type+"` ("+Qm({start:fe.start,end:fe.end})+"): its not open");tt.position.end=el(fe.end)}function m(){return ile(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function g(fe){if(this.data.expectingFirstListItemValue){const Ie=this.stack[this.stack.length-2];Ie.start=Number.parseInt(this.sliceSerialize(fe),10),this.data.expectingFirstListItemValue=void 0}}function x(){const fe=this.resume(),Ie=this.stack[this.stack.length-1];Ie.lang=fe}function _(){const fe=this.resume(),Ie=this.stack[this.stack.length-1];Ie.meta=fe}function w(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function j(){const fe=this.resume(),Ie=this.stack[this.stack.length-1];Ie.value=fe.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function N(){const fe=this.resume(),Ie=this.stack[this.stack.length-1];Ie.value=fe.replace(/(\r?\n|\r)$/g,"")}function E(fe){const Ie=this.resume(),tt=this.stack[this.stack.length-1];tt.label=Ie,tt.identifier=Td(this.sliceSerialize(fe)).toLowerCase()}function k(){const fe=this.resume(),Ie=this.stack[this.stack.length-1];Ie.title=fe}function C(){const fe=this.resume(),Ie=this.stack[this.stack.length-1];Ie.url=fe}function P(fe){const Ie=this.stack[this.stack.length-1];if(!Ie.depth){const tt=this.sliceSerialize(fe).length;Ie.depth=tt}}function F(){this.data.setextHeadingSlurpLineEnding=!0}function D(fe){const Ie=this.stack[this.stack.length-1];Ie.depth=this.sliceSerialize(fe).codePointAt(0)===61?1:2}function R(){this.data.setextHeadingSlurpLineEnding=void 0}function I(fe){const tt=this.stack[this.stack.length-1].children;let wt=tt[tt.length-1];(!wt||wt.type!=="text")&&(wt=Ri(),wt.position={start:el(fe.start),end:void 0},tt.push(wt)),this.stack.push(wt)}function M(fe){const Ie=this.stack.pop();Ie.value+=this.sliceSerialize(fe),Ie.position.end=el(fe.end)}function V(fe){const Ie=this.stack[this.stack.length-1];if(this.data.atHardBreak){const tt=Ie.children[Ie.children.length-1];tt.position.end=el(fe.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Ie.type)&&(I.call(this,fe),M.call(this,fe))}function O(){this.data.atHardBreak=!0}function U(){const fe=this.resume(),Ie=this.stack[this.stack.length-1];Ie.value=fe}function X(){const fe=this.resume(),Ie=this.stack[this.stack.length-1];Ie.value=fe}function re(){const fe=this.resume(),Ie=this.stack[this.stack.length-1];Ie.value=fe}function ue(){const fe=this.stack[this.stack.length-1];if(this.data.inReference){const Ie=this.data.referenceType||"shortcut";fe.type+="Reference",fe.referenceType=Ie,delete fe.url,delete fe.title}else delete fe.identifier,delete fe.label;this.data.referenceType=void 0}function ie(){const fe=this.stack[this.stack.length-1];if(this.data.inReference){const Ie=this.data.referenceType||"shortcut";fe.type+="Reference",fe.referenceType=Ie,delete fe.url,delete fe.title}else delete fe.identifier,delete fe.label;this.data.referenceType=void 0}function K(fe){const Ie=this.sliceSerialize(fe),tt=this.stack[this.stack.length-2];tt.label=sue(Ie),tt.identifier=Td(Ie).toLowerCase()}function W(){const fe=this.stack[this.stack.length-1],Ie=this.resume(),tt=this.stack[this.stack.length-1];if(this.data.inReference=!0,tt.type==="link"){const wt=fe.children;tt.children=wt}else tt.alt=Ie}function B(){const fe=this.resume(),Ie=this.stack[this.stack.length-1];Ie.url=fe}function q(){const fe=this.resume(),Ie=this.stack[this.stack.length-1];Ie.title=fe}function Z(){this.data.inReference=void 0}function $(){this.data.referenceType="collapsed"}function me(fe){const Ie=this.resume(),tt=this.stack[this.stack.length-1];tt.label=Ie,tt.identifier=Td(this.sliceSerialize(fe)).toLowerCase(),this.data.referenceType="full"}function Ne(fe){this.data.characterReferenceType=fe.type}function Ae(fe){const Ie=this.sliceSerialize(fe),tt=this.data.characterReferenceType;let wt;tt?(wt=uL(Ie,tt==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):wt=J_(Ie);const Tt=this.stack[this.stack.length-1];Tt.value+=wt}function ge(fe){const Ie=this.stack.pop();Ie.position.end=el(fe.end)}function Se(fe){M.call(this,fe);const Ie=this.stack[this.stack.length-1];Ie.url=this.sliceSerialize(fe)}function De(fe){M.call(this,fe);const Ie=this.stack[this.stack.length-1];Ie.url="mailto:"+this.sliceSerialize(fe)}function ze(){return{type:"blockquote",children:[]}}function qe(){return{type:"code",lang:null,meta:null,value:""}}function gt(){return{type:"inlineCode",value:""}}function Xt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function kn(){return{type:"emphasis",children:[]}}function jr(){return{type:"heading",depth:0,children:[]}}function $n(){return{type:"break"}}function Jn(){return{type:"html",value:""}}function ys(){return{type:"image",title:null,url:"",alt:null}}function $t(){return{type:"link",title:null,url:"",children:[]}}function Zt(fe){return{type:"list",ordered:fe.type==="listOrdered",start:null,spread:fe._spread,children:[]}}function Lr(fe){return{type:"listItem",spread:fe._spread,checked:null,children:[]}}function Ca(){return{type:"paragraph",children:[]}}function Ii(){return{type:"strong",children:[]}}function Ri(){return{type:"text",value:""}}function Us(){return{type:"thematicBreak"}}}function el(t){return{line:t.line,column:t.column,offset:t.offset}}function wL(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?wL(t,r):lue(t,r)}}function lue(t,e){let n;for(n in e)if(bL.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function hI(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Qm({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Qm({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Qm({start:e.start,end:e.end})+") is still open")}function cue(t){const e=this;e.parser=n;function n(r){return aue(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function uue(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function due(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function hue(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function mue(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function fue(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function pue(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=_h(r.toLowerCase()),a=t.footnoteOrder.indexOf(r);let o,c=t.footnoteCounts.get(r);c===void 0?(c=0,t.footnoteOrder.push(r),o=t.footnoteOrder.length):o=a+1,c+=1,t.footnoteCounts.set(r,c);const d={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(c>1?"-"+c:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};t.patch(e,d);const h={type:"element",tagName:"sup",properties:{},children:[d]};return t.patch(e,h),t.applyData(e,h)}function gue(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function xue(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function jL(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function yue(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return jL(t,e);const i={src:_h(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,a),t.applyData(e,a)}function vue(t,e){const n={src:_h(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function bue(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function wue(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return jL(t,e);const i={href:_h(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function jue(t,e){const n={href:_h(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Nue(t,e,n){const r=t.all(e),i=n?_ue(n):NL(e),a={},o=[];if(typeof e.checked=="boolean"){const m=r[0];let f;m&&m.type==="element"&&m.tagName==="p"?f=m:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let c=-1;for(;++c<r.length;){const m=r[c];(i||c!==0||m.type!=="element"||m.tagName!=="p")&&o.push({type:"text",value:`
`}),m.type==="element"&&m.tagName==="p"&&!i?o.push(...m.children):o.push(m)}const d=r[r.length-1];d&&(i||d.type!=="element"||d.tagName!=="p")&&o.push({type:"text",value:`
`});const h={type:"element",tagName:"li",properties:a,children:o};return t.patch(e,h),t.applyData(e,h)}function _ue(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=NL(n[r])}return e}function NL(t){const e=t.spread;return e??t.children.length>1}function Sue(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,a),t.applyData(e,a)}function Eue(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Cue(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function kue(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Tue(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},c=K_(e.children[1]),d=rL(e.children[e.children.length-1]);c&&d&&(o.position={start:c,end:d}),i.push(o)}const a={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,a),t.applyData(e,a)}function Aue(t,e,n){const r=n?n.children:void 0,a=(r?r.indexOf(e):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,c=o?o.length:e.children.length;let d=-1;const h=[];for(;++d<c;){const f=e.children[d],g={},x=o?o[d]:void 0;x&&(g.align=x);let _={type:"element",tagName:a,properties:g,children:[]};f&&(_.children=t.all(f),t.patch(f,_),_=t.applyData(f,_)),h.push(_)}const m={type:"element",tagName:"tr",properties:{},children:t.wrap(h,!0)};return t.patch(e,m),t.applyData(e,m)}function Iue(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const mI=9,fI=32;function Rue(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const a=[];for(;r;)a.push(pI(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return a.push(pI(e.slice(i),i>0,!1)),a.join("")}function pI(t,e,n){let r=0,i=t.length;if(e){let a=t.codePointAt(r);for(;a===mI||a===fI;)r++,a=t.codePointAt(r)}if(n){let a=t.codePointAt(i-1);for(;a===mI||a===fI;)i--,a=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function Pue(t,e){const n={type:"text",value:Rue(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function Due(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const Mue={blockquote:uue,break:due,code:hue,delete:mue,emphasis:fue,footnoteReference:pue,heading:gue,html:xue,imageReference:yue,image:vue,inlineCode:bue,linkReference:wue,link:jue,listItem:Nue,list:Sue,paragraph:Eue,root:Cue,strong:kue,table:Tue,tableCell:Iue,tableRow:Aue,text:Pue,thematicBreak:Due,toml:Ug,yaml:Ug,definition:Ug,footnoteDefinition:Ug};function Ug(){}const _L=-1,o0=0,Jm=1,oy=2,eS=3,tS=4,nS=5,rS=6,SL=7,EL=8,gI=typeof self=="object"?self:globalThis,Oue=(t,e)=>{const n=(i,a)=>(t.set(a,i),i),r=i=>{if(t.has(i))return t.get(i);const[a,o]=e[i];switch(a){case o0:case _L:return n(o,i);case Jm:{const c=n([],i);for(const d of o)c.push(r(d));return c}case oy:{const c=n({},i);for(const[d,h]of o)c[r(d)]=r(h);return c}case eS:return n(new Date(o),i);case tS:{const{source:c,flags:d}=o;return n(new RegExp(c,d),i)}case nS:{const c=n(new Map,i);for(const[d,h]of o)c.set(r(d),r(h));return c}case rS:{const c=n(new Set,i);for(const d of o)c.add(r(d));return c}case SL:{const{name:c,message:d}=o;return n(new gI[c](d),i)}case EL:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:c}=new Uint8Array(o);return n(new DataView(c),o)}}return n(new gI[a](o),i)};return r},xI=t=>Oue(new Map,t)(0),rd="",{toString:Lue}={},{keys:Fue}=Object,bm=t=>{const e=typeof t;if(e!=="object"||!t)return[o0,e];const n=Lue.call(t).slice(8,-1);switch(n){case"Array":return[Jm,rd];case"Object":return[oy,rd];case"Date":return[eS,rd];case"RegExp":return[tS,rd];case"Map":return[nS,rd];case"Set":return[rS,rd];case"DataView":return[Jm,n]}return n.includes("Array")?[Jm,n]:n.includes("Error")?[SL,n]:[oy,n]},zg=([t,e])=>t===o0&&(e==="function"||e==="symbol"),Vue=(t,e,n,r)=>{const i=(o,c)=>{const d=r.push(o)-1;return n.set(c,d),d},a=o=>{if(n.has(o))return n.get(o);let[c,d]=bm(o);switch(c){case o0:{let m=o;switch(d){case"bigint":c=EL,m=o.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+d);m=null;break;case"undefined":return i([_L],o)}return i([c,m],o)}case Jm:{if(d){let g=o;return d==="DataView"?g=new Uint8Array(o.buffer):d==="ArrayBuffer"&&(g=new Uint8Array(o)),i([d,[...g]],o)}const m=[],f=i([c,m],o);for(const g of o)m.push(a(g));return f}case oy:{if(d)switch(d){case"BigInt":return i([d,o.toString()],o);case"Boolean":case"Number":case"String":return i([d,o.valueOf()],o)}if(e&&"toJSON"in o)return a(o.toJSON());const m=[],f=i([c,m],o);for(const g of Fue(o))(t||!zg(bm(o[g])))&&m.push([a(g),a(o[g])]);return f}case eS:return i([c,o.toISOString()],o);case tS:{const{source:m,flags:f}=o;return i([c,{source:m,flags:f}],o)}case nS:{const m=[],f=i([c,m],o);for(const[g,x]of o)(t||!(zg(bm(g))||zg(bm(x))))&&m.push([a(g),a(x)]);return f}case rS:{const m=[],f=i([c,m],o);for(const g of o)(t||!zg(bm(g)))&&m.push(a(g));return f}}const{message:h}=o;return i([c,{name:d,message:h}],o)};return a},yI=(t,{json:e,lossy:n}={})=>{const r=[];return Vue(!(e||n),!!e,new Map,r)(t),r},ly=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?xI(yI(t,e)):structuredClone(t):(t,e)=>xI(yI(t,e));function Uue(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function zue(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function Bue(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||Uue,r=t.options.footnoteBackLabel||zue,i=t.options.footnoteLabel||"Footnotes",a=t.options.footnoteLabelTagName||"h2",o=t.options.footnoteLabelProperties||{className:["sr-only"]},c=[];let d=-1;for(;++d<t.footnoteOrder.length;){const h=t.footnoteById.get(t.footnoteOrder[d]);if(!h)continue;const m=t.all(h),f=String(h.identifier).toUpperCase(),g=_h(f.toLowerCase());let x=0;const _=[],w=t.footnoteCounts.get(f);for(;w!==void 0&&++x<=w;){_.length>0&&_.push({type:"text",value:" "});let E=typeof n=="string"?n:n(d,x);typeof E=="string"&&(E={type:"text",value:E}),_.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+g+(x>1?"-"+x:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(d,x),className:["data-footnote-backref"]},children:Array.isArray(E)?E:[E]})}const j=m[m.length-1];if(j&&j.type==="element"&&j.tagName==="p"){const E=j.children[j.children.length-1];E&&E.type==="text"?E.value+=" ":j.children.push({type:"text",value:" "}),j.children.push(..._)}else m.push(..._);const N={type:"element",tagName:"li",properties:{id:e+"fn-"+g},children:t.wrap(m,!0)};t.patch(h,N),c.push(N)}if(c.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...ly(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(c,!0)},{type:"text",value:`
`}]}}const CL=(function(t){if(t==null)return Wue;if(typeof t=="function")return l0(t);if(typeof t=="object")return Array.isArray(t)?$ue(t):que(t);if(typeof t=="string")return Hue(t);throw new Error("Expected function, string, or object as test")});function $ue(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=CL(t[n]);return l0(r);function r(...i){let a=-1;for(;++a<e.length;)if(e[a].apply(this,i))return!0;return!1}}function que(t){const e=t;return l0(n);function n(r){const i=r;let a;for(a in t)if(i[a]!==e[a])return!1;return!0}}function Hue(t){return l0(e);function e(n){return n&&n.type===t}}function l0(t){return e;function e(n,r,i){return!!(Kue(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function Wue(){return!0}function Kue(t){return t!==null&&typeof t=="object"&&"type"in t}const kL=[],Gue=!0,vI=!1,Que="skip";function Yue(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const a=CL(i),o=r?-1:1;c(t,void 0,[])();function c(d,h,m){const f=d&&typeof d=="object"?d:{};if(typeof f.type=="string"){const x=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(d.type+(x?"<"+x+">":""))+")"})}return g;function g(){let x=kL,_,w,j;if((!e||a(d,h,m[m.length-1]||void 0))&&(x=Jue(n(d,m)),x[0]===vI))return x;if("children"in d&&d.children){const N=d;if(N.children&&x[0]!==Que)for(w=(r?N.children.length:-1)+o,j=m.concat(N);w>-1&&w<N.children.length;){const E=N.children[w];if(_=c(E,w,j)(),_[0]===vI)return _;w=typeof _[1]=="number"?_[1]:w+o}}return x}}}function Jue(t){return Array.isArray(t)?t:typeof t=="number"?[Gue,t]:t==null?kL:[t]}function TL(t,e,n,r){let i,a,o;typeof e=="function"&&typeof n!="function"?(a=void 0,o=e,i=n):(a=e,o=n,i=r),Yue(t,a,c,i);function c(d,h){const m=h[h.length-1],f=m?m.children.indexOf(d):void 0;return o(d,f,m)}}const tj={}.hasOwnProperty,Xue={};function Zue(t,e){const n=e||Xue,r=new Map,i=new Map,a=new Map,o={...Mue,...n.handlers},c={all:h,applyData:tde,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:o,one:d,options:n,patch:ede,wrap:rde};return TL(t,function(m){if(m.type==="definition"||m.type==="footnoteDefinition"){const f=m.type==="definition"?r:i,g=String(m.identifier).toUpperCase();f.has(g)||f.set(g,m)}}),c;function d(m,f){const g=m.type,x=c.handlers[g];if(tj.call(c.handlers,g)&&x)return x(c,m,f);if(c.options.passThrough&&c.options.passThrough.includes(g)){if("children"in m){const{children:w,...j}=m,N=ly(j);return N.children=c.all(m),N}return ly(m)}return(c.options.unknownHandler||nde)(c,m,f)}function h(m){const f=[];if("children"in m){const g=m.children;let x=-1;for(;++x<g.length;){const _=c.one(g[x],m);if(_){if(x&&g[x-1].type==="break"&&(!Array.isArray(_)&&_.type==="text"&&(_.value=bI(_.value)),!Array.isArray(_)&&_.type==="element")){const w=_.children[0];w&&w.type==="text"&&(w.value=bI(w.value))}Array.isArray(_)?f.push(..._):f.push(_)}}}return f}}function ede(t,e){t.position&&(e.position=Loe(t))}function tde(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,a=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&a&&Object.assign(n.properties,ly(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function nde(t,e){const n=e.data||{},r="value"in e&&!(tj.call(n,"hProperties")||tj.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function rde(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function bI(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function wI(t,e){const n=Zue(t,e),r=n.one(t,void 0),i=Bue(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function sde(t,e){return t&&"run"in t?async function(n,r){const i=wI(n,{file:r,...e});await t.run(i,r)}:function(n,r){return wI(n,{file:r,...t||e})}}function jI(t){if(t)throw t}var Zb,NI;function ide(){if(NI)return Zb;NI=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(h){return typeof Array.isArray=="function"?Array.isArray(h):e.call(h)==="[object Array]"},a=function(h){if(!h||e.call(h)!=="[object Object]")return!1;var m=t.call(h,"constructor"),f=h.constructor&&h.constructor.prototype&&t.call(h.constructor.prototype,"isPrototypeOf");if(h.constructor&&!m&&!f)return!1;var g;for(g in h);return typeof g>"u"||t.call(h,g)},o=function(h,m){n&&m.name==="__proto__"?n(h,m.name,{enumerable:!0,configurable:!0,value:m.newValue,writable:!0}):h[m.name]=m.newValue},c=function(h,m){if(m==="__proto__")if(t.call(h,m)){if(r)return r(h,m).value}else return;return h[m]};return Zb=function d(){var h,m,f,g,x,_,w=arguments[0],j=1,N=arguments.length,E=!1;for(typeof w=="boolean"&&(E=w,w=arguments[1]||{},j=2),(w==null||typeof w!="object"&&typeof w!="function")&&(w={});j<N;++j)if(h=arguments[j],h!=null)for(m in h)f=c(w,m),g=c(h,m),w!==g&&(E&&g&&(a(g)||(x=i(g)))?(x?(x=!1,_=f&&i(f)?f:[]):_=f&&a(f)?f:{},o(w,{name:m,newValue:d(E,_,g)})):typeof g<"u"&&o(w,{name:m,newValue:g}));return w},Zb}var ade=ide();const ew=nh(ade);function nj(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function ode(){const t=[],e={run:n,use:r};return e;function n(...i){let a=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);c(null,...i);function c(d,...h){const m=t[++a];let f=-1;if(d){o(d);return}for(;++f<i.length;)(h[f]===null||h[f]===void 0)&&(h[f]=i[f]);i=h,m?lde(m,c)(...h):o(null,...h)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function lde(t,e){let n;return r;function r(...o){const c=t.length>o.length;let d;c&&o.push(i);try{d=t.apply(this,o)}catch(h){const m=h;if(c&&n)throw m;return i(m)}c||(d&&d.then&&typeof d.then=="function"?d.then(a,i):d instanceof Error?i(d):a(d))}function i(o,...c){n||(n=!0,e(o,...c))}function a(o){i(null,o)}}const Xi={basename:cde,dirname:ude,extname:dde,join:hde,sep:"/"};function cde(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');ap(t);let n=0,r=-1,i=t.length,a;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let o=-1,c=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else o<0&&(a=!0,o=i+1),c>-1&&(t.codePointAt(i)===e.codePointAt(c--)?c<0&&(r=i):(c=-1,r=o));return n===r?r=o:r<0&&(r=t.length),t.slice(n,r)}function ude(t){if(ap(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function dde(t){ap(t);let e=t.length,n=-1,r=0,i=-1,a=0,o;for(;e--;){const c=t.codePointAt(e);if(c===47){if(o){r=e+1;break}continue}n<0&&(o=!0,n=e+1),c===46?i<0?i=e:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function hde(...t){let e=-1,n;for(;++e<t.length;)ap(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":mde(n)}function mde(t){ap(t);const e=t.codePointAt(0)===47;let n=fde(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function fde(t,e){let n="",r=0,i=-1,a=0,o=-1,c,d;for(;++o<=t.length;){if(o<t.length)c=t.codePointAt(o);else{if(c===47)break;c=47}if(c===47){if(!(i===o-1||a===1))if(i!==o-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(d=n.lastIndexOf("/"),d!==n.length-1){d<0?(n="",r=0):(n=n.slice(0,d),r=n.length-1-n.lastIndexOf("/")),i=o,a=0;continue}}else if(n.length>0){n="",r=0,i=o,a=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,o):n=t.slice(i+1,o),r=o-i-1;i=o,a=0}else c===46&&a>-1?a++:a=-1}return n}function ap(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const pde={cwd:gde};function gde(){return"/"}function rj(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function xde(t){if(typeof t=="string")t=new URL(t);else if(!rj(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return yde(t)}function yde(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const tw=["history","path","basename","stem","extname","dirname"];class AL{constructor(e){let n;e?rj(e)?n={path:e}:typeof e=="string"||vde(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":pde.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<tw.length;){const a=tw[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)tw.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Xi.basename(this.path):void 0}set basename(e){rw(e,"basename"),nw(e,"basename"),this.path=Xi.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Xi.dirname(this.path):void 0}set dirname(e){_I(this.basename,"dirname"),this.path=Xi.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Xi.extname(this.path):void 0}set extname(e){if(nw(e,"extname"),_I(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Xi.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){rj(e)&&(e=xde(e)),rw(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Xi.basename(this.path,this.extname):void 0}set stem(e){rw(e,"stem"),nw(e,"stem"),this.path=Xi.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new Or(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function nw(t,e){if(t&&t.includes(Xi.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Xi.sep+"`")}function rw(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function _I(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function vde(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const bde=(function(t){const r=this.constructor.prototype,i=r[t],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a}),wde={}.hasOwnProperty;class sS extends bde{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=ode()}copy(){const e=new sS;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(ew(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(aw("data",this.frozen),this.namespace[e]=n,this):wde.call(this.namespace,e)&&this.namespace[e]||void 0:e?(aw("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=Bg(e),r=this.parser||this.Parser;return sw("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),sw("process",this.parser||this.Parser),iw("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,o){const c=Bg(e),d=r.parse(c);r.run(d,c,function(m,f,g){if(m||!f||!g)return h(m);const x=f,_=r.stringify(x,g);_de(_)?g.value=_:g.result=_,h(m,g)});function h(m,f){m||!f?o(m):a?a(f):n(void 0,f)}}}processSync(e){let n=!1,r;return this.freeze(),sw("processSync",this.parser||this.Parser),iw("processSync",this.compiler||this.Compiler),this.process(e,i),EI("processSync","process",n),r;function i(a,o){n=!0,jI(a),r=o}}run(e,n,r){SI(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(o,c){const d=Bg(n);i.run(e,d,h);function h(m,f,g){const x=f||e;m?c(m):o?o(x):r(void 0,x,g)}}}runSync(e,n){let r=!1,i;return this.run(e,n,a),EI("runSync","run",r),i;function a(o,c){jI(o),i=c,r=!0}}stringify(e,n){this.freeze();const r=Bg(n),i=this.compiler||this.Compiler;return iw("stringify",i),SI(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(aw("use",this.frozen),e!=null)if(typeof e=="function")d(e,n);else if(typeof e=="object")Array.isArray(e)?c(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(h){if(typeof h=="function")d(h,[]);else if(typeof h=="object")if(Array.isArray(h)){const[m,...f]=h;d(m,f)}else o(h);else throw new TypeError("Expected usable value, not `"+h+"`")}function o(h){if(!("plugins"in h)&&!("settings"in h))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(h.plugins),h.settings&&(i.settings=ew(!0,i.settings,h.settings))}function c(h){let m=-1;if(h!=null)if(Array.isArray(h))for(;++m<h.length;){const f=h[m];a(f)}else throw new TypeError("Expected a list of plugins, not `"+h+"`")}function d(h,m){let f=-1,g=-1;for(;++f<r.length;)if(r[f][0]===h){g=f;break}if(g===-1)r.push([h,...m]);else if(m.length>0){let[x,..._]=m;const w=r[g][1];nj(w)&&nj(x)&&(x=ew(!0,w,x)),r[g]=[h,x,..._]}}}}const jde=new sS().freeze();function sw(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function iw(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function aw(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function SI(t){if(!nj(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function EI(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Bg(t){return Nde(t)?t:new AL(t)}function Nde(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function _de(t){return typeof t=="string"||Sde(t)}function Sde(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Ede="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",CI=[],kI={allowDangerousHtml:!0},Cde=/^(https?|ircs?|mailto|xmpp)$/i,kde=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function IL(t){const e=Tde(t),n=Ade(t);return Ide(e.runSync(e.parse(n),n),t)}function Tde(t){const e=t.rehypePlugins||CI,n=t.remarkPlugins||CI,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...kI}:kI;return jde().use(cue).use(n).use(sde,r).use(e)}function Ade(t){const e=t.children||"",n=new AL;return typeof e=="string"&&(n.value=e),n}function Ide(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,a=e.disallowedElements,o=e.skipHtml,c=e.unwrapDisallowed,d=e.urlTransform||Rde;for(const m of kde)Object.hasOwn(e,m.from)&&(""+m.from+(m.to?"use `"+m.to+"` instead":"remove it")+Ede+m.id,void 0);return TL(t,h),Boe(t,{Fragment:s.Fragment,components:i,ignoreInvalidStyle:!0,jsx:s.jsx,jsxs:s.jsxs,passKeys:!0,passNode:!0});function h(m,f,g){if(m.type==="raw"&&g&&typeof f=="number")return o?g.children.splice(f,1):g.children[f]={type:"text",value:m.value},f;if(m.type==="element"){let x;for(x in Yb)if(Object.hasOwn(Yb,x)&&Object.hasOwn(m.properties,x)){const _=m.properties[x],w=Yb[x];(w===null||w.includes(m.tagName))&&(m.properties[x]=d(String(_||""),x,m))}}if(m.type==="element"){let x=n?!n.includes(m.tagName):a?a.includes(m.tagName):!1;if(!x&&r&&typeof f=="number"&&(x=!r(m,f,g)),x&&g&&typeof f=="number")return c&&m.children?g.children.splice(f,1,...m.children):g.children.splice(f,1),f}}}function Rde(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||Cde.test(t.slice(0,e))?t:""}function RL(t,e){return function(){return t.apply(e,arguments)}}const{toString:Pde}=Object.prototype,{getPrototypeOf:iS}=Object,{iterator:c0,toStringTag:PL}=Symbol,u0=(t=>e=>{const n=Pde.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ti=t=>(t=t.toLowerCase(),e=>u0(e)===t),d0=t=>e=>typeof e===t,{isArray:Sh}=Array,Xd=d0("undefined");function op(t){return t!==null&&!Xd(t)&&t.constructor!==null&&!Xd(t.constructor)&&fs(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const DL=Ti("ArrayBuffer");function Dde(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&DL(t.buffer),e}const Mde=d0("string"),fs=d0("function"),ML=d0("number"),lp=t=>t!==null&&typeof t=="object",Ode=t=>t===!0||t===!1,px=t=>{if(u0(t)!=="object")return!1;const e=iS(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(PL in t)&&!(c0 in t)},Lde=t=>{if(!lp(t)||op(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Fde=Ti("Date"),Vde=Ti("File"),Ude=Ti("Blob"),zde=Ti("FileList"),Bde=t=>lp(t)&&fs(t.pipe),$de=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||fs(t.append)&&((e=u0(t))==="formdata"||e==="object"&&fs(t.toString)&&t.toString()==="[object FormData]"))},qde=Ti("URLSearchParams"),[Hde,Wde,Kde,Gde]=["ReadableStream","Request","Response","Headers"].map(Ti),Qde=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function cp(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Sh(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(op(t))return;const a=n?Object.getOwnPropertyNames(t):Object.keys(t),o=a.length;let c;for(r=0;r<o;r++)c=a[r],e.call(null,t[c],c,t)}}function OL(t,e){if(op(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Ac=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,LL=t=>!Xd(t)&&t!==Ac;function sj(){const{caseless:t,skipUndefined:e}=LL(this)&&this||{},n={},r=(i,a)=>{const o=t&&OL(n,a)||a;px(n[o])&&px(i)?n[o]=sj(n[o],i):px(i)?n[o]=sj({},i):Sh(i)?n[o]=i.slice():(!e||!Xd(i))&&(n[o]=i)};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&cp(arguments[i],r);return n}const Yde=(t,e,n,{allOwnKeys:r}={})=>(cp(e,(i,a)=>{n&&fs(i)?t[a]=RL(i,n):t[a]=i},{allOwnKeys:r}),t),Jde=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Xde=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Zde=(t,e,n,r)=>{let i,a,o;const c={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),a=i.length;a-- >0;)o=i[a],(!r||r(o,t,e))&&!c[o]&&(e[o]=t[o],c[o]=!0);t=n!==!1&&iS(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},ehe=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},the=t=>{if(!t)return null;if(Sh(t))return t;let e=t.length;if(!ML(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},nhe=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&iS(Uint8Array)),rhe=(t,e)=>{const r=(t&&t[c0]).call(t);let i;for(;(i=r.next())&&!i.done;){const a=i.value;e.call(t,a[0],a[1])}},she=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},ihe=Ti("HTMLFormElement"),ahe=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),TI=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),ohe=Ti("RegExp"),FL=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};cp(n,(i,a)=>{let o;(o=e(i,a,t))!==!1&&(r[a]=o||i)}),Object.defineProperties(t,r)},lhe=t=>{FL(t,(e,n)=>{if(fs(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(fs(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},che=(t,e)=>{const n={},r=i=>{i.forEach(a=>{n[a]=!0})};return Sh(t)?r(t):r(String(t).split(e)),n},uhe=()=>{},dhe=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function hhe(t){return!!(t&&fs(t.append)&&t[PL]==="FormData"&&t[c0])}const mhe=t=>{const e=new Array(10),n=(r,i)=>{if(lp(r)){if(e.indexOf(r)>=0)return;if(op(r))return r;if(!("toJSON"in r)){e[i]=r;const a=Sh(r)?[]:{};return cp(r,(o,c)=>{const d=n(o,i+1);!Xd(d)&&(a[c]=d)}),e[i]=void 0,a}}return r};return n(t,0)},fhe=Ti("AsyncFunction"),phe=t=>t&&(lp(t)||fs(t))&&fs(t.then)&&fs(t.catch),VL=((t,e)=>t?setImmediate:e?((n,r)=>(Ac.addEventListener("message",({source:i,data:a})=>{i===Ac&&a===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Ac.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",fs(Ac.postMessage)),ghe=typeof queueMicrotask<"u"?queueMicrotask.bind(Ac):typeof process<"u"&&process.nextTick||VL,xhe=t=>t!=null&&fs(t[c0]),he={isArray:Sh,isArrayBuffer:DL,isBuffer:op,isFormData:$de,isArrayBufferView:Dde,isString:Mde,isNumber:ML,isBoolean:Ode,isObject:lp,isPlainObject:px,isEmptyObject:Lde,isReadableStream:Hde,isRequest:Wde,isResponse:Kde,isHeaders:Gde,isUndefined:Xd,isDate:Fde,isFile:Vde,isBlob:Ude,isRegExp:ohe,isFunction:fs,isStream:Bde,isURLSearchParams:qde,isTypedArray:nhe,isFileList:zde,forEach:cp,merge:sj,extend:Yde,trim:Qde,stripBOM:Jde,inherits:Xde,toFlatObject:Zde,kindOf:u0,kindOfTest:Ti,endsWith:ehe,toArray:the,forEachEntry:rhe,matchAll:she,isHTMLForm:ihe,hasOwnProperty:TI,hasOwnProp:TI,reduceDescriptors:FL,freezeMethods:lhe,toObjectSet:che,toCamelCase:ahe,noop:uhe,toFiniteNumber:dhe,findKey:OL,global:Ac,isContextDefined:LL,isSpecCompliantForm:hhe,toJSONObject:mhe,isAsyncFn:fhe,isThenable:phe,setImmediate:VL,asap:ghe,isIterable:xhe};function Nt(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}he.inherits(Nt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:he.toJSONObject(this.config),code:this.code,status:this.status}}});const UL=Nt.prototype,zL={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{zL[t]={value:t}});Object.defineProperties(Nt,zL);Object.defineProperty(UL,"isAxiosError",{value:!0});Nt.from=(t,e,n,r,i,a)=>{const o=Object.create(UL);he.toFlatObject(t,o,function(m){return m!==Error.prototype},h=>h!=="isAxiosError");const c=t&&t.message?t.message:"Error",d=e==null&&t?t.code:e;return Nt.call(o,c,d,n,r,i),t&&o.cause==null&&Object.defineProperty(o,"cause",{value:t,configurable:!0}),o.name=t&&t.name||"Error",a&&Object.assign(o,a),o};const yhe=null;function ij(t){return he.isPlainObject(t)||he.isArray(t)}function BL(t){return he.endsWith(t,"[]")?t.slice(0,-2):t}function AI(t,e,n){return t?t.concat(e).map(function(i,a){return i=BL(i),!n&&a?"["+i+"]":i}).join(n?".":""):e}function vhe(t){return he.isArray(t)&&!t.some(ij)}const bhe=he.toFlatObject(he,{},null,function(e){return/^is[A-Z]/.test(e)});function h0(t,e,n){if(!he.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=he.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,j){return!he.isUndefined(j[w])});const r=n.metaTokens,i=n.visitor||m,a=n.dots,o=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&he.isSpecCompliantForm(e);if(!he.isFunction(i))throw new TypeError("visitor must be a function");function h(_){if(_===null)return"";if(he.isDate(_))return _.toISOString();if(he.isBoolean(_))return _.toString();if(!d&&he.isBlob(_))throw new Nt("Blob is not supported. Use a Buffer instead.");return he.isArrayBuffer(_)||he.isTypedArray(_)?d&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function m(_,w,j){let N=_;if(_&&!j&&typeof _=="object"){if(he.endsWith(w,"{}"))w=r?w:w.slice(0,-2),_=JSON.stringify(_);else if(he.isArray(_)&&vhe(_)||(he.isFileList(_)||he.endsWith(w,"[]"))&&(N=he.toArray(_)))return w=BL(w),N.forEach(function(k,C){!(he.isUndefined(k)||k===null)&&e.append(o===!0?AI([w],C,a):o===null?w:w+"[]",h(k))}),!1}return ij(_)?!0:(e.append(AI(j,w,a),h(_)),!1)}const f=[],g=Object.assign(bhe,{defaultVisitor:m,convertValue:h,isVisitable:ij});function x(_,w){if(!he.isUndefined(_)){if(f.indexOf(_)!==-1)throw Error("Circular reference detected in "+w.join("."));f.push(_),he.forEach(_,function(N,E){(!(he.isUndefined(N)||N===null)&&i.call(e,N,he.isString(E)?E.trim():E,w,g))===!0&&x(N,w?w.concat(E):[E])}),f.pop()}}if(!he.isObject(t))throw new TypeError("data must be an object");return x(t),e}function II(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function aS(t,e){this._pairs=[],t&&h0(t,this,e)}const $L=aS.prototype;$L.append=function(e,n){this._pairs.push([e,n])};$L.toString=function(e){const n=e?function(r){return e.call(this,r,II)}:II;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function whe(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function qL(t,e,n){if(!e)return t;const r=n&&n.encode||whe;he.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let a;if(i?a=i(e,n):a=he.isURLSearchParams(e)?e.toString():new aS(e,n).toString(r),a){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class RI{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){he.forEach(this.handlers,function(r){r!==null&&e(r)})}}const HL={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},jhe=typeof URLSearchParams<"u"?URLSearchParams:aS,Nhe=typeof FormData<"u"?FormData:null,_he=typeof Blob<"u"?Blob:null,She={isBrowser:!0,classes:{URLSearchParams:jhe,FormData:Nhe,Blob:_he},protocols:["http","https","file","blob","url","data"]},oS=typeof window<"u"&&typeof document<"u",aj=typeof navigator=="object"&&navigator||void 0,Ehe=oS&&(!aj||["ReactNative","NativeScript","NS"].indexOf(aj.product)<0),Che=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",khe=oS&&window.location.href||"http://localhost",The=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:oS,hasStandardBrowserEnv:Ehe,hasStandardBrowserWebWorkerEnv:Che,navigator:aj,origin:khe},Symbol.toStringTag,{value:"Module"})),Pr={...The,...She};function Ahe(t,e){return h0(t,new Pr.classes.URLSearchParams,{visitor:function(n,r,i,a){return Pr.isNode&&he.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...e})}function Ihe(t){return he.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Rhe(t){const e={},n=Object.keys(t);let r;const i=n.length;let a;for(r=0;r<i;r++)a=n[r],e[a]=t[a];return e}function WL(t){function e(n,r,i,a){let o=n[a++];if(o==="__proto__")return!0;const c=Number.isFinite(+o),d=a>=n.length;return o=!o&&he.isArray(i)?i.length:o,d?(he.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!c):((!i[o]||!he.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],a)&&he.isArray(i[o])&&(i[o]=Rhe(i[o])),!c)}if(he.isFormData(t)&&he.isFunction(t.entries)){const n={};return he.forEachEntry(t,(r,i)=>{e(Ihe(r),i,n,0)}),n}return null}function Phe(t,e,n){if(he.isString(t))try{return(e||JSON.parse)(t),he.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const up={transitional:HL,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,a=he.isObject(e);if(a&&he.isHTMLForm(e)&&(e=new FormData(e)),he.isFormData(e))return i?JSON.stringify(WL(e)):e;if(he.isArrayBuffer(e)||he.isBuffer(e)||he.isStream(e)||he.isFile(e)||he.isBlob(e)||he.isReadableStream(e))return e;if(he.isArrayBufferView(e))return e.buffer;if(he.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Ahe(e,this.formSerializer).toString();if((c=he.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return h0(c?{"files[]":e}:e,d&&new d,this.formSerializer)}}return a||i?(n.setContentType("application/json",!1),Phe(e)):e}],transformResponse:[function(e){const n=this.transitional||up.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(he.isResponse(e)||he.isReadableStream(e))return e;if(e&&he.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(c){if(o)throw c.name==="SyntaxError"?Nt.from(c,Nt.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Pr.classes.FormData,Blob:Pr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};he.forEach(["delete","get","head","post","put","patch"],t=>{up.headers[t]={}});const Dhe=he.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Mhe=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&Dhe[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},PI=Symbol("internals");function wm(t){return t&&String(t).trim().toLowerCase()}function gx(t){return t===!1||t==null?t:he.isArray(t)?t.map(gx):String(t)}function Ohe(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const Lhe=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function ow(t,e,n,r,i){if(he.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!he.isString(e)){if(he.isString(r))return e.indexOf(r)!==-1;if(he.isRegExp(r))return r.test(e)}}function Fhe(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function Vhe(t,e){const n=he.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,a,o){return this[r].call(this,e,i,a,o)},configurable:!0})})}let ps=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function a(c,d,h){const m=wm(d);if(!m)throw new Error("header name must be a non-empty string");const f=he.findKey(i,m);(!f||i[f]===void 0||h===!0||h===void 0&&i[f]!==!1)&&(i[f||d]=gx(c))}const o=(c,d)=>he.forEach(c,(h,m)=>a(h,m,d));if(he.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(he.isString(e)&&(e=e.trim())&&!Lhe(e))o(Mhe(e),n);else if(he.isObject(e)&&he.isIterable(e)){let c={},d,h;for(const m of e){if(!he.isArray(m))throw TypeError("Object iterator must return a key-value pair");c[h=m[0]]=(d=c[h])?he.isArray(d)?[...d,m[1]]:[d,m[1]]:m[1]}o(c,n)}else e!=null&&a(n,e,r);return this}get(e,n){if(e=wm(e),e){const r=he.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return Ohe(i);if(he.isFunction(n))return n.call(this,i,r);if(he.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=wm(e),e){const r=he.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||ow(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function a(o){if(o=wm(o),o){const c=he.findKey(r,o);c&&(!n||ow(r,r[c],c,n))&&(delete r[c],i=!0)}}return he.isArray(e)?e.forEach(a):a(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const a=n[r];(!e||ow(this,this[a],a,e,!0))&&(delete this[a],i=!0)}return i}normalize(e){const n=this,r={};return he.forEach(this,(i,a)=>{const o=he.findKey(r,a);if(o){n[o]=gx(i),delete n[a];return}const c=e?Fhe(a):String(a).trim();c!==a&&delete n[a],n[c]=gx(i),r[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return he.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&he.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[PI]=this[PI]={accessors:{}}).accessors,i=this.prototype;function a(o){const c=wm(o);r[c]||(Vhe(i,o),r[c]=!0)}return he.isArray(e)?e.forEach(a):a(e),this}};ps.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);he.reduceDescriptors(ps.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});he.freezeMethods(ps);function lw(t,e){const n=this||up,r=e||n,i=ps.from(r.headers);let a=r.data;return he.forEach(t,function(c){a=c.call(n,a,i.normalize(),e?e.status:void 0)}),i.normalize(),a}function KL(t){return!!(t&&t.__CANCEL__)}function Eh(t,e,n){Nt.call(this,t??"canceled",Nt.ERR_CANCELED,e,n),this.name="CanceledError"}he.inherits(Eh,Nt,{__CANCEL__:!0});function GL(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Nt("Request failed with status code "+n.status,[Nt.ERR_BAD_REQUEST,Nt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Uhe(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function zhe(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,a=0,o;return e=e!==void 0?e:1e3,function(d){const h=Date.now(),m=r[a];o||(o=h),n[i]=d,r[i]=h;let f=a,g=0;for(;f!==i;)g+=n[f++],f=f%t;if(i=(i+1)%t,i===a&&(a=(a+1)%t),h-o<e)return;const x=m&&h-m;return x?Math.round(g*1e3/x):void 0}}function Bhe(t,e){let n=0,r=1e3/e,i,a;const o=(h,m=Date.now())=>{n=m,i=null,a&&(clearTimeout(a),a=null),t(...h)};return[(...h)=>{const m=Date.now(),f=m-n;f>=r?o(h,m):(i=h,a||(a=setTimeout(()=>{a=null,o(i)},r-f)))},()=>i&&o(i)]}const cy=(t,e,n=3)=>{let r=0;const i=zhe(50,250);return Bhe(a=>{const o=a.loaded,c=a.lengthComputable?a.total:void 0,d=o-r,h=i(d),m=o<=c;r=o;const f={loaded:o,total:c,progress:c?o/c:void 0,bytes:d,rate:h||void 0,estimated:h&&c&&m?(c-o)/h:void 0,event:a,lengthComputable:c!=null,[e?"download":"upload"]:!0};t(f)},n)},DI=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},MI=t=>(...e)=>he.asap(()=>t(...e)),$he=Pr.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Pr.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Pr.origin),Pr.navigator&&/(msie|trident)/i.test(Pr.navigator.userAgent)):()=>!0,qhe=Pr.hasStandardBrowserEnv?{write(t,e,n,r,i,a,o){if(typeof document>"u")return;const c=[`${t}=${encodeURIComponent(e)}`];he.isNumber(n)&&c.push(`expires=${new Date(n).toUTCString()}`),he.isString(r)&&c.push(`path=${r}`),he.isString(i)&&c.push(`domain=${i}`),a===!0&&c.push("secure"),he.isString(o)&&c.push(`SameSite=${o}`),document.cookie=c.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Hhe(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Whe(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function QL(t,e,n){let r=!Hhe(e);return t&&(r||n==!1)?Whe(t,e):e}const OI=t=>t instanceof ps?{...t}:t;function iu(t,e){e=e||{};const n={};function r(h,m,f,g){return he.isPlainObject(h)&&he.isPlainObject(m)?he.merge.call({caseless:g},h,m):he.isPlainObject(m)?he.merge({},m):he.isArray(m)?m.slice():m}function i(h,m,f,g){if(he.isUndefined(m)){if(!he.isUndefined(h))return r(void 0,h,f,g)}else return r(h,m,f,g)}function a(h,m){if(!he.isUndefined(m))return r(void 0,m)}function o(h,m){if(he.isUndefined(m)){if(!he.isUndefined(h))return r(void 0,h)}else return r(void 0,m)}function c(h,m,f){if(f in e)return r(h,m);if(f in t)return r(void 0,h)}const d={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(h,m,f)=>i(OI(h),OI(m),f,!0)};return he.forEach(Object.keys({...t,...e}),function(m){const f=d[m]||i,g=f(t[m],e[m],m);he.isUndefined(g)&&f!==c||(n[m]=g)}),n}const YL=t=>{const e=iu({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:c}=e;if(e.headers=o=ps.from(o),e.url=qL(QL(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),c&&o.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),he.isFormData(n)){if(Pr.hasStandardBrowserEnv||Pr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(he.isFunction(n.getHeaders)){const d=n.getHeaders(),h=["content-type","content-length"];Object.entries(d).forEach(([m,f])=>{h.includes(m.toLowerCase())&&o.set(m,f)})}}if(Pr.hasStandardBrowserEnv&&(r&&he.isFunction(r)&&(r=r(e)),r||r!==!1&&$he(e.url))){const d=i&&a&&qhe.read(a);d&&o.set(i,d)}return e},Khe=typeof XMLHttpRequest<"u",Ghe=Khe&&function(t){return new Promise(function(n,r){const i=YL(t);let a=i.data;const o=ps.from(i.headers).normalize();let{responseType:c,onUploadProgress:d,onDownloadProgress:h}=i,m,f,g,x,_;function w(){x&&x(),_&&_(),i.cancelToken&&i.cancelToken.unsubscribe(m),i.signal&&i.signal.removeEventListener("abort",m)}let j=new XMLHttpRequest;j.open(i.method.toUpperCase(),i.url,!0),j.timeout=i.timeout;function N(){if(!j)return;const k=ps.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),P={data:!c||c==="text"||c==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:k,config:t,request:j};GL(function(D){n(D),w()},function(D){r(D),w()},P),j=null}"onloadend"in j?j.onloadend=N:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(N)},j.onabort=function(){j&&(r(new Nt("Request aborted",Nt.ECONNABORTED,t,j)),j=null)},j.onerror=function(C){const P=C&&C.message?C.message:"Network Error",F=new Nt(P,Nt.ERR_NETWORK,t,j);F.event=C||null,r(F),j=null},j.ontimeout=function(){let C=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const P=i.transitional||HL;i.timeoutErrorMessage&&(C=i.timeoutErrorMessage),r(new Nt(C,P.clarifyTimeoutError?Nt.ETIMEDOUT:Nt.ECONNABORTED,t,j)),j=null},a===void 0&&o.setContentType(null),"setRequestHeader"in j&&he.forEach(o.toJSON(),function(C,P){j.setRequestHeader(P,C)}),he.isUndefined(i.withCredentials)||(j.withCredentials=!!i.withCredentials),c&&c!=="json"&&(j.responseType=i.responseType),h&&([g,_]=cy(h,!0),j.addEventListener("progress",g)),d&&j.upload&&([f,x]=cy(d),j.upload.addEventListener("progress",f),j.upload.addEventListener("loadend",x)),(i.cancelToken||i.signal)&&(m=k=>{j&&(r(!k||k.type?new Eh(null,t,j):k),j.abort(),j=null)},i.cancelToken&&i.cancelToken.subscribe(m),i.signal&&(i.signal.aborted?m():i.signal.addEventListener("abort",m)));const E=Uhe(i.url);if(E&&Pr.protocols.indexOf(E)===-1){r(new Nt("Unsupported protocol "+E+":",Nt.ERR_BAD_REQUEST,t));return}j.send(a||null)})},Qhe=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const a=function(h){if(!i){i=!0,c();const m=h instanceof Error?h:this.reason;r.abort(m instanceof Nt?m:new Eh(m instanceof Error?m.message:m))}};let o=e&&setTimeout(()=>{o=null,a(new Nt(`timeout ${e} of ms exceeded`,Nt.ETIMEDOUT))},e);const c=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(h=>{h.unsubscribe?h.unsubscribe(a):h.removeEventListener("abort",a)}),t=null)};t.forEach(h=>h.addEventListener("abort",a));const{signal:d}=r;return d.unsubscribe=()=>he.asap(c),d}},Yhe=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},Jhe=async function*(t,e){for await(const n of Xhe(t))yield*Yhe(n,e)},Xhe=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},LI=(t,e,n,r)=>{const i=Jhe(t,e);let a=0,o,c=d=>{o||(o=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:h,value:m}=await i.next();if(h){c(),d.close();return}let f=m.byteLength;if(n){let g=a+=f;n(g)}d.enqueue(new Uint8Array(m))}catch(h){throw c(h),h}},cancel(d){return c(d),i.return()}},{highWaterMark:2})},FI=64*1024,{isFunction:$g}=he,Zhe=(({Request:t,Response:e})=>({Request:t,Response:e}))(he.global),{ReadableStream:VI,TextEncoder:UI}=he.global,zI=(t,...e)=>{try{return!!t(...e)}catch{return!1}},eme=t=>{t=he.merge.call({skipUndefined:!0},Zhe,t);const{fetch:e,Request:n,Response:r}=t,i=e?$g(e):typeof fetch=="function",a=$g(n),o=$g(r);if(!i)return!1;const c=i&&$g(VI),d=i&&(typeof UI=="function"?(_=>w=>_.encode(w))(new UI):async _=>new Uint8Array(await new n(_).arrayBuffer())),h=a&&c&&zI(()=>{let _=!1;const w=new n(Pr.origin,{body:new VI,method:"POST",get duplex(){return _=!0,"half"}}).headers.has("Content-Type");return _&&!w}),m=o&&c&&zI(()=>he.isReadableStream(new r("").body)),f={stream:m&&(_=>_.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(_=>{!f[_]&&(f[_]=(w,j)=>{let N=w&&w[_];if(N)return N.call(w);throw new Nt(`Response type '${_}' is not supported`,Nt.ERR_NOT_SUPPORT,j)})});const g=async _=>{if(_==null)return 0;if(he.isBlob(_))return _.size;if(he.isSpecCompliantForm(_))return(await new n(Pr.origin,{method:"POST",body:_}).arrayBuffer()).byteLength;if(he.isArrayBufferView(_)||he.isArrayBuffer(_))return _.byteLength;if(he.isURLSearchParams(_)&&(_=_+""),he.isString(_))return(await d(_)).byteLength},x=async(_,w)=>{const j=he.toFiniteNumber(_.getContentLength());return j??g(w)};return async _=>{let{url:w,method:j,data:N,signal:E,cancelToken:k,timeout:C,onDownloadProgress:P,onUploadProgress:F,responseType:D,headers:R,withCredentials:I="same-origin",fetchOptions:M}=YL(_),V=e||fetch;D=D?(D+"").toLowerCase():"text";let O=Qhe([E,k&&k.toAbortSignal()],C),U=null;const X=O&&O.unsubscribe&&(()=>{O.unsubscribe()});let re;try{if(F&&h&&j!=="get"&&j!=="head"&&(re=await x(R,N))!==0){let q=new n(w,{method:"POST",body:N,duplex:"half"}),Z;if(he.isFormData(N)&&(Z=q.headers.get("content-type"))&&R.setContentType(Z),q.body){const[$,me]=DI(re,cy(MI(F)));N=LI(q.body,FI,$,me)}}he.isString(I)||(I=I?"include":"omit");const ue=a&&"credentials"in n.prototype,ie={...M,signal:O,method:j.toUpperCase(),headers:R.normalize().toJSON(),body:N,duplex:"half",credentials:ue?I:void 0};U=a&&new n(w,ie);let K=await(a?V(U,M):V(w,ie));const W=m&&(D==="stream"||D==="response");if(m&&(P||W&&X)){const q={};["status","statusText","headers"].forEach(Ne=>{q[Ne]=K[Ne]});const Z=he.toFiniteNumber(K.headers.get("content-length")),[$,me]=P&&DI(Z,cy(MI(P),!0))||[];K=new r(LI(K.body,FI,$,()=>{me&&me(),X&&X()}),q)}D=D||"text";let B=await f[he.findKey(f,D)||"text"](K,_);return!W&&X&&X(),await new Promise((q,Z)=>{GL(q,Z,{data:B,headers:ps.from(K.headers),status:K.status,statusText:K.statusText,config:_,request:U})})}catch(ue){throw X&&X(),ue&&ue.name==="TypeError"&&/Load failed|fetch/i.test(ue.message)?Object.assign(new Nt("Network Error",Nt.ERR_NETWORK,_,U),{cause:ue.cause||ue}):Nt.from(ue,ue&&ue.code,_,U)}}},tme=new Map,JL=t=>{let e=t&&t.env||{};const{fetch:n,Request:r,Response:i}=e,a=[r,i,n];let o=a.length,c=o,d,h,m=tme;for(;c--;)d=a[c],h=m.get(d),h===void 0&&m.set(d,h=c?new Map:eme(e)),m=h;return h};JL();const lS={http:yhe,xhr:Ghe,fetch:{get:JL}};he.forEach(lS,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const BI=t=>`- ${t}`,nme=t=>he.isFunction(t)||t===null||t===!1;function rme(t,e){t=he.isArray(t)?t:[t];const{length:n}=t;let r,i;const a={};for(let o=0;o<n;o++){r=t[o];let c;if(i=r,!nme(r)&&(i=lS[(c=String(r)).toLowerCase()],i===void 0))throw new Nt(`Unknown adapter '${c}'`);if(i&&(he.isFunction(i)||(i=i.get(e))))break;a[c||"#"+o]=i}if(!i){const o=Object.entries(a).map(([d,h])=>`adapter ${d} `+(h===!1?"is not supported by the environment":"is not available in the build"));let c=n?o.length>1?`since :
`+o.map(BI).join(`
`):" "+BI(o[0]):"as no adapter specified";throw new Nt("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return i}const XL={getAdapter:rme,adapters:lS};function cw(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Eh(null,t)}function $I(t){return cw(t),t.headers=ps.from(t.headers),t.data=lw.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),XL.getAdapter(t.adapter||up.adapter,t)(t).then(function(r){return cw(t),r.data=lw.call(t,t.transformResponse,r),r.headers=ps.from(r.headers),r},function(r){return KL(r)||(cw(t),r&&r.response&&(r.response.data=lw.call(t,t.transformResponse,r.response),r.response.headers=ps.from(r.response.headers))),Promise.reject(r)})}const ZL="1.13.2",m0={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{m0[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const qI={};m0.transitional=function(e,n,r){function i(a,o){return"[Axios v"+ZL+"] Transitional option '"+a+"'"+o+(r?". "+r:"")}return(a,o,c)=>{if(e===!1)throw new Nt(i(o," has been removed"+(n?" in "+n:"")),Nt.ERR_DEPRECATED);return n&&!qI[o]&&(qI[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(a,o,c):!0}};m0.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function sme(t,e,n){if(typeof t!="object")throw new Nt("options must be an object",Nt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const a=r[i],o=e[a];if(o){const c=t[a],d=c===void 0||o(c,a,t);if(d!==!0)throw new Nt("option "+a+" must be "+d,Nt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Nt("Unknown option "+a,Nt.ERR_BAD_OPTION)}}const xx={assertOptions:sme,validators:m0},Ji=xx.validators;let qc=class{constructor(e){this.defaults=e||{},this.interceptors={request:new RI,response:new RI}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=iu(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:a}=n;r!==void 0&&xx.assertOptions(r,{silentJSONParsing:Ji.transitional(Ji.boolean),forcedJSONParsing:Ji.transitional(Ji.boolean),clarifyTimeoutError:Ji.transitional(Ji.boolean)},!1),i!=null&&(he.isFunction(i)?n.paramsSerializer={serialize:i}:xx.assertOptions(i,{encode:Ji.function,serialize:Ji.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),xx.assertOptions(n,{baseUrl:Ji.spelling("baseURL"),withXsrfToken:Ji.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=a&&he.merge(a.common,a[n.method]);a&&he.forEach(["delete","get","head","post","put","patch","common"],_=>{delete a[_]}),n.headers=ps.concat(o,a);const c=[];let d=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(d=d&&w.synchronous,c.unshift(w.fulfilled,w.rejected))});const h=[];this.interceptors.response.forEach(function(w){h.push(w.fulfilled,w.rejected)});let m,f=0,g;if(!d){const _=[$I.bind(this),void 0];for(_.unshift(...c),_.push(...h),g=_.length,m=Promise.resolve(n);f<g;)m=m.then(_[f++],_[f++]);return m}g=c.length;let x=n;for(;f<g;){const _=c[f++],w=c[f++];try{x=_(x)}catch(j){w.call(this,j);break}}try{m=$I.call(this,x)}catch(_){return Promise.reject(_)}for(f=0,g=h.length;f<g;)m=m.then(h[f++],h[f++]);return m}getUri(e){e=iu(this.defaults,e);const n=QL(e.baseURL,e.url,e.allowAbsoluteUrls);return qL(n,e.params,e.paramsSerializer)}};he.forEach(["delete","get","head","options"],function(e){qc.prototype[e]=function(n,r){return this.request(iu(r||{},{method:e,url:n,data:(r||{}).data}))}});he.forEach(["post","put","patch"],function(e){function n(r){return function(a,o,c){return this.request(iu(c||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}qc.prototype[e]=n(),qc.prototype[e+"Form"]=n(!0)});let ime=class e3{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(c=>{r.subscribe(c),a=c}).then(i);return o.cancel=function(){r.unsubscribe(a)},o},e(function(a,o,c){r.reason||(r.reason=new Eh(a,o,c),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new e3(function(i){e=i}),cancel:e}}};function ame(t){return function(n){return t.apply(null,n)}}function ome(t){return he.isObject(t)&&t.isAxiosError===!0}const oj={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(oj).forEach(([t,e])=>{oj[e]=t});function t3(t){const e=new qc(t),n=RL(qc.prototype.request,e);return he.extend(n,qc.prototype,e,{allOwnKeys:!0}),he.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return t3(iu(t,i))},n}const zn=t3(up);zn.Axios=qc;zn.CanceledError=Eh;zn.CancelToken=ime;zn.isCancel=KL;zn.VERSION=ZL;zn.toFormData=h0;zn.AxiosError=Nt;zn.Cancel=zn.CanceledError;zn.all=function(e){return Promise.all(e)};zn.spread=ame;zn.isAxiosError=ome;zn.mergeConfig=iu;zn.AxiosHeaders=ps;zn.formToJSON=t=>WL(he.isHTMLForm(t)?new FormData(t):t);zn.getAdapter=XL.getAdapter;zn.HttpStatusCode=oj;zn.default=zn;const{Axios:tge,AxiosError:nge,CanceledError:rge,isCancel:sge,CancelToken:ige,VERSION:age,all:oge,Cancel:lge,isAxiosError:cge,spread:uge,toFormData:dge,AxiosHeaders:hge,HttpStatusCode:mge,formToJSON:fge,getAdapter:pge,mergeConfig:gge}=zn;class lme extends Error{constructor(e,n,r,i,a){super(e),this.name="Base44Error",this.status=n,this.code=r,this.data=i,this.originalError=a}toJSON(){return{name:this.name,message:this.message,status:this.status,code:this.code,data:this.data}}}function cme(t){let{baseURL:e,headers:n={},token:r,requiresAuth:i=!1,appId:a,serverUrl:o}=t;const c=zn.create({baseURL:e,headers:{"Content-Type":"application/json",Accept:"application/json",...n}});return r&&(c.defaults.headers.common.Authorization=`Bearer ${r}`),c.interceptors.request.use((d=>(typeof window<"u"&&(d.headers={...d.headers,"X-Origin-URL":window.location.href}),d))),c.interceptors.response.use((d=>d.data),(d=>{var f,g,x,_,w,j,N,E,k,C;const h=((g=(f=d.response)==null?void 0:f.data)==null?void 0:g.message)||((_=(x=d.response)==null?void 0:x.data)==null?void 0:_.detail)||d.message,m=new lme(h,(w=d.response)==null?void 0:w.status,(N=(j=d.response)==null?void 0:j.data)==null?void 0:N.code,(E=d.response)==null?void 0:E.data,d);return console.log(i,(k=d.response)==null?void 0:k.status,typeof window<"u"),i&&((C=d.response)==null?void 0:C.status)===403&&typeof window<"u"&&(console.log("Authentication required. Redirecting to login..."),setTimeout((()=>{(function(P,F){if(typeof window>"u")return;const D=`${P}/login?from_url=${encodeURIComponent(window.location.href)}&app_id=${F}`;window.location.href=D})(o,a)}),100)),Promise.reject(m)})),c}function ume(t,e){return new Proxy({},{get(n,r){if(typeof r=="string"&&r!=="then"&&!r.startsWith("_"))return(function(i,a,o){const c=`/apps/${a}/entities/${o}`;return{async list(d,h,m,f){const g={};return d&&(g.sort=d),h&&(g.limit=h),m&&(g.skip=m),f&&(g.fields=Array.isArray(f)?f.join(","):f),i.get(c,{params:g})},async filter(d,h,m,f,g){const x={q:JSON.stringify(d)};return h&&(x.sort=h),m&&(x.limit=m),f&&(x.skip=f),g&&(x.fields=Array.isArray(g)?g.join(","):g),i.get(c,{params:x})},get:async d=>i.get(`${c}/${d}`),create:async d=>i.post(c,d),update:async(d,h)=>i.put(`${c}/${d}`,h),delete:async d=>i.delete(`${c}/${d}`),deleteMany:async d=>i.delete(c,{data:d}),bulkCreate:async d=>i.post(`${c}/bulk`,d),async importEntities(d){const h=new FormData;return h.append("file",d,d.name),i.post(`${c}/import`,h,{headers:{"Content-Type":"multipart/form-data"}})}}})(t,e,r)}})}function dme(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{storageKey:e="base44_access_token",paramName:n="access_token",saveToStorage:r=!0,removeFromUrl:i=!0}=t;let a=null;if(typeof window<"u"&&window.location)try{const o=new URLSearchParams(window.location.search);if(a=o.get(n),a){if(r&&hme(a,{storageKey:e}),i){o.delete(n);const c=`${window.location.pathname}${o.toString()?`?${o.toString()}`:""}${window.location.hash}`;window.history.replaceState({},document.title,c)}return a}}catch(o){console.error("Error retrieving token from URL:",o)}if(typeof window<"u"&&window.localStorage)try{return a=window.localStorage.getItem(e),a}catch(o){console.error("Error retrieving token from localStorage:",o)}return null}function hme(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{storageKey:n="base44_access_token"}=e;if(typeof window>"u"||!window.localStorage||!t)return!1;try{return window.localStorage.setItem(n,t),!0}catch(r){return console.error("Error saving token to localStorage:",r),!1}}function mme(t){if(!t||!t.appId)throw new Error("appId is required");const{serverUrl:e="https://base44.app",appId:n,env:r="prod",token:i,requiresAuth:a=!1}=t,o=cme({baseURL:`${e}/api`,headers:{"X-App-Id":String(n),"X-Environment":r},token:i,requiresAuth:a,appId:n,serverUrl:e}),c=ume(o,n),d=(function(m,f){return new Proxy({},{get(g,x){if(typeof x=="string"&&x!=="then"&&!x.startsWith("_"))return new Proxy({},{get(_,w){if(typeof w=="string"&&w!=="then"&&!w.startsWith("_"))return async j=>{if(typeof j=="string")throw new Error(`Integration ${w} must receive an object with named parameters, received: ${j}`);let N,E;return j instanceof FormData||j&&Object.values(j).some((k=>k instanceof File))?(N=new FormData,Object.keys(j).forEach((k=>{j[k]instanceof File?N.append(k,j[k],j[k].name):typeof j[k]=="object"&&j[k]!==null?N.append(k,JSON.stringify(j[k])):N.append(k,j[k])})),E="multipart/form-data"):(N=j,E="application/json"),x==="Core"?m.post(`/apps/${f}/integration-endpoints/Core/${w}`,N||j,{headers:{"Content-Type":E}}):m.post(`/apps/${f}/integration-endpoints/installable/${x}/integration-endpoints/${w}`,N||j,{headers:{"Content-Type":E}})}}})}})})(o,n),h=(function(m,f,g){return{me:async()=>m.get(`/apps/${f}/entities/User/me`),updateMe:async x=>m.put(`/apps/${f}/entities/User/me`,x),login(x){if(typeof window>"u")throw new Error("Login method can only be used in a browser environment");const _=x||window.location.href,w=`${g}/login?from_url=${encodeURIComponent(_)}&app_id=${f}`;window.location.href=w},async logout(x){if(delete m.defaults.headers.common.Authorization,typeof window<"u"&&window.localStorage)try{window.localStorage.removeItem("base44_access_token")}catch(_){console.error("Failed to remove token from localStorage:",_)}return x&&typeof window<"u"&&(window.location.href=x),Promise.resolve()},setToken(x){let _=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(x&&(m.defaults.headers.common.Authorization=`Bearer ${x}`,_&&typeof window<"u"&&window.localStorage))try{window.localStorage.setItem("base44_access_token",x)}catch(w){console.error("Failed to save token to localStorage:",w)}},async isAuthenticated(){try{return await this.me(),!0}catch{return!1}}}})(o,n,e);if(typeof window<"u"){const m=i||dme();m&&h.setToken(m)}return a&&typeof window<"u"&&setTimeout((async()=>{try{await h.isAuthenticated()||h.login(window.location.href)}catch(m){console.error("Authentication check failed:",m),h.login(window.location.href)}}),0),{entities:c,integrations:d,auth:h,setToken(m){h.setToken(m)},getConfig:()=>({serverUrl:e,appId:n,env:r,requiresAuth:a})}}const Xe=mme({appId:"68fcd301afef087bf759dba3",requiresAuth:!1});function n3({story:t,onComplete:e}){const[n,r]=v.useState(t.starting_node),[i,a]=v.useState([]),[o,c]=v.useState(0),[d,h]=v.useState(null),[m,f]=v.useState(!1);v.useEffect(()=>{g()},[]);const g=async()=>{try{if(await Xe.auth.isAuthenticated()){const k=await Xe.auth.me();h(k)}}catch{console.log("User not authenticated")}},x=()=>{var E;return(E=t.story_nodes)==null?void 0:E.find(k=>k.id===n)},_=async E=>{var C;E.points&&c(o+E.points),a([...i,n]);const k=(C=t.story_nodes)==null?void 0:C.find(P=>P.id===E.next_node);if(r(E.next_node),k!=null&&k.is_ending&&(f(!0),d))try{const F=Math.min((d.points||0)+10,1500);await Xe.auth.updateMe({points:F})}catch(P){console.error("Error saving points:",P)}},w=()=>{r(t.starting_node),a([]),c(0),f(!1)},j=x();if(!j)return s.jsxs("div",{className:"text-center py-12",children:[s.jsx("p",{className:"text-gray-600",children:"Story node not found"}),s.jsxs(G,{onClick:w,className:"mt-4",children:[s.jsx(GC,{className:"w-4 h-4 mr-2"}),"Restart Story"]})]});const N={good:"from-green-500 to-teal-500",great:"from-blue-500 to-purple-500",excellent:"from-amber-500 to-orange-500",bad:"from-gray-500 to-slate-500"};return s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(dn,{className:"w-5 h-5 text-purple-600"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[i.length," decisions made"]})]}),s.jsxs("div",{className:"flex items-center gap-2 bg-amber-100 px-4 py-2 rounded-full",children:[s.jsx(zt,{className:"w-5 h-5 text-amber-600"}),s.jsxs("span",{className:"font-bold text-amber-900",children:[o," points"]})]})]}),s.jsx(gs,{mode:"wait",children:s.jsx(te.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:s.jsxs(ne,{className:`shadow-2xl overflow-hidden ${j.is_ending?`bg-gradient-to-br ${N[j.ending_type]||N.good}`:"bg-white"}`,children:[j.image_url&&s.jsx("div",{className:"h-64 md:h-80 overflow-hidden",children:s.jsx("img",{src:j.image_url,alt:"Story scene",className:"w-full h-full object-cover"})}),s.jsxs(se,{className:`p-6 md:p-8 ${j.is_ending?"text-white":""}`,children:[j.character&&s.jsx(we,{className:"mb-4 bg-purple-100 text-purple-800 px-4 py-1",children:j.character}),s.jsx("div",{className:`prose prose-lg max-w-none mb-6 ${j.is_ending?"prose-invert":"prose-slate"}`,children:s.jsx(IL,{children:j.content})}),j.is_ending&&s.jsxs("div",{className:"text-center mb-6",children:[s.jsxs("div",{className:"text-6xl mb-4",children:[j.ending_type==="excellent"&&"",j.ending_type==="great"&&"",j.ending_type==="good"&&"",j.ending_type==="bad"&&""]}),s.jsxs(we,{className:"bg-white/20 text-white text-lg px-6 py-2",children:[j.ending_type==="excellent"&&"Excellent Ending!",j.ending_type==="great"&&"Great Ending!",j.ending_type==="good"&&"Good Ending!",j.ending_type==="bad"&&"Try Again!"]})]}),!j.is_ending&&j.choices&&j.choices.length>0&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-600 mb-4",children:"What will you do?"}),j.choices.map((E,k)=>s.jsx(te.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:k*.1},onClick:()=>_(E),className:"w-full p-4 bg-gradient-to-r from-blue-50 to-purple-50 hover:from-blue-100 hover:to-purple-100 border-2 border-blue-200 hover:border-purple-300 rounded-xl text-left transition-all duration-300 transform hover:scale-102 group",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium text-gray-900 group-hover:text-purple-900",children:E.text}),s.jsxs("div",{className:"flex items-center gap-2",children:[E.points>0&&s.jsxs(we,{className:"bg-amber-100 text-amber-800",children:["+",E.points," pts"]}),s.jsx(wz,{className:"w-5 h-5 text-purple-600 group-hover:translate-x-1 transition-transform"})]})]})},k))]}),j.is_ending&&s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mt-8",children:[s.jsxs(G,{onClick:w,size:"lg",className:"bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white border-2 border-white/40",children:[s.jsx(GC,{className:"w-5 h-5 mr-2"}),"Try Different Choices"]}),e&&s.jsxs(G,{onClick:e,size:"lg",className:"bg-white text-purple-600 hover:bg-gray-100",children:[s.jsx(ni,{className:"w-5 h-5 mr-2"}),"Back to Stories"]})]}),j.is_ending&&t.moral&&s.jsxs("div",{className:"mt-8 p-6 bg-white/10 backdrop-blur-sm rounded-xl border-2 border-white/20",children:[s.jsx("h3",{className:"text-xl font-bold mb-2",children:" Moral of the Story:"}),s.jsx("p",{className:"text-lg",children:t.moral})]})]})]})},n)}),i.length>0&&!j.is_ending&&s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-sm text-gray-500",children:["Your journey: ",i.length," choices made"]})})]})}n3.propTypes={story:It.object.isRequired,onComplete:It.func};const uw=[{id:"all",name:"All Stories",icon:""},{id:"prophets",name:"Prophets",icon:""},{id:"sahabah",name:"Companions",icon:""},{id:"manners",name:"Good Manners",icon:""},{id:"kindness",name:"Kindness",icon:""},{id:"honesty",name:"Honesty",icon:""},{id:"gratitude",name:"Gratitude",icon:""},{id:"bedtime",name:"Bedtime",icon:""}];function r3(){var m;const[t,e]=v.useState("all"),[n,r]=v.useState(null),[i,a]=v.useState(null);v.useEffect(()=>{o()},[]);const o=async()=>{try{if(await base44.auth.isAuthenticated()){const g=await base44.auth.me();a(g)}else a(null)}catch{a(null)}},{data:c=[],isLoading:d}=vn({queryKey:["stories"],queryFn:async()=>await base44.entities.Story.list("-created_date"),initialData:[]}),h=t==="all"?c:c.filter(f=>f.category===t);return d?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:""}),s.jsx("p",{className:"text-gray-600",children:"Loading stories..."})]})}):s.jsxs("div",{className:"min-h-screen py-8 md:py-12 px-4",children:[s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8 md:mb-12",children:[s.jsx("div",{className:"text-5xl md:text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-gray-900 mb-4",children:"Islamic Stories"}),s.jsx("p",{className:"text-base md:text-lg text-gray-600 max-w-2xl mx-auto",children:"Read inspiring stories from Islamic history and learn valuable lessons"})]}),s.jsx("div",{className:"flex flex-wrap gap-2 md:gap-3 justify-center mb-8",children:uw.map(f=>s.jsxs(G,{onClick:()=>e(f.id),variant:t===f.id?"default":"outline",size:"sm",className:t===f.id?"bg-gradient-to-r from-blue-500 to-purple-500":"",children:[s.jsx("span",{className:"mr-2",children:f.icon}),f.name]},f.id))}),h.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("p",{className:"text-gray-600",children:"No stories available in this category yet."})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map((f,g)=>{var x;return s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:g*.1},children:s.jsxs(ne,{className:"h-full hover:shadow-2xl transition-all duration-300 cursor-pointer group",children:[s.jsxs(Le,{className:"p-0 relative",children:[f.image_url&&s.jsx("div",{className:"h-48 bg-gradient-to-br from-blue-100 to-purple-100 rounded-t-xl overflow-hidden",children:s.jsx("img",{src:f.image_url,alt:f.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"})}),f.is_interactive&&s.jsx("div",{className:"absolute top-2 right-2",children:s.jsxs(we,{className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white shadow-lg",children:[s.jsx(ni,{className:"w-3 h-3 mr-1"}),"Interactive"]})})]}),s.jsxs(se,{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs(we,{variant:"outline",className:"text-xs",children:[(x=uw.find(_=>_.id===f.category))==null?void 0:x.icon," ",f.category]}),f.age_range&&s.jsxs(we,{variant:"outline",className:"text-xs",children:[f.age_range," years"]})]}),s.jsx(Fe,{className:"text-xl mb-3 line-clamp-2",children:f.title}),f.description&&s.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:f.description}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 mb-4",children:[f.audio_url&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(lo,{className:"w-3 h-3"}),"Audio"]}),f.is_interactive&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(hr,{className:"w-3 h-3"}),"Make Choices"]})]}),s.jsxs(G,{onClick:()=>r(f),className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600",children:[s.jsx(dn,{className:"w-4 h-4 mr-2"}),f.is_interactive?"Play Story":"Read Story"]})]})]})},f.id)})})]}),s.jsx(gs,{children:n&&s.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 overflow-y-auto",children:s.jsx("div",{className:"min-h-screen p-4 flex items-center justify-center",children:s.jsxs(te.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"w-full max-w-5xl",children:[s.jsx("div",{className:"flex justify-end mb-4",children:s.jsx(G,{onClick:()=>r(null),variant:"ghost",size:"icon",className:"bg-white/10 hover:bg-white/20 text-white rounded-full",children:s.jsx(Qr,{className:"w-6 h-6"})})}),n.is_interactive?s.jsx(n3,{story:n,onComplete:()=>r(null)}):s.jsxs(ne,{className:"bg-white shadow-2xl",children:[n.image_url&&s.jsx("div",{className:"h-64 md:h-96 overflow-hidden rounded-t-xl",children:s.jsx("img",{src:n.image_url,alt:n.title,className:"w-full h-full object-cover"})}),s.jsxs(se,{className:"p-6 md:p-10",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs(we,{className:"mb-4",children:[(m=uw.find(f=>f.id===n.category))==null?void 0:m.icon," ",n.category]}),s.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:n.title})]}),n.audio_url&&s.jsx("div",{className:"mb-6 bg-purple-50 p-4 rounded-xl",children:s.jsxs("audio",{controls:!0,className:"w-full",children:[s.jsx("source",{src:n.audio_url,type:"audio/mpeg"}),"Your browser does not support audio."]})}),s.jsx("div",{className:"prose prose-lg max-w-none mb-8",children:s.jsx(IL,{children:n.content})}),n.moral&&s.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 border-l-4 border-amber-500 p-6 rounded-r-xl",children:[s.jsxs("h3",{className:"text-xl font-bold text-amber-900 mb-2 flex items-center gap-2",children:[s.jsx(ni,{className:"w-6 h-6"}),"Moral of the Story"]}),s.jsx("p",{className:"text-gray-700 text-lg",children:n.moral})]})]})]})]})})})})]})}const Te=v.forwardRef(({className:t,type:e,...n},r)=>s.jsx("input",{type:e,className:ut("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Te.displayName="Input";var fme=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],pme=fme.reduce((t,e)=>{const n=Fy(`Primitive.${e}`),r=v.forwardRef((i,a)=>{const{asChild:o,...c}=i,d=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(d,{...c,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),gme="Label",s3=v.forwardRef((t,e)=>s.jsx(pme.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));s3.displayName=gme;var i3=s3;const xme=Hf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ye=v.forwardRef(({className:t,...e},n)=>s.jsx(i3,{ref:n,className:ut(xme(),t),...e}));ye.displayName=i3.displayName;function yme(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}Array(12).fill(0);let lj=1;class vme{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...i}=e,a=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:lj++,o=this.toasts.find(d=>d.id===a),c=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),o?this.toasts=this.toasts.map(d=>d.id===a?(this.publish({...d,...e,id:a,title:r}),{...d,...e,id:a,dismissible:c,title:r}):d):this.addToast({title:r,...i,dismissible:c,id:a}),a},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let a=r!==void 0,o;const c=i.then(async h=>{if(o=["resolve",h],Rn.isValidElement(h))a=!1,this.create({id:r,type:"default",message:h});else if(wme(h)&&!h.ok){a=!1;const f=typeof n.error=="function"?await n.error(`HTTP error! status: ${h.status}`):n.error,g=typeof n.description=="function"?await n.description(`HTTP error! status: ${h.status}`):n.description,_=typeof f=="object"&&!Rn.isValidElement(f)?f:{message:f};this.create({id:r,type:"error",description:g,..._})}else if(h instanceof Error){a=!1;const f=typeof n.error=="function"?await n.error(h):n.error,g=typeof n.description=="function"?await n.description(h):n.description,_=typeof f=="object"&&!Rn.isValidElement(f)?f:{message:f};this.create({id:r,type:"error",description:g,..._})}else if(n.success!==void 0){a=!1;const f=typeof n.success=="function"?await n.success(h):n.success,g=typeof n.description=="function"?await n.description(h):n.description,_=typeof f=="object"&&!Rn.isValidElement(f)?f:{message:f};this.create({id:r,type:"success",description:g,..._})}}).catch(async h=>{if(o=["reject",h],n.error!==void 0){a=!1;const m=typeof n.error=="function"?await n.error(h):n.error,f=typeof n.description=="function"?await n.description(h):n.description,x=typeof m=="object"&&!Rn.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:f,...x})}}).finally(()=>{a&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),d=()=>new Promise((h,m)=>c.then(()=>o[0]==="reject"?m(o[1]):h(o[1])).catch(m));return typeof r!="string"&&typeof r!="number"?{unwrap:d}:Object.assign(r,{unwrap:d})},this.custom=(e,n)=>{const r=(n==null?void 0:n.id)||lj++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Ys=new vme,bme=(t,e)=>{const n=(e==null?void 0:e.id)||lj++;return Ys.addToast({title:t,...e,id:n}),n},wme=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",jme=bme,Nme=()=>Ys.toasts,_me=()=>Ys.getActiveToasts(),pt=Object.assign(jme,{success:Ys.success,info:Ys.info,warning:Ys.warning,error:Ys.error,custom:Ys.custom,message:Ys.message,promise:Ys.promise,dismiss:Ys.dismiss,loading:Ys.loading},{getHistory:Nme,getToasts:_me});yme("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function a3(){const[t,e]=v.useState(null),[n,r]=v.useState(!1),[i,a]=v.useState(null),[o,c]=v.useState(null),[d,h]=v.useState("quran"),[m,f]=v.useState(!1),[g,x]=v.useState(!1),_=v.useRef(null),w=v.useRef([]),j=v.useRef(null);v.useEffect(()=>{N()},[]);const N=async()=>{try{if(await Xe.auth.isAuthenticated()){const R=await Xe.auth.me();e(R)}else e(null)}catch{console.log("User not authenticated"),e(null)}},{data:E=[]}=vn({queryKey:["featuredAudio"],queryFn:async()=>(await Xe.entities.AudioContent.list("-plays_count",6)).filter(R=>R.featured&&R.status==="active"),initialData:[]}),k=async()=>{try{const D=await navigator.mediaDevices.getUserMedia({audio:!0}),R=new MediaRecorder(D);_.current=R,w.current=[],R.ondataavailable=I=>{I.data.size>0&&w.current.push(I.data)},R.onstop=()=>{const I=new Blob(w.current,{type:"audio/webm"});a(I),c(URL.createObjectURL(I)),D.getTracks().forEach(M=>M.stop())},j.current=Date.now(),R.start(),r(!0),pt.success("Recording started!")}catch(D){console.error("Error starting recording:",D),pt.error("Could not access microphone. Please check permissions.")}},C=()=>{_.current&&n&&(_.current.stop(),r(!1),pt.success("Recording stopped!"))},P=()=>{a(null),c(null),w.current=[]},F=async()=>{if(!i||!t){pt.error("Please record audio first");return}f(!0);try{const D=j.current?Math.floor((Date.now()-j.current)/1e3):0,R=new File([i],`recording-${Date.now()}.webm`,{type:"audio/webm"}),{file_url:I}=await Xe.integrations.Core.UploadFile({file:R}),M=await Xe.entities.Recording.create({user_id:t.id,user_name:t.full_name||t.email,user_email:t.email,recording_type:d,file_url:I,duration:D,status:"pending"});await Xe.integrations.Core.SendEmail({from_name:"Islam Kids Zone",to:"huzaify786@gmail.com",subject:` New ${d.charAt(0).toUpperCase()+d.slice(1)} Recording Submission`,body:`
          <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px; background-color: #f3f4f6; border-radius: 10px;">
            <div style="background: linear-gradient(135deg, #3B82F6 0%, #8B5CF6 100%); padding: 30px; border-radius: 10px 10px 0 0; text-align: center;">
              <h1 style="color: white; margin: 0; font-size: 28px;"> New Audio Recording</h1>
            </div>
            
            <div style="background-color: white; padding: 30px; border-radius: 0 0 10px 10px; margin-top: 2px;">
              <h2 style="color: #3B82F6; margin-top: 0;">Recording Details</h2>
              
              <table style="width: 100%; border-collapse: collapse;">
                <tr>
                  <td style="padding: 12px; border-bottom: 1px solid #e5e7eb; font-weight: bold; color: #4B5563;">Type:</td>
                  <td style="padding: 12px; border-bottom: 1px solid #e5e7eb; color: #1F2937;">${d.charAt(0).toUpperCase()+d.slice(1)}</td>
                </tr>
                <tr>
                  <td style="padding: 12px; border-bottom: 1px solid #e5e7eb; font-weight: bold; color: #4B5563;">User Name:</td>
                  <td style="padding: 12px; border-bottom: 1px solid #e5e7eb; color: #1F2937;">${t.full_name||"Not provided"}</td>
                </tr>
                <tr>
                  <td style="padding: 12px; border-bottom: 1px solid #e5e7eb; font-weight: bold; color: #4B5563;">Email:</td>
                  <td style="padding: 12px; border-bottom: 1px solid #e5e7eb; color: #1F2937;">${t.email}</td>
                </tr>
                <tr>
                  <td style="padding: 12px; border-bottom: 1px solid #e5e7eb; font-weight: bold; color: #4B5563;">Duration:</td>
                  <td style="padding: 12px; border-bottom: 1px solid #e5e7eb; color: #1F2937;">${Math.floor(D/60)}:${(D%60).toString().padStart(2,"0")} minutes</td>
                </tr>
                <tr>
                  <td style="padding: 12px; border-bottom: 1px solid #e5e7eb; font-weight: bold; color: #4B5563;">Submitted:</td>
                  <td style="padding: 12px; border-bottom: 1px solid #e5e7eb; color: #1F2937;">${new Date().toLocaleString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}</td>
                </tr>
                <tr>
                  <td style="padding: 12px; font-weight: bold; color: #4B5563;">Recording ID:</td>
                  <td style="padding: 12px; color: #1F2937;">${M.id}</td>
                </tr>
              </table>

              <div style="margin: 30px 0; padding: 20px; background-color: #EFF6FF; border-left: 4px solid #3B82F6; border-radius: 5px;">
                <h3 style="margin-top: 0; color: #1E40AF;"> Audio File</h3>
                <p style="margin: 10px 0;">
                  <a href="${I}" 
                     style="display: inline-block; padding: 12px 24px; background: linear-gradient(135deg, #3B82F6 0%, #8B5CF6 100%); color: white; text-decoration: none; border-radius: 8px; font-weight: bold;">
                     Download & Listen to Recording
                  </a>
                </p>
                <p style="margin: 10px 0; font-size: 12px; color: #6B7280;">
                  Direct link: <a href="${I}" style="color: #3B82F6; word-break: break-all;">${I}</a>
                </p>
              </div>

              <div style="margin-top: 30px; padding: 20px; background-color: #FEF3C7; border-left: 4px solid #F59E0B; border-radius: 5px;">
                <h3 style="margin-top: 0; color: #92400E;"> Action Required</h3>
                <p style="margin: 5px 0; color: #78350F;">Please review this recording and update its status in the admin panel:</p>
                <ul style="color: #78350F; margin: 10px 0;">
                  <li><strong>Approve</strong> - Make it visible to all users</li>
                  <li><strong>Feature</strong> - Highlight it on the homepage</li>
                  <li><strong>Reject</strong> - Remove if inappropriate</li>
                </ul>
              </div>
            </div>

            <div style="margin-top: 20px; padding: 20px; text-align: center; color: #6B7280; font-size: 12px;">
              <p style="margin: 5px 0;">This is an automated notification from <strong>Islam Kids Zone</strong></p>
              <p style="margin: 5px 0;">Part of Islam Media Central - www.imediac.com</p>
            </div>
          </div>
        `}),x(!0),pt.success("Recording submitted successfully!"),setTimeout(()=>{P(),x(!1),h("quran")},3e3)}catch(D){console.error("Error submitting recording:",D),pt.error("Failed to submit recording. Please try again.")}finally{f(!1)}};return t?s.jsx("div",{className:"min-h-screen py-8 px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Record & Share Your Voice"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Record your Quran recitation, nasheeds, or stories and share with the community!"})]}),s.jsxs(ne,{className:"mb-8 shadow-xl border-2 border-blue-200",children:[s.jsx(Le,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:s.jsx(Fe,{className:"text-2xl",children:" Recording Studio"})}),s.jsx(se,{className:"p-6",children:g?s.jsxs(te.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"text-center py-8",children:[s.jsx(oa,{className:"w-20 h-20 text-green-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Masha'Allah!"}),s.jsx("p",{className:"text-gray-600",children:"Your recording has been submitted for review."})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"recordingType",className:"text-lg font-semibold mb-2 block",children:"What would you like to record?"}),s.jsxs("select",{id:"recordingType",value:d,onChange:D=>h(D.target.value),disabled:n||i,className:"w-full p-3 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none",children:[s.jsx("option",{value:"quran",children:"Quran Recitation"}),s.jsx("option",{value:"nasheed",children:"Nasheed"}),s.jsx("option",{value:"story",children:"Story"})]})]}),s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[!i&&!n&&s.jsxs(G,{onClick:k,size:"lg",className:"bg-red-500 hover:bg-red-600 text-white w-full md:w-auto",children:[s.jsx(Sl,{className:"w-6 h-6 mr-2"}),"Start Recording"]}),n&&s.jsxs("div",{className:"text-center",children:[s.jsx(te.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0},className:"w-20 h-20 bg-red-500 rounded-full mx-auto mb-4 flex items-center justify-center",children:s.jsx(Sl,{className:"w-10 h-10 text-white"})}),s.jsx("p",{className:"text-lg font-semibold text-red-500 mb-4",children:"Recording..."}),s.jsxs(G,{onClick:C,size:"lg",variant:"outline",className:"border-2 border-red-500 text-red-500",children:[s.jsx(Tj,{className:"w-5 h-5 mr-2"}),"Stop Recording"]})]}),i&&o&&!n&&s.jsx("div",{className:"w-full space-y-4",children:s.jsxs("div",{className:"bg-green-50 border-2 border-green-200 rounded-lg p-4",children:[s.jsx("p",{className:"text-green-800 font-semibold mb-3",children:" Recording Complete!"}),s.jsx("audio",{src:o,controls:!0,className:"w-full mb-3"}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsxs(G,{onClick:F,disabled:m,className:"flex-1 bg-green-500 hover:bg-green-600",children:[s.jsx(ho,{className:"w-4 h-4 mr-2"}),m?"Submitting...":"Submit Recording"]}),s.jsxs(G,{onClick:P,variant:"outline",className:"border-2 border-red-500 text-red-500",children:[s.jsx(sr,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})})]})]})})]}),E.length>0&&s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[s.jsx(lo,{className:"w-6 h-6 text-purple-600"}),"Featured Audio"]}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:E.map(D=>s.jsxs(ne,{className:"hover:shadow-xl transition-shadow",children:[D.cover_image&&s.jsx("div",{className:"h-40 overflow-hidden",children:s.jsx("img",{src:D.cover_image,alt:D.title,className:"w-full h-full object-cover"})}),s.jsxs(se,{className:"p-4",children:[s.jsx("h3",{className:"font-bold text-lg mb-2 line-clamp-1",children:D.title}),s.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:D.description}),s.jsxs("div",{className:"flex gap-2 mb-3",children:[s.jsx(we,{className:"text-xs",children:D.duration}),s.jsx(we,{variant:"outline",className:"text-xs",children:D.category})]}),D.mp3_url&&s.jsx("audio",{src:D.mp3_url,controls:!0,className:"w-full"})]})]},D.id))})]})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(ne,{className:"max-w-md mx-auto",children:s.jsx(se,{className:"pt-6",children:s.jsx("p",{className:"text-center text-gray-600",children:"Please log in to record and submit audio."})})})})}function cS(t){const e=v.useRef({value:t,previous:t});return v.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var f0="Checkbox",[Sme]=Eo(f0),[Eme,uS]=Sme(f0);function Cme(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:i,disabled:a,form:o,name:c,onCheckedChange:d,required:h,value:m="on",internal_do_not_use_render:f}=t,[g,x]=Kc({prop:n,defaultProp:i??!1,onChange:d,caller:f0}),[_,w]=v.useState(null),[j,N]=v.useState(null),E=v.useRef(!1),k=_?!!o||!!_.closest("form"):!0,C={checked:g,disabled:a,setChecked:x,control:_,setControl:w,name:c,form:o,value:m,hasConsumerStoppedPropagationRef:E,required:h,defaultChecked:_l(i)?!1:i,isFormControl:k,bubbleInput:j,setBubbleInput:N};return s.jsx(Eme,{scope:e,...C,children:kme(f)?f(C):r})}var o3="CheckboxTrigger",l3=v.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},i)=>{const{control:a,value:o,disabled:c,checked:d,required:h,setControl:m,setChecked:f,hasConsumerStoppedPropagationRef:g,isFormControl:x,bubbleInput:_}=uS(o3,t),w=Wt(i,m),j=v.useRef(d);return v.useEffect(()=>{const N=a==null?void 0:a.form;if(N){const E=()=>f(j.current);return N.addEventListener("reset",E),()=>N.removeEventListener("reset",E)}},[a,f]),s.jsx(kt.button,{type:"button",role:"checkbox","aria-checked":_l(d)?"mixed":d,"aria-required":h,"data-state":m3(d),"data-disabled":c?"":void 0,disabled:c,value:o,...r,ref:w,onKeyDown:Je(e,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:Je(n,N=>{f(E=>_l(E)?!0:!E),_&&x&&(g.current=N.isPropagationStopped(),g.current||N.stopPropagation())})})});l3.displayName=o3;var dS=v.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:a,required:o,disabled:c,value:d,onCheckedChange:h,form:m,...f}=t;return s.jsx(Cme,{__scopeCheckbox:n,checked:i,defaultChecked:a,disabled:c,required:o,onCheckedChange:h,name:r,form:m,value:d,internal_do_not_use_render:({isFormControl:g})=>s.jsxs(s.Fragment,{children:[s.jsx(l3,{...f,ref:e,__scopeCheckbox:n}),g&&s.jsx(h3,{__scopeCheckbox:n})]})})});dS.displayName=f0;var c3="CheckboxIndicator",u3=v.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,a=uS(c3,n);return s.jsx(Co,{present:r||_l(a.checked)||a.checked===!0,children:s.jsx(kt.span,{"data-state":m3(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});u3.displayName=c3;var d3="CheckboxBubbleInput",h3=v.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:o,required:c,disabled:d,name:h,value:m,form:f,bubbleInput:g,setBubbleInput:x}=uS(d3,t),_=Wt(n,x),w=cS(a),j=wN(r);v.useEffect(()=>{const E=g;if(!E)return;const k=window.HTMLInputElement.prototype,P=Object.getOwnPropertyDescriptor(k,"checked").set,F=!i.current;if(w!==a&&P){const D=new Event("click",{bubbles:F});E.indeterminate=_l(a),P.call(E,_l(a)?!1:a),E.dispatchEvent(D)}},[g,w,a,i]);const N=v.useRef(_l(a)?!1:a);return s.jsx(kt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??N.current,required:c,disabled:d,name:h,value:m,form:f,...e,tabIndex:-1,ref:_,style:{...e.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});h3.displayName=d3;function kme(t){return typeof t=="function"}function _l(t){return t==="indeterminate"}function m3(t){return _l(t)?"indeterminate":t?"checked":"unchecked"}const hS=v.forwardRef(({className:t,...e},n)=>s.jsx(dS,{ref:n,className:ut("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:s.jsx(u3,{className:ut("flex items-center justify-center text-current"),children:s.jsx(tf,{className:"h-4 w-4"})})}));hS.displayName=dS.displayName;const Tme=[{arabic:"   ",english:"In the name of Allah, the Most Gracious, the Most Merciful",transliteration:"Bismillah ir-Rahman ir-Rahim"},{arabic:" ",english:"All praise is due to Allah",transliteration:"Alhamdulillah"}],sd=[{arabic:"",english:"Peace",transliteration:"Salaam"},{arabic:"",english:"Thank you",transliteration:"Shukran"},{arabic:"",english:"Patience",transliteration:"Sabr"},{arabic:"",english:"Mercy",transliteration:"Rahmah"}],Ame=[{id:"helped_parents",label:"Helped my parents",emoji:""},{id:"prayed_on_time",label:"Prayed on time",emoji:""},{id:"shared_toys",label:"Shared my toys",emoji:""},{id:"read_quran",label:"Read Quran",emoji:""},{id:"said_bismillah",label:"Said Bismillah before eating",emoji:""},{id:"helped_friend",label:"Helped a friend",emoji:""},{id:"cleaned_room",label:"Cleaned my room",emoji:""},{id:"kind_words",label:"Used kind words",emoji:""}];function f3(){const[t,e]=v.useState([]),[n,r]=v.useState(null),[i,a]=v.useState(0);v.useEffect(()=>{o()},[]);const o=async()=>{try{if(await base44.auth.isAuthenticated()){const h=await base44.auth.me();r(h)}else r(null)}catch{r(null)}},c=async d=>{if(!t.includes(d)&&n)try{await base44.entities.GoodDeed.create({user_id:n.id,deed_type:d,date:new Date().toISOString().split("T")[0]}),await base44.auth.updateMe({points:(n.points||0)+5}),e([...t,d])}catch(m){console.error("Error saving good deed:",m)}else e(t.filter(m=>m!==d))};return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Learn & Grow"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Daily lessons, duas, and activities to help you grow as a Muslim"})]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[s.jsx(te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:s.jsxs(ne,{className:"shadow-lg border-2 border-blue-200",children:[s.jsx(Le,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:s.jsxs(Fe,{className:"flex items-center gap-2",children:[s.jsx(zt,{className:"w-6 h-6"}),"Dua of the Day"]})}),s.jsx(se,{className:"p-6",children:Tme.map((d,h)=>s.jsxs("div",{className:"mb-6 last:mb-0",children:[s.jsxs("div",{className:"text-center mb-4",children:[s.jsx("p",{className:"text-3xl text-right mb-3",style:{fontFamily:"serif"},children:d.arabic}),s.jsxs(G,{variant:"outline",size:"sm",className:"mb-2",children:[s.jsx(El,{className:"w-4 h-4 mr-2"}),"Listen"]})]}),s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[s.jsx("p",{className:"font-medium text-gray-700 mb-1",children:d.transliteration}),s.jsx("p",{className:"text-gray-600",children:d.english})]})]},h))})]})}),s.jsx(te.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},children:s.jsxs(ne,{className:"shadow-lg border-2 border-green-200",children:[s.jsx(Le,{className:"bg-gradient-to-r from-green-500 to-teal-500 text-white",children:s.jsxs(Fe,{className:"flex items-center gap-2",children:[s.jsx(dn,{className:"w-6 h-6"}),"Learn Arabic Words"]})}),s.jsxs(se,{className:"p-6",children:[s.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-teal-50 rounded-xl p-8 text-center mb-4",children:[s.jsx("p",{className:"text-5xl mb-4",style:{fontFamily:"serif"},children:sd[i].arabic}),s.jsx("p",{className:"text-xl font-semibold text-gray-700 mb-2",children:sd[i].transliteration}),s.jsx("p",{className:"text-lg text-gray-600",children:sd[i].english})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(G,{onClick:()=>a((i-1+sd.length)%sd.length),variant:"outline",className:"flex-1",children:"Previous"}),s.jsx(G,{onClick:()=>a((i+1)%sd.length),className:"flex-1 bg-green-600 hover:bg-green-700",children:"Next"})]})]})]})}),s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"lg:col-span-2",children:s.jsxs(ne,{className:"shadow-lg border-2 border-amber-200",children:[s.jsx(Le,{className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs(Fe,{className:"flex items-center gap-2",children:[s.jsx(oa,{className:"w-6 h-6"}),"Good Deeds Tracker"]}),s.jsx(we,{className:"bg-white/20 text-white text-lg px-4 py-2",children:"+5 points each"})]})}),s.jsxs(se,{className:"p-6",children:[s.jsx("p",{className:"text-gray-600 mb-6 text-center",children:"Check off the good deeds you did today and earn points! "}),s.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4",children:Ame.map(d=>s.jsx(te.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:s.jsxs("label",{className:`flex items-start gap-3 p-4 rounded-xl border-2 cursor-pointer transition-all ${t.includes(d.id)?"bg-green-50 border-green-400":"bg-white border-gray-200 hover:border-gray-300"}`,children:[s.jsx(hS,{checked:t.includes(d.id),onCheckedChange:()=>c(d.id),className:"mt-1"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl mb-1",children:d.emoji}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:d.label})]})]})},d.id))})]})]})})]})]})})}const Ime=[{title:"How to Teach Islam with Love",excerpt:"Creating a nurturing environment where children develop a genuine love for their faith...",icon:ah,color:"from-pink-500 to-rose-500"},{title:"Digital Safety for Muslim Kids",excerpt:"Essential guidelines to ensure your children's online experience is safe and beneficial...",icon:oh,color:"from-blue-500 to-cyan-500"},{title:"Making Learning Fun",excerpt:"Creative ways to engage children in Islamic education through play and activities...",icon:dn,color:"from-purple-500 to-violet-500"}];function p3(){return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Parent Guidance"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Resources and support for raising righteous children"})]}),s.jsx(te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-12",children:s.jsx(ne,{className:"border-2 border-green-300 shadow-lg",children:s.jsxs(se,{className:"p-8 text-center",children:[s.jsx(oh,{className:"w-16 h-16 mx-auto mb-4 text-green-600"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Safe & Ad-Free Environment "}),s.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Islam Kids Zone is committed to providing a completely safe, ad-free learning environment. All content is carefully curated and monitored to ensure it aligns with Islamic values and is age-appropriate."})]})})}),s.jsxs("div",{className:"mb-12",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Parenting Resources"}),s.jsx("div",{className:"space-y-6",children:Ime.map((t,e)=>{const n=t.icon;return s.jsx(te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:e*.1},children:s.jsxs(ne,{className:"hover:shadow-xl transition-all duration-300",children:[s.jsx(Le,{children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`w-12 h-12 rounded-xl bg-gradient-to-br ${t.color} flex items-center justify-center flex-shrink-0`,children:s.jsx(n,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx(Fe,{className:"text-xl mb-2",children:t.title}),s.jsx("p",{className:"text-gray-600",children:t.excerpt})]})]})}),s.jsx(se,{children:s.jsx(G,{variant:"outline",children:"Read More"})})]})},t.title)})})]}),s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:s.jsxs(ne,{className:"shadow-lg",children:[s.jsx(Le,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:s.jsxs(Fe,{className:"flex items-center gap-2",children:[s.jsx(wx,{className:"w-6 h-6"}),"Send Us Your Feedback"]})}),s.jsxs(se,{className:"p-6",children:[s.jsx("p",{className:"text-gray-600 mb-6",children:"We'd love to hear your thoughts, suggestions, or concerns about Islam Kids Zone. Your feedback helps us create a better experience for your children."}),s.jsxs(G,{className:"w-full bg-blue-600 hover:bg-blue-700",children:[s.jsx(wx,{className:"w-4 h-4 mr-2"}),"Share Your Feedback"]})]})]})})]})})}const Rme=[{icon:ah,title:"Learn with Love",description:"Every activity is designed to inspire love for Islam in young hearts"},{icon:zt,title:"Quality Content",description:"Carefully curated Islamic content that's both educational and engaging"},{icon:oh,title:"Safe Environment",description:"100% ad-free and child-safe platform monitored by caring educators"},{icon:ni,title:"Fun Learning",description:"Interactive games and activities that make learning enjoyable"}];function g3(){return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"About Islam Kids Zone"})]}),s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-12",children:s.jsx(ne,{className:"shadow-lg border-2 border-blue-200",children:s.jsxs(se,{className:"p-8",children:[s.jsxs("p",{className:"text-lg text-gray-700 leading-relaxed mb-6",children:[s.jsx("strong",{children:"Islam Media Kids Zone"})," is part of ",s.jsx("strong",{children:"Islam Media Central"}),", built to inspire the next generation through games, stories, and educational media."]}),s.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:"Every activity is designed to teach Islamic manners, knowledge, and fun learning experiences  all in a safe and loving environment where children can explore their faith with joy and confidence."})]})})}),s.jsxs("div",{className:"mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8 text-center",children:"Our Values"}),s.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:Rme.map((t,e)=>{const n=t.icon;return s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:e*.1},children:s.jsx(ne,{className:"h-full hover:shadow-xl transition-all duration-300",children:s.jsx(se,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center flex-shrink-0",children:s.jsx(n,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:t.title}),s.jsx("p",{className:"text-gray-600",children:t.description})]})]})})})},t.title)})})]}),s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:s.jsx(ne,{className:"shadow-lg bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:s.jsxs(se,{className:"p-8 text-center",children:[s.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Connect with Islam Media Central"}),s.jsx("p",{className:"text-blue-100 mb-6 text-lg",children:"Discover more Islamic content and resources for the whole family"}),s.jsxs(G,{onClick:()=>window.open("https://www.imediac.com","_blank"),className:"bg-white hover:bg-gray-100 text-blue-600",children:[s.jsx(vd,{className:"w-4 h-4 mr-2"}),"Visit Website"]})]})})}),s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-8",children:s.jsx(ne,{className:"shadow border-2 border-green-200",children:s.jsxs(se,{className:"p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Acknowledgements"}),s.jsxs("p",{className:"text-gray-700",children:["Quran text, translations, and audio in our Recitation & Hifz module are powered by the",s.jsx("a",{href:"https://alquran.cloud/api",target:"_blank",rel:"noreferrer",className:"text-green-700 font-semibold ml-1",children:"AlQuran.Cloud API"}),"by Islamic Network. We are grateful for their service to the community."]})]})})})]})})}const Pme=["","","","","","","","","","","",""];function x3(){const t=Bn(),[e,n]=v.useState(!1),[r,i]=v.useState(!1),[a,o]=v.useState({full_name:"",age:"",city:"",madrasah_maktab:"",avatar:""});v.useEffect(()=>{try{const x=localStorage.getItem("ikz_user");if(x){const _=JSON.parse(x);o(w=>({...w,full_name:_.full_name||w.full_name,age:_.age||w.age,city:_.city||w.city,madrasah_maktab:_.madrasah_maktab||w.madrasah_maktab,avatar:_.avatar||w.avatar}))}}catch{}i(!1)},[]);const[c,d]=v.useState(null),[h,m]=v.useState(!1),f=()=>{t(et("Games"))},g=x=>{x.preventDefault(),n(!0),setTimeout(()=>{d(a),m(!0),n(!1),localStorage.setItem("ikz_user",JSON.stringify(a)),t(et("Games"))},500)};return h?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 flex items-center justify-center p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:""}),s.jsx("p",{className:"text-white text-lg font-medium",children:"Signup successful! Welcome to Islam Kids Zone."})]})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 flex items-center justify-center p-4",children:s.jsx(te.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"w-full max-w-md",children:s.jsxs(ne,{className:"shadow-2xl border-4 border-white/50",children:[s.jsxs(Le,{className:"text-center pb-4",children:[s.jsx(te.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200},className:"text-6xl mb-4",children:""}),s.jsx(Fe,{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Welcome to Islam Kids Zone!"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Sign up to personalize your experience!"})]}),s.jsx(se,{children:s.jsxs("form",{onSubmit:g,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"full_name",children:"Full Name"}),s.jsx(Te,{id:"full_name",type:"text",value:a.full_name,onChange:x=>o({...a,full_name:x.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"age",children:"Age"}),s.jsx(Te,{id:"age",type:"number",min:"1",value:a.age,onChange:x=>o({...a,age:x.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"city",children:"City"}),s.jsx(Te,{id:"city",type:"text",value:a.city,onChange:x=>o({...a,city:x.target.value})})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"madrasah_maktab",children:"Madrasah/Maktab"}),s.jsx(Te,{id:"madrasah_maktab",type:"text",value:a.madrasah_maktab,onChange:x=>o({...a,madrasah_maktab:x.target.value})})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Choose an Avatar"}),s.jsx("div",{className:"flex gap-2 flex-wrap mt-2",children:Pme.map(x=>s.jsx("button",{type:"button",className:`text-2xl px-2 py-1 rounded-lg border ${a.avatar===x?"border-blue-500 bg-blue-100":"border-gray-300 bg-white"}`,onClick:()=>o({...a,avatar:x}),children:x},x))})]}),s.jsxs("div",{className:"flex gap-4 mt-6",children:[s.jsx(G,{type:"submit",disabled:e,className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 text-white font-bold",children:e?"Saving...":"Save & Continue"}),s.jsx(G,{type:"button",variant:"outline",onClick:f,className:"w-full",children:"Skip & Explore"})]})]})})]})})})}const Pn=v.forwardRef(({className:t,...e},n)=>s.jsx("textarea",{className:ut("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));Pn.displayName="Textarea";function y3(){const[t,e]=v.useState({name:"",email:"",subject:"",message:""}),[n,r]=v.useState(!1),[i,a]=v.useState(!1),[o,c]=v.useState(null);Rn.useEffect(()=>{d()},[]);const d=async()=>{try{if(await base44.auth.isAuthenticated()){const f=await base44.auth.me();c(f)}else c(null)}catch{c(null)}},h=async m=>{m.preventDefault(),r(!0);try{await base44.integrations.Core.SendEmail({from_name:"Islam Kids Zone - Contact Form",to:"huzaify786@gmail.com",subject:`Contact Form: ${t.subject}`,body:`
          <div style="font-family: Arial, sans-serif; padding: 20px; background-color: #f3f4f6; border-radius: 10px;">
            <h2 style="color: #3B82F6;"> New Contact Form Submission</h2>
            <div style="background-color: white; padding: 20px; border-radius: 8px; margin-top: 20px;">
              <p><strong> Name:</strong> ${t.name}</p>
              <p><strong> Email:</strong> ${t.email}</p>
              <p><strong> Subject:</strong> ${t.subject}</p>
              <hr style="margin: 20px 0; border: none; border-top: 1px solid #e5e7eb;">
              <p><strong> Message:</strong></p>
              <p style="background-color: #f9fafb; padding: 15px; border-radius: 5px; white-space: pre-wrap;">${t.message}</p>
            </div>
            <hr style="margin: 20px 0; border: none; border-top: 1px solid #e5e7eb;">
            <p style="color: #6b7280; font-size: 12px; text-align: center;">
               Sent on: ${new Date().toLocaleString()}
            </p>
          </div>
        `});try{await ny.add({name:t.name,email:t.email,subject:t.subject,message:t.message,createdAt:new Date().toISOString(),read:!1})}catch(f){console.warn("Message not persisted (Firebase not configured or error)",(f==null?void 0:f.message)||f)}a(!0),e({name:(o==null?void 0:o.full_name)||"",email:(o==null?void 0:o.email)||"",subject:"",message:""}),setTimeout(()=>a(!1),5e3)}catch(f){console.error("Error sending message:",f),alert("Failed to send message. Please try again.")}finally{r(!1)}};return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Contact Us"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Have a question, suggestion, or feedback? We'd love to hear from you!"})]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[s.jsxs(te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"space-y-6",children:[s.jsx(ne,{className:"border-2 border-blue-200 shadow-lg hover:shadow-xl transition-all duration-300",children:s.jsx(se,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center flex-shrink-0",children:s.jsx(xy,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:"Email Us"}),s.jsx("a",{href:"mailto:huzaify786@gmail.com",className:"text-blue-600 hover:text-blue-700 text-sm break-all",children:"huzaify786@gmail.com"})]})]})})}),s.jsx(ne,{className:"border-2 border-green-200 shadow-lg",children:s.jsx(se,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-green-500 to-teal-500 flex items-center justify-center flex-shrink-0",children:s.jsx(wx,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:"Quick Response"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"We typically respond within 24-48 hours"})]})]})})}),s.jsx(ne,{className:"border-2 border-amber-200 shadow-lg bg-gradient-to-br from-amber-50 to-orange-50",children:s.jsx(se,{className:"p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl mb-3",children:""}),s.jsx("p",{className:"text-gray-700 italic text-sm mb-2",children:'"The best of people are those who are most beneficial to people."'}),s.jsx("p",{className:"text-gray-500 text-xs",children:"- Prophet Muhammad "})]})})})]}),s.jsx(te.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"md:col-span-2",children:s.jsxs(ne,{className:"shadow-2xl border-2 border-blue-300",children:[s.jsx(Le,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:s.jsxs(Fe,{className:"text-2xl flex items-center gap-2",children:[s.jsx(ni,{className:"w-6 h-6"}),"Send us a Message"]})}),s.jsx(se,{className:"p-6",children:i?s.jsxs(te.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"text-center py-12",children:[s.jsx(oa,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Message Sent! "}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Thank you for contacting us. We'll get back to you soon!"}),s.jsx(G,{onClick:()=>a(!1),variant:"outline",children:"Send Another Message"})]}):s.jsxs("form",{onSubmit:h,className:"space-y-5",children:[s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"name",className:"text-gray-700 font-semibold",children:"Your Name *"}),s.jsx(Te,{id:"name",type:"text",value:t.name,onChange:m=>e({...t,name:m.target.value}),placeholder:"Enter your name",required:!0,className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"email",className:"text-gray-700 font-semibold",children:"Your Email *"}),s.jsx(Te,{id:"email",type:"email",value:t.email,onChange:m=>e({...t,email:m.target.value}),placeholder:"your.email@example.com",required:!0,className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"subject",className:"text-gray-700 font-semibold",children:"Subject *"}),s.jsx(Te,{id:"subject",type:"text",value:t.subject,onChange:m=>e({...t,subject:m.target.value}),placeholder:"What is this about?",required:!0,className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"message",className:"text-gray-700 font-semibold",children:"Message *"}),s.jsx(Pn,{id:"message",value:t.message,onChange:m=>e({...t,message:m.target.value}),placeholder:"Tell us more about your question or feedback...",required:!0,rows:6,className:"mt-1"})]}),s.jsx(G,{type:"submit",disabled:n,className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-lg py-6",children:n?s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Sending..."]}):s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(Nx,{className:"w-5 h-5"}),"Send Message"]})})]})})]})})]})]})})}const HI=[{id:"bismillah",category:"Daily",title:"Before Eating",arabic:" ",transliteration:"Bismillah",translation:"In the name of Allah",audio:null},{id:"alhamdulillah",category:"Daily",title:"After Eating",arabic:" ",transliteration:"Alhamdulillah",translation:"All praise is for Allah",audio:null},{id:"morning",category:"Morning",title:"Morning Dua",arabic:"          ",transliteration:"Allahumma bika asbahna, wa bika amsayna, wa bika nahya, wa bika namutu, wa ilayka an-nushur",translation:"O Allah, by You we enter the morning, by You we enter the evening, by You we live, by You we die, and to You is the resurrection",audio:null},{id:"sleep",category:"Bedtime",title:"Before Sleeping",arabic:"   ",transliteration:"Bismika Allahumma amutu wa ahya",translation:"In Your name O Allah, I die and I live",audio:null},{id:"travel",category:"Travel",title:"Traveling Dua",arabic:"        ",transliteration:"Subhanal-ladhi sakhkhara lana hadha wa ma kunna lahu muqrinin",translation:"Glory to Him who has subjected this to us, and we could not have done it ourselves",audio:null},{id:"entering_home",category:"Daily",title:"Entering Home",arabic:"      ",transliteration:"Allahumma inni as'aluka khayra al-mawliji wa khayra al-makhraji",translation:"O Allah, I ask You for the best entering and the best leaving",audio:null}],Dme=["All","Daily","Morning","Bedtime","Travel"];function v3(){const[t,e]=v.useState("All"),[n,r]=v.useState([]),i=t==="All"?HI:HI.filter(o=>o.category===t),a=o=>{n.includes(o)?r(n.filter(c=>c!==o)):r([...n,o])};return s.jsx("div",{className:"min-h-screen py-8 md:py-12 px-2 md:px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8 px-2",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-gray-900 mb-4",children:"Daily Duas"}),s.jsx("p",{className:"text-base md:text-lg text-gray-600",children:"Learn and memorize essential Islamic supplications"})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-8 justify-center",children:Dme.map(o=>s.jsx(G,{onClick:()=>e(o),variant:t===o?"default":"outline",className:t===o?"bg-blue-600":"",children:o},o))}),s.jsx("div",{className:"space-y-6",children:i.map((o,c)=>s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:c*.1},children:s.jsxs(ne,{className:"shadow-lg hover:shadow-xl transition-all duration-300",children:[s.jsx(Le,{children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(we,{className:"bg-blue-100 text-blue-800",children:o.category}),s.jsx(Fe,{className:"text-xl",children:o.title})]})}),s.jsx(G,{variant:"ghost",size:"icon",onClick:()=>a(o.id),className:n.includes(o.id)?"text-red-500":"text-gray-400",children:s.jsx(ah,{className:`w-5 h-5 ${n.includes(o.id)?"fill-current":""}`})})]})}),s.jsxs(se,{className:"space-y-4",children:[s.jsx("div",{className:"text-center",children:s.jsx("p",{className:"text-2xl md:text-3xl text-right mb-2",style:{fontFamily:"serif",lineHeight:"1.8"},children:o.arabic})}),s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[s.jsx("p",{className:"font-semibold text-gray-700 mb-1",children:"Transliteration:"}),s.jsx("p",{className:"text-gray-800 italic",children:o.transliteration})]}),s.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[s.jsx("p",{className:"font-semibold text-gray-700 mb-1",children:"Translation:"}),s.jsx("p",{className:"text-gray-800",children:o.translation})]})]})]})},o.id))}),s.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-12",children:s.jsx(ne,{className:"border-2 border-amber-200 bg-gradient-to-br from-amber-50 to-orange-50",children:s.jsxs(se,{className:"p-8 text-center",children:[s.jsx("div",{className:"text-5xl mb-4",children:""}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Keep Making Dua!"}),s.jsx("p",{className:"text-gray-700 max-w-2xl mx-auto",children:'The Prophet Muhammad  said: "Dua is the essence of worship." Keep these duas in your daily routine and teach them to others!'})]})})})]})})}function WI(t,[e,n]){return Math.min(n,Math.max(e,t))}function Mme(t){const e=Ome(t),n=v.forwardRef((r,i)=>{const{children:a,...o}=r,c=v.Children.toArray(a),d=c.find(Fme);if(d){const h=d.props.children,m=c.map(f=>f===d?v.Children.count(h)>1?v.Children.only(null):v.isValidElement(h)?h.props.children:null:f);return s.jsx(e,{...o,ref:i,children:v.isValidElement(h)?v.cloneElement(h,void 0,m):null})}return s.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function Ome(t){const e=v.forwardRef((n,r)=>{const{children:i,...a}=n;if(v.isValidElement(i)){const o=Ume(i),c=Vme(a,i.props);return i.type!==v.Fragment&&(c.ref=r?So(r,o):o),v.cloneElement(i,c)}return v.Children.count(i)>1?v.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Lme=Symbol("radix.slottable");function Fme(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Lme}function Vme(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...c)=>{const d=a(...c);return i(...c),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function Ume(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var b3=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),zme="VisuallyHidden",Bme=v.forwardRef((t,e)=>s.jsx(kt.span,{...t,ref:e,style:{...b3,...t.style}}));Bme.displayName=zme;var $me=[" ","Enter","ArrowUp","ArrowDown"],qme=[" ","Enter"],au="Select",[p0,g0,Hme]=hN(au),[Ch]=Eo(au,[Hme,Iy]),x0=Iy(),[Wme,Ql]=Ch(au),[Kme,Gme]=Ch(au),w3=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:a,value:o,defaultValue:c,onValueChange:d,dir:h,name:m,autoComplete:f,disabled:g,required:x,form:_}=t,w=x0(e),[j,N]=v.useState(null),[E,k]=v.useState(null),[C,P]=v.useState(!1),F=mN(h),[D,R]=Kc({prop:r,defaultProp:i??!1,onChange:a,caller:au}),[I,M]=Kc({prop:o,defaultProp:c,onChange:d,caller:au}),V=v.useRef(null),O=j?_||!!j.closest("form"):!0,[U,X]=v.useState(new Set),re=Array.from(U).map(ue=>ue.props.value).join(";");return s.jsx(K4,{...w,children:s.jsxs(Wme,{required:x,scope:e,trigger:j,onTriggerChange:N,valueNode:E,onValueNodeChange:k,valueNodeHasChildren:C,onValueNodeHasChildrenChange:P,contentId:no(),value:I,onValueChange:M,open:D,onOpenChange:R,dir:F,triggerPointerDownPosRef:V,disabled:g,children:[s.jsx(p0.Provider,{scope:e,children:s.jsx(Kme,{scope:t.__scopeSelect,onNativeOptionAdd:v.useCallback(ue=>{X(ie=>new Set(ie).add(ue))},[]),onNativeOptionRemove:v.useCallback(ue=>{X(ie=>{const K=new Set(ie);return K.delete(ue),K})},[]),children:n})}),O?s.jsxs(H3,{"aria-hidden":!0,required:x,tabIndex:-1,name:m,autoComplete:f,value:I,onChange:ue=>M(ue.target.value),disabled:g,form:_,children:[I===void 0?s.jsx("option",{value:""}):null,Array.from(U)]},re):null]})})};w3.displayName=au;var j3="SelectTrigger",N3=v.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,a=x0(n),o=Ql(j3,n),c=o.disabled||r,d=Wt(e,o.onTriggerChange),h=g0(n),m=v.useRef("touch"),[f,g,x]=K3(w=>{const j=h().filter(k=>!k.disabled),N=j.find(k=>k.value===o.value),E=G3(j,w,N);E!==void 0&&o.onValueChange(E.value)}),_=w=>{c||(o.onOpenChange(!0),x()),w&&(o.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return s.jsx(G4,{asChild:!0,...a,children:s.jsx(kt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":W3(o.value)?"":void 0,...i,ref:d,onClick:Je(i.onClick,w=>{w.currentTarget.focus(),m.current!=="mouse"&&_(w)}),onPointerDown:Je(i.onPointerDown,w=>{m.current=w.pointerType;const j=w.target;j.hasPointerCapture(w.pointerId)&&j.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(_(w),w.preventDefault())}),onKeyDown:Je(i.onKeyDown,w=>{const j=f.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&g(w.key),!(j&&w.key===" ")&&$me.includes(w.key)&&(_(),w.preventDefault())})})})});N3.displayName=j3;var _3="SelectValue",S3=v.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:a,placeholder:o="",...c}=t,d=Ql(_3,n),{onValueNodeHasChildrenChange:h}=d,m=a!==void 0,f=Wt(e,d.onValueNodeChange);return ir(()=>{h(m)},[h,m]),s.jsx(kt.span,{...c,ref:f,style:{pointerEvents:"none"},children:W3(d.value)?s.jsx(s.Fragment,{children:o}):a})});S3.displayName=_3;var Qme="SelectIcon",E3=v.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return s.jsx(kt.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});E3.displayName=Qme;var Yme="SelectPortal",C3=t=>s.jsx(Ry,{asChild:!0,...t});C3.displayName=Yme;var ou="SelectContent",k3=v.forwardRef((t,e)=>{const n=Ql(ou,t.__scopeSelect),[r,i]=v.useState();if(ir(()=>{i(new DocumentFragment)},[]),!n.open){const a=r;return a?Of.createPortal(s.jsx(T3,{scope:t.__scopeSelect,children:s.jsx(p0.Slot,{scope:t.__scopeSelect,children:s.jsx("div",{children:t.children})})}),a):null}return s.jsx(A3,{...t,ref:e})});k3.displayName=ou;var vi=10,[T3,Yl]=Ch(ou),Jme="SelectContentImpl",Xme=Mme("SelectContent.RemoveScroll"),A3=v.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:c,sideOffset:d,align:h,alignOffset:m,arrowPadding:f,collisionBoundary:g,collisionPadding:x,sticky:_,hideWhenDetached:w,avoidCollisions:j,...N}=t,E=Ql(ou,n),[k,C]=v.useState(null),[P,F]=v.useState(null),D=Wt(e,ge=>C(ge)),[R,I]=v.useState(null),[M,V]=v.useState(null),O=g0(n),[U,X]=v.useState(!1),re=v.useRef(!1);v.useEffect(()=>{if(k)return _N(k)},[k]),fN();const ue=v.useCallback(ge=>{const[Se,...De]=O().map(gt=>gt.ref.current),[ze]=De.slice(-1),qe=document.activeElement;for(const gt of ge)if(gt===qe||(gt==null||gt.scrollIntoView({block:"nearest"}),gt===Se&&P&&(P.scrollTop=0),gt===ze&&P&&(P.scrollTop=P.scrollHeight),gt==null||gt.focus(),document.activeElement!==qe))return},[O,P]),ie=v.useCallback(()=>ue([R,k]),[ue,R,k]);v.useEffect(()=>{U&&ie()},[U,ie]);const{onOpenChange:K,triggerPointerDownPosRef:W}=E;v.useEffect(()=>{if(k){let ge={x:0,y:0};const Se=ze=>{var qe,gt;ge={x:Math.abs(Math.round(ze.pageX)-(((qe=W.current)==null?void 0:qe.x)??0)),y:Math.abs(Math.round(ze.pageY)-(((gt=W.current)==null?void 0:gt.y)??0))}},De=ze=>{ge.x<=10&&ge.y<=10?ze.preventDefault():k.contains(ze.target)||K(!1),document.removeEventListener("pointermove",Se),W.current=null};return W.current!==null&&(document.addEventListener("pointermove",Se),document.addEventListener("pointerup",De,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Se),document.removeEventListener("pointerup",De,{capture:!0})}}},[k,K,W]),v.useEffect(()=>{const ge=()=>K(!1);return window.addEventListener("blur",ge),window.addEventListener("resize",ge),()=>{window.removeEventListener("blur",ge),window.removeEventListener("resize",ge)}},[K]);const[B,q]=K3(ge=>{const Se=O().filter(qe=>!qe.disabled),De=Se.find(qe=>qe.ref.current===document.activeElement),ze=G3(Se,ge,De);ze&&setTimeout(()=>ze.ref.current.focus())}),Z=v.useCallback((ge,Se,De)=>{const ze=!re.current&&!De;(E.value!==void 0&&E.value===Se||ze)&&(I(ge),ze&&(re.current=!0))},[E.value]),$=v.useCallback(()=>k==null?void 0:k.focus(),[k]),me=v.useCallback((ge,Se,De)=>{const ze=!re.current&&!De;(E.value!==void 0&&E.value===Se||ze)&&V(ge)},[E.value]),Ne=r==="popper"?cj:I3,Ae=Ne===cj?{side:c,sideOffset:d,align:h,alignOffset:m,arrowPadding:f,collisionBoundary:g,collisionPadding:x,sticky:_,hideWhenDetached:w,avoidCollisions:j}:{};return s.jsx(T3,{scope:n,content:k,viewport:P,onViewportChange:F,itemRefCallback:Z,selectedItem:R,onItemLeave:$,itemTextRefCallback:me,focusSelectedItem:ie,selectedItemText:M,position:r,isPositioned:U,searchRef:B,children:s.jsx(Dy,{as:Xme,allowPinchZoom:!0,children:s.jsx(Ey,{asChild:!0,trapped:E.open,onMountAutoFocus:ge=>{ge.preventDefault()},onUnmountAutoFocus:Je(i,ge=>{var Se;(Se=E.trigger)==null||Se.focus({preventScroll:!0}),ge.preventDefault()}),children:s.jsx(Sy,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:ge=>ge.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:s.jsx(Ne,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:ge=>ge.preventDefault(),...N,...Ae,onPlaced:()=>X(!0),ref:D,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:Je(N.onKeyDown,ge=>{const Se=ge.ctrlKey||ge.altKey||ge.metaKey;if(ge.key==="Tab"&&ge.preventDefault(),!Se&&ge.key.length===1&&q(ge.key),["ArrowUp","ArrowDown","Home","End"].includes(ge.key)){let ze=O().filter(qe=>!qe.disabled).map(qe=>qe.ref.current);if(["ArrowUp","End"].includes(ge.key)&&(ze=ze.slice().reverse()),["ArrowUp","ArrowDown"].includes(ge.key)){const qe=ge.target,gt=ze.indexOf(qe);ze=ze.slice(gt+1)}setTimeout(()=>ue(ze)),ge.preventDefault()}})})})})})})});A3.displayName=Jme;var Zme="SelectItemAlignedPosition",I3=v.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,a=Ql(ou,n),o=Yl(ou,n),[c,d]=v.useState(null),[h,m]=v.useState(null),f=Wt(e,D=>m(D)),g=g0(n),x=v.useRef(!1),_=v.useRef(!0),{viewport:w,selectedItem:j,selectedItemText:N,focusSelectedItem:E}=o,k=v.useCallback(()=>{if(a.trigger&&a.valueNode&&c&&h&&w&&j&&N){const D=a.trigger.getBoundingClientRect(),R=h.getBoundingClientRect(),I=a.valueNode.getBoundingClientRect(),M=N.getBoundingClientRect();if(a.dir!=="rtl"){const qe=M.left-R.left,gt=I.left-qe,Xt=D.left-gt,kn=D.width+Xt,jr=Math.max(kn,R.width),$n=window.innerWidth-vi,Jn=WI(gt,[vi,Math.max(vi,$n-jr)]);c.style.minWidth=kn+"px",c.style.left=Jn+"px"}else{const qe=R.right-M.right,gt=window.innerWidth-I.right-qe,Xt=window.innerWidth-D.right-gt,kn=D.width+Xt,jr=Math.max(kn,R.width),$n=window.innerWidth-vi,Jn=WI(gt,[vi,Math.max(vi,$n-jr)]);c.style.minWidth=kn+"px",c.style.right=Jn+"px"}const V=g(),O=window.innerHeight-vi*2,U=w.scrollHeight,X=window.getComputedStyle(h),re=parseInt(X.borderTopWidth,10),ue=parseInt(X.paddingTop,10),ie=parseInt(X.borderBottomWidth,10),K=parseInt(X.paddingBottom,10),W=re+ue+U+K+ie,B=Math.min(j.offsetHeight*5,W),q=window.getComputedStyle(w),Z=parseInt(q.paddingTop,10),$=parseInt(q.paddingBottom,10),me=D.top+D.height/2-vi,Ne=O-me,Ae=j.offsetHeight/2,ge=j.offsetTop+Ae,Se=re+ue+ge,De=W-Se;if(Se<=me){const qe=V.length>0&&j===V[V.length-1].ref.current;c.style.bottom="0px";const gt=h.clientHeight-w.offsetTop-w.offsetHeight,Xt=Math.max(Ne,Ae+(qe?$:0)+gt+ie),kn=Se+Xt;c.style.height=kn+"px"}else{const qe=V.length>0&&j===V[0].ref.current;c.style.top="0px";const Xt=Math.max(me,re+w.offsetTop+(qe?Z:0)+Ae)+De;c.style.height=Xt+"px",w.scrollTop=Se-me+w.offsetTop}c.style.margin=`${vi}px 0`,c.style.minHeight=B+"px",c.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>x.current=!0)}},[g,a.trigger,a.valueNode,c,h,w,j,N,a.dir,r]);ir(()=>k(),[k]);const[C,P]=v.useState();ir(()=>{h&&P(window.getComputedStyle(h).zIndex)},[h]);const F=v.useCallback(D=>{D&&_.current===!0&&(k(),E==null||E(),_.current=!1)},[k,E]);return s.jsx(tfe,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:x,onScrollButtonChange:F,children:s.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:s.jsx(kt.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});I3.displayName=Zme;var efe="SelectPopperPosition",cj=v.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=vi,...a}=t,o=x0(n);return s.jsx(Q4,{...o,...a,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});cj.displayName=efe;var[tfe,mS]=Ch(ou,{}),uj="SelectViewport",R3=v.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,a=Yl(uj,n),o=mS(uj,n),c=Wt(e,a.onViewportChange),d=v.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),s.jsx(p0.Slot,{scope:n,children:s.jsx(kt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Je(i.onScroll,h=>{const m=h.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:g}=o;if(g!=null&&g.current&&f){const x=Math.abs(d.current-m.scrollTop);if(x>0){const _=window.innerHeight-vi*2,w=parseFloat(f.style.minHeight),j=parseFloat(f.style.height),N=Math.max(w,j);if(N<_){const E=N+x,k=Math.min(_,E),C=E-k;f.style.height=k+"px",f.style.bottom==="0px"&&(m.scrollTop=C>0?C:0,f.style.justifyContent="flex-end")}}}d.current=m.scrollTop})})})]})});R3.displayName=uj;var P3="SelectGroup",[nfe,rfe]=Ch(P3),sfe=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=no();return s.jsx(nfe,{scope:n,id:i,children:s.jsx(kt.div,{role:"group","aria-labelledby":i,...r,ref:e})})});sfe.displayName=P3;var D3="SelectLabel",M3=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=rfe(D3,n);return s.jsx(kt.div,{id:i.id,...r,ref:e})});M3.displayName=D3;var uy="SelectItem",[ife,O3]=Ch(uy),L3=v.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:a,...o}=t,c=Ql(uy,n),d=Yl(uy,n),h=c.value===r,[m,f]=v.useState(a??""),[g,x]=v.useState(!1),_=Wt(e,E=>{var k;return(k=d.itemRefCallback)==null?void 0:k.call(d,E,r,i)}),w=no(),j=v.useRef("touch"),N=()=>{i||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(ife,{scope:n,value:r,disabled:i,textId:w,isSelected:h,onItemTextChange:v.useCallback(E=>{f(k=>k||((E==null?void 0:E.textContent)??"").trim())},[]),children:s.jsx(p0.ItemSlot,{scope:n,value:r,disabled:i,textValue:m,children:s.jsx(kt.div,{role:"option","aria-labelledby":w,"data-highlighted":g?"":void 0,"aria-selected":h&&g,"data-state":h?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:_,onFocus:Je(o.onFocus,()=>x(!0)),onBlur:Je(o.onBlur,()=>x(!1)),onClick:Je(o.onClick,()=>{j.current!=="mouse"&&N()}),onPointerUp:Je(o.onPointerUp,()=>{j.current==="mouse"&&N()}),onPointerDown:Je(o.onPointerDown,E=>{j.current=E.pointerType}),onPointerMove:Je(o.onPointerMove,E=>{var k;j.current=E.pointerType,i?(k=d.onItemLeave)==null||k.call(d):j.current==="mouse"&&E.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Je(o.onPointerLeave,E=>{var k;E.currentTarget===document.activeElement&&((k=d.onItemLeave)==null||k.call(d))}),onKeyDown:Je(o.onKeyDown,E=>{var C;((C=d.searchRef)==null?void 0:C.current)!==""&&E.key===" "||(qme.includes(E.key)&&N(),E.key===" "&&E.preventDefault())})})})})});L3.displayName=uy;var Dm="SelectItemText",F3=v.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...a}=t,o=Ql(Dm,n),c=Yl(Dm,n),d=O3(Dm,n),h=Gme(Dm,n),[m,f]=v.useState(null),g=Wt(e,N=>f(N),d.onItemTextChange,N=>{var E;return(E=c.itemTextRefCallback)==null?void 0:E.call(c,N,d.value,d.disabled)}),x=m==null?void 0:m.textContent,_=v.useMemo(()=>s.jsx("option",{value:d.value,disabled:d.disabled,children:x},d.value),[d.disabled,d.value,x]),{onNativeOptionAdd:w,onNativeOptionRemove:j}=h;return ir(()=>(w(_),()=>j(_)),[w,j,_]),s.jsxs(s.Fragment,{children:[s.jsx(kt.span,{id:d.textId,...a,ref:g}),d.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Of.createPortal(a.children,o.valueNode):null]})});F3.displayName=Dm;var V3="SelectItemIndicator",U3=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return O3(V3,n).isSelected?s.jsx(kt.span,{"aria-hidden":!0,...r,ref:e}):null});U3.displayName=V3;var dj="SelectScrollUpButton",z3=v.forwardRef((t,e)=>{const n=Yl(dj,t.__scopeSelect),r=mS(dj,t.__scopeSelect),[i,a]=v.useState(!1),o=Wt(e,r.onScrollButtonChange);return ir(()=>{if(n.viewport&&n.isPositioned){let c=function(){const h=d.scrollTop>0;a(h)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),i?s.jsx($3,{...t,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});z3.displayName=dj;var hj="SelectScrollDownButton",B3=v.forwardRef((t,e)=>{const n=Yl(hj,t.__scopeSelect),r=mS(hj,t.__scopeSelect),[i,a]=v.useState(!1),o=Wt(e,r.onScrollButtonChange);return ir(()=>{if(n.viewport&&n.isPositioned){let c=function(){const h=d.scrollHeight-d.clientHeight,m=Math.ceil(d.scrollTop)<h;a(m)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),i?s.jsx($3,{...t,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});B3.displayName=hj;var $3=v.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,a=Yl("SelectScrollButton",n),o=v.useRef(null),c=g0(n),d=v.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return v.useEffect(()=>()=>d(),[d]),ir(()=>{var m;const h=c().find(f=>f.ref.current===document.activeElement);(m=h==null?void 0:h.ref.current)==null||m.scrollIntoView({block:"nearest"})},[c]),s.jsx(kt.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Je(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Je(i.onPointerMove,()=>{var h;(h=a.onItemLeave)==null||h.call(a),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Je(i.onPointerLeave,()=>{d()})})}),afe="SelectSeparator",q3=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return s.jsx(kt.div,{"aria-hidden":!0,...r,ref:e})});q3.displayName=afe;var mj="SelectArrow",ofe=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=x0(n),a=Ql(mj,n),o=Yl(mj,n);return a.open&&o.position==="popper"?s.jsx(Y4,{...i,...r,ref:e}):null});ofe.displayName=mj;var lfe="SelectBubbleInput",H3=v.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=v.useRef(null),a=Wt(r,i),o=cS(e);return v.useEffect(()=>{const c=i.current;if(!c)return;const d=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(o!==e&&m){const f=new Event("change",{bubbles:!0});m.call(c,e),c.dispatchEvent(f)}},[o,e]),s.jsx(kt.select,{...n,style:{...b3,...n.style},ref:a,defaultValue:e})});H3.displayName=lfe;function W3(t){return t===""||t===void 0}function K3(t){const e=_i(t),n=v.useRef(""),r=v.useRef(0),i=v.useCallback(o=>{const c=n.current+o;e(c),(function d(h){n.current=h,window.clearTimeout(r.current),h!==""&&(r.current=window.setTimeout(()=>d(""),1e3))})(c)},[e]),a=v.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,a]}function G3(t,e,n){const i=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let o=cfe(t,Math.max(a,0));i.length===1&&(o=o.filter(h=>h!==n));const d=o.find(h=>h.textValue.toLowerCase().startsWith(i.toLowerCase()));return d!==n?d:void 0}function cfe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var ufe=w3,Q3=N3,dfe=S3,hfe=E3,mfe=C3,Y3=k3,ffe=R3,J3=M3,X3=L3,pfe=F3,gfe=U3,Z3=z3,eF=B3,tF=q3;const tn=ufe,nn=dfe,Gt=v.forwardRef(({className:t,children:e,...n},r)=>s.jsxs(Q3,{ref:r,className:ut("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,s.jsx(hfe,{asChild:!0,children:s.jsx(yd,{className:"h-4 w-4 opacity-50"})})]}));Gt.displayName=Q3.displayName;const nF=v.forwardRef(({className:t,...e},n)=>s.jsx(Z3,{ref:n,className:ut("flex cursor-default items-center justify-center py-1",t),...e,children:s.jsx(LR,{className:"h-4 w-4"})}));nF.displayName=Z3.displayName;const rF=v.forwardRef(({className:t,...e},n)=>s.jsx(eF,{ref:n,className:ut("flex cursor-default items-center justify-center py-1",t),...e,children:s.jsx(yd,{className:"h-4 w-4"})}));rF.displayName=eF.displayName;const Qt=v.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>s.jsx(mfe,{children:s.jsxs(Y3,{ref:i,className:ut("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[s.jsx(nF,{}),s.jsx(ffe,{className:ut("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),s.jsx(rF,{})]})}));Qt.displayName=Y3.displayName;const xfe=v.forwardRef(({className:t,...e},n)=>s.jsx(J3,{ref:n,className:ut("px-2 py-1.5 text-sm font-semibold",t),...e}));xfe.displayName=J3.displayName;const Re=v.forwardRef(({className:t,children:e,...n},r)=>s.jsxs(X3,{ref:r,className:ut("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[s.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(gfe,{children:s.jsx(tf,{className:"h-4 w-4"})})}),s.jsx(pfe,{children:e})]}));Re.displayName=X3.displayName;const yfe=v.forwardRef(({className:t,...e},n)=>s.jsx(tF,{ref:n,className:ut("-mx-1 my-1 h-px bg-muted",t),...e}));yfe.displayName=tF.displayName;function sF(){const[t,e]=v.useState(!1),[n,r]=v.useState(null),[i,a]=v.useState(null),[o,c]=v.useState(null),[d,h]=v.useState("quran"),[m,f]=v.useState(!1),[g,x]=v.useState(null),[_,w]=v.useState(!1),[j,N]=v.useState(null),[E,k]=v.useState(0),[C,P]=v.useState(null);v.useEffect(()=>{F()},[]),v.useEffect(()=>{if(i&&g&&g.pause(),i){const O=new Audio(i);x(O),O.onended=()=>{f(!1)}}},[i,g]);const F=async()=>{try{if(!await Xe.auth.isAuthenticated()){pt.error("Please log in to record and share");return}const U=await Xe.auth.me();N(U)}catch(O){console.error("Error loading user:",O),pt.error("Failed to load user data.")}},D=async()=>{try{const O=await navigator.mediaDevices.getUserMedia({audio:!0}),U=new MediaRecorder(O),X=[];U.ondataavailable=ue=>{X.push(ue.data)},U.onstop=()=>{const ue=new Blob(X,{type:"audio/webm"});r(ue),a(URL.createObjectURL(ue)),O.getTracks().forEach(ie=>ie.stop())},U.start(),c(U),e(!0),k(0);const re=setInterval(()=>{k(ue=>ue+1)},1e3);P(re),pt.success("Recording started! ")}catch(O){console.error("Error accessing microphone:",O),pt.error("Could not access microphone. Please check permissions.")}},R=()=>{o&&t&&(o.stop(),e(!1),C&&(clearInterval(C),P(null)),pt.success("Recording stopped!"))},I=()=>{g&&(m?(g.pause(),f(!1)):(g.play(),f(!0)))},M=async()=>{if(!n||!j){pt.error("Please record something first and make sure you're logged in");return}w(!0);try{const O=new File([n],`recording-${Date.now()}.webm`,{type:"audio/webm"}),{file_url:U}=await Xe.integrations.Core.UploadFile({file:O});await Xe.entities.Recording.create({user_id:j.id,user_name:j.full_name||j.email,user_email:j.email,recording_type:d,file_url:U,duration:Math.floor(E),status:"pending"});const X=j.points||0;await Xe.auth.updateMe({points:X+10}),N({...j,points:X+10}),r(null),a(null),k(0),g&&(g.pause(),x(null),f(!1)),pt.success(" Recording submitted! You earned 10 points!",{duration:5e3,description:"Your recording will be reviewed by our team. Keep up the great work!"});try{await Xe.integrations.Core.SendEmail({from_name:"Islam Kids Zone",to:"huzaify786@gmail.com",subject:" New Audio Recording Submitted",body:`
            <div style="font-family: Arial, sans-serif; padding: 20px; background-color: #f3f4f6; border-radius: 10px;">
              <h2 style="color: #3B82F6;"> New Recording Submitted!</h2>
              <div style="background-color: white; padding: 20px; border-radius: 8px; margin-top: 20px;">
                <p><strong> Submitted by:</strong> ${j.full_name||j.email}</p>
                <p><strong> Email:</strong> ${j.email}</p>
                <p><strong> Type:</strong> ${d}</p>
                <p><strong> Duration:</strong> ${Math.floor(E/60)}:${String(E%60).padStart(2,"0")}</p>
                <p><strong> File URL:</strong> <a href="${U}">${U}</a></p>
                <p><strong> Points Awarded:</strong> 10 points</p>
                <p><strong> Submitted:</strong> ${new Date().toLocaleString()}</p>
              </div>
              <hr style="margin: 20px 0; border: none; border-top: 1px solid #e5e7eb;">
              <p style="color: #6b7280; font-size: 12px; text-align: center;">
                Please review this recording in the admin dashboard.
              </p>
            </div>
          `})}catch(re){console.error("Error sending notification email:",re),pt.warning("Notification email to admin failed, but recording was submitted.")}}catch(O){console.error("Error uploading recording:",O),pt.error("Failed to upload recording. Please try again.")}finally{w(!1)}},V=O=>{const U=Math.floor(O/60),X=O%60;return`${U}:${String(X).padStart(2,"0")}`};return j?s.jsx("div",{className:"min-h-screen py-8 px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Record & Share"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Share your beautiful Quran recitation, nasheed, or Islamic story"})]}),s.jsx(te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-8",children:s.jsx(ne,{className:"border-4 border-amber-400 bg-gradient-to-r from-amber-50 to-yellow-50",children:s.jsx(se,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-16 h-16 bg-amber-500 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx(Hc,{className:"w-8 h-8 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-2 flex items-center gap-2",children:[s.jsx(zt,{className:"w-6 h-6 text-amber-600 fill-amber-600"}),s.jsx("span",{children:"Earn 10 Points!"})]}),s.jsxs("p",{className:"text-gray-700 font-medium",children:["Submit a recording and earn ",s.jsx("strong",{children:"10 points"})," instantly! Your recordings help inspire other kids."]})]})]})})})}),s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:s.jsx(ne,{className:"bg-gradient-to-r from-blue-50 to-purple-50",children:s.jsx(se,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Your Current Points"}),s.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[j.points||0," points"]})]}),s.jsx(zt,{className:"w-12 h-12 text-amber-500 fill-amber-500"})]})})})}),s.jsxs(ne,{className:"mb-8",children:[s.jsx(Le,{children:s.jsx(Fe,{children:"What would you like to record?"})}),s.jsx(se,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[s.jsxs("button",{onClick:()=>h("quran"),className:`p-6 rounded-xl border-2 transition-all ${d==="quran"?"border-green-500 bg-green-50":"border-gray-200 hover:border-green-300"}`,children:[s.jsx(dn,{className:"w-8 h-8 mx-auto mb-3 text-green-600"}),s.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Quran Recitation"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Recite verses from the Quran"})]}),s.jsxs("button",{onClick:()=>h("nasheed"),className:`p-6 rounded-xl border-2 transition-all ${d==="nasheed"?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-purple-300"}`,children:[s.jsx(jx,{className:"w-8 h-8 mx-auto mb-3 text-purple-600"}),s.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Nasheed"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Sing an Islamic nasheed"})]}),s.jsxs("button",{onClick:()=>h("story"),className:`p-6 rounded-xl border-2 transition-all ${d==="story"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}`,children:[s.jsx(Bl,{className:"w-8 h-8 mx-auto mb-3 text-blue-600"}),s.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Islamic Story"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Tell an Islamic story"})]})]})})]}),s.jsxs(ne,{className:"mb-8",children:[s.jsx(Le,{children:s.jsx(Fe,{children:"Recording Studio"})}),s.jsx(se,{children:s.jsxs("div",{className:"text-center space-y-6",children:[(t||n)&&s.jsx("div",{className:"text-4xl font-mono font-bold text-gray-900",children:V(E)}),!n&&s.jsx(te.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:t?R:D,className:`w-24 h-24 rounded-full flex items-center justify-center transition-all shadow-xl ${t?"bg-red-500 hover:bg-red-600 animate-pulse":"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600"}`,"aria-label":t?"Stop Recording":"Start Recording",children:t?s.jsx(Tj,{className:"w-10 h-10 text-white"}):s.jsx(Sl,{className:"w-10 h-10 text-white"})}),t&&s.jsx("p",{className:"text-red-500 font-semibold animate-pulse",children:" Recording in progress..."}),n&&s.jsxs("div",{className:"space-y-4",children:[s.jsx(we,{className:"bg-green-500 text-white text-lg px-4 py-2",children:"Recording Complete! "}),s.jsxs("div",{className:"flex gap-4 justify-center",children:[s.jsx(G,{onClick:I,size:"lg",className:"bg-blue-600 hover:bg-blue-700","aria-label":m?"Pause Recording":"Play Recording",children:m?s.jsxs(s.Fragment,{children:[s.jsx(zl,{className:"w-5 h-5 mr-2"}),"Pause"]}):s.jsxs(s.Fragment,{children:[s.jsx(hr,{className:"w-5 h-5 mr-2"}),"Play"]})}),s.jsx(G,{onClick:()=>{r(null),a(null),k(0),g&&(g.pause(),x(null),f(!1))},variant:"outline",size:"lg",children:"Record Again"})]}),s.jsx(G,{onClick:M,disabled:_,size:"lg",className:"w-full bg-gradient-to-r from-green-500 to-teal-500 hover:from-green-600 hover:to-teal-600 text-lg py-6",children:_?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Submitting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ho,{className:"w-5 h-5 mr-2"}),"Submit & Earn 10 Points! "]})})]})]})})]}),s.jsxs(ne,{className:"border-2 border-blue-200",children:[s.jsx(Le,{className:"bg-gradient-to-r from-blue-50 to-purple-50",children:s.jsx(Fe,{children:"Recording Tips "})}),s.jsx(se,{className:"pt-6",children:s.jsxs("ul",{className:"space-y-3 text-gray-700",children:[s.jsxs("li",{className:"flex gap-3",children:[s.jsx("span",{className:"text-blue-600 font-bold",children:"1."}),s.jsx("span",{children:"Find a quiet place with no background noise"})]}),s.jsxs("li",{className:"flex gap-3",children:[s.jsx("span",{className:"text-blue-600 font-bold",children:"2."}),s.jsx("span",{children:"Speak clearly and at a comfortable pace"})]}),s.jsxs("li",{className:"flex gap-3",children:[s.jsx("span",{className:"text-blue-600 font-bold",children:"3."}),s.jsx("span",{children:"Hold your device about 6 inches from your mouth"})]}),s.jsxs("li",{className:"flex gap-3",children:[s.jsx("span",{className:"text-blue-600 font-bold",children:"4."}),s.jsx("span",{children:"Take your time and do your best - it's okay to record again!"})]}),s.jsxs("li",{className:"flex gap-3",children:[s.jsx("span",{className:"text-green-600 font-bold",children:"5."}),s.jsxs("span",{children:["Submit your recording and earn ",s.jsx("strong",{children:"10 points"})," automatically! "]})]})]})})]})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:s.jsx(ne,{className:"max-w-md",children:s.jsxs(se,{className:"pt-6 text-center",children:[s.jsx(Sl,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Access Required"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Please email us to enable recording and sharing features."}),s.jsx(G,{onClick:()=>{const O=encodeURIComponent("Access Request - Record & Share"),U=encodeURIComponent("Hi, I'd like to enable recording features on Islam Kids Zone. My name is ____ and my contact details are ____.");window.location.href=`mailto:imediac786@gmail.com?subject=${O}&body=${U}`},children:"Email Us"})]})})})}function iF(){const[t,e]=v.useState(null),[n,r]=v.useState(!1),[i,a]=v.useState(!1),[o,c]=v.useState(null),[d,h]=v.useState(null),[m,f]=v.useState(!1),[g,x]=v.useState(!1),[_,w]=v.useState(""),j=v.useRef(null),N=v.useRef([]),E=v.useRef(null),k=v.useRef(null);v.useEffect(()=>{C(),P()},[]);const C=async()=>{try{if(await Xe.auth.isAuthenticated()){const O=await Xe.auth.me();e(O)}else e(null)}catch{e(null)}},P=()=>{try{const V=localStorage.getItem("siteSettings");if(V){const O=JSON.parse(V);w((O==null?void 0:O.recordingStudioText)||"Welcome to Islam Media Central Recording Studio. Please record Quran recitation, nasheeds, or Islamic messages with clarity and respect.")}else w("Welcome to Islam Media Central Recording Studio. Please record Quran recitation, nasheeds, or Islamic messages with clarity and respect.")}catch{w("Welcome to Islam Media Central Recording Studio. Please record Quran recitation, nasheeds, or Islamic messages with clarity and respect.")}},F=async()=>{try{a(!1);const V=await navigator.mediaDevices.getUserMedia({audio:!0}),O=new MediaRecorder(V);j.current=O,N.current=[],O.ondataavailable=U=>{U.data.size>0&&N.current.push(U.data)},O.onstop=()=>{const U=new Blob(N.current,{type:"audio/webm"});c(U);const X=URL.createObjectURL(U);h(X),V.getTracks().forEach(re=>re.stop())},E.current=Date.now(),O.start(),r(!0),pt.success("Recording started")}catch(V){console.error("Error starting recording:",V),(V==null?void 0:V.name)==="NotAllowedError"&&a(!0),pt.error("Could not access microphone. Please enable permissions.")}},D=()=>{j.current&&n&&(j.current.stop(),r(!1),pt.success("Recording stopped"))},R=()=>{k.current&&d&&(k.current.currentTime=0,k.current.play())},I=()=>{c(null),h(null),N.current=[]},M=async()=>{if(!o){pt.error("Please record audio first");return}if(!t){pt.error("Please log in to submit your recording");return}f(!0);try{const V=E.current?Math.floor((Date.now()-E.current)/1e3):0,O=new File([o],`recording-${Date.now()}.webm`,{type:"audio/webm"}),{file_url:U}=await Xe.integrations.Core.UploadFile({file:O}),X=await Xe.entities.Recording.create({user_id:t.id,user_name:t.full_name||t.email,user_email:t.email,recording_type:"studio",file_url:U,duration:V,status:"pending"});let re="imedia786@gmail.com";try{const ue=localStorage.getItem("siteSettings");if(ue){const ie=JSON.parse(ue);ie!=null&&ie.supportEmail&&(re=ie.supportEmail)}}catch{}await Xe.integrations.Core.SendEmail({from_name:"Islam Media Central",to:re,subject:" New Recording Submission",body:`
          <div style="font-family: Arial, sans-serif; max-width: 640px; margin: 0 auto; background: #ffffff; border-radius: 12px; overflow: hidden; border: 1px solid #e5e7eb;">
            <div style="padding: 24px; background: linear-gradient(135deg, #2563EB 0%, #60A5FA 100%); color: white;">
              <h2 style="margin: 0;">Islam Media Central Recording Studio</h2>
            </div>
            <div style="padding: 24px;">
              <p><strong>User:</strong> ${t.full_name||t.email}</p>
              <p><strong>Email:</strong> ${t.email}</p>
              <p><strong>Duration:</strong> ${Math.floor(V/60)}:${(V%60).toString().padStart(2,"0")} minutes</p>
              <p><strong>Recording ID:</strong> ${X.id}</p>
              <div style="margin: 16px 0; padding: 12px; background: #EFF6FF; border-left: 4px solid #2563EB;">
                <a href="${U}" style="display:inline-block;padding:10px 16px;background:#2563EB;color:#fff;border-radius:8px;text-decoration:none;font-weight:bold">Download & Listen</a>
                <p style="margin-top:8px;font-size:12px;color:#6B7280">Direct link: ${U}</p>
              </div>
            </div>
          </div>
        `}),x(!0),pt.success("Recording submitted successfully"),setTimeout(()=>{I(),x(!1)},2500)}catch(V){console.error("Error submitting recording:",V),pt.error("Failed to submit recording")}finally{f(!1)}};return s.jsx("div",{className:"min-h-screen py-10 px-4 bg-gradient-to-br from-blue-50 to-white",children:s.jsxs("div",{className:"max-w-3xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("div",{className:"text-6xl mb-2",children:""}),s.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-blue-900",children:"Islam Media Central Recording Studio"}),s.jsx("p",{className:"text-blue-700",children:"Record directly in your browser and submit with one click."})]}),s.jsxs(ne,{className:"mb-6 border-blue-200",children:[s.jsx(Le,{className:"bg-blue-600 text-white",children:s.jsx(Fe,{children:"Instructions & Guidelines"})}),s.jsx(se,{className:"p-5",children:s.jsx("div",{className:"prose max-w-none",children:s.jsx("p",{className:"text-gray-800 whitespace-pre-line",children:_})})})]}),s.jsxs(ne,{className:"shadow-md border-blue-100",children:[s.jsx(Le,{className:"bg-gradient-to-r from-blue-600 to-blue-500 text-white",children:s.jsxs(Fe,{className:"flex items-center gap-2",children:[s.jsx(Sl,{className:"w-5 h-5"})," Recording Controls"]})}),s.jsxs(se,{className:"p-6",children:[i&&s.jsx("div",{className:"mb-4 p-3 rounded bg-red-50 text-red-700",children:"Microphone access denied. Please enable permissions in your browser settings."}),t?null:s.jsx("div",{className:"p-4 rounded bg-yellow-50 text-yellow-800 mb-4",children:"Please log in to submit recordings."}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsxs(G,{onClick:F,disabled:n,className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(Sl,{className:"w-4 h-4 mr-2"})," Start"]}),s.jsxs(G,{onClick:D,disabled:!n,variant:"outline",className:"border-blue-600 text-blue-600",children:[s.jsx(Tj,{className:"w-4 h-4 mr-2"})," Stop"]}),s.jsxs(G,{onClick:R,disabled:!d,variant:"outline",className:"border-blue-600 text-blue-600",children:[s.jsx(hr,{className:"w-4 h-4 mr-2"})," Play"]}),s.jsxs(G,{onClick:M,disabled:!o||m||!t,className:"bg-green-600 hover:bg-green-700",children:[s.jsx(ho,{className:"w-4 h-4 mr-2"})," ",m?"Submitting...":"Submit"]})]}),s.jsx("div",{className:"mt-4",children:s.jsx("audio",{ref:k,src:d||void 0,controls:!0,className:"w-full"})}),g&&s.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},className:"mt-4 p-3 rounded bg-green-50 text-green-700",children:"Alhamdulillah! Your recording has been submitted."})]})]})]})})}function aF(){const[t,e]=v.useState(null),[n,r]=v.useState(null),[i,a]=v.useState(""),[o,c]=v.useState(50),[d,h]=v.useState(""),m=Vs(),{data:f=[],isLoading:g}=vn({queryKey:["recordings"],queryFn:()=>Xe.entities.Recording.list("-created_date"),initialData:[]}),x=gn({mutationFn:({id:F,data:D})=>Xe.entities.Recording.update(F,D),onSuccess:()=>{m.invalidateQueries({queryKey:["recordings"]}),r(null)}});v.useEffect(()=>{try{const F=localStorage.getItem("siteSettings");if(F){const D=JSON.parse(F);h((D==null?void 0:D.recordingStudioText)||"")}}catch{}},[]);const _=()=>{try{const F=localStorage.getItem("siteSettings"),R={...F?JSON.parse(F):{},recordingStudioText:d};localStorage.setItem("siteSettings",JSON.stringify(R)),alert("Recording Studio text saved")}catch{alert("Failed to save text")}},w=async F=>{try{await x.mutateAsync({id:F.id,data:{status:"approved",admin_notes:i,points_awarded:o}});const R=(await Xe.entities.User.list()).find(I=>I.id===F.user_id);R&&await Xe.auth.updateMe({points:(R.points||0)+o}),await Xe.integrations.Core.SendEmail({from_name:"Islam Kids Zone",to:F.user_email,subject:" Your Recording Has Been Approved!",body:`
          <div style="font-family: Arial, sans-serif; padding: 20px; background-color: #f3f4f6; border-radius: 10px;">
            <h2 style="color: #10B981;"> Masha'Allah! Your Recording is Approved!</h2>
            <div style="background-color: white; padding: 20px; border-radius: 8px; margin-top: 20px;">
              <p>Assalamu Alaikum <strong>${F.user_name}</strong>,</p>
              <p>Great news! Your ${F.recording_type} recording has been approved and featured on our website!</p>
              <p><strong> You've earned ${o} points!</strong></p>
              ${i?`<p><strong> Feedback:</strong> ${i}</p>`:""}
              <p>Keep up the amazing work! We can't wait to hear more from you.</p>
              <p style="margin-top: 20px;">Jazakallahu Khayran,<br>Islam Kids Zone Team</p>
            </div>
          </div>
        `}),alert("Recording approved and user notified!")}catch(D){console.error("Error approving recording:",D),alert("Error approving recording")}},j=async F=>{try{await x.mutateAsync({id:F.id,data:{status:"rejected",admin_notes:i}}),F.user_email&&await Xe.integrations.Core.SendEmail({from_name:"Islam Kids Zone",to:F.user_email,subject:" Update on Your Recording Submission",body:`
            <div style="font-family: Arial, sans-serif; padding: 20px; background-color: #f3f4f6; border-radius: 10px;">
              <h2 style="color: #3B82F6;">Update on Your Recording</h2>
              <div style="background-color: white; padding: 20px; border-radius: 8px; margin-top: 20px;">
                <p>Assalamu Alaikum <strong>${F.user_name}</strong>,</p>
                <p>Thank you for submitting your ${F.recording_type} recording!</p>
                ${i?`<p><strong> Feedback:</strong> ${i}</p>`:""}
                <p>Don't be discouraged! Please feel free to submit another recording. We're here to help you improve!</p>
                <p style="margin-top: 20px;">Jazakallahu Khayran,<br>Islam Kids Zone Team</p>
              </div>
            </div>
          `}),alert("Recording rejected and user notified!")}catch(D){console.error("Error rejecting recording:",D),alert("Error rejecting recording")}},N=async F=>{var D,R;if(confirm("Delete this recording permanently?"))try{(R=(D=Xe==null?void 0:Xe.entities)==null?void 0:D.Recording)!=null&&R.delete?await Xe.entities.Recording.delete(F.id):await x.mutateAsync({id:F.id,data:{status:"deleted"}}),m.invalidateQueries({queryKey:["recordings"]}),alert("Recording deleted")}catch(I){console.error("Error deleting recording:",I),alert("Failed to delete recording")}},E=F=>new Date(F).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),k=F=>{const D=Math.floor(F/60),R=F%60;return`${D}:${R.toString().padStart(2,"0")}`},C={pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",featured:"bg-purple-100 text-purple-800",rejected:"bg-red-100 text-red-800"},P={quran:"",nasheed:"",story:""};return s.jsx("div",{className:"min-h-screen py-12 px-4 bg-gradient-to-br from-blue-50 to-purple-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Recording Submissions"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Review and manage student recordings"})]}),s.jsxs(ne,{className:"mb-8",children:[s.jsx(Le,{children:s.jsx(Fe,{children:"Recording Studio Page Text"})}),s.jsxs(se,{className:"space-y-3",children:[s.jsx(Pn,{value:d,onChange:F=>h(F.target.value),className:"min-h-[120px]",placeholder:"Write instructions, motivational messages, or Quran/Nasheed guidelines for users..."}),s.jsx("div",{className:"flex gap-2",children:s.jsx(G,{onClick:_,className:"bg-blue-600 hover:bg-blue-700",children:"Save Text"})}),s.jsx("p",{className:"text-xs text-gray-500",children:"This text appears at the top of the Recording Studio page."})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsx(ne,{children:s.jsxs(se,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl mb-2",children:""}),s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:f.length}),s.jsx("div",{className:"text-sm text-gray-500",children:"Total Submissions"})]})}),s.jsx(ne,{children:s.jsxs(se,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl mb-2",children:""}),s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:f.filter(F=>F.status==="pending").length}),s.jsx("div",{className:"text-sm text-gray-500",children:"Pending Review"})]})}),s.jsx(ne,{children:s.jsxs(se,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl mb-2",children:""}),s.jsx("div",{className:"text-2xl font-bold text-green-600",children:f.filter(F=>F.status==="approved"||F.status==="featured").length}),s.jsx("div",{className:"text-sm text-gray-500",children:"Approved"})]})}),s.jsx(ne,{children:s.jsxs(se,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl mb-2",children:""}),s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:f.filter(F=>F.status==="featured").length}),s.jsx("div",{className:"text-sm text-gray-500",children:"Featured"})]})})]}),g?s.jsx("div",{className:"text-center py-12 text-gray-500",children:"Loading recordings..."}):f.length===0?s.jsx(ne,{children:s.jsxs(se,{className:"p-12 text-center",children:[s.jsx(Sl,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),s.jsx("p",{className:"text-gray-500",children:"No recordings submitted yet"})]})}):s.jsx("div",{className:"space-y-4",children:f.map((F,D)=>s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:D*.05},children:s.jsx(ne,{className:"hover:shadow-lg transition-all duration-300",children:s.jsx(se,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"text-5xl",children:P[F.recording_type]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:[F.recording_type.charAt(0).toUpperCase()+F.recording_type.slice(1)," Recording"]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-gray-500",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx($R,{className:"w-4 h-4"}),F.user_name]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ya,{className:"w-4 h-4"}),k(F.duration)]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(py,{className:"w-4 h-4"}),E(F.created_date)]})]})]}),s.jsx(we,{className:C[F.status],children:F.status})]}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-3",children:s.jsx("audio",{controls:!0,src:F.file_url,className:"w-full"})}),s.jsx("div",{className:"mb-3",children:s.jsxs("a",{href:F.file_url,download:!0,className:"text-blue-600 hover:text-blue-700 text-sm flex items-center gap-2",children:[s.jsx(No,{className:"w-4 h-4"}),"Download Recording"]})}),F.admin_notes&&s.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-3 mb-3",children:s.jsxs("p",{className:"text-sm text-blue-900",children:[s.jsx("strong",{children:"Admin Notes:"})," ",F.admin_notes]})}),F.status==="pending"&&s.jsx("div",{className:"space-y-3",children:(n==null?void 0:n.id)===F.id?s.jsxs("div",{className:"space-y-3 border-t pt-3",children:[s.jsx(Pn,{placeholder:"Add feedback or notes...",value:i,onChange:R=>a(R.target.value),className:"min-h-[80px]"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Points to Award:"}),s.jsx(Te,{type:"number",value:o,onChange:R=>c(parseInt(R.target.value)||0),className:"w-24"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(G,{onClick:()=>w(F),className:"bg-green-600 hover:bg-green-700",children:[s.jsx(Wc,{className:"w-4 h-4 mr-2"}),"Approve & Award Points"]}),s.jsxs(G,{onClick:()=>j(F),variant:"destructive",children:[s.jsx(gy,{className:"w-4 h-4 mr-2"}),"Reject"]}),s.jsx(G,{onClick:()=>{r(null),a(""),c(50)},variant:"outline",children:"Cancel"})]})]}):s.jsx(G,{onClick:()=>r(F),variant:"outline",className:"w-full",children:"Review & Take Action"})}),s.jsx("div",{className:"mt-3",children:s.jsxs(G,{onClick:()=>N(F),variant:"destructive",children:[s.jsx(sr,{className:"w-4 h-4 mr-2"})," Delete Recording"]})}),F.points_awarded>0&&s.jsxs("div",{className:"flex items-center gap-2 text-amber-600 font-semibold",children:[s.jsx(zt,{className:"w-5 h-5 fill-amber-500"}),F.points_awarded," points awarded"]})]})]})})})},F.id))})]})})}const vfe=[{id:"coloring",title:"Colouring Pages",description:"Print or colour online: mosques, Ka'bah, Islamic patterns",icon:yy,color:"from-pink-500 to-rose-500",emoji:"",link:"ColoringPages"},{id:"drawing",title:"Islamic Art Board",description:"Digital drawing pad for Islamic art and calligraphy",icon:FB,color:"from-purple-500 to-violet-500",emoji:"",link:"DrawingBoard"},{id:"writing",title:"Poem & Nasheed Writing",description:"Write and submit your Islamic poems and nasheeds",icon:Ej,color:"from-blue-500 to-cyan-500",emoji:"",link:"PoetryWriting"},{id:"contest",title:"Monthly Contest",description:"Win prizes for best story, drawing, or recitation!",icon:br,color:"from-amber-500 to-orange-500",emoji:"",link:"MonthlyContest"}];function oF(){return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Creative Corner"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Express your creativity through Islamic art, poetry, and more!"})]}),s.jsx(te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-12",children:s.jsx(ne,{className:"border-4 border-amber-400 shadow-2xl overflow-hidden",children:s.jsxs("div",{className:"bg-gradient-to-r from-amber-500 via-orange-500 to-red-500 p-8 text-white text-center",children:[s.jsx(br,{className:"w-16 h-16 mx-auto mb-4"}),s.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Monthly Creative Contest!"}),s.jsx("p",{className:"text-xl mb-4",children:"Submit your best work and win amazing prizes! "}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[s.jsx("div",{className:"bg-white/20 px-4 py-2 rounded-full",children:" Best Drawing"}),s.jsx("div",{className:"bg-white/20 px-4 py-2 rounded-full",children:" Best Story"}),s.jsx("div",{className:"bg-white/20 px-4 py-2 rounded-full",children:" Best Recitation"})]})]})})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:vfe.map((t,e)=>{const n=t.icon;return s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:e*.1},children:s.jsx(Et,{to:et(t.link),children:s.jsxs(ne,{className:"h-full hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 cursor-pointer group overflow-hidden border-2 hover:border-blue-300",children:[s.jsx(Le,{className:`bg-gradient-to-br ${t.color} text-white pb-6`,children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(te.div,{whileHover:{scale:1.1,rotate:5},className:"text-6xl",children:t.emoji}),s.jsxs("div",{children:[s.jsx(Fe,{className:"text-2xl mb-2",children:t.title}),s.jsx("p",{className:"text-sm text-white/90",children:t.description})]})]})}),s.jsx(se,{className:"p-6",children:s.jsxs(G,{className:"w-full bg-white text-gray-900 hover:bg-gray-100 border-2 border-gray-200 group-hover:border-blue-500 transition-all",children:[s.jsx(n,{className:"w-5 h-5 mr-2"}),"Start Creating"]})})]})})},t.id)})}),s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"mt-12",children:s.jsx(ne,{className:"border-2 border-purple-200 bg-gradient-to-r from-purple-50 to-pink-50",children:s.jsxs(se,{className:"p-8",children:[s.jsxs("h3",{className:"text-2xl font-bold text-purple-900 mb-4 flex items-center gap-2",children:[s.jsx(ni,{className:"w-6 h-6"}),"Creative Tips"]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-purple-800",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsx("p",{children:"Be original and express your unique creativity"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsx("p",{children:"Start with Bismillah before creating"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsx("p",{children:"Use bright colours and Islamic patterns"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsx("p",{children:"Create with love for Allah and Islam"})]})]})]})})})]})})}const bfe=[{id:"encyclopedia",title:"Islamic Encyclopedia",description:"Learn about prophets, angels, and Islamic months",icon:dn,color:"from-blue-500 to-cyan-500",emoji:"",link:"IslamicEncyclopedia"},{id:"tafsir",title:"Audio Tafsir for Kids",description:"Easy explanations of short surahs",icon:lo,color:"from-green-500 to-teal-500",emoji:"",link:"AudioTafsir"},{id:"facts",title:"Did You Know?",description:"Fun and amazing Islamic facts",icon:gB,color:"from-amber-500 to-orange-500",emoji:"",link:"IslamicFacts"},{id:"worksheets",title:"Printable Worksheets",description:"Quran tracing, matching activities & more",icon:Ej,color:"from-purple-500 to-pink-500",emoji:"",link:"Worksheets"}],wfe=[{title:"25 Prophets",icon:Bl,count:"25 stories"},{title:"Islamic Months",icon:py,count:"12 months"},{title:"99 Names of Allah",icon:zt,count:"Learn all"}];function lF(){return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Learning Library"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Explore Islamic knowledge through engaging resources and materials"})]}),s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-12",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:wfe.map((t,e)=>{const n=t.icon;return s.jsx(te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:e*.1},children:s.jsx(ne,{className:"bg-gradient-to-br from-blue-500 to-purple-500 text-white hover:shadow-xl transition-all duration-300 cursor-pointer",children:s.jsxs(se,{className:"p-6 text-center",children:[s.jsx(n,{className:"w-12 h-12 mx-auto mb-3"}),s.jsx("h3",{className:"text-xl font-bold mb-1",children:t.title}),s.jsx("p",{className:"text-sm text-blue-100",children:t.count})]})})},t.title)})})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12",children:bfe.map((t,e)=>{const n=t.icon;return s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:e*.1+.3},children:s.jsx(Et,{to:et(t.link),children:s.jsxs(ne,{className:"h-full hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 cursor-pointer group overflow-hidden border-2 hover:border-green-300",children:[s.jsx(Le,{className:`bg-gradient-to-br ${t.color} text-white pb-6`,children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(te.div,{whileHover:{scale:1.1,rotate:5},className:"text-6xl",children:t.emoji}),s.jsxs("div",{children:[s.jsx(Fe,{className:"text-2xl mb-2",children:t.title}),s.jsx("p",{className:"text-sm text-white/90",children:t.description})]})]})}),s.jsx(se,{className:"p-6",children:s.jsxs(G,{className:"w-full bg-white text-gray-900 hover:bg-gray-100 border-2 border-gray-200 group-hover:border-green-500 transition-all",children:[s.jsx(n,{className:"w-5 h-5 mr-2"}),"Explore Now"]})})]})})},t.id)})}),s.jsx(te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.7},children:s.jsx(ne,{className:"border-4 border-green-400 shadow-2xl bg-gradient-to-r from-green-50 to-teal-50",children:s.jsxs(se,{className:"p-8 text-center",children:[s.jsx(dn,{className:"w-16 h-16 mx-auto mb-4 text-green-600"}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-3",children:'"Seek knowledge from the cradle to the grave"'}),s.jsx("p",{className:"text-lg text-gray-700 mb-4",children:"- Prophet Muhammad "}),s.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Our learning library is designed to make Islamic education easy, fun, and engaging for young learners."})]})})})]})})}const jfe=[{id:1,title:"Kaaba",url:"https://images.unsplash.com/photo-1591604129939-f1efa4d9f7fa?w=800&h=800&fit=crop",description:"Color the Holy Kaaba"},{id:2,title:"Mosque",url:"https://images.unsplash.com/photo-1564769625905-50e93615e769?w=800&h=800&fit=crop",description:"Beautiful mosque design"},{id:3,title:"Islamic Pattern",url:"https://images.unsplash.com/photo-1583578702627-7c1e0618f0c4?w=800&h=800&fit=crop",description:"Geometric Islamic art"},{id:4,title:"Crescent Moon",url:"https://images.unsplash.com/photo-1532693322450-2cb5c511067d?w=800&h=800&fit=crop",description:"Islamic symbol"},{id:5,title:"Arabic Calligraphy",url:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=800&h=800&fit=crop",description:"Beautiful Arabic writing"},{id:6,title:"Lantern",url:"https://images.unsplash.com/photo-1586991879365-a8759d239cf1?w=800&h=800&fit=crop",description:"Ramadan lantern"}],Nfe=({page:t,onClose:e})=>{const n=v.useRef(null),[r,i]=v.useState(!1),[a,o]=v.useState("#000000"),[c,d]=v.useState(5),[h,m]=v.useState(!1),f=["#000000","#FFFFFF","#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF","#FFA500","#800080","#FFC0CB","#8B4513","#808080","#FFD700","#40E0D0"];v.useEffect(()=>{const N=n.current;if(!N)return;const E=N.getContext("2d"),k=new Image;k.crossOrigin="anonymous",k.onload=()=>{N.width=800,N.height=800,E.fillStyle="#FFFFFF",E.fillRect(0,0,N.width,N.height),E.drawImage(k,0,0,N.width,N.height);const C=E.getImageData(0,0,N.width,N.height),P=C.data;for(let F=0;F<P.length;F+=4){const D=(P[F]+P[F+1]+P[F+2])/3;P[F]=D,P[F+1]=D,P[F+2]=D}E.putImageData(C,0,0),m(!0)},k.onerror=()=>{N.width=800,N.height=800,E.fillStyle="#FFFFFF",E.fillRect(0,0,N.width,N.height),E.strokeStyle="#000000",E.lineWidth=2,E.strokeRect(50,50,700,700),E.font="24px Arial",E.fillStyle="#000000",E.textAlign="center",E.fillText(t.title,N.width/2,N.height/2),m(!0)},k.src=t.url},[t]);const g=N=>{h&&(i(!0),_(N))},x=()=>{i(!1)},_=N=>{if(!r&&N.type!=="mousedown"&&N.type!=="touchstart"||!h)return;const E=n.current,k=E.getContext("2d"),C=E.getBoundingClientRect();let P,F;if(N.type.includes("touch")){const I=N.touches[0]||N.changedTouches[0];P=I.clientX-C.left,F=I.clientY-C.top}else P=N.clientX-C.left,F=N.clientY-C.top;const D=E.width/C.width,R=E.height/C.height;P*=D,F*=R,k.lineCap="round",k.lineJoin="round",k.strokeStyle=a,k.lineWidth=c,N.type==="mousedown"||N.type==="touchstart"?(k.beginPath(),k.moveTo(P,F)):(k.lineTo(P,F),k.stroke())},w=()=>{const N=n.current,E=N.getContext("2d"),k=new Image;k.crossOrigin="anonymous",k.onload=()=>{E.fillStyle="#FFFFFF",E.fillRect(0,0,N.width,N.height),E.drawImage(k,0,0,N.width,N.height);const C=E.getImageData(0,0,N.width,N.height),P=C.data;for(let F=0;F<P.length;F+=4){const D=(P[F]+P[F+1]+P[F+2])/3;P[F]=D,P[F+1]=D,P[F+2]=D}E.putImageData(C,0,0)},k.src=t.url},j=()=>{const N=n.current,E=document.createElement("a");E.download=`${t.title}-colored.png`,E.href=N.toDataURL(),E.click()};return s.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:e,children:s.jsxs(te.div,{initial:{scale:.9},animate:{scale:1},onClick:N=>N.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl max-w-6xl w-full max-h-[95vh] overflow-y-auto",children:[s.jsx("div",{className:"sticky top-0 bg-white border-b p-4 z-10",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h2",{className:"text-2xl font-bold",children:["Color: ",t.title]}),s.jsx(G,{variant:"ghost",onClick:e,children:"Close"})]})}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"grid md:grid-cols-[1fr,200px] gap-6",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("canvas",{ref:n,onMouseDown:g,onMouseMove:_,onMouseUp:x,onMouseLeave:x,onTouchStart:g,onTouchMove:_,onTouchEnd:x,className:"border-4 border-gray-300 rounded-lg cursor-crosshair max-w-full touch-none",style:{width:"100%",maxWidth:"600px",height:"auto",aspectRatio:"1/1"}}),!h&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("div",{className:"text-gray-500",children:"Loading..."})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-bold mb-3 flex items-center gap-2",children:[s.jsx(yy,{className:"w-5 h-5"}),"Colors"]}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:f.map(N=>s.jsx("button",{onClick:()=>o(N),className:`w-full h-12 rounded-lg border-4 transition-all ${a===N?"border-blue-500 scale-110":"border-gray-300"}`,style:{backgroundColor:N},title:N},N))}),s.jsx("input",{type:"color",value:a,onChange:N=>o(N.target.value),className:"w-full h-12 mt-2 rounded-lg cursor-pointer"})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-bold mb-3 flex items-center gap-2",children:[s.jsx(DB,{className:"w-5 h-5"}),"Brush Size"]}),s.jsx("input",{type:"range",min:"1",max:"50",value:c,onChange:N=>d(parseInt(N.target.value)),className:"w-full"}),s.jsxs("p",{className:"text-center text-sm text-gray-600 mt-2",children:[c,"px"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(G,{onClick:w,variant:"outline",className:"w-full",children:[s.jsx(sr,{className:"w-4 h-4 mr-2"}),"Clear"]}),s.jsxs(G,{onClick:j,className:"w-full bg-green-600 hover:bg-green-700",children:[s.jsx(No,{className:"w-4 h-4 mr-2"}),"Download"]})]})]})]})})]})})};function cF(){const[t,e]=v.useState(null);return s.jsxs("div",{className:"min-h-screen py-12 px-4",children:[s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Islamic Coloring Pages"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Color beautiful Islamic designs online or download to print"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:jfe.map((n,r)=>s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:r*.1},children:s.jsxs(ne,{className:"hover:shadow-2xl transition-all duration-300 cursor-pointer group",children:[s.jsx(Le,{className:"p-0",children:s.jsx("div",{className:"h-64 bg-gradient-to-br from-blue-100 to-purple-100 rounded-t-xl overflow-hidden",children:s.jsx("img",{src:n.url,alt:n.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"})})}),s.jsxs(se,{className:"p-6",children:[s.jsx(Fe,{className:"text-xl mb-2",children:n.title}),s.jsx("p",{className:"text-gray-600 mb-4",children:n.description}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(G,{onClick:()=>e(n),className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-500",children:[s.jsx(yy,{className:"w-4 h-4 mr-2"}),"Color Online"]}),s.jsx(G,{onClick:()=>{const i=document.createElement("a");i.href=n.url,i.download=`${n.title}.jpg`,i.click()},variant:"outline",children:s.jsx(No,{className:"w-4 h-4"})})]})]})]})},n.id))}),s.jsx(ne,{className:"mt-12 bg-blue-50 border-blue-200",children:s.jsxs(se,{className:"p-6",children:[s.jsx("h3",{className:"font-bold text-lg mb-3",children:" How to Use"}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[s.jsxs("p",{children:["1. ",s.jsx("strong",{children:"Color Online:"}),' Click "Color Online" to use our digital coloring tool']}),s.jsxs("p",{children:["2. ",s.jsx("strong",{children:"Download:"})," Click the download icon to print and color with crayons"]}),s.jsxs("p",{children:["3. ",s.jsx("strong",{children:"Save Your Work:"}),' After coloring online, click "Download" to save your artwork']}),s.jsxs("p",{children:["4. ",s.jsx("strong",{children:"Tips:"})," Use different brush sizes for details and filling large areas"]})]})]})})]}),t&&s.jsx(Nfe,{page:t,onClose:()=>e(null)})]})}const _fe=["#000000","#FFFFFF","#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF","#FFA500","#800080","#FFC0CB","#A52A2A","#808080","#FFD700","#4B0082"],Sfe=[2,5,10,15,20];function uF(){const t=v.useRef(null),[e,n]=v.useState(!1),[r,i]=v.useState("#000000"),[a,o]=v.useState(5),[c,d]=v.useState(!1);v.useEffect(()=>{const _=t.current;if(_){const w=_.getContext("2d");w.fillStyle="#FFFFFF",w.fillRect(0,0,_.width,_.height)}},[]);const h=_=>{const w=t.current,j=w.getContext("2d"),N=w.getBoundingClientRect(),E=_.clientX-N.left,k=_.clientY-N.top;j.beginPath(),j.moveTo(E,k),n(!0)},m=_=>{if(!e)return;const w=t.current,j=w.getContext("2d"),N=w.getBoundingClientRect(),E=_.clientX-N.left,k=_.clientY-N.top;j.lineTo(E,k),j.strokeStyle=c?"#FFFFFF":r,j.lineWidth=a,j.lineCap="round",j.stroke()},f=()=>{n(!1)},g=()=>{const _=t.current,w=_.getContext("2d");w.fillStyle="#FFFFFF",w.fillRect(0,0,_.width,_.height)},x=()=>{const w=t.current.toDataURL("image/png"),j=document.createElement("a");j.download="islamic-art.png",j.href=w,j.click()};return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Islamic Art Drawing Board"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Create beautiful Islamic art and calligraphy!"})]}),s.jsxs("div",{className:"grid lg:grid-cols-4 gap-6",children:[s.jsxs(ne,{className:"lg:col-span-1",children:[s.jsx(Le,{children:s.jsx(Fe,{className:"text-lg",children:"Tools"})}),s.jsxs(se,{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-3",children:"Colors"}),s.jsx("div",{className:"grid grid-cols-5 gap-2",children:_fe.map(_=>s.jsx("button",{onClick:()=>{i(_),d(!1)},className:`w-10 h-10 rounded-lg border-2 transition-all ${r===_&&!c?"border-blue-500 scale-110":"border-gray-300"}`,style:{backgroundColor:_}},_))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-3",children:"Brush Size"}),s.jsx("div",{className:"flex gap-2",children:Sfe.map(_=>s.jsx("button",{onClick:()=>o(_),className:`px-3 py-2 rounded-lg border-2 transition-all ${a===_?"border-blue-500 bg-blue-50":"border-gray-300"}`,children:_},_))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(G,{onClick:()=>d(!c),variant:c?"default":"outline",className:"w-full",children:[s.jsx(Yz,{className:"w-4 h-4 mr-2"}),"Eraser"]}),s.jsxs(G,{onClick:g,variant:"outline",className:"w-full",children:[s.jsx(sr,{className:"w-4 h-4 mr-2"}),"Clear All"]}),s.jsxs(G,{onClick:x,className:"w-full bg-green-600 hover:bg-green-700",children:[s.jsx(No,{className:"w-4 h-4 mr-2"}),"Save Art"]})]})]})]}),s.jsxs("div",{className:"lg:col-span-3",children:[s.jsx(ne,{children:s.jsx(se,{className:"p-6",children:s.jsx("canvas",{ref:t,width:800,height:600,onMouseDown:h,onMouseMove:m,onMouseUp:f,onMouseLeave:f,className:"border-2 border-gray-300 rounded-lg cursor-crosshair w-full",style:{maxWidth:"100%",height:"auto"}})})}),s.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"mt-6",children:s.jsx(ne,{className:"border-2 border-purple-200 bg-purple-50",children:s.jsxs(se,{className:"p-4",children:[s.jsxs("h3",{className:"font-bold text-purple-900 mb-2 flex items-center gap-2",children:[s.jsx(ni,{className:"w-5 h-5"}),"Drawing Tips"]}),s.jsxs("ul",{className:"text-sm text-purple-800 space-y-1",children:[s.jsx("li",{children:" Try drawing Islamic geometric patterns"}),s.jsx("li",{children:" Practice Arabic calligraphy"}),s.jsx("li",{children:" Draw your favorite mosque"}),s.jsx("li",{children:" Save and share your artwork!"})]})]})})})]})]})]})})}function dF(){const[t,e]=v.useState({title:"",content:"",type:"poem"}),[n,r]=v.useState(!1),[i,a]=v.useState(!1),[o,c]=v.useState(null);v.useEffect(()=>{d()},[]);const d=async()=>{try{if(await base44.auth.isAuthenticated()){const f=await base44.auth.me();c(f)}else c(null)}catch{c(null)}},h=async m=>{if(m.preventDefault(),!o){alert("Please log in to submit your work!");return}r(!0);try{await base44.entities.Poetry.create({user_id:o.id,user_name:o.full_name||"Anonymous",title:t.title,content:t.content,type:t.type,status:"pending"}),await base44.integrations.Core.SendEmail({from_name:"Islam Kids Zone",to:"huzaify786@gmail.com",subject:` New ${t.type==="poem"?"Poem":"Nasheed"} Submission`,body:`
          <div style="font-family: Arial, sans-serif; padding: 20px;">
            <h2>New ${t.type==="poem"?"Poem":"Nasheed"} Submission</h2>
            <p><strong>Student:</strong> ${o.full_name||"Anonymous"}</p>
            <p><strong>Title:</strong> ${t.title}</p>
            <hr/>
            <pre style="background: #f5f5f5; padding: 15px; border-radius: 5px;">${t.content}</pre>
          </div>
        `}),a(!0),setTimeout(()=>{a(!1),e({title:"",content:"",type:"poem"})},5e3)}catch(f){console.error("Error submitting:",f),alert("Error submitting. Please try again.")}finally{r(!1)}};return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Write Islamic Poetry & Nasheeds"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Express your love for Islam through beautiful words!"})]}),i?s.jsx(te.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},children:s.jsx(ne,{className:"border-4 border-green-400 shadow-2xl",children:s.jsxs(se,{className:"p-12 text-center",children:[s.jsx(Wc,{className:"w-24 h-24 text-green-500 mx-auto mb-6"}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Masha'Allah! "}),s.jsxs("p",{className:"text-xl text-gray-600",children:["Your ",t.type," has been submitted successfully!"]})]})})}):s.jsxs(ne,{className:"shadow-2xl",children:[s.jsx(Le,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white",children:s.jsxs(Fe,{className:"text-2xl flex items-center gap-2",children:[s.jsx(Ej,{className:"w-6 h-6"}),"Submit Your Work"]})}),s.jsxs(se,{className:"p-8",children:[s.jsxs("form",{onSubmit:h,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(ye,{className:"text-gray-700 font-semibold mb-3 block",children:"What are you writing?"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("button",{type:"button",onClick:()=>e({...t,type:"poem"}),className:`flex-1 p-4 rounded-xl border-2 transition-all ${t.type==="poem"?"border-purple-500 bg-purple-50":"border-gray-300"}`,children:[s.jsx("div",{className:"text-3xl mb-2",children:""}),s.jsx("div",{className:"font-bold",children:"Islamic Poem"})]}),s.jsxs("button",{type:"button",onClick:()=>e({...t,type:"nasheed"}),className:`flex-1 p-4 rounded-xl border-2 transition-all ${t.type==="nasheed"?"border-purple-500 bg-purple-50":"border-gray-300"}`,children:[s.jsx("div",{className:"text-3xl mb-2",children:""}),s.jsx("div",{className:"font-bold",children:"Nasheed"})]})]})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"title",className:"text-gray-700 font-semibold",children:"Title *"}),s.jsx(Te,{id:"title",value:t.title,onChange:m=>e({...t,title:m.target.value}),placeholder:"Give your work a beautiful title...",required:!0,className:"mt-2"})]}),s.jsxs("div",{children:[s.jsxs(ye,{htmlFor:"content",className:"text-gray-700 font-semibold",children:["Your ",t.type==="poem"?"Poem":"Nasheed"," *"]}),s.jsx(Pn,{id:"content",value:t.content,onChange:m=>e({...t,content:m.target.value}),placeholder:"Write your beautiful words here...",required:!0,rows:12,className:"mt-2 font-mono"})]}),s.jsx(G,{type:"submit",disabled:n,className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-xl py-6",children:n?"Submitting...":s.jsxs(s.Fragment,{children:[s.jsx(Nx,{className:"w-5 h-5 mr-2"}),"Submit for Review"]})})]}),s.jsxs("div",{className:"mt-6 bg-purple-50 rounded-xl p-4 border-2 border-purple-200",children:[s.jsxs("h3",{className:"font-bold text-purple-900 mb-2 flex items-center gap-2",children:[s.jsx(ni,{className:"w-5 h-5"}),"Writing Tips"]}),s.jsxs("ul",{className:"text-sm text-purple-800 space-y-1",children:[s.jsx("li",{children:" Start with Bismillah"}),s.jsx("li",{children:" Write from your heart about Islam"}),s.jsx("li",{children:" Check spelling and grammar"}),s.jsx("li",{children:" Be creative and original!"})]})]})]})]})]})})}const Efe=[{id:"story",title:"Best Story",emoji:"",prize:"Islamic Story Book Set",color:"from-blue-500 to-cyan-500"},{id:"drawing",title:"Best Drawing",emoji:"",prize:"Art Supplies Kit",color:"from-pink-500 to-rose-500"},{id:"recitation",title:"Best Recitation",emoji:"",prize:"Special Islamic Gift",color:"from-green-500 to-teal-500"},{id:"poem",title:"Best Poem/Nasheed",emoji:"",prize:"Featured on Website + Prize",color:"from-purple-500 to-violet-500"}];function hF(){return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx(te.div,{animate:{rotate:[0,10,-10,0],scale:[1,1.2,1]},transition:{repeat:1/0,duration:3},className:"text-8xl mb-6",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Monthly Creative Contest"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Showcase your talents and win amazing prizes every month!"})]}),s.jsx(te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-12",children:s.jsx(ne,{className:"border-4 border-amber-400 shadow-2xl bg-gradient-to-r from-amber-50 to-orange-50",children:s.jsxs(se,{className:"p-8 text-center",children:[s.jsx(py,{className:"w-16 h-16 mx-auto mb-4 text-amber-600"}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"December 2024 Contest"}),s.jsx("p",{className:"text-lg text-gray-700 mb-4",children:"Submit your entries before December 31st!"}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[s.jsxs("div",{className:"bg-white px-6 py-3 rounded-full shadow-lg",children:[s.jsx("span",{className:"font-bold text-amber-600",children:"Total Prizes:"})," 4 Winners"]}),s.jsxs("div",{className:"bg-white px-6 py-3 rounded-full shadow-lg",children:[s.jsx("span",{className:"font-bold text-amber-600",children:"Deadline:"})," Dec 31"]})]})]})})}),s.jsx("div",{className:"grid md:grid-cols-2 gap-6 mb-12",children:Efe.map((t,e)=>s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:e*.1},children:s.jsxs(ne,{className:"h-full hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 border-2",children:[s.jsx(Le,{className:`bg-gradient-to-br ${t.color} text-white`,children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"text-6xl",children:t.emoji}),s.jsxs("div",{children:[s.jsx(Fe,{className:"text-2xl mb-2",children:t.title}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(VR,{className:"w-4 h-4"}),s.jsxs("span",{children:["Prize: ",t.prize]})]})]})]})}),s.jsx(se,{className:"p-6",children:s.jsx(Et,{to:et(t.id==="story"?"Stories":t.id==="drawing"?"DrawingBoard":t.id==="recitation"?"RecordAndShare":"PoetryWriting"),children:s.jsx(G,{className:"w-full bg-gray-900 hover:bg-gray-800",children:"Submit Entry"})})})]})},t.id))}),s.jsxs(ne,{className:"shadow-2xl border-2 border-blue-300",children:[s.jsx(Le,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:s.jsxs(Fe,{className:"text-2xl flex items-center gap-2",children:[s.jsx(zt,{className:"w-6 h-6"}),"Contest Rules & Guidelines"]})}),s.jsx(se,{className:"p-8",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg mb-4 text-blue-900",children:"How to Participate"}),s.jsxs("ul",{className:"space-y-2 text-gray-700",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-xl",children:""}),s.jsx("span",{children:"Create your best Islamic artwork, story, poem, or recitation"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-xl",children:""}),s.jsx("span",{children:"Submit before the monthly deadline"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-xl",children:""}),s.jsx("span",{children:"Winners announced at the start of each month"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-xl",children:""}),s.jsx("span",{children:"Prizes shipped to winners worldwide!"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg mb-4 text-purple-900",children:"Judging Criteria"}),s.jsxs("ul",{className:"space-y-2 text-gray-700",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-xl",children:""}),s.jsx("span",{children:"Originality and creativity"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-xl",children:""}),s.jsx("span",{children:"Islamic values and messages"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-xl",children:""}),s.jsx("span",{children:"Effort and presentation"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-xl",children:""}),s.jsx("span",{children:"Age-appropriate content"})]})]})]})]})})]}),s.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-12",children:s.jsx(ne,{className:"bg-gradient-to-r from-green-50 to-teal-50 border-2 border-green-300",children:s.jsxs(se,{className:"p-8 text-center",children:[s.jsx(Hc,{className:"w-16 h-16 mx-auto mb-4 text-green-600"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Join Our Hall of Fame!"}),s.jsx("p",{className:"text-gray-700 max-w-2xl mx-auto",children:"All winners get featured on our website and receive special badges on their profiles. Start creating today and join the ranks of talented young Muslim artists!"})]})})})]})})}const Cfe=[{id:"prophets",title:"25 Prophets",emoji:"",color:"from-blue-500 to-cyan-500",description:"Learn about all 25 prophets mentioned in the Quran"},{id:"angels",title:"Angels in Islam",emoji:"",color:"from-purple-500 to-pink-500",description:"Discover the angels and their important roles"},{id:"months",title:"Islamic Months",emoji:"",color:"from-green-500 to-teal-500",description:"Understand the 12 Islamic calendar months"},{id:"pillars",title:"5 Pillars of Islam",emoji:"",color:"from-amber-500 to-orange-500",description:"The foundation of Islamic practice"}],kfe=["Adam","Idris","Nuh (Noah)","Hud","Saleh","Ibrahim (Abraham)","Lut (Lot)","Ismail (Ishmael)","Ishaq (Isaac)","Yaqub (Jacob)","Yusuf (Joseph)","Ayyub (Job)","Shuaib","Musa (Moses)","Harun (Aaron)","Dhul-Kifl","Dawud (David)","Sulaiman (Solomon)","Ilyas (Elijah)","Al-Yasa (Elisha)","Yunus (Jonah)","Zakariya (Zechariah)","Yahya (John)","Isa (Jesus)","Muhammad "];function mF(){const[t,e]=v.useState(null);return t==="prophets"?s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx(G,{onClick:()=>e(null),variant:"outline",className:"mb-6",children:" Back to Encyclopedia"}),s.jsxs(ne,{className:"shadow-2xl",children:[s.jsx(Le,{className:"bg-gradient-to-r from-blue-500 to-cyan-500 text-white",children:s.jsxs(Fe,{className:"text-3xl flex items-center gap-3",children:[s.jsx(Bl,{className:"w-8 h-8"}),"The 25 Prophets in the Quran"]})}),s.jsx(se,{className:"p-8",children:s.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:kfe.map((n,r)=>s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:r*.05},children:s.jsx(ne,{className:"hover:shadow-lg transition-all hover:-translate-y-1 cursor-pointer",children:s.jsx(se,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-bold",children:r+1}),s.jsx("span",{className:"font-semibold text-gray-900",children:n})]})})})},n))})})]})]})}):s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Mini Islamic Encyclopedia"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Learn about prophets, angels, Islamic months, and more!"})]}),s.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:Cfe.map((n,r)=>s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:r*.1},children:s.jsxs(ne,{onClick:()=>e(n.id),className:"h-full hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 cursor-pointer group",children:[s.jsx(Le,{className:`bg-gradient-to-br ${n.color} text-white pb-6`,children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"text-6xl",children:n.emoji}),s.jsxs("div",{children:[s.jsx(Fe,{className:"text-2xl mb-2",children:n.title}),s.jsx("p",{className:"text-sm text-white/90",children:n.description})]})]})}),s.jsx(se,{className:"p-6",children:s.jsxs(G,{className:"w-full bg-gray-900 hover:bg-gray-800 group-hover:scale-105 transition-transform",children:[s.jsx(dn,{className:"w-5 h-5 mr-2"}),"Explore Now"]})})]})},n.id))})]})})}const KI=[{id:1,surah:"Al-Fatiha",number:1,verses:7,duration:"8:30",mp3Url:"https://server8.mp3quran.net/afs/001.mp3",description:"The Opening - Learn the meaning of the most recited surah"},{id:2,surah:"Al-Ikhlas",number:112,verses:4,duration:"2:15",mp3Url:"https://server8.mp3quran.net/afs/112.mp3",description:"Sincerity - Understanding Allah's oneness"},{id:3,surah:"Al-Falaq",number:113,verses:5,duration:"1:50",mp3Url:"https://server8.mp3quran.net/afs/113.mp3",description:"The Daybreak - Seeking protection from evil"},{id:4,surah:"An-Nas",number:114,verses:6,duration:"1:40",mp3Url:"https://server8.mp3quran.net/afs/114.mp3",description:"Mankind - Protection from whispers"},{id:5,surah:"Al-Asr",number:103,verses:3,duration:"1:20",mp3Url:"https://server8.mp3quran.net/afs/103.mp3",description:"Time - The importance of faith and good deeds"},{id:6,surah:"Al-Kawthar",number:108,verses:3,duration:"1:15",mp3Url:"https://server8.mp3quran.net/afs/108.mp3",description:"Abundance - Allah's gift to the Prophet "}];function fF(){const[t,e]=v.useState(null),[n,r]=v.useState(.7),[i,a]=v.useState(!1),o=v.useRef({}),c=m=>{const f=o.current[m];if(Object.keys(o.current).forEach(g=>{g!==m.toString()&&o.current[g]&&o.current[g].pause()}),t===m)f.pause(),e(null);else{if(!f.src){const g=KI.find(x=>x.id===m);f.src=g.mp3Url}f.volume=i?0:n,f.play(),e(m)}f.onended=()=>{e(null)}},d=m=>{const f=parseFloat(m.target.value);r(f),a(f===0),Object.values(o.current).forEach(g=>{g&&(g.volume=f)})},h=()=>{const m=!i;a(m),Object.values(o.current).forEach(f=>{f&&(f.volume=m?0:n)})};return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Audio Tafsir for Kids"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Listen to recitations of short surahs"})]}),s.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},className:"mb-8 max-w-xs mx-auto",children:s.jsx(ne,{className:"bg-gradient-to-r from-blue-50 to-purple-50",children:s.jsx(se,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:h,className:"text-blue-600 hover:text-blue-700",children:i||n===0?s.jsx(nf,{className:"w-6 h-6"}):s.jsx(El,{className:"w-6 h-6"})}),s.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:i?0:n,onChange:d,className:"flex-1 h-2 bg-blue-200 rounded-lg appearance-none cursor-pointer"}),s.jsxs("span",{className:"text-sm text-gray-600 w-12 text-right",children:[Math.round((i?0:n)*100),"%"]})]})})})}),s.jsx("div",{className:"grid gap-6",children:KI.map((m,f)=>s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:f*.1},children:s.jsx(ne,{className:"hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:s.jsxs(se,{className:"p-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-4 md:gap-6",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-20 h-20 rounded-2xl bg-gradient-to-br from-green-500 to-teal-500 flex items-center justify-center text-white font-bold text-2xl",children:m.number})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-1",children:["Surah ",m.surah]}),s.jsx("p",{className:"text-gray-600 mb-2",children:m.description}),s.jsxs("div",{className:"flex gap-4 text-sm text-gray-500",children:[s.jsxs("span",{children:[" ",m.verses," verses"]}),s.jsxs("span",{children:[" ",m.duration]})]})]}),s.jsx(G,{onClick:()=>c(m.id),className:`${t===m.id?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"}`,children:t===m.id?s.jsxs(s.Fragment,{children:[s.jsx(zl,{className:"w-5 h-5 mr-2"}),"Pause"]}):s.jsxs(s.Fragment,{children:[s.jsx(hr,{className:"w-5 h-5 mr-2"}),"Listen"]})})]}),s.jsx("audio",{ref:g=>o.current[m.id]=g,preload:"none"})]})})},m.id))}),s.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-12",children:s.jsx(ne,{className:"bg-gradient-to-r from-blue-50 to-purple-50 border-2 border-blue-300",children:s.jsxs(se,{className:"p-8 text-center",children:[s.jsx(lo,{className:"w-16 h-16 mx-auto mb-4 text-blue-600"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"More Tafsir Lessons Coming Soon!"}),s.jsx("p",{className:"text-gray-700",children:"We're working on adding more surahs with simple, kid-friendly explanations."})]})})})]})})}const Tfe=[{id:1,fact:"The Quran has 114 chapters (surahs) and over 6,000 verses!",emoji:"",category:"Quran"},{id:2,fact:"Muslims pray 5 times a day facing the Ka'bah in Mecca.",emoji:"",category:"Prayer"},{id:3,fact:"The month of Ramadan is when Muslims fast from sunrise to sunset.",emoji:"",category:"Ramadan"},{id:4,fact:"There are 25 prophets mentioned by name in the Quran.",emoji:"",category:"Prophets"},{id:5,fact:"Angel Jibreel (Gabriel) brought the Quran's revelations to Prophet Muhammad .",emoji:"",category:"Angels"},{id:6,fact:"Muslims greet each other with 'Assalamu Alaikum' which means 'Peace be upon you'.",emoji:"",category:"Manners"},{id:7,fact:"The Ka'bah was built by Prophet Ibrahim and his son Ismail (peace be upon them).",emoji:"",category:"History"},{id:8,fact:"Giving charity (Zakat) is one of the 5 pillars of Islam.",emoji:"",category:"Pillars"},{id:9,fact:"The Islamic calendar is based on the moon and has 12 months.",emoji:"",category:"Calendar"},{id:10,fact:"Prophet Muhammad  was known as 'Al-Amin' (The Trustworthy) even before prophethood.",emoji:"",category:"Seerah"}];function pF(){return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Did You Know?"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Fun and amazing Islamic facts for curious minds!"})]}),s.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:Tfe.map((t,e)=>s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:e*.1},children:s.jsx(ne,{className:"h-full hover:shadow-xl transition-all duration-300 hover:-translate-y-1 border-2 border-amber-200 bg-gradient-to-br from-amber-50 to-orange-50",children:s.jsx(se,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"text-5xl flex-shrink-0",children:t.emoji}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"mb-2",children:s.jsx("span",{className:"text-xs bg-amber-200 text-amber-800 px-3 py-1 rounded-full font-semibold",children:t.category})}),s.jsx("p",{className:"text-lg text-gray-800 leading-relaxed",children:t.fact})]})]})})})},t.id))}),s.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-12",children:s.jsx(ne,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white border-4 border-purple-300 shadow-2xl",children:s.jsxs(se,{className:"p-8 text-center",children:[s.jsx(zt,{className:"w-16 h-16 mx-auto mb-4"}),s.jsx("h3",{className:"text-2xl font-bold mb-3",children:"Keep Learning Every Day!"}),s.jsx("p",{className:"text-lg",children:"Come back regularly to discover more amazing Islamic facts! "})]})})})]})})}const Afe=[{id:"quran_tracing_1",title:"Surah Al-Fatiha Tracing",category:"Quran Tracing",description:"Trace and learn Surah Al-Fatiha in Arabic",level:"Beginner",pages:3,fileUrl:"https://www.islamicfinder.org/islamic-content/",color:"from-green-500 to-teal-500",icon:""},{id:"arabic_alphabet",title:"Arabic Alphabet Workbook",category:"Arabic Learning",description:"Learn all 28 Arabic letters with tracing",level:"Beginner",pages:28,fileUrl:"https://www.arabicworksheets.com/",color:"from-blue-500 to-indigo-500",icon:""},{id:"99_names_coloring",title:"99 Names of Allah Coloring",category:"Coloring",description:"Color and memorize Allah's beautiful names",level:"All Ages",pages:10,fileUrl:"https://www.islamiccoloring.com/",color:"from-purple-500 to-pink-500",icon:""},{id:"prophet_stories",title:"Stories of Prophets Activity Book",category:"Seerah",description:"Activities and worksheets about Prophet stories",level:"Ages 7-12",pages:15,fileUrl:"https://www.islamicworksheets.net/",color:"from-amber-500 to-orange-500",icon:""},{id:"salah_guide",title:"How to Pray - Step by Step",category:"Fiqh",description:"Visual guide with pictures for each step of prayer",level:"All Ages",pages:8,fileUrl:"https://www.islamicposter.com/salah-guide",color:"from-rose-500 to-pink-500",icon:""},{id:"wudu_worksheet",title:"Wudu Step-by-Step Worksheet",category:"Fiqh",description:"Learn the steps of ablution with pictures",level:"Ages 5-10",pages:4,fileUrl:"https://www.muslimkidsactivities.com/",color:"from-cyan-500 to-blue-500",icon:""},{id:"dua_coloring",title:"Daily Duas Coloring Book",category:"Duas",description:"Beautiful duas with coloring illustrations",level:"Ages 5-10",pages:12,fileUrl:"https://www.islamickidsactivities.com/",color:"from-pink-500 to-purple-500",icon:""},{id:"hadith_matching",title:"Hadith Matching Game",category:"Hadith",description:"Match hadiths with their meanings",level:"Ages 8-12",pages:6,fileUrl:"https://www.hadithforkids.com/",color:"from-indigo-500 to-purple-500",icon:""},{id:"ramadan_activities",title:"Ramadan Activity Pack",category:"Special Occasions",description:"Fun activities for the blessed month",level:"All Ages",pages:20,fileUrl:"https://www.ramadanworksheets.com/",color:"from-amber-400 to-yellow-500",icon:""},{id:"hijri_calendar",title:"Islamic Months Learning Sheet",category:"General Knowledge",description:"Learn the names of Islamic months",level:"Ages 7-12",pages:4,fileUrl:"https://www.islamicmonths.com/",color:"from-gray-500 to-gray-700",icon:""},{id:"arabic_numbers",title:"Arabic Numbers Worksheet",category:"Arabic Learning",description:"Learn to write numbers 1-20 in Arabic",level:"Beginner",pages:5,fileUrl:"https://www.arabicnumbers.com/",color:"from-blue-400 to-cyan-500",icon:""},{id:"pillars_of_islam",title:"5 Pillars of Islam Worksheet",category:"Islamic Knowledge",description:"Learn about the 5 pillars with activities",level:"Ages 7-12",pages:8,fileUrl:"https://www.islamicpillars.com/",color:"from-green-400 to-emerald-500",icon:""}];function gF(){const[t,e]=v.useState(null),n=async i=>{e(i.id),await new Promise(a=>setTimeout(a,1e3)),pt.success(`Downloaded: ${i.title}`),pt.info("Note: This is a demo. Connect to actual worksheet files for production."),window.open(i.fileUrl,"_blank"),e(null)},r=i=>{pt.info(`Opening ${i.title} for printing...`),window.open(i.fileUrl,"_blank")};return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Printable Islamic Worksheets"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Download and print Islamic worksheets for your children!"})]}),s.jsx(te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-12",children:s.jsx(ne,{className:"border-4 border-blue-200 bg-gradient-to-r from-blue-50 to-purple-50",children:s.jsxs(se,{className:"p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-blue-900 mb-3",children:"For Parents & Teachers"}),s.jsxs("ul",{className:"space-y-2 text-blue-800",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"All worksheets are designed for kids ages 5-12"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"Perfect for homeschooling, Islamic schools, or weekend classes"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"Free to download and print!"})]})]})]})})}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12",children:Afe.map((i,a)=>s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:a*.1},children:s.jsxs(ne,{className:"h-full hover:shadow-xl transition-all duration-300 border-2 border-gray-100",children:[s.jsx(Le,{className:`bg-gradient-to-br ${i.color} text-white`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"text-5xl",children:i.icon}),s.jsx(Fe,{className:"text-xl",children:i.title})]})}),s.jsxs(se,{className:"p-6",children:[s.jsx("p",{className:"text-gray-600 mb-2",children:i.description}),s.jsxs("div",{className:"flex items-center gap-2 mb-4 text-sm text-gray-500",children:[s.jsx(dn,{className:"w-4 h-4"}),s.jsxs("span",{children:[i.pages," pages  ",i.level]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(G,{onClick:()=>n(i),disabled:t===i.id,className:"flex-1 bg-blue-600 hover:bg-blue-700",size:"sm",children:t===i.id?s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Downloading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(No,{className:"w-4 h-4 mr-2"}),"Download"]})}),s.jsx(G,{onClick:()=>r(i),variant:"outline",size:"sm",children:s.jsx(zR,{className:"w-4 h-4"})})]})]})]})},i.id))}),s.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:s.jsx(ne,{className:"border-4 border-amber-300 bg-gradient-to-r from-amber-50 to-yellow-50",children:s.jsxs(se,{className:"p-8 text-center",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"More Worksheets Coming Soon!"}),s.jsx("p",{className:"text-lg text-gray-700 mb-6 max-w-2xl mx-auto",children:"We're constantly adding new Islamic worksheets and activities. Check back regularly for updates!"})]})})})]})})}function fS({title:t,mp3Url:e,coverImage:n,onPlayComplete:r,allowDownload:i=!0,autoplay:a=!1}){const[o,c]=v.useState(!1),[d,h]=v.useState(0),[m,f]=v.useState(0),[g,x]=v.useState(1),[_,w]=v.useState(null),[j,N]=v.useState(null);v.useEffect(()=>{if(!e){w("No audio URL provided");return}const C=new Audio(e);return N(C),C.addEventListener("loadedmetadata",()=>{f(C.duration)}),C.addEventListener("timeupdate",()=>{h(C.currentTime)}),C.addEventListener("ended",()=>{c(!1),r&&r()}),a&&(C.play(),c(!0)),()=>{C.pause(),C.src=""}},[e,a,r]);const E=()=>{j&&(o?j.pause():j.play(),c(!o))},k=()=>{if(e){const C=document.createElement("a");C.href=e,C.download=t||"audio",C.click()}};return _?s.jsxs("div",{className:"text-red-500",children:["Error: ",_]}):s.jsx(ne,{className:"p-6",children:s.jsxs(te.div,{initial:{opacity:0},animate:{opacity:1},children:[n&&s.jsx("img",{src:n,alt:t,className:"w-full h-48 object-cover rounded-lg mb-4"}),s.jsx("h3",{className:"text-xl font-bold mb-4",children:t}),s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsxs(G,{onClick:E,className:"flex-1",children:[o?s.jsx(zl,{className:"w-4 h-4 mr-2"}):s.jsx(hr,{className:"w-4 h-4 mr-2"}),o?"Pause":"Play"]}),i&&s.jsx(G,{onClick:k,variant:"outline",children:s.jsx(No,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[g>0?s.jsx(El,{className:"w-4 h-4"}):s.jsx(nf,{className:"w-4 h-4"}),s.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:g,onChange:C=>{const P=parseFloat(C.target.value);x(P),j&&(j.volume=P)},className:"flex-1"})]}),s.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[Math.floor(d/60),":",String(Math.floor(d%60)).padStart(2,"0")," /",Math.floor(m/60),":",String(Math.floor(m%60)).padStart(2,"0")]})]})})}fS.propTypes={title:It.string.isRequired,mp3Url:It.string,coverImage:It.string,onPlayComplete:It.func,allowDownload:It.bool,autoplay:It.bool};function xF(){const[t,e]=v.useState(""),[n,r]=v.useState("all"),[i,a]=v.useState("all"),[o,c]=v.useState(null),[d,h]=v.useState(null),{data:m=[],isLoading:f}=vn({queryKey:["audioContent"],queryFn:()=>Xe.entities.AudioContent.list("-created_date"),initialData:[]}),{data:g=[]}=vn({queryKey:["featuredAudio"],queryFn:async()=>(await Xe.entities.AudioContent.list("-plays_count",5)).filter(E=>E.featured),initialData:[]}),x=m.filter(N=>{var P,F;const E=N.title.toLowerCase().includes(t.toLowerCase())||((P=N.description)==null?void 0:P.toLowerCase().includes(t.toLowerCase()))||((F=N.tags)==null?void 0:F.some(D=>D.toLowerCase().includes(t.toLowerCase()))),k=n==="all"||N.category===n,C=i==="all"||N.age_group===i;return E&&k&&C}),_=async N=>{c(N),h(N.id);try{await Xe.entities.AudioContent.update(N.id,{plays_count:(N.plays_count||0)+1})}catch(E){console.error("Error updating play count:",E)}},w=[{value:"all",label:"All Ages"},{value:"3-6",label:"Ages 3-6"},{value:"7-10",label:"Ages 7-10"},{value:"11+",label:"Ages 11+"}],j=[{value:"all",label:"All Categories"},{value:"story",label:"Stories"},{value:"hadith",label:"Hadith"},{value:"history",label:"History"},{value:"nasheed",label:"Nasheeds"},{value:"tajweed",label:"Tajweed"},{value:"fiqh",label:"Fiqh"},{value:"quran",label:"Quran"}];return s.jsx("div",{className:"min-h-screen py-8 md:py-12 px-2 md:px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8 md:mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-gray-900 mb-4",children:"Islamic Audio Library"}),s.jsx("p",{className:"text-base md:text-lg text-gray-600 max-w-2xl mx-auto",children:"Listen to stories, lessons, and nasheeds that teach Islamic values"})]}),g.length>0&&s.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(zt,{className:"w-6 h-6 text-amber-500"}),"Featured Content"]}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:g.slice(0,3).map((N,E)=>s.jsx(te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:E*.1},children:s.jsxs(ne,{className:"overflow-hidden hover:shadow-xl transition-shadow border-2 border-amber-200",children:[N.cover_image&&s.jsx("div",{className:"h-40 overflow-hidden",children:s.jsx("img",{src:N.cover_image,alt:N.title,className:"w-full h-full object-cover"})}),s.jsxs(se,{className:"p-4",children:[s.jsx("h3",{className:"font-bold text-lg mb-2 line-clamp-1",children:N.title}),s.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:N.description}),s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsx(we,{className:"text-xs",children:N.duration}),s.jsx(we,{variant:"outline",className:"text-xs",children:N.age_group})]}),s.jsx(G,{onClick:()=>_(N),size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:s.jsx(hr,{className:"w-4 h-4"})})]})]})]})},N.id))})]}),s.jsx(ne,{className:"mb-8 shadow-lg",children:s.jsx(se,{className:"p-4 md:p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(uo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx(Te,{placeholder:"Search by title, theme, or tags...",value:t,onChange:N=>e(N.target.value),className:"pl-10"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(tn,{value:n,onValueChange:r,children:[s.jsx(Gt,{className:"w-full md:w-[180px]",children:s.jsx(nn,{placeholder:"Category"})}),s.jsx(Qt,{children:j.map(N=>s.jsx(Re,{value:N.value,children:N.label},N.value))})]}),s.jsxs(tn,{value:i,onValueChange:a,children:[s.jsx(Gt,{className:"w-full md:w-[150px]",children:s.jsx(nn,{placeholder:"Age Group"})}),s.jsx(Qt,{children:w.map(N=>s.jsx(Re,{value:N.value,children:N.label},N.value))})]})]})]})})}),o&&s.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[s.jsx("h3",{className:"text-xl font-bold mb-4",children:"Now Playing"}),s.jsx(fS,{title:o.title,mp3Url:o.mp3_url,youtubeId:o.youtube_id,coverImage:o.cover_image,allowDownload:o.allow_download,onPlayComplete:()=>console.log("Audio completed")}),s.jsx(ne,{className:"mt-4 p-4",children:s.jsxs("div",{className:"space-y-4",children:[o.description&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"About"}),s.jsx("p",{className:"text-gray-700",children:o.description})]}),o.moral_lesson&&s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border-l-4 border-blue-500",children:[s.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Moral Lesson"}),s.jsx("p",{className:"text-blue-800",children:o.moral_lesson})]}),o.transcript&&s.jsxs("details",{className:"cursor-pointer",children:[s.jsxs("summary",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[s.jsx(dn,{className:"w-4 h-4"}),"Read Transcript"]}),s.jsx("div",{className:"mt-2 p-4 bg-gray-50 rounded-lg whitespace-pre-wrap text-sm text-gray-700",children:o.transcript})]}),o.license_source&&s.jsx("div",{className:"text-xs text-gray-500",children:s.jsxs("p",{children:["Source: ",o.license_source]})})]})})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-2xl font-bold mb-6",children:["All Audio Content (",x.length,")"]}),f?s.jsx("div",{className:"text-center py-12 text-gray-500",children:"Loading audio content..."}):x.length===0?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"No audio content found. Try adjusting your filters."})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map((N,E)=>s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:E*.05},children:s.jsxs(ne,{className:`hover:shadow-xl transition-all ${d===N.id?"border-2 border-blue-500":""}`,children:[N.cover_image&&s.jsx("div",{className:"h-48 overflow-hidden",children:s.jsx("img",{src:N.cover_image,alt:N.title,className:"w-full h-full object-cover"})}),s.jsxs(se,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[s.jsx("h3",{className:"font-bold text-lg line-clamp-2 flex-1",children:N.title}),N.status==="broken"&&s.jsx(we,{variant:"destructive",className:"text-xs",children:"Unavailable"})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-3",children:N.description}),s.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[N.duration&&s.jsx(we,{variant:"outline",className:"text-xs",children:N.duration}),N.age_group&&s.jsx(we,{variant:"outline",className:"text-xs",children:N.age_group}),N.category&&s.jsx(we,{className:"text-xs capitalize",children:N.category})]}),N.tags&&N.tags.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:N.tags.slice(0,3).map((k,C)=>s.jsxs("span",{className:"text-xs text-blue-600",children:["#",k]},C))}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(G,{onClick:()=>_(N),className:"flex-1 bg-blue-600 hover:bg-blue-700",disabled:N.status==="broken"&&!N.youtube_id,children:[s.jsx(hr,{className:"w-4 h-4 mr-2"}),d===N.id?"Playing":"Listen"]}),N.allow_download&&N.mp3_url&&s.jsx(G,{variant:"outline",size:"icon",onClick:()=>window.open(N.mp3_url,"_blank"),children:s.jsx(No,{className:"w-4 h-4"})})]})]})]})},N.id))})]})]})})}const dw=[{value:"1",name:"Sahih Bukhari",color:"from-green-600 to-emerald-600"},{value:"2",name:"Sahih Muslim",color:"from-blue-600 to-cyan-600"},{value:"3",name:"Sunan Abu Dawud",color:"from-orange-600 to-amber-600"},{value:"4",name:"Jami' at-Tirmidhi",color:"from-purple-600 to-pink-600"},{value:"5",name:"Sunan an-Nasa'i",color:"from-red-600 to-rose-600"},{value:"6",name:"Sunan Ibn Majah",color:"from-indigo-600 to-purple-600"},{value:"7",name:"Muwatta Malik",color:"from-teal-600 to-cyan-600"},{value:"8",name:"Musnad Ahmad",color:"from-amber-600 to-orange-600"}],hw=[{id:1,arabic:"       ",english:"Actions are judged by intentions, and every person will get the reward according to what he intended.",reference:"Sahih Bukhari & Muslim",narrator:"Umar ibn Al-Khattab (RA)",kidsAdvice:"Always do good things because you want to make Allah happy, not to show off to others!"},{id:2,arabic:"    ",english:"The best among you are those who learn the Quran and teach it.",reference:"Sahih Bukhari",narrator:"Uthman (RA)",kidsAdvice:"Learning Quran is amazing! And when you help others learn it too, you become even more special to Allah."},{id:3,arabic:"    ",english:"Your smile in the face of your brother is charity.",reference:"Jami' at-Tirmidhi",narrator:"Abu Dharr (RA)",kidsAdvice:"Smiling at people is free but makes everyone happy! Even a smile counts as a good deed!"},{id:4,arabic:"        ",english:"None of you truly believes until he loves for his brother what he loves for himself.",reference:"Sahih Bukhari & Muslim",narrator:"Anas ibn Malik (RA)",kidsAdvice:"Want good things for your friends just like you want them for yourself. Share happiness and toys!"},{id:5,arabic:"        ",english:"A strong believer is better and more beloved to Allah than a weak believer.",reference:"Sahih Muslim",narrator:"Abu Hurairah (RA)",kidsAdvice:"Being strong means having strong faith, good character, and helping others - not just being physically strong!"},{id:6,arabic:"  ",english:"The best of you are those who are best to their families.",reference:"Sahih Muslim & Tirmidhi",narrator:"Abu Hurairah (RA)",kidsAdvice:"Be kind and helpful to your parents, brothers, and sisters. Your family is very special!"},{id:7,arabic:"  ",english:"A good word is charity.",reference:"Sahih Bukhari & Muslim",narrator:"Abu Hurairah (RA)",kidsAdvice:"Saying nice things to people like 'thank you' and 'please' is a good deed that Allah loves!"},{id:8,arabic:"       ",english:"He will not enter Paradise whose neighbor is not secure from his wrongful conduct.",reference:"Sahih Muslim",narrator:"Abu Hurairah (RA)",kidsAdvice:"Always be nice to your neighbors! Don't be noisy or do things that bother them."},{id:9,arabic:"         ",english:"Whoever believes in Allah and the Last Day should speak good or remain silent.",reference:"Sahih Bukhari & Muslim",narrator:"Abu Hurairah (RA)",kidsAdvice:"If you don't have something nice to say, it's better to stay quiet. Don't say mean things!"},{id:10,arabic:"      ",english:"Allah is Good and accepts only that which is good.",reference:"Sahih Muslim",narrator:"Abu Hurairah (RA)",kidsAdvice:"Always do things with a clean heart and good intentions. Allah loves when we are pure and honest!"}];function yF(){const[t,e]=v.useState(""),[n,r]=v.useState({1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!1,8:!1}),[i,a]=v.useState(null),o=()=>{const f=new Date,g=new Date(f.getFullYear(),0,1),x=f-g,_=1e3*60*60*24*7;return Math.floor(x/_)};v.useEffect(()=>{const g=o()%hw.length;a(hw[g])},[]);const c=f=>{f.preventDefault();const g=Object.entries(n).filter(([_,w])=>w).map(([_,w])=>_).join(","),x=`https://www.searchtruth.com/searchHadith.php?keyword=${encodeURIComponent(t)}&book=${g}&translator=1&search=1`;window.open(x,"_blank")},d=f=>{r(g=>({...g,[f]:!g[f]}))},h=()=>{const f={};dw.forEach(g=>{f[g.value]=!0}),r(f)},m=()=>{const f={};dw.forEach(g=>{f[g.value]=!1}),r(f)};return s.jsx("div",{className:"min-h-screen py-8 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Hadith Library"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Learn authentic hadiths from Prophet Muhammad () - Changes every week!"})]}),i&&s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-12",children:s.jsxs(ne,{className:"border-4 border-amber-400 shadow-2xl bg-gradient-to-br from-amber-50 to-orange-50",children:[s.jsxs(Le,{className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white",children:[s.jsxs(Fe,{className:"text-2xl flex items-center gap-2 justify-center",children:[s.jsx(zt,{className:"w-6 h-6"}),"Hadith of This Week",s.jsx(zt,{className:"w-6 h-6"})]}),s.jsx("p",{className:"text-center text-amber-100 text-sm mt-2",children:"Changes every Monday!"})]}),s.jsxs(se,{className:"p-8",children:[s.jsx("div",{className:"mb-6 text-center bg-white p-6 rounded-xl border-2 border-amber-200",children:s.jsx("p",{className:"text-3xl md:text-4xl lg:text-5xl leading-loose text-gray-900 mb-2",style:{fontFamily:"'Amiri', 'Scheherazade New', 'Traditional Arabic', 'Arabic Typesetting', serif",lineHeight:"2.5",direction:"rtl"},children:i.arabic})}),s.jsxs("div",{className:"mb-6 bg-white p-6 rounded-xl border-2 border-amber-200",children:[s.jsxs("p",{className:"text-lg md:text-xl text-gray-800 leading-relaxed italic",children:['"',i.english,'"']}),s.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[s.jsx(we,{className:"bg-amber-600 text-white",children:i.reference}),s.jsxs(we,{variant:"outline",className:"border-amber-600 text-amber-700",children:["Narrator: ",i.narrator]})]})]}),s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-6 rounded-xl border-2 border-blue-200",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(ah,{className:"w-6 h-6 text-blue-600 flex-shrink-0 mt-1"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-lg text-gray-900 mb-2",children:" For Kids:"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:i.kidsAdvice})]})]})})]})]})}),s.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6 text-center",children:" Learn These 10 Beautiful Hadiths"}),s.jsx("div",{className:"grid gap-6",children:hw.map((f,g)=>s.jsx(te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:g*.1},children:s.jsx(ne,{className:"hover:shadow-xl transition-all border-2 border-gray-200 hover:border-blue-300",children:s.jsx(se,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[s.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-purple-500 text-white w-10 h-10 rounded-full flex items-center justify-center font-bold flex-shrink-0",children:g+1}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-6 rounded-xl border-2 border-green-200 mb-4",children:s.jsx("p",{className:"text-2xl md:text-3xl lg:text-4xl leading-loose text-gray-900",style:{fontFamily:"'Amiri', 'Scheherazade New', 'Traditional Arabic', 'Arabic Typesetting', serif",lineHeight:"2.5",direction:"rtl",textAlign:"right"},children:f.arabic})}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-4",children:[s.jsxs("p",{className:"text-base md:text-lg text-gray-800 leading-relaxed italic",children:['"',f.english,'"']}),s.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[s.jsx(we,{className:"bg-green-600",children:f.reference}),s.jsx(we,{variant:"outline",children:f.narrator})]})]}),s.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border-l-4 border-blue-500",children:s.jsxs("p",{className:"text-sm md:text-base text-gray-700",children:[s.jsx("strong",{className:"text-blue-700",children:" Lesson:"})," ",f.kidsAdvice]})})]})]})})})},f.id))})]}),s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8",children:s.jsxs(ne,{className:"border-2 border-blue-200 shadow-xl",children:[s.jsxs(Le,{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:[s.jsxs(Fe,{className:"text-2xl flex items-center gap-2",children:[s.jsx(uo,{className:"w-6 h-6"}),"Search More Hadiths"]}),s.jsx("p",{className:"text-blue-100 text-sm mt-2",children:"Search thousands of authentic hadiths"})]}),s.jsx(se,{className:"p-6",children:s.jsxs("form",{onSubmit:c,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Enter keyword or topic"}),s.jsx(Te,{type:"text",value:t,onChange:f=>e(f.target.value),placeholder:"e.g., prayer, charity, kindness...",className:"text-base",required:!0})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Select Hadith Books"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(G,{type:"button",variant:"outline",size:"sm",onClick:h,children:"Select All"}),s.jsx(G,{type:"button",variant:"outline",size:"sm",onClick:m,children:"Deselect All"})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:dw.map(f=>s.jsx("div",{onClick:()=>d(f.value),className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${n[f.value]?`bg-gradient-to-r ${f.color} text-white border-transparent shadow-lg`:"bg-white border-gray-200 hover:border-blue-300"}`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-6 h-6 rounded border-2 flex items-center justify-center ${n[f.value]?"bg-white border-white":"border-gray-300"}`,children:n[f.value]&&s.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{d:"M5 13l4 4L19 7"})})}),s.jsx("span",{className:"font-semibold",children:f.name})]})},f.value))})]}),s.jsxs(G,{type:"submit",size:"lg",className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-lg",disabled:!t.trim()||Object.values(n).every(f=>!f),children:[s.jsx(uo,{className:"w-5 h-5 mr-2"}),"Search Hadiths",s.jsx(vd,{className:"w-4 h-4 ml-2"})]}),s.jsx("p",{className:"text-sm text-gray-500 text-center",children:"Powered by SearchTruth.com"})]})})]})}),s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:s.jsxs(ne,{className:"bg-gradient-to-br from-green-50 to-emerald-50 border-2 border-green-200",children:[s.jsx(Le,{children:s.jsx(Fe,{className:"text-2xl",children:"About Hadiths"})}),s.jsxs(se,{className:"space-y-3",children:[s.jsxs("p",{className:"text-gray-700",children:[s.jsx("strong",{children:"Hadiths"})," are the sayings and actions of Prophet Muhammad (). They teach us how to be good Muslims and follow Allah's path."]}),s.jsxs("p",{className:"text-gray-700",children:["The most authentic collections are ",s.jsx("strong",{children:"Sahih Bukhari"})," and ",s.jsx("strong",{children:"Sahih Muslim"}),", which have been carefully verified by Islamic scholars."]}),s.jsx("p",{className:"text-gray-700",children:"Learning hadiths helps us understand the Quran better and know how to live like the Prophet () taught us."})]})]})})]})})}const Ife=[{id:1,category:"Prophets",title:"Prophet Ibrahim (AS) and the Idols",summary:"Learn about Prophet Ibrahim's bravery when he destroyed the idols",content:`Prophet Ibrahim (AS) lived among people who worshipped idols made of stone and wood. He knew this was wrong because only Allah deserves to be worshipped.

One day, when everyone went to a festival, Prophet Ibrahim (AS) went to the temple. He broke all the idols except the biggest one, and placed the axe in its hand!

When people returned and asked who did this, Prophet Ibrahim (AS) pointed to the biggest idol and said, "Ask him, if he can speak!" 

The people realized their idols couldn't speak, move, or do anything. This made them think about how foolish it was to worship them.`,moral:"We should worship only Allah and have courage to stand for what is right.",image:"https://images.unsplash.com/photo-1564769625905-50e93615e769?w=800",audioUrl:"",ageGroup:"7-10"},{id:2,category:"Prophets",title:"Prophet Yusuf (AS) in the Well",summary:"The story of Prophet Yusuf and his jealous brothers",content:`Prophet Yusuf (AS) was dearly loved by his father, Prophet Yaqub (AS). His brothers became jealous and made a plan to get rid of him.

They threw young Yusuf into a deep, dark well! But Allah protected him. Travelers found him and took him to Egypt.

Years later, after many trials, Prophet Yusuf (AS) became a powerful leader in Egypt. When his brothers came for help during a famine, he forgave them!`,moral:"Forgiveness is a beautiful quality. Allah always has a plan for us, even in difficult times.",image:"https://images.unsplash.com/photo-1542601906990-b4d3fb778b09?w=800",audioUrl:"",ageGroup:"7-10"},{id:3,category:"Sahabah",title:"Abu Bakr (RA) - The Best Friend",summary:"How Abu Bakr supported the Prophet ",content:`Abu Bakr (RA) was the Prophet Muhammad's  closest friend. When others doubted, he always believed.

When the Prophet  told about his night journey (Isra and Mi'raj), many people didn't believe him. But Abu Bakr (RA) said immediately: "If he said it, then it is true!"

He spent his wealth to help Islam and even accompanied the Prophet  on the dangerous journey to Madinah, hiding in a cave together.`,moral:"True friendship means standing by your friends and believing in them.",image:"https://images.unsplash.com/photo-1564769625905-50e93615e769?w=800",audioUrl:"",ageGroup:"7-10"},{id:4,category:"Makkah & Madinah",title:"The Building of the Kaaba",summary:"Learn about the sacred Kaaba's history",content:`The Kaaba was first built by Prophet Ibrahim (AS) and his son Ismail (AS) thousands of years ago. They built it as a house of worship for Allah.

Prophet Ibrahim (AS) would pray: "O our Lord! I have settled some of my family in a valley without cultivation near Your Sacred House..."

Today, millions of Muslims from around the world face the Kaaba when they pray, and visit it during Hajj.`,moral:"The Kaaba reminds us that all Muslims are united in worshipping Allah.",image:"https://images.unsplash.com/photo-1591604129939-f1efa4d9f7fa?w=800",audioUrl:"",ageGroup:"7-10"},{id:5,category:"Sahabah",title:"Bilal (RA) - The First Muezzin",summary:"The amazing story of Bilal's beautiful voice",content:`Bilal (RA) was once a slave who was tortured for accepting Islam. His master would leave him under the burning sun with a heavy rock on his chest.

But Bilal would only say: "Ahad, Ahad!" meaning "One God, One God!"

When Islam became strong, the Prophet  chose Bilal to be the first person ever to call Muslims to prayer! His beautiful, strong voice echoed through Madinah.`,moral:"No matter where you come from, if you have faith and patience, Allah will honor you.",image:"https://images.unsplash.com/photo-1542601906990-b4d3fb778b09?w=800",audioUrl:"",ageGroup:"7-10"}];function vF(){const[t,e]=v.useState("Prophets"),[n,r]=v.useState(null),i=["Prophets","Sahabah","Makkah & Madinah"],a=Ife.filter(o=>o.category===t);return s.jsx("div",{className:"min-h-screen py-8 md:py-12 px-2 md:px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-gray-900 mb-4",children:"Islamic History"}),s.jsx("p",{className:"text-base md:text-lg text-gray-600 max-w-2xl mx-auto",children:"Amazing stories from Islamic history"})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-8 justify-center",children:i.map(o=>s.jsx(G,{onClick:()=>{e(o),r(null)},variant:t===o?"default":"outline",className:t===o?"bg-blue-600":"",children:o},o))}),n?s.jsxs(te.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},children:[s.jsx(G,{variant:"ghost",onClick:()=>r(null),className:"mb-4",children:" Back to Stories"}),s.jsxs(ne,{className:"shadow-xl",children:[s.jsx(Le,{className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white",children:s.jsx(Fe,{className:"text-2xl",children:n.title})}),s.jsxs(se,{className:"p-6",children:[n.image&&s.jsx("div",{className:"mb-6",children:s.jsx("img",{src:n.image,alt:n.title,className:"w-full h-64 object-cover rounded-lg"})}),n.audioUrl&&s.jsx("div",{className:"mb-6",children:s.jsx(fS,{title:n.title,mp3Url:n.audioUrl,coverImage:n.image})}),s.jsx("div",{className:"prose max-w-none mb-6",children:s.jsx("p",{className:"text-gray-800 leading-relaxed whitespace-pre-line text-lg",children:n.content})}),s.jsxs("div",{className:"bg-green-50 rounded-lg p-6 border-l-4 border-green-500",children:[s.jsx("h4",{className:"font-semibold text-green-900 mb-2",children:" Moral of the Story:"}),s.jsx("p",{className:"text-green-800",children:n.moral})]})]})]})]}):s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map((o,c)=>s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:c*.1},children:s.jsxs(ne,{className:"h-full hover:shadow-xl transition-shadow cursor-pointer",onClick:()=>r(o),children:[o.image&&s.jsx("div",{className:"h-48 overflow-hidden",children:s.jsx("img",{src:o.image,alt:o.title,className:"w-full h-full object-cover"})}),s.jsxs(se,{className:"p-4",children:[s.jsx(we,{className:"mb-3",children:o.category}),s.jsx("h3",{className:"font-bold text-lg mb-2",children:o.title}),s.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:o.summary}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(we,{variant:"outline",className:"text-xs",children:o.ageGroup}),s.jsx(OR,{className:"w-5 h-5 text-blue-600"})]})]})]})},o.id))})]})})}It.string,It.string,It.string,It.string,It.string,It.bool,It.bool,It.bool,It.func;const GI=[{id:"noon_sakinah_idgham",category:"Noon Sakinah & Tanween",title:"Idgham (Merging)",kidExplanation:"Idgham means merging or blending. When noon sakinah () or tanween (  ) comes before these 6 letters:       - you merge them together smoothly!",arabicExample:" ",exampleTranslation:"from their Lord",surahReference:"Al-Baqarah 2:5",ruleHighlight:"The noon in 'min' merges with the 'raa' in 'rabbihim'",whyThisShowsRule:"Notice how the noon sound blends smoothly into the 'r' sound without a pause.",quiz:[{question:"Which letters cause Idgham?",options:["     "," ","","   "],correct:0},{question:"What does Idgham mean?",options:["Hiding","Merging/Blending","Showing clearly","Changing"],correct:1},{question:"In ' ', which rule applies?",options:["Ikhfa","Idgham","Iqlab","Izhar"],correct:1}]},{id:"noon_sakinah_ikhfa",category:"Noon Sakinah & Tanween",title:"Ikhfa (Hiding)",kidExplanation:"Ikhfa means hiding. When noon sakinah or tanween comes before 15 specific letters, you hide the noon sound a little bit - it's between showing and merging!",arabicExample:" ",exampleTranslation:"whoever does",surahReference:"Az-Zalzalah 99:7",ruleHighlight:"The noon in 'man' is hidden before the 'ya' in 'ya'mal'",whyThisShowsRule:"The noon sound is softened and hidden with a slight nasal sound (ghunnah).",quiz:[{question:"How many letters cause Ikhfa?",options:["4","6","15","28"],correct:2},{question:"What does Ikhfa mean?",options:["Merging","Hiding","Showing","Changing"],correct:1},{question:"Is there ghunnah (nasal sound) in Ikhfa?",options:["Yes","No","Sometimes","Never"],correct:0}]},{id:"noon_sakinah_iqlab",category:"Noon Sakinah & Tanween",title:"Iqlab (Changing)",kidExplanation:"Iqlab means changing. When noon sakinah or tanween comes before the letter '' (baa), you change the noon sound to '' (meem) sound!",arabicExample:" ",exampleTranslation:"after",surahReference:"Al-Baqarah 2:27",ruleHighlight:"The noon in 'min' changes to a meem sound before 'ba'd'",whyThisShowsRule:"The noon completely transforms into a meem sound when followed by baa.",quiz:[{question:"Which letter causes Iqlab?",options:[" only"," only"," only"," and "],correct:0},{question:"What sound does noon change to?",options:["Baa","Meem","Noon","Laam"],correct:1},{question:"Is there ghunnah in Iqlab?",options:["Yes","No"],correct:0}]},{id:"noon_sakinah_izhar",category:"Noon Sakinah & Tanween",title:"Izhar (Clear Pronunciation)",kidExplanation:"Izhar means to show clearly. When noon sakinah or tanween comes before the 6 throat letters (     ), you pronounce the noon very clearly!",arabicExample:" ",exampleTranslation:"whoever believes",surahReference:"Al-Baqarah 2:62",ruleHighlight:"The noon in 'man' is pronounced clearly before the hamza () in 'aamana'",whyThisShowsRule:"The noon sound is fully pronounced without any hiding or merging.",quiz:[{question:"How many throat letters cause Izhar?",options:["4","5","6","7"],correct:2},{question:"What does Izhar mean?",options:["Hiding","Merging","Showing clearly","Changing"],correct:2},{question:"Is there ghunnah in Izhar?",options:["Yes","No"],correct:1}]},{id:"meem_sakinah_idgham_shafawi",category:"Meem Sakinah",title:"Idgham Shafawi (Lip Merging)",kidExplanation:"When meem sakinah () comes before another meem (), you merge them together! It's called 'shafawi' because you use your lips to pronounce it.",arabicExample:" ",exampleTranslation:"for them is what",surahReference:"Al-Baqarah 2:25",ruleHighlight:"The meem in 'lahum' merges with the meem in 'ma'",whyThisShowsRule:"Two meems come together and are pronounced as one long meem with ghunnah.",quiz:[{question:"When does Idgham Shafawi happen?",options:["Meem before meem","Meem before baa","Meem before noon","Meem before any letter"],correct:0},{question:"Is there ghunnah in Idgham Shafawi?",options:["Yes","No"],correct:0},{question:"Why is it called 'shafawi'?",options:["It's hidden","Uses the lips","Uses the throat","It's merged"],correct:1}]},{id:"meem_sakinah_ikhfa_shafawi",category:"Meem Sakinah",title:"Ikhfa Shafawi (Lip Hiding)",kidExplanation:"When meem sakinah () comes before '' (baa), you hide the meem sound slightly! Close your lips and make a soft nasal sound.",arabicExample:" ",exampleTranslation:"striking them with stones",surahReference:"Al-Feel 105:4",ruleHighlight:"The meem in 'tarmeehim' is hidden before the baa in 'bihijarah'",whyThisShowsRule:"The meem is softened and pronounced with the lips closed, creating a nasal sound.",quiz:[{question:"Which letter causes Ikhfa Shafawi?",options:["","","","All letters"],correct:1},{question:"How do you pronounce Ikhfa Shafawi?",options:["Clearly","Hidden with ghunnah","Merged","Changed"],correct:1},{question:"What does 'shafawi' mean?",options:["Throat","Lip","Tongue","Nose"],correct:1}]},{id:"qalqalah",category:"Qalqalah",title:"Qalqalah (Echoing Sound)",kidExplanation:"Qalqalah means a bouncing or echoing sound! When these 5 letters have sukoon (), they bounce:     . Remember: 'Qutb Jad'!",arabicExample:"",exampleTranslation:"One (Allah is One)",surahReference:"Al-Ikhlas 112:1",ruleHighlight:"The 'dal' () at the end has qalqalah",whyThisShowsRule:"The letter 'd' bounces when you stop on it, creating an echoing sound.",quiz:[{question:"Which letters have qalqalah?",options:["    ","   ","   ","   "],correct:0},{question:"What does qalqalah mean?",options:["Merging","Bouncing/Echoing","Hiding","Stretching"],correct:1},{question:"How do you remember qalqalah letters?",options:["Qutb Jad","Noon Wa Laam","Meem Baa","Raa Laam"],correct:0}]},{id:"madd_tabee'ee",category:"Madd (Elongation)",title:"Madd Tabee'ee (Natural Elongation)",kidExplanation:"Madd means to stretch or lengthen. Natural madd happens when you see alif (), waw (), or ya () - you stretch the sound for 2 counts!",arabicExample:"",exampleTranslation:"he said",surahReference:"Al-Baqarah 2:30",ruleHighlight:"The alif after 'qaf' creates natural madd",whyThisShowsRule:"The alif stretches the 'a' sound for 2 counts: qaaala.",quiz:[{question:"Which letters create madd?",options:["  ","  "," "," "],correct:0},{question:"How long is natural madd?",options:["1 count","2 counts","4 counts","6 counts"],correct:1},{question:"What does madd mean?",options:["Hiding","Bouncing","Stretching/Lengthening","Merging"],correct:2}]},{id:"laam_shamsiyyah",category:"Laam Rules",title:"Laam Shamsiyyah (Sun Letters)",kidExplanation:"When '' (al) comes before 14 'sun letters', the laam is hidden and the next letter is doubled! Like:  (ash-shams) not (al-shams).",arabicExample:"",exampleTranslation:"The Most Merciful",surahReference:"Al-Fatihah 1:3",ruleHighlight:"The laam in '' is hidden before '', making it 'ar-Rahman' not 'al-Rahman'",whyThisShowsRule:"The 'r' is a sun letter, so the laam is assimilated into it.",quiz:[{question:"How many sun letters are there?",options:["12","13","14","15"],correct:2},{question:"What happens to the laam before sun letters?",options:["It's pronounced clearly","It's hidden","It's changed","It's bounced"],correct:1},{question:"Is '' a sun letter?",options:["Yes","No"],correct:0}]},{id:"laam_qamariyyah",category:"Laam Rules",title:"Laam Qamariyyah (Moon Letters)",kidExplanation:"When '' (al) comes before 14 'moon letters', you pronounce the laam clearly! Like:  (al-qamar).",arabicExample:"",exampleTranslation:"the worlds",surahReference:"Al-Fatihah 1:2",ruleHighlight:"The laam in '' is pronounced clearly before '', making it 'al-'aalameen'",whyThisShowsRule:"The 'ayn' is a moon letter, so the laam is pronounced fully.",quiz:[{question:"How many moon letters are there?",options:["12","13","14","15"],correct:2},{question:"What happens to the laam before moon letters?",options:["It's hidden","It's pronounced clearly","It's merged","It's changed"],correct:1},{question:"Is '' a moon letter?",options:["Yes","No"],correct:0}]},{id:"raa_tafkheem",category:"Raa Rules",title:"Raa Tafkheem (Heavy R)",kidExplanation:"Sometimes the letter '' (raa) is pronounced heavy (with a full mouth). This happens when raa has fatha (), damma (), or comes after these vowels!",arabicExample:"",exampleTranslation:"Lord",surahReference:"Al-Fatihah 1:2",ruleHighlight:"The raa has fatha, so it's pronounced heavy: 'Rabb'",whyThisShowsRule:"The fatha makes the raa sound thick and full.",quiz:[{question:"When is raa heavy?",options:["With kasra always","With fatha or damma","Never","With sukoon always"],correct:1},{question:"What does tafkheem mean?",options:["Light","Heavy/Thick","Hidden","Merged"],correct:1},{question:"In '', is the raa heavy or light?",options:["Heavy","Light"],correct:0}]},{id:"raa_tarqeeq",category:"Raa Rules",title:"Raa Tarqeeq (Light R)",kidExplanation:"Sometimes the letter '' (raa) is pronounced light (with an empty mouth). This happens when raa has kasra () or comes after kasra!",arabicExample:"",exampleTranslation:"provision",surahReference:"Al-Baqarah 2:22",ruleHighlight:"The raa has kasra, so it's pronounced light: 'rizqan'",whyThisShowsRule:"The kasra makes the raa sound thin and light.",quiz:[{question:"When is raa light?",options:["With fatha","With kasra","Never","Always"],correct:1},{question:"What does tarqeeq mean?",options:["Heavy","Light/Thin","Hidden","Bouncing"],correct:1},{question:"In '', is the raa heavy or light?",options:["Heavy","Light"],correct:1}]}];function bF(){const[t,e]=v.useState("All"),[n,r]=v.useState(null),[i,a]=v.useState({}),[o,c]=v.useState(!1),[d,h]=v.useState(-1),[m,f]=v.useState(!1),g=["All","Noon Sakinah & Tanween","Meem Sakinah","Qalqalah","Madd (Elongation)","Laam Rules","Raa Rules"],x=t==="All"?GI:GI.filter(N=>N.category===t),_=(N,E)=>{a({...i,[N]:E})},w=()=>{if(!(n!=null&&n.quiz))return 0;let N=0;return n.quiz.forEach((E,k)=>{i[k]===E.correct&&N++}),N},j=()=>{a({}),c(!1)};return s.jsx("div",{className:"min-h-screen py-8 md:py-12 px-2 md:px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-gray-900 mb-4",children:"Learn Tajweed"}),s.jsx("p",{className:"text-base md:text-lg text-gray-600 max-w-2xl mx-auto",children:"Learn to recite the Quran beautifully with proper pronunciation rules"})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-8 justify-center",children:g.map(N=>s.jsx(G,{onClick:()=>{e(N),r(null)},variant:t===N?"default":"outline",size:"sm",className:t===N?"bg-teal-600":"",children:N},N))}),n?s.jsxs(te.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},children:[s.jsx(G,{variant:"ghost",onClick:()=>{r(null),j(),h(-1)},className:"mb-4",children:" Back to Rules"}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2 space-y-6",children:s.jsxs(ne,{className:"shadow-xl",children:[s.jsx(Le,{className:"bg-gradient-to-r from-teal-500 to-cyan-500 text-white",children:s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[s.jsx(Fe,{className:"text-xl md:text-2xl",children:n.title}),s.jsx(we,{className:"bg-white/20 text-white",children:n.category})]})}),s.jsxs(se,{className:"p-4 md:p-6",children:[s.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 mb-6 border-l-4 border-blue-500",children:[s.jsxs("h4",{className:"font-semibold text-blue-900 mb-2 flex items-center gap-2",children:[" What is ",n.title,"?"]}),s.jsx("p",{className:"text-gray-800 leading-relaxed text-base",children:n.kidExplanation})]}),s.jsxs("div",{className:"bg-amber-50 rounded-lg p-6 mb-6 border-r-4 border-amber-500",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h4",{className:"font-semibold text-amber-900",children:" Quran Example:"}),s.jsxs(G,{variant:"outline",size:"sm",onClick:()=>f(!m),children:[m?"Hide":"Show"," Transliteration"]})]}),s.jsx("div",{className:"text-3xl md:text-4xl text-right mb-3 leading-relaxed",dir:"rtl",children:n.arabicExample}),s.jsx("p",{className:"text-gray-700 mb-2 italic",children:n.exampleTranslation}),s.jsx(we,{variant:"outline",className:"mb-4",children:n.surahReference}),s.jsx("div",{className:"bg-white rounded-lg p-4 mb-4",children:s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("strong",{children:"Why this shows the rule:"})," ",n.whyThisShowsRule]})}),s.jsx("div",{className:"bg-teal-50 rounded-lg p-4",children:s.jsxs("p",{className:"text-sm text-teal-900",children:[s.jsx("strong",{children:" Focus:"})," ",n.ruleHighlight]})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"font-semibold mb-3 text-lg flex items-center gap-2",children:" Listen & Practice"}),s.jsx("div",{className:"bg-purple-50 rounded-lg p-4 mb-4",children:s.jsx("p",{className:"text-sm text-purple-900",children:"Note: Audio recitation coming soon. For now, practice with your teacher or use online Quran recitation resources!"})})]})]})]})}),s.jsx("div",{className:"space-y-6",children:s.jsxs(ne,{className:"shadow-xl sticky top-24",children:[s.jsx(Le,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white",children:s.jsxs(Fe,{className:"text-lg md:text-xl flex items-center gap-2",children:[s.jsx(Hc,{className:"w-5 h-5"}),"Test Your Knowledge"]})}),s.jsx(se,{className:"p-4",children:o?s.jsxs(te.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},children:[s.jsxs("div",{className:"text-center mb-4",children:[s.jsx("div",{className:"text-5xl mb-3",children:w()===n.quiz.length?"":""}),s.jsxs("h3",{className:"text-xl font-bold mb-2",children:["Score: ",w()," / ",n.quiz.length]}),s.jsx("p",{className:"text-gray-600 text-sm",children:w()===n.quiz.length?"Masha'Allah! Perfect score!":"Good try! Review and try again."})]}),s.jsx("div",{className:"space-y-2 mb-4",children:n.quiz.map((N,E)=>{const k=i[E]===N.correct;return s.jsx("div",{className:`p-3 rounded-lg ${k?"bg-green-50":"bg-red-50"}`,children:s.jsxs("div",{className:"flex items-start gap-2",children:[k?s.jsx(oa,{className:"w-4 h-4 text-green-600 flex-shrink-0 mt-0.5"}):s.jsx(gy,{className:"w-4 h-4 text-red-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-xs",children:[s.jsx("p",{className:"font-semibold mb-1",children:N.question}),s.jsxs("p",{className:"text-gray-600",children:["Correct: ",N.options[N.correct]]})]})]})},E)})}),s.jsx(G,{onClick:j,className:"w-full",variant:"outline",children:"Try Again"})]}):s.jsxs("div",{className:"space-y-4",children:[n.quiz.map((N,E)=>s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("p",{className:"font-semibold mb-3 text-sm",children:[E+1,". ",N.question]}),s.jsx("div",{className:"space-y-2",children:N.options.map((k,C)=>s.jsx(G,{onClick:()=>_(E,C),variant:i[E]===C?"default":"outline",className:"w-full justify-start text-left h-auto py-2 text-xs",size:"sm",children:k},C))})]},E)),s.jsx(G,{onClick:()=>c(!0),disabled:Object.keys(i).length!==n.quiz.length,className:"w-full bg-green-600 hover:bg-green-700",children:"Check Answers"})]})})]})})]})]}):s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:s.jsx(gs,{children:x.map((N,E)=>s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:E*.05},children:s.jsxs(ne,{className:"h-full hover:shadow-xl transition-all duration-300 cursor-pointer group",onClick:()=>{r(N),j()},children:[s.jsxs(Le,{className:"pb-3",children:[s.jsx(we,{className:"mb-2 w-fit text-xs",children:N.category}),s.jsx(Fe,{className:"text-lg md:text-xl group-hover:text-teal-600 transition-colors leading-tight",children:N.title})]}),s.jsxs(se,{children:[s.jsx("div",{className:"bg-amber-50 rounded-lg p-3 mb-3",children:s.jsx("p",{className:"text-2xl md:text-3xl text-right",dir:"rtl",children:N.arabicExample})}),s.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mb-3",children:N.kidExplanation}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(we,{variant:"outline",className:"text-xs",children:[N.quiz.length," Quiz Questions"]}),s.jsx(G,{size:"sm",variant:"ghost",className:"text-xs",children:"Learn "})]})]})]})},N.id))})})]})})}function wF(){const t=[{id:"quran",title:"Qur'an Knowledge Quiz",icon:"",description:"Test knowledge of Surahs, verses, and Quranic stories",levels:["Easy","Medium","Hard"],color:"from-green-500 to-teal-500"},{id:"prophets",title:"Prophets & Messengers Quiz",icon:"",description:"Learn about the noble prophets mentioned in the Quran",levels:["Easy","Medium","Hard"],color:"from-blue-500 to-indigo-500"},{id:"seerah",title:"Life of Prophet Muhammad ",icon:"",description:"Questions about the Seerah and the Prophet's life",levels:["Easy","Medium","Hard"],color:"from-purple-500 to-pink-500"},{id:"fiqh",title:"Fiqh & Islamic Practices",icon:"",description:"Salah, fasting, Hajj, and daily Islamic practices",levels:["Easy","Medium","Hard"],color:"from-amber-500 to-orange-500"},{id:"akhlaq",title:"Islamic Manners & Character",icon:"",description:"Good character, honesty, kindness, and respect",levels:["Easy","Medium"],color:"from-rose-500 to-pink-500"},{id:"history",title:"Islamic History Quiz",icon:"",description:"Sahabah, battles, caliphs, and Islamic civilization",levels:["Medium","Hard"],color:"from-cyan-500 to-blue-500"}],e=(r,i)=>{alert(`Downloading ${r} - ${i} quiz... (Feature coming soon!)`)},n=(r,i)=>{alert(`Preparing to print ${r} - ${i} quiz... (Feature coming soon!)`)};return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Printable Islamic Quizzes"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Download and print Islamic quizzes for your children, students, or homeschool!"})]}),s.jsx(te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-12",children:s.jsx(ne,{className:"border-4 border-blue-200 bg-gradient-to-r from-blue-50 to-purple-50",children:s.jsxs(se,{className:"p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-blue-900 mb-3",children:"For Parents & Teachers"}),s.jsxs("ul",{className:"space-y-2 text-blue-800",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"All quizzes are designed for kids ages 5-12"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"Answer keys included for easy grading"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"Perfect for homeschooling, Islamic schools, or weekend classes"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"Free to download and print!"})]})]})]})})}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12",children:t.map((r,i)=>s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:i*.1},children:s.jsxs(ne,{className:"h-full hover:shadow-xl transition-all duration-300 border-2 border-gray-100",children:[s.jsx(Le,{className:`bg-gradient-to-br ${r.color} text-white`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"text-5xl",children:r.icon}),s.jsx(Fe,{className:"text-xl",children:r.title})]})}),s.jsxs(se,{className:"p-6",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:r.description}),s.jsx("div",{className:"space-y-2",children:r.levels.map(a=>s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(G,{onClick:()=>e(r.title,a),className:"flex-1 bg-blue-600 hover:bg-blue-700",size:"sm",children:[s.jsx(No,{className:"w-4 h-4 mr-2"}),a]}),s.jsx(G,{onClick:()=>n(r.title,a),variant:"outline",size:"sm",children:s.jsx(zR,{className:"w-4 h-4"})})]},a))})]})]})},r.id))}),s.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:s.jsx(ne,{className:"border-4 border-green-300 bg-gradient-to-r from-green-50 to-teal-50",children:s.jsxs(se,{className:"p-8 text-center",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Submit Your Own Quiz Questions!"}),s.jsx("p",{className:"text-lg text-gray-700 mb-6 max-w-2xl mx-auto",children:"Have great Islamic quiz questions or crosswords? Share them with us and they might be featured!"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsxs(G,{onClick:()=>window.location.href="mailto:huzaify786@gmail.com?subject=Islamic Quiz Submission",className:"bg-gradient-to-r from-green-500 to-teal-500 hover:from-green-600 hover:to-teal-600",size:"lg",children:[s.jsx(xy,{className:"w-5 h-5 mr-2"}),"Email Your Submission"]}),s.jsx(G,{onClick:()=>window.open("https://wa.me/447447999284?text=I'd like to submit Islamic quiz questions!","_blank"),className:"bg-green-600 hover:bg-green-700",size:"lg",children:" WhatsApp Us"})]})]})})})]})})}const pS=v.createContext(),jF=({children:t})=>{const[e,n]=v.useState(null),[r,i]=v.useState(!1),[a,o]=v.useState(null),c=m=>{a&&a.pause();const f=new Audio(m.url);f.play().catch(g=>{console.error("Error playing audio:",g),pt.error("Could not play audio. Please try another.")}),o(f),n(m),i(!0),f.onended=()=>{i(!1)}},d=()=>{a&&(a.pause(),i(!1))},h=()=>{a&&(a.play(),i(!0))};return s.jsx(pS.Provider,{value:{currentAudio:e,isPlaying:r,playAudio:c,pauseAudio:d,resumeAudio:h},children:t})};jF.propTypes={children:It.node.isRequired};const Rfe={quran:[{id:"fatiha",title:"Surah Al-Fatiha",reciter:"Mishary Rashid Alafasy",url:"https://server8.mp3quran.net/afs/001.mp3",category:"Quran"},{id:"yaseen",title:"Surah Yaseen",reciter:"Mishary Rashid Alafasy",url:"https://server8.mp3quran.net/afs/036.mp3",category:"Quran"},{id:"mulk",title:"Surah Al-Mulk",reciter:"Mishary Rashid Alafasy",url:"https://server8.mp3quran.net/afs/067.mp3",category:"Quran"},{id:"rahman",title:"Surah Ar-Rahman",reciter:"Mishary Rashid Alafasy",url:"https://server8.mp3quran.net/afs/055.mp3",category:"Quran"},{id:"kahf",title:"Surah Al-Kahf",reciter:"Mishary Rashid Alafasy",url:"https://server8.mp3quran.net/afs/018.mp3",category:"Quran"}]},NF=({audio:t})=>{const{currentAudio:e,isPlaying:n,playAudio:r,pauseAudio:i,resumeAudio:a}=v.useContext(pS),o=(e==null?void 0:e.id)===t.id&&n;return s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-5},children:s.jsx(ne,{className:"hover:shadow-xl transition-all duration-300",children:s.jsxs(se,{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:t.title}),t.reciter&&s.jsx("p",{className:"text-sm text-gray-600",children:t.reciter}),t.artist&&s.jsx("p",{className:"text-sm text-gray-600",children:t.artist}),t.narrator&&s.jsx("p",{className:"text-sm text-gray-600",children:t.narrator}),t.speaker&&s.jsx("p",{className:"text-sm text-gray-600",children:t.speaker})]}),s.jsx(we,{className:"bg-gradient-to-r from-green-500 to-teal-500 text-white",children:t.category})]}),t.description&&s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:t.description}),s.jsx("div",{className:"flex gap-2",children:s.jsx(G,{onClick:()=>{o?i():(e==null?void 0:e.id)===t.id?a():r(t)},className:"flex-1 bg-gradient-to-r from-green-500 to-teal-500 hover:from-green-600 hover:to-teal-600",children:o?s.jsxs(s.Fragment,{children:[s.jsx(zl,{className:"w-4 h-4 mr-2"}),"Pause"]}):s.jsxs(s.Fragment,{children:[s.jsx(hr,{className:"w-4 h-4 mr-2"}),(e==null?void 0:e.id)===t.id?"Resume":"Play"]})})})]})})})};NF.propTypes={audio:It.shape({id:It.string.isRequired,title:It.string.isRequired,url:It.string.isRequired,reciter:It.string,artist:It.string,narrator:It.string,speaker:It.string,category:It.string.isRequired,description:It.string}).isRequired};function Pfe(){var r;const[t,e]=v.useState("quran"),n=[{id:"quran",name:"Quran Recitations",icon:"",description:"Listen to beautiful Quran recitations"}];return s.jsxs("div",{className:"min-h-screen py-12 px-4",children:[s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Islamic Multimedia"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Listen to beautiful Quran recitations"})]}),s.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-12",children:n.map(i=>s.jsxs(G,{onClick:()=>e(i.id),variant:t===i.id?"default":"outline",className:`${t===i.id?"bg-gradient-to-r from-green-500 to-teal-500 text-white":""}`,size:"lg",children:[s.jsx("span",{className:"text-2xl mr-2",children:i.icon}),i.name]},i.id))}),s.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:(r=Rfe[t])==null?void 0:r.map(i=>s.jsx(NF,{audio:i},i.id))},t)]}),s.jsx(Dfe,{})]})}const Dfe=()=>{const{currentAudio:t,isPlaying:e,pauseAudio:n,resumeAudio:r}=v.useContext(pS);return t?s.jsx(te.div,{initial:{y:100},animate:{y:0},className:"fixed bottom-0 left-0 right-0 bg-gradient-to-r from-green-600 to-teal-600 text-white p-4 shadow-2xl z-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(El,{className:"w-6 h-6"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold",children:t.title}),t.reciter&&s.jsx("p",{className:"text-sm opacity-90",children:t.reciter})]})]}),s.jsx(G,{onClick:e?n:r,variant:"ghost",className:"text-white hover:bg-white/20",children:e?s.jsx(zl,{className:"w-6 h-6"}):s.jsx(hr,{className:"w-6 h-6"})})]})}):null};function _F(){return s.jsx(jF,{children:s.jsx(Pfe,{})})}const Mfe="quran_hifz_db",Ofe=1,Kr={surahCache:"surahCache",juzCache:"juzCache",ayahProgress:"ayahProgress",settings:"settings"};function Lfe(){return new Promise((t,e)=>{const n=indexedDB.open(Mfe,Ofe);n.onupgradeneeded=r=>{const i=n.result;i.objectStoreNames.contains(Kr.surahCache)||i.createObjectStore(Kr.surahCache),i.objectStoreNames.contains(Kr.juzCache)||i.createObjectStore(Kr.juzCache),i.objectStoreNames.contains(Kr.ayahProgress)||i.createObjectStore(Kr.ayahProgress),i.objectStoreNames.contains(Kr.settings)||i.createObjectStore(Kr.settings)},n.onsuccess=()=>t(n.result),n.onerror=()=>e(n.error)})}async function xu(t,e,n){const r=await Lfe();return new Promise((i,a)=>{const o=r.transaction(t,e),c=o.objectStore(t),d=n(c);o.oncomplete=()=>i(d),o.onerror=()=>a(o.error)})}async function QI(t,e){return xu(Kr.surahCache,"readwrite",n=>n.put(e,t))}async function Ffe(t){return xu(Kr.surahCache,"readonly",e=>e.get(t))}async function qg(t,e){return xu(Kr.juzCache,"readwrite",n=>n.put(e,t))}async function Vfe(t){return xu(Kr.juzCache,"readonly",e=>e.get(t))}async function Ufe(t,e,n){const r=`${t}-${e}`,i={status:n,updatedAt:Date.now()};return xu(Kr.ayahProgress,"readwrite",a=>a.put(i,r))}async function zfe(t,e){const n=`${t}-${e}`;return xu(Kr.ayahProgress,"readonly",r=>r.get(n))}async function Bfe(){return xu(Kr.ayahProgress,"readonly",t=>new Promise((e,n)=>{const r={},i=t.openCursor();i.onsuccess=a=>{const o=a.target.result;o?(r[o.key]=o.value,o.continue()):e(r)},i.onerror=()=>n(i.error)}))}const YI={memorised:{label:"Memorised",color:"bg-green-600",Icon:Wc},revision:{label:"Under Revision",color:"bg-yellow-500",Icon:vy},new:{label:"Not Memorised",color:"bg-gray-500",Icon:Sj}};function SF({surahNumber:t,ayahNumber:e,onChange:n}){const[r,i]=v.useState("new");v.useEffect(()=>{let c=!0;return zfe(t,e).then(d=>{c&&d!=null&&d.status&&i(d.status)}).catch(()=>{}),()=>{c=!1}},[t,e]);const a=async c=>{i(c);try{await Ufe(t,e,c)}catch{}n==null||n(c)},o=YI[r]||YI.new;return s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsxs(we,{className:o.color,children:[s.jsx(o.Icon,{className:"w-4 h-4 mr-1"})," ",o.label]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(G,{size:"sm",variant:r==="memorised"?"default":"outline",onClick:()=>a("memorised"),children:[s.jsx(Wc,{className:"w-4 h-4 mr-1"})," Memorised"]}),s.jsxs(G,{size:"sm",variant:r==="revision"?"default":"outline",onClick:()=>a("revision"),children:[s.jsx(vy,{className:"w-4 h-4 mr-1"})," Revision"]}),s.jsxs(G,{size:"sm",variant:r==="new"?"default":"outline",onClick:()=>a("new"),children:[s.jsx(Sj,{className:"w-4 h-4 mr-1"})," Not Yet"]})]})]})}SF.propTypes={surahNumber:It.number.isRequired,ayahNumber:It.number.isRequired,onChange:It.func};const EF="https://api.alquran.cloud/v1",JI=["quran-uthmani","quran-simple"],$fe=[{id:"en.sahih",name:"Sahih International"},{id:"en.yusufali",name:"Yusuf Ali"},{id:"ur.junagarhi",name:"Junagarhi (Urdu)"},{id:"ur.maududi",name:"Maududi (Urdu)"}],XI={alafasy:"ar.alafasy",sudais:"ar.abdurrahmanalsudais",basit:"ar.abdulbasitmurattal",husary:"ar.husary"};function qfe(t){return XI[t]||XI.alafasy}async function Hfe({juzNumber:t,translationId:e,audioEdition:n}){var g,x,_,w,j,N,E,k;const r=C=>{const P=[C,e];return n&&P.push(n),`${EF}/juz/${t}/editions/${P.join(",")}`};let i=await fetch(r(JI[0])),a=await i.json();if((a.status!=="OK"||!((_=(x=(g=a==null?void 0:a.data)==null?void 0:g[0])==null?void 0:x.ayahs)!=null&&_.length))&&(i=await fetch(r(JI[1])),a=await i.json()),a.status!=="OK")throw new Error("Failed to fetch juz");const o=((w=a.data[0])==null?void 0:w.ayahs)||[],c=((j=a.data[1])==null?void 0:j.ayahs)||[],d=((N=a.data[2])==null?void 0:N.ayahs)||[],h=new Map;for(const C of c){const P=`${(E=C==null?void 0:C.surah)==null?void 0:E.number}-${C==null?void 0:C.numberInSurah}`;P&&h.set(P,(C==null?void 0:C.text)??"")}const m=new Map;for(const C of d){const P=`${(k=C==null?void 0:C.surah)==null?void 0:k.number}-${C==null?void 0:C.numberInSurah}`;P&&m.set(P,(C==null?void 0:C.audio)??null)}return o.map(C=>{var F;const P=`${(F=C==null?void 0:C.surah)==null?void 0:F.number}-${C==null?void 0:C.numberInSurah}`;return{surahNumber:C.surah.number,surahName:C.surah.englishName||C.surah.name,numberInSurah:C.numberInSurah,arabic:C.text,translation:h.get(P)||"",audio:m.get(P)||null}})}async function Wfe(){var r;const e=await(await fetch(`${EF}/sajda`)).json();return e.status!=="OK"?[]:(((r=e==null?void 0:e.data)==null?void 0:r.ayahs)||(e==null?void 0:e.data)||[]).map(i=>{var a,o;return{surah:((a=i==null?void 0:i.surah)==null?void 0:a.number)||((o=i==null?void 0:i.surah)==null?void 0:o.number)||0,ayah:(i==null?void 0:i.numberInSurah)||(i==null?void 0:i.ayah)||0}}).filter(i=>i.surah&&i.ayah)}const Kfe={1:[{surah:1,ayah:1},{surah:2,ayah:26},{surah:2,ayah:75},{surah:2,ayah:124},{surah:2,ayah:142},{surah:2,ayah:203},{surah:2,ayah:253},{surah:3,ayah:15}]};function Gfe(t,e){const n=Kfe[t];return!n||e<1||e>n.length?null:n[e-1]||null}const ZI=[{id:"alafasy",name:"Mishary Rashid Alafasy",url:"https://server8.mp3quran.net/afs/",flag:""},{id:"sudais",name:"Abdur-Rahman As-Sudais",url:"https://server11.mp3quran.net/sds/",flag:""},{id:"basit",name:"Abdul Basit",url:"https://server7.mp3quran.net/basit/",flag:""},{id:"husary",name:"Mahmoud Khalil Al-Husary",url:"https://server13.mp3quran.net/husr/",flag:""}],mw=[{number:1,name:"Al-Fatihah",englishName:"The Opening",verses:7,revelation:"Meccan"},{number:2,name:"Al-Baqarah",englishName:"The Cow",verses:286,revelation:"Medinan"},{number:3,name:"Ali 'Imran",englishName:"Family of Imran",verses:200,revelation:"Medinan"},{number:4,name:"An-Nisa",englishName:"The Women",verses:176,revelation:"Medinan"},{number:5,name:"Al-Ma'idah",englishName:"The Table Spread",verses:120,revelation:"Medinan"},{number:6,name:"Al-An'am",englishName:"The Cattle",verses:165,revelation:"Meccan"},{number:7,name:"Al-A'raf",englishName:"The Heights",verses:206,revelation:"Meccan"},{number:8,name:"Al-Anfal",englishName:"The Spoils of War",verses:75,revelation:"Medinan"},{number:9,name:"At-Tawbah",englishName:"The Repentance",verses:129,revelation:"Medinan"},{number:10,name:"Yunus",englishName:"Jonah",verses:109,revelation:"Meccan"},{number:36,name:"Ya-Sin",englishName:"Ya-Sin",verses:83,revelation:"Meccan"},{number:55,name:"Ar-Rahman",englishName:"The Beneficent",verses:78,revelation:"Medinan"},{number:67,name:"Al-Mulk",englishName:"The Sovereignty",verses:30,revelation:"Meccan"},{number:112,name:"Al-Ikhlas",englishName:"The Sincerity",verses:4,revelation:"Meccan"},{number:113,name:"Al-Falaq",englishName:"The Daybreak",verses:5,revelation:"Meccan"},{number:114,name:"An-Nas",englishName:"Mankind",verses:6,revelation:"Meccan"}],fw=$fe,pw=[{number:1,name:"Alif Lm Mm"},{number:2,name:"Sayaql"},{number:3,name:"Tilka ar-Rusul"},{number:4,name:"Lan Tanlu"},{number:5,name:"Wal Musant"},{number:6,name:"L Yuibbullhu al-jahr"},{number:7,name:"Wa I Sami"},{number:8,name:"Wa Lau'ann"},{number:9,name:"Ql al-Mala'u"},{number:10,name:"Wa Alam"},{number:11,name:"Yataakkarn"},{number:12,name:"Wa M Ubarriu Nafsi"},{number:13,name:"Wa M Uttum"},{number:14,name:"Rubam"},{number:15,name:"Subnalladh"},{number:16,name:"Qla Alam"},{number:17,name:"Iqtaraba"},{number:18,name:"Qad Aflaha"},{number:19,name:"Wa Qlalladhna"},{number:20,name:"Amn"},{number:21,name:"Utlu M"},{number:22,name:"Wa Mli"},{number:23,name:"Wa M L"},{number:24,name:"Faman Alamu"},{number:25,name:"Ilayhi Yuraddu"},{number:26,name:" Mm"},{number:27,name:"Qla Fama"},{number:28,name:"Qad Samiallhu"},{number:29,name:"Tabrakalladh"},{number:30,name:"Amma"}],gw=[{number:1,name:""},{number:2,name:""},{number:3,name:" "},{number:4,name:" "},{number:5,name:""},{number:6,name:"   "},{number:7,name:" "},{number:8,name:" "},{number:9,name:" "},{number:10,name:""},{number:11,name:""},{number:12,name:"  "},{number:13,name:" "},{number:14,name:""},{number:15,name:" "},{number:16,name:" "},{number:17,name:""},{number:18,name:" "},{number:19,name:" "},{number:20,name:""},{number:21,name:" "},{number:22,name:""},{number:23,name:" "},{number:24,name:" "},{number:25,name:" "},{number:26,name:""},{number:27,name:" "},{number:28,name:"  "},{number:29,name:" "},{number:30,name:""}],CF=({verse:t,expanded:e,onToggle:n,onPlay:r,isHighlighted:i=!1})=>s.jsx(te.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`bg-gradient-to-r from-green-50 to-teal-50 rounded-xl p-6 border-l-4 border-green-500 shadow-sm hover:shadow-md transition-shadow mb-4 ${i?"ring-2 ring-green-500 shadow-lg":""}`,children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[s.jsx(we,{className:"bg-green-600 text-white text-sm px-3 py-1",children:t.numberInSurah}),t.isSajda&&s.jsxs(we,{className:"bg-orange-500 text-white text-xs px-2 py-1",title:"Sajda Ayah",children:[s.jsx(Ij,{className:"w-3 h-3 mr-1 inline"})," Sajda"]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{dir:"rtl",style:{fontFamily:"'Scheherazade New', 'Amiri', serif"},onClick:()=>r&&r(t),title:"Click to play ayah audio",role:"button",className:"text-right text-2xl md:text-3xl leading-loose mb-4 font-arabic cursor-pointer hover:text-green-700 text-green-900",children:t.arabic}),s.jsx("p",{className:"text-gray-700 leading-relaxed text-base",children:t.translation}),s.jsx("div",{className:"mt-3",children:s.jsx(SF,{surahNumber:t.surahNumber||(t==null?void 0:t.surahNumber)||0,ayahNumber:t.numberInSurah,onChange:()=>{}})}),t.tafsir&&s.jsxs("div",{className:"mt-4",children:[s.jsx(G,{variant:"ghost",size:"sm",onClick:()=>n(t.numberInSurah),className:"text-green-600 hover:text-green-700 hover:bg-green-50",children:e?s.jsxs(s.Fragment,{children:[s.jsx(LR,{className:"w-4 h-4 mr-2"}),"Hide Tafsir"]}):s.jsxs(s.Fragment,{children:[s.jsx(yd,{className:"w-4 h-4 mr-2"}),"Show Tafsir"]})}),e&&s.jsxs(te.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-3 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[s.jsx("p",{className:"text-sm font-semibold text-blue-900 mb-2",children:" Tafsir (Explanation):"}),s.jsx("p",{className:"text-sm text-blue-800 leading-relaxed",children:t.tafsir})]})]})]})]})});CF.propTypes={verse:It.object.isRequired,expanded:It.bool.isRequired,onToggle:It.func.isRequired,onPlay:It.func};function Xm(){var Tt,bn;const t=jo(),[e,n]=v.useState(mw[0]),[r,i]=v.useState(ZI[0]),[a,o]=v.useState(fw[0]),[c,d]=v.useState(""),[h,m]=v.useState([]),[f,g]=v.useState([]),[x,_]=v.useState(!1),[w,j]=v.useState(!1),[N,E]=v.useState(null),[k,C]=v.useState(!1),[P,F]=v.useState(null),[D,R]=v.useState("translit"),[I,M]=v.useState(!1),[V,O]=v.useState(null),[U,X]=v.useState(!1),[re,ue]=v.useState(!1),[ie,K]=v.useState(null),[W,B]=v.useState(new Set),[q,Z]=v.useState(null);v.useEffect(()=>{const pe=new URLSearchParams(t.search||""),He=pe.get("surah"),nt=pe.get("juz"),rt=pe.get("quarter");if(He){const yt=Number(He),dt=mw.find(Mt=>Mt.number===yt);dt&&(n(dt),C(!1))}else if(nt){const yt=Number(nt);if(yt>=1&&yt<=30&&(F(yt),C(!0)),rt){const dt=Number(rt);dt>=1&&dt<=8&&Z(dt)}}},[t.search]),v.useEffect(()=>{var pe,He;if(k&&q&&Array.isArray(f)&&f.length>0){let nt=null,rt=null;if(P){const dt=Gfe(P,q);if(dt){const Mt=f.findIndex(wn=>(wn==null?void 0:wn.surahNumber)===dt.surah&&(wn==null?void 0:wn.numberInSurah)===dt.ayah);Mt>=0&&(nt=Mt,rt={surah:dt.surah,ayah:dt.ayah})}}if(nt==null){const dt=f.length,Mt=Math.floor(dt/8)||1;nt=Math.min(dt-1,Math.max(0,(q-1)*Mt))}const yt=(He=(pe=Ne==null?void 0:Ne.current)==null?void 0:pe.byIndex)==null?void 0:He[nt];if(yt&&yt.scrollIntoView){yt.scrollIntoView({behavior:"smooth",block:"center"});const dt=f[nt];dt&&(ge({surah:dt.surahNumber,ayah:dt.numberInSurah}),setTimeout(()=>ge(null),2500),rt?pt.success(`Jumped to Juz ${P} Q${q} start  Surah ${rt.surah}, Ayah ${rt.ayah}`):pt.info(`Jumped to Juz ${P} Q${q} (approximate segment)`))}}},[k,q,P,f]);const[$,me]=v.useState("light"),Ne=v.useRef({}),[Ae,ge]=v.useState(null),[Se,De]=v.useState(null),ze=v.useRef(!1),qe=()=>{Se&&(Se.pause(),Se.currentTime=0,De(null),j(!1)),ue(!1),K(null)};v.useEffect(()=>()=>{qe()},[Se]),v.useEffect(()=>{let pe=!0;return Wfe().then(He=>{if(!pe)return;const nt=new Set(He.map(rt=>`${rt.surah}-${rt.ayah}`));B(nt)}).catch(()=>{}),()=>{pe=!1}},[]),v.useEffect(()=>{!k&&e&&kn(e.number,a.id)},[e,a,k]),v.useEffect(()=>{k&&P&&jr(P,a.id)},[k,P,a]),v.useEffect(()=>{k&&P&&U&&f.length>0&&!x&&(X(!1),Ri())},[k,P,U,f,x]);const gt={alafasy:"ar.alafasy",sudais:"ar.abdurrahmanalsudais",basit:"ar.abdulbasitmurattal",husary:"ar.husary"},Xt=()=>gt[r==null?void 0:r.id]||qfe(r==null?void 0:r.id),kn=async(pe,He)=>{var nt;_(!0),qe();try{const rt=Xt(),yt=`${pe}|${He}|${rt}`,dt=await Ffe(yt);if((nt=dt==null?void 0:dt.verses)!=null&&nt.length)m(dt.verses.map(Mt=>({...Mt,isSajda:W.has(`${pe}-${Mt.numberInSurah}`),tafsir:Mt.tafsir||null})));else{const wn=await(await fetch(`https://api.alquran.cloud/v1/surah/${pe}/editions/quran-simple,${He},${rt}`)).json();if(wn.status==="OK"){const Jr=wn.data[0].ayahs,Fr=wn.data[1]?wn.data[1].ayahs:[],rn=wn.data[2]?wn.data[2].ayahs:[],ai=Jr.map((Vr,Ur)=>{var Pi;return{numberInSurah:Vr.numberInSurah,arabic:Vr.text,translation:Fr[Ur]?Fr[Ur].text:"Translation not available for this verse.",tafsir:null,audio:((Pi=rn[Ur])==null?void 0:Pi.audio)||null,surahNumber:pe,isSajda:W.has(`${pe}-${Vr.numberInSurah}`)}});m(ai),QI(yt,{verses:ai,cachedAt:Date.now()}).catch(()=>{})}else pt.error("Failed to load surah details from API.")}}catch(rt){console.error("Error loading surah:",rt),pt.error("Failed to load surah. Please check your internet connection.")}finally{_(!1)}},jr=async(pe,He)=>{var yt,dt,Mt,wn,Jr,Fr,rn,ai,Vr,Ur,Pi,Jl,vs,Xl,Di,oi,li;_(!0),qe();const nt=Xt(),rt=bs=>`https://api.alquran.cloud/v1/juz/${pe}/editions/${bs},${He}`;try{const bs=`${pe}|${He}|${nt}`,Xr=await Vfe(bs);if((yt=Xr==null?void 0:Xr.verses)!=null&&yt.length)g(Xr.verses.map(Nr=>({...Nr,isSajda:W.has(`${Nr.surahNumber}-${Nr.numberInSurah}`)})));else try{const Zr=(await Hfe({juzNumber:pe,translationId:He})||[]).map(Kt=>({...Kt,isSajda:W.has(`${Kt.surahNumber}-${Kt.numberInSurah}`)}));if(g(Zr),qg(bs,{verses:Zr,cachedAt:Date.now()}).catch(()=>{}),!Zr.length){let Kt=await fetch(rt("quran-uthmani")),_r=await Kt.json();if((_r.status!=="OK"||!((wn=(Mt=(dt=_r==null?void 0:_r.data)==null?void 0:dt[0])==null?void 0:Mt.ayahs)!=null&&wn.length))&&(Kt=await fetch(rt("quran-simple")),_r=await Kt.json()),_r.status==="OK"){const Ao=((Jr=_r.data[0])==null?void 0:Jr.ayahs)||[],ka=((Fr=_r.data[1])==null?void 0:Fr.ayahs)||[],Sr=((rn=_r.data[2])==null?void 0:rn.ayahs)||[],ci=new Map;for(const ht of ka){const Xn=`${(ai=ht==null?void 0:ht.surah)==null?void 0:ai.number}-${ht==null?void 0:ht.numberInSurah}`;Xn&&ci.set(Xn,(ht==null?void 0:ht.text)??"")}const ui=new Map;for(const ht of Sr){const Xn=`${(Vr=ht==null?void 0:ht.surah)==null?void 0:Vr.number}-${ht==null?void 0:ht.numberInSurah}`;Xn&&ui.set(Xn,(ht==null?void 0:ht.audio)??null)}const jt=Ao.map(ht=>{var Io;const Xn=`${(Io=ht==null?void 0:ht.surah)==null?void 0:Io.number}-${ht==null?void 0:ht.numberInSurah}`;return{surahNumber:ht.surah.number,surahName:ht.surah.englishName||ht.surah.name,numberInSurah:ht.numberInSurah,arabic:ht.text,translation:ci.get(Xn)||"",audio:ui.get(Xn)||null,isSajda:W.has(`${ht.surah.number}-${ht.numberInSurah}`)}});g(jt),qg(bs,{verses:jt,cachedAt:Date.now()}).catch(()=>{}),jt.length||pt.info("No verses loaded for this Juz. Try a different translation or check your network.")}else pt.error("Failed to load Juz.")}}catch{let Zr=await fetch(rt("quran-uthmani")),Kt=await Zr.json();if((Kt.status!=="OK"||!((Jl=(Pi=(Ur=Kt==null?void 0:Kt.data)==null?void 0:Ur[0])==null?void 0:Pi.ayahs)!=null&&Jl.length))&&(Zr=await fetch(rt("quran-simple")),Kt=await Zr.json()),Kt.status==="OK"){const _r=((vs=Kt.data[0])==null?void 0:vs.ayahs)||[],Ao=((Xl=Kt.data[1])==null?void 0:Xl.ayahs)||[],ka=((Di=Kt.data[2])==null?void 0:Di.ayahs)||[],Sr=new Map;for(const jt of Ao){const ht=`${(oi=jt==null?void 0:jt.surah)==null?void 0:oi.number}-${jt==null?void 0:jt.numberInSurah}`;ht&&Sr.set(ht,(jt==null?void 0:jt.text)??"")}const ci=new Map;for(const jt of ka){const ht=`${(li=jt==null?void 0:jt.surah)==null?void 0:li.number}-${jt==null?void 0:jt.numberInSurah}`;ht&&ci.set(ht,(jt==null?void 0:jt.audio)??null)}const ui=_r.map(jt=>{var Xn;const ht=`${(Xn=jt==null?void 0:jt.surah)==null?void 0:Xn.number}-${jt==null?void 0:jt.numberInSurah}`;return{surahNumber:jt.surah.number,surahName:jt.surah.englishName||jt.surah.name,numberInSurah:jt.numberInSurah,arabic:jt.text,translation:Sr.get(ht)||"",audio:ci.get(ht)||null,isSajda:W.has(`${jt.surah.number}-${jt.numberInSurah}`)}});g(ui),qg(bs,{verses:ui,cachedAt:Date.now()}).catch(()=>{}),ui.length||pt.info("No verses loaded for this Juz. Try a different translation or check your network.")}else pt.error("Failed to load Juz.")}}catch(bs){console.error("Error loading juz:",bs),pt.error("Failed to load Juz. Please check your internet connection.")}finally{_(!1)}},$n=async(pe,He=null,nt=null)=>{if(!pe){pt.error("No audio available for this selection.");return}if(!ze.current){ze.current=!0;try{qe();const rt=new Audio(pe);rt.loop=I,De(rt),await rt.play(),j(!0),O(He),rt.onended=()=>{if(typeof nt=="function"){nt();return}I||(j(!1),De(null),O(null))}}catch(rt){(rt==null?void 0:rt.name)==="AbortError"?console.debug("Audio play aborted (pause/stop triggered). Ignoring."):(console.error("Error playing audio:",rt),pt.error("Unable to play audio. The reciter might not have audio for this ayah/surah, or there's a network issue.")),j(!1),O(null)}finally{ze.current=!1}}},Jn=()=>{if(!r||!e){pt.error("Please select a Surah and Reciter first.");return}const pe=e.number.toString().padStart(3,"0"),He=`${r.url}${pe}.mp3`;$n(He)},ys=()=>{qe(),ue(!1)},$t=()=>{const pe=!I;M(pe),Se&&(Se.loop=pe)},Zt=pe=>{pe!=null&&pe.audio?$n(pe.audio,pe.numberInSurah):(pt.info("Ayah audio not available for this reciter. Playing full surah instead."),Jn())},Lr=pe=>{const He=k?f.find(nt=>nt.numberInSurah===pe):h.find(nt=>nt.numberInSurah===pe);if(He){const nt=Ne.current[pe];nt&&nt.scrollIntoView&&nt.scrollIntoView({behavior:"smooth",block:"center"}),Zt(He)}},Ca=()=>{var He;const pe=(He=Ne.current)==null?void 0:He.juzStart;pe&&pe.scrollIntoView&&pe.scrollIntoView({behavior:"smooth",block:"start"})},Ii=(pe=0)=>{if(!k||!P){pt.error("Please select a Juz first.");return}if(!f||f.length===0){pt.error("No ayat loaded for this Juz yet. Please wait or reselect the Juz.");return}ue(!0),K(pe);const He=nt=>{const rt=f[nt];if(!rt){ue(!1),O(null),De(null),j(!1);return}const yt=()=>{if(I)return;const dt=nt+1;dt<f.length?(K(dt),He(dt)):(ue(!1),O(null),De(null),j(!1))};if(O(rt.numberInSurah),rt.audio)$n(rt.audio,rt.numberInSurah,yt);else{const dt=String(rt.surahNumber).padStart(3,"0"),Mt=`${r.url}${dt}.mp3`;pt.info(`Verse-level audio unavailable; playing Surah ${rt.surahNumber} audio as fallback.`),$n(Mt,rt.numberInSurah,yt)}};He(pe)},Ri=()=>{Ii(0)},Us=pe=>{qe(),i(pe)},fe=pe=>{qe(),n(pe)},Ie=pe=>{const He=fw.find(nt=>nt.id===pe);He&&o(He)},tt=mw.filter(pe=>pe.name.toLowerCase().includes(c.toLowerCase())||pe.englishName.toLowerCase().includes(c.toLowerCase())||pe.number.toString().includes(c)),wt=async()=>{try{if(k&&P){const pe=Xt(),He=`${P}|${a.id}|${pe}`;f.length?await qg(He,{verses:f,cachedAt:Date.now()}):await jr(P,a.id),pt.success(`Juz ${P} cached for offline use.`)}else if(e){const pe=Xt(),He=`${e.number}|${a.id}|${pe}`;h.length?await QI(He,{verses:h,cachedAt:Date.now()}):await kn(e.number,a.id),pt.success(`Surah ${e.name} cached for offline use.`)}}catch{pt.error("Failed to cache selection.")}};return s.jsxs("div",{className:"min-h-screen py-8 px-4",children:[s.jsx("style",{children:`
        @import url('https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Scheherazade+New:wght@400;700&display=swap');
        .custom-scrollbar::-webkit-scrollbar {
          width: 8px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: #f1f1f1;
          border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background: #888;
          border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background: #555;
        }
      `}),s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"The Noble Qur'an"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Read, listen, and understand Allah's words"})]}),s.jsxs(ne,{className:"mb-8 border-2 border-green-200",children:[s.jsx(Le,{className:"bg-gradient-to-r from-green-50 to-teal-50",children:s.jsx(Fe,{children:"Select Reciter, Surah & Translation"})}),s.jsxs(se,{className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Choose Reciter"}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:ZI.map(pe=>s.jsx(G,{onClick:()=>Us(pe),variant:r.id===pe.id?"default":"outline",className:`h-auto py-3 px-4 ${r.id===pe.id?"bg-gradient-to-r from-purple-500 to-indigo-500 text-white hover:from-purple-600 hover:to-indigo-600":"hover:bg-gray-100"}`,children:s.jsxs("div",{className:"text-center w-full",children:[s.jsx("div",{className:"text-2xl mb-1",children:pe.flag}),s.jsx("p",{className:"text-xs font-semibold truncate",children:pe.name})]})},pe.id))})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Choose Translation"}),s.jsxs(tn,{value:a.id,onValueChange:Ie,children:[s.jsx(Gt,{className:"w-full",children:s.jsx(nn,{placeholder:"Select a translation"})}),s.jsx(Qt,{children:fw.map(pe=>s.jsx(Re,{value:pe.id,children:pe.name},pe.id))})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Search & Choose Surah"}),s.jsxs("div",{className:"relative mb-3",children:[s.jsx(uo,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500"}),s.jsx(Te,{type:"text",placeholder:"Search Surah by name or number...",value:c,onChange:pe=>d(pe.target.value),className:"pl-9 pr-3 py-2 w-full"})]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3 max-h-[250px] overflow-y-auto pr-2 custom-scrollbar",children:tt.map(pe=>s.jsx(G,{onClick:()=>fe(pe),variant:(e==null?void 0:e.number)===pe.number?"default":"outline",className:`h-auto py-3 px-4 ${(e==null?void 0:e.number)===pe.number?"bg-gradient-to-r from-green-500 to-teal-500 text-white hover:from-green-600 hover:to-teal-600":"hover:bg-gray-100"}`,children:s.jsxs("div",{className:"text-center w-full",children:[s.jsx("p",{className:"text-sm font-semibold",children:pe.name}),s.jsxs("p",{className:"text-xs text-gray-500",children:["(",pe.englishName,")"]})]})},pe.number))}),tt.length===0&&c&&s.jsxs("p",{className:"text-center text-gray-500 mt-4",children:['No surahs found for "',c,'"']})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-6",children:[s.jsx("div",{children:k?s.jsxs(s.Fragment,{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Select Ayah in Juz"}),s.jsxs(tn,{onValueChange:pe=>{const He=Number(pe)-1,nt=f[He];if(nt){const rt=Ne.current[nt.numberInSurah];rt&&rt.scrollIntoView&&rt.scrollIntoView({behavior:"smooth",block:"center"}),Zt(nt)}},disabled:!P,children:[s.jsx(Gt,{className:"w-full",children:s.jsx(nn,{placeholder:"Choose Ayah index in Juz"})}),s.jsx(Qt,{children:f&&f.map((pe,He)=>s.jsx(Re,{value:String(He+1),children:He+1},He))})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Select Ayah (verse)"}),s.jsxs(tn,{onValueChange:pe=>Lr(Number(pe)),disabled:!e,children:[s.jsx(Gt,{className:"w-full",children:s.jsx(nn,{placeholder:"Choose Ayah number"})}),s.jsx(Qt,{children:e&&Array.from({length:e.verses},(pe,He)=>He+1).map(pe=>s.jsx(Re,{value:String(pe),children:pe},pe))})]})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Select Juz (Para)"}),s.jsxs(tn,{value:P?String(P):void 0,onValueChange:pe=>{F(Number(pe)),C(!0)},children:[s.jsx(Gt,{className:"w-full",children:s.jsx(nn,{placeholder:"Choose Juz (e.g., Alif Lm Mm)"})}),s.jsx(Qt,{children:(D==="urdu"?gw:pw).map(pe=>s.jsxs(Re,{value:String(pe.number),children:["Juz ",pe.number,"  ",pe.name]},pe.number))})]}),s.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[s.jsx("span",{className:"text-xs text-gray-600",children:"Name style:"}),s.jsx(G,{size:"sm",variant:D==="translit"?"default":"outline",onClick:()=>R("translit"),children:"Transliteration"}),s.jsx(G,{size:"sm",variant:D==="urdu"?"default":"outline",onClick:()=>R("urdu"),children:""})]}),k&&s.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[s.jsxs(we,{className:"bg-green-600",children:["Viewing: Juz ",P,"  ",((Tt=(D==="urdu"?gw:pw).find(pe=>pe.number===P))==null?void 0:Tt.name)||""]}),s.jsx(G,{variant:"outline",onClick:()=>{C(!1),F(null),g([])},children:"Exit Juz View"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Audio Controls"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(G,{onClick:ys,variant:"outline",className:"flex-1",children:[s.jsx(gg,{className:"w-4 h-4 mr-1"})," Stop"]}),s.jsxs(G,{onClick:$t,variant:I?"default":"outline",className:"flex-1",children:[s.jsx(Xv,{className:"w-4 h-4 mr-1"})," ",I?"Repeat: On":"Repeat: Off"]}),s.jsxs(G,{onClick:wt,variant:"outline",className:"flex-1",children:[s.jsx(No,{className:"w-4 h-4 mr-1"})," Cache Offline"]})]})]})]}),s.jsx(G,{onClick:()=>{if(w){ys();return}k?x||!f.length?(X(!0),pt.info("Loading Juz playback will start automatically.")):Ri():Jn()},className:"w-full bg-gradient-to-r from-green-600 to-teal-600 hover:from-green-700 hover:to-teal-700",size:"lg",disabled:!1,children:x?s.jsxs(s.Fragment,{children:[s.jsx(cd,{className:"w-5 h-5 mr-2 animate-spin"}),k?"Loading Juz...":"Loading Surah..."]}):w?s.jsxs(s.Fragment,{children:[s.jsx(zl,{className:"w-5 h-5 mr-2"}),"Pause Audio"]}):s.jsxs(s.Fragment,{children:[s.jsx(hr,{className:"w-5 h-5 mr-2"}),k?"Play Full Juz":"Play Full Surah"]})}),k&&f.length>0&&s.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-4",children:[s.jsxs(G,{onClick:stopJuzSequence,variant:"destructive",className:"w-full",disabled:!w&&!re,children:[s.jsx(gg,{className:"w-4 h-4 mr-1"}),"Stop Juz"]}),s.jsxs(G,{onClick:resumeJuzSequence,className:"w-full bg-blue-600 hover:bg-blue-700",disabled:w||ie===null,children:[s.jsx(hr,{className:"w-4 h-4 mr-1"}),"Resume Juz"]})]})]})]}),e&&s.jsx(ne,{className:"mb-8 border-2 border-blue-200 bg-gradient-to-r from-blue-50 to-cyan-50",children:s.jsx(se,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:e.name}),s.jsx("p",{className:"text-lg text-gray-700 mb-1",children:e.englishName}),s.jsxs("div",{className:"flex gap-3 flex-wrap",children:[s.jsxs(we,{className:"bg-blue-600",children:[e.verses," Verses"]}),s.jsx(we,{className:"bg-purple-600",children:e.revelation})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(dn,{className:"w-8 h-8 text-blue-600"}),s.jsx(El,{className:"w-8 h-8 text-green-600"}),s.jsx(G,{variant:"outline",onClick:()=>me($==="light"?"dark":"light"),title:"Toggle theme",children:$==="light"?s.jsx(AB,{className:"w-4 h-4"}):s.jsx(s$,{className:"w-4 h-4"})})]})]})})}),e&&e.number!==9&&e.number!==1&&s.jsxs("div",{className:"text-center py-6 mb-6 border-b-2 border-green-200 bg-gradient-to-r from-green-50 to-teal-50 rounded-lg",children:[s.jsx("p",{className:"text-4xl md:text-5xl mb-3 font-arabic",dir:"rtl",style:{fontFamily:"'Scheherazade New', 'Amiri', serif"},children:"   "}),s.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"In the name of Allah, the Most Gracious, the Most Merciful"})]}),x&&!w?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(cd,{className:"w-12 h-12 animate-spin text-green-600 mb-4"}),s.jsx("p",{className:"text-gray-600",children:k?"Loading Juz Verses...":"Loading Surah Verses..."})]}):s.jsxs("div",{className:"space-y-4",children:[k&&P&&s.jsx(ne,{className:"mb-4 border border-green-200 bg-green-50",children:s.jsx(se,{className:"py-4 px-6",children:s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["Juz ",P,"  ",((bn=(D==="urdu"?gw:pw).find(pe=>pe.number===P))==null?void 0:bn.name)||""]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Displaying combined ayat across their surahs"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Xv,{className:"w-6 h-6 text-green-600"}),s.jsx(gg,{className:"w-6 h-6 text-red-600"}),s.jsxs(G,{variant:"outline",onClick:Ca,children:[s.jsx(dn,{className:"w-4 h-4 mr-1"})," Go to start"]}),s.jsxs(G,{className:"bg-green-600",onClick:Ri,children:[s.jsx(hr,{className:"w-4 h-4 mr-1"})," Play from start"]}),!w&&k&&(f==null?void 0:f.length)>0&&ie!=null&&s.jsxs(G,{className:"bg-green-600",onClick:()=>Ii(ie),children:[s.jsx(hr,{className:"w-4 h-4 mr-1"})," Resume Juz"]})]})]})})}),k&&!x&&P&&f.length===0&&s.jsx("p",{className:"text-center text-sm text-gray-600",children:"No ayat loaded for this Juz. Try a different translation or check your network."}),(k?f:h).map((pe,He)=>s.jsxs("div",{ref:nt=>{Ne.current[pe.numberInSurah]=nt,Ne.current.byIndex||(Ne.current.byIndex=[]),Ne.current.byIndex[He]=nt,k&&He===0&&(Ne.current.juzStart=nt)},children:[k&&s.jsxs("div",{className:"mb-1 text-sm text-gray-600",children:["Surah ",pe.surahName,"  Ayah ",pe.numberInSurah]}),s.jsx(CF,{verse:pe,expanded:N===pe.numberInSurah,onToggle:nt=>E(N===nt?null:nt),onPlay:Zt,isHighlighted:!!(Ae&&Ae.surah===pe.surahNumber&&Ae.ayah===pe.numberInSurah)}),s.jsxs("div",{className:"flex gap-2 mb-6",children:[s.jsxs(G,{onClick:()=>Zt(pe),className:"bg-green-600",children:[s.jsx(hr,{className:"w-4 h-4 mr-1"})," Play Ayah"]}),s.jsxs(G,{onClick:ys,variant:"outline",children:[s.jsx(gg,{className:"w-4 h-4 mr-1"})," Stop"]}),s.jsxs(G,{onClick:$t,variant:I?"default":"outline",children:[s.jsx(Xv,{className:"w-4 h-4 mr-1"})," ",I?"Repeat On":"Repeat Off"]}),V===pe.numberInSurah&&w&&s.jsx(we,{className:"bg-green-600",children:"Playing"})]})]},`${pe.surahNumber||(e==null?void 0:e.number)}-${pe.numberInSurah}`))]})]})]})}const Qfe=[{number:1,range:[1,4],label:"Al-Fatihah  An-Nisa"},{number:2,range:[5,9],label:"Al-Maidah  At-Tawbah"},{number:3,range:[10,16],label:"Yunus  An-Nahl"},{number:4,range:[17,25],label:"Al-Isra  Al-Furqan"},{number:5,range:[26,36],label:"Ash-Shuara  Ya-Sin"},{number:6,range:[37,49],label:"As-Saffat  Al-Hujurat"},{number:7,range:[50,114],label:"Qaf  An-Nas"}];function kF(){const t=Bn(),e=v.useMemo(()=>Qfe,[]);return s.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[s.jsxs(ne,{className:"mb-6",children:[s.jsx(Le,{children:s.jsx(Fe,{children:"Manzil (Weekly Recitation)"})}),s.jsx(se,{children:s.jsx("p",{className:"text-sm text-gray-600",children:"Select a Manzil to review or recite. You can open the surahs in the Full Quran view and cache them for offline reading."})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.map(n=>s.jsxs(ne,{className:"border-green-200",children:[s.jsxs(Le,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Fe,{className:"flex items-center gap-2",children:[s.jsx(dn,{className:"w-5 h-5 text-green-600"})," Manzil ",n.number]}),s.jsxs(we,{className:"bg-green-600",children:["Surah ",n.range[0],"  ",n.range[1]]})]}),s.jsx("p",{className:"text-sm text-gray-600 mt-2",children:n.label})]}),s.jsx(se,{children:s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx(G,{onClick:()=>t(`/FullQuran?surah=${n.range[0]}`),variant:"outline",children:"Open start surah"}),s.jsx(G,{onClick:()=>t(`/FullQuran?surah=${n.range[1]}`),variant:"outline",children:"Open end surah"})]})})]},n.number))})]})}function Yfe(t){const e=Math.ceil(t/8),n=(t-1)%8+1;return{juz:e,idx:n}}function TF(){const t=Bn(),[e,n]=v.useState(1),{juz:r,idx:i}=v.useMemo(()=>Yfe(Math.min(240,Math.max(1,Number(e)||1))),[e]);return s.jsxs("div",{className:"max-w-3xl mx-auto p-6",children:[s.jsxs(ne,{className:"mb-6",children:[s.jsx(Le,{children:s.jsx(Fe,{children:"Hizb / Quarter-Hizb Selection"})}),s.jsx(se,{children:s.jsx("p",{className:"text-sm text-gray-600",children:"Select a quarter (1240). Each Juz has 8 quarters. This navigator links you to the Juz in the Full Quran module and approximates the quarter position."})})]}),s.jsxs(ne,{children:[s.jsx(Le,{children:s.jsx(Fe,{children:"Choose Quarter"})}),s.jsxs(se,{children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Te,{type:"number",min:1,max:240,value:e,onChange:a=>n(a.target.value),className:"w-32"}),s.jsxs(we,{children:["Juz ",r,"  Quarter ",i," of 8"]}),s.jsxs(G,{onClick:()=>t(`/FullQuran?juz=${r}&quarter=${i}`),variant:"default",children:["Open Juz ",r]})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Note: Exact ayah ranges per quarter-hizb vary by script. Well refine per-ayah segment mapping in a subsequent update."})]})]})]})}function eR(t,e){return e?Math.round(t/e*100):0}function AF(){const[t,e]=v.useState({total:0,memorised:0,revision:0,notMemorised:0}),[n,r]=v.useState([]);v.useEffect(()=>{(async()=>{const a=await Bfe(),o=Object.entries(a).map(([g,x])=>{const[_,w]=g.split("-").map(Number);return{surahNumber:_,ayahNumber:w,status:x==null?void 0:x.status}}),c=o.length,d=o.filter(g=>g.status==="memorised").length,h=o.filter(g=>g.status==="revision").length,m=o.filter(g=>g.status==="new"||!g.status).length,f=new Map;o.forEach(g=>{const x=g.surahNumber,_=f.get(x)||{surahNumber:x,total:0,memorised:0};_.total+=1,g.status==="memorised"&&(_.memorised+=1),f.set(x,_)}),e({total:c,memorised:d,revision:h,notMemorised:m}),r(Array.from(f.values()).sort((g,x)=>g.surahNumber-x.surahNumber))})()},[]);const i=v.useMemo(()=>eR(t.memorised,t.total),[t]);return s.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[s.jsxs(ne,{className:"mb-6",children:[s.jsx(Le,{children:s.jsx(Fe,{children:"Hifz Progress Dashboard"})}),s.jsxs(se,{children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Total Ayahs Tracked"}),s.jsx("p",{className:"text-lg font-semibold",children:t.total})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Memorised"}),s.jsx("p",{className:"text-lg font-semibold",children:t.memorised})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Under Revision"}),s.jsx("p",{className:"text-lg font-semibold",children:t.revision})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Not Memorised"}),s.jsx("p",{className:"text-lg font-semibold",children:t.notMemorised})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("p",{className:"text-sm mb-1",children:"Overall Memorisation"}),s.jsx(su,{value:i}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[i,"% complete"]})]})]})]}),s.jsxs(ne,{children:[s.jsx(Le,{children:s.jsx(Fe,{children:"By Surah"})}),s.jsx(se,{children:s.jsxs("div",{className:"space-y-3",children:[n.length===0&&s.jsx("p",{className:"text-sm text-gray-600",children:"No memorisation data yet. Mark ayahs as memorised in the Full Quran page."}),n.map(a=>{const o=eR(a.memorised,a.total);return s.jsxs("div",{className:"border rounded p-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(we,{children:["Surah ",a.surahNumber]}),s.jsxs("span",{className:"text-sm text-gray-600",children:["Memorised ",a.memorised,"/",a.total]})]}),s.jsxs("span",{className:"text-sm font-medium",children:[o,"%"]})]}),s.jsx(su,{value:o,className:"mt-2"})]},a.surahNumber)})]})})]})]})}const Jfe=Hf("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),IF=v.forwardRef(({className:t,variant:e,...n},r)=>s.jsx("div",{ref:r,role:"alert",className:ut(Jfe({variant:e}),t),...n}));IF.displayName="Alert";const Xfe=v.forwardRef(({className:t,...e},n)=>s.jsx("h5",{ref:n,className:ut("mb-1 font-medium leading-none tracking-tight",t),...e}));Xfe.displayName="AlertTitle";const RF=v.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:ut("text-sm [&_p]:leading-relaxed",t),...e}));RF.displayName="AlertDescription";const xw=t=>{const e=Number.isFinite(t)?t:0;return Math.max(0,Math.min(1500,Math.round(e)))};function jm(){try{const t=localStorage.getItem("ikz_leaderboard"),e=t?JSON.parse(t):[];return Array.isArray(e)?e:[]}catch{return[]}}function yw(t){try{localStorage.setItem("ikz_leaderboard",JSON.stringify(t))}catch{}}function Nm(){try{const t=localStorage.getItem("users"),e=t?JSON.parse(t):[];return Array.isArray(e)?e:[]}catch{return[]}}function vw(t){try{localStorage.setItem("users",JSON.stringify(t))}catch{}}function PF(){const[t,e]=v.useState([]),[n,r]=v.useState([]),[i,a]=v.useState(400),[o,c]=v.useState(""),[d,h]=v.useState(400),[m,f]=v.useState(50),[g,x]=v.useState("");v.useEffect(()=>{e(jm()),r(Nm())},[]);const _=v.useMemo(()=>{const C=new Map;return t.forEach(P=>{const F=(P.email||P.full_name||"").toLowerCase();C.set(F,{source:"leaderboard",...P})}),n.forEach(P=>{const F=(P.email||P.full_name||"").toLowerCase();C.has(F)||C.set(F,{source:"users",...P})}),Array.from(C.values())},[t,n]),w=()=>{e(jm()),r(Nm())},j=()=>{const C=xw(Number(i)),F=jm().map(I=>({...I,points:C}));yw(F);const R=Nm().map(I=>({...I,points:C}));vw(R),x(`Reset all learner points to ${C}.`),w()},N=()=>{const C=String(o||"").trim().toLowerCase();if(!C){x("Enter an email to set points.");return}const P=xw(Number(d));let F=0;const R=jm().map(V=>(V.email||"").toLowerCase()===C?(F++,{...V,points:P}):V);yw(R);const M=Nm().map(V=>(V.email||"").toLowerCase()===C?(F++,{...V,points:P}):V);vw(M),x(F>0?`Set ${C} points to ${P}.`:`No user found for ${C}.`),w()},E=()=>{const C=String(o||"").trim().toLowerCase();if(!C){x("Enter an email to add points.");return}const P=Number(m);let F=0;const D=O=>({...O,points:xw((O.points||0)+P)}),I=jm().map(O=>(O.email||"").toLowerCase()===C?(F++,D(O)):O);yw(I);const V=Nm().map(O=>(O.email||"").toLowerCase()===C?(F++,D(O)):O);vw(V),x(F>0?`Added ${P} points to ${C}.`:`No user found for ${C}.`),w()},k=()=>{try{localStorage.removeItem("ikz_leaderboard"),localStorage.removeItem("users"),localStorage.removeItem("gameScores"),x("Cleared local sample data: leaderboard, users, game scores.")}catch{x("Failed to clear local sample data.")}w()};return s.jsx("div",{className:"min-h-screen py-12 px-4 bg-gradient-to-br from-blue-50 to-purple-50",children:s.jsx("div",{className:"max-w-5xl mx-auto",children:s.jsxs(ne,{className:"shadow-xl border-2 border-blue-200",children:[s.jsx(Le,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:s.jsxs(Fe,{className:"text-2xl flex items-center gap-2",children:[s.jsx(br,{className:"w-6 h-6"}),"Points Tools: Reset or Add Points"]})}),s.jsxs(se,{className:"p-6 space-y-6",children:[s.jsxs(IF,{className:"bg-blue-50 border-blue-200",children:[s.jsx(_j,{className:"w-4 h-4 text-blue-600"}),s.jsx(RF,{className:"text-blue-800",children:"These tools update local leaderboard and users data. Game logic caps points at 1500."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 items-end",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-700",children:"Reset all learners to"}),s.jsx(Te,{type:"number",value:i,onChange:C=>a(C.target.value)})]}),s.jsx("div",{className:"md:col-span-2 flex gap-2",children:s.jsx(G,{onClick:j,children:"Reset All"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 items-end",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-700",children:"Target email"}),s.jsx(Te,{placeholder:"student@example.com",value:o,onChange:C=>c(C.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-700",children:"Set points to"}),s.jsx(Te,{type:"number",value:d,onChange:C=>h(C.target.value)})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(G,{variant:"outline",onClick:N,children:"Set Exact"}),s.jsx(G,{onClick:E,children:"Add Points"})]})]}),g&&s.jsx("div",{className:"text-sm text-green-700",children:g}),s.jsxs("div",{className:"mt-4 p-4 border rounded-md bg-red-50 border-red-200",children:[s.jsx("div",{className:"font-semibold text-red-700 mb-2",children:"Danger Zone"}),s.jsx("p",{className:"text-sm text-red-700 mb-3",children:"Delete all local sample accounts and details (leaderboard, users, game scores)."}),s.jsx(G,{variant:"destructive",onClick:k,children:"Delete All Fake Accounts and Details"})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Current Learners"}),_.length===0?s.jsx("div",{className:"text-sm text-gray-600",children:"No learners found in local storage."}):s.jsx("div",{className:"divide-y divide-gray-100 bg-white border rounded-md overflow-hidden",children:_.map((C,P)=>{var F;return s.jsxs("div",{className:"p-3 sm:p-4 flex items-center gap-3",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"font-semibold text-gray-900 truncate",children:C.full_name||((F=C.email)==null?void 0:F.split("@")[0])||"Learner"}),s.jsx("div",{className:"text-xs text-gray-600 truncate",children:C.email||"no-email"})]}),s.jsxs("div",{className:"text-right flex-shrink-0",children:[s.jsx("div",{className:"text-amber-600 font-bold",children:C.points||0}),s.jsx("div",{className:"text-[10px] text-gray-500",children:"points"})]})]},`${C.email||C.full_name||"user"}-${P}`)})})]})]})]})})})}function fj(){const[t,e]=v.useState({totalUsers:1200,totalStories:500,totalAudio:300,totalVideos:150,totalQuestions:1e3,totalPaths:50}),n=[{title:"AI Agent / ChatGPT",description:"Ask questions or get admin edit suggestions",icon:ih,path:"Assistant",color:"from-purple-600 to-blue-600",stats:"Admin-only"},{title:"Users Management",description:"Manage users, view profiles, reset points",icon:Bl,path:"AdminUsers",color:"from-blue-500 to-cyan-500",stats:`${t.totalUsers} users`},{title:"Points Tools",description:"Reset or add points for learners",icon:br,path:"ResetPointsAdmin",color:"from-amber-500 to-orange-500",stats:"Adjust points"},{title:"Stories Management",description:"Add, edit, delete stories with images",icon:dn,path:"AdminStories",color:"from-green-500 to-teal-500",stats:`${t.totalStories} stories`},{title:"Audio Content",description:"Manage audio files and recordings",icon:lo,path:"AdminAudioContent",color:"from-purple-500 to-pink-500",stats:`${t.totalAudio} tracks`},{title:"Videos Management",description:"Add and manage video content",icon:to,path:"AdminVideos",color:"from-red-500 to-orange-500",stats:`${t.totalVideos} videos`},{title:"Quiz Questions",description:"Create and edit quiz questions",icon:Vz,path:"AdminQuestions",color:"from-amber-500 to-yellow-500",stats:`${t.totalQuestions} questions`},{title:"Learning Paths",description:"Create and manage learning paths",icon:Om,path:"AdminLearningPaths",color:"from-indigo-500 to-purple-500",stats:`${t.totalPaths} paths`},{title:"Homepage Banners",description:"Manage rotating homepage banners",icon:wx,path:"AdminBanners",color:"from-teal-500 to-cyan-500",stats:"Edit slides"},{title:"Sponsors & Ads",description:"Manage sponsors and advertising tiles",icon:UR,path:"AdminSponsors",color:"from-amber-500 to-orange-500",stats:"Configure placements"},{title:"Media Library",description:"Upload and manage images",icon:co,path:"AdminMedia",color:"from-pink-500 to-rose-500",stats:"Upload files"},{title:"Recordings Review",description:"Review user submissions",icon:oo,path:"RecordingsAdmin",color:"from-cyan-500 to-blue-500",stats:"Pending review"},{title:"Analytics & Reports",description:"View site statistics and reports",icon:kz,path:"AdminAnalytics",color:"from-violet-500 to-purple-500",stats:"View insights"},{title:"Site Settings",description:"Configure website settings",icon:Bd,path:"AdminSettings",color:"from-gray-500 to-slate-500",stats:"Configure"}];return s.jsx("div",{className:"min-h-screen py-12 px-4 bg-gradient-to-br from-gray-50 to-gray-100",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Admin Dashboard"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Manage all website content without using AI credits"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((r,i)=>{const a=r.icon;return s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:i*.1},children:s.jsxs(Et,{to:et(r.path),children:[" ",s.jsxs(ne,{className:"h-full hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 cursor-pointer border-2 hover:border-blue-300",children:[s.jsxs(Le,{children:[s.jsx("div",{className:`w-14 h-14 rounded-xl bg-gradient-to-br ${r.color} flex items-center justify-center mb-3`,children:s.jsx(a,{className:"w-7 h-7 text-white"})}),s.jsx(Fe,{className:"text-xl",children:r.title})]}),s.jsxs(se,{children:[s.jsx("p",{className:"text-gray-600 mb-2",children:r.description})," ",r.stats&&s.jsx("p",{className:"text-sm font-semibold text-gray-800",children:r.stats})]})]})]})},r.title)})}),s.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-12 text-center",children:s.jsx(ne,{className:"bg-blue-50 border-2 border-blue-200",children:s.jsxs(se,{className:"p-6",children:[s.jsx(Bd,{className:"w-12 h-12 mx-auto mb-3 text-blue-600"}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No AI Credits Required"}),s.jsx("p",{className:"text-gray-600",children:"All admin pages use standard forms and database operations - no AI processing needed!"})]})})})]})})}function tR(){const t=Bn(),[e,n]=v.useState(""),[r,i]=v.useState(""),[a,o]=v.useState(""),[c,d]=v.useState(!1),[h,m]=v.useState(!1),f={apiKey:!0,authDomain:!0,projectId:!0,appId:!0},g={apiKey:"AIzaSyDLi7mVwWnHp_jFlo6KfIXMZEu1iGpA-YE",authDomain:"studio-1726517794-3d5f0.firebaseapp.com",projectId:"studio-1726517794-3d5f0",appId:"1:947105835283:web:b06706b15af28b4c3f12e6",storageBucket:"studio-1726517794-3d5f0.appspot.com",messagingSenderId:"947105835283"},x=(w,j=4,N=4)=>w?w.length<=j+N?w:`${w.slice(0,j)}${w.slice(-N)}`:"(empty)";v.useEffect(()=>{const{app:w}=Bt();m(!!w);const j=pu(async N=>{N&&await ry()&&t(et("AdminDashboard"))});return()=>j&&j()},[t]);const _=async w=>{w.preventDefault(),o(""),d(!0);try{if(!h)throw new Error("Firebase not configured");const j=await mO(e,r);if(!await ry())throw await pO(),new Error("Access restricted to admin only");t(et("AdminDashboard"))}catch(j){const N=(j==null?void 0:j.code)||"";let E=(j==null?void 0:j.message)||"Login failed";N==="auth/invalid-credential"&&(E="Invalid email or password. Please try again or reset your password."),N==="auth/user-not-found"&&(E="No account found for this email. Please sign up or ask an admin to create one."),N==="auth/wrong-password"&&(E="Incorrect password. Try again or reset your password."),N==="auth/too-many-requests"&&(E="Too many attempts. Please wait a minute, then try again."),N==="auth/operation-not-allowed"&&(E="Email/password sign-in is disabled. Enable it in Firebase Auth  Sign-in method."),o(E)}finally{d(!1)}};return s.jsx("div",{className:"min-h-screen py-12 px-4 bg-gradient-to-br from-slate-50 to-blue-50",children:s.jsx("div",{className:"max-w-md mx-auto",children:s.jsxs(ne,{className:"shadow-xl border-2 border-blue-200",children:[s.jsx(Le,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:s.jsxs(Fe,{className:"flex items-center gap-2",children:[s.jsx(oh,{className:"w-5 h-5"})," Secure Admin Login"]})}),s.jsx(se,{className:"p-6",children:h?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-xs text-gray-500 bg-gray-50 border rounded p-2 mb-4",children:[s.jsx("div",{className:"font-semibold mb-1",children:"Debug config (masked)"}),s.jsxs("ul",{className:"list-disc ml-4",children:[s.jsxs("li",{children:["apiKey: ",x(g.apiKey)]}),s.jsxs("li",{children:["authDomain: ",g.authDomain]}),s.jsxs("li",{children:["projectId: ",g.projectId]}),s.jsxs("li",{children:["appId: ",x(g.appId,3,6)]})]})]}),s.jsxs("form",{onSubmit:_,className:"space-y-4",children:[a&&s.jsx("div",{className:"p-2 rounded bg-red-50 text-red-700 text-sm",children:a}),s.jsxs("div",{children:[s.jsx(ye,{children:"Email"}),s.jsx(Te,{type:"email",value:e,onChange:w=>n(w.target.value),required:!0})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Password"}),s.jsx(Te,{type:"password",value:r,onChange:w=>i(w.target.value),required:!0})]}),s.jsx(G,{type:"submit",disabled:c,className:"w-full",children:c?"Signing in...":s.jsxs("span",{className:"inline-flex items-center gap-2",children:[s.jsx(Cj,{className:"w-4 h-4"}),"Sign In"]})}),s.jsxs("div",{className:"flex items-center justify-between text-xs mt-2",children:[s.jsx("button",{type:"button",className:"text-blue-600 hover:underline",onClick:async()=>{o("");try{const{auth:w}=Bt();if(!w)throw new Error("Firebase not configured");if(!e)throw new Error("Enter your email above, then click reset.");await BN(w,e),o("Password reset email sent. Check your inbox.")}catch(w){const j=(w==null?void 0:w.code)||"";let N=(w==null?void 0:w.message)||"Failed to send reset email.";j==="auth/invalid-email"&&(N="Please enter a valid email address."),j==="auth/user-not-found"&&(N="No account found for this email."),o(N)}},children:"Forgot password?"}),s.jsxs("span",{className:"text-gray-500 flex items-center gap-1",children:[s.jsx(oa,{className:"w-4 h-4 text-green-600"})," Access available to any signed-in user"]})]})]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-amber-600",children:[s.jsx(Ij,{className:"w-5 h-5"}),s.jsx("span",{children:"Firebase is not configured."})]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Please set Firebase env vars in ",s.jsx("code",{children:".env"}),": ",s.jsx("code",{children:"VITE_FIREBASE_API_KEY"}),", ",s.jsx("code",{children:"VITE_FIREBASE_AUTH_DOMAIN"}),", ",s.jsx("code",{children:"VITE_FIREBASE_PROJECT_ID"}),", ",s.jsx("code",{children:"VITE_FIREBASE_APP_ID"}),". Optional: ",s.jsx("code",{children:"VITE_ADMIN_EMAIL"})," (exact match), ",s.jsx("code",{children:"VITE_ADMIN_EMAIL_DOMAIN"})," (e.g. ",s.jsx("code",{children:"imediackids.com"}),")."]}),s.jsxs("div",{className:"text-xs text-gray-500 bg-gray-50 border rounded p-2",children:[s.jsx("div",{className:"font-semibold mb-1",children:"Detected env flags (no secrets):"}),s.jsxs("ul",{className:"list-disc ml-4",children:[s.jsxs("li",{children:["VITE_FIREBASE_API_KEY: ",f.apiKey?"":""]}),s.jsxs("li",{children:["VITE_FIREBASE_AUTH_DOMAIN: ",f.authDomain?"":""]}),s.jsxs("li",{children:["VITE_FIREBASE_PROJECT_ID: ",f.projectId?"":""]}),s.jsxs("li",{children:["VITE_FIREBASE_APP_ID: ",f.appId?"":""]})]}),s.jsxs("div",{className:"mt-2",children:["After editing ",s.jsx("code",{children:".env"}),", fully restart the dev server (",s.jsx("code",{children:"Ctrl+C"})," then ",s.jsx("code",{children:"npm run dev"}),")."]})]}),s.jsxs("div",{className:"text-xs text-gray-500 bg-gray-50 border rounded p-2",children:[s.jsx("div",{className:"font-semibold mb-1",children:"Debug config (masked)"}),s.jsxs("ul",{className:"list-disc ml-4",children:[s.jsxs("li",{children:["apiKey: ",x(g.apiKey)]}),s.jsxs("li",{children:["authDomain: ",g.authDomain]}),s.jsxs("li",{children:["projectId: ",g.projectId]}),s.jsxs("li",{children:["appId: ",x(g.appId,3,6)]}),s.jsxs("li",{children:["storageBucket: ",g.storageBucket]}),s.jsxs("li",{children:["messagingSenderId: ",g.messagingSenderId]})]}),s.jsxs("div",{className:"mt-2",children:["If values show as ",s.jsx("code",{children:"(empty)"}),", ensure your ",s.jsx("code",{children:".env"})," exists at the project root and variables start with ",s.jsx("code",{children:"VITE_"}),"."]})]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Admin login requires Firebase configuration. Once configured, use your email/password to sign in."})]})})]})})})}function cr({children:t}){const e=Bn(),[n,r]=v.useState(!1),[i,a]=v.useState(!1);return v.useEffect(()=>{let o=()=>{};const{app:c}=Bt();return c?o=pu(async()=>{const d=await ry();r(d),a(!0),d||e(et("AdminLogin"))}):(r(!1),a(!0),e(et("Home"))),()=>o&&o()},[e]),!i||!n?null:t}var y0="Switch",[Zfe]=Eo(y0),[epe,tpe]=Zfe(y0),DF=v.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:a,required:o,disabled:c,value:d="on",onCheckedChange:h,form:m,...f}=t,[g,x]=v.useState(null),_=Wt(e,k=>x(k)),w=v.useRef(!1),j=g?m||!!g.closest("form"):!0,[N,E]=Kc({prop:i,defaultProp:a??!1,onChange:h,caller:y0});return s.jsxs(epe,{scope:n,checked:N,disabled:c,children:[s.jsx(kt.button,{type:"button",role:"switch","aria-checked":N,"aria-required":o,"data-state":FF(N),"data-disabled":c?"":void 0,disabled:c,value:d,...f,ref:_,onClick:Je(t.onClick,k=>{E(C=>!C),j&&(w.current=k.isPropagationStopped(),w.current||k.stopPropagation())})}),j&&s.jsx(LF,{control:g,bubbles:!w.current,name:r,value:d,checked:N,required:o,disabled:c,form:m,style:{transform:"translateX(-100%)"}})]})});DF.displayName=y0;var MF="SwitchThumb",OF=v.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=tpe(MF,n);return s.jsx(kt.span,{"data-state":FF(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});OF.displayName=MF;var npe="SwitchBubbleInput",LF=v.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...i},a)=>{const o=v.useRef(null),c=Wt(o,a),d=cS(n),h=wN(e);return v.useEffect(()=>{const m=o.current;if(!m)return;const f=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(f,"checked").set;if(d!==n&&x){const _=new Event("click",{bubbles:r});x.call(m,n),m.dispatchEvent(_)}},[d,n,r]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:c,style:{...i.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});LF.displayName=npe;function FF(t){return t?"checked":"unchecked"}var VF=DF,rpe=OF;const Rs=v.forwardRef(({className:t,...e},n)=>s.jsx(VF,{className:ut("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:s.jsx(rpe,{className:ut("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));Rs.displayName=VF.displayName;const bw={siteTitle:"Islam Kids Zone",tagline:"Learn, Play & Grow",logoEmoji:"",headerGradient:"from-blue-600 to-purple-600",navActiveGradient:"from-blue-500 to-purple-500",backgroundGradient:"from-blue-50 via-purple-50 to-pink-50",darkModeDefault:!1,showTestBanner:!0,showRadioBar:!0,supportEmail:"imedia786@gmail.com",supportWhatsappNumber:"+971500000000",apiBaseUrl:"https://api.example.com",assetsCdnUrl:"https://cdn.example.com",radioUrl:"https://a4.asurahosting.com:7820/radio.mp3",maintenanceMode:!1,enableAnalytics:!1,enableMessages:!0,cacheTtlSeconds:600,recordingStudioText:"Welcome to Islam Media Central Recording Studio. Please record Quran recitation, nasheeds, or Islamic messages with clarity and respect."},nR=[{label:"Blue  Purple",value:"from-blue-600 to-purple-600"},{label:"Purple  Pink",value:"from-purple-600 to-pink-600"},{label:"Teal  Cyan",value:"from-teal-600 to-cyan-600"},{label:"Rose  Orange",value:"from-rose-600 to-orange-600"},{label:"Slate  Gray",value:"from-slate-700 to-gray-700"}],spe=[{label:"Blue/Purple/Pink",value:"from-blue-50 via-purple-50 to-pink-50"},{label:"Teal/Cyan",value:"from-teal-50 via-cyan-50 to-blue-50"},{label:"Rose/Orange",value:"from-rose-50 via-orange-50 to-yellow-50"},{label:"Neutral",value:"from-gray-50 to-gray-100"}];function UF(){const[t,e]=v.useState(bw),[n,r]=v.useState(!1),[i,a]=v.useState(""),[o,c]=v.useState(""),[d,h]=v.useState(""),[m,f]=v.useState("");v.useEffect(()=>{try{const x=localStorage.getItem("siteSettings");if(x){const _=JSON.parse(x);e({...bw,..._})}}catch{}},[]);const g=()=>{localStorage.setItem("siteSettings",JSON.stringify(t)),r(!0),setTimeout(()=>r(!1),1500)};return s.jsx("div",{className:`min-h-screen py-8 px-4 bg-gradient-to-br ${t.backgroundGradient}`,children:s.jsx("div",{className:"max-w-5xl mx-auto",children:s.jsxs(ne,{className:"shadow-xl border-2 border-blue-200",children:[s.jsx(Le,{className:`text-white bg-gradient-to-r ${t.headerGradient}`,children:s.jsxs(Fe,{className:"flex items-center gap-2",children:[s.jsx(Bd,{className:"w-6 h-6"})," Site Settings"]})}),s.jsxs(se,{className:"p-6 space-y-6",children:[n&&s.jsx("div",{className:"p-2 rounded bg-green-50 text-green-700 text-sm",children:"Settings saved"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Site Title"}),s.jsx(Te,{value:t.siteTitle,onChange:x=>e({...t,siteTitle:x.target.value})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Tagline"}),s.jsx(Te,{value:t.tagline,onChange:x=>e({...t,tagline:x.target.value})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Logo Emoji"}),s.jsx(Te,{value:t.logoEmoji,onChange:x=>e({...t,logoEmoji:x.target.value})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Header Gradient"}),s.jsxs(tn,{value:t.headerGradient,onValueChange:x=>e({...t,headerGradient:x}),children:[s.jsx(Gt,{children:s.jsx(nn,{placeholder:"Select gradient"})}),s.jsx(Qt,{children:nR.map(x=>s.jsx(Re,{value:x.value,children:x.label},x.value))})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Active Nav Gradient"}),s.jsxs(tn,{value:t.navActiveGradient,onValueChange:x=>e({...t,navActiveGradient:x}),children:[s.jsx(Gt,{children:s.jsx(nn,{placeholder:"Select gradient"})}),s.jsx(Qt,{children:nR.map(x=>s.jsx(Re,{value:x.value,children:x.label},x.value))})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Background Gradient"}),s.jsxs(tn,{value:t.backgroundGradient,onValueChange:x=>e({...t,backgroundGradient:x}),children:[s.jsx(Gt,{children:s.jsx(nn,{placeholder:"Select background"})}),s.jsx(Qt,{children:spe.map(x=>s.jsx(Re,{value:x.value,children:x.label},x.value))})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Dark Mode Default"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Rs,{checked:t.darkModeDefault,onCheckedChange:x=>e({...t,darkModeDefault:x})}),s.jsx("span",{className:"text-sm text-gray-600",children:"Apply dark mode on load"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Show Test Mode Banner"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Rs,{checked:t.showTestBanner,onCheckedChange:x=>e({...t,showTestBanner:x})}),s.jsx("span",{className:"text-sm text-gray-600",children:"Toggle info banner in Layout"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Show Radio Bar"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Rs,{checked:t.showRadioBar,onCheckedChange:x=>e({...t,showRadioBar:x})}),s.jsx("span",{className:"text-sm text-gray-600",children:"Enable persistent radio player"})]})]})]}),s.jsxs("div",{className:"pt-6 border-t",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Backend Settings"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Support Email"}),s.jsx(Te,{type:"email",value:t.supportEmail,onChange:x=>e({...t,supportEmail:x.target.value})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Support WhatsApp Number"}),s.jsx(Te,{value:t.supportWhatsappNumber,onChange:x=>e({...t,supportWhatsappNumber:x.target.value})})]}),s.jsxs("div",{className:"space-y-3 md:col-span-2",children:[s.jsx(ye,{children:"API Base URL"}),s.jsx(Te,{value:t.apiBaseUrl,onChange:x=>e({...t,apiBaseUrl:x.target.value})}),s.jsx("p",{className:"text-xs text-gray-500",children:"Non-secret; use env for sensitive keys."})]}),s.jsxs("div",{className:"space-y-3 md:col-span-2",children:[s.jsx(ye,{children:"Assets CDN URL"}),s.jsx(Te,{value:t.assetsCdnUrl,onChange:x=>e({...t,assetsCdnUrl:x.target.value})})]}),s.jsxs("div",{className:"space-y-3 md:col-span-2",children:[s.jsx(ye,{children:"Radio Stream URL"}),s.jsx(Te,{value:t.radioUrl,onChange:x=>e({...t,radioUrl:x.target.value})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Maintenance Mode"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Rs,{checked:t.maintenanceMode,onCheckedChange:x=>e({...t,maintenanceMode:x})}),s.jsx("span",{className:"text-sm text-gray-600",children:"Show site-wide maintenance banner"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Enable Analytics"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Rs,{checked:t.enableAnalytics,onCheckedChange:x=>e({...t,enableAnalytics:x})}),s.jsx("span",{className:"text-sm text-gray-600",children:"Toggle client-side telemetry hooks"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Enable Messages"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Rs,{checked:t.enableMessages,onCheckedChange:x=>e({...t,enableMessages:x})}),s.jsx("span",{className:"text-sm text-gray-600",children:"Toggle AdminMessages/Netlify function usage"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Cache TTL (seconds)"}),s.jsx(Te,{type:"number",min:"0",value:t.cacheTtlSeconds,onChange:x=>e({...t,cacheTtlSeconds:parseInt(x.target.value||0,10)})})]}),s.jsxs("div",{className:"space-y-3 md:col-span-2",children:[s.jsx(ye,{children:"Recording Studio Page Text"}),s.jsx(Pn,{value:t.recordingStudioText,onChange:x=>e({...t,recordingStudioText:x.target.value}),className:"min-h-[120px]",placeholder:"Write instructions, motivational messages, or Quran/Nasheed guidelines for users..."}),s.jsx("p",{className:"text-xs text-gray-500",children:"This appears at the top of the Recording Studio page."})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3 pt-4",children:[s.jsx(G,{onClick:g,children:"Save Settings"}),s.jsx(G,{variant:"outline",onClick:()=>e(bw),children:"Reset to Defaults"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Stored locally for now. For production, persist in Firestore or your backend (Netlify functions), with secure server-side enforcement."}),s.jsxs("div",{className:"pt-8 border-t",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Admin Auth Tools"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 items-end",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Check if Auth Email Exists"}),s.jsx(Te,{type:"email",placeholder:"user@example.com",value:i,onChange:x=>a(x.target.value)})]}),s.jsx("div",{className:"space-y-3",children:s.jsx(G,{onClick:async()=>{var x,_;c("");try{const{auth:w}=(await an(async()=>{const{getFirebase:k}=await Promise.resolve().then(()=>CA);return{getFirebase:k}},void 0)).getFirebase(),j=await((_=(x=w==null?void 0:w.currentUser)==null?void 0:x.getIdToken)==null?void 0:_.call(x));if(!j)throw new Error("Admin login required");const N=await fetch("/.netlify/functions/authLookup",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${j}`},body:JSON.stringify({email:i.trim().toLowerCase()})}),E=await N.json().catch(()=>({}));if(!N.ok)throw new Error((E==null?void 0:E.error)||`Error ${N.status}`);c(E.exists?`Exists (uid: ${E.uid})`:"Not found in Auth")}catch(w){c(`Lookup failed: ${w.message||w}`)}},children:"Check Email"})})]}),o&&s.jsx("div",{className:"mt-3 text-sm p-2 rounded border bg-white/60",children:o}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:'Requires admin login and server-side verification. Useful when signup says "email already in use" but no user appears in Firestore.'}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-6 items-end",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Delete Test Account (Email or UID)"}),s.jsx(Te,{placeholder:"user@example.com or UID",value:d,onChange:x=>h(x.target.value)})]}),s.jsx("div",{className:"space-y-3",children:s.jsx(G,{variant:"destructive",onClick:async()=>{var _,w;f("");const x=d.trim();if(!x){f("Provide email or UID");return}try{const{auth:j}=(await an(async()=>{const{getFirebase:P}=await Promise.resolve().then(()=>CA);return{getFirebase:P}},void 0)).getFirebase(),N=await((w=(_=j==null?void 0:j.currentUser)==null?void 0:_.getIdToken)==null?void 0:w.call(_));if(!N)throw new Error("Admin login required");const E=/@/.test(x),k=await fetch("/.netlify/functions/deleteUser",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${N}`},body:JSON.stringify(E?{email:x.toLowerCase()}:{uid:x})}),C=await k.json().catch(()=>({}));if(!k.ok)throw new Error((C==null?void 0:C.error)||`Error ${k.status}`);f(`Deleted: uid=${C.uid}${C.email?`, email=${C.email}`:""}`)}catch(j){f(`Delete failed: ${j.message||j}`)}},children:"Delete Account"})})]}),m&&s.jsx("div",{className:"mt-3 text-sm p-2 rounded border bg-white/60",children:m})]})]})]})})})}function zF(){const[t,e]=v.useState(null),[n,r]=v.useState(!1),[i,a]=v.useState(""),[o,c]=v.useState("all"),d=Vs();Bn();const[h,m]=v.useState({title:"",content:"",moral:"",image_url:"",audio_url:"",age_range:"5-12",category:"prophets"}),{data:f=[],isLoading:g}=vn({queryKey:["admin-stories"],queryFn:async()=>await base44.entities.Story.list("-created_date"),initialData:[]}),x=gn({mutationFn:async P=>await base44.entities.Story.create(P),onSuccess:()=>{d.invalidateQueries({queryKey:["admin-stories"]}),r(!1),j()}}),_=gn({mutationFn:async({id:P,storyData:F})=>await base44.entities.Story.update(P,F),onSuccess:()=>{d.invalidateQueries({queryKey:["admin-stories"]}),e(null),r(!1),j()}}),w=gn({mutationFn:async P=>await base44.entities.Story.delete(P),onSuccess:()=>{d.invalidateQueries({queryKey:["admin-stories"]})}}),j=()=>{m({title:"",content:"",moral:"",image_url:"",audio_url:"",age_range:"5-12",category:"prophets"})},N=P=>{e(P),m({title:P.title,content:P.content,moral:P.moral,image_url:P.image_url||"",audio_url:P.audio_url||"",age_range:P.age_range||"5-12",category:P.category}),r(!0)},E=async P=>{window.confirm("Are you sure you want to delete this story?")&&await w.mutateAsync(P)},k=async P=>{P.preventDefault(),t?await _.mutateAsync({id:t.id,storyData:h}):await x.mutateAsync(h)},C=f.filter(P=>{const F=P.title.toLowerCase().includes(i.toLowerCase())||P.content.toLowerCase().includes(i.toLowerCase()),D=o==="all"||P.category===o;return F&&D});return s.jsx("div",{className:"min-h-screen py-8 px-4 bg-gradient-to-br from-slate-50 to-blue-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Et,{to:et("AdminDashboard"),children:s.jsxs(G,{variant:"outline",children:[s.jsx(Ul,{className:"w-4 h-4 mr-2"}),"Back"]})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Stories Management"}),s.jsx("p",{className:"text-gray-600",children:"Create and manage Islamic stories"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Et,{to:et("Assistant"),children:s.jsxs(G,{variant:"outline",children:[s.jsx(ih,{className:"w-4 h-4 mr-2"}),"Open AI Agent"]})}),s.jsx(Et,{to:et("AdminMedia"),children:s.jsxs(G,{variant:"outline",children:[s.jsx(co,{className:"w-4 h-4 mr-2"}),"Media Library"]})}),s.jsxs(G,{onClick:()=>{r(!0),e(null),j()},className:"bg-green-600 hover:bg-green-700",children:[s.jsx(Ls,{className:"w-4 h-4 mr-2"}),"Add New Story"]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(uo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx(Te,{type:"text",placeholder:"Search stories...",value:i,onChange:P=>a(P.target.value),className:"pl-10"})]}),s.jsxs(tn,{value:o,onValueChange:c,children:[s.jsx(Gt,{className:"w-full sm:w-48",children:s.jsx(nn,{placeholder:"Filter by category"})}),s.jsxs(Qt,{children:[s.jsx(Re,{value:"all",children:"All Categories"}),s.jsx(Re,{value:"prophets",children:"Prophets"}),s.jsx(Re,{value:"sahabah",children:"Sahabah"}),s.jsx(Re,{value:"manners",children:"Manners"}),s.jsx(Re,{value:"kindness",children:"Kindness"}),s.jsx(Re,{value:"honesty",children:"Honesty"}),s.jsx(Re,{value:"gratitude",children:"Gratitude"}),s.jsx(Re,{value:"bedtime",children:"Bedtime"})]})]})]}),s.jsx(gs,{children:n&&s.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:s.jsxs(te.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"sticky top-0 bg-white border-b p-6 z-10",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl font-bold",children:t?"Edit Story":"Create New Story"}),s.jsx(G,{variant:"ghost",size:"icon",onClick:()=>{r(!1),e(null),j()},children:s.jsx(Qr,{className:"w-6 h-6"})})]})}),s.jsxs("form",{onSubmit:k,className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Title *"}),s.jsx(Te,{value:h.title,onChange:P=>m({...h,title:P.target.value}),required:!0,placeholder:"e.g., The Story of Prophet Yusuf"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Category *"}),s.jsxs(tn,{value:h.category,onValueChange:P=>m({...h,category:P}),children:[s.jsx(Gt,{children:s.jsx(nn,{})}),s.jsxs(Qt,{children:[s.jsx(Re,{value:"prophets",children:"Prophets"}),s.jsx(Re,{value:"sahabah",children:"Sahabah"}),s.jsx(Re,{value:"manners",children:"Manners"}),s.jsx(Re,{value:"kindness",children:"Kindness"}),s.jsx(Re,{value:"honesty",children:"Honesty"}),s.jsx(Re,{value:"gratitude",children:"Gratitude"}),s.jsx(Re,{value:"bedtime",children:"Bedtime"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Age Range"}),s.jsxs(tn,{value:h.age_range,onValueChange:P=>m({...h,age_range:P}),children:[s.jsx(Gt,{children:s.jsx(nn,{})}),s.jsxs(Qt,{children:[s.jsx(Re,{value:"3-6",children:"3-6 years"}),s.jsx(Re,{value:"5-12",children:"5-12 years"}),s.jsx(Re,{value:"7-10",children:"7-10 years"}),s.jsx(Re,{value:"11+",children:"11+ years"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Story Content * (Markdown supported)"}),s.jsx(Pn,{value:h.content,onChange:P=>m({...h,content:P.target.value}),required:!0,rows:12,placeholder:"Write your story here... You can use **bold**, *italic*, and # headings",className:"font-mono"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Tip: Use markdown formatting for better text styling"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Moral/Lesson *"}),s.jsx(Pn,{value:h.moral,onChange:P=>m({...h,moral:P.target.value}),required:!0,rows:3,placeholder:"What should children learn from this story?"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Image URL (optional)"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Te,{value:h.image_url,onChange:P=>m({...h,image_url:P.target.value}),placeholder:"https://... or upload via Media Library"}),s.jsx(Et,{to:et("AdminMedia"),target:"_blank",children:s.jsx(G,{type:"button",variant:"outline",children:s.jsx(co,{className:"w-4 h-4"})})})]}),h.image_url&&s.jsx("img",{src:h.image_url,alt:"Preview",className:"mt-2 h-32 object-cover rounded-lg",onError:P=>P.target.style.display="none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Audio URL (optional)"}),s.jsx(Te,{value:h.audio_url,onChange:P=>m({...h,audio_url:P.target.value}),placeholder:"https://... (MP3 audio narration)"})]}),s.jsxs("div",{className:"flex gap-4 justify-end border-t pt-6",children:[s.jsx(G,{type:"button",variant:"outline",onClick:()=>{r(!1),e(null),j()},children:"Cancel"}),s.jsxs(G,{type:"submit",className:"bg-green-600 hover:bg-green-700",children:[s.jsx(va,{className:"w-4 h-4 mr-2"}),t?"Update Story":"Create Story"]})]})]})]})})}),g?s.jsx("div",{className:"text-center py-12",children:"Loading stories..."}):C.length===0?s.jsxs(ne,{className:"p-12 text-center",children:[s.jsx(dn,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-gray-600",children:f.length===0?"No stories created yet.":"No stories match your search."}),s.jsx(G,{onClick:()=>r(!0),className:"mt-4",children:"Create Your First Story"})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:C.map(P=>s.jsxs(ne,{className:"hover:shadow-lg transition-shadow",children:[s.jsxs(Le,{className:"pb-3",children:[P.image_url&&s.jsx("div",{className:"h-48 -mx-6 -mt-6 mb-4 rounded-t-lg overflow-hidden",children:s.jsx("img",{src:P.image_url,alt:P.title,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsx(Fe,{className:"text-lg line-clamp-2",children:P.title}),s.jsx(we,{children:P.category})]})]}),s.jsxs(se,{children:[s.jsxs("p",{className:"text-sm text-gray-600 mb-4 line-clamp-3",children:[P.content.substring(0,150),"..."]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 mb-4",children:[s.jsx("span",{children:P.age_range}),P.audio_url&&s.jsx("span",{children:"  Audio"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(G,{onClick:()=>N(P),size:"sm",className:"flex-1 bg-blue-600 hover:bg-blue-700",children:[s.jsx(_o,{className:"w-4 h-4 mr-1"}),"Edit"]}),s.jsx(G,{onClick:()=>E(P.id),size:"sm",variant:"outline",className:"text-red-600 border-red-600 hover:bg-red-50",children:s.jsx(sr,{className:"w-4 h-4"})})]})]})]},P.id))}),s.jsxs("div",{className:"mt-8 grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsx(ne,{children:s.jsxs(se,{className:"p-4 text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:f.length}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total Stories"})]})}),s.jsx(ne,{children:s.jsxs(se,{className:"p-4 text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-green-600",children:f.filter(P=>P.image_url).length}),s.jsx("p",{className:"text-sm text-gray-600",children:"With Images"})]})}),s.jsx(ne,{children:s.jsxs(se,{className:"p-4 text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-purple-600",children:f.filter(P=>P.audio_url).length}),s.jsx("p",{className:"text-sm text-gray-600",children:"With Audio"})]})})]})]})})}function ipe(t){const e=ape(t),n=v.forwardRef((r,i)=>{const{children:a,...o}=r,c=v.Children.toArray(a),d=c.find(lpe);if(d){const h=d.props.children,m=c.map(f=>f===d?v.Children.count(h)>1?v.Children.only(null):v.isValidElement(h)?h.props.children:null:f);return s.jsx(e,{...o,ref:i,children:v.isValidElement(h)?v.cloneElement(h,void 0,m):null})}return s.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function ape(t){const e=v.forwardRef((n,r)=>{const{children:i,...a}=n;if(v.isValidElement(i)){const o=upe(i),c=cpe(a,i.props);return i.type!==v.Fragment&&(c.ref=r?So(r,o):o),v.cloneElement(i,c)}return v.Children.count(i)>1?v.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var ope=Symbol("radix.slottable");function lpe(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===ope}function cpe(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...c)=>{const d=a(...c);return i(...c),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function upe(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var v0="Dialog",[BF]=Eo(v0),[dpe,Ai]=BF(v0),$F=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:o=!0}=t,c=v.useRef(null),d=v.useRef(null),[h,m]=Kc({prop:r,defaultProp:i??!1,onChange:a,caller:v0});return s.jsx(dpe,{scope:e,triggerRef:c,contentRef:d,contentId:no(),titleId:no(),descriptionId:no(),open:h,onOpenChange:m,onOpenToggle:v.useCallback(()=>m(f=>!f),[m]),modal:o,children:n})};$F.displayName=v0;var qF="DialogTrigger",hpe=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ai(qF,n),a=Wt(e,i.triggerRef);return s.jsx(kt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":yS(i.open),...r,ref:a,onClick:Je(t.onClick,i.onOpenToggle)})});hpe.displayName=qF;var gS="DialogPortal",[mpe,HF]=BF(gS,{forceMount:void 0}),WF=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,a=Ai(gS,e);return s.jsx(mpe,{scope:e,forceMount:n,children:v.Children.map(r,o=>s.jsx(Co,{present:n||a.open,children:s.jsx(Ry,{asChild:!0,container:i,children:o})}))})};WF.displayName=gS;var dy="DialogOverlay",KF=v.forwardRef((t,e)=>{const n=HF(dy,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,a=Ai(dy,t.__scopeDialog);return a.modal?s.jsx(Co,{present:r||a.open,children:s.jsx(ppe,{...i,ref:e})}):null});KF.displayName=dy;var fpe=ipe("DialogOverlay.RemoveScroll"),ppe=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ai(dy,n);return s.jsx(Dy,{as:fpe,allowPinchZoom:!0,shards:[i.contentRef],children:s.jsx(kt.div,{"data-state":yS(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),lu="DialogContent",GF=v.forwardRef((t,e)=>{const n=HF(lu,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,a=Ai(lu,t.__scopeDialog);return s.jsx(Co,{present:r||a.open,children:a.modal?s.jsx(gpe,{...i,ref:e}):s.jsx(xpe,{...i,ref:e})})});GF.displayName=lu;var gpe=v.forwardRef((t,e)=>{const n=Ai(lu,t.__scopeDialog),r=v.useRef(null),i=Wt(e,n.contentRef,r);return v.useEffect(()=>{const a=r.current;if(a)return _N(a)},[]),s.jsx(QF,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Je(t.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Je(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0;(o.button===2||c)&&a.preventDefault()}),onFocusOutside:Je(t.onFocusOutside,a=>a.preventDefault())})}),xpe=v.forwardRef((t,e)=>{const n=Ai(lu,t.__scopeDialog),r=v.useRef(!1),i=v.useRef(!1);return s.jsx(QF,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,c;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(r.current||(c=n.triggerRef.current)==null||c.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var d,h;(d=t.onInteractOutside)==null||d.call(t,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((h=n.triggerRef.current)==null?void 0:h.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),QF=v.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=t,c=Ai(lu,n),d=v.useRef(null),h=Wt(e,d);return fN(),s.jsxs(s.Fragment,{children:[s.jsx(Ey,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:s.jsx(Sy,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":yS(c.open),...o,ref:h,onDismiss:()=>c.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(ype,{titleId:c.titleId}),s.jsx(bpe,{contentRef:d,descriptionId:c.descriptionId})]})]})}),xS="DialogTitle",YF=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ai(xS,n);return s.jsx(kt.h2,{id:i.titleId,...r,ref:e})});YF.displayName=xS;var JF="DialogDescription",XF=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ai(JF,n);return s.jsx(kt.p,{id:i.descriptionId,...r,ref:e})});XF.displayName=JF;var ZF="DialogClose",eV=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ai(ZF,n);return s.jsx(kt.button,{type:"button",...r,ref:e,onClick:Je(t.onClick,()=>i.onOpenChange(!1))})});eV.displayName=ZF;function yS(t){return t?"open":"closed"}var tV="DialogTitleWarning",[xge,nV]=tW(tV,{contentName:lu,titleName:xS,docsSlug:"dialog"}),ype=({titleId:t})=>{const e=nV(tV),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return v.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},vpe="DialogDescriptionWarning",bpe=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${nV(vpe).contentName}}.`;return v.useEffect(()=>{var a;const i=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},wpe=$F,jpe=WF,rV=KF,sV=GF,iV=YF,aV=XF,Npe=eV;const Cf=wpe,_pe=jpe,oV=v.forwardRef(({className:t,...e},n)=>s.jsx(rV,{ref:n,className:ut("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));oV.displayName=rV.displayName;const Zd=v.forwardRef(({className:t,children:e,...n},r)=>s.jsxs(_pe,{children:[s.jsx(oV,{}),s.jsxs(sV,{ref:r,className:ut("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,s.jsxs(Npe,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(Qr,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Zd.displayName=sV.displayName;const eh=({className:t,...e})=>s.jsx("div",{className:ut("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});eh.displayName="DialogHeader";const th=v.forwardRef(({className:t,...e},n)=>s.jsx(iV,{ref:n,className:ut("text-lg font-semibold leading-none tracking-tight",t),...e}));th.displayName=iV.displayName;const Spe=v.forwardRef(({className:t,...e},n)=>s.jsx(aV,{ref:n,className:ut("text-sm text-muted-foreground",t),...e}));Spe.displayName=aV.displayName;function lV(){const[t,e]=v.useState(!1),[n,r]=v.useState(null),[i,a]=v.useState(!1),[o,c]=v.useState({title:"",mp3_url:"",cover_image:"",description:"",transcript:"",moral_lesson:"",duration:"",age_group:"all",category:"story",subcategory:"",language:"English",allow_download:!1,featured:!1}),d=Vs(),{data:h=[],isLoading:m}=vn({queryKey:["admin-audio"],queryFn:()=>base44.entities.AudioContent.list("-created_date"),initialData:[]}),f=gn({mutationFn:E=>base44.entities.AudioContent.create(E),onSuccess:()=>{d.invalidateQueries({queryKey:["admin-audio"]}),e(!1),_()}}),g=gn({mutationFn:({id:E,data:k})=>base44.entities.AudioContent.update(E,k),onSuccess:()=>{d.invalidateQueries({queryKey:["admin-audio"]}),e(!1),_()}}),x=gn({mutationFn:E=>base44.entities.AudioContent.delete(E),onSuccess:()=>{d.invalidateQueries({queryKey:["admin-audio"]})}}),_=()=>{c({title:"",mp3_url:"",cover_image:"",description:"",transcript:"",moral_lesson:"",duration:"",age_group:"all",category:"story",subcategory:"",language:"English",allow_download:!1,featured:!1}),r(null)},w=E=>{r(E),c({title:E.title||"",mp3_url:E.mp3_url||"",cover_image:E.cover_image||"",description:E.description||"",transcript:E.transcript||"",moral_lesson:E.moral_lesson||"",duration:E.duration||"",age_group:E.age_group||"all",category:E.category||"story",subcategory:E.subcategory||"",language:E.language||"English",allow_download:E.allow_download||!1,featured:E.featured||!1}),e(!0)},j=E=>{E.preventDefault(),n?g.mutate({id:n.id,data:o}):f.mutate(o)},N=async(E,k)=>{const C=E.target.files[0];if(C){a(!0);try{const{file_url:P}=await base44.integrations.Core.UploadFile({file:C});c({...o,[k]:P})}catch(P){console.error("Error uploading file:",P),alert("Failed to upload file")}finally{a(!1)}}};return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"Audio Content Management"}),s.jsxs(G,{onClick:()=>{_(),e(!0)},className:"bg-green-600 hover:bg-green-700",children:[s.jsx(Ls,{className:"w-4 h-4 mr-2"}),"Add New Audio"]})]}),m?s.jsx("p",{className:"text-center py-12 text-gray-500",children:"Loading audio content..."}):s.jsx("div",{className:"grid gap-6",children:h.map((E,k)=>s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:k*.05},children:s.jsxs(ne,{children:[s.jsx(Le,{children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex gap-4 flex-1",children:[E.cover_image&&s.jsx("img",{src:E.cover_image,alt:E.title,className:"w-20 h-20 rounded object-cover"}),s.jsxs("div",{className:"flex-1",children:[s.jsx(Fe,{className:"text-xl mb-2",children:E.title}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:E.category}),s.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:E.age_group}),E.duration&&s.jsx("span",{className:"text-xs bg-gray-100 text-gray-800 px-2 py-1 rounded",children:E.duration}),E.featured&&s.jsx("span",{className:"text-xs bg-amber-100 text-amber-800 px-2 py-1 rounded",children:" Featured"})]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[E.mp3_url&&s.jsx(G,{variant:"outline",size:"sm",onClick:()=>window.open(E.mp3_url,"_blank"),children:s.jsx(hr,{className:"w-4 h-4"})}),s.jsx(G,{variant:"outline",size:"sm",onClick:()=>w(E),children:s.jsx(UB,{className:"w-4 h-4"})}),s.jsx(G,{variant:"outline",size:"sm",onClick:()=>{confirm("Are you sure you want to delete this audio?")&&x.mutate(E.id)},className:"text-red-600 hover:text-red-700",children:s.jsx(sr,{className:"w-4 h-4"})})]})]})}),E.description&&s.jsx(se,{children:s.jsx("p",{className:"text-gray-600 text-sm line-clamp-2",children:E.description})})]})},E.id))}),s.jsx(Cf,{open:t,onOpenChange:e,children:s.jsxs(Zd,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[s.jsx(eh,{children:s.jsx(th,{children:n?"Edit Audio":"Add New Audio"})}),s.jsxs("form",{onSubmit:j,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"title",children:"Title *"}),s.jsx(Te,{id:"title",value:o.title,onChange:E=>c({...o,title:E.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"duration",children:"Duration (MM:SS)"}),s.jsx(Te,{id:"duration",value:o.duration,onChange:E=>c({...o,duration:E.target.value}),placeholder:"05:30"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"category",children:"Category *"}),s.jsxs(tn,{value:o.category,onValueChange:E=>c({...o,category:E}),children:[s.jsx(Gt,{children:s.jsx(nn,{})}),s.jsxs(Qt,{children:[s.jsx(Re,{value:"story",children:"Story"}),s.jsx(Re,{value:"hadith",children:"Hadith"}),s.jsx(Re,{value:"history",children:"History"}),s.jsx(Re,{value:"nasheed",children:"Nasheed"}),s.jsx(Re,{value:"tajweed",children:"Tajweed"}),s.jsx(Re,{value:"fiqh",children:"Fiqh"}),s.jsx(Re,{value:"quran",children:"Quran"})]})]})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"age_group",children:"Age Group"}),s.jsxs(tn,{value:o.age_group,onValueChange:E=>c({...o,age_group:E}),children:[s.jsx(Gt,{children:s.jsx(nn,{})}),s.jsxs(Qt,{children:[s.jsx(Re,{value:"3-6",children:"3-6 years"}),s.jsx(Re,{value:"7-10",children:"7-10 years"}),s.jsx(Re,{value:"11+",children:"11+ years"}),s.jsx(Re,{value:"all",children:"All Ages"})]})]})]})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"description",children:"Description"}),s.jsx(Pn,{id:"description",value:o.description,onChange:E=>c({...o,description:E.target.value}),rows:3})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"mp3",children:"Audio File (MP3) *"}),s.jsxs("div",{className:"flex gap-2 items-end",children:[s.jsx("div",{className:"flex-1",children:s.jsx(Te,{id:"mp3",value:o.mp3_url,onChange:E=>c({...o,mp3_url:E.target.value}),placeholder:"MP3 URL or upload below",required:!0})}),s.jsxs(G,{type:"button",variant:"outline",onClick:()=>document.getElementById("mp3-upload").click(),disabled:i,children:[s.jsx(ho,{className:"w-4 h-4 mr-2"}),i?"Uploading...":"Upload"]}),s.jsx("input",{id:"mp3-upload",type:"file",accept:"audio/*",className:"hidden",onChange:E=>N(E,"mp3_url")})]})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"cover",children:"Cover Image"}),s.jsxs("div",{className:"flex gap-2 items-end",children:[s.jsx("div",{className:"flex-1",children:s.jsx(Te,{id:"cover",value:o.cover_image,onChange:E=>c({...o,cover_image:E.target.value}),placeholder:"Image URL or upload below"})}),s.jsxs(G,{type:"button",variant:"outline",onClick:()=>document.getElementById("cover-upload").click(),disabled:i,children:[s.jsx(ho,{className:"w-4 h-4 mr-2"}),i?"Uploading...":"Upload"]}),s.jsx("input",{id:"cover-upload",type:"file",accept:"image/*",className:"hidden",onChange:E=>N(E,"cover_image")})]})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"transcript",children:"Transcript"}),s.jsx(Pn,{id:"transcript",value:o.transcript,onChange:E=>c({...o,transcript:E.target.value}),rows:6,placeholder:"Full text transcript of the audio..."})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"moral",children:"Moral Lesson"}),s.jsx(Pn,{id:"moral",value:o.moral_lesson,onChange:E=>c({...o,moral_lesson:E.target.value}),rows:2})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"featured",checked:o.featured,onChange:E=>c({...o,featured:E.target.checked}),className:"w-4 h-4"}),s.jsx(ye,{htmlFor:"featured",className:"cursor-pointer",children:"Featured Content"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"allow_download",checked:o.allow_download,onChange:E=>c({...o,allow_download:E.target.checked}),className:"w-4 h-4"}),s.jsx(ye,{htmlFor:"allow_download",className:"cursor-pointer",children:"Allow Downloads"})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx(G,{type:"button",variant:"outline",onClick:()=>e(!1),className:"flex-1",children:"Cancel"}),s.jsx(G,{type:"submit",disabled:f.isPending||g.isPending,className:"flex-1 bg-green-600 hover:bg-green-700",children:n?"Update Audio":"Create Audio"})]})]})]})})]})})}function cV(){const[t,e]=v.useState(null),[n,r]=v.useState(!1),[i,a]=v.useState([]),[o,c]=v.useState(null),[d,h]=v.useState(""),[m,f]=v.useState(!1),[g,x]=v.useState([]);Bn(),v.useEffect(()=>{_()},[]);const _=()=>{const I=localStorage.getItem("uploaded_media_files");I&&a(JSON.parse(I))},w=I=>{localStorage.setItem("uploaded_media_files",JSON.stringify(I)),a(I)},j=v.useCallback(I=>{I.preventDefault(),I.stopPropagation(),I.type==="dragenter"||I.type==="dragover"?f(!0):I.type==="dragleave"&&f(!1)},[]),N=v.useCallback(I=>{I.preventDefault(),I.stopPropagation(),f(!1),I.dataTransfer.files&&I.dataTransfer.files[0]&&k(I.dataTransfer.files)},[]),E=I=>{I.target.files&&I.target.files[0]&&k(I.target.files)},k=async I=>{r(!0);const M=[];for(let O=0;O<I.length;O++){const U=I[O];try{const X=await Xe.integrations.Core.UploadFile({file:U});M.push({id:Date.now()+O,name:U.name,url:X.file_url,type:U.type,size:U.size,uploadedAt:new Date().toISOString()})}catch(X){console.error("Upload failed:",X),alert(`Failed to upload ${U.name}`)}}const V=[...M,...i];w(V),r(!1)},C=I=>{navigator.clipboard.writeText(I),c(I),setTimeout(()=>c(null),2e3)},P=I=>{if(window.confirm("Delete this file? This won't delete it from storage but removes it from this list.")){const M=i.filter(V=>V.id!==I);w(M)}},F=I=>{g.includes(I)?x(g.filter(M=>M!==I)):x([...g,I])},D=()=>{if(window.confirm(`Delete ${g.length} selected files?`)){const I=i.filter(M=>!g.includes(M.id));w(I),x([])}},R=i.filter(I=>I.name.toLowerCase().includes(d.toLowerCase()));return s.jsx("div",{className:"min-h-screen py-8 px-4 bg-gradient-to-br from-slate-50 to-blue-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Et,{to:et("AdminDashboard"),children:s.jsxs(G,{variant:"outline",children:[s.jsx(Ul,{className:"w-4 h-4 mr-2"}),"Back"]})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Media Library"}),s.jsx("p",{className:"text-gray-600",children:"Upload and manage images & files"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Et,{to:et("Assistant"),children:s.jsxs(G,{variant:"outline",children:[s.jsx(ih,{className:"w-4 h-4 mr-2"}),"Open AI Agent"]})}),g.length>0&&s.jsxs(G,{onClick:D,variant:"destructive",children:[s.jsx(sr,{className:"w-4 h-4 mr-2"}),"Delete ",g.length," Selected"]})]})]}),s.jsxs(ne,{className:"mb-8",children:[s.jsx(Le,{children:s.jsxs(Fe,{className:"flex items-center gap-2",children:[s.jsx(ho,{className:"w-6 h-6"}),"Upload Files"]})}),s.jsx(se,{children:s.jsx("div",{className:`border-4 border-dashed rounded-xl p-12 text-center transition-all ${m?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:j,onDragLeave:j,onDragOver:j,onDrop:N,children:n?s.jsxs("div",{children:[s.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Uploading..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(co,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Drag & Drop Files Here"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"or click to browse (supports multiple files)"}),s.jsx("input",{type:"file",multiple:!0,onChange:E,className:"hidden",id:"file-input",accept:"image/*,audio/*,video/*"}),s.jsx("label",{htmlFor:"file-input",children:s.jsx(G,{type:"button",className:"cursor-pointer",asChild:!0,children:s.jsxs("span",{children:[s.jsx(ho,{className:"w-4 h-4 mr-2"}),"Choose Files"]})})}),s.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Supported: Images, Audio, Video files"})]})})})]}),s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(uo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx(Te,{type:"text",placeholder:"Search files...",value:d,onChange:I=>h(I.target.value),className:"pl-10"})]}),s.jsxs("div",{className:"text-sm text-gray-600",children:[R.length," files"]})]})}),R.length===0?s.jsxs(ne,{className:"p-12 text-center",children:[s.jsx(co,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-gray-600",children:i.length===0?"No files uploaded yet. Upload your first file above!":"No files match your search."})]}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:s.jsx(gs,{children:R.map(I=>{var M,V,O;return s.jsx(te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},children:s.jsx(ne,{className:`hover:shadow-lg transition-all cursor-pointer ${g.includes(I.id)?"ring-2 ring-blue-500":""}`,children:s.jsxs(se,{className:"p-0",children:[s.jsxs("div",{className:"relative h-48 bg-gray-100 rounded-t-lg overflow-hidden",onClick:()=>F(I.id),children:[(M=I.type)!=null&&M.startsWith("image/")?s.jsx("img",{src:I.url,alt:I.name,className:"w-full h-full object-cover"}):(V=I.type)!=null&&V.startsWith("audio/")?s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx("div",{className:"text-6xl",children:""})}):(O=I.type)!=null&&O.startsWith("video/")?s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx("div",{className:"text-6xl",children:""})}):s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx("div",{className:"text-6xl",children:""})}),g.includes(I.id)&&s.jsx("div",{className:"absolute top-2 right-2 bg-blue-500 text-white rounded-full p-1",children:s.jsx(tf,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("p",{className:"font-semibold text-sm mb-2 truncate",title:I.name,children:I.name}),s.jsxs("p",{className:"text-xs text-gray-500 mb-3",children:[(I.size/1024).toFixed(1)," KB  ",new Date(I.uploadedAt).toLocaleDateString()]}),s.jsx("div",{className:"flex items-center gap-2 mb-3",children:s.jsx(Te,{value:I.url,readOnly:!0,className:"text-xs flex-1",onClick:U=>U.target.select()})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(G,{size:"sm",className:"flex-1",onClick:()=>C(I.url),children:o===I.url?s.jsxs(s.Fragment,{children:[s.jsx(tf,{className:"w-3 h-3 mr-1"}),"Copied!"]}):s.jsxs(s.Fragment,{children:[s.jsx(Wz,{className:"w-3 h-3 mr-1"}),"Copy URL"]})}),s.jsx(G,{size:"sm",variant:"outline",onClick:()=>P(I.id),className:"text-red-600 hover:bg-red-50",children:s.jsx(sr,{className:"w-3 h-3"})})]})]})]})})},I.id)})})}),s.jsx(ne,{className:"mt-8 bg-blue-50 border-blue-200",children:s.jsxs(se,{className:"p-6",children:[s.jsx("h3",{className:"font-bold text-lg mb-3",children:" How to Use Uploaded Files"}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[s.jsxs("p",{children:["1. ",s.jsx("strong",{children:"Copy the URL"})," from any file above"]}),s.jsxs("p",{children:["2. ",s.jsx("strong",{children:"Paste it"})," into Story Image URL, Audio URL, or Video fields"]}),s.jsx("p",{children:"3. The file will be displayed in your content"}),s.jsxs("p",{children:["4. ",s.jsx("strong",{children:"Tip:"})," Upload images for stories, audio for lessons, videos for tutorials"]})]})]})})]})})}function uV(){const t=[{icon:FR,title:"Information We Collect",color:"from-blue-500 to-cyan-500",content:[{subtitle:"Personal Information",text:"When you create an account, we collect basic information such as your child's name, age, city, and email address. We only collect the minimum information necessary to provide our services."},{subtitle:"Usage Data",text:"We collect information about how you use our website, including pages visited, games played, and learning progress. This helps us improve our services and provide a better experience."},{subtitle:"Recordings and Submissions",text:"If your child submits audio recordings, drawings, or writings through our platform, we store this content along with the associated user information."}]},{icon:Cj,title:"How We Use Your Information",color:"from-green-500 to-emerald-500",content:[{subtitle:"Service Delivery",text:"We use your information to provide access to educational content, games, and learning materials on our platform."},{subtitle:"Progress Tracking",text:"We track learning progress, points, and achievements to motivate children and provide personalized learning experiences."},{subtitle:"Communication",text:"We may send important updates about the platform, new features, or educational content. We will never send spam or share your email with third parties."},{subtitle:"Improvement",text:"We analyze usage patterns to improve our content and make the learning experience better for all children."}]},{icon:QC,title:"Children's Privacy",color:"from-purple-500 to-pink-500",content:[{subtitle:"Age Requirements",text:"Our service is designed for children aged 3-18. We take children's privacy very seriously and comply with applicable children's privacy laws."},{subtitle:"Parental Consent",text:"We encourage parents to be involved in their children's online activities. Parents can request to review, update, or delete their child's information at any time."},{subtitle:"Safe Environment",text:"We maintain a safe, ad-free environment. We never show advertisements or share children's information with third-party advertisers."},{subtitle:"No Public Profiles",text:"Children's profiles and personal information are not publicly visible. Only usernames and points appear on leaderboards."}]},{icon:oh,title:"Data Protection & Security",color:"from-amber-500 to-orange-500",content:[{subtitle:"Secure Storage",text:"We use industry-standard security measures to protect your information. All data is stored securely using encryption."},{subtitle:"Access Control",text:"Access to personal information is restricted to authorized personnel only, and only when necessary for service delivery."},{subtitle:"No Data Selling",text:"We will never sell, rent, or trade your personal information or your child's information to third parties."}]},{icon:_j,title:"Third-Party Services",color:"from-red-500 to-rose-500",content:[{subtitle:"External Links",text:"Our website may contain links to external websites (e.g., SearchTruth.com for Hadith search). We are not responsible for the privacy practices of these external sites."},{subtitle:"Analytics",text:"We may use basic analytics to understand how our service is used, but we do not share personal information with analytics providers."},{subtitle:"Content Delivery",text:"We use secure content delivery networks (CDNs) to serve Quran audio and other educational content."}]},{icon:QC,title:"Your Rights",color:"from-indigo-500 to-purple-500",content:[{subtitle:"Access Your Data",text:"You have the right to access all personal information we hold about you or your child."},{subtitle:"Update Information",text:"You can update your profile information at any time through your account settings."},{subtitle:"Delete Account",text:"You can request deletion of your account and all associated data at any time by contacting us."},{subtitle:"Data Portability",text:"You can request a copy of your data in a portable format."}]}];return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-5xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Privacy Policy"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Your privacy and your child's safety are our top priorities"}),s.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Last Updated: January 2025"})]}),s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-12",children:s.jsx(ne,{className:"border-2 border-blue-300 shadow-xl bg-gradient-to-br from-blue-50 to-purple-50",children:s.jsxs(se,{className:"p-8",children:[s.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"Welcome to Islam Kids Zone. We are committed to protecting your privacy and ensuring a safe online environment for children. This Privacy Policy explains how we collect, use, and protect your information."}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:"By using our website, you agree to the collection and use of information in accordance with this policy. If you do not agree with our policies, please do not use our service."})]})})}),s.jsx("div",{className:"space-y-8 mb-12",children:t.map((e,n)=>{const r=e.icon;return s.jsx(te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:n*.1},children:s.jsxs(ne,{className:"border-2 border-gray-200 shadow-lg hover:shadow-xl transition-all",children:[s.jsx(Le,{children:s.jsxs(Fe,{className:"flex items-center gap-3 text-2xl",children:[s.jsx("div",{className:`w-12 h-12 rounded-xl bg-gradient-to-br ${e.color} flex items-center justify-center`,children:s.jsx(r,{className:"w-6 h-6 text-white"})}),e.title]})}),s.jsx(se,{className:"space-y-6",children:e.content.map((i,a)=>s.jsxs("div",{className:"bg-gray-50 p-5 rounded-lg border-l-4 border-blue-400",children:[s.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:i.subtitle}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:i.text})]},a))})]})},e.title)})}),s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"mb-12",children:s.jsxs(ne,{className:"border-2 border-amber-300 shadow-xl",children:[s.jsx(Le,{className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white",children:s.jsx(Fe,{className:"text-2xl",children:" Cookies & Tracking"})}),s.jsxs(se,{className:"p-6 space-y-4",children:[s.jsxs("p",{className:"text-gray-700",children:[s.jsx("strong",{children:"What are cookies?"})," Cookies are small text files stored on your device that help us remember your preferences and provide a better experience."]}),s.jsxs("div",{className:"bg-amber-50 p-4 rounded-lg",children:[s.jsxs("p",{className:"text-gray-700 mb-2",children:[s.jsx("strong",{children:"Essential Cookies:"})," Required for the website to function properly (e.g., login sessions)."]}),s.jsxs("p",{className:"text-gray-700",children:[s.jsx("strong",{children:"Analytics Cookies:"})," Help us understand how visitors use our site to improve it."]})]}),s.jsx("p",{className:"text-gray-700",children:"You can disable cookies in your browser settings, but this may affect your ability to use certain features of our website."})]})]})}),s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"mb-12",children:s.jsxs(ne,{className:"border-2 border-green-300 shadow-xl",children:[s.jsx(Le,{className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white",children:s.jsx(Fe,{className:"text-2xl",children:" Data Retention"})}),s.jsxs(se,{className:"p-6",children:[s.jsx("p",{className:"text-gray-700 mb-4",children:"We retain your personal information only for as long as necessary to provide our services and comply with legal obligations."}),s.jsxs("ul",{className:"space-y-2 text-gray-700",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-green-600 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Active Accounts:"})," Data is retained while your account is active."]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-green-600 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Inactive Accounts:"})," Accounts inactive for 2 years may be deleted after notification."]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-green-600 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Deleted Accounts:"})," Upon request, we delete all personal data within 30 days."]})]})]})]})]})}),s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"mb-12",children:s.jsxs(ne,{className:"border-2 border-purple-300 shadow-xl",children:[s.jsx(Le,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white",children:s.jsx(Fe,{className:"text-2xl",children:" Changes to This Policy"})}),s.jsxs(se,{className:"p-6",children:[s.jsx("p",{className:"text-gray-700 mb-4",children:'We may update our Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page and updating the "Last Updated" date.'}),s.jsx("p",{className:"text-gray-700",children:"We encourage you to review this Privacy Policy periodically for any changes. Changes to this Privacy Policy are effective when they are posted on this page."})]})]})}),s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},children:s.jsxs(ne,{className:"border-2 border-blue-300 shadow-2xl bg-gradient-to-br from-blue-50 to-cyan-50",children:[s.jsx(Le,{children:s.jsxs(Fe,{className:"text-2xl flex items-center gap-2",children:[s.jsx(xy,{className:"w-6 h-6 text-blue-600"}),"Contact Us"]})}),s.jsxs(se,{className:"p-6",children:[s.jsx("p",{className:"text-gray-700 mb-4",children:"If you have any questions about this Privacy Policy, or if you want to exercise your rights regarding your personal information, please contact us:"}),s.jsx("div",{className:"bg-white p-6 rounded-xl border-2 border-blue-200",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("p",{className:"text-gray-700",children:[s.jsx("strong",{children:"Email:"})," ",s.jsx("a",{href:"mailto:huzaify786@gmail.com",className:"text-blue-600 hover:text-blue-700 underline",children:"huzaify786@gmail.com"})]}),s.jsxs("p",{className:"text-gray-700",children:[s.jsx("strong",{children:"WhatsApp:"})," ",s.jsx("a",{href:"https://wa.me/447447999284",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-700 underline",children:"+44 744 799 9284"})]}),s.jsxs("p",{className:"text-gray-700",children:[s.jsx("strong",{children:"Contact Page:"})," ",s.jsx(Et,{to:et("ContactUs"),className:"text-blue-600 hover:text-blue-700 underline",children:"Visit our Contact Page"})]})]})}),s.jsx("p",{className:"text-sm text-gray-600 mt-4",children:"We aim to respond to all privacy-related inquiries within 48 hours."})]})]})}),s.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"mt-12 text-center",children:s.jsx("p",{className:"text-gray-600 text-sm",children:"Islam Kids Zone is committed to creating a safe, educational, and enjoyable online experience for Muslim children worldwide. "})})]})})}const ww=[{id:"islamic_quiz",name:"Islamic Quiz",icon:""},{id:"word_search",name:"Word Search",icon:""},{id:"memory_match",name:"Memory Match",icon:""},{id:"seerah",name:"Seerah Quiz",icon:""},{id:"quran",name:"Quran Quiz",icon:""},{id:"hadith",name:"Hadith Match",icon:""}];function dV(){const t=Bn(),e=Vs(),[n,r]=v.useState(null),[i,a]=v.useState(!1),[o,c]=v.useState(ww[0].id),[d,h]=v.useState(""),[m,f]=v.useState("all");v.useEffect(()=>{g()},[]);const g=async()=>{try{if(await base44.auth.isAuthenticated()){const M=await base44.auth.me();r(M)}else t(et("Games"))}catch(I){console.error("Error loading user:",I),t(et("Games"))}},{data:x=[]}=vn({queryKey:["all-users"],queryFn:async()=>(await base44.entities.User.list("-points",100)).filter(M=>M.id!==(n==null?void 0:n.id)&&M.email),enabled:!!n,initialData:[]}),{data:_=[],isLoading:w}=vn({queryKey:["challenges",n==null?void 0:n.id],queryFn:async()=>{if(!n)return[];const I=await base44.entities.Challenge.filter({challenger_id:n.id},"-created_date",100),M=await base44.entities.Challenge.filter({opponent_id:n.id},"-created_date",100);return[...I,...M]},enabled:!!n,initialData:[]}),j=gn({mutationFn:async I=>await base44.entities.Challenge.create(I),onSuccess:()=>{e.invalidateQueries({queryKey:["challenges"]}),a(!1),h("")}}),N=gn({mutationFn:async I=>await base44.entities.Challenge.update(I,{status:"accepted"}),onSuccess:()=>{e.invalidateQueries({queryKey:["challenges"]})}}),E=gn({mutationFn:async I=>await base44.entities.Challenge.update(I,{status:"declined"}),onSuccess:()=>{e.invalidateQueries({queryKey:["challenges"]})}}),k=async()=>{if(!d||!n)return;const I=x.find(V=>V.email===d);if(!I){alert("User not found. Please check the email address.");return}const M=new Date;M.setDate(M.getDate()+7),await j.mutateAsync({challenger_id:n.id,challenger_name:n.full_name||n.email,opponent_id:I.id,opponent_name:I.full_name||I.email,game_type:o,status:"pending",expires_at:M.toISOString()}),alert(`Challenge sent to ${I.full_name||I.email}!`)},C=async I=>{await N.mutateAsync(I.id),t(et("Games")+`?challenge=${I.id}`)},P=I=>{t(et("Games")+`?challenge=${I.id}`)},F=_.filter(I=>m==="all"?!0:m==="sent"?I.challenger_id===(n==null?void 0:n.id):m==="received"?I.opponent_id===(n==null?void 0:n.id)&&I.status==="pending":m==="completed"?I.status==="completed":!0),D=I=>{const M=I.challenger_id===(n==null?void 0:n.id);switch(I.status){case"pending":return s.jsx(we,{className:"bg-yellow-500",children:M?"Waiting":"New!"});case"accepted":return s.jsx(we,{className:"bg-blue-500",children:"In Progress"});case"completed":return s.jsx(we,{className:"bg-green-500",children:"Completed"});case"declined":return s.jsx(we,{className:"bg-red-500",children:"Declined"});default:return null}},R=I=>{if(I.status!=="completed"||!I.winner_id)return null;const M=I.winner_id===(n==null?void 0:n.id);return I.challenger_score===I.opponent_score?s.jsx(we,{className:"bg-gray-500",children:"Draw"}):M?s.jsxs(we,{className:"bg-green-500 flex items-center gap-1",children:[s.jsx(br,{className:"w-3 h-3"})," You Won!"]}):s.jsx(we,{className:"bg-red-500",children:"You Lost"})};return n?s.jsx("div",{className:"min-h-screen py-8 px-4 bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx("div",{className:"flex items-center justify-between mb-8",children:s.jsxs(G,{variant:"ghost",onClick:()=>t(et("Games")),className:"text-gray-600",children:[s.jsx(Ul,{className:"w-4 h-4 mr-2"}),"Back to Games"]})}),s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Challenge Arena"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Challenge friends and compete for glory!"})]}),s.jsx("div",{className:"mb-8",children:s.jsxs(G,{onClick:()=>a(!i),size:"lg",className:"w-full md:w-auto bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:[s.jsx(a$,{className:"w-5 h-5 mr-2"}),"Send New Challenge"]})}),s.jsx(gs,{children:i&&s.jsx(te.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mb-8",children:s.jsxs(ne,{className:"border-2 border-purple-300 shadow-xl",children:[s.jsx(Le,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white",children:s.jsx(Fe,{children:"Create New Challenge"})}),s.jsx(se,{className:"p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Select Game Type"}),s.jsxs(tn,{value:o,onValueChange:c,children:[s.jsx(Gt,{children:s.jsx(nn,{})}),s.jsx(Qt,{children:ww.map(I=>s.jsxs(Re,{value:I.id,children:[I.icon," ",I.name]},I.id))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Opponent's Email"}),s.jsx(Te,{type:"email",value:d,onChange:I=>h(I.target.value),placeholder:"friend@example.com",list:"users-list"}),s.jsx("datalist",{id:"users-list",children:x.map(I=>s.jsx("option",{value:I.email,children:I.full_name||I.email},I.id))})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(G,{onClick:k,disabled:!d||j.isPending,className:"flex-1 bg-gradient-to-r from-green-500 to-teal-500",children:[s.jsx(Nx,{className:"w-4 h-4 mr-2"}),j.isPending?"Sending...":"Send Challenge"]}),s.jsx(G,{onClick:()=>a(!1),variant:"outline",className:"flex-1",children:"Cancel"})]})]})})]})})}),s.jsx("div",{className:"flex gap-2 mb-6 overflow-x-auto",children:[{id:"all",label:"All Challenges",icon:Bl},{id:"received",label:"New Challenges",icon:Ya},{id:"sent",label:"Sent",icon:Nx},{id:"completed",label:"Completed",icon:br}].map(I=>{const M=I.icon;return s.jsxs(G,{onClick:()=>f(I.id),variant:m===I.id?"default":"outline",className:m===I.id?"bg-purple-500":"",children:[s.jsx(M,{className:"w-4 h-4 mr-2"}),I.label]},I.id)})}),w?s.jsx("div",{className:"text-center py-12",children:"Loading challenges..."}):F.length===0?s.jsx(ne,{className:"border-2 border-gray-200",children:s.jsxs(se,{className:"p-12 text-center",children:[s.jsx(oo,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-gray-600",children:"No challenges yet. Send one to get started!"})]})}):s.jsx("div",{className:"grid gap-4",children:F.map((I,M)=>{const V=I.challenger_id===n.id,O=V?I.opponent_name:I.challenger_name,U=ww.find(re=>re.id===I.game_type),X=new Date(I.expires_at)<new Date;return s.jsx(te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:M*.1},children:s.jsx(ne,{className:"border-2 hover:shadow-xl transition-all",children:s.jsx(se,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"text-3xl",children:U==null?void 0:U.icon}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg text-gray-900",children:U==null?void 0:U.name}),s.jsxs("p",{className:"text-sm text-gray-600",children:[V?"vs":"from"," ",O]})]})]}),I.status==="completed"&&s.jsxs("div",{className:"flex gap-4 mt-3 text-sm",children:[s.jsxs("div",{className:"bg-blue-50 px-3 py-2 rounded-lg",children:[s.jsx("span",{className:"text-gray-600",children:"Your score: "}),s.jsx("span",{className:"font-bold text-blue-600",children:V?I.challenger_score:I.opponent_score})]}),s.jsxs("div",{className:"bg-purple-50 px-3 py-2 rounded-lg",children:[s.jsx("span",{className:"text-gray-600",children:"Their score: "}),s.jsx("span",{className:"font-bold text-purple-600",children:V?I.opponent_score:I.challenger_score})]})]}),X&&I.status==="pending"&&s.jsx(we,{className:"bg-gray-500 mt-2",children:"Expired"})]}),s.jsxs("div",{className:"flex flex-col items-end gap-2",children:[D(I),R(I),I.status==="pending"&&!V&&!X&&s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsxs(G,{onClick:()=>C(I),size:"sm",className:"bg-green-500 hover:bg-green-600",children:[s.jsx(oa,{className:"w-4 h-4 mr-1"}),"Accept"]}),s.jsxs(G,{onClick:()=>E.mutate(I.id),size:"sm",variant:"outline",className:"text-red-500 border-red-500",children:[s.jsx(gy,{className:"w-4 h-4 mr-1"}),"Decline"]})]}),I.status==="accepted"&&s.jsxs(G,{onClick:()=>P(I),size:"sm",className:"bg-blue-500 hover:bg-blue-600 mt-2",children:[s.jsx(oo,{className:"w-4 h-4 mr-1"}),"Play Now"]})]})]})})})},I.id)})})]})}):s.jsx("div",{className:"text-center py-12",children:"Loading..."})}function hV(){const t=Vs(),[e,n]=v.useState(!1),[r,i]=v.useState(null),[a,o]=v.useState(""),[c,d]=v.useState("all"),[h,m]=v.useState("all"),[f,g]=v.useState({category:"Quran",difficulty:"easy",question:"",options:["","","",""],correct_answer_index:0,explanation:"",source:"",age_group:"all",is_active:!0}),x=["Quran","Hadith","Seerah","Fiqh","Prophets","Sahabah","Akhlaq","History","Arabic","Beliefs"],_=["easy","medium","hard"],w=["5-8","9-12","13+","all"],{data:j=[],isLoading:N}=vn({queryKey:["quiz-questions"],queryFn:()=>base44.entities.QuizQuestion.list("-date_added",500),initialData:[]}),E=gn({mutationFn:O=>base44.entities.QuizQuestion.create(O),onSuccess:()=>{t.invalidateQueries({queryKey:["quiz-questions"]}),R()}}),k=gn({mutationFn:({id:O,data:U})=>base44.entities.QuizQuestion.update(O,U),onSuccess:()=>{t.invalidateQueries({queryKey:["quiz-questions"]}),R()}}),C=gn({mutationFn:O=>base44.entities.QuizQuestion.delete(O),onSuccess:()=>{t.invalidateQueries({queryKey:["quiz-questions"]})}}),P=async O=>{O.preventDefault();const U={...f,date_added:new Date().toISOString().split("T")[0]};r?await k.mutateAsync({id:r.id,data:U}):await E.mutateAsync(U)},F=O=>{i(O),g({category:O.category,difficulty:O.difficulty,question:O.question,options:O.options,correct_answer_index:O.correct_answer_index,explanation:O.explanation,source:O.source||"",age_group:O.age_group||"all",is_active:O.is_active??!0}),n(!0)},D=async O=>{window.confirm("Are you sure you want to delete this question?")&&await C.mutateAsync(O)},R=()=>{g({category:"Quran",difficulty:"easy",question:"",options:["","","",""],correct_answer_index:0,explanation:"",source:"",age_group:"all",is_active:!0}),i(null),n(!1)},I=(O,U)=>{const X=[...f.options];X[O]=U,g({...f,options:X})},M=j.filter(O=>{const U=O.question.toLowerCase().includes(a.toLowerCase())||O.explanation.toLowerCase().includes(a.toLowerCase()),X=c==="all"||O.category===c,re=h==="all"||O.difficulty===h;return U&&X&&re}),V={total:j.length,active:j.filter(O=>O.is_active).length,byCategory:x.reduce((O,U)=>(O[U]=j.filter(X=>X.category===U).length,O),{}),byDifficulty:_.reduce((O,U)=>(O[U]=j.filter(X=>X.difficulty===U).length,O),{})};return N?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("p",{className:"text-gray-600",children:"Loading questions..."})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 py-8 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Quiz Questions Manager"}),s.jsx("p",{className:"text-gray-600",children:"Manage questions for Islamic Knowledge Quiz"})]}),s.jsxs(G,{onClick:()=>n(!e),className:"bg-blue-600 hover:bg-blue-700",children:[e?s.jsx(Qr,{className:"w-4 h-4 mr-2"}):s.jsx(Ls,{className:"w-4 h-4 mr-2"}),e?"Cancel":"Add New Question"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[s.jsx(ne,{children:s.jsx(se,{className:"p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Questions"}),s.jsx("p",{className:"text-3xl font-bold text-blue-600",children:V.total})]})})}),s.jsx(ne,{children:s.jsx(se,{className:"p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Active"}),s.jsx("p",{className:"text-3xl font-bold text-green-600",children:V.active})]})})}),s.jsx(ne,{children:s.jsx(se,{className:"p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Easy"}),s.jsx("p",{className:"text-3xl font-bold text-green-500",children:V.byDifficulty.easy||0})]})})}),s.jsx(ne,{children:s.jsx(se,{className:"p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Hard"}),s.jsx("p",{className:"text-3xl font-bold text-red-500",children:V.byDifficulty.hard||0})]})})})]}),s.jsx(gs,{children:e&&s.jsx(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:s.jsxs(ne,{className:"mb-8 border-2 border-blue-300",children:[s.jsx(Le,{className:"bg-gradient-to-r from-blue-50 to-purple-50",children:s.jsx(Fe,{children:r?"Edit Question":"Add New Question"})}),s.jsx(se,{className:"p-6",children:s.jsxs("form",{onSubmit:P,className:"space-y-4",children:[s.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"Category"}),s.jsxs(tn,{value:f.category,onValueChange:O=>g({...f,category:O}),children:[s.jsx(Gt,{children:s.jsx(nn,{})}),s.jsx(Qt,{children:x.map(O=>s.jsx(Re,{value:O,children:O},O))})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Difficulty"}),s.jsxs(tn,{value:f.difficulty,onValueChange:O=>g({...f,difficulty:O}),children:[s.jsx(Gt,{children:s.jsx(nn,{})}),s.jsx(Qt,{children:_.map(O=>s.jsx(Re,{value:O,children:O.charAt(0).toUpperCase()+O.slice(1)},O))})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Age Group"}),s.jsxs(tn,{value:f.age_group,onValueChange:O=>g({...f,age_group:O}),children:[s.jsx(Gt,{children:s.jsx(nn,{})}),s.jsx(Qt,{children:w.map(O=>s.jsx(Re,{value:O,children:O},O))})]})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Question"}),s.jsx(Pn,{value:f.question,onChange:O=>g({...f,question:O.target.value}),placeholder:"Enter your question...",required:!0,rows:2})]}),s.jsxs("div",{children:[s.jsx(ye,{className:"mb-2 block",children:"Answer Options"}),f.options.map((O,U)=>s.jsxs("div",{className:"flex gap-2 mb-2",children:[s.jsx(we,{className:f.correct_answer_index===U?"bg-green-500":"bg-gray-400",children:U+1}),s.jsx(Te,{value:O,onChange:X=>I(U,X.target.value),placeholder:`Option ${U+1}`,required:!0}),s.jsxs(G,{type:"button",variant:f.correct_answer_index===U?"default":"outline",onClick:()=>g({...f,correct_answer_index:U}),className:"whitespace-nowrap",children:[f.correct_answer_index===U?s.jsx(Wc,{className:"w-4 h-4 mr-1"}):null,"Correct"]})]},U))]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Explanation"}),s.jsx(Pn,{value:f.explanation,onChange:O=>g({...f,explanation:O.target.value}),placeholder:"Explain the correct answer...",required:!0,rows:3})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Source (Optional)"}),s.jsx(Te,{value:f.source,onChange:O=>g({...f,source:O.target.value}),placeholder:"e.g., Quran 2:255, Sahih Bukhari 1234"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rs,{checked:f.is_active,onCheckedChange:O=>g({...f,is_active:O})}),s.jsx(ye,{children:"Active (Show in quiz)"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(G,{type:"submit",className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(va,{className:"w-4 h-4 mr-2"}),r?"Update":"Create"," Question"]}),s.jsx(G,{type:"button",variant:"outline",onClick:R,children:"Cancel"})]})]})})]})})}),s.jsx(ne,{className:"mb-6",children:s.jsx(se,{className:"p-4",children:s.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsxs(ye,{className:"mb-2 flex items-center gap-2",children:[s.jsx(uo,{className:"w-4 h-4"}),"Search"]}),s.jsx(Te,{value:a,onChange:O=>o(O.target.value),placeholder:"Search questions..."})]}),s.jsxs("div",{children:[s.jsxs(ye,{className:"mb-2 flex items-center gap-2",children:[s.jsx(HC,{className:"w-4 h-4"}),"Category"]}),s.jsxs(tn,{value:c,onValueChange:d,children:[s.jsx(Gt,{children:s.jsx(nn,{})}),s.jsxs(Qt,{children:[s.jsx(Re,{value:"all",children:"All Categories"}),x.map(O=>s.jsx(Re,{value:O,children:O},O))]})]})]}),s.jsxs("div",{children:[s.jsxs(ye,{className:"mb-2 flex items-center gap-2",children:[s.jsx(HC,{className:"w-4 h-4"}),"Difficulty"]}),s.jsxs(tn,{value:h,onValueChange:m,children:[s.jsx(Gt,{children:s.jsx(nn,{})}),s.jsxs(Qt,{children:[s.jsx(Re,{value:"all",children:"All Difficulties"}),_.map(O=>s.jsx(Re,{value:O,children:O.charAt(0).toUpperCase()+O.slice(1)},O))]})]})]})]})})}),s.jsx("div",{className:"space-y-4",children:M.map((O,U)=>s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:U*.05},children:s.jsx(ne,{className:O.is_active?"":"opacity-60",children:s.jsx(se,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(we,{children:O.category}),s.jsx(we,{variant:"outline",className:O.difficulty==="easy"?"bg-green-100":O.difficulty==="medium"?"bg-yellow-100":"bg-red-100",children:O.difficulty}),s.jsx(we,{variant:"outline",children:O.age_group}),!O.is_active&&s.jsx(we,{variant:"destructive",children:"Inactive"})]}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:O.question}),s.jsx("div",{className:"space-y-1 mb-3",children:O.options.map((X,re)=>s.jsxs("div",{className:`text-sm ${re===O.correct_answer_index?"text-green-600 font-semibold":"text-gray-600"}`,children:[re===O.correct_answer_index&&s.jsx(Wc,{className:"w-3 h-3 inline mr-1"}),re+1,". ",X]},re))}),s.jsxs("p",{className:"text-sm text-gray-700 bg-blue-50 p-2 rounded",children:[s.jsx("strong",{children:"Explanation:"})," ",O.explanation]}),O.source&&s.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Source: ",O.source]})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx(G,{onClick:()=>F(O),variant:"outline",size:"sm",children:s.jsx(_o,{className:"w-4 h-4"})}),s.jsx(G,{onClick:()=>D(O.id),variant:"outline",size:"sm",className:"text-red-600 hover:bg-red-50",children:s.jsx(sr,{className:"w-4 h-4"})})]})]})})})},O.id))}),M.length===0&&s.jsx(ne,{children:s.jsx(se,{className:"p-12 text-center",children:s.jsx("p",{className:"text-gray-500",children:"No questions found. Add some questions to get started!"})})})]})})}function mV(){const[t,e]=v.useState(null),[n,r]=v.useState(""),[i,a]=v.useState("all"),[o,c]=v.useState("all"),{data:d=[],isLoading:h}=vn({queryKey:["videos"],queryFn:()=>Xe.entities.Video.list("-created_date"),initialData:[]}),m=[{id:"all",name:"All Videos",emoji:""},{id:"prophets",name:"Prophets",emoji:""},{id:"manners",name:"Manners",emoji:""},{id:"duas",name:"Duas",emoji:""},{id:"facts",name:"Islamic Facts",emoji:""},{id:"series",name:"Series",emoji:""}],f={prophets:"bg-blue-100 text-blue-800",manners:"bg-green-100 text-green-800",duas:"bg-purple-100 text-purple-800",facts:"bg-amber-100 text-amber-800",series:"bg-pink-100 text-pink-800"},g=w=>{if(!w)return null;const j=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,N=w.match(j);return N&&N[2].length===11?N[2]:null},x=w=>{const j=g(w);return j?`https://img.youtube.com/vi/${j}/hqdefault.jpg`:null},_=d.filter(w=>{const j=w.title.toLowerCase().includes(n.toLowerCase())||w.description&&w.description.toLowerCase().includes(n.toLowerCase()),N=i==="all"||w.category===i,E=o==="all"||w.filter_tag===o;return j&&N&&E});return s.jsx("div",{className:"min-h-screen py-8 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Islamic Video Library"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Watch educational Islamic videos, stories, and lessons!"})]}),s.jsxs("div",{className:"mb-8 space-y-4",children:[s.jsxs("div",{className:"relative max-w-2xl mx-auto",children:[s.jsx(uo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx(Te,{type:"text",placeholder:"Search videos...",value:n,onChange:w=>r(w.target.value),className:"pl-10 pr-4 py-6 text-lg"})]}),s.jsxs("div",{className:"flex flex-wrap gap-3 justify-center",children:[s.jsxs(tn,{value:i,onValueChange:a,children:[s.jsx(Gt,{className:"w-48",children:s.jsx(nn,{placeholder:"Category"})}),s.jsx(Qt,{children:m.map(w=>s.jsxs(Re,{value:w.id,children:[w.emoji," ",w.name]},w.id))})]}),s.jsxs(tn,{value:o,onValueChange:c,children:[s.jsx(Gt,{className:"w-48",children:s.jsx(nn,{placeholder:"Video Length"})}),s.jsxs(Qt,{children:[s.jsx(Re,{value:"all",children:"All Lengths"}),s.jsx(Re,{value:"short",children:"Short (0-5 min)"}),s.jsx(Re,{value:"lesson",children:"Lesson (5-15 min)"}),s.jsx(Re,{value:"series",children:"Series (15+ min)"})]})]})]})]}),h?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(to,{className:"w-16 h-16 mx-auto mb-4 text-gray-300 animate-pulse"}),s.jsx("p",{className:"text-gray-500",children:"Loading videos..."})]}):_.length===0?s.jsx(ne,{className:"border-2 border-gray-200",children:s.jsxs(se,{className:"p-12 text-center",children:[s.jsx(to,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-gray-600",children:n||i!=="all"?"No videos found matching your criteria.":"No videos available yet. Check back soon!"})]})}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:_.map((w,j)=>{const N=w.thumbnail_url||x(w.video_url);return s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:j*.1},children:s.jsx(ne,{className:"h-full hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 cursor-pointer group overflow-hidden",children:s.jsxs("div",{onClick:()=>e(w),className:"relative",children:[s.jsxs("div",{className:"h-48 overflow-hidden bg-gradient-to-br from-purple-100 to-blue-100 relative",children:[N?s.jsx("img",{src:N,alt:w.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300",onError:E=>{E.target.style.display="none"}}):s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx(to,{className:"w-16 h-16 text-gray-400"})}),s.jsx("div",{className:"absolute inset-0 bg-black/30 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:s.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center",children:s.jsx(hr,{className:"w-8 h-8 text-blue-600 ml-1"})})})]}),s.jsxs(Le,{children:[s.jsx("div",{className:"flex items-start justify-between gap-2 mb-2",children:s.jsx(Fe,{className:"text-lg group-hover:text-blue-600 transition-colors line-clamp-2",children:w.title})}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[w.category&&s.jsx(we,{className:f[w.category],children:w.category}),w.duration&&s.jsxs(we,{variant:"outline",className:"flex items-center gap-1",children:[s.jsx(Ya,{className:"w-3 h-3"}),w.duration]}),w.filter_tag&&s.jsx(we,{variant:"outline",children:w.filter_tag})]})]}),w.description&&s.jsx(se,{children:s.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:w.description})})]})})},w.id)})}),s.jsx(Cf,{open:t!==null,onOpenChange:()=>e(null),children:s.jsxs(Zd,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(eh,{children:[s.jsx(th,{className:"text-2xl font-bold pr-8",children:t==null?void 0:t.title}),s.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[(t==null?void 0:t.category)&&s.jsx(we,{className:f[t.category],children:t.category}),(t==null?void 0:t.duration)&&s.jsxs(we,{variant:"outline",className:"flex items-center gap-1",children:[s.jsx(Ya,{className:"w-3 h-3"}),t.duration]})]})]}),t&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"aspect-video w-full rounded-lg overflow-hidden bg-black",children:s.jsx("iframe",{width:"100%",height:"100%",src:`https://www.youtube.com/embed/${g(t.video_url)}?autoplay=1`,title:t.title,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-full"})}),t.description&&s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"About this video:"}),s.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:t.description})]})]})]})})]})})}function fV(){const t=Vs(),[e,n]=v.useState(!1),[r,i]=v.useState(null),[a,o]=v.useState({title:"",video_url:"",thumbnail_url:"",category:"prophets",duration:"",filter_tag:"lesson",description:""}),{data:c=[],isLoading:d}=vn({queryKey:["videos"],queryFn:()=>base44.entities.Video.list("-created_date"),initialData:[]}),h=gn({mutationFn:j=>base44.entities.Video.create(j),onSuccess:()=>{t.invalidateQueries({queryKey:["videos"]}),g(),alert("Video added successfully!")}}),m=gn({mutationFn:({id:j,data:N})=>base44.entities.Video.update(j,N),onSuccess:()=>{t.invalidateQueries({queryKey:["videos"]}),g(),alert("Video updated successfully!")}}),f=gn({mutationFn:j=>base44.entities.Video.delete(j),onSuccess:()=>{t.invalidateQueries({queryKey:["videos"]}),alert("Video deleted successfully!")}}),g=()=>{o({title:"",video_url:"",thumbnail_url:"",category:"prophets",duration:"",filter_tag:"lesson",description:""}),i(null),n(!1)},x=j=>{o({title:j.title||"",video_url:j.video_url||"",thumbnail_url:j.thumbnail_url||"",category:j.category||"prophets",duration:j.duration||"",filter_tag:j.filter_tag||"lesson",description:j.description||""}),i(j),n(!0)},_=j=>{if(j.preventDefault(),!a.title||!a.video_url){alert("Please fill in title and video URL");return}let N={...a};if(!N.thumbnail_url&&a.video_url.includes("youtube")){const E=w(a.video_url);E&&(N.thumbnail_url=`https://img.youtube.com/vi/${E}/hqdefault.jpg`)}r?m.mutate({id:r.id,data:N}):h.mutate(N)},w=j=>{const N=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,E=j.match(N);return E&&E[2].length===11?E[2]:null};return s.jsx("div",{className:"min-h-screen py-8 px-4 bg-gradient-to-br from-purple-50 to-blue-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Manage Videos"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Add and manage YouTube videos for the video library"})]}),s.jsx("div",{className:"mb-6",children:s.jsxs(G,{onClick:()=>n(!0),size:"lg",className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600",children:[s.jsx(Ls,{className:"w-5 h-5 mr-2"}),"Add New Video"]})}),s.jsx(Cf,{open:e,onOpenChange:j=>!j&&g(),children:s.jsxs(Zd,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(eh,{children:s.jsx(th,{children:r?"Edit Video":"Add New Video"})}),s.jsxs("form",{onSubmit:_,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"title",children:"Video Title *"}),s.jsx(Te,{id:"title",value:a.title,onChange:j=>o({...a,title:j.target.value}),placeholder:"e.g., Story of Prophet Muhammad ",required:!0})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"video_url",children:"YouTube URL *"}),s.jsx(Te,{id:"video_url",value:a.video_url,onChange:j=>o({...a,video_url:j.target.value}),placeholder:"https://www.youtube.com/watch?v=...",required:!0}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Thumbnail will be auto-generated from YouTube"})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"category",children:"Category"}),s.jsxs(tn,{value:a.category,onValueChange:j=>o({...a,category:j}),children:[s.jsx(Gt,{children:s.jsx(nn,{})}),s.jsxs(Qt,{children:[s.jsx(Re,{value:"prophets",children:"Prophets"}),s.jsx(Re,{value:"manners",children:"Manners"}),s.jsx(Re,{value:"duas",children:"Duas"}),s.jsx(Re,{value:"facts",children:"Islamic Facts"}),s.jsx(Re,{value:"series",children:"Series"})]})]})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"filter_tag",children:"Video Length"}),s.jsxs(tn,{value:a.filter_tag,onValueChange:j=>o({...a,filter_tag:j}),children:[s.jsx(Gt,{children:s.jsx(nn,{})}),s.jsxs(Qt,{children:[s.jsx(Re,{value:"short",children:"Short (0-5 min)"}),s.jsx(Re,{value:"lesson",children:"Lesson (5-15 min)"}),s.jsx(Re,{value:"series",children:"Series (15+ min)"})]})]})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"duration",children:"Duration"}),s.jsx(Te,{id:"duration",value:a.duration,onChange:j=>o({...a,duration:j.target.value}),placeholder:"e.g., 10:25"})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"description",children:"Description"}),s.jsx(Pn,{id:"description",value:a.description,onChange:j=>o({...a,description:j.target.value}),placeholder:"Brief description of the video content...",rows:4})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsxs(G,{type:"submit",disabled:h.isPending||m.isPending,className:"flex-1 bg-green-500 hover:bg-green-600",children:[s.jsx(va,{className:"w-4 h-4 mr-2"}),r?"Update":"Add"," Video"]}),s.jsxs(G,{type:"button",onClick:g,variant:"outline",className:"flex-1",children:[s.jsx(Qr,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]})]})}),d?s.jsx("div",{className:"text-center py-12",children:"Loading videos..."}):c.length===0?s.jsx(ne,{children:s.jsxs(se,{className:"p-12 text-center",children:[s.jsx(to,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-gray-600",children:"No videos yet. Add your first video!"})]})}):s.jsx("div",{className:"grid gap-4",children:c.map((j,N)=>s.jsx(te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:N*.05},children:s.jsx(ne,{children:s.jsx(se,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-32 h-20 bg-gray-200 rounded-lg overflow-hidden flex-shrink-0",children:j.thumbnail_url?s.jsx("img",{src:j.thumbnail_url,alt:j.title,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx(to,{className:"w-8 h-8 text-gray-400"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-2 truncate",children:j.title}),s.jsxs("div",{className:"flex flex-wrap gap-2 mb-2",children:[s.jsx(we,{children:j.category}),j.filter_tag&&s.jsx(we,{variant:"outline",children:j.filter_tag}),j.duration&&s.jsx(we,{variant:"outline",children:j.duration})]}),j.description&&s.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:j.description})]}),s.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[s.jsx(G,{onClick:()=>x(j),size:"sm",variant:"outline",children:s.jsx(_o,{className:"w-4 h-4"})}),s.jsx(G,{onClick:()=>{confirm("Are you sure you want to delete this video?")&&f.mutate(j.id)},size:"sm",variant:"outline",className:"text-red-500 border-red-500 hover:bg-red-50",children:s.jsx(sr,{className:"w-4 h-4"})})]})]})})})},j.id))})]})})}function pV(){Vs();const[t,e]=v.useState(!1),[n,r]=v.useState(!1),[i,a]=v.useState(null),[o,c]=v.useState(!1),[d,h]=v.useState({audio:!1,image:!1}),m=v.useRef(null),f=v.useRef(null),[g,x]=v.useState({title:"",slug:"",mp3_url:"",youtube_id:"",cover_image:"",description:"",transcript:"",moral_lesson:"",duration:"",age_group:"all",category:"story",subcategory:"",language:"English",tags:[],license_source:"",allow_download:!1,featured:!1}),_=()=>{if(!g.title||!g.category){alert("Please fill in at least the title and category");return}g.slug||(g.slug=g.title.toLowerCase().replace(/[^a-z0-9]+/g,"-")),typeof g.tags=="string"&&(g.tags=g.tags.split(",").map(C=>C.trim()).filter(C=>C)),createAudioMutation.mutate(g)},w=C=>{a(C),x({title:C.title||"",slug:C.slug||"",mp3_url:C.mp3_url||"",youtube_id:C.youtube_id||"",cover_image:C.cover_image||"",description:C.description||"",transcript:C.transcript||"",moral_lesson:C.moral_lesson||"",duration:C.duration||"",age_group:C.age_group||"all",category:C.category||"story",subcategory:C.subcategory||"",language:C.language||"English",tags:C.tags||[],license_source:C.license_source||"",allow_download:C.allow_download||!1,featured:C.featured||!1}),r(!0)},j=()=>{i&&(typeof g.tags=="string"&&(g.tags=g.tags.split(",").map(C=>C.trim()).filter(C=>C)),updateAudioMutation.mutate({id:i.id,data:g}))},N=C=>{confirm(`Are you sure you want to delete "${C.title}"? This action cannot be undone.`)&&deleteAudioMutation.mutate(C.id)},E=()=>{x({title:"",slug:"",mp3_url:"",youtube_id:"",cover_image:"",description:"",transcript:"",moral_lesson:"",duration:"",age_group:"all",category:"story",subcategory:"",language:"English",tags:[],license_source:"",allow_download:!1,featured:!1}),a(null)},k={story:"bg-blue-100 text-blue-800",hadith:"bg-green-100 text-green-800",history:"bg-purple-100 text-purple-800",nasheed:"bg-pink-100 text-pink-800",tajweed:"bg-amber-100 text-amber-800",fiqh:"bg-indigo-100 text-indigo-800",quran:"bg-emerald-100 text-emerald-800"};return s.jsx("div",{className:"min-h-screen py-8 px-4 bg-gradient-to-br from-purple-50 to-pink-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Audio Content Management"}),s.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"Upload and manage Islamic audio stories, lessons, and nasheeds"}),s.jsxs(G,{onClick:()=>e(!0),size:"lg",className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:[s.jsx(Ls,{className:"w-5 h-5 mr-2"}),"Add New Audio"]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4 mb-6",children:[s.jsx(ne,{children:s.jsxs(se,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-purple-600",children:audioContent.length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Audio"})]})}),s.jsx(ne,{children:s.jsxs(se,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-green-600",children:audioContent.filter(C=>C.status==="active").length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Active"})]})}),s.jsx(ne,{children:s.jsxs(se,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-amber-600",children:audioContent.filter(C=>C.featured).length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Featured"})]})}),s.jsx(ne,{children:s.jsxs(se,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-blue-600",children:audioContent.reduce((C,P)=>C+(P.plays_count||0),0)}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Plays"})]})})]}),isLoading?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(jx,{className:"w-16 h-16 mx-auto mb-4 text-gray-300 animate-pulse"}),s.jsx("p",{className:"text-gray-500",children:"Loading audio content..."})]}):audioContent.length===0?s.jsx(ne,{children:s.jsxs(se,{className:"p-12 text-center",children:[s.jsx(lo,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"No audio content yet"}),s.jsxs(G,{onClick:()=>e(!0),children:[s.jsx(Ls,{className:"w-4 h-4 mr-2"}),"Add First Audio"]})]})}):s.jsx("div",{className:"grid gap-4",children:audioContent.map((C,P)=>s.jsx(te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:P*.05},children:s.jsx(ne,{className:"hover:shadow-lg transition-shadow",children:s.jsx(se,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-purple-200 to-pink-200 rounded-lg flex-shrink-0 overflow-hidden",children:C.cover_image?s.jsx("img",{src:C.cover_image,alt:C.title,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx(jx,{className:"w-12 h-12 text-gray-400"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h3",{className:"font-bold text-lg text-gray-900 truncate pr-4",children:C.title}),s.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[s.jsx(G,{onClick:()=>w(C),size:"sm",variant:"outline",className:"text-blue-600",children:s.jsx(_o,{className:"w-4 h-4"})}),s.jsx(G,{onClick:()=>N(C),size:"sm",variant:"outline",className:"text-red-500",children:s.jsx(sr,{className:"w-4 h-4"})})]})]}),C.description&&s.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:C.description}),s.jsxs("div",{className:"flex flex-wrap gap-2 mb-2",children:[s.jsx(we,{className:k[C.category],children:C.category}),C.subcategory&&s.jsx(we,{variant:"outline",children:C.subcategory}),C.duration&&s.jsx(we,{variant:"outline",children:C.duration}),C.age_group&&s.jsxs(we,{variant:"outline",children:["Ages: ",C.age_group]}),C.featured&&s.jsx(we,{className:"bg-amber-500",children:" Featured"})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[C.mp3_url&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(lo,{className:"w-3 h-3"}),"Audio uploaded"]}),C.plays_count>0&&s.jsxs("span",{children:[C.plays_count," plays"]}),s.jsx("span",{children:C.language||"English"})]})]})]})})})},C.id))}),s.jsx(Cf,{open:t,onOpenChange:C=>!C&&E(),children:s.jsxs(Zd,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(eh,{children:s.jsx(th,{className:"text-2xl",children:"Add New Audio Content"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx(ye,{htmlFor:"title",children:"Title *"}),s.jsx(Te,{id:"title",value:g.title,onChange:C=>x({...g,title:C.target.value}),placeholder:"e.g., Story of Prophet Ibrahim"})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"category",children:"Category *"}),s.jsxs(tn,{value:g.category,onValueChange:C=>x({...g,category:C}),children:[s.jsx(Gt,{children:s.jsx(nn,{})}),s.jsxs(Qt,{children:[s.jsx(Re,{value:"story",children:"Story"}),s.jsx(Re,{value:"hadith",children:"Hadith"}),s.jsx(Re,{value:"history",children:"History"}),s.jsx(Re,{value:"nasheed",children:"Nasheed"}),s.jsx(Re,{value:"tajweed",children:"Tajweed"}),s.jsx(Re,{value:"fiqh",children:"Fiqh"}),s.jsx(Re,{value:"quran",children:"Quran"})]})]})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"age_group",children:"Age Group"}),s.jsxs(tn,{value:g.age_group,onValueChange:C=>x({...g,age_group:C}),children:[s.jsx(Gt,{children:s.jsx(nn,{})}),s.jsxs(Qt,{children:[s.jsx(Re,{value:"3-6",children:"3-6 years"}),s.jsx(Re,{value:"7-10",children:"7-10 years"}),s.jsx(Re,{value:"11+",children:"11+ years"}),s.jsx(Re,{value:"all",children:"All ages"})]})]})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Audio File (MP3)"}),s.jsx("input",{ref:m,type:"file",accept:"audio/*",onChange:handleAudioUpload,className:"hidden"}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx(G,{type:"button",onClick:()=>{var C;return(C=m.current)==null?void 0:C.click()},variant:"outline",className:"flex-1",disabled:d.audio,children:d.audio?s.jsxs(s.Fragment,{children:[s.jsx(cd,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ho,{className:"w-4 h-4 mr-2"}),"Upload Audio File"]})}),g.mp3_url&&s.jsx(we,{className:"bg-green-500 px-4 py-2",children:" Uploaded"})]}),g.mp3_url&&s.jsx("p",{className:"text-xs text-gray-500 mt-1 truncate",children:g.mp3_url})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Cover Image"}),s.jsx("input",{ref:f,type:"file",accept:"image/*",onChange:handleImageUpload,className:"hidden"}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx(G,{type:"button",onClick:()=>{var C;return(C=f.current)==null?void 0:C.click()},variant:"outline",className:"flex-1",disabled:d.image,children:d.image?s.jsxs(s.Fragment,{children:[s.jsx(cd,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(co,{className:"w-4 h-4 mr-2"}),"Upload Cover Image"]})}),g.cover_image&&s.jsx(we,{className:"bg-green-500 px-4 py-2",children:" Uploaded"})]}),g.cover_image&&s.jsx("div",{className:"mt-2",children:s.jsx("img",{src:g.cover_image,alt:"Cover preview",className:"w-32 h-32 object-cover rounded-lg"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"subcategory",children:"Subcategory"}),s.jsx(Te,{id:"subcategory",value:g.subcategory,onChange:C=>x({...g,subcategory:C.target.value}),placeholder:"e.g., Prophets, Sahabah"})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"duration",children:"Duration"}),s.jsx(Te,{id:"duration",value:g.duration,onChange:C=>x({...g,duration:C.target.value}),placeholder:"e.g., 05:30"})]})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"description",children:"Description"}),s.jsx(Pn,{id:"description",value:g.description,onChange:C=>x({...g,description:C.target.value}),placeholder:"Brief description of the audio content",rows:3})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"moral_lesson",children:"Moral Lesson"}),s.jsx(Pn,{id:"moral_lesson",value:g.moral_lesson,onChange:C=>x({...g,moral_lesson:C.target.value}),placeholder:"Key lesson or takeaway",rows:2})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"tags",children:"Tags (comma-separated)"}),s.jsx(Te,{id:"tags",value:Array.isArray(g.tags)?g.tags.join(", "):g.tags,onChange:C=>x({...g,tags:C.target.value}),placeholder:"e.g., prophets, kindness, patience"})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:g.featured,onChange:C=>x({...g,featured:C.target.checked}),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Featured"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:g.allow_download,onChange:C=>x({...g,allow_download:C.target.checked}),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Allow Download"})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsxs(G,{onClick:_,disabled:createAudioMutation.isPending,className:"flex-1 bg-gradient-to-r from-purple-500 to-pink-500",children:[s.jsx(va,{className:"w-4 h-4 mr-2"}),"Create Audio"]}),s.jsxs(G,{onClick:()=>{e(!1),E()},variant:"outline",className:"flex-1",children:[s.jsx(Qr,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]})]})}),s.jsx(Cf,{open:n,onOpenChange:C=>!C&&E(),children:s.jsxs(Zd,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(eh,{children:s.jsx(th,{className:"text-2xl",children:"Edit Audio Content"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx(ye,{htmlFor:"edit-title",children:"Title *"}),s.jsx(Te,{id:"edit-title",value:g.title,onChange:C=>x({...g,title:C.target.value}),placeholder:"e.g., Story of Prophet Ibrahim"})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"edit-category",children:"Category *"}),s.jsxs(tn,{value:g.category,onValueChange:C=>x({...g,category:C}),children:[s.jsx(Gt,{children:s.jsx(nn,{})}),s.jsxs(Qt,{children:[s.jsx(Re,{value:"story",children:"Story"}),s.jsx(Re,{value:"hadith",children:"Hadith"}),s.jsx(Re,{value:"history",children:"History"}),s.jsx(Re,{value:"nasheed",children:"Nasheed"}),s.jsx(Re,{value:"tajweed",children:"Tajweed"}),s.jsx(Re,{value:"fiqh",children:"Fiqh"}),s.jsx(Re,{value:"quran",children:"Quran"})]})]})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"edit-age",children:"Age Group"}),s.jsxs(tn,{value:g.age_group,onValueChange:C=>x({...g,age_group:C}),children:[s.jsx(Gt,{children:s.jsx(nn,{})}),s.jsxs(Qt,{children:[s.jsx(Re,{value:"3-6",children:"3-6 years"}),s.jsx(Re,{value:"7-10",children:"7-10 years"}),s.jsx(Re,{value:"11+",children:"11+ years"}),s.jsx(Re,{value:"all",children:"All ages"})]})]})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Audio File (MP3)"}),s.jsx("input",{ref:m,type:"file",accept:"audio/*",onChange:handleAudioUpload,className:"hidden"}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx(G,{type:"button",onClick:()=>{var C;return(C=m.current)==null?void 0:C.click()},variant:"outline",className:"flex-1",disabled:d.audio,children:d.audio?s.jsxs(s.Fragment,{children:[s.jsx(cd,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ho,{className:"w-4 h-4 mr-2"}),g.mp3_url?"Replace Audio":"Upload Audio File"]})}),g.mp3_url&&s.jsx(we,{className:"bg-green-500 px-4 py-2",children:" Uploaded"})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Cover Image"}),s.jsx("input",{ref:f,type:"file",accept:"image/*",onChange:handleImageUpload,className:"hidden"}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx(G,{type:"button",onClick:()=>{var C;return(C=f.current)==null?void 0:C.click()},variant:"outline",className:"flex-1",disabled:d.image,children:d.image?s.jsxs(s.Fragment,{children:[s.jsx(cd,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(co,{className:"w-4 h-4 mr-2"}),g.cover_image?"Replace Image":"Upload Cover Image"]})}),g.cover_image&&s.jsx(we,{className:"bg-green-500 px-4 py-2",children:" Uploaded"})]}),g.cover_image&&s.jsx("div",{className:"mt-2",children:s.jsx("img",{src:g.cover_image,alt:"Cover preview",className:"w-32 h-32 object-cover rounded-lg"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"edit-subcategory",children:"Subcategory"}),s.jsx(Te,{id:"edit-subcategory",value:g.subcategory,onChange:C=>x({...g,subcategory:C.target.value}),placeholder:"e.g., Prophets, Sahabah"})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"edit-duration",children:"Duration"}),s.jsx(Te,{id:"edit-duration",value:g.duration,onChange:C=>x({...g,duration:C.target.value}),placeholder:"e.g., 05:30"})]})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"edit-description",children:"Description"}),s.jsx(Pn,{id:"edit-description",value:g.description,onChange:C=>x({...g,description:C.target.value}),placeholder:"Brief description of the audio content",rows:3})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"edit-moral",children:"Moral Lesson"}),s.jsx(Pn,{id:"edit-moral",value:g.moral_lesson,onChange:C=>x({...g,moral_lesson:C.target.value}),placeholder:"Key lesson or takeaway",rows:2})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"edit-tags",children:"Tags (comma-separated)"}),s.jsx(Te,{id:"edit-tags",value:Array.isArray(g.tags)?g.tags.join(", "):g.tags,onChange:C=>x({...g,tags:C.target.value}),placeholder:"e.g., prophets, kindness, patience"})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:g.featured,onChange:C=>x({...g,featured:C.target.checked}),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Featured"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:g.allow_download,onChange:C=>x({...g,allow_download:C.target.checked}),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Allow Download"})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsxs(G,{onClick:j,disabled:updateAudioMutation.isPending,className:"flex-1 bg-gradient-to-r from-purple-500 to-pink-500",children:[s.jsx(va,{className:"w-4 h-4 mr-2"}),"Update Audio"]}),s.jsxs(G,{onClick:()=>{r(!1),E()},variant:"outline",className:"flex-1",children:[s.jsx(Qr,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]})]})})]})})}function gV(){const[t,e]=v.useState(""),[n,r]=v.useState([]),[i,a]=v.useState(null),[o,c]=v.useState(""),d=async()=>{c("");try{const m=await O_.list();if(Array.isArray(m)&&m.length>=0){const f=m.map(g=>({id:g.id||g.uid,uid:g.uid||g.id,name:g.fullName||g.name||"",email:g.email||"",role:g.role||"user",age:g.age||"",city:g.city||"",madrasah:g.madrasah||g.madrasah_maktab||"",points:Number(g.points||0),lastAward:g.lastAward||null}));r(f);return}}catch(m){console.warn("Backend users list failed:",(m==null?void 0:m.message)||m)}try{const{db:m}=Bt();if(!m)return;const f=eu(m,"users"),x=(await Jd(f)).docs.map(_=>{const w=_.data()||{};return{id:_.id,uid:_.id,name:w.fullName||w.name||"",email:w.email||"",role:w.role||"user",age:w.age||"",city:w.city||"",madrasah:w.madrasah||w.madrasah_maktab||"",points:Number(w.points||0),lastAward:w.lastAward||null}});r(x)}catch(m){console.warn("Failed to load users from Firestore:",(m==null?void 0:m.message)||m)}};v.useEffect(()=>{d()},[]);const h=n.filter(m=>{const f=t.toLowerCase();return m.name.toLowerCase().includes(f)||m.email.toLowerCase().includes(f)||m.role.toLowerCase().includes(f)});return s.jsx("div",{className:"min-h-screen py-8 px-4 bg-gradient-to-br from-blue-50 to-purple-50",children:s.jsx("div",{className:"max-w-6xl mx-auto",children:s.jsxs(ne,{className:"shadow-xl border-2 border-blue-200",children:[s.jsx(Le,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Fe,{className:"flex items-center gap-2",children:[s.jsx(Bl,{className:"w-6 h-6"})," Users Management"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Te,{placeholder:"Search users...",value:t,onChange:m=>e(m.target.value),className:"bg-white text-gray-900 w-56"}),s.jsxs(G,{variant:"secondary",className:"bg-white/20 text-white hover:bg-white/30",onClick:d,children:[s.jsx(uo,{className:"w-4 h-4 mr-2"})," Find"]}),s.jsxs(G,{variant:"secondary",className:"bg-white/20 text-white hover:bg-white/30",onClick:d,children:[s.jsx(vy,{className:"w-4 h-4 mr-2"})," Refresh"]}),s.jsxs(G,{onClick:()=>a({id:"new"}),children:[s.jsx(Ls,{className:"w-4 h-4 mr-2"})," Add User"]})]})]})}),s.jsxs(se,{className:"p-6",children:[o&&s.jsx("div",{className:"mb-4 text-sm text-blue-700 bg-blue-50 border border-blue-200 rounded p-2",children:o}),h.length===0?s.jsx("div",{className:"text-center text-gray-600 py-10",children:"No users yet. Ask users to sign up via the Signup page."}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map(m=>s.jsxs("div",{className:"border rounded-lg p-4 bg-white",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("div",{className:"font-semibold text-gray-900",children:m.name}),s.jsx(we,{variant:m.role==="admin"?"default":"outline",className:m.role==="admin"?"bg-purple-600 text-white":"",children:m.role})]}),s.jsx("div",{className:"text-sm text-gray-600 mb-1",children:m.email}),s.jsxs("div",{className:"flex items-center gap-2 text-amber-700 mb-2",children:[s.jsx(zt,{className:"w-4 h-4 fill-amber-500 text-amber-500"}),s.jsxs("span",{className:"font-semibold",children:[m.points||0," points"]})]}),m.lastAward&&s.jsxs("div",{className:"text-xs text-gray-600 mb-2",children:["Last award: ",m.lastAward.game_type||""," (+",m.lastAward.points_awarded||0,")"]}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Age: ",m.age||"-"]}),s.jsxs("div",{className:"text-xs text-gray-500",children:["City: ",m.city||"-"]}),s.jsxs("div",{className:"text-xs text-gray-500 mb-4",children:["Madrasah: ",m.madrasah||"-"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(G,{size:"sm",variant:"outline",onClick:()=>a(m),children:[s.jsx(_o,{className:"w-4 h-4 mr-1"})," Edit"]}),s.jsxs(G,{size:"sm",variant:"destructive",onClick:()=>r(n.filter(f=>f.id!==m.id)),children:[s.jsx(sr,{className:"w-4 h-4 mr-1"})," Delete (local)"]}),s.jsxs(G,{size:"sm",variant:"destructive",onClick:async()=>{var f,g;try{const{auth:x}=Bt(),_=await((g=(f=x==null?void 0:x.currentUser)==null?void 0:f.getIdToken)==null?void 0:g.call(f)),j=await fetch("/api/deleteUser",{method:"POST",headers:{"Content-Type":"application/json",..._?{Authorization:`Bearer ${_}`}:{}},body:JSON.stringify({uid:m.uid,email:m.email})});if(!j.ok)throw new Error(`Delete failed: ${j.status}`);const N=await j.json();c(`Deleted user ${m.email} (uid=${m.uid||m.id}).`),await d()}catch(x){c(`Server delete failed for ${m.email}: ${(x==null?void 0:x.message)||x}`)}},children:[s.jsx(sr,{className:"w-4 h-4 mr-1"})," Delete (server)"]})]})]},m.id))}),i&&s.jsxs("div",{className:"mt-6 border-t pt-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:i.id==="new"?"Add New User":"Edit User"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsx(Te,{placeholder:"Name",value:i.name||"",onChange:m=>a({...i,name:m.target.value})}),s.jsx(Te,{placeholder:"Email",type:"email",value:i.email||"",onChange:m=>a({...i,email:m.target.value})}),s.jsx(Te,{placeholder:"Role (admin/user)",value:i.role||"user",onChange:m=>a({...i,role:m.target.value})})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[s.jsx(G,{onClick:()=>{if(i.id==="new"){const m=`u${Date.now()}`;r([...n,{id:m,name:i.name||"",email:i.email||"",role:i.role||"user"}])}else r(n.map(m=>m.id===i.id?i:m));a(null)},children:"Save Changes"}),s.jsx(G,{variant:"outline",onClick:()=>a(null),children:"Cancel"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:'Users are loaded from Firestore `users` collection. Editing is local-only. Use "Delete (server)" to remove accounts from Firebase Auth and Firestore.'})]})]})]})})})}function xV(){const t=Bn(),[e,n]=Rn.useState(""),[r,i]=Rn.useState(!1),a=encodeURIComponent("Account Deletion Request - Islam Kids Zone"),o=encodeURIComponent("Hi, I'd like to delete my account on Islam Kids Zone. My name is ____ and my contact details are ____."),c=()=>{window.location.href=`mailto:imediac786@gmail.com?subject=${a}&body=${o}`};return s.jsx("div",{className:"min-h-screen py-8 px-4",children:s.jsxs("div",{className:"max-w-2xl mx-auto",children:[s.jsxs(G,{variant:"outline",className:"mb-4",onClick:()=>t(et("Home")),children:[s.jsx(Ul,{className:"w-4 h-4 mr-2"})," Back to Home"]}),s.jsxs(ne,{className:"border-2 border-red-300 shadow-lg bg-gradient-to-br from-red-50 to-orange-50",children:[s.jsx(Le,{children:s.jsxs(Fe,{className:"text-2xl flex items-center",children:[s.jsx(sr,{className:"w-6 h-6 mr-2 text-red-600"}),"Delete Account (Email-Only Mode)"]})}),s.jsx(se,{children:s.jsxs(te.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:[s.jsxs("div",{className:"mb-4 flex items-start gap-3",children:[s.jsx(Ij,{className:"w-6 h-6 text-red-600 mt-1"}),s.jsx("p",{className:"text-gray-700",children:"Direct account deletion is disabled in this mode. To delete your account, please email our team. We'll process the request and confirm via email. You can include your name and contact details in the email."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type DELETE to confirm you understand this action"}),s.jsx(Te,{value:e,onChange:d=>n(d.target.value),placeholder:"DELETE"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(hS,{id:"agree",checked:r,onCheckedChange:d=>i(!!d)}),s.jsx("label",{htmlFor:"agree",className:"text-sm text-gray-700",children:"I understand this will permanently remove my account and associated content."})]})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx(G,{onClick:c,disabled:e!=="DELETE"||!r,className:"w-full bg-gradient-to-r from-red-500 to-orange-500",children:"Email Us to Delete My Account"}),s.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"We'll respond to confirm your account deletion request."})]})]})})]})]})})}const rR={quran:"from-green-500 to-teal-500",hadith:"from-blue-500 to-cyan-500",seerah:"from-purple-500 to-pink-500",fiqh:"from-amber-500 to-orange-500",akhlaq:"from-rose-500 to-red-500",prophets:"from-indigo-500 to-blue-500",comprehensive:"from-violet-500 to-purple-500"},Epe={beginner:"bg-green-100 text-green-800",intermediate:"bg-yellow-100 text-yellow-800",advanced:"bg-red-100 text-red-800"},Cpe={game:oo,story:dn,video:to,audio:lo,quiz:Aj,reading:dn};function yV(){var F,D;const[t,e]=v.useState(null),[n,r]=v.useState(!1),[i,a]=v.useState(null),[o,c]=v.useState("all"),d=Vs(),h=Bn();v.useEffect(()=>{m()},[]);const m=async()=>{try{const R=await Xe.auth.isAuthenticated();if(r(R),R){const I=await Xe.auth.me();e(I)}}catch{console.log("User not authenticated"),r(!1)}},{data:f=[],isLoading:g}=vn({queryKey:["learning-paths"],queryFn:async()=>await Xe.entities.LearningPath.list("order"),initialData:[]}),{data:x=[]}=vn({queryKey:["user-path-progress",t==null?void 0:t.id],queryFn:async()=>t?await Xe.entities.UserPathProgress.filter({user_id:t.id}):[],enabled:!!t,initialData:[]}),_=gn({mutationFn:async R=>await Xe.entities.UserPathProgress.create({user_id:t.id,path_id:R,status:"in_progress",started_date:new Date().toISOString()}),onSuccess:()=>{d.invalidateQueries({queryKey:["user-path-progress"]})}}),w=gn({mutationFn:async({progressId:R,moduleId:I,path:M})=>{const O=[...x.find(ue=>ue.id===R).completed_modules||[],I],U=Math.round(O.length/M.modules.length*100),X=U===100,re={completed_modules:O,completion_percentage:U,current_module_index:O.length,...X&&{status:"completed",completed_date:new Date().toISOString()}};if(await Xe.entities.UserPathProgress.update(R,re),X&&t){const ue=Math.min((t.points||0)+(M.completion_points||50),1500),ie=[...t.badges||[]];ie.includes(M.completion_badge)||ie.push(M.completion_badge),await Xe.auth.updateMe({points:ue,badges:ie})}return{isCompleted:X,completionPercentage:U}},onSuccess:()=>{d.invalidateQueries({queryKey:["user-path-progress"]}),m()}}),j=R=>x.find(I=>I.path_id===R),N=async R=>{if(!n){const M=encodeURIComponent("Access Request - Learning Paths"),V=encodeURIComponent("Hi, I'd like to access Learning Paths on Islam Kids Zone. My name is ____ and my contact details are ____.");window.location.href=`mailto:imediac786@gmail.com?subject=${M}&body=${V}`;return}j(R.id)||await _.mutateAsync(R.id),a(R)},E=(R,I)=>{h(et("Games"))},k=async(R,I)=>{var V;if(!n){const O=encodeURIComponent("Access Request - Learning Paths"),U=encodeURIComponent("Hi, I'd like to enable progress tracking in Learning Paths. My name is ____ and my contact details are ____.");window.location.href=`mailto:imediac786@gmail.com?subject=${O}&body=${U}`;return}const M=j(I.id);if(M){if((V=M.completed_modules)==null?void 0:V.includes(R.id))return;await w.mutateAsync({progressId:M.id,moduleId:R.id,path:I})}else{await _.mutateAsync(I.id),await d.invalidateQueries({queryKey:["user-path-progress"]});const O=await Xe.entities.UserPathProgress.filter({user_id:t.id,path_id:I.id});if(O.length===0)return;await w.mutateAsync({progressId:O[0].id,moduleId:R.id,path:I})}},C=[{id:"all",name:"All Paths",icon:""},{id:"quran",name:"Quran",icon:""},{id:"hadith",name:"Hadith",icon:""},{id:"seerah",name:"Seerah",icon:""},{id:"fiqh",name:"Fiqh",icon:""},{id:"akhlaq",name:"Akhlaq",icon:""},{id:"prophets",name:"Prophets",icon:""},{id:"comprehensive",name:"Complete",icon:""}],P=o==="all"?f:f.filter(R=>R.category===o);return g?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:""}),s.jsx("p",{className:"text-gray-600",children:"Loading learning paths..."})]})}):s.jsx("div",{className:"min-h-screen py-6 sm:py-8 md:py-12 px-3 sm:px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8 sm:mb-12",children:[s.jsx("div",{className:"text-5xl sm:text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-gray-900 mb-3 sm:mb-4",children:"Learning Paths"}),s.jsx("p",{className:"text-base sm:text-lg text-gray-600 max-w-2xl mx-auto px-2",children:"Follow structured learning journeys to master Islamic knowledge. Complete paths to earn special badges and bonus points!"})]}),!n&&s.jsx(te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-8",children:s.jsx(ne,{className:"border-2 border-blue-300 shadow-lg bg-gradient-to-br from-blue-50 to-purple-50",children:s.jsxs(se,{className:"p-6 text-center",children:[s.jsx(kj,{className:"w-12 h-12 mx-auto mb-4 text-blue-600"}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Request Access to Track Your Learning"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Email us to enable progress tracking, earn badges, and unlock achievements!"}),s.jsx(G,{onClick:()=>{const R=encodeURIComponent("Access Request - Learning Paths"),I=encodeURIComponent("Hi, I'd like to enable Learning Paths tracking on Islam Kids Zone. My name is ____ and my contact details are ____.");window.location.href=`mailto:imediac786@gmail.com?subject=${R}&body=${I}`},className:"bg-gradient-to-r from-blue-500 to-purple-500",children:"Request Access via Email"})]})})}),n&&t&&s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:s.jsx(ne,{className:"border-2 border-purple-300 shadow-lg bg-gradient-to-br from-purple-50 to-pink-50",children:s.jsx(se,{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 text-center",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-3xl mb-2",children:""}),s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:x.filter(R=>R.status==="in_progress").length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Active Paths"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-3xl mb-2",children:""}),s.jsx("div",{className:"text-2xl font-bold text-green-600",children:x.filter(R=>R.status==="completed").length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Completed"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-3xl mb-2",children:""}),s.jsx("div",{className:"text-2xl font-bold text-amber-600",children:((F=t.badges)==null?void 0:F.length)||0}),s.jsx("div",{className:"text-sm text-gray-600",children:"Badges Earned"})]})]})})})}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-8 justify-center",children:C.map(R=>s.jsxs(G,{onClick:()=>c(R.id),variant:o===R.id?"default":"outline",size:"sm",className:o===R.id?"bg-gradient-to-r from-blue-500 to-purple-500":"",children:[s.jsx("span",{className:"mr-2",children:R.icon}),R.name]},R.id))}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.jsx(gs,{mode:"popLayout",children:P.map((R,I)=>{var U;const M=j(R.id),V=!!M,O=(M==null?void 0:M.status)==="completed";return s.jsx(te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{delay:I*.1},whileHover:{y:-5},children:s.jsxs(ne,{className:"h-full hover:shadow-2xl transition-all cursor-pointer border-2 hover:border-purple-300",children:[s.jsxs(Le,{className:`bg-gradient-to-br ${rR[R.category]} text-white p-4`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("div",{className:"text-4xl",children:R.icon||""}),s.jsx(we,{className:`${Epe[R.difficulty_level]} text-xs`,children:R.difficulty_level})]}),s.jsx(Fe,{className:"text-lg leading-tight",children:R.title}),s.jsx("p",{className:"text-sm text-white/90 mt-2 line-clamp-2",children:R.description})]}),s.jsxs(se,{className:"p-4 space-y-4",children:[V&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[s.jsx("span",{className:"text-gray-600",children:"Progress"}),s.jsxs("span",{className:"font-bold text-purple-600",children:[M.completion_percentage,"%"]})]}),s.jsx(su,{value:M.completion_percentage,className:"h-2"})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(dn,{className:"w-4 h-4"}),s.jsxs("span",{children:[((U=R.modules)==null?void 0:U.length)||0," modules"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ya,{className:"w-4 h-4"}),s.jsx("span",{children:R.estimated_duration})]})]}),s.jsxs("div",{className:"bg-amber-50 rounded-lg p-3 border border-amber-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Hc,{className:"w-4 h-4 text-amber-600"}),s.jsx("span",{className:"text-xs font-semibold text-amber-900",children:"Completion Rewards:"})]}),s.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(br,{className:"w-4 h-4 text-amber-600"}),s.jsxs("span",{className:"font-bold text-amber-900",children:["+",R.completion_points," pts"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(zt,{className:"w-4 h-4 text-amber-600"}),s.jsx("span",{className:"text-amber-900",children:R.completion_badge})]})]})]}),s.jsx(G,{onClick:()=>N(R),className:`w-full ${O?"bg-green-500 hover:bg-green-600":V?"bg-purple-500 hover:bg-purple-600":"bg-gradient-to-r from-blue-500 to-purple-500"}`,children:O?s.jsxs(s.Fragment,{children:[s.jsx(oa,{className:"w-4 h-4 mr-2"}),"Completed!"]}):V?s.jsxs(s.Fragment,{children:[s.jsx($C,{className:"w-4 h-4 mr-2"}),"Continue Learning"]}):s.jsxs(s.Fragment,{children:[s.jsx(ni,{className:"w-4 h-4 mr-2"}),"Start Path"]})})]})]})},R.id)})})}),P.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("p",{className:"text-gray-600 text-lg",children:"No learning paths available in this category yet."})]}),s.jsx(gs,{children:i&&s.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>a(null),children:s.jsxs(te.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:R=>R.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:`bg-gradient-to-br ${rR[i.category]} text-white p-6 sticky top-0 z-10`,children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-5xl mb-3",children:i.icon||""}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:i.title}),s.jsx("p",{className:"text-white/90",children:i.description})]}),s.jsx(G,{variant:"ghost",size:"icon",onClick:()=>a(null),className:"text-white hover:bg-white/20",children:s.jsx(Qr,{className:"w-6 h-6"})})]}),j(i.id)&&s.jsxs("div",{className:"mt-4",children:[s.jsx(su,{value:j(i.id).completion_percentage,className:"h-3 bg-white/20"}),s.jsxs("p",{className:"text-sm text-white/90 mt-2",children:[j(i.id).completion_percentage,"% Complete"]})]})]}),s.jsxs("div",{className:"p-6 space-y-3",children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(dn,{className:"w-6 h-6"}),"Learning Modules"]}),(D=i.modules)==null?void 0:D.map((R,I)=>{var re,ue,ie;const M=Cpe[R.type]||dn,V=j(i.id),O=(re=V==null?void 0:V.completed_modules)==null?void 0:re.includes(R.id),U=I===0||((ie=V==null?void 0:V.completed_modules)==null?void 0:ie.includes((ue=i.modules[I-1])==null?void 0:ue.id)),X=!n||U;return s.jsx(te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:I*.05},className:`p-4 rounded-lg border-2 ${O?"bg-green-50 border-green-300":X?"bg-white border-gray-200 hover:border-purple-300":"bg-gray-50 border-gray-200 opacity-60"} transition-all`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ${O?"bg-green-500":X?"bg-purple-500":"bg-gray-400"}`,children:O?s.jsx(oa,{className:"w-6 h-6 text-white"}):X?s.jsx(M,{className:"w-5 h-5 text-white"}):s.jsx(Cj,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsxs("span",{className:"text-sm font-bold text-gray-900",children:["Module ",I+1]}),s.jsx(we,{variant:"outline",className:"text-xs",children:R.type})]}),s.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:R.title}),s.jsx("p",{className:"text-sm text-gray-600",children:R.description})]}),X&&s.jsxs("div",{className:"flex flex-col gap-2 flex-shrink-0",children:[s.jsxs(G,{size:"sm",onClick:()=>E(),className:"bg-purple-500 hover:bg-purple-600 text-white",children:[s.jsx($C,{className:"w-4 h-4 mr-1"}),"Play"]}),n&&!O&&s.jsxs(G,{size:"sm",variant:"outline",onClick:()=>k(R,i),className:"text-xs border-green-500 text-green-600 hover:bg-green-50",children:[s.jsx(oa,{className:"w-3 h-3 mr-1"}),"Mark Done"]})]})]})},R.id)})]})]})})})]})})}function vV(){const[t,e]=v.useState(null),[n,r]=v.useState([]),[i,a]=v.useState(null),[o,c]=v.useState(!1);Bn();const[d,h]=v.useState({text:"",subtext:"",gradient:"from-blue-600 via-purple-600 to-pink-600",active:!0,order:1});v.useEffect(()=>{m()},[]);const m=()=>{const E=localStorage.getItem("homepage_banners");if(E)r(JSON.parse(E));else{const k=[{id:1,text:"Welcome to Islam Kids Zone",subtext:"Learn, Play & Grow in Faith",gradient:"from-blue-600 via-purple-600 to-pink-600",active:!0,order:1},{id:2,text:'"Whoever guides someone to goodness will have a reward like one who did it."',subtext:" Sahih Muslim",gradient:"from-green-600 via-teal-600 to-cyan-600",active:!0,order:2}];r(k),f(k)}},f=E=>{localStorage.setItem("homepage_banners",JSON.stringify(E)),r(E)},g=()=>{h({text:"",subtext:"",gradient:"from-blue-600 via-purple-600 to-pink-600",active:!0,order:1})},x=E=>{a(E),h(E),c(!0)},_=E=>{if(E.preventDefault(),i){const k=n.map(C=>C.id===i.id?{...d,id:C.id}:C);f(k)}else{const k={...d,id:Date.now()};f([...n,k])}c(!1),a(null),g()},w=E=>{window.confirm("Delete this banner?")&&f(n.filter(k=>k.id!==E))},j=E=>{const k=n.map(C=>C.id===E?{...C,active:!C.active}:C);f(k)},N=[{name:"Blue Purple",value:"from-blue-600 via-purple-600 to-pink-600"},{name:"Green Teal",value:"from-green-600 via-teal-600 to-cyan-600"},{name:"Orange Red",value:"from-amber-600 via-orange-600 to-red-600"},{name:"Purple Pink",value:"from-purple-600 via-pink-600 to-rose-600"},{name:"Indigo Blue",value:"from-indigo-600 via-blue-600 to-cyan-600"}];return s.jsx("div",{className:"min-h-screen py-8 px-4 bg-gradient-to-br from-slate-50 to-blue-50",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Et,{to:et("AdminDashboard"),children:s.jsxs(G,{variant:"outline",children:[s.jsx(Ul,{className:"w-4 h-4 mr-2"}),"Back"]})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Homepage Banners"}),s.jsx("p",{className:"text-gray-600",children:"Manage rotating homepage banner slides"})]})]}),s.jsxs(G,{onClick:()=>{c(!0),a(null),g()},children:[s.jsx(Ls,{className:"w-4 h-4 mr-2"}),"Add Banner"]})]}),s.jsx(gs,{children:o&&s.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:s.jsxs(te.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"sticky top-0 bg-white border-b p-6 z-10",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl font-bold",children:i?"Edit Banner":"Create Banner"}),s.jsx(G,{variant:"ghost",size:"icon",onClick:()=>c(!1),children:s.jsx(Qr,{className:"w-6 h-6"})})]})}),s.jsxs("form",{onSubmit:_,className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Main Text *"}),s.jsx(Te,{value:d.text,onChange:E=>h({...d,text:E.target.value}),required:!0,placeholder:"Welcome message or quote"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Subtext"}),s.jsx(Te,{value:d.subtext,onChange:E=>h({...d,subtext:E.target.value}),placeholder:"Optional subtitle or attribution"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Gradient Style"}),s.jsx("div",{className:"grid grid-cols-2 gap-2 mb-2",children:N.map(E=>s.jsx("button",{type:"button",onClick:()=>h({...d,gradient:E.value}),className:`p-3 rounded-lg bg-gradient-to-r ${E.value} text-white text-sm font-semibold ${d.gradient===E.value?"ring-4 ring-blue-500":""}`,children:E.name},E.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Display Order"}),s.jsx(Te,{type:"number",value:d.order,onChange:E=>h({...d,order:parseInt(E.target.value)}),min:"1"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"font-semibold",children:"Active"}),s.jsx(Rs,{checked:d.active,onCheckedChange:E=>h({...d,active:E})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Preview"}),s.jsxs("div",{className:`p-8 rounded-xl bg-gradient-to-r ${d.gradient} text-white text-center`,children:[s.jsx("h3",{className:"text-2xl font-bold mb-2",children:d.text||"Your text here"}),d.subtext&&s.jsx("p",{className:"text-white/90",children:d.subtext})]})]}),s.jsxs("div",{className:"flex gap-4 justify-end border-t pt-6",children:[s.jsx(G,{type:"button",variant:"outline",onClick:()=>c(!1),children:"Cancel"}),s.jsxs(G,{type:"submit",children:[s.jsx(va,{className:"w-4 h-4 mr-2"}),i?"Update":"Create"]})]})]})]})})}),s.jsx("div",{className:"space-y-4",children:n.sort((E,k)=>E.order-k.order).map(E=>s.jsx(ne,{className:E.active?"":"opacity-50",children:s.jsx(se,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:`p-6 rounded-xl bg-gradient-to-r ${E.gradient} text-white mb-4`,children:[s.jsx("h3",{className:"text-xl font-bold mb-1",children:E.text}),E.subtext&&s.jsx("p",{className:"text-sm text-white/90",children:E.subtext})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[s.jsxs("span",{children:["Order: ",E.order]}),s.jsx("span",{children:""}),s.jsx("span",{children:E.active?" Active":" Inactive"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(G,{size:"sm",variant:"outline",onClick:()=>j(E.id),children:E.active?s.jsx(Zz,{className:"w-4 h-4"}):s.jsx(FR,{className:"w-4 h-4"})}),s.jsx(G,{size:"sm",onClick:()=>x(E),children:s.jsx(_o,{className:"w-4 h-4"})}),s.jsx(G,{size:"sm",variant:"outline",onClick:()=>w(E.id),className:"text-red-600",children:s.jsx(sr,{className:"w-4 h-4"})})]})]})})},E.id))}),n.length===0&&s.jsxs(ne,{className:"p-12 text-center",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"No banners created yet"}),s.jsx(G,{onClick:()=>c(!0),children:"Create First Banner"})]})]})})}function sR(){Bn();const[t,e]=v.useState([]),[n,r]=v.useState(null),[i,a]=v.useState({name:"",linkUrl:"",imageUrl:"",type:"sponsor",placement:"home",order:0,active:!0}),[o,c]=v.useState(!1),[d,h]=v.useState(""),[m,f]=v.useState(null),[g,x]=v.useState(!1),_=()=>{try{const P=localStorage.getItem("homepage_sponsors"),F=P?JSON.parse(P):[];e(Array.isArray(F)?F:[])}catch{e([])}},w=P=>{localStorage.setItem("homepage_sponsors",JSON.stringify(P))},j=async()=>{c(!0),h("");try{const P=await xd.list();e(P.sort((F,D)=>(F.order??0)-(D.order??0)))}catch(P){console.warn("Sponsors list via Firestore failed, using localStorage",(P==null?void 0:P.message)||P),_()}finally{c(!1)}};v.useEffect(()=>{const{app:P}=Bt();x(!!P),j()},[]);const N=()=>{a({name:"",linkUrl:"",imageUrl:"",type:"sponsor",placement:"home",order:t.length,active:!0}),r(null),h("")},E=P=>{r(P.id||P._localId),a({name:P.name||"",linkUrl:P.linkUrl||"",imageUrl:P.imageUrl||"",type:P.type||"sponsor",placement:P.placement||"home",order:P.order??0,active:P.active??!0})},k=async P=>{P.preventDefault(),c(!0),h("");try{const F={...i,name:i.name.trim(),linkUrl:i.linkUrl.trim(),imageUrl:i.imageUrl.trim(),createdAt:new Date().toISOString()};if(n)try{await xd.update(n,F),await j()}catch{const R=t.map(I=>I.id===n||I._localId===n?{...I,...F}:I);e(R),w(R)}else try{const D=await xd.add(F),R=(D==null?void 0:D.id)||Math.random().toString(36).slice(2);e(I=>[...I,{id:R,...F}])}catch{const R={_localId:Math.random().toString(36).slice(2),...F},I=[...t,R];e(I),w(I)}N()}catch(F){h((F==null?void 0:F.message)||"Failed to save")}finally{c(!1)}},C=async P=>{if(window.confirm("Delete this item?")){c(!0);try{if(P.id)try{await xd.remove(P.id),await j()}catch{const D=t.filter(R=>R.id!==P.id);e(D),w(D)}else{const F=t.filter(D=>D._localId!==P._localId);e(F),w(F)}}finally{c(!1)}}};return s.jsx("div",{className:"min-h-screen py-8 px-4 bg-gradient-to-br from-slate-50 to-blue-50",children:s.jsx("div",{className:"max-w-5xl mx-auto",children:s.jsxs(ne,{className:"shadow-xl border-2 border-blue-200",children:[s.jsx(Le,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:s.jsxs(Fe,{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(vd,{className:"w-5 h-5"})," Manage Sponsors & Ads"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Et,{to:et("Assistant"),className:"text-white/90 hover:text-white",children:s.jsxs(G,{variant:"ghost",className:"text-white",children:[s.jsx(ih,{className:"w-4 h-4 mr-2"})," Open AI Agent"]})}),s.jsx(Et,{to:et("AdminDashboard"),className:"text-white/90 hover:text-white",children:s.jsxs(G,{variant:"ghost",className:"text-white",children:[s.jsx(Ul,{className:"w-4 h-4 mr-2"})," Back to Dashboard"]})})]})]})}),s.jsxs(se,{className:"p-6",children:[s.jsxs("form",{onSubmit:k,className:"space-y-4",children:[d&&s.jsx("div",{className:"text-red-600",children:d}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"Name"}),s.jsx(Te,{value:i.name,onChange:P=>a({...i,name:P.target.value}),placeholder:"Sponsor name",required:!0})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Link URL"}),s.jsx(Te,{value:i.linkUrl,onChange:P=>a({...i,linkUrl:P.target.value}),placeholder:"https://sponsor.com",type:"url",required:!0})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Logo/Image URL"}),s.jsx(Te,{value:i.imageUrl,onChange:P=>a({...i,imageUrl:P.target.value}),placeholder:"https://...logo.png"})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Upload Image (optional)"}),s.jsx(Te,{type:"file",accept:"image/*",onChange:P=>{var F;return f(((F=P.target.files)==null?void 0:F[0])||null)}}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:g?"Uploads go to Firebase Storage and auto-fill the Image URL.":"Upload disabled: configure Firebase env vars to enable Storage."}),s.jsxs("div",{className:"mt-2 flex gap-2",children:[s.jsx(G,{type:"button",variant:"outline",disabled:!m||!g||o,onClick:async()=>{if(h(""),!!m)try{const P=await vO(m,i.name||m.name);a({...i,imageUrl:P.url})}catch(P){h((P==null?void 0:P.message)||"Upload failed")}},children:"Upload to Storage"}),i.imageUrl&&s.jsx("a",{href:i.imageUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 text-sm",children:"Preview"})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Type"}),s.jsxs("select",{className:"border rounded px-3 py-2 w-full",value:i.type,onChange:P=>a({...i,type:P.target.value}),children:[s.jsx("option",{value:"sponsor",children:"Sponsor"}),s.jsx("option",{value:"ad",children:"Ad"})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Placement"}),s.jsx("select",{className:"border rounded px-3 py-2 w-full",value:i.placement,onChange:P=>a({...i,placement:P.target.value}),children:s.jsx("option",{value:"home",children:"Home"})})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Order"}),s.jsx(Te,{type:"number",value:i.order,onChange:P=>a({...i,order:Number(P.target.value)})})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Rs,{checked:i.active,onCheckedChange:P=>a({...i,active:!!P})}),s.jsx(ye,{children:"Active"})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(G,{type:"submit",disabled:o,className:"bg-blue-600 text-white",children:[s.jsx(va,{className:"w-4 h-4 mr-2"})," ",n?"Update":"Add"," Item"]}),n&&s.jsxs(G,{type:"button",variant:"outline",onClick:N,children:[s.jsx(Qr,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]}),s.jsxs("div",{className:"mt-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-xl font-bold",children:"Current Items"}),s.jsxs(G,{variant:"outline",onClick:N,children:[s.jsx(Ls,{className:"w-4 h-4 mr-2"}),"New"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.map(P=>s.jsx("div",{className:"border rounded-xl p-4 bg-white",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded flex items-center justify-center overflow-hidden",children:P.imageUrl?s.jsx(kpe,{url:P.imageUrl,name:P.name}):s.jsx(co,{className:"w-8 h-8 text-gray-400"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold",children:P.name}),s.jsx("div",{className:"text-sm text-blue-600 break-all",children:s.jsx("a",{href:P.linkUrl,target:"_blank",rel:"noopener noreferrer",children:P.linkUrl})}),s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Type: ",P.type,"  Placement: ",P.placement,"  Order: ",P.order??0,"  Active: ",P.active?"Yes":"No"]}),s.jsxs("div",{className:"mt-3 flex gap-2",children:[s.jsxs(G,{size:"sm",variant:"outline",onClick:()=>E(P),children:[s.jsx(_o,{className:"w-4 h-4 mr-1"}),"Edit"]}),s.jsxs(G,{size:"sm",variant:"destructive",onClick:()=>C(P),children:[s.jsx(sr,{className:"w-4 h-4 mr-1"}),"Delete"]})]})]})]})},P.id||P._localId)),t.length===0&&s.jsx("div",{className:"text-gray-600",children:"No sponsors or ads yet. Add your first above."})]})]})]})]})})})}function kpe({url:t,name:e}){const[n,r]=Rn.useState(!1);return n?s.jsx(co,{className:"w-8 h-8 text-gray-400"}):s.jsx("img",{src:t,alt:e||"Sponsor",className:"object-contain w-full h-full",referrerPolicy:"no-referrer",onError:()=>r(!0)})}function bV(){const[t,e]=v.useState(null),[n,r]=v.useState(!1),[i,a]=v.useState(null),o=Vs();Bn();const[c,d]=v.useState({title:"",description:"",moral:"",image_url:"",category:"manners",age_range:"7-12",is_interactive:!0,starting_node:"start",story_nodes:[]}),[h,m]=v.useState({id:"",content:"",character:"",image_url:"",is_ending:!1,ending_type:"good",choices:[]}),{data:f=[],isLoading:g}=vn({queryKey:["admin-interactive-stories"],queryFn:async()=>(await Xe.entities.Story.list("-created_date")).filter(V=>V.is_interactive),initialData:[]}),x=gn({mutationFn:async M=>await Xe.entities.Story.create(M),onSuccess:()=>{o.invalidateQueries({queryKey:["admin-interactive-stories"]}),r(!1),j()}}),_=gn({mutationFn:async({id:M,storyData:V})=>await Xe.entities.Story.update(M,V),onSuccess:()=>{o.invalidateQueries({queryKey:["admin-interactive-stories"]}),e(null),r(!1),j()}}),w=gn({mutationFn:async M=>await Xe.entities.Story.delete(M),onSuccess:()=>{o.invalidateQueries({queryKey:["admin-interactive-stories"]})}}),j=()=>{d({title:"",description:"",moral:"",image_url:"",category:"manners",age_range:"7-12",is_interactive:!0,starting_node:"start",story_nodes:[]}),a(null)},N=M=>{e(M),d({title:M.title,description:M.description||"",moral:M.moral,image_url:M.image_url||"",category:M.category,age_range:M.age_range||"7-12",is_interactive:!0,starting_node:M.starting_node||"start",story_nodes:M.story_nodes||[]}),r(!0)},E=async M=>{window.confirm("Are you sure you want to delete this interactive story?")&&await w.mutateAsync(M)},k=async M=>{M.preventDefault(),t?await _.mutateAsync({id:t.id,storyData:c}):await x.mutateAsync(c)},C=()=>{const M={id:`node_${Date.now()}`,content:"",character:"",image_url:"",is_ending:!1,ending_type:"good",choices:[]};d({...c,story_nodes:[...c.story_nodes,M]})},P=(M,V,O)=>{const U=[...c.story_nodes];U[M]={...U[M],[V]:O},d({...c,story_nodes:U})},F=M=>{if(window.confirm("Delete this story node?")){const V=c.story_nodes.filter((O,U)=>U!==M);d({...c,story_nodes:V})}},D=M=>{const V=[...c.story_nodes];V[M].choices||(V[M].choices=[]),V[M].choices.push({text:"",next_node:"",points:5}),d({...c,story_nodes:V})},R=(M,V,O,U)=>{const X=[...c.story_nodes];X[M].choices[V]={...X[M].choices[V],[O]:U},d({...c,story_nodes:X})},I=(M,V)=>{const O=[...c.story_nodes];O[M].choices=O[M].choices.filter((U,X)=>X!==V),d({...c,story_nodes:O})};return s.jsx("div",{className:"min-h-screen py-8 px-4 bg-gradient-to-br from-slate-50 to-blue-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Et,{to:et("AdminDashboard"),children:s.jsxs(G,{variant:"outline",children:[s.jsx(Ul,{className:"w-4 h-4 mr-2"}),"Back"]})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Interactive Story Builder"}),s.jsx("p",{className:"text-gray-600",children:"Create branching narrative stories"})]})]}),s.jsxs(G,{onClick:()=>{r(!0),e(null),j()},className:"bg-purple-600 hover:bg-purple-700",children:[s.jsx(Ls,{className:"w-4 h-4 mr-2"}),"Create Interactive Story"]})]}),!n&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(M=>{var V;return s.jsxs(ne,{className:"hover:shadow-lg transition-shadow",children:[s.jsx(Le,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx(Fe,{className:"text-lg line-clamp-2",children:M.title}),s.jsxs(we,{className:"bg-purple-100 text-purple-800",children:[s.jsx(aB,{className:"w-3 h-3 mr-1"}),((V=M.story_nodes)==null?void 0:V.length)||0," nodes"]})]})}),s.jsxs(se,{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:M.description}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(G,{onClick:()=>N(M),size:"sm",className:"flex-1 bg-blue-600 hover:bg-blue-700",children:[s.jsx(_o,{className:"w-4 h-4 mr-1"}),"Edit"]}),s.jsx(G,{onClick:()=>E(M.id),size:"sm",variant:"outline",className:"text-red-600 border-red-600",children:s.jsx(sr,{className:"w-4 h-4"})})]})]})]},M.id)})}),n&&s.jsxs(ne,{children:[s.jsx(Le,{children:s.jsx(Fe,{children:t?"Edit Interactive Story":"Create New Interactive Story"})}),s.jsx(se,{children:s.jsxs("form",{onSubmit:k,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Title *"}),s.jsx(Te,{value:c.title,onChange:M=>d({...c,title:M.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Category *"}),s.jsxs("select",{value:c.category,onChange:M=>d({...c,category:M.target.value}),className:"w-full border rounded-lg px-3 py-2",children:[s.jsx("option",{value:"prophets",children:"Prophets"}),s.jsx("option",{value:"sahabah",children:"Sahabah"}),s.jsx("option",{value:"manners",children:"Manners"}),s.jsx("option",{value:"kindness",children:"Kindness"}),s.jsx("option",{value:"honesty",children:"Honesty"}),s.jsx("option",{value:"gratitude",children:"Gratitude"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Description"}),s.jsx(Te,{value:c.description,onChange:M=>d({...c,description:M.target.value}),placeholder:"Brief description of the story"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Moral/Lesson *"}),s.jsx(Pn,{value:c.moral,onChange:M=>d({...c,moral:M.target.value}),required:!0,rows:2})]}),s.jsxs("div",{className:"border-t pt-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-xl font-bold",children:"Story Nodes"}),s.jsxs(G,{type:"button",onClick:C,size:"sm",children:[s.jsx(Ls,{className:"w-4 h-4 mr-2"}),"Add Node"]})]}),s.jsx("div",{className:"space-y-4",children:c.story_nodes.map((M,V)=>{var O;return s.jsx(ne,{className:"border-2 border-purple-200",children:s.jsxs(se,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsxs(we,{className:"mb-2",children:["Node ",V+1]}),s.jsxs("p",{className:"text-xs text-gray-500",children:["ID: ",M.id]})]}),s.jsx(G,{type:"button",variant:"ghost",size:"sm",onClick:()=>F(V),className:"text-red-600",children:s.jsx(sr,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Character Name"}),s.jsx(Te,{value:M.character,onChange:U=>P(V,"character",U.target.value),placeholder:"e.g., Ahmad (You)"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Content *"}),s.jsx(Pn,{value:M.content,onChange:U=>P(V,"content",U.target.value),rows:4,placeholder:"Story content (Markdown supported)"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:M.is_ending,onChange:U=>P(V,"is_ending",U.target.checked)}),s.jsx("span",{className:"text-sm font-semibold",children:"Is Ending Node"})]}),M.is_ending&&s.jsxs("select",{value:M.ending_type,onChange:U=>P(V,"ending_type",U.target.value),className:"border rounded px-2 py-1 text-sm",children:[s.jsx("option",{value:"excellent",children:"Excellent"}),s.jsx("option",{value:"great",children:"Great"}),s.jsx("option",{value:"good",children:"Good"}),s.jsx("option",{value:"bad",children:"Bad"})]})]}),!M.is_ending&&s.jsxs("div",{className:"border-t pt-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("label",{className:"text-sm font-semibold",children:"Choices"}),s.jsxs(G,{type:"button",onClick:()=>D(V),size:"sm",variant:"outline",children:[s.jsx(Ls,{className:"w-3 h-3 mr-1"}),"Add Choice"]})]}),(O=M.choices)==null?void 0:O.map((U,X)=>s.jsxs("div",{className:"bg-gray-50 p-3 rounded mb-2",children:[s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsxs("span",{className:"text-xs font-bold",children:["Choice ",X+1]}),s.jsx(G,{type:"button",variant:"ghost",size:"sm",onClick:()=>I(V,X),children:s.jsx(Qr,{className:"w-3 h-3"})})]}),s.jsx(Te,{value:U.text,onChange:re=>R(V,X,"text",re.target.value),placeholder:"Choice text",className:"mb-2"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx(Te,{value:U.next_node,onChange:re=>R(V,X,"next_node",re.target.value),placeholder:"Next node ID"}),s.jsx(Te,{type:"number",value:U.points,onChange:re=>R(V,X,"points",parseInt(re.target.value)),placeholder:"Points"})]})]},X))]})]})]})},V)})})]}),s.jsxs("div",{className:"flex gap-4 justify-end border-t pt-6",children:[s.jsx(G,{type:"button",variant:"outline",onClick:()=>{r(!1),j()},children:"Cancel"}),s.jsxs(G,{type:"submit",className:"bg-purple-600 hover:bg-purple-700",children:[s.jsx(va,{className:"w-4 h-4 mr-2"}),t?"Update Story":"Create Story"]})]})]})})]})]})})}const iR=[{game_id:"ayat_explorer",game_name:"Ayat Explorer",emoji:""},{game_id:"word_search",game_name:"Islamic Word Search",emoji:""},{game_id:"memory_match",game_name:"Islamic Memory Match",emoji:""},{game_id:"memory",game_name:"Memory Game",emoji:""},{game_id:"matching_pairs",game_name:"Matching Pairs of Iman",emoji:""},{game_id:"islamic_quiz",game_name:"Islamic Knowledge Quiz",emoji:""},{game_id:"sahabah_arena",game_name:"Sahabah Arena",emoji:""},{game_id:"knowledge_race",game_name:"Islam Knowledge Race",emoji:""},{game_id:"sahabah_stories",game_name:"Sahabah Stories",emoji:""},{game_id:"maze_of_guidance",game_name:"Maze of Guidance",emoji:""},{game_id:"trivia",game_name:"Trivia",emoji:""},{game_id:"quran_quest",game_name:"Quran Quest",emoji:""},{game_id:"crossword",game_name:"Islamic Crossword",emoji:""},{game_id:"hadith_match",game_name:"Hadith Match",emoji:""},{game_id:"prophet_stories",game_name:"Prophet Stories",emoji:""},{game_id:"quran_memory",game_name:"Quran Memory Match",emoji:""},{game_id:"morals_maze",game_name:"Islamic Morals Maze",emoji:""},{game_id:"seerah_quiz",game_name:"Seerah Quiz",emoji:""},{game_id:"word_scramble",game_name:"Word Scramble Challenge",emoji:""},{game_id:"quest_for_ilm",game_name:"The Quest for Ilm",emoji:""},{game_id:"fiqh_game",game_name:"Fiqh Challenge",emoji:""}];function wV(){Bn();const t=Vs(),[e,n]=v.useState(!1),[r,i]=v.useState({}),{data:a=[],isLoading:o}=vn({queryKey:["game-settings"],queryFn:async()=>{const g=await Xe.entities.GameSettings.list(),x=g.map(w=>w.game_id),_=iR.filter(w=>!x.includes(w.game_id));return _.length>0?(await Promise.all(_.map(w=>Xe.entities.GameSettings.create({game_id:w.game_id,game_name:w.game_name,points_per_game:10,perfect_score_bonus:5,is_active:!0,min_points:5,max_points:20}))),await Xe.entities.GameSettings.list()):g},enabled:!0}),c=gn({mutationFn:({id:g,data:x})=>Xe.entities.GameSettings.update(g,x),onSuccess:()=>{t.invalidateQueries({queryKey:["game-settings"]}),n(!0),setTimeout(()=>n(!1),3e3)}}),d=(g,x,_)=>{i(w=>({...w,[g]:{...w[g],[x]:_}}))},h=async g=>{const x=r[g.game_id]||{};Object.keys(x).length!==0&&(await c.mutateAsync({id:g.id,data:x}),i(_=>{const w={..._};return delete w[g.game_id],w}))},m=(g,x)=>{var _;return((_=r[g.game_id])==null?void 0:_[x])??g[x]},f=g=>r[g]&&Object.keys(r[g]).length>0;return o?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Bd,{className:"w-12 h-12 mx-auto mb-4 animate-spin text-blue-600"}),s.jsx("p",{className:"text-gray-600",children:"Loading game settings..."})]})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 py-8 px-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Game Settings"}),s.jsx("p",{className:"text-gray-600",children:"Manage points and settings for all games"})]}),e&&s.jsxs(we,{className:"bg-green-500 text-white",children:[s.jsx(Wc,{className:"w-4 h-4 mr-2"}),"Saved Successfully!"]})]})}),s.jsx("div",{className:"grid gap-6",children:a.map((g,x)=>{const _=iR.find(j=>j.game_id===g.game_id),w=f(g.game_id);return s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:x*.05},children:s.jsxs(ne,{className:`border-2 ${w?"border-blue-400 shadow-lg":"border-gray-200"}`,children:[s.jsx(Le,{className:"bg-gradient-to-r from-blue-50 to-purple-50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"text-4xl",children:(_==null?void 0:_.emoji)||""}),s.jsxs("div",{children:[s.jsx(Fe,{className:"text-xl",children:g.game_name}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Game ID: ",g.game_id]})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[w&&s.jsx(we,{variant:"outline",className:"bg-blue-100 text-blue-700",children:"Unsaved Changes"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ye,{htmlFor:`active-${g.id}`,children:"Active"}),s.jsx(Rs,{id:`active-${g.id}`,checked:m(g,"is_active"),onCheckedChange:j=>d(g.game_id,"is_active",j)})]})]})]})}),s.jsxs(se,{className:"p-6",children:[s.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{children:[s.jsxs(ye,{htmlFor:`points-${g.id}`,className:"flex items-center gap-2 mb-2",children:[s.jsx(Hc,{className:"w-4 h-4 text-blue-600"}),"Points Per Game"]}),s.jsx(Te,{id:`points-${g.id}`,type:"number",value:m(g,"points_per_game"),onChange:j=>d(g.game_id,"points_per_game",parseInt(j.target.value)),className:"text-center font-bold text-lg",min:m(g,"min_points"),max:m(g,"max_points")})]}),s.jsxs("div",{children:[s.jsxs(ye,{htmlFor:`bonus-${g.id}`,className:"flex items-center gap-2 mb-2",children:[s.jsx(by,{className:"w-4 h-4 text-green-600"}),"Perfect Score Bonus"]}),s.jsx(Te,{id:`bonus-${g.id}`,type:"number",value:m(g,"perfect_score_bonus"),onChange:j=>d(g.game_id,"perfect_score_bonus",parseInt(j.target.value)),className:"text-center font-bold text-lg",min:0,max:20})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:`min-${g.id}`,className:"mb-2 block",children:"Min Points"}),s.jsx(Te,{id:`min-${g.id}`,type:"number",value:m(g,"min_points"),onChange:j=>d(g.game_id,"min_points",parseInt(j.target.value)),className:"text-center",min:0})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:`max-${g.id}`,className:"mb-2 block",children:"Max Points"}),s.jsx(Te,{id:`max-${g.id}`,type:"number",value:m(g,"max_points"),onChange:j=>d(g.game_id,"max_points",parseInt(j.target.value)),className:"text-center",min:m(g,"min_points")})]})]}),s.jsxs("div",{className:"mt-4 flex items-center gap-3",children:[s.jsx("div",{className:"flex-1 bg-blue-50 rounded-lg p-3 border border-blue-200",children:s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("strong",{children:"Total Possible:"})," ",m(g,"points_per_game")," + ",m(g,"perfect_score_bonus")," bonus = ",s.jsxs("span",{className:"text-blue-600 font-bold",children:[m(g,"points_per_game")+m(g,"perfect_score_bonus")," points"]})]})}),s.jsxs(G,{onClick:()=>h(g),disabled:!w,className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(va,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]})]})]})},g.id)})}),s.jsx(ne,{className:"mt-8 border-2 border-amber-300 bg-amber-50",children:s.jsx(se,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(_j,{className:"w-6 h-6 text-amber-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-amber-900 mb-2",children:"Important Notes:"}),s.jsxs("ul",{className:"text-sm text-amber-800 space-y-1",children:[s.jsx("li",{children:" Changes take effect immediately for all new games played"}),s.jsx("li",{children:" User points are capped at 1500 total regardless of individual game settings"}),s.jsx("li",{children:" Perfect score bonus is only awarded when users get 100% correct"}),s.jsx("li",{children:" Deactivating a game will hide it from the Games page"})]})]})]})})})]})})}async function Tpe(t,e,n={}){var o,c,d,h,m,f;const{isPerfect:r=!1,fallbackScore:i=10,metadata:a={}}=n;try{const g=await Xe.entities.GameSettings.filter({game_id:e}),x=g&&g.length>0?g[0]:null,_=x?x.is_active!==!1:!0,w=x?Number(x.points_per_game??i):i,j=x?Number(x.perfect_score_bonus??0):0,N=x?Number(x.min_points??0):0,E=x?Number(x.max_points??99999):99999;let k=_?w+(r?j:0):0;k=Math.max(N,Math.min(k,E));const{auth:C}=Bt(),P=await((c=(o=C==null?void 0:C.currentUser)==null?void 0:o.getIdToken)==null?void 0:c.call(o));if(P){const M="/api/updatePoints";try{if((await fetch(M,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${P}`},body:JSON.stringify({game_type:e,points_awarded:k,isPerfect:r,metadata:a})})).ok)return k}catch{}}const{db:F,auth:D}=Bt(),R=(d=D==null?void 0:D.currentUser)==null?void 0:d.uid,I=((h=D==null?void 0:D.currentUser)==null?void 0:h.email)||null;if(F&&R)try{const M=Vl(F,"users",R),V=await H6(M),O=Number(V.exists()&&((m=V.data())==null?void 0:m.points)||0),X=Math.min(O+k,1500);await K6(M,{uid:R,email:I,points:X,lastAward:{game_type:e||null,points_awarded:k,perfect:r,at:new Date},updatedAt:new Date,createdAt:V.exists()?((f=V.data())==null?void 0:f.createdAt)||new Date:new Date},{merge:!0})}catch{}return k}catch(g){return console.error("awardPointsForGame error:",g),i}}function jV(){Bn();const[t,e]=v.useState(null),[n,r]=v.useState(null),[i,a]=v.useState(0),[o,c]=v.useState(null),[d,h]=v.useState(!1),[m,f]=v.useState([]),[g,x]=v.useState(null),[_,w]=v.useState(!1),[j,N]=v.useState(null),[E,k]=v.useState("all"),[C,P]=v.useState(null);v.useEffect(()=>{F()},[]),v.useEffect(()=>{const q=pu(Z=>P(Z));return()=>q&&q()},[]);const F=async()=>{try{if(await base44.auth.isAuthenticated()){const Z=await base44.auth.me();e(Z)}}catch{console.log("User not authenticated")}},{data:D=[],isLoading:R}=vn({queryKey:["quizzes"],queryFn:async()=>{const q=await base44.entities.Quiz.filter({is_active:!0},"-created_date",100),Z=new Date;return q.filter($=>{const me=$.start_date?new Date($.start_date):null,Ne=$.end_date?new Date($.end_date):null;return!(me&&Z<me||Ne&&Z>Ne)})},initialData:[]}),{data:I=[]}=vn({queryKey:["user-quiz-attempts",t==null?void 0:t.id],queryFn:()=>base44.entities.QuizAttempt.filter({user_id:t.id},"-created_date",100),enabled:!!t,initialData:[]}),{data:M=[]}=vn({queryKey:["quiz-questions",n==null?void 0:n.id],queryFn:async()=>{if(!n)return[];const q=n.questions||[];return(await Promise.all(q.map(async $=>{try{return(await base44.entities.QuizQuestion.filter({id:$}))[0]}catch{return null}}))).filter($=>$!==null)},enabled:!!n,initialData:[]}),V=q=>{r(q),a(0),f([]),h(!1),w(!1),x(Date.now())},O=q=>{d||c(q)},U=()=>{if(o===null)return;const q=M[i],Z=o===q.correct_answer_index;f([...m,{question_id:q.id,selected_answer:o,is_correct:Z}]),h(!0)},X=()=>{i<M.length-1?(a(i+1),c(null),h(!1)):re()},re=async()=>{var Se,De,ze;const q=Math.floor((Date.now()-g)/1e3),Z=m.filter(qe=>qe.is_correct).length+(o===((Se=M[i])==null?void 0:Se.correct_answer_index)?1:0),$=M.length,me=Math.round(Z/$*100),Ne=me>=(n.passing_score||70);let Ae=Ne?n.points_reward||20:0;if(me===100&&(Ae+=n.bonus_points||10),N({score:me,correct_answers:Z,total_questions:$,time_taken:q,points_earned:Ae,passed:Ne}),w(!0),t)try{await base44.entities.QuizAttempt.create({user_id:t.id,quiz_id:n.id,score:me,points_earned:Ae,correct_answers:Z,total_questions:$,time_taken_seconds:q,answers:[...m,{question_id:(De=M[i])==null?void 0:De.id,selected_answer:o,is_correct:o===((ze=M[i])==null?void 0:ze.correct_answer_index)}],passed:Ne,completed_at:new Date().toISOString()}),await base44.entities.Quiz.update(n.id,{total_attempts:(n.total_attempts||0)+1})}catch(qe){console.error("Error saving quiz attempt:",qe)}try{await Tpe(t,"quiz",{isPerfect:me===100,fallbackScore:Ae,metadata:{quiz_id:n.id,score_percentage:me,correct_answers:Z,total_questions:$,time_taken_seconds:q,passed:Ne}})}catch(qe){console.warn("awardPointsForGame failed:",(qe==null?void 0:qe.message)||qe)}},ue=()=>{r(null),a(0),c(null),h(!1),f([]),w(!1),N(null)},ie=q=>{const Z=I.filter($=>$.quiz_id===q);return Z.length===0?null:Math.max(...Z.map($=>$.score))},K=["all","Quran","Hadith","Seerah","Fiqh","Prophets","Sahabah","Akhlaq","History","Mixed"],W=E==="all"?D:D.filter(q=>q.subject===E),B=D.filter(q=>q.is_featured);if(R)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-purple-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ih,{className:"w-16 h-16 mx-auto mb-4 animate-bounce text-blue-600"}),s.jsx("p",{className:"text-gray-600 font-medium",children:"Loading quizzes..."})]})});if(n&&!_){if(M.length===0)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:s.jsx(ne,{className:"max-w-md",children:s.jsxs(se,{className:"p-8 text-center",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"Loading quiz questions..."}),s.jsx(G,{onClick:ue,children:"Back to Quizzes"})]})})});const q=M[i],Z=(i+1)/M.length*100;return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 py-8 px-4",children:s.jsx("div",{className:"max-w-3xl mx-auto",children:s.jsxs(ne,{className:"shadow-2xl",children:[s.jsxs(Le,{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx(Fe,{className:"text-2xl",children:n.title}),s.jsxs(we,{className:"bg-white/20 text-white",children:[s.jsx(Ya,{className:"w-4 h-4 mr-1"}),"Question ",i+1,"/",M.length]})]}),s.jsx(su,{value:Z,className:"bg-white/20"})]}),s.jsx(se,{className:"p-8",children:d?s.jsxs(te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center",children:[s.jsx("div",{className:"text-6xl mb-6",children:o===q.correct_answer_index?"":""}),s.jsx("h3",{className:`text-3xl font-bold mb-4 ${o===q.correct_answer_index?"text-green-600":"text-red-600"}`,children:o===q.correct_answer_index?"Correct!":"Not Quite!"}),s.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 mb-6",children:[o!==q.correct_answer_index&&s.jsxs("p",{className:"text-lg mb-3",children:[s.jsx("strong",{children:"Correct Answer:"})," ",q.options[q.correct_answer_index]]}),s.jsxs("p",{className:"text-gray-700",children:[s.jsx("strong",{children:"Explanation:"})," ",q.explanation]}),q.source&&s.jsxs("p",{className:"text-sm text-gray-600 mt-3",children:[s.jsx("strong",{children:"Source:"})," ",q.source]})]}),s.jsx(G,{onClick:X,size:"lg",className:"bg-gradient-to-r from-blue-500 to-purple-500",children:i<M.length-1?"Next Question":"See Results"})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(we,{className:"mb-4",children:q.category}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:q.question})]}),s.jsx("div",{className:"space-y-3",children:q.options.map(($,me)=>s.jsx(te.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>O(me),className:`w-full p-4 rounded-xl border-2 text-left transition-all ${o===me?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300 bg-white"}`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold ${o===me?"bg-blue-500 text-white":"bg-gray-200 text-gray-600"}`,children:String.fromCharCode(65+me)}),s.jsx("span",{className:"flex-1 text-gray-900",children:$})]})},me))}),s.jsx(G,{onClick:U,disabled:o===null,className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 text-lg py-6",size:"lg",children:"Submit Answer"})]})})]})})})}return _&&j?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 py-8 px-4",children:s.jsx("div",{className:"max-w-2xl mx-auto",children:s.jsx(te.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},children:s.jsx(ne,{className:"shadow-2xl border-4 border-blue-300",children:s.jsxs(se,{className:"p-12 text-center",children:[s.jsx("div",{className:"text-6xl mb-6",children:j.passed?"":""}),s.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:j.passed?"Congratulations!":"Keep Learning!"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[s.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 border-2 border-blue-200",children:[s.jsx(Aj,{className:"w-8 h-8 mx-auto mb-2 text-blue-600"}),s.jsxs("p",{className:"text-4xl font-bold text-blue-600",children:[j.score,"%"]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Score"})]}),s.jsxs("div",{className:"bg-purple-50 rounded-xl p-6 border-2 border-purple-200",children:[s.jsx(Hc,{className:"w-8 h-8 mx-auto mb-2 text-purple-600"}),s.jsx("p",{className:"text-4xl font-bold text-purple-600",children:j.points_earned}),s.jsx("p",{className:"text-sm text-gray-600",children:"Points"})]})]}),s.jsx("div",{className:"bg-gray-50 rounded-xl p-6 mb-8",children:s.jsxs("div",{className:"flex justify-around text-center",children:[s.jsxs("div",{children:[s.jsx(oa,{className:"w-6 h-6 mx-auto mb-1 text-green-600"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j.correct_answers}),s.jsx("p",{className:"text-xs text-gray-600",children:"Correct"})]}),s.jsxs("div",{children:[s.jsx(gy,{className:"w-6 h-6 mx-auto mb-1 text-red-600"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j.total_questions-j.correct_answers}),s.jsx("p",{className:"text-xs text-gray-600",children:"Wrong"})]}),s.jsxs("div",{children:[s.jsx(Ya,{className:"w-6 h-6 mx-auto mb-1 text-blue-600"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[Math.floor(j.time_taken/60),":",(j.time_taken%60).toString().padStart(2,"0")]}),s.jsx("p",{className:"text-xs text-gray-600",children:"Time"})]})]})}),j.score===100&&s.jsx("div",{className:"bg-gradient-to-r from-amber-100 to-yellow-100 border-2 border-amber-400 rounded-xl p-4 mb-6",children:s.jsxs("p",{className:"text-amber-900 font-bold",children:[" Perfect Score! +",n.bonus_points," Bonus Points!"]})}),s.jsxs("div",{className:"flex gap-4 justify-center",children:[s.jsx(G,{onClick:ue,variant:"outline",size:"lg",children:"Back to Quizzes"}),s.jsx(G,{onClick:()=>V(n),className:"bg-gradient-to-r from-blue-500 to-purple-500",size:"lg",children:"Retry Quiz"})]})]})})})})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 py-8 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[!C&&s.jsx("div",{className:"mb-4",children:s.jsx(ne,{className:"border-2 border-yellow-300 bg-yellow-50",children:s.jsx(se,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsx("div",{className:"text-sm text-yellow-900",children:"To track your points on the Leaderboard, please sign in."}),s.jsx(Et,{to:"/Signup",children:s.jsx(G,{className:"bg-blue-600 hover:bg-blue-700",children:"Sign in / Signup"})})]})})})}),s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-5xl font-bold text-gray-900 mb-4",children:"Islamic Quizzes"}),s.jsx("p",{className:"text-xl text-gray-600",children:"Test your knowledge on various Islamic topics"})]}),s.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-8",children:K.map(q=>s.jsx(G,{onClick:()=>k(q),variant:E===q?"default":"outline",className:E===q?"bg-blue-600":"",children:q==="all"?"All Subjects":q},q))}),B.length>0&&E==="all"&&s.jsxs("div",{className:"mb-12",children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[s.jsx(zt,{className:"w-6 h-6 text-amber-500 fill-amber-500"}),"Featured This Week"]}),s.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:B.map((q,Z)=>{var $;return s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Z*.1},children:s.jsxs(ne,{className:"border-4 border-amber-400 hover:shadow-2xl transition-all cursor-pointer bg-gradient-to-br from-amber-50 to-yellow-50",children:[s.jsx(Le,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"text-4xl",children:q.icon}),s.jsxs("div",{children:[s.jsx(Fe,{className:"text-2xl",children:q.title}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:q.description})]})]}),s.jsx(we,{className:"bg-amber-500",children:"Featured"})]})}),s.jsxs(se,{children:[s.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[s.jsx(we,{children:q.subject}),s.jsxs(we,{variant:"outline",children:[(($=q.questions)==null?void 0:$.length)||0," Questions"]}),s.jsxs(we,{variant:"outline",children:[s.jsx(Ya,{className:"w-3 h-3 mr-1"}),q.duration_minutes," min"]}),s.jsxs(we,{variant:"outline",children:[s.jsx(Hc,{className:"w-3 h-3 mr-1"}),q.points_reward," pts"]})]}),t&&ie(q.id)!==null&&s.jsx("div",{className:"bg-blue-100 rounded-lg p-2 mb-4",children:s.jsxs("p",{className:"text-sm text-blue-900",children:[s.jsx("strong",{children:"Your Best:"})," ",ie(q.id),"%"]})}),s.jsx(G,{onClick:()=>V(q),className:"w-full bg-gradient-to-r from-amber-500 to-orange-500",size:"lg",children:"Start Quiz"})]})]})},q.id)})})]}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:E==="all"?"All Quizzes":`${E} Quizzes`}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:W.map((q,Z)=>{var $;return s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Z*.1},children:s.jsxs(ne,{className:"hover:shadow-xl transition-all cursor-pointer h-full",children:[s.jsxs(Le,{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"text-4xl",children:q.icon}),s.jsx("div",{className:"flex-1",children:s.jsx(Fe,{className:"text-lg",children:q.title})})]}),s.jsx("p",{className:"text-sm text-gray-600",children:q.description})]}),s.jsxs(se,{children:[s.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[s.jsx(we,{children:q.subject}),s.jsxs(we,{variant:"outline",children:[(($=q.questions)==null?void 0:$.length)||0," Qs"]}),s.jsxs(we,{variant:"outline",children:[s.jsx(Ya,{className:"w-3 h-3 mr-1"}),q.duration_minutes,"m"]})]}),t&&ie(q.id)!==null&&s.jsx("div",{className:"bg-green-100 rounded-lg p-2 mb-4",children:s.jsxs("p",{className:"text-xs text-green-900",children:["Best: ",ie(q.id),"%"]})}),s.jsx(G,{onClick:()=>V(q),className:"w-full bg-blue-600",children:"Take Quiz"})]})]})},q.id)})}),W.length===0&&s.jsx(ne,{children:s.jsxs(se,{className:"p-12 text-center",children:[s.jsx(dn,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-gray-600",children:"No quizzes available in this category yet."})]})})]})})}function NV(){const t=Vs(),[e,n]=v.useState(!1),[r,i]=v.useState(null),[a,o]=v.useState([]),[c,d]=v.useState(""),[h,m]=v.useState(5),[f,g]=v.useState(!1),[x,_]=v.useState(""),[w,j]=v.useState(""),[N,E]=v.useState({title:"",description:"",subject:"Quran",difficulty:"mixed",duration_minutes:15,passing_score:70,points_reward:20,bonus_points:10,is_active:!0,is_featured:!1,age_group:"all",icon:"",start_date:"",end_date:""}),k=["Quran","Hadith","Seerah","Fiqh","Prophets","Sahabah","Akhlaq","History","Arabic","Beliefs","Mixed"],{data:C=[]}=vn({queryKey:["all-quizzes"],queryFn:()=>Xe.entities.Quiz.list("-created_date",100),initialData:[]}),{data:P=[]}=vn({queryKey:["all-quiz-questions"],queryFn:()=>Xe.entities.QuizQuestion.filter({is_active:!0},"-date_added",500),initialData:[]}),F=gn({mutationFn:W=>Xe.entities.Quiz.create(W),onSuccess:()=>{t.invalidateQueries({queryKey:["all-quizzes"]}),U()}}),D=gn({mutationFn:({id:W,data:B})=>Xe.entities.Quiz.update(W,B),onSuccess:()=>{t.invalidateQueries({queryKey:["all-quizzes"]}),U()}}),R=gn({mutationFn:W=>Xe.entities.Quiz.delete(W),onSuccess:()=>{t.invalidateQueries({queryKey:["all-quizzes"]})}}),I=async W=>{W.preventDefault();const B={...N,questions:a,week_number:N.start_date?M(new Date(N.start_date)):null};r?await D.mutateAsync({id:r.id,data:B}):await F.mutateAsync(B)},M=W=>{const B=new Date(W.getFullYear(),0,1),q=(W-B)/864e5;return Math.ceil((q+B.getDay()+1)/7)},V=W=>{i(W),E({title:W.title,description:W.description,subject:W.subject,difficulty:W.difficulty,duration_minutes:W.duration_minutes,passing_score:W.passing_score,points_reward:W.points_reward,bonus_points:W.bonus_points,is_active:W.is_active,is_featured:W.is_featured,age_group:W.age_group||"all",icon:W.icon||"",start_date:W.start_date||"",end_date:W.end_date||""}),o(W.questions||[]),n(!0)},O=async W=>{window.confirm("Are you sure you want to delete this quiz?")&&await R.mutateAsync(W)},U=()=>{E({title:"",description:"",subject:"Quran",difficulty:"mixed",duration_minutes:15,passing_score:70,points_reward:20,bonus_points:10,is_active:!0,is_featured:!1,age_group:"all",icon:"",start_date:"",end_date:""}),o([]),i(null),n(!1),d(""),m(5),g(!1),_(""),j("")},X=W=>{o(B=>B.includes(W)?B.filter(q=>q!==W):[...B,W])},re=P.filter(W=>N.subject==="Mixed"||W.category===N.subject),ue=W=>{const B=String(W||"").toLowerCase();return["easy","medium","hard"].includes(B)?B:"easy"},ie=async()=>{if(_(""),j(""),!c.trim()){_("Enter a topic for AI generation");return}g(!0);try{const{auth:W}=Bt();if(!(W!=null&&W.currentUser))throw new Error("Please login to use AI agent");const B=await W.currentUser.getIdToken(),q=await fetch("/api/quizAgent",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${B}`},body:JSON.stringify({topic:c,subject:N.subject,difficulty:N.difficulty,count:h})});if(!q.ok)throw new Error(`Agent error: ${q.status}`);const Z=await q.json(),$=Array.isArray(Z.questions)?Z.questions:[],me=[];for(const Ne of $)try{const Ae=Array.isArray(Ne.options)&&Ne.options.length>=2?Ne.options.slice(0,4):["A","B","C","D"],ge=Math.max(0,Ae.findIndex(ze=>String(ze).trim()===String(Ne.answer||"").trim())),Se={category:Ne.category||N.subject,difficulty:ue(Ne.difficulty||N.difficulty),question:Ne.question||`Question about ${c}`,options:Ae,correct_answer_index:ge>=0?ge:0,explanation:"",source:"AI",age_group:N.age_group||"all",is_active:!0},De=await Xe.entities.QuizQuestion.create(Se);De!=null&&De.id&&me.push(De.id)}catch{}me.length&&(o(Ne=>[...Ne,...me]),t.invalidateQueries({queryKey:["all-quiz-questions"]})),j(`Generated ${$.length} and added ${me.length} questions.`)}catch(W){_((W==null?void 0:W.message)||"Failed to generate with AI")}finally{g(!1)}},K={total:C.length,active:C.filter(W=>W.is_active).length,featured:C.filter(W=>W.is_featured).length,totalAttempts:C.reduce((W,B)=>W+(B.total_attempts||0),0)};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 py-8 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Quiz Manager"}),s.jsx("p",{className:"text-gray-600",children:"Create and manage weekly quizzes"})]}),s.jsxs(G,{onClick:()=>n(!e),className:"bg-blue-600 hover:bg-blue-700",children:[e?s.jsx(Qr,{className:"w-4 h-4 mr-2"}):s.jsx(Ls,{className:"w-4 h-4 mr-2"}),e?"Cancel":"Create Quiz"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[s.jsx(ne,{children:s.jsxs(se,{className:"p-4 text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Quizzes"}),s.jsx("p",{className:"text-3xl font-bold text-blue-600",children:K.total})]})}),s.jsx(ne,{children:s.jsxs(se,{className:"p-4 text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Active"}),s.jsx("p",{className:"text-3xl font-bold text-green-600",children:K.active})]})}),s.jsx(ne,{children:s.jsxs(se,{className:"p-4 text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Featured"}),s.jsx("p",{className:"text-3xl font-bold text-amber-600",children:K.featured})]})}),s.jsx(ne,{children:s.jsxs(se,{className:"p-4 text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Attempts"}),s.jsx("p",{className:"text-3xl font-bold text-purple-600",children:K.totalAttempts})]})})]}),s.jsx(gs,{children:e&&s.jsx(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:s.jsxs(ne,{className:"mb-8 border-2 border-blue-300",children:[s.jsx(Le,{className:"bg-gradient-to-r from-blue-50 to-purple-50",children:s.jsx(Fe,{children:r?"Edit Quiz":"Create New Quiz"})}),s.jsx(se,{className:"p-6",children:s.jsxs("form",{onSubmit:I,className:"space-y-6",children:[s.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"AI Topic"}),s.jsx(Te,{value:c,onChange:W=>d(W.target.value),placeholder:"e.g., Ramadan, Salah, Wudu"})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"AI Count"}),s.jsx(Te,{type:"number",value:h,onChange:W=>m(parseInt(W.target.value||"5"))})]}),s.jsx("div",{className:"flex items-end",children:s.jsx(G,{type:"button",className:"bg-purple-600 hover:bg-purple-700",onClick:ie,disabled:f,children:f?"Generating":"Generate via AI"})})]}),(x||w)&&s.jsxs("div",{className:"text-sm",children:[x&&s.jsx("div",{className:"text-red-600",children:x}),w&&s.jsx("div",{className:"text-green-600",children:w})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"Quiz Title"}),s.jsx(Te,{value:N.title,onChange:W=>E({...N,title:W.target.value}),placeholder:"e.g., Ramadan Champions Quiz",required:!0})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Icon Emoji"}),s.jsx(Te,{value:N.icon,onChange:W=>E({...N,icon:W.target.value}),placeholder:""})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Description"}),s.jsx(Pn,{value:N.description,onChange:W=>E({...N,description:W.target.value}),placeholder:"Describe the quiz...",rows:2})]}),s.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"Subject"}),s.jsxs(tn,{value:N.subject,onValueChange:W=>E({...N,subject:W}),children:[s.jsx(Gt,{children:s.jsx(nn,{})}),s.jsx(Qt,{children:k.map(W=>s.jsx(Re,{value:W,children:W},W))})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Duration (min)"}),s.jsx(Te,{type:"number",value:N.duration_minutes,onChange:W=>E({...N,duration_minutes:parseInt(W.target.value)})})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Points"}),s.jsx(Te,{type:"number",value:N.points_reward,onChange:W=>E({...N,points_reward:parseInt(W.target.value)})})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Bonus"}),s.jsx(Te,{type:"number",value:N.bonus_points,onChange:W=>E({...N,bonus_points:parseInt(W.target.value)})})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"Start Date"}),s.jsx(Te,{type:"date",value:N.start_date,onChange:W=>E({...N,start_date:W.target.value})})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"End Date"}),s.jsx(Te,{type:"date",value:N.end_date,onChange:W=>E({...N,end_date:W.target.value})})]})]}),s.jsxs("div",{className:"flex gap-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rs,{checked:N.is_active,onCheckedChange:W=>E({...N,is_active:W})}),s.jsx(ye,{children:"Active"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rs,{checked:N.is_featured,onCheckedChange:W=>E({...N,is_featured:W})}),s.jsx(ye,{children:"Featured"})]})]}),s.jsxs("div",{children:[s.jsxs(ye,{className:"mb-3 block",children:["Select Questions (",a.length," selected)"]}),s.jsx("div",{className:"max-h-96 overflow-y-auto border rounded-lg p-4 space-y-2",children:re.map(W=>s.jsx("div",{onClick:()=>X(W.id),className:`p-3 rounded-lg border-2 cursor-pointer transition-all ${a.includes(W.id)?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("input",{type:"checkbox",checked:a.includes(W.id),onChange:()=>{},className:"mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-gray-900",children:W.question}),s.jsxs("div",{className:"flex gap-2 mt-1",children:[s.jsx(we,{variant:"outline",className:"text-xs",children:W.category}),s.jsx(we,{variant:"outline",className:"text-xs",children:W.difficulty})]})]})]})},W.id))})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(G,{type:"submit",className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(va,{className:"w-4 h-4 mr-2"}),r?"Update":"Create"," Quiz"]}),s.jsx(G,{type:"button",variant:"outline",onClick:U,children:"Cancel"})]})]})})]})})}),s.jsx("div",{className:"space-y-4",children:C.map((W,B)=>{var q;return s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:B*.05},children:s.jsx(ne,{className:W.is_featured?"border-4 border-amber-400":"",children:s.jsx(se,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"text-4xl",children:W.icon}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:W.title}),s.jsx("p",{className:"text-sm text-gray-600",children:W.description})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[s.jsx(we,{children:W.subject}),s.jsxs(we,{variant:"outline",children:[((q=W.questions)==null?void 0:q.length)||0," questions"]}),s.jsxs(we,{variant:"outline",children:[W.duration_minutes," min"]}),s.jsxs(we,{variant:"outline",children:[W.points_reward," pts"]}),W.is_featured&&s.jsxs(we,{className:"bg-amber-500",children:[s.jsx(zt,{className:"w-3 h-3 mr-1"}),"Featured"]}),!W.is_active&&s.jsx(we,{variant:"destructive",children:"Inactive"}),W.total_attempts>0&&s.jsxs(we,{variant:"outline",children:[s.jsx(by,{className:"w-3 h-3 mr-1"}),W.total_attempts," attempts"]})]}),W.start_date&&s.jsxs("div",{className:"flex items-center gap-2 mt-2 text-sm text-gray-600",children:[s.jsx(py,{className:"w-4 h-4"}),W.start_date," to ",W.end_date]})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx(G,{onClick:()=>V(W),variant:"outline",size:"sm",children:s.jsx(_o,{className:"w-4 h-4"})}),s.jsx(G,{onClick:()=>O(W.id),variant:"outline",size:"sm",className:"text-red-600 hover:bg-red-50",children:s.jsx(sr,{className:"w-4 h-4"})})]})]})})})},W.id)})})]})})}function Mm(){const[t,e]=v.useState(""),[n,r]=v.useState(""),[i,a]=v.useState(""),[o,c]=v.useState(""),[d,h]=v.useState(""),[m,f]=v.useState(""),[g,x]=v.useState({}),[_,w]=v.useState(!1),[j,N]=v.useState(!1),[E,k]=v.useState(""),[C,P]=v.useState(null),[F,D]=v.useState(""),[R,I]=v.useState(!1),[M,V]=v.useState(""),[O,U]=v.useState(!1),X=Bn();function re(){const ie={};return t.trim()||(ie.fullName="Full name is required"),n.trim()?/^\d+$/.test(n.trim())||(ie.age="Age must be a number"):ie.age="Age is required",i.trim()||(ie.city="City is required"),o.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.trim())||(ie.email="Invalid email format"):ie.email="Email is required",m.trim()||(ie.madrasah="Madrasah name is required"),(!d.trim()||d.length<6)&&(ie.password="Password must be at least 6 characters"),x(ie),Object.keys(ie).length===0}async function ue(ie){var K,W,B,q;if(ie.preventDefault(),k(""),!!re()){w(!0);try{const Z=o.trim().toLowerCase(),$=await gO(Z,d.trim());try{await yO(),U(!0)}catch{}N(!0),setTimeout(()=>X("/Login"),1500);try{await M_($.uid,{fullName:t.trim(),age:n.trim(),city:i.trim(),madrasah:m.trim(),email:Z}),P(!0);try{const{auth:me}=Bt(),Ne=await((W=(K=me==null?void 0:me.currentUser)==null?void 0:K.getIdToken)==null?void 0:W.call(K));if(Ne){const ge=await fetch("/api/signupNotify",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ne}`},body:JSON.stringify({email:Z,fullName:t.trim()})});if(ge.ok){const Se=await ge.json();Se!=null&&Se.notified&&D("Admin has been notified of your signup.")}}}catch{}}catch(me){const Ne=(me==null?void 0:me.code)||"";let Ae=(me==null?void 0:me.message)||"Profile save failed.";Ne==="permission-denied"&&(Ae="Profile save requires Firebase access. You can still log in."),P(!1),D(Ae);try{const{auth:ge}=Bt(),Se=await((q=(B=ge==null?void 0:ge.currentUser)==null?void 0:B.getIdToken)==null?void 0:q.call(B));if(Se){const ze=await fetch("/api/signupNotify",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Se}`},body:JSON.stringify({email:Z,fullName:t.trim()})});if(ze.ok){const qe=await ze.json();qe!=null&&qe.ok&&D(gt=>gt||"Your account is registered on the backend.")}}}catch{}}}catch(Z){const $=(Z==null?void 0:Z.code)||"";let me=(Z==null?void 0:Z.message)||"Signup failed";$==="auth/email-already-in-use"&&(me="Email already in use. Try logging in or reset your password.",I(!0),V(o.trim().toLowerCase())),$==="auth/invalid-email"&&(me="Invalid email address."),$==="auth/weak-password"&&(me="Password is too weak. Use at least 6 characters."),$==="auth/operation-not-allowed"&&(me="Email/password sign-up is disabled. Enable it in Firebase."),k(me)}finally{w(!1)}}}return s.jsxs("div",{className:"container mx-auto max-w-xl px-4 py-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Sign Up"}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Create your account and well register you in our backend. You can log in immediately after signing up."}),!1,s.jsxs("form",{onSubmit:ue,className:"space-y-4 bg-white/50 rounded-lg p-6 shadow",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"fullName",children:"Full Name"}),s.jsx("input",{id:"fullName",type:"text",className:"w-full rounded border px-3 py-2 focus:outline-none focus:ring",value:t,onChange:ie=>e(ie.target.value),placeholder:"e.g., Aisha Khan"}),g.fullName&&s.jsx("div",{className:"text-red-600 text-xs mt-1",children:g.fullName})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"age",children:"Age"}),s.jsx("input",{id:"age",type:"text",className:"w-full rounded border px-3 py-2 focus:outline-none focus:ring",value:n,onChange:ie=>r(ie.target.value),placeholder:"e.g., 10"}),g.age&&s.jsx("div",{className:"text-red-600 text-xs mt-1",children:g.age})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"madrasah",children:"Madrasah Name"}),s.jsx("input",{id:"madrasah",type:"text",className:"w-full rounded border px-3 py-2 focus:outline-none focus:ring",value:m,onChange:ie=>f(ie.target.value),placeholder:"e.g., Darul Uloom Karachi"}),g.madrasah&&s.jsx("div",{className:"text-red-600 text-xs mt-1",children:g.madrasah})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"city",children:"City"}),s.jsx("input",{id:"city",type:"text",className:"w-full rounded border px-3 py-2 focus:outline-none focus:ring",value:i,onChange:ie=>a(ie.target.value),placeholder:"e.g., Karachi"}),g.city&&s.jsx("div",{className:"text-red-600 text-xs mt-1",children:g.city})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"email",children:"Email"}),s.jsx("input",{id:"email",type:"email",className:"w-full rounded border px-3 py-2 focus:outline-none focus:ring",value:o,onChange:ie=>c(ie.target.value),placeholder:"e.g., aisha@example.com"}),g.email&&s.jsx("div",{className:"text-red-600 text-xs mt-1",children:g.email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"password",children:"Password"}),s.jsx("input",{id:"password",type:"password",className:"w-full rounded border px-3 py-2 focus:outline-none focus:ring",value:d,onChange:ie=>h(ie.target.value),placeholder:"At least 6 characters"}),g.password&&s.jsx("div",{className:"text-red-600 text-xs mt-1",children:g.password})]}),E&&s.jsx("div",{className:"text-red-600 text-sm",children:E}),R&&s.jsx("div",{className:"mt-2 flex items-center gap-2 text-sm",children:s.jsx("button",{type:"button",className:"text-blue-700 underline",onClick:async()=>{D("");try{await xO(M),D("Password reset email sent. Check your inbox."),I(!1)}catch(ie){const K=(ie==null?void 0:ie.code)||"";let W=(ie==null?void 0:ie.message)||"Failed to send reset email.";K==="auth/invalid-email"&&(W="Please enter a valid email address."),K==="auth/user-not-found"&&(W="No account found for this email."),D(W)}},children:"Send reset email"})}),j&&s.jsx("div",{className:"text-green-600 text-sm",children:"Account created! Redirecting to login"}),O&&s.jsx("div",{className:"text-green-700 bg-green-50 border border-green-200 rounded p-2 text-sm",children:"Verification email sent. Please check your inbox."}),C===!1&&s.jsx("div",{className:"text-yellow-700 bg-yellow-50 border border-yellow-200 rounded p-2 text-sm",children:F||"We couldnt save your profile right now, but your account is created. You can complete your profile after login."}),F&&C!==!1&&s.jsx("div",{className:"text-blue-700 bg-blue-50 border border-blue-200 rounded p-2 text-sm",children:F}),s.jsx("button",{type:"submit",className:"inline-flex items-center justify-center rounded bg-blue-600 px-4 py-2 text-white hover:bg-blue-700 disabled:opacity-60",disabled:_,children:_?"Creating":"Create Account"}),s.jsxs("div",{className:"mt-4 text-center",children:[s.jsx("span",{children:"Already have an account? "}),s.jsx("a",{href:"/Login",className:"text-blue-700 font-semibold",children:"Login"})]})]})]})}function pj(){const[t,e]=v.useState(""),[n,r]=v.useState(""),[i,a]=v.useState(""),[o,c]=v.useState(!1),d=Bn(),h=async m=>{m.preventDefault(),a(""),c(!0);try{const f=await fO(t,n);try{const{db:g}=Bt();if(g&&(f!=null&&f.uid)){const x=await wh(f.uid),_=!(x!=null&&x.fullName)||!(x!=null&&x.age)||!(x!=null&&x.city)||!(x!=null&&x.madrasah);d(_?"/CompleteProfile":"/Games")}else d("/Games")}catch{d("/Games")}}catch(f){const g=(f==null?void 0:f.code)||"";let x=(f==null?void 0:f.message)||"Login failed";g==="auth/invalid-credential"&&(x="Invalid email or password."),g==="auth/user-not-found"&&(x="No account found for this email. Please sign up."),g==="auth/wrong-password"&&(x="Incorrect password."),g==="auth/too-many-requests"&&(x="Too many attempts. Please wait and try again."),a(x)}finally{c(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-100 to-purple-100",children:s.jsxs("form",{onSubmit:h,className:"bg-white p-8 rounded-xl shadow-lg w-full max-w-md",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Login"}),i&&s.jsx("div",{className:"mb-4 text-red-600",children:i}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block mb-2 font-semibold",children:"Email"}),s.jsx("input",{type:"email",value:t,onChange:m=>e(m.target.value),className:"w-full p-2 border rounded",required:!0})]}),s.jsxs("div",{className:"mb-2",children:[s.jsx("label",{className:"block mb-2 font-semibold",children:"Password"}),s.jsx("input",{type:"password",value:n,onChange:m=>r(m.target.value),className:"w-full p-2 border rounded",required:!0})]}),s.jsx("div",{className:"text-right text-sm mb-6",children:s.jsx("button",{type:"button",className:"text-blue-600 hover:underline",onClick:async()=>{a("");try{const{auth:m}=Bt();if(!m)throw new Error("Firebase not configured");if(!t)throw new Error("Enter your email above, then click reset.");await BN(m,t),a("Password reset email sent. Check your inbox.")}catch(m){const f=(m==null?void 0:m.code)||"";let g=(m==null?void 0:m.message)||"Failed to send reset email.";f==="auth/invalid-email"&&(g="Please enter a valid email address."),f==="auth/user-not-found"&&(g="No account found for this email."),a(g)}},children:"Forgot password?"})}),s.jsx("button",{type:"submit",className:"w-full py-2 px-4 bg-gradient-to-r from-blue-500 to-purple-500 text-white font-bold rounded hover:scale-105 transition-transform",disabled:o,children:o?"Signing in":"Login"}),s.jsxs("div",{className:"mt-4 text-center",children:[s.jsx("span",{children:"Don't have an account? "}),s.jsx("a",{href:"/Signup",className:"text-blue-600 font-semibold",children:"Sign up"})]})]})})}function Ape(){const[t,e]=Rn.useState([]),[n,r]=Rn.useState(!1),[i,a]=Rn.useState({text:"",status:"all"}),o=Rn.useCallback(async()=>{r(!0);try{const h=await ny.list();e(h)}catch(h){console.error("Failed to load messages:",h)}finally{r(!1)}},[]);Rn.useEffect(()=>{o()},[o]);const c=async(h,m)=>{try{await ny.markRead(h,!m),e(f=>f.map(g=>g.id===h?{...g,read:!m}:g))}catch(f){console.error("Failed to update read status:",f)}},d=t.filter(h=>{const m=i.status==="all"?!0:i.status==="read"?h.read:!h.read,f=(i.text||"").toLowerCase(),g=!f||[h.name,h.email,h.subject,h.message].some(x=>(x||"").toLowerCase().includes(f));return m&&g});return s.jsx("div",{className:"p-6",children:s.jsxs(ne,{children:[s.jsx(Le,{children:s.jsx(Fe,{children:"Messages"})}),s.jsxs(se,{children:[s.jsxs("div",{className:"flex gap-2 mb-4 items-center",children:[s.jsx(Te,{placeholder:"Search by name, email, subject, message",value:i.text,onChange:h=>a({...i,text:h.target.value})}),s.jsxs("select",{className:"border rounded px-2 py-2",value:i.status,onChange:h=>a({...i,status:h.target.value}),children:[s.jsx("option",{value:"all",children:"All"}),s.jsx("option",{value:"unread",children:"Unread"}),s.jsx("option",{value:"read",children:"Read"})]}),s.jsx(G,{variant:"outline",onClick:o,disabled:n,children:n?"Loading...":"Refresh"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left border-b",children:[s.jsx("th",{className:"p-2",children:"Status"}),s.jsx("th",{className:"p-2",children:"Name"}),s.jsx("th",{className:"p-2",children:"Email"}),s.jsx("th",{className:"p-2",children:"Subject"}),s.jsx("th",{className:"p-2",children:"Message"}),s.jsx("th",{className:"p-2",children:"Date"}),s.jsx("th",{className:"p-2",children:"Actions"})]})}),s.jsxs("tbody",{children:[d.map(h=>s.jsxs("tr",{className:"border-b align-top",children:[s.jsx("td",{className:"p-2",children:h.read?"Read":"Unread"}),s.jsx("td",{className:"p-2",children:h.name}),s.jsx("td",{className:"p-2",children:h.email}),s.jsx("td",{className:"p-2",children:h.subject}),s.jsx("td",{className:"p-2 whitespace-pre-wrap max-w-xl",children:h.message}),s.jsx("td",{className:"p-2",children:h.createdAt?new Date(h.createdAt).toLocaleString():""}),s.jsx("td",{className:"p-2",children:s.jsx(G,{size:"sm",onClick:()=>c(h.id,h.read),children:h.read?"Mark Unread":"Mark Read"})})]},h.id)),d.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"p-4 text-center text-gray-500",children:"No messages found."})})]})]})})]})]})})}function _V(){const[t,e]=v.useState("chat"),[n,r]=v.useState([{role:"assistant",content:"Hi! Im your AI assistant. Ask me anything or request edits."}]),[i,a]=v.useState(""),[o,c]=v.useState(!1),[d,h]=v.useState(""),m=v.useRef(null),f=Bn(),g=()=>{m.current&&(m.current.scrollTop=m.current.scrollHeight)},x=async()=>{var j,N,E;h("");const w=i.trim();if(w){a(""),c(!0);try{const{auth:k}=Bt();let C=null;if(k!=null&&k.currentUser)C=await k.currentUser.getIdToken();else{f(et("Login"));return}const P=["/api/assistant","/.netlify/functions/assistant"];let F;for(const M of P)try{if(F=await fetch(M,{method:"POST",headers:C?{"Content-Type":"application/json",Authorization:`Bearer ${C}`}:{"Content-Type":"application/json"},body:JSON.stringify({mode:t,messages:[...n,{role:"user",content:w}]})}),F.ok)break}catch{}if(!F||!F.ok)throw new Error(`Assistant error: ${F?F.status:"no response"}`);const D=await F.json();if(D!=null&&D.error){const M=(j=D.error)==null?void 0:j.code,V=(N=D.error)==null?void 0:N.type;let O=String(((E=D.error)==null?void 0:E.message)||"Assistant error");M===429&&(O=V==="quota"?"OpenAI quota exceeded for this API key. Check plan/billing or use a different key.":"OpenAI rate limit reached. Please slow down and retry shortly."),h(O)}const R=String(D.reply||""),I=[...n,{role:"user",content:w},{role:"assistant",content:R}];r(I),setTimeout(g,50)}catch(k){h((k==null?void 0:k.message)||"Failed to contact assistant")}finally{c(!1)}}},_=[{label:"Edit Stories",page:"AdminStories"},{label:"Edit Banners",page:"AdminBanners"},{label:"Manage Users",page:"AdminUsers"},{label:"Quiz Manager",page:"AdminQuizManager"}];return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 py-6 px-3",children:s.jsx("div",{className:"max-w-2xl mx-auto",children:s.jsxs(ne,{className:"shadow-lg border-2 border-blue-200",children:[s.jsx(Le,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:s.jsxs(Fe,{className:"flex items-center justify-between",children:[s.jsx("span",{children:"AI Agent / ChatGPT"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(G,{variant:t==="chat"?"default":"outline",size:"sm",onClick:()=>e("chat"),children:"ChatGPT"}),s.jsx(G,{variant:t==="admin"?"default":"outline",size:"sm",onClick:()=>e("admin"),children:"Admin Agent"})]})]})}),s.jsxs(se,{className:"p-4",children:[d&&s.jsx("div",{className:"mb-3 text-red-600",children:d}),s.jsx("div",{ref:m,className:"h-[50vh] overflow-y-auto bg-white rounded-lg p-3 border",children:n.map((w,j)=>s.jsxs("div",{className:`mb-3 ${w.role==="assistant"?"text-gray-800":"text-gray-900"}`,children:[s.jsx(we,{variant:w.role==="assistant"?"secondary":"outline",className:"mr-2",children:w.role==="assistant"?"Assistant":"You"}),s.jsx("span",{className:"whitespace-pre-wrap",children:w.content})]},j))}),s.jsxs("div",{className:"mt-3",children:[s.jsx(Pn,{value:i,onChange:w=>a(w.target.value),placeholder:"Ask a question or request an edit",rows:3,className:"w-full"}),s.jsxs("div",{className:"flex items-center justify-between mt-2",children:[s.jsx("div",{className:"flex flex-wrap gap-2",children:_.map(w=>s.jsx(G,{variant:"outline",size:"sm",onClick:()=>f(et(w.page)),children:w.label},w.page))}),s.jsx(G,{onClick:x,disabled:o,children:o?"Sending":"Send"})]}),s.jsx("div",{className:"text-xs text-gray-500 mt-2",children:t==="admin"?"Admin Agent suggests exact pages and steps for edits. For full control, use the quick links.":"ChatGPT mode answers general questions. Switch to Admin Agent for site edits."})]})]})]})})})}function gj(){const t=Bn(),[e,n]=v.useState(!0),[r,i]=v.useState(!1),[a,o]=v.useState(""),[c,d]=v.useState(""),[h,m]=v.useState({fullName:"",age:"",city:"",madrasah:""});v.useEffect(()=>{(async()=>{o(""),d("");try{const{auth:w,db:j}=Bt(),N=w==null?void 0:w.currentUser;if(!N){t(et("Login"));return}if(!j){d("Profile cannot be saved right now (Firebase not configured). You can still use the app."),n(!1);return}const E=await wh(N.uid);m({fullName:(E==null?void 0:E.fullName)||(E==null?void 0:E.name)||"",age:(E==null?void 0:E.age)||"",city:(E==null?void 0:E.city)||"",madrasah:(E==null?void 0:E.madrasah)||""})}catch(w){o((w==null?void 0:w.message)||"Failed to load profile")}finally{n(!1)}})()},[t]);const f=_=>w=>m(j=>({...j,[_]:w.target.value})),g=()=>{var _,w,j,N;return!((_=h.fullName)!=null&&_.trim())||!((w=h.age)!=null&&w.trim())||!((j=h.city)!=null&&j.trim())||!((N=h.madrasah)!=null&&N.trim())},x=async _=>{_.preventDefault(),i(!0),o(""),d("");try{const{auth:w,db:j}=Bt(),N=w==null?void 0:w.currentUser;if(!N){t(et("Login"));return}if(!j){d("Profile cannot be saved (Firebase not configured). You can continue."),t(et("Games"));return}await M_(N.uid,{fullName:h.fullName.trim(),age:h.age.trim(),city:h.city.trim(),madrasah:h.madrasah.trim(),email:String(N.email||"")}),t(et("Games"))}catch(w){const j=(w==null?void 0:w.code)||"";let N=(w==null?void 0:w.message)||"Failed to save profile";j==="permission-denied"&&(N="Missing permissions to save profile. You can continue and try later."),o(N)}finally{i(!1)}};return e?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading"}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-purple-50 px-4",children:s.jsxs("form",{onSubmit:x,className:"bg-white p-6 rounded-xl shadow-lg w-full max-w-lg",children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Complete Your Profile"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Please fill the missing details to personalize your experience."}),a&&s.jsx("div",{className:"mb-3 text-red-700 bg-red-50 border border-red-200 rounded p-2 text-sm",children:a}),c&&s.jsx("div",{className:"mb-3 text-yellow-700 bg-yellow-50 border border-yellow-200 rounded p-2 text-sm",children:c}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"block mb-1 font-medium",children:"Full Name"}),s.jsx("input",{className:"w-full p-2 border rounded",value:h.fullName,onChange:f("fullName")})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"block mb-1 font-medium",children:"Age"}),s.jsx("input",{className:"w-full p-2 border rounded",value:h.age,onChange:f("age")})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"block mb-1 font-medium",children:"City"}),s.jsx("input",{className:"w-full p-2 border rounded",value:h.city,onChange:f("city")})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block mb-1 font-medium",children:"Madrasah"}),s.jsx("input",{className:"w-full p-2 border rounded",value:h.madrasah,onChange:f("madrasah")})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("button",{type:"submit",className:"px-4 py-2 rounded bg-blue-600 text-white hover:bg-blue-700",disabled:r||g(),children:r?"Saving":"Save and Continue"}),s.jsx("button",{type:"button",className:"px-4 py-2 rounded border",onClick:()=>t(et("Games")),children:"Skip for now"})]})]})})}const Ipe={Home:hx,Games:W1,Leaderboard:$O,MyPoints:K1,Stories:r3,Audio:a3,Learn:f3,ParentZone:p3,About:g3,Welcome:x3,ContactUs:y3,Duas:v3,RecordAndShare:sF,RecordingStudio:iF,RecordingsAdmin:aF,CreativeCorner:oF,LearningLibrary:lF,ColoringPages:cF,DrawingBoard:uF,PoetryWriting:dF,MonthlyContest:hF,IslamicEncyclopedia:mF,AudioTafsir:fF,IslamicFacts:pF,Worksheets:gF,AudioNew:xF,Hadith:yF,History:vF,Tajweed:bF,PrintableQuizzes:wF,Multimedia:_F,FullQuran:Xm,Quran:Xm,Manzil:kF,Hizb:TF,HifzDashboard:AF,ResetPointsAdmin:PF,AdminDashboard:fj,AdminSettings:UF,AdminStories:zF,AdminAudio:lV,AdminMedia:cV,PrivacyPolicy:uV,Challenges:dV,AdminQuestions:hV,Videos:mV,AdminVideos:fV,AdminAudioContent:pV,AdminUsers:gV,DeleteAccount:xV,LearningPaths:yV,AdminBanners:vV,AdminStoryBuilder:bV,AdminGameSettings:wV,Quizzes:jV,AdminQuizManager:NV,Signup:Mm,Login:pj,Assistant:_V,CompleteProfile:gj};function Rpe(t){t.endsWith("/")&&(t=t.slice(0,-1));let e=t.split("/").pop();e.includes("?")&&(e=e.split("?")[0]);const n=Object.keys(Ipe).find(r=>r.toLowerCase()===e.toLowerCase());return!n||n==="Layout"?"Home":n}function Ppe(){const t=jo(),e=Rpe(t.pathname),n=s.jsx(cr,{children:s.jsx(_V,{})});return s.jsx(wO,{currentPageName:e,children:s.jsxs(O9,{children:[s.jsx(Me,{path:"/",element:s.jsx(hx,{})}),s.jsx(Me,{path:"/Home",element:s.jsx(hx,{})}),s.jsx(Me,{path:"/Games",element:s.jsx(W1,{})}),s.jsx(Me,{path:"/games",element:s.jsx(W1,{})}),s.jsx(Me,{path:"/Leaderboard",element:s.jsx($O,{})}),s.jsx(Me,{path:"/MyPoints",element:s.jsx(K1,{})}),s.jsx(Me,{path:"/mypoints",element:s.jsx(K1,{})}),s.jsx(Me,{path:"/Stories",element:s.jsx(r3,{})}),s.jsx(Me,{path:"/Audio",element:s.jsx(a3,{})}),s.jsx(Me,{path:"/Learn",element:s.jsx(f3,{})}),s.jsx(Me,{path:"/ParentZone",element:s.jsx(p3,{})}),s.jsx(Me,{path:"/About",element:s.jsx(g3,{})}),s.jsx(Me,{path:"/Welcome",element:s.jsx(x3,{})}),s.jsx(Me,{path:"/ContactUs",element:s.jsx(y3,{})}),s.jsx(Me,{path:"/Duas",element:s.jsx(v3,{})}),s.jsx(Me,{path:"/RecordAndShare",element:s.jsx(sF,{})}),s.jsx(Me,{path:"/RecordingStudio",element:s.jsx(iF,{})}),s.jsx(Me,{path:"/RecordingsAdmin",element:s.jsx(cr,{children:s.jsx(aF,{})})}),s.jsx(Me,{path:"/CreativeCorner",element:s.jsx(oF,{})}),s.jsx(Me,{path:"/LearningLibrary",element:s.jsx(lF,{})}),s.jsx(Me,{path:"/ColoringPages",element:s.jsx(cF,{})}),s.jsx(Me,{path:"/DrawingBoard",element:s.jsx(uF,{})}),s.jsx(Me,{path:"/PoetryWriting",element:s.jsx(dF,{})}),s.jsx(Me,{path:"/MonthlyContest",element:s.jsx(hF,{})}),s.jsx(Me,{path:"/IslamicEncyclopedia",element:s.jsx(mF,{})}),s.jsx(Me,{path:"/AudioTafsir",element:s.jsx(fF,{})}),s.jsx(Me,{path:"/IslamicFacts",element:s.jsx(pF,{})}),s.jsx(Me,{path:"/Worksheets",element:s.jsx(gF,{})}),s.jsx(Me,{path:"/AudioNew",element:s.jsx(xF,{})}),s.jsx(Me,{path:"/Hadith",element:s.jsx(yF,{})}),s.jsx(Me,{path:"/History",element:s.jsx(vF,{})}),s.jsx(Me,{path:"/Tajweed",element:s.jsx(bF,{})}),s.jsx(Me,{path:"/PrintableQuizzes",element:s.jsx(wF,{})}),s.jsx(Me,{path:"/Multimedia",element:s.jsx(_F,{})}),s.jsx(Me,{path:"/FullQuran",element:s.jsx(Xm,{})}),s.jsx(Me,{path:"/Quran",element:s.jsx(Xm,{})}),s.jsx(Me,{path:"/quran",element:s.jsx(Xm,{})}),s.jsx(Me,{path:"/Manzil",element:s.jsx(kF,{})}),s.jsx(Me,{path:"/Hizb",element:s.jsx(TF,{})}),s.jsx(Me,{path:"/HifzDashboard",element:s.jsx(AF,{})}),s.jsx(Me,{path:"/ResetPointsAdmin",element:s.jsx(PF,{})}),s.jsx(Me,{path:"/AdminLogin",element:s.jsx(tR,{})}),s.jsx(Me,{path:"/adminlogin",element:s.jsx(tR,{})}),s.jsx(Me,{path:"/AdminDashboard",element:s.jsx(cr,{children:s.jsx(fj,{})})}),s.jsx(Me,{path:"/admindashboard",element:s.jsx(cr,{children:s.jsx(fj,{})})}),s.jsx(Me,{path:"/AdminSettings",element:s.jsx(cr,{children:s.jsx(UF,{})})}),s.jsx(Me,{path:"/AdminStories",element:s.jsx(cr,{children:s.jsx(zF,{})})}),s.jsx(Me,{path:"/AdminAudio",element:s.jsx(cr,{children:s.jsx(lV,{})})}),s.jsx(Me,{path:"/AdminMedia",element:s.jsx(cr,{children:s.jsx(cV,{})})}),s.jsx(Me,{path:"/PrivacyPolicy",element:s.jsx(uV,{})}),s.jsx(Me,{path:"/Challenges",element:s.jsx(dV,{})}),s.jsx(Me,{path:"/AdminQuestions",element:s.jsx(cr,{children:s.jsx(hV,{})})}),s.jsx(Me,{path:"/Videos",element:s.jsx(mV,{})}),s.jsx(Me,{path:"/AdminVideos",element:s.jsx(cr,{children:s.jsx(fV,{})})}),s.jsx(Me,{path:"/AdminAudioContent",element:s.jsx(cr,{children:s.jsx(pV,{})})}),s.jsx(Me,{path:"/AdminUsers",element:s.jsx(cr,{children:s.jsx(gV,{})})}),s.jsx(Me,{path:"/DeleteAccount",element:s.jsx(xV,{})}),s.jsx(Me,{path:"/LearningPaths",element:s.jsx(yV,{})}),s.jsx(Me,{path:"/AdminBanners",element:s.jsx(cr,{children:s.jsx(vV,{})})}),s.jsx(Me,{path:"/AdminSponsors",element:s.jsx(cr,{children:s.jsx(sR,{})})}),s.jsx(Me,{path:"/adminsponsors",element:s.jsx(cr,{children:s.jsx(sR,{})})}),s.jsx(Me,{path:"/AdminStoryBuilder",element:s.jsx(cr,{children:s.jsx(bV,{})})}),s.jsx(Me,{path:"/AdminGameSettings",element:s.jsx(cr,{children:s.jsx(wV,{})})}),s.jsx(Me,{path:"/AdminMessages",element:s.jsx(cr,{children:s.jsx(Ape,{})})}),s.jsx(Me,{path:"/Quizzes",element:s.jsx(jV,{})}),s.jsx(Me,{path:"/AdminQuizManager",element:s.jsx(NV,{})}),s.jsx(Me,{path:"/signup",element:s.jsx(Mm,{})}),s.jsx(Me,{path:"/Signup",element:s.jsx(Mm,{})}),s.jsx(Me,{path:"/Signin",element:s.jsx(Mm,{})}),s.jsx(Me,{path:"/signin",element:s.jsx(Mm,{})}),s.jsx(Me,{path:"/Login",element:s.jsx(pj,{})}),s.jsx(Me,{path:"/login",element:s.jsx(pj,{})}),s.jsx(Me,{path:"/CompleteProfile",element:s.jsx(gj,{})}),s.jsx(Me,{path:"/completeprofile",element:s.jsx(gj,{})}),s.jsx(Me,{path:"/Assistant",element:n}),s.jsx(Me,{path:"/assistant",element:n}),s.jsx(Me,{path:"*",element:s.jsx(hx,{})})]})})}function Dpe(){return s.jsx(iz,{children:s.jsx(Ppe,{})})}const Mpe=20,Ope=1e6,Za={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let jw=0;function Lpe(){return jw=(jw+1)%Number.MAX_VALUE,jw.toString()}const Nw=new Map,aR=t=>{if(Nw.has(t))return;const e=setTimeout(()=>{Nw.delete(t),Zm({type:Za.REMOVE_TOAST,toastId:t})},Ope);Nw.set(t,e)},Fpe=(t,e)=>{switch(e.type){case Za.ADD_TOAST:return{...t,toasts:[e.toast,...t.toasts].slice(0,Mpe)};case Za.UPDATE_TOAST:return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case Za.DISMISS_TOAST:{const{toastId:n}=e;return n?aR(n):t.toasts.forEach(r=>{aR(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case Za.REMOVE_TOAST:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},yx=[];let vx={toasts:[]};function Zm(t){vx=Fpe(vx,t),yx.forEach(e=>{e(vx)})}function Vpe({...t}){const e=Lpe(),n=i=>Zm({type:Za.UPDATE_TOAST,toast:{...i,id:e}}),r=()=>Zm({type:Za.DISMISS_TOAST,toastId:e});return Zm({type:Za.ADD_TOAST,toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function Upe(){const[t,e]=v.useState(vx);return v.useEffect(()=>(yx.push(e),()=>{const n=yx.indexOf(e);n>-1&&yx.splice(n,1)}),[t]),{...t,toast:Vpe,dismiss:n=>Zm({type:Za.DISMISS_TOAST,toastId:n})}}const SV=v.forwardRef(({...t},e)=>s.jsx("div",{ref:e,className:"fixed top-0 z-[100] pointer-events-none flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));SV.displayName="ToastProvider";const EV=v.forwardRef(({...t},e)=>s.jsx("div",{ref:e,className:"fixed top-0 z-[100] pointer-events-none flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));EV.displayName="ToastViewport";const zpe=Hf("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),CV=v.forwardRef(({className:t,variant:e,...n},r)=>s.jsx("div",{ref:r,className:ut(zpe({variant:e}),t),...n}));CV.displayName="Toast";const Bpe=v.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:ut("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Bpe.displayName="ToastAction";const kV=v.forwardRef(({className:t,...e},n)=>s.jsx("button",{ref:n,className:ut("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:s.jsx(Qr,{className:"h-4 w-4"})}));kV.displayName="ToastClose";const TV=v.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:ut("text-sm font-semibold",t),...e}));TV.displayName="ToastTitle";const AV=v.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:ut("text-sm opacity-90",t),...e}));AV.displayName="ToastDescription";function $pe(){const{toasts:t}=Upe();return s.jsxs(SV,{children:[t.map(function({id:e,title:n,description:r,action:i,...a}){return s.jsxs(CV,{...a,children:[s.jsxs("div",{className:"grid gap-1",children:[n&&s.jsx(TV,{children:n}),r&&s.jsx(AV,{children:r})]}),i,s.jsx(kV,{})]},e)}),s.jsx(EV,{})]})}function qpe(){return s.jsxs(s.Fragment,{children:[s.jsx(Dpe,{}),s.jsx($pe,{})]})}const Hpe=new vae;WU.createRoot(document.getElementById("root")).render(s.jsx(bae,{client:Hpe,children:s.jsx(qpe,{})}));export{gs as A,G as B,ne as C,VR as G,ah as H,Te as I,gB as L,su as P,GC as R,zt as S,br as T,Le as a,Fe as b,se as c,we as d,ni as e,It as f,Xe as g,ih as h,oa as i,s as j,gy as k,Tpe as l,te as m,_j as n,Jv as o,dn as p,Ee as q,v as r,wz as s,BC as t};
