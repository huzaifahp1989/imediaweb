import{r as o,j as e,m as h,C as g,c as y,H as A,a as P,b as H,S as O,T as W,A as Y,B as f,i as E,k as q}from"./index.CquZFNnc.js";const r=[{title:"Helping Parents",emoji:"â¤ï¸",scenario:"Your mother is cooking dinner and looks tired. What should you do?",options:[{text:"Offer to help her",isGood:!0},{text:"Go play video games",isGood:!1},{text:"Ask if she needs anything",isGood:!0},{text:"Ignore and watch TV",isGood:!1}],lesson:"Helping parents is one of the best deeds in Islam. The Prophet ï·º said paradise lies under the feet of mothers.",points:2},{title:"Telling the Truth",emoji:"ðŸ—£ï¸",scenario:"You broke your sister's toy by accident. She's asking who broke it. What do you do?",options:[{text:"Tell the truth and apologize",isGood:!0},{text:"Blame someone else",isGood:!1},{text:"Hide and don't say anything",isGood:!1},{text:"Say sorry and offer to fix it",isGood:!0}],lesson:"Prophet Muhammad ï·º was called Al-Amin (The Trustworthy) because he always told the truth.",points:2},{title:"Being Kind to Animals",emoji:"ðŸ±",scenario:"You see a stray cat looking hungry. What should you do?",options:[{text:"Give it some food",isGood:!0},{text:"Throw stones at it",isGood:!1},{text:"Chase it away",isGood:!1},{text:"Pet it gently and give water",isGood:!0}],lesson:"The Prophet ï·º taught us to be kind to all animals. A woman entered Paradise for giving water to a thirsty dog!",points:2},{title:"Respecting Elders",emoji:"ðŸ‘´",scenario:"An elderly person needs a seat on the bus, but you're sitting. What do you do?",options:[{text:"Offer them your seat",isGood:!0},{text:"Pretend you didn't see them",isGood:!1},{text:"Keep sitting",isGood:!1},{text:"Stand up and help them sit",isGood:!0}],lesson:"Islam teaches us to respect our elders. The Prophet ï·º said: 'He is not one of us who does not show mercy to our young ones and respect our old ones.'",points:2},{title:"Sharing with Others",emoji:"ðŸŽ",scenario:"You have candy and your friend doesn't have any. What do you do?",options:[{text:"Share some with your friend",isGood:!0},{text:"Eat it all yourself",isGood:!1},{text:"Hide it so they don't see",isGood:!1},{text:"Offer them half",isGood:!0}],lesson:"The Prophet ï·º loved to share with others. Sharing makes both you and your friend happy!",points:2}];function U({onComplete:b}){const[a,w]=o.useState(0),[i,j]=o.useState(0),[m,u]=o.useState(null),[N,p]=o.useState(!1),[k,G]=o.useState(!1),[x,v]=o.useState(null);o.useEffect(()=>{(async()=>{try{if(await base44.auth.isAuthenticated()){const d=await base44.auth.me();v(d)}}catch{console.log("User not authenticated")}})()},[]);const S=t=>{u(t);const s=r[a];s.options[t].isGood&&j(i+s.points),setTimeout(()=>{p(!0)},1e3)},C=()=>{a<r.length-1?(w(a+1),u(null),p(!1)):T()},T=async()=>{if(G(!0),x)try{await base44.entities.GameScore.create({user_id:x.id,game_type:"akhlaq",score:i,completed:!0}),await base44.auth.updateMe({points:(x.points||0)+i})}catch(t){console.error("Error saving game score:",t)}b(i)};if(k)return e.jsx(h.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"text-center py-12",children:e.jsx(g,{className:"max-w-md mx-auto border-2 border-pink-400 shadow-2xl",children:e.jsxs(y,{className:"pt-12 pb-8",children:[e.jsx(h.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200},children:e.jsx(A,{className:"w-24 h-24 mx-auto mb-6 text-pink-500"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"You're an Akhlaq Hero! ðŸŒ¸"}),e.jsxs("p",{className:"text-xl text-gray-600 mb-6",children:["You earned ",e.jsxs("span",{className:"font-bold text-pink-600",children:[i," points!"]})]}),e.jsx("div",{className:"bg-pink-50 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-gray-700",children:"You've learned about good Islamic manners! Keep practicing these good deeds every day."})})]})})});const n=r[a];return e.jsxs(g,{className:"max-w-2xl mx-auto shadow-lg",children:[e.jsxs(P,{className:"bg-gradient-to-r from-pink-600 to-rose-600 text-white",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs(H,{className:"text-2xl flex items-center gap-2",children:[e.jsx("span",{className:"text-3xl",children:n.emoji}),"Akhlaq Challenge"]}),e.jsxs("div",{className:"flex items-center gap-2 bg-white/30 backdrop-blur-sm px-4 py-2 rounded-full border border-white/40",children:[e.jsx(O,{className:"w-5 h-5 text-yellow-300"}),e.jsxs("span",{className:"font-bold text-white",children:[i," pts"]})]})]}),e.jsxs("p",{className:"text-sm mt-2 text-white",children:["Scenario ",a+1," of ",r.length]}),e.jsxs("div",{className:"bg-white text-gray-900 font-bold text-center py-3 px-4 mt-4 rounded-lg shadow-lg flex items-center justify-center gap-2",children:[e.jsx(W,{className:"w-5 h-5 text-amber-600"}),e.jsx("span",{children:"Monthly Prize Competition! Top 3 win!"})]})]}),e.jsx(y,{className:"p-4 md:p-8",children:N?e.jsxs(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center px-2",children:[e.jsx("div",{className:"text-5xl md:text-6xl mb-4 md:mb-6",children:"âœ¨"}),e.jsx("h3",{className:"text-xl md:text-2xl font-bold text-pink-600 mb-3 md:mb-4",children:"What We Learned"}),e.jsx("div",{className:"bg-pink-50 rounded-xl p-4 md:p-6 mb-4 md:mb-6",children:e.jsx("p",{className:"text-base md:text-lg text-gray-700 leading-relaxed",children:n.lesson})}),e.jsx(f,{onClick:C,size:"lg",className:"bg-gradient-to-r from-pink-500 to-rose-500 w-full md:w-auto",children:a<r.length-1?"Next Scenario":"Complete Challenge"})]}):e.jsx(Y,{mode:"wait",children:e.jsxs(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[e.jsx("h3",{className:"text-xl md:text-2xl font-bold text-gray-900 mb-3 md:mb-4 px-2",children:n.title}),e.jsx("div",{className:"bg-blue-50 rounded-lg p-4 md:p-6 mb-4 md:mb-6",children:e.jsx("p",{className:"text-base md:text-lg text-gray-700 leading-relaxed",children:n.scenario})}),e.jsx("div",{className:"grid gap-2 md:gap-3",children:n.options.map((t,s)=>{const d=s===m,c=t.isGood,l=d;return e.jsxs(f,{onClick:()=>m===null&&S(s),disabled:m!==null,className:`h-auto py-3 md:py-4 px-3 md:px-4 text-sm md:text-lg justify-between transition-all duration-300 ${l&&c?"bg-green-500 hover:bg-green-600 text-white":l&&!c?"bg-red-500 hover:bg-red-600 text-white":"bg-white hover:bg-pink-50 text-gray-900 border-2"}`,variant:l?"default":"outline",children:[e.jsx("span",{className:"text-left flex-1 leading-snug break-words",children:t.text}),l&&c&&e.jsx(E,{className:"w-4 md:w-6 h-4 md:h-6 ml-2 flex-shrink-0"}),l&&!c&&e.jsx(q,{className:"w-4 md:w-6 h-4 md:h-6 ml-2 flex-shrink-0"})]},s)})})]},a)})})]})}export{U as default};
