import{r,g as l,j as e,m as c,C as j,c as w,T as A,B as p,a as F,b as Q,p as W,d as H,P as R,i as T,k as D,A as P}from"./index.BLniS9Uj.js";const B=[{id:"fiqh_1",question:"How many times a day do Muslims pray?",options:["3","4","5","6"],correct:2,explanation:"Muslims pray five times daily: Fajr, Dhuhr, Asr, Maghrib, and Isha."},{id:"fiqh_2",question:"What must you do before praying?",options:["Sleep","Eat","Wudu (ablution)","Exercise"],correct:2,explanation:"Wudu (ablution) is required before prayer to purify ourselves."},{id:"fiqh_3",question:"How many Rakats are in Fajr prayer?",options:["2","3","4","5"],correct:0,explanation:"Fajr prayer consists of 2 Rakats."},{id:"fiqh_4",question:"What percentage of your wealth must you give as Zakat (if applicable)?",options:["1.5%","2.5%","5%","10%"],correct:1,explanation:"Zakat is 2.5% of your qualifying wealth given annually to those in need."},{id:"fiqh_5",question:"In which month do Muslims fast?",options:["Shawwal","Ramadan","Dhul Hijjah","Muharram"],correct:1,explanation:"Muslims fast during the blessed month of Ramadan."},{id:"fiqh_6",question:"What direction do Muslims face when praying?",options:["North","South","Towards Kaaba (Qibla)","East"],correct:2,explanation:"Muslims face towards the Kaaba in Makkah, called the Qibla."},{id:"fiqh_7",question:"How many pillars of Islam are there?",options:["3","4","5","6"],correct:2,explanation:"There are 5 pillars: Shahada, Salah, Zakat, Sawm (Fasting), and Hajj."},{id:"fiqh_8",question:"What breaks your fast during Ramadan?",options:["Sleeping","Walking","Eating or drinking","Reading"],correct:2,explanation:"Eating or drinking intentionally breaks the fast during Ramadan."},{id:"fiqh_9",question:"What is the pilgrimage to Makkah called?",options:["Umrah","Hajj","Ziyarah","Safa"],correct:1,explanation:"Hajj is the annual pilgrimage to Makkah, one of the five pillars of Islam."},{id:"fiqh_10",question:"Which prayer has no Sunnah before the Fard?",options:["Fajr","Dhuhr","Asr","Isha"],correct:2,explanation:"Asr prayer has no Sunnah prayer before the obligatory (Fard) prayer."}];function I({onComplete:x}){const[i,f]=r.useState(0),[h,g]=r.useState(0),[n,u]=r.useState(null),[N,d]=r.useState(!1),[q,b]=r.useState(!1),[m,k]=r.useState(null),[s,S]=r.useState([]);r.useEffect(()=>{v(),y()},[]);const v=async()=>{try{if(await l.auth.isAuthenticated()){const t=await l.auth.me();k(t)}}catch{console.log("User not authenticated")}},y=()=>{const a=[...B].sort(()=>Math.random()-.5).slice(0,10);S(a)},M=a=>{n===null&&(u(a),d(!0),a===s[i].correct&&g(h+10))},E=async()=>{if(i<s.length-1)f(i+1),u(null),d(!1);else if(b(!0),m)try{await l.entities.GameScore.create({user_id:m.id,game_type:"fiqh_quiz",score:10,completed:!0});const t=Math.min((m.points||0)+10,1500);await l.auth.updateMe({points:t})}catch(a){console.error("Error saving score:",a)}},C=()=>{y(),f(0),g(0),u(null),d(!1),b(!1)};if(s.length===0)return e.jsx("div",{className:"text-center py-12",children:"Loading questions..."});if(q){const a=h/10,t=a/s.length*100;return e.jsx(c.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"text-center py-12",children:e.jsx(j,{className:"max-w-md mx-auto border-2 border-blue-400 shadow-2xl",children:e.jsxs(w,{className:"pt-12 pb-8",children:[e.jsx(A,{className:"w-24 h-24 mx-auto mb-6 text-blue-500"}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:t>=80?"Masha'Allah! Excellent! ðŸŽ‰":t>=60?"Well Done! ðŸ‘":"Keep Learning! ðŸ“š"}),e.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"You Earned"}),e.jsx("p",{className:"text-5xl font-bold text-blue-600 mb-6",children:"10 points"}),e.jsxs("p",{className:"text-gray-600 mb-2",children:["You got ",a," out of ",s.length," correct!"]}),e.jsxs("p",{className:"text-2xl font-bold text-blue-600 mb-6",children:[Math.round(t),"%"]}),e.jsx("div",{className:"bg-blue-100 rounded-lg p-3 mb-6 border-2 border-blue-400",children:e.jsx("p",{className:"text-sm font-bold text-blue-900",children:"âœ¨ Fair Points: Every game awards 10 points!"})}),e.jsxs("div",{className:"flex gap-3 justify-center",children:[e.jsx(p,{onClick:C,className:"bg-gradient-to-r from-blue-500 to-indigo-500",children:"Play Again"}),x&&e.jsx(p,{onClick:()=>x(10),variant:"outline",children:"Back to Games"})]})]})})})}const o=s[i],_=(i+1)/s.length*100;return e.jsxs(j,{className:"max-w-2xl mx-auto shadow-xl",children:[e.jsxs(F,{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs(Q,{className:"text-2xl flex items-center gap-2",children:[e.jsx(W,{className:"w-6 h-6"}),"Fiqh Quiz"]}),e.jsxs(H,{className:"bg-white/30 backdrop-blur-sm text-white text-lg px-4 py-2",children:["Score: ",h]})]}),e.jsx(R,{value:_,className:"h-2 bg-white/30"}),e.jsxs("p",{className:"text-sm text-purple-100 mt-2",children:["Question ",i+1," of ",s.length]})]}),e.jsx(w,{className:"p-8",children:e.jsxs(c.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:o.question}),e.jsx("div",{className:"space-y-3",children:o.options.map((a,t)=>e.jsx(c.button,{whileHover:{scale:n===null?1.02:1},whileTap:{scale:.98},onClick:()=>M(t),disabled:n!==null,className:`w-full p-4 rounded-xl text-left font-medium transition-all ${n===null?"bg-gray-100 hover:bg-gray-200 text-gray-900":t===o.correct?"bg-green-500 text-white":n===t?"bg-red-500 text-white":"bg-gray-100 text-gray-600"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:a}),n!==null&&(t===o.correct?e.jsx(T,{className:"w-6 h-6"}):n===t?e.jsx(D,{className:"w-6 h-6"}):null)]})},t))}),e.jsx(P,{children:N&&e.jsxs(c.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-6 p-4 bg-purple-50 rounded-xl border-2 border-purple-200",children:[e.jsx("p",{className:"text-sm font-semibold text-purple-900 mb-2",children:"ðŸ•Œ Did you know?"}),e.jsx("p",{className:"text-sm text-purple-800",children:o.explanation})]})}),n!==null&&e.jsx(p,{onClick:E,className:"w-full mt-6 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",size:"lg",children:i<s.length-1?"Next Question":"See Results"})]},i)})]})}export{I as default};
