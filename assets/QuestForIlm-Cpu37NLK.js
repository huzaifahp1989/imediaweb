import{q as U,r as o,g as d,j as e,C as g,a as k,b as q,c as f,m as h,T as G,B as y,R as z,d as M,P as L,i as _,k as J,A as R,s as D,f as Z}from"./index-Dh-JI_tc.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],V=U("Map",$),X=["üßï","üë≥‚Äç‚ôÇÔ∏è","üë®‚Äçüéì","üë©‚Äçüéì","üßî","üë∂"],n=[{id:1,category:"Seerah",emoji:"üìñ",name:"Prophet's Life"},{id:2,category:"Fiqh",emoji:"üïå",name:"Islamic Law"},{id:3,category:"Hadith",emoji:"üìú",name:"Prophetic Traditions"},{id:4,category:"Quran",emoji:"üìö",name:"Holy Quran"},{id:5,category:"Sahabah",emoji:"‚öîÔ∏è",name:"Companions"},{id:6,category:"Prophets",emoji:"üåü",name:"Messengers of Allah"}],O={Seerah:[{question:"What was the name of Prophet Muhammad's Ô∑∫ foster mother?",options:["Halimah al-Sa'diyyah","Aminah","Barakah","Fatimah"],correct:0,explanation:"Halimah al-Sa'diyyah was the Prophet's Ô∑∫ foster mother who nursed him in the desert."},{question:"In the Battle of Uhud, who was the archer that the Prophet Ô∑∫ specifically commanded to not leave their post?",options:["Khalid ibn Walid","Abdullah ibn Jubayr","Hamza","Abu Bakr"],correct:1,explanation:"Abdullah ibn Jubayr was commanded to hold his position with the archers, but they left their posts."},{question:"Which year is known as the 'Year of Sorrow' in the Seerah?",options:["Year of the Elephant","Year Khadijah and Abu Talib died","Year of Hijrah","Year of Conquest"],correct:1,explanation:"The Year of Sorrow was when both Khadijah (ra) and Abu Talib passed away."}],Fiqh:[{question:"If you cannot find water for Wudu, what is the alternative act of purification called?",options:["Ghusl","Tayammum","Istinja","Miswak"],correct:1,explanation:"Tayammum is the dry ablution using clean earth when water is not available."},{question:"What is the minimum amount of wealth (nisab) for Zakat on gold?",options:["50 grams","75 grams","87.48 grams","100 grams"],correct:2,explanation:"The nisab for gold is 87.48 grams or approximately 3 ounces."},{question:"What are the two primary categories of water used for purification in Islamic law?",options:["Hot and Cold","Purifying (Tahur) and Pure (Tahir)","Fresh and Salt","Clean and Dirty"],correct:1,explanation:"Water is categorized as Tahur (purifying) which can purify, and Tahir (pure) which is clean but cannot purify."}],Hadith:[{question:"Complete the famous Hadith: 'Actions are but by...'",options:["...deeds","...intentions","...prayers","...faith"],correct:1,explanation:"This famous hadith teaches us that our intentions determine the value of our actions."},{question:"According to a Hadith in Sahih Muslim, what does backbiting metaphorically resemble?",options:["Lying","Stealing","Eating the flesh of one's dead brother","Breaking a promise"],correct:2,explanation:"Backbiting is compared to eating your brother's flesh to show how horrible it is."},{question:"Which angel is responsible for delivering revelation to the prophets?",options:["Mikail","Israfil","Jibril","Azrael"],correct:2,explanation:"Angel Jibril (Gabriel) brought Allah's revelations to the prophets."}],Quran:[{question:"Which is the only Surah in the Quran that does not begin with 'Bismillah'?",options:["Surah Al-Fatiha","Surah At-Tawbah","Surah Al-Ikhlas","Surah An-Nas"],correct:1,explanation:"Surah At-Tawbah (Chapter 9) is the only Surah that doesn't start with Bismillah."},{question:"Which Surah is known as the 'Heart of the Quran'?",options:["Surah Al-Fatiha","Surah Ya-Sin","Surah Al-Mulk","Surah Ar-Rahman"],correct:1,explanation:"Surah Ya-Sin is called the heart of the Quran."},{question:"Name the prophet mentioned by name in the Quran the most number of times.",options:["Prophet Muhammad Ô∑∫","Prophet Ibrahim","Prophet Musa","Prophet Isa"],correct:2,explanation:"Prophet Musa (Moses) is mentioned by name 136 times in the Quran."}],Sahabah:[{question:"Which companion was known as the 'Sword of Allah'?",options:["Ali ibn Abi Talib","Khalid ibn al-Walid","Umar ibn al-Khattab","Hamza ibn Abdul-Muttalib"],correct:1,explanation:"Khalid ibn al-Walid was given the title 'Sword of Allah' by the Prophet Ô∑∫."},{question:"Who was the first male to accept Islam?",options:["Umar ibn al-Khattab","Ali ibn Abi Talib","Abu Bakr as-Siddiq","Uthman ibn Affan"],correct:2,explanation:"Abu Bakr was the first adult male to accept Islam."},{question:"Which companion was the chief scribe of the revelation?",options:["Abdullah ibn Masud","Zayd ibn Thabit","Ubay ibn Ka'b","Ali ibn Abi Talib"],correct:1,explanation:"Zayd ibn Thabit was the main scribe who wrote down the Quranic revelations."}],Prophets:[{question:"Which prophet is known for his incredible patience and is mentioned in the Quran?",options:["Prophet Ayyub","Prophet Yunus","Prophet Yusuf","Prophet Dawud"],correct:0,explanation:"Prophet Ayyub (Job) is famous for his immense patience during trials."},{question:"Which prophet built the first ship by divine command?",options:["Prophet Ibrahim","Prophet Musa","Prophet Nuh","Prophet Sulayman"],correct:2,explanation:"Prophet Nuh (Noah) built the Ark as commanded by Allah before the great flood."},{question:"Which prophet was known as Khalilullah (the Friend of Allah)?",options:["Prophet Muhammad Ô∑∫","Prophet Ibrahim","Prophet Musa","Prophet Isa"],correct:1,explanation:"Prophet Ibrahim (Abraham) is called Khalilullah, the Friend of Allah."}]};function ee({onComplete:w}){const[j,m]=o.useState("avatar"),[N,A]=o.useState(null),[r,S]=o.useState(0),[l,v]=o.useState(0),[s,P]=o.useState(null),[i,u]=o.useState(null),[I,p]=o.useState(!1),[T,C]=o.useState([]),[x,Q]=o.useState(null);o.useEffect(()=>{W()},[]);const W=async()=>{try{if(await d.auth.isAuthenticated()){const a=await d.auth.me();Q(a)}}catch{console.log("User not authenticated")}},H=t=>{A(t),m("playing"),b(0)},b=t=>{const a=n[t],c=O[a.category],E=c[Math.floor(Math.random()*c.length)];P({...E,category:a.category,tile:a}),u(null),p(!1)},B=t=>{i===null&&(u(t),p(!0),t===s.correct&&(v(l+15),C([...T,r])))},K=async()=>{if(i===s.correct){if(r<n.length-1){const a=r+1;S(a),b(a)}else if(m("complete"),x)try{await d.entities.GameScore.create({user_id:x.id,game_type:"quest_for_ilm",score:l+15,completed:!0});const a=l+15,c=Math.min((x.points||0)+a,1500);await d.auth.updateMe({points:c})}catch(a){console.error("Error saving score:",a)}}else b(r)},Y=()=>{m("avatar"),A(null),S(0),v(0),P(null),u(null),p(!1),C([])};if(j==="avatar")return e.jsxs(g,{className:"max-w-2xl mx-auto shadow-xl",children:[e.jsxs(k,{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white",children:[e.jsxs(q,{className:"text-2xl text-center",children:[e.jsx(V,{className:"w-8 h-8 inline mr-2"}),"The Quest for Ilm (Knowledge)"]}),e.jsx("p",{className:"text-center text-indigo-100 mt-2",children:"Choose your avatar to begin your journey!"})]}),e.jsx(f,{className:"p-8",children:e.jsx("div",{className:"grid grid-cols-3 gap-6",children:X.map((t,a)=>e.jsx(h.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:()=>H(t),className:"text-6xl p-6 rounded-xl bg-gradient-to-br from-blue-50 to-purple-50 hover:from-blue-100 hover:to-purple-100 transition-all shadow-lg border-2 border-indigo-200 hover:border-indigo-400",children:t},a))})})]});if(j==="complete"){const t=l;return e.jsx(h.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"text-center py-12",children:e.jsx(g,{className:"max-w-md mx-auto border-2 border-green-400 shadow-2xl",children:e.jsxs(f,{className:"pt-12 pb-8",children:[e.jsx("div",{className:"text-6xl mb-4",children:N}),e.jsx(G,{className:"w-24 h-24 mx-auto mb-6 text-green-500"}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Quest Complete! üéâ"}),e.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"You've mastered all lands!"}),e.jsx("p",{className:"text-5xl font-bold text-green-600 mb-6",children:t}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Total Points Earned"}),e.jsxs("div",{className:"flex gap-3 justify-center",children:[e.jsxs(y,{onClick:Y,className:"bg-gradient-to-r from-green-500 to-teal-500",children:[e.jsx(z,{className:"w-4 h-4 mr-2"}),"Play Again"]}),w&&e.jsx(y,{onClick:()=>w(t),variant:"outline",children:"Back to Games"})]})]})})})}const F=(r+1)/n.length*100;return e.jsxs(g,{className:"max-w-2xl mx-auto shadow-xl",children:[e.jsxs(k,{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-3xl",children:N}),e.jsx(q,{className:"text-2xl",children:"Quest for Ilm"})]}),e.jsxs(M,{className:"bg-white/30 backdrop-blur-sm text-white text-lg px-4 py-2",children:["Score: ",l]})]}),e.jsx("div",{className:"flex items-center justify-between mb-2",children:n.map((t,a)=>e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`text-2xl p-2 rounded-full ${a===r?"bg-yellow-400":T.includes(a)?"bg-green-400":"bg-white/30"}`,children:t.emoji}),e.jsx("div",{className:"text-[10px] mt-1",children:t.name.split(" ")[0]})]},t.id))}),e.jsx(L,{value:F,className:"h-2 bg-white/30"}),e.jsxs("p",{className:"text-sm text-indigo-100 mt-2",children:["Land ",r+1," of ",n.length,": ",s==null?void 0:s.tile.name]})]}),e.jsx(f,{className:"p-8",children:s&&e.jsxs(h.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("span",{className:"text-3xl",children:s.tile.emoji}),e.jsx(M,{className:"bg-indigo-100 text-indigo-800",children:s.category})]}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:s.question}),e.jsx("div",{className:"space-y-3",children:s.options.map((t,a)=>e.jsx(h.button,{whileHover:{scale:i===null?1.02:1},whileTap:{scale:.98},onClick:()=>B(a),disabled:i!==null,className:`w-full p-4 rounded-xl text-left font-medium transition-all ${i===null?"bg-gray-100 hover:bg-gray-200 text-gray-900":a===s.correct?"bg-green-500 text-white":i===a?"bg-red-500 text-white":"bg-gray-100 text-gray-600"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:t}),i!==null&&(a===s.correct?e.jsx(_,{className:"w-6 h-6"}):i===a?e.jsx(J,{className:"w-6 h-6"}):null)]})},a))}),e.jsx(R,{children:I&&e.jsxs(h.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-6 p-4 bg-indigo-50 rounded-xl border-2 border-indigo-200",children:[e.jsx("p",{className:"text-sm font-semibold text-indigo-900 mb-2",children:i===s.correct?"‚úÖ Correct!":"‚ùå Incorrect"}),e.jsx("p",{className:"text-sm text-indigo-800",children:s.explanation})]})}),i!==null&&e.jsx(y,{onClick:K,className:"w-full mt-6 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700",size:"lg",children:i===s.correct?r<n.length-1?e.jsxs(e.Fragment,{children:["Next Land ",e.jsx(D,{className:"w-5 h-5 ml-2"})]}):"Complete Quest!":"Try Again"})]},r)})]})}ee.propTypes={onComplete:Z.func};export{ee as default};
