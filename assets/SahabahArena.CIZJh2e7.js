import{r as s,g as N,j as a,m as h,C as S,c as v,T as B,B as d,R as I,a as E,b as H,Z,d as q,P as z,i as F,k as R,A as Y,l as G,f as D}from"./index.CFuhSUPN.js";const L=[{question:"Which companion did the Prophet Ô∑∫ instruct to lead the Muslims in prayer during his final illness?",options:["Abu Bakr as-Siddiq","Umar ibn al-Khattab","Ali ibn Abi Talib","Uthman ibn Affan"],correct:0,explanation:"Abu Bakr was chosen to lead the prayers, showing his high status."},{question:"Who was the first martyr in Islam?",options:["Hamza ibn Abdul-Muttalib","Sumayyah bint Khabbat","Yasir ibn Amir","Khabbaab ibn al-Aratt"],correct:1,explanation:"Sumayyah was the first martyr, killed for refusing to renounce Islam."},{question:"Which companion was renowned for his beautiful voice in reciting the Quran?",options:["Bilal ibn Rabah","Abu Musa al-Ash'ari","Abdullah ibn Masud","Ubay ibn Ka'b"],correct:1,explanation:"Abu Musa al-Ash'ari had one of the most beautiful voices for Quran recitation."},{question:"Umar ibn al-Khattab accepted Islam after hearing the recitation of which Surah?",options:["Surah Al-Fatiha","Surah Taha","Surah Ya-Sin","Surah Al-Kahf"],correct:1,explanation:"Umar was moved to Islam after hearing Surah Taha being recited by his sister."},{question:"Which female companion was an expert in Islamic law and gave fatwas?",options:["Khadijah bint Khuwaylid","Aisha bint Abi Bakr","Fatimah bint Muhammad","Hafsa bint Umar"],correct:1,explanation:"Aisha was a great scholar who taught many companions Islamic law."},{question:"Who was the conqueror of Egypt and the founder of Fustat?",options:["Khalid ibn al-Walid","Amr ibn al-As","Saad ibn Abi Waqqas","Abu Ubaidah ibn al-Jarrah"],correct:1,explanation:"Amr ibn al-As conquered Egypt and established the city of Fustat."},{question:"Which companion was known as 'The Trustworthy of the Ummah'?",options:["Abu Bakr","Umar","Abu Ubaidah ibn al-Jarrah","Uthman"],correct:2,explanation:"The Prophet Ô∑∫ called Abu Ubaidah 'The Trustworthy of this Ummah'."},{question:"Who was the youngest person to memorize the Quran during the Prophet's Ô∑∫ time?",options:["Abdullah ibn Abbas","Zayd ibn Thabit","Anas ibn Malik","Abdullah ibn Umar"],correct:1,explanation:"Zayd ibn Thabit memorized the Quran at a very young age."},{question:"Which companion was given the title 'Lion of Allah'?",options:["Hamza ibn Abdul-Muttalib","Ali ibn Abi Talib","Khalid ibn al-Walid","Umar ibn al-Khattab"],correct:0,explanation:"Hamza was called 'Lion of Allah' for his bravery in battle."},{question:"Who was the first Muslim to be born in Medina after the Hijrah?",options:["Abdullah ibn Umar","Abdullah ibn Zubayr","Hassan ibn Thabit","Usama ibn Zayd"],correct:1,explanation:"Abdullah ibn Zubayr was the first child born to the Muhajirun in Medina."}];function J({onComplete:x}){const[n,p]=s.useState(0),[r,f]=s.useState(0),[o,g]=s.useState(0),[i,u]=s.useState(null),[U,m]=s.useState(!1),[T,y]=s.useState(!1),[b,w]=s.useState(null),[A,C]=s.useState(null),[l,k]=s.useState([]);s.useEffect(()=>{W(),j()},[]);const W=async()=>{try{if(await N.auth.isAuthenticated()){const e=await N.auth.me();C(e)}}catch{console.log("User not authenticated")}},j=()=>{const t=[...L].sort(()=>Math.random()-.5).slice(0,10);k(t)},M=t=>{if(i!==null)return;u(t),m(!0);const e=l[n];t===e.correct?f(r+10):Math.random()>.3&&g(o+10)},K=async()=>{if(n<l.length-1)p(n+1),u(null),m(!1);else{y(!0);const t=r>o?"player":r<o?"ai":"draw";if(w(t),A&&t==="player")try{await G(A,"sahabah_arena",{fallbackScore:r})}catch(e){console.error("Error saving score:",e)}}},Q=()=>{j(),p(0),f(0),g(0),u(null),m(!1),y(!1),w(null)};if(l.length===0)return a.jsx("div",{className:"text-center py-12",children:"Loading questions..."});if(T)return a.jsx(h.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"text-center py-12",children:a.jsx(S,{className:"max-w-md mx-auto border-2 border-amber-400 shadow-2xl",children:a.jsxs(v,{className:"pt-12 pb-8",children:[a.jsx(B,{className:"w-24 h-24 mx-auto mb-6 text-amber-500"}),a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:b==="player"?"You Won! üéâ":b==="ai"?"AI Won! ü§ñ":"It's a Draw! ü§ù"}),a.jsxs("div",{className:"flex justify-center gap-8 mb-6",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Your Score"}),a.jsx("p",{className:"text-4xl font-bold text-blue-600",children:r})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"AI Score"}),a.jsx("p",{className:"text-4xl font-bold text-red-600",children:o})]})]}),a.jsxs("div",{className:"flex gap-3 justify-center",children:[a.jsxs(d,{onClick:Q,className:"bg-gradient-to-r from-amber-500 to-orange-500",children:[a.jsx(I,{className:"w-4 h-4 mr-2"}),"Play Again"]}),x&&a.jsx(d,{onClick:()=>x(b==="player"?r:0),variant:"outline",children:"Back to Games"})]})]})})});const c=l[n],P=(n+1)/l.length*100;return a.jsxs(S,{className:"max-w-2xl mx-auto shadow-xl",children:[a.jsxs(E,{className:"bg-gradient-to-r from-amber-600 to-orange-600 text-white",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs(H,{className:"text-2xl flex items-center gap-2",children:[a.jsx(Z,{className:"w-6 h-6"}),"Sahabah Arena"]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs(q,{className:"bg-blue-500 text-white text-lg px-4 py-2",children:["You: ",r]}),a.jsxs(q,{className:"bg-red-500 text-white text-lg px-4 py-2",children:["AI: ",o]})]})]}),a.jsx(z,{value:P,className:"h-2 bg-white/30"}),a.jsxs("p",{className:"text-sm text-amber-100 mt-2",children:["Question ",n+1," of ",l.length]})]}),a.jsx(v,{className:"p-8",children:a.jsxs(h.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:c.question}),a.jsx("div",{className:"space-y-3",children:c.options.map((t,e)=>a.jsx(h.button,{whileHover:{scale:i===null?1.02:1},whileTap:{scale:.98},onClick:()=>M(e),disabled:i!==null,className:`w-full p-4 rounded-xl text-left font-medium transition-all ${i===null?"bg-gray-100 hover:bg-gray-200 text-gray-900":e===c.correct?"bg-green-500 text-white":i===e?"bg-red-500 text-white":"bg-gray-100 text-gray-600"}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:t}),i!==null&&(e===c.correct?a.jsx(F,{className:"w-6 h-6"}):i===e?a.jsx(R,{className:"w-6 h-6"}):null)]})},e))}),a.jsx(Y,{children:U&&a.jsxs(h.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-6 p-4 bg-amber-50 rounded-xl border-2 border-amber-200",children:[a.jsx("p",{className:"text-sm font-semibold text-amber-900 mb-2",children:"‚öîÔ∏è Did you know?"}),a.jsx("p",{className:"text-sm text-amber-800",children:c.explanation})]})}),i!==null&&a.jsx(d,{onClick:K,className:"w-full mt-6 bg-gradient-to-r from-amber-600 to-orange-600 hover:from-amber-700 hover:to-orange-700",size:"lg",children:n<l.length-1?"Next Question":"See Results"})]},n)})]})}J.propTypes={onComplete:D.func};export{J as default};
