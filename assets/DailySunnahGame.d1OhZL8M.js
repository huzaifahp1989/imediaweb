import{r as l,j as e,C as h,a as w,b as C,S,c as p,m as x,d as v,i as k,B as D,T as M,g as o}from"./index.BBgcJUim.js";const r=[{id:1,title:"Say Bismillah",description:"Say 'Bismillah' before you start anything",emoji:"ðŸ¤²",points:10,category:"Daily Dhikr"},{id:2,title:"Greet with Salaam",description:"Say 'Assalamu Alaikum' when you meet someone",emoji:"ðŸ‘‹",points:10,category:"Manners"},{id:3,title:"Help Someone",description:"Help your parents or a family member today",emoji:"â¤ï¸",points:15,category:"Good Deeds"},{id:4,title:"Pray on Time",description:"Complete one prayer on time today",emoji:"ðŸ•Œ",points:20,category:"Worship"},{id:5,title:"Read Quran",description:"Read at least one page of the Quran",emoji:"ðŸ“–",points:20,category:"Quran"},{id:6,title:"Say Alhamdulillah",description:"Thank Allah by saying 'Alhamdulillah' 10 times",emoji:"ðŸŒŸ",points:10,category:"Daily Dhikr"},{id:7,title:"Smile at Someone",description:"Give someone a kind smile today",emoji:"ðŸ˜Š",points:10,category:"Kindness"},{id:8,title:"Make Dua",description:"Make dua for yourself and your family",emoji:"ðŸ¤²",points:15,category:"Worship"}];function A({onComplete:u}){const[i,g]=l.useState([]),[n,y]=l.useState(0),[j,m]=l.useState(!1),[c,b]=l.useState(null);l.useEffect(()=>{(async()=>{try{if(await o.auth.isAuthenticated()){const a=await o.auth.me();b(a)}}catch{console.log("User not authenticated")}})()},[]);const f=async t=>{if(i.includes(t.id))return;const s=[...i,t.id];if(g(s),y(n+t.points),m(t.id),setTimeout(()=>m(null),2e3),s.length===r.length){const a=n+t.points;if(c)try{await o.entities.GameScore.create({user_id:c.id,game_type:"daily_sunnah",score:a,completed:!0}),await o.auth.updateMe({points:(c.points||0)+a})}catch(d){console.error("Error saving score:",d)}setTimeout(()=>u(a),2e3)}},N={"Daily Dhikr":"bg-blue-100 text-blue-800",Manners:"bg-green-100 text-green-800","Good Deeds":"bg-pink-100 text-pink-800",Worship:"bg-purple-100 text-purple-800",Quran:"bg-amber-100 text-amber-800",Kindness:"bg-rose-100 text-rose-800"};return e.jsxs(h,{className:"max-w-4xl mx-auto shadow-lg",children:[e.jsxs(w,{className:"bg-gradient-to-r from-green-500 to-teal-500 text-white",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs(C,{className:"text-2xl flex items-center gap-2",children:[e.jsx("span",{className:"text-3xl",children:"ðŸ•Œ"}),"Daily Sunnah Mission"]}),e.jsxs("div",{className:"flex items-center gap-2 bg-white/20 px-4 py-2 rounded-full",children:[e.jsx(S,{className:"w-5 h-5 text-amber-300"}),e.jsxs("span",{className:"font-bold",children:[n," pts"]})]})]}),e.jsxs("p",{className:"text-sm mt-2",children:["Complete ",i.length,"/",r.length," missions today"]})]}),e.jsxs(p,{className:"p-8",children:[e.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:r.map((t,s)=>{const a=i.includes(t.id),d=j===t.id;return e.jsx(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:s*.05},children:e.jsx(h,{className:`transition-all duration-300 ${a?"border-2 border-green-500 bg-green-50":"hover:shadow-lg"}`,children:e.jsx(p,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`text-4xl ${d?"animate-bounce":""}`,children:t.emoji}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-1",children:t.title}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:t.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(v,{className:N[t.category],children:t.category}),a?e.jsxs("div",{className:"flex items-center gap-2 text-green-600 font-semibold",children:[e.jsx(k,{className:"w-5 h-5"}),e.jsxs("span",{children:["+",t.points]})]}):e.jsx(D,{onClick:()=>f(t),size:"sm",className:"bg-green-600 hover:bg-green-700",children:"Complete"})]})]})]})})})},t.id)})}),i.length===r.length&&e.jsx(x.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},className:"mt-8 text-center",children:e.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-teal-500 text-white rounded-2xl p-8",children:[e.jsx(M,{className:"w-20 h-20 mx-auto mb-4"}),e.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Masha'Allah! ðŸŽ‰"}),e.jsx("p",{className:"text-xl",children:"You completed all missions today!"}),e.jsxs("p",{className:"text-2xl font-bold mt-4",children:["Total: ",n," points earned!"]})]})})]})]})}export{A as default};
