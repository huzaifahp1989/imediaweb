const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/SahabahArena.zIVQKs6g.js","assets/zap.BvH3BIl4.js","assets/IslamKnowledgeRaceGame.Ct6WH80g.js","assets/SpinToWinWheel.DnGTVZgE.js"])))=>i.map(i=>d[i]);
var jC=t=>{throw TypeError(t)};var Vv=(t,e,n)=>e.has(t)||jC("Cannot "+n);var Y=(t,e,n)=>(Vv(t,e,"read from private field"),n?n.call(t):e.get(t)),Xe=(t,e,n)=>e.has(t)?jC("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Le=(t,e,n,r)=>(Vv(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Nt=(t,e,n)=>(Vv(t,e,"access private method"),n);var ug=(t,e,n,r)=>({set _(i){Le(t,e,i,n)},get _(){return Y(t,e,r)}});function MU(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Jd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Uv={exports:{}},om={},zv={exports:{}},Tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _C;function OU(){if(_C)return Tt;_C=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),f=Symbol.iterator;function g($){return $===null||typeof $!="object"?null:($=f&&$[f]||$["@@iterator"],typeof $=="function"?$:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,w={};function j($,te,H){this.props=$,this.context=te,this.refs=w,this.updater=H||x}j.prototype.isReactComponent={},j.prototype.setState=function($,te){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,te,"setState")},j.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function _(){}_.prototype=j.prototype;function E($,te,H){this.props=$,this.context=te,this.refs=w,this.updater=H||x}var k=E.prototype=new _;k.constructor=E,N(k,j.prototype),k.isPureReactComponent=!0;var C=Array.isArray,R=Object.prototype.hasOwnProperty,F={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function P($,te,H){var me,we={},Ce=null,fe=null;if(te!=null)for(me in te.ref!==void 0&&(fe=te.ref),te.key!==void 0&&(Ce=""+te.key),te)R.call(te,me)&&!M.hasOwnProperty(me)&&(we[me]=te[me]);var Se=arguments.length-2;if(Se===1)we.children=H;else if(1<Se){for(var De=Array(Se),ze=0;ze<Se;ze++)De[ze]=arguments[ze+2];we.children=De}if($&&$.defaultProps)for(me in Se=$.defaultProps,Se)we[me]===void 0&&(we[me]=Se[me]);return{$$typeof:t,type:$,key:Ce,ref:fe,props:we,_owner:F.current}}function I($,te){return{$$typeof:t,type:$.type,key:te,ref:$.ref,props:$.props,_owner:$._owner}}function L($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function U($){var te={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(H){return te[H]})}var D=/\/+/g;function V($,te){return typeof $=="object"&&$!==null&&$.key!=null?U(""+$.key):te.toString(36)}function J($,te,H,me,we){var Ce=typeof $;(Ce==="undefined"||Ce==="boolean")&&($=null);var fe=!1;if($===null)fe=!0;else switch(Ce){case"string":case"number":fe=!0;break;case"object":switch($.$$typeof){case t:case e:fe=!0}}if(fe)return fe=$,we=we(fe),$=me===""?"."+V(fe,0):me,C(we)?(H="",$!=null&&(H=$.replace(D,"$&/")+"/"),J(we,te,H,"",function(ze){return ze})):we!=null&&(L(we)&&(we=I(we,H+(!we.key||fe&&fe.key===we.key?"":(""+we.key).replace(D,"$&/")+"/")+$)),te.push(we)),1;if(fe=0,me=me===""?".":me+":",C($))for(var Se=0;Se<$.length;Se++){Ce=$[Se];var De=me+V(Ce,Se);fe+=J(Ce,te,H,De,we)}else if(De=g($),typeof De=="function")for($=De.call($),Se=0;!(Ce=$.next()).done;)Ce=Ce.value,De=me+V(Ce,Se++),fe+=J(Ce,te,H,De,we);else if(Ce==="object")throw te=String($),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.");return fe}function ee($,te,H){if($==null)return $;var me=[],we=0;return J($,me,"","",function(Ce){return te.call(H,Ce,we++)}),me}function re($){if($._status===-1){var te=$._result;te=te(),te.then(function(H){($._status===0||$._status===-1)&&($._status=1,$._result=H)},function(H){($._status===0||$._status===-1)&&($._status=2,$._result=H)}),$._status===-1&&($._status=0,$._result=te)}if($._status===1)return $._result.default;throw $._result}var ie={current:null},Q={transition:null},q={ReactCurrentDispatcher:ie,ReactCurrentBatchConfig:Q,ReactCurrentOwner:F};function B(){throw Error("act(...) is not supported in production builds of React.")}return Tt.Children={map:ee,forEach:function($,te,H){ee($,function(){te.apply(this,arguments)},H)},count:function($){var te=0;return ee($,function(){te++}),te},toArray:function($){return ee($,function(te){return te})||[]},only:function($){if(!L($))throw Error("React.Children.only expected to receive a single React element child.");return $}},Tt.Component=j,Tt.Fragment=n,Tt.Profiler=i,Tt.PureComponent=E,Tt.StrictMode=r,Tt.Suspense=d,Tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q,Tt.act=B,Tt.cloneElement=function($,te,H){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var me=N({},$.props),we=$.key,Ce=$.ref,fe=$._owner;if(te!=null){if(te.ref!==void 0&&(Ce=te.ref,fe=F.current),te.key!==void 0&&(we=""+te.key),$.type&&$.type.defaultProps)var Se=$.type.defaultProps;for(De in te)R.call(te,De)&&!M.hasOwnProperty(De)&&(me[De]=te[De]===void 0&&Se!==void 0?Se[De]:te[De])}var De=arguments.length-2;if(De===1)me.children=H;else if(1<De){Se=Array(De);for(var ze=0;ze<De;ze++)Se[ze]=arguments[ze+2];me.children=Se}return{$$typeof:t,type:$.type,key:we,ref:Ce,props:me,_owner:fe}},Tt.createContext=function($){return $={$$typeof:o,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:a,_context:$},$.Consumer=$},Tt.createElement=P,Tt.createFactory=function($){var te=P.bind(null,$);return te.type=$,te},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function($){return{$$typeof:c,render:$}},Tt.isValidElement=L,Tt.lazy=function($){return{$$typeof:m,_payload:{_status:-1,_result:$},_init:re}},Tt.memo=function($,te){return{$$typeof:h,type:$,compare:te===void 0?null:te}},Tt.startTransition=function($){var te=Q.transition;Q.transition={};try{$()}finally{Q.transition=te}},Tt.unstable_act=B,Tt.useCallback=function($,te){return ie.current.useCallback($,te)},Tt.useContext=function($){return ie.current.useContext($)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function($){return ie.current.useDeferredValue($)},Tt.useEffect=function($,te){return ie.current.useEffect($,te)},Tt.useId=function(){return ie.current.useId()},Tt.useImperativeHandle=function($,te,H){return ie.current.useImperativeHandle($,te,H)},Tt.useInsertionEffect=function($,te){return ie.current.useInsertionEffect($,te)},Tt.useLayoutEffect=function($,te){return ie.current.useLayoutEffect($,te)},Tt.useMemo=function($,te){return ie.current.useMemo($,te)},Tt.useReducer=function($,te,H){return ie.current.useReducer($,te,H)},Tt.useRef=function($){return ie.current.useRef($)},Tt.useState=function($){return ie.current.useState($)},Tt.useSyncExternalStore=function($,te,H){return ie.current.useSyncExternalStore($,te,H)},Tt.useTransition=function(){return ie.current.useTransition()},Tt.version="18.3.1",Tt}var NC;function cy(){return NC||(NC=1,zv.exports=OU()),zv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SC;function LU(){if(SC)return om;SC=1;var t=cy(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(c,d,h){var m,f={},g=null,x=null;h!==void 0&&(g=""+h),d.key!==void 0&&(g=""+d.key),d.ref!==void 0&&(x=d.ref);for(m in d)r.call(d,m)&&!a.hasOwnProperty(m)&&(f[m]=d[m]);if(c&&c.defaultProps)for(m in d=c.defaultProps,d)f[m]===void 0&&(f[m]=d[m]);return{$$typeof:e,type:c,key:g,ref:x,props:f,_owner:i.current}}return om.Fragment=n,om.jsx=o,om.jsxs=o,om}var EC;function FU(){return EC||(EC=1,Uv.exports=LU()),Uv.exports}var s=FU(),v=cy();const wn=Jd(v),xj=MU({__proto__:null,default:wn},[v]);var dg={},Bv={exports:{}},ss={},$v={exports:{}},qv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CC;function VU(){return CC||(CC=1,(function(t){function e(Q,q){var B=Q.length;Q.push(q);e:for(;0<B;){var $=B-1>>>1,te=Q[$];if(0<i(te,q))Q[$]=q,Q[B]=te,B=$;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var q=Q[0],B=Q.pop();if(B!==q){Q[0]=B;e:for(var $=0,te=Q.length,H=te>>>1;$<H;){var me=2*($+1)-1,we=Q[me],Ce=me+1,fe=Q[Ce];if(0>i(we,B))Ce<te&&0>i(fe,we)?(Q[$]=fe,Q[Ce]=B,$=Ce):(Q[$]=we,Q[me]=B,$=me);else if(Ce<te&&0>i(fe,B))Q[$]=fe,Q[Ce]=B,$=Ce;else break e}}return q}function i(Q,q){var B=Q.sortIndex-q.sortIndex;return B!==0?B:Q.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var d=[],h=[],m=1,f=null,g=3,x=!1,N=!1,w=!1,j=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(Q){for(var q=n(h);q!==null;){if(q.callback===null)r(h);else if(q.startTime<=Q)r(h),q.sortIndex=q.expirationTime,e(d,q);else break;q=n(h)}}function C(Q){if(w=!1,k(Q),!N)if(n(d)!==null)N=!0,re(R);else{var q=n(h);q!==null&&ie(C,q.startTime-Q)}}function R(Q,q){N=!1,w&&(w=!1,_(P),P=-1),x=!0;var B=g;try{for(k(q),f=n(d);f!==null&&(!(f.expirationTime>q)||Q&&!U());){var $=f.callback;if(typeof $=="function"){f.callback=null,g=f.priorityLevel;var te=$(f.expirationTime<=q);q=t.unstable_now(),typeof te=="function"?f.callback=te:f===n(d)&&r(d),k(q)}else r(d);f=n(d)}if(f!==null)var H=!0;else{var me=n(h);me!==null&&ie(C,me.startTime-q),H=!1}return H}finally{f=null,g=B,x=!1}}var F=!1,M=null,P=-1,I=5,L=-1;function U(){return!(t.unstable_now()-L<I)}function D(){if(M!==null){var Q=t.unstable_now();L=Q;var q=!0;try{q=M(!0,Q)}finally{q?V():(F=!1,M=null)}}else F=!1}var V;if(typeof E=="function")V=function(){E(D)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,ee=J.port2;J.port1.onmessage=D,V=function(){ee.postMessage(null)}}else V=function(){j(D,0)};function re(Q){M=Q,F||(F=!0,V())}function ie(Q,q){P=j(function(){Q(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){N||x||(N=!0,re(R))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(Q){switch(g){case 1:case 2:case 3:var q=3;break;default:q=g}var B=g;g=q;try{return Q()}finally{g=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,q){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var B=g;g=Q;try{return q()}finally{g=B}},t.unstable_scheduleCallback=function(Q,q,B){var $=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?$+B:$):B=$,Q){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=B+te,Q={id:m++,callback:q,priorityLevel:Q,startTime:B,expirationTime:te,sortIndex:-1},B>$?(Q.sortIndex=B,e(h,Q),n(d)===null&&Q===n(h)&&(w?(_(P),P=-1):w=!0,ie(C,B-$))):(Q.sortIndex=te,e(d,Q),N||x||(N=!0,re(R))),Q},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(Q){var q=g;return function(){var B=g;g=q;try{return Q.apply(this,arguments)}finally{g=B}}}})(qv)),qv}var kC;function UU(){return kC||(kC=1,$v.exports=VU()),$v.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TC;function zU(){if(TC)return ss;TC=1;var t=cy(),e=UU();function n(l){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+l,p=1;p<arguments.length;p++)u+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(l,u){o(l,u),o(l+"Capture",u)}function o(l,u){for(i[l]=u,l=0;l<u.length;l++)r.add(u[l])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},f={};function g(l){return d.call(f,l)?!0:d.call(m,l)?!1:h.test(l)?f[l]=!0:(m[l]=!0,!1)}function x(l,u,p,b){if(p!==null&&p.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return b?!1:p!==null?!p.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function N(l,u,p,b){if(u===null||typeof u>"u"||x(l,u,p,b))return!0;if(b)return!1;if(p!==null)switch(p.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function w(l,u,p,b,S,T,z){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=b,this.attributeNamespace=S,this.mustUseProperty=p,this.propertyName=l,this.type=u,this.sanitizeURL=T,this.removeEmptyString=z}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){j[l]=new w(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var u=l[0];j[u]=new w(u,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){j[l]=new w(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){j[l]=new w(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){j[l]=new w(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){j[l]=new w(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){j[l]=new w(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){j[l]=new w(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){j[l]=new w(l,5,!1,l.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function E(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var u=l.replace(_,E);j[u]=new w(u,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var u=l.replace(_,E);j[u]=new w(u,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var u=l.replace(_,E);j[u]=new w(u,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){j[l]=new w(l,1,!1,l.toLowerCase(),null,!1,!1)}),j.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){j[l]=new w(l,1,!1,l.toLowerCase(),null,!0,!0)});function k(l,u,p,b){var S=j.hasOwnProperty(u)?j[u]:null;(S!==null?S.type!==0:b||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(N(u,p,S,b)&&(p=null),b||S===null?g(u)&&(p===null?l.removeAttribute(u):l.setAttribute(u,""+p)):S.mustUseProperty?l[S.propertyName]=p===null?S.type===3?!1:"":p:(u=S.attributeName,b=S.attributeNamespace,p===null?l.removeAttribute(u):(S=S.type,p=S===3||S===4&&p===!0?"":""+p,b?l.setAttributeNS(b,u,p):l.setAttribute(u,p))))}var C=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,R=Symbol.for("react.element"),F=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),U=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),ie=Symbol.for("react.offscreen"),Q=Symbol.iterator;function q(l){return l===null||typeof l!="object"?null:(l=Q&&l[Q]||l["@@iterator"],typeof l=="function"?l:null)}var B=Object.assign,$;function te(l){if($===void 0)try{throw Error()}catch(p){var u=p.stack.trim().match(/\n( *(at )?)/);$=u&&u[1]||""}return`
`+$+l}var H=!1;function me(l,u){if(!l||H)return"";H=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(ue){var b=ue}Reflect.construct(l,[],u)}else{try{u.call()}catch(ue){b=ue}l.call(u.prototype)}else{try{throw Error()}catch(ue){b=ue}l()}}catch(ue){if(ue&&b&&typeof ue.stack=="string"){for(var S=ue.stack.split(`
`),T=b.stack.split(`
`),z=S.length-1,K=T.length-1;1<=z&&0<=K&&S[z]!==T[K];)K--;for(;1<=z&&0<=K;z--,K--)if(S[z]!==T[K]){if(z!==1||K!==1)do if(z--,K--,0>K||S[z]!==T[K]){var X=`
`+S[z].replace(" at new "," at ");return l.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",l.displayName)),X}while(1<=z&&0<=K);break}}}finally{H=!1,Error.prepareStackTrace=p}return(l=l?l.displayName||l.name:"")?te(l):""}function we(l){switch(l.tag){case 5:return te(l.type);case 16:return te("Lazy");case 13:return te("Suspense");case 19:return te("SuspenseList");case 0:case 2:case 15:return l=me(l.type,!1),l;case 11:return l=me(l.type.render,!1),l;case 1:return l=me(l.type,!0),l;default:return""}}function Ce(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case M:return"Fragment";case F:return"Portal";case I:return"Profiler";case P:return"StrictMode";case V:return"Suspense";case J:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case U:return(l.displayName||"Context")+".Consumer";case L:return(l._context.displayName||"Context")+".Provider";case D:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case ee:return u=l.displayName||null,u!==null?u:Ce(l.type)||"Memo";case re:u=l._payload,l=l._init;try{return Ce(l(u))}catch{}}return null}function fe(l){var u=l.type;switch(l.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=u.render,l=l.displayName||l.name||"",u.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ce(u);case 8:return u===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function Se(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function De(l){var u=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function ze(l){var u=De(l)?"checked":"value",p=Object.getOwnPropertyDescriptor(l.constructor.prototype,u),b=""+l[u];if(!l.hasOwnProperty(u)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var S=p.get,T=p.set;return Object.defineProperty(l,u,{configurable:!0,get:function(){return S.call(this)},set:function(z){b=""+z,T.call(this,z)}}),Object.defineProperty(l,u,{enumerable:p.enumerable}),{getValue:function(){return b},setValue:function(z){b=""+z},stopTracking:function(){l._valueTracker=null,delete l[u]}}}}function qe(l){l._valueTracker||(l._valueTracker=ze(l))}function ft(l){if(!l)return!1;var u=l._valueTracker;if(!u)return!0;var p=u.getValue(),b="";return l&&(b=De(l)?l.checked?"true":"false":l.value),l=b,l!==p?(u.setValue(l),!0):!1}function Zt(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function kn(l,u){var p=u.checked;return B({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??l._wrapperState.initialChecked})}function wr(l,u){var p=u.defaultValue==null?"":u.defaultValue,b=u.checked!=null?u.checked:u.defaultChecked;p=Se(u.value!=null?u.value:p),l._wrapperState={initialChecked:b,initialValue:p,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function Bn(l,u){u=u.checked,u!=null&&k(l,"checked",u,!1)}function Jn(l,u){Bn(l,u);var p=Se(u.value),b=u.type;if(p!=null)b==="number"?(p===0&&l.value===""||l.value!=p)&&(l.value=""+p):l.value!==""+p&&(l.value=""+p);else if(b==="submit"||b==="reset"){l.removeAttribute("value");return}u.hasOwnProperty("value")?zt(l,u.type,p):u.hasOwnProperty("defaultValue")&&zt(l,u.type,Se(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(l.defaultChecked=!!u.defaultChecked)}function xs(l,u,p){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var b=u.type;if(!(b!=="submit"&&b!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+l._wrapperState.initialValue,p||u===l.value||(l.value=u),l.defaultValue=u}p=l.name,p!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,p!==""&&(l.name=p)}function zt(l,u,p){(u!=="number"||Zt(l.ownerDocument)!==l)&&(p==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+p&&(l.defaultValue=""+p))}var en=Array.isArray;function Or(l,u,p,b){if(l=l.options,u){u={};for(var S=0;S<p.length;S++)u["$"+p[S]]=!0;for(p=0;p<l.length;p++)S=u.hasOwnProperty("$"+l[p].value),l[p].selected!==S&&(l[p].selected=S),S&&b&&(l[p].defaultSelected=!0)}else{for(p=""+Se(p),u=null,S=0;S<l.length;S++){if(l[S].value===p){l[S].selected=!0,b&&(l[S].defaultSelected=!0);return}u!==null||l[S].disabled||(u=l[S])}u!==null&&(u.selected=!0)}}function Ca(l,u){if(u.dangerouslySetInnerHTML!=null)throw Error(n(91));return B({},u,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function Ii(l,u){var p=u.value;if(p==null){if(p=u.children,u=u.defaultValue,p!=null){if(u!=null)throw Error(n(92));if(en(p)){if(1<p.length)throw Error(n(93));p=p[0]}u=p}u==null&&(u=""),p=u}l._wrapperState={initialValue:Se(p)}}function Ri(l,u){var p=Se(u.value),b=Se(u.defaultValue);p!=null&&(p=""+p,p!==l.value&&(l.value=p),u.defaultValue==null&&l.defaultValue!==p&&(l.defaultValue=p)),b!=null&&(l.defaultValue=""+b)}function Fs(l){var u=l.textContent;u===l._wrapperState.initialValue&&u!==""&&u!==null&&(l.value=u)}function pe(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ie(l,u){return l==null||l==="http://www.w3.org/1999/xhtml"?pe(u):l==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var Ze,bt=(function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,p,b,S){MSApp.execUnsafeLocalFunction(function(){return l(u,p,b,S)})}:l})(function(l,u){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=u;else{for(Ze=Ze||document.createElement("div"),Ze.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=Ze.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;u.firstChild;)l.appendChild(u.firstChild)}});function kt(l,u){if(u){var p=l.firstChild;if(p&&p===l.lastChild&&p.nodeType===3){p.nodeValue=u;return}}l.textContent=u}var xn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ge=["Webkit","ms","Moz","O"];Object.keys(xn).forEach(function(l){ge.forEach(function(u){u=u+l.charAt(0).toUpperCase()+l.substring(1),xn[u]=xn[l]})});function He(l,u,p){return u==null||typeof u=="boolean"||u===""?"":p||typeof u!="number"||u===0||xn.hasOwnProperty(l)&&xn[l]?(""+u).trim():u+"px"}function et(l,u){l=l.style;for(var p in u)if(u.hasOwnProperty(p)){var b=p.indexOf("--")===0,S=He(p,u[p],b);p==="float"&&(p="cssFloat"),b?l.setProperty(p,S):l[p]=S}}var tt=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gt(l,u){if(u){if(tt[l]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(n(137,l));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(n(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(n(61))}if(u.style!=null&&typeof u.style!="object")throw Error(n(62))}}function ut(l,u){if(l.indexOf("-")===-1)return typeof u.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mt=null;function yn(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Yr=null,Lr=null,nn=null;function ii(l){if(l=Wh(l)){if(typeof Yr!="function")throw Error(n(280));var u=l.stateNode;u&&(u=Sp(u),Yr(l.stateNode,l.type,u))}}function Fr(l){Lr?nn?nn.push(l):nn=[l]:Lr=l}function Vr(){if(Lr){var l=Lr,u=nn;if(nn=Lr=null,ii(l),u)for(l=0;l<u.length;l++)ii(u[l])}}function Pi(l,u){return l(u)}function Gl(){}var ys=!1;function Ql(l,u,p){if(ys)return l(u,p);ys=!0;try{return Pi(l,u,p)}finally{ys=!1,(Lr!==null||nn!==null)&&(Gl(),Vr())}}function Di(l,u){var p=l.stateNode;if(p===null)return null;var b=Sp(p);if(b===null)return null;p=b[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(l=l.type,b=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!b;break e;default:l=!1}if(l)return null;if(p&&typeof p!="function")throw Error(n(231,u,typeof p));return p}var ai=!1;if(c)try{var oi={};Object.defineProperty(oi,"passive",{get:function(){ai=!0}}),window.addEventListener("test",oi,oi),window.removeEventListener("test",oi,oi)}catch{ai=!1}function vs(l,u,p,b,S,T,z,K,X){var ue=Array.prototype.slice.call(arguments,3);try{u.apply(p,ue)}catch(je){this.onError(je)}}var Jr=!1,jr=null,Xr=!1,Gt=null,_r={onError:function(l){Jr=!0,jr=l}};function No(l,u,p,b,S,T,z,K,X){Jr=!1,jr=null,vs.apply(_r,arguments)}function ka(l,u,p,b,S,T,z,K,X){if(No.apply(this,arguments),Jr){if(Jr){var ue=jr;Jr=!1,jr=null}else throw Error(n(198));Xr||(Xr=!0,Gt=ue)}}function Nr(l){var u=l,p=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(p=u.return),l=u.return;while(l)}return u.tag===3?p:null}function li(l){if(l.tag===13){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function ci(l){if(Nr(l)!==l)throw Error(n(188))}function wt(l){var u=l.alternate;if(!u){if(u=Nr(l),u===null)throw Error(n(188));return u!==l?null:l}for(var p=l,b=u;;){var S=p.return;if(S===null)break;var T=S.alternate;if(T===null){if(b=S.return,b!==null){p=b;continue}break}if(S.child===T.child){for(T=S.child;T;){if(T===p)return ci(S),l;if(T===b)return ci(S),u;T=T.sibling}throw Error(n(188))}if(p.return!==b.return)p=S,b=T;else{for(var z=!1,K=S.child;K;){if(K===p){z=!0,p=S,b=T;break}if(K===b){z=!0,b=S,p=T;break}K=K.sibling}if(!z){for(K=T.child;K;){if(K===p){z=!0,p=T,b=S;break}if(K===b){z=!0,b=T,p=S;break}K=K.sibling}if(!z)throw Error(n(189))}}if(p.alternate!==b)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?l:u}function dt(l){return l=wt(l),l!==null?Xn(l):null}function Xn(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var u=Xn(l);if(u!==null)return u;l=l.sibling}return null}var So=e.unstable_scheduleCallback,mu=e.unstable_cancelCallback,Yl=e.unstable_shouldYield,Ta=e.unstable_requestPaint,dn=e.unstable_now,g0=e.unstable_getCurrentPriorityLevel,fu=e.unstable_ImmediatePriority,_h=e.unstable_UserBlockingPriority,Jl=e.unstable_NormalPriority,Nh=e.unstable_LowPriority,pu=e.unstable_IdlePriority,Xl=null,bs=null;function lp(l){if(bs&&typeof bs.onCommitFiberRoot=="function")try{bs.onCommitFiberRoot(Xl,l,void 0,(l.current.flags&128)===128)}catch{}}var ws=Math.clz32?Math.clz32:Zl,Mi=Math.log,Vs=Math.LN2;function Zl(l){return l>>>=0,l===0?32:31-(Mi(l)/Vs|0)|0}var Oi=64,Eo=4194304;function Bt(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function Aa(l,u){var p=l.pendingLanes;if(p===0)return 0;var b=0,S=l.suspendedLanes,T=l.pingedLanes,z=p&268435455;if(z!==0){var K=z&~S;K!==0?b=Bt(K):(T&=z,T!==0&&(b=Bt(T)))}else z=p&~S,z!==0?b=Bt(z):T!==0&&(b=Bt(T));if(b===0)return 0;if(u!==0&&u!==b&&(u&S)===0&&(S=b&-b,T=u&-u,S>=T||S===16&&(T&4194240)!==0))return u;if((b&4)!==0&&(b|=p&16),u=l.entangledLanes,u!==0)for(l=l.entanglements,u&=b;0<u;)p=31-ws(u),S=1<<p,b|=l[p],u&=~S;return b}function ec(l,u){switch(l){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tc(l,u){for(var p=l.suspendedLanes,b=l.pingedLanes,S=l.expirationTimes,T=l.pendingLanes;0<T;){var z=31-ws(T),K=1<<z,X=S[z];X===-1?((K&p)===0||(K&b)!==0)&&(S[z]=ec(K,u)):X<=u&&(l.expiredLanes|=K),T&=~K}}function Sh(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function Eh(){var l=Oi;return Oi<<=1,(Oi&4194240)===0&&(Oi=64),l}function Ch(l){for(var u=[],p=0;31>p;p++)u.push(l);return u}function nc(l,u,p){l.pendingLanes|=u,u!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,u=31-ws(u),l[u]=p}function x0(l,u){var p=l.pendingLanes&~u;l.pendingLanes=u,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=u,l.mutableReadLanes&=u,l.entangledLanes&=u,u=l.entanglements;var b=l.eventTimes;for(l=l.expirationTimes;0<p;){var S=31-ws(p),T=1<<S;u[S]=0,b[S]=-1,l[S]=-1,p&=~T}}function kh(l,u){var p=l.entangledLanes|=u;for(l=l.entanglements;p;){var b=31-ws(p),S=1<<b;S&u|l[b]&u&&(l[b]|=u),p&=~S}}var Ot=0;function Li(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var Th,gu,Ah,Ih,Rh,Fi=!1,xu=[],Vi=null,Ui=null,mr=null,rc=new Map,Ia=new Map,js=[],cp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Co(l,u){switch(l){case"focusin":case"focusout":Vi=null;break;case"dragenter":case"dragleave":Ui=null;break;case"mouseover":case"mouseout":mr=null;break;case"pointerover":case"pointerout":rc.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ia.delete(u.pointerId)}}function ui(l,u,p,b,S,T){return l===null||l.nativeEvent!==T?(l={blockedOn:u,domEventName:p,eventSystemFlags:b,nativeEvent:T,targetContainers:[S]},u!==null&&(u=Wh(u),u!==null&&gu(u)),l):(l.eventSystemFlags|=b,u=l.targetContainers,S!==null&&u.indexOf(S)===-1&&u.push(S),l)}function up(l,u,p,b,S){switch(u){case"focusin":return Vi=ui(Vi,l,u,p,b,S),!0;case"dragenter":return Ui=ui(Ui,l,u,p,b,S),!0;case"mouseover":return mr=ui(mr,l,u,p,b,S),!0;case"pointerover":var T=S.pointerId;return rc.set(T,ui(rc.get(T)||null,l,u,p,b,S)),!0;case"gotpointercapture":return T=S.pointerId,Ia.set(T,ui(Ia.get(T)||null,l,u,p,b,S)),!0}return!1}function yu(l){var u=oc(l.target);if(u!==null){var p=Nr(u);if(p!==null){if(u=p.tag,u===13){if(u=li(p),u!==null){l.blockedOn=u,Rh(l.priority,function(){Ah(p)});return}}else if(u===3&&p.stateNode.current.memoizedState.isDehydrated){l.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}l.blockedOn=null}function rn(l){if(l.blockedOn!==null)return!1;for(var u=l.targetContainers;0<u.length;){var p=vu(l.domEventName,l.eventSystemFlags,u[0],l.nativeEvent);if(p===null){p=l.nativeEvent;var b=new p.constructor(p.type,p);Mt=b,p.target.dispatchEvent(b),Mt=null}else return u=Wh(p),u!==null&&gu(u),l.blockedOn=p,!1;u.shift()}return!0}function dp(l,u,p){rn(l)&&p.delete(u)}function y0(){Fi=!1,Vi!==null&&rn(Vi)&&(Vi=null),Ui!==null&&rn(Ui)&&(Ui=null),mr!==null&&rn(mr)&&(mr=null),rc.forEach(dp),Ia.forEach(dp)}function ko(l,u){l.blockedOn===u&&(l.blockedOn=null,Fi||(Fi=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,y0)))}function To(l){function u(S){return ko(S,l)}if(0<xu.length){ko(xu[0],l);for(var p=1;p<xu.length;p++){var b=xu[p];b.blockedOn===l&&(b.blockedOn=null)}}for(Vi!==null&&ko(Vi,l),Ui!==null&&ko(Ui,l),mr!==null&&ko(mr,l),rc.forEach(u),Ia.forEach(u),p=0;p<js.length;p++)b=js[p],b.blockedOn===l&&(b.blockedOn=null);for(;0<js.length&&(p=js[0],p.blockedOn===null);)yu(p),p.blockedOn===null&&js.shift()}var Ra=C.ReactCurrentBatchConfig,Pa=!0;function zi(l,u,p,b){var S=Ot,T=Ra.transition;Ra.transition=null;try{Ot=1,Ph(l,u,p,b)}finally{Ot=S,Ra.transition=T}}function hp(l,u,p,b){var S=Ot,T=Ra.transition;Ra.transition=null;try{Ot=4,Ph(l,u,p,b)}finally{Ot=S,Ra.transition=T}}function Ph(l,u,p,b){if(Pa){var S=vu(l,u,p,b);if(S===null)T0(l,u,b,Bi,p),Co(l,b);else if(up(S,l,u,p,b))b.stopPropagation();else if(Co(l,b),u&4&&-1<cp.indexOf(l)){for(;S!==null;){var T=Wh(S);if(T!==null&&Th(T),T=vu(l,u,p,b),T===null&&T0(l,u,b,Bi,p),T===S)break;S=T}S!==null&&b.stopPropagation()}else T0(l,u,b,null,p)}}var Bi=null;function vu(l,u,p,b){if(Bi=null,l=yn(b),l=oc(l),l!==null)if(u=Nr(l),u===null)l=null;else if(p=u.tag,p===13){if(l=li(u),l!==null)return l;l=null}else if(p===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;l=null}else u!==l&&(l=null);return Bi=l,null}function bu(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(g0()){case fu:return 1;case _h:return 4;case Jl:case Nh:return 16;case pu:return 536870912;default:return 16}default:return 16}}var _s=null,wu=null,Da=null;function mp(){if(Da)return Da;var l,u=wu,p=u.length,b,S="value"in _s?_s.value:_s.textContent,T=S.length;for(l=0;l<p&&u[l]===S[l];l++);var z=p-l;for(b=1;b<=z&&u[p-b]===S[T-b];b++);return Da=S.slice(l,1<b?1-b:void 0)}function sc(l){var u=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&u===13&&(l=13)):l=u,l===10&&(l=13),32<=l||l===13?l:0}function $i(){return!0}function Dh(){return!1}function Sr(l){function u(p,b,S,T,z){this._reactName=p,this._targetInst=S,this.type=b,this.nativeEvent=T,this.target=z,this.currentTarget=null;for(var K in l)l.hasOwnProperty(K)&&(p=l[K],this[K]=p?p(T):T[K]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?$i:Dh,this.isPropagationStopped=Dh,this}return B(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),u}var qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ic=Sr(qi),Ao=B({},qi,{view:0,detail:0}),ju=Sr(Ao),_u,Nu,Ns,ac=B({},Ao,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xt,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Ns&&(Ns&&l.type==="mousemove"?(_u=l.screenX-Ns.screenX,Nu=l.screenY-Ns.screenY):Nu=_u=0,Ns=l),_u)},movementY:function(l){return"movementY"in l?l.movementY:Nu}}),Mh=Sr(ac),fp=B({},ac,{dataTransfer:0}),pp=Sr(fp),Su=B({},Ao,{relatedTarget:0}),fr=Sr(Su),gp=B({},qi,{animationName:0,elapsedTime:0,pseudoElement:0}),xp=Sr(gp),Io=B({},qi,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),y=Sr(Io),A=B({},qi,{data:0}),O=Sr(A),W={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},le={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},de={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pe(l){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(l):(l=de[l])?!!u[l]:!1}function xt(){return Pe}var Mn=B({},Ao,{key:function(l){if(l.key){var u=W[l.key]||l.key;if(u!=="Unidentified")return u}return l.type==="keypress"?(l=sc(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?le[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xt,charCode:function(l){return l.type==="keypress"?sc(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?sc(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),tn=Sr(Mn),$n=B({},ac,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ss=Sr($n),Ma=B({},Ao,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xt}),Hi=Sr(Ma),Wi=B({},qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Eu=Sr(Wi),Oh=B({},ac,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),TV=Sr(Oh),AV=[9,13,27,32],v0=c&&"CompositionEvent"in window,Lh=null;c&&"documentMode"in document&&(Lh=document.documentMode);var IV=c&&"TextEvent"in window&&!Lh,fS=c&&(!v0||Lh&&8<Lh&&11>=Lh),pS=" ",gS=!1;function xS(l,u){switch(l){case"keyup":return AV.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yS(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Cu=!1;function RV(l,u){switch(l){case"compositionend":return yS(u);case"keypress":return u.which!==32?null:(gS=!0,pS);case"textInput":return l=u.data,l===pS&&gS?null:l;default:return null}}function PV(l,u){if(Cu)return l==="compositionend"||!v0&&xS(l,u)?(l=mp(),Da=wu=_s=null,Cu=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return fS&&u.locale!=="ko"?null:u.data;default:return null}}var DV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vS(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u==="input"?!!DV[l.type]:u==="textarea"}function bS(l,u,p,b){Fr(b),u=jp(u,"onChange"),0<u.length&&(p=new ic("onChange","change",null,p,b),l.push({event:p,listeners:u}))}var Fh=null,Vh=null;function MV(l){FS(l,0)}function yp(l){var u=Ru(l);if(ft(u))return l}function OV(l,u){if(l==="change")return u}var wS=!1;if(c){var b0;if(c){var w0="oninput"in document;if(!w0){var jS=document.createElement("div");jS.setAttribute("oninput","return;"),w0=typeof jS.oninput=="function"}b0=w0}else b0=!1;wS=b0&&(!document.documentMode||9<document.documentMode)}function _S(){Fh&&(Fh.detachEvent("onpropertychange",NS),Vh=Fh=null)}function NS(l){if(l.propertyName==="value"&&yp(Vh)){var u=[];bS(u,Vh,l,yn(l)),Ql(MV,u)}}function LV(l,u,p){l==="focusin"?(_S(),Fh=u,Vh=p,Fh.attachEvent("onpropertychange",NS)):l==="focusout"&&_S()}function FV(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return yp(Vh)}function VV(l,u){if(l==="click")return yp(u)}function UV(l,u){if(l==="input"||l==="change")return yp(u)}function zV(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var di=typeof Object.is=="function"?Object.is:zV;function Uh(l,u){if(di(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var p=Object.keys(l),b=Object.keys(u);if(p.length!==b.length)return!1;for(b=0;b<p.length;b++){var S=p[b];if(!d.call(u,S)||!di(l[S],u[S]))return!1}return!0}function SS(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function ES(l,u){var p=SS(l);l=0;for(var b;p;){if(p.nodeType===3){if(b=l+p.textContent.length,l<=u&&b>=u)return{node:p,offset:u-l};l=b}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=SS(p)}}function CS(l,u){return l&&u?l===u?!0:l&&l.nodeType===3?!1:u&&u.nodeType===3?CS(l,u.parentNode):"contains"in l?l.contains(u):l.compareDocumentPosition?!!(l.compareDocumentPosition(u)&16):!1:!1}function kS(){for(var l=window,u=Zt();u instanceof l.HTMLIFrameElement;){try{var p=typeof u.contentWindow.location.href=="string"}catch{p=!1}if(p)l=u.contentWindow;else break;u=Zt(l.document)}return u}function j0(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u&&(u==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||u==="textarea"||l.contentEditable==="true")}function BV(l){var u=kS(),p=l.focusedElem,b=l.selectionRange;if(u!==p&&p&&p.ownerDocument&&CS(p.ownerDocument.documentElement,p)){if(b!==null&&j0(p)){if(u=b.start,l=b.end,l===void 0&&(l=u),"selectionStart"in p)p.selectionStart=u,p.selectionEnd=Math.min(l,p.value.length);else if(l=(u=p.ownerDocument||document)&&u.defaultView||window,l.getSelection){l=l.getSelection();var S=p.textContent.length,T=Math.min(b.start,S);b=b.end===void 0?T:Math.min(b.end,S),!l.extend&&T>b&&(S=b,b=T,T=S),S=ES(p,T);var z=ES(p,b);S&&z&&(l.rangeCount!==1||l.anchorNode!==S.node||l.anchorOffset!==S.offset||l.focusNode!==z.node||l.focusOffset!==z.offset)&&(u=u.createRange(),u.setStart(S.node,S.offset),l.removeAllRanges(),T>b?(l.addRange(u),l.extend(z.node,z.offset)):(u.setEnd(z.node,z.offset),l.addRange(u)))}}for(u=[],l=p;l=l.parentNode;)l.nodeType===1&&u.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<u.length;p++)l=u[p],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var $V=c&&"documentMode"in document&&11>=document.documentMode,ku=null,_0=null,zh=null,N0=!1;function TS(l,u,p){var b=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;N0||ku==null||ku!==Zt(b)||(b=ku,"selectionStart"in b&&j0(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),zh&&Uh(zh,b)||(zh=b,b=jp(_0,"onSelect"),0<b.length&&(u=new ic("onSelect","select",null,u,p),l.push({event:u,listeners:b}),u.target=ku)))}function vp(l,u){var p={};return p[l.toLowerCase()]=u.toLowerCase(),p["Webkit"+l]="webkit"+u,p["Moz"+l]="moz"+u,p}var Tu={animationend:vp("Animation","AnimationEnd"),animationiteration:vp("Animation","AnimationIteration"),animationstart:vp("Animation","AnimationStart"),transitionend:vp("Transition","TransitionEnd")},S0={},AS={};c&&(AS=document.createElement("div").style,"AnimationEvent"in window||(delete Tu.animationend.animation,delete Tu.animationiteration.animation,delete Tu.animationstart.animation),"TransitionEvent"in window||delete Tu.transitionend.transition);function bp(l){if(S0[l])return S0[l];if(!Tu[l])return l;var u=Tu[l],p;for(p in u)if(u.hasOwnProperty(p)&&p in AS)return S0[l]=u[p];return l}var IS=bp("animationend"),RS=bp("animationiteration"),PS=bp("animationstart"),DS=bp("transitionend"),MS=new Map,OS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ro(l,u){MS.set(l,u),a(u,[l])}for(var E0=0;E0<OS.length;E0++){var C0=OS[E0],qV=C0.toLowerCase(),HV=C0[0].toUpperCase()+C0.slice(1);Ro(qV,"on"+HV)}Ro(IS,"onAnimationEnd"),Ro(RS,"onAnimationIteration"),Ro(PS,"onAnimationStart"),Ro("dblclick","onDoubleClick"),Ro("focusin","onFocus"),Ro("focusout","onBlur"),Ro(DS,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WV=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bh));function LS(l,u,p){var b=l.type||"unknown-event";l.currentTarget=p,ka(b,u,void 0,l),l.currentTarget=null}function FS(l,u){u=(u&4)!==0;for(var p=0;p<l.length;p++){var b=l[p],S=b.event;b=b.listeners;e:{var T=void 0;if(u)for(var z=b.length-1;0<=z;z--){var K=b[z],X=K.instance,ue=K.currentTarget;if(K=K.listener,X!==T&&S.isPropagationStopped())break e;LS(S,K,ue),T=X}else for(z=0;z<b.length;z++){if(K=b[z],X=K.instance,ue=K.currentTarget,K=K.listener,X!==T&&S.isPropagationStopped())break e;LS(S,K,ue),T=X}}}if(Xr)throw l=Gt,Xr=!1,Gt=null,l}function hn(l,u){var p=u[M0];p===void 0&&(p=u[M0]=new Set);var b=l+"__bubble";p.has(b)||(VS(u,l,2,!1),p.add(b))}function k0(l,u,p){var b=0;u&&(b|=4),VS(p,l,b,u)}var wp="_reactListening"+Math.random().toString(36).slice(2);function $h(l){if(!l[wp]){l[wp]=!0,r.forEach(function(p){p!=="selectionchange"&&(WV.has(p)||k0(p,!1,l),k0(p,!0,l))});var u=l.nodeType===9?l:l.ownerDocument;u===null||u[wp]||(u[wp]=!0,k0("selectionchange",!1,u))}}function VS(l,u,p,b){switch(bu(u)){case 1:var S=zi;break;case 4:S=hp;break;default:S=Ph}p=S.bind(null,u,p,l),S=void 0,!ai||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(S=!0),b?S!==void 0?l.addEventListener(u,p,{capture:!0,passive:S}):l.addEventListener(u,p,!0):S!==void 0?l.addEventListener(u,p,{passive:S}):l.addEventListener(u,p,!1)}function T0(l,u,p,b,S){var T=b;if((u&1)===0&&(u&2)===0&&b!==null)e:for(;;){if(b===null)return;var z=b.tag;if(z===3||z===4){var K=b.stateNode.containerInfo;if(K===S||K.nodeType===8&&K.parentNode===S)break;if(z===4)for(z=b.return;z!==null;){var X=z.tag;if((X===3||X===4)&&(X=z.stateNode.containerInfo,X===S||X.nodeType===8&&X.parentNode===S))return;z=z.return}for(;K!==null;){if(z=oc(K),z===null)return;if(X=z.tag,X===5||X===6){b=T=z;continue e}K=K.parentNode}}b=b.return}Ql(function(){var ue=T,je=yn(p),Ne=[];e:{var be=MS.get(l);if(be!==void 0){var Ue=ic,We=l;switch(l){case"keypress":if(sc(p)===0)break e;case"keydown":case"keyup":Ue=tn;break;case"focusin":We="focus",Ue=fr;break;case"focusout":We="blur",Ue=fr;break;case"beforeblur":case"afterblur":Ue=fr;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ue=Mh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ue=pp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ue=Hi;break;case IS:case RS:case PS:Ue=xp;break;case DS:Ue=Eu;break;case"scroll":Ue=ju;break;case"wheel":Ue=TV;break;case"copy":case"cut":case"paste":Ue=y;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ue=Ss}var Qe=(u&4)!==0,On=!Qe&&l==="scroll",oe=Qe?be!==null?be+"Capture":null:be;Qe=[];for(var Z=ue,ce;Z!==null;){ce=Z;var Ae=ce.stateNode;if(ce.tag===5&&Ae!==null&&(ce=Ae,oe!==null&&(Ae=Di(Z,oe),Ae!=null&&Qe.push(qh(Z,Ae,ce)))),On)break;Z=Z.return}0<Qe.length&&(be=new Ue(be,We,null,p,je),Ne.push({event:be,listeners:Qe}))}}if((u&7)===0){e:{if(be=l==="mouseover"||l==="pointerover",Ue=l==="mouseout"||l==="pointerout",be&&p!==Mt&&(We=p.relatedTarget||p.fromElement)&&(oc(We)||We[Oa]))break e;if((Ue||be)&&(be=je.window===je?je:(be=je.ownerDocument)?be.defaultView||be.parentWindow:window,Ue?(We=p.relatedTarget||p.toElement,Ue=ue,We=We?oc(We):null,We!==null&&(On=Nr(We),We!==On||We.tag!==5&&We.tag!==6)&&(We=null)):(Ue=null,We=ue),Ue!==We)){if(Qe=Mh,Ae="onMouseLeave",oe="onMouseEnter",Z="mouse",(l==="pointerout"||l==="pointerover")&&(Qe=Ss,Ae="onPointerLeave",oe="onPointerEnter",Z="pointer"),On=Ue==null?be:Ru(Ue),ce=We==null?be:Ru(We),be=new Qe(Ae,Z+"leave",Ue,p,je),be.target=On,be.relatedTarget=ce,Ae=null,oc(je)===ue&&(Qe=new Qe(oe,Z+"enter",We,p,je),Qe.target=ce,Qe.relatedTarget=On,Ae=Qe),On=Ae,Ue&&We)t:{for(Qe=Ue,oe=We,Z=0,ce=Qe;ce;ce=Au(ce))Z++;for(ce=0,Ae=oe;Ae;Ae=Au(Ae))ce++;for(;0<Z-ce;)Qe=Au(Qe),Z--;for(;0<ce-Z;)oe=Au(oe),ce--;for(;Z--;){if(Qe===oe||oe!==null&&Qe===oe.alternate)break t;Qe=Au(Qe),oe=Au(oe)}Qe=null}else Qe=null;Ue!==null&&US(Ne,be,Ue,Qe,!1),We!==null&&On!==null&&US(Ne,On,We,Qe,!0)}}e:{if(be=ue?Ru(ue):window,Ue=be.nodeName&&be.nodeName.toLowerCase(),Ue==="select"||Ue==="input"&&be.type==="file")var Ye=OV;else if(vS(be))if(wS)Ye=UV;else{Ye=FV;var st=LV}else(Ue=be.nodeName)&&Ue.toLowerCase()==="input"&&(be.type==="checkbox"||be.type==="radio")&&(Ye=VV);if(Ye&&(Ye=Ye(l,ue))){bS(Ne,Ye,p,je);break e}st&&st(l,be,ue),l==="focusout"&&(st=be._wrapperState)&&st.controlled&&be.type==="number"&&zt(be,"number",be.value)}switch(st=ue?Ru(ue):window,l){case"focusin":(vS(st)||st.contentEditable==="true")&&(ku=st,_0=ue,zh=null);break;case"focusout":zh=_0=ku=null;break;case"mousedown":N0=!0;break;case"contextmenu":case"mouseup":case"dragend":N0=!1,TS(Ne,p,je);break;case"selectionchange":if($V)break;case"keydown":case"keyup":TS(Ne,p,je)}var it;if(v0)e:{switch(l){case"compositionstart":var ht="onCompositionStart";break e;case"compositionend":ht="onCompositionEnd";break e;case"compositionupdate":ht="onCompositionUpdate";break e}ht=void 0}else Cu?xS(l,p)&&(ht="onCompositionEnd"):l==="keydown"&&p.keyCode===229&&(ht="onCompositionStart");ht&&(fS&&p.locale!=="ko"&&(Cu||ht!=="onCompositionStart"?ht==="onCompositionEnd"&&Cu&&(it=mp()):(_s=je,wu="value"in _s?_s.value:_s.textContent,Cu=!0)),st=jp(ue,ht),0<st.length&&(ht=new O(ht,l,null,p,je),Ne.push({event:ht,listeners:st}),it?ht.data=it:(it=yS(p),it!==null&&(ht.data=it)))),(it=IV?RV(l,p):PV(l,p))&&(ue=jp(ue,"onBeforeInput"),0<ue.length&&(je=new O("onBeforeInput","beforeinput",null,p,je),Ne.push({event:je,listeners:ue}),je.data=it))}FS(Ne,u)})}function qh(l,u,p){return{instance:l,listener:u,currentTarget:p}}function jp(l,u){for(var p=u+"Capture",b=[];l!==null;){var S=l,T=S.stateNode;S.tag===5&&T!==null&&(S=T,T=Di(l,p),T!=null&&b.unshift(qh(l,T,S)),T=Di(l,u),T!=null&&b.push(qh(l,T,S))),l=l.return}return b}function Au(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function US(l,u,p,b,S){for(var T=u._reactName,z=[];p!==null&&p!==b;){var K=p,X=K.alternate,ue=K.stateNode;if(X!==null&&X===b)break;K.tag===5&&ue!==null&&(K=ue,S?(X=Di(p,T),X!=null&&z.unshift(qh(p,X,K))):S||(X=Di(p,T),X!=null&&z.push(qh(p,X,K)))),p=p.return}z.length!==0&&l.push({event:u,listeners:z})}var KV=/\r\n?/g,GV=/\u0000|\uFFFD/g;function zS(l){return(typeof l=="string"?l:""+l).replace(KV,`
`).replace(GV,"")}function _p(l,u,p){if(u=zS(u),zS(l)!==u&&p)throw Error(n(425))}function Np(){}var A0=null,I0=null;function R0(l,u){return l==="textarea"||l==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var P0=typeof setTimeout=="function"?setTimeout:void 0,QV=typeof clearTimeout=="function"?clearTimeout:void 0,BS=typeof Promise=="function"?Promise:void 0,YV=typeof queueMicrotask=="function"?queueMicrotask:typeof BS<"u"?function(l){return BS.resolve(null).then(l).catch(JV)}:P0;function JV(l){setTimeout(function(){throw l})}function D0(l,u){var p=u,b=0;do{var S=p.nextSibling;if(l.removeChild(p),S&&S.nodeType===8)if(p=S.data,p==="/$"){if(b===0){l.removeChild(S),To(u);return}b--}else p!=="$"&&p!=="$?"&&p!=="$!"||b++;p=S}while(p);To(u)}function Po(l){for(;l!=null;l=l.nextSibling){var u=l.nodeType;if(u===1||u===3)break;if(u===8){if(u=l.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return l}function $S(l){l=l.previousSibling;for(var u=0;l;){if(l.nodeType===8){var p=l.data;if(p==="$"||p==="$!"||p==="$?"){if(u===0)return l;u--}else p==="/$"&&u++}l=l.previousSibling}return null}var Iu=Math.random().toString(36).slice(2),Ki="__reactFiber$"+Iu,Hh="__reactProps$"+Iu,Oa="__reactContainer$"+Iu,M0="__reactEvents$"+Iu,XV="__reactListeners$"+Iu,ZV="__reactHandles$"+Iu;function oc(l){var u=l[Ki];if(u)return u;for(var p=l.parentNode;p;){if(u=p[Oa]||p[Ki]){if(p=u.alternate,u.child!==null||p!==null&&p.child!==null)for(l=$S(l);l!==null;){if(p=l[Ki])return p;l=$S(l)}return u}l=p,p=l.parentNode}return null}function Wh(l){return l=l[Ki]||l[Oa],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function Ru(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(n(33))}function Sp(l){return l[Hh]||null}var O0=[],Pu=-1;function Do(l){return{current:l}}function mn(l){0>Pu||(l.current=O0[Pu],O0[Pu]=null,Pu--)}function an(l,u){Pu++,O0[Pu]=l.current,l.current=u}var Mo={},Er=Do(Mo),Zr=Do(!1),lc=Mo;function Du(l,u){var p=l.type.contextTypes;if(!p)return Mo;var b=l.stateNode;if(b&&b.__reactInternalMemoizedUnmaskedChildContext===u)return b.__reactInternalMemoizedMaskedChildContext;var S={},T;for(T in p)S[T]=u[T];return b&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=u,l.__reactInternalMemoizedMaskedChildContext=S),S}function es(l){return l=l.childContextTypes,l!=null}function Ep(){mn(Zr),mn(Er)}function qS(l,u,p){if(Er.current!==Mo)throw Error(n(168));an(Er,u),an(Zr,p)}function HS(l,u,p){var b=l.stateNode;if(u=u.childContextTypes,typeof b.getChildContext!="function")return p;b=b.getChildContext();for(var S in b)if(!(S in u))throw Error(n(108,fe(l)||"Unknown",S));return B({},p,b)}function Cp(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||Mo,lc=Er.current,an(Er,l),an(Zr,Zr.current),!0}function WS(l,u,p){var b=l.stateNode;if(!b)throw Error(n(169));p?(l=HS(l,u,lc),b.__reactInternalMemoizedMergedChildContext=l,mn(Zr),mn(Er),an(Er,l)):mn(Zr),an(Zr,p)}var La=null,kp=!1,L0=!1;function KS(l){La===null?La=[l]:La.push(l)}function eU(l){kp=!0,KS(l)}function Oo(){if(!L0&&La!==null){L0=!0;var l=0,u=Ot;try{var p=La;for(Ot=1;l<p.length;l++){var b=p[l];do b=b(!0);while(b!==null)}La=null,kp=!1}catch(S){throw La!==null&&(La=La.slice(l+1)),So(fu,Oo),S}finally{Ot=u,L0=!1}}return null}var Mu=[],Ou=0,Tp=null,Ap=0,Us=[],zs=0,cc=null,Fa=1,Va="";function uc(l,u){Mu[Ou++]=Ap,Mu[Ou++]=Tp,Tp=l,Ap=u}function GS(l,u,p){Us[zs++]=Fa,Us[zs++]=Va,Us[zs++]=cc,cc=l;var b=Fa;l=Va;var S=32-ws(b)-1;b&=~(1<<S),p+=1;var T=32-ws(u)+S;if(30<T){var z=S-S%5;T=(b&(1<<z)-1).toString(32),b>>=z,S-=z,Fa=1<<32-ws(u)+S|p<<S|b,Va=T+l}else Fa=1<<T|p<<S|b,Va=l}function F0(l){l.return!==null&&(uc(l,1),GS(l,1,0))}function V0(l){for(;l===Tp;)Tp=Mu[--Ou],Mu[Ou]=null,Ap=Mu[--Ou],Mu[Ou]=null;for(;l===cc;)cc=Us[--zs],Us[zs]=null,Va=Us[--zs],Us[zs]=null,Fa=Us[--zs],Us[zs]=null}var Es=null,Cs=null,pn=!1,hi=null;function QS(l,u){var p=Hs(5,null,null,0);p.elementType="DELETED",p.stateNode=u,p.return=l,u=l.deletions,u===null?(l.deletions=[p],l.flags|=16):u.push(p)}function YS(l,u){switch(l.tag){case 5:var p=l.type;return u=u.nodeType!==1||p.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(l.stateNode=u,Es=l,Cs=Po(u.firstChild),!0):!1;case 6:return u=l.pendingProps===""||u.nodeType!==3?null:u,u!==null?(l.stateNode=u,Es=l,Cs=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(p=cc!==null?{id:Fa,overflow:Va}:null,l.memoizedState={dehydrated:u,treeContext:p,retryLane:1073741824},p=Hs(18,null,null,0),p.stateNode=u,p.return=l,l.child=p,Es=l,Cs=null,!0):!1;default:return!1}}function U0(l){return(l.mode&1)!==0&&(l.flags&128)===0}function z0(l){if(pn){var u=Cs;if(u){var p=u;if(!YS(l,u)){if(U0(l))throw Error(n(418));u=Po(p.nextSibling);var b=Es;u&&YS(l,u)?QS(b,p):(l.flags=l.flags&-4097|2,pn=!1,Es=l)}}else{if(U0(l))throw Error(n(418));l.flags=l.flags&-4097|2,pn=!1,Es=l}}}function JS(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;Es=l}function Ip(l){if(l!==Es)return!1;if(!pn)return JS(l),pn=!0,!1;var u;if((u=l.tag!==3)&&!(u=l.tag!==5)&&(u=l.type,u=u!=="head"&&u!=="body"&&!R0(l.type,l.memoizedProps)),u&&(u=Cs)){if(U0(l))throw XS(),Error(n(418));for(;u;)QS(l,u),u=Po(u.nextSibling)}if(JS(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));e:{for(l=l.nextSibling,u=0;l;){if(l.nodeType===8){var p=l.data;if(p==="/$"){if(u===0){Cs=Po(l.nextSibling);break e}u--}else p!=="$"&&p!=="$!"&&p!=="$?"||u++}l=l.nextSibling}Cs=null}}else Cs=Es?Po(l.stateNode.nextSibling):null;return!0}function XS(){for(var l=Cs;l;)l=Po(l.nextSibling)}function Lu(){Cs=Es=null,pn=!1}function B0(l){hi===null?hi=[l]:hi.push(l)}var tU=C.ReactCurrentBatchConfig;function Kh(l,u,p){if(l=p.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(n(309));var b=p.stateNode}if(!b)throw Error(n(147,l));var S=b,T=""+l;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===T?u.ref:(u=function(z){var K=S.refs;z===null?delete K[T]:K[T]=z},u._stringRef=T,u)}if(typeof l!="string")throw Error(n(284));if(!p._owner)throw Error(n(290,l))}return l}function Rp(l,u){throw l=Object.prototype.toString.call(u),Error(n(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l))}function ZS(l){var u=l._init;return u(l._payload)}function eE(l){function u(oe,Z){if(l){var ce=oe.deletions;ce===null?(oe.deletions=[Z],oe.flags|=16):ce.push(Z)}}function p(oe,Z){if(!l)return null;for(;Z!==null;)u(oe,Z),Z=Z.sibling;return null}function b(oe,Z){for(oe=new Map;Z!==null;)Z.key!==null?oe.set(Z.key,Z):oe.set(Z.index,Z),Z=Z.sibling;return oe}function S(oe,Z){return oe=qo(oe,Z),oe.index=0,oe.sibling=null,oe}function T(oe,Z,ce){return oe.index=ce,l?(ce=oe.alternate,ce!==null?(ce=ce.index,ce<Z?(oe.flags|=2,Z):ce):(oe.flags|=2,Z)):(oe.flags|=1048576,Z)}function z(oe){return l&&oe.alternate===null&&(oe.flags|=2),oe}function K(oe,Z,ce,Ae){return Z===null||Z.tag!==6?(Z=Pv(ce,oe.mode,Ae),Z.return=oe,Z):(Z=S(Z,ce),Z.return=oe,Z)}function X(oe,Z,ce,Ae){var Ye=ce.type;return Ye===M?je(oe,Z,ce.props.children,Ae,ce.key):Z!==null&&(Z.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===re&&ZS(Ye)===Z.type)?(Ae=S(Z,ce.props),Ae.ref=Kh(oe,Z,ce),Ae.return=oe,Ae):(Ae=ng(ce.type,ce.key,ce.props,null,oe.mode,Ae),Ae.ref=Kh(oe,Z,ce),Ae.return=oe,Ae)}function ue(oe,Z,ce,Ae){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==ce.containerInfo||Z.stateNode.implementation!==ce.implementation?(Z=Dv(ce,oe.mode,Ae),Z.return=oe,Z):(Z=S(Z,ce.children||[]),Z.return=oe,Z)}function je(oe,Z,ce,Ae,Ye){return Z===null||Z.tag!==7?(Z=yc(ce,oe.mode,Ae,Ye),Z.return=oe,Z):(Z=S(Z,ce),Z.return=oe,Z)}function Ne(oe,Z,ce){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return Z=Pv(""+Z,oe.mode,ce),Z.return=oe,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case R:return ce=ng(Z.type,Z.key,Z.props,null,oe.mode,ce),ce.ref=Kh(oe,null,Z),ce.return=oe,ce;case F:return Z=Dv(Z,oe.mode,ce),Z.return=oe,Z;case re:var Ae=Z._init;return Ne(oe,Ae(Z._payload),ce)}if(en(Z)||q(Z))return Z=yc(Z,oe.mode,ce,null),Z.return=oe,Z;Rp(oe,Z)}return null}function be(oe,Z,ce,Ae){var Ye=Z!==null?Z.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number")return Ye!==null?null:K(oe,Z,""+ce,Ae);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case R:return ce.key===Ye?X(oe,Z,ce,Ae):null;case F:return ce.key===Ye?ue(oe,Z,ce,Ae):null;case re:return Ye=ce._init,be(oe,Z,Ye(ce._payload),Ae)}if(en(ce)||q(ce))return Ye!==null?null:je(oe,Z,ce,Ae,null);Rp(oe,ce)}return null}function Ue(oe,Z,ce,Ae,Ye){if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number")return oe=oe.get(ce)||null,K(Z,oe,""+Ae,Ye);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case R:return oe=oe.get(Ae.key===null?ce:Ae.key)||null,X(Z,oe,Ae,Ye);case F:return oe=oe.get(Ae.key===null?ce:Ae.key)||null,ue(Z,oe,Ae,Ye);case re:var st=Ae._init;return Ue(oe,Z,ce,st(Ae._payload),Ye)}if(en(Ae)||q(Ae))return oe=oe.get(ce)||null,je(Z,oe,Ae,Ye,null);Rp(Z,Ae)}return null}function We(oe,Z,ce,Ae){for(var Ye=null,st=null,it=Z,ht=Z=0,or=null;it!==null&&ht<ce.length;ht++){it.index>ht?(or=it,it=null):or=it.sibling;var Ut=be(oe,it,ce[ht],Ae);if(Ut===null){it===null&&(it=or);break}l&&it&&Ut.alternate===null&&u(oe,it),Z=T(Ut,Z,ht),st===null?Ye=Ut:st.sibling=Ut,st=Ut,it=or}if(ht===ce.length)return p(oe,it),pn&&uc(oe,ht),Ye;if(it===null){for(;ht<ce.length;ht++)it=Ne(oe,ce[ht],Ae),it!==null&&(Z=T(it,Z,ht),st===null?Ye=it:st.sibling=it,st=it);return pn&&uc(oe,ht),Ye}for(it=b(oe,it);ht<ce.length;ht++)or=Ue(it,oe,ht,ce[ht],Ae),or!==null&&(l&&or.alternate!==null&&it.delete(or.key===null?ht:or.key),Z=T(or,Z,ht),st===null?Ye=or:st.sibling=or,st=or);return l&&it.forEach(function(Ho){return u(oe,Ho)}),pn&&uc(oe,ht),Ye}function Qe(oe,Z,ce,Ae){var Ye=q(ce);if(typeof Ye!="function")throw Error(n(150));if(ce=Ye.call(ce),ce==null)throw Error(n(151));for(var st=Ye=null,it=Z,ht=Z=0,or=null,Ut=ce.next();it!==null&&!Ut.done;ht++,Ut=ce.next()){it.index>ht?(or=it,it=null):or=it.sibling;var Ho=be(oe,it,Ut.value,Ae);if(Ho===null){it===null&&(it=or);break}l&&it&&Ho.alternate===null&&u(oe,it),Z=T(Ho,Z,ht),st===null?Ye=Ho:st.sibling=Ho,st=Ho,it=or}if(Ut.done)return p(oe,it),pn&&uc(oe,ht),Ye;if(it===null){for(;!Ut.done;ht++,Ut=ce.next())Ut=Ne(oe,Ut.value,Ae),Ut!==null&&(Z=T(Ut,Z,ht),st===null?Ye=Ut:st.sibling=Ut,st=Ut);return pn&&uc(oe,ht),Ye}for(it=b(oe,it);!Ut.done;ht++,Ut=ce.next())Ut=Ue(it,oe,ht,Ut.value,Ae),Ut!==null&&(l&&Ut.alternate!==null&&it.delete(Ut.key===null?ht:Ut.key),Z=T(Ut,Z,ht),st===null?Ye=Ut:st.sibling=Ut,st=Ut);return l&&it.forEach(function(DU){return u(oe,DU)}),pn&&uc(oe,ht),Ye}function On(oe,Z,ce,Ae){if(typeof ce=="object"&&ce!==null&&ce.type===M&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case R:e:{for(var Ye=ce.key,st=Z;st!==null;){if(st.key===Ye){if(Ye=ce.type,Ye===M){if(st.tag===7){p(oe,st.sibling),Z=S(st,ce.props.children),Z.return=oe,oe=Z;break e}}else if(st.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===re&&ZS(Ye)===st.type){p(oe,st.sibling),Z=S(st,ce.props),Z.ref=Kh(oe,st,ce),Z.return=oe,oe=Z;break e}p(oe,st);break}else u(oe,st);st=st.sibling}ce.type===M?(Z=yc(ce.props.children,oe.mode,Ae,ce.key),Z.return=oe,oe=Z):(Ae=ng(ce.type,ce.key,ce.props,null,oe.mode,Ae),Ae.ref=Kh(oe,Z,ce),Ae.return=oe,oe=Ae)}return z(oe);case F:e:{for(st=ce.key;Z!==null;){if(Z.key===st)if(Z.tag===4&&Z.stateNode.containerInfo===ce.containerInfo&&Z.stateNode.implementation===ce.implementation){p(oe,Z.sibling),Z=S(Z,ce.children||[]),Z.return=oe,oe=Z;break e}else{p(oe,Z);break}else u(oe,Z);Z=Z.sibling}Z=Dv(ce,oe.mode,Ae),Z.return=oe,oe=Z}return z(oe);case re:return st=ce._init,On(oe,Z,st(ce._payload),Ae)}if(en(ce))return We(oe,Z,ce,Ae);if(q(ce))return Qe(oe,Z,ce,Ae);Rp(oe,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"?(ce=""+ce,Z!==null&&Z.tag===6?(p(oe,Z.sibling),Z=S(Z,ce),Z.return=oe,oe=Z):(p(oe,Z),Z=Pv(ce,oe.mode,Ae),Z.return=oe,oe=Z),z(oe)):p(oe,Z)}return On}var Fu=eE(!0),tE=eE(!1),Pp=Do(null),Dp=null,Vu=null,$0=null;function q0(){$0=Vu=Dp=null}function H0(l){var u=Pp.current;mn(Pp),l._currentValue=u}function W0(l,u,p){for(;l!==null;){var b=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,b!==null&&(b.childLanes|=u)):b!==null&&(b.childLanes&u)!==u&&(b.childLanes|=u),l===p)break;l=l.return}}function Uu(l,u){Dp=l,$0=Vu=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&u)!==0&&(ts=!0),l.firstContext=null)}function Bs(l){var u=l._currentValue;if($0!==l)if(l={context:l,memoizedValue:u,next:null},Vu===null){if(Dp===null)throw Error(n(308));Vu=l,Dp.dependencies={lanes:0,firstContext:l}}else Vu=Vu.next=l;return u}var dc=null;function K0(l){dc===null?dc=[l]:dc.push(l)}function nE(l,u,p,b){var S=u.interleaved;return S===null?(p.next=p,K0(u)):(p.next=S.next,S.next=p),u.interleaved=p,Ua(l,b)}function Ua(l,u){l.lanes|=u;var p=l.alternate;for(p!==null&&(p.lanes|=u),p=l,l=l.return;l!==null;)l.childLanes|=u,p=l.alternate,p!==null&&(p.childLanes|=u),p=l,l=l.return;return p.tag===3?p.stateNode:null}var Lo=!1;function G0(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rE(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function za(l,u){return{eventTime:l,lane:u,tag:0,payload:null,callback:null,next:null}}function Fo(l,u,p){var b=l.updateQueue;if(b===null)return null;if(b=b.shared,(Vt&2)!==0){var S=b.pending;return S===null?u.next=u:(u.next=S.next,S.next=u),b.pending=u,Ua(l,p)}return S=b.interleaved,S===null?(u.next=u,K0(b)):(u.next=S.next,S.next=u),b.interleaved=u,Ua(l,p)}function Mp(l,u,p){if(u=u.updateQueue,u!==null&&(u=u.shared,(p&4194240)!==0)){var b=u.lanes;b&=l.pendingLanes,p|=b,u.lanes=p,kh(l,p)}}function sE(l,u){var p=l.updateQueue,b=l.alternate;if(b!==null&&(b=b.updateQueue,p===b)){var S=null,T=null;if(p=p.firstBaseUpdate,p!==null){do{var z={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};T===null?S=T=z:T=T.next=z,p=p.next}while(p!==null);T===null?S=T=u:T=T.next=u}else S=T=u;p={baseState:b.baseState,firstBaseUpdate:S,lastBaseUpdate:T,shared:b.shared,effects:b.effects},l.updateQueue=p;return}l=p.lastBaseUpdate,l===null?p.firstBaseUpdate=u:l.next=u,p.lastBaseUpdate=u}function Op(l,u,p,b){var S=l.updateQueue;Lo=!1;var T=S.firstBaseUpdate,z=S.lastBaseUpdate,K=S.shared.pending;if(K!==null){S.shared.pending=null;var X=K,ue=X.next;X.next=null,z===null?T=ue:z.next=ue,z=X;var je=l.alternate;je!==null&&(je=je.updateQueue,K=je.lastBaseUpdate,K!==z&&(K===null?je.firstBaseUpdate=ue:K.next=ue,je.lastBaseUpdate=X))}if(T!==null){var Ne=S.baseState;z=0,je=ue=X=null,K=T;do{var be=K.lane,Ue=K.eventTime;if((b&be)===be){je!==null&&(je=je.next={eventTime:Ue,lane:0,tag:K.tag,payload:K.payload,callback:K.callback,next:null});e:{var We=l,Qe=K;switch(be=u,Ue=p,Qe.tag){case 1:if(We=Qe.payload,typeof We=="function"){Ne=We.call(Ue,Ne,be);break e}Ne=We;break e;case 3:We.flags=We.flags&-65537|128;case 0:if(We=Qe.payload,be=typeof We=="function"?We.call(Ue,Ne,be):We,be==null)break e;Ne=B({},Ne,be);break e;case 2:Lo=!0}}K.callback!==null&&K.lane!==0&&(l.flags|=64,be=S.effects,be===null?S.effects=[K]:be.push(K))}else Ue={eventTime:Ue,lane:be,tag:K.tag,payload:K.payload,callback:K.callback,next:null},je===null?(ue=je=Ue,X=Ne):je=je.next=Ue,z|=be;if(K=K.next,K===null){if(K=S.shared.pending,K===null)break;be=K,K=be.next,be.next=null,S.lastBaseUpdate=be,S.shared.pending=null}}while(!0);if(je===null&&(X=Ne),S.baseState=X,S.firstBaseUpdate=ue,S.lastBaseUpdate=je,u=S.shared.interleaved,u!==null){S=u;do z|=S.lane,S=S.next;while(S!==u)}else T===null&&(S.shared.lanes=0);fc|=z,l.lanes=z,l.memoizedState=Ne}}function iE(l,u,p){if(l=u.effects,u.effects=null,l!==null)for(u=0;u<l.length;u++){var b=l[u],S=b.callback;if(S!==null){if(b.callback=null,b=p,typeof S!="function")throw Error(n(191,S));S.call(b)}}}var Gh={},Gi=Do(Gh),Qh=Do(Gh),Yh=Do(Gh);function hc(l){if(l===Gh)throw Error(n(174));return l}function Q0(l,u){switch(an(Yh,u),an(Qh,l),an(Gi,Gh),l=u.nodeType,l){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:Ie(null,"");break;default:l=l===8?u.parentNode:u,u=l.namespaceURI||null,l=l.tagName,u=Ie(u,l)}mn(Gi),an(Gi,u)}function zu(){mn(Gi),mn(Qh),mn(Yh)}function aE(l){hc(Yh.current);var u=hc(Gi.current),p=Ie(u,l.type);u!==p&&(an(Qh,l),an(Gi,p))}function Y0(l){Qh.current===l&&(mn(Gi),mn(Qh))}var vn=Do(0);function Lp(l){for(var u=l;u!==null;){if(u.tag===13){var p=u.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var J0=[];function X0(){for(var l=0;l<J0.length;l++)J0[l]._workInProgressVersionPrimary=null;J0.length=0}var Fp=C.ReactCurrentDispatcher,Z0=C.ReactCurrentBatchConfig,mc=0,bn=null,Zn=null,ir=null,Vp=!1,Jh=!1,Xh=0,nU=0;function Cr(){throw Error(n(321))}function ev(l,u){if(u===null)return!1;for(var p=0;p<u.length&&p<l.length;p++)if(!di(l[p],u[p]))return!1;return!0}function tv(l,u,p,b,S,T){if(mc=T,bn=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Fp.current=l===null||l.memoizedState===null?aU:oU,l=p(b,S),Jh){T=0;do{if(Jh=!1,Xh=0,25<=T)throw Error(n(301));T+=1,ir=Zn=null,u.updateQueue=null,Fp.current=lU,l=p(b,S)}while(Jh)}if(Fp.current=Bp,u=Zn!==null&&Zn.next!==null,mc=0,ir=Zn=bn=null,Vp=!1,u)throw Error(n(300));return l}function nv(){var l=Xh!==0;return Xh=0,l}function Qi(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ir===null?bn.memoizedState=ir=l:ir=ir.next=l,ir}function $s(){if(Zn===null){var l=bn.alternate;l=l!==null?l.memoizedState:null}else l=Zn.next;var u=ir===null?bn.memoizedState:ir.next;if(u!==null)ir=u,Zn=l;else{if(l===null)throw Error(n(310));Zn=l,l={memoizedState:Zn.memoizedState,baseState:Zn.baseState,baseQueue:Zn.baseQueue,queue:Zn.queue,next:null},ir===null?bn.memoizedState=ir=l:ir=ir.next=l}return ir}function Zh(l,u){return typeof u=="function"?u(l):u}function rv(l){var u=$s(),p=u.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=l;var b=Zn,S=b.baseQueue,T=p.pending;if(T!==null){if(S!==null){var z=S.next;S.next=T.next,T.next=z}b.baseQueue=S=T,p.pending=null}if(S!==null){T=S.next,b=b.baseState;var K=z=null,X=null,ue=T;do{var je=ue.lane;if((mc&je)===je)X!==null&&(X=X.next={lane:0,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),b=ue.hasEagerState?ue.eagerState:l(b,ue.action);else{var Ne={lane:je,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null};X===null?(K=X=Ne,z=b):X=X.next=Ne,bn.lanes|=je,fc|=je}ue=ue.next}while(ue!==null&&ue!==T);X===null?z=b:X.next=K,di(b,u.memoizedState)||(ts=!0),u.memoizedState=b,u.baseState=z,u.baseQueue=X,p.lastRenderedState=b}if(l=p.interleaved,l!==null){S=l;do T=S.lane,bn.lanes|=T,fc|=T,S=S.next;while(S!==l)}else S===null&&(p.lanes=0);return[u.memoizedState,p.dispatch]}function sv(l){var u=$s(),p=u.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=l;var b=p.dispatch,S=p.pending,T=u.memoizedState;if(S!==null){p.pending=null;var z=S=S.next;do T=l(T,z.action),z=z.next;while(z!==S);di(T,u.memoizedState)||(ts=!0),u.memoizedState=T,u.baseQueue===null&&(u.baseState=T),p.lastRenderedState=T}return[T,b]}function oE(){}function lE(l,u){var p=bn,b=$s(),S=u(),T=!di(b.memoizedState,S);if(T&&(b.memoizedState=S,ts=!0),b=b.queue,iv(dE.bind(null,p,b,l),[l]),b.getSnapshot!==u||T||ir!==null&&ir.memoizedState.tag&1){if(p.flags|=2048,em(9,uE.bind(null,p,b,S,u),void 0,null),ar===null)throw Error(n(349));(mc&30)!==0||cE(p,u,S)}return S}function cE(l,u,p){l.flags|=16384,l={getSnapshot:u,value:p},u=bn.updateQueue,u===null?(u={lastEffect:null,stores:null},bn.updateQueue=u,u.stores=[l]):(p=u.stores,p===null?u.stores=[l]:p.push(l))}function uE(l,u,p,b){u.value=p,u.getSnapshot=b,hE(u)&&mE(l)}function dE(l,u,p){return p(function(){hE(u)&&mE(l)})}function hE(l){var u=l.getSnapshot;l=l.value;try{var p=u();return!di(l,p)}catch{return!0}}function mE(l){var u=Ua(l,1);u!==null&&gi(u,l,1,-1)}function fE(l){var u=Qi();return typeof l=="function"&&(l=l()),u.memoizedState=u.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zh,lastRenderedState:l},u.queue=l,l=l.dispatch=iU.bind(null,bn,l),[u.memoizedState,l]}function em(l,u,p,b){return l={tag:l,create:u,destroy:p,deps:b,next:null},u=bn.updateQueue,u===null?(u={lastEffect:null,stores:null},bn.updateQueue=u,u.lastEffect=l.next=l):(p=u.lastEffect,p===null?u.lastEffect=l.next=l:(b=p.next,p.next=l,l.next=b,u.lastEffect=l)),l}function pE(){return $s().memoizedState}function Up(l,u,p,b){var S=Qi();bn.flags|=l,S.memoizedState=em(1|u,p,void 0,b===void 0?null:b)}function zp(l,u,p,b){var S=$s();b=b===void 0?null:b;var T=void 0;if(Zn!==null){var z=Zn.memoizedState;if(T=z.destroy,b!==null&&ev(b,z.deps)){S.memoizedState=em(u,p,T,b);return}}bn.flags|=l,S.memoizedState=em(1|u,p,T,b)}function gE(l,u){return Up(8390656,8,l,u)}function iv(l,u){return zp(2048,8,l,u)}function xE(l,u){return zp(4,2,l,u)}function yE(l,u){return zp(4,4,l,u)}function vE(l,u){if(typeof u=="function")return l=l(),u(l),function(){u(null)};if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function bE(l,u,p){return p=p!=null?p.concat([l]):null,zp(4,4,vE.bind(null,u,l),p)}function av(){}function wE(l,u){var p=$s();u=u===void 0?null:u;var b=p.memoizedState;return b!==null&&u!==null&&ev(u,b[1])?b[0]:(p.memoizedState=[l,u],l)}function jE(l,u){var p=$s();u=u===void 0?null:u;var b=p.memoizedState;return b!==null&&u!==null&&ev(u,b[1])?b[0]:(l=l(),p.memoizedState=[l,u],l)}function _E(l,u,p){return(mc&21)===0?(l.baseState&&(l.baseState=!1,ts=!0),l.memoizedState=p):(di(p,u)||(p=Eh(),bn.lanes|=p,fc|=p,l.baseState=!0),u)}function rU(l,u){var p=Ot;Ot=p!==0&&4>p?p:4,l(!0);var b=Z0.transition;Z0.transition={};try{l(!1),u()}finally{Ot=p,Z0.transition=b}}function NE(){return $s().memoizedState}function sU(l,u,p){var b=Bo(l);if(p={lane:b,action:p,hasEagerState:!1,eagerState:null,next:null},SE(l))EE(u,p);else if(p=nE(l,u,p,b),p!==null){var S=zr();gi(p,l,b,S),CE(p,u,b)}}function iU(l,u,p){var b=Bo(l),S={lane:b,action:p,hasEagerState:!1,eagerState:null,next:null};if(SE(l))EE(u,S);else{var T=l.alternate;if(l.lanes===0&&(T===null||T.lanes===0)&&(T=u.lastRenderedReducer,T!==null))try{var z=u.lastRenderedState,K=T(z,p);if(S.hasEagerState=!0,S.eagerState=K,di(K,z)){var X=u.interleaved;X===null?(S.next=S,K0(u)):(S.next=X.next,X.next=S),u.interleaved=S;return}}catch{}finally{}p=nE(l,u,S,b),p!==null&&(S=zr(),gi(p,l,b,S),CE(p,u,b))}}function SE(l){var u=l.alternate;return l===bn||u!==null&&u===bn}function EE(l,u){Jh=Vp=!0;var p=l.pending;p===null?u.next=u:(u.next=p.next,p.next=u),l.pending=u}function CE(l,u,p){if((p&4194240)!==0){var b=u.lanes;b&=l.pendingLanes,p|=b,u.lanes=p,kh(l,p)}}var Bp={readContext:Bs,useCallback:Cr,useContext:Cr,useEffect:Cr,useImperativeHandle:Cr,useInsertionEffect:Cr,useLayoutEffect:Cr,useMemo:Cr,useReducer:Cr,useRef:Cr,useState:Cr,useDebugValue:Cr,useDeferredValue:Cr,useTransition:Cr,useMutableSource:Cr,useSyncExternalStore:Cr,useId:Cr,unstable_isNewReconciler:!1},aU={readContext:Bs,useCallback:function(l,u){return Qi().memoizedState=[l,u===void 0?null:u],l},useContext:Bs,useEffect:gE,useImperativeHandle:function(l,u,p){return p=p!=null?p.concat([l]):null,Up(4194308,4,vE.bind(null,u,l),p)},useLayoutEffect:function(l,u){return Up(4194308,4,l,u)},useInsertionEffect:function(l,u){return Up(4,2,l,u)},useMemo:function(l,u){var p=Qi();return u=u===void 0?null:u,l=l(),p.memoizedState=[l,u],l},useReducer:function(l,u,p){var b=Qi();return u=p!==void 0?p(u):u,b.memoizedState=b.baseState=u,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:u},b.queue=l,l=l.dispatch=sU.bind(null,bn,l),[b.memoizedState,l]},useRef:function(l){var u=Qi();return l={current:l},u.memoizedState=l},useState:fE,useDebugValue:av,useDeferredValue:function(l){return Qi().memoizedState=l},useTransition:function(){var l=fE(!1),u=l[0];return l=rU.bind(null,l[1]),Qi().memoizedState=l,[u,l]},useMutableSource:function(){},useSyncExternalStore:function(l,u,p){var b=bn,S=Qi();if(pn){if(p===void 0)throw Error(n(407));p=p()}else{if(p=u(),ar===null)throw Error(n(349));(mc&30)!==0||cE(b,u,p)}S.memoizedState=p;var T={value:p,getSnapshot:u};return S.queue=T,gE(dE.bind(null,b,T,l),[l]),b.flags|=2048,em(9,uE.bind(null,b,T,p,u),void 0,null),p},useId:function(){var l=Qi(),u=ar.identifierPrefix;if(pn){var p=Va,b=Fa;p=(b&~(1<<32-ws(b)-1)).toString(32)+p,u=":"+u+"R"+p,p=Xh++,0<p&&(u+="H"+p.toString(32)),u+=":"}else p=nU++,u=":"+u+"r"+p.toString(32)+":";return l.memoizedState=u},unstable_isNewReconciler:!1},oU={readContext:Bs,useCallback:wE,useContext:Bs,useEffect:iv,useImperativeHandle:bE,useInsertionEffect:xE,useLayoutEffect:yE,useMemo:jE,useReducer:rv,useRef:pE,useState:function(){return rv(Zh)},useDebugValue:av,useDeferredValue:function(l){var u=$s();return _E(u,Zn.memoizedState,l)},useTransition:function(){var l=rv(Zh)[0],u=$s().memoizedState;return[l,u]},useMutableSource:oE,useSyncExternalStore:lE,useId:NE,unstable_isNewReconciler:!1},lU={readContext:Bs,useCallback:wE,useContext:Bs,useEffect:iv,useImperativeHandle:bE,useInsertionEffect:xE,useLayoutEffect:yE,useMemo:jE,useReducer:sv,useRef:pE,useState:function(){return sv(Zh)},useDebugValue:av,useDeferredValue:function(l){var u=$s();return Zn===null?u.memoizedState=l:_E(u,Zn.memoizedState,l)},useTransition:function(){var l=sv(Zh)[0],u=$s().memoizedState;return[l,u]},useMutableSource:oE,useSyncExternalStore:lE,useId:NE,unstable_isNewReconciler:!1};function mi(l,u){if(l&&l.defaultProps){u=B({},u),l=l.defaultProps;for(var p in l)u[p]===void 0&&(u[p]=l[p]);return u}return u}function ov(l,u,p,b){u=l.memoizedState,p=p(b,u),p=p==null?u:B({},u,p),l.memoizedState=p,l.lanes===0&&(l.updateQueue.baseState=p)}var $p={isMounted:function(l){return(l=l._reactInternals)?Nr(l)===l:!1},enqueueSetState:function(l,u,p){l=l._reactInternals;var b=zr(),S=Bo(l),T=za(b,S);T.payload=u,p!=null&&(T.callback=p),u=Fo(l,T,S),u!==null&&(gi(u,l,S,b),Mp(u,l,S))},enqueueReplaceState:function(l,u,p){l=l._reactInternals;var b=zr(),S=Bo(l),T=za(b,S);T.tag=1,T.payload=u,p!=null&&(T.callback=p),u=Fo(l,T,S),u!==null&&(gi(u,l,S,b),Mp(u,l,S))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var p=zr(),b=Bo(l),S=za(p,b);S.tag=2,u!=null&&(S.callback=u),u=Fo(l,S,b),u!==null&&(gi(u,l,b,p),Mp(u,l,b))}};function kE(l,u,p,b,S,T,z){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(b,T,z):u.prototype&&u.prototype.isPureReactComponent?!Uh(p,b)||!Uh(S,T):!0}function TE(l,u,p){var b=!1,S=Mo,T=u.contextType;return typeof T=="object"&&T!==null?T=Bs(T):(S=es(u)?lc:Er.current,b=u.contextTypes,T=(b=b!=null)?Du(l,S):Mo),u=new u(p,T),l.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=$p,l.stateNode=u,u._reactInternals=l,b&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=S,l.__reactInternalMemoizedMaskedChildContext=T),u}function AE(l,u,p,b){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(p,b),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(p,b),u.state!==l&&$p.enqueueReplaceState(u,u.state,null)}function lv(l,u,p,b){var S=l.stateNode;S.props=p,S.state=l.memoizedState,S.refs={},G0(l);var T=u.contextType;typeof T=="object"&&T!==null?S.context=Bs(T):(T=es(u)?lc:Er.current,S.context=Du(l,T)),S.state=l.memoizedState,T=u.getDerivedStateFromProps,typeof T=="function"&&(ov(l,u,T,p),S.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(u=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),u!==S.state&&$p.enqueueReplaceState(S,S.state,null),Op(l,p,S,b),S.state=l.memoizedState),typeof S.componentDidMount=="function"&&(l.flags|=4194308)}function Bu(l,u){try{var p="",b=u;do p+=we(b),b=b.return;while(b);var S=p}catch(T){S=`
Error generating stack: `+T.message+`
`+T.stack}return{value:l,source:u,stack:S,digest:null}}function cv(l,u,p){return{value:l,source:null,stack:p??null,digest:u??null}}function uv(l,u){try{console.error(u.value)}catch(p){setTimeout(function(){throw p})}}var cU=typeof WeakMap=="function"?WeakMap:Map;function IE(l,u,p){p=za(-1,p),p.tag=3,p.payload={element:null};var b=u.value;return p.callback=function(){Yp||(Yp=!0,Sv=b),uv(l,u)},p}function RE(l,u,p){p=za(-1,p),p.tag=3;var b=l.type.getDerivedStateFromError;if(typeof b=="function"){var S=u.value;p.payload=function(){return b(S)},p.callback=function(){uv(l,u)}}var T=l.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(p.callback=function(){uv(l,u),typeof b!="function"&&(Uo===null?Uo=new Set([this]):Uo.add(this));var z=u.stack;this.componentDidCatch(u.value,{componentStack:z!==null?z:""})}),p}function PE(l,u,p){var b=l.pingCache;if(b===null){b=l.pingCache=new cU;var S=new Set;b.set(u,S)}else S=b.get(u),S===void 0&&(S=new Set,b.set(u,S));S.has(p)||(S.add(p),l=_U.bind(null,l,u,p),u.then(l,l))}function DE(l){do{var u;if((u=l.tag===13)&&(u=l.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return l;l=l.return}while(l!==null);return null}function ME(l,u,p,b,S){return(l.mode&1)===0?(l===u?l.flags|=65536:(l.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(u=za(-1,1),u.tag=2,Fo(p,u,1))),p.lanes|=1),l):(l.flags|=65536,l.lanes=S,l)}var uU=C.ReactCurrentOwner,ts=!1;function Ur(l,u,p,b){u.child=l===null?tE(u,null,p,b):Fu(u,l.child,p,b)}function OE(l,u,p,b,S){p=p.render;var T=u.ref;return Uu(u,S),b=tv(l,u,p,b,T,S),p=nv(),l!==null&&!ts?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~S,Ba(l,u,S)):(pn&&p&&F0(u),u.flags|=1,Ur(l,u,b,S),u.child)}function LE(l,u,p,b,S){if(l===null){var T=p.type;return typeof T=="function"&&!Rv(T)&&T.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(u.tag=15,u.type=T,FE(l,u,T,b,S)):(l=ng(p.type,null,b,u,u.mode,S),l.ref=u.ref,l.return=u,u.child=l)}if(T=l.child,(l.lanes&S)===0){var z=T.memoizedProps;if(p=p.compare,p=p!==null?p:Uh,p(z,b)&&l.ref===u.ref)return Ba(l,u,S)}return u.flags|=1,l=qo(T,b),l.ref=u.ref,l.return=u,u.child=l}function FE(l,u,p,b,S){if(l!==null){var T=l.memoizedProps;if(Uh(T,b)&&l.ref===u.ref)if(ts=!1,u.pendingProps=b=T,(l.lanes&S)!==0)(l.flags&131072)!==0&&(ts=!0);else return u.lanes=l.lanes,Ba(l,u,S)}return dv(l,u,p,b,S)}function VE(l,u,p){var b=u.pendingProps,S=b.children,T=l!==null?l.memoizedState:null;if(b.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},an(qu,ks),ks|=p;else{if((p&1073741824)===0)return l=T!==null?T.baseLanes|p:p,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:l,cachePool:null,transitions:null},u.updateQueue=null,an(qu,ks),ks|=l,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},b=T!==null?T.baseLanes:p,an(qu,ks),ks|=b}else T!==null?(b=T.baseLanes|p,u.memoizedState=null):b=p,an(qu,ks),ks|=b;return Ur(l,u,S,p),u.child}function UE(l,u){var p=u.ref;(l===null&&p!==null||l!==null&&l.ref!==p)&&(u.flags|=512,u.flags|=2097152)}function dv(l,u,p,b,S){var T=es(p)?lc:Er.current;return T=Du(u,T),Uu(u,S),p=tv(l,u,p,b,T,S),b=nv(),l!==null&&!ts?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~S,Ba(l,u,S)):(pn&&b&&F0(u),u.flags|=1,Ur(l,u,p,S),u.child)}function zE(l,u,p,b,S){if(es(p)){var T=!0;Cp(u)}else T=!1;if(Uu(u,S),u.stateNode===null)Hp(l,u),TE(u,p,b),lv(u,p,b,S),b=!0;else if(l===null){var z=u.stateNode,K=u.memoizedProps;z.props=K;var X=z.context,ue=p.contextType;typeof ue=="object"&&ue!==null?ue=Bs(ue):(ue=es(p)?lc:Er.current,ue=Du(u,ue));var je=p.getDerivedStateFromProps,Ne=typeof je=="function"||typeof z.getSnapshotBeforeUpdate=="function";Ne||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(K!==b||X!==ue)&&AE(u,z,b,ue),Lo=!1;var be=u.memoizedState;z.state=be,Op(u,b,z,S),X=u.memoizedState,K!==b||be!==X||Zr.current||Lo?(typeof je=="function"&&(ov(u,p,je,b),X=u.memoizedState),(K=Lo||kE(u,p,K,b,be,X,ue))?(Ne||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount()),typeof z.componentDidMount=="function"&&(u.flags|=4194308)):(typeof z.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=b,u.memoizedState=X),z.props=b,z.state=X,z.context=ue,b=K):(typeof z.componentDidMount=="function"&&(u.flags|=4194308),b=!1)}else{z=u.stateNode,rE(l,u),K=u.memoizedProps,ue=u.type===u.elementType?K:mi(u.type,K),z.props=ue,Ne=u.pendingProps,be=z.context,X=p.contextType,typeof X=="object"&&X!==null?X=Bs(X):(X=es(p)?lc:Er.current,X=Du(u,X));var Ue=p.getDerivedStateFromProps;(je=typeof Ue=="function"||typeof z.getSnapshotBeforeUpdate=="function")||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(K!==Ne||be!==X)&&AE(u,z,b,X),Lo=!1,be=u.memoizedState,z.state=be,Op(u,b,z,S);var We=u.memoizedState;K!==Ne||be!==We||Zr.current||Lo?(typeof Ue=="function"&&(ov(u,p,Ue,b),We=u.memoizedState),(ue=Lo||kE(u,p,ue,b,be,We,X)||!1)?(je||typeof z.UNSAFE_componentWillUpdate!="function"&&typeof z.componentWillUpdate!="function"||(typeof z.componentWillUpdate=="function"&&z.componentWillUpdate(b,We,X),typeof z.UNSAFE_componentWillUpdate=="function"&&z.UNSAFE_componentWillUpdate(b,We,X)),typeof z.componentDidUpdate=="function"&&(u.flags|=4),typeof z.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof z.componentDidUpdate!="function"||K===l.memoizedProps&&be===l.memoizedState||(u.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||K===l.memoizedProps&&be===l.memoizedState||(u.flags|=1024),u.memoizedProps=b,u.memoizedState=We),z.props=b,z.state=We,z.context=X,b=ue):(typeof z.componentDidUpdate!="function"||K===l.memoizedProps&&be===l.memoizedState||(u.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||K===l.memoizedProps&&be===l.memoizedState||(u.flags|=1024),b=!1)}return hv(l,u,p,b,T,S)}function hv(l,u,p,b,S,T){UE(l,u);var z=(u.flags&128)!==0;if(!b&&!z)return S&&WS(u,p,!1),Ba(l,u,T);b=u.stateNode,uU.current=u;var K=z&&typeof p.getDerivedStateFromError!="function"?null:b.render();return u.flags|=1,l!==null&&z?(u.child=Fu(u,l.child,null,T),u.child=Fu(u,null,K,T)):Ur(l,u,K,T),u.memoizedState=b.state,S&&WS(u,p,!0),u.child}function BE(l){var u=l.stateNode;u.pendingContext?qS(l,u.pendingContext,u.pendingContext!==u.context):u.context&&qS(l,u.context,!1),Q0(l,u.containerInfo)}function $E(l,u,p,b,S){return Lu(),B0(S),u.flags|=256,Ur(l,u,p,b),u.child}var mv={dehydrated:null,treeContext:null,retryLane:0};function fv(l){return{baseLanes:l,cachePool:null,transitions:null}}function qE(l,u,p){var b=u.pendingProps,S=vn.current,T=!1,z=(u.flags&128)!==0,K;if((K=z)||(K=l!==null&&l.memoizedState===null?!1:(S&2)!==0),K?(T=!0,u.flags&=-129):(l===null||l.memoizedState!==null)&&(S|=1),an(vn,S&1),l===null)return z0(u),l=u.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((u.mode&1)===0?u.lanes=1:l.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(z=b.children,l=b.fallback,T?(b=u.mode,T=u.child,z={mode:"hidden",children:z},(b&1)===0&&T!==null?(T.childLanes=0,T.pendingProps=z):T=rg(z,b,0,null),l=yc(l,b,p,null),T.return=u,l.return=u,T.sibling=l,u.child=T,u.child.memoizedState=fv(p),u.memoizedState=mv,l):pv(u,z));if(S=l.memoizedState,S!==null&&(K=S.dehydrated,K!==null))return dU(l,u,z,b,K,S,p);if(T){T=b.fallback,z=u.mode,S=l.child,K=S.sibling;var X={mode:"hidden",children:b.children};return(z&1)===0&&u.child!==S?(b=u.child,b.childLanes=0,b.pendingProps=X,u.deletions=null):(b=qo(S,X),b.subtreeFlags=S.subtreeFlags&14680064),K!==null?T=qo(K,T):(T=yc(T,z,p,null),T.flags|=2),T.return=u,b.return=u,b.sibling=T,u.child=b,b=T,T=u.child,z=l.child.memoizedState,z=z===null?fv(p):{baseLanes:z.baseLanes|p,cachePool:null,transitions:z.transitions},T.memoizedState=z,T.childLanes=l.childLanes&~p,u.memoizedState=mv,b}return T=l.child,l=T.sibling,b=qo(T,{mode:"visible",children:b.children}),(u.mode&1)===0&&(b.lanes=p),b.return=u,b.sibling=null,l!==null&&(p=u.deletions,p===null?(u.deletions=[l],u.flags|=16):p.push(l)),u.child=b,u.memoizedState=null,b}function pv(l,u){return u=rg({mode:"visible",children:u},l.mode,0,null),u.return=l,l.child=u}function qp(l,u,p,b){return b!==null&&B0(b),Fu(u,l.child,null,p),l=pv(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function dU(l,u,p,b,S,T,z){if(p)return u.flags&256?(u.flags&=-257,b=cv(Error(n(422))),qp(l,u,z,b)):u.memoizedState!==null?(u.child=l.child,u.flags|=128,null):(T=b.fallback,S=u.mode,b=rg({mode:"visible",children:b.children},S,0,null),T=yc(T,S,z,null),T.flags|=2,b.return=u,T.return=u,b.sibling=T,u.child=b,(u.mode&1)!==0&&Fu(u,l.child,null,z),u.child.memoizedState=fv(z),u.memoizedState=mv,T);if((u.mode&1)===0)return qp(l,u,z,null);if(S.data==="$!"){if(b=S.nextSibling&&S.nextSibling.dataset,b)var K=b.dgst;return b=K,T=Error(n(419)),b=cv(T,b,void 0),qp(l,u,z,b)}if(K=(z&l.childLanes)!==0,ts||K){if(b=ar,b!==null){switch(z&-z){case 4:S=2;break;case 16:S=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:S=32;break;case 536870912:S=268435456;break;default:S=0}S=(S&(b.suspendedLanes|z))!==0?0:S,S!==0&&S!==T.retryLane&&(T.retryLane=S,Ua(l,S),gi(b,l,S,-1))}return Iv(),b=cv(Error(n(421))),qp(l,u,z,b)}return S.data==="$?"?(u.flags|=128,u.child=l.child,u=NU.bind(null,l),S._reactRetry=u,null):(l=T.treeContext,Cs=Po(S.nextSibling),Es=u,pn=!0,hi=null,l!==null&&(Us[zs++]=Fa,Us[zs++]=Va,Us[zs++]=cc,Fa=l.id,Va=l.overflow,cc=u),u=pv(u,b.children),u.flags|=4096,u)}function HE(l,u,p){l.lanes|=u;var b=l.alternate;b!==null&&(b.lanes|=u),W0(l.return,u,p)}function gv(l,u,p,b,S){var T=l.memoizedState;T===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:b,tail:p,tailMode:S}:(T.isBackwards=u,T.rendering=null,T.renderingStartTime=0,T.last=b,T.tail=p,T.tailMode=S)}function WE(l,u,p){var b=u.pendingProps,S=b.revealOrder,T=b.tail;if(Ur(l,u,b.children,p),b=vn.current,(b&2)!==0)b=b&1|2,u.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&HE(l,p,u);else if(l.tag===19)HE(l,p,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}b&=1}if(an(vn,b),(u.mode&1)===0)u.memoizedState=null;else switch(S){case"forwards":for(p=u.child,S=null;p!==null;)l=p.alternate,l!==null&&Lp(l)===null&&(S=p),p=p.sibling;p=S,p===null?(S=u.child,u.child=null):(S=p.sibling,p.sibling=null),gv(u,!1,S,p,T);break;case"backwards":for(p=null,S=u.child,u.child=null;S!==null;){if(l=S.alternate,l!==null&&Lp(l)===null){u.child=S;break}l=S.sibling,S.sibling=p,p=S,S=l}gv(u,!0,p,null,T);break;case"together":gv(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Hp(l,u){(u.mode&1)===0&&l!==null&&(l.alternate=null,u.alternate=null,u.flags|=2)}function Ba(l,u,p){if(l!==null&&(u.dependencies=l.dependencies),fc|=u.lanes,(p&u.childLanes)===0)return null;if(l!==null&&u.child!==l.child)throw Error(n(153));if(u.child!==null){for(l=u.child,p=qo(l,l.pendingProps),u.child=p,p.return=u;l.sibling!==null;)l=l.sibling,p=p.sibling=qo(l,l.pendingProps),p.return=u;p.sibling=null}return u.child}function hU(l,u,p){switch(u.tag){case 3:BE(u),Lu();break;case 5:aE(u);break;case 1:es(u.type)&&Cp(u);break;case 4:Q0(u,u.stateNode.containerInfo);break;case 10:var b=u.type._context,S=u.memoizedProps.value;an(Pp,b._currentValue),b._currentValue=S;break;case 13:if(b=u.memoizedState,b!==null)return b.dehydrated!==null?(an(vn,vn.current&1),u.flags|=128,null):(p&u.child.childLanes)!==0?qE(l,u,p):(an(vn,vn.current&1),l=Ba(l,u,p),l!==null?l.sibling:null);an(vn,vn.current&1);break;case 19:if(b=(p&u.childLanes)!==0,(l.flags&128)!==0){if(b)return WE(l,u,p);u.flags|=128}if(S=u.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),an(vn,vn.current),b)break;return null;case 22:case 23:return u.lanes=0,VE(l,u,p)}return Ba(l,u,p)}var KE,xv,GE,QE;KE=function(l,u){for(var p=u.child;p!==null;){if(p.tag===5||p.tag===6)l.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===u)break;for(;p.sibling===null;){if(p.return===null||p.return===u)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},xv=function(){},GE=function(l,u,p,b){var S=l.memoizedProps;if(S!==b){l=u.stateNode,hc(Gi.current);var T=null;switch(p){case"input":S=kn(l,S),b=kn(l,b),T=[];break;case"select":S=B({},S,{value:void 0}),b=B({},b,{value:void 0}),T=[];break;case"textarea":S=Ca(l,S),b=Ca(l,b),T=[];break;default:typeof S.onClick!="function"&&typeof b.onClick=="function"&&(l.onclick=Np)}gt(p,b);var z;p=null;for(ue in S)if(!b.hasOwnProperty(ue)&&S.hasOwnProperty(ue)&&S[ue]!=null)if(ue==="style"){var K=S[ue];for(z in K)K.hasOwnProperty(z)&&(p||(p={}),p[z]="")}else ue!=="dangerouslySetInnerHTML"&&ue!=="children"&&ue!=="suppressContentEditableWarning"&&ue!=="suppressHydrationWarning"&&ue!=="autoFocus"&&(i.hasOwnProperty(ue)?T||(T=[]):(T=T||[]).push(ue,null));for(ue in b){var X=b[ue];if(K=S!=null?S[ue]:void 0,b.hasOwnProperty(ue)&&X!==K&&(X!=null||K!=null))if(ue==="style")if(K){for(z in K)!K.hasOwnProperty(z)||X&&X.hasOwnProperty(z)||(p||(p={}),p[z]="");for(z in X)X.hasOwnProperty(z)&&K[z]!==X[z]&&(p||(p={}),p[z]=X[z])}else p||(T||(T=[]),T.push(ue,p)),p=X;else ue==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,K=K?K.__html:void 0,X!=null&&K!==X&&(T=T||[]).push(ue,X)):ue==="children"?typeof X!="string"&&typeof X!="number"||(T=T||[]).push(ue,""+X):ue!=="suppressContentEditableWarning"&&ue!=="suppressHydrationWarning"&&(i.hasOwnProperty(ue)?(X!=null&&ue==="onScroll"&&hn("scroll",l),T||K===X||(T=[])):(T=T||[]).push(ue,X))}p&&(T=T||[]).push("style",p);var ue=T;(u.updateQueue=ue)&&(u.flags|=4)}},QE=function(l,u,p,b){p!==b&&(u.flags|=4)};function tm(l,u){if(!pn)switch(l.tailMode){case"hidden":u=l.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?l.tail=null:p.sibling=null;break;case"collapsed":p=l.tail;for(var b=null;p!==null;)p.alternate!==null&&(b=p),p=p.sibling;b===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:b.sibling=null}}function kr(l){var u=l.alternate!==null&&l.alternate.child===l.child,p=0,b=0;if(u)for(var S=l.child;S!==null;)p|=S.lanes|S.childLanes,b|=S.subtreeFlags&14680064,b|=S.flags&14680064,S.return=l,S=S.sibling;else for(S=l.child;S!==null;)p|=S.lanes|S.childLanes,b|=S.subtreeFlags,b|=S.flags,S.return=l,S=S.sibling;return l.subtreeFlags|=b,l.childLanes=p,u}function mU(l,u,p){var b=u.pendingProps;switch(V0(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kr(u),null;case 1:return es(u.type)&&Ep(),kr(u),null;case 3:return b=u.stateNode,zu(),mn(Zr),mn(Er),X0(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(l===null||l.child===null)&&(Ip(u)?u.flags|=4:l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,hi!==null&&(kv(hi),hi=null))),xv(l,u),kr(u),null;case 5:Y0(u);var S=hc(Yh.current);if(p=u.type,l!==null&&u.stateNode!=null)GE(l,u,p,b,S),l.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!b){if(u.stateNode===null)throw Error(n(166));return kr(u),null}if(l=hc(Gi.current),Ip(u)){b=u.stateNode,p=u.type;var T=u.memoizedProps;switch(b[Ki]=u,b[Hh]=T,l=(u.mode&1)!==0,p){case"dialog":hn("cancel",b),hn("close",b);break;case"iframe":case"object":case"embed":hn("load",b);break;case"video":case"audio":for(S=0;S<Bh.length;S++)hn(Bh[S],b);break;case"source":hn("error",b);break;case"img":case"image":case"link":hn("error",b),hn("load",b);break;case"details":hn("toggle",b);break;case"input":wr(b,T),hn("invalid",b);break;case"select":b._wrapperState={wasMultiple:!!T.multiple},hn("invalid",b);break;case"textarea":Ii(b,T),hn("invalid",b)}gt(p,T),S=null;for(var z in T)if(T.hasOwnProperty(z)){var K=T[z];z==="children"?typeof K=="string"?b.textContent!==K&&(T.suppressHydrationWarning!==!0&&_p(b.textContent,K,l),S=["children",K]):typeof K=="number"&&b.textContent!==""+K&&(T.suppressHydrationWarning!==!0&&_p(b.textContent,K,l),S=["children",""+K]):i.hasOwnProperty(z)&&K!=null&&z==="onScroll"&&hn("scroll",b)}switch(p){case"input":qe(b),xs(b,T,!0);break;case"textarea":qe(b),Fs(b);break;case"select":case"option":break;default:typeof T.onClick=="function"&&(b.onclick=Np)}b=S,u.updateQueue=b,b!==null&&(u.flags|=4)}else{z=S.nodeType===9?S:S.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=pe(p)),l==="http://www.w3.org/1999/xhtml"?p==="script"?(l=z.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof b.is=="string"?l=z.createElement(p,{is:b.is}):(l=z.createElement(p),p==="select"&&(z=l,b.multiple?z.multiple=!0:b.size&&(z.size=b.size))):l=z.createElementNS(l,p),l[Ki]=u,l[Hh]=b,KE(l,u,!1,!1),u.stateNode=l;e:{switch(z=ut(p,b),p){case"dialog":hn("cancel",l),hn("close",l),S=b;break;case"iframe":case"object":case"embed":hn("load",l),S=b;break;case"video":case"audio":for(S=0;S<Bh.length;S++)hn(Bh[S],l);S=b;break;case"source":hn("error",l),S=b;break;case"img":case"image":case"link":hn("error",l),hn("load",l),S=b;break;case"details":hn("toggle",l),S=b;break;case"input":wr(l,b),S=kn(l,b),hn("invalid",l);break;case"option":S=b;break;case"select":l._wrapperState={wasMultiple:!!b.multiple},S=B({},b,{value:void 0}),hn("invalid",l);break;case"textarea":Ii(l,b),S=Ca(l,b),hn("invalid",l);break;default:S=b}gt(p,S),K=S;for(T in K)if(K.hasOwnProperty(T)){var X=K[T];T==="style"?et(l,X):T==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,X!=null&&bt(l,X)):T==="children"?typeof X=="string"?(p!=="textarea"||X!=="")&&kt(l,X):typeof X=="number"&&kt(l,""+X):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(i.hasOwnProperty(T)?X!=null&&T==="onScroll"&&hn("scroll",l):X!=null&&k(l,T,X,z))}switch(p){case"input":qe(l),xs(l,b,!1);break;case"textarea":qe(l),Fs(l);break;case"option":b.value!=null&&l.setAttribute("value",""+Se(b.value));break;case"select":l.multiple=!!b.multiple,T=b.value,T!=null?Or(l,!!b.multiple,T,!1):b.defaultValue!=null&&Or(l,!!b.multiple,b.defaultValue,!0);break;default:typeof S.onClick=="function"&&(l.onclick=Np)}switch(p){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}}b&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return kr(u),null;case 6:if(l&&u.stateNode!=null)QE(l,u,l.memoizedProps,b);else{if(typeof b!="string"&&u.stateNode===null)throw Error(n(166));if(p=hc(Yh.current),hc(Gi.current),Ip(u)){if(b=u.stateNode,p=u.memoizedProps,b[Ki]=u,(T=b.nodeValue!==p)&&(l=Es,l!==null))switch(l.tag){case 3:_p(b.nodeValue,p,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&_p(b.nodeValue,p,(l.mode&1)!==0)}T&&(u.flags|=4)}else b=(p.nodeType===9?p:p.ownerDocument).createTextNode(b),b[Ki]=u,u.stateNode=b}return kr(u),null;case 13:if(mn(vn),b=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(pn&&Cs!==null&&(u.mode&1)!==0&&(u.flags&128)===0)XS(),Lu(),u.flags|=98560,T=!1;else if(T=Ip(u),b!==null&&b.dehydrated!==null){if(l===null){if(!T)throw Error(n(318));if(T=u.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(n(317));T[Ki]=u}else Lu(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;kr(u),T=!1}else hi!==null&&(kv(hi),hi=null),T=!0;if(!T)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=p,u):(b=b!==null,b!==(l!==null&&l.memoizedState!==null)&&b&&(u.child.flags|=8192,(u.mode&1)!==0&&(l===null||(vn.current&1)!==0?er===0&&(er=3):Iv())),u.updateQueue!==null&&(u.flags|=4),kr(u),null);case 4:return zu(),xv(l,u),l===null&&$h(u.stateNode.containerInfo),kr(u),null;case 10:return H0(u.type._context),kr(u),null;case 17:return es(u.type)&&Ep(),kr(u),null;case 19:if(mn(vn),T=u.memoizedState,T===null)return kr(u),null;if(b=(u.flags&128)!==0,z=T.rendering,z===null)if(b)tm(T,!1);else{if(er!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if(z=Lp(l),z!==null){for(u.flags|=128,tm(T,!1),b=z.updateQueue,b!==null&&(u.updateQueue=b,u.flags|=4),u.subtreeFlags=0,b=p,p=u.child;p!==null;)T=p,l=b,T.flags&=14680066,z=T.alternate,z===null?(T.childLanes=0,T.lanes=l,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=z.childLanes,T.lanes=z.lanes,T.child=z.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=z.memoizedProps,T.memoizedState=z.memoizedState,T.updateQueue=z.updateQueue,T.type=z.type,l=z.dependencies,T.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),p=p.sibling;return an(vn,vn.current&1|2),u.child}l=l.sibling}T.tail!==null&&dn()>Hu&&(u.flags|=128,b=!0,tm(T,!1),u.lanes=4194304)}else{if(!b)if(l=Lp(z),l!==null){if(u.flags|=128,b=!0,p=l.updateQueue,p!==null&&(u.updateQueue=p,u.flags|=4),tm(T,!0),T.tail===null&&T.tailMode==="hidden"&&!z.alternate&&!pn)return kr(u),null}else 2*dn()-T.renderingStartTime>Hu&&p!==1073741824&&(u.flags|=128,b=!0,tm(T,!1),u.lanes=4194304);T.isBackwards?(z.sibling=u.child,u.child=z):(p=T.last,p!==null?p.sibling=z:u.child=z,T.last=z)}return T.tail!==null?(u=T.tail,T.rendering=u,T.tail=u.sibling,T.renderingStartTime=dn(),u.sibling=null,p=vn.current,an(vn,b?p&1|2:p&1),u):(kr(u),null);case 22:case 23:return Av(),b=u.memoizedState!==null,l!==null&&l.memoizedState!==null!==b&&(u.flags|=8192),b&&(u.mode&1)!==0?(ks&1073741824)!==0&&(kr(u),u.subtreeFlags&6&&(u.flags|=8192)):kr(u),null;case 24:return null;case 25:return null}throw Error(n(156,u.tag))}function fU(l,u){switch(V0(u),u.tag){case 1:return es(u.type)&&Ep(),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return zu(),mn(Zr),mn(Er),X0(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 5:return Y0(u),null;case 13:if(mn(vn),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(n(340));Lu()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return mn(vn),null;case 4:return zu(),null;case 10:return H0(u.type._context),null;case 22:case 23:return Av(),null;case 24:return null;default:return null}}var Wp=!1,Tr=!1,pU=typeof WeakSet=="function"?WeakSet:Set,$e=null;function $u(l,u){var p=l.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(b){Tn(l,u,b)}else p.current=null}function yv(l,u,p){try{p()}catch(b){Tn(l,u,b)}}var YE=!1;function gU(l,u){if(A0=Pa,l=kS(),j0(l)){if("selectionStart"in l)var p={start:l.selectionStart,end:l.selectionEnd};else e:{p=(p=l.ownerDocument)&&p.defaultView||window;var b=p.getSelection&&p.getSelection();if(b&&b.rangeCount!==0){p=b.anchorNode;var S=b.anchorOffset,T=b.focusNode;b=b.focusOffset;try{p.nodeType,T.nodeType}catch{p=null;break e}var z=0,K=-1,X=-1,ue=0,je=0,Ne=l,be=null;t:for(;;){for(var Ue;Ne!==p||S!==0&&Ne.nodeType!==3||(K=z+S),Ne!==T||b!==0&&Ne.nodeType!==3||(X=z+b),Ne.nodeType===3&&(z+=Ne.nodeValue.length),(Ue=Ne.firstChild)!==null;)be=Ne,Ne=Ue;for(;;){if(Ne===l)break t;if(be===p&&++ue===S&&(K=z),be===T&&++je===b&&(X=z),(Ue=Ne.nextSibling)!==null)break;Ne=be,be=Ne.parentNode}Ne=Ue}p=K===-1||X===-1?null:{start:K,end:X}}else p=null}p=p||{start:0,end:0}}else p=null;for(I0={focusedElem:l,selectionRange:p},Pa=!1,$e=u;$e!==null;)if(u=$e,l=u.child,(u.subtreeFlags&1028)!==0&&l!==null)l.return=u,$e=l;else for(;$e!==null;){u=$e;try{var We=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(We!==null){var Qe=We.memoizedProps,On=We.memoizedState,oe=u.stateNode,Z=oe.getSnapshotBeforeUpdate(u.elementType===u.type?Qe:mi(u.type,Qe),On);oe.__reactInternalSnapshotBeforeUpdate=Z}break;case 3:var ce=u.stateNode.containerInfo;ce.nodeType===1?ce.textContent="":ce.nodeType===9&&ce.documentElement&&ce.removeChild(ce.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Ae){Tn(u,u.return,Ae)}if(l=u.sibling,l!==null){l.return=u.return,$e=l;break}$e=u.return}return We=YE,YE=!1,We}function nm(l,u,p){var b=u.updateQueue;if(b=b!==null?b.lastEffect:null,b!==null){var S=b=b.next;do{if((S.tag&l)===l){var T=S.destroy;S.destroy=void 0,T!==void 0&&yv(u,p,T)}S=S.next}while(S!==b)}}function Kp(l,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var p=u=u.next;do{if((p.tag&l)===l){var b=p.create;p.destroy=b()}p=p.next}while(p!==u)}}function vv(l){var u=l.ref;if(u!==null){var p=l.stateNode;switch(l.tag){case 5:l=p;break;default:l=p}typeof u=="function"?u(l):u.current=l}}function JE(l){var u=l.alternate;u!==null&&(l.alternate=null,JE(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&(delete u[Ki],delete u[Hh],delete u[M0],delete u[XV],delete u[ZV])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function XE(l){return l.tag===5||l.tag===3||l.tag===4}function ZE(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||XE(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function bv(l,u,p){var b=l.tag;if(b===5||b===6)l=l.stateNode,u?p.nodeType===8?p.parentNode.insertBefore(l,u):p.insertBefore(l,u):(p.nodeType===8?(u=p.parentNode,u.insertBefore(l,p)):(u=p,u.appendChild(l)),p=p._reactRootContainer,p!=null||u.onclick!==null||(u.onclick=Np));else if(b!==4&&(l=l.child,l!==null))for(bv(l,u,p),l=l.sibling;l!==null;)bv(l,u,p),l=l.sibling}function wv(l,u,p){var b=l.tag;if(b===5||b===6)l=l.stateNode,u?p.insertBefore(l,u):p.appendChild(l);else if(b!==4&&(l=l.child,l!==null))for(wv(l,u,p),l=l.sibling;l!==null;)wv(l,u,p),l=l.sibling}var pr=null,fi=!1;function Vo(l,u,p){for(p=p.child;p!==null;)eC(l,u,p),p=p.sibling}function eC(l,u,p){if(bs&&typeof bs.onCommitFiberUnmount=="function")try{bs.onCommitFiberUnmount(Xl,p)}catch{}switch(p.tag){case 5:Tr||$u(p,u);case 6:var b=pr,S=fi;pr=null,Vo(l,u,p),pr=b,fi=S,pr!==null&&(fi?(l=pr,p=p.stateNode,l.nodeType===8?l.parentNode.removeChild(p):l.removeChild(p)):pr.removeChild(p.stateNode));break;case 18:pr!==null&&(fi?(l=pr,p=p.stateNode,l.nodeType===8?D0(l.parentNode,p):l.nodeType===1&&D0(l,p),To(l)):D0(pr,p.stateNode));break;case 4:b=pr,S=fi,pr=p.stateNode.containerInfo,fi=!0,Vo(l,u,p),pr=b,fi=S;break;case 0:case 11:case 14:case 15:if(!Tr&&(b=p.updateQueue,b!==null&&(b=b.lastEffect,b!==null))){S=b=b.next;do{var T=S,z=T.destroy;T=T.tag,z!==void 0&&((T&2)!==0||(T&4)!==0)&&yv(p,u,z),S=S.next}while(S!==b)}Vo(l,u,p);break;case 1:if(!Tr&&($u(p,u),b=p.stateNode,typeof b.componentWillUnmount=="function"))try{b.props=p.memoizedProps,b.state=p.memoizedState,b.componentWillUnmount()}catch(K){Tn(p,u,K)}Vo(l,u,p);break;case 21:Vo(l,u,p);break;case 22:p.mode&1?(Tr=(b=Tr)||p.memoizedState!==null,Vo(l,u,p),Tr=b):Vo(l,u,p);break;default:Vo(l,u,p)}}function tC(l){var u=l.updateQueue;if(u!==null){l.updateQueue=null;var p=l.stateNode;p===null&&(p=l.stateNode=new pU),u.forEach(function(b){var S=SU.bind(null,l,b);p.has(b)||(p.add(b),b.then(S,S))})}}function pi(l,u){var p=u.deletions;if(p!==null)for(var b=0;b<p.length;b++){var S=p[b];try{var T=l,z=u,K=z;e:for(;K!==null;){switch(K.tag){case 5:pr=K.stateNode,fi=!1;break e;case 3:pr=K.stateNode.containerInfo,fi=!0;break e;case 4:pr=K.stateNode.containerInfo,fi=!0;break e}K=K.return}if(pr===null)throw Error(n(160));eC(T,z,S),pr=null,fi=!1;var X=S.alternate;X!==null&&(X.return=null),S.return=null}catch(ue){Tn(S,u,ue)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)nC(u,l),u=u.sibling}function nC(l,u){var p=l.alternate,b=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(pi(u,l),Yi(l),b&4){try{nm(3,l,l.return),Kp(3,l)}catch(Qe){Tn(l,l.return,Qe)}try{nm(5,l,l.return)}catch(Qe){Tn(l,l.return,Qe)}}break;case 1:pi(u,l),Yi(l),b&512&&p!==null&&$u(p,p.return);break;case 5:if(pi(u,l),Yi(l),b&512&&p!==null&&$u(p,p.return),l.flags&32){var S=l.stateNode;try{kt(S,"")}catch(Qe){Tn(l,l.return,Qe)}}if(b&4&&(S=l.stateNode,S!=null)){var T=l.memoizedProps,z=p!==null?p.memoizedProps:T,K=l.type,X=l.updateQueue;if(l.updateQueue=null,X!==null)try{K==="input"&&T.type==="radio"&&T.name!=null&&Bn(S,T),ut(K,z);var ue=ut(K,T);for(z=0;z<X.length;z+=2){var je=X[z],Ne=X[z+1];je==="style"?et(S,Ne):je==="dangerouslySetInnerHTML"?bt(S,Ne):je==="children"?kt(S,Ne):k(S,je,Ne,ue)}switch(K){case"input":Jn(S,T);break;case"textarea":Ri(S,T);break;case"select":var be=S._wrapperState.wasMultiple;S._wrapperState.wasMultiple=!!T.multiple;var Ue=T.value;Ue!=null?Or(S,!!T.multiple,Ue,!1):be!==!!T.multiple&&(T.defaultValue!=null?Or(S,!!T.multiple,T.defaultValue,!0):Or(S,!!T.multiple,T.multiple?[]:"",!1))}S[Hh]=T}catch(Qe){Tn(l,l.return,Qe)}}break;case 6:if(pi(u,l),Yi(l),b&4){if(l.stateNode===null)throw Error(n(162));S=l.stateNode,T=l.memoizedProps;try{S.nodeValue=T}catch(Qe){Tn(l,l.return,Qe)}}break;case 3:if(pi(u,l),Yi(l),b&4&&p!==null&&p.memoizedState.isDehydrated)try{To(u.containerInfo)}catch(Qe){Tn(l,l.return,Qe)}break;case 4:pi(u,l),Yi(l);break;case 13:pi(u,l),Yi(l),S=l.child,S.flags&8192&&(T=S.memoizedState!==null,S.stateNode.isHidden=T,!T||S.alternate!==null&&S.alternate.memoizedState!==null||(Nv=dn())),b&4&&tC(l);break;case 22:if(je=p!==null&&p.memoizedState!==null,l.mode&1?(Tr=(ue=Tr)||je,pi(u,l),Tr=ue):pi(u,l),Yi(l),b&8192){if(ue=l.memoizedState!==null,(l.stateNode.isHidden=ue)&&!je&&(l.mode&1)!==0)for($e=l,je=l.child;je!==null;){for(Ne=$e=je;$e!==null;){switch(be=$e,Ue=be.child,be.tag){case 0:case 11:case 14:case 15:nm(4,be,be.return);break;case 1:$u(be,be.return);var We=be.stateNode;if(typeof We.componentWillUnmount=="function"){b=be,p=be.return;try{u=b,We.props=u.memoizedProps,We.state=u.memoizedState,We.componentWillUnmount()}catch(Qe){Tn(b,p,Qe)}}break;case 5:$u(be,be.return);break;case 22:if(be.memoizedState!==null){iC(Ne);continue}}Ue!==null?(Ue.return=be,$e=Ue):iC(Ne)}je=je.sibling}e:for(je=null,Ne=l;;){if(Ne.tag===5){if(je===null){je=Ne;try{S=Ne.stateNode,ue?(T=S.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none"):(K=Ne.stateNode,X=Ne.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null,K.style.display=He("display",z))}catch(Qe){Tn(l,l.return,Qe)}}}else if(Ne.tag===6){if(je===null)try{Ne.stateNode.nodeValue=ue?"":Ne.memoizedProps}catch(Qe){Tn(l,l.return,Qe)}}else if((Ne.tag!==22&&Ne.tag!==23||Ne.memoizedState===null||Ne===l)&&Ne.child!==null){Ne.child.return=Ne,Ne=Ne.child;continue}if(Ne===l)break e;for(;Ne.sibling===null;){if(Ne.return===null||Ne.return===l)break e;je===Ne&&(je=null),Ne=Ne.return}je===Ne&&(je=null),Ne.sibling.return=Ne.return,Ne=Ne.sibling}}break;case 19:pi(u,l),Yi(l),b&4&&tC(l);break;case 21:break;default:pi(u,l),Yi(l)}}function Yi(l){var u=l.flags;if(u&2){try{e:{for(var p=l.return;p!==null;){if(XE(p)){var b=p;break e}p=p.return}throw Error(n(160))}switch(b.tag){case 5:var S=b.stateNode;b.flags&32&&(kt(S,""),b.flags&=-33);var T=ZE(l);wv(l,T,S);break;case 3:case 4:var z=b.stateNode.containerInfo,K=ZE(l);bv(l,K,z);break;default:throw Error(n(161))}}catch(X){Tn(l,l.return,X)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function xU(l,u,p){$e=l,rC(l)}function rC(l,u,p){for(var b=(l.mode&1)!==0;$e!==null;){var S=$e,T=S.child;if(S.tag===22&&b){var z=S.memoizedState!==null||Wp;if(!z){var K=S.alternate,X=K!==null&&K.memoizedState!==null||Tr;K=Wp;var ue=Tr;if(Wp=z,(Tr=X)&&!ue)for($e=S;$e!==null;)z=$e,X=z.child,z.tag===22&&z.memoizedState!==null?aC(S):X!==null?(X.return=z,$e=X):aC(S);for(;T!==null;)$e=T,rC(T),T=T.sibling;$e=S,Wp=K,Tr=ue}sC(l)}else(S.subtreeFlags&8772)!==0&&T!==null?(T.return=S,$e=T):sC(l)}}function sC(l){for(;$e!==null;){var u=$e;if((u.flags&8772)!==0){var p=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:Tr||Kp(5,u);break;case 1:var b=u.stateNode;if(u.flags&4&&!Tr)if(p===null)b.componentDidMount();else{var S=u.elementType===u.type?p.memoizedProps:mi(u.type,p.memoizedProps);b.componentDidUpdate(S,p.memoizedState,b.__reactInternalSnapshotBeforeUpdate)}var T=u.updateQueue;T!==null&&iE(u,T,b);break;case 3:var z=u.updateQueue;if(z!==null){if(p=null,u.child!==null)switch(u.child.tag){case 5:p=u.child.stateNode;break;case 1:p=u.child.stateNode}iE(u,z,p)}break;case 5:var K=u.stateNode;if(p===null&&u.flags&4){p=K;var X=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":X.autoFocus&&p.focus();break;case"img":X.src&&(p.src=X.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var ue=u.alternate;if(ue!==null){var je=ue.memoizedState;if(je!==null){var Ne=je.dehydrated;Ne!==null&&To(Ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Tr||u.flags&512&&vv(u)}catch(be){Tn(u,u.return,be)}}if(u===l){$e=null;break}if(p=u.sibling,p!==null){p.return=u.return,$e=p;break}$e=u.return}}function iC(l){for(;$e!==null;){var u=$e;if(u===l){$e=null;break}var p=u.sibling;if(p!==null){p.return=u.return,$e=p;break}$e=u.return}}function aC(l){for(;$e!==null;){var u=$e;try{switch(u.tag){case 0:case 11:case 15:var p=u.return;try{Kp(4,u)}catch(X){Tn(u,p,X)}break;case 1:var b=u.stateNode;if(typeof b.componentDidMount=="function"){var S=u.return;try{b.componentDidMount()}catch(X){Tn(u,S,X)}}var T=u.return;try{vv(u)}catch(X){Tn(u,T,X)}break;case 5:var z=u.return;try{vv(u)}catch(X){Tn(u,z,X)}}}catch(X){Tn(u,u.return,X)}if(u===l){$e=null;break}var K=u.sibling;if(K!==null){K.return=u.return,$e=K;break}$e=u.return}}var yU=Math.ceil,Gp=C.ReactCurrentDispatcher,jv=C.ReactCurrentOwner,qs=C.ReactCurrentBatchConfig,Vt=0,ar=null,qn=null,gr=0,ks=0,qu=Do(0),er=0,rm=null,fc=0,Qp=0,_v=0,sm=null,ns=null,Nv=0,Hu=1/0,$a=null,Yp=!1,Sv=null,Uo=null,Jp=!1,zo=null,Xp=0,im=0,Ev=null,Zp=-1,eg=0;function zr(){return(Vt&6)!==0?dn():Zp!==-1?Zp:Zp=dn()}function Bo(l){return(l.mode&1)===0?1:(Vt&2)!==0&&gr!==0?gr&-gr:tU.transition!==null?(eg===0&&(eg=Eh()),eg):(l=Ot,l!==0||(l=window.event,l=l===void 0?16:bu(l.type)),l)}function gi(l,u,p,b){if(50<im)throw im=0,Ev=null,Error(n(185));nc(l,p,b),((Vt&2)===0||l!==ar)&&(l===ar&&((Vt&2)===0&&(Qp|=p),er===4&&$o(l,gr)),rs(l,b),p===1&&Vt===0&&(u.mode&1)===0&&(Hu=dn()+500,kp&&Oo()))}function rs(l,u){var p=l.callbackNode;tc(l,u);var b=Aa(l,l===ar?gr:0);if(b===0)p!==null&&mu(p),l.callbackNode=null,l.callbackPriority=0;else if(u=b&-b,l.callbackPriority!==u){if(p!=null&&mu(p),u===1)l.tag===0?eU(lC.bind(null,l)):KS(lC.bind(null,l)),YV(function(){(Vt&6)===0&&Oo()}),p=null;else{switch(Li(b)){case 1:p=fu;break;case 4:p=_h;break;case 16:p=Jl;break;case 536870912:p=pu;break;default:p=Jl}p=gC(p,oC.bind(null,l))}l.callbackPriority=u,l.callbackNode=p}}function oC(l,u){if(Zp=-1,eg=0,(Vt&6)!==0)throw Error(n(327));var p=l.callbackNode;if(Wu()&&l.callbackNode!==p)return null;var b=Aa(l,l===ar?gr:0);if(b===0)return null;if((b&30)!==0||(b&l.expiredLanes)!==0||u)u=tg(l,b);else{u=b;var S=Vt;Vt|=2;var T=uC();(ar!==l||gr!==u)&&($a=null,Hu=dn()+500,gc(l,u));do try{wU();break}catch(K){cC(l,K)}while(!0);q0(),Gp.current=T,Vt=S,qn!==null?u=0:(ar=null,gr=0,u=er)}if(u!==0){if(u===2&&(S=Sh(l),S!==0&&(b=S,u=Cv(l,S))),u===1)throw p=rm,gc(l,0),$o(l,b),rs(l,dn()),p;if(u===6)$o(l,b);else{if(S=l.current.alternate,(b&30)===0&&!vU(S)&&(u=tg(l,b),u===2&&(T=Sh(l),T!==0&&(b=T,u=Cv(l,T))),u===1))throw p=rm,gc(l,0),$o(l,b),rs(l,dn()),p;switch(l.finishedWork=S,l.finishedLanes=b,u){case 0:case 1:throw Error(n(345));case 2:xc(l,ns,$a);break;case 3:if($o(l,b),(b&130023424)===b&&(u=Nv+500-dn(),10<u)){if(Aa(l,0)!==0)break;if(S=l.suspendedLanes,(S&b)!==b){zr(),l.pingedLanes|=l.suspendedLanes&S;break}l.timeoutHandle=P0(xc.bind(null,l,ns,$a),u);break}xc(l,ns,$a);break;case 4:if($o(l,b),(b&4194240)===b)break;for(u=l.eventTimes,S=-1;0<b;){var z=31-ws(b);T=1<<z,z=u[z],z>S&&(S=z),b&=~T}if(b=S,b=dn()-b,b=(120>b?120:480>b?480:1080>b?1080:1920>b?1920:3e3>b?3e3:4320>b?4320:1960*yU(b/1960))-b,10<b){l.timeoutHandle=P0(xc.bind(null,l,ns,$a),b);break}xc(l,ns,$a);break;case 5:xc(l,ns,$a);break;default:throw Error(n(329))}}}return rs(l,dn()),l.callbackNode===p?oC.bind(null,l):null}function Cv(l,u){var p=sm;return l.current.memoizedState.isDehydrated&&(gc(l,u).flags|=256),l=tg(l,u),l!==2&&(u=ns,ns=p,u!==null&&kv(u)),l}function kv(l){ns===null?ns=l:ns.push.apply(ns,l)}function vU(l){for(var u=l;;){if(u.flags&16384){var p=u.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var b=0;b<p.length;b++){var S=p[b],T=S.getSnapshot;S=S.value;try{if(!di(T(),S))return!1}catch{return!1}}}if(p=u.child,u.subtreeFlags&16384&&p!==null)p.return=u,u=p;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function $o(l,u){for(u&=~_v,u&=~Qp,l.suspendedLanes|=u,l.pingedLanes&=~u,l=l.expirationTimes;0<u;){var p=31-ws(u),b=1<<p;l[p]=-1,u&=~b}}function lC(l){if((Vt&6)!==0)throw Error(n(327));Wu();var u=Aa(l,0);if((u&1)===0)return rs(l,dn()),null;var p=tg(l,u);if(l.tag!==0&&p===2){var b=Sh(l);b!==0&&(u=b,p=Cv(l,b))}if(p===1)throw p=rm,gc(l,0),$o(l,u),rs(l,dn()),p;if(p===6)throw Error(n(345));return l.finishedWork=l.current.alternate,l.finishedLanes=u,xc(l,ns,$a),rs(l,dn()),null}function Tv(l,u){var p=Vt;Vt|=1;try{return l(u)}finally{Vt=p,Vt===0&&(Hu=dn()+500,kp&&Oo())}}function pc(l){zo!==null&&zo.tag===0&&(Vt&6)===0&&Wu();var u=Vt;Vt|=1;var p=qs.transition,b=Ot;try{if(qs.transition=null,Ot=1,l)return l()}finally{Ot=b,qs.transition=p,Vt=u,(Vt&6)===0&&Oo()}}function Av(){ks=qu.current,mn(qu)}function gc(l,u){l.finishedWork=null,l.finishedLanes=0;var p=l.timeoutHandle;if(p!==-1&&(l.timeoutHandle=-1,QV(p)),qn!==null)for(p=qn.return;p!==null;){var b=p;switch(V0(b),b.tag){case 1:b=b.type.childContextTypes,b!=null&&Ep();break;case 3:zu(),mn(Zr),mn(Er),X0();break;case 5:Y0(b);break;case 4:zu();break;case 13:mn(vn);break;case 19:mn(vn);break;case 10:H0(b.type._context);break;case 22:case 23:Av()}p=p.return}if(ar=l,qn=l=qo(l.current,null),gr=ks=u,er=0,rm=null,_v=Qp=fc=0,ns=sm=null,dc!==null){for(u=0;u<dc.length;u++)if(p=dc[u],b=p.interleaved,b!==null){p.interleaved=null;var S=b.next,T=p.pending;if(T!==null){var z=T.next;T.next=S,b.next=z}p.pending=b}dc=null}return l}function cC(l,u){do{var p=qn;try{if(q0(),Fp.current=Bp,Vp){for(var b=bn.memoizedState;b!==null;){var S=b.queue;S!==null&&(S.pending=null),b=b.next}Vp=!1}if(mc=0,ir=Zn=bn=null,Jh=!1,Xh=0,jv.current=null,p===null||p.return===null){er=1,rm=u,qn=null;break}e:{var T=l,z=p.return,K=p,X=u;if(u=gr,K.flags|=32768,X!==null&&typeof X=="object"&&typeof X.then=="function"){var ue=X,je=K,Ne=je.tag;if((je.mode&1)===0&&(Ne===0||Ne===11||Ne===15)){var be=je.alternate;be?(je.updateQueue=be.updateQueue,je.memoizedState=be.memoizedState,je.lanes=be.lanes):(je.updateQueue=null,je.memoizedState=null)}var Ue=DE(z);if(Ue!==null){Ue.flags&=-257,ME(Ue,z,K,T,u),Ue.mode&1&&PE(T,ue,u),u=Ue,X=ue;var We=u.updateQueue;if(We===null){var Qe=new Set;Qe.add(X),u.updateQueue=Qe}else We.add(X);break e}else{if((u&1)===0){PE(T,ue,u),Iv();break e}X=Error(n(426))}}else if(pn&&K.mode&1){var On=DE(z);if(On!==null){(On.flags&65536)===0&&(On.flags|=256),ME(On,z,K,T,u),B0(Bu(X,K));break e}}T=X=Bu(X,K),er!==4&&(er=2),sm===null?sm=[T]:sm.push(T),T=z;do{switch(T.tag){case 3:T.flags|=65536,u&=-u,T.lanes|=u;var oe=IE(T,X,u);sE(T,oe);break e;case 1:K=X;var Z=T.type,ce=T.stateNode;if((T.flags&128)===0&&(typeof Z.getDerivedStateFromError=="function"||ce!==null&&typeof ce.componentDidCatch=="function"&&(Uo===null||!Uo.has(ce)))){T.flags|=65536,u&=-u,T.lanes|=u;var Ae=RE(T,K,u);sE(T,Ae);break e}}T=T.return}while(T!==null)}hC(p)}catch(Ye){u=Ye,qn===p&&p!==null&&(qn=p=p.return);continue}break}while(!0)}function uC(){var l=Gp.current;return Gp.current=Bp,l===null?Bp:l}function Iv(){(er===0||er===3||er===2)&&(er=4),ar===null||(fc&268435455)===0&&(Qp&268435455)===0||$o(ar,gr)}function tg(l,u){var p=Vt;Vt|=2;var b=uC();(ar!==l||gr!==u)&&($a=null,gc(l,u));do try{bU();break}catch(S){cC(l,S)}while(!0);if(q0(),Vt=p,Gp.current=b,qn!==null)throw Error(n(261));return ar=null,gr=0,er}function bU(){for(;qn!==null;)dC(qn)}function wU(){for(;qn!==null&&!Yl();)dC(qn)}function dC(l){var u=pC(l.alternate,l,ks);l.memoizedProps=l.pendingProps,u===null?hC(l):qn=u,jv.current=null}function hC(l){var u=l;do{var p=u.alternate;if(l=u.return,(u.flags&32768)===0){if(p=mU(p,u,ks),p!==null){qn=p;return}}else{if(p=fU(p,u),p!==null){p.flags&=32767,qn=p;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{er=6,qn=null;return}}if(u=u.sibling,u!==null){qn=u;return}qn=u=l}while(u!==null);er===0&&(er=5)}function xc(l,u,p){var b=Ot,S=qs.transition;try{qs.transition=null,Ot=1,jU(l,u,p,b)}finally{qs.transition=S,Ot=b}return null}function jU(l,u,p,b){do Wu();while(zo!==null);if((Vt&6)!==0)throw Error(n(327));p=l.finishedWork;var S=l.finishedLanes;if(p===null)return null;if(l.finishedWork=null,l.finishedLanes=0,p===l.current)throw Error(n(177));l.callbackNode=null,l.callbackPriority=0;var T=p.lanes|p.childLanes;if(x0(l,T),l===ar&&(qn=ar=null,gr=0),(p.subtreeFlags&2064)===0&&(p.flags&2064)===0||Jp||(Jp=!0,gC(Jl,function(){return Wu(),null})),T=(p.flags&15990)!==0,(p.subtreeFlags&15990)!==0||T){T=qs.transition,qs.transition=null;var z=Ot;Ot=1;var K=Vt;Vt|=4,jv.current=null,gU(l,p),nC(p,l),BV(I0),Pa=!!A0,I0=A0=null,l.current=p,xU(p),Ta(),Vt=K,Ot=z,qs.transition=T}else l.current=p;if(Jp&&(Jp=!1,zo=l,Xp=S),T=l.pendingLanes,T===0&&(Uo=null),lp(p.stateNode),rs(l,dn()),u!==null)for(b=l.onRecoverableError,p=0;p<u.length;p++)S=u[p],b(S.value,{componentStack:S.stack,digest:S.digest});if(Yp)throw Yp=!1,l=Sv,Sv=null,l;return(Xp&1)!==0&&l.tag!==0&&Wu(),T=l.pendingLanes,(T&1)!==0?l===Ev?im++:(im=0,Ev=l):im=0,Oo(),null}function Wu(){if(zo!==null){var l=Li(Xp),u=qs.transition,p=Ot;try{if(qs.transition=null,Ot=16>l?16:l,zo===null)var b=!1;else{if(l=zo,zo=null,Xp=0,(Vt&6)!==0)throw Error(n(331));var S=Vt;for(Vt|=4,$e=l.current;$e!==null;){var T=$e,z=T.child;if(($e.flags&16)!==0){var K=T.deletions;if(K!==null){for(var X=0;X<K.length;X++){var ue=K[X];for($e=ue;$e!==null;){var je=$e;switch(je.tag){case 0:case 11:case 15:nm(8,je,T)}var Ne=je.child;if(Ne!==null)Ne.return=je,$e=Ne;else for(;$e!==null;){je=$e;var be=je.sibling,Ue=je.return;if(JE(je),je===ue){$e=null;break}if(be!==null){be.return=Ue,$e=be;break}$e=Ue}}}var We=T.alternate;if(We!==null){var Qe=We.child;if(Qe!==null){We.child=null;do{var On=Qe.sibling;Qe.sibling=null,Qe=On}while(Qe!==null)}}$e=T}}if((T.subtreeFlags&2064)!==0&&z!==null)z.return=T,$e=z;else e:for(;$e!==null;){if(T=$e,(T.flags&2048)!==0)switch(T.tag){case 0:case 11:case 15:nm(9,T,T.return)}var oe=T.sibling;if(oe!==null){oe.return=T.return,$e=oe;break e}$e=T.return}}var Z=l.current;for($e=Z;$e!==null;){z=$e;var ce=z.child;if((z.subtreeFlags&2064)!==0&&ce!==null)ce.return=z,$e=ce;else e:for(z=Z;$e!==null;){if(K=$e,(K.flags&2048)!==0)try{switch(K.tag){case 0:case 11:case 15:Kp(9,K)}}catch(Ye){Tn(K,K.return,Ye)}if(K===z){$e=null;break e}var Ae=K.sibling;if(Ae!==null){Ae.return=K.return,$e=Ae;break e}$e=K.return}}if(Vt=S,Oo(),bs&&typeof bs.onPostCommitFiberRoot=="function")try{bs.onPostCommitFiberRoot(Xl,l)}catch{}b=!0}return b}finally{Ot=p,qs.transition=u}}return!1}function mC(l,u,p){u=Bu(p,u),u=IE(l,u,1),l=Fo(l,u,1),u=zr(),l!==null&&(nc(l,1,u),rs(l,u))}function Tn(l,u,p){if(l.tag===3)mC(l,l,p);else for(;u!==null;){if(u.tag===3){mC(u,l,p);break}else if(u.tag===1){var b=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(Uo===null||!Uo.has(b))){l=Bu(p,l),l=RE(u,l,1),u=Fo(u,l,1),l=zr(),u!==null&&(nc(u,1,l),rs(u,l));break}}u=u.return}}function _U(l,u,p){var b=l.pingCache;b!==null&&b.delete(u),u=zr(),l.pingedLanes|=l.suspendedLanes&p,ar===l&&(gr&p)===p&&(er===4||er===3&&(gr&130023424)===gr&&500>dn()-Nv?gc(l,0):_v|=p),rs(l,u)}function fC(l,u){u===0&&((l.mode&1)===0?u=1:(u=Eo,Eo<<=1,(Eo&130023424)===0&&(Eo=4194304)));var p=zr();l=Ua(l,u),l!==null&&(nc(l,u,p),rs(l,p))}function NU(l){var u=l.memoizedState,p=0;u!==null&&(p=u.retryLane),fC(l,p)}function SU(l,u){var p=0;switch(l.tag){case 13:var b=l.stateNode,S=l.memoizedState;S!==null&&(p=S.retryLane);break;case 19:b=l.stateNode;break;default:throw Error(n(314))}b!==null&&b.delete(u),fC(l,p)}var pC;pC=function(l,u,p){if(l!==null)if(l.memoizedProps!==u.pendingProps||Zr.current)ts=!0;else{if((l.lanes&p)===0&&(u.flags&128)===0)return ts=!1,hU(l,u,p);ts=(l.flags&131072)!==0}else ts=!1,pn&&(u.flags&1048576)!==0&&GS(u,Ap,u.index);switch(u.lanes=0,u.tag){case 2:var b=u.type;Hp(l,u),l=u.pendingProps;var S=Du(u,Er.current);Uu(u,p),S=tv(null,u,b,l,S,p);var T=nv();return u.flags|=1,typeof S=="object"&&S!==null&&typeof S.render=="function"&&S.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,es(b)?(T=!0,Cp(u)):T=!1,u.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,G0(u),S.updater=$p,u.stateNode=S,S._reactInternals=u,lv(u,b,l,p),u=hv(null,u,b,!0,T,p)):(u.tag=0,pn&&T&&F0(u),Ur(null,u,S,p),u=u.child),u;case 16:b=u.elementType;e:{switch(Hp(l,u),l=u.pendingProps,S=b._init,b=S(b._payload),u.type=b,S=u.tag=CU(b),l=mi(b,l),S){case 0:u=dv(null,u,b,l,p);break e;case 1:u=zE(null,u,b,l,p);break e;case 11:u=OE(null,u,b,l,p);break e;case 14:u=LE(null,u,b,mi(b.type,l),p);break e}throw Error(n(306,b,""))}return u;case 0:return b=u.type,S=u.pendingProps,S=u.elementType===b?S:mi(b,S),dv(l,u,b,S,p);case 1:return b=u.type,S=u.pendingProps,S=u.elementType===b?S:mi(b,S),zE(l,u,b,S,p);case 3:e:{if(BE(u),l===null)throw Error(n(387));b=u.pendingProps,T=u.memoizedState,S=T.element,rE(l,u),Op(u,b,null,p);var z=u.memoizedState;if(b=z.element,T.isDehydrated)if(T={element:b,isDehydrated:!1,cache:z.cache,pendingSuspenseBoundaries:z.pendingSuspenseBoundaries,transitions:z.transitions},u.updateQueue.baseState=T,u.memoizedState=T,u.flags&256){S=Bu(Error(n(423)),u),u=$E(l,u,b,p,S);break e}else if(b!==S){S=Bu(Error(n(424)),u),u=$E(l,u,b,p,S);break e}else for(Cs=Po(u.stateNode.containerInfo.firstChild),Es=u,pn=!0,hi=null,p=tE(u,null,b,p),u.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(Lu(),b===S){u=Ba(l,u,p);break e}Ur(l,u,b,p)}u=u.child}return u;case 5:return aE(u),l===null&&z0(u),b=u.type,S=u.pendingProps,T=l!==null?l.memoizedProps:null,z=S.children,R0(b,S)?z=null:T!==null&&R0(b,T)&&(u.flags|=32),UE(l,u),Ur(l,u,z,p),u.child;case 6:return l===null&&z0(u),null;case 13:return qE(l,u,p);case 4:return Q0(u,u.stateNode.containerInfo),b=u.pendingProps,l===null?u.child=Fu(u,null,b,p):Ur(l,u,b,p),u.child;case 11:return b=u.type,S=u.pendingProps,S=u.elementType===b?S:mi(b,S),OE(l,u,b,S,p);case 7:return Ur(l,u,u.pendingProps,p),u.child;case 8:return Ur(l,u,u.pendingProps.children,p),u.child;case 12:return Ur(l,u,u.pendingProps.children,p),u.child;case 10:e:{if(b=u.type._context,S=u.pendingProps,T=u.memoizedProps,z=S.value,an(Pp,b._currentValue),b._currentValue=z,T!==null)if(di(T.value,z)){if(T.children===S.children&&!Zr.current){u=Ba(l,u,p);break e}}else for(T=u.child,T!==null&&(T.return=u);T!==null;){var K=T.dependencies;if(K!==null){z=T.child;for(var X=K.firstContext;X!==null;){if(X.context===b){if(T.tag===1){X=za(-1,p&-p),X.tag=2;var ue=T.updateQueue;if(ue!==null){ue=ue.shared;var je=ue.pending;je===null?X.next=X:(X.next=je.next,je.next=X),ue.pending=X}}T.lanes|=p,X=T.alternate,X!==null&&(X.lanes|=p),W0(T.return,p,u),K.lanes|=p;break}X=X.next}}else if(T.tag===10)z=T.type===u.type?null:T.child;else if(T.tag===18){if(z=T.return,z===null)throw Error(n(341));z.lanes|=p,K=z.alternate,K!==null&&(K.lanes|=p),W0(z,p,u),z=T.sibling}else z=T.child;if(z!==null)z.return=T;else for(z=T;z!==null;){if(z===u){z=null;break}if(T=z.sibling,T!==null){T.return=z.return,z=T;break}z=z.return}T=z}Ur(l,u,S.children,p),u=u.child}return u;case 9:return S=u.type,b=u.pendingProps.children,Uu(u,p),S=Bs(S),b=b(S),u.flags|=1,Ur(l,u,b,p),u.child;case 14:return b=u.type,S=mi(b,u.pendingProps),S=mi(b.type,S),LE(l,u,b,S,p);case 15:return FE(l,u,u.type,u.pendingProps,p);case 17:return b=u.type,S=u.pendingProps,S=u.elementType===b?S:mi(b,S),Hp(l,u),u.tag=1,es(b)?(l=!0,Cp(u)):l=!1,Uu(u,p),TE(u,b,S),lv(u,b,S,p),hv(null,u,b,!0,l,p);case 19:return WE(l,u,p);case 22:return VE(l,u,p)}throw Error(n(156,u.tag))};function gC(l,u){return So(l,u)}function EU(l,u,p,b){this.tag=l,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hs(l,u,p,b){return new EU(l,u,p,b)}function Rv(l){return l=l.prototype,!(!l||!l.isReactComponent)}function CU(l){if(typeof l=="function")return Rv(l)?1:0;if(l!=null){if(l=l.$$typeof,l===D)return 11;if(l===ee)return 14}return 2}function qo(l,u){var p=l.alternate;return p===null?(p=Hs(l.tag,u,l.key,l.mode),p.elementType=l.elementType,p.type=l.type,p.stateNode=l.stateNode,p.alternate=l,l.alternate=p):(p.pendingProps=u,p.type=l.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=l.flags&14680064,p.childLanes=l.childLanes,p.lanes=l.lanes,p.child=l.child,p.memoizedProps=l.memoizedProps,p.memoizedState=l.memoizedState,p.updateQueue=l.updateQueue,u=l.dependencies,p.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},p.sibling=l.sibling,p.index=l.index,p.ref=l.ref,p}function ng(l,u,p,b,S,T){var z=2;if(b=l,typeof l=="function")Rv(l)&&(z=1);else if(typeof l=="string")z=5;else e:switch(l){case M:return yc(p.children,S,T,u);case P:z=8,S|=8;break;case I:return l=Hs(12,p,u,S|2),l.elementType=I,l.lanes=T,l;case V:return l=Hs(13,p,u,S),l.elementType=V,l.lanes=T,l;case J:return l=Hs(19,p,u,S),l.elementType=J,l.lanes=T,l;case ie:return rg(p,S,T,u);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case L:z=10;break e;case U:z=9;break e;case D:z=11;break e;case ee:z=14;break e;case re:z=16,b=null;break e}throw Error(n(130,l==null?l:typeof l,""))}return u=Hs(z,p,u,S),u.elementType=l,u.type=b,u.lanes=T,u}function yc(l,u,p,b){return l=Hs(7,l,b,u),l.lanes=p,l}function rg(l,u,p,b){return l=Hs(22,l,b,u),l.elementType=ie,l.lanes=p,l.stateNode={isHidden:!1},l}function Pv(l,u,p){return l=Hs(6,l,null,u),l.lanes=p,l}function Dv(l,u,p){return u=Hs(4,l.children!==null?l.children:[],l.key,u),u.lanes=p,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}function kU(l,u,p,b,S){this.tag=u,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ch(0),this.expirationTimes=Ch(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ch(0),this.identifierPrefix=b,this.onRecoverableError=S,this.mutableSourceEagerHydrationData=null}function Mv(l,u,p,b,S,T,z,K,X){return l=new kU(l,u,p,K,X),u===1?(u=1,T===!0&&(u|=8)):u=0,T=Hs(3,null,null,u),l.current=T,T.stateNode=l,T.memoizedState={element:b,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},G0(T),l}function TU(l,u,p){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:b==null?null:""+b,children:l,containerInfo:u,implementation:p}}function xC(l){if(!l)return Mo;l=l._reactInternals;e:{if(Nr(l)!==l||l.tag!==1)throw Error(n(170));var u=l;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(es(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(n(171))}if(l.tag===1){var p=l.type;if(es(p))return HS(l,p,u)}return u}function yC(l,u,p,b,S,T,z,K,X){return l=Mv(p,b,!0,l,S,T,z,K,X),l.context=xC(null),p=l.current,b=zr(),S=Bo(p),T=za(b,S),T.callback=u??null,Fo(p,T,S),l.current.lanes=S,nc(l,S,b),rs(l,b),l}function sg(l,u,p,b){var S=u.current,T=zr(),z=Bo(S);return p=xC(p),u.context===null?u.context=p:u.pendingContext=p,u=za(T,z),u.payload={element:l},b=b===void 0?null:b,b!==null&&(u.callback=b),l=Fo(S,u,z),l!==null&&(gi(l,S,z,T),Mp(l,S,z)),z}function ig(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function vC(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var p=l.retryLane;l.retryLane=p!==0&&p<u?p:u}}function Ov(l,u){vC(l,u),(l=l.alternate)&&vC(l,u)}function AU(){return null}var bC=typeof reportError=="function"?reportError:function(l){console.error(l)};function Lv(l){this._internalRoot=l}ag.prototype.render=Lv.prototype.render=function(l){var u=this._internalRoot;if(u===null)throw Error(n(409));sg(l,u,null,null)},ag.prototype.unmount=Lv.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var u=l.containerInfo;pc(function(){sg(null,l,null,null)}),u[Oa]=null}};function ag(l){this._internalRoot=l}ag.prototype.unstable_scheduleHydration=function(l){if(l){var u=Ih();l={blockedOn:null,target:l,priority:u};for(var p=0;p<js.length&&u!==0&&u<js[p].priority;p++);js.splice(p,0,l),p===0&&yu(l)}};function Fv(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function og(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function wC(){}function IU(l,u,p,b,S){if(S){if(typeof b=="function"){var T=b;b=function(){var ue=ig(z);T.call(ue)}}var z=yC(u,b,l,0,null,!1,!1,"",wC);return l._reactRootContainer=z,l[Oa]=z.current,$h(l.nodeType===8?l.parentNode:l),pc(),z}for(;S=l.lastChild;)l.removeChild(S);if(typeof b=="function"){var K=b;b=function(){var ue=ig(X);K.call(ue)}}var X=Mv(l,0,!1,null,null,!1,!1,"",wC);return l._reactRootContainer=X,l[Oa]=X.current,$h(l.nodeType===8?l.parentNode:l),pc(function(){sg(u,X,p,b)}),X}function lg(l,u,p,b,S){var T=p._reactRootContainer;if(T){var z=T;if(typeof S=="function"){var K=S;S=function(){var X=ig(z);K.call(X)}}sg(u,z,l,S)}else z=IU(p,u,l,S,b);return ig(z)}Th=function(l){switch(l.tag){case 3:var u=l.stateNode;if(u.current.memoizedState.isDehydrated){var p=Bt(u.pendingLanes);p!==0&&(kh(u,p|1),rs(u,dn()),(Vt&6)===0&&(Hu=dn()+500,Oo()))}break;case 13:pc(function(){var b=Ua(l,1);if(b!==null){var S=zr();gi(b,l,1,S)}}),Ov(l,1)}},gu=function(l){if(l.tag===13){var u=Ua(l,134217728);if(u!==null){var p=zr();gi(u,l,134217728,p)}Ov(l,134217728)}},Ah=function(l){if(l.tag===13){var u=Bo(l),p=Ua(l,u);if(p!==null){var b=zr();gi(p,l,u,b)}Ov(l,u)}},Ih=function(){return Ot},Rh=function(l,u){var p=Ot;try{return Ot=l,u()}finally{Ot=p}},Yr=function(l,u,p){switch(u){case"input":if(Jn(l,p),u=p.name,p.type==="radio"&&u!=null){for(p=l;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<p.length;u++){var b=p[u];if(b!==l&&b.form===l.form){var S=Sp(b);if(!S)throw Error(n(90));ft(b),Jn(b,S)}}}break;case"textarea":Ri(l,p);break;case"select":u=p.value,u!=null&&Or(l,!!p.multiple,u,!1)}},Pi=Tv,Gl=pc;var RU={usingClientEntryPoint:!1,Events:[Wh,Ru,Sp,Fr,Vr,Tv]},am={findFiberByHostInstance:oc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},PU={bundleType:am.bundleType,version:am.version,rendererPackageName:am.rendererPackageName,rendererConfig:am.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=dt(l),l===null?null:l.stateNode},findFiberByHostInstance:am.findFiberByHostInstance||AU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cg.isDisabled&&cg.supportsFiber)try{Xl=cg.inject(PU),bs=cg}catch{}}return ss.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RU,ss.createPortal=function(l,u){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fv(u))throw Error(n(200));return TU(l,u,null,p)},ss.createRoot=function(l,u){if(!Fv(l))throw Error(n(299));var p=!1,b="",S=bC;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(b=u.identifierPrefix),u.onRecoverableError!==void 0&&(S=u.onRecoverableError)),u=Mv(l,1,!1,null,null,p,!1,b,S),l[Oa]=u.current,$h(l.nodeType===8?l.parentNode:l),new Lv(u)},ss.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(n(188)):(l=Object.keys(l).join(","),Error(n(268,l)));return l=dt(u),l=l===null?null:l.stateNode,l},ss.flushSync=function(l){return pc(l)},ss.hydrate=function(l,u,p){if(!og(u))throw Error(n(200));return lg(null,l,u,!0,p)},ss.hydrateRoot=function(l,u,p){if(!Fv(l))throw Error(n(405));var b=p!=null&&p.hydratedSources||null,S=!1,T="",z=bC;if(p!=null&&(p.unstable_strictMode===!0&&(S=!0),p.identifierPrefix!==void 0&&(T=p.identifierPrefix),p.onRecoverableError!==void 0&&(z=p.onRecoverableError)),u=yC(u,null,l,1,p??null,S,!1,T,z),l[Oa]=u.current,$h(l),b)for(l=0;l<b.length;l++)p=b[l],S=p._getVersion,S=S(p._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[p,S]:u.mutableSourceEagerHydrationData.push(p,S);return new ag(u)},ss.render=function(l,u,p){if(!og(u))throw Error(n(200));return lg(null,l,u,!1,p)},ss.unmountComponentAtNode=function(l){if(!og(l))throw Error(n(40));return l._reactRootContainer?(pc(function(){lg(null,null,l,!1,function(){l._reactRootContainer=null,l[Oa]=null})}),!0):!1},ss.unstable_batchedUpdates=Tv,ss.unstable_renderSubtreeIntoContainer=function(l,u,p,b){if(!og(p))throw Error(n(200));if(l==null||l._reactInternals===void 0)throw Error(n(38));return lg(l,u,p,!1,b)},ss.version="18.3.1-next-f1338f8080-20240426",ss}var AC;function fR(){if(AC)return Bv.exports;AC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Bv.exports=zU(),Bv.exports}var IC;function BU(){if(IC)return dg;IC=1;var t=fR();return dg.createRoot=t.createRoot,dg.hydrateRoot=t.hydrateRoot,dg}var $U=BU();const qU=Jd($U);/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var RC="popstate";function HU(t={}){function e(r,i){let{pathname:a,search:o,hash:c}=r.location;return ww("",{pathname:a,search:o,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Km(i)}return KU(e,n,null,t)}function Nn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function xa(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function WU(){return Math.random().toString(36).substring(2,10)}function PC(t,e){return{usr:t.state,key:t.key,idx:e}}function ww(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Xd(e):e,state:n,key:e&&e.key||r||WU()}}function Km({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Xd(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function KU(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,c="POP",d=null,h=m();h==null&&(h=0,o.replaceState({...o.state,idx:h},""));function m(){return(o.state||{idx:null}).idx}function f(){c="POP";let j=m(),_=j==null?null:j-h;h=j,d&&d({action:c,location:w.location,delta:_})}function g(j,_){c="PUSH";let E=ww(w.location,j,_);h=m()+1;let k=PC(E,h),C=w.createHref(E);try{o.pushState(k,"",C)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(C)}a&&d&&d({action:c,location:w.location,delta:1})}function x(j,_){c="REPLACE";let E=ww(w.location,j,_);h=m();let k=PC(E,h),C=w.createHref(E);o.replaceState(k,"",C),a&&d&&d({action:c,location:w.location,delta:0})}function N(j){return GU(j)}let w={get action(){return c},get location(){return t(i,o)},listen(j){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(RC,f),d=j,()=>{i.removeEventListener(RC,f),d=null}},createHref(j){return e(i,j)},createURL:N,encodeLocation(j){let _=N(j);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:g,replace:x,go(j){return o.go(j)}};return w}function GU(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Nn(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Km(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function pR(t,e,n="/"){return QU(t,e,n,!1)}function QU(t,e,n,r){let i=typeof e=="string"?Xd(e):e,a=so(i.pathname||"/",n);if(a==null)return null;let o=gR(t);YU(o);let c=null;for(let d=0;c==null&&d<o.length;++d){let h=o9(a);c=i9(o[d],h,r)}return c}function gR(t,e=[],n=[],r="",i=!1){let a=(o,c,d=i,h)=>{let m={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&d)return;Nn(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let f=Za([r,m.relativePath]),g=n.concat(m);o.children&&o.children.length>0&&(Nn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),gR(o.children,e,g,f,d)),!(o.path==null&&!o.index)&&e.push({path:f,score:r9(f,o.index),routesMeta:g})};return t.forEach((o,c)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))a(o,c);else for(let h of xR(o.path))a(o,c,!0,h)}),e}function xR(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=xR(r.join("/")),c=[];return c.push(...o.map(d=>d===""?a:[a,d].join("/"))),i&&c.push(...o),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function YU(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:s9(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var JU=/^:[\w-]+$/,XU=3,ZU=2,e9=1,t9=10,n9=-2,DC=t=>t==="*";function r9(t,e){let n=t.split("/"),r=n.length;return n.some(DC)&&(r+=n9),e&&(r+=ZU),n.filter(i=>!DC(i)).reduce((i,a)=>i+(JU.test(a)?XU:a===""?e9:t9),r)}function s9(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function i9(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",o=[];for(let c=0;c<r.length;++c){let d=r[c],h=c===r.length-1,m=a==="/"?e:e.slice(a.length)||"/",f=xx({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},m),g=d.route;if(!f&&h&&n&&!r[r.length-1].route.index&&(f=xx({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Za([a,f.pathname]),pathnameBase:d9(Za([a,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(a=Za([a,f.pathnameBase]))}return o}function xx(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=a9(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((h,{paramName:m,isOptional:f},g)=>{if(m==="*"){let N=c[g]||"";o=a.slice(0,a.length-N.length).replace(/(.)\/+$/,"$1")}const x=c[g];return f&&!x?h[m]=void 0:h[m]=(x||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:o,pattern:t}}function a9(t,e=!1,n=!0){xa(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function o9(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xa(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function so(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function l9(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Xd(t):t;return{pathname:n?n.startsWith("/")?n:c9(n,e):e,search:h9(r),hash:m9(i)}}function c9(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Hv(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function u9(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function yR(t){let e=u9(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function vR(t,e,n,r=!1){let i;typeof t=="string"?i=Xd(t):(i={...t},Nn(!i.pathname||!i.pathname.includes("?"),Hv("?","pathname","search",i)),Nn(!i.pathname||!i.pathname.includes("#"),Hv("#","pathname","hash",i)),Nn(!i.search||!i.search.includes("#"),Hv("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,c;if(o==null)c=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),f-=1;i.pathname=g.join("/")}c=f>=0?e[f]:"/"}let d=l9(i,c),h=o&&o!=="/"&&o.endsWith("/"),m=(a||o===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(h||m)&&(d.pathname+="/"),d}var Za=t=>t.join("/").replace(/\/\/+/g,"/"),d9=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),h9=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,m9=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function f9(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var bR=["POST","PUT","PATCH","DELETE"];new Set(bR);var p9=["GET",...bR];new Set(p9);var Zd=v.createContext(null);Zd.displayName="DataRouter";var uy=v.createContext(null);uy.displayName="DataRouterState";v.createContext(!1);var wR=v.createContext({isTransitioning:!1});wR.displayName="ViewTransition";var g9=v.createContext(new Map);g9.displayName="Fetchers";var x9=v.createContext(null);x9.displayName="Await";var Na=v.createContext(null);Na.displayName="Navigation";var Tf=v.createContext(null);Tf.displayName="Location";var po=v.createContext({outlet:null,matches:[],isDataRoute:!1});po.displayName="Route";var yj=v.createContext(null);yj.displayName="RouteError";function y9(t,{relative:e}={}){Nn(Af(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=v.useContext(Na),{hash:i,pathname:a,search:o}=If(t,{relative:e}),c=a;return n!=="/"&&(c=a==="/"?n:Za([n,a])),r.createHref({pathname:c,search:o,hash:i})}function Af(){return v.useContext(Tf)!=null}function go(){return Nn(Af(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(Tf).location}var jR="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _R(t){v.useContext(Na).static||v.useLayoutEffect(t)}function Yn(){let{isDataRoute:t}=v.useContext(po);return t?I9():v9()}function v9(){Nn(Af(),"useNavigate() may be used only in the context of a <Router> component.");let t=v.useContext(Zd),{basename:e,navigator:n}=v.useContext(Na),{matches:r}=v.useContext(po),{pathname:i}=go(),a=JSON.stringify(yR(r)),o=v.useRef(!1);return _R(()=>{o.current=!0}),v.useCallback((d,h={})=>{if(xa(o.current,jR),!o.current)return;if(typeof d=="number"){n.go(d);return}let m=vR(d,JSON.parse(a),i,h.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Za([e,m.pathname])),(h.replace?n.replace:n.push)(m,h.state,h)},[e,n,a,i,t])}v.createContext(null);function If(t,{relative:e}={}){let{matches:n}=v.useContext(po),{pathname:r}=go(),i=JSON.stringify(yR(n));return v.useMemo(()=>vR(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function b9(t,e){return NR(t,e)}function NR(t,e,n,r,i){var E;Nn(Af(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=v.useContext(Na),{matches:o}=v.useContext(po),c=o[o.length-1],d=c?c.params:{},h=c?c.pathname:"/",m=c?c.pathnameBase:"/",f=c&&c.route;{let k=f&&f.path||"";SR(h,!f||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let g=go(),x;if(e){let k=typeof e=="string"?Xd(e):e;Nn(m==="/"||((E=k.pathname)==null?void 0:E.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${k.pathname}" was given in the \`location\` prop.`),x=k}else x=g;let N=x.pathname||"/",w=N;if(m!=="/"){let k=m.replace(/^\//,"").split("/");w="/"+N.replace(/^\//,"").split("/").slice(k.length).join("/")}let j=pR(t,{pathname:w});xa(f||j!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),xa(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=S9(j&&j.map(k=>Object.assign({},k,{params:Object.assign({},d,k.params),pathname:Za([m,a.encodeLocation?a.encodeLocation(k.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?m:Za([m,a.encodeLocation?a.encodeLocation(k.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathnameBase])})),o,n,r,i);return e&&_?v.createElement(Tf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},_):_}function w9(){let t=A9(),e=f9(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:a},"ErrorBoundary")," or"," ",v.createElement("code",{style:a},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),n?v.createElement("pre",{style:i},n):null,o)}var j9=v.createElement(w9,null),_9=class extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?v.createElement(po.Provider,{value:this.props.routeContext},v.createElement(yj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function N9({routeContext:t,match:e,children:n}){let r=v.useContext(Zd);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),v.createElement(po.Provider,{value:t},n)}function S9(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=n==null?void 0:n.errors;if(o!=null){let h=a.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);Nn(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,d=-1;if(n)for(let h=0;h<a.length;h++){let m=a[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=h),m.route.id){let{loaderData:f,errors:g}=n,x=m.route.loader&&!f.hasOwnProperty(m.route.id)&&(!g||g[m.route.id]===void 0);if(m.route.lazy||x){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((h,m,f)=>{let g,x=!1,N=null,w=null;n&&(g=o&&m.route.id?o[m.route.id]:void 0,N=m.route.errorElement||j9,c&&(d<0&&f===0?(SR("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,w=null):d===f&&(x=!0,w=m.route.hydrateFallbackElement||null)));let j=e.concat(a.slice(0,f+1)),_=()=>{let E;return g?E=N:x?E=w:m.route.Component?E=v.createElement(m.route.Component,null):m.route.element?E=m.route.element:E=h,v.createElement(N9,{match:m,routeContext:{outlet:h,matches:j,isDataRoute:n!=null},children:E})};return n&&(m.route.ErrorBoundary||m.route.errorElement||f===0)?v.createElement(_9,{location:n.location,revalidation:n.revalidation,component:N,error:g,children:_(),routeContext:{outlet:null,matches:j,isDataRoute:!0},unstable_onError:r}):_()},null)}function vj(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function E9(t){let e=v.useContext(Zd);return Nn(e,vj(t)),e}function C9(t){let e=v.useContext(uy);return Nn(e,vj(t)),e}function k9(t){let e=v.useContext(po);return Nn(e,vj(t)),e}function bj(t){let e=k9(t),n=e.matches[e.matches.length-1];return Nn(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function T9(){return bj("useRouteId")}function A9(){var r;let t=v.useContext(yj),e=C9("useRouteError"),n=bj("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function I9(){let{router:t}=E9("useNavigate"),e=bj("useNavigate"),n=v.useRef(!1);return _R(()=>{n.current=!0}),v.useCallback(async(i,a={})=>{xa(n.current,jR),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var MC={};function SR(t,e,n){!e&&!MC[t]&&(MC[t]=!0,xa(!1,n))}v.memo(R9);function R9({routes:t,future:e,state:n,unstable_onError:r}){return NR(t,void 0,n,r,e)}function Me(t){Nn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function P9({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){Nn(!Af(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),c=v.useMemo(()=>({basename:o,navigator:i,static:a,future:{}}),[o,i,a]);typeof n=="string"&&(n=Xd(n));let{pathname:d="/",search:h="",hash:m="",state:f=null,key:g="default"}=n,x=v.useMemo(()=>{let N=so(d,o);return N==null?null:{location:{pathname:N,search:h,hash:m,state:f,key:g},navigationType:r}},[o,d,h,m,f,g,r]);return xa(x!=null,`<Router basename="${o}"> is not able to match the URL "${d}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:v.createElement(Na.Provider,{value:c},v.createElement(Tf.Provider,{children:e,value:x}))}function D9({children:t,location:e}){return b9(jw(t),e)}function jw(t,e=[]){let n=[];return v.Children.forEach(t,(r,i)=>{if(!v.isValidElement(r))return;let a=[...e,i];if(r.type===v.Fragment){n.push.apply(n,jw(r.props.children,a));return}Nn(r.type===Me,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Nn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=jw(r.props.children,a)),n.push(o)}),n}var Bg="get",$g="application/x-www-form-urlencoded";function dy(t){return t!=null&&typeof t.tagName=="string"}function M9(t){return dy(t)&&t.tagName.toLowerCase()==="button"}function O9(t){return dy(t)&&t.tagName.toLowerCase()==="form"}function L9(t){return dy(t)&&t.tagName.toLowerCase()==="input"}function F9(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function V9(t,e){return t.button===0&&(!e||e==="_self")&&!F9(t)}var hg=null;function U9(){if(hg===null)try{new FormData(document.createElement("form"),0),hg=!1}catch{hg=!0}return hg}var z9=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wv(t){return t!=null&&!z9.has(t)?(xa(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$g}"`),null):t}function B9(t,e){let n,r,i,a,o;if(O9(t)){let c=t.getAttribute("action");r=c?so(c,e):null,n=t.getAttribute("method")||Bg,i=Wv(t.getAttribute("enctype"))||$g,a=new FormData(t)}else if(M9(t)||L9(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||c.getAttribute("action");if(r=d?so(d,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||Bg,i=Wv(t.getAttribute("formenctype"))||Wv(c.getAttribute("enctype"))||$g,a=new FormData(c,t),!U9()){let{name:h,type:m,value:f}=t;if(m==="image"){let g=h?`${h}.`:"";a.append(`${g}x`,"0"),a.append(`${g}y`,"0")}else h&&a.append(h,f)}}else{if(dy(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Bg,r=null,i=$g,o=t}return a&&i==="text/plain"&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function wj(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function $9(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&so(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function q9(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function H9(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function W9(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let o=await q9(a,n);return o.links?o.links():[]}return[]}));return Y9(r.flat(1).filter(H9).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function OC(t,e,n,r,i,a){let o=(d,h)=>n[h]?d.route.id!==n[h].route.id:!0,c=(d,h)=>{var m;return n[h].pathname!==d.pathname||((m=n[h].route.path)==null?void 0:m.endsWith("*"))&&n[h].params["*"]!==d.params["*"]};return a==="assets"?e.filter((d,h)=>o(d,h)||c(d,h)):a==="data"?e.filter((d,h)=>{var f;let m=r.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(o(d,h)||c(d,h))return!0;if(d.route.shouldRevalidate){let g=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function K9(t,e,{includeHydrateFallback:n}={}){return G9(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function G9(t){return[...new Set(t)]}function Q9(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Y9(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(Q9(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function ER(){let t=v.useContext(Zd);return wj(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function J9(){let t=v.useContext(uy);return wj(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var jj=v.createContext(void 0);jj.displayName="FrameworkContext";function CR(){let t=v.useContext(jj);return wj(t,"You must render this element inside a <HydratedRouter> element"),t}function X9(t,e){let n=v.useContext(jj),[r,i]=v.useState(!1),[a,o]=v.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:h,onMouseLeave:m,onTouchStart:f}=e,g=v.useRef(null);v.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let w=_=>{_.forEach(E=>{o(E.isIntersecting)})},j=new IntersectionObserver(w,{threshold:.5});return g.current&&j.observe(g.current),()=>{j.disconnect()}}},[t]),v.useEffect(()=>{if(r){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[r]);let x=()=>{i(!0)},N=()=>{i(!1),o(!1)};return n?t!=="intent"?[a,g,{}]:[a,g,{onFocus:lm(c,x),onBlur:lm(d,N),onMouseEnter:lm(h,x),onMouseLeave:lm(m,N),onTouchStart:lm(f,x)}]:[!1,g,{}]}function lm(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Z9({page:t,...e}){let{router:n}=ER(),r=v.useMemo(()=>pR(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?v.createElement(tz,{page:t,matches:r,...e}):null}function ez(t){let{manifest:e,routeModules:n}=CR(),[r,i]=v.useState([]);return v.useEffect(()=>{let a=!1;return W9(t,e,n).then(o=>{a||i(o)}),()=>{a=!0}},[t,e,n]),r}function tz({page:t,matches:e,...n}){let r=go(),{manifest:i,routeModules:a}=CR(),{basename:o}=ER(),{loaderData:c,matches:d}=J9(),h=v.useMemo(()=>OC(t,e,d,i,r,"data"),[t,e,d,i,r]),m=v.useMemo(()=>OC(t,e,d,i,r,"assets"),[t,e,d,i,r]),f=v.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let N=new Set,w=!1;if(e.forEach(_=>{var k;let E=i.routes[_.route.id];!E||!E.hasLoader||(!h.some(C=>C.route.id===_.route.id)&&_.route.id in c&&((k=a[_.route.id])!=null&&k.shouldRevalidate)||E.hasClientLoader?w=!0:N.add(_.route.id))}),N.size===0)return[];let j=$9(t,o,"data");return w&&N.size>0&&j.searchParams.set("_routes",e.filter(_=>N.has(_.route.id)).map(_=>_.route.id).join(",")),[j.pathname+j.search]},[o,c,r,i,h,e,t,a]),g=v.useMemo(()=>K9(m,i),[m,i]),x=ez(m);return v.createElement(v.Fragment,null,f.map(N=>v.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),g.map(N=>v.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),x.map(({key:N,link:w})=>v.createElement("link",{key:N,nonce:n.nonce,...w})))}function nz(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var kR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{kR&&(window.__reactRouterVersion="7.9.5")}catch{}function rz({basename:t,children:e,window:n}){let r=v.useRef();r.current==null&&(r.current=HU({window:n,v5Compat:!0}));let i=r.current,[a,o]=v.useState({action:i.action,location:i.location}),c=v.useCallback(d=>{v.startTransition(()=>o(d))},[o]);return v.useLayoutEffect(()=>i.listen(c),[i,c]),v.createElement(P9,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var TR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rt=v.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:o,state:c,target:d,to:h,preventScrollReset:m,viewTransition:f,...g},x){let{basename:N}=v.useContext(Na),w=typeof h=="string"&&TR.test(h),j,_=!1;if(typeof h=="string"&&w&&(j=h,kR))try{let I=new URL(window.location.href),L=h.startsWith("//")?new URL(I.protocol+h):new URL(h),U=so(L.pathname,N);L.origin===I.origin&&U!=null?h=U+L.search+L.hash:_=!0}catch{xa(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=y9(h,{relative:i}),[k,C,R]=X9(r,g),F=oz(h,{replace:o,state:c,target:d,preventScrollReset:m,relative:i,viewTransition:f});function M(I){e&&e(I),I.defaultPrevented||F(I)}let P=v.createElement("a",{...g,...R,href:j||E,onClick:_||a?e:M,ref:nz(x,C),target:d,"data-discover":!w&&n==="render"?"true":void 0});return k&&!w?v.createElement(v.Fragment,null,P,v.createElement(Z9,{page:E})):P});Rt.displayName="Link";var sz=v.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:o,viewTransition:c,children:d,...h},m){let f=If(o,{relative:h.relative}),g=go(),x=v.useContext(uy),{navigator:N,basename:w}=v.useContext(Na),j=x!=null&&hz(f)&&c===!0,_=N.encodeLocation?N.encodeLocation(f).pathname:f.pathname,E=g.pathname,k=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(E=E.toLowerCase(),k=k?k.toLowerCase():null,_=_.toLowerCase()),k&&w&&(k=so(k,w)||k);const C=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let R=E===_||!i&&E.startsWith(_)&&E.charAt(C)==="/",F=k!=null&&(k===_||!i&&k.startsWith(_)&&k.charAt(_.length)==="/"),M={isActive:R,isPending:F,isTransitioning:j},P=R?e:void 0,I;typeof r=="function"?I=r(M):I=[r,R?"active":null,F?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let L=typeof a=="function"?a(M):a;return v.createElement(Rt,{...h,"aria-current":P,className:I,ref:m,style:L,to:o,viewTransition:c},typeof d=="function"?d(M):d)});sz.displayName="NavLink";var iz=v.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:o=Bg,action:c,onSubmit:d,relative:h,preventScrollReset:m,viewTransition:f,...g},x)=>{let N=uz(),w=dz(c,{relative:h}),j=o.toLowerCase()==="get"?"get":"post",_=typeof c=="string"&&TR.test(c),E=k=>{if(d&&d(k),k.defaultPrevented)return;k.preventDefault();let C=k.nativeEvent.submitter,R=(C==null?void 0:C.getAttribute("formmethod"))||o;N(C||k.currentTarget,{fetcherKey:e,method:R,navigate:n,replace:i,state:a,relative:h,preventScrollReset:m,viewTransition:f})};return v.createElement("form",{ref:x,method:j,action:w,onSubmit:r?d:E,...g,"data-discover":!_&&t==="render"?"true":void 0})});iz.displayName="Form";function az(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AR(t){let e=v.useContext(Zd);return Nn(e,az(t)),e}function oz(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:o}={}){let c=Yn(),d=go(),h=If(t,{relative:a});return v.useCallback(m=>{if(V9(m,e)){m.preventDefault();let f=n!==void 0?n:Km(d)===Km(h);c(t,{replace:f,state:r,preventScrollReset:i,relative:a,viewTransition:o})}},[d,c,h,n,r,e,t,i,a,o])}var lz=0,cz=()=>`__${String(++lz)}__`;function uz(){let{router:t}=AR("useSubmit"),{basename:e}=v.useContext(Na),n=T9();return v.useCallback(async(r,i={})=>{let{action:a,method:o,encType:c,formData:d,body:h}=B9(r,e);if(i.navigate===!1){let m=i.fetcherKey||cz();await t.fetch(m,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:h,formMethod:i.method||o,formEncType:i.encType||c,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:h,formMethod:i.method||o,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function dz(t,{relative:e}={}){let{basename:n}=v.useContext(Na),r=v.useContext(po);Nn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...If(t||".",{relative:e})},o=go();if(t==null){a.search=o.search;let c=new URLSearchParams(a.search),d=c.getAll("index");if(d.some(m=>m==="")){c.delete("index"),d.filter(f=>f).forEach(f=>c.append("index",f));let m=c.toString();a.search=m?`?${m}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Za([n,a.pathname])),Km(a)}function hz(t,{relative:e}={}){let n=v.useContext(wR);Nn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=AR("useViewTransitionState"),i=If(t,{relative:e});if(!n.isTransitioning)return!1;let a=so(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=so(n.nextLocation.pathname,r)||n.nextLocation.pathname;return xx(i.pathname,o)!=null||xx(i.pathname,a)!=null}var Rf=fR();const mz=Jd(Rf);function rt(t){return"/"+t.toLowerCase().replace(/ /g,"-")}/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fz=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),IR=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var pz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gz=v.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...c},d)=>v.createElement("svg",{ref:d,...pz,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:IR("lucide",i),...c},[...o.map(([h,m])=>v.createElement(h,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=(t,e)=>{const n=v.forwardRef(({className:r,...i},a)=>v.createElement(gz,{ref:a,iconNode:e,className:IR(`lucide-${fz(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xz=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ll=Ee("ArrowLeft",xz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yz=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],vz=Ee("ArrowRight",yz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bz=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Dd=Ee("Award",bz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wz=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],jn=Ee("BookOpen",wz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jz=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],LC=Ee("Book",jz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _z=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],eh=Ee("Brain",_z);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nz=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],hy=Ee("Calendar",Nz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sz=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Ez=Ee("ChartColumn",Sz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cz=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],kz=Ee("ChartNoAxesColumn",Cz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tz=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Gm=Ee("Check",Tz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Az=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Qm=Ee("ChevronDown",Az);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iz=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],RR=Ee("ChevronRight",Iz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rz=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],PR=Ee("ChevronUp",Rz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],_j=Ee("CircleAlert",Pz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dz=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Bc=Ee("CircleCheckBig",Dz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],th=Ee("CircleCheck",Mz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Lz=Ee("CircleHelp",Oz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]],mg=Ee("CircleStop",Fz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],my=Ee("CircleX",Vz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Nj=Ee("Circle",Uz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],hl=Ee("Clock",zz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bz=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],$z=Ee("Copy",Bz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qz=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],FC=Ee("Crown",qz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],xo=Ee("Download",Hz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]],Kz=Ee("Eraser",Wz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gz=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Md=Ee("ExternalLink",Gz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qz=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Yz=Ee("EyeOff",Qz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],DR=Ee("Eye",Jz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Sj=Ee("FileText",Xz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zz=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],VC=Ee("Filter",Zz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],jl=Ee("Gamepad2",eB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],MR=Ee("Gift",tB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],rB=Ee("GitBranch",nB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],iB=Ee("Globe",sB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],UC=Ee("GraduationCap",aB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],Od=Ee("Headphones",oB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lB=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],nh=Ee("Heart",lB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],uB=Ee("House",cB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],io=Ee("Image",dB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Kv=Ee("Info",hB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mB=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],zC=Ee("Layers",mB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fB=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],pB=Ee("Lightbulb",fB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gB=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ml=Ee("LoaderCircle",gB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xB=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],OR=Ee("Lock",xB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yB=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],LR=Ee("LogIn",yB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vB=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],BC=Ee("LogOut",vB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bB=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],fy=Ee("Mail",bB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wB=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],sd=Ee("Medal",wB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],_B=Ee("Menu",jB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NB=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],SB=Ee("MessageCircle",NB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EB=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],yx=Ee("MessageSquare",EB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CB=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],Ym=Ee("Mic",CB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kB=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],TB=Ee("Moon",kB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AB=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],_w=Ee("Music",AB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IB=[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]],RB=Ee("Newspaper",IB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PB=[["path",{d:"m14.622 17.897-10.68-2.913",key:"vj2p1u"}],["path",{d:"M18.376 2.622a1 1 0 1 1 3.002 3.002L17.36 9.643a.5.5 0 0 0 0 .707l.944.944a2.41 2.41 0 0 1 0 3.408l-.944.944a.5.5 0 0 1-.707 0L8.354 7.348a.5.5 0 0 1 0-.707l.944-.944a2.41 2.41 0 0 1 3.408 0l.944.944a.5.5 0 0 0 .707 0z",key:"18tc5c"}],["path",{d:"M9 8c-1.804 2.71-3.97 3.46-6.583 3.948a.507.507 0 0 0-.302.819l7.32 8.883a1 1 0 0 0 1.185.204C12.735 20.405 16 16.792 16 15",key:"ytzfxy"}]],DB=Ee("Paintbrush",PB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MB=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],py=Ee("Palette",MB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],Fl=Ee("Pause",OB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],FB=Ee("PenTool",LB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VB=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],UB=Ee("Pencil",VB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zB=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],dr=Ee("Play",zB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Os=Ee("Plus",BB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $B=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],FR=Ee("Printer",$B);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]],VR=Ee("Radio",qB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HB=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ej=Ee("RefreshCw",HB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WB=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],Gv=Ee("Repeat",WB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KB=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],$C=Ee("RotateCcw",KB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GB=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],ya=Ee("Save",GB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QB=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],va=Ee("Search",QB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],vx=Ee("Send",YB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ld=Ee("Settings",JB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],su=Ee("Shield",XB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],_i=Ee("Sparkles",ZB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e$=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],yo=Ee("SquarePen",e$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t$=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],UR=Ee("Square",t$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n$=[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]],r$=Ee("StarOff",n$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s$=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],cn=Ee("Star",s$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i$=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],a$=Ee("Sun",i$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o$=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],l$=Ee("Swords",o$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],u$=Ee("Target",c$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d$=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],hr=Ee("Trash2",d$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h$=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Cj=Ee("TrendingUp",h$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m$=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],gy=Ee("TriangleAlert",m$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f$=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],Kr=Ee("Trophy",f$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p$=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],_l=Ee("Upload",p$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g$=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],qC=Ee("UserCheck",g$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x$=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Nw=Ee("UserPlus",x$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y$=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],zR=Ee("User",y$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v$=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Vl=Ee("Users",v$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b$=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],pl=Ee("Video",b$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w$=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Nl=Ee("Volume2",w$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j$=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],Jm=Ee("VolumeX",j$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _$=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ps=Ee("X",_$),kj=v.createContext({});function Tj(t){const e=v.useRef(null);return e.current===null&&(e.current=t()),e.current}const Aj=typeof window<"u",BR=Aj?v.useLayoutEffect:v.useEffect,xy=v.createContext(null);function Ij(t,e){t.indexOf(e)===-1&&t.push(e)}function Rj(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ao=(t,e,n)=>n>e?e:n<t?t:n;let Pj=()=>{};const oo={},$R=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function qR(t){return typeof t=="object"&&t!==null}const HR=t=>/^0[^.\s]+$/u.test(t);function Dj(t){let e;return()=>(e===void 0&&(e=t()),e)}const ei=t=>t,N$=(t,e)=>n=>e(t(n)),Pf=(...t)=>t.reduce(N$),Xm=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Mj{constructor(){this.subscriptions=[]}add(e){return Ij(this.subscriptions,e),()=>Rj(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const oa=t=>t*1e3,Zs=t=>t/1e3;function WR(t,e){return e?t*(1e3/e):0}const KR=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,S$=1e-7,E$=12;function C$(t,e,n,r,i){let a,o,c=0;do o=e+(n-e)/2,a=KR(o,r,i)-t,a>0?n=o:e=o;while(Math.abs(a)>S$&&++c<E$);return o}function Df(t,e,n,r){if(t===e&&n===r)return ei;const i=a=>C$(a,0,1,t,n);return a=>a===0||a===1?a:KR(i(a),e,r)}const GR=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,QR=t=>e=>1-t(1-e),YR=Df(.33,1.53,.69,.99),Oj=QR(YR),JR=GR(Oj),XR=t=>(t*=2)<1?.5*Oj(t):.5*(2-Math.pow(2,-10*(t-1))),Lj=t=>1-Math.sin(Math.acos(t)),ZR=QR(Lj),eP=GR(Lj),k$=Df(.42,0,1,1),T$=Df(0,0,.58,1),tP=Df(.42,0,.58,1),A$=t=>Array.isArray(t)&&typeof t[0]!="number",nP=t=>Array.isArray(t)&&typeof t[0]=="number",I$={linear:ei,easeIn:k$,easeInOut:tP,easeOut:T$,circIn:Lj,circInOut:eP,circOut:ZR,backIn:Oj,backInOut:JR,backOut:YR,anticipate:XR},R$=t=>typeof t=="string",HC=t=>{if(nP(t)){Pj(t.length===4);const[e,n,r,i]=t;return Df(e,n,r,i)}else if(R$(t))return I$[t];return t},fg=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function P$(t,e){let n=new Set,r=new Set,i=!1,a=!1;const o=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(m){o.has(m)&&(h.schedule(m),t()),m(c)}const h={schedule:(m,f=!1,g=!1)=>{const N=g&&i?n:r;return f&&o.add(m),N.has(m)||N.add(m),m},cancel:m=>{r.delete(m),o.delete(m)},process:m=>{if(c=m,i){a=!0;return}i=!0,[n,r]=[r,n],n.forEach(d),n.clear(),i=!1,a&&(a=!1,h.process(m))}};return h}const D$=40;function rP(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=fg.reduce((k,C)=>(k[C]=P$(a),k),{}),{setup:c,read:d,resolveKeyframes:h,preUpdate:m,update:f,preRender:g,render:x,postRender:N}=o,w=()=>{const k=oo.useManualTiming?i.timestamp:performance.now();n=!1,oo.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(k-i.timestamp,D$),1)),i.timestamp=k,i.isProcessing=!0,c.process(i),d.process(i),h.process(i),m.process(i),f.process(i),g.process(i),x.process(i),N.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(w))},j=()=>{n=!0,r=!0,i.isProcessing||t(w)};return{schedule:fg.reduce((k,C)=>{const R=o[C];return k[C]=(F,M=!1,P=!1)=>(n||j(),R.schedule(F,M,P)),k},{}),cancel:k=>{for(let C=0;C<fg.length;C++)o[fg[C]].cancel(k)},state:i,steps:o}}const{schedule:gn,cancel:Sl,state:xr,steps:Qv}=rP(typeof requestAnimationFrame<"u"?requestAnimationFrame:ei,!0);let qg;function M$(){qg=void 0}const ds={now:()=>(qg===void 0&&ds.set(xr.isProcessing||oo.useManualTiming?xr.timestamp:performance.now()),qg),set:t=>{qg=t,queueMicrotask(M$)}},sP=t=>e=>typeof e=="string"&&e.startsWith(t),Fj=sP("--"),O$=sP("var(--"),Vj=t=>O$(t)?L$.test(t.split("/*")[0].trim()):!1,L$=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,rh={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Zm={...rh,transform:t=>ao(0,1,t)},pg={...rh,default:1},Am=t=>Math.round(t*1e5)/1e5,Uj=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function F$(t){return t==null}const V$=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,zj=(t,e)=>n=>!!(typeof n=="string"&&V$.test(n)&&n.startsWith(t)||e&&!F$(n)&&Object.prototype.hasOwnProperty.call(n,e)),iP=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,a,o,c]=r.match(Uj);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(o),alpha:c!==void 0?parseFloat(c):1}},U$=t=>ao(0,255,t),Yv={...rh,transform:t=>Math.round(U$(t))},_c={test:zj("rgb","red"),parse:iP("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Yv.transform(t)+", "+Yv.transform(e)+", "+Yv.transform(n)+", "+Am(Zm.transform(r))+")"};function z$(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Sw={test:zj("#"),parse:z$,transform:_c.transform},Mf=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Qo=Mf("deg"),la=Mf("%"),lt=Mf("px"),B$=Mf("vh"),$$=Mf("vw"),WC={...la,parse:t=>la.parse(t)/100,transform:t=>la.transform(t*100)},id={test:zj("hsl","hue"),parse:iP("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+la.transform(Am(e))+", "+la.transform(Am(n))+", "+Am(Zm.transform(r))+")"},Kn={test:t=>_c.test(t)||Sw.test(t)||id.test(t),parse:t=>_c.test(t)?_c.parse(t):id.test(t)?id.parse(t):Sw.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?_c.transform(t):id.transform(t),getAnimatableNone:t=>{const e=Kn.parse(t);return e.alpha=0,Kn.transform(e)}},q$=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function H$(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Uj))==null?void 0:e.length)||0)+(((n=t.match(q$))==null?void 0:n.length)||0)>0}const aP="number",oP="color",W$="var",K$="var(",KC="${}",G$=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ef(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const c=e.replace(G$,d=>(Kn.test(d)?(r.color.push(a),i.push(oP),n.push(Kn.parse(d))):d.startsWith(K$)?(r.var.push(a),i.push(W$),n.push(d)):(r.number.push(a),i.push(aP),n.push(parseFloat(d))),++a,KC)).split(KC);return{values:n,split:c,indexes:r,types:i}}function lP(t){return ef(t).values}function cP(t){const{split:e,types:n}=ef(t),r=e.length;return i=>{let a="";for(let o=0;o<r;o++)if(a+=e[o],i[o]!==void 0){const c=n[o];c===aP?a+=Am(i[o]):c===oP?a+=Kn.transform(i[o]):a+=i[o]}return a}}const Q$=t=>typeof t=="number"?0:Kn.test(t)?Kn.getAnimatableNone(t):t;function Y$(t){const e=lP(t);return cP(t)(e.map(Q$))}const El={test:H$,parse:lP,createTransformer:cP,getAnimatableNone:Y$};function Jv(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function J$({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,a=0,o=0;if(!e)i=a=o=n;else{const c=n<.5?n*(1+e):n+e-n*e,d=2*n-c;i=Jv(d,c,t+1/3),a=Jv(d,c,t),o=Jv(d,c,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}function bx(t,e){return n=>n>0?e:t}const _n=(t,e,n)=>t+(e-t)*n,Xv=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},X$=[Sw,_c,id],Z$=t=>X$.find(e=>e.test(t));function GC(t){const e=Z$(t);if(!e)return!1;let n=e.parse(t);return e===id&&(n=J$(n)),n}const QC=(t,e)=>{const n=GC(t),r=GC(e);if(!n||!r)return bx(t,e);const i={...n};return a=>(i.red=Xv(n.red,r.red,a),i.green=Xv(n.green,r.green,a),i.blue=Xv(n.blue,r.blue,a),i.alpha=_n(n.alpha,r.alpha,a),_c.transform(i))},Ew=new Set(["none","hidden"]);function e8(t,e){return Ew.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function t8(t,e){return n=>_n(t,e,n)}function Bj(t){return typeof t=="number"?t8:typeof t=="string"?Vj(t)?bx:Kn.test(t)?QC:s8:Array.isArray(t)?uP:typeof t=="object"?Kn.test(t)?QC:n8:bx}function uP(t,e){const n=[...t],r=n.length,i=t.map((a,o)=>Bj(a)(a,e[o]));return a=>{for(let o=0;o<r;o++)n[o]=i[o](a);return n}}function n8(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Bj(t[i])(t[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function r8(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],o=t.indexes[a][r[a]],c=t.values[o]??0;n[i]=c,r[a]++}return n}const s8=(t,e)=>{const n=El.createTransformer(e),r=ef(t),i=ef(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Ew.has(t)&&!i.values.length||Ew.has(e)&&!r.values.length?e8(t,e):Pf(uP(r8(r,i),i.values),n):bx(t,e)};function dP(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?_n(t,e,n):Bj(t)(t,e)}const i8=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>gn.update(e,n),stop:()=>Sl(e),now:()=>xr.isProcessing?xr.timestamp:ds.now()}},hP=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)r+=Math.round(t(a/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},wx=2e4;function $j(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<wx;)e+=n,r=t.next(e);return e>=wx?1/0:e}function a8(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min($j(r),wx);return{type:"keyframes",ease:a=>r.next(i*a).value/e,duration:Zs(i)}}const o8=5;function mP(t,e,n){const r=Math.max(e-o8,0);return WR(n-t(r),e-r)}const In={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Zv=.001;function l8({duration:t=In.duration,bounce:e=In.bounce,velocity:n=In.velocity,mass:r=In.mass}){let i,a,o=1-e;o=ao(In.minDamping,In.maxDamping,o),t=ao(In.minDuration,In.maxDuration,Zs(t)),o<1?(i=h=>{const m=h*o,f=m*t,g=m-n,x=Cw(h,o),N=Math.exp(-f);return Zv-g/x*N},a=h=>{const f=h*o*t,g=f*n+n,x=Math.pow(o,2)*Math.pow(h,2)*t,N=Math.exp(-f),w=Cw(Math.pow(h,2),o);return(-i(h)+Zv>0?-1:1)*((g-x)*N)/w}):(i=h=>{const m=Math.exp(-h*t),f=(h-n)*t+1;return-Zv+m*f},a=h=>{const m=Math.exp(-h*t),f=(n-h)*(t*t);return m*f});const c=5/t,d=u8(i,a,c);if(t=oa(t),isNaN(d))return{stiffness:In.stiffness,damping:In.damping,duration:t};{const h=Math.pow(d,2)*r;return{stiffness:h,damping:o*2*Math.sqrt(r*h),duration:t}}}const c8=12;function u8(t,e,n){let r=n;for(let i=1;i<c8;i++)r=r-t(r)/e(r);return r}function Cw(t,e){return t*Math.sqrt(1-e*e)}const d8=["duration","bounce"],h8=["stiffness","damping","mass"];function YC(t,e){return e.some(n=>t[n]!==void 0)}function m8(t){let e={velocity:In.velocity,stiffness:In.stiffness,damping:In.damping,mass:In.mass,isResolvedFromDuration:!1,...t};if(!YC(t,h8)&&YC(t,d8))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*ao(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:In.mass,stiffness:i,damping:a}}else{const n=l8(t);e={...e,...n,mass:In.mass},e.isResolvedFromDuration=!0}return e}function jx(t=In.visualDuration,e=In.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],c={done:!1,value:a},{stiffness:d,damping:h,mass:m,duration:f,velocity:g,isResolvedFromDuration:x}=m8({...n,velocity:-Zs(n.velocity||0)}),N=g||0,w=h/(2*Math.sqrt(d*m)),j=o-a,_=Zs(Math.sqrt(d/m)),E=Math.abs(j)<5;r||(r=E?In.restSpeed.granular:In.restSpeed.default),i||(i=E?In.restDelta.granular:In.restDelta.default);let k;if(w<1){const R=Cw(_,w);k=F=>{const M=Math.exp(-w*_*F);return o-M*((N+w*_*j)/R*Math.sin(R*F)+j*Math.cos(R*F))}}else if(w===1)k=R=>o-Math.exp(-_*R)*(j+(N+_*j)*R);else{const R=_*Math.sqrt(w*w-1);k=F=>{const M=Math.exp(-w*_*F),P=Math.min(R*F,300);return o-M*((N+w*_*j)*Math.sinh(P)+R*j*Math.cosh(P))/R}}const C={calculatedDuration:x&&f||null,next:R=>{const F=k(R);if(x)c.done=R>=f;else{let M=R===0?N:0;w<1&&(M=R===0?oa(N):mP(k,R,F));const P=Math.abs(M)<=r,I=Math.abs(o-F)<=i;c.done=P&&I}return c.value=c.done?o:F,c},toString:()=>{const R=Math.min($j(C),wx),F=hP(M=>C.next(R*M).value,R,30);return R+"ms "+F},toTransition:()=>{}};return C}jx.applyToOptions=t=>{const e=a8(t,100,jx);return t.ease=e.ease,t.duration=oa(e.duration),t.type="keyframes",t};function kw({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:c,max:d,restDelta:h=.5,restSpeed:m}){const f=t[0],g={done:!1,value:f},x=P=>c!==void 0&&P<c||d!==void 0&&P>d,N=P=>c===void 0?d:d===void 0||Math.abs(c-P)<Math.abs(d-P)?c:d;let w=n*e;const j=f+w,_=o===void 0?j:o(j);_!==j&&(w=_-f);const E=P=>-w*Math.exp(-P/r),k=P=>_+E(P),C=P=>{const I=E(P),L=k(P);g.done=Math.abs(I)<=h,g.value=g.done?_:L};let R,F;const M=P=>{x(g.value)&&(R=P,F=jx({keyframes:[g.value,N(g.value)],velocity:mP(k,P,g.value),damping:i,stiffness:a,restDelta:h,restSpeed:m}))};return M(0),{calculatedDuration:null,next:P=>{let I=!1;return!F&&R===void 0&&(I=!0,C(P),M(P)),R!==void 0&&P>=R?F.next(P-R):(!I&&C(P),g)}}}function f8(t,e,n){const r=[],i=n||oo.mix||dP,a=t.length-1;for(let o=0;o<a;o++){let c=i(t[o],t[o+1]);if(e){const d=Array.isArray(e)?e[o]||ei:e;c=Pf(d,c)}r.push(c)}return r}function p8(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;if(Pj(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=f8(e,r,i),d=c.length,h=m=>{if(o&&m<t[0])return e[0];let f=0;if(d>1)for(;f<t.length-2&&!(m<t[f+1]);f++);const g=Xm(t[f],t[f+1],m);return c[f](g)};return n?m=>h(ao(t[0],t[a-1],m)):h}function g8(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Xm(0,e,r);t.push(_n(n,1,i))}}function x8(t){const e=[0];return g8(e,t.length-1),e}function y8(t,e){return t.map(n=>n*e)}function v8(t,e){return t.map(()=>e||tP).splice(0,t.length-1)}function Im({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=A$(r)?r.map(HC):HC(r),a={done:!1,value:e[0]},o=y8(n&&n.length===e.length?n:x8(e),t),c=p8(o,e,{ease:Array.isArray(i)?i:v8(e,i)});return{calculatedDuration:t,next:d=>(a.value=c(d),a.done=d>=t,a)}}const b8=t=>t!==null;function qj(t,{repeat:e,repeatType:n="loop"},r,i=1){const a=t.filter(b8),c=i<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!c||r===void 0?a[c]:r}const w8={decay:kw,inertia:kw,tween:Im,keyframes:Im,spring:jx};function fP(t){typeof t.type=="string"&&(t.type=w8[t.type])}class Hj{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const j8=t=>t/100;class Wj extends Hj{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==ds.now()&&this.tick(ds.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;fP(e);const{type:n=Im,repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=e;let{keyframes:c}=e;const d=n||Im;d!==Im&&typeof c[0]!="number"&&(this.mixKeyframes=Pf(j8,dP(c[0],c[1])),c=[0,100]);const h=d({...e,keyframes:c});a==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...c].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=$j(h));const{calculatedDuration:m}=h;this.calculatedDuration=m,this.resolvedDuration=m+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=h}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:c,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:h=0,keyframes:m,repeat:f,repeatType:g,repeatDelay:x,type:N,onUpdate:w,finalKeyframe:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const _=this.currentTime-h*(this.playbackSpeed>=0?1:-1),E=this.playbackSpeed>=0?_<0:_>i;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let k=this.currentTime,C=r;if(f){const P=Math.min(this.currentTime,i)/c;let I=Math.floor(P),L=P%1;!L&&P>=1&&(L=1),L===1&&I--,I=Math.min(I,f+1),!!(I%2)&&(g==="reverse"?(L=1-L,x&&(L-=x/c)):g==="mirror"&&(C=o)),k=ao(0,1,L)*c}const R=E?{done:!1,value:m[0]}:C.next(k);a&&(R.value=a(R.value));let{done:F}=R;!E&&d!==null&&(F=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&F);return M&&N!==kw&&(R.value=qj(m,this.options,j,this.speed)),w&&w(R.value),M&&this.finish(),R}then(e,n){return this.finished.then(e,n)}get duration(){return Zs(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Zs(e)}get time(){return Zs(this.currentTime)}set time(e){var n;e=oa(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ds.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Zs(this.currentTime))}play(){var i,a;if(this.isStopped)return;const{driver:e=i8,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(a=(i=this.options).onPlay)==null||a.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ds.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function _8(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Nc=t=>t*180/Math.PI,Tw=t=>{const e=Nc(Math.atan2(t[1],t[0]));return Aw(e)},N8={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Tw,rotateZ:Tw,skewX:t=>Nc(Math.atan(t[1])),skewY:t=>Nc(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Aw=t=>(t=t%360,t<0&&(t+=360),t),JC=Tw,XC=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),ZC=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),S8={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:XC,scaleY:ZC,scale:t=>(XC(t)+ZC(t))/2,rotateX:t=>Aw(Nc(Math.atan2(t[6],t[5]))),rotateY:t=>Aw(Nc(Math.atan2(-t[2],t[0]))),rotateZ:JC,rotate:JC,skewX:t=>Nc(Math.atan(t[4])),skewY:t=>Nc(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Iw(t){return t.includes("scale")?1:0}function Rw(t,e){if(!t||t==="none")return Iw(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=S8,i=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=N8,i=c}if(!i)return Iw(e);const a=r[e],o=i[1].split(",").map(C8);return typeof a=="function"?a(o):o[a]}const E8=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Rw(n,e)};function C8(t){return parseFloat(t.trim())}const sh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ih=new Set(sh),ek=t=>t===rh||t===lt,k8=new Set(["x","y","z"]),T8=sh.filter(t=>!k8.has(t));function A8(t){const e=[];return T8.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Lc={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Rw(e,"x"),y:(t,{transform:e})=>Rw(e,"y")};Lc.translateX=Lc.x;Lc.translateY=Lc.y;const Fc=new Set;let Pw=!1,Dw=!1,Mw=!1;function pP(){if(Dw){const t=Array.from(Fc).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=A8(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,o])=>{var c;(c=r.getValue(a))==null||c.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Dw=!1,Pw=!1,Fc.forEach(t=>t.complete(Mw)),Fc.clear()}function gP(){Fc.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Dw=!0)})}function I8(){Mw=!0,gP(),pP(),Mw=!1}class Kj{constructor(e,n,r,i,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Fc.add(this),Pw||(Pw=!0,gn.read(gP),gn.resolveKeyframes(pP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const a=i==null?void 0:i.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const c=r.readValue(n,o);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=o),i&&a===void 0&&i.set(e[0])}_8(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Fc.delete(this)}cancel(){this.state==="scheduled"&&(Fc.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const R8=t=>t.startsWith("--");function P8(t,e,n){R8(e)?t.style.setProperty(e,n):t.style[e]=n}const D8=Dj(()=>window.ScrollTimeline!==void 0),M8={};function O8(t,e){const n=Dj(t);return()=>M8[e]??n()}const xP=O8(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),vm=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,tk={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:vm([0,.65,.55,1]),circOut:vm([.55,0,1,.45]),backIn:vm([.31,.01,.66,-.59]),backOut:vm([.33,1.53,.69,.99])};function yP(t,e){if(t)return typeof t=="function"?xP()?hP(t,e):"ease-out":nP(t)?vm(t):Array.isArray(t)?t.map(n=>yP(n,e)||tk.easeOut):tk[t]}function L8(t,e,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:c="easeOut",times:d}={},h=void 0){const m={[e]:n};d&&(m.offset=d);const f=yP(c,i);Array.isArray(f)&&(m.easing=f);const g={delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return h&&(g.pseudoElement=h),t.animate(m,g)}function vP(t){return typeof t=="function"&&"applyToOptions"in t}function F8({type:t,...e}){return vP(t)&&xP()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class V8 extends Hj{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:c,onComplete:d}=e;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=e,Pj(typeof e.type!="string");const h=F8(e);this.animation=L8(n,r,i,h,a),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const m=qj(i,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(m):P8(n,r,m),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Zs(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Zs(e)}get time(){return Zs(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=oa(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&D8()?(this.animation.timeline=e,ei):n(this)}}const bP={anticipate:XR,backInOut:JR,circInOut:eP};function U8(t){return t in bP}function z8(t){typeof t.ease=="string"&&U8(t.ease)&&(t.ease=bP[t.ease])}const nk=10;class B8 extends V8{constructor(e){z8(e),fP(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:a,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const c=new Wj({...o,autoplay:!1}),d=oa(this.finishedTime??this.time);n.setWithVelocity(c.sample(d-nk).value,c.sample(d).value,nk),c.stop()}}const rk=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(El.test(t)||t==="0")&&!t.startsWith("url("));function $8(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function q8(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],o=rk(i,e),c=rk(a,e);return!o||!c?!1:$8(t)||(n==="spring"||vP(n))&&r}function Ow(t){t.duration=0,t.type="keyframes"}const H8=new Set(["opacity","clipPath","filter","transform"]),W8=Dj(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function K8(t){var m;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:a,type:o}=t;if(!(((m=e==null?void 0:e.owner)==null?void 0:m.current)instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:h}=e.owner.getProps();return W8()&&n&&H8.has(n)&&(n!=="transform"||!h)&&!d&&!r&&i!=="mirror"&&a!==0&&o!=="inertia"}const G8=40;class Q8 extends Hj{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",keyframes:c,name:d,motionValue:h,element:m,...f}){var N;super(),this.stop=()=>{var w,j;this._animation&&(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)),(j=this.keyframeResolver)==null||j.cancel()},this.createdAt=ds.now();const g={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:o,name:d,motionValue:h,element:m,...f},x=(m==null?void 0:m.KeyframeResolver)||Kj;this.keyframeResolver=new x(c,(w,j,_)=>this.onKeyframesResolved(w,j,g,!_),d,h,m),(N=this.keyframeResolver)==null||N.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:a,type:o,velocity:c,delay:d,isHandoff:h,onUpdate:m}=r;this.resolvedAt=ds.now(),q8(e,a,o,c)||((oo.instantAnimations||!d)&&(m==null||m(qj(e,r,n))),e[0]=e[e.length-1],Ow(r),r.repeat=0);const g={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>G8?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},x=!h&&K8(g)?new B8({...g,element:g.motionValue.owner.current}):new Wj(g);x.finished.then(()=>this.notifyFinished()).catch(ei),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),I8()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const Y8=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function J8(t){const e=Y8.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function wP(t,e,n=1){const[r,i]=J8(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const o=a.trim();return $R(o)?parseFloat(o):o}return Vj(i)?wP(i,e,n+1):i}function Gj(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const jP=new Set(["width","height","top","left","right","bottom",...sh]),X8={test:t=>t==="auto",parse:t=>t},_P=t=>e=>e.test(t),NP=[rh,lt,la,Qo,$$,B$,X8],sk=t=>NP.find(_P(t));function Z8(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||HR(t):!0}const e7=new Set(["brightness","contrast","saturate","opacity"]);function t7(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Uj)||[];if(!r)return t;const i=n.replace(r,"");let a=e7.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const n7=/\b([a-z-]*)\(.*?\)/gu,Lw={...El,getAnimatableNone:t=>{const e=t.match(n7);return e?e.map(t7).join(" "):t}},ik={...rh,transform:Math.round},r7={rotate:Qo,rotateX:Qo,rotateY:Qo,rotateZ:Qo,scale:pg,scaleX:pg,scaleY:pg,scaleZ:pg,skew:Qo,skewX:Qo,skewY:Qo,distance:lt,translateX:lt,translateY:lt,translateZ:lt,x:lt,y:lt,z:lt,perspective:lt,transformPerspective:lt,opacity:Zm,originX:WC,originY:WC,originZ:lt},Qj={borderWidth:lt,borderTopWidth:lt,borderRightWidth:lt,borderBottomWidth:lt,borderLeftWidth:lt,borderRadius:lt,radius:lt,borderTopLeftRadius:lt,borderTopRightRadius:lt,borderBottomRightRadius:lt,borderBottomLeftRadius:lt,width:lt,maxWidth:lt,height:lt,maxHeight:lt,top:lt,right:lt,bottom:lt,left:lt,padding:lt,paddingTop:lt,paddingRight:lt,paddingBottom:lt,paddingLeft:lt,margin:lt,marginTop:lt,marginRight:lt,marginBottom:lt,marginLeft:lt,backgroundPositionX:lt,backgroundPositionY:lt,...r7,zIndex:ik,fillOpacity:Zm,strokeOpacity:Zm,numOctaves:ik},s7={...Qj,color:Kn,backgroundColor:Kn,outlineColor:Kn,fill:Kn,stroke:Kn,borderColor:Kn,borderTopColor:Kn,borderRightColor:Kn,borderBottomColor:Kn,borderLeftColor:Kn,filter:Lw,WebkitFilter:Lw},SP=t=>s7[t];function EP(t,e){let n=SP(t);return n!==Lw&&(n=El),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const i7=new Set(["auto","none","0"]);function a7(t,e,n){let r=0,i;for(;r<t.length&&!i;){const a=t[r];typeof a=="string"&&!i7.has(a)&&ef(a).values.length&&(i=t[r]),r++}if(i&&n)for(const a of e)t[a]=EP(n,i)}class o7 extends Kj{constructor(e,n,r,i,a){super(e,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let h=e[d];if(typeof h=="string"&&(h=h.trim(),Vj(h))){const m=wP(h,n.current);m!==void 0&&(e[d]=m),d===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!jP.has(r)||e.length!==2)return;const[i,a]=e,o=sk(i),c=sk(a);if(o!==c)if(ek(o)&&ek(c))for(let d=0;d<e.length;d++){const h=e[d];typeof h=="string"&&(e[d]=parseFloat(h))}else Lc[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||Z8(e[i]))&&r.push(i);r.length&&a7(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Lc[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var c;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,o=r[a];r[a]=Lc[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([d,h])=>{e.getValue(d).set(h)}),this.resolveNoneKeyframes()}}function l7(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const CP=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function kP(t){return qR(t)&&"offsetHeight"in t}const ak=30,c7=t=>!isNaN(parseFloat(t));class u7{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var a;const i=ds.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ds.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=c7(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Mj);const r=this.events[e].add(n);return e==="change"?()=>{r(),gn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ds.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>ak)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,ak);return WR(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Fd(t,e){return new u7(t,e)}const{schedule:Yj}=rP(queueMicrotask,!1),xi={x:!1,y:!1};function TP(){return xi.x||xi.y}function d7(t){return t==="x"||t==="y"?xi[t]?null:(xi[t]=!0,()=>{xi[t]=!1}):xi.x||xi.y?null:(xi.x=xi.y=!0,()=>{xi.x=xi.y=!1})}function AP(t,e){const n=l7(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function ok(t){return!(t.pointerType==="touch"||TP())}function h7(t,e,n={}){const[r,i,a]=AP(t,n),o=c=>{if(!ok(c))return;const{target:d}=c,h=e(d,c);if(typeof h!="function"||!d)return;const m=f=>{ok(f)&&(h(f),d.removeEventListener("pointerleave",m))};d.addEventListener("pointerleave",m,i)};return r.forEach(c=>{c.addEventListener("pointerenter",o,i)}),a}const IP=(t,e)=>e?t===e?!0:IP(t,e.parentElement):!1,Jj=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,m7=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function f7(t){return m7.has(t.tagName)||t.tabIndex!==-1}const Hg=new WeakSet;function lk(t){return e=>{e.key==="Enter"&&t(e)}}function eb(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const p7=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=lk(()=>{if(Hg.has(n))return;eb(n,"down");const i=lk(()=>{eb(n,"up")}),a=()=>eb(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function ck(t){return Jj(t)&&!TP()}function g7(t,e,n={}){const[r,i,a]=AP(t,n),o=c=>{const d=c.currentTarget;if(!ck(c))return;Hg.add(d);const h=e(d,c),m=(x,N)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",g),Hg.has(d)&&Hg.delete(d),ck(x)&&typeof h=="function"&&h(x,{success:N})},f=x=>{m(x,d===window||d===document||n.useGlobalTarget||IP(d,x.target))},g=x=>{m(x,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",g,i)};return r.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",o,i),kP(c)&&(c.addEventListener("focus",h=>p7(h,i)),!f7(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),a}function RP(t){return qR(t)&&"ownerSVGElement"in t}function x7(t){return RP(t)&&t.tagName==="svg"}const Pr=t=>!!(t&&t.getVelocity),y7=[...NP,Kn,El],v7=t=>y7.find(_P(t)),Xj=v.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function uk(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function b7(...t){return e=>{let n=!1;const r=t.map(i=>{const a=uk(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():uk(t[i],null)}}}}function w7(...t){return v.useCallback(b7(...t),t)}class j7 extends v.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=kP(r)&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function _7({children:t,isPresent:e,anchorX:n,root:r}){const i=v.useId(),a=v.useRef(null),o=v.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=v.useContext(Xj),d=w7(a,t==null?void 0:t.ref);return v.useInsertionEffect(()=>{const{width:h,height:m,top:f,left:g,right:x}=o.current;if(e||!a.current||!h||!m)return;const N=n==="left"?`left: ${g}`:`right: ${x}`;a.current.dataset.motionPopId=i;const w=document.createElement("style");c&&(w.nonce=c);const j=r??document.head;return j.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${m}px !important;
            ${N}px !important;
            top: ${f}px !important;
          }
        `),()=>{j.contains(w)&&j.removeChild(w)}},[e]),s.jsx(j7,{isPresent:e,childRef:a,sizeRef:o,children:v.cloneElement(t,{ref:d})})}const N7=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:o,anchorX:c,root:d})=>{const h=Tj(S7),m=v.useId();let f=!0,g=v.useMemo(()=>(f=!1,{id:m,initial:e,isPresent:n,custom:i,onExitComplete:x=>{h.set(x,!0);for(const N of h.values())if(!N)return;r&&r()},register:x=>(h.set(x,!1),()=>h.delete(x))}),[n,h,r]);return a&&f&&(g={...g}),v.useMemo(()=>{h.forEach((x,N)=>h.set(N,!1))},[n]),v.useEffect(()=>{!n&&!h.size&&r&&r()},[n]),o==="popLayout"&&(t=s.jsx(_7,{isPresent:n,anchorX:c,root:d,children:t})),s.jsx(xy.Provider,{value:g,children:t})};function S7(){return new Map}function PP(t=!0){const e=v.useContext(xy);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,a=v.useId();v.useEffect(()=>{if(t)return i(a)},[t]);const o=v.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,o]:[!0]}const gg=t=>t.key||"";function dk(t){const e=[];return v.Children.forEach(t,n=>{v.isValidElement(n)&&e.push(n)}),e}const ri=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:o=!1,anchorX:c="left",root:d})=>{const[h,m]=PP(o),f=v.useMemo(()=>dk(t),[t]),g=o&&!h?[]:f.map(gg),x=v.useRef(!0),N=v.useRef(f),w=Tj(()=>new Map),[j,_]=v.useState(f),[E,k]=v.useState(f);BR(()=>{x.current=!1,N.current=f;for(let F=0;F<E.length;F++){const M=gg(E[F]);g.includes(M)?w.delete(M):w.get(M)!==!0&&w.set(M,!1)}},[E,g.length,g.join("-")]);const C=[];if(f!==j){let F=[...f];for(let M=0;M<E.length;M++){const P=E[M],I=gg(P);g.includes(I)||(F.splice(M,0,P),C.push(P))}return a==="wait"&&C.length&&(F=C),k(dk(F)),_(f),null}const{forceRender:R}=v.useContext(kj);return s.jsx(s.Fragment,{children:E.map(F=>{const M=gg(F),P=o&&!h?!1:f===E||g.includes(M),I=()=>{if(w.has(M))w.set(M,!0);else return;let L=!0;w.forEach(U=>{U||(L=!1)}),L&&(R==null||R(),k(N.current),o&&(m==null||m()),r&&r())};return s.jsx(N7,{isPresent:P,initial:!x.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:a,root:d,onExitComplete:P?void 0:I,anchorX:c,children:F},M)})})},DP=v.createContext({strict:!1}),hk={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Vd={};for(const t in hk)Vd[t]={isEnabled:e=>hk[t].some(n=>!!e[n])};function E7(t){for(const e in t)Vd[e]={...Vd[e],...t[e]}}const C7=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function _x(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||C7.has(t)}let MP=t=>!_x(t);function k7(t){typeof t=="function"&&(MP=e=>e.startsWith("on")?!_x(e):t(e))}try{k7(require("@emotion/is-prop-valid").default)}catch{}function T7(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(MP(i)||n===!0&&_x(i)||!e&&!_x(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const yy=v.createContext({});function vy(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function tf(t){return typeof t=="string"||Array.isArray(t)}const Zj=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],e_=["initial",...Zj];function by(t){return vy(t.animate)||e_.some(e=>tf(t[e]))}function OP(t){return!!(by(t)||t.variants)}function A7(t,e){if(by(t)){const{initial:n,animate:r}=t;return{initial:n===!1||tf(n)?n:void 0,animate:tf(r)?r:void 0}}return t.inherit!==!1?e:{}}function I7(t){const{initial:e,animate:n}=A7(t,v.useContext(yy));return v.useMemo(()=>({initial:e,animate:n}),[mk(e),mk(n)])}function mk(t){return Array.isArray(t)?t.join(" "):t}const nf={};function R7(t){for(const e in t)nf[e]=t[e],Fj(e)&&(nf[e].isCSSVariable=!0)}function LP(t,{layout:e,layoutId:n}){return ih.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!nf[t]||t==="opacity")}const P7={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},D7=sh.length;function M7(t,e,n){let r="",i=!0;for(let a=0;a<D7;a++){const o=sh[a],c=t[o];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(o.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||n){const h=CP(c,Qj[o]);if(!d){i=!1;const m=P7[o]||o;r+=`${m}(${h}) `}n&&(e[o]=h)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function t_(t,e,n){const{style:r,vars:i,transformOrigin:a}=t;let o=!1,c=!1;for(const d in e){const h=e[d];if(ih.has(d)){o=!0;continue}else if(Fj(d)){i[d]=h;continue}else{const m=CP(h,Qj[d]);d.startsWith("origin")?(c=!0,a[d]=m):r[d]=m}}if(e.transform||(o||n?r.transform=M7(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:d="50%",originY:h="50%",originZ:m=0}=a;r.transformOrigin=`${d} ${h} ${m}`}}const n_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function FP(t,e,n){for(const r in e)!Pr(e[r])&&!LP(r,n)&&(t[r]=e[r])}function O7({transformTemplate:t},e){return v.useMemo(()=>{const n=n_();return t_(n,e,t),Object.assign({},n.vars,n.style)},[e])}function L7(t,e){const n=t.style||{},r={};return FP(r,n,t),Object.assign(r,O7(t,e)),r}function F7(t,e){const n={},r=L7(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const V7={offset:"stroke-dashoffset",array:"stroke-dasharray"},U7={offset:"strokeDashoffset",array:"strokeDasharray"};function z7(t,e,n=1,r=0,i=!0){t.pathLength=1;const a=i?V7:U7;t[a.offset]=lt.transform(-r);const o=lt.transform(e),c=lt.transform(n);t[a.array]=`${o} ${c}`}function VP(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:o=0,...c},d,h,m){if(t_(t,c,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:g}=t;f.transform&&(g.transform=f.transform,delete f.transform),(g.transform||f.transformOrigin)&&(g.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),g.transform&&(g.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),i!==void 0&&z7(f,i,a,o,!1)}const UP=()=>({...n_(),attrs:{}}),zP=t=>typeof t=="string"&&t.toLowerCase()==="svg";function B7(t,e,n,r){const i=v.useMemo(()=>{const a=UP();return VP(a,e,zP(r),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};FP(a,t.style,t),i.style={...a,...i.style}}return i}const $7=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function r_(t){return typeof t!="string"||t.includes("-")?!1:!!($7.indexOf(t)>-1||/[A-Z]/u.test(t))}function q7(t,e,n,{latestValues:r},i,a=!1){const c=(r_(t)?B7:F7)(e,r,i,t),d=T7(e,typeof t=="string",a),h=t!==v.Fragment?{...d,...c,ref:n}:{},{children:m}=e,f=v.useMemo(()=>Pr(m)?m.get():m,[m]);return v.createElement(t,{...h,children:f})}function fk(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function s_(t,e,n,r){if(typeof e=="function"){const[i,a]=fk(r);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=fk(r);e=e(n!==void 0?n:t.custom,i,a)}return e}function Wg(t){return Pr(t)?t.get():t}function H7({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:W7(n,r,i,t),renderState:e()}}function W7(t,e,n,r){const i={},a=r(t,{});for(const g in a)i[g]=Wg(a[g]);let{initial:o,animate:c}=t;const d=by(t),h=OP(t);e&&h&&!d&&t.inherit!==!1&&(o===void 0&&(o=e.initial),c===void 0&&(c=e.animate));let m=n?n.initial===!1:!1;m=m||o===!1;const f=m?c:o;if(f&&typeof f!="boolean"&&!vy(f)){const g=Array.isArray(f)?f:[f];for(let x=0;x<g.length;x++){const N=s_(t,g[x]);if(N){const{transitionEnd:w,transition:j,..._}=N;for(const E in _){let k=_[E];if(Array.isArray(k)){const C=m?k.length-1:0;k=k[C]}k!==null&&(i[E]=k)}for(const E in w)i[E]=w[E]}}}return i}const BP=t=>(e,n)=>{const r=v.useContext(yy),i=v.useContext(xy),a=()=>H7(t,e,r,i);return n?a():Tj(a)};function i_(t,e,n){var a;const{style:r}=t,i={};for(const o in r)(Pr(r[o])||e.style&&Pr(e.style[o])||LP(o,t)||((a=n==null?void 0:n.getValue(o))==null?void 0:a.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const K7=BP({scrapeMotionValuesFromProps:i_,createRenderState:n_});function $P(t,e,n){const r=i_(t,e,n);for(const i in t)if(Pr(t[i])||Pr(e[i])){const a=sh.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=t[i]}return r}const G7=BP({scrapeMotionValuesFromProps:$P,createRenderState:UP}),Q7=Symbol.for("motionComponentSymbol");function ad(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Y7(t,e,n){return v.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ad(n)&&(n.current=r))},[e])}const a_=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),J7="framerAppearId",qP="data-"+a_(J7),HP=v.createContext({});function X7(t,e,n,r,i){var w,j;const{visualElement:a}=v.useContext(yy),o=v.useContext(DP),c=v.useContext(xy),d=v.useContext(Xj).reducedMotion,h=v.useRef(null);r=r||o.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const m=h.current,f=v.useContext(HP);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&Z7(h.current,n,i,f);const g=v.useRef(!1);v.useInsertionEffect(()=>{m&&g.current&&m.update(n,c)});const x=n[qP],N=v.useRef(!!x&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,x))&&((j=window.MotionHasOptimisedAnimation)==null?void 0:j.call(window,x)));return BR(()=>{m&&(g.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),N.current&&m.animationState&&m.animationState.animateChanges())}),v.useEffect(()=>{m&&(!N.current&&m.animationState&&m.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)==null||_.call(window,x)}),N.current=!1),m.enteringChildren=void 0)}),m}function Z7(t,e,n,r){const{layoutId:i,layout:a,drag:o,dragConstraints:c,layoutScroll:d,layoutRoot:h,layoutCrossfade:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:WP(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||c&&ad(c),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:m,layoutScroll:d,layoutRoot:h})}function WP(t){if(t)return t.options.allowProjection!==!1?t.projection:WP(t.parent)}function tb(t,{forwardMotionProps:e=!1}={},n,r){n&&E7(n);const i=r_(t)?G7:K7;function a(c,d){let h;const m={...v.useContext(Xj),...c,layoutId:eq(c)},{isStatic:f}=m,g=I7(c),x=i(c,f);if(!f&&Aj){tq();const N=nq(m);h=N.MeasureLayout,g.visualElement=X7(t,x,m,r,N.ProjectionNode)}return s.jsxs(yy.Provider,{value:g,children:[h&&g.visualElement?s.jsx(h,{visualElement:g.visualElement,...m}):null,q7(t,c,Y7(x,g.visualElement,d),x,f,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=v.forwardRef(a);return o[Q7]=t,o}function eq({layoutId:t}){const e=v.useContext(kj).id;return e&&t!==void 0?e+"-"+t:t}function tq(t,e){v.useContext(DP).strict}function nq(t){const{drag:e,layout:n}=Vd;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function rq(t,e){if(typeof Proxy>"u")return tb;const n=new Map,r=(a,o)=>tb(a,o,t,e),i=(a,o)=>r(a,o);return new Proxy(i,{get:(a,o)=>o==="create"?r:(n.has(o)||n.set(o,tb(o,void 0,t,e)),n.get(o))})}function KP({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function sq({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function iq(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function nb(t){return t===void 0||t===1}function Fw({scale:t,scaleX:e,scaleY:n}){return!nb(t)||!nb(e)||!nb(n)}function wc(t){return Fw(t)||GP(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function GP(t){return pk(t.x)||pk(t.y)}function pk(t){return t&&t!=="0%"}function Nx(t,e,n){const r=t-n,i=e*r;return n+i}function gk(t,e,n,r,i){return i!==void 0&&(t=Nx(t,i,r)),Nx(t,n,r)+e}function Vw(t,e=0,n=1,r,i){t.min=gk(t.min,e,n,r,i),t.max=gk(t.max,e,n,r,i)}function QP(t,{x:e,y:n}){Vw(t.x,e.translate,e.scale,e.originPoint),Vw(t.y,n.translate,n.scale,n.originPoint)}const xk=.999999999999,yk=1.0000000000001;function aq(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,o;for(let c=0;c<i;c++){a=n[c],o=a.projectionDelta;const{visualElement:d}=a.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&ld(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,QP(t,o)),r&&wc(a.latestValues)&&ld(t,a.latestValues))}e.x<yk&&e.x>xk&&(e.x=1),e.y<yk&&e.y>xk&&(e.y=1)}function od(t,e){t.min=t.min+e,t.max=t.max+e}function vk(t,e,n,r,i=.5){const a=_n(t.min,t.max,i);Vw(t,e,n,a,r)}function ld(t,e){vk(t.x,e.x,e.scaleX,e.scale,e.originX),vk(t.y,e.y,e.scaleY,e.scale,e.originY)}function YP(t,e){return KP(iq(t.getBoundingClientRect(),e))}function oq(t,e,n){const r=YP(t,n),{scroll:i}=e;return i&&(od(r.x,i.offset.x),od(r.y,i.offset.y)),r}const bk=()=>({translate:0,scale:1,origin:0,originPoint:0}),cd=()=>({x:bk(),y:bk()}),wk=()=>({min:0,max:0}),Ln=()=>({x:wk(),y:wk()}),Uw={current:null},JP={current:!1};function lq(){if(JP.current=!0,!!Aj)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Uw.current=t.matches;t.addEventListener("change",e),e()}else Uw.current=!1}const cq=new WeakMap;function uq(t,e,n){for(const r in e){const i=e[r],a=n[r];if(Pr(i))t.addValue(r,i);else if(Pr(a))t.addValue(r,Fd(i,{owner:t}));else if(a!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Fd(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const jk=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class dq{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:o},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Kj,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=ds.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,gn.render(this.render,!1,!0))};const{latestValues:d,renderState:h}=o;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=by(n),this.isVariantNode=OP(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in f){const x=f[g];d[g]!==void 0&&Pr(x)&&x.set(d[g])}}mount(e){var n;this.current=e,cq.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),JP.current||lq(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Uw.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Sl(this.notifyUpdate),Sl(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ih.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&gn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Vd){const n=Vd[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ln()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<jk.length;r++){const i=jk[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=e[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=uq(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Fd(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&($R(r)||HR(r))?r=parseFloat(r):!v7(r)&&El.test(n)&&(r=EP(e,n)),this.setBaseTarget(e,Pr(r)?r.get():r)),Pr(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var a;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=s_(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Pr(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Mj),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Yj.render(this.render)}}class XP extends dq{constructor(){super(...arguments),this.KeyframeResolver=o7}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Pr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function ZP(t,{style:e,vars:n},r,i){const a=t.style;let o;for(o in e)a[o]=e[o];i==null||i.applyProjectionStyles(a,r);for(o in n)a.setProperty(o,n[o])}function hq(t){return window.getComputedStyle(t)}class mq extends XP{constructor(){super(...arguments),this.type="html",this.renderInstance=ZP}readValueFromInstance(e,n){var r;if(ih.has(n))return(r=this.projection)!=null&&r.isProjecting?Iw(n):E8(e,n);{const i=hq(e),a=(Fj(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return YP(e,n)}build(e,n,r){t_(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return i_(e,n,r)}}const e4=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function fq(t,e,n,r){ZP(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(e4.has(i)?i:a_(i),e.attrs[i])}class pq extends XP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ln}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ih.has(n)){const r=SP(n);return r&&r.default||0}return n=e4.has(n)?n:a_(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return $P(e,n,r)}build(e,n,r){VP(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){fq(e,n,r,i)}mount(e){this.isSVGTag=zP(e.tagName),super.mount(e)}}const gq=(t,e)=>r_(t)?new pq(e):new mq(e,{allowProjection:t!==v.Fragment});function hd(t,e,n){const r=t.getProps();return s_(r,e,n!==void 0?n:r.custom,t)}const zw=t=>Array.isArray(t);function xq(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Fd(n))}function yq(t){return zw(t)?t[t.length-1]||0:t}function vq(t,e){const n=hd(t,e);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const o in a){const c=yq(a[o]);xq(t,o,c)}}function bq(t){return!!(Pr(t)&&t.add)}function Bw(t,e){const n=t.getValue("willChange");if(bq(n))return n.add(e);if(!n&&oo.WillChange){const r=new oo.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function t4(t){return t.props[qP]}const wq=t=>t!==null;function jq(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(wq),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[a]}const _q={type:"spring",stiffness:500,damping:25,restSpeed:10},Nq=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Sq={type:"keyframes",duration:.8},Eq={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Cq=(t,{keyframes:e})=>e.length>2?Sq:ih.has(t)?t.startsWith("scale")?Nq(e[1]):_q:Eq;function kq({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:c,from:d,elapsed:h,...m}){return!!Object.keys(m).length}const o_=(t,e,n,r={},i,a)=>o=>{const c=Gj(r,t)||{},d=c.delay||r.delay||0;let{elapsed:h=0}=r;h=h-oa(d);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-h,onUpdate:g=>{e.set(g),c.onUpdate&&c.onUpdate(g)},onComplete:()=>{o(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:a?void 0:i};kq(c)||Object.assign(m,Cq(t,m)),m.duration&&(m.duration=oa(m.duration)),m.repeatDelay&&(m.repeatDelay=oa(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let f=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(Ow(m),m.delay===0&&(f=!0)),(oo.instantAnimations||oo.skipAnimations)&&(f=!0,Ow(m),m.delay=0),m.allowFlatten=!c.type&&!c.ease,f&&!a&&e.get()!==void 0){const g=jq(m.keyframes,c);if(g!==void 0){gn.update(()=>{m.onUpdate(g),m.onComplete()});return}}return c.isSync?new Wj(m):new Q8(m)};function Tq({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function n4(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:o,...c}=e;r&&(a=r);const d=[],h=i&&t.animationState&&t.animationState.getState()[i];for(const m in c){const f=t.getValue(m,t.latestValues[m]??null),g=c[m];if(g===void 0||h&&Tq(h,m))continue;const x={delay:n,...Gj(a||{},m)},N=f.get();if(N!==void 0&&!f.isAnimating&&!Array.isArray(g)&&g===N&&!x.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const _=t4(t);if(_){const E=window.MotionHandoffAnimation(_,m,gn);E!==null&&(x.startTime=E,w=!0)}}Bw(t,m),f.start(o_(m,f,g,t.shouldReduceMotion&&jP.has(m)?{type:!1}:x,t,w));const j=f.animation;j&&d.push(j)}return o&&Promise.all(d).then(()=>{gn.update(()=>{o&&vq(t,o)})}),d}function r4(t,e,n,r=0,i=1){const a=Array.from(t).sort((h,m)=>h.sortNodePosition(m)).indexOf(e),o=t.size,c=(o-1)*r;return typeof n=="function"?n(a,o):i===1?a*r:c-a*r}function $w(t,e,n={}){var d;const r=hd(t,e,n.type==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(n4(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:m=0,staggerChildren:f,staggerDirection:g}=i;return Aq(t,e,h,m,f,g,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[h,m]=c==="beforeChildren"?[a,o]:[o,a];return h().then(()=>m())}else return Promise.all([a(),o(n.delay)])}function Aq(t,e,n=0,r=0,i=0,a=1,o){const c=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),c.push($w(d,e,{...o,delay:n+(typeof r=="function"?0:r)+r4(t.variantChildren,d,r,i,a)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(c)}function Iq(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>$w(t,a,n));r=Promise.all(i)}else if(typeof e=="string")r=$w(t,e,n);else{const i=typeof e=="function"?hd(t,e,n.custom):e;r=Promise.all(n4(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function s4(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const Rq=e_.length;function i4(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?i4(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Rq;n++){const r=e_[n],i=t.props[r];(tf(i)||i===!1)&&(e[r]=i)}return e}const Pq=[...Zj].reverse(),Dq=Zj.length;function Mq(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Iq(t,n,r)))}function Oq(t){let e=Mq(t),n=_k(),r=!0;const i=d=>(h,m)=>{var g;const f=hd(t,m,d==="exit"?(g=t.presenceContext)==null?void 0:g.custom:void 0);if(f){const{transition:x,transitionEnd:N,...w}=f;h={...h,...w,...N}}return h};function a(d){e=d(t)}function o(d){const{props:h}=t,m=i4(t.parent)||{},f=[],g=new Set;let x={},N=1/0;for(let j=0;j<Dq;j++){const _=Pq[j],E=n[_],k=h[_]!==void 0?h[_]:m[_],C=tf(k),R=_===d?E.isActive:null;R===!1&&(N=j);let F=k===m[_]&&k!==h[_]&&C;if(F&&r&&t.manuallyAnimateOnMount&&(F=!1),E.protectedKeys={...x},!E.isActive&&R===null||!k&&!E.prevProp||vy(k)||typeof k=="boolean")continue;const M=Lq(E.prevProp,k);let P=M||_===d&&E.isActive&&!F&&C||j>N&&C,I=!1;const L=Array.isArray(k)?k:[k];let U=L.reduce(i(_),{});R===!1&&(U={});const{prevResolvedValues:D={}}=E,V={...D,...U},J=ie=>{P=!0,g.has(ie)&&(I=!0,g.delete(ie)),E.needsAnimating[ie]=!0;const Q=t.getValue(ie);Q&&(Q.liveStyle=!1)};for(const ie in V){const Q=U[ie],q=D[ie];if(x.hasOwnProperty(ie))continue;let B=!1;zw(Q)&&zw(q)?B=!s4(Q,q):B=Q!==q,B?Q!=null?J(ie):g.add(ie):Q!==void 0&&g.has(ie)?J(ie):E.protectedKeys[ie]=!0}E.prevProp=k,E.prevResolvedValues=U,E.isActive&&(x={...x,...U}),r&&t.blockInitialAnimation&&(P=!1);const ee=F&&M;P&&(!ee||I)&&f.push(...L.map(ie=>{const Q={type:_};if(typeof ie=="string"&&r&&!ee&&t.manuallyAnimateOnMount&&t.parent){const{parent:q}=t,B=hd(q,ie);if(q.enteringChildren&&B){const{delayChildren:$}=B.transition||{};Q.delay=r4(q.enteringChildren,t,$)}}return{animation:ie,options:Q}}))}if(g.size){const j={};if(typeof h.initial!="boolean"){const _=hd(t,Array.isArray(h.initial)?h.initial[0]:h.initial);_&&_.transition&&(j.transition=_.transition)}g.forEach(_=>{const E=t.getBaseTarget(_),k=t.getValue(_);k&&(k.liveStyle=!0),j[_]=E??null}),f.push({animation:j})}let w=!!f.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(w=!1),r=!1,w?e(f):Promise.resolve()}function c(d,h){var f;if(n[d].isActive===h)return Promise.resolve();(f=t.variantChildren)==null||f.forEach(g=>{var x;return(x=g.animationState)==null?void 0:x.setActive(d,h)}),n[d].isActive=h;const m=o(d);for(const g in n)n[g].protectedKeys={};return m}return{animateChanges:o,setActive:c,setAnimateFunction:a,getState:()=>n,reset:()=>{n=_k()}}}function Lq(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!s4(e,t):!1}function vc(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function _k(){return{animate:vc(!0),whileInView:vc(),whileHover:vc(),whileTap:vc(),whileDrag:vc(),whileFocus:vc(),exit:vc()}}class Ul{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Fq extends Ul{constructor(e){super(e),e.animationState||(e.animationState=Oq(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();vy(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Vq=0;class Uq extends Ul{constructor(){super(...arguments),this.id=Vq++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const zq={animation:{Feature:Fq},exit:{Feature:Uq}};function rf(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Of(t){return{point:{x:t.pageX,y:t.pageY}}}const Bq=t=>e=>Jj(e)&&t(e,Of(e));function Rm(t,e,n,r){return rf(t,e,Bq(n),r)}const a4=1e-4,$q=1-a4,qq=1+a4,o4=.01,Hq=0-o4,Wq=0+o4;function Gr(t){return t.max-t.min}function Kq(t,e,n){return Math.abs(t-e)<=n}function Nk(t,e,n,r=.5){t.origin=r,t.originPoint=_n(e.min,e.max,t.origin),t.scale=Gr(n)/Gr(e),t.translate=_n(n.min,n.max,t.origin)-t.originPoint,(t.scale>=$q&&t.scale<=qq||isNaN(t.scale))&&(t.scale=1),(t.translate>=Hq&&t.translate<=Wq||isNaN(t.translate))&&(t.translate=0)}function Pm(t,e,n,r){Nk(t.x,e.x,n.x,r?r.originX:void 0),Nk(t.y,e.y,n.y,r?r.originY:void 0)}function Sk(t,e,n){t.min=n.min+e.min,t.max=t.min+Gr(e)}function Gq(t,e,n){Sk(t.x,e.x,n.x),Sk(t.y,e.y,n.y)}function Ek(t,e,n){t.min=e.min-n.min,t.max=t.min+Gr(e)}function Dm(t,e,n){Ek(t.x,e.x,n.x),Ek(t.y,e.y,n.y)}function Ks(t){return[t("x"),t("y")]}const l4=({current:t})=>t?t.ownerDocument.defaultView:null,Ck=(t,e)=>Math.abs(t-e);function Qq(t,e){const n=Ck(t.x,e.x),r=Ck(t.y,e.y);return Math.sqrt(n**2+r**2)}class c4{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=sb(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,N=Qq(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!N)return;const{point:w}=g,{timestamp:j}=xr;this.history.push({...w,timestamp:j});const{onStart:_,onMove:E}=this.handlers;x||(_&&_(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,g)},this.handlePointerMove=(g,x)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=rb(x,this.transformPagePoint),gn.update(this.updatePoint,!0)},this.handlePointerUp=(g,x)=>{this.end();const{onEnd:N,onSessionEnd:w,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=sb(g.type==="pointercancel"?this.lastMoveEventInfo:rb(x,this.transformPagePoint),this.history);this.startEvent&&N&&N(g,_),w&&w(g,_)},!Jj(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const c=Of(e),d=rb(c,this.transformPagePoint),{point:h}=d,{timestamp:m}=xr;this.history=[{...h,timestamp:m}];const{onSessionStart:f}=n;f&&f(e,sb(d,this.history)),this.removeListeners=Pf(Rm(this.contextWindow,"pointermove",this.handlePointerMove),Rm(this.contextWindow,"pointerup",this.handlePointerUp),Rm(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Sl(this.updatePoint)}}function rb(t,e){return e?{point:e(t.point)}:t}function kk(t,e){return{x:t.x-e.x,y:t.y-e.y}}function sb({point:t},e){return{point:t,delta:kk(t,u4(e)),offset:kk(t,Yq(e)),velocity:Jq(e,.1)}}function Yq(t){return t[0]}function u4(t){return t[t.length-1]}function Jq(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=u4(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>oa(e)));)n--;if(!r)return{x:0,y:0};const a=Zs(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Xq(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?_n(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?_n(n,t,r.max):Math.min(t,n)),t}function Tk(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Zq(t,{top:e,left:n,bottom:r,right:i}){return{x:Tk(t.x,n,i),y:Tk(t.y,e,r)}}function Ak(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function eH(t,e){return{x:Ak(t.x,e.x),y:Ak(t.y,e.y)}}function tH(t,e){let n=.5;const r=Gr(t),i=Gr(e);return i>r?n=Xm(e.min,e.max-r,t.min):r>i&&(n=Xm(t.min,t.max-i,e.min)),ao(0,1,n)}function nH(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const qw=.35;function rH(t=qw){return t===!1?t=0:t===!0&&(t=qw),{x:Ik(t,"left","right"),y:Ik(t,"top","bottom")}}function Ik(t,e,n){return{min:Rk(t,e),max:Rk(t,n)}}function Rk(t,e){return typeof t=="number"?t:t[e]||0}const sH=new WeakMap;class iH{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ln(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=f=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Of(f).point)},o=(f,g)=>{const{drag:x,dragPropagation:N,onDragStart:w}=this.getProps();if(x&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=d7(x),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ks(_=>{let E=this.getAxisMotionValue(_).get()||0;if(la.test(E)){const{projection:k}=this.visualElement;if(k&&k.layout){const C=k.layout.layoutBox[_];C&&(E=Gr(C)*(parseFloat(E)/100))}}this.originPoint[_]=E}),w&&gn.postRender(()=>w(f,g)),Bw(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},c=(f,g)=>{this.latestPointerEvent=f,this.latestPanInfo=g;const{dragPropagation:x,dragDirectionLock:N,onDirectionLock:w,onDrag:j}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:_}=g;if(N&&this.currentDirection===null){this.currentDirection=aH(_),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",g.point,_),this.updateAxis("y",g.point,_),this.visualElement.render(),j&&j(f,g)},d=(f,g)=>{this.latestPointerEvent=f,this.latestPanInfo=g,this.stop(f,g),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>Ks(f=>{var g;return this.getAnimationState(f)==="paused"&&((g=this.getAxisMotionValue(f).animation)==null?void 0:g.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new c4(e,{onSessionStart:a,onStart:o,onMove:c,onSessionEnd:d,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:r,contextWindow:l4(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:c}=this.getProps();c&&gn.postRender(()=>c(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!xg(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=Xq(o,this.constraints[e],this.elastic[e])),a.set(o)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,i=this.constraints;e&&ad(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=Zq(r.layoutBox,e):this.constraints=!1,this.elastic=rH(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ks(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=nH(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ad(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=oq(r,i.root,this.visualElement.getTransformPagePoint());let o=eH(i.layout.layoutBox,a);if(n){const c=n(sq(o));this.hasMutatedConstraints=!!c,c&&(o=KP(c))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},h=Ks(m=>{if(!xg(m,n,this.currentDirection))return;let f=d&&d[m]||{};o&&(f={min:0,max:0});const g=i?200:1e6,x=i?40:1e7,N={type:"inertia",velocity:r?e[m]:0,bounceStiffness:g,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(m,N)});return Promise.all(h).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Bw(this.visualElement,e),r.start(o_(e,r,0,n,this.visualElement,!1))}stopAnimation(){Ks(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ks(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Ks(n=>{const{drag:r}=this.getProps();if(!xg(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:c}=i.layout.layoutBox[n];a.set(e[n]-_n(o,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ad(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ks(o=>{const c=this.getAxisMotionValue(o);if(c&&this.constraints!==!1){const d=c.get();i[o]=tH({min:d,max:d},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ks(o=>{if(!xg(o,e,null))return;const c=this.getAxisMotionValue(o),{min:d,max:h}=this.constraints[o];c.set(_n(d,h,i[o]))})}addListeners(){if(!this.visualElement.current)return;sH.set(this.visualElement,this);const e=this.visualElement.current,n=Rm(e,"pointerdown",d=>{const{drag:h,dragListener:m=!0}=this.getProps();h&&m&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();ad(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),gn.read(r);const o=rf(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:h})=>{this.isDragging&&h&&(Ks(m=>{const f=this.getAxisMotionValue(m);f&&(this.originPoint[m]+=d[m].translate,f.set(f.get()+d[m].translate))}),this.visualElement.render())}));return()=>{o(),n(),a(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=qw,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:c}}}function xg(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function aH(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class oH extends Ul{constructor(e){super(e),this.removeGroupControls=ei,this.removeListeners=ei,this.controls=new iH(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ei}unmount(){this.removeGroupControls(),this.removeListeners()}}const Pk=t=>(e,n)=>{t&&gn.postRender(()=>t(e,n))};class lH extends Ul{constructor(){super(...arguments),this.removePointerDownListener=ei}onPointerDown(e){this.session=new c4(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:l4(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Pk(e),onStart:Pk(n),onMove:r,onEnd:(a,o)=>{delete this.session,i&&gn.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=Rm(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Kg={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Dk(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const cm={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(lt.test(t))t=parseFloat(t);else return t;const n=Dk(t,e.target.x),r=Dk(t,e.target.y);return`${n}% ${r}%`}},cH={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=El.parse(t);if(i.length>5)return r;const a=El.createTransformer(t),o=typeof i[0]!="number"?1:0,c=n.x.scale*e.x,d=n.y.scale*e.y;i[0+o]/=c,i[1+o]/=d;const h=_n(c,d,.5);return typeof i[2+o]=="number"&&(i[2+o]/=h),typeof i[3+o]=="number"&&(i[3+o]/=h),a(i)}};let ib=!1;class uH extends v.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;R7(dH),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),ib&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Kg.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,{projection:o}=r;return o&&(o.isPresent=a,ib=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==a?o.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?o.promote():o.relegate()||gn.postRender(()=>{const c=o.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Yj.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;ib=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function d4(t){const[e,n]=PP(),r=v.useContext(kj);return s.jsx(uH,{...t,layoutGroup:r,switchLayoutGroup:v.useContext(HP),isPresent:e,safeToRemove:n})}const dH={borderRadius:{...cm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:cm,borderTopRightRadius:cm,borderBottomLeftRadius:cm,borderBottomRightRadius:cm,boxShadow:cH};function hH(t,e,n){const r=Pr(t)?t:Fd(t);return r.start(o_("",r,e,n)),r.animation}const mH=(t,e)=>t.depth-e.depth;class fH{constructor(){this.children=[],this.isDirty=!1}add(e){Ij(this.children,e),this.isDirty=!0}remove(e){Rj(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(mH),this.isDirty=!1,this.children.forEach(e)}}function pH(t,e){const n=ds.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(Sl(r),t(a-e))};return gn.setup(r,!0),()=>Sl(r)}const h4=["TopLeft","TopRight","BottomLeft","BottomRight"],gH=h4.length,Mk=t=>typeof t=="string"?parseFloat(t):t,Ok=t=>typeof t=="number"||lt.test(t);function xH(t,e,n,r,i,a){i?(t.opacity=_n(0,n.opacity??1,yH(r)),t.opacityExit=_n(e.opacity??1,0,vH(r))):a&&(t.opacity=_n(e.opacity??1,n.opacity??1,r));for(let o=0;o<gH;o++){const c=`border${h4[o]}Radius`;let d=Lk(e,c),h=Lk(n,c);if(d===void 0&&h===void 0)continue;d||(d=0),h||(h=0),d===0||h===0||Ok(d)===Ok(h)?(t[c]=Math.max(_n(Mk(d),Mk(h),r),0),(la.test(h)||la.test(d))&&(t[c]+="%")):t[c]=h}(e.rotate||n.rotate)&&(t.rotate=_n(e.rotate||0,n.rotate||0,r))}function Lk(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const yH=m4(0,.5,ZR),vH=m4(.5,.95,ei);function m4(t,e,n){return r=>r<t?0:r>e?1:n(Xm(t,e,r))}function Fk(t,e){t.min=e.min,t.max=e.max}function Ws(t,e){Fk(t.x,e.x),Fk(t.y,e.y)}function Vk(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Uk(t,e,n,r,i){return t-=e,t=Nx(t,1/n,r),i!==void 0&&(t=Nx(t,1/i,r)),t}function bH(t,e=0,n=1,r=.5,i,a=t,o=t){if(la.test(e)&&(e=parseFloat(e),e=_n(o.min,o.max,e/100)-o.min),typeof e!="number")return;let c=_n(a.min,a.max,r);t===a&&(c-=e),t.min=Uk(t.min,e,n,c,i),t.max=Uk(t.max,e,n,c,i)}function zk(t,e,[n,r,i],a,o){bH(t,e[n],e[r],e[i],e.scale,a,o)}const wH=["x","scaleX","originX"],jH=["y","scaleY","originY"];function Bk(t,e,n,r){zk(t.x,e,wH,n?n.x:void 0,r?r.x:void 0),zk(t.y,e,jH,n?n.y:void 0,r?r.y:void 0)}function $k(t){return t.translate===0&&t.scale===1}function f4(t){return $k(t.x)&&$k(t.y)}function qk(t,e){return t.min===e.min&&t.max===e.max}function _H(t,e){return qk(t.x,e.x)&&qk(t.y,e.y)}function Hk(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function p4(t,e){return Hk(t.x,e.x)&&Hk(t.y,e.y)}function Wk(t){return Gr(t.x)/Gr(t.y)}function Kk(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class NH{constructor(){this.members=[]}add(e){Ij(this.members,e),e.scheduleRender()}remove(e){if(Rj(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function SH(t,e,n){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||a||o)&&(r=`translate3d(${i}px, ${a}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:m,rotateX:f,rotateY:g,skewX:x,skewY:N}=n;h&&(r=`perspective(${h}px) ${r}`),m&&(r+=`rotate(${m}deg) `),f&&(r+=`rotateX(${f}deg) `),g&&(r+=`rotateY(${g}deg) `),x&&(r+=`skewX(${x}deg) `),N&&(r+=`skewY(${N}deg) `)}const c=t.x.scale*e.x,d=t.y.scale*e.y;return(c!==1||d!==1)&&(r+=`scale(${c}, ${d})`),r||"none"}const ab=["","X","Y","Z"],EH=1e3;let CH=0;function ob(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function g4(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=t4(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",gn,!(i||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&g4(r)}function x4({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},c=e==null?void 0:e()){this.id=CH++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(AH),this.nodes.forEach(DH),this.nodes.forEach(MH),this.nodes.forEach(IH)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new fH)}addEventListener(o,c){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Mj),this.eventHandlers.get(o).add(c)}notifyListeners(o,...c){const d=this.eventHandlers.get(o);d&&d.notify(...c)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=RP(o)&&!x7(o),this.instance=o;const{layoutId:c,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),t){let m,f=0;const g=()=>this.root.updateBlockedByResize=!1;gn.read(()=>{f=window.innerWidth}),t(o,()=>{const x=window.innerWidth;x!==f&&(f=x,this.root.updateBlockedByResize=!0,m&&m(),m=pH(g,250),Kg.hasAnimatedSinceResize&&(Kg.hasAnimatedSinceResize=!1,this.nodes.forEach(Yk)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||d)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:f,hasRelativeLayoutChanged:g,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||h.getDefaultTransition()||UH,{onLayoutAnimationStart:w,onLayoutAnimationComplete:j}=h.getProps(),_=!this.targetLayout||!p4(this.targetLayout,x),E=!f&&g;if(this.options.layoutRoot||this.resumeFrom||E||f&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const k={...Gj(N,"layout"),onPlay:w,onComplete:j};(h.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k),this.setAnimationOrigin(m,E)}else f||Yk(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Sl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(OH),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&g4(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const f=this.path[m];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Gk);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Qk);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(PH),this.nodes.forEach(kH),this.nodes.forEach(TH)):this.nodes.forEach(Qk),this.clearAllSnapshots();const c=ds.now();xr.delta=ao(0,1e3/60,c-xr.timestamp),xr.timestamp=c,xr.isProcessing=!0,Qv.update.process(xr),Qv.preRender.process(xr),Qv.render.process(xr),xr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Yj.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(RH),this.sharedNodes.forEach(LH)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,gn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){gn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Gr(this.snapshot.measuredBox.x)&&!Gr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ln(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(c=!1),c&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!f4(this.projectionDelta),d=this.getTransformTemplate(),h=d?d(this.latestValues,""):void 0,m=h!==this.prevTransformTemplateValue;o&&this.instance&&(c||wc(this.latestValues)||m)&&(i(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return o&&(d=this.removeTransform(d)),zH(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:o}=this.options;if(!o)return Ln();const c=o.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(BH))){const{scroll:m}=this.root;m&&(od(c.x,m.offset.x),od(c.y,m.offset.y))}return c}removeElementScroll(o){var d;const c=Ln();if(Ws(c,o),(d=this.scroll)!=null&&d.wasRoot)return c;for(let h=0;h<this.path.length;h++){const m=this.path[h],{scroll:f,options:g}=m;m!==this.root&&f&&g.layoutScroll&&(f.wasRoot&&Ws(c,o),od(c.x,f.offset.x),od(c.y,f.offset.y))}return c}applyTransform(o,c=!1){const d=Ln();Ws(d,o);for(let h=0;h<this.path.length;h++){const m=this.path[h];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&ld(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),wc(m.latestValues)&&ld(d,m.latestValues)}return wc(this.latestValues)&&ld(d,this.latestValues),d}removeTransform(o){const c=Ln();Ws(c,o);for(let d=0;d<this.path.length;d++){const h=this.path[d];if(!h.instance||!wc(h.latestValues))continue;Fw(h.latestValues)&&h.updateSnapshot();const m=Ln(),f=h.measurePageBox();Ws(m,f),Bk(c,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,m)}return wc(this.latestValues)&&Bk(c,this.latestValues),c}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==xr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var g;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:f}=this.options;if(!(!this.layout||!(m||f))){if(this.resolvedRelativeTargetAt=xr.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ln(),this.relativeTargetOrigin=Ln(),Dm(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),Ws(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ln(),this.targetWithTransforms=Ln()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Gq(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ws(this.target,this.layout.layoutBox),QP(this.target,this.targetDelta)):Ws(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ln(),this.relativeTargetOrigin=Ln(),Dm(this.relativeTargetOrigin,this.target,x.target),Ws(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Fw(this.parent.latestValues)||GP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var N;const o=this.getLead(),c=!!this.resumingFrom||this!==o;let d=!0;if((this.isProjectionDirty||(N=this.parent)!=null&&N.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===xr.timestamp&&(d=!1),d)return;const{layout:h,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||m))return;Ws(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,g=this.treeScale.y;aq(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Ln());const{target:x}=o;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Vk(this.prevProjectionDelta.x,this.projectionDelta.x),Vk(this.prevProjectionDelta.y,this.projectionDelta.y)),Pm(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==g||!Kk(this.projectionDelta.x,this.prevProjectionDelta.x)||!Kk(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),o){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=cd(),this.projectionDelta=cd(),this.projectionDeltaWithTransform=cd()}setAnimationOrigin(o,c=!1){const d=this.snapshot,h=d?d.latestValues:{},m={...this.latestValues},f=cd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const g=Ln(),x=d?d.source:void 0,N=this.layout?this.layout.source:void 0,w=x!==N,j=this.getStack(),_=!j||j.members.length<=1,E=!!(w&&!_&&this.options.crossfade===!0&&!this.path.some(VH));this.animationProgress=0;let k;this.mixTargetDelta=C=>{const R=C/1e3;Jk(f.x,o.x,R),Jk(f.y,o.y,R),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Dm(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),FH(this.relativeTarget,this.relativeTargetOrigin,g,R),k&&_H(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=Ln()),Ws(k,this.relativeTarget)),w&&(this.animationValues=m,xH(m,h,this.latestValues,R,E,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var c,d,h;this.notifyListeners("animationStart"),(c=this.currentAnimation)==null||c.stop(),(h=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||h.stop(),this.pendingAnimation&&(Sl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=gn.update(()=>{Kg.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Fd(0)),this.currentAnimation=hH(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),o.onUpdate&&o.onUpdate(m)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(EH),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:c,target:d,layout:h,latestValues:m}=o;if(!(!c||!d||!h)){if(this!==o&&this.layout&&h&&y4(this.options.animationType,this.layout.layoutBox,h.layoutBox)){d=this.target||Ln();const f=Gr(this.layout.layoutBox.x);d.x.min=o.target.x.min,d.x.max=d.x.min+f;const g=Gr(this.layout.layoutBox.y);d.y.min=o.target.y.min,d.y.max=d.y.min+g}Ws(c,d),ld(c,m),Pm(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(o,c){this.sharedNodes.has(o)||this.sharedNodes.set(o,new NH),this.sharedNodes.get(o).add(c);const h=c.options.initialPromotionConfig;c.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(c):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var c;const{layoutId:o}=this.options;return o?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:o}=this.options;return o?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:c,preserveFollowOpacity:d}={}){const h=this.getStack();h&&h.promote(this,d),o&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let c=!1;const{latestValues:d}=o;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const h={};d.z&&ob("z",o,h,this.animationValues);for(let m=0;m<ab.length;m++)ob(`rotate${ab[m]}`,o,h,this.animationValues),ob(`skew${ab[m]}`,o,h,this.animationValues);o.render();for(const m in h)o.setStaticValue(m,h[m]),this.animationValues&&(this.animationValues[m]=h[m]);o.scheduleRender()}applyProjectionStyles(o,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Wg(c==null?void 0:c.pointerEvents)||"",o.transform=d?d(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Wg(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!wc(this.latestValues)&&(o.transform=d?d({},""):"none",this.hasProjected=!1);return}o.visibility="";const m=h.animationValues||h.latestValues;this.applyTransformsToTarget();let f=SH(this.projectionDeltaWithTransform,this.treeScale,m);d&&(f=d(m,f)),o.transform=f;const{x:g,y:x}=this.projectionDelta;o.transformOrigin=`${g.origin*100}% ${x.origin*100}% 0`,h.animationValues?o.opacity=h===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:o.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const N in nf){if(m[N]===void 0)continue;const{correct:w,applyTo:j,isCSSVariable:_}=nf[N],E=f==="none"?m[N]:w(m[N],h);if(j){const k=j.length;for(let C=0;C<k;C++)o[j[C]]=E}else _?this.options.visualElement.renderState.vars[N]=E:o[N]=E}this.options.layoutId&&(o.pointerEvents=h===this?Wg(c==null?void 0:c.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var c;return(c=o.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach(Gk),this.root.sharedNodes.clear()}}}function kH(t){t.updateLayout()}function TH(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:a}=t.options,o=e.source!==t.layout.source;a==="size"?Ks(f=>{const g=o?e.measuredBox[f]:e.layoutBox[f],x=Gr(g);g.min=r[f].min,g.max=g.min+x}):y4(a,e.layoutBox,r)&&Ks(f=>{const g=o?e.measuredBox[f]:e.layoutBox[f],x=Gr(r[f]);g.max=g.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+x)});const c=cd();Pm(c,r,e.layoutBox);const d=cd();o?Pm(d,t.applyTransform(i,!0),e.measuredBox):Pm(d,r,e.layoutBox);const h=!f4(c);let m=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:g,layout:x}=f;if(g&&x){const N=Ln();Dm(N,e.layoutBox,g.layoutBox);const w=Ln();Dm(w,r,x.layoutBox),p4(N,w)||(m=!0),f.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=N,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:d,layoutDelta:c,hasLayoutChanged:h,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function AH(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function IH(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function RH(t){t.clearSnapshot()}function Gk(t){t.clearMeasurements()}function Qk(t){t.isLayoutDirty=!1}function PH(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Yk(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function DH(t){t.resolveTargetDelta()}function MH(t){t.calcProjection()}function OH(t){t.resetSkewAndRotation()}function LH(t){t.removeLeadSnapshot()}function Jk(t,e,n){t.translate=_n(e.translate,0,n),t.scale=_n(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Xk(t,e,n,r){t.min=_n(e.min,n.min,r),t.max=_n(e.max,n.max,r)}function FH(t,e,n,r){Xk(t.x,e.x,n.x,r),Xk(t.y,e.y,n.y,r)}function VH(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const UH={duration:.45,ease:[.4,0,.1,1]},Zk=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),e2=Zk("applewebkit/")&&!Zk("chrome/")?Math.round:ei;function t2(t){t.min=e2(t.min),t.max=e2(t.max)}function zH(t){t2(t.x),t2(t.y)}function y4(t,e,n){return t==="position"||t==="preserve-aspect"&&!Kq(Wk(e),Wk(n),.2)}function BH(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const $H=x4({attachResizeListener:(t,e)=>rf(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),lb={current:void 0},v4=x4({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!lb.current){const t=new $H({});t.mount(window),t.setOptions({layoutScroll:!0}),lb.current=t}return lb.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),qH={pan:{Feature:lH},drag:{Feature:oH,ProjectionNode:v4,MeasureLayout:d4}};function n2(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&gn.postRender(()=>a(e,Of(e)))}class HH extends Ul{mount(){const{current:e}=this.node;e&&(this.unmount=h7(e,(n,r)=>(n2(this.node,r,"Start"),i=>n2(this.node,i,"End"))))}unmount(){}}class WH extends Ul{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Pf(rf(this.node.current,"focus",()=>this.onFocus()),rf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function r2(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&gn.postRender(()=>a(e,Of(e)))}class KH extends Ul{mount(){const{current:e}=this.node;e&&(this.unmount=g7(e,(n,r)=>(r2(this.node,r,"Start"),(i,{success:a})=>r2(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Hw=new WeakMap,cb=new WeakMap,GH=t=>{const e=Hw.get(t.target);e&&e(t)},QH=t=>{t.forEach(GH)};function YH({root:t,...e}){const n=t||document;cb.has(n)||cb.set(n,{});const r=cb.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(QH,{root:t,...e})),r[i]}function JH(t,e,n){const r=YH(e);return Hw.set(t,n),r.observe(t),()=>{Hw.delete(t),r.unobserve(t)}}const XH={some:0,all:1};class ZH extends Ul{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:XH[i]},c=d=>{const{isIntersecting:h}=d;if(this.isInView===h||(this.isInView=h,a&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:m,onViewportLeave:f}=this.node.getProps(),g=h?m:f;g&&g(d)};return JH(this.node.current,o,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(eW(e,n))&&this.startObserver()}unmount(){}}function eW({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const tW={inView:{Feature:ZH},tap:{Feature:KH},focus:{Feature:WH},hover:{Feature:HH}},nW={layout:{ProjectionNode:v4,MeasureLayout:d4}},rW={...zq,...tW,...qH,...nW},ne=rq(rW,gq);function Je(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function s2(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function vo(...t){return e=>{let n=!1;const r=t.map(i=>{const a=s2(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():s2(t[i],null)}}}}function Kt(...t){return v.useCallback(vo(...t),t)}function sW(t,e){const n=v.createContext(e),r=a=>{const{children:o,...c}=a,d=v.useMemo(()=>c,Object.values(c));return s.jsx(n.Provider,{value:d,children:o})};r.displayName=t+"Provider";function i(a){const o=v.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[r,i]}function bo(t,e=[]){let n=[];function r(a,o){const c=v.createContext(o),d=n.length;n=[...n,o];const h=f=>{var _;const{scope:g,children:x,...N}=f,w=((_=g==null?void 0:g[t])==null?void 0:_[d])||c,j=v.useMemo(()=>N,Object.values(N));return s.jsx(w.Provider,{value:j,children:x})};h.displayName=a+"Provider";function m(f,g){var w;const x=((w=g==null?void 0:g[t])==null?void 0:w[d])||c,N=v.useContext(x);if(N)return N;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[h,m]}const i=()=>{const a=n.map(o=>v.createContext(o));return function(c){const d=(c==null?void 0:c[t])||a;return v.useMemo(()=>({[`__scope${t}`]:{...c,[t]:d}}),[c,d])}};return i.scopeName=t,[r,iW(i,...e)]}function iW(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((c,{useScope:d,scopeName:h})=>{const f=d(a)[`__scope${h}`];return{...c,...f}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var sr=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},aW=xj[" useInsertionEffect ".trim().toString()]||sr;function $c({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,a,o]=oW({defaultProp:e,onChange:n}),c=t!==void 0,d=c?t:i;{const m=v.useRef(t!==void 0);v.useEffect(()=>{const f=m.current;f!==c&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=c},[c,r])}const h=v.useCallback(m=>{var f;if(c){const g=lW(m)?m(t):m;g!==t&&((f=o.current)==null||f.call(o,g))}else a(m)},[c,t,a,o]);return[d,h]}function oW({defaultProp:t,onChange:e}){const[n,r]=v.useState(t),i=v.useRef(n),a=v.useRef(e);return aW(()=>{a.current=e},[e]),v.useEffect(()=>{var o;i.current!==n&&((o=a.current)==null||o.call(a,n),i.current=n)},[n,i]),[n,r,a]}function lW(t){return typeof t=="function"}function cW(t){const e=uW(t),n=v.forwardRef((r,i)=>{const{children:a,...o}=r,c=v.Children.toArray(a),d=c.find(hW);if(d){const h=d.props.children,m=c.map(f=>f===d?v.Children.count(h)>1?v.Children.only(null):v.isValidElement(h)?h.props.children:null:f);return s.jsx(e,{...o,ref:i,children:v.isValidElement(h)?v.cloneElement(h,void 0,m):null})}return s.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function uW(t){const e=v.forwardRef((n,r)=>{const{children:i,...a}=n;if(v.isValidElement(i)){const o=fW(i),c=mW(a,i.props);return i.type!==v.Fragment&&(c.ref=r?vo(r,o):o),v.cloneElement(i,c)}return v.Children.count(i)>1?v.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var dW=Symbol("radix.slottable");function hW(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===dW}function mW(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...c)=>{const d=a(...c);return i(...c),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function fW(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var pW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ct=pW.reduce((t,e)=>{const n=cW(`Primitive.${e}`),r=v.forwardRef((i,a)=>{const{asChild:o,...c}=i,d=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(d,{...c,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function b4(t,e){t&&Rf.flushSync(()=>t.dispatchEvent(e))}function i2(t){const e=gW(t),n=v.forwardRef((r,i)=>{const{children:a,...o}=r,c=v.Children.toArray(a),d=c.find(yW);if(d){const h=d.props.children,m=c.map(f=>f===d?v.Children.count(h)>1?v.Children.only(null):v.isValidElement(h)?h.props.children:null:f);return s.jsx(e,{...o,ref:i,children:v.isValidElement(h)?v.cloneElement(h,void 0,m):null})}return s.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function gW(t){const e=v.forwardRef((n,r)=>{const{children:i,...a}=n;if(v.isValidElement(i)){const o=bW(i),c=vW(a,i.props);return i.type!==v.Fragment&&(c.ref=r?vo(r,o):o),v.cloneElement(i,c)}return v.Children.count(i)>1?v.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var xW=Symbol("radix.slottable");function yW(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===xW}function vW(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...c)=>{const d=a(...c);return i(...c),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function bW(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function l_(t){const e=t+"CollectionProvider",[n,r]=bo(e),[i,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=w=>{const{scope:j,children:_}=w,E=wn.useRef(null),k=wn.useRef(new Map).current;return s.jsx(i,{scope:j,itemMap:k,collectionRef:E,children:_})};o.displayName=e;const c=t+"CollectionSlot",d=i2(c),h=wn.forwardRef((w,j)=>{const{scope:_,children:E}=w,k=a(c,_),C=Kt(j,k.collectionRef);return s.jsx(d,{ref:C,children:E})});h.displayName=c;const m=t+"CollectionItemSlot",f="data-radix-collection-item",g=i2(m),x=wn.forwardRef((w,j)=>{const{scope:_,children:E,...k}=w,C=wn.useRef(null),R=Kt(j,C),F=a(m,_);return wn.useEffect(()=>(F.itemMap.set(C,{ref:C,...k}),()=>void F.itemMap.delete(C))),s.jsx(g,{[f]:"",ref:R,children:E})});x.displayName=m;function N(w){const j=a(t+"CollectionConsumer",w);return wn.useCallback(()=>{const E=j.collectionRef.current;if(!E)return[];const k=Array.from(E.querySelectorAll(`[${f}]`));return Array.from(j.itemMap.values()).sort((F,M)=>k.indexOf(F.ref.current)-k.indexOf(M.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:o,Slot:h,ItemSlot:x},N,r]}var wW=v.createContext(void 0);function c_(t){const e=v.useContext(wW);return t||e||"ltr"}function Ni(t){const e=v.useRef(t);return v.useEffect(()=>{e.current=t}),v.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function jW(t,e=globalThis==null?void 0:globalThis.document){const n=Ni(t);v.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var _W="DismissableLayer",Ww="dismissableLayer.update",NW="dismissableLayer.pointerDownOutside",SW="dismissableLayer.focusOutside",a2,w4=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),wy=v.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:c,...d}=t,h=v.useContext(w4),[m,f]=v.useState(null),g=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=v.useState({}),N=Kt(e,M=>f(M)),w=Array.from(h.layers),[j]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),_=w.indexOf(j),E=m?w.indexOf(m):-1,k=h.layersWithOutsidePointerEventsDisabled.size>0,C=E>=_,R=kW(M=>{const P=M.target,I=[...h.branches].some(L=>L.contains(P));!C||I||(i==null||i(M),o==null||o(M),M.defaultPrevented||c==null||c())},g),F=TW(M=>{const P=M.target;[...h.branches].some(L=>L.contains(P))||(a==null||a(M),o==null||o(M),M.defaultPrevented||c==null||c())},g);return jW(M=>{E===h.layers.size-1&&(r==null||r(M),!M.defaultPrevented&&c&&(M.preventDefault(),c()))},g),v.useEffect(()=>{if(m)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(a2=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(m)),h.layers.add(m),o2(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=a2)}},[m,g,n,h]),v.useEffect(()=>()=>{m&&(h.layers.delete(m),h.layersWithOutsidePointerEventsDisabled.delete(m),o2())},[m,h]),v.useEffect(()=>{const M=()=>x({});return document.addEventListener(Ww,M),()=>document.removeEventListener(Ww,M)},[]),s.jsx(Ct.div,{...d,ref:N,style:{pointerEvents:k?C?"auto":"none":void 0,...t.style},onFocusCapture:Je(t.onFocusCapture,F.onFocusCapture),onBlurCapture:Je(t.onBlurCapture,F.onBlurCapture),onPointerDownCapture:Je(t.onPointerDownCapture,R.onPointerDownCapture)})});wy.displayName=_W;var EW="DismissableLayerBranch",CW=v.forwardRef((t,e)=>{const n=v.useContext(w4),r=v.useRef(null),i=Kt(e,r);return v.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),s.jsx(Ct.div,{...t,ref:i})});CW.displayName=EW;function kW(t,e=globalThis==null?void 0:globalThis.document){const n=Ni(t),r=v.useRef(!1),i=v.useRef(()=>{});return v.useEffect(()=>{const a=c=>{if(c.target&&!r.current){let d=function(){j4(NW,n,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=d,e.addEventListener("click",i.current,{once:!0})):d()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function TW(t,e=globalThis==null?void 0:globalThis.document){const n=Ni(t),r=v.useRef(!1);return v.useEffect(()=>{const i=a=>{a.target&&!r.current&&j4(SW,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function o2(){const t=new CustomEvent(Ww);document.dispatchEvent(t)}function j4(t,e,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?b4(i,a):i.dispatchEvent(a)}var ub=0;function u_(){v.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??l2()),document.body.insertAdjacentElement("beforeend",t[1]??l2()),ub++,()=>{ub===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),ub--}},[])}function l2(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var db="focusScope.autoFocusOnMount",hb="focusScope.autoFocusOnUnmount",c2={bubbles:!1,cancelable:!0},AW="FocusScope",jy=v.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=t,[c,d]=v.useState(null),h=Ni(i),m=Ni(a),f=v.useRef(null),g=Kt(e,w=>d(w)),x=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(r){let w=function(k){if(x.paused||!c)return;const C=k.target;c.contains(C)?f.current=C:Yo(f.current,{select:!0})},j=function(k){if(x.paused||!c)return;const C=k.relatedTarget;C!==null&&(c.contains(C)||Yo(f.current,{select:!0}))},_=function(k){if(document.activeElement===document.body)for(const R of k)R.removedNodes.length>0&&Yo(c)};document.addEventListener("focusin",w),document.addEventListener("focusout",j);const E=new MutationObserver(_);return c&&E.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",j),E.disconnect()}}},[r,c,x.paused]),v.useEffect(()=>{if(c){d2.add(x);const w=document.activeElement;if(!c.contains(w)){const _=new CustomEvent(db,c2);c.addEventListener(db,h),c.dispatchEvent(_),_.defaultPrevented||(IW(OW(_4(c)),{select:!0}),document.activeElement===w&&Yo(c))}return()=>{c.removeEventListener(db,h),setTimeout(()=>{const _=new CustomEvent(hb,c2);c.addEventListener(hb,m),c.dispatchEvent(_),_.defaultPrevented||Yo(w??document.body,{select:!0}),c.removeEventListener(hb,m),d2.remove(x)},0)}}},[c,h,m,x]);const N=v.useCallback(w=>{if(!n&&!r||x.paused)return;const j=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,_=document.activeElement;if(j&&_){const E=w.currentTarget,[k,C]=RW(E);k&&C?!w.shiftKey&&_===C?(w.preventDefault(),n&&Yo(k,{select:!0})):w.shiftKey&&_===k&&(w.preventDefault(),n&&Yo(C,{select:!0})):_===E&&w.preventDefault()}},[n,r,x.paused]);return s.jsx(Ct.div,{tabIndex:-1,...o,ref:g,onKeyDown:N})});jy.displayName=AW;function IW(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Yo(r,{select:e}),document.activeElement!==n)return}function RW(t){const e=_4(t),n=u2(e,t),r=u2(e.reverse(),t);return[n,r]}function _4(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function u2(t,e){for(const n of t)if(!PW(n,{upTo:e}))return n}function PW(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function DW(t){return t instanceof HTMLInputElement&&"select"in t}function Yo(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&DW(t)&&e&&t.select()}}var d2=MW();function MW(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=h2(t,e),t.unshift(e)},remove(e){var n;t=h2(t,e),(n=t[0])==null||n.resume()}}}function h2(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function OW(t){return t.filter(e=>e.tagName!=="A")}var LW=xj[" useId ".trim().toString()]||(()=>{}),FW=0;function eo(t){const[e,n]=v.useState(LW());return sr(()=>{n(r=>r??String(FW++))},[t]),e?`radix-${e}`:""}const VW=["top","right","bottom","left"],Cl=Math.min,As=Math.max,Sx=Math.round,yg=Math.floor,ca=t=>({x:t,y:t}),UW={left:"right",right:"left",bottom:"top",top:"bottom"},zW={start:"end",end:"start"};function Kw(t,e,n){return As(t,Cl(e,n))}function lo(t,e){return typeof t=="function"?t(e):t}function co(t){return t.split("-")[0]}function ah(t){return t.split("-")[1]}function d_(t){return t==="x"?"y":"x"}function h_(t){return t==="y"?"height":"width"}const BW=new Set(["top","bottom"]);function ia(t){return BW.has(co(t))?"y":"x"}function m_(t){return d_(ia(t))}function $W(t,e,n){n===void 0&&(n=!1);const r=ah(t),i=m_(t),a=h_(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=Ex(o)),[o,Ex(o)]}function qW(t){const e=Ex(t);return[Gw(t),e,Gw(e)]}function Gw(t){return t.replace(/start|end/g,e=>zW[e])}const m2=["left","right"],f2=["right","left"],HW=["top","bottom"],WW=["bottom","top"];function KW(t,e,n){switch(t){case"top":case"bottom":return n?e?f2:m2:e?m2:f2;case"left":case"right":return e?HW:WW;default:return[]}}function GW(t,e,n,r){const i=ah(t);let a=KW(co(t),n==="start",r);return i&&(a=a.map(o=>o+"-"+i),e&&(a=a.concat(a.map(Gw)))),a}function Ex(t){return t.replace(/left|right|bottom|top/g,e=>UW[e])}function QW(t){return{top:0,right:0,bottom:0,left:0,...t}}function N4(t){return typeof t!="number"?QW(t):{top:t,right:t,bottom:t,left:t}}function Cx(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function p2(t,e,n){let{reference:r,floating:i}=t;const a=ia(e),o=m_(e),c=h_(o),d=co(e),h=a==="y",m=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,g=r[c]/2-i[c]/2;let x;switch(d){case"top":x={x:m,y:r.y-i.height};break;case"bottom":x={x:m,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:f};break;case"left":x={x:r.x-i.width,y:f};break;default:x={x:r.x,y:r.y}}switch(ah(e)){case"start":x[o]-=g*(n&&h?-1:1);break;case"end":x[o]+=g*(n&&h?-1:1);break}return x}const YW=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,c=a.filter(Boolean),d=await(o.isRTL==null?void 0:o.isRTL(e));let h=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:m,y:f}=p2(h,r,d),g=r,x={},N=0;for(let w=0;w<c.length;w++){const{name:j,fn:_}=c[w],{x:E,y:k,data:C,reset:R}=await _({x:m,y:f,initialPlacement:r,placement:g,strategy:i,middlewareData:x,rects:h,platform:o,elements:{reference:t,floating:e}});m=E??m,f=k??f,x={...x,[j]:{...x[j],...C}},R&&N<=50&&(N++,typeof R=="object"&&(R.placement&&(g=R.placement),R.rects&&(h=R.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):R.rects),{x:m,y:f}=p2(h,g,d)),w=-1)}return{x:m,y:f,placement:g,strategy:i,middlewareData:x}};async function sf(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:o,elements:c,strategy:d}=t,{boundary:h="clippingAncestors",rootBoundary:m="viewport",elementContext:f="floating",altBoundary:g=!1,padding:x=0}=lo(e,t),N=N4(x),j=c[g?f==="floating"?"reference":"floating":f],_=Cx(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(j)))==null||n?j:j.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:h,rootBoundary:m,strategy:d})),E=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,k=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),C=await(a.isElement==null?void 0:a.isElement(k))?await(a.getScale==null?void 0:a.getScale(k))||{x:1,y:1}:{x:1,y:1},R=Cx(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:E,offsetParent:k,strategy:d}):E);return{top:(_.top-R.top+N.top)/C.y,bottom:(R.bottom-_.bottom+N.bottom)/C.y,left:(_.left-R.left+N.left)/C.x,right:(R.right-_.right+N.right)/C.x}}const JW=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:a,platform:o,elements:c,middlewareData:d}=e,{element:h,padding:m=0}=lo(t,e)||{};if(h==null)return{};const f=N4(m),g={x:n,y:r},x=m_(i),N=h_(x),w=await o.getDimensions(h),j=x==="y",_=j?"top":"left",E=j?"bottom":"right",k=j?"clientHeight":"clientWidth",C=a.reference[N]+a.reference[x]-g[x]-a.floating[N],R=g[x]-a.reference[x],F=await(o.getOffsetParent==null?void 0:o.getOffsetParent(h));let M=F?F[k]:0;(!M||!await(o.isElement==null?void 0:o.isElement(F)))&&(M=c.floating[k]||a.floating[N]);const P=C/2-R/2,I=M/2-w[N]/2-1,L=Cl(f[_],I),U=Cl(f[E],I),D=L,V=M-w[N]-U,J=M/2-w[N]/2+P,ee=Kw(D,J,V),re=!d.arrow&&ah(i)!=null&&J!==ee&&a.reference[N]/2-(J<D?L:U)-w[N]/2<0,ie=re?J<D?J-D:J-V:0;return{[x]:g[x]+ie,data:{[x]:ee,centerOffset:J-ee-ie,...re&&{alignmentOffset:ie}},reset:re}}}),XW=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:a,rects:o,initialPlacement:c,platform:d,elements:h}=e,{mainAxis:m=!0,crossAxis:f=!0,fallbackPlacements:g,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:N="none",flipAlignment:w=!0,...j}=lo(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const _=co(i),E=ia(c),k=co(c)===c,C=await(d.isRTL==null?void 0:d.isRTL(h.floating)),R=g||(k||!w?[Ex(c)]:qW(c)),F=N!=="none";!g&&F&&R.push(...GW(c,w,N,C));const M=[c,...R],P=await sf(e,j),I=[];let L=((r=a.flip)==null?void 0:r.overflows)||[];if(m&&I.push(P[_]),f){const J=$W(i,o,C);I.push(P[J[0]],P[J[1]])}if(L=[...L,{placement:i,overflows:I}],!I.every(J=>J<=0)){var U,D;const J=(((U=a.flip)==null?void 0:U.index)||0)+1,ee=M[J];if(ee&&(!(f==="alignment"?E!==ia(ee):!1)||L.every(Q=>ia(Q.placement)===E?Q.overflows[0]>0:!0)))return{data:{index:J,overflows:L},reset:{placement:ee}};let re=(D=L.filter(ie=>ie.overflows[0]<=0).sort((ie,Q)=>ie.overflows[1]-Q.overflows[1])[0])==null?void 0:D.placement;if(!re)switch(x){case"bestFit":{var V;const ie=(V=L.filter(Q=>{if(F){const q=ia(Q.placement);return q===E||q==="y"}return!0}).map(Q=>[Q.placement,Q.overflows.filter(q=>q>0).reduce((q,B)=>q+B,0)]).sort((Q,q)=>Q[1]-q[1])[0])==null?void 0:V[0];ie&&(re=ie);break}case"initialPlacement":re=c;break}if(i!==re)return{reset:{placement:re}}}return{}}}};function g2(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function x2(t){return VW.some(e=>t[e]>=0)}const ZW=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=lo(t,e);switch(r){case"referenceHidden":{const a=await sf(e,{...i,elementContext:"reference"}),o=g2(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:x2(o)}}}case"escaped":{const a=await sf(e,{...i,altBoundary:!0}),o=g2(a,n.floating);return{data:{escapedOffsets:o,escaped:x2(o)}}}default:return{}}}}},S4=new Set(["left","top"]);async function eK(t,e){const{placement:n,platform:r,elements:i}=t,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=co(n),c=ah(n),d=ia(n)==="y",h=S4.has(o)?-1:1,m=a&&d?-1:1,f=lo(e,t);let{mainAxis:g,crossAxis:x,alignmentAxis:N}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return c&&typeof N=="number"&&(x=c==="end"?N*-1:N),d?{x:x*m,y:g*h}:{x:g*h,y:x*m}}const tK=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:a,placement:o,middlewareData:c}=e,d=await eK(e,t);return o===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:i+d.x,y:a+d.y,data:{...d,placement:o}}}}},nK=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:c={fn:j=>{let{x:_,y:E}=j;return{x:_,y:E}}},...d}=lo(t,e),h={x:n,y:r},m=await sf(e,d),f=ia(co(i)),g=d_(f);let x=h[g],N=h[f];if(a){const j=g==="y"?"top":"left",_=g==="y"?"bottom":"right",E=x+m[j],k=x-m[_];x=Kw(E,x,k)}if(o){const j=f==="y"?"top":"left",_=f==="y"?"bottom":"right",E=N+m[j],k=N-m[_];N=Kw(E,N,k)}const w=c.fn({...e,[g]:x,[f]:N});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[g]:a,[f]:o}}}}}},rK=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:a,middlewareData:o}=e,{offset:c=0,mainAxis:d=!0,crossAxis:h=!0}=lo(t,e),m={x:n,y:r},f=ia(i),g=d_(f);let x=m[g],N=m[f];const w=lo(c,e),j=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(d){const k=g==="y"?"height":"width",C=a.reference[g]-a.floating[k]+j.mainAxis,R=a.reference[g]+a.reference[k]-j.mainAxis;x<C?x=C:x>R&&(x=R)}if(h){var _,E;const k=g==="y"?"width":"height",C=S4.has(co(i)),R=a.reference[f]-a.floating[k]+(C&&((_=o.offset)==null?void 0:_[f])||0)+(C?0:j.crossAxis),F=a.reference[f]+a.reference[k]+(C?0:((E=o.offset)==null?void 0:E[f])||0)-(C?j.crossAxis:0);N<R?N=R:N>F&&(N=F)}return{[g]:x,[f]:N}}}},sK=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:a,platform:o,elements:c}=e,{apply:d=()=>{},...h}=lo(t,e),m=await sf(e,h),f=co(i),g=ah(i),x=ia(i)==="y",{width:N,height:w}=a.floating;let j,_;f==="top"||f==="bottom"?(j=f,_=g===(await(o.isRTL==null?void 0:o.isRTL(c.floating))?"start":"end")?"left":"right"):(_=f,j=g==="end"?"top":"bottom");const E=w-m.top-m.bottom,k=N-m.left-m.right,C=Cl(w-m[j],E),R=Cl(N-m[_],k),F=!e.middlewareData.shift;let M=C,P=R;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(P=k),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(M=E),F&&!g){const L=As(m.left,0),U=As(m.right,0),D=As(m.top,0),V=As(m.bottom,0);x?P=N-2*(L!==0||U!==0?L+U:As(m.left,m.right)):M=w-2*(D!==0||V!==0?D+V:As(m.top,m.bottom))}await d({...e,availableWidth:P,availableHeight:M});const I=await o.getDimensions(c.floating);return N!==I.width||w!==I.height?{reset:{rects:!0}}:{}}}};function _y(){return typeof window<"u"}function oh(t){return E4(t)?(t.nodeName||"").toLowerCase():"#document"}function Ls(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Sa(t){var e;return(e=(E4(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function E4(t){return _y()?t instanceof Node||t instanceof Ls(t).Node:!1}function Si(t){return _y()?t instanceof Element||t instanceof Ls(t).Element:!1}function ba(t){return _y()?t instanceof HTMLElement||t instanceof Ls(t).HTMLElement:!1}function y2(t){return!_y()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ls(t).ShadowRoot}const iK=new Set(["inline","contents"]);function Lf(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Ei(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!iK.has(i)}const aK=new Set(["table","td","th"]);function oK(t){return aK.has(oh(t))}const lK=[":popover-open",":modal"];function Ny(t){return lK.some(e=>{try{return t.matches(e)}catch{return!1}})}const cK=["transform","translate","scale","rotate","perspective"],uK=["transform","translate","scale","rotate","perspective","filter"],dK=["paint","layout","strict","content"];function f_(t){const e=p_(),n=Si(t)?Ei(t):t;return cK.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||uK.some(r=>(n.willChange||"").includes(r))||dK.some(r=>(n.contain||"").includes(r))}function hK(t){let e=kl(t);for(;ba(e)&&!Ud(e);){if(f_(e))return e;if(Ny(e))return null;e=kl(e)}return null}function p_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const mK=new Set(["html","body","#document"]);function Ud(t){return mK.has(oh(t))}function Ei(t){return Ls(t).getComputedStyle(t)}function Sy(t){return Si(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function kl(t){if(oh(t)==="html")return t;const e=t.assignedSlot||t.parentNode||y2(t)&&t.host||Sa(t);return y2(e)?e.host:e}function C4(t){const e=kl(t);return Ud(e)?t.ownerDocument?t.ownerDocument.body:t.body:ba(e)&&Lf(e)?e:C4(e)}function af(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=C4(t),a=i===((r=t.ownerDocument)==null?void 0:r.body),o=Ls(i);if(a){const c=Qw(o);return e.concat(o,o.visualViewport||[],Lf(i)?i:[],c&&n?af(c):[])}return e.concat(i,af(i,[],n))}function Qw(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function k4(t){const e=Ei(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=ba(t),a=i?t.offsetWidth:n,o=i?t.offsetHeight:r,c=Sx(n)!==a||Sx(r)!==o;return c&&(n=a,r=o),{width:n,height:r,$:c}}function g_(t){return Si(t)?t:t.contextElement}function md(t){const e=g_(t);if(!ba(e))return ca(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:a}=k4(e);let o=(a?Sx(n.width):n.width)/r,c=(a?Sx(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!c||!Number.isFinite(c))&&(c=1),{x:o,y:c}}const fK=ca(0);function T4(t){const e=Ls(t);return!p_()||!e.visualViewport?fK:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function pK(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ls(t)?!1:e}function qc(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),a=g_(t);let o=ca(1);e&&(r?Si(r)&&(o=md(r)):o=md(t));const c=pK(a,n,r)?T4(a):ca(0);let d=(i.left+c.x)/o.x,h=(i.top+c.y)/o.y,m=i.width/o.x,f=i.height/o.y;if(a){const g=Ls(a),x=r&&Si(r)?Ls(r):r;let N=g,w=Qw(N);for(;w&&r&&x!==N;){const j=md(w),_=w.getBoundingClientRect(),E=Ei(w),k=_.left+(w.clientLeft+parseFloat(E.paddingLeft))*j.x,C=_.top+(w.clientTop+parseFloat(E.paddingTop))*j.y;d*=j.x,h*=j.y,m*=j.x,f*=j.y,d+=k,h+=C,N=Ls(w),w=Qw(N)}}return Cx({width:m,height:f,x:d,y:h})}function Ey(t,e){const n=Sy(t).scrollLeft;return e?e.left+n:qc(Sa(t)).left+n}function A4(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Ey(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function gK(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const a=i==="fixed",o=Sa(r),c=e?Ny(e.floating):!1;if(r===o||c&&a)return n;let d={scrollLeft:0,scrollTop:0},h=ca(1);const m=ca(0),f=ba(r);if((f||!f&&!a)&&((oh(r)!=="body"||Lf(o))&&(d=Sy(r)),ba(r))){const x=qc(r);h=md(r),m.x=x.x+r.clientLeft,m.y=x.y+r.clientTop}const g=o&&!f&&!a?A4(o,d):ca(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-d.scrollLeft*h.x+m.x+g.x,y:n.y*h.y-d.scrollTop*h.y+m.y+g.y}}function xK(t){return Array.from(t.getClientRects())}function yK(t){const e=Sa(t),n=Sy(t),r=t.ownerDocument.body,i=As(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=As(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Ey(t);const c=-n.scrollTop;return Ei(r).direction==="rtl"&&(o+=As(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:c}}const v2=25;function vK(t,e){const n=Ls(t),r=Sa(t),i=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,c=0,d=0;if(i){a=i.width,o=i.height;const m=p_();(!m||m&&e==="fixed")&&(c=i.offsetLeft,d=i.offsetTop)}const h=Ey(r);if(h<=0){const m=r.ownerDocument,f=m.body,g=getComputedStyle(f),x=m.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,N=Math.abs(r.clientWidth-f.clientWidth-x);N<=v2&&(a-=N)}else h<=v2&&(a+=h);return{width:a,height:o,x:c,y:d}}const bK=new Set(["absolute","fixed"]);function wK(t,e){const n=qc(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,a=ba(t)?md(t):ca(1),o=t.clientWidth*a.x,c=t.clientHeight*a.y,d=i*a.x,h=r*a.y;return{width:o,height:c,x:d,y:h}}function b2(t,e,n){let r;if(e==="viewport")r=vK(t,n);else if(e==="document")r=yK(Sa(t));else if(Si(e))r=wK(e,n);else{const i=T4(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Cx(r)}function I4(t,e){const n=kl(t);return n===e||!Si(n)||Ud(n)?!1:Ei(n).position==="fixed"||I4(n,e)}function jK(t,e){const n=e.get(t);if(n)return n;let r=af(t,[],!1).filter(c=>Si(c)&&oh(c)!=="body"),i=null;const a=Ei(t).position==="fixed";let o=a?kl(t):t;for(;Si(o)&&!Ud(o);){const c=Ei(o),d=f_(o);!d&&c.position==="fixed"&&(i=null),(a?!d&&!i:!d&&c.position==="static"&&!!i&&bK.has(i.position)||Lf(o)&&!d&&I4(t,o))?r=r.filter(m=>m!==o):i=c,o=kl(o)}return e.set(t,r),r}function _K(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Ny(e)?[]:jK(e,this._c):[].concat(n),r],c=o[0],d=o.reduce((h,m)=>{const f=b2(e,m,i);return h.top=As(f.top,h.top),h.right=Cl(f.right,h.right),h.bottom=Cl(f.bottom,h.bottom),h.left=As(f.left,h.left),h},b2(e,c,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function NK(t){const{width:e,height:n}=k4(t);return{width:e,height:n}}function SK(t,e,n){const r=ba(e),i=Sa(e),a=n==="fixed",o=qc(t,!0,a,e);let c={scrollLeft:0,scrollTop:0};const d=ca(0);function h(){d.x=Ey(i)}if(r||!r&&!a)if((oh(e)!=="body"||Lf(i))&&(c=Sy(e)),r){const x=qc(e,!0,a,e);d.x=x.x+e.clientLeft,d.y=x.y+e.clientTop}else i&&h();a&&!r&&i&&h();const m=i&&!r&&!a?A4(i,c):ca(0),f=o.left+c.scrollLeft-d.x-m.x,g=o.top+c.scrollTop-d.y-m.y;return{x:f,y:g,width:o.width,height:o.height}}function mb(t){return Ei(t).position==="static"}function w2(t,e){if(!ba(t)||Ei(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Sa(t)===n&&(n=n.ownerDocument.body),n}function R4(t,e){const n=Ls(t);if(Ny(t))return n;if(!ba(t)){let i=kl(t);for(;i&&!Ud(i);){if(Si(i)&&!mb(i))return i;i=kl(i)}return n}let r=w2(t,e);for(;r&&oK(r)&&mb(r);)r=w2(r,e);return r&&Ud(r)&&mb(r)&&!f_(r)?n:r||hK(t)||n}const EK=async function(t){const e=this.getOffsetParent||R4,n=this.getDimensions,r=await n(t.floating);return{reference:SK(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function CK(t){return Ei(t).direction==="rtl"}const kK={convertOffsetParentRelativeRectToViewportRelativeRect:gK,getDocumentElement:Sa,getClippingRect:_K,getOffsetParent:R4,getElementRects:EK,getClientRects:xK,getDimensions:NK,getScale:md,isElement:Si,isRTL:CK};function P4(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function TK(t,e){let n=null,r;const i=Sa(t);function a(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function o(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),a();const h=t.getBoundingClientRect(),{left:m,top:f,width:g,height:x}=h;if(c||e(),!g||!x)return;const N=yg(f),w=yg(i.clientWidth-(m+g)),j=yg(i.clientHeight-(f+x)),_=yg(m),k={rootMargin:-N+"px "+-w+"px "+-j+"px "+-_+"px",threshold:As(0,Cl(1,d))||1};let C=!0;function R(F){const M=F[0].intersectionRatio;if(M!==d){if(!C)return o();M?o(!1,M):r=setTimeout(()=>{o(!1,1e-7)},1e3)}M===1&&!P4(h,t.getBoundingClientRect())&&o(),C=!1}try{n=new IntersectionObserver(R,{...k,root:i.ownerDocument})}catch{n=new IntersectionObserver(R,k)}n.observe(t)}return o(!0),a}function AK(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,h=g_(t),m=i||a?[...h?af(h):[],...af(e)]:[];m.forEach(_=>{i&&_.addEventListener("scroll",n,{passive:!0}),a&&_.addEventListener("resize",n)});const f=h&&c?TK(h,n):null;let g=-1,x=null;o&&(x=new ResizeObserver(_=>{let[E]=_;E&&E.target===h&&x&&(x.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var k;(k=x)==null||k.observe(e)})),n()}),h&&!d&&x.observe(h),x.observe(e));let N,w=d?qc(t):null;d&&j();function j(){const _=qc(t);w&&!P4(w,_)&&n(),w=_,N=requestAnimationFrame(j)}return n(),()=>{var _;m.forEach(E=>{i&&E.removeEventListener("scroll",n),a&&E.removeEventListener("resize",n)}),f==null||f(),(_=x)==null||_.disconnect(),x=null,d&&cancelAnimationFrame(N)}}const IK=tK,RK=nK,PK=XW,DK=sK,MK=ZW,j2=JW,OK=rK,LK=(t,e,n)=>{const r=new Map,i={platform:kK,...n},a={...i.platform,_c:r};return YW(t,e,{...i,platform:a})};var FK=typeof document<"u",VK=function(){},Gg=FK?v.useLayoutEffect:VK;function kx(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!kx(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&t.$$typeof)&&!kx(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function D4(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function _2(t,e){const n=D4(t);return Math.round(e*n)/n}function fb(t){const e=v.useRef(t);return Gg(()=>{e.current=t}),e}function UK(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:o}={},transform:c=!0,whileElementsMounted:d,open:h}=t,[m,f]=v.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[g,x]=v.useState(r);kx(g,r)||x(r);const[N,w]=v.useState(null),[j,_]=v.useState(null),E=v.useCallback(Q=>{Q!==F.current&&(F.current=Q,w(Q))},[]),k=v.useCallback(Q=>{Q!==M.current&&(M.current=Q,_(Q))},[]),C=a||N,R=o||j,F=v.useRef(null),M=v.useRef(null),P=v.useRef(m),I=d!=null,L=fb(d),U=fb(i),D=fb(h),V=v.useCallback(()=>{if(!F.current||!M.current)return;const Q={placement:e,strategy:n,middleware:g};U.current&&(Q.platform=U.current),LK(F.current,M.current,Q).then(q=>{const B={...q,isPositioned:D.current!==!1};J.current&&!kx(P.current,B)&&(P.current=B,Rf.flushSync(()=>{f(B)}))})},[g,e,n,U,D]);Gg(()=>{h===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,f(Q=>({...Q,isPositioned:!1})))},[h]);const J=v.useRef(!1);Gg(()=>(J.current=!0,()=>{J.current=!1}),[]),Gg(()=>{if(C&&(F.current=C),R&&(M.current=R),C&&R){if(L.current)return L.current(C,R,V);V()}},[C,R,V,L,I]);const ee=v.useMemo(()=>({reference:F,floating:M,setReference:E,setFloating:k}),[E,k]),re=v.useMemo(()=>({reference:C,floating:R}),[C,R]),ie=v.useMemo(()=>{const Q={position:n,left:0,top:0};if(!re.floating)return Q;const q=_2(re.floating,m.x),B=_2(re.floating,m.y);return c?{...Q,transform:"translate("+q+"px, "+B+"px)",...D4(re.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:q,top:B}},[n,c,re.floating,m.x,m.y]);return v.useMemo(()=>({...m,update:V,refs:ee,elements:re,floatingStyles:ie}),[m,V,ee,re,ie])}const zK=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?j2({element:r.current,padding:i}).fn(n):{}:r?j2({element:r,padding:i}).fn(n):{}}}},BK=(t,e)=>({...IK(t),options:[t,e]}),$K=(t,e)=>({...RK(t),options:[t,e]}),qK=(t,e)=>({...OK(t),options:[t,e]}),HK=(t,e)=>({...PK(t),options:[t,e]}),WK=(t,e)=>({...DK(t),options:[t,e]}),KK=(t,e)=>({...MK(t),options:[t,e]}),GK=(t,e)=>({...zK(t),options:[t,e]});var QK="Arrow",M4=v.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...a}=t;return s.jsx(Ct.svg,{...a,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});M4.displayName=QK;var YK=M4;function x_(t){const[e,n]=v.useState(void 0);return sr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,c;if("borderBoxSize"in a){const d=a.borderBoxSize,h=Array.isArray(d)?d[0]:d;o=h.inlineSize,c=h.blockSize}else o=t.offsetWidth,c=t.offsetHeight;n({width:o,height:c})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var y_="Popper",[O4,Cy]=bo(y_),[JK,L4]=O4(y_),F4=t=>{const{__scopePopper:e,children:n}=t,[r,i]=v.useState(null);return s.jsx(JK,{scope:e,anchor:r,onAnchorChange:i,children:n})};F4.displayName=y_;var V4="PopperAnchor",U4=v.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,a=L4(V4,n),o=v.useRef(null),c=Kt(e,o),d=v.useRef(null);return v.useEffect(()=>{const h=d.current;d.current=(r==null?void 0:r.current)||o.current,h!==d.current&&a.onAnchorChange(d.current)}),r?null:s.jsx(Ct.div,{...i,ref:c})});U4.displayName=V4;var v_="PopperContent",[XK,ZK]=O4(v_),z4=v.forwardRef((t,e)=>{var fe,Se,De,ze,qe,ft;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:h=[],collisionPadding:m=0,sticky:f="partial",hideWhenDetached:g=!1,updatePositionStrategy:x="optimized",onPlaced:N,...w}=t,j=L4(v_,n),[_,E]=v.useState(null),k=Kt(e,Zt=>E(Zt)),[C,R]=v.useState(null),F=x_(C),M=(F==null?void 0:F.width)??0,P=(F==null?void 0:F.height)??0,I=r+(a!=="center"?"-"+a:""),L=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},U=Array.isArray(h)?h:[h],D=U.length>0,V={padding:L,boundary:U.filter(tG),altBoundary:D},{refs:J,floatingStyles:ee,placement:re,isPositioned:ie,middlewareData:Q}=UK({strategy:"fixed",placement:I,whileElementsMounted:(...Zt)=>AK(...Zt,{animationFrame:x==="always"}),elements:{reference:j.anchor},middleware:[BK({mainAxis:i+P,alignmentAxis:o}),d&&$K({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?qK():void 0,...V}),d&&HK({...V}),WK({...V,apply:({elements:Zt,rects:kn,availableWidth:wr,availableHeight:Bn})=>{const{width:Jn,height:xs}=kn.reference,zt=Zt.floating.style;zt.setProperty("--radix-popper-available-width",`${wr}px`),zt.setProperty("--radix-popper-available-height",`${Bn}px`),zt.setProperty("--radix-popper-anchor-width",`${Jn}px`),zt.setProperty("--radix-popper-anchor-height",`${xs}px`)}}),C&&GK({element:C,padding:c}),nG({arrowWidth:M,arrowHeight:P}),g&&KK({strategy:"referenceHidden",...V})]}),[q,B]=q4(re),$=Ni(N);sr(()=>{ie&&($==null||$())},[ie,$]);const te=(fe=Q.arrow)==null?void 0:fe.x,H=(Se=Q.arrow)==null?void 0:Se.y,me=((De=Q.arrow)==null?void 0:De.centerOffset)!==0,[we,Ce]=v.useState();return sr(()=>{_&&Ce(window.getComputedStyle(_).zIndex)},[_]),s.jsx("div",{ref:J.setFloating,"data-radix-popper-content-wrapper":"",style:{...ee,transform:ie?ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:we,"--radix-popper-transform-origin":[(ze=Q.transformOrigin)==null?void 0:ze.x,(qe=Q.transformOrigin)==null?void 0:qe.y].join(" "),...((ft=Q.hide)==null?void 0:ft.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:s.jsx(XK,{scope:n,placedSide:q,onArrowChange:R,arrowX:te,arrowY:H,shouldHideArrow:me,children:s.jsx(Ct.div,{"data-side":q,"data-align":B,...w,ref:k,style:{...w.style,animation:ie?void 0:"none"}})})})});z4.displayName=v_;var B4="PopperArrow",eG={top:"bottom",right:"left",bottom:"top",left:"right"},$4=v.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,a=ZK(B4,r),o=eG[a.placedSide];return s.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:s.jsx(YK,{...i,ref:n,style:{...i.style,display:"block"}})})});$4.displayName=B4;function tG(t){return t!==null}var nG=t=>({name:"transformOrigin",options:t,fn(e){var j,_,E;const{placement:n,rects:r,middlewareData:i}=e,o=((j=i.arrow)==null?void 0:j.centerOffset)!==0,c=o?0:t.arrowWidth,d=o?0:t.arrowHeight,[h,m]=q4(n),f={start:"0%",center:"50%",end:"100%"}[m],g=(((_=i.arrow)==null?void 0:_.x)??0)+c/2,x=(((E=i.arrow)==null?void 0:E.y)??0)+d/2;let N="",w="";return h==="bottom"?(N=o?f:`${g}px`,w=`${-d}px`):h==="top"?(N=o?f:`${g}px`,w=`${r.floating.height+d}px`):h==="right"?(N=`${-d}px`,w=o?f:`${x}px`):h==="left"&&(N=`${r.floating.width+d}px`,w=o?f:`${x}px`),{data:{x:N,y:w}}}});function q4(t){const[e,n="center"]=t.split("-");return[e,n]}var H4=F4,W4=U4,K4=z4,G4=$4,rG="Portal",ky=v.forwardRef((t,e)=>{var c;const{container:n,...r}=t,[i,a]=v.useState(!1);sr(()=>a(!0),[]);const o=n||i&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return o?mz.createPortal(s.jsx(Ct.div,{...r,ref:e}),o):null});ky.displayName=rG;function sG(t,e){return v.useReducer((n,r)=>e[n][r]??n,t)}var wo=t=>{const{present:e,children:n}=t,r=iG(e),i=typeof n=="function"?n({present:r.isPresent}):v.Children.only(n),a=Kt(r.ref,aG(i));return typeof n=="function"||r.isPresent?v.cloneElement(i,{ref:a}):null};wo.displayName="Presence";function iG(t){const[e,n]=v.useState(),r=v.useRef(null),i=v.useRef(t),a=v.useRef("none"),o=t?"mounted":"unmounted",[c,d]=sG(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const h=vg(r.current);a.current=c==="mounted"?h:"none"},[c]),sr(()=>{const h=r.current,m=i.current;if(m!==t){const g=a.current,x=vg(h);t?d("MOUNT"):x==="none"||(h==null?void 0:h.display)==="none"?d("UNMOUNT"):d(m&&g!==x?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,d]),sr(()=>{if(e){let h;const m=e.ownerDocument.defaultView??window,f=x=>{const w=vg(r.current).includes(CSS.escape(x.animationName));if(x.target===e&&w&&(d("ANIMATION_END"),!i.current)){const j=e.style.animationFillMode;e.style.animationFillMode="forwards",h=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=j)})}},g=x=>{x.target===e&&(a.current=vg(r.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{m.clearTimeout(h),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:v.useCallback(h=>{r.current=h?getComputedStyle(h):null,n(h)},[])}}function vg(t){return(t==null?void 0:t.animationName)||"none"}function aG(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var pb="rovingFocusGroup.onEntryFocus",oG={bubbles:!1,cancelable:!0},Ff="RovingFocusGroup",[Yw,Q4,lG]=l_(Ff),[cG,Y4]=bo(Ff,[lG]),[uG,dG]=cG(Ff),J4=v.forwardRef((t,e)=>s.jsx(Yw.Provider,{scope:t.__scopeRovingFocusGroup,children:s.jsx(Yw.Slot,{scope:t.__scopeRovingFocusGroup,children:s.jsx(hG,{...t,ref:e})})}));J4.displayName=Ff;var hG=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:h,preventScrollOnEntryFocus:m=!1,...f}=t,g=v.useRef(null),x=Kt(e,g),N=c_(a),[w,j]=$c({prop:o,defaultProp:c??null,onChange:d,caller:Ff}),[_,E]=v.useState(!1),k=Ni(h),C=Q4(n),R=v.useRef(!1),[F,M]=v.useState(0);return v.useEffect(()=>{const P=g.current;if(P)return P.addEventListener(pb,k),()=>P.removeEventListener(pb,k)},[k]),s.jsx(uG,{scope:n,orientation:r,dir:N,loop:i,currentTabStopId:w,onItemFocus:v.useCallback(P=>j(P),[j]),onItemShiftTab:v.useCallback(()=>E(!0),[]),onFocusableItemAdd:v.useCallback(()=>M(P=>P+1),[]),onFocusableItemRemove:v.useCallback(()=>M(P=>P-1),[]),children:s.jsx(Ct.div,{tabIndex:_||F===0?-1:0,"data-orientation":r,...f,ref:x,style:{outline:"none",...t.style},onMouseDown:Je(t.onMouseDown,()=>{R.current=!0}),onFocus:Je(t.onFocus,P=>{const I=!R.current;if(P.target===P.currentTarget&&I&&!_){const L=new CustomEvent(pb,oG);if(P.currentTarget.dispatchEvent(L),!L.defaultPrevented){const U=C().filter(re=>re.focusable),D=U.find(re=>re.active),V=U.find(re=>re.id===w),ee=[D,V,...U].filter(Boolean).map(re=>re.ref.current);eD(ee,m)}}R.current=!1}),onBlur:Je(t.onBlur,()=>E(!1))})})}),X4="RovingFocusGroupItem",Z4=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,children:o,...c}=t,d=eo(),h=a||d,m=dG(X4,n),f=m.currentTabStopId===h,g=Q4(n),{onFocusableItemAdd:x,onFocusableItemRemove:N,currentTabStopId:w}=m;return v.useEffect(()=>{if(r)return x(),()=>N()},[r,x,N]),s.jsx(Yw.ItemSlot,{scope:n,id:h,focusable:r,active:i,children:s.jsx(Ct.span,{tabIndex:f?0:-1,"data-orientation":m.orientation,...c,ref:e,onMouseDown:Je(t.onMouseDown,j=>{r?m.onItemFocus(h):j.preventDefault()}),onFocus:Je(t.onFocus,()=>m.onItemFocus(h)),onKeyDown:Je(t.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){m.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const _=pG(j,m.orientation,m.dir);if(_!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let k=g().filter(C=>C.focusable).map(C=>C.ref.current);if(_==="last")k.reverse();else if(_==="prev"||_==="next"){_==="prev"&&k.reverse();const C=k.indexOf(j.currentTarget);k=m.loop?gG(k,C+1):k.slice(C+1)}setTimeout(()=>eD(k))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:w!=null}):o})})});Z4.displayName=X4;var mG={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function fG(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function pG(t,e,n){const r=fG(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return mG[r]}function eD(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function gG(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var xG=J4,yG=Z4;function vG(t){const e=bG(t),n=v.forwardRef((r,i)=>{const{children:a,...o}=r,c=v.Children.toArray(a),d=c.find(jG);if(d){const h=d.props.children,m=c.map(f=>f===d?v.Children.count(h)>1?v.Children.only(null):v.isValidElement(h)?h.props.children:null:f);return s.jsx(e,{...o,ref:i,children:v.isValidElement(h)?v.cloneElement(h,void 0,m):null})}return s.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function bG(t){const e=v.forwardRef((n,r)=>{const{children:i,...a}=n;if(v.isValidElement(i)){const o=NG(i),c=_G(a,i.props);return i.type!==v.Fragment&&(c.ref=r?vo(r,o):o),v.cloneElement(i,c)}return v.Children.count(i)>1?v.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var wG=Symbol("radix.slottable");function jG(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===wG}function _G(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...c)=>{const d=a(...c);return i(...c),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function NG(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var SG=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ku=new WeakMap,bg=new WeakMap,wg={},gb=0,tD=function(t){return t&&(t.host||tD(t.parentNode))},EG=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=tD(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},CG=function(t,e,n,r){var i=EG(e,Array.isArray(t)?t:[t]);wg[n]||(wg[n]=new WeakMap);var a=wg[n],o=[],c=new Set,d=new Set(i),h=function(f){!f||c.has(f)||(c.add(f),h(f.parentNode))};i.forEach(h);var m=function(f){!f||d.has(f)||Array.prototype.forEach.call(f.children,function(g){if(c.has(g))m(g);else try{var x=g.getAttribute(r),N=x!==null&&x!=="false",w=(Ku.get(g)||0)+1,j=(a.get(g)||0)+1;Ku.set(g,w),a.set(g,j),o.push(g),w===1&&N&&bg.set(g,!0),j===1&&g.setAttribute(n,"true"),N||g.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",g,_)}})};return m(e),c.clear(),gb++,function(){o.forEach(function(f){var g=Ku.get(f)-1,x=a.get(f)-1;Ku.set(f,g),a.set(f,x),g||(bg.has(f)||f.removeAttribute(r),bg.delete(f)),x||f.removeAttribute(n)}),gb--,gb||(Ku=new WeakMap,Ku=new WeakMap,bg=new WeakMap,wg={})}},b_=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=SG(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),CG(r,i,n,"aria-hidden")):function(){return null}},ra=function(){return ra=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ra.apply(this,arguments)};function nD(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function kG(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var Qg="right-scroll-bar-position",Yg="width-before-scroll-bar",TG="with-scroll-bars-hidden",AG="--removed-body-scroll-bar-size";function xb(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function IG(t,e){var n=v.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var RG=typeof window<"u"?v.useLayoutEffect:v.useEffect,N2=new WeakMap;function PG(t,e){var n=IG(null,function(r){return t.forEach(function(i){return xb(i,r)})});return RG(function(){var r=N2.get(n);if(r){var i=new Set(r),a=new Set(t),o=n.current;i.forEach(function(c){a.has(c)||xb(c,null)}),a.forEach(function(c){i.has(c)||xb(c,o)})}N2.set(n,t)},[t]),n}function DG(t){return t}function MG(t,e){e===void 0&&(e=DG);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var o=e(a,r);return n.push(o),function(){n=n.filter(function(c){return c!==o})}},assignSyncMedium:function(a){for(r=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(c){return a(c)},filter:function(){return n}}},assignMedium:function(a){r=!0;var o=[];if(n.length){var c=n;n=[],c.forEach(a),o=n}var d=function(){var m=o;o=[],m.forEach(a)},h=function(){return Promise.resolve().then(d)};h(),n={push:function(m){o.push(m),h()},filter:function(m){return o=o.filter(m),n}}}};return i}function OG(t){t===void 0&&(t={});var e=MG(null);return e.options=ra({async:!0,ssr:!1},t),e}var rD=function(t){var e=t.sideCar,n=nD(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return v.createElement(r,ra({},n))};rD.isSideCarExport=!0;function LG(t,e){return t.useMedium(e),rD}var sD=OG(),yb=function(){},Ty=v.forwardRef(function(t,e){var n=v.useRef(null),r=v.useState({onScrollCapture:yb,onWheelCapture:yb,onTouchMoveCapture:yb}),i=r[0],a=r[1],o=t.forwardProps,c=t.children,d=t.className,h=t.removeScrollBar,m=t.enabled,f=t.shards,g=t.sideCar,x=t.noRelative,N=t.noIsolation,w=t.inert,j=t.allowPinchZoom,_=t.as,E=_===void 0?"div":_,k=t.gapMode,C=nD(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=g,F=PG([n,e]),M=ra(ra({},C),i);return v.createElement(v.Fragment,null,m&&v.createElement(R,{sideCar:sD,removeScrollBar:h,shards:f,noRelative:x,noIsolation:N,inert:w,setCallbacks:a,allowPinchZoom:!!j,lockRef:n,gapMode:k}),o?v.cloneElement(v.Children.only(c),ra(ra({},M),{ref:F})):v.createElement(E,ra({},M,{className:d,ref:F}),c))});Ty.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ty.classNames={fullWidth:Yg,zeroRight:Qg};var FG=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function VG(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=FG();return e&&t.setAttribute("nonce",e),t}function UG(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function zG(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var BG=function(){var t=0,e=null;return{add:function(n){t==0&&(e=VG())&&(UG(e,n),zG(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},$G=function(){var t=BG();return function(e,n){v.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},iD=function(){var t=$G(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},qG={left:0,top:0,right:0,gap:0},vb=function(t){return parseInt(t||"",10)||0},HG=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[vb(n),vb(r),vb(i)]},WG=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return qG;var e=HG(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},KG=iD(),fd="data-scroll-locked",GG=function(t,e,n,r){var i=t.left,a=t.top,o=t.right,c=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(TG,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(fd,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Qg,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Yg,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Qg," .").concat(Qg,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Yg," .").concat(Yg,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(fd,`] {
    `).concat(AG,": ").concat(c,`px;
  }
`)},S2=function(){var t=parseInt(document.body.getAttribute(fd)||"0",10);return isFinite(t)?t:0},QG=function(){v.useEffect(function(){return document.body.setAttribute(fd,(S2()+1).toString()),function(){var t=S2()-1;t<=0?document.body.removeAttribute(fd):document.body.setAttribute(fd,t.toString())}},[])},YG=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;QG();var a=v.useMemo(function(){return WG(i)},[i]);return v.createElement(KG,{styles:GG(a,!e,i,n?"":"!important")})},Jw=!1;if(typeof window<"u")try{var jg=Object.defineProperty({},"passive",{get:function(){return Jw=!0,!0}});window.addEventListener("test",jg,jg),window.removeEventListener("test",jg,jg)}catch{Jw=!1}var Gu=Jw?{passive:!1}:!1,JG=function(t){return t.tagName==="TEXTAREA"},aD=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!JG(t)&&n[e]==="visible")},XG=function(t){return aD(t,"overflowY")},ZG=function(t){return aD(t,"overflowX")},E2=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=oD(t,r);if(i){var a=lD(t,r),o=a[1],c=a[2];if(o>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},eQ=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},tQ=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},oD=function(t,e){return t==="v"?XG(e):ZG(e)},lD=function(t,e){return t==="v"?eQ(e):tQ(e)},nQ=function(t,e){return t==="h"&&e==="rtl"?-1:1},rQ=function(t,e,n,r,i){var a=nQ(t,window.getComputedStyle(e).direction),o=a*r,c=n.target,d=e.contains(c),h=!1,m=o>0,f=0,g=0;do{if(!c)break;var x=lD(t,c),N=x[0],w=x[1],j=x[2],_=w-j-a*N;(N||_)&&oD(t,c)&&(f+=_,g+=N);var E=c.parentNode;c=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!d&&c!==document.body||d&&(e.contains(c)||e===c));return(m&&Math.abs(f)<1||!m&&Math.abs(g)<1)&&(h=!0),h},_g=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},C2=function(t){return[t.deltaX,t.deltaY]},k2=function(t){return t&&"current"in t?t.current:t},sQ=function(t,e){return t[0]===e[0]&&t[1]===e[1]},iQ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},aQ=0,Qu=[];function oQ(t){var e=v.useRef([]),n=v.useRef([0,0]),r=v.useRef(),i=v.useState(aQ++)[0],a=v.useState(iD)[0],o=v.useRef(t);v.useEffect(function(){o.current=t},[t]),v.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var w=kG([t.lockRef.current],(t.shards||[]).map(k2),!0).filter(Boolean);return w.forEach(function(j){return j.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),w.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var c=v.useCallback(function(w,j){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!o.current.allowPinchZoom;var _=_g(w),E=n.current,k="deltaX"in w?w.deltaX:E[0]-_[0],C="deltaY"in w?w.deltaY:E[1]-_[1],R,F=w.target,M=Math.abs(k)>Math.abs(C)?"h":"v";if("touches"in w&&M==="h"&&F.type==="range")return!1;var P=E2(M,F);if(!P)return!0;if(P?R=M:(R=M==="v"?"h":"v",P=E2(M,F)),!P)return!1;if(!r.current&&"changedTouches"in w&&(k||C)&&(r.current=R),!R)return!0;var I=r.current||R;return rQ(I,j,w,I==="h"?k:C)},[]),d=v.useCallback(function(w){var j=w;if(!(!Qu.length||Qu[Qu.length-1]!==a)){var _="deltaY"in j?C2(j):_g(j),E=e.current.filter(function(R){return R.name===j.type&&(R.target===j.target||j.target===R.shadowParent)&&sQ(R.delta,_)})[0];if(E&&E.should){j.cancelable&&j.preventDefault();return}if(!E){var k=(o.current.shards||[]).map(k2).filter(Boolean).filter(function(R){return R.contains(j.target)}),C=k.length>0?c(j,k[0]):!o.current.noIsolation;C&&j.cancelable&&j.preventDefault()}}},[]),h=v.useCallback(function(w,j,_,E){var k={name:w,delta:j,target:_,should:E,shadowParent:lQ(_)};e.current.push(k),setTimeout(function(){e.current=e.current.filter(function(C){return C!==k})},1)},[]),m=v.useCallback(function(w){n.current=_g(w),r.current=void 0},[]),f=v.useCallback(function(w){h(w.type,C2(w),w.target,c(w,t.lockRef.current))},[]),g=v.useCallback(function(w){h(w.type,_g(w),w.target,c(w,t.lockRef.current))},[]);v.useEffect(function(){return Qu.push(a),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:g}),document.addEventListener("wheel",d,Gu),document.addEventListener("touchmove",d,Gu),document.addEventListener("touchstart",m,Gu),function(){Qu=Qu.filter(function(w){return w!==a}),document.removeEventListener("wheel",d,Gu),document.removeEventListener("touchmove",d,Gu),document.removeEventListener("touchstart",m,Gu)}},[]);var x=t.removeScrollBar,N=t.inert;return v.createElement(v.Fragment,null,N?v.createElement(a,{styles:iQ(i)}):null,x?v.createElement(YG,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function lQ(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const cQ=LG(sD,oQ);var Ay=v.forwardRef(function(t,e){return v.createElement(Ty,ra({},t,{ref:e,sideCar:cQ}))});Ay.classNames=Ty.classNames;var Xw=["Enter"," "],uQ=["ArrowDown","PageUp","Home"],cD=["ArrowUp","PageDown","End"],dQ=[...uQ,...cD],hQ={ltr:[...Xw,"ArrowRight"],rtl:[...Xw,"ArrowLeft"]},mQ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Vf="Menu",[of,fQ,pQ]=l_(Vf),[iu,uD]=bo(Vf,[pQ,Cy,Y4]),Iy=Cy(),dD=Y4(),[gQ,au]=iu(Vf),[xQ,Uf]=iu(Vf),hD=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:a,modal:o=!0}=t,c=Iy(e),[d,h]=v.useState(null),m=v.useRef(!1),f=Ni(a),g=c_(i);return v.useEffect(()=>{const x=()=>{m.current=!0,document.addEventListener("pointerdown",N,{capture:!0,once:!0}),document.addEventListener("pointermove",N,{capture:!0,once:!0})},N=()=>m.current=!1;return document.addEventListener("keydown",x,{capture:!0}),()=>{document.removeEventListener("keydown",x,{capture:!0}),document.removeEventListener("pointerdown",N,{capture:!0}),document.removeEventListener("pointermove",N,{capture:!0})}},[]),s.jsx(H4,{...c,children:s.jsx(gQ,{scope:e,open:n,onOpenChange:f,content:d,onContentChange:h,children:s.jsx(xQ,{scope:e,onClose:v.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:m,dir:g,modal:o,children:r})})})};hD.displayName=Vf;var yQ="MenuAnchor",w_=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Iy(n);return s.jsx(W4,{...i,...r,ref:e})});w_.displayName=yQ;var j_="MenuPortal",[vQ,mD]=iu(j_,{forceMount:void 0}),fD=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,a=au(j_,e);return s.jsx(vQ,{scope:e,forceMount:n,children:s.jsx(wo,{present:n||a.open,children:s.jsx(ky,{asChild:!0,container:i,children:r})})})};fD.displayName=j_;var ti="MenuContent",[bQ,__]=iu(ti),pD=v.forwardRef((t,e)=>{const n=mD(ti,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,a=au(ti,t.__scopeMenu),o=Uf(ti,t.__scopeMenu);return s.jsx(of.Provider,{scope:t.__scopeMenu,children:s.jsx(wo,{present:r||a.open,children:s.jsx(of.Slot,{scope:t.__scopeMenu,children:o.modal?s.jsx(wQ,{...i,ref:e}):s.jsx(jQ,{...i,ref:e})})})})}),wQ=v.forwardRef((t,e)=>{const n=au(ti,t.__scopeMenu),r=v.useRef(null),i=Kt(e,r);return v.useEffect(()=>{const a=r.current;if(a)return b_(a)},[]),s.jsx(N_,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Je(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),jQ=v.forwardRef((t,e)=>{const n=au(ti,t.__scopeMenu);return s.jsx(N_,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),_Q=vG("MenuContent.ScrollLock"),N_=v.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:c,onEntryFocus:d,onEscapeKeyDown:h,onPointerDownOutside:m,onFocusOutside:f,onInteractOutside:g,onDismiss:x,disableOutsideScroll:N,...w}=t,j=au(ti,n),_=Uf(ti,n),E=Iy(n),k=dD(n),C=fQ(n),[R,F]=v.useState(null),M=v.useRef(null),P=Kt(e,M,j.onContentChange),I=v.useRef(0),L=v.useRef(""),U=v.useRef(0),D=v.useRef(null),V=v.useRef("right"),J=v.useRef(0),ee=N?Ay:v.Fragment,re=N?{as:_Q,allowPinchZoom:!0}:void 0,ie=q=>{var fe,Se;const B=L.current+q,$=C().filter(De=>!De.disabled),te=document.activeElement,H=(fe=$.find(De=>De.ref.current===te))==null?void 0:fe.textValue,me=$.map(De=>De.textValue),we=MQ(me,B,H),Ce=(Se=$.find(De=>De.textValue===we))==null?void 0:Se.ref.current;(function De(ze){L.current=ze,window.clearTimeout(I.current),ze!==""&&(I.current=window.setTimeout(()=>De(""),1e3))})(B),Ce&&setTimeout(()=>Ce.focus())};v.useEffect(()=>()=>window.clearTimeout(I.current),[]),u_();const Q=v.useCallback(q=>{var $,te;return V.current===(($=D.current)==null?void 0:$.side)&&LQ(q,(te=D.current)==null?void 0:te.area)},[]);return s.jsx(bQ,{scope:n,searchRef:L,onItemEnter:v.useCallback(q=>{Q(q)&&q.preventDefault()},[Q]),onItemLeave:v.useCallback(q=>{var B;Q(q)||((B=M.current)==null||B.focus(),F(null))},[Q]),onTriggerLeave:v.useCallback(q=>{Q(q)&&q.preventDefault()},[Q]),pointerGraceTimerRef:U,onPointerGraceIntentChange:v.useCallback(q=>{D.current=q},[]),children:s.jsx(ee,{...re,children:s.jsx(jy,{asChild:!0,trapped:i,onMountAutoFocus:Je(a,q=>{var B;q.preventDefault(),(B=M.current)==null||B.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(wy,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:h,onPointerDownOutside:m,onFocusOutside:f,onInteractOutside:g,onDismiss:x,children:s.jsx(xG,{asChild:!0,...k,dir:_.dir,orientation:"vertical",loop:r,currentTabStopId:R,onCurrentTabStopIdChange:F,onEntryFocus:Je(d,q=>{_.isUsingKeyboardRef.current||q.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(K4,{role:"menu","aria-orientation":"vertical","data-state":ID(j.open),"data-radix-menu-content":"",dir:_.dir,...E,...w,ref:P,style:{outline:"none",...w.style},onKeyDown:Je(w.onKeyDown,q=>{const $=q.target.closest("[data-radix-menu-content]")===q.currentTarget,te=q.ctrlKey||q.altKey||q.metaKey,H=q.key.length===1;$&&(q.key==="Tab"&&q.preventDefault(),!te&&H&&ie(q.key));const me=M.current;if(q.target!==me||!dQ.includes(q.key))return;q.preventDefault();const Ce=C().filter(fe=>!fe.disabled).map(fe=>fe.ref.current);cD.includes(q.key)&&Ce.reverse(),PQ(Ce)}),onBlur:Je(t.onBlur,q=>{q.currentTarget.contains(q.target)||(window.clearTimeout(I.current),L.current="")}),onPointerMove:Je(t.onPointerMove,lf(q=>{const B=q.target,$=J.current!==q.clientX;if(q.currentTarget.contains(B)&&$){const te=q.clientX>J.current?"right":"left";V.current=te,J.current=q.clientX}}))})})})})})})});pD.displayName=ti;var NQ="MenuGroup",S_=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return s.jsx(Ct.div,{role:"group",...r,ref:e})});S_.displayName=NQ;var SQ="MenuLabel",gD=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return s.jsx(Ct.div,{...r,ref:e})});gD.displayName=SQ;var Tx="MenuItem",T2="menu.itemSelect",Ry=v.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,a=v.useRef(null),o=Uf(Tx,t.__scopeMenu),c=__(Tx,t.__scopeMenu),d=Kt(e,a),h=v.useRef(!1),m=()=>{const f=a.current;if(!n&&f){const g=new CustomEvent(T2,{bubbles:!0,cancelable:!0});f.addEventListener(T2,x=>r==null?void 0:r(x),{once:!0}),b4(f,g),g.defaultPrevented?h.current=!1:o.onClose()}};return s.jsx(xD,{...i,ref:d,disabled:n,onClick:Je(t.onClick,m),onPointerDown:f=>{var g;(g=t.onPointerDown)==null||g.call(t,f),h.current=!0},onPointerUp:Je(t.onPointerUp,f=>{var g;h.current||(g=f.currentTarget)==null||g.click()}),onKeyDown:Je(t.onKeyDown,f=>{const g=c.searchRef.current!=="";n||g&&f.key===" "||Xw.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Ry.displayName=Tx;var xD=v.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...a}=t,o=__(Tx,n),c=dD(n),d=v.useRef(null),h=Kt(e,d),[m,f]=v.useState(!1),[g,x]=v.useState("");return v.useEffect(()=>{const N=d.current;N&&x((N.textContent??"").trim())},[a.children]),s.jsx(of.ItemSlot,{scope:n,disabled:r,textValue:i??g,children:s.jsx(yG,{asChild:!0,...c,focusable:!r,children:s.jsx(Ct.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:h,onPointerMove:Je(t.onPointerMove,lf(N=>{r?o.onItemLeave(N):(o.onItemEnter(N),N.defaultPrevented||N.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Je(t.onPointerLeave,lf(N=>o.onItemLeave(N))),onFocus:Je(t.onFocus,()=>f(!0)),onBlur:Je(t.onBlur,()=>f(!1))})})})}),EQ="MenuCheckboxItem",yD=v.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return s.jsx(_D,{scope:t.__scopeMenu,checked:n,children:s.jsx(Ry,{role:"menuitemcheckbox","aria-checked":Ax(n)?"mixed":n,...i,ref:e,"data-state":C_(n),onSelect:Je(i.onSelect,()=>r==null?void 0:r(Ax(n)?!0:!n),{checkForDefaultPrevented:!1})})})});yD.displayName=EQ;var vD="MenuRadioGroup",[CQ,kQ]=iu(vD,{value:void 0,onValueChange:()=>{}}),bD=v.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,a=Ni(r);return s.jsx(CQ,{scope:t.__scopeMenu,value:n,onValueChange:a,children:s.jsx(S_,{...i,ref:e})})});bD.displayName=vD;var wD="MenuRadioItem",jD=v.forwardRef((t,e)=>{const{value:n,...r}=t,i=kQ(wD,t.__scopeMenu),a=n===i.value;return s.jsx(_D,{scope:t.__scopeMenu,checked:a,children:s.jsx(Ry,{role:"menuitemradio","aria-checked":a,...r,ref:e,"data-state":C_(a),onSelect:Je(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});jD.displayName=wD;var E_="MenuItemIndicator",[_D,TQ]=iu(E_,{checked:!1}),ND=v.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,a=TQ(E_,n);return s.jsx(wo,{present:r||Ax(a.checked)||a.checked===!0,children:s.jsx(Ct.span,{...i,ref:e,"data-state":C_(a.checked)})})});ND.displayName=E_;var AQ="MenuSeparator",SD=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return s.jsx(Ct.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});SD.displayName=AQ;var IQ="MenuArrow",ED=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Iy(n);return s.jsx(G4,{...i,...r,ref:e})});ED.displayName=IQ;var RQ="MenuSub",[ege,CD]=iu(RQ),bm="MenuSubTrigger",kD=v.forwardRef((t,e)=>{const n=au(bm,t.__scopeMenu),r=Uf(bm,t.__scopeMenu),i=CD(bm,t.__scopeMenu),a=__(bm,t.__scopeMenu),o=v.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:d}=a,h={__scopeMenu:t.__scopeMenu},m=v.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return v.useEffect(()=>m,[m]),v.useEffect(()=>{const f=c.current;return()=>{window.clearTimeout(f),d(null)}},[c,d]),s.jsx(w_,{asChild:!0,...h,children:s.jsx(xD,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":ID(n.open),...t,ref:vo(e,i.onTriggerChange),onClick:f=>{var g;(g=t.onClick)==null||g.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Je(t.onPointerMove,lf(f=>{a.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),m()},100))})),onPointerLeave:Je(t.onPointerLeave,lf(f=>{var x,N;m();const g=(x=n.content)==null?void 0:x.getBoundingClientRect();if(g){const w=(N=n.content)==null?void 0:N.dataset.side,j=w==="right",_=j?-5:5,E=g[j?"left":"right"],k=g[j?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+_,y:f.clientY},{x:E,y:g.top},{x:k,y:g.top},{x:k,y:g.bottom},{x:E,y:g.bottom}],side:w}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Je(t.onKeyDown,f=>{var x;const g=a.searchRef.current!=="";t.disabled||g&&f.key===" "||hQ[r.dir].includes(f.key)&&(n.onOpenChange(!0),(x=n.content)==null||x.focus(),f.preventDefault())})})})});kD.displayName=bm;var TD="MenuSubContent",AD=v.forwardRef((t,e)=>{const n=mD(ti,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,a=au(ti,t.__scopeMenu),o=Uf(ti,t.__scopeMenu),c=CD(TD,t.__scopeMenu),d=v.useRef(null),h=Kt(e,d);return s.jsx(of.Provider,{scope:t.__scopeMenu,children:s.jsx(wo,{present:r||a.open,children:s.jsx(of.Slot,{scope:t.__scopeMenu,children:s.jsx(N_,{id:c.contentId,"aria-labelledby":c.triggerId,...i,ref:h,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{var f;o.isUsingKeyboardRef.current&&((f=d.current)==null||f.focus()),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:Je(t.onFocusOutside,m=>{m.target!==c.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Je(t.onEscapeKeyDown,m=>{o.onClose(),m.preventDefault()}),onKeyDown:Je(t.onKeyDown,m=>{var x;const f=m.currentTarget.contains(m.target),g=mQ[o.dir].includes(m.key);f&&g&&(a.onOpenChange(!1),(x=c.trigger)==null||x.focus(),m.preventDefault())})})})})})});AD.displayName=TD;function ID(t){return t?"open":"closed"}function Ax(t){return t==="indeterminate"}function C_(t){return Ax(t)?"indeterminate":t?"checked":"unchecked"}function PQ(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function DQ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function MQ(t,e,n){const i=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let o=DQ(t,Math.max(a,0));i.length===1&&(o=o.filter(h=>h!==n));const d=o.find(h=>h.toLowerCase().startsWith(i.toLowerCase()));return d!==n?d:void 0}function OQ(t,e){const{x:n,y:r}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const c=e[a],d=e[o],h=c.x,m=c.y,f=d.x,g=d.y;m>r!=g>r&&n<(f-h)*(r-m)/(g-m)+h&&(i=!i)}return i}function LQ(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return OQ(n,e)}function lf(t){return e=>e.pointerType==="mouse"?t(e):void 0}var FQ=hD,VQ=w_,UQ=fD,zQ=pD,BQ=S_,$Q=gD,qQ=Ry,HQ=yD,WQ=bD,KQ=jD,GQ=ND,QQ=SD,YQ=ED,JQ=kD,XQ=AD,Py="DropdownMenu",[ZQ]=bo(Py,[uD]),Qr=uD(),[eY,RD]=ZQ(Py),PD=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:a,onOpenChange:o,modal:c=!0}=t,d=Qr(e),h=v.useRef(null),[m,f]=$c({prop:i,defaultProp:a??!1,onChange:o,caller:Py});return s.jsx(eY,{scope:e,triggerId:eo(),triggerRef:h,contentId:eo(),open:m,onOpenChange:f,onOpenToggle:v.useCallback(()=>f(g=>!g),[f]),modal:c,children:s.jsx(FQ,{...d,open:m,onOpenChange:f,dir:r,modal:c,children:n})})};PD.displayName=Py;var DD="DropdownMenuTrigger",MD=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,a=RD(DD,n),o=Qr(n);return s.jsx(VQ,{asChild:!0,...o,children:s.jsx(Ct.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:vo(e,a.triggerRef),onPointerDown:Je(t.onPointerDown,c=>{!r&&c.button===0&&c.ctrlKey===!1&&(a.onOpenToggle(),a.open||c.preventDefault())}),onKeyDown:Je(t.onKeyDown,c=>{r||(["Enter"," "].includes(c.key)&&a.onOpenToggle(),c.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});MD.displayName=DD;var tY="DropdownMenuPortal",OD=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Qr(e);return s.jsx(UQ,{...r,...n})};OD.displayName=tY;var LD="DropdownMenuContent",FD=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=RD(LD,n),a=Qr(n),o=v.useRef(!1);return s.jsx(zQ,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...r,ref:e,onCloseAutoFocus:Je(t.onCloseAutoFocus,c=>{var d;o.current||(d=i.triggerRef.current)==null||d.focus(),o.current=!1,c.preventDefault()}),onInteractOutside:Je(t.onInteractOutside,c=>{const d=c.detail.originalEvent,h=d.button===0&&d.ctrlKey===!0,m=d.button===2||h;(!i.modal||m)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});FD.displayName=LD;var nY="DropdownMenuGroup",rY=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Qr(n);return s.jsx(BQ,{...i,...r,ref:e})});rY.displayName=nY;var sY="DropdownMenuLabel",VD=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Qr(n);return s.jsx($Q,{...i,...r,ref:e})});VD.displayName=sY;var iY="DropdownMenuItem",UD=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Qr(n);return s.jsx(qQ,{...i,...r,ref:e})});UD.displayName=iY;var aY="DropdownMenuCheckboxItem",zD=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Qr(n);return s.jsx(HQ,{...i,...r,ref:e})});zD.displayName=aY;var oY="DropdownMenuRadioGroup",lY=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Qr(n);return s.jsx(WQ,{...i,...r,ref:e})});lY.displayName=oY;var cY="DropdownMenuRadioItem",BD=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Qr(n);return s.jsx(KQ,{...i,...r,ref:e})});BD.displayName=cY;var uY="DropdownMenuItemIndicator",$D=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Qr(n);return s.jsx(GQ,{...i,...r,ref:e})});$D.displayName=uY;var dY="DropdownMenuSeparator",qD=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Qr(n);return s.jsx(QQ,{...i,...r,ref:e})});qD.displayName=dY;var hY="DropdownMenuArrow",mY=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Qr(n);return s.jsx(YQ,{...i,...r,ref:e})});mY.displayName=hY;var fY="DropdownMenuSubTrigger",HD=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Qr(n);return s.jsx(JQ,{...i,...r,ref:e})});HD.displayName=fY;var pY="DropdownMenuSubContent",WD=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Qr(n);return s.jsx(XQ,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});WD.displayName=pY;var gY=PD,xY=MD,yY=OD,KD=FD,GD=VD,QD=UD,YD=zD,JD=BD,XD=$D,ZD=qD,eM=HD,tM=WD;function nM(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=nM(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function rM(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=nM(t))&&(r&&(r+=" "),r+=e);return r}const k_="-",vY=t=>{const e=wY(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const c=o.split(k_);return c[0]===""&&c.length!==1&&c.shift(),sM(c,e)||bY(o)},getConflictingClassGroupIds:(o,c)=>{const d=n[o]||[];return c&&r[o]?[...d,...r[o]]:d}}},sM=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?sM(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(k_);return(o=e.validators.find(({validator:c})=>c(a)))==null?void 0:o.classGroupId},A2=/^\[(.+)\]$/,bY=t=>{if(A2.test(t)){const e=A2.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},wY=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const i in n)Zw(n[i],r,i,e);return r},Zw=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:I2(e,i);a.classGroupId=n;return}if(typeof i=="function"){if(jY(i)){Zw(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,o])=>{Zw(o,I2(e,a),n,r)})})},I2=(t,e)=>{let n=t;return e.split(k_).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},jY=t=>t.isThemeGetter,_Y=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(a,o)=>{n.set(a,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=r.get(a))!==void 0)return i(a,o),o},set(a,o){n.has(a)?n.set(a,o):i(a,o)}}},e1="!",t1=":",NY=t1.length,SY=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const a=[];let o=0,c=0,d=0,h;for(let N=0;N<i.length;N++){let w=i[N];if(o===0&&c===0){if(w===t1){a.push(i.slice(d,N)),d=N+NY;continue}if(w==="/"){h=N;continue}}w==="["?o++:w==="]"?o--:w==="("?c++:w===")"&&c--}const m=a.length===0?i:i.substring(d),f=EY(m),g=f!==m,x=h&&h>d?h-d:void 0;return{modifiers:a,hasImportantModifier:g,baseClassName:f,maybePostfixModifierPosition:x}};if(e){const i=e+t1,a=r;r=o=>o.startsWith(i)?a(o.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=a=>n({className:a,parseClassName:i})}return r},EY=t=>t.endsWith(e1)?t.substring(0,t.length-1):t.startsWith(e1)?t.substring(1):t,CY=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let a=[];return r.forEach(o=>{o[0]==="["||e[o]?(i.push(...a.sort(),o),a=[]):a.push(o)}),i.push(...a.sort()),i}},kY=t=>({cache:_Y(t.cacheSize),parseClassName:SY(t),sortModifiers:CY(t),...vY(t)}),TY=/\s+/,AY=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:a}=e,o=[],c=t.trim().split(TY);let d="";for(let h=c.length-1;h>=0;h-=1){const m=c[h],{isExternal:f,modifiers:g,hasImportantModifier:x,baseClassName:N,maybePostfixModifierPosition:w}=n(m);if(f){d=m+(d.length>0?" "+d:d);continue}let j=!!w,_=r(j?N.substring(0,w):N);if(!_){if(!j){d=m+(d.length>0?" "+d:d);continue}if(_=r(N),!_){d=m+(d.length>0?" "+d:d);continue}j=!1}const E=a(g).join(":"),k=x?E+e1:E,C=k+_;if(o.includes(C))continue;o.push(C);const R=i(_,j);for(let F=0;F<R.length;++F){const M=R[F];o.push(k+M)}d=m+(d.length>0?" "+d:d)}return d};function IY(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=iM(e))&&(r&&(r+=" "),r+=n);return r}const iM=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=iM(t[r]))&&(n&&(n+=" "),n+=e);return n};function RY(t,...e){let n,r,i,a=o;function o(d){const h=e.reduce((m,f)=>f(m),t());return n=kY(h),r=n.cache.get,i=n.cache.set,a=c,c(d)}function c(d){const h=r(d);if(h)return h;const m=AY(d,n);return i(d,m),m}return function(){return a(IY.apply(null,arguments))}}const tr=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},aM=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,oM=/^\((?:(\w[\w-]*):)?(.+)\)$/i,PY=/^\d+\/\d+$/,DY=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,MY=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,OY=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,LY=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,FY=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Yu=t=>PY.test(t),Et=t=>!!t&&!Number.isNaN(Number(t)),Wo=t=>!!t&&Number.isInteger(Number(t)),bb=t=>t.endsWith("%")&&Et(t.slice(0,-1)),qa=t=>DY.test(t),VY=()=>!0,UY=t=>MY.test(t)&&!OY.test(t),lM=()=>!1,zY=t=>LY.test(t),BY=t=>FY.test(t),$Y=t=>!Ke(t)&&!Ge(t),qY=t=>lh(t,dM,lM),Ke=t=>aM.test(t),bc=t=>lh(t,hM,UY),wb=t=>lh(t,QY,Et),R2=t=>lh(t,cM,lM),HY=t=>lh(t,uM,BY),Ng=t=>lh(t,mM,zY),Ge=t=>oM.test(t),um=t=>ch(t,hM),WY=t=>ch(t,YY),P2=t=>ch(t,cM),KY=t=>ch(t,dM),GY=t=>ch(t,uM),Sg=t=>ch(t,mM,!0),lh=(t,e,n)=>{const r=aM.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},ch=(t,e,n=!1)=>{const r=oM.exec(t);return r?r[1]?e(r[1]):n:!1},cM=t=>t==="position"||t==="percentage",uM=t=>t==="image"||t==="url",dM=t=>t==="length"||t==="size"||t==="bg-size",hM=t=>t==="length",QY=t=>t==="number",YY=t=>t==="family-name",mM=t=>t==="shadow",JY=()=>{const t=tr("color"),e=tr("font"),n=tr("text"),r=tr("font-weight"),i=tr("tracking"),a=tr("leading"),o=tr("breakpoint"),c=tr("container"),d=tr("spacing"),h=tr("radius"),m=tr("shadow"),f=tr("inset-shadow"),g=tr("text-shadow"),x=tr("drop-shadow"),N=tr("blur"),w=tr("perspective"),j=tr("aspect"),_=tr("ease"),E=tr("animate"),k=()=>["auto","avoid","all","avoid-page","page","left","right","column"],C=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],R=()=>[...C(),Ge,Ke],F=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto","contain","none"],P=()=>[Ge,Ke,d],I=()=>[Yu,"full","auto",...P()],L=()=>[Wo,"none","subgrid",Ge,Ke],U=()=>["auto",{span:["full",Wo,Ge,Ke]},Wo,Ge,Ke],D=()=>[Wo,"auto",Ge,Ke],V=()=>["auto","min","max","fr",Ge,Ke],J=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ee=()=>["start","end","center","stretch","center-safe","end-safe"],re=()=>["auto",...P()],ie=()=>[Yu,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...P()],Q=()=>[t,Ge,Ke],q=()=>[...C(),P2,R2,{position:[Ge,Ke]}],B=()=>["no-repeat",{repeat:["","x","y","space","round"]}],$=()=>["auto","cover","contain",KY,qY,{size:[Ge,Ke]}],te=()=>[bb,um,bc],H=()=>["","none","full",h,Ge,Ke],me=()=>["",Et,um,bc],we=()=>["solid","dashed","dotted","double"],Ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],fe=()=>[Et,bb,P2,R2],Se=()=>["","none",N,Ge,Ke],De=()=>["none",Et,Ge,Ke],ze=()=>["none",Et,Ge,Ke],qe=()=>[Et,Ge,Ke],ft=()=>[Yu,"full",...P()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[qa],breakpoint:[qa],color:[VY],container:[qa],"drop-shadow":[qa],ease:["in","out","in-out"],font:[$Y],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[qa],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[qa],shadow:[qa],spacing:["px",Et],text:[qa],"text-shadow":[qa],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Yu,Ke,Ge,j]}],container:["container"],columns:[{columns:[Et,Ke,Ge,c]}],"break-after":[{"break-after":k()}],"break-before":[{"break-before":k()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:R()}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:I()}],"inset-x":[{"inset-x":I()}],"inset-y":[{"inset-y":I()}],start:[{start:I()}],end:[{end:I()}],top:[{top:I()}],right:[{right:I()}],bottom:[{bottom:I()}],left:[{left:I()}],visibility:["visible","invisible","collapse"],z:[{z:[Wo,"auto",Ge,Ke]}],basis:[{basis:[Yu,"full","auto",c,...P()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Et,Yu,"auto","initial","none",Ke]}],grow:[{grow:["",Et,Ge,Ke]}],shrink:[{shrink:["",Et,Ge,Ke]}],order:[{order:[Wo,"first","last","none",Ge,Ke]}],"grid-cols":[{"grid-cols":L()}],"col-start-end":[{col:U()}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":L()}],"row-start-end":[{row:U()}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":V()}],"auto-rows":[{"auto-rows":V()}],gap:[{gap:P()}],"gap-x":[{"gap-x":P()}],"gap-y":[{"gap-y":P()}],"justify-content":[{justify:[...J(),"normal"]}],"justify-items":[{"justify-items":[...ee(),"normal"]}],"justify-self":[{"justify-self":["auto",...ee()]}],"align-content":[{content:["normal",...J()]}],"align-items":[{items:[...ee(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ee(),{baseline:["","last"]}]}],"place-content":[{"place-content":J()}],"place-items":[{"place-items":[...ee(),"baseline"]}],"place-self":[{"place-self":["auto",...ee()]}],p:[{p:P()}],px:[{px:P()}],py:[{py:P()}],ps:[{ps:P()}],pe:[{pe:P()}],pt:[{pt:P()}],pr:[{pr:P()}],pb:[{pb:P()}],pl:[{pl:P()}],m:[{m:re()}],mx:[{mx:re()}],my:[{my:re()}],ms:[{ms:re()}],me:[{me:re()}],mt:[{mt:re()}],mr:[{mr:re()}],mb:[{mb:re()}],ml:[{ml:re()}],"space-x":[{"space-x":P()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":P()}],"space-y-reverse":["space-y-reverse"],size:[{size:ie()}],w:[{w:[c,"screen",...ie()]}],"min-w":[{"min-w":[c,"screen","none",...ie()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[o]},...ie()]}],h:[{h:["screen","lh",...ie()]}],"min-h":[{"min-h":["screen","lh","none",...ie()]}],"max-h":[{"max-h":["screen","lh",...ie()]}],"font-size":[{text:["base",n,um,bc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ge,wb]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",bb,Ke]}],"font-family":[{font:[WY,Ke,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Ge,Ke]}],"line-clamp":[{"line-clamp":[Et,"none",Ge,wb]}],leading:[{leading:[a,...P()]}],"list-image":[{"list-image":["none",Ge,Ke]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ge,Ke]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Q()}],"text-color":[{text:Q()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...we(),"wavy"]}],"text-decoration-thickness":[{decoration:[Et,"from-font","auto",Ge,bc]}],"text-decoration-color":[{decoration:Q()}],"underline-offset":[{"underline-offset":[Et,"auto",Ge,Ke]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ge,Ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ge,Ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:q()}],"bg-repeat":[{bg:B()}],"bg-size":[{bg:$()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Wo,Ge,Ke],radial:["",Ge,Ke],conic:[Wo,Ge,Ke]},GY,HY]}],"bg-color":[{bg:Q()}],"gradient-from-pos":[{from:te()}],"gradient-via-pos":[{via:te()}],"gradient-to-pos":[{to:te()}],"gradient-from":[{from:Q()}],"gradient-via":[{via:Q()}],"gradient-to":[{to:Q()}],rounded:[{rounded:H()}],"rounded-s":[{"rounded-s":H()}],"rounded-e":[{"rounded-e":H()}],"rounded-t":[{"rounded-t":H()}],"rounded-r":[{"rounded-r":H()}],"rounded-b":[{"rounded-b":H()}],"rounded-l":[{"rounded-l":H()}],"rounded-ss":[{"rounded-ss":H()}],"rounded-se":[{"rounded-se":H()}],"rounded-ee":[{"rounded-ee":H()}],"rounded-es":[{"rounded-es":H()}],"rounded-tl":[{"rounded-tl":H()}],"rounded-tr":[{"rounded-tr":H()}],"rounded-br":[{"rounded-br":H()}],"rounded-bl":[{"rounded-bl":H()}],"border-w":[{border:me()}],"border-w-x":[{"border-x":me()}],"border-w-y":[{"border-y":me()}],"border-w-s":[{"border-s":me()}],"border-w-e":[{"border-e":me()}],"border-w-t":[{"border-t":me()}],"border-w-r":[{"border-r":me()}],"border-w-b":[{"border-b":me()}],"border-w-l":[{"border-l":me()}],"divide-x":[{"divide-x":me()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":me()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...we(),"hidden","none"]}],"divide-style":[{divide:[...we(),"hidden","none"]}],"border-color":[{border:Q()}],"border-color-x":[{"border-x":Q()}],"border-color-y":[{"border-y":Q()}],"border-color-s":[{"border-s":Q()}],"border-color-e":[{"border-e":Q()}],"border-color-t":[{"border-t":Q()}],"border-color-r":[{"border-r":Q()}],"border-color-b":[{"border-b":Q()}],"border-color-l":[{"border-l":Q()}],"divide-color":[{divide:Q()}],"outline-style":[{outline:[...we(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Et,Ge,Ke]}],"outline-w":[{outline:["",Et,um,bc]}],"outline-color":[{outline:Q()}],shadow:[{shadow:["","none",m,Sg,Ng]}],"shadow-color":[{shadow:Q()}],"inset-shadow":[{"inset-shadow":["none",f,Sg,Ng]}],"inset-shadow-color":[{"inset-shadow":Q()}],"ring-w":[{ring:me()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Q()}],"ring-offset-w":[{"ring-offset":[Et,bc]}],"ring-offset-color":[{"ring-offset":Q()}],"inset-ring-w":[{"inset-ring":me()}],"inset-ring-color":[{"inset-ring":Q()}],"text-shadow":[{"text-shadow":["none",g,Sg,Ng]}],"text-shadow-color":[{"text-shadow":Q()}],opacity:[{opacity:[Et,Ge,Ke]}],"mix-blend":[{"mix-blend":[...Ce(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ce()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Et]}],"mask-image-linear-from-pos":[{"mask-linear-from":fe()}],"mask-image-linear-to-pos":[{"mask-linear-to":fe()}],"mask-image-linear-from-color":[{"mask-linear-from":Q()}],"mask-image-linear-to-color":[{"mask-linear-to":Q()}],"mask-image-t-from-pos":[{"mask-t-from":fe()}],"mask-image-t-to-pos":[{"mask-t-to":fe()}],"mask-image-t-from-color":[{"mask-t-from":Q()}],"mask-image-t-to-color":[{"mask-t-to":Q()}],"mask-image-r-from-pos":[{"mask-r-from":fe()}],"mask-image-r-to-pos":[{"mask-r-to":fe()}],"mask-image-r-from-color":[{"mask-r-from":Q()}],"mask-image-r-to-color":[{"mask-r-to":Q()}],"mask-image-b-from-pos":[{"mask-b-from":fe()}],"mask-image-b-to-pos":[{"mask-b-to":fe()}],"mask-image-b-from-color":[{"mask-b-from":Q()}],"mask-image-b-to-color":[{"mask-b-to":Q()}],"mask-image-l-from-pos":[{"mask-l-from":fe()}],"mask-image-l-to-pos":[{"mask-l-to":fe()}],"mask-image-l-from-color":[{"mask-l-from":Q()}],"mask-image-l-to-color":[{"mask-l-to":Q()}],"mask-image-x-from-pos":[{"mask-x-from":fe()}],"mask-image-x-to-pos":[{"mask-x-to":fe()}],"mask-image-x-from-color":[{"mask-x-from":Q()}],"mask-image-x-to-color":[{"mask-x-to":Q()}],"mask-image-y-from-pos":[{"mask-y-from":fe()}],"mask-image-y-to-pos":[{"mask-y-to":fe()}],"mask-image-y-from-color":[{"mask-y-from":Q()}],"mask-image-y-to-color":[{"mask-y-to":Q()}],"mask-image-radial":[{"mask-radial":[Ge,Ke]}],"mask-image-radial-from-pos":[{"mask-radial-from":fe()}],"mask-image-radial-to-pos":[{"mask-radial-to":fe()}],"mask-image-radial-from-color":[{"mask-radial-from":Q()}],"mask-image-radial-to-color":[{"mask-radial-to":Q()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":C()}],"mask-image-conic-pos":[{"mask-conic":[Et]}],"mask-image-conic-from-pos":[{"mask-conic-from":fe()}],"mask-image-conic-to-pos":[{"mask-conic-to":fe()}],"mask-image-conic-from-color":[{"mask-conic-from":Q()}],"mask-image-conic-to-color":[{"mask-conic-to":Q()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:q()}],"mask-repeat":[{mask:B()}],"mask-size":[{mask:$()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ge,Ke]}],filter:[{filter:["","none",Ge,Ke]}],blur:[{blur:Se()}],brightness:[{brightness:[Et,Ge,Ke]}],contrast:[{contrast:[Et,Ge,Ke]}],"drop-shadow":[{"drop-shadow":["","none",x,Sg,Ng]}],"drop-shadow-color":[{"drop-shadow":Q()}],grayscale:[{grayscale:["",Et,Ge,Ke]}],"hue-rotate":[{"hue-rotate":[Et,Ge,Ke]}],invert:[{invert:["",Et,Ge,Ke]}],saturate:[{saturate:[Et,Ge,Ke]}],sepia:[{sepia:["",Et,Ge,Ke]}],"backdrop-filter":[{"backdrop-filter":["","none",Ge,Ke]}],"backdrop-blur":[{"backdrop-blur":Se()}],"backdrop-brightness":[{"backdrop-brightness":[Et,Ge,Ke]}],"backdrop-contrast":[{"backdrop-contrast":[Et,Ge,Ke]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Et,Ge,Ke]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Et,Ge,Ke]}],"backdrop-invert":[{"backdrop-invert":["",Et,Ge,Ke]}],"backdrop-opacity":[{"backdrop-opacity":[Et,Ge,Ke]}],"backdrop-saturate":[{"backdrop-saturate":[Et,Ge,Ke]}],"backdrop-sepia":[{"backdrop-sepia":["",Et,Ge,Ke]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":P()}],"border-spacing-x":[{"border-spacing-x":P()}],"border-spacing-y":[{"border-spacing-y":P()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ge,Ke]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Et,"initial",Ge,Ke]}],ease:[{ease:["linear","initial",_,Ge,Ke]}],delay:[{delay:[Et,Ge,Ke]}],animate:[{animate:["none",E,Ge,Ke]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,Ge,Ke]}],"perspective-origin":[{"perspective-origin":R()}],rotate:[{rotate:De()}],"rotate-x":[{"rotate-x":De()}],"rotate-y":[{"rotate-y":De()}],"rotate-z":[{"rotate-z":De()}],scale:[{scale:ze()}],"scale-x":[{"scale-x":ze()}],"scale-y":[{"scale-y":ze()}],"scale-z":[{"scale-z":ze()}],"scale-3d":["scale-3d"],skew:[{skew:qe()}],"skew-x":[{"skew-x":qe()}],"skew-y":[{"skew-y":qe()}],transform:[{transform:[Ge,Ke,"","none","gpu","cpu"]}],"transform-origin":[{origin:R()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ft()}],"translate-x":[{"translate-x":ft()}],"translate-y":[{"translate-y":ft()}],"translate-z":[{"translate-z":ft()}],"translate-none":["translate-none"],accent:[{accent:Q()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Q()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ge,Ke]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ge,Ke]}],fill:[{fill:["none",...Q()]}],"stroke-w":[{stroke:[Et,um,bc,wb]}],stroke:[{stroke:["none",...Q()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},XY=RY(JY);function ct(...t){return XY(rM(t))}const D2=gY,M2=xY,ZY=v.forwardRef(({className:t,inset:e,children:n,...r},i)=>s.jsxs(eM,{ref:i,className:ct("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,s.jsx(RR,{className:"ml-auto"})]}));ZY.displayName=eM.displayName;const eJ=v.forwardRef(({className:t,...e},n)=>s.jsx(tM,{ref:n,className:ct("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));eJ.displayName=tM.displayName;const n1=v.forwardRef(({className:t,sideOffset:e=4,...n},r)=>s.jsx(yY,{children:s.jsx(KD,{ref:r,sideOffset:e,className:ct("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));n1.displayName=KD.displayName;const Jg=v.forwardRef(({className:t,inset:e,...n},r)=>s.jsx(QD,{ref:r,className:ct("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",t),...n}));Jg.displayName=QD.displayName;const tJ=v.forwardRef(({className:t,children:e,checked:n,...r},i)=>s.jsxs(YD,{ref:i,className:ct("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(XD,{children:s.jsx(Gm,{className:"h-4 w-4"})})}),e]}));tJ.displayName=YD.displayName;const nJ=v.forwardRef(({className:t,children:e,...n},r)=>s.jsxs(JD,{ref:r,className:ct("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(XD,{children:s.jsx(Nj,{className:"h-2 w-2 fill-current"})})}),e]}));nJ.displayName=JD.displayName;const rJ=v.forwardRef(({className:t,inset:e,...n},r)=>s.jsx(GD,{ref:r,className:ct("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));rJ.displayName=GD.displayName;const sJ=v.forwardRef(({className:t,...e},n)=>s.jsx(ZD,{ref:n,className:ct("-mx-1 my-1 h-px bg-muted",t),...e}));sJ.displayName=ZD.displayName;var iJ=Symbol.for("react.lazy"),Ix=xj[" use ".trim().toString()];function aJ(t){return typeof t=="object"&&t!==null&&"then"in t}function fM(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===iJ&&"_payload"in t&&aJ(t._payload)}function Dy(t){const e=lJ(t),n=v.forwardRef((r,i)=>{let{children:a,...o}=r;fM(a)&&typeof Ix=="function"&&(a=Ix(a._payload));const c=v.Children.toArray(a),d=c.find(uJ);if(d){const h=d.props.children,m=c.map(f=>f===d?v.Children.count(h)>1?v.Children.only(null):v.isValidElement(h)?h.props.children:null:f);return s.jsx(e,{...o,ref:i,children:v.isValidElement(h)?v.cloneElement(h,void 0,m):null})}return s.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}var oJ=Dy("Slot");function lJ(t){const e=v.forwardRef((n,r)=>{let{children:i,...a}=n;if(fM(i)&&typeof Ix=="function"&&(i=Ix(i._payload)),v.isValidElement(i)){const o=hJ(i),c=dJ(a,i.props);return i.type!==v.Fragment&&(c.ref=r?vo(r,o):o),v.cloneElement(i,c)}return v.Children.count(i)>1?v.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var cJ=Symbol("radix.slottable");function uJ(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===cJ}function dJ(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...c)=>{const d=a(...c);return i(...c),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function hJ(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const O2=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,L2=rM,zf=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return L2(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:a}=e,o=Object.keys(i).map(h=>{const m=n==null?void 0:n[h],f=a==null?void 0:a[h];if(m===null)return null;const g=O2(m)||O2(f);return i[h][g]}),c=n&&Object.entries(n).reduce((h,m)=>{let[f,g]=m;return g===void 0||(h[f]=g),h},{}),d=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((h,m)=>{let{class:f,className:g,...x}=m;return Object.entries(x).every(N=>{let[w,j]=N;return Array.isArray(j)?j.includes({...a,...c}[w]):{...a,...c}[w]===j})?[...h,f,g]:h},[]);return L2(t,o,d,n==null?void 0:n.class,n==null?void 0:n.className)},mJ=zf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),G=v.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},a)=>{const o=r?oJ:"button";return s.jsx(o,{className:ct(mJ({variant:e,size:n,className:t})),ref:a,...i})});G.displayName="Button";var jb={exports:{}},_b,F2;function fJ(){if(F2)return _b;F2=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return _b=t,_b}var Nb,V2;function pJ(){if(V2)return Nb;V2=1;var t=fJ();function e(){}function n(){}return n.resetWarningCache=e,Nb=function(){function r(o,c,d,h,m,f){if(f!==t){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},Nb}var U2;function gJ(){return U2||(U2=1,jb.exports=pJ()()),jb.exports}var xJ=gJ();const At=Jd(xJ),yJ=()=>{};var z2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},vJ=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],o=t[n++],c=t[n++],d=((i&7)<<18|(a&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const a=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},gM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,c=o?t[i+1]:0,d=i+2<t.length,h=d?t[i+2]:0,m=a>>2,f=(a&3)<<4|c>>4;let g=(c&15)<<2|h>>6,x=h&63;d||(x=64,o||(g=64)),r.push(n[m],n[f],n[g],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(pM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):vJ(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||c==null||h==null||f==null)throw new bJ;const g=a<<2|c>>4;if(r.push(g),h!==64){const x=c<<4&240|h>>2;if(r.push(x),f!==64){const N=h<<6&192|f;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class bJ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wJ=function(t){const e=pM(t);return gM.encodeByteArray(e,!0)},Rx=function(t){return wJ(t).replace(/\./g,"")},xM=function(t){try{return gM.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jJ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _J=()=>jJ().__FIREBASE_DEFAULTS__,NJ=()=>{if(typeof process>"u"||typeof z2>"u")return;const t=z2.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},SJ=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&xM(t[1]);return e&&JSON.parse(e)},My=()=>{try{return yJ()||_J()||NJ()||SJ()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},yM=t=>{var e,n;return(n=(e=My())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},EJ=t=>{const e=yM(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},vM=()=>{var t;return(t=My())==null?void 0:t.config},bM=t=>{var e;return(e=My())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CJ{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function T_(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kJ(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Rx(JSON.stringify(n)),Rx(JSON.stringify(o)),""].join(".")}const Mm={};function TJ(){const t={prod:[],emulator:[]};for(const e of Object.keys(Mm))Mm[e]?t.emulator.push(e):t.prod.push(e);return t}function AJ(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let B2=!1;function wM(t,e){if(typeof window>"u"||typeof document>"u"||!zl(window.location.host)||Mm[t]===e||Mm[t]||B2)return;Mm[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",a=TJ().prod.length>0;function o(){const g=document.getElementById(r);g&&g.remove()}function c(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function d(g,x){g.setAttribute("width","24"),g.setAttribute("id",x),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function h(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{B2=!0,o()},g}function m(g,x){g.setAttribute("id",x),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function f(){const g=AJ(r),x=n("text"),N=document.getElementById(x)||document.createElement("span"),w=n("learnmore"),j=document.getElementById(w)||document.createElement("a"),_=n("preprendIcon"),E=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const k=g.element;c(k),m(j,w);const C=h();d(E,_),k.append(E,N,j,C),document.body.appendChild(k)}a?(N.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function IJ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dr())}function RJ(){var e;const t=(e=My())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PJ(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function DJ(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function MJ(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OJ(){const t=Dr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function LJ(){return!RJ()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function FJ(){try{return typeof indexedDB=="object"}catch{return!1}}function VJ(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UJ="FirebaseError";class Ea extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=UJ,Object.setPrototypeOf(this,Ea.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bf.prototype.create)}}class Bf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?zJ(a,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new Ea(i,c,r)}}function zJ(t,e){return t.replace(BJ,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const BJ=/\{\$([^}]+)}/g;function $J(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Hc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],o=e[i];if($2(a)&&$2(o)){if(!Hc(a,o))return!1}else if(a!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function $2(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $f(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function wm(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function jm(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function qJ(t,e){const n=new HJ(t,e);return n.subscribe.bind(n)}class HJ{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");WJ(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Sb),i.error===void 0&&(i.error=Sb),i.complete===void 0&&(i.complete=Sb);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function WJ(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Sb(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(t){return t&&t._delegate?t._delegate:t}class Tl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KJ{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new CJ;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(QJ(e))try{this.getOrInitializeService({instanceIdentifier:jc})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=jc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=jc){return this.instances.has(e)}getOptions(e=jc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:GJ(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=jc){return this.component?this.component.multipleInstances?e:jc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GJ(t){return t===jc?void 0:t}function QJ(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YJ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new KJ(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(It||(It={}));const JJ={debug:It.DEBUG,verbose:It.VERBOSE,info:It.INFO,warn:It.WARN,error:It.ERROR,silent:It.SILENT},XJ=It.INFO,ZJ={[It.DEBUG]:"log",[It.VERBOSE]:"log",[It.INFO]:"info",[It.WARN]:"warn",[It.ERROR]:"error"},eX=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=ZJ[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class A_{constructor(e){this.name=e,this._logLevel=XJ,this._logHandler=eX,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in It))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?JJ[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,It.DEBUG,...e),this._logHandler(this,It.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,It.VERBOSE,...e),this._logHandler(this,It.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,It.INFO,...e),this._logHandler(this,It.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,It.WARN,...e),this._logHandler(this,It.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,It.ERROR,...e),this._logHandler(this,It.ERROR,...e)}}const tX=(t,e)=>e.some(n=>t instanceof n);let q2,H2;function nX(){return q2||(q2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rX(){return H2||(H2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jM=new WeakMap,r1=new WeakMap,_M=new WeakMap,Eb=new WeakMap,I_=new WeakMap;function sX(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(gl(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&jM.set(n,t)}).catch(()=>{}),I_.set(e,t),e}function iX(t){if(r1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});r1.set(t,e)}let s1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return r1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||_M.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gl(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function aX(t){s1=t(s1)}function oX(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Cb(this),e,...n);return _M.set(r,e.sort?e.sort():[e]),gl(r)}:rX().includes(t)?function(...e){return t.apply(Cb(this),e),gl(jM.get(this))}:function(...e){return gl(t.apply(Cb(this),e))}}function lX(t){return typeof t=="function"?oX(t):(t instanceof IDBTransaction&&iX(t),tX(t,nX())?new Proxy(t,s1):t)}function gl(t){if(t instanceof IDBRequest)return sX(t);if(Eb.has(t))return Eb.get(t);const e=lX(t);return e!==t&&(Eb.set(t,e),I_.set(e,t)),e}const Cb=t=>I_.get(t);function cX(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),c=gl(o);return r&&o.addEventListener("upgradeneeded",d=>{r(gl(o.result),d.oldVersion,d.newVersion,gl(o.transaction),d)}),n&&o.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{a&&d.addEventListener("close",()=>a()),i&&d.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const uX=["get","getKey","getAll","getAllKeys","count"],dX=["put","add","delete","clear"],kb=new Map;function W2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(kb.get(e))return kb.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=dX.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||uX.includes(n)))return;const a=async function(o,...c){const d=this.transaction(o,i?"readwrite":"readonly");let h=d.store;return r&&(h=h.index(c.shift())),(await Promise.all([h[n](...c),i&&d.done]))[0]};return kb.set(e,a),a}aX(t=>({...t,get:(e,n,r)=>W2(e,n)||t.get(e,n,r),has:(e,n)=>!!W2(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hX{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mX(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function mX(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const i1="@firebase/app",K2="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo=new A_("@firebase/app"),fX="@firebase/app-compat",pX="@firebase/analytics-compat",gX="@firebase/analytics",xX="@firebase/app-check-compat",yX="@firebase/app-check",vX="@firebase/auth",bX="@firebase/auth-compat",wX="@firebase/database",jX="@firebase/data-connect",_X="@firebase/database-compat",NX="@firebase/functions",SX="@firebase/functions-compat",EX="@firebase/installations",CX="@firebase/installations-compat",kX="@firebase/messaging",TX="@firebase/messaging-compat",AX="@firebase/performance",IX="@firebase/performance-compat",RX="@firebase/remote-config",PX="@firebase/remote-config-compat",DX="@firebase/storage",MX="@firebase/storage-compat",OX="@firebase/firestore",LX="@firebase/ai",FX="@firebase/firestore-compat",VX="firebase",UX="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1="[DEFAULT]",zX={[i1]:"fire-core",[fX]:"fire-core-compat",[gX]:"fire-analytics",[pX]:"fire-analytics-compat",[yX]:"fire-app-check",[xX]:"fire-app-check-compat",[vX]:"fire-auth",[bX]:"fire-auth-compat",[wX]:"fire-rtdb",[jX]:"fire-data-connect",[_X]:"fire-rtdb-compat",[NX]:"fire-fn",[SX]:"fire-fn-compat",[EX]:"fire-iid",[CX]:"fire-iid-compat",[kX]:"fire-fcm",[TX]:"fire-fcm-compat",[AX]:"fire-perf",[IX]:"fire-perf-compat",[RX]:"fire-rc",[PX]:"fire-rc-compat",[DX]:"fire-gcs",[MX]:"fire-gcs-compat",[OX]:"fire-fst",[FX]:"fire-fst-compat",[LX]:"fire-vertex","fire-js":"fire-js",[VX]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px=new Map,BX=new Map,o1=new Map;function G2(t,e){try{t.container.addComponent(e)}catch(n){uo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Wc(t){const e=t.name;if(o1.has(e))return uo.debug(`There were multiple attempts to register component ${e}.`),!1;o1.set(e,t);for(const n of Px.values())G2(n,t);for(const n of BX.values())G2(n,t);return!0}function Oy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Rs(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $X={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xl=new Bf("app","Firebase",$X);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qX{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Tl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ou=UX;function NM(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:a1,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw xl.create("bad-app-name",{appName:String(i)});if(n||(n=vM()),!n)throw xl.create("no-options");const a=Px.get(i);if(a){if(Hc(n,a.options)&&Hc(r,a.config))return a;throw xl.create("duplicate-app",{appName:i})}const o=new YJ(i);for(const d of o1.values())o.addComponent(d);const c=new qX(n,r,o);return Px.set(i,c),c}function SM(t=a1){const e=Px.get(t);if(!e&&t===a1&&vM())return NM();if(!e)throw xl.create("no-app",{appName:t});return e}function ua(t,e,n){let r=zX[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),uo.warn(o.join(" "));return}Wc(new Tl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HX="firebase-heartbeat-database",WX=1,cf="firebase-heartbeat-store";let Tb=null;function EM(){return Tb||(Tb=cX(HX,WX,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(cf)}catch(n){console.warn(n)}}}}).catch(t=>{throw xl.create("idb-open",{originalErrorMessage:t.message})})),Tb}async function KX(t){try{const n=(await EM()).transaction(cf),r=await n.objectStore(cf).get(CM(t));return await n.done,r}catch(e){if(e instanceof Ea)uo.warn(e.message);else{const n=xl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});uo.warn(n.message)}}}async function Q2(t,e){try{const r=(await EM()).transaction(cf,"readwrite");await r.objectStore(cf).put(e,CM(t)),await r.done}catch(n){if(n instanceof Ea)uo.warn(n.message);else{const r=xl.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});uo.warn(r.message)}}}function CM(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GX=1024,QX=30;class YX{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new XX(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Y2();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>QX){const o=ZX(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){uo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Y2(),{heartbeatsToSend:r,unsentEntries:i}=JX(this._heartbeatsCache.heartbeats),a=Rx(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return uo.warn(n),""}}}function Y2(){return new Date().toISOString().substring(0,10)}function JX(t,e=GX){const n=[];let r=t.slice();for(const i of t){const a=n.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),J2(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),J2(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class XX{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return FJ()?VJ().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await KX(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Q2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Q2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function J2(t){return Rx(JSON.stringify({version:2,heartbeats:t})).length}function ZX(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eZ(t){Wc(new Tl("platform-logger",e=>new hX(e),"PRIVATE")),Wc(new Tl("heartbeat",e=>new YX(e),"PRIVATE")),ua(i1,K2,t),ua(i1,K2,"esm2020"),ua("fire-js","")}eZ("");var tZ="firebase",nZ="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ua(tZ,nZ,"app");function kM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rZ=kM,TM=new Bf("auth","Firebase",kM());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx=new A_("@firebase/auth");function sZ(t,...e){Dx.logLevel<=It.WARN&&Dx.warn(`Auth (${ou}): ${t}`,...e)}function Xg(t,...e){Dx.logLevel<=It.ERROR&&Dx.error(`Auth (${ou}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(t,...e){throw R_(t,...e)}function da(t,...e){return R_(t,...e)}function AM(t,e,n){const r={...rZ(),[e]:n};return new Bf("auth","Firebase",r).create(e,{appName:t.name})}function to(t){return AM(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function R_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return TM.create(t,...e)}function at(t,e,...n){if(!t)throw R_(e,...n)}function Ya(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Xg(e),new Error(e)}function ho(t,e){t||Ya(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function iZ(){return X2()==="http:"||X2()==="https:"}function X2(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aZ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iZ()||DJ()||"connection"in navigator)?navigator.onLine:!0}function oZ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,n){this.shortDelay=e,this.longDelay=n,ho(n>e,"Short delay should be less than long delay!"),this.isMobile=IJ()||MJ()}get(){return aZ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(t,e){ho(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ya("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ya("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ya("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lZ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cZ=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],uZ=new qf(3e4,6e4);function jo(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function _o(t,e,n,r,i={}){return RM(t,i,async()=>{let a={},o={};r&&(e==="GET"?o=r:a={body:JSON.stringify(r)});const c=$f({key:t.config.apiKey,...o}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:d,...a};return PJ()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&zl(t.emulatorConfig.host)&&(h.credentials="include"),IM.fetch()(await PM(t,t.config.apiHost,n,c),h)})}async function RM(t,e,n){t._canInitEmulator=!1;const r={...lZ,...e};try{const i=new hZ(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw Eg(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const c=a.ok?o.errorMessage:o.error.message,[d,h]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Eg(t,"credential-already-in-use",o);if(d==="EMAIL_EXISTS")throw Eg(t,"email-already-in-use",o);if(d==="USER_DISABLED")throw Eg(t,"user-disabled",o);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw AM(t,m,h);Ci(t,m)}}catch(i){if(i instanceof Ea)throw i;Ci(t,"network-request-failed",{message:String(i)})}}async function Hf(t,e,n,r,i={}){const a=await _o(t,e,n,r,i);return"mfaPendingCredential"in a&&Ci(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function PM(t,e,n,r){const i=`${e}${n}?${r}`,a=t,o=a.config.emulator?P_(t.config,i):`${t.config.apiScheme}://${i}`;return cZ.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function dZ(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class hZ{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(da(this.auth,"network-request-failed")),uZ.get())})}}function Eg(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=da(t,e,r);return i.customData._tokenResponse=n,i}function Z2(t){return t!==void 0&&t.enterprise!==void 0}class mZ{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return dZ(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function fZ(t,e){return _o(t,"GET","/v2/recaptchaConfig",jo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pZ(t,e){return _o(t,"POST","/v1/accounts:delete",e)}async function Mx(t,e){return _o(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gZ(t,e=!1){const n=En(t),r=await n.getIdToken(e),i=D_(r);at(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Om(Ab(i.auth_time)),issuedAtTime:Om(Ab(i.iat)),expirationTime:Om(Ab(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Ab(t){return Number(t)*1e3}function D_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Xg("JWT malformed, contained fewer than 3 sections"),null;try{const i=xM(n);return i?JSON.parse(i):(Xg("Failed to decode base64 JWT payload"),null)}catch(i){return Xg("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function eT(t){const e=D_(t);return at(e,"internal-error"),at(typeof e.exp<"u","internal-error"),at(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uf(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ea&&xZ(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function xZ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yZ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Om(this.lastLoginAt),this.creationTime=Om(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ox(t){var f;const e=t.auth,n=await t.getIdToken(),r=await uf(t,Mx(e,{idToken:n}));at(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=(f=i.providerUserInfo)!=null&&f.length?DM(i.providerUserInfo):[],o=bZ(t.providerData,a),c=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),h=c?d:!1,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new c1(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,m)}async function vZ(t){const e=En(t);await Ox(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function bZ(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function DM(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wZ(t,e){const n=await RM(t,{},async()=>{const r=$f({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await PM(t,i,"/v1/token",`key=${a}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:c,body:r};return t.emulatorConfig&&zl(t.emulatorConfig.host)&&(d.credentials="include"),IM.fetch()(o,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function jZ(t,e){return _o(t,"POST","/v2/accounts:revokeToken",jo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){at(e.idToken,"internal-error"),at(typeof e.idToken<"u","internal-error"),at(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):eT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){at(e.length!==0,"internal-error");const n=eT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(at(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await wZ(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new pd;return r&&(at(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(at(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(at(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pd,this.toJSON())}_performRefresh(){return Ya("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ko(t,e){at(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class wi{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new yZ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new c1(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await uf(this,this.stsTokenManager.getToken(this.auth,e));return at(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return gZ(this,e)}reload(){return vZ(this)}_assign(e){this!==e&&(at(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new wi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){at(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ox(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rs(this.auth.app))return Promise.reject(to(this.auth));const e=await this.getIdToken();return await uf(this,pZ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,o=n.photoURL??void 0,c=n.tenantId??void 0,d=n._redirectEventId??void 0,h=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:f,emailVerified:g,isAnonymous:x,providerData:N,stsTokenManager:w}=n;at(f&&w,e,"internal-error");const j=pd.fromJSON(this.name,w);at(typeof f=="string",e,"internal-error"),Ko(r,e.name),Ko(i,e.name),at(typeof g=="boolean",e,"internal-error"),at(typeof x=="boolean",e,"internal-error"),Ko(a,e.name),Ko(o,e.name),Ko(c,e.name),Ko(d,e.name),Ko(h,e.name),Ko(m,e.name);const _=new wi({uid:f,auth:e,email:i,emailVerified:g,displayName:r,isAnonymous:x,photoURL:o,phoneNumber:a,tenantId:c,stsTokenManager:j,createdAt:h,lastLoginAt:m});return N&&Array.isArray(N)&&(_.providerData=N.map(E=>({...E}))),d&&(_._redirectEventId=d),_}static async _fromIdTokenResponse(e,n,r=!1){const i=new pd;i.updateFromServerResponse(n);const a=new wi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ox(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];at(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?DM(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),c=new pd;c.updateFromIdToken(r);const d=new wi({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new c1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT=new Map;function Ja(t){ho(t instanceof Function,"Expected a class definition");let e=tT.get(t);return e?(ho(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,tT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}MM.type="NONE";const nT=MM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zg(t,e,n){return`firebase:${t}:${e}:${n}`}class gd{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Zg(this.userKey,i.apiKey,a),this.fullPersistenceKey=Zg("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Mx(this.auth,{idToken:e}).catch(()=>{});return n?wi._fromGetAccountInfoResponse(this.auth,n,e):null}return wi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new gd(Ja(nT),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let a=i[0]||Ja(nT);const o=Zg(r,e.config.apiKey,e.name);let c=null;for(const h of n)try{const m=await h._get(o);if(m){let f;if(typeof m=="string"){const g=await Mx(e,{idToken:m}).catch(()=>{});if(!g)break;f=await wi._fromGetAccountInfoResponse(e,g,m)}else f=wi._fromJSON(e,m);h!==a&&(c=f),a=h;break}}catch{}const d=i.filter(h=>h._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new gd(a,e,r):(a=d[0],c&&await a._set(o,c.toJSON()),await Promise.all(n.map(async h=>{if(h!==a)try{await h._remove(o)}catch{}})),new gd(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(VM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(OM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zM(e))return"Blackberry";if(BM(e))return"Webos";if(LM(e))return"Safari";if((e.includes("chrome/")||FM(e))&&!e.includes("edge/"))return"Chrome";if(UM(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function OM(t=Dr()){return/firefox\//i.test(t)}function LM(t=Dr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function FM(t=Dr()){return/crios\//i.test(t)}function VM(t=Dr()){return/iemobile/i.test(t)}function UM(t=Dr()){return/android/i.test(t)}function zM(t=Dr()){return/blackberry/i.test(t)}function BM(t=Dr()){return/webos/i.test(t)}function M_(t=Dr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function _Z(t=Dr()){var e;return M_(t)&&!!((e=window.navigator)!=null&&e.standalone)}function NZ(){return OJ()&&document.documentMode===10}function $M(t=Dr()){return M_(t)||UM(t)||BM(t)||zM(t)||/windows phone/i.test(t)||VM(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM(t,e=[]){let n;switch(t){case"Browser":n=rT(Dr());break;case"Worker":n=`${rT(Dr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ou}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SZ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((o,c)=>{try{const d=e(a);o(d)}catch(d){c(d)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EZ(t,e={}){return _o(t,"GET","/v2/passwordPolicy",jo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CZ=6;class kZ{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??CZ,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TZ{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sT(this),this.idTokenSubscription=new sT(this),this.beforeStateQueue=new SZ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=TM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ja(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await gd.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Mx(this,{idToken:e}),r=await wi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(Rs(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(a=this.redirectUser)==null?void 0:a._redirectEventId,c=r==null?void 0:r._redirectEventId,d=await this.tryRedirectSignIn(e);(!o||o===c)&&(d!=null&&d.user)&&(r=d.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return at(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ox(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=oZ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Rs(this.app))return Promise.reject(to(this));const n=e?En(e):null;return n&&at(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&at(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Rs(this.app)?Promise.reject(to(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Rs(this.app)?Promise.reject(to(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ja(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await EZ(this),n=new kZ(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Bf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await jZ(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ja(e)||this._popupRedirectResolver;at(n,this,"argument-error"),this.redirectPersistenceManager=await gd.create(this,[Ja(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(at(c,this,"internal-error"),c.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,i);return()=>{o=!0,d()}}else{const d=e.addObserver(n);return()=>{o=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return at(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Rs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&sZ(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Bl(t){return En(t)}class sT{constructor(e){this.auth=e,this.observer=null,this.addObserver=qJ(n=>this.observer=n)}get next(){return at(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ly={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function AZ(t){Ly=t}function HM(t){return Ly.loadJS(t)}function IZ(){return Ly.recaptchaEnterpriseScript}function RZ(){return Ly.gapiScript}function PZ(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class DZ{constructor(){this.enterprise=new MZ}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class MZ{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const OZ="recaptcha-enterprise",WM="NO_RECAPTCHA";class LZ{constructor(e){this.type=OZ,this.auth=Bl(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,c)=>{fZ(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const h=new mZ(d);return a.tenantId==null?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,o(h.siteKey)}}).catch(d=>{c(d)})})}function i(a,o,c){const d=window.grecaptcha;Z2(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(h=>{o(h)}).catch(()=>{o(WM)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new DZ().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{r(this.auth).then(c=>{if(!n&&Z2(window.grecaptcha))i(c,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let d=IZ();d.length!==0&&(d+=c),HM(d).then(()=>{i(c,a,o)}).catch(h=>{o(h)})}}).catch(c=>{o(c)})})}}async function iT(t,e,n,r=!1,i=!1){const a=new LZ(t);let o;if(i)o=WM;else try{o=await a.verify(n)}catch{o=await a.verify(n,!0)}const c={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,h=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:h,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:o}):Object.assign(c,{captchaResponse:o}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Lx(t,e,n,r,i){var a;if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await iT(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await iT(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FZ(t,e){const n=Oy(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Hc(a,e??{}))return i;Ci(i,"already-initialized")}return n.initialize({options:e})}function VZ(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ja);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function UZ(t,e,n){const r=Bl(t);at(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=KM(e),{host:o,port:c}=zZ(e),d=c===null?"":`:${c}`,h={url:`${a}//${o}${d}/`},m=Object.freeze({host:o,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){at(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),at(Hc(h,r.config.emulator)&&Hc(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,zl(o)?(T_(`${a}//${o}${d}`),wM("Auth",!0)):BZ()}function KM(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function zZ(t){const e=KM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:aT(r.substr(a.length+1))}}else{const[a,o]=r.split(":");return{host:a,port:aT(o)}}}function aT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function BZ(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ya("not implemented")}_getIdTokenResponse(e){return Ya("not implemented")}_linkToIdToken(e,n){return Ya("not implemented")}_getReauthenticationResolver(e){return Ya("not implemented")}}async function $Z(t,e){return _o(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qZ(t,e){return Hf(t,"POST","/v1/accounts:signInWithPassword",jo(t,e))}async function GM(t,e){return _o(t,"POST","/v1/accounts:sendOobCode",jo(t,e))}async function HZ(t,e){return GM(t,e)}async function WZ(t,e){return GM(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KZ(t,e){return Hf(t,"POST","/v1/accounts:signInWithEmailLink",jo(t,e))}async function GZ(t,e){return Hf(t,"POST","/v1/accounts:signInWithEmailLink",jo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df extends O_{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new df(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new df(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lx(e,n,"signInWithPassword",qZ);case"emailLink":return KZ(e,{email:this._email,oobCode:this._password});default:Ci(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lx(e,r,"signUpPassword",$Z);case"emailLink":return GZ(e,{idToken:n,email:this._email,oobCode:this._password});default:Ci(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xd(t,e){return Hf(t,"POST","/v1/accounts:signInWithIdp",jo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QZ="http://localhost";class Kc extends O_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Kc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ci("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const o=new Kc(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return xd(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,xd(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xd(e,n)}buildRequest(){const e={requestUri:QZ,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=$f(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YZ(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function JZ(t){const e=wm(jm(t)).link,n=e?wm(jm(e)).deep_link_id:null,r=wm(jm(t)).deep_link_id;return(r?wm(jm(r)).link:null)||r||n||e||t}class L_{constructor(e){const n=wm(jm(e)),r=n.apiKey??null,i=n.oobCode??null,a=YZ(n.mode??null);at(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=JZ(e);try{return new L_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(){this.providerId=uh.PROVIDER_ID}static credential(e,n){return df._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=L_.parseLink(n);return at(r,"argument-error"),df._fromEmailAndCode(e,r.code,r.tenantId)}}uh.PROVIDER_ID="password";uh.EMAIL_PASSWORD_SIGN_IN_METHOD="password";uh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf extends QM{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo extends Wf{constructor(){super("facebook.com")}static credential(e){return Kc._fromParams({providerId:Xo.PROVIDER_ID,signInMethod:Xo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xo.credentialFromTaggedObject(e)}static credentialFromError(e){return Xo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xo.credential(e.oauthAccessToken)}catch{return null}}}Xo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo extends Wf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Kc._fromParams({providerId:Zo.PROVIDER_ID,signInMethod:Zo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Zo.credentialFromTaggedObject(e)}static credentialFromError(e){return Zo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Zo.credential(n,r)}catch{return null}}}Zo.GOOGLE_SIGN_IN_METHOD="google.com";Zo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el extends Wf{constructor(){super("github.com")}static credential(e){return Kc._fromParams({providerId:el.PROVIDER_ID,signInMethod:el.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return el.credentialFromTaggedObject(e)}static credentialFromError(e){return el.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return el.credential(e.oauthAccessToken)}catch{return null}}}el.GITHUB_SIGN_IN_METHOD="github.com";el.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl extends Wf{constructor(){super("twitter.com")}static credential(e,n){return Kc._fromParams({providerId:tl.PROVIDER_ID,signInMethod:tl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return tl.credentialFromTaggedObject(e)}static credentialFromError(e){return tl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return tl.credential(n,r)}catch{return null}}}tl.TWITTER_SIGN_IN_METHOD="twitter.com";tl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XZ(t,e){return Hf(t,"POST","/v1/accounts:signUp",jo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await wi._fromIdTokenResponse(e,r,i),o=oT(r);return new Gc({user:a,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=oT(r);return new Gc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function oT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx extends Ea{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Fx.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Fx(e,n,r,i)}}function YM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Fx._fromErrorAndOperation(t,a,e,r):a})}async function ZZ(t,e,n=!1){const r=await uf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Gc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eee(t,e,n=!1){const{auth:r}=t;if(Rs(r.app))return Promise.reject(to(r));const i="reauthenticate";try{const a=await uf(t,YM(r,i,e,t),n);at(a.idToken,r,"internal-error");const o=D_(a.idToken);at(o,r,"internal-error");const{sub:c}=o;return at(t.uid===c,r,"user-mismatch"),Gc._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Ci(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JM(t,e,n=!1){if(Rs(t.app))return Promise.reject(to(t));const r="signIn",i=await YM(t,r,e),a=await Gc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function tee(t,e){return JM(Bl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XM(t){const e=Bl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function F_(t,e,n){const r=Bl(t);await Lx(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",WZ)}async function nee(t,e,n){if(Rs(t.app))return Promise.reject(to(t));const r=Bl(t),o=await Lx(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",XZ).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&XM(t),d}),c=await Gc._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(c.user),c}function ZM(t,e,n){return Rs(t.app)?Promise.reject(to(t)):tee(En(t),uh.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&XM(t),r})}async function ree(t,e){const n=En(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:a}=await HZ(n.auth,i);a!==t.email&&await t.reload()}function see(t,e,n,r){return En(t).onIdTokenChanged(e,n,r)}function iee(t,e,n){return En(t).beforeAuthStateChanged(e,n)}function aee(t,e,n,r){return En(t).onAuthStateChanged(e,n,r)}function oee(t){return En(t).signOut()}const Vx="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vx,"1"),this.storage.removeItem(Vx),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lee=1e3,cee=10;class t5 extends e5{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$M(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,c,d)=>{this.notifyListeners(o,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},a=this.storage.getItem(r);NZ()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,cee):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},lee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}t5.type="LOCAL";const uee=t5;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5 extends e5{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}n5.type="SESSION";const r5=n5;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dee(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Fy(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(o).map(async h=>h(n.origin,a)),d=await dee(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fy.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hee{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((c,d)=>{const h=V_("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const g=f;if(g.data.eventId===h)switch(g.data.status){case"ack":clearTimeout(m),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(g.data.response);break;default:clearTimeout(m),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ha(){return window}function mee(t){ha().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s5(){return typeof ha().WorkerGlobalScope<"u"&&typeof ha().importScripts=="function"}async function fee(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pee(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function gee(){return s5()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i5="firebaseLocalStorageDb",xee=1,Ux="firebaseLocalStorage",a5="fbase_key";class Kf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vy(t,e){return t.transaction([Ux],e?"readwrite":"readonly").objectStore(Ux)}function yee(){const t=indexedDB.deleteDatabase(i5);return new Kf(t).toPromise()}function u1(){const t=indexedDB.open(i5,xee);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ux,{keyPath:a5})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ux)?e(r):(r.close(),await yee(),e(await u1()))})})}async function lT(t,e,n){const r=Vy(t,!0).put({[a5]:e,value:n});return new Kf(r).toPromise()}async function vee(t,e){const n=Vy(t,!1).get(e),r=await new Kf(n).toPromise();return r===void 0?null:r.value}function cT(t,e){const n=Vy(t,!0).delete(e);return new Kf(n).toPromise()}const bee=800,wee=3;class o5{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await u1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>wee)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return s5()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fy._getInstance(gee()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await fee(),!this.activeServiceWorker)return;this.sender=new hee(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||pee()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await u1();return await lT(e,Vx,"1"),await cT(e,Vx),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>lT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>vee(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>cT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Vy(i,!1).getAll();return new Kf(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}o5.type="LOCAL";const jee=o5;new qf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _ee(t,e){return e?Ja(e):(at(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_ extends O_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xd(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xd(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xd(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Nee(t){return JM(t.auth,new U_(t),t.bypassAuthState)}function See(t){const{auth:e,user:n}=t;return at(n,e,"internal-error"),eee(n,new U_(t),t.bypassAuthState)}async function Eee(t){const{auth:e,user:n}=t;return at(n,e,"internal-error"),ZZ(n,new U_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:o,type:c}=e;if(o){this.reject(o);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Nee;case"linkViaPopup":case"linkViaRedirect":return Eee;case"reauthViaPopup":case"reauthViaRedirect":return See;default:Ci(this.auth,"internal-error")}}resolve(e){ho(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ho(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cee=new qf(2e3,1e4);class ud extends l5{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,ud.currentPopupAction&&ud.currentPopupAction.cancel(),ud.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return at(e,this.auth,"internal-error"),e}async onExecution(){ho(this.filter.length===1,"Popup operations only handle one event");const e=V_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(da(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(da(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ud.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(da(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Cee.get())};e()}}ud.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kee="pendingRedirect",ex=new Map;class Tee extends l5{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ex.get(this.auth._key());if(!e){try{const r=await Aee(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ex.set(this.auth._key(),e)}return this.bypassAuthState||ex.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Aee(t,e){const n=Pee(e),r=Ree(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Iee(t,e){ex.set(t._key(),e)}function Ree(t){return Ja(t._redirectPersistence)}function Pee(t){return Zg(kee,t.config.apiKey,t.name)}async function Dee(t,e,n=!1){if(Rs(t.app))return Promise.reject(to(t));const r=Bl(t),i=_ee(r,e),o=await new Tee(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mee=600*1e3;class Oee{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Lee(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!c5(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(da(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Mee&&this.cachedEventUids.clear(),this.cachedEventUids.has(uT(e))}saveEventToCache(e){this.cachedEventUids.add(uT(e)),this.lastProcessedEventTime=Date.now()}}function uT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function c5({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Lee(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return c5(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fee(t,e={}){return _o(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vee=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Uee=/^https?/;async function zee(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Fee(t);for(const n of e)try{if(Bee(n))return}catch{}Ci(t,"unauthorized-domain")}function Bee(t){const e=l1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Uee.test(n))return!1;if(Vee.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ee=new qf(3e4,6e4);function dT(){const t=ha().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function qee(t){return new Promise((e,n)=>{var i,a,o;function r(){dT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{dT(),n(da(t,"network-request-failed"))},timeout:$ee.get()})}if((a=(i=ha().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((o=ha().gapi)!=null&&o.load)r();else{const c=PZ("iframefcb");return ha()[c]=()=>{gapi.load?r():n(da(t,"network-request-failed"))},HM(`${RZ()}?onload=${c}`).catch(d=>n(d))}}).catch(e=>{throw tx=null,e})}let tx=null;function Hee(t){return tx=tx||qee(t),tx}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wee=new qf(5e3,15e3),Kee="__/auth/iframe",Gee="emulator/auth/iframe",Qee={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Yee=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Jee(t){const e=t.config;at(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?P_(e,Gee):`https://${t.config.authDomain}/${Kee}`,r={apiKey:e.apiKey,appName:t.name,v:ou},i=Yee.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${$f(r).slice(1)}`}async function Xee(t){const e=await Hee(t),n=ha().gapi;return at(n,t,"internal-error"),e.open({where:document.body,url:Jee(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Qee,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const o=da(t,"network-request-failed"),c=ha().setTimeout(()=>{a(o)},Wee.get());function d(){ha().clearTimeout(c),i(r)}r.ping(d).then(d,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zee={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ete=500,tte=600,nte="_blank",rte="http://localhost";class hT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ste(t,e,n,r=ete,i=tte){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d={...Zee,width:r.toString(),height:i.toString(),top:a,left:o},h=Dr().toLowerCase();n&&(c=FM(h)?nte:n),OM(h)&&(e=e||rte,d.scrollbars="yes");const m=Object.entries(d).reduce((g,[x,N])=>`${g}${x}=${N},`,"");if(_Z(h)&&c!=="_self")return ite(e||"",c),new hT(null);const f=window.open(e||"",c,m);at(f,t,"popup-blocked");try{f.focus()}catch{}return new hT(f)}function ite(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ate="__/auth/handler",ote="emulator/auth/handler",lte=encodeURIComponent("fac");async function mT(t,e,n,r,i,a){at(t.config.authDomain,t,"auth-domain-config-required"),at(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ou,eventId:i};if(e instanceof QM){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",$J(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,f]of Object.entries({}))o[m]=f}if(e instanceof Wf){const m=e.getScopes().filter(f=>f!=="");m.length>0&&(o.scopes=m.join(","))}t.tenantId&&(o.tid=t.tenantId);const c=o;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const d=await t._getAppCheckToken(),h=d?`#${lte}=${encodeURIComponent(d)}`:"";return`${cte(t)}?${$f(c).slice(1)}${h}`}function cte({config:t}){return t.emulator?P_(t,ote):`https://${t.authDomain}/${ate}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib="webStorageSupport";class ute{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=r5,this._completeRedirectFn=Dee,this._overrideRedirectResult=Iee}async _openPopup(e,n,r,i){var o;ho((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await mT(e,n,r,l1(),i);return ste(e,a,V_())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await mT(e,n,r,l1(),i);return mee(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(ho(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Xee(e),r=new Oee(e);return n.register("authEvent",i=>(at(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ib,{type:Ib},i=>{var o;const a=(o=i==null?void 0:i[0])==null?void 0:o[Ib];a!==void 0&&n(!!a),Ci(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=zee(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return $M()||LM()||M_()}}const dte=ute;var fT="@firebase/auth",pT="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hte{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){at(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mte(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fte(t){Wc(new Tl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;at(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qM(t)},h=new TZ(r,i,a,d);return VZ(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Wc(new Tl("auth-internal",e=>{const n=Bl(e.getProvider("auth").getImmediate());return(r=>new hte(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ua(fT,pT,mte(t)),ua(fT,pT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pte=300,gte=bM("authIdTokenMaxAge")||pte;let gT=null;const xte=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>gte)return;const i=n==null?void 0:n.token;gT!==i&&(gT=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function yte(t=SM()){const e=Oy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=FZ(t,{popupRedirectResolver:dte,persistence:[jee,uee,r5]}),r=bM("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const o=xte(a.toString());iee(n,o,()=>o(n.currentUser)),see(n,c=>o(c))}}const i=yM("auth");return i&&UZ(n,`http://${i}`),n}function vte(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}AZ({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=da("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",vte().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fte("Browser");var xT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yl,u5;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,P){function I(){}I.prototype=P.prototype,M.F=P.prototype,M.prototype=new I,M.prototype.constructor=M,M.D=function(L,U,D){for(var V=Array(arguments.length-2),J=2;J<arguments.length;J++)V[J-2]=arguments[J];return P.prototype[U].apply(L,V)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(M,P,I){I||(I=0);const L=Array(16);if(typeof P=="string")for(var U=0;U<16;++U)L[U]=P.charCodeAt(I++)|P.charCodeAt(I++)<<8|P.charCodeAt(I++)<<16|P.charCodeAt(I++)<<24;else for(U=0;U<16;++U)L[U]=P[I++]|P[I++]<<8|P[I++]<<16|P[I++]<<24;P=M.g[0],I=M.g[1],U=M.g[2];let D=M.g[3],V;V=P+(D^I&(U^D))+L[0]+3614090360&4294967295,P=I+(V<<7&4294967295|V>>>25),V=D+(U^P&(I^U))+L[1]+3905402710&4294967295,D=P+(V<<12&4294967295|V>>>20),V=U+(I^D&(P^I))+L[2]+606105819&4294967295,U=D+(V<<17&4294967295|V>>>15),V=I+(P^U&(D^P))+L[3]+3250441966&4294967295,I=U+(V<<22&4294967295|V>>>10),V=P+(D^I&(U^D))+L[4]+4118548399&4294967295,P=I+(V<<7&4294967295|V>>>25),V=D+(U^P&(I^U))+L[5]+1200080426&4294967295,D=P+(V<<12&4294967295|V>>>20),V=U+(I^D&(P^I))+L[6]+2821735955&4294967295,U=D+(V<<17&4294967295|V>>>15),V=I+(P^U&(D^P))+L[7]+4249261313&4294967295,I=U+(V<<22&4294967295|V>>>10),V=P+(D^I&(U^D))+L[8]+1770035416&4294967295,P=I+(V<<7&4294967295|V>>>25),V=D+(U^P&(I^U))+L[9]+2336552879&4294967295,D=P+(V<<12&4294967295|V>>>20),V=U+(I^D&(P^I))+L[10]+4294925233&4294967295,U=D+(V<<17&4294967295|V>>>15),V=I+(P^U&(D^P))+L[11]+2304563134&4294967295,I=U+(V<<22&4294967295|V>>>10),V=P+(D^I&(U^D))+L[12]+1804603682&4294967295,P=I+(V<<7&4294967295|V>>>25),V=D+(U^P&(I^U))+L[13]+4254626195&4294967295,D=P+(V<<12&4294967295|V>>>20),V=U+(I^D&(P^I))+L[14]+2792965006&4294967295,U=D+(V<<17&4294967295|V>>>15),V=I+(P^U&(D^P))+L[15]+1236535329&4294967295,I=U+(V<<22&4294967295|V>>>10),V=P+(U^D&(I^U))+L[1]+4129170786&4294967295,P=I+(V<<5&4294967295|V>>>27),V=D+(I^U&(P^I))+L[6]+3225465664&4294967295,D=P+(V<<9&4294967295|V>>>23),V=U+(P^I&(D^P))+L[11]+643717713&4294967295,U=D+(V<<14&4294967295|V>>>18),V=I+(D^P&(U^D))+L[0]+3921069994&4294967295,I=U+(V<<20&4294967295|V>>>12),V=P+(U^D&(I^U))+L[5]+3593408605&4294967295,P=I+(V<<5&4294967295|V>>>27),V=D+(I^U&(P^I))+L[10]+38016083&4294967295,D=P+(V<<9&4294967295|V>>>23),V=U+(P^I&(D^P))+L[15]+3634488961&4294967295,U=D+(V<<14&4294967295|V>>>18),V=I+(D^P&(U^D))+L[4]+3889429448&4294967295,I=U+(V<<20&4294967295|V>>>12),V=P+(U^D&(I^U))+L[9]+568446438&4294967295,P=I+(V<<5&4294967295|V>>>27),V=D+(I^U&(P^I))+L[14]+3275163606&4294967295,D=P+(V<<9&4294967295|V>>>23),V=U+(P^I&(D^P))+L[3]+4107603335&4294967295,U=D+(V<<14&4294967295|V>>>18),V=I+(D^P&(U^D))+L[8]+1163531501&4294967295,I=U+(V<<20&4294967295|V>>>12),V=P+(U^D&(I^U))+L[13]+2850285829&4294967295,P=I+(V<<5&4294967295|V>>>27),V=D+(I^U&(P^I))+L[2]+4243563512&4294967295,D=P+(V<<9&4294967295|V>>>23),V=U+(P^I&(D^P))+L[7]+1735328473&4294967295,U=D+(V<<14&4294967295|V>>>18),V=I+(D^P&(U^D))+L[12]+2368359562&4294967295,I=U+(V<<20&4294967295|V>>>12),V=P+(I^U^D)+L[5]+4294588738&4294967295,P=I+(V<<4&4294967295|V>>>28),V=D+(P^I^U)+L[8]+2272392833&4294967295,D=P+(V<<11&4294967295|V>>>21),V=U+(D^P^I)+L[11]+1839030562&4294967295,U=D+(V<<16&4294967295|V>>>16),V=I+(U^D^P)+L[14]+4259657740&4294967295,I=U+(V<<23&4294967295|V>>>9),V=P+(I^U^D)+L[1]+2763975236&4294967295,P=I+(V<<4&4294967295|V>>>28),V=D+(P^I^U)+L[4]+1272893353&4294967295,D=P+(V<<11&4294967295|V>>>21),V=U+(D^P^I)+L[7]+4139469664&4294967295,U=D+(V<<16&4294967295|V>>>16),V=I+(U^D^P)+L[10]+3200236656&4294967295,I=U+(V<<23&4294967295|V>>>9),V=P+(I^U^D)+L[13]+681279174&4294967295,P=I+(V<<4&4294967295|V>>>28),V=D+(P^I^U)+L[0]+3936430074&4294967295,D=P+(V<<11&4294967295|V>>>21),V=U+(D^P^I)+L[3]+3572445317&4294967295,U=D+(V<<16&4294967295|V>>>16),V=I+(U^D^P)+L[6]+76029189&4294967295,I=U+(V<<23&4294967295|V>>>9),V=P+(I^U^D)+L[9]+3654602809&4294967295,P=I+(V<<4&4294967295|V>>>28),V=D+(P^I^U)+L[12]+3873151461&4294967295,D=P+(V<<11&4294967295|V>>>21),V=U+(D^P^I)+L[15]+530742520&4294967295,U=D+(V<<16&4294967295|V>>>16),V=I+(U^D^P)+L[2]+3299628645&4294967295,I=U+(V<<23&4294967295|V>>>9),V=P+(U^(I|~D))+L[0]+4096336452&4294967295,P=I+(V<<6&4294967295|V>>>26),V=D+(I^(P|~U))+L[7]+1126891415&4294967295,D=P+(V<<10&4294967295|V>>>22),V=U+(P^(D|~I))+L[14]+2878612391&4294967295,U=D+(V<<15&4294967295|V>>>17),V=I+(D^(U|~P))+L[5]+4237533241&4294967295,I=U+(V<<21&4294967295|V>>>11),V=P+(U^(I|~D))+L[12]+1700485571&4294967295,P=I+(V<<6&4294967295|V>>>26),V=D+(I^(P|~U))+L[3]+2399980690&4294967295,D=P+(V<<10&4294967295|V>>>22),V=U+(P^(D|~I))+L[10]+4293915773&4294967295,U=D+(V<<15&4294967295|V>>>17),V=I+(D^(U|~P))+L[1]+2240044497&4294967295,I=U+(V<<21&4294967295|V>>>11),V=P+(U^(I|~D))+L[8]+1873313359&4294967295,P=I+(V<<6&4294967295|V>>>26),V=D+(I^(P|~U))+L[15]+4264355552&4294967295,D=P+(V<<10&4294967295|V>>>22),V=U+(P^(D|~I))+L[6]+2734768916&4294967295,U=D+(V<<15&4294967295|V>>>17),V=I+(D^(U|~P))+L[13]+1309151649&4294967295,I=U+(V<<21&4294967295|V>>>11),V=P+(U^(I|~D))+L[4]+4149444226&4294967295,P=I+(V<<6&4294967295|V>>>26),V=D+(I^(P|~U))+L[11]+3174756917&4294967295,D=P+(V<<10&4294967295|V>>>22),V=U+(P^(D|~I))+L[2]+718787259&4294967295,U=D+(V<<15&4294967295|V>>>17),V=I+(D^(U|~P))+L[9]+3951481745&4294967295,M.g[0]=M.g[0]+P&4294967295,M.g[1]=M.g[1]+(U+(V<<21&4294967295|V>>>11))&4294967295,M.g[2]=M.g[2]+U&4294967295,M.g[3]=M.g[3]+D&4294967295}r.prototype.v=function(M,P){P===void 0&&(P=M.length);const I=P-this.blockSize,L=this.C;let U=this.h,D=0;for(;D<P;){if(U==0)for(;D<=I;)i(this,M,D),D+=this.blockSize;if(typeof M=="string"){for(;D<P;)if(L[U++]=M.charCodeAt(D++),U==this.blockSize){i(this,L),U=0;break}}else for(;D<P;)if(L[U++]=M[D++],U==this.blockSize){i(this,L),U=0;break}}this.h=U,this.o+=P},r.prototype.A=function(){var M=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);M[0]=128;for(var P=1;P<M.length-8;++P)M[P]=0;P=this.o*8;for(var I=M.length-8;I<M.length;++I)M[I]=P&255,P/=256;for(this.v(M),M=Array(16),P=0,I=0;I<4;++I)for(let L=0;L<32;L+=8)M[P++]=this.g[I]>>>L&255;return M};function a(M,P){var I=c;return Object.prototype.hasOwnProperty.call(I,M)?I[M]:I[M]=P(M)}function o(M,P){this.h=P;const I=[];let L=!0;for(let U=M.length-1;U>=0;U--){const D=M[U]|0;L&&D==P||(I[U]=D,L=!1)}this.g=I}var c={};function d(M){return-128<=M&&M<128?a(M,function(P){return new o([P|0],P<0?-1:0)}):new o([M|0],M<0?-1:0)}function h(M){if(isNaN(M)||!isFinite(M))return f;if(M<0)return j(h(-M));const P=[];let I=1;for(let L=0;M>=I;L++)P[L]=M/I|0,I*=4294967296;return new o(P,0)}function m(M,P){if(M.length==0)throw Error("number format error: empty string");if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(M.charAt(0)=="-")return j(m(M.substring(1),P));if(M.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=h(Math.pow(P,8));let L=f;for(let D=0;D<M.length;D+=8){var U=Math.min(8,M.length-D);const V=parseInt(M.substring(D,D+U),P);U<8?(U=h(Math.pow(P,U)),L=L.j(U).add(h(V))):(L=L.j(I),L=L.add(h(V)))}return L}var f=d(0),g=d(1),x=d(16777216);t=o.prototype,t.m=function(){if(w(this))return-j(this).m();let M=0,P=1;for(let I=0;I<this.g.length;I++){const L=this.i(I);M+=(L>=0?L:4294967296+L)*P,P*=4294967296}return M},t.toString=function(M){if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(N(this))return"0";if(w(this))return"-"+j(this).toString(M);const P=h(Math.pow(M,6));var I=this;let L="";for(;;){const U=C(I,P).g;I=_(I,U.j(P));let D=((I.g.length>0?I.g[0]:I.h)>>>0).toString(M);if(I=U,N(I))return D+L;for(;D.length<6;)D="0"+D;L=D+L}},t.i=function(M){return M<0?0:M<this.g.length?this.g[M]:this.h};function N(M){if(M.h!=0)return!1;for(let P=0;P<M.g.length;P++)if(M.g[P]!=0)return!1;return!0}function w(M){return M.h==-1}t.l=function(M){return M=_(this,M),w(M)?-1:N(M)?0:1};function j(M){const P=M.g.length,I=[];for(let L=0;L<P;L++)I[L]=~M.g[L];return new o(I,~M.h).add(g)}t.abs=function(){return w(this)?j(this):this},t.add=function(M){const P=Math.max(this.g.length,M.g.length),I=[];let L=0;for(let U=0;U<=P;U++){let D=L+(this.i(U)&65535)+(M.i(U)&65535),V=(D>>>16)+(this.i(U)>>>16)+(M.i(U)>>>16);L=V>>>16,D&=65535,V&=65535,I[U]=V<<16|D}return new o(I,I[I.length-1]&-2147483648?-1:0)};function _(M,P){return M.add(j(P))}t.j=function(M){if(N(this)||N(M))return f;if(w(this))return w(M)?j(this).j(j(M)):j(j(this).j(M));if(w(M))return j(this.j(j(M)));if(this.l(x)<0&&M.l(x)<0)return h(this.m()*M.m());const P=this.g.length+M.g.length,I=[];for(var L=0;L<2*P;L++)I[L]=0;for(L=0;L<this.g.length;L++)for(let U=0;U<M.g.length;U++){const D=this.i(L)>>>16,V=this.i(L)&65535,J=M.i(U)>>>16,ee=M.i(U)&65535;I[2*L+2*U]+=V*ee,E(I,2*L+2*U),I[2*L+2*U+1]+=D*ee,E(I,2*L+2*U+1),I[2*L+2*U+1]+=V*J,E(I,2*L+2*U+1),I[2*L+2*U+2]+=D*J,E(I,2*L+2*U+2)}for(M=0;M<P;M++)I[M]=I[2*M+1]<<16|I[2*M];for(M=P;M<2*P;M++)I[M]=0;return new o(I,0)};function E(M,P){for(;(M[P]&65535)!=M[P];)M[P+1]+=M[P]>>>16,M[P]&=65535,P++}function k(M,P){this.g=M,this.h=P}function C(M,P){if(N(P))throw Error("division by zero");if(N(M))return new k(f,f);if(w(M))return P=C(j(M),P),new k(j(P.g),j(P.h));if(w(P))return P=C(M,j(P)),new k(j(P.g),P.h);if(M.g.length>30){if(w(M)||w(P))throw Error("slowDivide_ only works with positive integers.");for(var I=g,L=P;L.l(M)<=0;)I=R(I),L=R(L);var U=F(I,1),D=F(L,1);for(L=F(L,2),I=F(I,2);!N(L);){var V=D.add(L);V.l(M)<=0&&(U=U.add(I),D=V),L=F(L,1),I=F(I,1)}return P=_(M,U.j(P)),new k(U,P)}for(U=f;M.l(P)>=0;){for(I=Math.max(1,Math.floor(M.m()/P.m())),L=Math.ceil(Math.log(I)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),D=h(I),V=D.j(P);w(V)||V.l(M)>0;)I-=L,D=h(I),V=D.j(P);N(D)&&(D=g),U=U.add(D),M=_(M,V)}return new k(U,M)}t.B=function(M){return C(this,M).h},t.and=function(M){const P=Math.max(this.g.length,M.g.length),I=[];for(let L=0;L<P;L++)I[L]=this.i(L)&M.i(L);return new o(I,this.h&M.h)},t.or=function(M){const P=Math.max(this.g.length,M.g.length),I=[];for(let L=0;L<P;L++)I[L]=this.i(L)|M.i(L);return new o(I,this.h|M.h)},t.xor=function(M){const P=Math.max(this.g.length,M.g.length),I=[];for(let L=0;L<P;L++)I[L]=this.i(L)^M.i(L);return new o(I,this.h^M.h)};function R(M){const P=M.g.length+1,I=[];for(let L=0;L<P;L++)I[L]=M.i(L)<<1|M.i(L-1)>>>31;return new o(I,M.h)}function F(M,P){const I=P>>5;P%=32;const L=M.g.length-I,U=[];for(let D=0;D<L;D++)U[D]=P>0?M.i(D+I)>>>P|M.i(D+I+1)<<32-P:M.i(D+I);return new o(U,M.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,u5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=m,yl=o}).apply(typeof xT<"u"?xT:typeof self<"u"?self:typeof window<"u"?window:{});var Cg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var d5,_m,h5,nx,d1,m5,f5,p5;(function(){var t,e=Object.defineProperty;function n(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cg=="object"&&Cg];for(var A=0;A<y.length;++A){var O=y[A];if(O&&O.Math==Math)return O}throw Error("Cannot find global object")}var r=n(this);function i(y,A){if(A)e:{var O=r;y=y.split(".");for(var W=0;W<y.length-1;W++){var le=y[W];if(!(le in O))break e;O=O[le]}y=y[y.length-1],W=O[y],A=A(W),A!=W&&A!=null&&e(O,y,{configurable:!0,writable:!0,value:A})}}i("Symbol.dispose",function(y){return y||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(y){return y||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(y){return y||function(A){var O=[],W;for(W in A)Object.prototype.hasOwnProperty.call(A,W)&&O.push([W,A[W]]);return O}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function c(y){var A=typeof y;return A=="object"&&y!=null||A=="function"}function d(y,A,O){return y.call.apply(y.bind,arguments)}function h(y,A,O){return h=d,h.apply(null,arguments)}function m(y,A){var O=Array.prototype.slice.call(arguments,1);return function(){var W=O.slice();return W.push.apply(W,arguments),y.apply(this,W)}}function f(y,A){function O(){}O.prototype=A.prototype,y.Z=A.prototype,y.prototype=new O,y.prototype.constructor=y,y.Ob=function(W,le,de){for(var Pe=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)Pe[xt-2]=arguments[xt];return A.prototype[le].apply(W,Pe)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?y=>y&&AsyncContext.Snapshot.wrap(y):y=>y;function x(y){const A=y.length;if(A>0){const O=Array(A);for(let W=0;W<A;W++)O[W]=y[W];return O}return[]}function N(y,A){for(let W=1;W<arguments.length;W++){const le=arguments[W];var O=typeof le;if(O=O!="object"?O:le?Array.isArray(le)?"array":O:"null",O=="array"||O=="object"&&typeof le.length=="number"){O=y.length||0;const de=le.length||0;y.length=O+de;for(let Pe=0;Pe<de;Pe++)y[O+Pe]=le[Pe]}else y.push(le)}}class w{constructor(A,O){this.i=A,this.j=O,this.h=0,this.g=null}get(){let A;return this.h>0?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function j(y){o.setTimeout(()=>{throw y},0)}function _(){var y=M;let A=null;return y.g&&(A=y.g,y.g=y.g.next,y.g||(y.h=null),A.next=null),A}class E{constructor(){this.h=this.g=null}add(A,O){const W=k.get();W.set(A,O),this.h?this.h.next=W:this.g=W,this.h=W}}var k=new w(()=>new C,y=>y.reset());class C{constructor(){this.next=this.g=this.h=null}set(A,O){this.h=A,this.g=O,this.next=null}reset(){this.next=this.g=this.h=null}}let R,F=!1,M=new E,P=()=>{const y=Promise.resolve(void 0);R=()=>{y.then(I)}};function I(){for(var y;y=_();){try{y.h.call(y.g)}catch(O){j(O)}var A=k;A.j(y),A.h<100&&(A.h++,y.next=A.g,A.g=y)}F=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function U(y,A){this.type=y,this.g=this.target=A,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var D=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var y=!1,A=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const O=()=>{};o.addEventListener("test",O,A),o.removeEventListener("test",O,A)}catch{}return y})();function V(y){return/^[\s\xa0]*$/.test(y)}function J(y,A){U.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y&&this.init(y,A)}f(J,U),J.prototype.init=function(y,A){const O=this.type=y.type,W=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;this.target=y.target||y.srcElement,this.g=A,A=y.relatedTarget,A||(O=="mouseover"?A=y.fromElement:O=="mouseout"&&(A=y.toElement)),this.relatedTarget=A,W?(this.clientX=W.clientX!==void 0?W.clientX:W.pageX,this.clientY=W.clientY!==void 0?W.clientY:W.pageY,this.screenX=W.screenX||0,this.screenY=W.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=y.pointerType,this.state=y.state,this.i=y,y.defaultPrevented&&J.Z.h.call(this)},J.prototype.h=function(){J.Z.h.call(this);const y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var ee="closure_listenable_"+(Math.random()*1e6|0),re=0;function ie(y,A,O,W,le){this.listener=y,this.proxy=null,this.src=A,this.type=O,this.capture=!!W,this.ha=le,this.key=++re,this.da=this.fa=!1}function Q(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function q(y,A,O){for(const W in y)A.call(O,y[W],W,y)}function B(y,A){for(const O in y)A.call(void 0,y[O],O,y)}function $(y){const A={};for(const O in y)A[O]=y[O];return A}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function H(y,A){let O,W;for(let le=1;le<arguments.length;le++){W=arguments[le];for(O in W)y[O]=W[O];for(let de=0;de<te.length;de++)O=te[de],Object.prototype.hasOwnProperty.call(W,O)&&(y[O]=W[O])}}function me(y){this.src=y,this.g={},this.h=0}me.prototype.add=function(y,A,O,W,le){const de=y.toString();y=this.g[de],y||(y=this.g[de]=[],this.h++);const Pe=Ce(y,A,W,le);return Pe>-1?(A=y[Pe],O||(A.fa=!1)):(A=new ie(A,this.src,de,!!W,le),A.fa=O,y.push(A)),A};function we(y,A){const O=A.type;if(O in y.g){var W=y.g[O],le=Array.prototype.indexOf.call(W,A,void 0),de;(de=le>=0)&&Array.prototype.splice.call(W,le,1),de&&(Q(A),y.g[O].length==0&&(delete y.g[O],y.h--))}}function Ce(y,A,O,W){for(let le=0;le<y.length;++le){const de=y[le];if(!de.da&&de.listener==A&&de.capture==!!O&&de.ha==W)return le}return-1}var fe="closure_lm_"+(Math.random()*1e6|0),Se={};function De(y,A,O,W,le){if(Array.isArray(A)){for(let de=0;de<A.length;de++)De(y,A[de],O,W,le);return null}return O=xs(O),y&&y[ee]?y.J(A,O,c(W)?!!W.capture:!1,le):ze(y,A,O,!1,W,le)}function ze(y,A,O,W,le,de){if(!A)throw Error("Invalid event type");const Pe=c(le)?!!le.capture:!!le;let xt=Bn(y);if(xt||(y[fe]=xt=new me(y)),O=xt.add(A,O,W,Pe,de),O.proxy)return O;if(W=qe(),O.proxy=W,W.src=y,W.listener=O,y.addEventListener)D||(le=Pe),le===void 0&&(le=!1),y.addEventListener(A.toString(),W,le);else if(y.attachEvent)y.attachEvent(kn(A.toString()),W);else if(y.addListener&&y.removeListener)y.addListener(W);else throw Error("addEventListener and attachEvent are unavailable.");return O}function qe(){function y(O){return A.call(y.src,y.listener,O)}const A=wr;return y}function ft(y,A,O,W,le){if(Array.isArray(A))for(var de=0;de<A.length;de++)ft(y,A[de],O,W,le);else W=c(W)?!!W.capture:!!W,O=xs(O),y&&y[ee]?(y=y.i,de=String(A).toString(),de in y.g&&(A=y.g[de],O=Ce(A,O,W,le),O>-1&&(Q(A[O]),Array.prototype.splice.call(A,O,1),A.length==0&&(delete y.g[de],y.h--)))):y&&(y=Bn(y))&&(A=y.g[A.toString()],y=-1,A&&(y=Ce(A,O,W,le)),(O=y>-1?A[y]:null)&&Zt(O))}function Zt(y){if(typeof y!="number"&&y&&!y.da){var A=y.src;if(A&&A[ee])we(A.i,y);else{var O=y.type,W=y.proxy;A.removeEventListener?A.removeEventListener(O,W,y.capture):A.detachEvent?A.detachEvent(kn(O),W):A.addListener&&A.removeListener&&A.removeListener(W),(O=Bn(A))?(we(O,y),O.h==0&&(O.src=null,A[fe]=null)):Q(y)}}}function kn(y){return y in Se?Se[y]:Se[y]="on"+y}function wr(y,A){if(y.da)y=!0;else{A=new J(A,this);const O=y.listener,W=y.ha||y.src;y.fa&&Zt(y),y=O.call(W,A)}return y}function Bn(y){return y=y[fe],y instanceof me?y:null}var Jn="__closure_events_fn_"+(Math.random()*1e9>>>0);function xs(y){return typeof y=="function"?y:(y[Jn]||(y[Jn]=function(A){return y.handleEvent(A)}),y[Jn])}function zt(){L.call(this),this.i=new me(this),this.M=this,this.G=null}f(zt,L),zt.prototype[ee]=!0,zt.prototype.removeEventListener=function(y,A,O,W){ft(this,y,A,O,W)};function en(y,A){var O,W=y.G;if(W)for(O=[];W;W=W.G)O.push(W);if(y=y.M,W=A.type||A,typeof A=="string")A=new U(A,y);else if(A instanceof U)A.target=A.target||y;else{var le=A;A=new U(W,y),H(A,le)}le=!0;let de,Pe;if(O)for(Pe=O.length-1;Pe>=0;Pe--)de=A.g=O[Pe],le=Or(de,W,!0,A)&&le;if(de=A.g=y,le=Or(de,W,!0,A)&&le,le=Or(de,W,!1,A)&&le,O)for(Pe=0;Pe<O.length;Pe++)de=A.g=O[Pe],le=Or(de,W,!1,A)&&le}zt.prototype.N=function(){if(zt.Z.N.call(this),this.i){var y=this.i;for(const A in y.g){const O=y.g[A];for(let W=0;W<O.length;W++)Q(O[W]);delete y.g[A],y.h--}}this.G=null},zt.prototype.J=function(y,A,O,W){return this.i.add(String(y),A,!1,O,W)},zt.prototype.K=function(y,A,O,W){return this.i.add(String(y),A,!0,O,W)};function Or(y,A,O,W){if(A=y.i.g[String(A)],!A)return!0;A=A.concat();let le=!0;for(let de=0;de<A.length;++de){const Pe=A[de];if(Pe&&!Pe.da&&Pe.capture==O){const xt=Pe.listener,Mn=Pe.ha||Pe.src;Pe.fa&&we(y.i,Pe),le=xt.call(Mn,W)!==!1&&le}}return le&&!W.defaultPrevented}function Ca(y,A){if(typeof y!="function")if(y&&typeof y.handleEvent=="function")y=h(y.handleEvent,y);else throw Error("Invalid listener argument");return Number(A)>2147483647?-1:o.setTimeout(y,A||0)}function Ii(y){y.g=Ca(()=>{y.g=null,y.i&&(y.i=!1,Ii(y))},y.l);const A=y.h;y.h=null,y.m.apply(null,A)}class Ri extends L{constructor(A,O){super(),this.m=A,this.l=O,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:Ii(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fs(y){L.call(this),this.h=y,this.g={}}f(Fs,L);var pe=[];function Ie(y){q(y.g,function(A,O){this.g.hasOwnProperty(O)&&Zt(A)},y),y.g={}}Fs.prototype.N=function(){Fs.Z.N.call(this),Ie(this)},Fs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ze=o.JSON.stringify,bt=o.JSON.parse,kt=class{stringify(y){return o.JSON.stringify(y,void 0)}parse(y){return o.JSON.parse(y,void 0)}};function xn(){}function ge(){}var He={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function et(){U.call(this,"d")}f(et,U);function tt(){U.call(this,"c")}f(tt,U);var gt={},ut=null;function Mt(){return ut=ut||new zt}gt.Ia="serverreachability";function yn(y){U.call(this,gt.Ia,y)}f(yn,U);function Yr(y){const A=Mt();en(A,new yn(A))}gt.STAT_EVENT="statevent";function Lr(y,A){U.call(this,gt.STAT_EVENT,y),this.stat=A}f(Lr,U);function nn(y){const A=Mt();en(A,new Lr(A,y))}gt.Ja="timingevent";function ii(y,A){U.call(this,gt.Ja,y),this.size=A}f(ii,U);function Fr(y,A){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){y()},A)}function Vr(){this.g=!0}Vr.prototype.ua=function(){this.g=!1};function Pi(y,A,O,W,le,de){y.info(function(){if(y.g)if(de){var Pe="",xt=de.split("&");for(let tn=0;tn<xt.length;tn++){var Mn=xt[tn].split("=");if(Mn.length>1){const $n=Mn[0];Mn=Mn[1];const Ss=$n.split("_");Pe=Ss.length>=2&&Ss[1]=="type"?Pe+($n+"="+Mn+"&"):Pe+($n+"=redacted&")}}}else Pe=null;else Pe=de;return"XMLHTTP REQ ("+W+") [attempt "+le+"]: "+A+`
`+O+`
`+Pe})}function Gl(y,A,O,W,le,de,Pe){y.info(function(){return"XMLHTTP RESP ("+W+") [ attempt "+le+"]: "+A+`
`+O+`
`+de+" "+Pe})}function ys(y,A,O,W){y.info(function(){return"XMLHTTP TEXT ("+A+"): "+Di(y,O)+(W?" "+W:"")})}function Ql(y,A){y.info(function(){return"TIMEOUT: "+A})}Vr.prototype.info=function(){};function Di(y,A){if(!y.g)return A;if(!A)return null;try{const de=JSON.parse(A);if(de){for(y=0;y<de.length;y++)if(Array.isArray(de[y])){var O=de[y];if(!(O.length<2)){var W=O[1];if(Array.isArray(W)&&!(W.length<1)){var le=W[0];if(le!="noop"&&le!="stop"&&le!="close")for(let Pe=1;Pe<W.length;Pe++)W[Pe]=""}}}}return Ze(de)}catch{return A}}var ai={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},oi={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},vs;function Jr(){}f(Jr,xn),Jr.prototype.g=function(){return new XMLHttpRequest},vs=new Jr;function jr(y){return encodeURIComponent(String(y))}function Xr(y){var A=1;y=y.split(":");const O=[];for(;A>0&&y.length;)O.push(y.shift()),A--;return y.length&&O.push(y.join(":")),O}function Gt(y,A,O,W){this.j=y,this.i=A,this.l=O,this.S=W||1,this.V=new Fs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new _r}function _r(){this.i=null,this.g="",this.h=!1}var No={},ka={};function Nr(y,A,O){y.M=1,y.A=Aa(Vs(A)),y.u=O,y.R=!0,li(y,null)}function li(y,A){y.F=Date.now(),Xn(y),y.B=Vs(y.A);var O=y.B,W=y.S;Array.isArray(W)||(W=[String(W)]),Ih(O.i,"t",W),y.C=0,O=y.j.L,y.h=new _r,y.g=fp(y.j,O?A:null,!y.u),y.P>0&&(y.O=new Ri(h(y.Y,y,y.g),y.P)),A=y.V,O=y.g,W=y.ba;var le="readystatechange";Array.isArray(le)||(le&&(pe[0]=le.toString()),le=pe);for(let de=0;de<le.length;de++){const Pe=De(O,le[de],W||A.handleEvent,!1,A.h||A);if(!Pe)break;A.g[Pe.key]=Pe}A=y.J?$(y.J):{},y.u?(y.v||(y.v="POST"),A["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.B,y.v,y.u,A)):(y.v="GET",y.g.ea(y.B,y.v,null,A)),Yr(),Pi(y.i,y.v,y.B,y.l,y.S,y.u)}Gt.prototype.ba=function(y){y=y.target;const A=this.O;A&&zi(y)==3?A.j():this.Y(y)},Gt.prototype.Y=function(y){try{if(y==this.g)e:{const xt=zi(this.g),Mn=this.g.ya(),tn=this.g.ca();if(!(xt<3)&&(xt!=3||this.g&&(this.h.h||this.g.la()||hp(this.g)))){this.K||xt!=4||Mn==7||(Mn==8||tn<=0?Yr(3):Yr(2)),mu(this);var A=this.g.ca();this.X=A;var O=ci(this);if(this.o=A==200,Gl(this.i,this.v,this.B,this.l,this.S,xt,A),this.o){if(this.U&&!this.L){t:{if(this.g){var W,le=this.g;if((W=le.g?le.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(W)){var de=W;break t}}de=null}if(y=de)ys(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,dn(this,y);else{this.o=!1,this.m=3,nn(12),Ta(this),Yl(this);break e}}if(this.R){y=!0;let $n;for(;!this.K&&this.C<O.length;)if($n=dt(this,O),$n==ka){xt==4&&(this.m=4,nn(14),y=!1),ys(this.i,this.l,null,"[Incomplete Response]");break}else if($n==No){this.m=4,nn(15),ys(this.i,this.l,O,"[Invalid Chunk]"),y=!1;break}else ys(this.i,this.l,$n,null),dn(this,$n);if(wt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||O.length!=0||this.h.h||(this.m=1,nn(16),y=!1),this.o=this.o&&y,!y)ys(this.i,this.l,O,"[Invalid Chunked Response]"),Ta(this),Yl(this);else if(O.length>0&&!this.W){this.W=!0;var Pe=this.j;Pe.g==this&&Pe.aa&&!Pe.P&&(Pe.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),ic(Pe),Pe.P=!0,nn(11))}}else ys(this.i,this.l,O,null),dn(this,O);xt==4&&Ta(this),this.o&&!this.K&&(xt==4?_u(this.j,this):(this.o=!1,Xn(this)))}else Ph(this.g),A==400&&O.indexOf("Unknown SID")>0?(this.m=3,nn(12)):(this.m=0,nn(13)),Ta(this),Yl(this)}}}catch{}finally{}};function ci(y){if(!wt(y))return y.g.la();const A=hp(y.g);if(A==="")return"";let O="";const W=A.length,le=zi(y.g)==4;if(!y.h.i){if(typeof TextDecoder>"u")return Ta(y),Yl(y),"";y.h.i=new o.TextDecoder}for(let de=0;de<W;de++)y.h.h=!0,O+=y.h.i.decode(A[de],{stream:!(le&&de==W-1)});return A.length=0,y.h.g+=O,y.C=0,y.h.g}function wt(y){return y.g?y.v=="GET"&&y.M!=2&&y.j.Aa:!1}function dt(y,A){var O=y.C,W=A.indexOf(`
`,O);return W==-1?ka:(O=Number(A.substring(O,W)),isNaN(O)?No:(W+=1,W+O>A.length?ka:(A=A.slice(W,W+O),y.C=W+O,A)))}Gt.prototype.cancel=function(){this.K=!0,Ta(this)};function Xn(y){y.T=Date.now()+y.H,So(y,y.H)}function So(y,A){if(y.D!=null)throw Error("WatchDog timer not null");y.D=Fr(h(y.aa,y),A)}function mu(y){y.D&&(o.clearTimeout(y.D),y.D=null)}Gt.prototype.aa=function(){this.D=null;const y=Date.now();y-this.T>=0?(Ql(this.i,this.B),this.M!=2&&(Yr(),nn(17)),Ta(this),this.m=2,Yl(this)):So(this,this.T-y)};function Yl(y){y.j.I==0||y.K||_u(y.j,y)}function Ta(y){mu(y);var A=y.O;A&&typeof A.dispose=="function"&&A.dispose(),y.O=null,Ie(y.V),y.g&&(A=y.g,y.g=null,A.abort(),A.dispose())}function dn(y,A){try{var O=y.j;if(O.I!=0&&(O.g==y||Nh(O.h,y))){if(!y.L&&Nh(O.h,y)&&O.I==3){try{var W=O.Ba.g.parse(A)}catch{W=null}if(Array.isArray(W)&&W.length==3){var le=W;if(le[0]==0){e:if(!O.v){if(O.g)if(O.g.F+3e3<y.F)ju(O),_s(O);else break e;qi(O),nn(18)}}else O.xa=le[1],0<O.xa-O.K&&le[2]<37500&&O.F&&O.A==0&&!O.C&&(O.C=Fr(h(O.Va,O),6e3));Jl(O.h)<=1&&O.ta&&(O.ta=void 0)}else Ns(O,11)}else if((y.L||O.g==y)&&ju(O),!V(A))for(le=O.Ba.g.parse(A),A=0;A<le.length;A++){let tn=le[A];const $n=tn[0];if(!($n<=O.K))if(O.K=$n,tn=tn[1],O.I==2)if(tn[0]=="c"){O.M=tn[1],O.ba=tn[2];const Ss=tn[3];Ss!=null&&(O.ka=Ss,O.j.info("VER="+O.ka));const Ma=tn[4];Ma!=null&&(O.za=Ma,O.j.info("SVER="+O.za));const Hi=tn[5];Hi!=null&&typeof Hi=="number"&&Hi>0&&(W=1.5*Hi,O.O=W,O.j.info("backChannelRequestTimeoutMs_="+W)),W=O;const Wi=y.g;if(Wi){const Eu=Wi.g?Wi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Eu){var de=W.h;de.g||Eu.indexOf("spdy")==-1&&Eu.indexOf("quic")==-1&&Eu.indexOf("h2")==-1||(de.j=de.l,de.g=new Set,de.h&&(pu(de,de.h),de.h=null))}if(W.G){const Oh=Wi.g?Wi.g.getResponseHeader("X-HTTP-Session-Id"):null;Oh&&(W.wa=Oh,Bt(W.J,W.G,Oh))}}O.I=3,O.l&&O.l.ra(),O.aa&&(O.T=Date.now()-y.F,O.j.info("Handshake RTT: "+O.T+"ms")),W=O;var Pe=y;if(W.na=Mh(W,W.L?W.ba:null,W.W),Pe.L){Xl(W.h,Pe);var xt=Pe,Mn=W.O;Mn&&(xt.H=Mn),xt.D&&(mu(xt),Xn(xt)),W.g=Pe}else Sr(W);O.i.length>0&&Da(O)}else tn[0]!="stop"&&tn[0]!="close"||Ns(O,7);else O.I==3&&(tn[0]=="stop"||tn[0]=="close"?tn[0]=="stop"?Ns(O,7):bu(O):tn[0]!="noop"&&O.l&&O.l.qa(tn),O.A=0)}}Yr(4)}catch{}}var g0=class{constructor(y,A){this.g=y,this.map=A}};function fu(y){this.l=y||10,o.PerformanceNavigationTiming?(y=o.performance.getEntriesByType("navigation"),y=y.length>0&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function _h(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function Jl(y){return y.h?1:y.g?y.g.size:0}function Nh(y,A){return y.h?y.h==A:y.g?y.g.has(A):!1}function pu(y,A){y.g?y.g.add(A):y.h=A}function Xl(y,A){y.h&&y.h==A?y.h=null:y.g&&y.g.has(A)&&y.g.delete(A)}fu.prototype.cancel=function(){if(this.i=bs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function bs(y){if(y.h!=null)return y.i.concat(y.h.G);if(y.g!=null&&y.g.size!==0){let A=y.i;for(const O of y.g.values())A=A.concat(O.G);return A}return x(y.i)}var lp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ws(y,A){if(y){y=y.split("&");for(let O=0;O<y.length;O++){const W=y[O].indexOf("=");let le,de=null;W>=0?(le=y[O].substring(0,W),de=y[O].substring(W+1)):le=y[O],A(le,de?decodeURIComponent(de.replace(/\+/g," ")):"")}}}function Mi(y){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let A;y instanceof Mi?(this.l=y.l,Zl(this,y.j),this.o=y.o,this.g=y.g,Oi(this,y.u),this.h=y.h,Eo(this,Rh(y.i)),this.m=y.m):y&&(A=String(y).match(lp))?(this.l=!1,Zl(this,A[1]||"",!0),this.o=ec(A[2]||""),this.g=ec(A[3]||"",!0),Oi(this,A[4]),this.h=ec(A[5]||"",!0),Eo(this,A[6]||"",!0),this.m=ec(A[7]||"")):(this.l=!1,this.i=new Ot(null,this.l))}Mi.prototype.toString=function(){const y=[];var A=this.j;A&&y.push(tc(A,Eh,!0),":");var O=this.g;return(O||A=="file")&&(y.push("//"),(A=this.o)&&y.push(tc(A,Eh,!0),"@"),y.push(jr(O).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),O=this.u,O!=null&&y.push(":",String(O))),(O=this.h)&&(this.g&&O.charAt(0)!="/"&&y.push("/"),y.push(tc(O,O.charAt(0)=="/"?nc:Ch,!0))),(O=this.i.toString())&&y.push("?",O),(O=this.m)&&y.push("#",tc(O,kh)),y.join("")},Mi.prototype.resolve=function(y){const A=Vs(this);let O=!!y.j;O?Zl(A,y.j):O=!!y.o,O?A.o=y.o:O=!!y.g,O?A.g=y.g:O=y.u!=null;var W=y.h;if(O)Oi(A,y.u);else if(O=!!y.h){if(W.charAt(0)!="/")if(this.g&&!this.h)W="/"+W;else{var le=A.h.lastIndexOf("/");le!=-1&&(W=A.h.slice(0,le+1)+W)}if(le=W,le==".."||le==".")W="";else if(le.indexOf("./")!=-1||le.indexOf("/.")!=-1){W=le.lastIndexOf("/",0)==0,le=le.split("/");const de=[];for(let Pe=0;Pe<le.length;){const xt=le[Pe++];xt=="."?W&&Pe==le.length&&de.push(""):xt==".."?((de.length>1||de.length==1&&de[0]!="")&&de.pop(),W&&Pe==le.length&&de.push("")):(de.push(xt),W=!0)}W=de.join("/")}else W=le}return O?A.h=W:O=y.i.toString()!=="",O?Eo(A,Rh(y.i)):O=!!y.m,O&&(A.m=y.m),A};function Vs(y){return new Mi(y)}function Zl(y,A,O){y.j=O?ec(A,!0):A,y.j&&(y.j=y.j.replace(/:$/,""))}function Oi(y,A){if(A){if(A=Number(A),isNaN(A)||A<0)throw Error("Bad port number "+A);y.u=A}else y.u=null}function Eo(y,A,O){A instanceof Ot?(y.i=A,xu(y.i,y.l)):(O||(A=tc(A,x0)),y.i=new Ot(A,y.l))}function Bt(y,A,O){y.i.set(A,O)}function Aa(y){return Bt(y,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),y}function ec(y,A){return y?A?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function tc(y,A,O){return typeof y=="string"?(y=encodeURI(y).replace(A,Sh),O&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function Sh(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var Eh=/[#\/\?@]/g,Ch=/[#\?:]/g,nc=/[#\?]/g,x0=/[#\?@]/g,kh=/#/g;function Ot(y,A){this.h=this.g=null,this.i=y||null,this.j=!!A}function Li(y){y.g||(y.g=new Map,y.h=0,y.i&&ws(y.i,function(A,O){y.add(decodeURIComponent(A.replace(/\+/g," ")),O)}))}t=Ot.prototype,t.add=function(y,A){Li(this),this.i=null,y=Fi(this,y);let O=this.g.get(y);return O||this.g.set(y,O=[]),O.push(A),this.h+=1,this};function Th(y,A){Li(y),A=Fi(y,A),y.g.has(A)&&(y.i=null,y.h-=y.g.get(A).length,y.g.delete(A))}function gu(y,A){return Li(y),A=Fi(y,A),y.g.has(A)}t.forEach=function(y,A){Li(this),this.g.forEach(function(O,W){O.forEach(function(le){y.call(A,le,W,this)},this)},this)};function Ah(y,A){Li(y);let O=[];if(typeof A=="string")gu(y,A)&&(O=O.concat(y.g.get(Fi(y,A))));else for(y=Array.from(y.g.values()),A=0;A<y.length;A++)O=O.concat(y[A]);return O}t.set=function(y,A){return Li(this),this.i=null,y=Fi(this,y),gu(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[A]),this.h+=1,this},t.get=function(y,A){return y?(y=Ah(this,y),y.length>0?String(y[0]):A):A};function Ih(y,A,O){Th(y,A),O.length>0&&(y.i=null,y.g.set(Fi(y,A),x(O)),y.h+=O.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],A=Array.from(this.g.keys());for(let W=0;W<A.length;W++){var O=A[W];const le=jr(O);O=Ah(this,O);for(let de=0;de<O.length;de++){let Pe=le;O[de]!==""&&(Pe+="="+jr(O[de])),y.push(Pe)}}return this.i=y.join("&")};function Rh(y){const A=new Ot;return A.i=y.i,y.g&&(A.g=new Map(y.g),A.h=y.h),A}function Fi(y,A){return A=String(A),y.j&&(A=A.toLowerCase()),A}function xu(y,A){A&&!y.j&&(Li(y),y.i=null,y.g.forEach(function(O,W){const le=W.toLowerCase();W!=le&&(Th(this,W),Ih(this,le,O))},y)),y.j=A}function Vi(y,A){const O=new Vr;if(o.Image){const W=new Image;W.onload=m(mr,O,"TestLoadImage: loaded",!0,A,W),W.onerror=m(mr,O,"TestLoadImage: error",!1,A,W),W.onabort=m(mr,O,"TestLoadImage: abort",!1,A,W),W.ontimeout=m(mr,O,"TestLoadImage: timeout",!1,A,W),o.setTimeout(function(){W.ontimeout&&W.ontimeout()},1e4),W.src=y}else A(!1)}function Ui(y,A){const O=new Vr,W=new AbortController,le=setTimeout(()=>{W.abort(),mr(O,"TestPingServer: timeout",!1,A)},1e4);fetch(y,{signal:W.signal}).then(de=>{clearTimeout(le),de.ok?mr(O,"TestPingServer: ok",!0,A):mr(O,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(le),mr(O,"TestPingServer: error",!1,A)})}function mr(y,A,O,W,le){try{le&&(le.onload=null,le.onerror=null,le.onabort=null,le.ontimeout=null),W(O)}catch{}}function rc(){this.g=new kt}function Ia(y){this.i=y.Sb||null,this.h=y.ab||!1}f(Ia,xn),Ia.prototype.g=function(){return new js(this.i,this.h)};function js(y,A){zt.call(this),this.H=y,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(js,zt),t=js.prototype,t.open=function(y,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=y,this.D=A,this.readyState=1,ui(this)},t.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const A={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};y&&(A.body=y),(this.H||o).fetch(new Request(this.D,A)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Co(this)),this.readyState=0},t.Pa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,ui(this)),this.g&&(this.readyState=3,ui(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;cp(this)}else y.text().then(this.Oa.bind(this),this.ga.bind(this))};function cp(y){y.j.read().then(y.Ma.bind(y)).catch(y.ga.bind(y))}t.Ma=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var A=y.value?y.value:new Uint8Array(0);(A=this.B.decode(A,{stream:!y.done}))&&(this.response=this.responseText+=A)}y.done?Co(this):ui(this),this.readyState==3&&cp(this)}},t.Oa=function(y){this.g&&(this.response=this.responseText=y,Co(this))},t.Na=function(y){this.g&&(this.response=y,Co(this))},t.ga=function(){this.g&&Co(this)};function Co(y){y.readyState=4,y.l=null,y.j=null,y.B=null,ui(y)}t.setRequestHeader=function(y,A){this.A.append(y,A)},t.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],A=this.h.entries();for(var O=A.next();!O.done;)O=O.value,y.push(O[0]+": "+O[1]),O=A.next();return y.join(`\r
`)};function ui(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(js.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function up(y){let A="";return q(y,function(O,W){A+=W,A+=":",A+=O,A+=`\r
`}),A}function yu(y,A,O){e:{for(W in O){var W=!1;break e}W=!0}W||(O=up(O),typeof y=="string"?O!=null&&jr(O):Bt(y,A,O))}function rn(y){zt.call(this),this.headers=new Map,this.L=y||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(rn,zt);var dp=/^https?$/i,y0=["POST","PUT"];t=rn.prototype,t.Fa=function(y){this.H=y},t.ea=function(y,A,O,W){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);A=A?A.toUpperCase():"GET",this.D=y,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():vs.g(),this.g.onreadystatechange=g(h(this.Ca,this));try{this.B=!0,this.g.open(A,String(y),!0),this.B=!1}catch(de){ko(this,de);return}if(y=O||"",O=new Map(this.headers),W)if(Object.getPrototypeOf(W)===Object.prototype)for(var le in W)O.set(le,W[le]);else if(typeof W.keys=="function"&&typeof W.get=="function")for(const de of W.keys())O.set(de,W.get(de));else throw Error("Unknown input type for opt_headers: "+String(W));W=Array.from(O.keys()).find(de=>de.toLowerCase()=="content-type"),le=o.FormData&&y instanceof o.FormData,!(Array.prototype.indexOf.call(y0,A,void 0)>=0)||W||le||O.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[de,Pe]of O)this.g.setRequestHeader(de,Pe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(y),this.v=!1}catch(de){ko(this,de)}};function ko(y,A){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=A,y.o=5,To(y),Pa(y)}function To(y){y.A||(y.A=!0,en(y,"complete"),en(y,"error"))}t.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=y||7,en(this,"complete"),en(this,"abort"),Pa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pa(this,!0)),rn.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Ra(this):this.Xa())},t.Xa=function(){Ra(this)};function Ra(y){if(y.h&&typeof a<"u"){if(y.v&&zi(y)==4)setTimeout(y.Ca.bind(y),0);else if(en(y,"readystatechange"),zi(y)==4){y.h=!1;try{const de=y.ca();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var O;if(!(O=A)){var W;if(W=de===0){let Pe=String(y.D).match(lp)[1]||null;!Pe&&o.self&&o.self.location&&(Pe=o.self.location.protocol.slice(0,-1)),W=!dp.test(Pe?Pe.toLowerCase():"")}O=W}if(O)en(y,"complete"),en(y,"success");else{y.o=6;try{var le=zi(y)>2?y.g.statusText:""}catch{le=""}y.l=le+" ["+y.ca()+"]",To(y)}}finally{Pa(y)}}}}function Pa(y,A){if(y.g){y.m&&(clearTimeout(y.m),y.m=null);const O=y.g;y.g=null,A||en(y,"ready");try{O.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function zi(y){return y.g?y.g.readyState:0}t.ca=function(){try{return zi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(y){if(this.g){var A=this.g.responseText;return y&&A.indexOf(y)==0&&(A=A.substring(y.length)),bt(A)}};function hp(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.F){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function Ph(y){const A={};y=(y.g&&zi(y)>=2&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let W=0;W<y.length;W++){if(V(y[W]))continue;var O=Xr(y[W]);const le=O[0];if(O=O[1],typeof O!="string")continue;O=O.trim();const de=A[le]||[];A[le]=de,de.push(O)}B(A,function(W){return W.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bi(y,A,O){return O&&O.internalChannelParams&&O.internalChannelParams[y]||A}function vu(y){this.za=0,this.i=[],this.j=new Vr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Bi("failFast",!1,y),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Bi("baseRetryDelayMs",5e3,y),this.Za=Bi("retryDelaySeedMs",1e4,y),this.Ta=Bi("forwardChannelMaxRetries",2,y),this.va=Bi("forwardChannelRequestTimeoutMs",2e4,y),this.ma=y&&y.xmlHttpFactory||void 0,this.Ua=y&&y.Rb||void 0,this.Aa=y&&y.useFetchStreams||!1,this.O=void 0,this.L=y&&y.supportsCrossDomainXhr||!1,this.M="",this.h=new fu(y&&y.concurrentRequestLimit),this.Ba=new rc,this.S=y&&y.fastHandshake||!1,this.R=y&&y.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=y&&y.Pb||!1,y&&y.ua&&this.j.ua(),y&&y.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&y&&y.detectBufferingProxy||!1,this.ia=void 0,y&&y.longPollingTimeout&&y.longPollingTimeout>0&&(this.ia=y.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=vu.prototype,t.ka=8,t.I=1,t.connect=function(y,A,O,W){nn(0),this.W=y,this.H=A||{},O&&W!==void 0&&(this.H.OSID=O,this.H.OAID=W),this.F=this.X,this.J=Mh(this,null,this.W),Da(this)};function bu(y){if(wu(y),y.I==3){var A=y.V++,O=Vs(y.J);if(Bt(O,"SID",y.M),Bt(O,"RID",A),Bt(O,"TYPE","terminate"),$i(y,O),A=new Gt(y,y.j,A),A.M=2,A.A=Aa(Vs(O)),O=!1,o.navigator&&o.navigator.sendBeacon)try{O=o.navigator.sendBeacon(A.A.toString(),"")}catch{}!O&&o.Image&&(new Image().src=A.A,O=!0),O||(A.g=fp(A.j,null),A.g.ea(A.A)),A.F=Date.now(),Xn(A)}ac(y)}function _s(y){y.g&&(ic(y),y.g.cancel(),y.g=null)}function wu(y){_s(y),y.v&&(o.clearTimeout(y.v),y.v=null),ju(y),y.h.cancel(),y.m&&(typeof y.m=="number"&&o.clearTimeout(y.m),y.m=null)}function Da(y){if(!_h(y.h)&&!y.m){y.m=!0;var A=y.Ea;R||P(),F||(R(),F=!0),M.add(A,y),y.D=0}}function mp(y,A){return Jl(y.h)>=y.h.j-(y.m?1:0)?!1:y.m?(y.i=A.G.concat(y.i),!0):y.I==1||y.I==2||y.D>=(y.Sa?0:y.Ta)?!1:(y.m=Fr(h(y.Ea,y,A),Nu(y,y.D)),y.D++,!0)}t.Ea=function(y){if(this.m)if(this.m=null,this.I==1){if(!y){this.V=Math.floor(Math.random()*1e5),y=this.V++;const le=new Gt(this,this.j,y);let de=this.o;if(this.U&&(de?(de=$(de),H(de,this.U)):de=this.U),this.u!==null||this.R||(le.J=de,de=null),this.S)e:{for(var A=0,O=0;O<this.i.length;O++){t:{var W=this.i[O];if("__data__"in W.map&&(W=W.map.__data__,typeof W=="string")){W=W.length;break t}W=void 0}if(W===void 0)break;if(A+=W,A>4096){A=O;break e}if(A===4096||O===this.i.length-1){A=O+1;break e}}A=1e3}else A=1e3;A=Dh(this,le,A),O=Vs(this.J),Bt(O,"RID",y),Bt(O,"CVER",22),this.G&&Bt(O,"X-HTTP-Session-Id",this.G),$i(this,O),de&&(this.R?A="headers="+jr(up(de))+"&"+A:this.u&&yu(O,this.u,de)),pu(this.h,le),this.Ra&&Bt(O,"TYPE","init"),this.S?(Bt(O,"$req",A),Bt(O,"SID","null"),le.U=!0,Nr(le,O,null)):Nr(le,O,A),this.I=2}}else this.I==3&&(y?sc(this,y):this.i.length==0||_h(this.h)||sc(this))};function sc(y,A){var O;A?O=A.l:O=y.V++;const W=Vs(y.J);Bt(W,"SID",y.M),Bt(W,"RID",O),Bt(W,"AID",y.K),$i(y,W),y.u&&y.o&&yu(W,y.u,y.o),O=new Gt(y,y.j,O,y.D+1),y.u===null&&(O.J=y.o),A&&(y.i=A.G.concat(y.i)),A=Dh(y,O,1e3),O.H=Math.round(y.va*.5)+Math.round(y.va*.5*Math.random()),pu(y.h,O),Nr(O,W,A)}function $i(y,A){y.H&&q(y.H,function(O,W){Bt(A,W,O)}),y.l&&q({},function(O,W){Bt(A,W,O)})}function Dh(y,A,O){O=Math.min(y.i.length,O);const W=y.l?h(y.l.Ka,y.l,y):null;e:{var le=y.i;let xt=-1;for(;;){const Mn=["count="+O];xt==-1?O>0?(xt=le[0].g,Mn.push("ofs="+xt)):xt=0:Mn.push("ofs="+xt);let tn=!0;for(let $n=0;$n<O;$n++){var de=le[$n].g;const Ss=le[$n].map;if(de-=xt,de<0)xt=Math.max(0,le[$n].g-100),tn=!1;else try{de="req"+de+"_"||"";try{var Pe=Ss instanceof Map?Ss:Object.entries(Ss);for(const[Ma,Hi]of Pe){let Wi=Hi;c(Hi)&&(Wi=Ze(Hi)),Mn.push(de+Ma+"="+encodeURIComponent(Wi))}}catch(Ma){throw Mn.push(de+"type="+encodeURIComponent("_badmap")),Ma}}catch{W&&W(Ss)}}if(tn){Pe=Mn.join("&");break e}}Pe=void 0}return y=y.i.splice(0,O),A.G=y,Pe}function Sr(y){if(!y.g&&!y.v){y.Y=1;var A=y.Da;R||P(),F||(R(),F=!0),M.add(A,y),y.A=0}}function qi(y){return y.g||y.v||y.A>=3?!1:(y.Y++,y.v=Fr(h(y.Da,y),Nu(y,y.A)),y.A++,!0)}t.Da=function(){if(this.v=null,Ao(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var y=4*this.T;this.j.info("BP detection timer enabled: "+y),this.B=Fr(h(this.Wa,this),y)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,nn(10),_s(this),Ao(this))};function ic(y){y.B!=null&&(o.clearTimeout(y.B),y.B=null)}function Ao(y){y.g=new Gt(y,y.j,"rpc",y.Y),y.u===null&&(y.g.J=y.o),y.g.P=0;var A=Vs(y.na);Bt(A,"RID","rpc"),Bt(A,"SID",y.M),Bt(A,"AID",y.K),Bt(A,"CI",y.F?"0":"1"),!y.F&&y.ia&&Bt(A,"TO",y.ia),Bt(A,"TYPE","xmlhttp"),$i(y,A),y.u&&y.o&&yu(A,y.u,y.o),y.O&&(y.g.H=y.O);var O=y.g;y=y.ba,O.M=1,O.A=Aa(Vs(A)),O.u=null,O.R=!0,li(O,y)}t.Va=function(){this.C!=null&&(this.C=null,_s(this),qi(this),nn(19))};function ju(y){y.C!=null&&(o.clearTimeout(y.C),y.C=null)}function _u(y,A){var O=null;if(y.g==A){ju(y),ic(y),y.g=null;var W=2}else if(Nh(y.h,A))O=A.G,Xl(y.h,A),W=1;else return;if(y.I!=0){if(A.o)if(W==1){O=A.u?A.u.length:0,A=Date.now()-A.F;var le=y.D;W=Mt(),en(W,new ii(W,O)),Da(y)}else Sr(y);else if(le=A.m,le==3||le==0&&A.X>0||!(W==1&&mp(y,A)||W==2&&qi(y)))switch(O&&O.length>0&&(A=y.h,A.i=A.i.concat(O)),le){case 1:Ns(y,5);break;case 4:Ns(y,10);break;case 3:Ns(y,6);break;default:Ns(y,2)}}}function Nu(y,A){let O=y.Qa+Math.floor(Math.random()*y.Za);return y.isActive()||(O*=2),O*A}function Ns(y,A){if(y.j.info("Error code "+A),A==2){var O=h(y.bb,y),W=y.Ua;const le=!W;W=new Mi(W||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Zl(W,"https"),Aa(W),le?Vi(W.toString(),O):Ui(W.toString(),O)}else nn(2);y.I=0,y.l&&y.l.pa(A),ac(y),wu(y)}t.bb=function(y){y?(this.j.info("Successfully pinged google.com"),nn(2)):(this.j.info("Failed to ping google.com"),nn(1))};function ac(y){if(y.I=0,y.ja=[],y.l){const A=bs(y.h);(A.length!=0||y.i.length!=0)&&(N(y.ja,A),N(y.ja,y.i),y.h.i.length=0,x(y.i),y.i.length=0),y.l.oa()}}function Mh(y,A,O){var W=O instanceof Mi?Vs(O):new Mi(O);if(W.g!="")A&&(W.g=A+"."+W.g),Oi(W,W.u);else{var le=o.location;W=le.protocol,A=A?A+"."+le.hostname:le.hostname,le=+le.port;const de=new Mi(null);W&&Zl(de,W),A&&(de.g=A),le&&Oi(de,le),O&&(de.h=O),W=de}return O=y.G,A=y.wa,O&&A&&Bt(W,O,A),Bt(W,"VER",y.ka),$i(y,W),W}function fp(y,A,O){if(A&&!y.L)throw Error("Can't create secondary domain capable XhrIo object.");return A=y.Aa&&!y.ma?new rn(new Ia({ab:O})):new rn(y.ma),A.Fa(y.L),A}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function pp(){}t=pp.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Su(){}Su.prototype.g=function(y,A){return new fr(y,A)};function fr(y,A){zt.call(this),this.g=new vu(A),this.l=y,this.h=A&&A.messageUrlParams||null,y=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(y?y["X-WebChannel-Content-Type"]=A.messageContentType:y={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.sa&&(y?y["X-WebChannel-Client-Profile"]=A.sa:y={"X-WebChannel-Client-Profile":A.sa}),this.g.U=y,(y=A&&A.Qb)&&!V(y)&&(this.g.u=y),this.A=A&&A.supportsCrossDomainXhr||!1,this.v=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!V(A)&&(this.g.G=A,y=this.h,y!==null&&A in y&&(y=this.h,A in y&&delete y[A])),this.j=new Io(this)}f(fr,zt),fr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},fr.prototype.close=function(){bu(this.g)},fr.prototype.o=function(y){var A=this.g;if(typeof y=="string"){var O={};O.__data__=y,y=O}else this.v&&(O={},O.__data__=Ze(y),y=O);A.i.push(new g0(A.Ya++,y)),A.I==3&&Da(A)},fr.prototype.N=function(){this.g.l=null,delete this.j,bu(this.g),delete this.g,fr.Z.N.call(this)};function gp(y){et.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var A=y.__sm__;if(A){e:{for(const O in A){y=O;break e}y=void 0}(this.i=y)&&(y=this.i,A=A!==null&&y in A?A[y]:void 0),this.data=A}else this.data=y}f(gp,et);function xp(){tt.call(this),this.status=1}f(xp,tt);function Io(y){this.g=y}f(Io,pp),Io.prototype.ra=function(){en(this.g,"a")},Io.prototype.qa=function(y){en(this.g,new gp(y))},Io.prototype.pa=function(y){en(this.g,new xp)},Io.prototype.oa=function(){en(this.g,"b")},Su.prototype.createWebChannel=Su.prototype.g,fr.prototype.send=fr.prototype.o,fr.prototype.open=fr.prototype.m,fr.prototype.close=fr.prototype.close,p5=function(){return new Su},f5=function(){return Mt()},m5=gt,d1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ai.NO_ERROR=0,ai.TIMEOUT=8,ai.HTTP_ERROR=6,nx=ai,oi.COMPLETE="complete",h5=oi,ge.EventType=He,He.OPEN="a",He.CLOSE="b",He.ERROR="c",He.MESSAGE="d",zt.prototype.listen=zt.prototype.J,_m=ge,rn.prototype.listenOnce=rn.prototype.K,rn.prototype.getLastError=rn.prototype.Ha,rn.prototype.getLastErrorCode=rn.prototype.ya,rn.prototype.getStatus=rn.prototype.ca,rn.prototype.getResponseJson=rn.prototype.La,rn.prototype.getResponseText=rn.prototype.la,rn.prototype.send=rn.prototype.ea,rn.prototype.setWithCredentials=rn.prototype.Fa,d5=rn}).apply(typeof Cg<"u"?Cg:typeof self<"u"?self:typeof window<"u"?window:{});const yT="@firebase/firestore",vT="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ls.UNAUTHENTICATED=new ls(null),ls.GOOGLE_CREDENTIALS=new ls("google-credentials-uid"),ls.FIRST_PARTY=new ls("first-party-uid"),ls.MOCK_USER=new ls("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dh="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al=new A_("@firebase/firestore");function ed(){return Al.logLevel}function bte(t){Al.setLogLevel(t)}function Be(t,...e){if(Al.logLevel<=It.DEBUG){const n=e.map(z_);Al.debug(`Firestore (${dh}): ${t}`,...n)}}function mo(t,...e){if(Al.logLevel<=It.ERROR){const n=e.map(z_);Al.error(`Firestore (${dh}): ${t}`,...n)}}function hf(t,...e){if(Al.logLevel<=It.WARN){const n=e.map(z_);Al.warn(`Firestore (${dh}): ${t}`,...n)}}function z_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,g5(t,r,n)}function g5(t,e,n){let r=`FIRESTORE (${dh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw mo(r),new Error(r)}function Xt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||g5(e,i,r)}function vt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends Ea{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wte{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jte{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(ls.UNAUTHENTICATED)))}shutdown(){}}class _te{constructor(e){this.t=e,this.currentUser=ls.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Xt(this.o===void 0,42304);let r=this.i;const i=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let a=new no;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new no,e.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const d=a;e.enqueueRetryable((async()=>{await d.promise,await i(this.currentUser)}))},c=d=>{Be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((d=>c(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(Be("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new no)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xt(typeof r.accessToken=="string",31837,{l:r}),new wte(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xt(e===null||typeof e=="string",2055,{h:e}),new ls(e)}}class Nte{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ls.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Ste{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Nte(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(ls.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class bT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ete{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Rs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Xt(this.o===void 0,3512);const r=a=>{a.error!=null&&Be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,Be("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{Be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new bT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Xt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new bT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cte(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Cte(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function Pt(t,e){return t<e?-1:t>e?1:0}function h1(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return Rb(i)===Rb(a)?Pt(i,a):Rb(i)?1:-1}return Pt(t.length,e.length)}const kte=55296,Tte=57343;function Rb(t){const e=t.charCodeAt(0);return e>=kte&&e<=Tte}function zd(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="__name__";class Zi{constructor(e,n,r){n===void 0?n=0:n>e.length&&ot(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ot(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Zi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Zi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Zi.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return Pt(e.length,n.length)}static compareSegments(e,n){const r=Zi.isNumericId(e),i=Zi.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Zi.extractNumericId(e).compare(Zi.extractNumericId(n)):h1(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return yl.fromString(e.substring(4,e.length-2))}}class ln extends Zi{construct(e,n,r){return new ln(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Oe(xe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new ln(n)}static emptyPath(){return new ln([])}}const Ate=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vr extends Zi{construct(e,n,r){return new vr(e,n,r)}static isValidIdentifier(e){return Ate.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===wT}static keyField(){return new vr([wT])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Oe(xe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new Oe(xe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Oe(xe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(r+=c,i++):(a(),i++)}if(a(),o)throw new Oe(xe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vr(n)}static emptyPath(){return new vr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e){this.path=e}static fromPath(e){return new nt(ln.fromString(e))}static fromName(e){return new nt(ln.fromString(e).popFirst(5))}static empty(){return new nt(ln.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ln.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ln.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new nt(new ln(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x5(t,e,n){if(!n)throw new Oe(xe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Ite(t,e,n,r){if(e===!0&&r===!0)throw new Oe(xe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function jT(t){if(!nt.isDocumentKey(t))throw new Oe(xe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function _T(t){if(nt.isDocumentKey(t))throw new Oe(xe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function y5(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Uy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ot(12329,{type:typeof t})}function wa(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Oe(xe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Uy(t);throw new Oe(xe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Gf(t,e){if(!y5(t))throw new Oe(xe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new Oe(xe.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT=-62135596800,ST=1e6;class fn{static now(){return fn.fromMillis(Date.now())}static fromDate(e){return fn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*ST);return new fn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Oe(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Oe(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<NT)throw new Oe(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oe(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ST}_compareTo(e){return this.seconds===e.seconds?Pt(this.nanoseconds,e.nanoseconds):Pt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:fn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Gf(e,fn._jsonSchema))return new fn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-NT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}fn._jsonSchemaVersion="firestore/timestamp/1.0",fn._jsonSchema={type:Qn("string",fn._jsonSchemaVersion),seconds:Qn("number"),nanoseconds:Qn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{static fromTimestamp(e){return new pt(e)}static min(){return new pt(new fn(0,0))}static max(){return new pt(new fn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mf=-1;function Rte(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=pt.fromTimestamp(r===1e9?new fn(n+1,0):new fn(n,r));return new Il(i,nt.empty(),e)}function Pte(t){return new Il(t.readTime,t.key,mf)}class Il{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Il(pt.min(),nt.empty(),mf)}static max(){return new Il(pt.max(),nt.empty(),mf)}}function Dte(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=nt.comparator(t.documentKey,e.documentKey),n!==0?n:Pt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mte="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ote{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hh(t){if(t.code!==xe.FAILED_PRECONDITION||t.message!==Mte)throw t;Be("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ot(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ve(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ve?n:ve.resolve(n)}catch(n){return ve.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ve.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ve.reject(n)}static resolve(e){return new ve(((n,r)=>{n(e)}))}static reject(e){return new ve(((n,r)=>{r(e)}))}static waitFor(e){return new ve(((n,r)=>{let i=0,a=0,o=!1;e.forEach((c=>{++i,c.next((()=>{++a,o&&a===i&&n()}),(d=>r(d)))})),o=!0,a===i&&n()}))}static or(e){let n=ve.resolve(!1);for(const r of e)n=n.next((i=>i?ve.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new ve(((r,i)=>{const a=e.length,o=new Array(a);let c=0;for(let d=0;d<a;d++){const h=d;n(e[h]).next((m=>{o[h]=m,++c,c===a&&r(o)}),(m=>i(m)))}}))}static doWhile(e,n){return new ve(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function Lte(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function mh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}zy.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_=-1;function By(t){return t==null}function zx(t){return t===0&&1/t==-1/0}function Fte(t){return typeof t=="number"&&Number.isInteger(t)&&!zx(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v5="";function Vte(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=ET(e)),e=Ute(t.get(n),e);return ET(e)}function Ute(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case v5:n+="";break;default:n+=a}}return n}function ET(t){return t+v5+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function $l(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function b5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e,n){this.comparator=e,this.root=n||yr.EMPTY}insert(e,n){return new Cn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,yr.BLACK,null,null))}remove(e){return new Cn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kg(this.root,e,this.comparator,!1)}getReverseIterator(){return new kg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kg(this.root,e,this.comparator,!0)}}class kg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yr{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??yr.RED,this.left=i??yr.EMPTY,this.right=a??yr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new yr(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return yr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return yr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ot(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ot(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ot(27949);return e+(this.isRed()?0:1)}}yr.EMPTY=null,yr.RED=!0,yr.BLACK=!1;yr.EMPTY=new class{constructor(){this.size=0}get key(){throw ot(57766)}get value(){throw ot(16141)}get color(){throw ot(16727)}get left(){throw ot(29726)}get right(){throw ot(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new yr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.comparator=e,this.data=new Cn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new kT(this.data.getIterator())}getIteratorFrom(e){return new kT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof rr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new rr(this.comparator);return n.data=e,n}}class kT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e){this.fields=e,e.sort(vr.comparator)}static empty(){return new Ps([])}unionWith(e){let n=new rr(vr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ps(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return zd(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new w5("Invalid base64 string: "+a):a}})(e);return new br(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a})(e);return new br(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}br.EMPTY_BYTE_STRING=new br("");const zte=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rl(t){if(Xt(!!t,39018),typeof t=="string"){let e=0;const n=zte.exec(t);if(Xt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Fn(t.seconds),nanos:Fn(t.nanos)}}function Fn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Pl(t){return typeof t=="string"?br.fromBase64String(t):br.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j5="server_timestamp",_5="__type__",N5="__previous_value__",S5="__local_write_time__";function q_(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[_5])==null?void 0:r.stringValue)===j5}function $y(t){const e=t.mapValue.fields[N5];return q_(e)?$y(e):e}function ff(t){const e=Rl(t.mapValue.fields[S5].timestampValue);return new fn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bte{constructor(e,n,r,i,a,o,c,d,h,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=h,this.isUsingEmulator=m}}const Bx="(default)";class pf{constructor(e,n){this.projectId=e,this.database=n||Bx}static empty(){return new pf("","")}get isDefaultDatabase(){return this.database===Bx}isEqual(e){return e instanceof pf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E5="__type__",$te="__max__",Tg={mapValue:{}},C5="__vector__",$x="value";function Dl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?q_(t)?4:Hte(t)?9007199254740991:qte(t)?10:11:ot(28295,{value:t})}function ja(t,e){if(t===e)return!0;const n=Dl(t);if(n!==Dl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ff(t).isEqual(ff(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=Rl(i.timestampValue),c=Rl(a.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return Pl(i.bytesValue).isEqual(Pl(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return Fn(i.geoPointValue.latitude)===Fn(a.geoPointValue.latitude)&&Fn(i.geoPointValue.longitude)===Fn(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return Fn(i.integerValue)===Fn(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=Fn(i.doubleValue),c=Fn(a.doubleValue);return o===c?zx(o)===zx(c):isNaN(o)&&isNaN(c)}return!1})(t,e);case 9:return zd(t.arrayValue.values||[],e.arrayValue.values||[],ja);case 10:case 11:return(function(i,a){const o=i.mapValue.fields||{},c=a.mapValue.fields||{};if(CT(o)!==CT(c))return!1;for(const d in o)if(o.hasOwnProperty(d)&&(c[d]===void 0||!ja(o[d],c[d])))return!1;return!0})(t,e);default:return ot(52216,{left:t})}}function gf(t,e){return(t.values||[]).find((n=>ja(n,e)))!==void 0}function Bd(t,e){if(t===e)return 0;const n=Dl(t),r=Dl(e);if(n!==r)return Pt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pt(t.booleanValue,e.booleanValue);case 2:return(function(a,o){const c=Fn(a.integerValue||a.doubleValue),d=Fn(o.integerValue||o.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1})(t,e);case 3:return TT(t.timestampValue,e.timestampValue);case 4:return TT(ff(t),ff(e));case 5:return h1(t.stringValue,e.stringValue);case 6:return(function(a,o){const c=Pl(a),d=Pl(o);return c.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(a,o){const c=a.split("/"),d=o.split("/");for(let h=0;h<c.length&&h<d.length;h++){const m=Pt(c[h],d[h]);if(m!==0)return m}return Pt(c.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,o){const c=Pt(Fn(a.latitude),Fn(o.latitude));return c!==0?c:Pt(Fn(a.longitude),Fn(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return AT(t.arrayValue,e.arrayValue);case 10:return(function(a,o){var g,x,N,w;const c=a.fields||{},d=o.fields||{},h=(g=c[$x])==null?void 0:g.arrayValue,m=(x=d[$x])==null?void 0:x.arrayValue,f=Pt(((N=h==null?void 0:h.values)==null?void 0:N.length)||0,((w=m==null?void 0:m.values)==null?void 0:w.length)||0);return f!==0?f:AT(h,m)})(t.mapValue,e.mapValue);case 11:return(function(a,o){if(a===Tg.mapValue&&o===Tg.mapValue)return 0;if(a===Tg.mapValue)return 1;if(o===Tg.mapValue)return-1;const c=a.fields||{},d=Object.keys(c),h=o.fields||{},m=Object.keys(h);d.sort(),m.sort();for(let f=0;f<d.length&&f<m.length;++f){const g=h1(d[f],m[f]);if(g!==0)return g;const x=Bd(c[d[f]],h[m[f]]);if(x!==0)return x}return Pt(d.length,m.length)})(t.mapValue,e.mapValue);default:throw ot(23264,{he:n})}}function TT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Pt(t,e);const n=Rl(t),r=Rl(e),i=Pt(n.seconds,r.seconds);return i!==0?i:Pt(n.nanos,r.nanos)}function AT(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Bd(n[i],r[i]);if(a)return a}return Pt(n.length,r.length)}function $d(t){return m1(t)}function m1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Rl(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Pl(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return nt.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=m1(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const o of r)a?a=!1:i+=",",i+=`${o}:${m1(n.fields[o])}`;return i+"}"})(t.mapValue):ot(61005,{value:t})}function rx(t){switch(Dl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$y(t);return e?16+rx(e):16;case 5:return 2*t.stringValue.length;case 6:return Pl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+rx(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return $l(r.fields,((a,o)=>{i+=a.length+rx(o)})),i})(t.mapValue);default:throw ot(13486,{value:t})}}function IT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function f1(t){return!!t&&"integerValue"in t}function H_(t){return!!t&&"arrayValue"in t}function RT(t){return!!t&&"nullValue"in t}function PT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function sx(t){return!!t&&"mapValue"in t}function qte(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[E5])==null?void 0:r.stringValue)===C5}function Lm(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return $l(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Lm(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Lm(t.arrayValue.values[n]);return e}return{...t}}function Hte(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===$te}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e){this.value=e}static empty(){return new us({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!sx(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lm(n)}setAll(e){let n=vr.emptyPath(),r={},i=[];e.forEach(((o,c)=>{if(!n.isImmediateParentOf(c)){const d=this.getFieldsMap(n);this.applyChanges(d,r,i),r={},i=[],n=c.popLast()}o?r[c.lastSegment()]=Lm(o):i.push(c.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());sx(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ja(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];sx(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){$l(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new us(Lm(this.value))}}function k5(t){const e=[];return $l(t.fields,((n,r)=>{const i=new vr([n]);if(sx(r)){const a=k5(r.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)})),new Ps(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e,n,r,i,a,o,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=c}static newInvalidDocument(e){return new Ir(e,0,pt.min(),pt.min(),pt.min(),us.empty(),0)}static newFoundDocument(e,n,r,i){return new Ir(e,1,n,pt.min(),r,i,0)}static newNoDocument(e,n){return new Ir(e,2,n,pt.min(),pt.min(),us.empty(),0)}static newUnknownDocument(e,n){return new Ir(e,3,n,pt.min(),pt.min(),us.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=us.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=us.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ir&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ir(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e,n){this.position=e,this.inclusive=n}}function DT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?r=nt.comparator(nt.fromName(o.referenceValue),n.key):r=Bd(o,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function MT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ja(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,n="asc"){this.field=e,this.dir=n}}function Wte(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{}class Gn extends T5{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Gte(e,n,r):n==="array-contains"?new Jte(e,r):n==="in"?new Xte(e,r):n==="not-in"?new Zte(e,r):n==="array-contains-any"?new ene(e,r):new Gn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Qte(e,r):new Yte(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Bd(n,this.value)):n!==null&&Dl(this.value)===Dl(n)&&this.matchesComparison(Bd(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ot(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ki extends T5{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ki(e,n)}matches(e){return A5(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function A5(t){return t.op==="and"}function I5(t){return Kte(t)&&A5(t)}function Kte(t){for(const e of t.filters)if(e instanceof ki)return!1;return!0}function p1(t){if(t instanceof Gn)return t.field.canonicalString()+t.op.toString()+$d(t.value);if(I5(t))return t.filters.map((e=>p1(e))).join(",");{const e=t.filters.map((n=>p1(n))).join(",");return`${t.op}(${e})`}}function R5(t,e){return t instanceof Gn?(function(r,i){return i instanceof Gn&&r.op===i.op&&r.field.isEqual(i.field)&&ja(r.value,i.value)})(t,e):t instanceof ki?(function(r,i){return i instanceof ki&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,o,c)=>a&&R5(o,i.filters[c])),!0):!1})(t,e):void ot(19439)}function P5(t){return t instanceof Gn?(function(n){return`${n.field.canonicalString()} ${n.op} ${$d(n.value)}`})(t):t instanceof ki?(function(n){return n.op.toString()+" {"+n.getFilters().map(P5).join(" ,")+"}"})(t):"Filter"}class Gte extends Gn{constructor(e,n,r){super(e,n,r),this.key=nt.fromName(r.referenceValue)}matches(e){const n=nt.comparator(e.key,this.key);return this.matchesComparison(n)}}class Qte extends Gn{constructor(e,n){super(e,"in",n),this.keys=D5("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Yte extends Gn{constructor(e,n){super(e,"not-in",n),this.keys=D5("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function D5(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>nt.fromName(r.referenceValue)))}class Jte extends Gn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return H_(n)&&gf(n.arrayValue,this.value)}}class Xte extends Gn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&gf(this.value.arrayValue,n)}}class Zte extends Gn{constructor(e,n){super(e,"not-in",n)}matches(e){if(gf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!gf(this.value.arrayValue,n)}}class ene extends Gn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!H_(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>gf(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tne{constructor(e,n=null,r=[],i=[],a=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=c,this.Te=null}}function OT(t,e=null,n=[],r=[],i=null,a=null,o=null){return new tne(t,e,n,r,i,a,o)}function W_(t){const e=vt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>p1(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),By(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>$d(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>$d(r))).join(",")),e.Te=n}return e.Te}function K_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Wte(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!R5(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!MT(t.startAt,e.startAt)&&MT(t.endAt,e.endAt)}function g1(t){return nt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n=null,r=[],i=[],a=null,o="F",c=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=c,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function nne(t,e,n,r,i,a,o,c){return new fh(t,e,n,r,i,a,o,c)}function G_(t){return new fh(t)}function LT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function M5(t){return t.collectionGroup!==null}function Fm(t){const e=vt(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new rr(vr.comparator);return o.filters.forEach((d=>{d.getFlattenedFilters().forEach((h=>{h.isInequality()&&(c=c.add(h.field))}))})),c})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new xf(a,r))})),n.has(vr.keyField().canonicalString())||e.Ie.push(new xf(vr.keyField(),r))}return e.Ie}function ma(t){const e=vt(t);return e.Ee||(e.Ee=rne(e,Fm(t))),e.Ee}function rne(t,e){if(t.limitType==="F")return OT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new xf(i.field,a)}));const n=t.endAt?new qx(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new qx(t.startAt.position,t.startAt.inclusive):null;return OT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function x1(t,e){const n=t.filters.concat([e]);return new fh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function y1(t,e,n){return new fh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function qy(t,e){return K_(ma(t),ma(e))&&t.limitType===e.limitType}function O5(t){return`${W_(ma(t))}|lt:${t.limitType}`}function td(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>P5(i))).join(", ")}]`),By(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>$d(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>$d(i))).join(",")),`Target(${r})`})(ma(t))}; limitType=${t.limitType})`}function Hy(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):nt.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of Fm(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(o,c,d){const h=DT(o,c,d);return o.inclusive?h<=0:h<0})(r.startAt,Fm(r),i)||r.endAt&&!(function(o,c,d){const h=DT(o,c,d);return o.inclusive?h>=0:h>0})(r.endAt,Fm(r),i))})(t,e)}function sne(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function L5(t){return(e,n)=>{let r=!1;for(const i of Fm(t)){const a=ine(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function ine(t,e,n){const r=t.field.isKeyField()?nt.comparator(e.key,n.key):(function(a,o,c){const d=o.data.field(a),h=c.data.field(a);return d!==null&&h!==null?Bd(d,h):ot(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ot(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){$l(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return b5(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ane=new Cn(nt.comparator);function fo(){return ane}const F5=new Cn(nt.comparator);function Nm(...t){let e=F5;for(const n of t)e=e.insert(n.key,n);return e}function V5(t){let e=F5;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Sc(){return Vm()}function U5(){return Vm()}function Vm(){return new lu((t=>t.toString()),((t,e)=>t.isEqual(e)))}const one=new Cn(nt.comparator),lne=new rr(nt.comparator);function Dt(...t){let e=lne;for(const n of t)e=e.add(n);return e}const cne=new rr(Pt);function une(){return cne}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zx(e)?"-0":e}}function z5(t){return{integerValue:""+t}}function dne(t,e){return Fte(e)?z5(e):Q_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(){this._=void 0}}function hne(t,e,n){return t instanceof Hx?(function(i,a){const o={fields:{[_5]:{stringValue:j5},[S5]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&q_(a)&&(a=$y(a)),a&&(o.fields[N5]=a),{mapValue:o}})(n,e):t instanceof yf?$5(t,e):t instanceof vf?q5(t,e):(function(i,a){const o=B5(i,a),c=FT(o)+FT(i.Ae);return f1(o)&&f1(i.Ae)?z5(c):Q_(i.serializer,c)})(t,e)}function mne(t,e,n){return t instanceof yf?$5(t,e):t instanceof vf?q5(t,e):n}function B5(t,e){return t instanceof Wx?(function(r){return f1(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Hx extends Wy{}class yf extends Wy{constructor(e){super(),this.elements=e}}function $5(t,e){const n=H5(e);for(const r of t.elements)n.some((i=>ja(i,r)))||n.push(r);return{arrayValue:{values:n}}}class vf extends Wy{constructor(e){super(),this.elements=e}}function q5(t,e){let n=H5(e);for(const r of t.elements)n=n.filter((i=>!ja(i,r)));return{arrayValue:{values:n}}}class Wx extends Wy{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function FT(t){return Fn(t.integerValue||t.doubleValue)}function H5(t){return H_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function fne(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof yf&&i instanceof yf||r instanceof vf&&i instanceof vf?zd(r.elements,i.elements,ja):r instanceof Wx&&i instanceof Wx?ja(r.Ae,i.Ae):r instanceof Hx&&i instanceof Hx})(t.transform,e.transform)}class pne{constructor(e,n){this.version=e,this.transformResults=n}}class ni{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ni}static exists(e){return new ni(void 0,e)}static updateTime(e){return new ni(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ix(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}let Ky=class{};function W5(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Y_(t.key,ni.none()):new Qf(t.key,t.data,ni.none());{const n=t.data,r=us.empty();let i=new rr(vr.comparator);for(let a of e.fields)if(!i.has(a)){let o=n.field(a);o===null&&a.length>1&&(a=a.popLast(),o=n.field(a)),o===null?r.delete(a):r.set(a,o),i=i.add(a)}return new ql(t.key,r,new Ps(i.toArray()),ni.none())}}function gne(t,e,n){t instanceof Qf?(function(i,a,o){const c=i.value.clone(),d=UT(i.fieldTransforms,a,o.transformResults);c.setAll(d),a.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(t,e,n):t instanceof ql?(function(i,a,o){if(!ix(i.precondition,a))return void a.convertToUnknownDocument(o.version);const c=UT(i.fieldTransforms,a,o.transformResults),d=a.data;d.setAll(K5(i)),d.setAll(c),a.convertToFoundDocument(o.version,d).setHasCommittedMutations()})(t,e,n):(function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function Um(t,e,n,r){return t instanceof Qf?(function(a,o,c,d){if(!ix(a.precondition,o))return c;const h=a.value.clone(),m=zT(a.fieldTransforms,d,o);return h.setAll(m),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof ql?(function(a,o,c,d){if(!ix(a.precondition,o))return c;const h=zT(a.fieldTransforms,d,o),m=o.data;return m.setAll(K5(a)),m.setAll(h),o.convertToFoundDocument(o.version,m).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((f=>f.field)))})(t,e,n,r):(function(a,o,c){return ix(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c})(t,e,n)}function xne(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=B5(r.transform,i||null);a!=null&&(n===null&&(n=us.empty()),n.set(r.field,a))}return n||null}function VT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&zd(r,i,((a,o)=>fne(a,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Qf extends Ky{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ql extends Ky{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function K5(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function UT(t,e,n){const r=new Map;Xt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],o=a.transform,c=e.data.field(a.field);r.set(a.field,mne(o,c,n[i]))}return r}function zT(t,e,n){const r=new Map;for(const i of t){const a=i.transform,o=n.data.field(i.field);r.set(i.field,hne(a,o,e))}return r}class Y_ extends Ky{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yne extends Ky{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vne{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&gne(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Um(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Um(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=U5();return this.mutations.forEach((i=>{const a=e.get(i.key),o=a.overlayedDocument;let c=this.applyToLocalView(o,a.mutatedFields);c=n.has(i.key)?null:c;const d=W5(o,c);d!==null&&r.set(i.key,d),o.isValidDocument()||o.convertToNoDocument(pt.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Dt())}isEqual(e){return this.batchId===e.batchId&&zd(this.mutations,e.mutations,((n,r)=>VT(n,r)))&&zd(this.baseMutations,e.baseMutations,((n,r)=>VT(n,r)))}}class J_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Xt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return one})();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new J_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bne=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wne{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hn,Ft;function jne(t){switch(t){case xe.OK:return ot(64938);case xe.CANCELLED:case xe.UNKNOWN:case xe.DEADLINE_EXCEEDED:case xe.RESOURCE_EXHAUSTED:case xe.INTERNAL:case xe.UNAVAILABLE:case xe.UNAUTHENTICATED:return!1;case xe.INVALID_ARGUMENT:case xe.NOT_FOUND:case xe.ALREADY_EXISTS:case xe.PERMISSION_DENIED:case xe.FAILED_PRECONDITION:case xe.ABORTED:case xe.OUT_OF_RANGE:case xe.UNIMPLEMENTED:case xe.DATA_LOSS:return!0;default:return ot(15467,{code:t})}}function G5(t){if(t===void 0)return mo("GRPC error has no .code"),xe.UNKNOWN;switch(t){case Hn.OK:return xe.OK;case Hn.CANCELLED:return xe.CANCELLED;case Hn.UNKNOWN:return xe.UNKNOWN;case Hn.DEADLINE_EXCEEDED:return xe.DEADLINE_EXCEEDED;case Hn.RESOURCE_EXHAUSTED:return xe.RESOURCE_EXHAUSTED;case Hn.INTERNAL:return xe.INTERNAL;case Hn.UNAVAILABLE:return xe.UNAVAILABLE;case Hn.UNAUTHENTICATED:return xe.UNAUTHENTICATED;case Hn.INVALID_ARGUMENT:return xe.INVALID_ARGUMENT;case Hn.NOT_FOUND:return xe.NOT_FOUND;case Hn.ALREADY_EXISTS:return xe.ALREADY_EXISTS;case Hn.PERMISSION_DENIED:return xe.PERMISSION_DENIED;case Hn.FAILED_PRECONDITION:return xe.FAILED_PRECONDITION;case Hn.ABORTED:return xe.ABORTED;case Hn.OUT_OF_RANGE:return xe.OUT_OF_RANGE;case Hn.UNIMPLEMENTED:return xe.UNIMPLEMENTED;case Hn.DATA_LOSS:return xe.DATA_LOSS;default:return ot(39323,{code:t})}}(Ft=Hn||(Hn={}))[Ft.OK=0]="OK",Ft[Ft.CANCELLED=1]="CANCELLED",Ft[Ft.UNKNOWN=2]="UNKNOWN",Ft[Ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ft[Ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ft[Ft.NOT_FOUND=5]="NOT_FOUND",Ft[Ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ft[Ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ft[Ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ft[Ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ft[Ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ft[Ft.ABORTED=10]="ABORTED",Ft[Ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ft[Ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ft[Ft.INTERNAL=13]="INTERNAL",Ft[Ft.UNAVAILABLE=14]="UNAVAILABLE",Ft[Ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _ne(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nne=new yl([4294967295,4294967295],0);function BT(t){const e=_ne().encode(t),n=new u5;return n.update(e),new Uint8Array(n.digest())}function $T(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new yl([n,r],0),new yl([i,a],0)]}class X_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Sm(`Invalid padding: ${n}`);if(r<0)throw new Sm(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Sm(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Sm(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=yl.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(yl.fromNumber(r)));return i.compare(Nne)===1&&(i=new yl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=BT(e),[r,i]=$T(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new X_(a,i,n);return r.forEach((c=>o.insert(c))),o}insert(e){if(this.ge===0)return;const n=BT(e),[r,i]=$T(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Sm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Yf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Gy(pt.min(),i,new Cn(Pt),fo(),Dt())}}class Yf{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Yf(r,n,Dt(),Dt(),Dt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class Q5{constructor(e,n){this.targetId=e,this.Ce=n}}class Y5{constructor(e,n,r=br.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class qT{constructor(){this.ve=0,this.Fe=HT(),this.Me=br.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Dt(),n=Dt(),r=Dt();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ot(38017,{changeType:a})}})),new Yf(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=HT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Sne{constructor(e){this.Ge=e,this.ze=new Map,this.je=fo(),this.Je=Ag(),this.He=Ag(),this.Ye=new Cn(Pt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ot(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(g1(a))if(r===0){const o=new nt(a.path);this.et(n,o,Ir.newNoDocument(o,pt.min()))}else Xt(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const c=this.ut(e),d=c?this.ct(c,e,o):1;if(d!==0){this.it(n);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let o,c;try{o=Pl(r).toUint8Array()}catch(d){if(d instanceof w5)return hf("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new X_(o,i,a)}catch(d){return hf(d instanceof Sm?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const o=this.Ge.ht(),c=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,o)=>{const c=this.ot(o);if(c){if(a.current&&g1(c.target)){const d=new nt(c.target.path);this.It(d).has(o)||this.Et(o,d)||this.et(o,d,Ir.newNoDocument(d,e))}a.Be&&(n.set(o,a.ke()),a.qe())}}));let r=Dt();this.He.forEach(((a,o)=>{let c=!0;o.forEachWhile((d=>{const h=this.ot(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(a))})),this.je.forEach(((a,o)=>o.setReadTime(e)));const i=new Gy(e,n,this.Ye,this.je,r);return this.je=fo(),this.Je=Ag(),this.He=Ag(),this.Ye=new Cn(Pt),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new qT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new rr(Pt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new rr(Pt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Be("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new qT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ag(){return new Cn(nt.comparator)}function HT(){return new Cn(nt.comparator)}const Ene={asc:"ASCENDING",desc:"DESCENDING"},Cne={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kne={and:"AND",or:"OR"};class Tne{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function v1(t,e){return t.useProto3Json||By(e)?e:{value:e}}function Kx(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function J5(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Ane(t,e){return Kx(t,e.toTimestamp())}function fa(t){return Xt(!!t,49232),pt.fromTimestamp((function(n){const r=Rl(n);return new fn(r.seconds,r.nanos)})(t))}function Z_(t,e){return b1(t,e).canonicalString()}function b1(t,e){const n=(function(i){return new ln(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function X5(t){const e=ln.fromString(t);return Xt(r6(e),10190,{key:e.toString()}),e}function w1(t,e){return Z_(t.databaseId,e.path)}function Pb(t,e){const n=X5(e);if(n.get(1)!==t.databaseId.projectId)throw new Oe(xe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Oe(xe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new nt(e6(n))}function Z5(t,e){return Z_(t.databaseId,e)}function Ine(t){const e=X5(t);return e.length===4?ln.emptyPath():e6(e)}function j1(t){return new ln(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function e6(t){return Xt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function WT(t,e,n){return{name:w1(t,e),fields:n.value.mapValue.fields}}function Rne(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:ot(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(h,m){return h.useProto3Json?(Xt(m===void 0||typeof m=="string",58123),br.fromBase64String(m||"")):(Xt(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),br.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&(function(h){const m=h.code===void 0?xe.UNKNOWN:G5(h.code);return new Oe(m,h.message||"")})(o);n=new Y5(r,i,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Pb(t,r.document.name),a=fa(r.document.updateTime),o=r.document.createTime?fa(r.document.createTime):pt.min(),c=new us({mapValue:{fields:r.document.fields}}),d=Ir.newFoundDocument(i,a,o,c),h=r.targetIds||[],m=r.removedTargetIds||[];n=new ax(h,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Pb(t,r.document),a=r.readTime?fa(r.readTime):pt.min(),o=Ir.newNoDocument(i,a),c=r.removedTargetIds||[];n=new ax([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Pb(t,r.document),a=r.removedTargetIds||[];n=new ax([],a,i,null)}else{if(!("filter"in e))return ot(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,o=new wne(i,a),c=r.targetId;n=new Q5(c,o)}}return n}function Pne(t,e){let n;if(e instanceof Qf)n={update:WT(t,e.key,e.value)};else if(e instanceof Y_)n={delete:w1(t,e.key)};else if(e instanceof ql)n={update:WT(t,e.key,e.data),updateMask:Bne(e.fieldMask)};else{if(!(e instanceof yne))return ot(16599,{Vt:e.type});n={verify:w1(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,o){const c=o.transform;if(c instanceof Hx)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof yf)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof vf)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Wx)return{fieldPath:o.field.canonicalString(),increment:c.Ae};throw ot(20930,{transform:o.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:Ane(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ot(27497)})(t,e.precondition)),n}function Dne(t,e){return t&&t.length>0?(Xt(e!==void 0,14353),t.map((n=>(function(i,a){let o=i.updateTime?fa(i.updateTime):fa(a);return o.isEqual(pt.min())&&(o=fa(a)),new pne(o,i.transformResults||[])})(n,e)))):[]}function Mne(t,e){return{documents:[Z5(t,e.path)]}}function One(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Z5(t,i);const a=(function(h){if(h.length!==0)return n6(ki.create(h,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const o=(function(h){if(h.length!==0)return h.map((m=>(function(g){return{field:nd(g.field),direction:Vne(g.dir)}})(m)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const c=v1(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:i}}function Lne(t){let e=Ine(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Xt(r===1,65062);const m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let a=[];n.where&&(a=(function(f){const g=t6(f);return g instanceof ki&&I5(g)?g.getFilters():[g]})(n.where));let o=[];n.orderBy&&(o=(function(f){return f.map((g=>(function(N){return new xf(rd(N.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(g)))})(n.orderBy));let c=null;n.limit&&(c=(function(f){let g;return g=typeof f=="object"?f.value:f,By(g)?null:g})(n.limit));let d=null;n.startAt&&(d=(function(f){const g=!!f.before,x=f.values||[];return new qx(x,g)})(n.startAt));let h=null;return n.endAt&&(h=(function(f){const g=!f.before,x=f.values||[];return new qx(x,g)})(n.endAt)),nne(e,i,o,a,c,"F",d,h)}function Fne(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ot(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function t6(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=rd(n.unaryFilter.field);return Gn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=rd(n.unaryFilter.field);return Gn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=rd(n.unaryFilter.field);return Gn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=rd(n.unaryFilter.field);return Gn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ot(61313);default:return ot(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Gn.create(rd(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ot(58110);default:return ot(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ki.create(n.compositeFilter.filters.map((r=>t6(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ot(1026)}})(n.compositeFilter.op))})(t):ot(30097,{filter:t})}function Vne(t){return Ene[t]}function Une(t){return Cne[t]}function zne(t){return kne[t]}function nd(t){return{fieldPath:t.canonicalString()}}function rd(t){return vr.fromServerFormat(t.fieldPath)}function n6(t){return t instanceof Gn?(function(n){if(n.op==="=="){if(PT(n.value))return{unaryFilter:{field:nd(n.field),op:"IS_NAN"}};if(RT(n.value))return{unaryFilter:{field:nd(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(PT(n.value))return{unaryFilter:{field:nd(n.field),op:"IS_NOT_NAN"}};if(RT(n.value))return{unaryFilter:{field:nd(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nd(n.field),op:Une(n.op),value:n.value}}})(t):t instanceof ki?(function(n){const r=n.getFilters().map((i=>n6(i)));return r.length===1?r[0]:{compositeFilter:{op:zne(n.op),filters:r}}})(t):ot(54877,{filter:t})}function Bne(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function r6(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,n,r,i,a=pt.min(),o=pt.min(),c=br.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new fl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new fl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ne{constructor(e){this.yt=e}}function qne(t){const e=Lne({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?y1(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hne{constructor(){this.Cn=new Wne}addToCollectionParentIndex(e,n){return this.Cn.add(n),ve.resolve()}getCollectionParents(e,n){return ve.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ve.resolve()}deleteFieldIndex(e,n){return ve.resolve()}deleteAllFieldIndexes(e){return ve.resolve()}createTargetIndexes(e,n){return ve.resolve()}getDocumentsMatchingTarget(e,n){return ve.resolve(null)}getIndexType(e,n){return ve.resolve(0)}getFieldIndexes(e,n){return ve.resolve([])}getNextCollectionGroupToUpdate(e){return ve.resolve(null)}getMinOffset(e,n){return ve.resolve(Il.min())}getMinOffsetFromCollectionGroup(e,n){return ve.resolve(Il.min())}updateCollectionGroup(e,n,r){return ve.resolve()}updateIndexEntries(e,n){return ve.resolve()}}class Wne{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new rr(ln.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new rr(ln.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},s6=41943040;class cs{static withCacheSize(e){return new cs(e,cs.DEFAULT_COLLECTION_PERCENTILE,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cs.DEFAULT_COLLECTION_PERCENTILE=10,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cs.DEFAULT=new cs(s6,cs.DEFAULT_COLLECTION_PERCENTILE,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cs.DISABLED=new cs(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new qd(0)}static cr(){return new qd(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="LruGarbageCollector",i6=1048576;function QT([t,e],[n,r]){const i=Pt(t,n);return i===0?Pt(e,r):i}class Kne{constructor(e){this.Ir=e,this.buffer=new rr(QT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();QT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Gne{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Be(GT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){mh(n)?Be(GT,"Ignoring IndexedDB error during garbage collection: ",n):await hh(n)}await this.Vr(3e5)}))}}class Qne{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ve.resolve(zy.ce);const r=new Kne(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Be("LruGarbageCollector","Garbage collection skipped; disabled"),ve.resolve(KT)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Be("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),KT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,o,c,d,h;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((f=>(f>this.params.maximumSequenceNumbersToCollect?(Be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i)))).next((f=>(r=f,c=Date.now(),this.removeTargets(e,r,n)))).next((f=>(a=f,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((f=>(h=Date.now(),ed()<=It.DEBUG&&Be("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-m}ms
	Determined least recently used ${i} in `+(c-o)+`ms
	Removed ${a} targets in `+(d-c)+`ms
	Removed ${f} documents in `+(h-d)+`ms
Total Duration: ${h-m}ms`),ve.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:f}))))}}function Yne(t,e){return new Qne(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jne{constructor(){this.changes=new lu((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ir.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ve.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xne{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zne{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Um(r.mutation,i,Ps.empty(),fn.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Dt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Dt()){const i=Sc();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let o=Nm();return a.forEach(((c,d)=>{o=o.insert(c,d.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const r=Sc();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Dt())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((o,c)=>{n.set(o,c)}))}))}computeViews(e,n,r,i){let a=fo();const o=Vm(),c=(function(){return Vm()})();return n.forEach(((d,h)=>{const m=r.get(h.key);i.has(h.key)&&(m===void 0||m.mutation instanceof ql)?a=a.insert(h.key,h):m!==void 0?(o.set(h.key,m.mutation.getFieldMask()),Um(m.mutation,h,m.mutation.getFieldMask(),fn.now())):o.set(h.key,Ps.empty())})),this.recalculateAndSaveOverlays(e,a).next((d=>(d.forEach(((h,m)=>o.set(h,m))),n.forEach(((h,m)=>c.set(h,new Xne(m,o.get(h)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=Vm();let i=new Cn(((o,c)=>o-c)),a=Dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const c of o)c.keys().forEach((d=>{const h=n.get(d);if(h===null)return;let m=r.get(d)||Ps.empty();m=c.applyToLocalView(h,m),r.set(d,m);const f=(i.get(c.batchId)||Dt()).add(d);i=i.insert(c.batchId,f)}))})).next((()=>{const o=[],c=i.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),h=d.key,m=d.value,f=U5();m.forEach((g=>{if(!a.has(g)){const x=W5(n.get(g),r.get(g));x!==null&&f.set(g,x),a=a.add(g)}})),o.push(this.documentOverlayCache.saveOverlays(e,h,f))}return ve.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(o){return nt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):M5(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):ve.resolve(Sc());let c=mf,d=a;return o.next((h=>ve.forEach(h,((m,f)=>(c<f.largestBatchId&&(c=f.largestBatchId),a.get(m)?ve.resolve():this.remoteDocumentCache.getEntry(e,m).next((g=>{d=d.insert(m,g)}))))).next((()=>this.populateOverlays(e,h,a))).next((()=>this.computeViews(e,d,h,Dt()))).next((m=>({batchId:c,changes:V5(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new nt(n)).next((r=>{let i=Nm();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let o=Nm();return this.indexManager.getCollectionParents(e,a).next((c=>ve.forEach(c,(d=>{const h=(function(f,g){return new fh(g,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)})(n,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next((m=>{m.forEach(((f,g)=>{o=o.insert(f,g)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((o=>{a.forEach(((d,h)=>{const m=h.getKey();o.get(m)===null&&(o=o.insert(m,Ir.newInvalidDocument(m)))}));let c=Nm();return o.forEach(((d,h)=>{const m=a.get(d);m!==void 0&&Um(m.mutation,h,Ps.empty(),fn.now()),Hy(n,h)&&(c=c.insert(d,h))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ere{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ve.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:fa(i.createTime)}})(n)),ve.resolve()}getNamedQuery(e,n){return ve.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:qne(i.bundledQuery),readTime:fa(i.readTime)}})(n)),ve.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tre{constructor(){this.overlays=new Cn(nt.comparator),this.qr=new Map}getOverlay(e,n){return ve.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Sc();return ve.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.St(e,n,a)})),ve.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),ve.resolve()}getOverlaysForCollection(e,n,r){const i=Sc(),a=n.length+1,o=new nt(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const d=c.getNext().value,h=d.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===a&&d.largestBatchId>r&&i.set(d.getKey(),d)}return ve.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new Cn(((h,m)=>h-m));const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let m=a.get(h.largestBatchId);m===null&&(m=Sc(),a=a.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}const c=Sc(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((h,m)=>c.set(h,m))),!(c.size()>=i)););return ve.resolve(c)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new bne(n,r));let a=this.qr.get(n);a===void 0&&(a=Dt(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nre{constructor(){this.sessionToken=br.EMPTY_BYTE_STRING}getSessionToken(e){return ve.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ve.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(){this.Qr=new rr(ur.$r),this.Ur=new rr(ur.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new ur(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new ur(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new nt(new ln([])),r=new ur(n,e),i=new ur(n,e+1),a=[];return this.Ur.forEachInRange([r,i],(o=>{this.Gr(o),a.push(o.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new nt(new ln([])),r=new ur(n,e),i=new ur(n,e+1);let a=Dt();return this.Ur.forEachInRange([r,i],(o=>{a=a.add(o.key)})),a}containsKey(e){const n=new ur(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ur{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return nt.comparator(e.key,n.key)||Pt(e.Yr,n.Yr)}static Kr(e,n){return Pt(e.Yr,n.Yr)||nt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rre{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new rr(ur.$r)}checkEmpty(e){return ve.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new vne(a,n,r,i);this.mutationQueue.push(o);for(const c of i)this.Zr=this.Zr.add(new ur(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return ve.resolve(o)}lookupMutationBatch(e,n){return ve.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return ve.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ve.resolve(this.mutationQueue.length===0?$_:this.tr-1)}getAllMutationBatches(e){return ve.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ur(n,0),i=new ur(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(o=>{const c=this.Xr(o.Yr);a.push(c)})),ve.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new rr(Pt);return n.forEach((i=>{const a=new ur(i,0),o=new ur(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,o],(c=>{r=r.add(c.Yr)}))})),ve.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;nt.isDocumentKey(a)||(a=a.child(""));const o=new ur(new nt(a),0);let c=new rr(Pt);return this.Zr.forEachWhile((d=>{const h=d.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(c=c.add(d.Yr)),!0)}),o),ve.resolve(this.ti(c))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Xt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ve.forEach(n.mutations,(i=>{const a=new ur(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new ur(n,0),i=this.Zr.firstAfterOrEqual(r);return ve.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ve.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sre{constructor(e){this.ri=e,this.docs=(function(){return new Cn(nt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ve.resolve(r?r.document.mutableCopy():Ir.newInvalidDocument(n))}getEntries(e,n){let r=fo();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Ir.newInvalidDocument(i))})),ve.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=fo();const o=n.path,c=new nt(o.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:h,value:{document:m}}=d.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||Dte(Pte(m),r)<=0||(i.has(m.key)||Hy(n,m))&&(a=a.insert(m.key,m.mutableCopy()))}return ve.resolve(a)}getAllFromCollectionGroup(e,n,r,i){ot(9500)}ii(e,n){return ve.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new ire(this)}getSize(e){return ve.resolve(this.size)}}class ire extends Jne{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),ve.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class are{constructor(e){this.persistence=e,this.si=new lu((n=>W_(n)),K_),this.lastRemoteSnapshotVersion=pt.min(),this.highestTargetId=0,this.oi=0,this._i=new eN,this.targetCount=0,this.ai=qd.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),ve.resolve()}getLastRemoteSnapshotVersion(e){return ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ve.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ve.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ve.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new qd(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ve.resolve()}updateTargetData(e,n){return this.Pr(n),ve.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ve.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach(((o,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(o),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),ve.waitFor(a).next((()=>i))}getTargetCount(e){return ve.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ve.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ve.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((o=>{a.push(i.markPotentiallyOrphaned(e,o))})),ve.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ve.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ve.resolve(r)}containsKey(e,n){return ve.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(e,n){this.ui={},this.overlays={},this.ci=new zy(0),this.li=!1,this.li=!0,this.hi=new nre,this.referenceDelegate=e(this),this.Pi=new are(this),this.indexManager=new Hne,this.remoteDocumentCache=(function(i){return new sre(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new $ne(n),this.Ii=new ere(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new tre,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new rre(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Be("MemoryPersistence","Starting transaction:",e);const i=new ore(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,n){return ve.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class ore extends Ote{constructor(e){super(),this.currentSequenceNumber=e}}class tN{constructor(e){this.persistence=e,this.Ri=new eN,this.Vi=null}static mi(e){return new tN(e)}get fi(){if(this.Vi)return this.Vi;throw ot(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ve.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ve.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ve.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ve.forEach(this.fi,(r=>{const i=nt.fromPath(r);return this.gi(e,i).next((a=>{a||n.removeEntry(i,pt.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ve.or([()=>ve.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Gx{constructor(e,n){this.persistence=e,this.pi=new lu((r=>Vte(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=Yne(this,n)}static mi(e,n){return new Gx(e,n)}Ei(){}di(e){return ve.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ve.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?ve.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(o=>this.br(e,o,n).next((c=>{c||(r++,a.removeEntry(o,pt.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ve.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ve.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ve.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ve.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=rx(e.data.value)),n}br(e,n,r){return ve.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return ve.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Dt(),i=Dt();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new nN(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lre{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cre{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return LJ()?8:Lte(Dr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next((o=>{a.result=o})).next((()=>{if(!a.result)return this.ws(e,n,i,r).next((o=>{a.result=o}))})).next((()=>{if(a.result)return;const o=new lre;return this.Ss(e,n,o).next((c=>{if(a.result=c,this.Vs)return this.bs(e,n,o,c.size)}))})).next((()=>a.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(ed()<=It.DEBUG&&Be("QueryEngine","SDK will not create cache indexes for query:",td(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ve.resolve()):(ed()<=It.DEBUG&&Be("QueryEngine","Query:",td(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(ed()<=It.DEBUG&&Be("QueryEngine","The SDK decides to create cache indexes for query:",td(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ma(n))):ve.resolve())}ys(e,n){if(LT(n))return ve.resolve(null);let r=ma(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=y1(n,null,"F"),r=ma(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const o=Dt(...a);return this.ps.getDocuments(e,o).next((c=>this.indexManager.getMinOffset(e,r).next((d=>{const h=this.Ds(n,c);return this.Cs(n,h,o,d.readTime)?this.ys(e,y1(n,null,"F")):this.vs(e,h,n,d)}))))})))))}ws(e,n,r,i){return LT(n)||i.isEqual(pt.min())?ve.resolve(null):this.ps.getDocuments(e,r).next((a=>{const o=this.Ds(n,a);return this.Cs(n,o,r,i)?ve.resolve(null):(ed()<=It.DEBUG&&Be("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),td(n)),this.vs(e,o,n,Rte(i,mf)).next((c=>c)))}))}Ds(e,n){let r=new rr(L5(e));return n.forEach(((i,a)=>{Hy(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return ed()<=It.DEBUG&&Be("QueryEngine","Using full collection scan to execute query:",td(n)),this.ps.getDocumentsMatchingQuery(e,n,Il.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((o=>{a=a.insert(o.key,o)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN="LocalStore",ure=3e8;class dre{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Cn(Pt),this.xs=new lu((a=>W_(a)),K_),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Zne(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function hre(t,e,n,r){return new dre(t,e,n,r)}async function o6(t,e){const n=vt(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const o=[],c=[];let d=Dt();for(const h of i){o.push(h.batchId);for(const m of h.mutations)d=d.add(m.key)}for(const h of a){c.push(h.batchId);for(const m of h.mutations)d=d.add(m.key)}return n.localDocuments.getDocuments(r,d).next((h=>({Ls:h,removedBatchIds:o,addedBatchIds:c})))}))}))}function mre(t,e){const n=vt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,d,h,m){const f=h.batch,g=f.keys();let x=ve.resolve();return g.forEach((N=>{x=x.next((()=>m.getEntry(d,N))).next((w=>{const j=h.docVersions.get(N);Xt(j!==null,48541),w.version.compareTo(j)<0&&(f.applyToRemoteDocument(w,h),w.isValidDocument()&&(w.setReadTime(h.commitVersion),m.addEntry(w)))}))})),x.next((()=>c.mutationQueue.removeMutationBatch(d,f)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let d=Dt();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(d=d.add(c.batch.mutations[h].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function l6(t){const e=vt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function fre(t,e){const n=vt(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const c=[];e.targetChanges.forEach(((m,f)=>{const g=i.get(f);if(!g)return;c.push(n.Pi.removeMatchingKeys(a,m.removedDocuments,f).next((()=>n.Pi.addMatchingKeys(a,m.addedDocuments,f))));let x=g.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(f)!==null?x=x.withResumeToken(br.EMPTY_BYTE_STRING,pt.min()).withLastLimboFreeSnapshotVersion(pt.min()):m.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(m.resumeToken,r)),i=i.insert(f,x),(function(w,j,_){return w.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=ure?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0})(g,x,m)&&c.push(n.Pi.updateTargetData(a,x))}));let d=fo(),h=Dt();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(a,m))})),c.push(pre(a,o,e.documentUpdates).next((m=>{d=m.ks,h=m.qs}))),!r.isEqual(pt.min())){const m=n.Pi.getLastRemoteSnapshotVersion(a).next((f=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));c.push(m)}return ve.waitFor(c).next((()=>o.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,d,h))).next((()=>d))})).then((a=>(n.Ms=i,a)))}function pre(t,e,n){let r=Dt(),i=Dt();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let o=fo();return n.forEach(((c,d)=>{const h=a.get(c);d.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(c)),d.isNoDocument()&&d.version.isEqual(pt.min())?(e.removeEntry(c,d.readTime),o=o.insert(c,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),o=o.insert(c,d)):Be(rN,"Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",d.version)})),{ks:o,qs:i}}))}function gre(t,e){const n=vt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=$_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function xre(t,e){const n=vt(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((a=>a?(i=a,ve.resolve(i)):n.Pi.allocateTargetId(r).next((o=>(i=new fl(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function _1(t,e,n){const r=vt(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!mh(o))throw o;Be(rN,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function YT(t,e,n){const r=vt(t);let i=pt.min(),a=Dt();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(d,h,m){const f=vt(d),g=f.xs.get(m);return g!==void 0?ve.resolve(f.Ms.get(g)):f.Pi.getTargetData(h,m)})(r,o,ma(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,c.targetId).next((d=>{a=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:pt.min(),n?a:Dt()))).next((c=>(yre(r,sne(e),c),{documents:c,Qs:a})))))}function yre(t,e,n){let r=t.Os.get(e)||pt.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class JT{constructor(){this.activeTargetIds=une()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vre{constructor(){this.Mo=new JT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new JT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bre{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="ConnectivityMonitor";class ZT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Be(XT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Be(XT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ig=null;function N1(){return Ig===null?Ig=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ig++,"0x"+Ig.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db="RestConnection",wre={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jre{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Bx?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const o=N1(),c=this.zo(e,n.toUriEncodedString());Be(Db,`Sending RPC '${e}' ${o}:`,c,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,i,a);const{host:h}=new URL(c),m=zl(h);return this.Jo(e,c,d,r,m).then((f=>(Be(Db,`Received RPC '${e}' ${o}: `,f),f)),(f=>{throw hf(Db,`RPC '${e}' ${o} failed with error: `,f,"url: ",c,"request:",r),f}))}Ho(e,n,r,i,a,o){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+dh})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,n){const r=wre[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _re{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar="WebChannelConnection";class Nre extends jre{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const o=N1();return new Promise(((c,d)=>{const h=new d5;h.setWithCredentials(!0),h.listenOnce(h5.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case nx.NO_ERROR:const f=h.getResponseJson();Be(Ar,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),c(f);break;case nx.TIMEOUT:Be(Ar,`RPC '${e}' ${o} timed out`),d(new Oe(xe.DEADLINE_EXCEEDED,"Request time out"));break;case nx.HTTP_ERROR:const g=h.getStatus();if(Be(Ar,`RPC '${e}' ${o} failed with status:`,g,"response text:",h.getResponseText()),g>0){let x=h.getResponseJson();Array.isArray(x)&&(x=x[0]);const N=x==null?void 0:x.error;if(N&&N.status&&N.message){const w=(function(_){const E=_.toLowerCase().replace(/_/g,"-");return Object.values(xe).indexOf(E)>=0?E:xe.UNKNOWN})(N.status);d(new Oe(w,N.message))}else d(new Oe(xe.UNKNOWN,"Server responded with status "+h.getStatus()))}else d(new Oe(xe.UNAVAILABLE,"Connection failed."));break;default:ot(9055,{l_:e,streamId:o,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{Be(Ar,`RPC '${e}' ${o} completed.`)}}));const m=JSON.stringify(i);Be(Ar,`RPC '${e}' ${o} sending request:`,i),h.send(n,"POST",m,r,15)}))}T_(e,n,r){const i=N1(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=p5(),c=f5(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const m=a.join("");Be(Ar,`Creating RPC '${e}' stream ${i}: ${m}`,d);const f=o.createWebChannel(m,d);this.I_(f);let g=!1,x=!1;const N=new _re({Yo:j=>{x?Be(Ar,`Not sending because RPC '${e}' stream ${i} is closed:`,j):(g||(Be(Ar,`Opening RPC '${e}' stream ${i} transport.`),f.open(),g=!0),Be(Ar,`RPC '${e}' stream ${i} sending:`,j),f.send(j))},Zo:()=>f.close()}),w=(j,_,E)=>{j.listen(_,(k=>{try{E(k)}catch(C){setTimeout((()=>{throw C}),0)}}))};return w(f,_m.EventType.OPEN,(()=>{x||(Be(Ar,`RPC '${e}' stream ${i} transport opened.`),N.o_())})),w(f,_m.EventType.CLOSE,(()=>{x||(x=!0,Be(Ar,`RPC '${e}' stream ${i} transport closed`),N.a_(),this.E_(f))})),w(f,_m.EventType.ERROR,(j=>{x||(x=!0,hf(Ar,`RPC '${e}' stream ${i} transport errored. Name:`,j.name,"Message:",j.message),N.a_(new Oe(xe.UNAVAILABLE,"The operation could not be completed")))})),w(f,_m.EventType.MESSAGE,(j=>{var _;if(!x){const E=j.data[0];Xt(!!E,16349);const k=E,C=(k==null?void 0:k.error)||((_=k[0])==null?void 0:_.error);if(C){Be(Ar,`RPC '${e}' stream ${i} received error:`,C);const R=C.status;let F=(function(I){const L=Hn[I];if(L!==void 0)return G5(L)})(R),M=C.message;F===void 0&&(F=xe.INTERNAL,M="Unknown error status: "+R+" with message "+C.message),x=!0,N.a_(new Oe(F,M)),f.close()}else Be(Ar,`RPC '${e}' stream ${i} received:`,E),N.u_(E)}})),w(c,m5.STAT_EVENT,(j=>{j.stat===d1.PROXY?Be(Ar,`RPC '${e}' stream ${i} detected buffering proxy`):j.stat===d1.NOPROXY&&Be(Ar,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{N.__()}),0),N}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Mb(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qy(t){return new Tne(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Be("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA="PersistentStream";class u6{constructor(e,n,r,i,a,o,c,d){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new c6(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===xe.RESOURCE_EXHAUSTED?(mo(n.toString()),mo("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===xe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Oe(xe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Be(eA,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Be(eA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Sre extends u6{constructor(e,n,r,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Rne(this.serializer,e),r=(function(a){if(!("targetChange"in a))return pt.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?pt.min():o.readTime?fa(o.readTime):pt.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=j1(this.serializer),n.addTarget=(function(a,o){let c;const d=o.target;if(c=g1(d)?{documents:Mne(a,d)}:{query:One(a,d).ft},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=J5(a,o.resumeToken);const h=v1(a,o.expectedCount);h!==null&&(c.expectedCount=h)}else if(o.snapshotVersion.compareTo(pt.min())>0){c.readTime=Kx(a,o.snapshotVersion.toTimestamp());const h=v1(a,o.expectedCount);h!==null&&(c.expectedCount=h)}return c})(this.serializer,e);const r=Fne(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=j1(this.serializer),n.removeTarget=e,this.q_(n)}}class Ere extends u6{constructor(e,n,r,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Xt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Dne(e.writeResults,e.commitTime),r=fa(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=j1(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Pne(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cre{}class kre extends Cre{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Oe(xe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Go(e,b1(n,r),i,a,o))).catch((a=>{throw a.name==="FirebaseError"?(a.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Oe(xe.UNKNOWN,a.toString())}))}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Ho(e,b1(n,r),i,o,c,a))).catch((o=>{throw o.name==="FirebaseError"?(o.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Oe(xe.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Tre{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(mo(n),this.aa=!1):Be("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qc="RemoteStore";class Are{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{cu(this)&&(Be(Qc,"Restarting streams for network reachability change."),await(async function(d){const h=vt(d);h.Ea.add(4),await Jf(h),h.Ra.set("Unknown"),h.Ea.delete(4),await Yy(h)})(this))}))})),this.Ra=new Tre(r,i)}}async function Yy(t){if(cu(t))for(const e of t.da)await e(!0)}async function Jf(t){for(const e of t.da)await e(!1)}function d6(t,e){const n=vt(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),oN(n)?aN(n):ph(n).O_()&&iN(n,e))}function sN(t,e){const n=vt(t),r=ph(n);n.Ia.delete(e),r.O_()&&h6(n,e),n.Ia.size===0&&(r.O_()?r.L_():cu(n)&&n.Ra.set("Unknown"))}function iN(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ph(t).Y_(e)}function h6(t,e){t.Va.Ue(e),ph(t).Z_(e)}function aN(t){t.Va=new Sne({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ph(t).start(),t.Ra.ua()}function oN(t){return cu(t)&&!ph(t).x_()&&t.Ia.size>0}function cu(t){return vt(t).Ea.size===0}function m6(t){t.Va=void 0}async function Ire(t){t.Ra.set("Online")}async function Rre(t){t.Ia.forEach(((e,n)=>{iN(t,e)}))}async function Pre(t,e){m6(t),oN(t)?(t.Ra.ha(e),aN(t)):t.Ra.set("Unknown")}async function Dre(t,e,n){if(t.Ra.set("Online"),e instanceof Y5&&e.state===2&&e.cause)try{await(async function(i,a){const o=a.cause;for(const c of a.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,o),i.Ia.delete(c),i.Va.removeTarget(c))})(t,e)}catch(r){Be(Qc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Qx(t,r)}else if(e instanceof ax?t.Va.Ze(e):e instanceof Q5?t.Va.st(e):t.Va.tt(e),!n.isEqual(pt.min()))try{const r=await l6(t.localStore);n.compareTo(r)>=0&&await(function(a,o){const c=a.Va.Tt(o);return c.targetChanges.forEach(((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const m=a.Ia.get(h);m&&a.Ia.set(h,m.withResumeToken(d.resumeToken,o))}})),c.targetMismatches.forEach(((d,h)=>{const m=a.Ia.get(d);if(!m)return;a.Ia.set(d,m.withResumeToken(br.EMPTY_BYTE_STRING,m.snapshotVersion)),h6(a,d);const f=new fl(m.target,d,h,m.sequenceNumber);iN(a,f)})),a.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){Be(Qc,"Failed to raise snapshot:",r),await Qx(t,r)}}async function Qx(t,e,n){if(!mh(e))throw e;t.Ea.add(1),await Jf(t),t.Ra.set("Offline"),n||(n=()=>l6(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Be(Qc,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Yy(t)}))}function f6(t,e){return e().catch((n=>Qx(t,n,e)))}async function Jy(t){const e=vt(t),n=Ml(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:$_;for(;Mre(e);)try{const i=await gre(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,Ore(e,i)}catch(i){await Qx(e,i)}p6(e)&&g6(e)}function Mre(t){return cu(t)&&t.Ta.length<10}function Ore(t,e){t.Ta.push(e);const n=Ml(t);n.O_()&&n.X_&&n.ea(e.mutations)}function p6(t){return cu(t)&&!Ml(t).x_()&&t.Ta.length>0}function g6(t){Ml(t).start()}async function Lre(t){Ml(t).ra()}async function Fre(t){const e=Ml(t);for(const n of t.Ta)e.ea(n.mutations)}async function Vre(t,e,n){const r=t.Ta.shift(),i=J_.from(r,e,n);await f6(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Jy(t)}async function Ure(t,e){e&&Ml(t).X_&&await(async function(r,i){if((function(o){return jne(o)&&o!==xe.ABORTED})(i.code)){const a=r.Ta.shift();Ml(r).B_(),await f6(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await Jy(r)}})(t,e),p6(t)&&g6(t)}async function tA(t,e){const n=vt(t);n.asyncQueue.verifyOperationInProgress(),Be(Qc,"RemoteStore received new credentials");const r=cu(n);n.Ea.add(3),await Jf(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Yy(n)}async function zre(t,e){const n=vt(t);e?(n.Ea.delete(2),await Yy(n)):e||(n.Ea.add(2),await Jf(n),n.Ra.set("Unknown"))}function ph(t){return t.ma||(t.ma=(function(n,r,i){const a=vt(n);return a.sa(),new Sre(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:Ire.bind(null,t),t_:Rre.bind(null,t),r_:Pre.bind(null,t),H_:Dre.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),oN(t)?aN(t):t.Ra.set("Unknown")):(await t.ma.stop(),m6(t))}))),t.ma}function Ml(t){return t.fa||(t.fa=(function(n,r,i){const a=vt(n);return a.sa(),new Ere(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Lre.bind(null,t),r_:Ure.bind(null,t),ta:Fre.bind(null,t),na:Vre.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Jy(t)):(await t.fa.stop(),t.Ta.length>0&&(Be(Qc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new no,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const o=Date.now()+r,c=new lN(e,n,o,i,a);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Oe(xe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cN(t,e){if(mo("AsyncQueue",`${e}: ${t}`),mh(t))return new Oe(xe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{static emptySet(e){return new yd(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||nt.comparator(n.key,r.key):(n,r)=>nt.comparator(n.key,r.key),this.keyedMap=Nm(),this.sortedSet=new Cn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof yd)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new yd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(){this.ga=new Cn(nt.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ot(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Hd{constructor(e,n,r,i,a,o,c,d,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,a){const o=[];return n.forEach((c=>{o.push({type:0,doc:c})})),new Hd(e,n,yd.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bre{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class $re{constructor(){this.queries=rA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=vt(n),a=i.queries;i.queries=rA(),a.forEach(((o,c)=>{for(const d of c.Sa)d.onError(r)}))})(this,new Oe(xe.ABORTED,"Firestore shutting down"))}}function rA(){return new lu((t=>O5(t)),qy)}async function x6(t,e){const n=vt(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new Bre,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const c=cN(o,`Initialization of query '${td(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&uN(n)}async function y6(t,e){const n=vt(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const o=a.Sa.indexOf(e);o>=0&&(a.Sa.splice(o,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function qre(t,e){const n=vt(t);let r=!1;for(const i of e){const a=i.query,o=n.queries.get(a);if(o){for(const c of o.Sa)c.Fa(i)&&(r=!0);o.wa=i}}r&&uN(n)}function Hre(t,e,n){const r=vt(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function uN(t){t.Ca.forEach((e=>{e.next()}))}var S1,sA;(sA=S1||(S1={})).Ma="default",sA.Cache="cache";class v6{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Hd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Hd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==S1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(e){this.key=e}}class w6{constructor(e){this.key=e}}class Wre{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Dt(),this.mutatedKeys=Dt(),this.eu=L5(e),this.tu=new yd(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new nA,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,o=i,c=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((m,f)=>{const g=i.get(m),x=Hy(this.query,f)?f:null,N=!!g&&this.mutatedKeys.has(g.key),w=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let j=!1;g&&x?g.data.isEqual(x.data)?N!==w&&(r.track({type:3,doc:x}),j=!0):this.su(g,x)||(r.track({type:2,doc:x}),j=!0,(d&&this.eu(x,d)>0||h&&this.eu(x,h)<0)&&(c=!0)):!g&&x?(r.track({type:0,doc:x}),j=!0):g&&!x&&(r.track({type:1,doc:g}),j=!0,(d||h)&&(c=!0)),j&&(x?(o=o.add(x),a=w?a.add(m):a.delete(m)):(o=o.delete(m),a=a.delete(m)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const m=this.query.limitType==="F"?o.last():o.first();o=o.delete(m.key),a=a.delete(m.key),r.track({type:1,doc:m})}return{tu:o,iu:r,Cs:c,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((m,f)=>(function(x,N){const w=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ot(20277,{Rt:j})}};return w(x)-w(N)})(m.type,f.type)||this.eu(m.doc,f.doc))),this.ou(r),i=i??!1;const c=n&&!i?this._u():[],d=this.Xa.size===0&&this.current&&!i?1:0,h=d!==this.Za;return this.Za=d,o.length!==0||h?{snapshot:new Hd(this.query,e.tu,a,o,e.mutatedKeys,d===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new nA,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Dt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new w6(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new b6(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Dt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Hd.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const dN="SyncEngine";class Kre{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Gre{constructor(e){this.key=e,this.hu=!1}}class Qre{constructor(e,n,r,i,a,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new lu((c=>O5(c)),qy),this.Iu=new Map,this.Eu=new Set,this.du=new Cn(nt.comparator),this.Au=new Map,this.Ru=new eN,this.Vu={},this.mu=new Map,this.fu=qd.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Yre(t,e,n=!0){const r=C6(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await j6(r,e,n,!0),i}async function Jre(t,e){const n=C6(t);await j6(n,e,!0,!1)}async function j6(t,e,n,r){const i=await xre(t.localStore,ma(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,n);let c;return r&&(c=await Xre(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&d6(t.remoteStore,i),c}async function Xre(t,e,n,r,i){t.pu=(f,g,x)=>(async function(w,j,_,E){let k=j.view.ru(_);k.Cs&&(k=await YT(w.localStore,j.query,!1).then((({documents:M})=>j.view.ru(M,k))));const C=E&&E.targetChanges.get(j.targetId),R=E&&E.targetMismatches.get(j.targetId)!=null,F=j.view.applyChanges(k,w.isPrimaryClient,C,R);return aA(w,j.targetId,F.au),F.snapshot})(t,f,g,x);const a=await YT(t.localStore,e,!0),o=new Wre(e,a.Qs),c=o.ru(a.documents),d=Yf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=o.applyChanges(c,t.isPrimaryClient,d);aA(t,n,h.au);const m=new Kre(e,n,o);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function Zre(t,e,n){const r=vt(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((o=>!qy(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await _1(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&sN(r.remoteStore,i.targetId),E1(r,i.targetId)})).catch(hh)):(E1(r,i.targetId),await _1(r.localStore,i.targetId,!0))}async function ese(t,e){const n=vt(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),sN(n.remoteStore,r.targetId))}async function tse(t,e,n){const r=lse(t);try{const i=await(function(o,c){const d=vt(o),h=fn.now(),m=c.reduce(((x,N)=>x.add(N.key)),Dt());let f,g;return d.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let N=fo(),w=Dt();return d.Ns.getEntries(x,m).next((j=>{N=j,N.forEach(((_,E)=>{E.isValidDocument()||(w=w.add(_))}))})).next((()=>d.localDocuments.getOverlayedDocuments(x,N))).next((j=>{f=j;const _=[];for(const E of c){const k=xne(E,f.get(E.key).overlayedDocument);k!=null&&_.push(new ql(E.key,k,k5(k.value.mapValue),ni.exists(!0)))}return d.mutationQueue.addMutationBatch(x,h,_,c)})).next((j=>{g=j;const _=j.applyToLocalDocumentSet(f,w);return d.documentOverlayCache.saveOverlays(x,j.batchId,_)}))})).then((()=>({batchId:g.batchId,changes:V5(f)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(o,c,d){let h=o.Vu[o.currentUser.toKey()];h||(h=new Cn(Pt)),h=h.insert(c,d),o.Vu[o.currentUser.toKey()]=h})(r,i.batchId,n),await Xf(r,i.changes),await Jy(r.remoteStore)}catch(i){const a=cN(i,"Failed to persist write");n.reject(a)}}async function _6(t,e){const n=vt(t);try{const r=await fre(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const o=n.Au.get(a);o&&(Xt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Xt(o.hu,14607):i.removedDocuments.size>0&&(Xt(o.hu,42227),o.hu=!1))})),await Xf(n,r,e)}catch(r){await hh(r)}}function iA(t,e,n){const r=vt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,o)=>{const c=o.view.va(e);c.snapshot&&i.push(c.snapshot)})),(function(o,c){const d=vt(o);d.onlineState=c;let h=!1;d.queries.forEach(((m,f)=>{for(const g of f.Sa)g.va(c)&&(h=!0)})),h&&uN(d)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function nse(t,e,n){const r=vt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let o=new Cn(nt.comparator);o=o.insert(a,Ir.newNoDocument(a,pt.min()));const c=Dt().add(a),d=new Gy(pt.min(),new Map,new Cn(Pt),o,c);await _6(r,d),r.du=r.du.remove(a),r.Au.delete(e),hN(r)}else await _1(r.localStore,e,!1).then((()=>E1(r,e,n))).catch(hh)}async function rse(t,e){const n=vt(t),r=e.batch.batchId;try{const i=await mre(n.localStore,e);S6(n,r,null),N6(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Xf(n,i)}catch(i){await hh(i)}}async function sse(t,e,n){const r=vt(t);try{const i=await(function(o,c){const d=vt(o);return d.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let m;return d.mutationQueue.lookupMutationBatch(h,c).next((f=>(Xt(f!==null,37113),m=f.keys(),d.mutationQueue.removeMutationBatch(h,f)))).next((()=>d.mutationQueue.performConsistencyCheck(h))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(h,m,c))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m))).next((()=>d.localDocuments.getDocuments(h,m)))}))})(r.localStore,e);S6(r,e,n),N6(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Xf(r,i)}catch(i){await hh(i)}}function N6(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function S6(t,e,n){const r=vt(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function E1(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||E6(t,r)}))}function E6(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(sN(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),hN(t))}function aA(t,e,n){for(const r of n)r instanceof b6?(t.Ru.addReference(r.key,e),ise(t,r)):r instanceof w6?(Be(dN,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||E6(t,r.key)):ot(19791,{wu:r})}function ise(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Be(dN,"New document in limbo: "+n),t.Eu.add(r),hN(t))}function hN(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new nt(ln.fromString(e)),r=t.fu.next();t.Au.set(r,new Gre(n)),t.du=t.du.insert(n,r),d6(t.remoteStore,new fl(ma(G_(n.path)),r,"TargetPurposeLimboResolution",zy.ce))}}async function Xf(t,e,n){const r=vt(t),i=[],a=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,d)=>{o.push(r.pu(d,e,n).then((h=>{var m;if((h||n)&&r.isPrimaryClient){const f=h?!h.fromCache:(m=n==null?void 0:n.targetChanges.get(d.targetId))==null?void 0:m.current;r.sharedClientState.updateQueryState(d.targetId,f?"current":"not-current")}if(h){i.push(h);const f=nN.As(d.targetId,h);a.push(f)}})))})),await Promise.all(o),r.Pu.H_(i),await(async function(d,h){const m=vt(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(f=>ve.forEach(h,(g=>ve.forEach(g.Es,(x=>m.persistence.referenceDelegate.addReference(f,g.targetId,x))).next((()=>ve.forEach(g.ds,(x=>m.persistence.referenceDelegate.removeReference(f,g.targetId,x)))))))))}catch(f){if(!mh(f))throw f;Be(rN,"Failed to update sequence numbers: "+f)}for(const f of h){const g=f.targetId;if(!f.fromCache){const x=m.Ms.get(g),N=x.snapshotVersion,w=x.withLastLimboFreeSnapshotVersion(N);m.Ms=m.Ms.insert(g,w)}}})(r.localStore,a))}async function ase(t,e){const n=vt(t);if(!n.currentUser.isEqual(e)){Be(dN,"User change. New user:",e.toKey());const r=await o6(n.localStore,e);n.currentUser=e,(function(a,o){a.mu.forEach((c=>{c.forEach((d=>{d.reject(new Oe(xe.CANCELLED,o))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Xf(n,r.Ls)}}function ose(t,e){const n=vt(t),r=n.Au.get(e);if(r&&r.hu)return Dt().add(r.key);{let i=Dt();const a=n.Iu.get(e);if(!a)return i;for(const o of a){const c=n.Tu.get(o);i=i.unionWith(c.view.nu)}return i}}function C6(t){const e=vt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=_6.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ose.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nse.bind(null,e),e.Pu.H_=qre.bind(null,e.eventManager),e.Pu.yu=Hre.bind(null,e.eventManager),e}function lse(t){const e=vt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rse.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sse.bind(null,e),e}class Yx{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qy(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return hre(this.persistence,new cre,e.initialUser,this.serializer)}Cu(e){return new a6(tN.mi,this.serializer)}Du(e){return new vre}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yx.provider={build:()=>new Yx};class cse extends Yx{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Xt(this.persistence.referenceDelegate instanceof Gx,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Gne(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?cs.withCacheSize(this.cacheSizeBytes):cs.DEFAULT;return new a6((r=>Gx.mi(r,n)),this.serializer)}}class C1{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>iA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ase.bind(null,this.syncEngine),await zre(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new $re})()}createDatastore(e){const n=Qy(e.databaseInfo.databaseId),r=(function(a){return new Nre(a)})(e.databaseInfo);return(function(a,o,c,d){return new kre(a,o,c,d)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,o,c){return new Are(r,i,a,o,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>iA(this.syncEngine,n,0)),(function(){return ZT.v()?new ZT:new bre})())}createSyncEngine(e,n){return(function(i,a,o,c,d,h,m){const f=new Qre(i,a,o,c,d,h);return m&&(f.gu=!0),f})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const a=vt(i);Be(Qc,"RemoteStore shutting down."),a.Ea.add(5),await Jf(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}C1.provider={build:()=>new C1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):mo("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ol="FirestoreClient";class use{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ls.UNAUTHENTICATED,this.clientId=B_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async o=>{Be(Ol,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(Be(Ol,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new no;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=cN(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Ob(t,e){t.asyncQueue.verifyOperationInProgress(),Be(Ol,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await o6(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function oA(t,e){t.asyncQueue.verifyOperationInProgress();const n=await dse(t);Be(Ol,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>tA(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>tA(e.remoteStore,i))),t._onlineComponents=e}async function dse(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Be(Ol,"Using user provided OfflineComponentProvider");try{await Ob(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===xe.FAILED_PRECONDITION||i.code===xe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;hf("Error using user provided cache. Falling back to memory cache: "+n),await Ob(t,new Yx)}}else Be(Ol,"Using default OfflineComponentProvider"),await Ob(t,new cse(void 0));return t._offlineComponents}async function T6(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Be(Ol,"Using user provided OnlineComponentProvider"),await oA(t,t._uninitializedComponentsProvider._online)):(Be(Ol,"Using default OnlineComponentProvider"),await oA(t,new C1))),t._onlineComponents}function hse(t){return T6(t).then((e=>e.syncEngine))}async function A6(t){const e=await T6(t),n=e.eventManager;return n.onListen=Yre.bind(null,e.syncEngine),n.onUnlisten=Zre.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Jre.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ese.bind(null,e.syncEngine),n}function mse(t,e,n={}){const r=new no;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,c,d,h){const m=new k6({next:g=>{m.Nu(),o.enqueueAndForget((()=>y6(a,f)));const x=g.docs.has(c);!x&&g.fromCache?h.reject(new Oe(xe.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&g.fromCache&&d&&d.source==="server"?h.reject(new Oe(xe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(g)},error:g=>h.reject(g)}),f=new v6(G_(c.path),m,{includeMetadataChanges:!0,qa:!0});return x6(a,f)})(await A6(t),t.asyncQueue,e,n,r))),r.promise}function fse(t,e,n={}){const r=new no;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,c,d,h){const m=new k6({next:g=>{m.Nu(),o.enqueueAndForget((()=>y6(a,f))),g.fromCache&&d.source==="server"?h.reject(new Oe(xe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(g)},error:g=>h.reject(g)}),f=new v6(c,m,{includeMetadataChanges:!0,qa:!0});return x6(a,f)})(await A6(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I6(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pse="firestore.googleapis.com",cA=!0;class uA{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Oe(xe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pse,this.ssl=cA}else this.host=e.host,this.ssl=e.ssl??cA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=s6;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<i6)throw new Oe(xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ite("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=I6(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Oe(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Oe(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Oe(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mN{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Oe(xe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Oe(xe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uA(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new jte;switch(r.type){case"firstParty":return new Ste(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Oe(xe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=lA.get(n);r&&(Be("ComponentProvider","Removing Datastore"),lA.delete(n),r.terminate())})(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zf=class R6{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new R6(this.firestore,e,this._query)}};class Vn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vn(this.firestore,e,this._key)}toJSON(){return{type:Vn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Gf(n,Vn._jsonSchema))return new Vn(e,r||null,new nt(ln.fromString(n.referencePath)))}}Vn._jsonSchemaVersion="firestore/documentReference/1.0",Vn._jsonSchema={type:Qn("string",Vn._jsonSchemaVersion),referencePath:Qn("string")};class vl extends Zf{constructor(e,n,r){super(e,n,G_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vn(this.firestore,null,new nt(e))}withConverter(e){return new vl(this.firestore,e,this._path)}}function Wd(t,e,...n){if(t=En(t),x5("collection","path",e),t instanceof mN){const r=ln.fromString(e,...n);return _T(r),new vl(t,null,r)}{if(!(t instanceof Vn||t instanceof vl))throw new Oe(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ln.fromString(e,...n));return _T(r),new vl(t.firestore,null,r)}}function Yc(t,e,...n){if(t=En(t),arguments.length===1&&(e=B_.newId()),x5("doc","path",e),t instanceof mN){const r=ln.fromString(e,...n);return jT(r),new Vn(t,null,new nt(r))}{if(!(t instanceof Vn||t instanceof vl))throw new Oe(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ln.fromString(e,...n));return jT(r),new Vn(t.firestore,t instanceof vl?t.converter:null,new nt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA="AsyncQueue";class hA{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new c6(this,"async_queue_retry"),this._c=()=>{const r=Mb();r&&Be(dA,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Mb();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Mb();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new no;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!mh(e))throw e;Be(dA,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,mo("INTERNAL UNHANDLED ERROR: ",mA(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=lN.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&ot(47125,{Pc:mA(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function mA(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class uu extends mN{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new hA,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new hA(e),this._firestoreClient=void 0,await e}}}function gse(t,e,n){n||(n=Bx);const r=Oy(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),a=r.getOptions(n);if(Hc(a,e))return i;throw new Oe(xe.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new Oe(xe.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<i6)throw new Oe(xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&zl(e.host)&&T_(e.host),r.initialize({options:e,instanceIdentifier:n})}function fN(t){if(t._terminated)throw new Oe(xe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||xse(t),t._firestoreClient}function xse(t){var r,i,a;const e=t._freezeSettings(),n=(function(c,d,h,m){return new Bte(c,d,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,I6(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new use(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(c){const d=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(d),_online:d}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xs(br.fromBase64String(e))}catch(n){throw new Oe(xe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xs(br.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Xs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Gf(e,Xs._jsonSchema))return Xs.fromBase64String(e.bytes)}}Xs._jsonSchemaVersion="firestore/bytes/1.0",Xs._jsonSchema={type:Qn("string",Xs._jsonSchemaVersion),bytes:Qn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Oe(xe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Oe(xe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Oe(xe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pt(this._lat,e._lat)||Pt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:pa._jsonSchemaVersion}}static fromJSON(e){if(Gf(e,pa._jsonSchema))return new pa(e.latitude,e.longitude)}}pa._jsonSchemaVersion="firestore/geoPoint/1.0",pa._jsonSchema={type:Qn("string",pa._jsonSchemaVersion),latitude:Qn("number"),longitude:Qn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ga._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Gf(e,ga._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ga(e.vectorValues);throw new Oe(xe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ga._jsonSchemaVersion="firestore/vectorValue/1.0",ga._jsonSchema={type:Qn("string",ga._jsonSchemaVersion),vectorValues:Qn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yse=/^__.*__$/;class vse{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ql(e,this.data,this.fieldMask,n,this.fieldTransforms):new Qf(e,this.data,n,this.fieldTransforms)}}class P6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ql(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function D6(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ot(40011,{Ac:t})}}class gN{constructor(e,n,r,i,a,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new gN({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Jx(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(D6(this.Ac)&&yse.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class bse{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Qy(e)}Cc(e,n,r,i=!1){return new gN({Ac:e,methodName:n,Dc:r,path:vr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zy(t){const e=t._freezeSettings(),n=Qy(t._databaseId);return new bse(t._databaseId,!!e.ignoreUndefinedProperties,n)}function M6(t,e,n,r,i,a={}){const o=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);xN("Data must be an object, but it was:",o,r);const c=O6(r,o);let d,h;if(a.merge)d=new Ps(o.fieldMask),h=o.fieldTransforms;else if(a.mergeFields){const m=[];for(const f of a.mergeFields){const g=k1(e,f,n);if(!o.contains(g))throw new Oe(xe.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);F6(m,g)||m.push(g)}d=new Ps(m),h=o.fieldTransforms.filter((f=>d.covers(f.field)))}else d=null,h=o.fieldTransforms;return new vse(new us(c),d,h)}class e0 extends pN{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof e0}}function wse(t,e,n,r){const i=t.Cc(1,e,n);xN("Data must be an object, but it was:",i,r);const a=[],o=us.empty();$l(r,((d,h)=>{const m=yN(e,d,n);h=En(h);const f=i.yc(m);if(h instanceof e0)a.push(m);else{const g=ep(h,f);g!=null&&(a.push(m),o.set(m,g))}}));const c=new Ps(a);return new P6(o,c,i.fieldTransforms)}function jse(t,e,n,r,i,a){const o=t.Cc(1,e,n),c=[k1(e,r,n)],d=[i];if(a.length%2!=0)throw new Oe(xe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<a.length;g+=2)c.push(k1(e,a[g])),d.push(a[g+1]);const h=[],m=us.empty();for(let g=c.length-1;g>=0;--g)if(!F6(h,c[g])){const x=c[g];let N=d[g];N=En(N);const w=o.yc(x);if(N instanceof e0)h.push(x);else{const j=ep(N,w);j!=null&&(h.push(x),m.set(x,j))}}const f=new Ps(h);return new P6(m,f,o.fieldTransforms)}function _se(t,e,n,r=!1){return ep(n,t.Cc(r?4:3,e))}function ep(t,e){if(L6(t=En(t)))return xN("Unsupported field value:",e,t),O6(t,e);if(t instanceof pN)return(function(r,i){if(!D6(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let o=0;for(const c of r){let d=ep(c,i.wc(o));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),o++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=En(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return dne(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=fn.fromDate(r);return{timestampValue:Kx(i.serializer,a)}}if(r instanceof fn){const a=new fn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Kx(i.serializer,a)}}if(r instanceof pa)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Xs)return{bytesValue:J5(i.serializer,r._byteString)};if(r instanceof Vn){const a=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(a))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Z_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ga)return(function(o,c){return{mapValue:{fields:{[E5]:{stringValue:C5},[$x]:{arrayValue:{values:o.toArray().map((h=>{if(typeof h!="number")throw c.Sc("VectorValues must only contain numeric values.");return Q_(c.serializer,h)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Uy(r)}`)})(t,e)}function O6(t,e){const n={};return b5(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$l(t,((r,i)=>{const a=ep(i,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function L6(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof fn||t instanceof pa||t instanceof Xs||t instanceof Vn||t instanceof pN||t instanceof ga)}function xN(t,e,n){if(!L6(n)||!y5(n)){const r=Uy(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function k1(t,e,n){if((e=En(e))instanceof Xy)return e._internalPath;if(typeof e=="string")return yN(t,e);throw Jx("Field path arguments must be of type string or ",t,!1,void 0,n)}const Nse=new RegExp("[~\\*/\\[\\]]");function yN(t,e,n){if(e.search(Nse)>=0)throw Jx(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Xy(...e.split("."))._internalPath}catch{throw Jx(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Jx(t,e,n,r,i){const a=r&&!r.isEmpty(),o=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(a||o)&&(d+=" (found",a&&(d+=` in field ${r}`),o&&(d+=` in document ${i}`),d+=")"),new Oe(xe.INVALID_ARGUMENT,c+t+d)}function F6(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Sse(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(vN("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Sse extends V6{data(){return super.data()}}function vN(t,e){return typeof e=="string"?yN(t,e):e instanceof Xy?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ese(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Oe(xe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bN{}class U6 extends bN{}function z6(t,e,...n){let r=[];e instanceof bN&&r.push(e),r=r.concat(n),(function(a){const o=a.filter((d=>d instanceof jN)).length,c=a.filter((d=>d instanceof wN)).length;if(o>1||o>0&&c>0)throw new Oe(xe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class wN extends U6{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new wN(e,n,r)}_apply(e){const n=this._parse(e);return $6(e._query,n),new Zf(e.firestore,e.converter,x1(e._query,n))}_parse(e){const n=Zy(e.firestore);return(function(a,o,c,d,h,m,f){let g;if(h.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new Oe(xe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){pA(f,m);const N=[];for(const w of f)N.push(fA(d,a,w));g={arrayValue:{values:N}}}else g=fA(d,a,f)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||pA(f,m),g=_se(c,o,f,m==="in"||m==="not-in");return Gn.create(h,m,g)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class jN extends bN{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new jN(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ki.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let o=i;const c=a.getFlattenedFilters();for(const d of c)$6(o,d),o=x1(o,d)})(e._query,n),new Zf(e.firestore,e.converter,x1(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class _N extends U6{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new _N(e,n)}_apply(e){const n=(function(i,a,o){if(i.startAt!==null)throw new Oe(xe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Oe(xe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new xf(a,o)})(e._query,this._field,this._direction);return new Zf(e.firestore,e.converter,(function(i,a){const o=i.explicitOrderBy.concat([a]);return new fh(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function B6(t,e="asc"){const n=e,r=vN("orderBy",t);return _N._create(r,n)}function fA(t,e,n){if(typeof(n=En(n))=="string"){if(n==="")throw new Oe(xe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!M5(e)&&n.indexOf("/")!==-1)throw new Oe(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ln.fromString(n));if(!nt.isDocumentKey(r))throw new Oe(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return IT(t,new nt(r))}if(n instanceof Vn)return IT(t,n._key);throw new Oe(xe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Uy(n)}.`)}function pA(t,e){if(!Array.isArray(t)||t.length===0)throw new Oe(xe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $6(t,e){const n=(function(i,a){for(const o of i)for(const c of o.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Oe(xe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Oe(xe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Cse{convertValue(e,n="none"){switch(Dl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Pl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ot(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return $l(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){var r,i,a;const n=(a=(i=(r=e.fields)==null?void 0:r[$x].arrayValue)==null?void 0:i.values)==null?void 0:a.map((o=>Fn(o.doubleValue)));return new ga(n)}convertGeoPoint(e){return new pa(Fn(e.latitude),Fn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=$y(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ff(e));default:return null}}convertTimestamp(e){const n=Rl(e);return new fn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ln.fromString(e);Xt(r6(r),9688,{name:e});const i=new pf(r.get(1),r.get(3)),a=new nt(r.popFirst(5));return i.isEqual(n)||mo(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q6(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Em{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Vc extends V6{constructor(e,n,r,i,a,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ox(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(vN("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Oe(xe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Vc._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Vc._jsonSchemaVersion="firestore/documentSnapshot/1.0",Vc._jsonSchema={type:Qn("string",Vc._jsonSchemaVersion),bundleSource:Qn("string","DocumentSnapshot"),bundleName:Qn("string"),bundle:Qn("string")};class ox extends Vc{data(e={}){return super.data(e)}}class vd{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Em(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new ox(this._firestore,this._userDataWriter,r.key,r,new Em(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Oe(xe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((c=>{const d=new ox(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Em(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>a||c.type!==3)).map((c=>{const d=new ox(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Em(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,m=-1;return c.type!==0&&(h=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),m=o.indexOf(c.doc.key)),{type:kse(c.type),doc:d,oldIndex:h,newIndex:m}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Oe(xe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=vd._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=B_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function kse(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ot(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H6(t){t=wa(t,Vn);const e=wa(t.firestore,uu);return mse(fN(e),t._key).then((n=>Ase(e,t,n)))}vd._jsonSchemaVersion="firestore/querySnapshot/1.0",vd._jsonSchema={type:Qn("string",vd._jsonSchemaVersion),bundleSource:Qn("string","QuerySnapshot"),bundleName:Qn("string"),bundle:Qn("string")};class W6 extends Cse{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vn(this.firestore,null,n)}}function bf(t){t=wa(t,Zf);const e=wa(t.firestore,uu),n=fN(e),r=new W6(e);return Ese(t._query),fse(n,t._query).then((i=>new vd(e,r,t,i)))}function K6(t,e,n){t=wa(t,Vn);const r=wa(t.firestore,uu),i=q6(t.converter,e,n);return t0(r,[M6(Zy(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ni.none())])}function G6(t,e,n,...r){t=wa(t,Vn);const i=wa(t.firestore,uu),a=Zy(i);let o;return o=typeof(e=En(e))=="string"||e instanceof Xy?jse(a,"updateDoc",t._key,e,n,r):wse(a,"updateDoc",t._key,e),t0(i,[o.toMutation(t._key,ni.exists(!0))])}function Tse(t){return t0(wa(t.firestore,uu),[new Y_(t._key,ni.none())])}function Q6(t,e){const n=wa(t.firestore,uu),r=Yc(t),i=q6(t.converter,e);return t0(n,[M6(Zy(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ni.exists(!1))]).then((()=>r))}function t0(t,e){return(function(r,i){const a=new no;return r.asyncQueue.enqueueAndForget((async()=>tse(await hse(r),i,a))),a.promise})(fN(t),e)}function Ase(t,e,n){const r=n.docs.get(e._key),i=new W6(t);return new Vc(t,i,e._key,r,new Em(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){dh=i})(ou),Wc(new Tl("firestore",((r,{instanceIdentifier:i,options:a})=>{const o=r.getProvider("app").getImmediate(),c=new uu(new _te(r.getProvider("auth-internal")),new Ete(o,r.getProvider("app-check-internal")),(function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Oe(xe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pf(h.options.projectId,m)})(o,i),o);return a={useFetchStreams:n,...a},c._setSettings(a),c}),"PUBLIC").setMultipleInstances(!0)),ua(yT,vT,e),ua(yT,vT,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y6="firebasestorage.googleapis.com",J6="storageBucket",Ise=120*1e3,Rse=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn extends Ea{constructor(e,n,r=0){super(Lb(e),`Firebase Storage: ${n} (${Lb(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Dn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Lb(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Pn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Pn||(Pn={}));function Lb(t){return"storage/"+t}function NN(){const t="An unknown error occurred, please check the error payload for server response.";return new Dn(Pn.UNKNOWN,t)}function Pse(t){return new Dn(Pn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Dse(t){return new Dn(Pn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Mse(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Dn(Pn.UNAUTHENTICATED,t)}function Ose(){return new Dn(Pn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Lse(t){return new Dn(Pn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Fse(){return new Dn(Pn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Vse(){return new Dn(Pn.CANCELED,"User canceled the upload/download.")}function Use(t){return new Dn(Pn.INVALID_URL,"Invalid URL '"+t+"'.")}function zse(t){return new Dn(Pn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Bse(){return new Dn(Pn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+J6+"' property when initializing the app?")}function $se(){return new Dn(Pn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function qse(){return new Dn(Pn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Hse(t){return new Dn(Pn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function T1(t){return new Dn(Pn.INVALID_ARGUMENT,t)}function X6(){return new Dn(Pn.APP_DELETED,"The Firebase app was deleted.")}function Wse(t){return new Dn(Pn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function zm(t,e){return new Dn(Pn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function dm(t){throw new Dn(Pn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ds.makeFromUrl(e,n)}catch{return new Ds(e,"")}if(r.path==="")return r;throw zse(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const o="(/(.*))?$",c=new RegExp("^gs://"+i+o,"i"),d={bucket:1,path:3};function h(C){C.path_=decodeURIComponent(C.path)}const m="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",x=new RegExp(`^https?://${f}/${m}/b/${i}/o${g}`,"i"),N={bucket:1,path:3},w=n===Y6?"(?:storage.googleapis.com|storage.cloud.google.com)":n,j="([^?#]*)",_=new RegExp(`^https?://${w}/${i}/${j}`,"i"),k=[{regex:c,indices:d,postModify:a},{regex:x,indices:N,postModify:h},{regex:_,indices:{bucket:1,path:2},postModify:h}];for(let C=0;C<k.length;C++){const R=k[C],F=R.regex.exec(e);if(F){const M=F[R.indices.bucket];let P=F[R.indices.path];P||(P=""),r=new Ds(M,P),R.postModify(r);break}}if(r==null)throw Use(e);return r}}class Kse{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gse(t,e,n){let r=1,i=null,a=null,o=!1,c=0;function d(){return c===2}let h=!1;function m(...j){h||(h=!0,e.apply(null,j))}function f(j){i=setTimeout(()=>{i=null,t(x,d())},j)}function g(){a&&clearTimeout(a)}function x(j,..._){if(h){g();return}if(j){g(),m.call(null,j,..._);return}if(d()||o){g(),m.call(null,j,..._);return}r<64&&(r*=2);let k;c===1?(c=2,k=0):k=(r+Math.random())*1e3,f(k)}let N=!1;function w(j){N||(N=!0,g(),!h&&(i!==null?(j||(c=2),clearTimeout(i),f(0)):j||(c=1)))}return f(0),a=setTimeout(()=>{o=!0,w(!0)},n),w}function Qse(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yse(t){return t!==void 0}function Jse(t){return typeof t=="object"&&!Array.isArray(t)}function SN(t){return typeof t=="string"||t instanceof String}function gA(t){return EN()&&t instanceof Blob}function EN(){return typeof Blob<"u"}function xA(t,e,n,r){if(r<e)throw T1(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw T1(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function Z6(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Uc;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Uc||(Uc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xse(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zse{constructor(e,n,r,i,a,o,c,d,h,m,f,g=!0,x=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=c,this.errorCallback_=d,this.timeout_=h,this.progressCallback_=m,this.connectionFactory_=f,this.retry=g,this.isUsingEmulator=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,w)=>{this.resolve_=N,this.reject_=w,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Rg(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=c=>{const d=c.loaded,h=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,h)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const c=a.getErrorCode()===Uc.NO_ERROR,d=a.getStatus();if(!c||Xse(d,this.additionalRetryCodes_)&&this.retry){const m=a.getErrorCode()===Uc.ABORT;r(!1,new Rg(!1,null,m));return}const h=this.successCodes_.indexOf(d)!==-1;r(!0,new Rg(h,a))})},n=(r,i)=>{const a=this.resolve_,o=this.reject_,c=i.connection;if(i.wasSuccessCode)try{const d=this.callback_(c,c.getResponse());Yse(d)?a(d):a()}catch(d){o(d)}else if(c!==null){const d=NN();d.serverResponse=c.getErrorText(),this.errorCallback_?o(this.errorCallback_(c,d)):o(d)}else if(i.canceled){const d=this.appDelete_?X6():Vse();o(d)}else{const d=Fse();o(d)}};this.canceled_?n(!1,new Rg(!1,null,!0)):this.backoffId_=Gse(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Qse(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Rg{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function eie(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function tie(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function nie(t,e){e&&(t["X-Firebase-GMPID"]=e)}function rie(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function sie(t,e,n,r,i,a,o=!0,c=!1){const d=Z6(t.urlParams),h=t.url+d,m=Object.assign({},t.headers);return nie(m,e),eie(m,n),tie(m,a),rie(m,r),new Zse(h,t.method,m,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iie(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function aie(...t){const e=iie();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(EN())return new Blob(t);throw new Dn(Pn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function oie(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lie(t){if(typeof atob>"u")throw Hse("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Fb{constructor(e,n){this.data=e,this.contentType=n||null}}function cie(t,e){switch(t){case aa.RAW:return new Fb(eO(e));case aa.BASE64:case aa.BASE64URL:return new Fb(tO(t,e));case aa.DATA_URL:return new Fb(die(e),hie(e))}throw NN()}function eO(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,o=t.charCodeAt(++n);r=65536|(a&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function uie(t){let e;try{e=decodeURIComponent(t)}catch{throw zm(aa.DATA_URL,"Malformed data URL.")}return eO(e)}function tO(t,e){switch(t){case aa.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw zm(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case aa.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw zm(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=lie(e)}catch(i){throw i.message.includes("polyfill")?i:zm(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class nO{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw zm(aa.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=mie(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function die(t){const e=new nO(t);return e.base64?tO(aa.BASE64,e.rest):uie(e.rest)}function hie(t){return new nO(t).contentType}function mie(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,n){let r=0,i="";gA(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(gA(this.data_)){const r=this.data_,i=oie(r,e,n);return i===null?null:new nl(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new nl(r,!0)}}static getBlob(...e){if(EN()){const n=e.map(r=>r instanceof nl?r.data_:r);return new nl(aie.apply(null,n))}else{const n=e.map(o=>SN(o)?cie(aa.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let a=0;return n.forEach(o=>{for(let c=0;c<o.length;c++)i[a++]=o[c]}),new nl(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(t){let e;try{e=JSON.parse(t)}catch{return null}return Jse(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fie(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function pie(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function sO(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gie(t,e){return e}class Br{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||gie}}let Pg=null;function xie(t){return!SN(t)||t.length<2?t:sO(t)}function iO(){if(Pg)return Pg;const t=[];t.push(new Br("bucket")),t.push(new Br("generation")),t.push(new Br("metageneration")),t.push(new Br("name","fullPath",!0));function e(a,o){return xie(o)}const n=new Br("name");n.xform=e,t.push(n);function r(a,o){return o!==void 0?Number(o):o}const i=new Br("size");return i.xform=r,t.push(i),t.push(new Br("timeCreated")),t.push(new Br("updated")),t.push(new Br("md5Hash",null,!0)),t.push(new Br("cacheControl",null,!0)),t.push(new Br("contentDisposition",null,!0)),t.push(new Br("contentEncoding",null,!0)),t.push(new Br("contentLanguage",null,!0)),t.push(new Br("contentType",null,!0)),t.push(new Br("metadata","customMetadata",!0)),Pg=t,Pg}function yie(t,e){function n(){const r=t.bucket,i=t.fullPath,a=new Ds(r,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function vie(t,e,n){const r={};r.type="file";const i=n.length;for(let a=0;a<i;a++){const o=n[a];r[o.local]=o.xform(r,e[o.server])}return yie(r,t),r}function aO(t,e,n){const r=rO(e);return r===null?null:vie(t,r,n)}function bie(t,e,n,r){const i=rO(e);if(i===null||!SN(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const o=encodeURIComponent;return a.split(",").map(h=>{const m=t.bucket,f=t.fullPath,g="/b/"+o(m)+"/o/"+o(f),x=CN(g,n,r),N=Z6({alt:"media",token:h});return x+N})[0]}function wie(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class oO{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lO(t){if(!t)throw NN()}function jie(t,e){function n(r,i){const a=aO(t,i,e);return lO(a!==null),a}return n}function _ie(t,e){function n(r,i){const a=aO(t,i,e);return lO(a!==null),bie(a,i,t.host,t._protocol)}return n}function cO(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Ose():i=Mse():n.getStatus()===402?i=Dse(t.bucket):n.getStatus()===403?i=Lse(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function Nie(t){const e=cO(t);function n(r,i){let a=e(r,i);return r.getStatus()===404&&(a=Pse(t.path)),a.serverResponse=i.serverResponse,a}return n}function Sie(t,e,n){const r=e.fullServerUrl(),i=CN(r,t.host,t._protocol),a="GET",o=t.maxOperationRetryTime,c=new oO(i,a,_ie(t,n),o);return c.errorHandler=Nie(e),c}function Eie(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Cie(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Eie(null,e)),r}function kie(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function c(){let k="";for(let C=0;C<2;C++)k=k+Math.random().toString().slice(2);return k}const d=c();o["Content-Type"]="multipart/related; boundary="+d;const h=Cie(e,r,i),m=wie(h,n),f="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+m+`\r
--`+d+`\r
Content-Type: `+h.contentType+`\r
\r
`,g=`\r
--`+d+"--",x=nl.getBlob(f,r,g);if(x===null)throw $se();const N={name:h.fullPath},w=CN(a,t.host,t._protocol),j="POST",_=t.maxUploadRetryTime,E=new oO(w,j,jie(t,n),_);return E.urlParams=N,E.headers=o,E.body=x.uploadData(),E.errorHandler=cO(e),E}class Tie{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Uc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Uc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Uc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,a){if(this.sent_)throw dm("cannot .send() more than once");if(zl(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const o in a)a.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,a[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw dm("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw dm("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw dm("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw dm("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Aie extends Tie{initXhr(){this.xhr_.responseType="text"}}function uO(){return new Aie}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n){this._service=e,n instanceof Ds?this._location=n:this._location=Ds.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Jc(e,n)}get root(){const e=new Ds(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return sO(this._location.path)}get storage(){return this._service}get parent(){const e=fie(this._location.path);if(e===null)return null;const n=new Ds(this._location.bucket,e);return new Jc(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Wse(e)}}function Iie(t,e,n){t._throwIfRoot("uploadBytes");const r=kie(t.storage,t._location,iO(),new nl(e,!0),n);return t.storage.makeRequestWithTokens(r,uO).then(i=>({metadata:i,ref:t}))}function Rie(t){t._throwIfRoot("getDownloadURL");const e=Sie(t.storage,t._location,iO());return t.storage.makeRequestWithTokens(e,uO).then(n=>{if(n===null)throw qse();return n})}function Pie(t,e){const n=pie(t._location.path,e),r=new Ds(t._location.bucket,n);return new Jc(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Die(t){return/^[A-Za-z]+:\/\//.test(t)}function Mie(t,e){return new Jc(t,e)}function dO(t,e){if(t instanceof kN){const n=t;if(n._bucket==null)throw Bse();const r=new Jc(n,n._bucket);return e!=null?dO(r,e):r}else return e!==void 0?Pie(t,e):t}function Oie(t,e){if(e&&Die(e)){if(t instanceof kN)return Mie(t,e);throw T1("To use ref(service, url), the first argument must be a Storage instance.")}else return dO(t,e)}function yA(t,e){const n=e==null?void 0:e[J6];return n==null?null:Ds.makeFromBucketSpec(n,t)}function Lie(t,e,n,r={}){t.host=`${e}:${n}`;const i=zl(e);i&&(T_(`https://${t.host}/b`),wM("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:kJ(a,t.app.options.projectId))}class kN{constructor(e,n,r,i,a,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=o,this._bucket=null,this._host=Y6,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Ise,this._maxUploadRetryTime=Rse,this._requests=new Set,i!=null?this._bucket=Ds.makeFromBucketSpec(i,this._host):this._bucket=yA(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ds.makeFromBucketSpec(this._url,e):this._bucket=yA(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){xA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){xA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Rs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Jc(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new Kse(X6());{const o=sie(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const vA="@firebase/storage",bA="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO="storage";function Fie(t,e,n){return t=En(t),Iie(t,e,n)}function Vie(t){return t=En(t),Rie(t)}function Uie(t,e){return t=En(t),Oie(t,e)}function zie(t=SM(),e){t=En(t);const r=Oy(t,hO).getImmediate({identifier:e}),i=EJ("storage");return i&&Bie(r,...i),r}function Bie(t,e,n,r={}){Lie(t,e,n,r)}function $ie(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new kN(n,r,i,e,ou)}function qie(){Wc(new Tl(hO,$ie,"PUBLIC").setMultipleInstances(!0)),ua(vA,bA,""),ua(vA,bA,"esm2020")}qie();const Hie={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_ADMIN_EMAIL:"huzaify786@gmail.com",VITE_FIREBASE_API_KEY:"AIzaSyDLi7mVwWnHp_jFlo6KfIXMZEu1iGpA-YE",VITE_FIREBASE_APP_ID:"1:947105835283:web:b06706b15af28b4c3f12e6",VITE_FIREBASE_AUTH_DOMAIN:"studio-1726517794-3d5f0.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"947105835283",VITE_FIREBASE_PROJECT_ID:"studio-1726517794-3d5f0",VITE_FIREBASE_STORAGE_BUCKET:"studio-1726517794-3d5f0.appspot.com",VITE_USE_BACKEND:"false"};let Dg,wA,lx;const cx="false".toLowerCase()==="true"||!1,Vb={apiKey:"AIzaSyDLi7mVwWnHp_jFlo6KfIXMZEu1iGpA-YE",authDomain:"studio-1726517794-3d5f0.firebaseapp.com",projectId:"studio-1726517794-3d5f0",storageBucket:"studio-1726517794-3d5f0.appspot.com",messagingSenderId:"947105835283",appId:"1:947105835283:web:b06706b15af28b4c3f12e6"};function Wt(){if(!Dg&&Vb.apiKey&&Vb.projectId){Dg=NM(Vb),wA=yte(Dg);const t=typeof import.meta<"u"&&Hie&&!1;try{bte(t?"error":"silent")}catch{}}return{app:Dg,auth:wA,db:lx}}function ji(){const{app:t}=Wt();if(!t)throw new Error("Firebase not configured");return lx||(lx=gse(t,{experimentalAutoDetectLongPolling:!0,useFetchStreams:!1})),lx}async function mO(t,e){const{auth:n}=Wt();if(!n)throw new Error("Firebase not configured");return(await ZM(n,t,e)).user}async function fO(t,e){const{auth:n}=Wt();if(!n)throw new Error("Firebase not configured");return(await ZM(n,t,e)).user}async function pO(){const{auth:t}=Wt();t&&await oee(t)}async function gO(t,e){const{auth:n}=Wt();if(!n)throw new Error("Firebase not configured");return(await nee(n,t,e)).user}async function TN(t,e){const n=ji(),r=Yc(n,"users",t);await K6(r,{uid:t,...e||{},updatedAt:new Date},{merge:!0})}async function tp(t){const e=ji(),n=Yc(e,"users",t),r=await H6(n);return r.exists()?r.data():null}function gh(t){const{auth:e}=Wt();return e?aee(e,t):()=>{}}async function xO(t){const{auth:e}=Wt();if(!e)throw new Error("Firebase not configured");return F_(e,t)}async function yO(){const{auth:t}=Wt(),e=t==null?void 0:t.currentUser;if(!e)throw new Error("No authenticated user to verify");await ree(e)}const Xx={async add(t){var r,i;if(cx)try{const{auth:a}=Wt(),o=await((i=(r=a==null?void 0:a.currentUser)==null?void 0:r.getIdToken)==null?void 0:i.call(r)),d=await fetch("/api/messages",{method:"POST",headers:{"Content-Type":"application/json",...o?{Authorization:`Bearer ${o}`}:{}},body:JSON.stringify({message:t})});if(!d.ok)throw new Error(`Backend error: ${d.status}`);return await d.json()}catch(a){console.warn("Backend add failed, falling back to Firestore:",(a==null?void 0:a.message)||a)}const e=ji(),n=Wd(e,"messages");return Q6(n,t)},async list(){var i,a;if(cx)try{const{auth:o}=Wt(),c=await((a=(i=o==null?void 0:o.currentUser)==null?void 0:i.getIdToken)==null?void 0:a.call(i)),h=await fetch("/api/messages",{headers:{...c?{Authorization:`Bearer ${c}`}:{}}});if(!h.ok)throw new Error(`Backend error: ${h.status}`);return await h.json()}catch(o){console.warn("Backend list failed, falling back to Firestore:",(o==null?void 0:o.message)||o)}const t=ji(),e=Wd(t,"messages"),n=z6(e,B6("createdAt","desc"));return(await bf(n)).docs.map(o=>({id:o.id,...o.data()}))},async markRead(t,e=!0){var i,a;if(cx)try{const{auth:o}=Wt(),c=await((a=(i=o==null?void 0:o.currentUser)==null?void 0:i.getIdToken)==null?void 0:a.call(i)),h=await fetch("/api/messages",{method:"PATCH",headers:{"Content-Type":"application/json",...c?{Authorization:`Bearer ${c}`}:{}},body:JSON.stringify({id:t,read:e})});if(!h.ok)throw new Error(`Backend error: ${h.status}`);return await h.json()}catch(o){console.warn("Backend markRead failed, falling back to Firestore:",(o==null?void 0:o.message)||o)}const n=ji(),r=Yc(n,"messages",t);await G6(r,{read:e})}},AN={async list(){var r,i;if(cx)try{const{auth:a}=Wt(),o=await((i=(r=a==null?void 0:a.currentUser)==null?void 0:r.getIdToken)==null?void 0:i.call(r)),d=await fetch("/api/users",{headers:{...o?{Authorization:`Bearer ${o}`}:{}}});if(!d.ok)throw new Error(`Backend error: ${d.status}`);return await d.json()}catch(a){console.warn("Backend users list failed, falling back to Firestore:",(a==null?void 0:a.message)||a)}const t=ji(),e=Wd(t,"users");return(await bf(e)).docs.map(a=>({id:a.id,...a.data()}))}};function Mg(){try{const t=localStorage.getItem("local_sponsors");return t?JSON.parse(t):[]}catch{return[]}}function Ub(t){try{localStorage.setItem("local_sponsors",JSON.stringify(t))}catch{}}const Wie=()=>{var t,e;return((e=(t=globalThis.crypto)==null?void 0:t.randomUUID)==null?void 0:e.call(t))||`local_${Date.now()}`},dd={async add(t){let e;try{e=ji()}catch{}if(!e){const i=Mg(),a=Wie(),o=[...i,{...t,_localId:a}];return Ub(o),{id:a}}const n=Wd(e,"sponsors");return{id:(await Q6(n,t)).id}},async list(){let t;try{t=ji()}catch{}if(!t)return Mg();const e=Wd(t,"sponsors");let n;try{const r=z6(e,B6("order","asc"));n=await bf(r)}catch{n=await bf(e)}return n.docs.map(r=>({id:r.id,...r.data()}))},async update(t,e){let n;try{n=ji()}catch{}if(!n){const a=Mg().map(o=>o.id===t||o._localId===t?{...o,...e}:o);return Ub(a),{ok:!0}}const r=Yc(n,"sponsors",t);await G6(r,e)},async remove(t){let e;try{e=ji()}catch{}if(!e){const r=Mg().filter(i=>i.id!==t&&i._localId!==t);return Ub(r),{ok:!0}}const n=Yc(e,"sponsors",t);await Tse(n)}};async function vO(t,e=""){const{app:n}=Wt();if(!n)throw new Error("Firebase not configured");if(!t)throw new Error("No file provided");const r=zie(n),i=String(e||t.name||"image").replace(/[^a-z0-9._-]+/gi,"-").toLowerCase(),a=`sponsors/${Date.now()}_${i}`,o=Uie(r,a);return await Fie(o,t),{url:await Vie(o),path:a}}async function Zx(){const{auth:t}=Wt(),e=t==null?void 0:t.currentUser;if(!e)return!1;const n="huzaify786@gmail.com".toLowerCase(),r=String(e.email||"").toLowerCase();return n?r===n:!0}const jA=Object.freeze(Object.defineProperty({__proto__:null,adminSignIn:mO,adminSignOut:pO,getDb:ji,getFirebase:Wt,getUserProfile:tp,isAdminUser:Zx,messagesApi:Xx,resetPassword:xO,saveUserProfile:TN,sendVerification:yO,signIn:fO,signUp:gO,sponsorsApi:dd,uploadSponsorImage:vO,usersApi:AN,watchAuth:gh},Symbol.toStringTag,{value:"Module"})),bO=v.createContext(),Kie=()=>{const t=v.useContext(bO);return t||{isPlaying:!1,isMuted:!1,volume:.7,togglePlay:()=>{},toggleMute:()=>{},setVolume:()=>{}}};function wO({children:t,currentPageName:e}){const[n,r]=v.useState(!1),[i,a]=v.useState(null),[o,c]=v.useState(!1),[d,h]=v.useState(null),[m,f]=v.useState(!1),[g,x]=v.useState(!1),[N,w]=v.useState(.7),j=v.useRef(null),[_,E]=v.useState({siteTitle:"Islam Kids Zone",tagline:"Learn, Play & Grow",logoEmoji:"",headerGradient:"from-blue-600 to-purple-600",navActiveGradient:"from-blue-500 to-purple-500",backgroundGradient:"from-blue-50 via-purple-50 to-pink-50",darkModeDefault:!1,showTestBanner:!0,showRadioBar:!0});v.useEffect(()=>{try{const q=localStorage.getItem("siteSettings");if(q){const B=JSON.parse(q);E($=>({...$,...B}))}}catch{}},[]),v.useEffect(()=>{_.darkModeDefault?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[_.darkModeDefault]);const k=`min-h-screen bg-gradient-to-br ${_.backgroundGradient}`,C=`bg-gradient-to-r ${_.headerGradient} text-white shadow-lg sticky top-0 z-50`,R=_.supportEmail||"imedia786@gmail.com",F=_.radioUrl||"https://a4.asurahosting.com:7820/radio.mp3";v.useEffect(()=>{const q=["Home","About","ContactUs","Welcome","ParentZone","PrivacyPolicy","Games","Leaderboard","Stories","Learn","Quran","Duas","RecordAndShare","IslamicEncyclopedia","IslamicFacts","ColoringPages","PoetryWriting","Worksheets","MonthlyContest","CreativeCorner","Videos","History","Hadith","Tajweed","LearningLibrary"];console.log("currentPageName:",e),console.log("publicPages:",q)},[e]),v.useEffect(()=>{j.current&&(j.current.volume=N)},[N]),v.useEffect(()=>{const q=gh(async B=>{try{if(B){c(!0);let $=null;try{$=await tp(B.uid)}catch{}const te=($==null?void 0:$.fullName)||($==null?void 0:$.name)||B.displayName||B.email||"User",H=($==null?void 0:$.points)||0;h({full_name:te,points:H,email:B.email,uid:B.uid})}else c(!1),h(null)}catch($){console.warn("Auth/profile load failed:",($==null?void 0:$.message)||$),c(!!B),h(B?{full_name:B.email||"User",points:0,email:B.email,uid:B.uid}:null)}});return()=>q==null?void 0:q()},[]);const M=()=>{c(!1),h(null)},P=()=>{j.current&&(m?j.current.pause():j.current.play().catch(q=>{console.error("Error playing radio:",q)}),f(!m))},I=()=>{j.current&&(j.current.muted=!g,x(!g))},L=q=>{w(q),j.current&&(j.current.volume=q)},U=[{name:"Kids Home",icon:uB,path:"Home"},{name:"Games",icon:jl,path:"Games"},{name:"Leaderboard",icon:Kr,path:"Leaderboard"},{name:"Stories",icon:jn,path:"Stories"},{name:"Videos",icon:pl,path:"Videos"},{name:"Learn",icon:UC,dropdown:[{name:"Hadith",path:"Hadith",icon:jn},{name:"History",path:"History",icon:LC},{name:"Tajweed",path:"Tajweed",icon:UC}]},{name:"Quran",icon:jn,dropdown:[{name:"Learn Quran",path:"Quran",icon:jn},{name:"Full Quran",path:"FullQuran",icon:LC},{name:"Quran Dictionary",path:"QuranDictionary",icon:jn},{name:"Manzil (17)",path:"Manzil",icon:zC},{name:"Hizb (1240)",path:"Hizb",icon:zC},{name:"Hifz Dashboard",path:"HifzDashboard",icon:kz}]},{name:"Challenges",icon:Kr,path:"Challenges"},{name:"Parents",icon:Vl,path:"ParentZone"},{name:"Signup",icon:Nw,path:"Signup"},{name:"About",icon:Kv,path:"About"}],J=String(e||"").toLowerCase().startsWith("admin")||e==="Assistant"?[...U,{name:"AI Agent / ChatGPT",icon:eh,path:"Assistant"}]:U,ee=[...J,{name:"Privacy Policy",icon:su,external:!0,url:"https://studio--studio-653801381-47983.us-central1.hosted.app/privacy"}],re=ee.filter(q=>q.name!=="Quran"&&q.name!=="Learn"),ie=()=>{r(!1),a(null)},Q={isPlaying:m,isMuted:g,volume:N,togglePlay:P,toggleMute:I,setVolume:L};return s.jsx(bO.Provider,{value:Q,children:s.jsxs("div",{className:k,children:[s.jsx("audio",{ref:j,src:F,preload:"none"}),s.jsx("header",{className:C,children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-6 py-3 md:py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Rt,{to:rt("Home"),className:"flex items-center gap-2 md:gap-3 hover:opacity-90 transition-opacity",children:[s.jsx("div",{className:"text-3xl md:text-4xl",children:_.logoEmoji}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl md:text-2xl font-bold",children:_.siteTitle}),s.jsx("p",{className:"text-xs md:text-sm text-blue-100",children:_.tagline})]})]}),s.jsx("div",{className:"hidden md:flex items-center gap-3",children:o&&d?s.jsx(s.Fragment,{children:s.jsxs(D2,{children:[s.jsx(M2,{asChild:!0,children:s.jsxs("button",{className:"flex items-center gap-2 bg-white/20 px-4 py-2 rounded-full hover:bg-white/30 transition-colors",children:[s.jsx(zR,{className:"w-4 h-4"}),s.jsxs("div",{className:"text-sm text-left",children:[s.jsx("div",{className:"font-semibold",children:d.full_name||"User"}),s.jsxs("div",{className:"text-xs text-blue-100",children:[d.points||0," points"]})]}),s.jsx(Qm,{className:"w-4 h-4"})]})}),s.jsxs(n1,{align:"end",className:"w-48",children:[s.jsx(Jg,{asChild:!0,children:s.jsxs(Rt,{to:rt("DeleteAccount"),className:"cursor-pointer text-red-600 hover:text-red-700 hover:bg-red-50",children:[s.jsx(Ld,{className:"w-4 h-4 mr-2"}),"Delete Account"]})}),s.jsxs(Jg,{onClick:M,className:"cursor-pointer",children:[s.jsx(BC,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})}):null}),s.jsx(G,{variant:"ghost",size:"icon",className:"md:hidden text-white hover:bg-white/20",onClick:()=>r(!n),children:n?s.jsx(ps,{className:"w-6 h-6"}):s.jsx(_B,{className:"w-6 h-6"})})]})})}),s.jsx("nav",{className:"md:hidden bg-white/95 backdrop-blur-sm shadow-sm sticky top-[56px] z-40 border-b border-gray-100",children:s.jsx("div",{className:"max-w-7xl mx-auto px-2",children:s.jsx("div",{className:"flex items-center overflow-x-auto gap-1 py-1.5 scrollbar-hide",children:re.map(q=>{const B=q.icon,$=q.path&&e===q.path;return s.jsx(Rt,{to:q.path?rt(q.path):"#",onClick:ie,"aria-label":q.name,title:q.name,className:`flex items-center justify-center w-7 h-7 rounded-full whitespace-nowrap transition-all flex-shrink-0 ${$?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow":"bg-white border border-gray-200 text-gray-700"}`,children:s.jsx(B,{className:"w-4 h-4"})},q.path||q.name)})})})}),s.jsx("nav",{className:"hidden md:block bg-white shadow-md sticky top-[68px] z-40",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4",children:s.jsx("div",{className:"flex overflow-x-auto scrollbar-hide gap-1 py-2",children:J.map(q=>{const B=q.icon,$=q.path&&e===q.path;if(q.dropdown&&q.dropdown.length>0){const te=q.dropdown.some(H=>e===H.path);return s.jsxs(D2,{children:[s.jsx(M2,{asChild:!0,children:s.jsxs("button",{type:"button",className:`flex items-center gap-1.5 px-3 py-2 rounded-lg whitespace-nowrap transition-all flex-shrink-0 ${te?`bg-gradient-to-r ${_.navActiveGradient} text-white shadow-md`:"text-gray-700 hover:bg-gray-100"}`,children:[s.jsx(B,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:q.name}),s.jsx(Qm,{className:"w-3 h-3"})]})}),s.jsx(n1,{children:q.dropdown.map(H=>{const me=H.icon;return s.jsx(Jg,{asChild:!0,children:s.jsxs(Rt,{to:rt(H.path),className:"cursor-pointer flex items-center gap-2",children:[me?s.jsx(me,{className:"w-4 h-4"}):null,s.jsx("span",{children:H.name})]})},H.path)})})]},q.name)}return s.jsxs(Rt,{to:rt(q.path),className:`flex items-center gap-1.5 px-3 py-2 rounded-lg whitespace-nowrap transition-all flex-shrink-0 ${$?`bg-gradient-to-r ${_.navActiveGradient} text-white shadow-md`:"text-gray-700 hover:bg-gray-100"}`,children:[s.jsx(B,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:q.name})]},q.path)})})})}),n&&s.jsxs("div",{className:"fixed inset-0 z-[1000] md:hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>r(!1)}),s.jsx("div",{className:"absolute top-0 right-0 h-full w-[280px] bg-white shadow-2xl overflow-y-auto z-[1001]",children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Menu"}),s.jsx(G,{variant:"ghost",size:"icon",onClick:()=>r(!1),children:s.jsx(ps,{className:"w-5 h-5"})})]}),o&&d?s.jsxs("div",{className:"mb-4 pb-4 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3 bg-gradient-to-r from-blue-50 to-purple-500 p-3 rounded-lg",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-2xl",children:d.avatar||""}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-bold text-gray-900",children:d.full_name||"User"}),s.jsx("div",{className:"text-sm text-gray-600",children:d.email}),s.jsxs("div",{className:"text-xs text-blue-600 font-semibold mt-1",children:[" ",d.points||0," points"]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Rt,{to:rt("DeleteAccount"),onClick:ie,children:s.jsxs(G,{variant:"outline",size:"sm",className:"w-full text-red-600 border-red-300 hover:bg-red-50",children:[s.jsx(Ld,{className:"w-4 h-4 mr-2"}),"Delete Account"]})}),s.jsxs(G,{onClick:M,variant:"outline",size:"sm",className:"w-full",children:[s.jsx(BC,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]}):s.jsxs("div",{className:"mb-4 pb-4 border-b border-gray-200 space-y-2",children:[s.jsx(Rt,{to:rt("Signup"),onClick:ie,children:s.jsxs(G,{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-blue-500 to-purple-500 text-white font-bold shadow hover:scale-105 transition-transform w-full",children:[s.jsx(Nw,{className:"w-4 h-4 mr-2"}),"Sign up"]})}),s.jsx(Rt,{to:rt("Login"),onClick:ie,children:s.jsxs(G,{variant:"outline",className:"flex items-center gap-2 px-4 py-2 rounded-lg w-full",children:[s.jsx(LR,{className:"w-4 h-4 mr-2"}),"Login"]})})]}),s.jsx("nav",{className:"flex flex-wrap gap-x-4 gap-y-2 items-center justify-center py-4",children:ee.map(q=>{if(q.external){const $=q.icon;return s.jsxs("a",{href:q.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 rounded-lg text-base font-medium text-gray-800 bg-white hover:bg-blue-100 shadow transition-all duration-150",children:[$?s.jsx($,{className:"w-5 h-5 text-blue-600"}):null,q.name]},q.name)}if(q.dropdown&&q.dropdown.length>0)return q.dropdown.map($=>{const te=$.icon;return s.jsxs(Rt,{to:rt($.path),onClick:ie,className:"flex items-center gap-2 px-4 py-2 rounded-lg text-base font-medium text-gray-800 bg-white hover:bg-blue-100 shadow transition-all duration-150",children:[te?s.jsx(te,{className:"w-5 h-5 text-blue-600"}):null,$.name]},`${q.name}-${$.path}`)});const B=q.icon;return s.jsxs(Rt,{to:rt(q.path),onClick:ie,className:"flex items-center gap-2 px-4 py-2 rounded-lg text-base font-medium text-gray-800 bg-white hover:bg-blue-100 shadow transition-all duration-150",children:[B?s.jsx(B,{className:"w-5 h-5 text-blue-600"}):null,q.name]},q.name)})})]})})]}),s.jsxs("main",{className:"max-w-7xl mx-auto px-4 md:px-6 py-4 md:py-6",style:{paddingBottom:m?"100px":"24px"},children:[_.maintenanceMode&&s.jsx("div",{className:"mb-4",children:s.jsx("div",{className:"bg-yellow-100 border-2 border-yellow-300 rounded-lg p-3 shadow-md",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Kv,{className:"w-5 h-5 text-yellow-700 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1 text-sm text-gray-800",children:[s.jsx("strong",{className:"text-yellow-700",children:"Maintenance Mode:"})," Some features may be temporarily unavailable. For support, email ",s.jsx("span",{className:"font-medium",children:R}),_.supportWhatsappNumber&&s.jsxs(s.Fragment,{children:[" or WhatsApp ",s.jsx("span",{className:"font-medium",children:_.supportWhatsappNumber})]}),"."]})]})})}),t,_.showTestBanner&&s.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"mt-8 mb-4",children:s.jsx("div",{className:"bg-gradient-to-r from-blue-100 to-purple-100 border-2 border-blue-300 rounded-lg p-4 shadow-md",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Kv,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),s.jsx("div",{className:"flex-1",children:s.jsxs("p",{className:"text-sm text-gray-800 leading-relaxed",children:[s.jsx("strong",{className:"text-blue-600",children:" Test Mode:"})," We are currently testing the website. If you see any errors, please use the WhatsApp icon on the home page or contact page to message us.",s.jsx("br",{className:"hidden md:block"}),s.jsx("strong",{className:"text-purple-600",children:" Install as App:"}),' To install this website as an app on your device, click on the three dots () if using Chrome and scroll down to "Add to Home Screen."']})})]})})})]}),_.showRadioBar&&m&&s.jsx(ne.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},className:"fixed bottom-0 left-0 right-0 bg-gradient-to-r from-purple-600 to-blue-600 text-white shadow-2xl z-50 border-t-4 border-purple-400",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-3",children:s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[s.jsx(VR,{className:"w-6 h-6 text-white flex-shrink-0 animate-pulse"}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"font-bold text-sm truncate",children:"Islamic Radio 24/7"}),s.jsx("p",{className:"text-xs text-purple-200 truncate",children:"Live Islamic Content"})]})]}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[s.jsxs("div",{className:"hidden sm:flex items-center gap-2 bg-white/20 px-3 py-2 rounded-full backdrop-blur-sm",children:[s.jsx(G,{onClick:I,size:"sm",variant:"ghost",className:"text-white hover:bg-white/20 p-1 h-8 w-8",children:g?s.jsx(Jm,{className:"w-4 h-4"}):s.jsx(Nl,{className:"w-4 h-4"})}),s.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:N,onChange:q=>L(parseFloat(q.target.value)),className:"w-20 h-2 bg-white/30 rounded-lg appearance-none cursor-pointer accent-white"})]}),s.jsx(G,{onClick:P,size:"sm",className:"bg-white/20 hover:bg-white/30 text-white border-2 border-white/40 rounded-full w-10 h-10 p-0",children:m?s.jsx(Fl,{className:"w-5 h-5"}):s.jsx(dr,{className:"w-5 h-5 ml-0.5"})}),s.jsx(G,{onClick:I,size:"sm",variant:"ghost",className:"sm:hidden text-white hover:bg-white/20 p-2 h-10 w-10",children:g?s.jsx(Jm,{className:"w-5 h-5"}):s.jsx(Nl,{className:"w-5 h-5"})})]})]})})})]})})}wO.propTypes={children:At.node.isRequired,currentPageName:At.string};const se=v.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:ct("rounded-xl border bg-card text-card-foreground shadow",t),...e}));se.displayName="Card";const Fe=v.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:ct("flex flex-col space-y-1.5 p-6",t),...e}));Fe.displayName="CardHeader";const Ve=v.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:ct("font-semibold leading-none tracking-tight",t),...e}));Ve.displayName="CardTitle";const Gie=v.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:ct("text-sm text-muted-foreground",t),...e}));Gie.displayName="CardDescription";const ae=v.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:ct("p-6 pt-0",t),...e}));ae.displayName="CardContent";const Qie=v.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:ct("flex items-center p-6 pt-0",t),...e}));Qie.displayName="CardFooter";const Yie=[{title:"Islamic Games",description:"Fun educational games to learn about Islam",icon:jl,link:"Games",color:"from-blue-500 to-purple-500"},{title:"Stories",description:"Read inspiring stories from Islamic history",icon:jn,link:"Stories",color:"from-green-500 to-teal-500"},{title:"Videos",description:"Watch educational Islamic videos for kids",icon:pl,link:"Videos",color:"from-red-500 to-orange-500"},{title:"Leaderboard",description:"Compete with friends and earn badges",icon:Kr,link:"Leaderboard",color:"from-amber-500 to-yellow-500"},{title:"Creative Corner",description:"Express yourself through Islamic art & poetry",icon:py,link:"CreativeCorner",color:"from-pink-500 to-rose-500"}],Jie=[{icon:nh,title:"Love & Compassion",description:"Teaching kindness and mercy to all",color:"text-red-500"},{icon:cn,title:"Knowledge & Wisdom",description:"Seeking knowledge is obligatory",color:"text-yellow-500"},{icon:su,title:"Safety & Security",description:"A safe environment for children",color:"text-blue-500"}];function A1(){const{isPlaying:t,isMuted:e,volume:n,togglePlay:r,toggleMute:i,setVolume:a}=Kie(),[o,c]=v.useState(0),[d,h]=v.useState([]),m=[{id:1,text:"Welcome to Islam Kids Zone",subtext:"Learn, Play & Grow in Faith",gradient:"from-blue-600 via-purple-600 to-pink-600"},{id:2,text:'"Whoever guides someone to goodness will have a reward like one who did it."',subtext:" Sahih Muslim",gradient:"from-green-600 via-teal-600 to-cyan-600"},{id:3,text:`"The best among you are those who learn the Qur'an and teach it."`,subtext:" Sahih Bukhari",gradient:"from-amber-600 via-orange-600 to-red-600"},{id:4,text:'"Remember Allah much so that you may be successful."',subtext:" Qur'an 62:10",gradient:"from-purple-600 via-pink-600 to-rose-600"}];v.useEffect(()=>{const g=setInterval(()=>{c(x=>(x+1)%m.length)},5e3);return()=>clearInterval(g)},[]),v.useEffect(()=>{(async()=>{try{const N=(await dd.list()||[]).filter(w=>(w.active??!0)&&(w.placement||"home")==="home");N.sort((w,j)=>(w.order??0)-(j.order??0)),h(N)}catch{try{const N=localStorage.getItem("homepage_sponsors"),w=N?JSON.parse(N):[],j=(Array.isArray(w)?w:[]).filter(_=>(_.active??!0)&&(_.placement||"home")==="home");j.sort((_,E)=>(_.order??0)-(E.order??0)),h(j)}catch{h([])}}})()},[]);const f=g=>{const x=parseFloat(g.target.value);a(x)};return s.jsxs("div",{className:"min-h-screen",children:[s.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"fixed bottom-6 left-4 md:left-6 z-50",children:s.jsx("a",{href:"https://wa.me/447447999284?text=Assalamu%20Alaikum!%20I%20have%20a%20question%20about%20Islam%20Kids%20Zone.",target:"_blank",rel:"noopener noreferrer",className:"block bg-green-500 hover:bg-green-600 text-white rounded-full p-3 md:p-4 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-110","aria-label":"Chat on WhatsApp",children:s.jsx(SB,{className:"w-6 h-6 md:w-8 md:h-8"})})}),s.jsxs("section",{className:"relative py-12 md:py-20 px-4 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-100 via-purple-100 to-pink-100 opacity-50"}),s.jsx("div",{className:"max-w-6xl mx-auto relative z-10",children:s.jsxs(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[s.jsx(ne.div,{className:"text-6xl md:text-8xl mb-6",animate:{rotate:[0,10,-10,0]},transition:{duration:3,repeat:1/0,repeatDelay:2},children:""}),s.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-gray-900 mb-4 md:mb-6",children:["Welcome to ",s.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600",children:"Islam Kids Zone"})]}),s.jsx("p",{className:"text-lg md:text-xl text-gray-700 mb-6 md:mb-8 max-w-3xl mx-auto",children:"A comprehensive Islamic learning platform designed for children. Learn through interactive games, stories, and engaging activities."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx(Rt,{to:rt("Games"),children:s.jsxs(G,{size:"lg",className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white text-base md:text-lg px-6 md:px-8 py-4 md:py-6 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[s.jsx(_i,{className:"mr-2 w-5 h-5 md:w-6 md:h-6"}),"Start Learning"]})}),s.jsx(Rt,{to:rt("Signup"),children:s.jsxs(G,{size:"lg",className:"bg-gradient-to-r from-green-500 to-teal-500 hover:from-green-600 hover:to-teal-600 text-white text-base md:text-lg px-6 md:px-8 py-4 md:py-6 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[s.jsx(Nw,{className:"mr-2 w-5 h-5 md:w-6 md:h-6"}),"Signup"]})})]})]})})]}),s.jsx("section",{className:"py-4 px-4 bg-gradient-to-r from-amber-500 to-orange-500",children:s.jsx("div",{className:"max-w-6xl mx-auto",children:s.jsx(ne.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl border-4 border-amber-400",children:s.jsx("div",{className:"p-6 md:p-8",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"text-4xl md:text-5xl flex-shrink-0 animate-bounce",children:""}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx(_i,{className:"w-6 h-6 text-amber-600"}),"Website Under Development"]}),s.jsxs("div",{className:"space-y-2 text-gray-700",children:[s.jsx("p",{className:"text-base md:text-lg font-semibold",children:" We are currently working on exciting website improvements!"}),s.jsxs("p",{className:"text-sm md:text-base",children:["Our team is enhancing your experience with new features, better performance, and more Islamic content. The website is under construction and testing for the next ",s.jsx("strong",{className:"text-amber-600",children:"two weeks"}),"."]}),s.jsxs("div",{className:"bg-amber-50 border-2 border-amber-200 rounded-lg p-4 mt-4",children:[s.jsxs("p",{className:"text-sm md:text-base font-semibold text-amber-900 flex items-center gap-2",children:[s.jsx(nh,{className:"w-5 h-5 text-red-500 fill-red-500"}),"Please kindly support us during this time!"]}),s.jsx("p",{className:"text-xs md:text-sm text-amber-800 mt-2",children:"If you encounter any issues or have suggestions, please use the WhatsApp button or contact us. Thank you for your patience and understanding! "})]})]})]})]})})})})}),s.jsx("section",{className:"py-8 md:py-12 px-4",children:s.jsx("div",{className:"max-w-6xl mx-auto",children:s.jsxs("div",{className:"relative overflow-hidden rounded-2xl shadow-2xl",children:[s.jsx(ri,{mode:"wait",children:s.jsx(ne.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:.5},className:`bg-gradient-to-r ${m[o].gradient} flex items-center justify-center p-8 md:p-12`,children:s.jsxs("div",{className:"text-center text-white",children:[s.jsx("h2",{className:"text-2xl md:text-4xl font-bold mb-2",children:m[o].text}),m[o].subtext&&s.jsx("p",{className:"text-sm md:text-lg text-white/90",children:m[o].subtext})]})},o)}),s.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex gap-2 z-10",children:m.map((g,x)=>s.jsx("button",{onClick:()=>c(x),className:`w-2 h-2 md:w-3 md:h-3 rounded-full transition-all ${x===o?"bg-white w-6 md:w-8":"bg-white/50"}`,"aria-label":`Go to slide ${x+1}`},x))})]})})}),s.jsx("section",{className:"py-8 md:py-12 px-4 bg-white",children:s.jsx("div",{className:"max-w-6xl mx-auto",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-center p-6 bg-gradient-to-br from-blue-50 to-purple-50 rounded-2xl border-2 border-blue-200",children:[s.jsx("div",{className:"text-5xl mb-4",children:""}),s.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-2",children:"12+"}),s.jsx("p",{className:"text-gray-600 font-medium",children:"Interactive Games"})]}),s.jsxs(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-center p-6 bg-gradient-to-br from-green-50 to-teal-50 rounded-2xl border-2 border-green-200",children:[s.jsx("div",{className:"text-5xl mb-4",children:""}),s.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-2",children:"7"}),s.jsx("p",{className:"text-gray-600 font-medium",children:"Educational Modules"})]}),s.jsxs(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-center p-6 bg-gradient-to-br from-amber-50 to-orange-50 rounded-2xl border-2 border-amber-200",children:[s.jsx("div",{className:"text-5xl mb-4",children:""}),s.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-2",children:"100+"}),s.jsx("p",{className:"text-gray-600 font-medium",children:"Active Learners"})]})]})})}),s.jsx("section",{className:"py-8 md:py-12 px-4 bg-gradient-to-br from-purple-50 to-blue-50",children:s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:s.jsx(se,{className:"border-4 border-purple-300 shadow-2xl bg-gradient-to-r from-purple-600 to-blue-600",children:s.jsxs(ae,{className:"p-6 md:p-8",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[s.jsx(VR,{className:"w-10 h-10 md:w-12 md:h-12 text-white"}),s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white",children:"Islamic Radio "})]}),s.jsx("p",{className:"text-lg md:text-xl text-white/90",children:"Listen to Live Islamic Content 24/7"}),s.jsx("p",{className:"text-sm text-white/80 mt-2",children:"Radio continues playing as you browse the site!"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[s.jsx(G,{onClick:r,size:"lg",className:"bg-white/20 hover:bg-white/30 text-white border-4 border-white/40 rounded-full w-20 h-20 md:w-24 md:h-24 p-0 shadow-xl",children:t?s.jsx(Fl,{className:"w-10 h-10 md:w-12 md:h-12"}):s.jsx(dr,{className:"w-10 h-10 md:w-12 md:h-12 ml-1"})}),s.jsxs("div",{className:"flex items-center gap-4 bg-white/20 px-6 py-4 rounded-full backdrop-blur-sm w-full sm:w-auto sm:min-w-[300px]",children:[s.jsx(G,{onClick:i,size:"sm",variant:"ghost",className:"text-white hover:bg-white/20 p-2 h-10 w-10",children:e?s.jsx(Jm,{className:"w-6 h-6"}):s.jsx(Nl,{className:"w-6 h-6"})}),s.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:n,onChange:f,className:"flex-1 h-3 bg-white/30 rounded-lg appearance-none cursor-pointer accent-white"})]})]}),s.jsx("div",{className:"text-center mt-6",children:s.jsx("p",{className:"text-sm text-white/80",children:t?" Now Playing - Islamic Radio":"Click play to start listening"})})]})})})})}),s.jsx("section",{className:"py-12 md:py-16 px-4 bg-white",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Our Core Values"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Building strong Islamic character and knowledge through engaging content"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8",children:Jie.map((g,x)=>s.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*x},children:s.jsx(se,{className:"h-full hover:shadow-xl transition-shadow duration-300 border-2 hover:border-purple-300",children:s.jsxs(ae,{className:"p-6 text-center",children:[s.jsx(g.icon,{className:`w-16 h-16 mx-auto mb-4 ${g.color}`}),s.jsx("h3",{className:"text-xl font-bold mb-2 text-gray-900",children:g.title}),s.jsx("p",{className:"text-gray-600",children:g.description})]})})},x))})]})}),s.jsx("section",{className:"py-12 md:py-16 px-4 bg-gradient-to-br from-blue-50 to-purple-50",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Comprehensive Islamic Learning"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Explore our wide range of educational resources designed for children"})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:Yie.map((g,x)=>s.jsx(ne.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1*x},whileHover:{scale:1.05},children:s.jsx(Rt,{to:rt(g.link),children:s.jsx(se,{className:"h-full hover:shadow-2xl transition-all duration-300 cursor-pointer border-2 hover:border-purple-300",children:s.jsxs(ae,{className:"p-6 text-center",children:[s.jsx("div",{className:`w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-r ${g.color} flex items-center justify-center`,children:s.jsx(g.icon,{className:"w-8 h-8 text-white"})}),s.jsx("h3",{className:"text-lg font-bold mb-2 text-gray-900",children:g.title}),s.jsx("p",{className:"text-sm text-gray-600",children:g.description})]})})})},x))})]})}),s.jsx("section",{className:"py-12 md:py-16 px-4 bg-white",children:s.jsx("div",{className:"max-w-6xl mx-auto",children:s.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:s.jsx(se,{className:"border-4 border-amber-400 shadow-2xl bg-gradient-to-br from-amber-50 to-orange-50",children:s.jsx(ae,{className:"p-8 md:p-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-6xl mb-6",children:""}),s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Monthly Learning Competition"}),s.jsx("p",{className:"text-lg text-gray-700 mb-6 max-w-2xl mx-auto",children:"Compete with learners worldwide! Top 3 students each month win amazing prizes. Play games, complete challenges, and climb the leaderboard."}),s.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[s.jsx(Rt,{to:rt("Leaderboard"),children:s.jsxs(G,{size:"lg",className:"bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600",children:[s.jsx(Kr,{className:"w-5 h-5 mr-2"}),"View Leaderboard"]})}),s.jsx(Rt,{to:rt("Games"),children:s.jsxs(G,{size:"lg",variant:"outline",className:"border-2 border-amber-500",children:[s.jsx(jl,{className:"w-5 h-5 mr-2"}),"Start Playing"]})})]})]})})})})})}),s.jsx("section",{className:"py-12 md:py-16 px-4 bg-gradient-to-br from-purple-50 to-pink-50",children:s.jsx("div",{className:"max-w-4xl mx-auto text-center",children:s.jsxs(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Join Our Community"}),s.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Follow us for daily Islamic inspiration and educational content"}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-4 md:gap-6",children:[s.jsxs("a",{href:"https://www.tiktok.com/@islamkidszone",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-black hover:bg-gray-800 text-white px-6 py-3 rounded-full transition-all duration-300 transform hover:scale-105 shadow-lg",children:[s.jsx(Md,{className:"w-5 h-5"}),s.jsx("span",{className:"font-semibold",children:"TikTok"})]}),s.jsxs("a",{href:"https://www.instagram.com/islamkidszone",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-6 py-3 rounded-full transition-all duration-300 transform hover:scale-105 shadow-lg",children:[s.jsx(Md,{className:"w-5 h-5"}),s.jsx("span",{className:"font-semibold",children:"Instagram"})]})]})]})})}),s.jsx("section",{className:"py-16 md:py-20 px-4 bg-gradient-to-r from-blue-600 to-purple-600",children:s.jsx("div",{className:"max-w-4xl mx-auto text-center",children:s.jsxs(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[s.jsx("h2",{className:"text-3xl md:text-5xl font-bold text-white mb-6",children:"Start Your Islamic Learning Journey Today"}),s.jsx("p",{className:"text-lg md:text-xl text-blue-100 mb-8",children:"Join thousands of children learning about Islam through our engaging platform"}),s.jsx(Rt,{to:rt("Games"),children:s.jsxs(G,{size:"lg",className:"bg-white text-purple-600 hover:bg-blue-50 text-base md:text-lg px-8 md:px-12 py-4 md:py-6 rounded-full shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105",children:[s.jsx(_i,{className:"mr-2 w-5 h-5 md:w-6 md:h-6"}),"Get Started Now"]})})]})})})]})}const Xie="modulepreload",Zie=function(t){return"/"+t},_A={},sn=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let o=function(h){return Promise.all(h.map(m=>Promise.resolve(m).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));i=o(n.map(h=>{if(h=Zie(h),h in _A)return;_A[h]=!0;const m=h.endsWith(".css"),f=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${f}`))return;const g=document.createElement("link");if(g.rel=m?"stylesheet":Xie,m||(g.as="script"),g.crossOrigin="",g.href=h,d&&g.setAttribute("nonce",d),document.head.appendChild(g),m)return new Promise((x,N)=>{g.addEventListener("load",x),g.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return i.then(o=>{for(const c of o||[])c.status==="rejected"&&a(c.reason);return e().catch(a)})};var xh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},eae={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},rl,gj,rR,tae=(rR=class{constructor(){Xe(this,rl,eae);Xe(this,gj,!1)}setTimeoutProvider(t){Le(this,rl,t)}setTimeout(t,e){return Y(this,rl).setTimeout(t,e)}clearTimeout(t){Y(this,rl).clearTimeout(t)}setInterval(t,e){return Y(this,rl).setInterval(t,e)}clearInterval(t){Y(this,rl).clearInterval(t)}},rl=new WeakMap,gj=new WeakMap,rR),Ec=new tae;function nae(t){setTimeout(t,0)}var Xc=typeof window>"u"||"Deno"in globalThis;function Hr(){}function rae(t,e){return typeof t=="function"?t(e):t}function I1(t){return typeof t=="number"&&t>=0&&t!==1/0}function jO(t,e){return Math.max(t+(e||0)-Date.now(),0)}function bl(t,e){return typeof t=="function"?t(e):t}function Ys(t,e){return typeof t=="function"?t(e):t}function NA(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:o,stale:c}=t;if(o){if(r){if(e.queryHash!==IN(o,e.options))return!1}else if(!wf(e.queryKey,o))return!1}if(n!=="all"){const d=e.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||i&&i!==e.state.fetchStatus||a&&!a(e))}function SA(t,e){const{exact:n,status:r,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(n){if(Zc(e.options.mutationKey)!==Zc(a))return!1}else if(!wf(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function IN(t,e){return((e==null?void 0:e.queryKeyHashFn)||Zc)(t)}function Zc(t){return JSON.stringify(t,(e,n)=>R1(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function wf(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>wf(t[n],e[n])):!1}var sae=Object.prototype.hasOwnProperty;function _O(t,e){if(t===e)return t;const n=EA(t)&&EA(e);if(!n&&!(R1(t)&&R1(e)))return e;const i=(n?t:Object.keys(t)).length,a=n?e:Object.keys(e),o=a.length,c=n?new Array(o):{};let d=0;for(let h=0;h<o;h++){const m=n?h:a[h],f=t[m],g=e[m];if(f===g){c[m]=f,(n?h<i:sae.call(t,m))&&d++;continue}if(f===null||g===null||typeof f!="object"||typeof g!="object"){c[m]=g;continue}const x=_O(f,g);c[m]=x,x===f&&d++}return i===o&&d===i?t:c}function ey(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function EA(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function R1(t){if(!CA(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!CA(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function CA(t){return Object.prototype.toString.call(t)==="[object Object]"}function iae(t){return new Promise(e=>{Ec.setTimeout(e,t)})}function P1(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?_O(t,e):e}function aae(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function oae(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var RN=Symbol();function NO(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===RN?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function SO(t,e){return typeof t=="function"?t(...e):!!t}var kc,sl,jd,sR,lae=(sR=class extends xh{constructor(){super();Xe(this,kc);Xe(this,sl);Xe(this,jd);Le(this,jd,e=>{if(!Xc&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Y(this,sl)||this.setEventListener(Y(this,jd))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,sl))==null||e.call(this),Le(this,sl,void 0))}setEventListener(e){var n;Le(this,jd,e),(n=Y(this,sl))==null||n.call(this),Le(this,sl,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){Y(this,kc)!==e&&(Le(this,kc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof Y(this,kc)=="boolean"?Y(this,kc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},kc=new WeakMap,sl=new WeakMap,jd=new WeakMap,sR),PN=new lae;function D1(){let t,e;const n=new Promise((i,a)=>{t=i,e=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var cae=nae;function uae(){let t=[],e=0,n=c=>{c()},r=c=>{c()},i=cae;const a=c=>{e?t.push(c):i(()=>{n(c)})},o=()=>{const c=t;t=[],c.length&&i(()=>{r(()=>{c.forEach(d=>{n(d)})})})};return{batch:c=>{let d;e++;try{d=c()}finally{e--,e||o()}return d},batchCalls:c=>(...d)=>{a(()=>{c(...d)})},schedule:a,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{i=c}}}var nr=uae(),_d,il,Nd,iR,dae=(iR=class extends xh{constructor(){super();Xe(this,_d,!0);Xe(this,il);Xe(this,Nd);Le(this,Nd,e=>{if(!Xc&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Y(this,il)||this.setEventListener(Y(this,Nd))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,il))==null||e.call(this),Le(this,il,void 0))}setEventListener(e){var n;Le(this,Nd,e),(n=Y(this,il))==null||n.call(this),Le(this,il,e(this.setOnline.bind(this)))}setOnline(e){Y(this,_d)!==e&&(Le(this,_d,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return Y(this,_d)}},_d=new WeakMap,il=new WeakMap,Nd=new WeakMap,iR),ty=new dae;function hae(t){return Math.min(1e3*2**t,3e4)}function EO(t){return(t??"online")==="online"?ty.isOnline():!0}var M1=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function CO(t){let e=!1,n=0,r;const i=D1(),a=()=>i.status!=="pending",o=w=>{var j;if(!a()){const _=new M1(w);g(_),(j=t.onCancel)==null||j.call(t,_)}},c=()=>{e=!0},d=()=>{e=!1},h=()=>PN.isFocused()&&(t.networkMode==="always"||ty.isOnline())&&t.canRun(),m=()=>EO(t.networkMode)&&t.canRun(),f=w=>{a()||(r==null||r(),i.resolve(w))},g=w=>{a()||(r==null||r(),i.reject(w))},x=()=>new Promise(w=>{var j;r=_=>{(a()||h())&&w(_)},(j=t.onPause)==null||j.call(t)}).then(()=>{var w;r=void 0,a()||(w=t.onContinue)==null||w.call(t)}),N=()=>{if(a())return;let w;const j=n===0?t.initialPromise:void 0;try{w=j??t.fn()}catch(_){w=Promise.reject(_)}Promise.resolve(w).then(f).catch(_=>{var F;if(a())return;const E=t.retry??(Xc?0:3),k=t.retryDelay??hae,C=typeof k=="function"?k(n,_):k,R=E===!0||typeof E=="number"&&n<E||typeof E=="function"&&E(n,_);if(e||!R){g(_);return}n++,(F=t.onFail)==null||F.call(t,n,_),iae(C).then(()=>h()?void 0:x()).then(()=>{e?g(_):N()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(r==null||r(),i),cancelRetry:c,continueRetry:d,canStart:m,start:()=>(m()?N():x().then(N),i)}}var Tc,aR,kO=(aR=class{constructor(){Xe(this,Tc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),I1(this.gcTime)&&Le(this,Tc,Ec.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Xc?1/0:300*1e3))}clearGcTimeout(){Y(this,Tc)&&(Ec.clearTimeout(Y(this,Tc)),Le(this,Tc,void 0))}},Tc=new WeakMap,aR),Ac,Sd,Qs,Ic,cr,Nf,Rc,vi,Ha,oR,mae=(oR=class extends kO{constructor(e){super();Xe(this,vi);Xe(this,Ac);Xe(this,Sd);Xe(this,Qs);Xe(this,Ic);Xe(this,cr);Xe(this,Nf);Xe(this,Rc);Le(this,Rc,!1),Le(this,Nf,e.defaultOptions),this.setOptions(e.options),this.observers=[],Le(this,Ic,e.client),Le(this,Qs,Y(this,Ic).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Le(this,Ac,TA(this.options)),this.state=e.state??Y(this,Ac),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=Y(this,cr))==null?void 0:e.promise}setOptions(e){if(this.options={...Y(this,Nf),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=TA(this.options);n.data!==void 0&&(this.setState(kA(n.data,n.dataUpdatedAt)),Le(this,Ac,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Y(this,Qs).remove(this)}setData(e,n){const r=P1(this.state.data,e,this.options);return Nt(this,vi,Ha).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Nt(this,vi,Ha).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=Y(this,cr))==null?void 0:r.promise;return(i=Y(this,cr))==null||i.cancel(e),n?n.then(Hr).catch(Hr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Y(this,Ac))}isActive(){return this.observers.some(e=>Ys(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===RN||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>bl(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!jO(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=Y(this,cr))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=Y(this,cr))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Y(this,Qs).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(Y(this,cr)&&(Y(this,Rc)?Y(this,cr).cancel({revert:!0}):Y(this,cr).cancelRetry()),this.scheduleGc()),Y(this,Qs).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Nt(this,vi,Ha).call(this,{type:"invalidate"})}async fetch(e,n){var d,h,m,f,g,x,N,w,j,_,E,k;if(this.state.fetchStatus!=="idle"&&((d=Y(this,cr))==null?void 0:d.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(Y(this,cr))return Y(this,cr).continueRetry(),Y(this,cr).promise}if(e&&this.setOptions(e),!this.options.queryFn){const C=this.observers.find(R=>R.options.queryFn);C&&this.setOptions(C.options)}const r=new AbortController,i=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(Le(this,Rc,!0),r.signal)})},a=()=>{const C=NO(this.options,n),F=(()=>{const M={client:Y(this,Ic),queryKey:this.queryKey,meta:this.meta};return i(M),M})();return Le(this,Rc,!1),this.options.persister?this.options.persister(C,F,this):C(F)},c=(()=>{const C={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:Y(this,Ic),state:this.state,fetchFn:a};return i(C),C})();(h=this.options.behavior)==null||h.onFetch(c,this),Le(this,Sd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((m=c.fetchOptions)==null?void 0:m.meta))&&Nt(this,vi,Ha).call(this,{type:"fetch",meta:(f=c.fetchOptions)==null?void 0:f.meta}),Le(this,cr,CO({initialPromise:n==null?void 0:n.initialPromise,fn:c.fetchFn,onCancel:C=>{C instanceof M1&&C.revert&&this.setState({...Y(this,Sd),fetchStatus:"idle"}),r.abort()},onFail:(C,R)=>{Nt(this,vi,Ha).call(this,{type:"failed",failureCount:C,error:R})},onPause:()=>{Nt(this,vi,Ha).call(this,{type:"pause"})},onContinue:()=>{Nt(this,vi,Ha).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0}));try{const C=await Y(this,cr).start();if(C===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(C),(x=(g=Y(this,Qs).config).onSuccess)==null||x.call(g,C,this),(w=(N=Y(this,Qs).config).onSettled)==null||w.call(N,C,this.state.error,this),C}catch(C){if(C instanceof M1){if(C.silent)return Y(this,cr).promise;if(C.revert){if(this.state.data===void 0)throw C;return this.state.data}}throw Nt(this,vi,Ha).call(this,{type:"error",error:C}),(_=(j=Y(this,Qs).config).onError)==null||_.call(j,C,this),(k=(E=Y(this,Qs).config).onSettled)==null||k.call(E,this.state.data,C,this),C}finally{this.scheduleGc()}}},Ac=new WeakMap,Sd=new WeakMap,Qs=new WeakMap,Ic=new WeakMap,cr=new WeakMap,Nf=new WeakMap,Rc=new WeakMap,vi=new WeakSet,Ha=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...TO(r.data,this.options),fetchMeta:e.meta??null};case"success":const i={...r,...kA(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Le(this,Sd,e.manual?i:void 0),i;case"error":const a=e.error;return{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),nr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Y(this,Qs).notify({query:this,type:"updated",action:e})})},oR);function TO(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:EO(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function kA(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function TA(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var as,Lt,Sf,$r,Pc,Ed,Wa,al,Ef,Cd,kd,Dc,Mc,ol,Td,Jt,Cm,O1,L1,F1,V1,U1,z1,B1,AO,lR,fae=(lR=class extends xh{constructor(e,n){super();Xe(this,Jt);Xe(this,as);Xe(this,Lt);Xe(this,Sf);Xe(this,$r);Xe(this,Pc);Xe(this,Ed);Xe(this,Wa);Xe(this,al);Xe(this,Ef);Xe(this,Cd);Xe(this,kd);Xe(this,Dc);Xe(this,Mc);Xe(this,ol);Xe(this,Td,new Set);this.options=n,Le(this,as,e),Le(this,al,null),Le(this,Wa,D1()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Y(this,Lt).addObserver(this),AA(Y(this,Lt),this.options)?Nt(this,Jt,Cm).call(this):this.updateResult(),Nt(this,Jt,V1).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return $1(Y(this,Lt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return $1(Y(this,Lt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Nt(this,Jt,U1).call(this),Nt(this,Jt,z1).call(this),Y(this,Lt).removeObserver(this)}setOptions(e){const n=this.options,r=Y(this,Lt);if(this.options=Y(this,as).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ys(this.options.enabled,Y(this,Lt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Nt(this,Jt,B1).call(this),Y(this,Lt).setOptions(this.options),n._defaulted&&!ey(this.options,n)&&Y(this,as).getQueryCache().notify({type:"observerOptionsUpdated",query:Y(this,Lt),observer:this});const i=this.hasListeners();i&&IA(Y(this,Lt),r,this.options,n)&&Nt(this,Jt,Cm).call(this),this.updateResult(),i&&(Y(this,Lt)!==r||Ys(this.options.enabled,Y(this,Lt))!==Ys(n.enabled,Y(this,Lt))||bl(this.options.staleTime,Y(this,Lt))!==bl(n.staleTime,Y(this,Lt)))&&Nt(this,Jt,O1).call(this);const a=Nt(this,Jt,L1).call(this);i&&(Y(this,Lt)!==r||Ys(this.options.enabled,Y(this,Lt))!==Ys(n.enabled,Y(this,Lt))||a!==Y(this,ol))&&Nt(this,Jt,F1).call(this,a)}getOptimisticResult(e){const n=Y(this,as).getQueryCache().build(Y(this,as),e),r=this.createResult(n,e);return gae(this,r)&&(Le(this,$r,r),Le(this,Ed,this.options),Le(this,Pc,Y(this,Lt).state)),r}getCurrentResult(){return Y(this,$r)}trackResult(e,n){return new Proxy(e,{get:(r,i)=>(this.trackProp(i),n==null||n(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&Y(this,Wa).status==="pending"&&Y(this,Wa).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,i))})}trackProp(e){Y(this,Td).add(e)}getCurrentQuery(){return Y(this,Lt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=Y(this,as).defaultQueryOptions(e),r=Y(this,as).getQueryCache().build(Y(this,as),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return Nt(this,Jt,Cm).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),Y(this,$r)))}createResult(e,n){var I;const r=Y(this,Lt),i=this.options,a=Y(this,$r),o=Y(this,Pc),c=Y(this,Ed),h=e!==r?e.state:Y(this,Sf),{state:m}=e;let f={...m},g=!1,x;if(n._optimisticResults){const L=this.hasListeners(),U=!L&&AA(e,n),D=L&&IA(e,r,n,i);(U||D)&&(f={...f,...TO(m.data,e.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:N,errorUpdatedAt:w,status:j}=f;x=f.data;let _=!1;if(n.placeholderData!==void 0&&x===void 0&&j==="pending"){let L;a!=null&&a.isPlaceholderData&&n.placeholderData===(c==null?void 0:c.placeholderData)?(L=a.data,_=!0):L=typeof n.placeholderData=="function"?n.placeholderData((I=Y(this,kd))==null?void 0:I.state.data,Y(this,kd)):n.placeholderData,L!==void 0&&(j="success",x=P1(a==null?void 0:a.data,L,n),g=!0)}if(n.select&&x!==void 0&&!_)if(a&&x===(o==null?void 0:o.data)&&n.select===Y(this,Ef))x=Y(this,Cd);else try{Le(this,Ef,n.select),x=n.select(x),x=P1(a==null?void 0:a.data,x,n),Le(this,Cd,x),Le(this,al,null)}catch(L){Le(this,al,L)}Y(this,al)&&(N=Y(this,al),x=Y(this,Cd),w=Date.now(),j="error");const E=f.fetchStatus==="fetching",k=j==="pending",C=j==="error",R=k&&E,F=x!==void 0,P={status:j,fetchStatus:f.fetchStatus,isPending:k,isSuccess:j==="success",isError:C,isInitialLoading:R,isLoading:R,data:x,dataUpdatedAt:f.dataUpdatedAt,error:N,errorUpdatedAt:w,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>h.dataUpdateCount||f.errorUpdateCount>h.errorUpdateCount,isFetching:E,isRefetching:E&&!k,isLoadingError:C&&!F,isPaused:f.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:C&&F,isStale:DN(e,n),refetch:this.refetch,promise:Y(this,Wa),isEnabled:Ys(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const L=V=>{P.status==="error"?V.reject(P.error):P.data!==void 0&&V.resolve(P.data)},U=()=>{const V=Le(this,Wa,P.promise=D1());L(V)},D=Y(this,Wa);switch(D.status){case"pending":e.queryHash===r.queryHash&&L(D);break;case"fulfilled":(P.status==="error"||P.data!==D.value)&&U();break;case"rejected":(P.status!=="error"||P.error!==D.reason)&&U();break}}return P}updateResult(){const e=Y(this,$r),n=this.createResult(Y(this,Lt),this.options);if(Le(this,Pc,Y(this,Lt).state),Le(this,Ed,this.options),Y(this,Pc).data!==void 0&&Le(this,kd,Y(this,Lt)),ey(n,e))return;Le(this,$r,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!Y(this,Td).size)return!0;const o=new Set(a??Y(this,Td));return this.options.throwOnError&&o.add("error"),Object.keys(Y(this,$r)).some(c=>{const d=c;return Y(this,$r)[d]!==e[d]&&o.has(d)})};Nt(this,Jt,AO).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Nt(this,Jt,V1).call(this)}},as=new WeakMap,Lt=new WeakMap,Sf=new WeakMap,$r=new WeakMap,Pc=new WeakMap,Ed=new WeakMap,Wa=new WeakMap,al=new WeakMap,Ef=new WeakMap,Cd=new WeakMap,kd=new WeakMap,Dc=new WeakMap,Mc=new WeakMap,ol=new WeakMap,Td=new WeakMap,Jt=new WeakSet,Cm=function(e){Nt(this,Jt,B1).call(this);let n=Y(this,Lt).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Hr)),n},O1=function(){Nt(this,Jt,U1).call(this);const e=bl(this.options.staleTime,Y(this,Lt));if(Xc||Y(this,$r).isStale||!I1(e))return;const r=jO(Y(this,$r).dataUpdatedAt,e)+1;Le(this,Dc,Ec.setTimeout(()=>{Y(this,$r).isStale||this.updateResult()},r))},L1=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Y(this,Lt)):this.options.refetchInterval)??!1},F1=function(e){Nt(this,Jt,z1).call(this),Le(this,ol,e),!(Xc||Ys(this.options.enabled,Y(this,Lt))===!1||!I1(Y(this,ol))||Y(this,ol)===0)&&Le(this,Mc,Ec.setInterval(()=>{(this.options.refetchIntervalInBackground||PN.isFocused())&&Nt(this,Jt,Cm).call(this)},Y(this,ol)))},V1=function(){Nt(this,Jt,O1).call(this),Nt(this,Jt,F1).call(this,Nt(this,Jt,L1).call(this))},U1=function(){Y(this,Dc)&&(Ec.clearTimeout(Y(this,Dc)),Le(this,Dc,void 0))},z1=function(){Y(this,Mc)&&(Ec.clearInterval(Y(this,Mc)),Le(this,Mc,void 0))},B1=function(){const e=Y(this,as).getQueryCache().build(Y(this,as),this.options);if(e===Y(this,Lt))return;const n=Y(this,Lt);Le(this,Lt,e),Le(this,Sf,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},AO=function(e){nr.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(Y(this,$r))}),Y(this,as).getQueryCache().notify({query:Y(this,Lt),type:"observerResultsUpdated"})})},lR);function pae(t,e){return Ys(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function AA(t,e){return pae(t,e)||t.state.data!==void 0&&$1(t,e,e.refetchOnMount)}function $1(t,e,n){if(Ys(e.enabled,t)!==!1&&bl(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&DN(t,e)}return!1}function IA(t,e,n,r){return(t!==e||Ys(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&DN(t,n)}function DN(t,e){return Ys(e.enabled,t)!==!1&&t.isStaleByTime(bl(e.staleTime,t))}function gae(t,e){return!ey(t.getCurrentResult(),e)}function RA(t){return{onFetch:(e,n)=>{var m,f,g,x,N;const r=e.options,i=(g=(f=(m=e.fetchOptions)==null?void 0:m.meta)==null?void 0:f.fetchMore)==null?void 0:g.direction,a=((x=e.state.data)==null?void 0:x.pages)||[],o=((N=e.state.data)==null?void 0:N.pageParams)||[];let c={pages:[],pageParams:[]},d=0;const h=async()=>{let w=!1;const j=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(e.signal.aborted?w=!0:e.signal.addEventListener("abort",()=>{w=!0}),e.signal)})},_=NO(e.options,e.fetchOptions),E=async(k,C,R)=>{if(w)return Promise.reject();if(C==null&&k.pages.length)return Promise.resolve(k);const M=(()=>{const U={client:e.client,queryKey:e.queryKey,pageParam:C,direction:R?"backward":"forward",meta:e.options.meta};return j(U),U})(),P=await _(M),{maxPages:I}=e.options,L=R?oae:aae;return{pages:L(k.pages,P,I),pageParams:L(k.pageParams,C,I)}};if(i&&a.length){const k=i==="backward",C=k?xae:PA,R={pages:a,pageParams:o},F=C(r,R);c=await E(R,F,k)}else{const k=t??a.length;do{const C=d===0?o[0]??r.initialPageParam:PA(r,c);if(d>0&&C==null)break;c=await E(c,C),d++}while(d<k)}return c};e.options.persister?e.fetchFn=()=>{var w,j;return(j=(w=e.options).persister)==null?void 0:j.call(w,h,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=h}}}function PA(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function xae(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Cf,ea,qr,Oc,ta,Jo,cR,yae=(cR=class extends kO{constructor(e){super();Xe(this,ta);Xe(this,Cf);Xe(this,ea);Xe(this,qr);Xe(this,Oc);Le(this,Cf,e.client),this.mutationId=e.mutationId,Le(this,qr,e.mutationCache),Le(this,ea,[]),this.state=e.state||IO(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Y(this,ea).includes(e)||(Y(this,ea).push(e),this.clearGcTimeout(),Y(this,qr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Le(this,ea,Y(this,ea).filter(n=>n!==e)),this.scheduleGc(),Y(this,qr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Y(this,ea).length||(this.state.status==="pending"?this.scheduleGc():Y(this,qr).remove(this))}continue(){var e;return((e=Y(this,Oc))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,c,d,h,m,f,g,x,N,w,j,_,E,k,C,R,F,M,P,I;const n=()=>{Nt(this,ta,Jo).call(this,{type:"continue"})},r={client:Y(this,Cf),meta:this.options.meta,mutationKey:this.options.mutationKey};Le(this,Oc,CO({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(L,U)=>{Nt(this,ta,Jo).call(this,{type:"failed",failureCount:L,error:U})},onPause:()=>{Nt(this,ta,Jo).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Y(this,qr).canRun(this)}));const i=this.state.status==="pending",a=!Y(this,Oc).canStart();try{if(i)n();else{Nt(this,ta,Jo).call(this,{type:"pending",variables:e,isPaused:a}),await((c=(o=Y(this,qr).config).onMutate)==null?void 0:c.call(o,e,this,r));const U=await((h=(d=this.options).onMutate)==null?void 0:h.call(d,e,r));U!==this.state.context&&Nt(this,ta,Jo).call(this,{type:"pending",context:U,variables:e,isPaused:a})}const L=await Y(this,Oc).start();return await((f=(m=Y(this,qr).config).onSuccess)==null?void 0:f.call(m,L,e,this.state.context,this,r)),await((x=(g=this.options).onSuccess)==null?void 0:x.call(g,L,e,this.state.context,r)),await((w=(N=Y(this,qr).config).onSettled)==null?void 0:w.call(N,L,null,this.state.variables,this.state.context,this,r)),await((_=(j=this.options).onSettled)==null?void 0:_.call(j,L,null,e,this.state.context,r)),Nt(this,ta,Jo).call(this,{type:"success",data:L}),L}catch(L){try{throw await((k=(E=Y(this,qr).config).onError)==null?void 0:k.call(E,L,e,this.state.context,this,r)),await((R=(C=this.options).onError)==null?void 0:R.call(C,L,e,this.state.context,r)),await((M=(F=Y(this,qr).config).onSettled)==null?void 0:M.call(F,void 0,L,this.state.variables,this.state.context,this,r)),await((I=(P=this.options).onSettled)==null?void 0:I.call(P,void 0,L,e,this.state.context,r)),L}finally{Nt(this,ta,Jo).call(this,{type:"error",error:L})}}finally{Y(this,qr).runNext(this)}}},Cf=new WeakMap,ea=new WeakMap,qr=new WeakMap,Oc=new WeakMap,ta=new WeakSet,Jo=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),nr.batch(()=>{Y(this,ea).forEach(r=>{r.onMutationUpdate(e)}),Y(this,qr).notify({mutation:this,type:"updated",action:e})})},cR);function IO(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ka,bi,kf,uR,vae=(uR=class extends xh{constructor(e={}){super();Xe(this,Ka);Xe(this,bi);Xe(this,kf);this.config=e,Le(this,Ka,new Set),Le(this,bi,new Map),Le(this,kf,0)}build(e,n,r){const i=new yae({client:e,mutationCache:this,mutationId:++ug(this,kf)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){Y(this,Ka).add(e);const n=Og(e);if(typeof n=="string"){const r=Y(this,bi).get(n);r?r.push(e):Y(this,bi).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Y(this,Ka).delete(e)){const n=Og(e);if(typeof n=="string"){const r=Y(this,bi).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&Y(this,bi).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Og(e);if(typeof n=="string"){const r=Y(this,bi).get(n),i=r==null?void 0:r.find(a=>a.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=Og(e);if(typeof n=="string"){const i=(r=Y(this,bi).get(n))==null?void 0:r.find(a=>a!==e&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){nr.batch(()=>{Y(this,Ka).forEach(e=>{this.notify({type:"removed",mutation:e})}),Y(this,Ka).clear(),Y(this,bi).clear()})}getAll(){return Array.from(Y(this,Ka))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>SA(n,r))}findAll(e={}){return this.getAll().filter(n=>SA(e,n))}notify(e){nr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return nr.batch(()=>Promise.all(e.map(n=>n.continue().catch(Hr))))}},Ka=new WeakMap,bi=new WeakMap,kf=new WeakMap,uR);function Og(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Ga,ll,os,Qa,ro,ux,q1,dR,bae=(dR=class extends xh{constructor(n,r){super();Xe(this,ro);Xe(this,Ga);Xe(this,ll);Xe(this,os);Xe(this,Qa);Le(this,Ga,n),this.setOptions(r),this.bindMethods(),Nt(this,ro,ux).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=Y(this,Ga).defaultMutationOptions(n),ey(this.options,r)||Y(this,Ga).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Y(this,os),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Zc(r.mutationKey)!==Zc(this.options.mutationKey)?this.reset():((i=Y(this,os))==null?void 0:i.state.status)==="pending"&&Y(this,os).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=Y(this,os))==null||n.removeObserver(this)}onMutationUpdate(n){Nt(this,ro,ux).call(this),Nt(this,ro,q1).call(this,n)}getCurrentResult(){return Y(this,ll)}reset(){var n;(n=Y(this,os))==null||n.removeObserver(this),Le(this,os,void 0),Nt(this,ro,ux).call(this),Nt(this,ro,q1).call(this)}mutate(n,r){var i;return Le(this,Qa,r),(i=Y(this,os))==null||i.removeObserver(this),Le(this,os,Y(this,Ga).getMutationCache().build(Y(this,Ga),this.options)),Y(this,os).addObserver(this),Y(this,os).execute(n)}},Ga=new WeakMap,ll=new WeakMap,os=new WeakMap,Qa=new WeakMap,ro=new WeakSet,ux=function(){var r;const n=((r=Y(this,os))==null?void 0:r.state)??IO();Le(this,ll,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},q1=function(n){nr.batch(()=>{var r,i,a,o,c,d,h,m;if(Y(this,Qa)&&this.hasListeners()){const f=Y(this,ll).variables,g=Y(this,ll).context,x={client:Y(this,Ga),meta:this.options.meta,mutationKey:this.options.mutationKey};(n==null?void 0:n.type)==="success"?((i=(r=Y(this,Qa)).onSuccess)==null||i.call(r,n.data,f,g,x),(o=(a=Y(this,Qa)).onSettled)==null||o.call(a,n.data,null,f,g,x)):(n==null?void 0:n.type)==="error"&&((d=(c=Y(this,Qa)).onError)==null||d.call(c,n.error,f,g,x),(m=(h=Y(this,Qa)).onSettled)==null||m.call(h,void 0,n.error,f,g,x))}this.listeners.forEach(f=>{f(Y(this,ll))})})},dR),na,hR,wae=(hR=class extends xh{constructor(e={}){super();Xe(this,na);this.config=e,Le(this,na,new Map)}build(e,n,r){const i=n.queryKey,a=n.queryHash??IN(i,n);let o=this.get(a);return o||(o=new mae({client:e,queryKey:i,queryHash:a,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){Y(this,na).has(e.queryHash)||(Y(this,na).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=Y(this,na).get(e.queryHash);n&&(e.destroy(),n===e&&Y(this,na).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){nr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Y(this,na).get(e)}getAll(){return[...Y(this,na).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>NA(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>NA(e,r)):n}notify(e){nr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){nr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){nr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},na=new WeakMap,hR),An,cl,ul,Ad,Id,dl,Rd,Pd,mR,jae=(mR=class{constructor(t={}){Xe(this,An);Xe(this,cl);Xe(this,ul);Xe(this,Ad);Xe(this,Id);Xe(this,dl);Xe(this,Rd);Xe(this,Pd);Le(this,An,t.queryCache||new wae),Le(this,cl,t.mutationCache||new vae),Le(this,ul,t.defaultOptions||{}),Le(this,Ad,new Map),Le(this,Id,new Map),Le(this,dl,0)}mount(){ug(this,dl)._++,Y(this,dl)===1&&(Le(this,Rd,PN.subscribe(async t=>{t&&(await this.resumePausedMutations(),Y(this,An).onFocus())})),Le(this,Pd,ty.subscribe(async t=>{t&&(await this.resumePausedMutations(),Y(this,An).onOnline())})))}unmount(){var t,e;ug(this,dl)._--,Y(this,dl)===0&&((t=Y(this,Rd))==null||t.call(this),Le(this,Rd,void 0),(e=Y(this,Pd))==null||e.call(this),Le(this,Pd,void 0))}isFetching(t){return Y(this,An).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Y(this,cl).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Y(this,An).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=Y(this,An).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(bl(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return Y(this,An).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=Y(this,An).get(r.queryHash),a=i==null?void 0:i.state.data,o=rae(e,a);if(o!==void 0)return Y(this,An).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return nr.batch(()=>Y(this,An).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Y(this,An).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=Y(this,An);nr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=Y(this,An);return nr.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=nr.batch(()=>Y(this,An).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Hr).catch(Hr)}invalidateQueries(t,e={}){return nr.batch(()=>(Y(this,An).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=nr.batch(()=>Y(this,An).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(Hr)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Hr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=Y(this,An).build(this,e);return n.isStaleByTime(bl(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Hr).catch(Hr)}fetchInfiniteQuery(t){return t.behavior=RA(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Hr).catch(Hr)}ensureInfiniteQueryData(t){return t.behavior=RA(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return ty.isOnline()?Y(this,cl).resumePausedMutations():Promise.resolve()}getQueryCache(){return Y(this,An)}getMutationCache(){return Y(this,cl)}getDefaultOptions(){return Y(this,ul)}setDefaultOptions(t){Le(this,ul,t)}setQueryDefaults(t,e){Y(this,Ad).set(Zc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...Y(this,Ad).values()],n={};return e.forEach(r=>{wf(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){Y(this,Id).set(Zc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...Y(this,Id).values()],n={};return e.forEach(r=>{wf(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...Y(this,ul).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=IN(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===RN&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...Y(this,ul).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Y(this,An).clear(),Y(this,cl).clear()}},An=new WeakMap,cl=new WeakMap,ul=new WeakMap,Ad=new WeakMap,Id=new WeakMap,dl=new WeakMap,Rd=new WeakMap,Pd=new WeakMap,mR),RO=v.createContext(void 0),si=t=>{const e=v.useContext(RO);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},_ae=({client:t,children:e})=>(v.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),s.jsx(RO.Provider,{value:t,children:e})),PO=v.createContext(!1),Nae=()=>v.useContext(PO);PO.Provider;function Sae(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Eae=v.createContext(Sae()),Cae=()=>v.useContext(Eae),kae=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},Tae=t=>{v.useEffect(()=>{t.clearReset()},[t])},Aae=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||SO(n,[t.error,r])),Iae=t=>{if(t.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},Rae=(t,e)=>t.isLoading&&t.isFetching&&!e,Pae=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,DA=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function Dae(t,e,n){var f,g,x,N,w;const r=Nae(),i=Cae(),a=si(),o=a.defaultQueryOptions(t);(g=(f=a.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||g.call(f,o),o._optimisticResults=r?"isRestoring":"optimistic",Iae(o),kae(o,i),Tae(i);const c=!a.getQueryCache().get(o.queryHash),[d]=v.useState(()=>new e(a,o)),h=d.getOptimisticResult(o),m=!r&&t.subscribed!==!1;if(v.useSyncExternalStore(v.useCallback(j=>{const _=m?d.subscribe(nr.batchCalls(j)):Hr;return d.updateResult(),_},[d,m]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),v.useEffect(()=>{d.setOptions(o)},[o,d]),Pae(o,h))throw DA(o,d,i);if(Aae({result:h,errorResetBoundary:i,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw h.error;if((N=(x=a.getDefaultOptions().queries)==null?void 0:x._experimental_afterQuery)==null||N.call(x,o,h),o.experimental_prefetchInRender&&!Xc&&Rae(h,r)){const j=c?DA(o,d,i):(w=a.getQueryCache().get(o.queryHash))==null?void 0:w.promise;j==null||j.catch(Hr).finally(()=>{d.updateResult()})}return o.notifyOnChangeProps?h:d.trackResult(h)}function Un(t,e){return Dae(t,fae)}function Sn(t,e){const n=si(),[r]=v.useState(()=>new bae(n,t));v.useEffect(()=>{r.setOptions(t)},[r,t]);const i=v.useSyncExternalStore(v.useCallback(o=>r.subscribe(nr.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=v.useCallback((o,c)=>{r.mutate(o,c).catch(Hr)},[r]);if(i.error&&SO(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}const Mae=zf("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function _e({className:t,variant:e,...n}){return s.jsx("div",{className:ct(Mae({variant:e}),t),...n})}const Oae=v.lazy(()=>sn(()=>import("./WordScrambleGame.CuzYAt-4.js"),[])),Lae=v.lazy(()=>sn(()=>import("./IslamicQuizGame.NJCn9Rf9.js"),[])),Fae=v.lazy(()=>sn(()=>import("./IslamicWordSearchGame.C1H43ltb.js"),[])),Vae=v.lazy(()=>sn(()=>import("./SeerahGame.CJRMpGvP.js"),[])),Uae=v.lazy(()=>sn(()=>import("./QuranGame.7gje_SWM.js"),[])),zae=v.lazy(()=>sn(()=>import("./HadithGame.Ds3vnEAa.js"),[])),Bae=v.lazy(()=>sn(()=>import("./FiqhGame.Bij5QWcp.js"),[])),$ae=v.lazy(()=>sn(()=>import("./MemoryMatchGame.D498tp7E.js"),[]));v.lazy(()=>sn(()=>import("./QuestForIlm.SaZKXl2P.js"),[]));const qae=v.lazy(()=>sn(()=>import("./MatchingPairsOfIman.BTN6XXIX.js"),[]));v.lazy(()=>sn(()=>import("./SahabahArena.zIVQKs6g.js"),__vite__mapDeps([0,1])));v.lazy(()=>sn(()=>import("./MazeOfGuidance.D09MbEEq.js"),[]));const Hae=v.lazy(()=>sn(()=>import("./AyatExplorer.CrqqKbvC.js"),[]));v.lazy(()=>sn(()=>import("./AkhlaqChallengeGame.Bribcji6.js"),[]));v.lazy(()=>sn(()=>import("./DailySunnahGame.BEXEVU_6.js"),[]));v.lazy(()=>sn(()=>import("./IslamKnowledgeRaceGame.Ct6WH80g.js"),__vite__mapDeps([2,1])));v.lazy(()=>sn(()=>import("./IslamicCrosswordGame.CnCn3i0s.js"),[]));v.lazy(()=>sn(()=>import("./IslamicMoralsMazeGame.D-O9P_vm.js"),[]));v.lazy(()=>sn(()=>import("./ProphetStoriesGame.DbbOJ3-P.js"),[]));v.lazy(()=>sn(()=>import("./QuranMemoryMatchGame.Bwov8bxm.js"),[]));v.lazy(()=>sn(()=>import("./QuranQuestGame.Be_Rrf2y.js"),[]));v.lazy(()=>sn(()=>import("./SacredSitesJigsaw.BVop5ZO1.js"),[]));v.lazy(()=>sn(()=>import("./SahabahStoriesGame.UxePoVl4.js"),[]));v.lazy(()=>sn(()=>import("./SeerahAdventureGame.2PzdKd3j.js"),[]));v.lazy(()=>sn(()=>import("./SpinToWinWheel.DnGTVZgE.js"),__vite__mapDeps([3,1])));const zb=[{id:"word_scramble",title:" Word Scramble Challenge",description:"Unscramble Islamic words - Easy, Medium & Hard!",emoji:"",difficulty:"All Levels",points:"10 pts per game",allowPoints:!0,allowPrizes:!1,component:Oae},{id:"matching_pairs_iman",title:" Matching Pairs of Iman",description:"Match Islamic concepts and terms to strengthen your Iman!",emoji:"",difficulty:"All Levels",points:"10 pts per game",allowPoints:!0,allowPrizes:!1,component:qae},{id:"ayat_explorer",title:" Ayat Explorer",description:"Explore Quranic knowledge through puzzles!",emoji:"",difficulty:"Medium",points:"10 pts per game",component:Hae},{id:"islamic_quiz",title:" Islamic Knowledge Quiz",description:"Test your knowledge of Quran, Hadith, Seerah & more!",emoji:"",difficulty:"All Levels",points:"10 pts per game",component:Lae},{id:"word_search",title:" Islamic Word Search",description:"Find Islamic words hidden in the grid",emoji:"",difficulty:"All Levels",points:"10 pts per game",component:Fae},{id:"seerah_game",title:" Seerah Quiz",description:"Learn about the life of Prophet Muhammad ",emoji:"",difficulty:"All Levels",points:"10 pts per game",component:Vae},{id:"quran_game",title:" Quran Quiz",description:"Test your knowledge of the Holy Quran",emoji:"",difficulty:"All Levels",points:"10 pts per game",component:Uae},{id:"hadith_game",title:" Hadith Match",description:"Learn authentic sayings of Prophet ",emoji:"",difficulty:"All Levels",points:"10 pts per game",component:zae},{id:"fiqh_game",title:" Fiqh Challenge",description:"Learn Islamic rulings and practices",emoji:"",difficulty:"All Levels",points:"10 pts per game",component:Bae},{id:"memory_match",title:" Islamic Memory Match",description:"Match pairs of Islamic terms",emoji:"",difficulty:"All Levels",points:"10 pts per game",component:$ae}],Wae=()=>s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:""}),s.jsx("p",{className:"text-gray-600 font-medium",children:"Loading game..."})]})});function H1(){var j;const t=Yn(),[e,n]=v.useState(null),[r,i]=v.useState(!1),[a,o]=v.useState(!0),[c,d]=v.useState(null),[h,m]=v.useState(!1);v.useEffect(()=>{const _=localStorage.getItem("user");_?(i(!0),d(JSON.parse(_))):(i(!1),d(null)),o(!1)},[t]);const{data:f=[]}=Un({queryKey:["monthly-leaderboard"],queryFn:async()=>{const _=new Date,E=new Date(_.getFullYear(),_.getMonth(),1),C=JSON.parse(localStorage.getItem("gameScores")||"[]").filter(I=>new Date(I.created_date)>=E),R={};C.forEach(I=>{R[I.user_id]||(R[I.user_id]={user_id:I.user_id,total_score:0,games_played:0}),R[I.user_id].total_score+=I.score||0,R[I.user_id].games_played+=1});const F=JSON.parse(localStorage.getItem("users")||"[]");return Object.keys(R).map(I=>({...F.find(U=>U.id===I)||{id:I,name:"Guest"},monthly_score:R[I].total_score,monthly_games:R[I].games_played})).filter(I=>I.monthly_score>0).sort((I,L)=>L.monthly_score-I.monthly_score).slice(0,10)},enabled:r,initialData:[]}),{data:g=[]}=Un({queryKey:["leaderboard"],queryFn:async()=>JSON.parse(localStorage.getItem("users")||"[]").filter(E=>E.points>0).sort((E,k)=>k.points-E.points).slice(0,10),enabled:r,initialData:[]}),x=_=>{n(_)},N=async _=>{if(r&&c&&e)try{const E=JSON.parse(localStorage.getItem("gameScores")||"[]");E.push({user_id:c.id,game_type:e.id,score:_,created_date:new Date().toISOString()}),localStorage.setItem("gameScores",JSON.stringify(E));const k=JSON.parse(localStorage.getItem("users")||"[]"),C=k.findIndex(F=>F.id===c.id);let R=Math.min((c.points||0)+_,1500);C!==-1&&(k[C].points=R,localStorage.setItem("users",JSON.stringify(k))),d(F=>({...F,points:R}))}catch(E){console.error("Error saving game score:",E)}setTimeout(()=>n(null),3e3)};if(a)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-100 via-purple-50 to-pink-100 p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:""}),s.jsx("p",{className:"text-gray-600 font-medium",children:"Loading games..."})]})});const w=e==null?void 0:e.component;return e?s.jsx("div",{className:"min-h-screen py-6 px-4 bg-gradient-to-br from-blue-100 via-purple-50 to-pink-100",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs(G,{variant:"ghost",onClick:()=>n(null),className:"mb-6 bg-white/80 backdrop-blur-sm hover:bg-white",size:"sm",children:[s.jsx(Ll,{className:"w-4 h-4 mr-2"}),"Back to Games"]}),s.jsx(v.Suspense,{fallback:s.jsx(Wae,{}),children:w&&s.jsx(w,{onComplete:N})})]})}):s.jsx("div",{className:"min-h-screen py-8 px-4 bg-gradient-to-br from-blue-100 via-purple-50 to-pink-100",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx(ne.div,{className:"text-6xl mb-4",animate:{rotate:[0,10,-10,0]},transition:{duration:3,repeat:1/0,repeatDelay:2},children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Islamic Knowledge Games"}),s.jsxs("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:["Play fun games and test your Islamic knowledge!",r?" Each game earns you 10 points.":" Email us at imediac786@gmail.com to create your account and track your progress!"]})]}),!r&&s.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8 max-w-2xl mx-auto",children:s.jsx(se,{className:"border-2 border-blue-300 shadow-lg bg-gradient-to-br from-blue-50 to-purple-50",children:s.jsxs(ae,{className:"p-6 text-center",children:[s.jsx(Kr,{className:"w-12 h-12 mx-auto mb-4 text-blue-600"}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:" Playing as Guest"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"You can play all games for free! Email us to create your account, track your progress, earn points, and compete on the leaderboard."}),s.jsx("div",{className:"flex gap-3 justify-center",children:s.jsxs(G,{onClick:()=>{const _=encodeURIComponent("Access Request - Islam Kids Zone"),E=encodeURIComponent("Hi, I'd like to create an account for Islam Kids Zone. My name is ____ and my contact details are ____.");window.location.href=`mailto:imediac786@gmail.com?subject=${_}&body=${E}`},className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-blue-500 to-purple-500 text-white font-bold shadow hover:scale-105 transition-transform",children:[s.jsx(fy,{className:"w-4 h-4 mr-2"}),"Request Access via Email"]})})]})})}),r&&s.jsxs(s.Fragment,{children:[s.jsxs(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-wrap justify-center gap-3 mb-12",children:[s.jsxs(G,{onClick:()=>m(!h),className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white shadow-lg",children:[s.jsx(Kr,{className:"w-4 h-4 mr-2"}),"Monthly Champions"]}),s.jsx(Rt,{to:rt("Challenges"),children:s.jsxs(G,{className:"bg-gradient-to-r from-red-500 to-pink-500 hover:from-red-600 hover:to-pink-600 text-white shadow-lg",children:[s.jsx(jl,{className:"w-4 h-4 mr-2"}),"Challenge Friends"]})})]}),s.jsx(ri,{children:h&&f.length>0&&s.jsx(ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"mb-12 max-w-xl mx-auto",children:s.jsxs(se,{className:"border-2 border-purple-300 shadow-xl bg-gradient-to-br from-purple-50 to-pink-50",children:[s.jsx(Fe,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-t-xl",children:s.jsxs(Ve,{className:"text-2xl flex items-center gap-2 justify-center",children:[s.jsx(Kr,{className:"w-6 h-6"}),"Monthly Champions"]})}),s.jsx(ae,{className:"p-6 pt-4",children:s.jsx("div",{className:"space-y-3",children:f.slice(0,10).map((_,E)=>{const C=[{icon:FC,color:"text-yellow-500",bg:"bg-yellow-50"},{icon:sd,color:"text-gray-400",bg:"bg-gray-50"},{icon:sd,color:"text-orange-600",bg:"bg-orange-50"}][E],R=(C==null?void 0:C.icon)||cn;return s.jsxs(ne.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:E*.1},className:`flex items-center gap-3 p-3 rounded-xl ${(C==null?void 0:C.bg)||"bg-white"} border-2 ${E===0?"border-amber-400":"border-gray-200"}`,children:[s.jsx("div",{className:`w-8 h-8 rounded-full ${(C==null?void 0:C.bg)||"bg-blue-50"} flex items-center justify-center ${(C==null?void 0:C.color)||"text-gray-600"}`,children:s.jsx(R,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-bold text-sm text-gray-900",children:_.full_name||"Anonymous"}),s.jsxs("p",{className:"text-xs text-gray-600",children:[_.monthly_games," games this month"]})]}),s.jsxs("div",{className:"flex items-center gap-1 bg-purple-100 px-2 py-1 rounded-full",children:[s.jsx(cn,{className:"w-4 h-4 text-purple-600 fill-purple-600"}),s.jsx("span",{className:"font-bold text-sm text-purple-900",children:_.monthly_score})]})]},_.id)})})})]})})})]}),s.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:s.jsx(se,{className:"border-4 border-amber-400 shadow-2xl",children:s.jsx(ae,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"text-5xl",children:""}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Win Prizes Every Month!"}),s.jsx("p",{className:"text-gray-800 font-medium",children:"Play games, earn points, compete! Top 3 players win prizes!"})]})]})})})}),g.length>0&&s.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:s.jsxs(se,{className:"border-2 border-purple-200 shadow-xl",children:[s.jsx(Fe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Ve,{className:"text-2xl flex items-center gap-2",children:[s.jsx(Vl,{className:"w-6 h-6 text-indigo-500"}),"Top Players (All Time)"]}),s.jsx(G,{onClick:()=>t(rt("Leaderboard")),variant:"outline",size:"sm",children:"View All"})]})}),s.jsx(ae,{children:s.jsx("div",{className:"space-y-3",children:g.slice(0,3).map((_,E)=>{const C=[{icon:FC,color:"text-yellow-500",bg:"bg-yellow-50"},{icon:sd,color:"text-gray-400",bg:"bg-gray-50"},{icon:sd,color:"text-orange-600",bg:"bg-orange-50"}][E],R=(C==null?void 0:C.icon)||cn;return s.jsxs(ne.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:E*.1},className:`flex items-center gap-4 p-4 rounded-xl ${(C==null?void 0:C.bg)||"bg-white"} border-2 ${E===0?"border-amber-400":"border-gray-200"}`,children:[s.jsx("div",{className:`w-10 h-10 rounded-full ${(C==null?void 0:C.bg)||"bg-blue-50"} flex items-center justify-center ${(C==null?void 0:C.color)||"text-gray-600"}`,children:s.jsx(R,{className:"w-6 h-6"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-bold text-base text-gray-900",children:_.full_name||"Anonymous"}),s.jsx("p",{className:"text-sm text-gray-600",children:_.city||"Unknown"})]}),s.jsxs("div",{className:"flex items-center gap-1 bg-amber-100 px-2 py-1 rounded-full",children:[s.jsx(cn,{className:"w-4 h-4 text-amber-600 fill-amber-600"}),s.jsx("span",{className:"font-bold text-sm text-amber-900",children:_.points})]})]},_.id)})})})]})}),s.jsxs(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-500 to-purple-500 rounded-2xl p-6 mb-12 text-white shadow-2xl",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[s.jsxs("div",{children:[s.jsx(jl,{className:"w-8 h-8 mx-auto mb-2"}),s.jsx("div",{className:"text-2xl font-bold",children:zb.length}),s.jsx("div",{className:"text-sm text-blue-100",children:"Games"})]}),s.jsxs("div",{children:[s.jsx(cn,{className:"w-8 h-8 mx-auto mb-2"}),s.jsx("div",{className:"text-2xl font-bold",children:(c==null?void 0:c.points)||0}),s.jsx("div",{className:"text-sm text-blue-100",children:"Your Points"})]}),s.jsxs("div",{children:[s.jsx(Kr,{className:"w-8 h-8 mx-auto mb-2"}),s.jsx("div",{className:"text-2xl font-bold",children:((j=c==null?void 0:c.badges)==null?void 0:j.length)||0}),s.jsx("div",{className:"text-sm text-blue-100",children:"Badges"})]})]}),r&&s.jsxs("div",{className:"mt-4 p-3 bg-white/20 rounded-lg backdrop-blur-sm",children:[s.jsxs("p",{className:"text-sm font-semibold mb-2 flex items-center justify-center gap-2",children:[s.jsx(MR,{className:"w-4 h-4"}),"Daily Challenge: Complete all ",zb.length," games for +10 bonus points!"]}),s.jsx("div",{className:"text-xs text-blue-100 text-center",children:"Perfect score on any game = +5 bonus points "})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-6xl mx-auto",children:s.jsx(ri,{children:zb.map((_,E)=>s.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:E*.05},whileHover:{y:-5},children:s.jsxs(se,{className:"h-full border-2 hover:border-blue-300 hover:shadow-2xl transition-all duration-300 cursor-pointer group",children:[s.jsxs(Fe,{className:"bg-gradient-to-br from-blue-50 to-purple-50",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx(ne.div,{className:"text-5xl",whileHover:{scale:1.2,rotate:[0,-10,10,-10,0]},transition:{duration:.5},children:_.emoji}),s.jsx(_e,{className:"bg-amber-500 hover:bg-amber-600",children:_.points})]}),s.jsx(Ve,{className:"text-xl group-hover:text-blue-600 transition-colors",children:_.title})]}),s.jsxs(ae,{className:"pt-3",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:_.description}),s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[s.jsx(_e,{variant:"outline",className:"text-xs",children:_.difficulty}),s.jsx(G,{onClick:()=>x(_),className:"bg-blue-600 hover:bg-blue-700",size:"sm",children:"Play Now"})]})]})]})},_.id))})})]})})}function Kae(t,e=[]){let n=[];function r(a,o){const c=v.createContext(o);c.displayName=a+"Context";const d=n.length;n=[...n,o];const h=f=>{var _;const{scope:g,children:x,...N}=f,w=((_=g==null?void 0:g[t])==null?void 0:_[d])||c,j=v.useMemo(()=>N,Object.values(N));return s.jsx(w.Provider,{value:j,children:x})};h.displayName=a+"Provider";function m(f,g){var w;const x=((w=g==null?void 0:g[t])==null?void 0:w[d])||c,N=v.useContext(x);if(N)return N;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[h,m]}const i=()=>{const a=n.map(o=>v.createContext(o));return function(c){const d=(c==null?void 0:c[t])||a;return v.useMemo(()=>({[`__scope${t}`]:{...c,[t]:d}}),[c,d])}};return i.scopeName=t,[r,Gae(i,...e)]}function Gae(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((c,{useScope:d,scopeName:h})=>{const f=d(a)[`__scope${h}`];return{...c,...f}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Qae=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],MN=Qae.reduce((t,e)=>{const n=Dy(`Primitive.${e}`),r=v.forwardRef((i,a)=>{const{asChild:o,...c}=i,d=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(d,{...c,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),Bb={exports:{}},$b={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MA;function Yae(){if(MA)return $b;MA=1;var t=cy();function e(f,g){return f===g&&(f!==0||1/f===1/g)||f!==f&&g!==g}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,o=t.useDebugValue;function c(f,g){var x=g(),N=r({inst:{value:x,getSnapshot:g}}),w=N[0].inst,j=N[1];return a(function(){w.value=x,w.getSnapshot=g,d(w)&&j({inst:w})},[f,x,g]),i(function(){return d(w)&&j({inst:w}),f(function(){d(w)&&j({inst:w})})},[f]),o(x),x}function d(f){var g=f.getSnapshot;f=f.value;try{var x=g();return!n(f,x)}catch{return!0}}function h(f,g){return g()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return $b.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,$b}var OA;function Jae(){return OA||(OA=1,Bb.exports=Yae()),Bb.exports}var Xae=Jae();function Zae(){return Xae.useSyncExternalStore(eoe,()=>!0,()=>!1)}function eoe(){return()=>{}}var ON="Avatar",[toe]=Kae(ON),[noe,DO]=toe(ON),MO=v.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,a]=v.useState("idle");return s.jsx(noe,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:s.jsx(MN.span,{...r,ref:e})})});MO.displayName=ON;var OO="AvatarImage",LO=v.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...a}=t,o=DO(OO,n),c=roe(r,a),d=Ni(h=>{i(h),o.onImageLoadingStatusChange(h)});return sr(()=>{c!=="idle"&&d(c)},[c,d]),c==="loaded"?s.jsx(MN.img,{...a,ref:e,src:r}):null});LO.displayName=OO;var FO="AvatarFallback",VO=v.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,a=DO(FO,n),[o,c]=v.useState(r===void 0);return v.useEffect(()=>{if(r!==void 0){const d=window.setTimeout(()=>c(!0),r);return()=>window.clearTimeout(d)}},[r]),o&&a.imageLoadingStatus!=="loaded"?s.jsx(MN.span,{...i,ref:e}):null});VO.displayName=FO;function LA(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function roe(t,{referrerPolicy:e,crossOrigin:n}){const r=Zae(),i=v.useRef(null),a=r?(i.current||(i.current=new window.Image),i.current):null,[o,c]=v.useState(()=>LA(a,t));return sr(()=>{c(LA(a,t))},[a,t]),sr(()=>{const d=f=>()=>{c(f)};if(!a)return;const h=d("loaded"),m=d("error");return a.addEventListener("load",h),a.addEventListener("error",m),e&&(a.referrerPolicy=e),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",h),a.removeEventListener("error",m)}},[a,n,e]),o}var UO=MO,zO=LO,BO=VO;const soe=v.forwardRef(({className:t,...e},n)=>s.jsx(UO,{ref:n,className:ct("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));soe.displayName=UO.displayName;const ioe=v.forwardRef(({className:t,...e},n)=>s.jsx(zO,{ref:n,className:ct("aspect-square h-full w-full",t),...e}));ioe.displayName=zO.displayName;const aoe=v.forwardRef(({className:t,...e},n)=>s.jsx(BO,{ref:n,className:ct("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));aoe.displayName=BO.displayName;function $O(){const[t,e]=v.useState(null),[n,r]=v.useState(!1);v.useEffect(()=>{const h=gh(async m=>{const f=!!m;if(r(f),f)try{const g=await tp(m.uid);e(g?{id:m.uid,...g}:{id:m.uid,email:m.email,points:0})}catch{e({id:m.uid,email:m.email,points:0})}else e(null)});return()=>{try{h==null||h()}catch{}}},[]);const{data:i=[],isLoading:a}=Un({queryKey:["leaderboard-users"],queryFn:async()=>{try{return(await AN.list()).sort((m,f)=>Number(f.points||0)-Number(m.points||0))}catch{return[]}},initialData:[]}),o=h=>{switch(h){case 0:return s.jsx(Kr,{className:"w-6 h-6 sm:w-8 sm:h-8 text-amber-500"});case 1:return s.jsx(sd,{className:"w-6 h-6 sm:w-8 sm:h-8 text-gray-400"});case 2:return s.jsx(sd,{className:"w-6 h-6 sm:w-8 sm:h-8 text-amber-600"});default:return s.jsxs("span",{className:"text-lg sm:text-2xl font-bold text-gray-400",children:["#",h+1]})}},c=h=>{switch(h){case 0:return"from-amber-400 to-amber-600";case 1:return"from-gray-300 to-gray-500";case 2:return"from-amber-500 to-amber-700";default:return"from-blue-100 to-purple-100"}},d=h=>{var f;const m=h.fullName||h.full_name||h.name||"";return m?m.split(" ")[0]:((f=h.email)==null?void 0:f.split("@")[0])||"Anonymous"};return s.jsx("div",{className:"min-h-screen py-6 sm:py-8 md:py-12 px-3 sm:px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs(ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8 sm:mb-12",children:[s.jsx("div",{className:"text-5xl sm:text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-gray-900 mb-3 sm:mb-4 px-2",children:"Top Young Learners"}),s.jsx("p",{className:"text-base sm:text-lg text-gray-600 px-2",children:"These amazing kids are learning and earning points!"})]}),!n&&s.jsx(ne.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-6 sm:mb-8",children:s.jsx(se,{className:"border-2 border-blue-200 shadow-lg bg-gradient-to-br from-blue-50 to-purple-50",children:s.jsxs(ae,{className:"p-4 sm:p-6 text-center",children:[s.jsx(cn,{className:"w-8 h-8 sm:w-10 sm:h-10 mx-auto mb-3 sm:mb-4 text-blue-600"}),s.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-2",children:"Want to See Your Name Here?"}),s.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-3 sm:mb-4 px-2",children:"Join Islam Kids Zone to earn points, compete with friends, and climb the leaderboard!"}),s.jsxs(G,{onClick:()=>{const h=encodeURIComponent("Access Request - Islam Kids Zone"),m=encodeURIComponent("Hi, I'd like to create an account to join the leaderboard. My name is ____ and my contact details are ____.");window.location.href=`mailto:imediac786@gmail.com?subject=${h}&body=${m}`},className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600",children:[s.jsx(LR,{className:"w-4 h-4 mr-2"}),"Request Access via Email"]})]})})}),t&&s.jsx(ne.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-6 sm:mb-8",children:s.jsx(se,{className:"border-2 border-blue-300 shadow-lg",children:s.jsx(ae,{className:"p-4 sm:p-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 w-full sm:w-auto",children:[s.jsx("div",{className:"text-3xl sm:text-4xl flex-shrink-0",children:t.avatar||""}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Your Progress"}),s.jsx("p",{className:"text-lg sm:text-xl font-bold text-gray-900 truncate",children:d(t)}),s.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[s.jsx(cn,{className:"w-4 h-4 text-amber-500 fill-amber-500 flex-shrink-0"}),s.jsxs("span",{className:"font-semibold text-amber-600 text-sm sm:text-base",children:[t.points||0," points"]}),t.madrasah_maktab&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-gray-400 hidden xs:inline",children:""}),s.jsxs("span",{className:"text-xs sm:text-sm text-gray-600 truncate",children:[" ",t.madrasah_maktab]})]})]})]})]}),s.jsxs("div",{className:"text-center flex-shrink-0",children:[s.jsx(Cj,{className:"w-6 h-6 sm:w-8 sm:h-8 text-green-500 mx-auto mb-1"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Keep going!"})]})]})})})}),s.jsxs(se,{className:"shadow-xl",children:[s.jsx(Fe,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white p-4 sm:p-6",children:s.jsx(Ve,{className:"text-xl sm:text-2xl",children:"All-Time Leaderboard"})}),s.jsx(ae,{className:"p-0",children:a?s.jsx("div",{className:"p-8 sm:p-12 text-center text-gray-500",children:"Loading leaderboard..."}):i.length===0?s.jsxs("div",{className:"p-8 sm:p-12 text-center text-gray-500",children:[s.jsx(cn,{className:"w-12 h-12 sm:w-16 sm:h-16 mx-auto mb-4 text-gray-300"}),s.jsx("p",{children:"No learners yet. Be the first to earn points!"})]}):s.jsx("div",{className:"divide-y divide-gray-100",children:i.map((h,m)=>s.jsx(ne.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:m*.05},className:`p-4 sm:p-6 hover:bg-gray-50 transition-colors ${t!=null&&t.id&&t.id===(h.uid||h.id)?"bg-blue-50 border-l-4 border-blue-500":""}`,children:s.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[s.jsx("div",{className:"w-12 sm:w-16 flex justify-center flex-shrink-0",children:o(m)}),s.jsxs("div",{className:"flex-1 min-w-0 flex items-center gap-3 sm:gap-4",children:[s.jsx("div",{className:`w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-gradient-to-br ${c(m)} flex items-center justify-center text-xl sm:text-2xl shadow-lg flex-shrink-0`,children:h.avatar||""}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"font-bold text-sm sm:text-base text-gray-900 flex items-center gap-2 flex-wrap",children:[s.jsx("span",{className:"truncate",children:d(h)}),(t==null?void 0:t.id)&&t.id===(h.uid||h.id)&&s.jsx(_e,{className:"bg-blue-500 text-xs flex-shrink-0",children:"You"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-gray-500 flex-wrap",children:[h.city&&s.jsx("span",{className:"truncate",children:h.city}),h.madrasah_maktab&&s.jsxs(s.Fragment,{children:[h.city&&s.jsx("span",{className:"hidden xs:inline",children:""}),s.jsxs("span",{className:"flex items-center gap-1 truncate",children:[s.jsx("span",{className:"text-sm sm:text-base",children:""}),s.jsx("span",{className:"truncate",children:h.madrasah_maktab})]})]})]})]})]}),s.jsxs("div",{className:"text-right flex-shrink-0",children:[s.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 text-lg sm:text-xl font-bold text-amber-600",children:[s.jsx(cn,{className:"w-4 h-4 sm:w-5 sm:h-5 fill-amber-500 text-amber-500"}),s.jsx("span",{children:Number(h.points||0)})]}),s.jsx("p",{className:"text-[10px] sm:text-xs text-gray-500",children:"points"})]})]})},h.uid||h.id||`${h.email||h.full_name||"user"}-${m}`))})})]})]})})}function ooe(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const loe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,coe=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,uoe={};function FA(t,e){return(uoe.jsx?coe:loe).test(t)}const doe=/[ \t\n\f\r]/g;function hoe(t){return typeof t=="object"?t.type==="text"?VA(t.value):!1:VA(t)}function VA(t){return t.replace(doe,"")===""}class np{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}np.prototype.normal={};np.prototype.property={};np.prototype.space=void 0;function qO(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new np(n,r,e)}function W1(t){return t.toLowerCase()}class gs{constructor(e,n){this.attribute=n,this.property=e}}gs.prototype.attribute="";gs.prototype.booleanish=!1;gs.prototype.boolean=!1;gs.prototype.commaOrSpaceSeparated=!1;gs.prototype.commaSeparated=!1;gs.prototype.defined=!1;gs.prototype.mustUseProperty=!1;gs.prototype.number=!1;gs.prototype.overloadedBoolean=!1;gs.prototype.property="";gs.prototype.spaceSeparated=!1;gs.prototype.space=void 0;let moe=0;const _t=du(),Wn=du(),K1=du(),ke=du(),on=du(),bd=du(),Ts=du();function du(){return 2**++moe}const G1=Object.freeze(Object.defineProperty({__proto__:null,boolean:_t,booleanish:Wn,commaOrSpaceSeparated:Ts,commaSeparated:bd,number:ke,overloadedBoolean:K1,spaceSeparated:on},Symbol.toStringTag,{value:"Module"})),qb=Object.keys(G1);class LN extends gs{constructor(e,n,r,i){let a=-1;if(super(e,n),UA(this,"space",i),typeof r=="number")for(;++a<qb.length;){const o=qb[a];UA(this,qb[a],(r&G1[o])===G1[o])}}}LN.prototype.defined=!0;function UA(t,e,n){n&&(t[e]=n)}function yh(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const a=new LN(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),e[r]=a,n[W1(r)]=r,n[W1(a.attribute)]=r}return new np(e,n,t.space)}const HO=yh({properties:{ariaActiveDescendant:null,ariaAtomic:Wn,ariaAutoComplete:null,ariaBusy:Wn,ariaChecked:Wn,ariaColCount:ke,ariaColIndex:ke,ariaColSpan:ke,ariaControls:on,ariaCurrent:null,ariaDescribedBy:on,ariaDetails:null,ariaDisabled:Wn,ariaDropEffect:on,ariaErrorMessage:null,ariaExpanded:Wn,ariaFlowTo:on,ariaGrabbed:Wn,ariaHasPopup:null,ariaHidden:Wn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:on,ariaLevel:ke,ariaLive:null,ariaModal:Wn,ariaMultiLine:Wn,ariaMultiSelectable:Wn,ariaOrientation:null,ariaOwns:on,ariaPlaceholder:null,ariaPosInSet:ke,ariaPressed:Wn,ariaReadOnly:Wn,ariaRelevant:null,ariaRequired:Wn,ariaRoleDescription:on,ariaRowCount:ke,ariaRowIndex:ke,ariaRowSpan:ke,ariaSelected:Wn,ariaSetSize:ke,ariaSort:null,ariaValueMax:ke,ariaValueMin:ke,ariaValueNow:ke,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function WO(t,e){return e in t?t[e]:e}function KO(t,e){return WO(t,e.toLowerCase())}const foe=yh({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:bd,acceptCharset:on,accessKey:on,action:null,allow:null,allowFullScreen:_t,allowPaymentRequest:_t,allowUserMedia:_t,alt:null,as:null,async:_t,autoCapitalize:null,autoComplete:on,autoFocus:_t,autoPlay:_t,blocking:on,capture:null,charSet:null,checked:_t,cite:null,className:on,cols:ke,colSpan:null,content:null,contentEditable:Wn,controls:_t,controlsList:on,coords:ke|bd,crossOrigin:null,data:null,dateTime:null,decoding:null,default:_t,defer:_t,dir:null,dirName:null,disabled:_t,download:K1,draggable:Wn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:_t,formTarget:null,headers:on,height:ke,hidden:K1,high:ke,href:null,hrefLang:null,htmlFor:on,httpEquiv:on,id:null,imageSizes:null,imageSrcSet:null,inert:_t,inputMode:null,integrity:null,is:null,isMap:_t,itemId:null,itemProp:on,itemRef:on,itemScope:_t,itemType:on,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:_t,low:ke,manifest:null,max:null,maxLength:ke,media:null,method:null,min:null,minLength:ke,multiple:_t,muted:_t,name:null,nonce:null,noModule:_t,noValidate:_t,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:_t,optimum:ke,pattern:null,ping:on,placeholder:null,playsInline:_t,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:_t,referrerPolicy:null,rel:on,required:_t,reversed:_t,rows:ke,rowSpan:ke,sandbox:on,scope:null,scoped:_t,seamless:_t,selected:_t,shadowRootClonable:_t,shadowRootDelegatesFocus:_t,shadowRootMode:null,shape:null,size:ke,sizes:null,slot:null,span:ke,spellCheck:Wn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ke,step:null,style:null,tabIndex:ke,target:null,title:null,translate:null,type:null,typeMustMatch:_t,useMap:null,value:Wn,width:ke,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:on,axis:null,background:null,bgColor:null,border:ke,borderColor:null,bottomMargin:ke,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:_t,declare:_t,event:null,face:null,frame:null,frameBorder:null,hSpace:ke,leftMargin:ke,link:null,longDesc:null,lowSrc:null,marginHeight:ke,marginWidth:ke,noResize:_t,noHref:_t,noShade:_t,noWrap:_t,object:null,profile:null,prompt:null,rev:null,rightMargin:ke,rules:null,scheme:null,scrolling:Wn,standby:null,summary:null,text:null,topMargin:ke,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ke,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:_t,disableRemotePlayback:_t,prefix:null,property:null,results:ke,security:null,unselectable:null},space:"html",transform:KO}),poe=yh({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Ts,accentHeight:ke,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ke,amplitude:ke,arabicForm:null,ascent:ke,attributeName:null,attributeType:null,azimuth:ke,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ke,by:null,calcMode:null,capHeight:ke,className:on,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ke,diffuseConstant:ke,direction:null,display:null,dur:null,divisor:ke,dominantBaseline:null,download:_t,dx:null,dy:null,edgeMode:null,editable:null,elevation:ke,enableBackground:null,end:null,event:null,exponent:ke,externalResourcesRequired:null,fill:null,fillOpacity:ke,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:bd,g2:bd,glyphName:bd,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ke,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ke,horizOriginX:ke,horizOriginY:ke,id:null,ideographic:ke,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ke,k:ke,k1:ke,k2:ke,k3:ke,k4:ke,kernelMatrix:Ts,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ke,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ke,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ke,overlineThickness:ke,paintOrder:null,panose1:null,path:null,pathLength:ke,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:on,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ke,pointsAtY:ke,pointsAtZ:ke,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ts,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ts,rev:Ts,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ts,requiredFeatures:Ts,requiredFonts:Ts,requiredFormats:Ts,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ke,specularExponent:ke,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ke,strikethroughThickness:ke,string:null,stroke:null,strokeDashArray:Ts,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ke,strokeOpacity:ke,strokeWidth:null,style:null,surfaceScale:ke,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ts,tabIndex:ke,tableValues:null,target:null,targetX:ke,targetY:ke,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ts,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ke,underlineThickness:ke,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ke,values:null,vAlphabetic:ke,vMathematical:ke,vectorEffect:null,vHanging:ke,vIdeographic:ke,version:null,vertAdvY:ke,vertOriginX:ke,vertOriginY:ke,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ke,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:WO}),GO=yh({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),QO=yh({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:KO}),YO=yh({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),goe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},xoe=/[A-Z]/g,zA=/-[a-z]/g,yoe=/^data[-\w.:]+$/i;function voe(t,e){const n=W1(e);let r=e,i=gs;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&yoe.test(e)){if(e.charAt(4)==="-"){const a=e.slice(5).replace(zA,woe);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=e.slice(4);if(!zA.test(a)){let o=a.replace(xoe,boe);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=LN}return new i(r,e)}function boe(t){return"-"+t.toLowerCase()}function woe(t){return t.charAt(1).toUpperCase()}const joe=qO([HO,foe,GO,QO,YO],"html"),FN=qO([HO,poe,GO,QO,YO],"svg");function _oe(t){return t.join(" ").trim()}var Ju={},Hb,BA;function Noe(){if(BA)return Hb;BA=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,c=/^\s+|\s+$/g,d=`
`,h="/",m="*",f="",g="comment",x="declaration";function N(j,_){if(typeof j!="string")throw new TypeError("First argument must be a string");if(!j)return[];_=_||{};var E=1,k=1;function C(J){var ee=J.match(e);ee&&(E+=ee.length);var re=J.lastIndexOf(d);k=~re?J.length-re:k+J.length}function R(){var J={line:E,column:k};return function(ee){return ee.position=new F(J),I(),ee}}function F(J){this.start=J,this.end={line:E,column:k},this.source=_.source}F.prototype.content=j;function M(J){var ee=new Error(_.source+":"+E+":"+k+": "+J);if(ee.reason=J,ee.filename=_.source,ee.line=E,ee.column=k,ee.source=j,!_.silent)throw ee}function P(J){var ee=J.exec(j);if(ee){var re=ee[0];return C(re),j=j.slice(re.length),ee}}function I(){P(n)}function L(J){var ee;for(J=J||[];ee=U();)ee!==!1&&J.push(ee);return J}function U(){var J=R();if(!(h!=j.charAt(0)||m!=j.charAt(1))){for(var ee=2;f!=j.charAt(ee)&&(m!=j.charAt(ee)||h!=j.charAt(ee+1));)++ee;if(ee+=2,f===j.charAt(ee-1))return M("End of comment missing");var re=j.slice(2,ee-2);return k+=2,C(re),j=j.slice(ee),k+=2,J({type:g,comment:re})}}function D(){var J=R(),ee=P(r);if(ee){if(U(),!P(i))return M("property missing ':'");var re=P(a),ie=J({type:x,property:w(ee[0].replace(t,f)),value:re?w(re[0].replace(t,f)):f});return P(o),ie}}function V(){var J=[];L(J);for(var ee;ee=D();)ee!==!1&&(J.push(ee),L(J));return J}return I(),V()}function w(j){return j?j.replace(c,f):f}return Hb=N,Hb}var $A;function Soe(){if($A)return Ju;$A=1;var t=Ju&&Ju.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ju,"__esModule",{value:!0}),Ju.default=n;const e=t(Noe());function n(r,i){let a=null;if(!r||typeof r!="string")return a;const o=(0,e.default)(r),c=typeof i=="function";return o.forEach(d=>{if(d.type!=="declaration")return;const{property:h,value:m}=d;c?i(h,m,d):m&&(a=a||{},a[h]=m)}),a}return Ju}var hm={},qA;function Eoe(){if(qA)return hm;qA=1,Object.defineProperty(hm,"__esModule",{value:!0}),hm.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,a=function(h){return!h||n.test(h)||t.test(h)},o=function(h,m){return m.toUpperCase()},c=function(h,m){return"".concat(m,"-")},d=function(h,m){return m===void 0&&(m={}),a(h)?h:(h=h.toLowerCase(),m.reactCompat?h=h.replace(i,c):h=h.replace(r,c),h.replace(e,o))};return hm.camelCase=d,hm}var mm,HA;function Coe(){if(HA)return mm;HA=1;var t=mm&&mm.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},e=t(Soe()),n=Eoe();function r(i,a){var o={};return!i||typeof i!="string"||(0,e.default)(i,function(c,d){c&&d&&(o[(0,n.camelCase)(c,a)]=d)}),o}return r.default=r,mm=r,mm}var koe=Coe();const Toe=Jd(koe),JO=XO("end"),VN=XO("start");function XO(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Aoe(t){const e=VN(t),n=JO(t);if(e&&n)return{start:e,end:n}}function Bm(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?WA(t.position):"start"in t||"end"in t?WA(t):"line"in t||"column"in t?Q1(t):""}function Q1(t){return KA(t&&t.line)+":"+KA(t&&t.column)}function WA(t){return Q1(t&&t.start)+"-"+Q1(t&&t.end)}function KA(t){return t&&typeof t=="number"?t:1}class Mr extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},o=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof e=="string"?i=e:!a.cause&&e&&(o=!0,i=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof r=="string"){const d=r.indexOf(":");d===-1?a.ruleId=r:(a.source=r.slice(0,d),a.ruleId=r.slice(d+1))}if(!a.place&&a.ancestors&&a.ancestors){const d=a.ancestors[a.ancestors.length-1];d&&(a.place=d.position)}const c=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=c?c.line:void 0,this.name=Bm(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=o&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Mr.prototype.file="";Mr.prototype.name="";Mr.prototype.reason="";Mr.prototype.message="";Mr.prototype.stack="";Mr.prototype.column=void 0;Mr.prototype.line=void 0;Mr.prototype.ancestors=void 0;Mr.prototype.cause=void 0;Mr.prototype.fatal=void 0;Mr.prototype.place=void 0;Mr.prototype.ruleId=void 0;Mr.prototype.source=void 0;const UN={}.hasOwnProperty,Ioe=new Map,Roe=/[A-Z]/g,Poe=new Set(["table","tbody","thead","tfoot","tr"]),Doe=new Set(["td","th"]),ZO="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Moe(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=$oe(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Boe(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?FN:joe,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},a=eL(i,t,void 0);return a&&typeof a!="string"?a:i.create(t,i.Fragment,{children:a||void 0},void 0)}function eL(t,e,n){if(e.type==="element")return Ooe(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return Loe(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return Voe(t,e,n);if(e.type==="mdxjsEsm")return Foe(t,e);if(e.type==="root")return Uoe(t,e,n);if(e.type==="text")return zoe(t,e)}function Ooe(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=FN,t.schema=i),t.ancestors.push(e);const a=nL(t,e.tagName,!1),o=qoe(t,e);let c=BN(t,e);return Poe.has(e.tagName)&&(c=c.filter(function(d){return typeof d=="string"?!hoe(d):!0})),tL(t,o,a,e),zN(o,c),t.ancestors.pop(),t.schema=r,t.create(e,a,o,n)}function Loe(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}jf(t,e.position)}function Foe(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);jf(t,e.position)}function Voe(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=FN,t.schema=i),t.ancestors.push(e);const a=e.name===null?t.Fragment:nL(t,e.name,!0),o=Hoe(t,e),c=BN(t,e);return tL(t,o,a,e),zN(o,c),t.ancestors.pop(),t.schema=r,t.create(e,a,o,n)}function Uoe(t,e,n){const r={};return zN(r,BN(t,e)),t.create(e,t.Fragment,r,n)}function zoe(t,e){return e.value}function tL(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function zN(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function Boe(t,e,n){return r;function r(i,a,o,c){const h=Array.isArray(o.children)?n:e;return c?h(a,o,c):h(a,o)}}function $oe(t,e){return n;function n(r,i,a,o){const c=Array.isArray(a.children),d=VN(r);return e(i,a,o,c,{columnNumber:d?d.column-1:void 0,fileName:t,lineNumber:d?d.line:void 0},void 0)}}function qoe(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&UN.call(e.properties,i)){const a=Woe(t,i,e.properties[i]);if(a){const[o,c]=a;t.tableCellAlignToStyle&&o==="align"&&typeof c=="string"&&Doe.has(e.tagName)?r=c:n[o]=c}}if(r){const a=n.style||(n.style={});a[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Hoe(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const a=r.data.estree.body[0];a.type;const o=a.expression;o.type;const c=o.properties[0];c.type,Object.assign(n,t.evaluater.evaluateExpression(c.argument))}else jf(t,e.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const c=r.value.data.estree.body[0];c.type,a=t.evaluater.evaluateExpression(c.expression)}else jf(t,e.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function BN(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:Ioe;for(;++r<e.children.length;){const a=e.children[r];let o;if(t.passKeys){const d=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(d){const h=i.get(d)||0;o=d+"-"+h,i.set(d,h+1)}}const c=eL(t,a,o);c!==void 0&&n.push(c)}return n}function Woe(t,e,n){const r=voe(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?ooe(n):_oe(n)),r.property==="style"){let i=typeof n=="object"?n:Koe(t,String(n));return t.stylePropertyNameCase==="css"&&(i=Goe(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?goe[r.property]||r.property:r.attribute,n]}}function Koe(t,e){try{return Toe(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new Mr("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=ZO+"#cannot-parse-style-attribute",i}}function nL(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let a=-1,o;for(;++a<i.length;){const c=FA(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};o=o?{type:"MemberExpression",object:o,property:c,computed:!!(a&&c.type==="Literal"),optional:!1}:c}r=o}else r=FA(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return UN.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);jf(t)}function jf(t,e){const n=new Mr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=ZO+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Goe(t){const e={};let n;for(n in t)UN.call(t,n)&&(e[Qoe(n)]=t[n]);return e}function Qoe(t){let e=t.replace(Roe,Yoe);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function Yoe(t){return"-"+t.toLowerCase()}const Wb={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Joe={};function Xoe(t,e){const n=Joe,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return rL(t,r,i)}function rL(t,e,n){if(Zoe(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return GA(t.children,e,n)}return Array.isArray(t)?GA(t,e,n):""}function GA(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=rL(t[i],e,n);return r.join("")}function Zoe(t){return!!(t&&typeof t=="object")}const QA=document.createElement("i");function $N(t){const e="&"+t+";";QA.innerHTML=e;const n=QA.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function _a(t,e,n,r){const i=t.length;let a=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(e,n),t.splice(...o);else for(n&&t.splice(e,n);a<r.length;)o=r.slice(a,a+1e4),o.unshift(e,0),t.splice(...o),a+=1e4,e+=1e4}function Js(t,e){return t.length>0?(_a(t,t.length,0,e),t):e}const YA={}.hasOwnProperty;function ele(t){const e={};let n=-1;for(;++n<t.length;)tle(e,t[n]);return e}function tle(t,e){let n;for(n in e){const i=(YA.call(t,n)?t[n]:void 0)||(t[n]={}),a=e[n];let o;if(a)for(o in a){YA.call(i,o)||(i[o]=[]);const c=a[o];nle(i[o],Array.isArray(c)?c:c?[c]:[])}}}function nle(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);_a(t,0,0,r)}function sL(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function wd(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const sa=Hl(/[A-Za-z]/),Ms=Hl(/[\dA-Za-z]/),rle=Hl(/[#-'*+\--9=?A-Z^-~]/);function Y1(t){return t!==null&&(t<32||t===127)}const J1=Hl(/\d/),sle=Hl(/[\dA-Fa-f]/),ile=Hl(/[!-/:-@[-`{-~]/);function mt(t){return t!==null&&t<-2}function hs(t){return t!==null&&(t<0||t===32)}function $t(t){return t===-2||t===-1||t===32}const ale=Hl(new RegExp("\\p{P}|\\p{S}","u")),ole=Hl(/\s/);function Hl(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function vh(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const a=t.charCodeAt(n);let o="";if(a===37&&Ms(t.charCodeAt(n+1))&&Ms(t.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(o=String.fromCharCode(a));else if(a>55295&&a<57344){const c=t.charCodeAt(n+1);a<56320&&c>56319&&c<57344?(o=String.fromCharCode(a,c),i=1):o=""}else o=String.fromCharCode(a);o&&(e.push(t.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function un(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return o;function o(d){return $t(d)?(t.enter(n),c(d)):e(d)}function c(d){return $t(d)&&a++<i?(t.consume(d),c):(t.exit(n),e(d))}}const lle={tokenize:cle};function cle(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(c){if(c===null){t.consume(c);return}return t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),un(t,e,"linePrefix")}function i(c){return t.enter("paragraph"),a(c)}function a(c){const d=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=d),n=d,o(c)}function o(c){if(c===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(c);return}return mt(c)?(t.consume(c),t.exit("chunkText"),a):(t.consume(c),o)}}const ule={tokenize:dle},JA={tokenize:hle};function dle(t){const e=this,n=[];let r=0,i,a,o;return c;function c(k){if(r<n.length){const C=n[r];return e.containerState=C[1],t.attempt(C[0].continuation,d,h)(k)}return h(k)}function d(k){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&E();const C=e.events.length;let R=C,F;for(;R--;)if(e.events[R][0]==="exit"&&e.events[R][1].type==="chunkFlow"){F=e.events[R][1].end;break}_(r);let M=C;for(;M<e.events.length;)e.events[M][1].end={...F},M++;return _a(e.events,R+1,0,e.events.slice(C)),e.events.length=M,h(k)}return c(k)}function h(k){if(r===n.length){if(!i)return g(k);if(i.currentConstruct&&i.currentConstruct.concrete)return N(k);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(JA,m,f)(k)}function m(k){return i&&E(),_(r),g(k)}function f(k){return e.parser.lazy[e.now().line]=r!==n.length,o=e.now().offset,N(k)}function g(k){return e.containerState={},t.attempt(JA,x,N)(k)}function x(k){return r++,n.push([e.currentConstruct,e.containerState]),g(k)}function N(k){if(k===null){i&&E(),_(0),t.consume(k);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),w(k)}function w(k){if(k===null){j(t.exit("chunkFlow"),!0),_(0),t.consume(k);return}return mt(k)?(t.consume(k),j(t.exit("chunkFlow")),r=0,e.interrupt=void 0,c):(t.consume(k),w)}function j(k,C){const R=e.sliceStream(k);if(C&&R.push(null),k.previous=a,a&&(a.next=k),a=k,i.defineSkip(k.start),i.write(R),e.parser.lazy[k.start.line]){let F=i.events.length;for(;F--;)if(i.events[F][1].start.offset<o&&(!i.events[F][1].end||i.events[F][1].end.offset>o))return;const M=e.events.length;let P=M,I,L;for(;P--;)if(e.events[P][0]==="exit"&&e.events[P][1].type==="chunkFlow"){if(I){L=e.events[P][1].end;break}I=!0}for(_(r),F=M;F<e.events.length;)e.events[F][1].end={...L},F++;_a(e.events,P+1,0,e.events.slice(M)),e.events.length=F}}function _(k){let C=n.length;for(;C-- >k;){const R=n[C];e.containerState=R[1],R[0].exit.call(e,t)}n.length=k}function E(){i.write([null]),a=void 0,i=void 0,e.containerState._closeFlow=void 0}}function hle(t,e,n){return un(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function XA(t){if(t===null||hs(t)||ole(t))return 1;if(ale(t))return 2}function qN(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const a=t[i].resolveAll;a&&!r.includes(a)&&(e=a(e,n),r.push(a))}return e}const X1={name:"attention",resolveAll:mle,tokenize:fle};function mle(t,e){let n=-1,r,i,a,o,c,d,h,m;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;d=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const f={...t[r][1].end},g={...t[n][1].start};ZA(f,-d),ZA(g,d),o={type:d>1?"strongSequence":"emphasisSequence",start:f,end:{...t[r][1].end}},c={type:d>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:g},a={type:d>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:d>1?"strong":"emphasis",start:{...o.start},end:{...c.end}},t[r][1].end={...o.start},t[n][1].start={...c.end},h=[],t[r][1].end.offset-t[r][1].start.offset&&(h=Js(h,[["enter",t[r][1],e],["exit",t[r][1],e]])),h=Js(h,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",a,e]]),h=Js(h,qN(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),h=Js(h,[["exit",a,e],["enter",c,e],["exit",c,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(m=2,h=Js(h,[["enter",t[n][1],e],["exit",t[n][1],e]])):m=0,_a(t,r-1,n-r+3,h),n=r+h.length-m-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function fle(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=XA(r);let a;return o;function o(d){return a=d,t.enter("attentionSequence"),c(d)}function c(d){if(d===a)return t.consume(d),c;const h=t.exit("attentionSequence"),m=XA(d),f=!m||m===2&&i||n.includes(d),g=!i||i===2&&m||n.includes(r);return h._open=!!(a===42?f:f&&(i||!g)),h._close=!!(a===42?g:g&&(m||!f)),e(d)}}function ZA(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const ple={name:"autolink",tokenize:gle};function gle(t,e,n){let r=0;return i;function i(x){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(x),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),a}function a(x){return sa(x)?(t.consume(x),o):x===64?n(x):h(x)}function o(x){return x===43||x===45||x===46||Ms(x)?(r=1,c(x)):h(x)}function c(x){return x===58?(t.consume(x),r=0,d):(x===43||x===45||x===46||Ms(x))&&r++<32?(t.consume(x),c):(r=0,h(x))}function d(x){return x===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(x),t.exit("autolinkMarker"),t.exit("autolink"),e):x===null||x===32||x===60||Y1(x)?n(x):(t.consume(x),d)}function h(x){return x===64?(t.consume(x),m):rle(x)?(t.consume(x),h):n(x)}function m(x){return Ms(x)?f(x):n(x)}function f(x){return x===46?(t.consume(x),r=0,m):x===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(x),t.exit("autolinkMarker"),t.exit("autolink"),e):g(x)}function g(x){if((x===45||Ms(x))&&r++<63){const N=x===45?g:f;return t.consume(x),N}return n(x)}}const n0={partial:!0,tokenize:xle};function xle(t,e,n){return r;function r(a){return $t(a)?un(t,i,"linePrefix")(a):i(a)}function i(a){return a===null||mt(a)?e(a):n(a)}}const iL={continuation:{tokenize:vle},exit:ble,name:"blockQuote",tokenize:yle};function yle(t,e,n){const r=this;return i;function i(o){if(o===62){const c=r.containerState;return c.open||(t.enter("blockQuote",{_container:!0}),c.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),a}return n(o)}function a(o){return $t(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function vle(t,e,n){const r=this;return i;function i(o){return $t(o)?un(t,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):a(o)}function a(o){return t.attempt(iL,e,n)(o)}}function ble(t){t.exit("blockQuote")}const aL={name:"characterEscape",tokenize:wle};function wle(t,e,n){return r;function r(a){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(a),t.exit("escapeMarker"),i}function i(a){return ile(a)?(t.enter("characterEscapeValue"),t.consume(a),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(a)}}const oL={name:"characterReference",tokenize:jle};function jle(t,e,n){const r=this;let i=0,a,o;return c;function c(f){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),d}function d(f){return f===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(f),t.exit("characterReferenceMarkerNumeric"),h):(t.enter("characterReferenceValue"),a=31,o=Ms,m(f))}function h(f){return f===88||f===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(f),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),a=6,o=sle,m):(t.enter("characterReferenceValue"),a=7,o=J1,m(f))}function m(f){if(f===59&&i){const g=t.exit("characterReferenceValue");return o===Ms&&!$N(r.sliceSerialize(g))?n(f):(t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return o(f)&&i++<a?(t.consume(f),m):n(f)}}const eI={partial:!0,tokenize:Nle},tI={concrete:!0,name:"codeFenced",tokenize:_le};function _le(t,e,n){const r=this,i={partial:!0,tokenize:R};let a=0,o=0,c;return d;function d(F){return h(F)}function h(F){const M=r.events[r.events.length-1];return a=M&&M[1].type==="linePrefix"?M[2].sliceSerialize(M[1],!0).length:0,c=F,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),m(F)}function m(F){return F===c?(o++,t.consume(F),m):o<3?n(F):(t.exit("codeFencedFenceSequence"),$t(F)?un(t,f,"whitespace")(F):f(F))}function f(F){return F===null||mt(F)?(t.exit("codeFencedFence"),r.interrupt?e(F):t.check(eI,w,C)(F)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),g(F))}function g(F){return F===null||mt(F)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),f(F)):$t(F)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),un(t,x,"whitespace")(F)):F===96&&F===c?n(F):(t.consume(F),g)}function x(F){return F===null||mt(F)?f(F):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),N(F))}function N(F){return F===null||mt(F)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),f(F)):F===96&&F===c?n(F):(t.consume(F),N)}function w(F){return t.attempt(i,C,j)(F)}function j(F){return t.enter("lineEnding"),t.consume(F),t.exit("lineEnding"),_}function _(F){return a>0&&$t(F)?un(t,E,"linePrefix",a+1)(F):E(F)}function E(F){return F===null||mt(F)?t.check(eI,w,C)(F):(t.enter("codeFlowValue"),k(F))}function k(F){return F===null||mt(F)?(t.exit("codeFlowValue"),E(F)):(t.consume(F),k)}function C(F){return t.exit("codeFenced"),e(F)}function R(F,M,P){let I=0;return L;function L(ee){return F.enter("lineEnding"),F.consume(ee),F.exit("lineEnding"),U}function U(ee){return F.enter("codeFencedFence"),$t(ee)?un(F,D,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ee):D(ee)}function D(ee){return ee===c?(F.enter("codeFencedFenceSequence"),V(ee)):P(ee)}function V(ee){return ee===c?(I++,F.consume(ee),V):I>=o?(F.exit("codeFencedFenceSequence"),$t(ee)?un(F,J,"whitespace")(ee):J(ee)):P(ee)}function J(ee){return ee===null||mt(ee)?(F.exit("codeFencedFence"),M(ee)):P(ee)}}}function Nle(t,e,n){const r=this;return i;function i(o){return o===null?n(o):(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),a)}function a(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}const Kb={name:"codeIndented",tokenize:Ele},Sle={partial:!0,tokenize:Cle};function Ele(t,e,n){const r=this;return i;function i(h){return t.enter("codeIndented"),un(t,a,"linePrefix",5)(h)}function a(h){const m=r.events[r.events.length-1];return m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?o(h):n(h)}function o(h){return h===null?d(h):mt(h)?t.attempt(Sle,o,d)(h):(t.enter("codeFlowValue"),c(h))}function c(h){return h===null||mt(h)?(t.exit("codeFlowValue"),o(h)):(t.consume(h),c)}function d(h){return t.exit("codeIndented"),e(h)}}function Cle(t,e,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):mt(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i):un(t,a,"linePrefix",5)(o)}function a(o){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(o):mt(o)?i(o):n(o)}}const kle={name:"codeText",previous:Ale,resolve:Tle,tokenize:Ile};function Tle(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function Ale(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Ile(t,e,n){let r=0,i,a;return o;function o(f){return t.enter("codeText"),t.enter("codeTextSequence"),c(f)}function c(f){return f===96?(t.consume(f),r++,c):(t.exit("codeTextSequence"),d(f))}function d(f){return f===null?n(f):f===32?(t.enter("space"),t.consume(f),t.exit("space"),d):f===96?(a=t.enter("codeTextSequence"),i=0,m(f)):mt(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),d):(t.enter("codeTextData"),h(f))}function h(f){return f===null||f===32||f===96||mt(f)?(t.exit("codeTextData"),d(f)):(t.consume(f),h)}function m(f){return f===96?(t.consume(f),i++,m):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(f)):(a.type="codeTextData",h(f))}}class Rle{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&fm(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),fm(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),fm(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);fm(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);fm(this.left,n.reverse())}}}function fm(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function lL(t){const e={};let n=-1,r,i,a,o,c,d,h;const m=new Rle(t);for(;++n<m.length;){for(;n in e;)n=e[n];if(r=m.get(n),n&&r[1].type==="chunkFlow"&&m.get(n-1)[1].type==="listItemPrefix"&&(d=r[1]._tokenizer.events,a=0,a<d.length&&d[a][1].type==="lineEndingBlank"&&(a+=2),a<d.length&&d[a][1].type==="content"))for(;++a<d.length&&d[a][1].type!=="content";)d[a][1].type==="chunkText"&&(d[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,Ple(m,n)),n=e[n],h=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(o=m.get(a),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(m.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=a);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...m.get(i)[1].start},c=m.slice(i,n),c.unshift(r),m.splice(i,n-i+1,c))}}return _a(t,0,Number.POSITIVE_INFINITY,m.slice(0)),!h}function Ple(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const a=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const c=o.events,d=[],h={};let m,f,g=-1,x=n,N=0,w=0;const j=[w];for(;x;){for(;t.get(++i)[1]!==x;);a.push(i),x._tokenizer||(m=r.sliceStream(x),x.next||m.push(null),f&&o.defineSkip(x.start),x._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(m),x._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=x,x=x.next}for(x=n;++g<c.length;)c[g][0]==="exit"&&c[g-1][0]==="enter"&&c[g][1].type===c[g-1][1].type&&c[g][1].start.line!==c[g][1].end.line&&(w=g+1,j.push(w),x._tokenizer=void 0,x.previous=void 0,x=x.next);for(o.events=[],x?(x._tokenizer=void 0,x.previous=void 0):j.pop(),g=j.length;g--;){const _=c.slice(j[g],j[g+1]),E=a.pop();d.push([E,E+_.length-1]),t.splice(E,2,_)}for(d.reverse(),g=-1;++g<d.length;)h[N+d[g][0]]=N+d[g][1],N+=d[g][1]-d[g][0]-1;return h}const Dle={resolve:Ole,tokenize:Lle},Mle={partial:!0,tokenize:Fle};function Ole(t){return lL(t),t}function Lle(t,e){let n;return r;function r(c){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(c)}function i(c){return c===null?a(c):mt(c)?t.check(Mle,o,a)(c):(t.consume(c),i)}function a(c){return t.exit("chunkContent"),t.exit("content"),e(c)}function o(c){return t.consume(c),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Fle(t,e,n){const r=this;return i;function i(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),un(t,a,"linePrefix")}function a(o){if(o===null||mt(o))return n(o);const c=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(o):t.interrupt(r.parser.constructs.flow,n,e)(o)}}function cL(t,e,n,r,i,a,o,c,d){const h=d||Number.POSITIVE_INFINITY;let m=0;return f;function f(_){return _===60?(t.enter(r),t.enter(i),t.enter(a),t.consume(_),t.exit(a),g):_===null||_===32||_===41||Y1(_)?n(_):(t.enter(r),t.enter(o),t.enter(c),t.enter("chunkString",{contentType:"string"}),w(_))}function g(_){return _===62?(t.enter(a),t.consume(_),t.exit(a),t.exit(i),t.exit(r),e):(t.enter(c),t.enter("chunkString",{contentType:"string"}),x(_))}function x(_){return _===62?(t.exit("chunkString"),t.exit(c),g(_)):_===null||_===60||mt(_)?n(_):(t.consume(_),_===92?N:x)}function N(_){return _===60||_===62||_===92?(t.consume(_),x):x(_)}function w(_){return!m&&(_===null||_===41||hs(_))?(t.exit("chunkString"),t.exit(c),t.exit(o),t.exit(r),e(_)):m<h&&_===40?(t.consume(_),m++,w):_===41?(t.consume(_),m--,w):_===null||_===32||_===40||Y1(_)?n(_):(t.consume(_),_===92?j:w)}function j(_){return _===40||_===41||_===92?(t.consume(_),w):w(_)}}function uL(t,e,n,r,i,a){const o=this;let c=0,d;return h;function h(x){return t.enter(r),t.enter(i),t.consume(x),t.exit(i),t.enter(a),m}function m(x){return c>999||x===null||x===91||x===93&&!d||x===94&&!c&&"_hiddenFootnoteSupport"in o.parser.constructs?n(x):x===93?(t.exit(a),t.enter(i),t.consume(x),t.exit(i),t.exit(r),e):mt(x)?(t.enter("lineEnding"),t.consume(x),t.exit("lineEnding"),m):(t.enter("chunkString",{contentType:"string"}),f(x))}function f(x){return x===null||x===91||x===93||mt(x)||c++>999?(t.exit("chunkString"),m(x)):(t.consume(x),d||(d=!$t(x)),x===92?g:f)}function g(x){return x===91||x===92||x===93?(t.consume(x),c++,f):f(x)}}function dL(t,e,n,r,i,a){let o;return c;function c(g){return g===34||g===39||g===40?(t.enter(r),t.enter(i),t.consume(g),t.exit(i),o=g===40?41:g,d):n(g)}function d(g){return g===o?(t.enter(i),t.consume(g),t.exit(i),t.exit(r),e):(t.enter(a),h(g))}function h(g){return g===o?(t.exit(a),d(o)):g===null?n(g):mt(g)?(t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),un(t,h,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),m(g))}function m(g){return g===o||g===null||mt(g)?(t.exit("chunkString"),h(g)):(t.consume(g),g===92?f:m)}function f(g){return g===o||g===92?(t.consume(g),m):m(g)}}function $m(t,e){let n;return r;function r(i){return mt(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):$t(i)?un(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const Vle={name:"definition",tokenize:zle},Ule={partial:!0,tokenize:Ble};function zle(t,e,n){const r=this;let i;return a;function a(x){return t.enter("definition"),o(x)}function o(x){return uL.call(r,t,c,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(x)}function c(x){return i=wd(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),x===58?(t.enter("definitionMarker"),t.consume(x),t.exit("definitionMarker"),d):n(x)}function d(x){return hs(x)?$m(t,h)(x):h(x)}function h(x){return cL(t,m,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(x)}function m(x){return t.attempt(Ule,f,f)(x)}function f(x){return $t(x)?un(t,g,"whitespace")(x):g(x)}function g(x){return x===null||mt(x)?(t.exit("definition"),r.parser.defined.push(i),e(x)):n(x)}}function Ble(t,e,n){return r;function r(c){return hs(c)?$m(t,i)(c):n(c)}function i(c){return dL(t,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function a(c){return $t(c)?un(t,o,"whitespace")(c):o(c)}function o(c){return c===null||mt(c)?e(c):n(c)}}const $le={name:"hardBreakEscape",tokenize:qle};function qle(t,e,n){return r;function r(a){return t.enter("hardBreakEscape"),t.consume(a),i}function i(a){return mt(a)?(t.exit("hardBreakEscape"),e(a)):n(a)}}const Hle={name:"headingAtx",resolve:Wle,tokenize:Kle};function Wle(t,e){let n=t.length-2,r=3,i,a;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},a={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},_a(t,r,n-r+1,[["enter",i,e],["enter",a,e],["exit",a,e],["exit",i,e]])),t}function Kle(t,e,n){let r=0;return i;function i(m){return t.enter("atxHeading"),a(m)}function a(m){return t.enter("atxHeadingSequence"),o(m)}function o(m){return m===35&&r++<6?(t.consume(m),o):m===null||hs(m)?(t.exit("atxHeadingSequence"),c(m)):n(m)}function c(m){return m===35?(t.enter("atxHeadingSequence"),d(m)):m===null||mt(m)?(t.exit("atxHeading"),e(m)):$t(m)?un(t,c,"whitespace")(m):(t.enter("atxHeadingText"),h(m))}function d(m){return m===35?(t.consume(m),d):(t.exit("atxHeadingSequence"),c(m))}function h(m){return m===null||m===35||hs(m)?(t.exit("atxHeadingText"),c(m)):(t.consume(m),h)}}const Gle=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],nI=["pre","script","style","textarea"],Qle={concrete:!0,name:"htmlFlow",resolveTo:Xle,tokenize:Zle},Yle={partial:!0,tokenize:tce},Jle={partial:!0,tokenize:ece};function Xle(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function Zle(t,e,n){const r=this;let i,a,o,c,d;return h;function h(H){return m(H)}function m(H){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(H),f}function f(H){return H===33?(t.consume(H),g):H===47?(t.consume(H),a=!0,w):H===63?(t.consume(H),i=3,r.interrupt?e:B):sa(H)?(t.consume(H),o=String.fromCharCode(H),j):n(H)}function g(H){return H===45?(t.consume(H),i=2,x):H===91?(t.consume(H),i=5,c=0,N):sa(H)?(t.consume(H),i=4,r.interrupt?e:B):n(H)}function x(H){return H===45?(t.consume(H),r.interrupt?e:B):n(H)}function N(H){const me="CDATA[";return H===me.charCodeAt(c++)?(t.consume(H),c===me.length?r.interrupt?e:D:N):n(H)}function w(H){return sa(H)?(t.consume(H),o=String.fromCharCode(H),j):n(H)}function j(H){if(H===null||H===47||H===62||hs(H)){const me=H===47,we=o.toLowerCase();return!me&&!a&&nI.includes(we)?(i=1,r.interrupt?e(H):D(H)):Gle.includes(o.toLowerCase())?(i=6,me?(t.consume(H),_):r.interrupt?e(H):D(H)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(H):a?E(H):k(H))}return H===45||Ms(H)?(t.consume(H),o+=String.fromCharCode(H),j):n(H)}function _(H){return H===62?(t.consume(H),r.interrupt?e:D):n(H)}function E(H){return $t(H)?(t.consume(H),E):L(H)}function k(H){return H===47?(t.consume(H),L):H===58||H===95||sa(H)?(t.consume(H),C):$t(H)?(t.consume(H),k):L(H)}function C(H){return H===45||H===46||H===58||H===95||Ms(H)?(t.consume(H),C):R(H)}function R(H){return H===61?(t.consume(H),F):$t(H)?(t.consume(H),R):k(H)}function F(H){return H===null||H===60||H===61||H===62||H===96?n(H):H===34||H===39?(t.consume(H),d=H,M):$t(H)?(t.consume(H),F):P(H)}function M(H){return H===d?(t.consume(H),d=null,I):H===null||mt(H)?n(H):(t.consume(H),M)}function P(H){return H===null||H===34||H===39||H===47||H===60||H===61||H===62||H===96||hs(H)?R(H):(t.consume(H),P)}function I(H){return H===47||H===62||$t(H)?k(H):n(H)}function L(H){return H===62?(t.consume(H),U):n(H)}function U(H){return H===null||mt(H)?D(H):$t(H)?(t.consume(H),U):n(H)}function D(H){return H===45&&i===2?(t.consume(H),re):H===60&&i===1?(t.consume(H),ie):H===62&&i===4?(t.consume(H),$):H===63&&i===3?(t.consume(H),B):H===93&&i===5?(t.consume(H),q):mt(H)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(Yle,te,V)(H)):H===null||mt(H)?(t.exit("htmlFlowData"),V(H)):(t.consume(H),D)}function V(H){return t.check(Jle,J,te)(H)}function J(H){return t.enter("lineEnding"),t.consume(H),t.exit("lineEnding"),ee}function ee(H){return H===null||mt(H)?V(H):(t.enter("htmlFlowData"),D(H))}function re(H){return H===45?(t.consume(H),B):D(H)}function ie(H){return H===47?(t.consume(H),o="",Q):D(H)}function Q(H){if(H===62){const me=o.toLowerCase();return nI.includes(me)?(t.consume(H),$):D(H)}return sa(H)&&o.length<8?(t.consume(H),o+=String.fromCharCode(H),Q):D(H)}function q(H){return H===93?(t.consume(H),B):D(H)}function B(H){return H===62?(t.consume(H),$):H===45&&i===2?(t.consume(H),B):D(H)}function $(H){return H===null||mt(H)?(t.exit("htmlFlowData"),te(H)):(t.consume(H),$)}function te(H){return t.exit("htmlFlow"),e(H)}}function ece(t,e,n){const r=this;return i;function i(o){return mt(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),a):n(o)}function a(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}function tce(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(n0,e,n)}}const nce={name:"htmlText",tokenize:rce};function rce(t,e,n){const r=this;let i,a,o;return c;function c(B){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(B),d}function d(B){return B===33?(t.consume(B),h):B===47?(t.consume(B),R):B===63?(t.consume(B),k):sa(B)?(t.consume(B),P):n(B)}function h(B){return B===45?(t.consume(B),m):B===91?(t.consume(B),a=0,N):sa(B)?(t.consume(B),E):n(B)}function m(B){return B===45?(t.consume(B),x):n(B)}function f(B){return B===null?n(B):B===45?(t.consume(B),g):mt(B)?(o=f,ie(B)):(t.consume(B),f)}function g(B){return B===45?(t.consume(B),x):f(B)}function x(B){return B===62?re(B):B===45?g(B):f(B)}function N(B){const $="CDATA[";return B===$.charCodeAt(a++)?(t.consume(B),a===$.length?w:N):n(B)}function w(B){return B===null?n(B):B===93?(t.consume(B),j):mt(B)?(o=w,ie(B)):(t.consume(B),w)}function j(B){return B===93?(t.consume(B),_):w(B)}function _(B){return B===62?re(B):B===93?(t.consume(B),_):w(B)}function E(B){return B===null||B===62?re(B):mt(B)?(o=E,ie(B)):(t.consume(B),E)}function k(B){return B===null?n(B):B===63?(t.consume(B),C):mt(B)?(o=k,ie(B)):(t.consume(B),k)}function C(B){return B===62?re(B):k(B)}function R(B){return sa(B)?(t.consume(B),F):n(B)}function F(B){return B===45||Ms(B)?(t.consume(B),F):M(B)}function M(B){return mt(B)?(o=M,ie(B)):$t(B)?(t.consume(B),M):re(B)}function P(B){return B===45||Ms(B)?(t.consume(B),P):B===47||B===62||hs(B)?I(B):n(B)}function I(B){return B===47?(t.consume(B),re):B===58||B===95||sa(B)?(t.consume(B),L):mt(B)?(o=I,ie(B)):$t(B)?(t.consume(B),I):re(B)}function L(B){return B===45||B===46||B===58||B===95||Ms(B)?(t.consume(B),L):U(B)}function U(B){return B===61?(t.consume(B),D):mt(B)?(o=U,ie(B)):$t(B)?(t.consume(B),U):I(B)}function D(B){return B===null||B===60||B===61||B===62||B===96?n(B):B===34||B===39?(t.consume(B),i=B,V):mt(B)?(o=D,ie(B)):$t(B)?(t.consume(B),D):(t.consume(B),J)}function V(B){return B===i?(t.consume(B),i=void 0,ee):B===null?n(B):mt(B)?(o=V,ie(B)):(t.consume(B),V)}function J(B){return B===null||B===34||B===39||B===60||B===61||B===96?n(B):B===47||B===62||hs(B)?I(B):(t.consume(B),J)}function ee(B){return B===47||B===62||hs(B)?I(B):n(B)}function re(B){return B===62?(t.consume(B),t.exit("htmlTextData"),t.exit("htmlText"),e):n(B)}function ie(B){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(B),t.exit("lineEnding"),Q}function Q(B){return $t(B)?un(t,q,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(B):q(B)}function q(B){return t.enter("htmlTextData"),o(B)}}const HN={name:"labelEnd",resolveAll:oce,resolveTo:lce,tokenize:cce},sce={tokenize:uce},ice={tokenize:dce},ace={tokenize:hce};function oce(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&_a(t,0,t.length,n),t}function lce(t,e){let n=t.length,r=0,i,a,o,c;for(;n--;)if(i=t[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const d={type:t[a][1].type==="labelLink"?"link":"image",start:{...t[a][1].start},end:{...t[t.length-1][1].end}},h={type:"label",start:{...t[a][1].start},end:{...t[o][1].end}},m={type:"labelText",start:{...t[a+r+2][1].end},end:{...t[o-2][1].start}};return c=[["enter",d,e],["enter",h,e]],c=Js(c,t.slice(a+1,a+r+3)),c=Js(c,[["enter",m,e]]),c=Js(c,qN(e.parser.constructs.insideSpan.null,t.slice(a+r+4,o-3),e)),c=Js(c,[["exit",m,e],t[o-2],t[o-1],["exit",h,e]]),c=Js(c,t.slice(o+1)),c=Js(c,[["exit",d,e]]),_a(t,a,t.length,c),t}function cce(t,e,n){const r=this;let i=r.events.length,a,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return c;function c(g){return a?a._inactive?f(g):(o=r.parser.defined.includes(wd(r.sliceSerialize({start:a.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(g),t.exit("labelMarker"),t.exit("labelEnd"),d):n(g)}function d(g){return g===40?t.attempt(sce,m,o?m:f)(g):g===91?t.attempt(ice,m,o?h:f)(g):o?m(g):f(g)}function h(g){return t.attempt(ace,m,f)(g)}function m(g){return e(g)}function f(g){return a._balanced=!0,n(g)}}function uce(t,e,n){return r;function r(f){return t.enter("resource"),t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),i}function i(f){return hs(f)?$m(t,a)(f):a(f)}function a(f){return f===41?m(f):cL(t,o,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function o(f){return hs(f)?$m(t,d)(f):m(f)}function c(f){return n(f)}function d(f){return f===34||f===39||f===40?dL(t,h,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):m(f)}function h(f){return hs(f)?$m(t,m)(f):m(f)}function m(f){return f===41?(t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),t.exit("resource"),e):n(f)}}function dce(t,e,n){const r=this;return i;function i(c){return uL.call(r,t,a,o,"reference","referenceMarker","referenceString")(c)}function a(c){return r.parser.defined.includes(wd(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(c):n(c)}function o(c){return n(c)}}function hce(t,e,n){return r;function r(a){return t.enter("reference"),t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),i}function i(a){return a===93?(t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),t.exit("reference"),e):n(a)}}const mce={name:"labelStartImage",resolveAll:HN.resolveAll,tokenize:fce};function fce(t,e,n){const r=this;return i;function i(c){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(c),t.exit("labelImageMarker"),a}function a(c){return c===91?(t.enter("labelMarker"),t.consume(c),t.exit("labelMarker"),t.exit("labelImage"),o):n(c)}function o(c){return c===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(c):e(c)}}const pce={name:"labelStartLink",resolveAll:HN.resolveAll,tokenize:gce};function gce(t,e,n){const r=this;return i;function i(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),a}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const Gb={name:"lineEnding",tokenize:xce};function xce(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),un(t,e,"linePrefix")}}const dx={name:"thematicBreak",tokenize:yce};function yce(t,e,n){let r=0,i;return a;function a(h){return t.enter("thematicBreak"),o(h)}function o(h){return i=h,c(h)}function c(h){return h===i?(t.enter("thematicBreakSequence"),d(h)):r>=3&&(h===null||mt(h))?(t.exit("thematicBreak"),e(h)):n(h)}function d(h){return h===i?(t.consume(h),r++,d):(t.exit("thematicBreakSequence"),$t(h)?un(t,c,"whitespace")(h):c(h))}}const is={continuation:{tokenize:jce},exit:Nce,name:"list",tokenize:wce},vce={partial:!0,tokenize:Sce},bce={partial:!0,tokenize:_ce};function wce(t,e,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return c;function c(x){const N=r.containerState.type||(x===42||x===43||x===45?"listUnordered":"listOrdered");if(N==="listUnordered"?!r.containerState.marker||x===r.containerState.marker:J1(x)){if(r.containerState.type||(r.containerState.type=N,t.enter(N,{_container:!0})),N==="listUnordered")return t.enter("listItemPrefix"),x===42||x===45?t.check(dx,n,h)(x):h(x);if(!r.interrupt||x===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),d(x)}return n(x)}function d(x){return J1(x)&&++o<10?(t.consume(x),d):(!r.interrupt||o<2)&&(r.containerState.marker?x===r.containerState.marker:x===41||x===46)?(t.exit("listItemValue"),h(x)):n(x)}function h(x){return t.enter("listItemMarker"),t.consume(x),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||x,t.check(n0,r.interrupt?n:m,t.attempt(vce,g,f))}function m(x){return r.containerState.initialBlankLine=!0,a++,g(x)}function f(x){return $t(x)?(t.enter("listItemPrefixWhitespace"),t.consume(x),t.exit("listItemPrefixWhitespace"),g):n(x)}function g(x){return r.containerState.size=a+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(x)}}function jce(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(n0,i,a);function i(c){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,un(t,e,"listItemIndent",r.containerState.size+1)(c)}function a(c){return r.containerState.furtherBlankLines||!$t(c)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(c)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(bce,e,o)(c))}function o(c){return r.containerState._closeFlow=!0,r.interrupt=void 0,un(t,t.attempt(is,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}}function _ce(t,e,n){const r=this;return un(t,i,"listItemIndent",r.containerState.size+1);function i(a){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(a):n(a)}}function Nce(t){t.exit(this.containerState.type)}function Sce(t,e,n){const r=this;return un(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const o=r.events[r.events.length-1];return!$t(a)&&o&&o[1].type==="listItemPrefixWhitespace"?e(a):n(a)}}const rI={name:"setextUnderline",resolveTo:Ece,tokenize:Cce};function Ece(t,e){let n=t.length,r,i,a;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!a&&t[n][1].type==="definition"&&(a=n);const o={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",a?(t.splice(i,0,["enter",o,e]),t.splice(a+1,0,["exit",t[r][1],e]),t[r][1].end={...t[a][1].end}):t[r][1]=o,t.push(["exit",o,e]),t}function Cce(t,e,n){const r=this;let i;return a;function a(h){let m=r.events.length,f;for(;m--;)if(r.events[m][1].type!=="lineEnding"&&r.events[m][1].type!=="linePrefix"&&r.events[m][1].type!=="content"){f=r.events[m][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(t.enter("setextHeadingLine"),i=h,o(h)):n(h)}function o(h){return t.enter("setextHeadingLineSequence"),c(h)}function c(h){return h===i?(t.consume(h),c):(t.exit("setextHeadingLineSequence"),$t(h)?un(t,d,"lineSuffix")(h):d(h))}function d(h){return h===null||mt(h)?(t.exit("setextHeadingLine"),e(h)):n(h)}}const kce={tokenize:Tce};function Tce(t){const e=this,n=t.attempt(n0,r,t.attempt(this.parser.constructs.flowInitial,i,un(t,t.attempt(this.parser.constructs.flow,i,t.attempt(Dle,i)),"linePrefix")));return n;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEndingBlank"),t.consume(a),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const Ace={resolveAll:mL()},Ice=hL("string"),Rce=hL("text");function hL(t){return{resolveAll:mL(t==="text"?Pce:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],a=n.attempt(i,o,c);return o;function o(m){return h(m)?a(m):c(m)}function c(m){if(m===null){n.consume(m);return}return n.enter("data"),n.consume(m),d}function d(m){return h(m)?(n.exit("data"),a(m)):(n.consume(m),d)}function h(m){if(m===null)return!0;const f=i[m];let g=-1;if(f)for(;++g<f.length;){const x=f[g];if(!x.previous||x.previous.call(r,r.previous))return!0}return!1}}}function mL(t){return e;function e(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return t?t(n,r):n}}function Pce(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let a=i.length,o=-1,c=0,d;for(;a--;){const h=i[a];if(typeof h=="string"){for(o=h.length;h.charCodeAt(o-1)===32;)c++,o--;if(o)break;o=-1}else if(h===-2)d=!0,c++;else if(h!==-1){a++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(c=0),c){const h={type:n===t.length||d||c<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?o:r.start._bufferIndex+o,_index:r.start._index+a,line:r.end.line,column:r.end.column-c,offset:r.end.offset-c},end:{...r.end}};r.end={...h.start},r.start.offset===r.end.offset?Object.assign(r,h):(t.splice(n,0,["enter",h,e],["exit",h,e]),n+=2)}n++}return t}const Dce={42:is,43:is,45:is,48:is,49:is,50:is,51:is,52:is,53:is,54:is,55:is,56:is,57:is,62:iL},Mce={91:Vle},Oce={[-2]:Kb,[-1]:Kb,32:Kb},Lce={35:Hle,42:dx,45:[rI,dx],60:Qle,61:rI,95:dx,96:tI,126:tI},Fce={38:oL,92:aL},Vce={[-5]:Gb,[-4]:Gb,[-3]:Gb,33:mce,38:oL,42:X1,60:[ple,nce],91:pce,92:[$le,aL],93:HN,95:X1,96:kle},Uce={null:[X1,Ace]},zce={null:[42,95]},Bce={null:[]},$ce=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:zce,contentInitial:Mce,disable:Bce,document:Dce,flow:Lce,flowInitial:Oce,insideSpan:Uce,string:Fce,text:Vce},Symbol.toStringTag,{value:"Module"}));function qce(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let o=[],c=[];const d={attempt:M(R),check:M(F),consume:E,enter:k,exit:C,interrupt:M(F,{interrupt:!0})},h={code:null,containerState:{},defineSkip:w,events:[],now:N,parser:t,previous:null,sliceSerialize:g,sliceStream:x,write:f};let m=e.tokenize.call(h,d);return e.resolveAll&&a.push(e),h;function f(U){return o=Js(o,U),j(),o[o.length-1]!==null?[]:(P(e,0),h.events=qN(a,h.events,h),h.events)}function g(U,D){return Wce(x(U),D)}function x(U){return Hce(o,U)}function N(){const{_bufferIndex:U,_index:D,line:V,column:J,offset:ee}=r;return{_bufferIndex:U,_index:D,line:V,column:J,offset:ee}}function w(U){i[U.line]=U.column,L()}function j(){let U;for(;r._index<o.length;){const D=o[r._index];if(typeof D=="string")for(U=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===U&&r._bufferIndex<D.length;)_(D.charCodeAt(r._bufferIndex));else _(D)}}function _(U){m=m(U)}function E(U){mt(U)?(r.line++,r.column=1,r.offset+=U===-3?2:1,L()):U!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),h.previous=U}function k(U,D){const V=D||{};return V.type=U,V.start=N(),h.events.push(["enter",V,h]),c.push(V),V}function C(U){const D=c.pop();return D.end=N(),h.events.push(["exit",D,h]),D}function R(U,D){P(U,D.from)}function F(U,D){D.restore()}function M(U,D){return V;function V(J,ee,re){let ie,Q,q,B;return Array.isArray(J)?te(J):"tokenize"in J?te([J]):$(J);function $(Ce){return fe;function fe(Se){const De=Se!==null&&Ce[Se],ze=Se!==null&&Ce.null,qe=[...Array.isArray(De)?De:De?[De]:[],...Array.isArray(ze)?ze:ze?[ze]:[]];return te(qe)(Se)}}function te(Ce){return ie=Ce,Q=0,Ce.length===0?re:H(Ce[Q])}function H(Ce){return fe;function fe(Se){return B=I(),q=Ce,Ce.partial||(h.currentConstruct=Ce),Ce.name&&h.parser.constructs.disable.null.includes(Ce.name)?we():Ce.tokenize.call(D?Object.assign(Object.create(h),D):h,d,me,we)(Se)}}function me(Ce){return U(q,B),ee}function we(Ce){return B.restore(),++Q<ie.length?H(ie[Q]):re}}}function P(U,D){U.resolveAll&&!a.includes(U)&&a.push(U),U.resolve&&_a(h.events,D,h.events.length-D,U.resolve(h.events.slice(D),h)),U.resolveTo&&(h.events=U.resolveTo(h.events,h))}function I(){const U=N(),D=h.previous,V=h.currentConstruct,J=h.events.length,ee=Array.from(c);return{from:J,restore:re};function re(){r=U,h.previous=D,h.currentConstruct=V,h.events.length=J,c=ee,L()}}function L(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Hce(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,a=e.end._bufferIndex;let o;if(n===i)o=[t[n].slice(r,a)];else{if(o=t.slice(n,i),r>-1){const c=o[0];typeof c=="string"?o[0]=c.slice(r):o.shift()}a>0&&o.push(t[i].slice(0,a))}return o}function Wce(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const a=t[n];let o;if(typeof a=="string")o=a;else switch(a){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(a)}i=a===-2,r.push(o)}return r.join("")}function Kce(t){const r={constructs:ele([$ce,...(t||{}).extensions||[]]),content:i(lle),defined:[],document:i(ule),flow:i(kce),lazy:{},string:i(Ice),text:i(Rce)};return r;function i(a){return o;function o(c){return qce(r,a,c)}}}function Gce(t){for(;!lL(t););return t}const sI=/[\0\t\n\r]/g;function Qce(){let t=1,e="",n=!0,r;return i;function i(a,o,c){const d=[];let h,m,f,g,x;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(o||void 0).decode(a)),f=0,e="",n&&(a.charCodeAt(0)===65279&&f++,n=void 0);f<a.length;){if(sI.lastIndex=f,h=sI.exec(a),g=h&&h.index!==void 0?h.index:a.length,x=a.charCodeAt(g),!h){e=a.slice(f);break}if(x===10&&f===g&&r)d.push(-3),r=void 0;else switch(r&&(d.push(-5),r=void 0),f<g&&(d.push(a.slice(f,g)),t+=g-f),x){case 0:{d.push(65533),t++;break}case 9:{for(m=Math.ceil(t/4)*4,d.push(-2);t++<m;)d.push(-1);break}case 10:{d.push(-4),t=1;break}default:r=!0,t=1}f=g+1}return c&&(r&&d.push(-5),e&&d.push(e),d.push(null)),d}}const Yce=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Jce(t){return t.replace(Yce,Xce)}function Xce(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return sL(n.slice(a?2:1),a?16:10)}return $N(n)||t}const fL={}.hasOwnProperty;function Zce(t,e,n){return typeof e!="string"&&(n=e,e=void 0),eue(n)(Gce(Kce(n).document().write(Qce()(t,e,!0))))}function eue(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(zt),autolinkProtocol:I,autolinkEmail:I,atxHeading:a(wr),blockQuote:a(ze),characterEscape:I,characterReference:I,codeFenced:a(qe),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:a(qe,o),codeText:a(ft,o),codeTextData:I,data:I,codeFlowValue:I,definition:a(Zt),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:a(kn),hardBreakEscape:a(Bn),hardBreakTrailing:a(Bn),htmlFlow:a(Jn,o),htmlFlowData:I,htmlText:a(Jn,o),htmlTextData:I,image:a(xs),label:o,link:a(zt),listItem:a(Or),listItemValue:g,listOrdered:a(en,f),listUnordered:a(en),paragraph:a(Ca),reference:H,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:a(wr),strong:a(Ii),thematicBreak:a(Fs)},exit:{atxHeading:d(),atxHeadingSequence:R,autolink:d(),autolinkEmail:De,autolinkProtocol:Se,blockQuote:d(),characterEscapeValue:L,characterReferenceMarkerHexadecimal:we,characterReferenceMarkerNumeric:we,characterReferenceValue:Ce,characterReference:fe,codeFenced:d(j),codeFencedFence:w,codeFencedFenceInfo:x,codeFencedFenceMeta:N,codeFlowValue:L,codeIndented:d(_),codeText:d(ee),codeTextData:L,data:L,definition:d(),definitionDestinationString:C,definitionLabelString:E,definitionTitleString:k,emphasis:d(),hardBreakEscape:d(D),hardBreakTrailing:d(D),htmlFlow:d(V),htmlFlowData:L,htmlText:d(J),htmlTextData:L,image:d(ie),label:q,labelText:Q,lineEnding:U,link:d(re),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:me,resourceDestinationString:B,resourceTitleString:$,resource:te,setextHeading:d(P),setextHeadingLineSequence:M,setextHeadingText:F,strong:d(),thematicBreak:d()}};pL(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(pe){let Ie={type:"root",children:[]};const Ze={stack:[Ie],tokenStack:[],config:e,enter:c,exit:h,buffer:o,resume:m,data:n},bt=[];let kt=-1;for(;++kt<pe.length;)if(pe[kt][1].type==="listOrdered"||pe[kt][1].type==="listUnordered")if(pe[kt][0]==="enter")bt.push(kt);else{const xn=bt.pop();kt=i(pe,xn,kt)}for(kt=-1;++kt<pe.length;){const xn=e[pe[kt][0]];fL.call(xn,pe[kt][1].type)&&xn[pe[kt][1].type].call(Object.assign({sliceSerialize:pe[kt][2].sliceSerialize},Ze),pe[kt][1])}if(Ze.tokenStack.length>0){const xn=Ze.tokenStack[Ze.tokenStack.length-1];(xn[1]||iI).call(Ze,void 0,xn[0])}for(Ie.position={start:Go(pe.length>0?pe[0][1].start:{line:1,column:1,offset:0}),end:Go(pe.length>0?pe[pe.length-2][1].end:{line:1,column:1,offset:0})},kt=-1;++kt<e.transforms.length;)Ie=e.transforms[kt](Ie)||Ie;return Ie}function i(pe,Ie,Ze){let bt=Ie-1,kt=-1,xn=!1,ge,He,et,tt;for(;++bt<=Ze;){const gt=pe[bt];switch(gt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{gt[0]==="enter"?kt++:kt--,tt=void 0;break}case"lineEndingBlank":{gt[0]==="enter"&&(ge&&!tt&&!kt&&!et&&(et=bt),tt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:tt=void 0}if(!kt&&gt[0]==="enter"&&gt[1].type==="listItemPrefix"||kt===-1&&gt[0]==="exit"&&(gt[1].type==="listUnordered"||gt[1].type==="listOrdered")){if(ge){let ut=bt;for(He=void 0;ut--;){const Mt=pe[ut];if(Mt[1].type==="lineEnding"||Mt[1].type==="lineEndingBlank"){if(Mt[0]==="exit")continue;He&&(pe[He][1].type="lineEndingBlank",xn=!0),Mt[1].type="lineEnding",He=ut}else if(!(Mt[1].type==="linePrefix"||Mt[1].type==="blockQuotePrefix"||Mt[1].type==="blockQuotePrefixWhitespace"||Mt[1].type==="blockQuoteMarker"||Mt[1].type==="listItemIndent"))break}et&&(!He||et<He)&&(ge._spread=!0),ge.end=Object.assign({},He?pe[He][1].start:gt[1].end),pe.splice(He||bt,0,["exit",ge,gt[2]]),bt++,Ze++}if(gt[1].type==="listItemPrefix"){const ut={type:"listItem",_spread:!1,start:Object.assign({},gt[1].start),end:void 0};ge=ut,pe.splice(bt,0,["enter",ut,gt[2]]),bt++,Ze++,et=void 0,tt=!0}}}return pe[Ie][1]._spread=xn,Ze}function a(pe,Ie){return Ze;function Ze(bt){c.call(this,pe(bt),bt),Ie&&Ie.call(this,bt)}}function o(){this.stack.push({type:"fragment",children:[]})}function c(pe,Ie,Ze){this.stack[this.stack.length-1].children.push(pe),this.stack.push(pe),this.tokenStack.push([Ie,Ze||void 0]),pe.position={start:Go(Ie.start),end:void 0}}function d(pe){return Ie;function Ie(Ze){pe&&pe.call(this,Ze),h.call(this,Ze)}}function h(pe,Ie){const Ze=this.stack.pop(),bt=this.tokenStack.pop();if(bt)bt[0].type!==pe.type&&(Ie?Ie.call(this,pe,bt[0]):(bt[1]||iI).call(this,pe,bt[0]));else throw new Error("Cannot close `"+pe.type+"` ("+Bm({start:pe.start,end:pe.end})+"): its not open");Ze.position.end=Go(pe.end)}function m(){return Xoe(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function g(pe){if(this.data.expectingFirstListItemValue){const Ie=this.stack[this.stack.length-2];Ie.start=Number.parseInt(this.sliceSerialize(pe),10),this.data.expectingFirstListItemValue=void 0}}function x(){const pe=this.resume(),Ie=this.stack[this.stack.length-1];Ie.lang=pe}function N(){const pe=this.resume(),Ie=this.stack[this.stack.length-1];Ie.meta=pe}function w(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function j(){const pe=this.resume(),Ie=this.stack[this.stack.length-1];Ie.value=pe.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function _(){const pe=this.resume(),Ie=this.stack[this.stack.length-1];Ie.value=pe.replace(/(\r?\n|\r)$/g,"")}function E(pe){const Ie=this.resume(),Ze=this.stack[this.stack.length-1];Ze.label=Ie,Ze.identifier=wd(this.sliceSerialize(pe)).toLowerCase()}function k(){const pe=this.resume(),Ie=this.stack[this.stack.length-1];Ie.title=pe}function C(){const pe=this.resume(),Ie=this.stack[this.stack.length-1];Ie.url=pe}function R(pe){const Ie=this.stack[this.stack.length-1];if(!Ie.depth){const Ze=this.sliceSerialize(pe).length;Ie.depth=Ze}}function F(){this.data.setextHeadingSlurpLineEnding=!0}function M(pe){const Ie=this.stack[this.stack.length-1];Ie.depth=this.sliceSerialize(pe).codePointAt(0)===61?1:2}function P(){this.data.setextHeadingSlurpLineEnding=void 0}function I(pe){const Ze=this.stack[this.stack.length-1].children;let bt=Ze[Ze.length-1];(!bt||bt.type!=="text")&&(bt=Ri(),bt.position={start:Go(pe.start),end:void 0},Ze.push(bt)),this.stack.push(bt)}function L(pe){const Ie=this.stack.pop();Ie.value+=this.sliceSerialize(pe),Ie.position.end=Go(pe.end)}function U(pe){const Ie=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ze=Ie.children[Ie.children.length-1];Ze.position.end=Go(pe.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Ie.type)&&(I.call(this,pe),L.call(this,pe))}function D(){this.data.atHardBreak=!0}function V(){const pe=this.resume(),Ie=this.stack[this.stack.length-1];Ie.value=pe}function J(){const pe=this.resume(),Ie=this.stack[this.stack.length-1];Ie.value=pe}function ee(){const pe=this.resume(),Ie=this.stack[this.stack.length-1];Ie.value=pe}function re(){const pe=this.stack[this.stack.length-1];if(this.data.inReference){const Ie=this.data.referenceType||"shortcut";pe.type+="Reference",pe.referenceType=Ie,delete pe.url,delete pe.title}else delete pe.identifier,delete pe.label;this.data.referenceType=void 0}function ie(){const pe=this.stack[this.stack.length-1];if(this.data.inReference){const Ie=this.data.referenceType||"shortcut";pe.type+="Reference",pe.referenceType=Ie,delete pe.url,delete pe.title}else delete pe.identifier,delete pe.label;this.data.referenceType=void 0}function Q(pe){const Ie=this.sliceSerialize(pe),Ze=this.stack[this.stack.length-2];Ze.label=Jce(Ie),Ze.identifier=wd(Ie).toLowerCase()}function q(){const pe=this.stack[this.stack.length-1],Ie=this.resume(),Ze=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ze.type==="link"){const bt=pe.children;Ze.children=bt}else Ze.alt=Ie}function B(){const pe=this.resume(),Ie=this.stack[this.stack.length-1];Ie.url=pe}function $(){const pe=this.resume(),Ie=this.stack[this.stack.length-1];Ie.title=pe}function te(){this.data.inReference=void 0}function H(){this.data.referenceType="collapsed"}function me(pe){const Ie=this.resume(),Ze=this.stack[this.stack.length-1];Ze.label=Ie,Ze.identifier=wd(this.sliceSerialize(pe)).toLowerCase(),this.data.referenceType="full"}function we(pe){this.data.characterReferenceType=pe.type}function Ce(pe){const Ie=this.sliceSerialize(pe),Ze=this.data.characterReferenceType;let bt;Ze?(bt=sL(Ie,Ze==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):bt=$N(Ie);const kt=this.stack[this.stack.length-1];kt.value+=bt}function fe(pe){const Ie=this.stack.pop();Ie.position.end=Go(pe.end)}function Se(pe){L.call(this,pe);const Ie=this.stack[this.stack.length-1];Ie.url=this.sliceSerialize(pe)}function De(pe){L.call(this,pe);const Ie=this.stack[this.stack.length-1];Ie.url="mailto:"+this.sliceSerialize(pe)}function ze(){return{type:"blockquote",children:[]}}function qe(){return{type:"code",lang:null,meta:null,value:""}}function ft(){return{type:"inlineCode",value:""}}function Zt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function kn(){return{type:"emphasis",children:[]}}function wr(){return{type:"heading",depth:0,children:[]}}function Bn(){return{type:"break"}}function Jn(){return{type:"html",value:""}}function xs(){return{type:"image",title:null,url:"",alt:null}}function zt(){return{type:"link",title:null,url:"",children:[]}}function en(pe){return{type:"list",ordered:pe.type==="listOrdered",start:null,spread:pe._spread,children:[]}}function Or(pe){return{type:"listItem",spread:pe._spread,checked:null,children:[]}}function Ca(){return{type:"paragraph",children:[]}}function Ii(){return{type:"strong",children:[]}}function Ri(){return{type:"text",value:""}}function Fs(){return{type:"thematicBreak"}}}function Go(t){return{line:t.line,column:t.column,offset:t.offset}}function pL(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?pL(t,r):tue(t,r)}}function tue(t,e){let n;for(n in e)if(fL.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function iI(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Bm({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Bm({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Bm({start:e.start,end:e.end})+") is still open")}function nue(t){const e=this;e.parser=n;function n(r){return Zce(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function rue(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function sue(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function iue(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function aue(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function oue(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function lue(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=vh(r.toLowerCase()),a=t.footnoteOrder.indexOf(r);let o,c=t.footnoteCounts.get(r);c===void 0?(c=0,t.footnoteOrder.push(r),o=t.footnoteOrder.length):o=a+1,c+=1,t.footnoteCounts.set(r,c);const d={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(c>1?"-"+c:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};t.patch(e,d);const h={type:"element",tagName:"sup",properties:{},children:[d]};return t.patch(e,h),t.applyData(e,h)}function cue(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function uue(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function gL(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function due(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return gL(t,e);const i={src:vh(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,a),t.applyData(e,a)}function hue(t,e){const n={src:vh(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function mue(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function fue(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return gL(t,e);const i={href:vh(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function pue(t,e){const n={href:vh(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function gue(t,e,n){const r=t.all(e),i=n?xue(n):xL(e),a={},o=[];if(typeof e.checked=="boolean"){const m=r[0];let f;m&&m.type==="element"&&m.tagName==="p"?f=m:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let c=-1;for(;++c<r.length;){const m=r[c];(i||c!==0||m.type!=="element"||m.tagName!=="p")&&o.push({type:"text",value:`
`}),m.type==="element"&&m.tagName==="p"&&!i?o.push(...m.children):o.push(m)}const d=r[r.length-1];d&&(i||d.type!=="element"||d.tagName!=="p")&&o.push({type:"text",value:`
`});const h={type:"element",tagName:"li",properties:a,children:o};return t.patch(e,h),t.applyData(e,h)}function xue(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=xL(n[r])}return e}function xL(t){const e=t.spread;return e??t.children.length>1}function yue(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,a),t.applyData(e,a)}function vue(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function bue(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function wue(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function jue(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},c=VN(e.children[1]),d=JO(e.children[e.children.length-1]);c&&d&&(o.position={start:c,end:d}),i.push(o)}const a={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,a),t.applyData(e,a)}function _ue(t,e,n){const r=n?n.children:void 0,a=(r?r.indexOf(e):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,c=o?o.length:e.children.length;let d=-1;const h=[];for(;++d<c;){const f=e.children[d],g={},x=o?o[d]:void 0;x&&(g.align=x);let N={type:"element",tagName:a,properties:g,children:[]};f&&(N.children=t.all(f),t.patch(f,N),N=t.applyData(f,N)),h.push(N)}const m={type:"element",tagName:"tr",properties:{},children:t.wrap(h,!0)};return t.patch(e,m),t.applyData(e,m)}function Nue(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const aI=9,oI=32;function Sue(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const a=[];for(;r;)a.push(lI(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return a.push(lI(e.slice(i),i>0,!1)),a.join("")}function lI(t,e,n){let r=0,i=t.length;if(e){let a=t.codePointAt(r);for(;a===aI||a===oI;)r++,a=t.codePointAt(r)}if(n){let a=t.codePointAt(i-1);for(;a===aI||a===oI;)i--,a=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function Eue(t,e){const n={type:"text",value:Sue(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function Cue(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const kue={blockquote:rue,break:sue,code:iue,delete:aue,emphasis:oue,footnoteReference:lue,heading:cue,html:uue,imageReference:due,image:hue,inlineCode:mue,linkReference:fue,link:pue,listItem:gue,list:yue,paragraph:vue,root:bue,strong:wue,table:jue,tableCell:Nue,tableRow:_ue,text:Eue,thematicBreak:Cue,toml:Lg,yaml:Lg,definition:Lg,footnoteDefinition:Lg};function Lg(){}const yL=-1,r0=0,qm=1,ny=2,WN=3,KN=4,GN=5,QN=6,vL=7,bL=8,cI=typeof self=="object"?self:globalThis,Tue=(t,e)=>{const n=(i,a)=>(t.set(a,i),i),r=i=>{if(t.has(i))return t.get(i);const[a,o]=e[i];switch(a){case r0:case yL:return n(o,i);case qm:{const c=n([],i);for(const d of o)c.push(r(d));return c}case ny:{const c=n({},i);for(const[d,h]of o)c[r(d)]=r(h);return c}case WN:return n(new Date(o),i);case KN:{const{source:c,flags:d}=o;return n(new RegExp(c,d),i)}case GN:{const c=n(new Map,i);for(const[d,h]of o)c.set(r(d),r(h));return c}case QN:{const c=n(new Set,i);for(const d of o)c.add(r(d));return c}case vL:{const{name:c,message:d}=o;return n(new cI[c](d),i)}case bL:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:c}=new Uint8Array(o);return n(new DataView(c),o)}}return n(new cI[a](o),i)};return r},uI=t=>Tue(new Map,t)(0),Xu="",{toString:Aue}={},{keys:Iue}=Object,pm=t=>{const e=typeof t;if(e!=="object"||!t)return[r0,e];const n=Aue.call(t).slice(8,-1);switch(n){case"Array":return[qm,Xu];case"Object":return[ny,Xu];case"Date":return[WN,Xu];case"RegExp":return[KN,Xu];case"Map":return[GN,Xu];case"Set":return[QN,Xu];case"DataView":return[qm,n]}return n.includes("Array")?[qm,n]:n.includes("Error")?[vL,n]:[ny,n]},Fg=([t,e])=>t===r0&&(e==="function"||e==="symbol"),Rue=(t,e,n,r)=>{const i=(o,c)=>{const d=r.push(o)-1;return n.set(c,d),d},a=o=>{if(n.has(o))return n.get(o);let[c,d]=pm(o);switch(c){case r0:{let m=o;switch(d){case"bigint":c=bL,m=o.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+d);m=null;break;case"undefined":return i([yL],o)}return i([c,m],o)}case qm:{if(d){let g=o;return d==="DataView"?g=new Uint8Array(o.buffer):d==="ArrayBuffer"&&(g=new Uint8Array(o)),i([d,[...g]],o)}const m=[],f=i([c,m],o);for(const g of o)m.push(a(g));return f}case ny:{if(d)switch(d){case"BigInt":return i([d,o.toString()],o);case"Boolean":case"Number":case"String":return i([d,o.valueOf()],o)}if(e&&"toJSON"in o)return a(o.toJSON());const m=[],f=i([c,m],o);for(const g of Iue(o))(t||!Fg(pm(o[g])))&&m.push([a(g),a(o[g])]);return f}case WN:return i([c,o.toISOString()],o);case KN:{const{source:m,flags:f}=o;return i([c,{source:m,flags:f}],o)}case GN:{const m=[],f=i([c,m],o);for(const[g,x]of o)(t||!(Fg(pm(g))||Fg(pm(x))))&&m.push([a(g),a(x)]);return f}case QN:{const m=[],f=i([c,m],o);for(const g of o)(t||!Fg(pm(g)))&&m.push(a(g));return f}}const{message:h}=o;return i([c,{name:d,message:h}],o)};return a},dI=(t,{json:e,lossy:n}={})=>{const r=[];return Rue(!(e||n),!!e,new Map,r)(t),r},ry=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?uI(dI(t,e)):structuredClone(t):(t,e)=>uI(dI(t,e));function Pue(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function Due(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function Mue(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||Pue,r=t.options.footnoteBackLabel||Due,i=t.options.footnoteLabel||"Footnotes",a=t.options.footnoteLabelTagName||"h2",o=t.options.footnoteLabelProperties||{className:["sr-only"]},c=[];let d=-1;for(;++d<t.footnoteOrder.length;){const h=t.footnoteById.get(t.footnoteOrder[d]);if(!h)continue;const m=t.all(h),f=String(h.identifier).toUpperCase(),g=vh(f.toLowerCase());let x=0;const N=[],w=t.footnoteCounts.get(f);for(;w!==void 0&&++x<=w;){N.length>0&&N.push({type:"text",value:" "});let E=typeof n=="string"?n:n(d,x);typeof E=="string"&&(E={type:"text",value:E}),N.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+g+(x>1?"-"+x:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(d,x),className:["data-footnote-backref"]},children:Array.isArray(E)?E:[E]})}const j=m[m.length-1];if(j&&j.type==="element"&&j.tagName==="p"){const E=j.children[j.children.length-1];E&&E.type==="text"?E.value+=" ":j.children.push({type:"text",value:" "}),j.children.push(...N)}else m.push(...N);const _={type:"element",tagName:"li",properties:{id:e+"fn-"+g},children:t.wrap(m,!0)};t.patch(h,_),c.push(_)}if(c.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...ry(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(c,!0)},{type:"text",value:`
`}]}}const wL=(function(t){if(t==null)return Vue;if(typeof t=="function")return s0(t);if(typeof t=="object")return Array.isArray(t)?Oue(t):Lue(t);if(typeof t=="string")return Fue(t);throw new Error("Expected function, string, or object as test")});function Oue(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=wL(t[n]);return s0(r);function r(...i){let a=-1;for(;++a<e.length;)if(e[a].apply(this,i))return!0;return!1}}function Lue(t){const e=t;return s0(n);function n(r){const i=r;let a;for(a in t)if(i[a]!==e[a])return!1;return!0}}function Fue(t){return s0(e);function e(n){return n&&n.type===t}}function s0(t){return e;function e(n,r,i){return!!(Uue(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function Vue(){return!0}function Uue(t){return t!==null&&typeof t=="object"&&"type"in t}const jL=[],zue=!0,hI=!1,Bue="skip";function $ue(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const a=wL(i),o=r?-1:1;c(t,void 0,[])();function c(d,h,m){const f=d&&typeof d=="object"?d:{};if(typeof f.type=="string"){const x=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(d.type+(x?"<"+x+">":""))+")"})}return g;function g(){let x=jL,N,w,j;if((!e||a(d,h,m[m.length-1]||void 0))&&(x=que(n(d,m)),x[0]===hI))return x;if("children"in d&&d.children){const _=d;if(_.children&&x[0]!==Bue)for(w=(r?_.children.length:-1)+o,j=m.concat(_);w>-1&&w<_.children.length;){const E=_.children[w];if(N=c(E,w,j)(),N[0]===hI)return N;w=typeof N[1]=="number"?N[1]:w+o}}return x}}}function que(t){return Array.isArray(t)?t:typeof t=="number"?[zue,t]:t==null?jL:[t]}function _L(t,e,n,r){let i,a,o;typeof e=="function"&&typeof n!="function"?(a=void 0,o=e,i=n):(a=e,o=n,i=r),$ue(t,a,c,i);function c(d,h){const m=h[h.length-1],f=m?m.children.indexOf(d):void 0;return o(d,f,m)}}const Z1={}.hasOwnProperty,Hue={};function Wue(t,e){const n=e||Hue,r=new Map,i=new Map,a=new Map,o={...kue,...n.handlers},c={all:h,applyData:Gue,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:o,one:d,options:n,patch:Kue,wrap:Yue};return _L(t,function(m){if(m.type==="definition"||m.type==="footnoteDefinition"){const f=m.type==="definition"?r:i,g=String(m.identifier).toUpperCase();f.has(g)||f.set(g,m)}}),c;function d(m,f){const g=m.type,x=c.handlers[g];if(Z1.call(c.handlers,g)&&x)return x(c,m,f);if(c.options.passThrough&&c.options.passThrough.includes(g)){if("children"in m){const{children:w,...j}=m,_=ry(j);return _.children=c.all(m),_}return ry(m)}return(c.options.unknownHandler||Que)(c,m,f)}function h(m){const f=[];if("children"in m){const g=m.children;let x=-1;for(;++x<g.length;){const N=c.one(g[x],m);if(N){if(x&&g[x-1].type==="break"&&(!Array.isArray(N)&&N.type==="text"&&(N.value=mI(N.value)),!Array.isArray(N)&&N.type==="element")){const w=N.children[0];w&&w.type==="text"&&(w.value=mI(w.value))}Array.isArray(N)?f.push(...N):f.push(N)}}}return f}}function Kue(t,e){t.position&&(e.position=Aoe(t))}function Gue(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,a=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&a&&Object.assign(n.properties,ry(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function Que(t,e){const n=e.data||{},r="value"in e&&!(Z1.call(n,"hProperties")||Z1.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Yue(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function mI(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function fI(t,e){const n=Wue(t,e),r=n.one(t,void 0),i=Mue(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function Jue(t,e){return t&&"run"in t?async function(n,r){const i=fI(n,{file:r,...e});await t.run(i,r)}:function(n,r){return fI(n,{file:r,...t||e})}}function pI(t){if(t)throw t}var Qb,gI;function Xue(){if(gI)return Qb;gI=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(h){return typeof Array.isArray=="function"?Array.isArray(h):e.call(h)==="[object Array]"},a=function(h){if(!h||e.call(h)!=="[object Object]")return!1;var m=t.call(h,"constructor"),f=h.constructor&&h.constructor.prototype&&t.call(h.constructor.prototype,"isPrototypeOf");if(h.constructor&&!m&&!f)return!1;var g;for(g in h);return typeof g>"u"||t.call(h,g)},o=function(h,m){n&&m.name==="__proto__"?n(h,m.name,{enumerable:!0,configurable:!0,value:m.newValue,writable:!0}):h[m.name]=m.newValue},c=function(h,m){if(m==="__proto__")if(t.call(h,m)){if(r)return r(h,m).value}else return;return h[m]};return Qb=function d(){var h,m,f,g,x,N,w=arguments[0],j=1,_=arguments.length,E=!1;for(typeof w=="boolean"&&(E=w,w=arguments[1]||{},j=2),(w==null||typeof w!="object"&&typeof w!="function")&&(w={});j<_;++j)if(h=arguments[j],h!=null)for(m in h)f=c(w,m),g=c(h,m),w!==g&&(E&&g&&(a(g)||(x=i(g)))?(x?(x=!1,N=f&&i(f)?f:[]):N=f&&a(f)?f:{},o(w,{name:m,newValue:d(E,N,g)})):typeof g<"u"&&o(w,{name:m,newValue:g}));return w},Qb}var Zue=Xue();const Yb=Jd(Zue);function ej(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function ede(){const t=[],e={run:n,use:r};return e;function n(...i){let a=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);c(null,...i);function c(d,...h){const m=t[++a];let f=-1;if(d){o(d);return}for(;++f<i.length;)(h[f]===null||h[f]===void 0)&&(h[f]=i[f]);i=h,m?tde(m,c)(...h):o(null,...h)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function tde(t,e){let n;return r;function r(...o){const c=t.length>o.length;let d;c&&o.push(i);try{d=t.apply(this,o)}catch(h){const m=h;if(c&&n)throw m;return i(m)}c||(d&&d.then&&typeof d.then=="function"?d.then(a,i):d instanceof Error?i(d):a(d))}function i(o,...c){n||(n=!0,e(o,...c))}function a(o){i(null,o)}}const Xi={basename:nde,dirname:rde,extname:sde,join:ide,sep:"/"};function nde(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');rp(t);let n=0,r=-1,i=t.length,a;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let o=-1,c=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else o<0&&(a=!0,o=i+1),c>-1&&(t.codePointAt(i)===e.codePointAt(c--)?c<0&&(r=i):(c=-1,r=o));return n===r?r=o:r<0&&(r=t.length),t.slice(n,r)}function rde(t){if(rp(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function sde(t){rp(t);let e=t.length,n=-1,r=0,i=-1,a=0,o;for(;e--;){const c=t.codePointAt(e);if(c===47){if(o){r=e+1;break}continue}n<0&&(o=!0,n=e+1),c===46?i<0?i=e:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function ide(...t){let e=-1,n;for(;++e<t.length;)rp(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":ade(n)}function ade(t){rp(t);const e=t.codePointAt(0)===47;let n=ode(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function ode(t,e){let n="",r=0,i=-1,a=0,o=-1,c,d;for(;++o<=t.length;){if(o<t.length)c=t.codePointAt(o);else{if(c===47)break;c=47}if(c===47){if(!(i===o-1||a===1))if(i!==o-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(d=n.lastIndexOf("/"),d!==n.length-1){d<0?(n="",r=0):(n=n.slice(0,d),r=n.length-1-n.lastIndexOf("/")),i=o,a=0;continue}}else if(n.length>0){n="",r=0,i=o,a=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,o):n=t.slice(i+1,o),r=o-i-1;i=o,a=0}else c===46&&a>-1?a++:a=-1}return n}function rp(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const lde={cwd:cde};function cde(){return"/"}function tj(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function ude(t){if(typeof t=="string")t=new URL(t);else if(!tj(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return dde(t)}function dde(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const Jb=["history","path","basename","stem","extname","dirname"];class NL{constructor(e){let n;e?tj(e)?n={path:e}:typeof e=="string"||hde(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":lde.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Jb.length;){const a=Jb[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)Jb.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Xi.basename(this.path):void 0}set basename(e){Zb(e,"basename"),Xb(e,"basename"),this.path=Xi.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Xi.dirname(this.path):void 0}set dirname(e){xI(this.basename,"dirname"),this.path=Xi.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Xi.extname(this.path):void 0}set extname(e){if(Xb(e,"extname"),xI(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Xi.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){tj(e)&&(e=ude(e)),Zb(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Xi.basename(this.path,this.extname):void 0}set stem(e){Zb(e,"stem"),Xb(e,"stem"),this.path=Xi.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new Mr(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Xb(t,e){if(t&&t.includes(Xi.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Xi.sep+"`")}function Zb(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function xI(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function hde(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const mde=(function(t){const r=this.constructor.prototype,i=r[t],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a}),fde={}.hasOwnProperty;class YN extends mde{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=ede()}copy(){const e=new YN;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(Yb(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(nw("data",this.frozen),this.namespace[e]=n,this):fde.call(this.namespace,e)&&this.namespace[e]||void 0:e?(nw("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=Vg(e),r=this.parser||this.Parser;return ew("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),ew("process",this.parser||this.Parser),tw("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,o){const c=Vg(e),d=r.parse(c);r.run(d,c,function(m,f,g){if(m||!f||!g)return h(m);const x=f,N=r.stringify(x,g);xde(N)?g.value=N:g.result=N,h(m,g)});function h(m,f){m||!f?o(m):a?a(f):n(void 0,f)}}}processSync(e){let n=!1,r;return this.freeze(),ew("processSync",this.parser||this.Parser),tw("processSync",this.compiler||this.Compiler),this.process(e,i),vI("processSync","process",n),r;function i(a,o){n=!0,pI(a),r=o}}run(e,n,r){yI(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(o,c){const d=Vg(n);i.run(e,d,h);function h(m,f,g){const x=f||e;m?c(m):o?o(x):r(void 0,x,g)}}}runSync(e,n){let r=!1,i;return this.run(e,n,a),vI("runSync","run",r),i;function a(o,c){pI(o),i=c,r=!0}}stringify(e,n){this.freeze();const r=Vg(n),i=this.compiler||this.Compiler;return tw("stringify",i),yI(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(nw("use",this.frozen),e!=null)if(typeof e=="function")d(e,n);else if(typeof e=="object")Array.isArray(e)?c(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(h){if(typeof h=="function")d(h,[]);else if(typeof h=="object")if(Array.isArray(h)){const[m,...f]=h;d(m,f)}else o(h);else throw new TypeError("Expected usable value, not `"+h+"`")}function o(h){if(!("plugins"in h)&&!("settings"in h))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(h.plugins),h.settings&&(i.settings=Yb(!0,i.settings,h.settings))}function c(h){let m=-1;if(h!=null)if(Array.isArray(h))for(;++m<h.length;){const f=h[m];a(f)}else throw new TypeError("Expected a list of plugins, not `"+h+"`")}function d(h,m){let f=-1,g=-1;for(;++f<r.length;)if(r[f][0]===h){g=f;break}if(g===-1)r.push([h,...m]);else if(m.length>0){let[x,...N]=m;const w=r[g][1];ej(w)&&ej(x)&&(x=Yb(!0,w,x)),r[g]=[h,x,...N]}}}}const pde=new YN().freeze();function ew(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function tw(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function nw(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function yI(t){if(!ej(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function vI(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Vg(t){return gde(t)?t:new NL(t)}function gde(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function xde(t){return typeof t=="string"||yde(t)}function yde(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const vde="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",bI=[],wI={allowDangerousHtml:!0},bde=/^(https?|ircs?|mailto|xmpp)$/i,wde=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function SL(t){const e=jde(t),n=_de(t);return Nde(e.runSync(e.parse(n),n),t)}function jde(t){const e=t.rehypePlugins||bI,n=t.remarkPlugins||bI,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...wI}:wI;return pde().use(nue).use(n).use(Jue,r).use(e)}function _de(t){const e=t.children||"",n=new NL;return typeof e=="string"&&(n.value=e),n}function Nde(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,a=e.disallowedElements,o=e.skipHtml,c=e.unwrapDisallowed,d=e.urlTransform||Sde;for(const m of wde)Object.hasOwn(e,m.from)&&(""+m.from+(m.to?"use `"+m.to+"` instead":"remove it")+vde+m.id,void 0);return _L(t,h),Moe(t,{Fragment:s.Fragment,components:i,ignoreInvalidStyle:!0,jsx:s.jsx,jsxs:s.jsxs,passKeys:!0,passNode:!0});function h(m,f,g){if(m.type==="raw"&&g&&typeof f=="number")return o?g.children.splice(f,1):g.children[f]={type:"text",value:m.value},f;if(m.type==="element"){let x;for(x in Wb)if(Object.hasOwn(Wb,x)&&Object.hasOwn(m.properties,x)){const N=m.properties[x],w=Wb[x];(w===null||w.includes(m.tagName))&&(m.properties[x]=d(String(N||""),x,m))}}if(m.type==="element"){let x=n?!n.includes(m.tagName):a?a.includes(m.tagName):!1;if(!x&&r&&typeof f=="number"&&(x=!r(m,f,g)),x&&g&&typeof f=="number")return c&&m.children?g.children.splice(f,1,...m.children):g.children.splice(f,1),f}}}function Sde(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||bde.test(t.slice(0,e))?t:""}function EL(t,e){return function(){return t.apply(e,arguments)}}const{toString:Ede}=Object.prototype,{getPrototypeOf:JN}=Object,{iterator:i0,toStringTag:CL}=Symbol,a0=(t=>e=>{const n=Ede.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ti=t=>(t=t.toLowerCase(),e=>a0(e)===t),o0=t=>e=>typeof e===t,{isArray:bh}=Array,Kd=o0("undefined");function sp(t){return t!==null&&!Kd(t)&&t.constructor!==null&&!Kd(t.constructor)&&ms(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const kL=Ti("ArrayBuffer");function Cde(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&kL(t.buffer),e}const kde=o0("string"),ms=o0("function"),TL=o0("number"),ip=t=>t!==null&&typeof t=="object",Tde=t=>t===!0||t===!1,hx=t=>{if(a0(t)!=="object")return!1;const e=JN(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(CL in t)&&!(i0 in t)},Ade=t=>{if(!ip(t)||sp(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Ide=Ti("Date"),Rde=Ti("File"),Pde=Ti("Blob"),Dde=Ti("FileList"),Mde=t=>ip(t)&&ms(t.pipe),Ode=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||ms(t.append)&&((e=a0(t))==="formdata"||e==="object"&&ms(t.toString)&&t.toString()==="[object FormData]"))},Lde=Ti("URLSearchParams"),[Fde,Vde,Ude,zde]=["ReadableStream","Request","Response","Headers"].map(Ti),Bde=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ap(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),bh(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(sp(t))return;const a=n?Object.getOwnPropertyNames(t):Object.keys(t),o=a.length;let c;for(r=0;r<o;r++)c=a[r],e.call(null,t[c],c,t)}}function AL(t,e){if(sp(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Cc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,IL=t=>!Kd(t)&&t!==Cc;function nj(){const{caseless:t,skipUndefined:e}=IL(this)&&this||{},n={},r=(i,a)=>{const o=t&&AL(n,a)||a;hx(n[o])&&hx(i)?n[o]=nj(n[o],i):hx(i)?n[o]=nj({},i):bh(i)?n[o]=i.slice():(!e||!Kd(i))&&(n[o]=i)};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&ap(arguments[i],r);return n}const $de=(t,e,n,{allOwnKeys:r}={})=>(ap(e,(i,a)=>{n&&ms(i)?t[a]=EL(i,n):t[a]=i},{allOwnKeys:r}),t),qde=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Hde=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Wde=(t,e,n,r)=>{let i,a,o;const c={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),a=i.length;a-- >0;)o=i[a],(!r||r(o,t,e))&&!c[o]&&(e[o]=t[o],c[o]=!0);t=n!==!1&&JN(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Kde=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},Gde=t=>{if(!t)return null;if(bh(t))return t;let e=t.length;if(!TL(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Qde=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&JN(Uint8Array)),Yde=(t,e)=>{const r=(t&&t[i0]).call(t);let i;for(;(i=r.next())&&!i.done;){const a=i.value;e.call(t,a[0],a[1])}},Jde=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},Xde=Ti("HTMLFormElement"),Zde=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),jI=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),ehe=Ti("RegExp"),RL=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};ap(n,(i,a)=>{let o;(o=e(i,a,t))!==!1&&(r[a]=o||i)}),Object.defineProperties(t,r)},the=t=>{RL(t,(e,n)=>{if(ms(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(ms(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},nhe=(t,e)=>{const n={},r=i=>{i.forEach(a=>{n[a]=!0})};return bh(t)?r(t):r(String(t).split(e)),n},rhe=()=>{},she=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function ihe(t){return!!(t&&ms(t.append)&&t[CL]==="FormData"&&t[i0])}const ahe=t=>{const e=new Array(10),n=(r,i)=>{if(ip(r)){if(e.indexOf(r)>=0)return;if(sp(r))return r;if(!("toJSON"in r)){e[i]=r;const a=bh(r)?[]:{};return ap(r,(o,c)=>{const d=n(o,i+1);!Kd(d)&&(a[c]=d)}),e[i]=void 0,a}}return r};return n(t,0)},ohe=Ti("AsyncFunction"),lhe=t=>t&&(ip(t)||ms(t))&&ms(t.then)&&ms(t.catch),PL=((t,e)=>t?setImmediate:e?((n,r)=>(Cc.addEventListener("message",({source:i,data:a})=>{i===Cc&&a===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Cc.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ms(Cc.postMessage)),che=typeof queueMicrotask<"u"?queueMicrotask.bind(Cc):typeof process<"u"&&process.nextTick||PL,uhe=t=>t!=null&&ms(t[i0]),he={isArray:bh,isArrayBuffer:kL,isBuffer:sp,isFormData:Ode,isArrayBufferView:Cde,isString:kde,isNumber:TL,isBoolean:Tde,isObject:ip,isPlainObject:hx,isEmptyObject:Ade,isReadableStream:Fde,isRequest:Vde,isResponse:Ude,isHeaders:zde,isUndefined:Kd,isDate:Ide,isFile:Rde,isBlob:Pde,isRegExp:ehe,isFunction:ms,isStream:Mde,isURLSearchParams:Lde,isTypedArray:Qde,isFileList:Dde,forEach:ap,merge:nj,extend:$de,trim:Bde,stripBOM:qde,inherits:Hde,toFlatObject:Wde,kindOf:a0,kindOfTest:Ti,endsWith:Kde,toArray:Gde,forEachEntry:Yde,matchAll:Jde,isHTMLForm:Xde,hasOwnProperty:jI,hasOwnProp:jI,reduceDescriptors:RL,freezeMethods:the,toObjectSet:nhe,toCamelCase:Zde,noop:rhe,toFiniteNumber:she,findKey:AL,global:Cc,isContextDefined:IL,isSpecCompliantForm:ihe,toJSONObject:ahe,isAsyncFn:ohe,isThenable:lhe,setImmediate:PL,asap:che,isIterable:uhe};function jt(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}he.inherits(jt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:he.toJSONObject(this.config),code:this.code,status:this.status}}});const DL=jt.prototype,ML={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{ML[t]={value:t}});Object.defineProperties(jt,ML);Object.defineProperty(DL,"isAxiosError",{value:!0});jt.from=(t,e,n,r,i,a)=>{const o=Object.create(DL);he.toFlatObject(t,o,function(m){return m!==Error.prototype},h=>h!=="isAxiosError");const c=t&&t.message?t.message:"Error",d=e==null&&t?t.code:e;return jt.call(o,c,d,n,r,i),t&&o.cause==null&&Object.defineProperty(o,"cause",{value:t,configurable:!0}),o.name=t&&t.name||"Error",a&&Object.assign(o,a),o};const dhe=null;function rj(t){return he.isPlainObject(t)||he.isArray(t)}function OL(t){return he.endsWith(t,"[]")?t.slice(0,-2):t}function _I(t,e,n){return t?t.concat(e).map(function(i,a){return i=OL(i),!n&&a?"["+i+"]":i}).join(n?".":""):e}function hhe(t){return he.isArray(t)&&!t.some(rj)}const mhe=he.toFlatObject(he,{},null,function(e){return/^is[A-Z]/.test(e)});function l0(t,e,n){if(!he.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=he.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,j){return!he.isUndefined(j[w])});const r=n.metaTokens,i=n.visitor||m,a=n.dots,o=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&he.isSpecCompliantForm(e);if(!he.isFunction(i))throw new TypeError("visitor must be a function");function h(N){if(N===null)return"";if(he.isDate(N))return N.toISOString();if(he.isBoolean(N))return N.toString();if(!d&&he.isBlob(N))throw new jt("Blob is not supported. Use a Buffer instead.");return he.isArrayBuffer(N)||he.isTypedArray(N)?d&&typeof Blob=="function"?new Blob([N]):Buffer.from(N):N}function m(N,w,j){let _=N;if(N&&!j&&typeof N=="object"){if(he.endsWith(w,"{}"))w=r?w:w.slice(0,-2),N=JSON.stringify(N);else if(he.isArray(N)&&hhe(N)||(he.isFileList(N)||he.endsWith(w,"[]"))&&(_=he.toArray(N)))return w=OL(w),_.forEach(function(k,C){!(he.isUndefined(k)||k===null)&&e.append(o===!0?_I([w],C,a):o===null?w:w+"[]",h(k))}),!1}return rj(N)?!0:(e.append(_I(j,w,a),h(N)),!1)}const f=[],g=Object.assign(mhe,{defaultVisitor:m,convertValue:h,isVisitable:rj});function x(N,w){if(!he.isUndefined(N)){if(f.indexOf(N)!==-1)throw Error("Circular reference detected in "+w.join("."));f.push(N),he.forEach(N,function(_,E){(!(he.isUndefined(_)||_===null)&&i.call(e,_,he.isString(E)?E.trim():E,w,g))===!0&&x(_,w?w.concat(E):[E])}),f.pop()}}if(!he.isObject(t))throw new TypeError("data must be an object");return x(t),e}function NI(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function XN(t,e){this._pairs=[],t&&l0(t,this,e)}const LL=XN.prototype;LL.append=function(e,n){this._pairs.push([e,n])};LL.toString=function(e){const n=e?function(r){return e.call(this,r,NI)}:NI;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function fhe(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function FL(t,e,n){if(!e)return t;const r=n&&n.encode||fhe;he.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let a;if(i?a=i(e,n):a=he.isURLSearchParams(e)?e.toString():new XN(e,n).toString(r),a){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class SI{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){he.forEach(this.handlers,function(r){r!==null&&e(r)})}}const VL={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},phe=typeof URLSearchParams<"u"?URLSearchParams:XN,ghe=typeof FormData<"u"?FormData:null,xhe=typeof Blob<"u"?Blob:null,yhe={isBrowser:!0,classes:{URLSearchParams:phe,FormData:ghe,Blob:xhe},protocols:["http","https","file","blob","url","data"]},ZN=typeof window<"u"&&typeof document<"u",sj=typeof navigator=="object"&&navigator||void 0,vhe=ZN&&(!sj||["ReactNative","NativeScript","NS"].indexOf(sj.product)<0),bhe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",whe=ZN&&window.location.href||"http://localhost",jhe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ZN,hasStandardBrowserEnv:vhe,hasStandardBrowserWebWorkerEnv:bhe,navigator:sj,origin:whe},Symbol.toStringTag,{value:"Module"})),Rr={...jhe,...yhe};function _he(t,e){return l0(t,new Rr.classes.URLSearchParams,{visitor:function(n,r,i,a){return Rr.isNode&&he.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...e})}function Nhe(t){return he.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function She(t){const e={},n=Object.keys(t);let r;const i=n.length;let a;for(r=0;r<i;r++)a=n[r],e[a]=t[a];return e}function UL(t){function e(n,r,i,a){let o=n[a++];if(o==="__proto__")return!0;const c=Number.isFinite(+o),d=a>=n.length;return o=!o&&he.isArray(i)?i.length:o,d?(he.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!c):((!i[o]||!he.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],a)&&he.isArray(i[o])&&(i[o]=She(i[o])),!c)}if(he.isFormData(t)&&he.isFunction(t.entries)){const n={};return he.forEachEntry(t,(r,i)=>{e(Nhe(r),i,n,0)}),n}return null}function Ehe(t,e,n){if(he.isString(t))try{return(e||JSON.parse)(t),he.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const op={transitional:VL,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,a=he.isObject(e);if(a&&he.isHTMLForm(e)&&(e=new FormData(e)),he.isFormData(e))return i?JSON.stringify(UL(e)):e;if(he.isArrayBuffer(e)||he.isBuffer(e)||he.isStream(e)||he.isFile(e)||he.isBlob(e)||he.isReadableStream(e))return e;if(he.isArrayBufferView(e))return e.buffer;if(he.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return _he(e,this.formSerializer).toString();if((c=he.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return l0(c?{"files[]":e}:e,d&&new d,this.formSerializer)}}return a||i?(n.setContentType("application/json",!1),Ehe(e)):e}],transformResponse:[function(e){const n=this.transitional||op.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(he.isResponse(e)||he.isReadableStream(e))return e;if(e&&he.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(c){if(o)throw c.name==="SyntaxError"?jt.from(c,jt.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Rr.classes.FormData,Blob:Rr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};he.forEach(["delete","get","head","post","put","patch"],t=>{op.headers[t]={}});const Che=he.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),khe=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&Che[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},EI=Symbol("internals");function gm(t){return t&&String(t).trim().toLowerCase()}function mx(t){return t===!1||t==null?t:he.isArray(t)?t.map(mx):String(t)}function The(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const Ahe=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function rw(t,e,n,r,i){if(he.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!he.isString(e)){if(he.isString(r))return e.indexOf(r)!==-1;if(he.isRegExp(r))return r.test(e)}}function Ihe(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function Rhe(t,e){const n=he.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,a,o){return this[r].call(this,e,i,a,o)},configurable:!0})})}let fs=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function a(c,d,h){const m=gm(d);if(!m)throw new Error("header name must be a non-empty string");const f=he.findKey(i,m);(!f||i[f]===void 0||h===!0||h===void 0&&i[f]!==!1)&&(i[f||d]=mx(c))}const o=(c,d)=>he.forEach(c,(h,m)=>a(h,m,d));if(he.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(he.isString(e)&&(e=e.trim())&&!Ahe(e))o(khe(e),n);else if(he.isObject(e)&&he.isIterable(e)){let c={},d,h;for(const m of e){if(!he.isArray(m))throw TypeError("Object iterator must return a key-value pair");c[h=m[0]]=(d=c[h])?he.isArray(d)?[...d,m[1]]:[d,m[1]]:m[1]}o(c,n)}else e!=null&&a(n,e,r);return this}get(e,n){if(e=gm(e),e){const r=he.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return The(i);if(he.isFunction(n))return n.call(this,i,r);if(he.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=gm(e),e){const r=he.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||rw(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function a(o){if(o=gm(o),o){const c=he.findKey(r,o);c&&(!n||rw(r,r[c],c,n))&&(delete r[c],i=!0)}}return he.isArray(e)?e.forEach(a):a(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const a=n[r];(!e||rw(this,this[a],a,e,!0))&&(delete this[a],i=!0)}return i}normalize(e){const n=this,r={};return he.forEach(this,(i,a)=>{const o=he.findKey(r,a);if(o){n[o]=mx(i),delete n[a];return}const c=e?Ihe(a):String(a).trim();c!==a&&delete n[a],n[c]=mx(i),r[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return he.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&he.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[EI]=this[EI]={accessors:{}}).accessors,i=this.prototype;function a(o){const c=gm(o);r[c]||(Rhe(i,o),r[c]=!0)}return he.isArray(e)?e.forEach(a):a(e),this}};fs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);he.reduceDescriptors(fs.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});he.freezeMethods(fs);function sw(t,e){const n=this||op,r=e||n,i=fs.from(r.headers);let a=r.data;return he.forEach(t,function(c){a=c.call(n,a,i.normalize(),e?e.status:void 0)}),i.normalize(),a}function zL(t){return!!(t&&t.__CANCEL__)}function wh(t,e,n){jt.call(this,t??"canceled",jt.ERR_CANCELED,e,n),this.name="CanceledError"}he.inherits(wh,jt,{__CANCEL__:!0});function BL(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new jt("Request failed with status code "+n.status,[jt.ERR_BAD_REQUEST,jt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Phe(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Dhe(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,a=0,o;return e=e!==void 0?e:1e3,function(d){const h=Date.now(),m=r[a];o||(o=h),n[i]=d,r[i]=h;let f=a,g=0;for(;f!==i;)g+=n[f++],f=f%t;if(i=(i+1)%t,i===a&&(a=(a+1)%t),h-o<e)return;const x=m&&h-m;return x?Math.round(g*1e3/x):void 0}}function Mhe(t,e){let n=0,r=1e3/e,i,a;const o=(h,m=Date.now())=>{n=m,i=null,a&&(clearTimeout(a),a=null),t(...h)};return[(...h)=>{const m=Date.now(),f=m-n;f>=r?o(h,m):(i=h,a||(a=setTimeout(()=>{a=null,o(i)},r-f)))},()=>i&&o(i)]}const sy=(t,e,n=3)=>{let r=0;const i=Dhe(50,250);return Mhe(a=>{const o=a.loaded,c=a.lengthComputable?a.total:void 0,d=o-r,h=i(d),m=o<=c;r=o;const f={loaded:o,total:c,progress:c?o/c:void 0,bytes:d,rate:h||void 0,estimated:h&&c&&m?(c-o)/h:void 0,event:a,lengthComputable:c!=null,[e?"download":"upload"]:!0};t(f)},n)},CI=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},kI=t=>(...e)=>he.asap(()=>t(...e)),Ohe=Rr.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Rr.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Rr.origin),Rr.navigator&&/(msie|trident)/i.test(Rr.navigator.userAgent)):()=>!0,Lhe=Rr.hasStandardBrowserEnv?{write(t,e,n,r,i,a,o){if(typeof document>"u")return;const c=[`${t}=${encodeURIComponent(e)}`];he.isNumber(n)&&c.push(`expires=${new Date(n).toUTCString()}`),he.isString(r)&&c.push(`path=${r}`),he.isString(i)&&c.push(`domain=${i}`),a===!0&&c.push("secure"),he.isString(o)&&c.push(`SameSite=${o}`),document.cookie=c.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Fhe(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Vhe(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function $L(t,e,n){let r=!Fhe(e);return t&&(r||n==!1)?Vhe(t,e):e}const TI=t=>t instanceof fs?{...t}:t;function eu(t,e){e=e||{};const n={};function r(h,m,f,g){return he.isPlainObject(h)&&he.isPlainObject(m)?he.merge.call({caseless:g},h,m):he.isPlainObject(m)?he.merge({},m):he.isArray(m)?m.slice():m}function i(h,m,f,g){if(he.isUndefined(m)){if(!he.isUndefined(h))return r(void 0,h,f,g)}else return r(h,m,f,g)}function a(h,m){if(!he.isUndefined(m))return r(void 0,m)}function o(h,m){if(he.isUndefined(m)){if(!he.isUndefined(h))return r(void 0,h)}else return r(void 0,m)}function c(h,m,f){if(f in e)return r(h,m);if(f in t)return r(void 0,h)}const d={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(h,m,f)=>i(TI(h),TI(m),f,!0)};return he.forEach(Object.keys({...t,...e}),function(m){const f=d[m]||i,g=f(t[m],e[m],m);he.isUndefined(g)&&f!==c||(n[m]=g)}),n}const qL=t=>{const e=eu({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:c}=e;if(e.headers=o=fs.from(o),e.url=FL($L(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),c&&o.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),he.isFormData(n)){if(Rr.hasStandardBrowserEnv||Rr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(he.isFunction(n.getHeaders)){const d=n.getHeaders(),h=["content-type","content-length"];Object.entries(d).forEach(([m,f])=>{h.includes(m.toLowerCase())&&o.set(m,f)})}}if(Rr.hasStandardBrowserEnv&&(r&&he.isFunction(r)&&(r=r(e)),r||r!==!1&&Ohe(e.url))){const d=i&&a&&Lhe.read(a);d&&o.set(i,d)}return e},Uhe=typeof XMLHttpRequest<"u",zhe=Uhe&&function(t){return new Promise(function(n,r){const i=qL(t);let a=i.data;const o=fs.from(i.headers).normalize();let{responseType:c,onUploadProgress:d,onDownloadProgress:h}=i,m,f,g,x,N;function w(){x&&x(),N&&N(),i.cancelToken&&i.cancelToken.unsubscribe(m),i.signal&&i.signal.removeEventListener("abort",m)}let j=new XMLHttpRequest;j.open(i.method.toUpperCase(),i.url,!0),j.timeout=i.timeout;function _(){if(!j)return;const k=fs.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),R={data:!c||c==="text"||c==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:k,config:t,request:j};BL(function(M){n(M),w()},function(M){r(M),w()},R),j=null}"onloadend"in j?j.onloadend=_:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(_)},j.onabort=function(){j&&(r(new jt("Request aborted",jt.ECONNABORTED,t,j)),j=null)},j.onerror=function(C){const R=C&&C.message?C.message:"Network Error",F=new jt(R,jt.ERR_NETWORK,t,j);F.event=C||null,r(F),j=null},j.ontimeout=function(){let C=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const R=i.transitional||VL;i.timeoutErrorMessage&&(C=i.timeoutErrorMessage),r(new jt(C,R.clarifyTimeoutError?jt.ETIMEDOUT:jt.ECONNABORTED,t,j)),j=null},a===void 0&&o.setContentType(null),"setRequestHeader"in j&&he.forEach(o.toJSON(),function(C,R){j.setRequestHeader(R,C)}),he.isUndefined(i.withCredentials)||(j.withCredentials=!!i.withCredentials),c&&c!=="json"&&(j.responseType=i.responseType),h&&([g,N]=sy(h,!0),j.addEventListener("progress",g)),d&&j.upload&&([f,x]=sy(d),j.upload.addEventListener("progress",f),j.upload.addEventListener("loadend",x)),(i.cancelToken||i.signal)&&(m=k=>{j&&(r(!k||k.type?new wh(null,t,j):k),j.abort(),j=null)},i.cancelToken&&i.cancelToken.subscribe(m),i.signal&&(i.signal.aborted?m():i.signal.addEventListener("abort",m)));const E=Phe(i.url);if(E&&Rr.protocols.indexOf(E)===-1){r(new jt("Unsupported protocol "+E+":",jt.ERR_BAD_REQUEST,t));return}j.send(a||null)})},Bhe=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const a=function(h){if(!i){i=!0,c();const m=h instanceof Error?h:this.reason;r.abort(m instanceof jt?m:new wh(m instanceof Error?m.message:m))}};let o=e&&setTimeout(()=>{o=null,a(new jt(`timeout ${e} of ms exceeded`,jt.ETIMEDOUT))},e);const c=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(h=>{h.unsubscribe?h.unsubscribe(a):h.removeEventListener("abort",a)}),t=null)};t.forEach(h=>h.addEventListener("abort",a));const{signal:d}=r;return d.unsubscribe=()=>he.asap(c),d}},$he=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},qhe=async function*(t,e){for await(const n of Hhe(t))yield*$he(n,e)},Hhe=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},AI=(t,e,n,r)=>{const i=qhe(t,e);let a=0,o,c=d=>{o||(o=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:h,value:m}=await i.next();if(h){c(),d.close();return}let f=m.byteLength;if(n){let g=a+=f;n(g)}d.enqueue(new Uint8Array(m))}catch(h){throw c(h),h}},cancel(d){return c(d),i.return()}},{highWaterMark:2})},II=64*1024,{isFunction:Ug}=he,Whe=(({Request:t,Response:e})=>({Request:t,Response:e}))(he.global),{ReadableStream:RI,TextEncoder:PI}=he.global,DI=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Khe=t=>{t=he.merge.call({skipUndefined:!0},Whe,t);const{fetch:e,Request:n,Response:r}=t,i=e?Ug(e):typeof fetch=="function",a=Ug(n),o=Ug(r);if(!i)return!1;const c=i&&Ug(RI),d=i&&(typeof PI=="function"?(N=>w=>N.encode(w))(new PI):async N=>new Uint8Array(await new n(N).arrayBuffer())),h=a&&c&&DI(()=>{let N=!1;const w=new n(Rr.origin,{body:new RI,method:"POST",get duplex(){return N=!0,"half"}}).headers.has("Content-Type");return N&&!w}),m=o&&c&&DI(()=>he.isReadableStream(new r("").body)),f={stream:m&&(N=>N.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(N=>{!f[N]&&(f[N]=(w,j)=>{let _=w&&w[N];if(_)return _.call(w);throw new jt(`Response type '${N}' is not supported`,jt.ERR_NOT_SUPPORT,j)})});const g=async N=>{if(N==null)return 0;if(he.isBlob(N))return N.size;if(he.isSpecCompliantForm(N))return(await new n(Rr.origin,{method:"POST",body:N}).arrayBuffer()).byteLength;if(he.isArrayBufferView(N)||he.isArrayBuffer(N))return N.byteLength;if(he.isURLSearchParams(N)&&(N=N+""),he.isString(N))return(await d(N)).byteLength},x=async(N,w)=>{const j=he.toFiniteNumber(N.getContentLength());return j??g(w)};return async N=>{let{url:w,method:j,data:_,signal:E,cancelToken:k,timeout:C,onDownloadProgress:R,onUploadProgress:F,responseType:M,headers:P,withCredentials:I="same-origin",fetchOptions:L}=qL(N),U=e||fetch;M=M?(M+"").toLowerCase():"text";let D=Bhe([E,k&&k.toAbortSignal()],C),V=null;const J=D&&D.unsubscribe&&(()=>{D.unsubscribe()});let ee;try{if(F&&h&&j!=="get"&&j!=="head"&&(ee=await x(P,_))!==0){let $=new n(w,{method:"POST",body:_,duplex:"half"}),te;if(he.isFormData(_)&&(te=$.headers.get("content-type"))&&P.setContentType(te),$.body){const[H,me]=CI(ee,sy(kI(F)));_=AI($.body,II,H,me)}}he.isString(I)||(I=I?"include":"omit");const re=a&&"credentials"in n.prototype,ie={...L,signal:D,method:j.toUpperCase(),headers:P.normalize().toJSON(),body:_,duplex:"half",credentials:re?I:void 0};V=a&&new n(w,ie);let Q=await(a?U(V,L):U(w,ie));const q=m&&(M==="stream"||M==="response");if(m&&(R||q&&J)){const $={};["status","statusText","headers"].forEach(we=>{$[we]=Q[we]});const te=he.toFiniteNumber(Q.headers.get("content-length")),[H,me]=R&&CI(te,sy(kI(R),!0))||[];Q=new r(AI(Q.body,II,H,()=>{me&&me(),J&&J()}),$)}M=M||"text";let B=await f[he.findKey(f,M)||"text"](Q,N);return!q&&J&&J(),await new Promise(($,te)=>{BL($,te,{data:B,headers:fs.from(Q.headers),status:Q.status,statusText:Q.statusText,config:N,request:V})})}catch(re){throw J&&J(),re&&re.name==="TypeError"&&/Load failed|fetch/i.test(re.message)?Object.assign(new jt("Network Error",jt.ERR_NETWORK,N,V),{cause:re.cause||re}):jt.from(re,re&&re.code,N,V)}}},Ghe=new Map,HL=t=>{let e=t&&t.env||{};const{fetch:n,Request:r,Response:i}=e,a=[r,i,n];let o=a.length,c=o,d,h,m=Ghe;for(;c--;)d=a[c],h=m.get(d),h===void 0&&m.set(d,h=c?new Map:Khe(e)),m=h;return h};HL();const eS={http:dhe,xhr:zhe,fetch:{get:HL}};he.forEach(eS,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const MI=t=>`- ${t}`,Qhe=t=>he.isFunction(t)||t===null||t===!1;function Yhe(t,e){t=he.isArray(t)?t:[t];const{length:n}=t;let r,i;const a={};for(let o=0;o<n;o++){r=t[o];let c;if(i=r,!Qhe(r)&&(i=eS[(c=String(r)).toLowerCase()],i===void 0))throw new jt(`Unknown adapter '${c}'`);if(i&&(he.isFunction(i)||(i=i.get(e))))break;a[c||"#"+o]=i}if(!i){const o=Object.entries(a).map(([d,h])=>`adapter ${d} `+(h===!1?"is not supported by the environment":"is not available in the build"));let c=n?o.length>1?`since :
`+o.map(MI).join(`
`):" "+MI(o[0]):"as no adapter specified";throw new jt("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return i}const WL={getAdapter:Yhe,adapters:eS};function iw(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new wh(null,t)}function OI(t){return iw(t),t.headers=fs.from(t.headers),t.data=sw.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),WL.getAdapter(t.adapter||op.adapter,t)(t).then(function(r){return iw(t),r.data=sw.call(t,t.transformResponse,r),r.headers=fs.from(r.headers),r},function(r){return zL(r)||(iw(t),r&&r.response&&(r.response.data=sw.call(t,t.transformResponse,r.response),r.response.headers=fs.from(r.response.headers))),Promise.reject(r)})}const KL="1.13.2",c0={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{c0[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const LI={};c0.transitional=function(e,n,r){function i(a,o){return"[Axios v"+KL+"] Transitional option '"+a+"'"+o+(r?". "+r:"")}return(a,o,c)=>{if(e===!1)throw new jt(i(o," has been removed"+(n?" in "+n:"")),jt.ERR_DEPRECATED);return n&&!LI[o]&&(LI[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(a,o,c):!0}};c0.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function Jhe(t,e,n){if(typeof t!="object")throw new jt("options must be an object",jt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const a=r[i],o=e[a];if(o){const c=t[a],d=c===void 0||o(c,a,t);if(d!==!0)throw new jt("option "+a+" must be "+d,jt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new jt("Unknown option "+a,jt.ERR_BAD_OPTION)}}const fx={assertOptions:Jhe,validators:c0},Ji=fx.validators;let zc=class{constructor(e){this.defaults=e||{},this.interceptors={request:new SI,response:new SI}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=eu(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:a}=n;r!==void 0&&fx.assertOptions(r,{silentJSONParsing:Ji.transitional(Ji.boolean),forcedJSONParsing:Ji.transitional(Ji.boolean),clarifyTimeoutError:Ji.transitional(Ji.boolean)},!1),i!=null&&(he.isFunction(i)?n.paramsSerializer={serialize:i}:fx.assertOptions(i,{encode:Ji.function,serialize:Ji.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),fx.assertOptions(n,{baseUrl:Ji.spelling("baseURL"),withXsrfToken:Ji.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=a&&he.merge(a.common,a[n.method]);a&&he.forEach(["delete","get","head","post","put","patch","common"],N=>{delete a[N]}),n.headers=fs.concat(o,a);const c=[];let d=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(d=d&&w.synchronous,c.unshift(w.fulfilled,w.rejected))});const h=[];this.interceptors.response.forEach(function(w){h.push(w.fulfilled,w.rejected)});let m,f=0,g;if(!d){const N=[OI.bind(this),void 0];for(N.unshift(...c),N.push(...h),g=N.length,m=Promise.resolve(n);f<g;)m=m.then(N[f++],N[f++]);return m}g=c.length;let x=n;for(;f<g;){const N=c[f++],w=c[f++];try{x=N(x)}catch(j){w.call(this,j);break}}try{m=OI.call(this,x)}catch(N){return Promise.reject(N)}for(f=0,g=h.length;f<g;)m=m.then(h[f++],h[f++]);return m}getUri(e){e=eu(this.defaults,e);const n=$L(e.baseURL,e.url,e.allowAbsoluteUrls);return FL(n,e.params,e.paramsSerializer)}};he.forEach(["delete","get","head","options"],function(e){zc.prototype[e]=function(n,r){return this.request(eu(r||{},{method:e,url:n,data:(r||{}).data}))}});he.forEach(["post","put","patch"],function(e){function n(r){return function(a,o,c){return this.request(eu(c||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}zc.prototype[e]=n(),zc.prototype[e+"Form"]=n(!0)});let Xhe=class GL{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(c=>{r.subscribe(c),a=c}).then(i);return o.cancel=function(){r.unsubscribe(a)},o},e(function(a,o,c){r.reason||(r.reason=new wh(a,o,c),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new GL(function(i){e=i}),cancel:e}}};function Zhe(t){return function(n){return t.apply(null,n)}}function eme(t){return he.isObject(t)&&t.isAxiosError===!0}const ij={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(ij).forEach(([t,e])=>{ij[e]=t});function QL(t){const e=new zc(t),n=EL(zc.prototype.request,e);return he.extend(n,zc.prototype,e,{allOwnKeys:!0}),he.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return QL(eu(t,i))},n}const zn=QL(op);zn.Axios=zc;zn.CanceledError=wh;zn.CancelToken=Xhe;zn.isCancel=zL;zn.VERSION=KL;zn.toFormData=l0;zn.AxiosError=jt;zn.Cancel=zn.CanceledError;zn.all=function(e){return Promise.all(e)};zn.spread=Zhe;zn.isAxiosError=eme;zn.mergeConfig=eu;zn.AxiosHeaders=fs;zn.formToJSON=t=>UL(he.isHTMLForm(t)?new FormData(t):t);zn.getAdapter=WL.getAdapter;zn.HttpStatusCode=ij;zn.default=zn;const{Axios:oge,AxiosError:lge,CanceledError:cge,isCancel:uge,CancelToken:dge,VERSION:hge,all:mge,Cancel:fge,isAxiosError:pge,spread:gge,toFormData:xge,AxiosHeaders:yge,HttpStatusCode:vge,formToJSON:bge,getAdapter:wge,mergeConfig:jge}=zn;class tme extends Error{constructor(e,n,r,i,a){super(e),this.name="Base44Error",this.status=n,this.code=r,this.data=i,this.originalError=a}toJSON(){return{name:this.name,message:this.message,status:this.status,code:this.code,data:this.data}}}function nme(t){let{baseURL:e,headers:n={},token:r,requiresAuth:i=!1,appId:a,serverUrl:o}=t;const c=zn.create({baseURL:e,headers:{"Content-Type":"application/json",Accept:"application/json",...n}});return r&&(c.defaults.headers.common.Authorization=`Bearer ${r}`),c.interceptors.request.use((d=>(typeof window<"u"&&(d.headers={...d.headers,"X-Origin-URL":window.location.href}),d))),c.interceptors.response.use((d=>d.data),(d=>{var f,g,x,N,w,j,_,E,k,C;const h=((g=(f=d.response)==null?void 0:f.data)==null?void 0:g.message)||((N=(x=d.response)==null?void 0:x.data)==null?void 0:N.detail)||d.message,m=new tme(h,(w=d.response)==null?void 0:w.status,(_=(j=d.response)==null?void 0:j.data)==null?void 0:_.code,(E=d.response)==null?void 0:E.data,d);return console.log(i,(k=d.response)==null?void 0:k.status,typeof window<"u"),i&&((C=d.response)==null?void 0:C.status)===403&&typeof window<"u"&&(console.log("Authentication required. Redirecting to login..."),setTimeout((()=>{(function(R,F){if(typeof window>"u")return;const M=`${R}/login?from_url=${encodeURIComponent(window.location.href)}&app_id=${F}`;window.location.href=M})(o,a)}),100)),Promise.reject(m)})),c}function rme(t,e){return new Proxy({},{get(n,r){if(typeof r=="string"&&r!=="then"&&!r.startsWith("_"))return(function(i,a,o){const c=`/apps/${a}/entities/${o}`;return{async list(d,h,m,f){const g={};return d&&(g.sort=d),h&&(g.limit=h),m&&(g.skip=m),f&&(g.fields=Array.isArray(f)?f.join(","):f),i.get(c,{params:g})},async filter(d,h,m,f,g){const x={q:JSON.stringify(d)};return h&&(x.sort=h),m&&(x.limit=m),f&&(x.skip=f),g&&(x.fields=Array.isArray(g)?g.join(","):g),i.get(c,{params:x})},get:async d=>i.get(`${c}/${d}`),create:async d=>i.post(c,d),update:async(d,h)=>i.put(`${c}/${d}`,h),delete:async d=>i.delete(`${c}/${d}`),deleteMany:async d=>i.delete(c,{data:d}),bulkCreate:async d=>i.post(`${c}/bulk`,d),async importEntities(d){const h=new FormData;return h.append("file",d,d.name),i.post(`${c}/import`,h,{headers:{"Content-Type":"multipart/form-data"}})}}})(t,e,r)}})}function sme(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{storageKey:e="base44_access_token",paramName:n="access_token",saveToStorage:r=!0,removeFromUrl:i=!0}=t;let a=null;if(typeof window<"u"&&window.location)try{const o=new URLSearchParams(window.location.search);if(a=o.get(n),a){if(r&&ime(a,{storageKey:e}),i){o.delete(n);const c=`${window.location.pathname}${o.toString()?`?${o.toString()}`:""}${window.location.hash}`;window.history.replaceState({},document.title,c)}return a}}catch(o){console.error("Error retrieving token from URL:",o)}if(typeof window<"u"&&window.localStorage)try{return a=window.localStorage.getItem(e),a}catch(o){console.error("Error retrieving token from localStorage:",o)}return null}function ime(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{storageKey:n="base44_access_token"}=e;if(typeof window>"u"||!window.localStorage||!t)return!1;try{return window.localStorage.setItem(n,t),!0}catch(r){return console.error("Error saving token to localStorage:",r),!1}}function ame(t){if(!t||!t.appId)throw new Error("appId is required");const{serverUrl:e="https://base44.app",appId:n,env:r="prod",token:i,requiresAuth:a=!1}=t,o=nme({baseURL:`${e}/api`,headers:{"X-App-Id":String(n),"X-Environment":r},token:i,requiresAuth:a,appId:n,serverUrl:e}),c=rme(o,n),d=(function(m,f){return new Proxy({},{get(g,x){if(typeof x=="string"&&x!=="then"&&!x.startsWith("_"))return new Proxy({},{get(N,w){if(typeof w=="string"&&w!=="then"&&!w.startsWith("_"))return async j=>{if(typeof j=="string")throw new Error(`Integration ${w} must receive an object with named parameters, received: ${j}`);let _,E;return j instanceof FormData||j&&Object.values(j).some((k=>k instanceof File))?(_=new FormData,Object.keys(j).forEach((k=>{j[k]instanceof File?_.append(k,j[k],j[k].name):typeof j[k]=="object"&&j[k]!==null?_.append(k,JSON.stringify(j[k])):_.append(k,j[k])})),E="multipart/form-data"):(_=j,E="application/json"),x==="Core"?m.post(`/apps/${f}/integration-endpoints/Core/${w}`,_||j,{headers:{"Content-Type":E}}):m.post(`/apps/${f}/integration-endpoints/installable/${x}/integration-endpoints/${w}`,_||j,{headers:{"Content-Type":E}})}}})}})})(o,n),h=(function(m,f,g){return{me:async()=>m.get(`/apps/${f}/entities/User/me`),updateMe:async x=>m.put(`/apps/${f}/entities/User/me`,x),login(x){if(typeof window>"u")throw new Error("Login method can only be used in a browser environment");const N=x||window.location.href,w=`${g}/login?from_url=${encodeURIComponent(N)}&app_id=${f}`;window.location.href=w},async logout(x){if(delete m.defaults.headers.common.Authorization,typeof window<"u"&&window.localStorage)try{window.localStorage.removeItem("base44_access_token")}catch(N){console.error("Failed to remove token from localStorage:",N)}return x&&typeof window<"u"&&(window.location.href=x),Promise.resolve()},setToken(x){let N=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(x&&(m.defaults.headers.common.Authorization=`Bearer ${x}`,N&&typeof window<"u"&&window.localStorage))try{window.localStorage.setItem("base44_access_token",x)}catch(w){console.error("Failed to save token to localStorage:",w)}},async isAuthenticated(){try{return await this.me(),!0}catch{return!1}}}})(o,n,e);if(typeof window<"u"){const m=i||sme();m&&h.setToken(m)}return a&&typeof window<"u"&&setTimeout((async()=>{try{await h.isAuthenticated()||h.login(window.location.href)}catch(m){console.error("Authentication check failed:",m),h.login(window.location.href)}}),0),{entities:c,integrations:d,auth:h,setToken(m){h.setToken(m)},getConfig:()=>({serverUrl:e,appId:n,env:r,requiresAuth:a})}}const yt=ame({appId:"68fcd301afef087bf759dba3",requiresAuth:!1});function YL({story:t,onComplete:e}){const[n,r]=v.useState(t.starting_node),[i,a]=v.useState([]),[o,c]=v.useState(0),[d,h]=v.useState(null),[m,f]=v.useState(!1);v.useEffect(()=>{g()},[]);const g=async()=>{try{if(await yt.auth.isAuthenticated()){const k=await yt.auth.me();h(k)}}catch{console.log("User not authenticated")}},x=()=>{var E;return(E=t.story_nodes)==null?void 0:E.find(k=>k.id===n)},N=async E=>{var C;E.points&&c(o+E.points),a([...i,n]);const k=(C=t.story_nodes)==null?void 0:C.find(R=>R.id===E.next_node);if(r(E.next_node),k!=null&&k.is_ending&&(f(!0),d))try{const F=Math.min((d.points||0)+10,1500);await yt.auth.updateMe({points:F})}catch(R){console.error("Error saving points:",R)}},w=()=>{r(t.starting_node),a([]),c(0),f(!1)},j=x();if(!j)return s.jsxs("div",{className:"text-center py-12",children:[s.jsx("p",{className:"text-gray-600",children:"Story node not found"}),s.jsxs(G,{onClick:w,className:"mt-4",children:[s.jsx($C,{className:"w-4 h-4 mr-2"}),"Restart Story"]})]});const _={good:"from-green-500 to-teal-500",great:"from-blue-500 to-purple-500",excellent:"from-amber-500 to-orange-500",bad:"from-gray-500 to-slate-500"};return s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(jn,{className:"w-5 h-5 text-purple-600"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[i.length," decisions made"]})]}),s.jsxs("div",{className:"flex items-center gap-2 bg-amber-100 px-4 py-2 rounded-full",children:[s.jsx(cn,{className:"w-5 h-5 text-amber-600"}),s.jsxs("span",{className:"font-bold text-amber-900",children:[o," points"]})]})]}),s.jsx(ri,{mode:"wait",children:s.jsx(ne.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:s.jsxs(se,{className:`shadow-2xl overflow-hidden ${j.is_ending?`bg-gradient-to-br ${_[j.ending_type]||_.good}`:"bg-white"}`,children:[j.image_url&&s.jsx("div",{className:"h-64 md:h-80 overflow-hidden",children:s.jsx("img",{src:j.image_url,alt:"Story scene",className:"w-full h-full object-cover"})}),s.jsxs(ae,{className:`p-6 md:p-8 ${j.is_ending?"text-white":""}`,children:[j.character&&s.jsx(_e,{className:"mb-4 bg-purple-100 text-purple-800 px-4 py-1",children:j.character}),s.jsx("div",{className:`prose prose-lg max-w-none mb-6 ${j.is_ending?"prose-invert":"prose-slate"}`,children:s.jsx(SL,{children:j.content})}),j.is_ending&&s.jsxs("div",{className:"text-center mb-6",children:[s.jsxs("div",{className:"text-6xl mb-4",children:[j.ending_type==="excellent"&&"",j.ending_type==="great"&&"",j.ending_type==="good"&&"",j.ending_type==="bad"&&""]}),s.jsxs(_e,{className:"bg-white/20 text-white text-lg px-6 py-2",children:[j.ending_type==="excellent"&&"Excellent Ending!",j.ending_type==="great"&&"Great Ending!",j.ending_type==="good"&&"Good Ending!",j.ending_type==="bad"&&"Try Again!"]})]}),!j.is_ending&&j.choices&&j.choices.length>0&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-600 mb-4",children:"What will you do?"}),j.choices.map((E,k)=>s.jsx(ne.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:k*.1},onClick:()=>N(E),className:"w-full p-4 bg-gradient-to-r from-blue-50 to-purple-50 hover:from-blue-100 hover:to-purple-100 border-2 border-blue-200 hover:border-purple-300 rounded-xl text-left transition-all duration-300 transform hover:scale-102 group",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium text-gray-900 group-hover:text-purple-900",children:E.text}),s.jsxs("div",{className:"flex items-center gap-2",children:[E.points>0&&s.jsxs(_e,{className:"bg-amber-100 text-amber-800",children:["+",E.points," pts"]}),s.jsx(vz,{className:"w-5 h-5 text-purple-600 group-hover:translate-x-1 transition-transform"})]})]})},k))]}),j.is_ending&&s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mt-8",children:[s.jsxs(G,{onClick:w,size:"lg",className:"bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white border-2 border-white/40",children:[s.jsx($C,{className:"w-5 h-5 mr-2"}),"Try Different Choices"]}),e&&s.jsxs(G,{onClick:e,size:"lg",className:"bg-white text-purple-600 hover:bg-gray-100",children:[s.jsx(_i,{className:"w-5 h-5 mr-2"}),"Back to Stories"]})]}),j.is_ending&&t.moral&&s.jsxs("div",{className:"mt-8 p-6 bg-white/10 backdrop-blur-sm rounded-xl border-2 border-white/20",children:[s.jsx("h3",{className:"text-xl font-bold mb-2",children:" Moral of the Story:"}),s.jsx("p",{className:"text-lg",children:t.moral})]})]})]})},n)}),i.length>0&&!j.is_ending&&s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-sm text-gray-500",children:["Your journey: ",i.length," choices made"]})})]})}YL.propTypes={story:At.object.isRequired,onComplete:At.func};const aw=[{id:"all",name:"All Stories",icon:""},{id:"prophets",name:"Prophets",icon:""},{id:"sahabah",name:"Companions",icon:""},{id:"manners",name:"Good Manners",icon:""},{id:"kindness",name:"Kindness",icon:""},{id:"honesty",name:"Honesty",icon:""},{id:"gratitude",name:"Gratitude",icon:""},{id:"bedtime",name:"Bedtime",icon:""}];function JL(){var m;const[t,e]=v.useState("all"),[n,r]=v.useState(null),[i,a]=v.useState(null);v.useEffect(()=>{o()},[]);const o=async()=>{try{if(await base44.auth.isAuthenticated()){const g=await base44.auth.me();a(g)}else a(null)}catch{a(null)}},{data:c=[],isLoading:d}=Un({queryKey:["stories"],queryFn:async()=>await base44.entities.Story.list("-created_date"),initialData:[]}),h=t==="all"?c:c.filter(f=>f.category===t);return d?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:""}),s.jsx("p",{className:"text-gray-600",children:"Loading stories..."})]})}):s.jsxs("div",{className:"min-h-screen py-8 md:py-12 px-4",children:[s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8 md:mb-12",children:[s.jsx("div",{className:"text-5xl md:text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-gray-900 mb-4",children:"Islamic Stories"}),s.jsx("p",{className:"text-base md:text-lg text-gray-600 max-w-2xl mx-auto",children:"Read inspiring stories from Islamic history and learn valuable lessons"})]}),s.jsx("div",{className:"flex flex-wrap gap-2 md:gap-3 justify-center mb-8",children:aw.map(f=>s.jsxs(G,{onClick:()=>e(f.id),variant:t===f.id?"default":"outline",size:"sm",className:t===f.id?"bg-gradient-to-r from-blue-500 to-purple-500":"",children:[s.jsx("span",{className:"mr-2",children:f.icon}),f.name]},f.id))}),h.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("p",{className:"text-gray-600",children:"No stories available in this category yet."})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map((f,g)=>{var x;return s.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:g*.1},children:s.jsxs(se,{className:"h-full hover:shadow-2xl transition-all duration-300 cursor-pointer group",children:[s.jsxs(Fe,{className:"p-0 relative",children:[f.image_url&&s.jsx("div",{className:"h-48 bg-gradient-to-br from-blue-100 to-purple-100 rounded-t-xl overflow-hidden",children:s.jsx("img",{src:f.image_url,alt:f.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"})}),f.is_interactive&&s.jsx("div",{className:"absolute top-2 right-2",children:s.jsxs(_e,{className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white shadow-lg",children:[s.jsx(_i,{className:"w-3 h-3 mr-1"}),"Interactive"]})})]}),s.jsxs(ae,{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs(_e,{variant:"outline",className:"text-xs",children:[(x=aw.find(N=>N.id===f.category))==null?void 0:x.icon," ",f.category]}),f.age_range&&s.jsxs(_e,{variant:"outline",className:"text-xs",children:[f.age_range," years"]})]}),s.jsx(Ve,{className:"text-xl mb-3 line-clamp-2",children:f.title}),f.description&&s.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:f.description}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 mb-4",children:[f.audio_url&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Od,{className:"w-3 h-3"}),"Audio"]}),f.is_interactive&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(dr,{className:"w-3 h-3"}),"Make Choices"]})]}),s.jsxs(G,{onClick:()=>r(f),className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600",children:[s.jsx(jn,{className:"w-4 h-4 mr-2"}),f.is_interactive?"Play Story":"Read Story"]})]})]})},f.id)})})]}),s.jsx(ri,{children:n&&s.jsx(ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 overflow-y-auto",children:s.jsx("div",{className:"min-h-screen p-4 flex items-center justify-center",children:s.jsxs(ne.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"w-full max-w-5xl",children:[s.jsx("div",{className:"flex justify-end mb-4",children:s.jsx(G,{onClick:()=>r(null),variant:"ghost",size:"icon",className:"bg-white/10 hover:bg-white/20 text-white rounded-full",children:s.jsx(ps,{className:"w-6 h-6"})})}),n.is_interactive?s.jsx(YL,{story:n,onComplete:()=>r(null)}):s.jsxs(se,{className:"bg-white shadow-2xl",children:[n.image_url&&s.jsx("div",{className:"h-64 md:h-96 overflow-hidden rounded-t-xl",children:s.jsx("img",{src:n.image_url,alt:n.title,className:"w-full h-full object-cover"})}),s.jsxs(ae,{className:"p-6 md:p-10",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs(_e,{className:"mb-4",children:[(m=aw.find(f=>f.id===n.category))==null?void 0:m.icon," ",n.category]}),s.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:n.title})]}),n.audio_url&&s.jsx("div",{className:"mb-6 bg-purple-50 p-4 rounded-xl",children:s.jsxs("audio",{controls:!0,className:"w-full",children:[s.jsx("source",{src:n.audio_url,type:"audio/mpeg"}),"Your browser does not support audio."]})}),s.jsx("div",{className:"prose prose-lg max-w-none mb-8",children:s.jsx(SL,{children:n.content})}),n.moral&&s.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 border-l-4 border-amber-500 p-6 rounded-r-xl",children:[s.jsxs("h3",{className:"text-xl font-bold text-amber-900 mb-2 flex items-center gap-2",children:[s.jsx(_i,{className:"w-6 h-6"}),"Moral of the Story"]}),s.jsx("p",{className:"text-gray-700 text-lg",children:n.moral})]})]})]})]})})})})]})}function tS(t){const e=v.useRef({value:t,previous:t});return v.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var u0="Checkbox",[ome]=bo(u0),[lme,nS]=ome(u0);function cme(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:i,disabled:a,form:o,name:c,onCheckedChange:d,required:h,value:m="on",internal_do_not_use_render:f}=t,[g,x]=$c({prop:n,defaultProp:i??!1,onChange:d,caller:u0}),[N,w]=v.useState(null),[j,_]=v.useState(null),E=v.useRef(!1),k=N?!!o||!!N.closest("form"):!0,C={checked:g,disabled:a,setChecked:x,control:N,setControl:w,name:c,form:o,value:m,hasConsumerStoppedPropagationRef:E,required:h,defaultChecked:wl(i)?!1:i,isFormControl:k,bubbleInput:j,setBubbleInput:_};return s.jsx(lme,{scope:e,...C,children:ume(f)?f(C):r})}var XL="CheckboxTrigger",ZL=v.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},i)=>{const{control:a,value:o,disabled:c,checked:d,required:h,setControl:m,setChecked:f,hasConsumerStoppedPropagationRef:g,isFormControl:x,bubbleInput:N}=nS(XL,t),w=Kt(i,m),j=v.useRef(d);return v.useEffect(()=>{const _=a==null?void 0:a.form;if(_){const E=()=>f(j.current);return _.addEventListener("reset",E),()=>_.removeEventListener("reset",E)}},[a,f]),s.jsx(Ct.button,{type:"button",role:"checkbox","aria-checked":wl(d)?"mixed":d,"aria-required":h,"data-state":s3(d),"data-disabled":c?"":void 0,disabled:c,value:o,...r,ref:w,onKeyDown:Je(e,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:Je(n,_=>{f(E=>wl(E)?!0:!E),N&&x&&(g.current=_.isPropagationStopped(),g.current||_.stopPropagation())})})});ZL.displayName=XL;var rS=v.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:a,required:o,disabled:c,value:d,onCheckedChange:h,form:m,...f}=t;return s.jsx(cme,{__scopeCheckbox:n,checked:i,defaultChecked:a,disabled:c,required:o,onCheckedChange:h,name:r,form:m,value:d,internal_do_not_use_render:({isFormControl:g})=>s.jsxs(s.Fragment,{children:[s.jsx(ZL,{...f,ref:e,__scopeCheckbox:n}),g&&s.jsx(r3,{__scopeCheckbox:n})]})})});rS.displayName=u0;var e3="CheckboxIndicator",t3=v.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,a=nS(e3,n);return s.jsx(wo,{present:r||wl(a.checked)||a.checked===!0,children:s.jsx(Ct.span,{"data-state":s3(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});t3.displayName=e3;var n3="CheckboxBubbleInput",r3=v.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:o,required:c,disabled:d,name:h,value:m,form:f,bubbleInput:g,setBubbleInput:x}=nS(n3,t),N=Kt(n,x),w=tS(a),j=x_(r);v.useEffect(()=>{const E=g;if(!E)return;const k=window.HTMLInputElement.prototype,R=Object.getOwnPropertyDescriptor(k,"checked").set,F=!i.current;if(w!==a&&R){const M=new Event("click",{bubbles:F});E.indeterminate=wl(a),R.call(E,wl(a)?!1:a),E.dispatchEvent(M)}},[g,w,a,i]);const _=v.useRef(wl(a)?!1:a);return s.jsx(Ct.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??_.current,required:c,disabled:d,name:h,value:m,form:f,...e,tabIndex:-1,ref:N,style:{...e.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});r3.displayName=n3;function ume(t){return typeof t=="function"}function wl(t){return t==="indeterminate"}function s3(t){return wl(t)?"indeterminate":t?"checked":"unchecked"}const sS=v.forwardRef(({className:t,...e},n)=>s.jsx(rS,{ref:n,className:ct("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:s.jsx(t3,{className:ct("flex items-center justify-center text-current"),children:s.jsx(Gm,{className:"h-4 w-4"})})}));sS.displayName=rS.displayName;const dme=[{arabic:"   ",english:"In the name of Allah, the Most Gracious, the Most Merciful",transliteration:"Bismillah ir-Rahman ir-Rahim"},{arabic:" ",english:"All praise is due to Allah",transliteration:"Alhamdulillah"}],Zu=[{arabic:"",english:"Peace",transliteration:"Salaam"},{arabic:"",english:"Thank you",transliteration:"Shukran"},{arabic:"",english:"Patience",transliteration:"Sabr"},{arabic:"",english:"Mercy",transliteration:"Rahmah"}],hme=[{id:"helped_parents",label:"Helped my parents",emoji:""},{id:"prayed_on_time",label:"Prayed on time",emoji:""},{id:"shared_toys",label:"Shared my toys",emoji:""},{id:"read_quran",label:"Read Quran",emoji:""},{id:"said_bismillah",label:"Said Bismillah before eating",emoji:""},{id:"helped_friend",label:"Helped a friend",emoji:""},{id:"cleaned_room",label:"Cleaned my room",emoji:""},{id:"kind_words",label:"Used kind words",emoji:""}];function i3(){const[t,e]=v.useState([]),[n,r]=v.useState(null),[i,a]=v.useState(0);v.useEffect(()=>{o()},[]);const o=async()=>{try{if(await base44.auth.isAuthenticated()){const h=await base44.auth.me();r(h)}else r(null)}catch{r(null)}},c=async d=>{if(!t.includes(d)&&n)try{await base44.entities.GoodDeed.create({user_id:n.id,deed_type:d,date:new Date().toISOString().split("T")[0]}),await base44.auth.updateMe({points:(n.points||0)+5}),e([...t,d])}catch(m){console.error("Error saving good deed:",m)}else e(t.filter(m=>m!==d))};return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs(ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Learn & Grow"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Daily lessons, duas, and activities to help you grow as a Muslim"})]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[s.jsx(ne.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:s.jsxs(se,{className:"shadow-lg border-2 border-blue-200",children:[s.jsx(Fe,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:s.jsxs(Ve,{className:"flex items-center gap-2",children:[s.jsx(cn,{className:"w-6 h-6"}),"Dua of the Day"]})}),s.jsx(ae,{className:"p-6",children:dme.map((d,h)=>s.jsxs("div",{className:"mb-6 last:mb-0",children:[s.jsxs("div",{className:"text-center mb-4",children:[s.jsx("p",{className:"text-3xl text-right mb-3",style:{fontFamily:"serif"},children:d.arabic}),s.jsxs(G,{variant:"outline",size:"sm",className:"mb-2",children:[s.jsx(Nl,{className:"w-4 h-4 mr-2"}),"Listen"]})]}),s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[s.jsx("p",{className:"font-medium text-gray-700 mb-1",children:d.transliteration}),s.jsx("p",{className:"text-gray-600",children:d.english})]})]},h))})]})}),s.jsx(ne.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},children:s.jsxs(se,{className:"shadow-lg border-2 border-green-200",children:[s.jsx(Fe,{className:"bg-gradient-to-r from-green-500 to-teal-500 text-white",children:s.jsxs(Ve,{className:"flex items-center gap-2",children:[s.jsx(jn,{className:"w-6 h-6"}),"Learn Arabic Words"]})}),s.jsxs(ae,{className:"p-6",children:[s.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-teal-50 rounded-xl p-8 text-center mb-4",children:[s.jsx("p",{className:"text-5xl mb-4",style:{fontFamily:"serif"},children:Zu[i].arabic}),s.jsx("p",{className:"text-xl font-semibold text-gray-700 mb-2",children:Zu[i].transliteration}),s.jsx("p",{className:"text-lg text-gray-600",children:Zu[i].english})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(G,{onClick:()=>a((i-1+Zu.length)%Zu.length),variant:"outline",className:"flex-1",children:"Previous"}),s.jsx(G,{onClick:()=>a((i+1)%Zu.length),className:"flex-1 bg-green-600 hover:bg-green-700",children:"Next"})]})]})]})}),s.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"lg:col-span-2",children:s.jsxs(se,{className:"shadow-lg border-2 border-amber-200",children:[s.jsx(Fe,{className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs(Ve,{className:"flex items-center gap-2",children:[s.jsx(th,{className:"w-6 h-6"}),"Good Deeds Tracker"]}),s.jsx(_e,{className:"bg-white/20 text-white text-lg px-4 py-2",children:"+5 points each"})]})}),s.jsxs(ae,{className:"p-6",children:[s.jsx("p",{className:"text-gray-600 mb-6 text-center",children:"Check off the good deeds you did today and earn points! "}),s.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4",children:hme.map(d=>s.jsx(ne.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:s.jsxs("label",{className:`flex items-start gap-3 p-4 rounded-xl border-2 cursor-pointer transition-all ${t.includes(d.id)?"bg-green-50 border-green-400":"bg-white border-gray-200 hover:border-gray-300"}`,children:[s.jsx(sS,{checked:t.includes(d.id),onCheckedChange:()=>c(d.id),className:"mt-1"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl mb-1",children:d.emoji}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:d.label})]})]})},d.id))})]})]})})]})]})})}const mme=[{title:"How to Teach Islam with Love",excerpt:"Creating a nurturing environment where children develop a genuine love for their faith...",icon:nh,color:"from-pink-500 to-rose-500"},{title:"Digital Safety for Muslim Kids",excerpt:"Essential guidelines to ensure your children's online experience is safe and beneficial...",icon:su,color:"from-blue-500 to-cyan-500"},{title:"Making Learning Fun",excerpt:"Creative ways to engage children in Islamic education through play and activities...",icon:jn,color:"from-purple-500 to-violet-500"}];function a3(){return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs(ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Parent Guidance"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Resources and support for raising righteous children"})]}),s.jsx(ne.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-12",children:s.jsx(se,{className:"border-2 border-green-300 shadow-lg",children:s.jsxs(ae,{className:"p-8 text-center",children:[s.jsx(su,{className:"w-16 h-16 mx-auto mb-4 text-green-600"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Safe & Ad-Free Environment "}),s.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Islam Kids Zone is committed to providing a completely safe, ad-free learning environment. All content is carefully curated and monitored to ensure it aligns with Islamic values and is age-appropriate."})]})})}),s.jsxs("div",{className:"mb-12",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Parenting Resources"}),s.jsx("div",{className:"space-y-6",children:mme.map((t,e)=>{const n=t.icon;return s.jsx(ne.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:e*.1},children:s.jsxs(se,{className:"hover:shadow-xl transition-all duration-300",children:[s.jsx(Fe,{children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`w-12 h-12 rounded-xl bg-gradient-to-br ${t.color} flex items-center justify-center flex-shrink-0`,children:s.jsx(n,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx(Ve,{className:"text-xl mb-2",children:t.title}),s.jsx("p",{className:"text-gray-600",children:t.excerpt})]})]})}),s.jsx(ae,{children:s.jsx(G,{variant:"outline",children:"Read More"})})]})},t.title)})})]}),s.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:s.jsxs(se,{className:"shadow-lg",children:[s.jsx(Fe,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:s.jsxs(Ve,{className:"flex items-center gap-2",children:[s.jsx(yx,{className:"w-6 h-6"}),"Send Us Your Feedback"]})}),s.jsxs(ae,{className:"p-6",children:[s.jsx("p",{className:"text-gray-600 mb-6",children:"We'd love to hear your thoughts, suggestions, or concerns about Islam Kids Zone. Your feedback helps us create a better experience for your children."}),s.jsxs(G,{className:"w-full bg-blue-600 hover:bg-blue-700",children:[s.jsx(yx,{className:"w-4 h-4 mr-2"}),"Share Your Feedback"]})]})]})})]})})}const fme=[{icon:nh,title:"Learn with Love",description:"Every activity is designed to inspire love for Islam in young hearts"},{icon:cn,title:"Quality Content",description:"Carefully curated Islamic content that's both educational and engaging"},{icon:su,title:"Safe Environment",description:"100% ad-free and child-safe platform monitored by caring educators"},{icon:_i,title:"Fun Learning",description:"Interactive games and activities that make learning enjoyable"}];function o3(){return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs(ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"About Islam Kids Zone"})]}),s.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-12",children:s.jsx(se,{className:"shadow-lg border-2 border-blue-200",children:s.jsxs(ae,{className:"p-8",children:[s.jsxs("p",{className:"text-lg text-gray-700 leading-relaxed mb-6",children:[s.jsx("strong",{children:"Islam Media Kids Zone"})," is part of ",s.jsx("strong",{children:"Islam Media Central"}),", built to inspire the next generation through games, stories, and educational media."]}),s.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:"Every activity is designed to teach Islamic manners, knowledge, and fun learning experiences  all in a safe and loving environment where children can explore their faith with joy and confidence."})]})})}),s.jsxs("div",{className:"mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8 text-center",children:"Our Values"}),s.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:fme.map((t,e)=>{const n=t.icon;return s.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:e*.1},children:s.jsx(se,{className:"h-full hover:shadow-xl transition-all duration-300",children:s.jsx(ae,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center flex-shrink-0",children:s.jsx(n,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:t.title}),s.jsx("p",{className:"text-gray-600",children:t.description})]})]})})})},t.title)})})]}),s.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:s.jsx(se,{className:"shadow-lg bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:s.jsxs(ae,{className:"p-8 text-center",children:[s.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Connect with Islam Media Central"}),s.jsx("p",{className:"text-blue-100 mb-6 text-lg",children:"Discover more Islamic content and resources for the whole family"}),s.jsxs(G,{onClick:()=>window.open("https://www.imediac.com","_blank"),className:"bg-white hover:bg-gray-100 text-blue-600",children:[s.jsx(Md,{className:"w-4 h-4 mr-2"}),"Visit Website"]})]})})}),s.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-8",children:s.jsx(se,{className:"shadow border-2 border-green-200",children:s.jsxs(ae,{className:"p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Acknowledgements"}),s.jsxs("p",{className:"text-gray-700",children:["Quran text, translations, and audio in our Recitation & Hifz module are powered by the",s.jsx("a",{href:"https://alquran.cloud/api",target:"_blank",rel:"noreferrer",className:"text-green-700 font-semibold ml-1",children:"AlQuran.Cloud API"}),"by Islamic Network. We are grateful for their service to the community."]})]})})})]})})}const Te=v.forwardRef(({className:t,type:e,...n},r)=>s.jsx("input",{type:e,className:ct("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Te.displayName="Input";var pme=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],gme=pme.reduce((t,e)=>{const n=Dy(`Primitive.${e}`),r=v.forwardRef((i,a)=>{const{asChild:o,...c}=i,d=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(d,{...c,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),xme="Label",l3=v.forwardRef((t,e)=>s.jsx(gme.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));l3.displayName=xme;var c3=l3;const yme=zf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ye=v.forwardRef(({className:t,...e},n)=>s.jsx(c3,{ref:n,className:ct(yme(),t),...e}));ye.displayName=c3.displayName;const vme=["","","","","","","","","","","",""];function u3(){const t=Yn(),[e,n]=v.useState(!1),[r,i]=v.useState(!1),[a,o]=v.useState({full_name:"",age:"",city:"",madrasah_maktab:"",avatar:""});v.useEffect(()=>{try{const x=localStorage.getItem("ikz_user");if(x){const N=JSON.parse(x);o(w=>({...w,full_name:N.full_name||w.full_name,age:N.age||w.age,city:N.city||w.city,madrasah_maktab:N.madrasah_maktab||w.madrasah_maktab,avatar:N.avatar||w.avatar}))}}catch{}i(!1)},[]);const[c,d]=v.useState(null),[h,m]=v.useState(!1),f=()=>{t(rt("Games"))},g=x=>{x.preventDefault(),n(!0),setTimeout(()=>{d(a),m(!0),n(!1),localStorage.setItem("ikz_user",JSON.stringify(a)),t(rt("Games"))},500)};return h?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 flex items-center justify-center p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:""}),s.jsx("p",{className:"text-white text-lg font-medium",children:"Signup successful! Welcome to Islam Kids Zone."})]})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 flex items-center justify-center p-4",children:s.jsx(ne.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"w-full max-w-md",children:s.jsxs(se,{className:"shadow-2xl border-4 border-white/50",children:[s.jsxs(Fe,{className:"text-center pb-4",children:[s.jsx(ne.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200},className:"text-6xl mb-4",children:""}),s.jsx(Ve,{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Welcome to Islam Kids Zone!"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Sign up to personalize your experience!"})]}),s.jsx(ae,{children:s.jsxs("form",{onSubmit:g,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"full_name",children:"Full Name"}),s.jsx(Te,{id:"full_name",type:"text",value:a.full_name,onChange:x=>o({...a,full_name:x.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"age",children:"Age"}),s.jsx(Te,{id:"age",type:"number",min:"1",value:a.age,onChange:x=>o({...a,age:x.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"city",children:"City"}),s.jsx(Te,{id:"city",type:"text",value:a.city,onChange:x=>o({...a,city:x.target.value})})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"madrasah_maktab",children:"Madrasah/Maktab"}),s.jsx(Te,{id:"madrasah_maktab",type:"text",value:a.madrasah_maktab,onChange:x=>o({...a,madrasah_maktab:x.target.value})})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Choose an Avatar"}),s.jsx("div",{className:"flex gap-2 flex-wrap mt-2",children:vme.map(x=>s.jsx("button",{type:"button",className:`text-2xl px-2 py-1 rounded-lg border ${a.avatar===x?"border-blue-500 bg-blue-100":"border-gray-300 bg-white"}`,onClick:()=>o({...a,avatar:x}),children:x},x))})]}),s.jsxs("div",{className:"flex gap-4 mt-6",children:[s.jsx(G,{type:"submit",disabled:e,className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 text-white font-bold",children:e?"Saving...":"Save & Continue"}),s.jsx(G,{type:"button",variant:"outline",onClick:f,className:"w-full",children:"Skip & Explore"})]})]})})]})})})}const Rn=v.forwardRef(({className:t,...e},n)=>s.jsx("textarea",{className:ct("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));Rn.displayName="Textarea";function d3(){const[t,e]=v.useState({name:"",email:"",subject:"",message:""}),[n,r]=v.useState(!1),[i,a]=v.useState(!1),[o,c]=v.useState(null);wn.useEffect(()=>{d()},[]);const d=async()=>{try{if(await base44.auth.isAuthenticated()){const f=await base44.auth.me();c(f)}else c(null)}catch{c(null)}},h=async m=>{m.preventDefault(),r(!0);try{await base44.integrations.Core.SendEmail({from_name:"Islam Kids Zone - Contact Form",to:"huzaify786@gmail.com",subject:`Contact Form: ${t.subject}`,body:`
          <div style="font-family: Arial, sans-serif; padding: 20px; background-color: #f3f4f6; border-radius: 10px;">
            <h2 style="color: #3B82F6;"> New Contact Form Submission</h2>
            <div style="background-color: white; padding: 20px; border-radius: 8px; margin-top: 20px;">
              <p><strong> Name:</strong> ${t.name}</p>
              <p><strong> Email:</strong> ${t.email}</p>
              <p><strong> Subject:</strong> ${t.subject}</p>
              <hr style="margin: 20px 0; border: none; border-top: 1px solid #e5e7eb;">
              <p><strong> Message:</strong></p>
              <p style="background-color: #f9fafb; padding: 15px; border-radius: 5px; white-space: pre-wrap;">${t.message}</p>
            </div>
            <hr style="margin: 20px 0; border: none; border-top: 1px solid #e5e7eb;">
            <p style="color: #6b7280; font-size: 12px; text-align: center;">
               Sent on: ${new Date().toLocaleString()}
            </p>
          </div>
        `});try{await Xx.add({name:t.name,email:t.email,subject:t.subject,message:t.message,createdAt:new Date().toISOString(),read:!1})}catch(f){console.warn("Message not persisted (Firebase not configured or error)",(f==null?void 0:f.message)||f)}a(!0),e({name:(o==null?void 0:o.full_name)||"",email:(o==null?void 0:o.email)||"",subject:"",message:""}),setTimeout(()=>a(!1),5e3)}catch(f){console.error("Error sending message:",f),alert("Failed to send message. Please try again.")}finally{r(!1)}};return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs(ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Contact Us"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Have a question, suggestion, or feedback? We'd love to hear from you!"})]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[s.jsxs(ne.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"space-y-6",children:[s.jsx(se,{className:"border-2 border-blue-200 shadow-lg hover:shadow-xl transition-all duration-300",children:s.jsx(ae,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center flex-shrink-0",children:s.jsx(fy,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:"Email Us"}),s.jsx("a",{href:"mailto:huzaify786@gmail.com",className:"text-blue-600 hover:text-blue-700 text-sm break-all",children:"huzaify786@gmail.com"})]})]})})}),s.jsx(se,{className:"border-2 border-green-200 shadow-lg",children:s.jsx(ae,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-green-500 to-teal-500 flex items-center justify-center flex-shrink-0",children:s.jsx(yx,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:"Quick Response"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"We typically respond within 24-48 hours"})]})]})})}),s.jsx(se,{className:"border-2 border-amber-200 shadow-lg bg-gradient-to-br from-amber-50 to-orange-50",children:s.jsx(ae,{className:"p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl mb-3",children:""}),s.jsx("p",{className:"text-gray-700 italic text-sm mb-2",children:'"The best of people are those who are most beneficial to people."'}),s.jsx("p",{className:"text-gray-500 text-xs",children:"- Prophet Muhammad "})]})})})]}),s.jsx(ne.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"md:col-span-2",children:s.jsxs(se,{className:"shadow-2xl border-2 border-blue-300",children:[s.jsx(Fe,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:s.jsxs(Ve,{className:"text-2xl flex items-center gap-2",children:[s.jsx(_i,{className:"w-6 h-6"}),"Send us a Message"]})}),s.jsx(ae,{className:"p-6",children:i?s.jsxs(ne.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"text-center py-12",children:[s.jsx(th,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Message Sent! "}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Thank you for contacting us. We'll get back to you soon!"}),s.jsx(G,{onClick:()=>a(!1),variant:"outline",children:"Send Another Message"})]}):s.jsxs("form",{onSubmit:h,className:"space-y-5",children:[s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"name",className:"text-gray-700 font-semibold",children:"Your Name *"}),s.jsx(Te,{id:"name",type:"text",value:t.name,onChange:m=>e({...t,name:m.target.value}),placeholder:"Enter your name",required:!0,className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"email",className:"text-gray-700 font-semibold",children:"Your Email *"}),s.jsx(Te,{id:"email",type:"email",value:t.email,onChange:m=>e({...t,email:m.target.value}),placeholder:"your.email@example.com",required:!0,className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"subject",className:"text-gray-700 font-semibold",children:"Subject *"}),s.jsx(Te,{id:"subject",type:"text",value:t.subject,onChange:m=>e({...t,subject:m.target.value}),placeholder:"What is this about?",required:!0,className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"message",className:"text-gray-700 font-semibold",children:"Message *"}),s.jsx(Rn,{id:"message",value:t.message,onChange:m=>e({...t,message:m.target.value}),placeholder:"Tell us more about your question or feedback...",required:!0,rows:6,className:"mt-1"})]}),s.jsx(G,{type:"submit",disabled:n,className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-lg py-6",children:n?s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Sending..."]}):s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(vx,{className:"w-5 h-5"}),"Send Message"]})})]})})]})})]})]})})}const FI=[{id:"bismillah",category:"Daily",title:"Before Eating",arabic:" ",transliteration:"Bismillah",translation:"In the name of Allah",audio:null},{id:"alhamdulillah",category:"Daily",title:"After Eating",arabic:" ",transliteration:"Alhamdulillah",translation:"All praise is for Allah",audio:null},{id:"morning",category:"Morning",title:"Morning Dua",arabic:"          ",transliteration:"Allahumma bika asbahna, wa bika amsayna, wa bika nahya, wa bika namutu, wa ilayka an-nushur",translation:"O Allah, by You we enter the morning, by You we enter the evening, by You we live, by You we die, and to You is the resurrection",audio:null},{id:"sleep",category:"Bedtime",title:"Before Sleeping",arabic:"   ",transliteration:"Bismika Allahumma amutu wa ahya",translation:"In Your name O Allah, I die and I live",audio:null},{id:"travel",category:"Travel",title:"Traveling Dua",arabic:"        ",transliteration:"Subhanal-ladhi sakhkhara lana hadha wa ma kunna lahu muqrinin",translation:"Glory to Him who has subjected this to us, and we could not have done it ourselves",audio:null},{id:"entering_home",category:"Daily",title:"Entering Home",arabic:"      ",transliteration:"Allahumma inni as'aluka khayra al-mawliji wa khayra al-makhraji",translation:"O Allah, I ask You for the best entering and the best leaving",audio:null}],bme=["All","Daily","Morning","Bedtime","Travel"];function h3(){const[t,e]=v.useState("All"),[n,r]=v.useState([]),i=t==="All"?FI:FI.filter(o=>o.category===t),a=o=>{n.includes(o)?r(n.filter(c=>c!==o)):r([...n,o])};return s.jsx("div",{className:"min-h-screen py-8 md:py-12 px-2 md:px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs(ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8 px-2",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-gray-900 mb-4",children:"Daily Duas"}),s.jsx("p",{className:"text-base md:text-lg text-gray-600",children:"Learn and memorize essential Islamic supplications"})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-8 justify-center",children:bme.map(o=>s.jsx(G,{onClick:()=>e(o),variant:t===o?"default":"outline",className:t===o?"bg-blue-600":"",children:o},o))}),s.jsx("div",{className:"space-y-6",children:i.map((o,c)=>s.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:c*.1},children:s.jsxs(se,{className:"shadow-lg hover:shadow-xl transition-all duration-300",children:[s.jsx(Fe,{children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(_e,{className:"bg-blue-100 text-blue-800",children:o.category}),s.jsx(Ve,{className:"text-xl",children:o.title})]})}),s.jsx(G,{variant:"ghost",size:"icon",onClick:()=>a(o.id),className:n.includes(o.id)?"text-red-500":"text-gray-400",children:s.jsx(nh,{className:`w-5 h-5 ${n.includes(o.id)?"fill-current":""}`})})]})}),s.jsxs(ae,{className:"space-y-4",children:[s.jsx("div",{className:"text-center",children:s.jsx("p",{className:"text-2xl md:text-3xl text-right mb-2",style:{fontFamily:"serif",lineHeight:"1.8"},children:o.arabic})}),s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[s.jsx("p",{className:"font-semibold text-gray-700 mb-1",children:"Transliteration:"}),s.jsx("p",{className:"text-gray-800 italic",children:o.transliteration})]}),s.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[s.jsx("p",{className:"font-semibold text-gray-700 mb-1",children:"Translation:"}),s.jsx("p",{className:"text-gray-800",children:o.translation})]})]})]})},o.id))}),s.jsx(ne.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-12",children:s.jsx(se,{className:"border-2 border-amber-200 bg-gradient-to-br from-amber-50 to-orange-50",children:s.jsxs(ae,{className:"p-8 text-center",children:[s.jsx("div",{className:"text-5xl mb-4",children:""}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Keep Making Dua!"}),s.jsx("p",{className:"text-gray-700 max-w-2xl mx-auto",children:'The Prophet Muhammad  said: "Dua is the essence of worship." Keep these duas in your daily routine and teach them to others!'})]})})})]})})}function wme(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}Array(12).fill(0);let aj=1;class jme{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...i}=e,a=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:aj++,o=this.toasts.find(d=>d.id===a),c=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),o?this.toasts=this.toasts.map(d=>d.id===a?(this.publish({...d,...e,id:a,title:r}),{...d,...e,id:a,dismissible:c,title:r}):d):this.addToast({title:r,...i,dismissible:c,id:a}),a},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let a=r!==void 0,o;const c=i.then(async h=>{if(o=["resolve",h],wn.isValidElement(h))a=!1,this.create({id:r,type:"default",message:h});else if(Nme(h)&&!h.ok){a=!1;const f=typeof n.error=="function"?await n.error(`HTTP error! status: ${h.status}`):n.error,g=typeof n.description=="function"?await n.description(`HTTP error! status: ${h.status}`):n.description,N=typeof f=="object"&&!wn.isValidElement(f)?f:{message:f};this.create({id:r,type:"error",description:g,...N})}else if(h instanceof Error){a=!1;const f=typeof n.error=="function"?await n.error(h):n.error,g=typeof n.description=="function"?await n.description(h):n.description,N=typeof f=="object"&&!wn.isValidElement(f)?f:{message:f};this.create({id:r,type:"error",description:g,...N})}else if(n.success!==void 0){a=!1;const f=typeof n.success=="function"?await n.success(h):n.success,g=typeof n.description=="function"?await n.description(h):n.description,N=typeof f=="object"&&!wn.isValidElement(f)?f:{message:f};this.create({id:r,type:"success",description:g,...N})}}).catch(async h=>{if(o=["reject",h],n.error!==void 0){a=!1;const m=typeof n.error=="function"?await n.error(h):n.error,f=typeof n.description=="function"?await n.description(h):n.description,x=typeof m=="object"&&!wn.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:f,...x})}}).finally(()=>{a&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),d=()=>new Promise((h,m)=>c.then(()=>o[0]==="reject"?m(o[1]):h(o[1])).catch(m));return typeof r!="string"&&typeof r!="number"?{unwrap:d}:Object.assign(r,{unwrap:d})},this.custom=(e,n)=>{const r=(n==null?void 0:n.id)||aj++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Gs=new jme,_me=(t,e)=>{const n=(e==null?void 0:e.id)||aj++;return Gs.addToast({title:t,...e,id:n}),n},Nme=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Sme=_me,Eme=()=>Gs.toasts,Cme=()=>Gs.getActiveToasts(),St=Object.assign(Sme,{success:Gs.success,info:Gs.info,warning:Gs.warning,error:Gs.error,custom:Gs.custom,message:Gs.message,promise:Gs.promise,dismiss:Gs.dismiss,loading:Gs.loading},{getHistory:Eme,getToasts:Cme});wme("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function VI(t,[e,n]){return Math.min(n,Math.max(e,t))}function kme(t){const e=Tme(t),n=v.forwardRef((r,i)=>{const{children:a,...o}=r,c=v.Children.toArray(a),d=c.find(Ime);if(d){const h=d.props.children,m=c.map(f=>f===d?v.Children.count(h)>1?v.Children.only(null):v.isValidElement(h)?h.props.children:null:f);return s.jsx(e,{...o,ref:i,children:v.isValidElement(h)?v.cloneElement(h,void 0,m):null})}return s.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function Tme(t){const e=v.forwardRef((n,r)=>{const{children:i,...a}=n;if(v.isValidElement(i)){const o=Pme(i),c=Rme(a,i.props);return i.type!==v.Fragment&&(c.ref=r?vo(r,o):o),v.cloneElement(i,c)}return v.Children.count(i)>1?v.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Ame=Symbol("radix.slottable");function Ime(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Ame}function Rme(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...c)=>{const d=a(...c);return i(...c),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function Pme(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var m3=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Dme="VisuallyHidden",Mme=v.forwardRef((t,e)=>s.jsx(Ct.span,{...t,ref:e,style:{...m3,...t.style}}));Mme.displayName=Dme;var Ome=[" ","Enter","ArrowUp","ArrowDown"],Lme=[" ","Enter"],tu="Select",[d0,h0,Fme]=l_(tu),[jh]=bo(tu,[Fme,Cy]),m0=Cy(),[Vme,Wl]=jh(tu),[Ume,zme]=jh(tu),f3=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:a,value:o,defaultValue:c,onValueChange:d,dir:h,name:m,autoComplete:f,disabled:g,required:x,form:N}=t,w=m0(e),[j,_]=v.useState(null),[E,k]=v.useState(null),[C,R]=v.useState(!1),F=c_(h),[M,P]=$c({prop:r,defaultProp:i??!1,onChange:a,caller:tu}),[I,L]=$c({prop:o,defaultProp:c,onChange:d,caller:tu}),U=v.useRef(null),D=j?N||!!j.closest("form"):!0,[V,J]=v.useState(new Set),ee=Array.from(V).map(re=>re.props.value).join(";");return s.jsx(H4,{...w,children:s.jsxs(Vme,{required:x,scope:e,trigger:j,onTriggerChange:_,valueNode:E,onValueNodeChange:k,valueNodeHasChildren:C,onValueNodeHasChildrenChange:R,contentId:eo(),value:I,onValueChange:L,open:M,onOpenChange:P,dir:F,triggerPointerDownPosRef:U,disabled:g,children:[s.jsx(d0.Provider,{scope:e,children:s.jsx(Ume,{scope:t.__scopeSelect,onNativeOptionAdd:v.useCallback(re=>{J(ie=>new Set(ie).add(re))},[]),onNativeOptionRemove:v.useCallback(re=>{J(ie=>{const Q=new Set(ie);return Q.delete(re),Q})},[]),children:n})}),D?s.jsxs(F3,{"aria-hidden":!0,required:x,tabIndex:-1,name:m,autoComplete:f,value:I,onChange:re=>L(re.target.value),disabled:g,form:N,children:[I===void 0?s.jsx("option",{value:""}):null,Array.from(V)]},ee):null]})})};f3.displayName=tu;var p3="SelectTrigger",g3=v.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,a=m0(n),o=Wl(p3,n),c=o.disabled||r,d=Kt(e,o.onTriggerChange),h=h0(n),m=v.useRef("touch"),[f,g,x]=U3(w=>{const j=h().filter(k=>!k.disabled),_=j.find(k=>k.value===o.value),E=z3(j,w,_);E!==void 0&&o.onValueChange(E.value)}),N=w=>{c||(o.onOpenChange(!0),x()),w&&(o.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return s.jsx(W4,{asChild:!0,...a,children:s.jsx(Ct.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":V3(o.value)?"":void 0,...i,ref:d,onClick:Je(i.onClick,w=>{w.currentTarget.focus(),m.current!=="mouse"&&N(w)}),onPointerDown:Je(i.onPointerDown,w=>{m.current=w.pointerType;const j=w.target;j.hasPointerCapture(w.pointerId)&&j.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(N(w),w.preventDefault())}),onKeyDown:Je(i.onKeyDown,w=>{const j=f.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&g(w.key),!(j&&w.key===" ")&&Ome.includes(w.key)&&(N(),w.preventDefault())})})})});g3.displayName=p3;var x3="SelectValue",y3=v.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:a,placeholder:o="",...c}=t,d=Wl(x3,n),{onValueNodeHasChildrenChange:h}=d,m=a!==void 0,f=Kt(e,d.onValueNodeChange);return sr(()=>{h(m)},[h,m]),s.jsx(Ct.span,{...c,ref:f,style:{pointerEvents:"none"},children:V3(d.value)?s.jsx(s.Fragment,{children:o}):a})});y3.displayName=x3;var Bme="SelectIcon",v3=v.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return s.jsx(Ct.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});v3.displayName=Bme;var $me="SelectPortal",b3=t=>s.jsx(ky,{asChild:!0,...t});b3.displayName=$me;var nu="SelectContent",w3=v.forwardRef((t,e)=>{const n=Wl(nu,t.__scopeSelect),[r,i]=v.useState();if(sr(()=>{i(new DocumentFragment)},[]),!n.open){const a=r;return a?Rf.createPortal(s.jsx(j3,{scope:t.__scopeSelect,children:s.jsx(d0.Slot,{scope:t.__scopeSelect,children:s.jsx("div",{children:t.children})})}),a):null}return s.jsx(_3,{...t,ref:e})});w3.displayName=nu;var yi=10,[j3,Kl]=jh(nu),qme="SelectContentImpl",Hme=kme("SelectContent.RemoveScroll"),_3=v.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:c,sideOffset:d,align:h,alignOffset:m,arrowPadding:f,collisionBoundary:g,collisionPadding:x,sticky:N,hideWhenDetached:w,avoidCollisions:j,..._}=t,E=Wl(nu,n),[k,C]=v.useState(null),[R,F]=v.useState(null),M=Kt(e,fe=>C(fe)),[P,I]=v.useState(null),[L,U]=v.useState(null),D=h0(n),[V,J]=v.useState(!1),ee=v.useRef(!1);v.useEffect(()=>{if(k)return b_(k)},[k]),u_();const re=v.useCallback(fe=>{const[Se,...De]=D().map(ft=>ft.ref.current),[ze]=De.slice(-1),qe=document.activeElement;for(const ft of fe)if(ft===qe||(ft==null||ft.scrollIntoView({block:"nearest"}),ft===Se&&R&&(R.scrollTop=0),ft===ze&&R&&(R.scrollTop=R.scrollHeight),ft==null||ft.focus(),document.activeElement!==qe))return},[D,R]),ie=v.useCallback(()=>re([P,k]),[re,P,k]);v.useEffect(()=>{V&&ie()},[V,ie]);const{onOpenChange:Q,triggerPointerDownPosRef:q}=E;v.useEffect(()=>{if(k){let fe={x:0,y:0};const Se=ze=>{var qe,ft;fe={x:Math.abs(Math.round(ze.pageX)-(((qe=q.current)==null?void 0:qe.x)??0)),y:Math.abs(Math.round(ze.pageY)-(((ft=q.current)==null?void 0:ft.y)??0))}},De=ze=>{fe.x<=10&&fe.y<=10?ze.preventDefault():k.contains(ze.target)||Q(!1),document.removeEventListener("pointermove",Se),q.current=null};return q.current!==null&&(document.addEventListener("pointermove",Se),document.addEventListener("pointerup",De,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Se),document.removeEventListener("pointerup",De,{capture:!0})}}},[k,Q,q]),v.useEffect(()=>{const fe=()=>Q(!1);return window.addEventListener("blur",fe),window.addEventListener("resize",fe),()=>{window.removeEventListener("blur",fe),window.removeEventListener("resize",fe)}},[Q]);const[B,$]=U3(fe=>{const Se=D().filter(qe=>!qe.disabled),De=Se.find(qe=>qe.ref.current===document.activeElement),ze=z3(Se,fe,De);ze&&setTimeout(()=>ze.ref.current.focus())}),te=v.useCallback((fe,Se,De)=>{const ze=!ee.current&&!De;(E.value!==void 0&&E.value===Se||ze)&&(I(fe),ze&&(ee.current=!0))},[E.value]),H=v.useCallback(()=>k==null?void 0:k.focus(),[k]),me=v.useCallback((fe,Se,De)=>{const ze=!ee.current&&!De;(E.value!==void 0&&E.value===Se||ze)&&U(fe)},[E.value]),we=r==="popper"?oj:N3,Ce=we===oj?{side:c,sideOffset:d,align:h,alignOffset:m,arrowPadding:f,collisionBoundary:g,collisionPadding:x,sticky:N,hideWhenDetached:w,avoidCollisions:j}:{};return s.jsx(j3,{scope:n,content:k,viewport:R,onViewportChange:F,itemRefCallback:te,selectedItem:P,onItemLeave:H,itemTextRefCallback:me,focusSelectedItem:ie,selectedItemText:L,position:r,isPositioned:V,searchRef:B,children:s.jsx(Ay,{as:Hme,allowPinchZoom:!0,children:s.jsx(jy,{asChild:!0,trapped:E.open,onMountAutoFocus:fe=>{fe.preventDefault()},onUnmountAutoFocus:Je(i,fe=>{var Se;(Se=E.trigger)==null||Se.focus({preventScroll:!0}),fe.preventDefault()}),children:s.jsx(wy,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:fe=>fe.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:s.jsx(we,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:fe=>fe.preventDefault(),..._,...Ce,onPlaced:()=>J(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:Je(_.onKeyDown,fe=>{const Se=fe.ctrlKey||fe.altKey||fe.metaKey;if(fe.key==="Tab"&&fe.preventDefault(),!Se&&fe.key.length===1&&$(fe.key),["ArrowUp","ArrowDown","Home","End"].includes(fe.key)){let ze=D().filter(qe=>!qe.disabled).map(qe=>qe.ref.current);if(["ArrowUp","End"].includes(fe.key)&&(ze=ze.slice().reverse()),["ArrowUp","ArrowDown"].includes(fe.key)){const qe=fe.target,ft=ze.indexOf(qe);ze=ze.slice(ft+1)}setTimeout(()=>re(ze)),fe.preventDefault()}})})})})})})});_3.displayName=qme;var Wme="SelectItemAlignedPosition",N3=v.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,a=Wl(nu,n),o=Kl(nu,n),[c,d]=v.useState(null),[h,m]=v.useState(null),f=Kt(e,M=>m(M)),g=h0(n),x=v.useRef(!1),N=v.useRef(!0),{viewport:w,selectedItem:j,selectedItemText:_,focusSelectedItem:E}=o,k=v.useCallback(()=>{if(a.trigger&&a.valueNode&&c&&h&&w&&j&&_){const M=a.trigger.getBoundingClientRect(),P=h.getBoundingClientRect(),I=a.valueNode.getBoundingClientRect(),L=_.getBoundingClientRect();if(a.dir!=="rtl"){const qe=L.left-P.left,ft=I.left-qe,Zt=M.left-ft,kn=M.width+Zt,wr=Math.max(kn,P.width),Bn=window.innerWidth-yi,Jn=VI(ft,[yi,Math.max(yi,Bn-wr)]);c.style.minWidth=kn+"px",c.style.left=Jn+"px"}else{const qe=P.right-L.right,ft=window.innerWidth-I.right-qe,Zt=window.innerWidth-M.right-ft,kn=M.width+Zt,wr=Math.max(kn,P.width),Bn=window.innerWidth-yi,Jn=VI(ft,[yi,Math.max(yi,Bn-wr)]);c.style.minWidth=kn+"px",c.style.right=Jn+"px"}const U=g(),D=window.innerHeight-yi*2,V=w.scrollHeight,J=window.getComputedStyle(h),ee=parseInt(J.borderTopWidth,10),re=parseInt(J.paddingTop,10),ie=parseInt(J.borderBottomWidth,10),Q=parseInt(J.paddingBottom,10),q=ee+re+V+Q+ie,B=Math.min(j.offsetHeight*5,q),$=window.getComputedStyle(w),te=parseInt($.paddingTop,10),H=parseInt($.paddingBottom,10),me=M.top+M.height/2-yi,we=D-me,Ce=j.offsetHeight/2,fe=j.offsetTop+Ce,Se=ee+re+fe,De=q-Se;if(Se<=me){const qe=U.length>0&&j===U[U.length-1].ref.current;c.style.bottom="0px";const ft=h.clientHeight-w.offsetTop-w.offsetHeight,Zt=Math.max(we,Ce+(qe?H:0)+ft+ie),kn=Se+Zt;c.style.height=kn+"px"}else{const qe=U.length>0&&j===U[0].ref.current;c.style.top="0px";const Zt=Math.max(me,ee+w.offsetTop+(qe?te:0)+Ce)+De;c.style.height=Zt+"px",w.scrollTop=Se-me+w.offsetTop}c.style.margin=`${yi}px 0`,c.style.minHeight=B+"px",c.style.maxHeight=D+"px",r==null||r(),requestAnimationFrame(()=>x.current=!0)}},[g,a.trigger,a.valueNode,c,h,w,j,_,a.dir,r]);sr(()=>k(),[k]);const[C,R]=v.useState();sr(()=>{h&&R(window.getComputedStyle(h).zIndex)},[h]);const F=v.useCallback(M=>{M&&N.current===!0&&(k(),E==null||E(),N.current=!1)},[k,E]);return s.jsx(Gme,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:x,onScrollButtonChange:F,children:s.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:s.jsx(Ct.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});N3.displayName=Wme;var Kme="SelectPopperPosition",oj=v.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=yi,...a}=t,o=m0(n);return s.jsx(K4,{...o,...a,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});oj.displayName=Kme;var[Gme,iS]=jh(nu,{}),lj="SelectViewport",S3=v.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,a=Kl(lj,n),o=iS(lj,n),c=Kt(e,a.onViewportChange),d=v.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),s.jsx(d0.Slot,{scope:n,children:s.jsx(Ct.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Je(i.onScroll,h=>{const m=h.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:g}=o;if(g!=null&&g.current&&f){const x=Math.abs(d.current-m.scrollTop);if(x>0){const N=window.innerHeight-yi*2,w=parseFloat(f.style.minHeight),j=parseFloat(f.style.height),_=Math.max(w,j);if(_<N){const E=_+x,k=Math.min(N,E),C=E-k;f.style.height=k+"px",f.style.bottom==="0px"&&(m.scrollTop=C>0?C:0,f.style.justifyContent="flex-end")}}}d.current=m.scrollTop})})})]})});S3.displayName=lj;var E3="SelectGroup",[Qme,Yme]=jh(E3),Jme=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=eo();return s.jsx(Qme,{scope:n,id:i,children:s.jsx(Ct.div,{role:"group","aria-labelledby":i,...r,ref:e})})});Jme.displayName=E3;var C3="SelectLabel",k3=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Yme(C3,n);return s.jsx(Ct.div,{id:i.id,...r,ref:e})});k3.displayName=C3;var iy="SelectItem",[Xme,T3]=jh(iy),A3=v.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:a,...o}=t,c=Wl(iy,n),d=Kl(iy,n),h=c.value===r,[m,f]=v.useState(a??""),[g,x]=v.useState(!1),N=Kt(e,E=>{var k;return(k=d.itemRefCallback)==null?void 0:k.call(d,E,r,i)}),w=eo(),j=v.useRef("touch"),_=()=>{i||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(Xme,{scope:n,value:r,disabled:i,textId:w,isSelected:h,onItemTextChange:v.useCallback(E=>{f(k=>k||((E==null?void 0:E.textContent)??"").trim())},[]),children:s.jsx(d0.ItemSlot,{scope:n,value:r,disabled:i,textValue:m,children:s.jsx(Ct.div,{role:"option","aria-labelledby":w,"data-highlighted":g?"":void 0,"aria-selected":h&&g,"data-state":h?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:N,onFocus:Je(o.onFocus,()=>x(!0)),onBlur:Je(o.onBlur,()=>x(!1)),onClick:Je(o.onClick,()=>{j.current!=="mouse"&&_()}),onPointerUp:Je(o.onPointerUp,()=>{j.current==="mouse"&&_()}),onPointerDown:Je(o.onPointerDown,E=>{j.current=E.pointerType}),onPointerMove:Je(o.onPointerMove,E=>{var k;j.current=E.pointerType,i?(k=d.onItemLeave)==null||k.call(d):j.current==="mouse"&&E.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Je(o.onPointerLeave,E=>{var k;E.currentTarget===document.activeElement&&((k=d.onItemLeave)==null||k.call(d))}),onKeyDown:Je(o.onKeyDown,E=>{var C;((C=d.searchRef)==null?void 0:C.current)!==""&&E.key===" "||(Lme.includes(E.key)&&_(),E.key===" "&&E.preventDefault())})})})})});A3.displayName=iy;var km="SelectItemText",I3=v.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...a}=t,o=Wl(km,n),c=Kl(km,n),d=T3(km,n),h=zme(km,n),[m,f]=v.useState(null),g=Kt(e,_=>f(_),d.onItemTextChange,_=>{var E;return(E=c.itemTextRefCallback)==null?void 0:E.call(c,_,d.value,d.disabled)}),x=m==null?void 0:m.textContent,N=v.useMemo(()=>s.jsx("option",{value:d.value,disabled:d.disabled,children:x},d.value),[d.disabled,d.value,x]),{onNativeOptionAdd:w,onNativeOptionRemove:j}=h;return sr(()=>(w(N),()=>j(N)),[w,j,N]),s.jsxs(s.Fragment,{children:[s.jsx(Ct.span,{id:d.textId,...a,ref:g}),d.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Rf.createPortal(a.children,o.valueNode):null]})});I3.displayName=km;var R3="SelectItemIndicator",P3=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return T3(R3,n).isSelected?s.jsx(Ct.span,{"aria-hidden":!0,...r,ref:e}):null});P3.displayName=R3;var cj="SelectScrollUpButton",D3=v.forwardRef((t,e)=>{const n=Kl(cj,t.__scopeSelect),r=iS(cj,t.__scopeSelect),[i,a]=v.useState(!1),o=Kt(e,r.onScrollButtonChange);return sr(()=>{if(n.viewport&&n.isPositioned){let c=function(){const h=d.scrollTop>0;a(h)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),i?s.jsx(O3,{...t,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});D3.displayName=cj;var uj="SelectScrollDownButton",M3=v.forwardRef((t,e)=>{const n=Kl(uj,t.__scopeSelect),r=iS(uj,t.__scopeSelect),[i,a]=v.useState(!1),o=Kt(e,r.onScrollButtonChange);return sr(()=>{if(n.viewport&&n.isPositioned){let c=function(){const h=d.scrollHeight-d.clientHeight,m=Math.ceil(d.scrollTop)<h;a(m)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),i?s.jsx(O3,{...t,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});M3.displayName=uj;var O3=v.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,a=Kl("SelectScrollButton",n),o=v.useRef(null),c=h0(n),d=v.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return v.useEffect(()=>()=>d(),[d]),sr(()=>{var m;const h=c().find(f=>f.ref.current===document.activeElement);(m=h==null?void 0:h.ref.current)==null||m.scrollIntoView({block:"nearest"})},[c]),s.jsx(Ct.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Je(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Je(i.onPointerMove,()=>{var h;(h=a.onItemLeave)==null||h.call(a),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Je(i.onPointerLeave,()=>{d()})})}),Zme="SelectSeparator",L3=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return s.jsx(Ct.div,{"aria-hidden":!0,...r,ref:e})});L3.displayName=Zme;var dj="SelectArrow",efe=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=m0(n),a=Wl(dj,n),o=Kl(dj,n);return a.open&&o.position==="popper"?s.jsx(G4,{...i,...r,ref:e}):null});efe.displayName=dj;var tfe="SelectBubbleInput",F3=v.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=v.useRef(null),a=Kt(r,i),o=tS(e);return v.useEffect(()=>{const c=i.current;if(!c)return;const d=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(o!==e&&m){const f=new Event("change",{bubbles:!0});m.call(c,e),c.dispatchEvent(f)}},[o,e]),s.jsx(Ct.select,{...n,style:{...m3,...n.style},ref:a,defaultValue:e})});F3.displayName=tfe;function V3(t){return t===""||t===void 0}function U3(t){const e=Ni(t),n=v.useRef(""),r=v.useRef(0),i=v.useCallback(o=>{const c=n.current+o;e(c),(function d(h){n.current=h,window.clearTimeout(r.current),h!==""&&(r.current=window.setTimeout(()=>d(""),1e3))})(c)},[e]),a=v.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,a]}function z3(t,e,n){const i=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let o=nfe(t,Math.max(a,0));i.length===1&&(o=o.filter(h=>h!==n));const d=o.find(h=>h.textValue.toLowerCase().startsWith(i.toLowerCase()));return d!==n?d:void 0}function nfe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var rfe=f3,B3=g3,sfe=y3,ife=v3,afe=b3,$3=w3,ofe=S3,q3=k3,H3=A3,lfe=I3,cfe=P3,W3=D3,K3=M3,G3=L3;const Qt=rfe,Yt=sfe,qt=v.forwardRef(({className:t,children:e,...n},r)=>s.jsxs(B3,{ref:r,className:ct("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,s.jsx(ife,{asChild:!0,children:s.jsx(Qm,{className:"h-4 w-4 opacity-50"})})]}));qt.displayName=B3.displayName;const Q3=v.forwardRef(({className:t,...e},n)=>s.jsx(W3,{ref:n,className:ct("flex cursor-default items-center justify-center py-1",t),...e,children:s.jsx(PR,{className:"h-4 w-4"})}));Q3.displayName=W3.displayName;const Y3=v.forwardRef(({className:t,...e},n)=>s.jsx(K3,{ref:n,className:ct("flex cursor-default items-center justify-center py-1",t),...e,children:s.jsx(Qm,{className:"h-4 w-4"})}));Y3.displayName=K3.displayName;const Ht=v.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>s.jsx(afe,{children:s.jsxs($3,{ref:i,className:ct("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[s.jsx(Q3,{}),s.jsx(ofe,{className:ct("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),s.jsx(Y3,{})]})}));Ht.displayName=$3.displayName;const ufe=v.forwardRef(({className:t,...e},n)=>s.jsx(q3,{ref:n,className:ct("px-2 py-1.5 text-sm font-semibold",t),...e}));ufe.displayName=q3.displayName;const Re=v.forwardRef(({className:t,children:e,...n},r)=>s.jsxs(H3,{ref:r,className:ct("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[s.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(cfe,{children:s.jsx(Gm,{className:"h-4 w-4"})})}),s.jsx(lfe,{children:e})]}));Re.displayName=H3.displayName;const dfe=v.forwardRef(({className:t,...e},n)=>s.jsx(G3,{ref:n,className:ct("-mx-1 my-1 h-px bg-muted",t),...e}));dfe.displayName=G3.displayName;function J3(){const[t,e]=v.useState(!1),[n,r]=v.useState(null),[i,a]=v.useState(null),[o,c]=v.useState(null),[d,h]=v.useState("quran"),[m,f]=v.useState(!1),[g,x]=v.useState(null),[N,w]=v.useState(!1),[j,_]=v.useState(null),[E,k]=v.useState(0),[C,R]=v.useState(null);v.useEffect(()=>{F()},[]),v.useEffect(()=>{if(i&&g&&g.pause(),i){const D=new Audio(i);x(D),D.onended=()=>{f(!1)}}},[i,g]);const F=async()=>{try{if(!await yt.auth.isAuthenticated()){St.error("Please log in to record and share");return}const V=await yt.auth.me();_(V)}catch(D){console.error("Error loading user:",D),St.error("Failed to load user data.")}},M=async()=>{try{const D=await navigator.mediaDevices.getUserMedia({audio:!0}),V=new MediaRecorder(D),J=[];V.ondataavailable=re=>{J.push(re.data)},V.onstop=()=>{const re=new Blob(J,{type:"audio/webm"});r(re),a(URL.createObjectURL(re)),D.getTracks().forEach(ie=>ie.stop())},V.start(),c(V),e(!0),k(0);const ee=setInterval(()=>{k(re=>re+1)},1e3);R(ee),St.success("Recording started! ")}catch(D){console.error("Error accessing microphone:",D),St.error("Could not access microphone. Please check permissions.")}},P=()=>{o&&t&&(o.stop(),e(!1),C&&(clearInterval(C),R(null)),St.success("Recording stopped!"))},I=()=>{g&&(m?(g.pause(),f(!1)):(g.play(),f(!0)))},L=async()=>{if(!n||!j){St.error("Please record something first and make sure you're logged in");return}w(!0);try{const D=new File([n],`recording-${Date.now()}.webm`,{type:"audio/webm"}),{file_url:V}=await yt.integrations.Core.UploadFile({file:D});await yt.entities.Recording.create({user_id:j.id,user_name:j.full_name||j.email,user_email:j.email,recording_type:d,file_url:V,duration:Math.floor(E),status:"pending"});const J=j.points||0;await yt.auth.updateMe({points:J+10}),_({...j,points:J+10}),r(null),a(null),k(0),g&&(g.pause(),x(null),f(!1)),St.success(" Recording submitted! You earned 10 points!",{duration:5e3,description:"Your recording will be reviewed by our team. Keep up the great work!"});try{await yt.integrations.Core.SendEmail({from_name:"Islam Kids Zone",to:"huzaify786@gmail.com",subject:" New Audio Recording Submitted",body:`
            <div style="font-family: Arial, sans-serif; padding: 20px; background-color: #f3f4f6; border-radius: 10px;">
              <h2 style="color: #3B82F6;"> New Recording Submitted!</h2>
              <div style="background-color: white; padding: 20px; border-radius: 8px; margin-top: 20px;">
                <p><strong> Submitted by:</strong> ${j.full_name||j.email}</p>
                <p><strong> Email:</strong> ${j.email}</p>
                <p><strong> Type:</strong> ${d}</p>
                <p><strong> Duration:</strong> ${Math.floor(E/60)}:${String(E%60).padStart(2,"0")}</p>
                <p><strong> File URL:</strong> <a href="${V}">${V}</a></p>
                <p><strong> Points Awarded:</strong> 10 points</p>
                <p><strong> Submitted:</strong> ${new Date().toLocaleString()}</p>
              </div>
              <hr style="margin: 20px 0; border: none; border-top: 1px solid #e5e7eb;">
              <p style="color: #6b7280; font-size: 12px; text-align: center;">
                Please review this recording in the admin dashboard.
              </p>
            </div>
          `})}catch(ee){console.error("Error sending notification email:",ee),St.warning("Notification email to admin failed, but recording was submitted.")}}catch(D){console.error("Error uploading recording:",D),St.error("Failed to upload recording. Please try again.")}finally{w(!1)}},U=D=>{const V=Math.floor(D/60),J=D%60;return`${V}:${String(J).padStart(2,"0")}`};return j?s.jsx("div",{className:"min-h-screen py-8 px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs(ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Record & Share"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Share your beautiful Quran recitation, nasheed, or Islamic story"})]}),s.jsx(ne.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-8",children:s.jsx(se,{className:"border-4 border-amber-400 bg-gradient-to-r from-amber-50 to-yellow-50",children:s.jsx(ae,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-16 h-16 bg-amber-500 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx(Dd,{className:"w-8 h-8 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-2 flex items-center gap-2",children:[s.jsx(cn,{className:"w-6 h-6 text-amber-600 fill-amber-600"}),s.jsx("span",{children:"Earn 10 Points!"})]}),s.jsxs("p",{className:"text-gray-700 font-medium",children:["Submit a recording and earn ",s.jsx("strong",{children:"10 points"})," instantly! Your recordings help inspire other kids."]})]})]})})})}),s.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:s.jsx(se,{className:"bg-gradient-to-r from-blue-50 to-purple-50",children:s.jsx(ae,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Your Current Points"}),s.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[j.points||0," points"]})]}),s.jsx(cn,{className:"w-12 h-12 text-amber-500 fill-amber-500"})]})})})}),s.jsxs(se,{className:"mb-8",children:[s.jsx(Fe,{children:s.jsx(Ve,{children:"What would you like to record?"})}),s.jsx(ae,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[s.jsxs("button",{onClick:()=>h("quran"),className:`p-6 rounded-xl border-2 transition-all ${d==="quran"?"border-green-500 bg-green-50":"border-gray-200 hover:border-green-300"}`,children:[s.jsx(jn,{className:"w-8 h-8 mx-auto mb-3 text-green-600"}),s.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Quran Recitation"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Recite verses from the Quran"})]}),s.jsxs("button",{onClick:()=>h("nasheed"),className:`p-6 rounded-xl border-2 transition-all ${d==="nasheed"?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-purple-300"}`,children:[s.jsx(_w,{className:"w-8 h-8 mx-auto mb-3 text-purple-600"}),s.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Nasheed"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Sing an Islamic nasheed"})]}),s.jsxs("button",{onClick:()=>h("story"),className:`p-6 rounded-xl border-2 transition-all ${d==="story"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}`,children:[s.jsx(Vl,{className:"w-8 h-8 mx-auto mb-3 text-blue-600"}),s.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Islamic Story"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Tell an Islamic story"})]})]})})]}),s.jsxs(se,{className:"mb-8",children:[s.jsx(Fe,{children:s.jsx(Ve,{children:"Recording Studio"})}),s.jsx(ae,{children:s.jsxs("div",{className:"text-center space-y-6",children:[(t||n)&&s.jsx("div",{className:"text-4xl font-mono font-bold text-gray-900",children:U(E)}),!n&&s.jsx(ne.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:t?P:M,className:`w-24 h-24 rounded-full flex items-center justify-center transition-all shadow-xl ${t?"bg-red-500 hover:bg-red-600 animate-pulse":"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600"}`,"aria-label":t?"Stop Recording":"Start Recording",children:t?s.jsx(UR,{className:"w-10 h-10 text-white"}):s.jsx(Ym,{className:"w-10 h-10 text-white"})}),t&&s.jsx("p",{className:"text-red-500 font-semibold animate-pulse",children:" Recording in progress..."}),n&&s.jsxs("div",{className:"space-y-4",children:[s.jsx(_e,{className:"bg-green-500 text-white text-lg px-4 py-2",children:"Recording Complete! "}),s.jsxs("div",{className:"flex gap-4 justify-center",children:[s.jsx(G,{onClick:I,size:"lg",className:"bg-blue-600 hover:bg-blue-700","aria-label":m?"Pause Recording":"Play Recording",children:m?s.jsxs(s.Fragment,{children:[s.jsx(Fl,{className:"w-5 h-5 mr-2"}),"Pause"]}):s.jsxs(s.Fragment,{children:[s.jsx(dr,{className:"w-5 h-5 mr-2"}),"Play"]})}),s.jsx(G,{onClick:()=>{r(null),a(null),k(0),g&&(g.pause(),x(null),f(!1))},variant:"outline",size:"lg",children:"Record Again"})]}),s.jsx(G,{onClick:L,disabled:N,size:"lg",className:"w-full bg-gradient-to-r from-green-500 to-teal-500 hover:from-green-600 hover:to-teal-600 text-lg py-6",children:N?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Submitting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(_l,{className:"w-5 h-5 mr-2"}),"Submit & Earn 10 Points! "]})})]})]})})]}),s.jsxs(se,{className:"border-2 border-blue-200",children:[s.jsx(Fe,{className:"bg-gradient-to-r from-blue-50 to-purple-50",children:s.jsx(Ve,{children:"Recording Tips "})}),s.jsx(ae,{className:"pt-6",children:s.jsxs("ul",{className:"space-y-3 text-gray-700",children:[s.jsxs("li",{className:"flex gap-3",children:[s.jsx("span",{className:"text-blue-600 font-bold",children:"1."}),s.jsx("span",{children:"Find a quiet place with no background noise"})]}),s.jsxs("li",{className:"flex gap-3",children:[s.jsx("span",{className:"text-blue-600 font-bold",children:"2."}),s.jsx("span",{children:"Speak clearly and at a comfortable pace"})]}),s.jsxs("li",{className:"flex gap-3",children:[s.jsx("span",{className:"text-blue-600 font-bold",children:"3."}),s.jsx("span",{children:"Hold your device about 6 inches from your mouth"})]}),s.jsxs("li",{className:"flex gap-3",children:[s.jsx("span",{className:"text-blue-600 font-bold",children:"4."}),s.jsx("span",{children:"Take your time and do your best - it's okay to record again!"})]}),s.jsxs("li",{className:"flex gap-3",children:[s.jsx("span",{className:"text-green-600 font-bold",children:"5."}),s.jsxs("span",{children:["Submit your recording and earn ",s.jsx("strong",{children:"10 points"})," automatically! "]})]})]})})]})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:s.jsx(se,{className:"max-w-md",children:s.jsxs(ae,{className:"pt-6 text-center",children:[s.jsx(Ym,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Access Required"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Please email us to enable recording and sharing features."}),s.jsx(G,{onClick:()=>{const D=encodeURIComponent("Access Request - Record & Share"),V=encodeURIComponent("Hi, I'd like to enable recording features on Islam Kids Zone. My name is ____ and my contact details are ____.");window.location.href=`mailto:imediac786@gmail.com?subject=${D}&body=${V}`},children:"Email Us"})]})})})}function X3(){const[t,e]=v.useState(null),[n,r]=v.useState(!1),[i,a]=v.useState(!1),[o,c]=v.useState(null),[d,h]=v.useState(null),[m,f]=v.useState(!1),[g,x]=v.useState(!1),[N,w]=v.useState(""),j=v.useRef(null),_=v.useRef([]),E=v.useRef(null),k=v.useRef(null);v.useEffect(()=>{C(),R()},[]);const C=async()=>{try{if(await yt.auth.isAuthenticated()){const D=await yt.auth.me();e(D)}else e(null)}catch{e(null)}},R=()=>{try{const U=localStorage.getItem("siteSettings");if(U){const D=JSON.parse(U);w((D==null?void 0:D.recordingStudioText)||"Welcome to Islam Media Central Recording Studio. Please record Quran recitation, nasheeds, or Islamic messages with clarity and respect.")}else w("Welcome to Islam Media Central Recording Studio. Please record Quran recitation, nasheeds, or Islamic messages with clarity and respect.")}catch{w("Welcome to Islam Media Central Recording Studio. Please record Quran recitation, nasheeds, or Islamic messages with clarity and respect.")}},F=async()=>{try{a(!1);const U=await navigator.mediaDevices.getUserMedia({audio:!0}),D=new MediaRecorder(U);j.current=D,_.current=[],D.ondataavailable=V=>{V.data.size>0&&_.current.push(V.data)},D.onstop=()=>{const V=new Blob(_.current,{type:"audio/webm"});c(V);const J=URL.createObjectURL(V);h(J),U.getTracks().forEach(ee=>ee.stop())},E.current=Date.now(),D.start(),r(!0),St.success("Recording started")}catch(U){console.error("Error starting recording:",U),(U==null?void 0:U.name)==="NotAllowedError"&&a(!0),St.error("Could not access microphone. Please enable permissions.")}},M=()=>{j.current&&n&&(j.current.stop(),r(!1),St.success("Recording stopped"))},P=()=>{k.current&&d&&(k.current.currentTime=0,k.current.play())},I=()=>{c(null),h(null),_.current=[]},L=async()=>{if(!o){St.error("Please record audio first");return}if(!t){St.error("Please log in to submit your recording");return}f(!0);try{const U=E.current?Math.floor((Date.now()-E.current)/1e3):0,D=new File([o],`recording-${Date.now()}.webm`,{type:"audio/webm"}),{file_url:V}=await yt.integrations.Core.UploadFile({file:D}),J=await yt.entities.Recording.create({user_id:t.id,user_name:t.full_name||t.email,user_email:t.email,recording_type:"studio",file_url:V,duration:U,status:"pending"});let ee="imedia786@gmail.com";try{const re=localStorage.getItem("siteSettings");if(re){const ie=JSON.parse(re);ie!=null&&ie.supportEmail&&(ee=ie.supportEmail)}}catch{}await yt.integrations.Core.SendEmail({from_name:"Islam Media Central",to:ee,subject:" New Recording Submission",body:`
          <div style="font-family: Arial, sans-serif; max-width: 640px; margin: 0 auto; background: #ffffff; border-radius: 12px; overflow: hidden; border: 1px solid #e5e7eb;">
            <div style="padding: 24px; background: linear-gradient(135deg, #2563EB 0%, #60A5FA 100%); color: white;">
              <h2 style="margin: 0;">Islam Media Central Recording Studio</h2>
            </div>
            <div style="padding: 24px;">
              <p><strong>User:</strong> ${t.full_name||t.email}</p>
              <p><strong>Email:</strong> ${t.email}</p>
              <p><strong>Duration:</strong> ${Math.floor(U/60)}:${(U%60).toString().padStart(2,"0")} minutes</p>
              <p><strong>Recording ID:</strong> ${J.id}</p>
              <div style="margin: 16px 0; padding: 12px; background: #EFF6FF; border-left: 4px solid #2563EB;">
                <a href="${V}" style="display:inline-block;padding:10px 16px;background:#2563EB;color:#fff;border-radius:8px;text-decoration:none;font-weight:bold">Download & Listen</a>
                <p style="margin-top:8px;font-size:12px;color:#6B7280">Direct link: ${V}</p>
              </div>
            </div>
          </div>
        `}),x(!0),St.success("Recording submitted successfully"),setTimeout(()=>{I(),x(!1)},2500)}catch(U){console.error("Error submitting recording:",U),St.error("Failed to submit recording")}finally{f(!1)}};return s.jsx("div",{className:"min-h-screen py-10 px-4 bg-gradient-to-br from-blue-50 to-white",children:s.jsxs("div",{className:"max-w-3xl mx-auto",children:[s.jsxs(ne.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("div",{className:"text-6xl mb-2",children:""}),s.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-blue-900",children:"Islam Media Central Recording Studio"}),s.jsx("p",{className:"text-blue-700",children:"Record directly in your browser and submit with one click."})]}),s.jsxs(se,{className:"mb-6 border-blue-200",children:[s.jsx(Fe,{className:"bg-blue-600 text-white",children:s.jsx(Ve,{children:"Instructions & Guidelines"})}),s.jsx(ae,{className:"p-5",children:s.jsx("div",{className:"prose max-w-none",children:s.jsx("p",{className:"text-gray-800 whitespace-pre-line",children:N})})})]}),s.jsxs(se,{className:"shadow-md border-blue-100",children:[s.jsx(Fe,{className:"bg-gradient-to-r from-blue-600 to-blue-500 text-white",children:s.jsxs(Ve,{className:"flex items-center gap-2",children:[s.jsx(Ym,{className:"w-5 h-5"})," Recording Controls"]})}),s.jsxs(ae,{className:"p-6",children:[i&&s.jsx("div",{className:"mb-4 p-3 rounded bg-red-50 text-red-700",children:"Microphone access denied. Please enable permissions in your browser settings."}),t?null:s.jsx("div",{className:"p-4 rounded bg-yellow-50 text-yellow-800 mb-4",children:"Please log in to submit recordings."}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsxs(G,{onClick:F,disabled:n,className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(Ym,{className:"w-4 h-4 mr-2"})," Start"]}),s.jsxs(G,{onClick:M,disabled:!n,variant:"outline",className:"border-blue-600 text-blue-600",children:[s.jsx(UR,{className:"w-4 h-4 mr-2"})," Stop"]}),s.jsxs(G,{onClick:P,disabled:!d,variant:"outline",className:"border-blue-600 text-blue-600",children:[s.jsx(dr,{className:"w-4 h-4 mr-2"})," Play"]}),s.jsxs(G,{onClick:L,disabled:!o||m||!t,className:"bg-green-600 hover:bg-green-700",children:[s.jsx(_l,{className:"w-4 h-4 mr-2"})," ",m?"Submitting...":"Submit"]})]}),s.jsx("div",{className:"mt-4",children:s.jsx("audio",{ref:k,src:d||void 0,controls:!0,className:"w-full"})}),g&&s.jsx(ne.div,{initial:{opacity:0},animate:{opacity:1},className:"mt-4 p-3 rounded bg-green-50 text-green-700",children:"Alhamdulillah! Your recording has been submitted."})]})]})]})})}function Z3(){const[t,e]=v.useState(null),[n,r]=v.useState(null),[i,a]=v.useState(""),[o,c]=v.useState(50),[d,h]=v.useState(""),m=si(),{data:f=[],isLoading:g}=Un({queryKey:["recordings"],queryFn:()=>yt.entities.Recording.list("-created_date"),initialData:[]}),x=Sn({mutationFn:({id:F,data:M})=>yt.entities.Recording.update(F,M),onSuccess:()=>{m.invalidateQueries({queryKey:["recordings"]}),r(null)}});v.useEffect(()=>{try{const F=localStorage.getItem("siteSettings");if(F){const M=JSON.parse(F);h((M==null?void 0:M.recordingStudioText)||"")}}catch{}},[]);const N=()=>{try{const F=localStorage.getItem("siteSettings"),P={...F?JSON.parse(F):{},recordingStudioText:d};localStorage.setItem("siteSettings",JSON.stringify(P)),alert("Recording Studio text saved")}catch{alert("Failed to save text")}},w=async F=>{try{await x.mutateAsync({id:F.id,data:{status:"approved",admin_notes:i,points_awarded:o}});const P=(await yt.entities.User.list()).find(I=>I.id===F.user_id);P&&await yt.auth.updateMe({points:(P.points||0)+o}),await yt.integrations.Core.SendEmail({from_name:"Islam Kids Zone",to:F.user_email,subject:" Your Recording Has Been Approved!",body:`
          <div style="font-family: Arial, sans-serif; padding: 20px; background-color: #f3f4f6; border-radius: 10px;">
            <h2 style="color: #10B981;"> Masha'Allah! Your Recording is Approved!</h2>
            <div style="background-color: white; padding: 20px; border-radius: 8px; margin-top: 20px;">
              <p>Assalamu Alaikum <strong>${F.user_name}</strong>,</p>
              <p>Great news! Your ${F.recording_type} recording has been approved and featured on our website!</p>
              <p><strong> You've earned ${o} points!</strong></p>
              ${i?`<p><strong> Feedback:</strong> ${i}</p>`:""}
              <p>Keep up the amazing work! We can't wait to hear more from you.</p>
              <p style="margin-top: 20px;">Jazakallahu Khayran,<br>Islam Kids Zone Team</p>
            </div>
          </div>
        `}),alert("Recording approved and user notified!")}catch(M){console.error("Error approving recording:",M),alert("Error approving recording")}},j=async F=>{try{await x.mutateAsync({id:F.id,data:{status:"rejected",admin_notes:i}}),F.user_email&&await yt.integrations.Core.SendEmail({from_name:"Islam Kids Zone",to:F.user_email,subject:" Update on Your Recording Submission",body:`
            <div style="font-family: Arial, sans-serif; padding: 20px; background-color: #f3f4f6; border-radius: 10px;">
              <h2 style="color: #3B82F6;">Update on Your Recording</h2>
              <div style="background-color: white; padding: 20px; border-radius: 8px; margin-top: 20px;">
                <p>Assalamu Alaikum <strong>${F.user_name}</strong>,</p>
                <p>Thank you for submitting your ${F.recording_type} recording!</p>
                ${i?`<p><strong> Feedback:</strong> ${i}</p>`:""}
                <p>Don't be discouraged! Please feel free to submit another recording. We're here to help you improve!</p>
                <p style="margin-top: 20px;">Jazakallahu Khayran,<br>Islam Kids Zone Team</p>
              </div>
            </div>
          `}),alert("Recording rejected and user notified!")}catch(M){console.error("Error rejecting recording:",M),alert("Error rejecting recording")}},_=async F=>{var M,P;if(confirm("Delete this recording permanently?"))try{(P=(M=yt==null?void 0:yt.entities)==null?void 0:M.Recording)!=null&&P.delete?await yt.entities.Recording.delete(F.id):await x.mutateAsync({id:F.id,data:{status:"deleted"}}),m.invalidateQueries({queryKey:["recordings"]}),alert("Recording deleted")}catch(I){console.error("Error deleting recording:",I),alert("Failed to delete recording")}},E=F=>new Date(F).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),k=F=>{const M=Math.floor(F/60),P=F%60;return`${M}:${P.toString().padStart(2,"0")}`},C={pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",featured:"bg-purple-100 text-purple-800",rejected:"bg-red-100 text-red-800"},R={quran:"",nasheed:"",story:""};return s.jsx("div",{className:"min-h-screen py-12 px-4 bg-gradient-to-br from-blue-50 to-purple-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Recording Submissions"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Review and manage student recordings"})]}),s.jsxs(se,{className:"mb-8",children:[s.jsx(Fe,{children:s.jsx(Ve,{children:"Recording Studio Page Text"})}),s.jsxs(ae,{className:"space-y-3",children:[s.jsx(Rn,{value:d,onChange:F=>h(F.target.value),className:"min-h-[120px]",placeholder:"Write instructions, motivational messages, or Quran/Nasheed guidelines for users..."}),s.jsx("div",{className:"flex gap-2",children:s.jsx(G,{onClick:N,className:"bg-blue-600 hover:bg-blue-700",children:"Save Text"})}),s.jsx("p",{className:"text-xs text-gray-500",children:"This text appears at the top of the Recording Studio page."})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsx(se,{children:s.jsxs(ae,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl mb-2",children:""}),s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:f.length}),s.jsx("div",{className:"text-sm text-gray-500",children:"Total Submissions"})]})}),s.jsx(se,{children:s.jsxs(ae,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl mb-2",children:""}),s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:f.filter(F=>F.status==="pending").length}),s.jsx("div",{className:"text-sm text-gray-500",children:"Pending Review"})]})}),s.jsx(se,{children:s.jsxs(ae,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl mb-2",children:""}),s.jsx("div",{className:"text-2xl font-bold text-green-600",children:f.filter(F=>F.status==="approved"||F.status==="featured").length}),s.jsx("div",{className:"text-sm text-gray-500",children:"Approved"})]})}),s.jsx(se,{children:s.jsxs(ae,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl mb-2",children:""}),s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:f.filter(F=>F.status==="featured").length}),s.jsx("div",{className:"text-sm text-gray-500",children:"Featured"})]})})]}),g?s.jsx("div",{className:"text-center py-12 text-gray-500",children:"Loading recordings..."}):f.length===0?s.jsx(se,{children:s.jsxs(ae,{className:"p-12 text-center",children:[s.jsx(Ym,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),s.jsx("p",{className:"text-gray-500",children:"No recordings submitted yet"})]})}):s.jsx("div",{className:"space-y-4",children:f.map((F,M)=>s.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:M*.05},children:s.jsx(se,{className:"hover:shadow-lg transition-all duration-300",children:s.jsx(ae,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"text-5xl",children:R[F.recording_type]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:[F.recording_type.charAt(0).toUpperCase()+F.recording_type.slice(1)," Recording"]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-gray-500",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(zR,{className:"w-4 h-4"}),F.user_name]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(hl,{className:"w-4 h-4"}),k(F.duration)]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(hy,{className:"w-4 h-4"}),E(F.created_date)]})]})]}),s.jsx(_e,{className:C[F.status],children:F.status})]}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-3",children:s.jsx("audio",{controls:!0,src:F.file_url,className:"w-full"})}),s.jsx("div",{className:"mb-3",children:s.jsxs("a",{href:F.file_url,download:!0,className:"text-blue-600 hover:text-blue-700 text-sm flex items-center gap-2",children:[s.jsx(xo,{className:"w-4 h-4"}),"Download Recording"]})}),F.admin_notes&&s.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-3 mb-3",children:s.jsxs("p",{className:"text-sm text-blue-900",children:[s.jsx("strong",{children:"Admin Notes:"})," ",F.admin_notes]})}),F.status==="pending"&&s.jsx("div",{className:"space-y-3",children:(n==null?void 0:n.id)===F.id?s.jsxs("div",{className:"space-y-3 border-t pt-3",children:[s.jsx(Rn,{placeholder:"Add feedback or notes...",value:i,onChange:P=>a(P.target.value),className:"min-h-[80px]"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Points to Award:"}),s.jsx(Te,{type:"number",value:o,onChange:P=>c(parseInt(P.target.value)||0),className:"w-24"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(G,{onClick:()=>w(F),className:"bg-green-600 hover:bg-green-700",children:[s.jsx(Bc,{className:"w-4 h-4 mr-2"}),"Approve & Award Points"]}),s.jsxs(G,{onClick:()=>j(F),variant:"destructive",children:[s.jsx(my,{className:"w-4 h-4 mr-2"}),"Reject"]}),s.jsx(G,{onClick:()=>{r(null),a(""),c(50)},variant:"outline",children:"Cancel"})]})]}):s.jsx(G,{onClick:()=>r(F),variant:"outline",className:"w-full",children:"Review & Take Action"})}),s.jsx("div",{className:"mt-3",children:s.jsxs(G,{onClick:()=>_(F),variant:"destructive",children:[s.jsx(hr,{className:"w-4 h-4 mr-2"})," Delete Recording"]})}),F.points_awarded>0&&s.jsxs("div",{className:"flex items-center gap-2 text-amber-600 font-semibold",children:[s.jsx(cn,{className:"w-5 h-5 fill-amber-500"}),F.points_awarded," points awarded"]})]})]})})})},F.id))})]})})}const hfe=[{id:"coloring",title:"Colouring Pages",description:"Print or colour online: mosques, Ka'bah, Islamic patterns",icon:py,color:"from-pink-500 to-rose-500",emoji:"",link:"ColoringPages"},{id:"drawing",title:"Islamic Art Board",description:"Digital drawing pad for Islamic art and calligraphy",icon:FB,color:"from-purple-500 to-violet-500",emoji:"",link:"DrawingBoard"},{id:"writing",title:"Poem & Nasheed Writing",description:"Write and submit your Islamic poems and nasheeds",icon:Sj,color:"from-blue-500 to-cyan-500",emoji:"",link:"PoetryWriting"},{id:"contest",title:"Monthly Contest",description:"Win prizes for best story, drawing, or recitation!",icon:Kr,color:"from-amber-500 to-orange-500",emoji:"",link:"MonthlyContest"}];function eF(){return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Creative Corner"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Express your creativity through Islamic art, poetry, and more!"})]}),s.jsx(ne.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-12",children:s.jsx(se,{className:"border-4 border-amber-400 shadow-2xl overflow-hidden",children:s.jsxs("div",{className:"bg-gradient-to-r from-amber-500 via-orange-500 to-red-500 p-8 text-white text-center",children:[s.jsx(Kr,{className:"w-16 h-16 mx-auto mb-4"}),s.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Monthly Creative Contest!"}),s.jsx("p",{className:"text-xl mb-4",children:"Submit your best work and win amazing prizes! "}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[s.jsx("div",{className:"bg-white/20 px-4 py-2 rounded-full",children:" Best Drawing"}),s.jsx("div",{className:"bg-white/20 px-4 py-2 rounded-full",children:" Best Story"}),s.jsx("div",{className:"bg-white/20 px-4 py-2 rounded-full",children:" Best Recitation"})]})]})})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:hfe.map((t,e)=>{const n=t.icon;return s.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:e*.1},children:s.jsx(Rt,{to:rt(t.link),children:s.jsxs(se,{className:"h-full hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 cursor-pointer group overflow-hidden border-2 hover:border-blue-300",children:[s.jsx(Fe,{className:`bg-gradient-to-br ${t.color} text-white pb-6`,children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ne.div,{whileHover:{scale:1.1,rotate:5},className:"text-6xl",children:t.emoji}),s.jsxs("div",{children:[s.jsx(Ve,{className:"text-2xl mb-2",children:t.title}),s.jsx("p",{className:"text-sm text-white/90",children:t.description})]})]})}),s.jsx(ae,{className:"p-6",children:s.jsxs(G,{className:"w-full bg-white text-gray-900 hover:bg-gray-100 border-2 border-gray-200 group-hover:border-blue-500 transition-all",children:[s.jsx(n,{className:"w-5 h-5 mr-2"}),"Start Creating"]})})]})})},t.id)})}),s.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"mt-12",children:s.jsx(se,{className:"border-2 border-purple-200 bg-gradient-to-r from-purple-50 to-pink-50",children:s.jsxs(ae,{className:"p-8",children:[s.jsxs("h3",{className:"text-2xl font-bold text-purple-900 mb-4 flex items-center gap-2",children:[s.jsx(_i,{className:"w-6 h-6"}),"Creative Tips"]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-purple-800",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsx("p",{children:"Be original and express your unique creativity"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsx("p",{children:"Start with Bismillah before creating"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsx("p",{children:"Use bright colours and Islamic patterns"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsx("p",{children:"Create with love for Allah and Islam"})]})]})]})})})]})})}const mfe=[{id:"encyclopedia",title:"Islamic Encyclopedia",description:"Learn about prophets, angels, and Islamic months",icon:jn,color:"from-blue-500 to-cyan-500",emoji:"",link:"IslamicEncyclopedia"},{id:"tafsir",title:"Audio Tafsir for Kids",description:"Easy explanations of short surahs",icon:Od,color:"from-green-500 to-teal-500",emoji:"",link:"AudioTafsir"},{id:"facts",title:"Did You Know?",description:"Fun and amazing Islamic facts",icon:pB,color:"from-amber-500 to-orange-500",emoji:"",link:"IslamicFacts"},{id:"worksheets",title:"Printable Worksheets",description:"Quran tracing, matching activities & more",icon:Sj,color:"from-purple-500 to-pink-500",emoji:"",link:"Worksheets"}],ffe=[{title:"25 Prophets",icon:Vl,count:"25 stories"},{title:"Islamic Months",icon:hy,count:"12 months"},{title:"99 Names of Allah",icon:cn,count:"Learn all"}];function tF(){return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Learning Library"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Explore Islamic knowledge through engaging resources and materials"})]}),s.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-12",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:ffe.map((t,e)=>{const n=t.icon;return s.jsx(ne.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:e*.1},children:s.jsx(se,{className:"bg-gradient-to-br from-blue-500 to-purple-500 text-white hover:shadow-xl transition-all duration-300 cursor-pointer",children:s.jsxs(ae,{className:"p-6 text-center",children:[s.jsx(n,{className:"w-12 h-12 mx-auto mb-3"}),s.jsx("h3",{className:"text-xl font-bold mb-1",children:t.title}),s.jsx("p",{className:"text-sm text-blue-100",children:t.count})]})})},t.title)})})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12",children:mfe.map((t,e)=>{const n=t.icon;return s.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:e*.1+.3},children:s.jsx(Rt,{to:rt(t.link),children:s.jsxs(se,{className:"h-full hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 cursor-pointer group overflow-hidden border-2 hover:border-green-300",children:[s.jsx(Fe,{className:`bg-gradient-to-br ${t.color} text-white pb-6`,children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ne.div,{whileHover:{scale:1.1,rotate:5},className:"text-6xl",children:t.emoji}),s.jsxs("div",{children:[s.jsx(Ve,{className:"text-2xl mb-2",children:t.title}),s.jsx("p",{className:"text-sm text-white/90",children:t.description})]})]})}),s.jsx(ae,{className:"p-6",children:s.jsxs(G,{className:"w-full bg-white text-gray-900 hover:bg-gray-100 border-2 border-gray-200 group-hover:border-green-500 transition-all",children:[s.jsx(n,{className:"w-5 h-5 mr-2"}),"Explore Now"]})})]})})},t.id)})}),s.jsx(ne.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.7},children:s.jsx(se,{className:"border-4 border-green-400 shadow-2xl bg-gradient-to-r from-green-50 to-teal-50",children:s.jsxs(ae,{className:"p-8 text-center",children:[s.jsx(jn,{className:"w-16 h-16 mx-auto mb-4 text-green-600"}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-3",children:'"Seek knowledge from the cradle to the grave"'}),s.jsx("p",{className:"text-lg text-gray-700 mb-4",children:"- Prophet Muhammad "}),s.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Our learning library is designed to make Islamic education easy, fun, and engaging for young learners."})]})})})]})})}const pfe=[{id:1,title:"Kaaba",url:"https://images.unsplash.com/photo-1591604129939-f1efa4d9f7fa?w=800&h=800&fit=crop",description:"Color the Holy Kaaba"},{id:2,title:"Mosque",url:"https://images.unsplash.com/photo-1564769625905-50e93615e769?w=800&h=800&fit=crop",description:"Beautiful mosque design"},{id:3,title:"Islamic Pattern",url:"https://images.unsplash.com/photo-1583578702627-7c1e0618f0c4?w=800&h=800&fit=crop",description:"Geometric Islamic art"},{id:4,title:"Crescent Moon",url:"https://images.unsplash.com/photo-1532693322450-2cb5c511067d?w=800&h=800&fit=crop",description:"Islamic symbol"},{id:5,title:"Arabic Calligraphy",url:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=800&h=800&fit=crop",description:"Beautiful Arabic writing"},{id:6,title:"Lantern",url:"https://images.unsplash.com/photo-1586991879365-a8759d239cf1?w=800&h=800&fit=crop",description:"Ramadan lantern"}],gfe=({page:t,onClose:e})=>{const n=v.useRef(null),[r,i]=v.useState(!1),[a,o]=v.useState("#000000"),[c,d]=v.useState(5),[h,m]=v.useState(!1),f=["#000000","#FFFFFF","#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF","#FFA500","#800080","#FFC0CB","#8B4513","#808080","#FFD700","#40E0D0"];v.useEffect(()=>{const _=n.current;if(!_)return;const E=_.getContext("2d"),k=new Image;k.crossOrigin="anonymous",k.onload=()=>{_.width=800,_.height=800,E.fillStyle="#FFFFFF",E.fillRect(0,0,_.width,_.height),E.drawImage(k,0,0,_.width,_.height);const C=E.getImageData(0,0,_.width,_.height),R=C.data;for(let F=0;F<R.length;F+=4){const M=(R[F]+R[F+1]+R[F+2])/3;R[F]=M,R[F+1]=M,R[F+2]=M}E.putImageData(C,0,0),m(!0)},k.onerror=()=>{_.width=800,_.height=800,E.fillStyle="#FFFFFF",E.fillRect(0,0,_.width,_.height),E.strokeStyle="#000000",E.lineWidth=2,E.strokeRect(50,50,700,700),E.font="24px Arial",E.fillStyle="#000000",E.textAlign="center",E.fillText(t.title,_.width/2,_.height/2),m(!0)},k.src=t.url},[t]);const g=_=>{h&&(i(!0),N(_))},x=()=>{i(!1)},N=_=>{if(!r&&_.type!=="mousedown"&&_.type!=="touchstart"||!h)return;const E=n.current,k=E.getContext("2d"),C=E.getBoundingClientRect();let R,F;if(_.type.includes("touch")){const I=_.touches[0]||_.changedTouches[0];R=I.clientX-C.left,F=I.clientY-C.top}else R=_.clientX-C.left,F=_.clientY-C.top;const M=E.width/C.width,P=E.height/C.height;R*=M,F*=P,k.lineCap="round",k.lineJoin="round",k.strokeStyle=a,k.lineWidth=c,_.type==="mousedown"||_.type==="touchstart"?(k.beginPath(),k.moveTo(R,F)):(k.lineTo(R,F),k.stroke())},w=()=>{const _=n.current,E=_.getContext("2d"),k=new Image;k.crossOrigin="anonymous",k.onload=()=>{E.fillStyle="#FFFFFF",E.fillRect(0,0,_.width,_.height),E.drawImage(k,0,0,_.width,_.height);const C=E.getImageData(0,0,_.width,_.height),R=C.data;for(let F=0;F<R.length;F+=4){const M=(R[F]+R[F+1]+R[F+2])/3;R[F]=M,R[F+1]=M,R[F+2]=M}E.putImageData(C,0,0)},k.src=t.url},j=()=>{const _=n.current,E=document.createElement("a");E.download=`${t.title}-colored.png`,E.href=_.toDataURL(),E.click()};return s.jsx(ne.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:e,children:s.jsxs(ne.div,{initial:{scale:.9},animate:{scale:1},onClick:_=>_.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl max-w-6xl w-full max-h-[95vh] overflow-y-auto",children:[s.jsx("div",{className:"sticky top-0 bg-white border-b p-4 z-10",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h2",{className:"text-2xl font-bold",children:["Color: ",t.title]}),s.jsx(G,{variant:"ghost",onClick:e,children:"Close"})]})}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"grid md:grid-cols-[1fr,200px] gap-6",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("canvas",{ref:n,onMouseDown:g,onMouseMove:N,onMouseUp:x,onMouseLeave:x,onTouchStart:g,onTouchMove:N,onTouchEnd:x,className:"border-4 border-gray-300 rounded-lg cursor-crosshair max-w-full touch-none",style:{width:"100%",maxWidth:"600px",height:"auto",aspectRatio:"1/1"}}),!h&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("div",{className:"text-gray-500",children:"Loading..."})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-bold mb-3 flex items-center gap-2",children:[s.jsx(py,{className:"w-5 h-5"}),"Colors"]}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:f.map(_=>s.jsx("button",{onClick:()=>o(_),className:`w-full h-12 rounded-lg border-4 transition-all ${a===_?"border-blue-500 scale-110":"border-gray-300"}`,style:{backgroundColor:_},title:_},_))}),s.jsx("input",{type:"color",value:a,onChange:_=>o(_.target.value),className:"w-full h-12 mt-2 rounded-lg cursor-pointer"})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-bold mb-3 flex items-center gap-2",children:[s.jsx(DB,{className:"w-5 h-5"}),"Brush Size"]}),s.jsx("input",{type:"range",min:"1",max:"50",value:c,onChange:_=>d(parseInt(_.target.value)),className:"w-full"}),s.jsxs("p",{className:"text-center text-sm text-gray-600 mt-2",children:[c,"px"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(G,{onClick:w,variant:"outline",className:"w-full",children:[s.jsx(hr,{className:"w-4 h-4 mr-2"}),"Clear"]}),s.jsxs(G,{onClick:j,className:"w-full bg-green-600 hover:bg-green-700",children:[s.jsx(xo,{className:"w-4 h-4 mr-2"}),"Download"]})]})]})]})})]})})};function nF(){const[t,e]=v.useState(null);return s.jsxs("div",{className:"min-h-screen py-12 px-4",children:[s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs(ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Islamic Coloring Pages"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Color beautiful Islamic designs online or download to print"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:pfe.map((n,r)=>s.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:r*.1},children:s.jsxs(se,{className:"hover:shadow-2xl transition-all duration-300 cursor-pointer group",children:[s.jsx(Fe,{className:"p-0",children:s.jsx("div",{className:"h-64 bg-gradient-to-br from-blue-100 to-purple-100 rounded-t-xl overflow-hidden",children:s.jsx("img",{src:n.url,alt:n.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"})})}),s.jsxs(ae,{className:"p-6",children:[s.jsx(Ve,{className:"text-xl mb-2",children:n.title}),s.jsx("p",{className:"text-gray-600 mb-4",children:n.description}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(G,{onClick:()=>e(n),className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-500",children:[s.jsx(py,{className:"w-4 h-4 mr-2"}),"Color Online"]}),s.jsx(G,{onClick:()=>{const i=document.createElement("a");i.href=n.url,i.download=`${n.title}.jpg`,i.click()},variant:"outline",children:s.jsx(xo,{className:"w-4 h-4"})})]})]})]})},n.id))}),s.jsx(se,{className:"mt-12 bg-blue-50 border-blue-200",children:s.jsxs(ae,{className:"p-6",children:[s.jsx("h3",{className:"font-bold text-lg mb-3",children:" How to Use"}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[s.jsxs("p",{children:["1. ",s.jsx("strong",{children:"Color Online:"}),' Click "Color Online" to use our digital coloring tool']}),s.jsxs("p",{children:["2. ",s.jsx("strong",{children:"Download:"})," Click the download icon to print and color with crayons"]}),s.jsxs("p",{children:["3. ",s.jsx("strong",{children:"Save Your Work:"}),' After coloring online, click "Download" to save your artwork']}),s.jsxs("p",{children:["4. ",s.jsx("strong",{children:"Tips:"})," Use different brush sizes for details and filling large areas"]})]})]})})]}),t&&s.jsx(gfe,{page:t,onClose:()=>e(null)})]})}const xfe=["#000000","#FFFFFF","#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF","#FFA500","#800080","#FFC0CB","#A52A2A","#808080","#FFD700","#4B0082"],yfe=[2,5,10,15,20];function rF(){const t=v.useRef(null),[e,n]=v.useState(!1),[r,i]=v.useState("#000000"),[a,o]=v.useState(5),[c,d]=v.useState(!1);v.useEffect(()=>{const N=t.current;if(N){const w=N.getContext("2d");w.fillStyle="#FFFFFF",w.fillRect(0,0,N.width,N.height)}},[]);const h=N=>{const w=t.current,j=w.getContext("2d"),_=w.getBoundingClientRect(),E=N.clientX-_.left,k=N.clientY-_.top;j.beginPath(),j.moveTo(E,k),n(!0)},m=N=>{if(!e)return;const w=t.current,j=w.getContext("2d"),_=w.getBoundingClientRect(),E=N.clientX-_.left,k=N.clientY-_.top;j.lineTo(E,k),j.strokeStyle=c?"#FFFFFF":r,j.lineWidth=a,j.lineCap="round",j.stroke()},f=()=>{n(!1)},g=()=>{const N=t.current,w=N.getContext("2d");w.fillStyle="#FFFFFF",w.fillRect(0,0,N.width,N.height)},x=()=>{const w=t.current.toDataURL("image/png"),j=document.createElement("a");j.download="islamic-art.png",j.href=w,j.click()};return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs(ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Islamic Art Drawing Board"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Create beautiful Islamic art and calligraphy!"})]}),s.jsxs("div",{className:"grid lg:grid-cols-4 gap-6",children:[s.jsxs(se,{className:"lg:col-span-1",children:[s.jsx(Fe,{children:s.jsx(Ve,{className:"text-lg",children:"Tools"})}),s.jsxs(ae,{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-3",children:"Colors"}),s.jsx("div",{className:"grid grid-cols-5 gap-2",children:xfe.map(N=>s.jsx("button",{onClick:()=>{i(N),d(!1)},className:`w-10 h-10 rounded-lg border-2 transition-all ${r===N&&!c?"border-blue-500 scale-110":"border-gray-300"}`,style:{backgroundColor:N}},N))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-3",children:"Brush Size"}),s.jsx("div",{className:"flex gap-2",children:yfe.map(N=>s.jsx("button",{onClick:()=>o(N),className:`px-3 py-2 rounded-lg border-2 transition-all ${a===N?"border-blue-500 bg-blue-50":"border-gray-300"}`,children:N},N))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(G,{onClick:()=>d(!c),variant:c?"default":"outline",className:"w-full",children:[s.jsx(Kz,{className:"w-4 h-4 mr-2"}),"Eraser"]}),s.jsxs(G,{onClick:g,variant:"outline",className:"w-full",children:[s.jsx(hr,{className:"w-4 h-4 mr-2"}),"Clear All"]}),s.jsxs(G,{onClick:x,className:"w-full bg-green-600 hover:bg-green-700",children:[s.jsx(xo,{className:"w-4 h-4 mr-2"}),"Save Art"]})]})]})]}),s.jsxs("div",{className:"lg:col-span-3",children:[s.jsx(se,{children:s.jsx(ae,{className:"p-6",children:s.jsx("canvas",{ref:t,width:800,height:600,onMouseDown:h,onMouseMove:m,onMouseUp:f,onMouseLeave:f,className:"border-2 border-gray-300 rounded-lg cursor-crosshair w-full",style:{maxWidth:"100%",height:"auto"}})})}),s.jsx(ne.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"mt-6",children:s.jsx(se,{className:"border-2 border-purple-200 bg-purple-50",children:s.jsxs(ae,{className:"p-4",children:[s.jsxs("h3",{className:"font-bold text-purple-900 mb-2 flex items-center gap-2",children:[s.jsx(_i,{className:"w-5 h-5"}),"Drawing Tips"]}),s.jsxs("ul",{className:"text-sm text-purple-800 space-y-1",children:[s.jsx("li",{children:" Try drawing Islamic geometric patterns"}),s.jsx("li",{children:" Practice Arabic calligraphy"}),s.jsx("li",{children:" Draw your favorite mosque"}),s.jsx("li",{children:" Save and share your artwork!"})]})]})})})]})]})]})})}function sF(){const[t,e]=v.useState({title:"",content:"",type:"poem"}),[n,r]=v.useState(!1),[i,a]=v.useState(!1),[o,c]=v.useState(null);v.useEffect(()=>{d()},[]);const d=async()=>{try{if(await base44.auth.isAuthenticated()){const f=await base44.auth.me();c(f)}else c(null)}catch{c(null)}},h=async m=>{if(m.preventDefault(),!o){alert("Please log in to submit your work!");return}r(!0);try{await base44.entities.Poetry.create({user_id:o.id,user_name:o.full_name||"Anonymous",title:t.title,content:t.content,type:t.type,status:"pending"}),await base44.integrations.Core.SendEmail({from_name:"Islam Kids Zone",to:"huzaify786@gmail.com",subject:` New ${t.type==="poem"?"Poem":"Nasheed"} Submission`,body:`
          <div style="font-family: Arial, sans-serif; padding: 20px;">
            <h2>New ${t.type==="poem"?"Poem":"Nasheed"} Submission</h2>
            <p><strong>Student:</strong> ${o.full_name||"Anonymous"}</p>
            <p><strong>Title:</strong> ${t.title}</p>
            <hr/>
            <pre style="background: #f5f5f5; padding: 15px; border-radius: 5px;">${t.content}</pre>
          </div>
        `}),a(!0),setTimeout(()=>{a(!1),e({title:"",content:"",type:"poem"})},5e3)}catch(f){console.error("Error submitting:",f),alert("Error submitting. Please try again.")}finally{r(!1)}};return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs(ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Write Islamic Poetry & Nasheeds"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Express your love for Islam through beautiful words!"})]}),i?s.jsx(ne.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},children:s.jsx(se,{className:"border-4 border-green-400 shadow-2xl",children:s.jsxs(ae,{className:"p-12 text-center",children:[s.jsx(Bc,{className:"w-24 h-24 text-green-500 mx-auto mb-6"}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Masha'Allah! "}),s.jsxs("p",{className:"text-xl text-gray-600",children:["Your ",t.type," has been submitted successfully!"]})]})})}):s.jsxs(se,{className:"shadow-2xl",children:[s.jsx(Fe,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white",children:s.jsxs(Ve,{className:"text-2xl flex items-center gap-2",children:[s.jsx(Sj,{className:"w-6 h-6"}),"Submit Your Work"]})}),s.jsxs(ae,{className:"p-8",children:[s.jsxs("form",{onSubmit:h,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(ye,{className:"text-gray-700 font-semibold mb-3 block",children:"What are you writing?"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("button",{type:"button",onClick:()=>e({...t,type:"poem"}),className:`flex-1 p-4 rounded-xl border-2 transition-all ${t.type==="poem"?"border-purple-500 bg-purple-50":"border-gray-300"}`,children:[s.jsx("div",{className:"text-3xl mb-2",children:""}),s.jsx("div",{className:"font-bold",children:"Islamic Poem"})]}),s.jsxs("button",{type:"button",onClick:()=>e({...t,type:"nasheed"}),className:`flex-1 p-4 rounded-xl border-2 transition-all ${t.type==="nasheed"?"border-purple-500 bg-purple-50":"border-gray-300"}`,children:[s.jsx("div",{className:"text-3xl mb-2",children:""}),s.jsx("div",{className:"font-bold",children:"Nasheed"})]})]})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"title",className:"text-gray-700 font-semibold",children:"Title *"}),s.jsx(Te,{id:"title",value:t.title,onChange:m=>e({...t,title:m.target.value}),placeholder:"Give your work a beautiful title...",required:!0,className:"mt-2"})]}),s.jsxs("div",{children:[s.jsxs(ye,{htmlFor:"content",className:"text-gray-700 font-semibold",children:["Your ",t.type==="poem"?"Poem":"Nasheed"," *"]}),s.jsx(Rn,{id:"content",value:t.content,onChange:m=>e({...t,content:m.target.value}),placeholder:"Write your beautiful words here...",required:!0,rows:12,className:"mt-2 font-mono"})]}),s.jsx(G,{type:"submit",disabled:n,className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-xl py-6",children:n?"Submitting...":s.jsxs(s.Fragment,{children:[s.jsx(vx,{className:"w-5 h-5 mr-2"}),"Submit for Review"]})})]}),s.jsxs("div",{className:"mt-6 bg-purple-50 rounded-xl p-4 border-2 border-purple-200",children:[s.jsxs("h3",{className:"font-bold text-purple-900 mb-2 flex items-center gap-2",children:[s.jsx(_i,{className:"w-5 h-5"}),"Writing Tips"]}),s.jsxs("ul",{className:"text-sm text-purple-800 space-y-1",children:[s.jsx("li",{children:" Start with Bismillah"}),s.jsx("li",{children:" Write from your heart about Islam"}),s.jsx("li",{children:" Check spelling and grammar"}),s.jsx("li",{children:" Be creative and original!"})]})]})]})]})]})})}const vfe=[{id:"story",title:"Best Story",emoji:"",prize:"Islamic Story Book Set",color:"from-blue-500 to-cyan-500"},{id:"drawing",title:"Best Drawing",emoji:"",prize:"Art Supplies Kit",color:"from-pink-500 to-rose-500"},{id:"recitation",title:"Best Recitation",emoji:"",prize:"Special Islamic Gift",color:"from-green-500 to-teal-500"},{id:"poem",title:"Best Poem/Nasheed",emoji:"",prize:"Featured on Website + Prize",color:"from-purple-500 to-violet-500"}];function iF(){return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs(ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx(ne.div,{animate:{rotate:[0,10,-10,0],scale:[1,1.2,1]},transition:{repeat:1/0,duration:3},className:"text-8xl mb-6",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Monthly Creative Contest"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Showcase your talents and win amazing prizes every month!"})]}),s.jsx(ne.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-12",children:s.jsx(se,{className:"border-4 border-amber-400 shadow-2xl bg-gradient-to-r from-amber-50 to-orange-50",children:s.jsxs(ae,{className:"p-8 text-center",children:[s.jsx(hy,{className:"w-16 h-16 mx-auto mb-4 text-amber-600"}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"December 2024 Contest"}),s.jsx("p",{className:"text-lg text-gray-700 mb-4",children:"Submit your entries before December 31st!"}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[s.jsxs("div",{className:"bg-white px-6 py-3 rounded-full shadow-lg",children:[s.jsx("span",{className:"font-bold text-amber-600",children:"Total Prizes:"})," 4 Winners"]}),s.jsxs("div",{className:"bg-white px-6 py-3 rounded-full shadow-lg",children:[s.jsx("span",{className:"font-bold text-amber-600",children:"Deadline:"})," Dec 31"]})]})]})})}),s.jsx("div",{className:"grid md:grid-cols-2 gap-6 mb-12",children:vfe.map((t,e)=>s.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:e*.1},children:s.jsxs(se,{className:"h-full hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 border-2",children:[s.jsx(Fe,{className:`bg-gradient-to-br ${t.color} text-white`,children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"text-6xl",children:t.emoji}),s.jsxs("div",{children:[s.jsx(Ve,{className:"text-2xl mb-2",children:t.title}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(MR,{className:"w-4 h-4"}),s.jsxs("span",{children:["Prize: ",t.prize]})]})]})]})}),s.jsx(ae,{className:"p-6",children:s.jsx(Rt,{to:rt(t.id==="story"?"Stories":t.id==="drawing"?"DrawingBoard":t.id==="recitation"?"RecordAndShare":"PoetryWriting"),children:s.jsx(G,{className:"w-full bg-gray-900 hover:bg-gray-800",children:"Submit Entry"})})})]})},t.id))}),s.jsxs(se,{className:"shadow-2xl border-2 border-blue-300",children:[s.jsx(Fe,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:s.jsxs(Ve,{className:"text-2xl flex items-center gap-2",children:[s.jsx(cn,{className:"w-6 h-6"}),"Contest Rules & Guidelines"]})}),s.jsx(ae,{className:"p-8",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg mb-4 text-blue-900",children:"How to Participate"}),s.jsxs("ul",{className:"space-y-2 text-gray-700",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-xl",children:""}),s.jsx("span",{children:"Create your best Islamic artwork, story, poem, or recitation"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-xl",children:""}),s.jsx("span",{children:"Submit before the monthly deadline"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-xl",children:""}),s.jsx("span",{children:"Winners announced at the start of each month"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-xl",children:""}),s.jsx("span",{children:"Prizes shipped to winners worldwide!"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg mb-4 text-purple-900",children:"Judging Criteria"}),s.jsxs("ul",{className:"space-y-2 text-gray-700",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-xl",children:""}),s.jsx("span",{children:"Originality and creativity"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-xl",children:""}),s.jsx("span",{children:"Islamic values and messages"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-xl",children:""}),s.jsx("span",{children:"Effort and presentation"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-xl",children:""}),s.jsx("span",{children:"Age-appropriate content"})]})]})]})]})})]}),s.jsx(ne.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-12",children:s.jsx(se,{className:"bg-gradient-to-r from-green-50 to-teal-50 border-2 border-green-300",children:s.jsxs(ae,{className:"p-8 text-center",children:[s.jsx(Dd,{className:"w-16 h-16 mx-auto mb-4 text-green-600"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Join Our Hall of Fame!"}),s.jsx("p",{className:"text-gray-700 max-w-2xl mx-auto",children:"All winners get featured on our website and receive special badges on their profiles. Start creating today and join the ranks of talented young Muslim artists!"})]})})})]})})}const bfe=[{id:"prophets",title:"25 Prophets",emoji:"",color:"from-blue-500 to-cyan-500",description:"Learn about all 25 prophets mentioned in the Quran"},{id:"angels",title:"Angels in Islam",emoji:"",color:"from-purple-500 to-pink-500",description:"Discover the angels and their important roles"},{id:"months",title:"Islamic Months",emoji:"",color:"from-green-500 to-teal-500",description:"Understand the 12 Islamic calendar months"},{id:"pillars",title:"5 Pillars of Islam",emoji:"",color:"from-amber-500 to-orange-500",description:"The foundation of Islamic practice"}],wfe=["Adam","Idris","Nuh (Noah)","Hud","Saleh","Ibrahim (Abraham)","Lut (Lot)","Ismail (Ishmael)","Ishaq (Isaac)","Yaqub (Jacob)","Yusuf (Joseph)","Ayyub (Job)","Shuaib","Musa (Moses)","Harun (Aaron)","Dhul-Kifl","Dawud (David)","Sulaiman (Solomon)","Ilyas (Elijah)","Al-Yasa (Elisha)","Yunus (Jonah)","Zakariya (Zechariah)","Yahya (John)","Isa (Jesus)","Muhammad "];function aF(){const[t,e]=v.useState(null);return t==="prophets"?s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx(G,{onClick:()=>e(null),variant:"outline",className:"mb-6",children:" Back to Encyclopedia"}),s.jsxs(se,{className:"shadow-2xl",children:[s.jsx(Fe,{className:"bg-gradient-to-r from-blue-500 to-cyan-500 text-white",children:s.jsxs(Ve,{className:"text-3xl flex items-center gap-3",children:[s.jsx(Vl,{className:"w-8 h-8"}),"The 25 Prophets in the Quran"]})}),s.jsx(ae,{className:"p-8",children:s.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:wfe.map((n,r)=>s.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:r*.05},children:s.jsx(se,{className:"hover:shadow-lg transition-all hover:-translate-y-1 cursor-pointer",children:s.jsx(ae,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-bold",children:r+1}),s.jsx("span",{className:"font-semibold text-gray-900",children:n})]})})})},n))})})]})]})}):s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Mini Islamic Encyclopedia"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Learn about prophets, angels, Islamic months, and more!"})]}),s.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:bfe.map((n,r)=>s.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:r*.1},children:s.jsxs(se,{onClick:()=>e(n.id),className:"h-full hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 cursor-pointer group",children:[s.jsx(Fe,{className:`bg-gradient-to-br ${n.color} text-white pb-6`,children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"text-6xl",children:n.emoji}),s.jsxs("div",{children:[s.jsx(Ve,{className:"text-2xl mb-2",children:n.title}),s.jsx("p",{className:"text-sm text-white/90",children:n.description})]})]})}),s.jsx(ae,{className:"p-6",children:s.jsxs(G,{className:"w-full bg-gray-900 hover:bg-gray-800 group-hover:scale-105 transition-transform",children:[s.jsx(jn,{className:"w-5 h-5 mr-2"}),"Explore Now"]})})]})},n.id))})]})})}const UI=[{id:1,surah:"Al-Fatiha",number:1,verses:7,duration:"8:30",mp3Url:"https://server8.mp3quran.net/afs/001.mp3",description:"The Opening - Learn the meaning of the most recited surah"},{id:2,surah:"Al-Ikhlas",number:112,verses:4,duration:"2:15",mp3Url:"https://server8.mp3quran.net/afs/112.mp3",description:"Sincerity - Understanding Allah's oneness"},{id:3,surah:"Al-Falaq",number:113,verses:5,duration:"1:50",mp3Url:"https://server8.mp3quran.net/afs/113.mp3",description:"The Daybreak - Seeking protection from evil"},{id:4,surah:"An-Nas",number:114,verses:6,duration:"1:40",mp3Url:"https://server8.mp3quran.net/afs/114.mp3",description:"Mankind - Protection from whispers"},{id:5,surah:"Al-Asr",number:103,verses:3,duration:"1:20",mp3Url:"https://server8.mp3quran.net/afs/103.mp3",description:"Time - The importance of faith and good deeds"},{id:6,surah:"Al-Kawthar",number:108,verses:3,duration:"1:15",mp3Url:"https://server8.mp3quran.net/afs/108.mp3",description:"Abundance - Allah's gift to the Prophet "}];function oF(){const[t,e]=v.useState(null),[n,r]=v.useState(.7),[i,a]=v.useState(!1),o=v.useRef({}),c=m=>{const f=o.current[m];if(Object.keys(o.current).forEach(g=>{g!==m.toString()&&o.current[g]&&o.current[g].pause()}),t===m)f.pause(),e(null);else{if(!f.src){const g=UI.find(x=>x.id===m);f.src=g.mp3Url}f.volume=i?0:n,f.play(),e(m)}f.onended=()=>{e(null)}},d=m=>{const f=parseFloat(m.target.value);r(f),a(f===0),Object.values(o.current).forEach(g=>{g&&(g.volume=f)})},h=()=>{const m=!i;a(m),Object.values(o.current).forEach(f=>{f&&(f.volume=m?0:n)})};return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs(ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Audio Tafsir for Kids"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Listen to recitations of short surahs"})]}),s.jsx(ne.div,{initial:{opacity:0},animate:{opacity:1},className:"mb-8 max-w-xs mx-auto",children:s.jsx(se,{className:"bg-gradient-to-r from-blue-50 to-purple-50",children:s.jsx(ae,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:h,className:"text-blue-600 hover:text-blue-700",children:i||n===0?s.jsx(Jm,{className:"w-6 h-6"}):s.jsx(Nl,{className:"w-6 h-6"})}),s.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:i?0:n,onChange:d,className:"flex-1 h-2 bg-blue-200 rounded-lg appearance-none cursor-pointer"}),s.jsxs("span",{className:"text-sm text-gray-600 w-12 text-right",children:[Math.round((i?0:n)*100),"%"]})]})})})}),s.jsx("div",{className:"grid gap-6",children:UI.map((m,f)=>s.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:f*.1},children:s.jsx(se,{className:"hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:s.jsxs(ae,{className:"p-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-4 md:gap-6",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-20 h-20 rounded-2xl bg-gradient-to-br from-green-500 to-teal-500 flex items-center justify-center text-white font-bold text-2xl",children:m.number})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-1",children:["Surah ",m.surah]}),s.jsx("p",{className:"text-gray-600 mb-2",children:m.description}),s.jsxs("div",{className:"flex gap-4 text-sm text-gray-500",children:[s.jsxs("span",{children:[" ",m.verses," verses"]}),s.jsxs("span",{children:[" ",m.duration]})]})]}),s.jsx(G,{onClick:()=>c(m.id),className:`${t===m.id?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"}`,children:t===m.id?s.jsxs(s.Fragment,{children:[s.jsx(Fl,{className:"w-5 h-5 mr-2"}),"Pause"]}):s.jsxs(s.Fragment,{children:[s.jsx(dr,{className:"w-5 h-5 mr-2"}),"Listen"]})})]}),s.jsx("audio",{ref:g=>o.current[m.id]=g,preload:"none"})]})})},m.id))}),s.jsx(ne.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-12",children:s.jsx(se,{className:"bg-gradient-to-r from-blue-50 to-purple-50 border-2 border-blue-300",children:s.jsxs(ae,{className:"p-8 text-center",children:[s.jsx(Od,{className:"w-16 h-16 mx-auto mb-4 text-blue-600"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"More Tafsir Lessons Coming Soon!"}),s.jsx("p",{className:"text-gray-700",children:"We're working on adding more surahs with simple, kid-friendly explanations."})]})})})]})})}const jfe=[{id:1,fact:"The Quran has 114 chapters (surahs) and over 6,000 verses!",emoji:"",category:"Quran"},{id:2,fact:"Muslims pray 5 times a day facing the Ka'bah in Mecca.",emoji:"",category:"Prayer"},{id:3,fact:"The month of Ramadan is when Muslims fast from sunrise to sunset.",emoji:"",category:"Ramadan"},{id:4,fact:"There are 25 prophets mentioned by name in the Quran.",emoji:"",category:"Prophets"},{id:5,fact:"Angel Jibreel (Gabriel) brought the Quran's revelations to Prophet Muhammad .",emoji:"",category:"Angels"},{id:6,fact:"Muslims greet each other with 'Assalamu Alaikum' which means 'Peace be upon you'.",emoji:"",category:"Manners"},{id:7,fact:"The Ka'bah was built by Prophet Ibrahim and his son Ismail (peace be upon them).",emoji:"",category:"History"},{id:8,fact:"Giving charity (Zakat) is one of the 5 pillars of Islam.",emoji:"",category:"Pillars"},{id:9,fact:"The Islamic calendar is based on the moon and has 12 months.",emoji:"",category:"Calendar"},{id:10,fact:"Prophet Muhammad  was known as 'Al-Amin' (The Trustworthy) even before prophethood.",emoji:"",category:"Seerah"}];function lF(){return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs(ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Did You Know?"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Fun and amazing Islamic facts for curious minds!"})]}),s.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:jfe.map((t,e)=>s.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:e*.1},children:s.jsx(se,{className:"h-full hover:shadow-xl transition-all duration-300 hover:-translate-y-1 border-2 border-amber-200 bg-gradient-to-br from-amber-50 to-orange-50",children:s.jsx(ae,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"text-5xl flex-shrink-0",children:t.emoji}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"mb-2",children:s.jsx("span",{className:"text-xs bg-amber-200 text-amber-800 px-3 py-1 rounded-full font-semibold",children:t.category})}),s.jsx("p",{className:"text-lg text-gray-800 leading-relaxed",children:t.fact})]})]})})})},t.id))}),s.jsx(ne.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-12",children:s.jsx(se,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white border-4 border-purple-300 shadow-2xl",children:s.jsxs(ae,{className:"p-8 text-center",children:[s.jsx(cn,{className:"w-16 h-16 mx-auto mb-4"}),s.jsx("h3",{className:"text-2xl font-bold mb-3",children:"Keep Learning Every Day!"}),s.jsx("p",{className:"text-lg",children:"Come back regularly to discover more amazing Islamic facts! "})]})})})]})})}const _fe=[{id:"quran_tracing_1",title:"Surah Al-Fatiha Tracing",category:"Quran Tracing",description:"Trace and learn Surah Al-Fatiha in Arabic",level:"Beginner",pages:3,fileUrl:"https://www.islamicfinder.org/islamic-content/",color:"from-green-500 to-teal-500",icon:""},{id:"arabic_alphabet",title:"Arabic Alphabet Workbook",category:"Arabic Learning",description:"Learn all 28 Arabic letters with tracing",level:"Beginner",pages:28,fileUrl:"https://www.arabicworksheets.com/",color:"from-blue-500 to-indigo-500",icon:""},{id:"99_names_coloring",title:"99 Names of Allah Coloring",category:"Coloring",description:"Color and memorize Allah's beautiful names",level:"All Ages",pages:10,fileUrl:"https://www.islamiccoloring.com/",color:"from-purple-500 to-pink-500",icon:""},{id:"prophet_stories",title:"Stories of Prophets Activity Book",category:"Seerah",description:"Activities and worksheets about Prophet stories",level:"Ages 7-12",pages:15,fileUrl:"https://www.islamicworksheets.net/",color:"from-amber-500 to-orange-500",icon:""},{id:"salah_guide",title:"How to Pray - Step by Step",category:"Fiqh",description:"Visual guide with pictures for each step of prayer",level:"All Ages",pages:8,fileUrl:"https://www.islamicposter.com/salah-guide",color:"from-rose-500 to-pink-500",icon:""},{id:"wudu_worksheet",title:"Wudu Step-by-Step Worksheet",category:"Fiqh",description:"Learn the steps of ablution with pictures",level:"Ages 5-10",pages:4,fileUrl:"https://www.muslimkidsactivities.com/",color:"from-cyan-500 to-blue-500",icon:""},{id:"dua_coloring",title:"Daily Duas Coloring Book",category:"Duas",description:"Beautiful duas with coloring illustrations",level:"Ages 5-10",pages:12,fileUrl:"https://www.islamickidsactivities.com/",color:"from-pink-500 to-purple-500",icon:""},{id:"hadith_matching",title:"Hadith Matching Game",category:"Hadith",description:"Match hadiths with their meanings",level:"Ages 8-12",pages:6,fileUrl:"https://www.hadithforkids.com/",color:"from-indigo-500 to-purple-500",icon:""},{id:"ramadan_activities",title:"Ramadan Activity Pack",category:"Special Occasions",description:"Fun activities for the blessed month",level:"All Ages",pages:20,fileUrl:"https://www.ramadanworksheets.com/",color:"from-amber-400 to-yellow-500",icon:""},{id:"hijri_calendar",title:"Islamic Months Learning Sheet",category:"General Knowledge",description:"Learn the names of Islamic months",level:"Ages 7-12",pages:4,fileUrl:"https://www.islamicmonths.com/",color:"from-gray-500 to-gray-700",icon:""},{id:"arabic_numbers",title:"Arabic Numbers Worksheet",category:"Arabic Learning",description:"Learn to write numbers 1-20 in Arabic",level:"Beginner",pages:5,fileUrl:"https://www.arabicnumbers.com/",color:"from-blue-400 to-cyan-500",icon:""},{id:"pillars_of_islam",title:"5 Pillars of Islam Worksheet",category:"Islamic Knowledge",description:"Learn about the 5 pillars with activities",level:"Ages 7-12",pages:8,fileUrl:"https://www.islamicpillars.com/",color:"from-green-400 to-emerald-500",icon:""}];function cF(){const[t,e]=v.useState(null),n=async i=>{e(i.id),await new Promise(a=>setTimeout(a,1e3)),St.success(`Downloaded: ${i.title}`),St.info("Note: This is a demo. Connect to actual worksheet files for production."),window.open(i.fileUrl,"_blank"),e(null)},r=i=>{St.info(`Opening ${i.title} for printing...`),window.open(i.fileUrl,"_blank")};return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Printable Islamic Worksheets"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Download and print Islamic worksheets for your children!"})]}),s.jsx(ne.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-12",children:s.jsx(se,{className:"border-4 border-blue-200 bg-gradient-to-r from-blue-50 to-purple-50",children:s.jsxs(ae,{className:"p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-blue-900 mb-3",children:"For Parents & Teachers"}),s.jsxs("ul",{className:"space-y-2 text-blue-800",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"All worksheets are designed for kids ages 5-12"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"Perfect for homeschooling, Islamic schools, or weekend classes"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"Free to download and print!"})]})]})]})})}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12",children:_fe.map((i,a)=>s.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:a*.1},children:s.jsxs(se,{className:"h-full hover:shadow-xl transition-all duration-300 border-2 border-gray-100",children:[s.jsx(Fe,{className:`bg-gradient-to-br ${i.color} text-white`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"text-5xl",children:i.icon}),s.jsx(Ve,{className:"text-xl",children:i.title})]})}),s.jsxs(ae,{className:"p-6",children:[s.jsx("p",{className:"text-gray-600 mb-2",children:i.description}),s.jsxs("div",{className:"flex items-center gap-2 mb-4 text-sm text-gray-500",children:[s.jsx(jn,{className:"w-4 h-4"}),s.jsxs("span",{children:[i.pages," pages  ",i.level]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(G,{onClick:()=>n(i),disabled:t===i.id,className:"flex-1 bg-blue-600 hover:bg-blue-700",size:"sm",children:t===i.id?s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Downloading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(xo,{className:"w-4 h-4 mr-2"}),"Download"]})}),s.jsx(G,{onClick:()=>r(i),variant:"outline",size:"sm",children:s.jsx(FR,{className:"w-4 h-4"})})]})]})]})},i.id))}),s.jsx(ne.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:s.jsx(se,{className:"border-4 border-amber-300 bg-gradient-to-r from-amber-50 to-yellow-50",children:s.jsxs(ae,{className:"p-8 text-center",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"More Worksheets Coming Soon!"}),s.jsx("p",{className:"text-lg text-gray-700 mb-6 max-w-2xl mx-auto",children:"We're constantly adding new Islamic worksheets and activities. Check back regularly for updates!"})]})})})]})})}function aS({title:t,mp3Url:e,coverImage:n,onPlayComplete:r,allowDownload:i=!0,autoplay:a=!1}){const[o,c]=v.useState(!1),[d,h]=v.useState(0),[m,f]=v.useState(0),[g,x]=v.useState(1),[N,w]=v.useState(null),[j,_]=v.useState(null);v.useEffect(()=>{if(!e){w("No audio URL provided");return}const C=new Audio(e);return _(C),C.addEventListener("loadedmetadata",()=>{f(C.duration)}),C.addEventListener("timeupdate",()=>{h(C.currentTime)}),C.addEventListener("ended",()=>{c(!1),r&&r()}),a&&(C.play(),c(!0)),()=>{C.pause(),C.src=""}},[e,a,r]);const E=()=>{j&&(o?j.pause():j.play(),c(!o))},k=()=>{if(e){const C=document.createElement("a");C.href=e,C.download=t||"audio",C.click()}};return N?s.jsxs("div",{className:"text-red-500",children:["Error: ",N]}):s.jsx(se,{className:"p-6",children:s.jsxs(ne.div,{initial:{opacity:0},animate:{opacity:1},children:[n&&s.jsx("img",{src:n,alt:t,className:"w-full h-48 object-cover rounded-lg mb-4"}),s.jsx("h3",{className:"text-xl font-bold mb-4",children:t}),s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsxs(G,{onClick:E,className:"flex-1",children:[o?s.jsx(Fl,{className:"w-4 h-4 mr-2"}):s.jsx(dr,{className:"w-4 h-4 mr-2"}),o?"Pause":"Play"]}),i&&s.jsx(G,{onClick:k,variant:"outline",children:s.jsx(xo,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[g>0?s.jsx(Nl,{className:"w-4 h-4"}):s.jsx(Jm,{className:"w-4 h-4"}),s.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:g,onChange:C=>{const R=parseFloat(C.target.value);x(R),j&&(j.volume=R)},className:"flex-1"})]}),s.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[Math.floor(d/60),":",String(Math.floor(d%60)).padStart(2,"0")," /",Math.floor(m/60),":",String(Math.floor(m%60)).padStart(2,"0")]})]})})}aS.propTypes={title:At.string.isRequired,mp3Url:At.string,coverImage:At.string,onPlayComplete:At.func,allowDownload:At.bool,autoplay:At.bool};function uF(){const[t,e]=v.useState(""),[n,r]=v.useState("all"),[i,a]=v.useState("all"),[o,c]=v.useState(null),[d,h]=v.useState(null),{data:m=[],isLoading:f}=Un({queryKey:["audioContent"],queryFn:()=>yt.entities.AudioContent.list("-created_date"),initialData:[]}),{data:g=[]}=Un({queryKey:["featuredAudio"],queryFn:async()=>(await yt.entities.AudioContent.list("-plays_count",5)).filter(E=>E.featured),initialData:[]}),x=m.filter(_=>{var R,F;const E=_.title.toLowerCase().includes(t.toLowerCase())||((R=_.description)==null?void 0:R.toLowerCase().includes(t.toLowerCase()))||((F=_.tags)==null?void 0:F.some(M=>M.toLowerCase().includes(t.toLowerCase()))),k=n==="all"||_.category===n,C=i==="all"||_.age_group===i;return E&&k&&C}),N=async _=>{c(_),h(_.id);try{await yt.entities.AudioContent.update(_.id,{plays_count:(_.plays_count||0)+1})}catch(E){console.error("Error updating play count:",E)}},w=[{value:"all",label:"All Ages"},{value:"3-6",label:"Ages 3-6"},{value:"7-10",label:"Ages 7-10"},{value:"11+",label:"Ages 11+"}],j=[{value:"all",label:"All Categories"},{value:"story",label:"Stories"},{value:"hadith",label:"Hadith"},{value:"history",label:"History"},{value:"nasheed",label:"Nasheeds"},{value:"tajweed",label:"Tajweed"},{value:"fiqh",label:"Fiqh"},{value:"quran",label:"Quran"}];return s.jsx("div",{className:"min-h-screen py-8 md:py-12 px-2 md:px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8 md:mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-gray-900 mb-4",children:"Islamic Audio Library"}),s.jsx("p",{className:"text-base md:text-lg text-gray-600 max-w-2xl mx-auto",children:"Listen to stories, lessons, and nasheeds that teach Islamic values"})]}),g.length>0&&s.jsxs(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(cn,{className:"w-6 h-6 text-amber-500"}),"Featured Content"]}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:g.slice(0,3).map((_,E)=>s.jsx(ne.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:E*.1},children:s.jsxs(se,{className:"overflow-hidden hover:shadow-xl transition-shadow border-2 border-amber-200",children:[_.cover_image&&s.jsx("div",{className:"h-40 overflow-hidden",children:s.jsx("img",{src:_.cover_image,alt:_.title,className:"w-full h-full object-cover"})}),s.jsxs(ae,{className:"p-4",children:[s.jsx("h3",{className:"font-bold text-lg mb-2 line-clamp-1",children:_.title}),s.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:_.description}),s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsx(_e,{className:"text-xs",children:_.duration}),s.jsx(_e,{variant:"outline",className:"text-xs",children:_.age_group})]}),s.jsx(G,{onClick:()=>N(_),size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:s.jsx(dr,{className:"w-4 h-4"})})]})]})]})},_.id))})]}),s.jsx(se,{className:"mb-8 shadow-lg",children:s.jsx(ae,{className:"p-4 md:p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(va,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx(Te,{placeholder:"Search by title, theme, or tags...",value:t,onChange:_=>e(_.target.value),className:"pl-10"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Qt,{value:n,onValueChange:r,children:[s.jsx(qt,{className:"w-full md:w-[180px]",children:s.jsx(Yt,{placeholder:"Category"})}),s.jsx(Ht,{children:j.map(_=>s.jsx(Re,{value:_.value,children:_.label},_.value))})]}),s.jsxs(Qt,{value:i,onValueChange:a,children:[s.jsx(qt,{className:"w-full md:w-[150px]",children:s.jsx(Yt,{placeholder:"Age Group"})}),s.jsx(Ht,{children:w.map(_=>s.jsx(Re,{value:_.value,children:_.label},_.value))})]})]})]})})}),o&&s.jsxs(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[s.jsx("h3",{className:"text-xl font-bold mb-4",children:"Now Playing"}),s.jsx(aS,{title:o.title,mp3Url:o.mp3_url,youtubeId:o.youtube_id,coverImage:o.cover_image,allowDownload:o.allow_download,onPlayComplete:()=>console.log("Audio completed")}),s.jsx(se,{className:"mt-4 p-4",children:s.jsxs("div",{className:"space-y-4",children:[o.description&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"About"}),s.jsx("p",{className:"text-gray-700",children:o.description})]}),o.moral_lesson&&s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border-l-4 border-blue-500",children:[s.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Moral Lesson"}),s.jsx("p",{className:"text-blue-800",children:o.moral_lesson})]}),o.transcript&&s.jsxs("details",{className:"cursor-pointer",children:[s.jsxs("summary",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[s.jsx(jn,{className:"w-4 h-4"}),"Read Transcript"]}),s.jsx("div",{className:"mt-2 p-4 bg-gray-50 rounded-lg whitespace-pre-wrap text-sm text-gray-700",children:o.transcript})]}),o.license_source&&s.jsx("div",{className:"text-xs text-gray-500",children:s.jsxs("p",{children:["Source: ",o.license_source]})})]})})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-2xl font-bold mb-6",children:["All Audio Content (",x.length,")"]}),f?s.jsx("div",{className:"text-center py-12 text-gray-500",children:"Loading audio content..."}):x.length===0?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"No audio content found. Try adjusting your filters."})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map((_,E)=>s.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:E*.05},children:s.jsxs(se,{className:`hover:shadow-xl transition-all ${d===_.id?"border-2 border-blue-500":""}`,children:[_.cover_image&&s.jsx("div",{className:"h-48 overflow-hidden",children:s.jsx("img",{src:_.cover_image,alt:_.title,className:"w-full h-full object-cover"})}),s.jsxs(ae,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[s.jsx("h3",{className:"font-bold text-lg line-clamp-2 flex-1",children:_.title}),_.status==="broken"&&s.jsx(_e,{variant:"destructive",className:"text-xs",children:"Unavailable"})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-3",children:_.description}),s.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[_.duration&&s.jsx(_e,{variant:"outline",className:"text-xs",children:_.duration}),_.age_group&&s.jsx(_e,{variant:"outline",className:"text-xs",children:_.age_group}),_.category&&s.jsx(_e,{className:"text-xs capitalize",children:_.category})]}),_.tags&&_.tags.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:_.tags.slice(0,3).map((k,C)=>s.jsxs("span",{className:"text-xs text-blue-600",children:["#",k]},C))}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(G,{onClick:()=>N(_),className:"flex-1 bg-blue-600 hover:bg-blue-700",disabled:_.status==="broken"&&!_.youtube_id,children:[s.jsx(dr,{className:"w-4 h-4 mr-2"}),d===_.id?"Playing":"Listen"]}),_.allow_download&&_.mp3_url&&s.jsx(G,{variant:"outline",size:"icon",onClick:()=>window.open(_.mp3_url,"_blank"),children:s.jsx(xo,{className:"w-4 h-4"})})]})]})]})},_.id))})]})]})})}const ow=[{value:"1",name:"Sahih Bukhari",color:"from-green-600 to-emerald-600"},{value:"2",name:"Sahih Muslim",color:"from-blue-600 to-cyan-600"},{value:"3",name:"Sunan Abu Dawud",color:"from-orange-600 to-amber-600"},{value:"4",name:"Jami' at-Tirmidhi",color:"from-purple-600 to-pink-600"},{value:"5",name:"Sunan an-Nasa'i",color:"from-red-600 to-rose-600"},{value:"6",name:"Sunan Ibn Majah",color:"from-indigo-600 to-purple-600"},{value:"7",name:"Muwatta Malik",color:"from-teal-600 to-cyan-600"},{value:"8",name:"Musnad Ahmad",color:"from-amber-600 to-orange-600"}],lw=[{id:1,arabic:"       ",english:"Actions are judged by intentions, and every person will get the reward according to what he intended.",reference:"Sahih Bukhari & Muslim",narrator:"Umar ibn Al-Khattab (RA)",kidsAdvice:"Always do good things because you want to make Allah happy, not to show off to others!"},{id:2,arabic:"    ",english:"The best among you are those who learn the Quran and teach it.",reference:"Sahih Bukhari",narrator:"Uthman (RA)",kidsAdvice:"Learning Quran is amazing! And when you help others learn it too, you become even more special to Allah."},{id:3,arabic:"    ",english:"Your smile in the face of your brother is charity.",reference:"Jami' at-Tirmidhi",narrator:"Abu Dharr (RA)",kidsAdvice:"Smiling at people is free but makes everyone happy! Even a smile counts as a good deed!"},{id:4,arabic:"        ",english:"None of you truly believes until he loves for his brother what he loves for himself.",reference:"Sahih Bukhari & Muslim",narrator:"Anas ibn Malik (RA)",kidsAdvice:"Want good things for your friends just like you want them for yourself. Share happiness and toys!"},{id:5,arabic:"        ",english:"A strong believer is better and more beloved to Allah than a weak believer.",reference:"Sahih Muslim",narrator:"Abu Hurairah (RA)",kidsAdvice:"Being strong means having strong faith, good character, and helping others - not just being physically strong!"},{id:6,arabic:"  ",english:"The best of you are those who are best to their families.",reference:"Sahih Muslim & Tirmidhi",narrator:"Abu Hurairah (RA)",kidsAdvice:"Be kind and helpful to your parents, brothers, and sisters. Your family is very special!"},{id:7,arabic:"  ",english:"A good word is charity.",reference:"Sahih Bukhari & Muslim",narrator:"Abu Hurairah (RA)",kidsAdvice:"Saying nice things to people like 'thank you' and 'please' is a good deed that Allah loves!"},{id:8,arabic:"       ",english:"He will not enter Paradise whose neighbor is not secure from his wrongful conduct.",reference:"Sahih Muslim",narrator:"Abu Hurairah (RA)",kidsAdvice:"Always be nice to your neighbors! Don't be noisy or do things that bother them."},{id:9,arabic:"         ",english:"Whoever believes in Allah and the Last Day should speak good or remain silent.",reference:"Sahih Bukhari & Muslim",narrator:"Abu Hurairah (RA)",kidsAdvice:"If you don't have something nice to say, it's better to stay quiet. Don't say mean things!"},{id:10,arabic:"      ",english:"Allah is Good and accepts only that which is good.",reference:"Sahih Muslim",narrator:"Abu Hurairah (RA)",kidsAdvice:"Always do things with a clean heart and good intentions. Allah loves when we are pure and honest!"}];function dF(){const[t,e]=v.useState(""),[n,r]=v.useState({1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!1,8:!1}),[i,a]=v.useState(null),o=()=>{const f=new Date,g=new Date(f.getFullYear(),0,1),x=f-g,N=1e3*60*60*24*7;return Math.floor(x/N)};v.useEffect(()=>{const g=o()%lw.length;a(lw[g])},[]);const c=f=>{f.preventDefault();const g=Object.entries(n).filter(([N,w])=>w).map(([N,w])=>N).join(","),x=`https://www.searchtruth.com/searchHadith.php?keyword=${encodeURIComponent(t)}&book=${g}&translator=1&search=1`;window.open(x,"_blank")},d=f=>{r(g=>({...g,[f]:!g[f]}))},h=()=>{const f={};ow.forEach(g=>{f[g.value]=!0}),r(f)},m=()=>{const f={};ow.forEach(g=>{f[g.value]=!1}),r(f)};return s.jsx("div",{className:"min-h-screen py-8 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Hadith Library"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Learn authentic hadiths from Prophet Muhammad () - Changes every week!"})]}),i&&s.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-12",children:s.jsxs(se,{className:"border-4 border-amber-400 shadow-2xl bg-gradient-to-br from-amber-50 to-orange-50",children:[s.jsxs(Fe,{className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white",children:[s.jsxs(Ve,{className:"text-2xl flex items-center gap-2 justify-center",children:[s.jsx(cn,{className:"w-6 h-6"}),"Hadith of This Week",s.jsx(cn,{className:"w-6 h-6"})]}),s.jsx("p",{className:"text-center text-amber-100 text-sm mt-2",children:"Changes every Monday!"})]}),s.jsxs(ae,{className:"p-8",children:[s.jsx("div",{className:"mb-6 text-center bg-white p-6 rounded-xl border-2 border-amber-200",children:s.jsx("p",{className:"text-3xl md:text-4xl lg:text-5xl leading-loose text-gray-900 mb-2",style:{fontFamily:"'Amiri', 'Scheherazade New', 'Traditional Arabic', 'Arabic Typesetting', serif",lineHeight:"2.5",direction:"rtl"},children:i.arabic})}),s.jsxs("div",{className:"mb-6 bg-white p-6 rounded-xl border-2 border-amber-200",children:[s.jsxs("p",{className:"text-lg md:text-xl text-gray-800 leading-relaxed italic",children:['"',i.english,'"']}),s.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[s.jsx(_e,{className:"bg-amber-600 text-white",children:i.reference}),s.jsxs(_e,{variant:"outline",className:"border-amber-600 text-amber-700",children:["Narrator: ",i.narrator]})]})]}),s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-6 rounded-xl border-2 border-blue-200",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(nh,{className:"w-6 h-6 text-blue-600 flex-shrink-0 mt-1"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-lg text-gray-900 mb-2",children:" For Kids:"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:i.kidsAdvice})]})]})})]})]})}),s.jsxs(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6 text-center",children:" Learn These 10 Beautiful Hadiths"}),s.jsx("div",{className:"grid gap-6",children:lw.map((f,g)=>s.jsx(ne.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:g*.1},children:s.jsx(se,{className:"hover:shadow-xl transition-all border-2 border-gray-200 hover:border-blue-300",children:s.jsx(ae,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[s.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-purple-500 text-white w-10 h-10 rounded-full flex items-center justify-center font-bold flex-shrink-0",children:g+1}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-6 rounded-xl border-2 border-green-200 mb-4",children:s.jsx("p",{className:"text-2xl md:text-3xl lg:text-4xl leading-loose text-gray-900",style:{fontFamily:"'Amiri', 'Scheherazade New', 'Traditional Arabic', 'Arabic Typesetting', serif",lineHeight:"2.5",direction:"rtl",textAlign:"right"},children:f.arabic})}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-4",children:[s.jsxs("p",{className:"text-base md:text-lg text-gray-800 leading-relaxed italic",children:['"',f.english,'"']}),s.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[s.jsx(_e,{className:"bg-green-600",children:f.reference}),s.jsx(_e,{variant:"outline",children:f.narrator})]})]}),s.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border-l-4 border-blue-500",children:s.jsxs("p",{className:"text-sm md:text-base text-gray-700",children:[s.jsx("strong",{className:"text-blue-700",children:" Lesson:"})," ",f.kidsAdvice]})})]})]})})})},f.id))})]}),s.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8",children:s.jsxs(se,{className:"border-2 border-blue-200 shadow-xl",children:[s.jsxs(Fe,{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:[s.jsxs(Ve,{className:"text-2xl flex items-center gap-2",children:[s.jsx(va,{className:"w-6 h-6"}),"Search More Hadiths"]}),s.jsx("p",{className:"text-blue-100 text-sm mt-2",children:"Search thousands of authentic hadiths"})]}),s.jsx(ae,{className:"p-6",children:s.jsxs("form",{onSubmit:c,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Enter keyword or topic"}),s.jsx(Te,{type:"text",value:t,onChange:f=>e(f.target.value),placeholder:"e.g., prayer, charity, kindness...",className:"text-base",required:!0})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Select Hadith Books"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(G,{type:"button",variant:"outline",size:"sm",onClick:h,children:"Select All"}),s.jsx(G,{type:"button",variant:"outline",size:"sm",onClick:m,children:"Deselect All"})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:ow.map(f=>s.jsx("div",{onClick:()=>d(f.value),className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${n[f.value]?`bg-gradient-to-r ${f.color} text-white border-transparent shadow-lg`:"bg-white border-gray-200 hover:border-blue-300"}`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-6 h-6 rounded border-2 flex items-center justify-center ${n[f.value]?"bg-white border-white":"border-gray-300"}`,children:n[f.value]&&s.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{d:"M5 13l4 4L19 7"})})}),s.jsx("span",{className:"font-semibold",children:f.name})]})},f.value))})]}),s.jsxs(G,{type:"submit",size:"lg",className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-lg",disabled:!t.trim()||Object.values(n).every(f=>!f),children:[s.jsx(va,{className:"w-5 h-5 mr-2"}),"Search Hadiths",s.jsx(Md,{className:"w-4 h-4 ml-2"})]}),s.jsx("p",{className:"text-sm text-gray-500 text-center",children:"Powered by SearchTruth.com"})]})})]})}),s.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:s.jsxs(se,{className:"bg-gradient-to-br from-green-50 to-emerald-50 border-2 border-green-200",children:[s.jsx(Fe,{children:s.jsx(Ve,{className:"text-2xl",children:"About Hadiths"})}),s.jsxs(ae,{className:"space-y-3",children:[s.jsxs("p",{className:"text-gray-700",children:[s.jsx("strong",{children:"Hadiths"})," are the sayings and actions of Prophet Muhammad (). They teach us how to be good Muslims and follow Allah's path."]}),s.jsxs("p",{className:"text-gray-700",children:["The most authentic collections are ",s.jsx("strong",{children:"Sahih Bukhari"})," and ",s.jsx("strong",{children:"Sahih Muslim"}),", which have been carefully verified by Islamic scholars."]}),s.jsx("p",{className:"text-gray-700",children:"Learning hadiths helps us understand the Quran better and know how to live like the Prophet () taught us."})]})]})})]})})}const Nfe=[{id:1,category:"Prophets",title:"Prophet Ibrahim (AS) and the Idols",summary:"Learn about Prophet Ibrahim's bravery when he destroyed the idols",content:`Prophet Ibrahim (AS) lived among people who worshipped idols made of stone and wood. He knew this was wrong because only Allah deserves to be worshipped.

One day, when everyone went to a festival, Prophet Ibrahim (AS) went to the temple. He broke all the idols except the biggest one, and placed the axe in its hand!

When people returned and asked who did this, Prophet Ibrahim (AS) pointed to the biggest idol and said, "Ask him, if he can speak!" 

The people realized their idols couldn't speak, move, or do anything. This made them think about how foolish it was to worship them.`,moral:"We should worship only Allah and have courage to stand for what is right.",image:"https://images.unsplash.com/photo-1564769625905-50e93615e769?w=800",audioUrl:"",ageGroup:"7-10"},{id:2,category:"Prophets",title:"Prophet Yusuf (AS) in the Well",summary:"The story of Prophet Yusuf and his jealous brothers",content:`Prophet Yusuf (AS) was dearly loved by his father, Prophet Yaqub (AS). His brothers became jealous and made a plan to get rid of him.

They threw young Yusuf into a deep, dark well! But Allah protected him. Travelers found him and took him to Egypt.

Years later, after many trials, Prophet Yusuf (AS) became a powerful leader in Egypt. When his brothers came for help during a famine, he forgave them!`,moral:"Forgiveness is a beautiful quality. Allah always has a plan for us, even in difficult times.",image:"https://images.unsplash.com/photo-1542601906990-b4d3fb778b09?w=800",audioUrl:"",ageGroup:"7-10"},{id:3,category:"Sahabah",title:"Abu Bakr (RA) - The Best Friend",summary:"How Abu Bakr supported the Prophet ",content:`Abu Bakr (RA) was the Prophet Muhammad's  closest friend. When others doubted, he always believed.

When the Prophet  told about his night journey (Isra and Mi'raj), many people didn't believe him. But Abu Bakr (RA) said immediately: "If he said it, then it is true!"

He spent his wealth to help Islam and even accompanied the Prophet  on the dangerous journey to Madinah, hiding in a cave together.`,moral:"True friendship means standing by your friends and believing in them.",image:"https://images.unsplash.com/photo-1564769625905-50e93615e769?w=800",audioUrl:"",ageGroup:"7-10"},{id:4,category:"Makkah & Madinah",title:"The Building of the Kaaba",summary:"Learn about the sacred Kaaba's history",content:`The Kaaba was first built by Prophet Ibrahim (AS) and his son Ismail (AS) thousands of years ago. They built it as a house of worship for Allah.

Prophet Ibrahim (AS) would pray: "O our Lord! I have settled some of my family in a valley without cultivation near Your Sacred House..."

Today, millions of Muslims from around the world face the Kaaba when they pray, and visit it during Hajj.`,moral:"The Kaaba reminds us that all Muslims are united in worshipping Allah.",image:"https://images.unsplash.com/photo-1591604129939-f1efa4d9f7fa?w=800",audioUrl:"",ageGroup:"7-10"},{id:5,category:"Sahabah",title:"Bilal (RA) - The First Muezzin",summary:"The amazing story of Bilal's beautiful voice",content:`Bilal (RA) was once a slave who was tortured for accepting Islam. His master would leave him under the burning sun with a heavy rock on his chest.

But Bilal would only say: "Ahad, Ahad!" meaning "One God, One God!"

When Islam became strong, the Prophet  chose Bilal to be the first person ever to call Muslims to prayer! His beautiful, strong voice echoed through Madinah.`,moral:"No matter where you come from, if you have faith and patience, Allah will honor you.",image:"https://images.unsplash.com/photo-1542601906990-b4d3fb778b09?w=800",audioUrl:"",ageGroup:"7-10"}];function hF(){const[t,e]=v.useState("Prophets"),[n,r]=v.useState(null),i=["Prophets","Sahabah","Makkah & Madinah"],a=Nfe.filter(o=>o.category===t);return s.jsx("div",{className:"min-h-screen py-8 md:py-12 px-2 md:px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-gray-900 mb-4",children:"Islamic History"}),s.jsx("p",{className:"text-base md:text-lg text-gray-600 max-w-2xl mx-auto",children:"Amazing stories from Islamic history"})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-8 justify-center",children:i.map(o=>s.jsx(G,{onClick:()=>{e(o),r(null)},variant:t===o?"default":"outline",className:t===o?"bg-blue-600":"",children:o},o))}),n?s.jsxs(ne.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},children:[s.jsx(G,{variant:"ghost",onClick:()=>r(null),className:"mb-4",children:" Back to Stories"}),s.jsxs(se,{className:"shadow-xl",children:[s.jsx(Fe,{className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white",children:s.jsx(Ve,{className:"text-2xl",children:n.title})}),s.jsxs(ae,{className:"p-6",children:[n.image&&s.jsx("div",{className:"mb-6",children:s.jsx("img",{src:n.image,alt:n.title,className:"w-full h-64 object-cover rounded-lg"})}),n.audioUrl&&s.jsx("div",{className:"mb-6",children:s.jsx(aS,{title:n.title,mp3Url:n.audioUrl,coverImage:n.image})}),s.jsx("div",{className:"prose max-w-none mb-6",children:s.jsx("p",{className:"text-gray-800 leading-relaxed whitespace-pre-line text-lg",children:n.content})}),s.jsxs("div",{className:"bg-green-50 rounded-lg p-6 border-l-4 border-green-500",children:[s.jsx("h4",{className:"font-semibold text-green-900 mb-2",children:" Moral of the Story:"}),s.jsx("p",{className:"text-green-800",children:n.moral})]})]})]})]}):s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map((o,c)=>s.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:c*.1},children:s.jsxs(se,{className:"h-full hover:shadow-xl transition-shadow cursor-pointer",onClick:()=>r(o),children:[o.image&&s.jsx("div",{className:"h-48 overflow-hidden",children:s.jsx("img",{src:o.image,alt:o.title,className:"w-full h-full object-cover"})}),s.jsxs(ae,{className:"p-4",children:[s.jsx(_e,{className:"mb-3",children:o.category}),s.jsx("h3",{className:"font-bold text-lg mb-2",children:o.title}),s.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:o.summary}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(_e,{variant:"outline",className:"text-xs",children:o.ageGroup}),s.jsx(RR,{className:"w-5 h-5 text-blue-600"})]})]})]})},o.id))})]})})}At.string,At.string,At.string,At.string,At.string,At.bool,At.bool,At.bool,At.func;const zI=[{id:"noon_sakinah_idgham",category:"Noon Sakinah & Tanween",title:"Idgham (Merging)",kidExplanation:"Idgham means merging or blending. When noon sakinah () or tanween (  ) comes before these 6 letters:       - you merge them together smoothly!",arabicExample:" ",exampleTranslation:"from their Lord",surahReference:"Al-Baqarah 2:5",ruleHighlight:"The noon in 'min' merges with the 'raa' in 'rabbihim'",whyThisShowsRule:"Notice how the noon sound blends smoothly into the 'r' sound without a pause.",quiz:[{question:"Which letters cause Idgham?",options:["     "," ","","   "],correct:0},{question:"What does Idgham mean?",options:["Hiding","Merging/Blending","Showing clearly","Changing"],correct:1},{question:"In ' ', which rule applies?",options:["Ikhfa","Idgham","Iqlab","Izhar"],correct:1}]},{id:"noon_sakinah_ikhfa",category:"Noon Sakinah & Tanween",title:"Ikhfa (Hiding)",kidExplanation:"Ikhfa means hiding. When noon sakinah or tanween comes before 15 specific letters, you hide the noon sound a little bit - it's between showing and merging!",arabicExample:" ",exampleTranslation:"whoever does",surahReference:"Az-Zalzalah 99:7",ruleHighlight:"The noon in 'man' is hidden before the 'ya' in 'ya'mal'",whyThisShowsRule:"The noon sound is softened and hidden with a slight nasal sound (ghunnah).",quiz:[{question:"How many letters cause Ikhfa?",options:["4","6","15","28"],correct:2},{question:"What does Ikhfa mean?",options:["Merging","Hiding","Showing","Changing"],correct:1},{question:"Is there ghunnah (nasal sound) in Ikhfa?",options:["Yes","No","Sometimes","Never"],correct:0}]},{id:"noon_sakinah_iqlab",category:"Noon Sakinah & Tanween",title:"Iqlab (Changing)",kidExplanation:"Iqlab means changing. When noon sakinah or tanween comes before the letter '' (baa), you change the noon sound to '' (meem) sound!",arabicExample:" ",exampleTranslation:"after",surahReference:"Al-Baqarah 2:27",ruleHighlight:"The noon in 'min' changes to a meem sound before 'ba'd'",whyThisShowsRule:"The noon completely transforms into a meem sound when followed by baa.",quiz:[{question:"Which letter causes Iqlab?",options:[" only"," only"," only"," and "],correct:0},{question:"What sound does noon change to?",options:["Baa","Meem","Noon","Laam"],correct:1},{question:"Is there ghunnah in Iqlab?",options:["Yes","No"],correct:0}]},{id:"noon_sakinah_izhar",category:"Noon Sakinah & Tanween",title:"Izhar (Clear Pronunciation)",kidExplanation:"Izhar means to show clearly. When noon sakinah or tanween comes before the 6 throat letters (     ), you pronounce the noon very clearly!",arabicExample:" ",exampleTranslation:"whoever believes",surahReference:"Al-Baqarah 2:62",ruleHighlight:"The noon in 'man' is pronounced clearly before the hamza () in 'aamana'",whyThisShowsRule:"The noon sound is fully pronounced without any hiding or merging.",quiz:[{question:"How many throat letters cause Izhar?",options:["4","5","6","7"],correct:2},{question:"What does Izhar mean?",options:["Hiding","Merging","Showing clearly","Changing"],correct:2},{question:"Is there ghunnah in Izhar?",options:["Yes","No"],correct:1}]},{id:"meem_sakinah_idgham_shafawi",category:"Meem Sakinah",title:"Idgham Shafawi (Lip Merging)",kidExplanation:"When meem sakinah () comes before another meem (), you merge them together! It's called 'shafawi' because you use your lips to pronounce it.",arabicExample:" ",exampleTranslation:"for them is what",surahReference:"Al-Baqarah 2:25",ruleHighlight:"The meem in 'lahum' merges with the meem in 'ma'",whyThisShowsRule:"Two meems come together and are pronounced as one long meem with ghunnah.",quiz:[{question:"When does Idgham Shafawi happen?",options:["Meem before meem","Meem before baa","Meem before noon","Meem before any letter"],correct:0},{question:"Is there ghunnah in Idgham Shafawi?",options:["Yes","No"],correct:0},{question:"Why is it called 'shafawi'?",options:["It's hidden","Uses the lips","Uses the throat","It's merged"],correct:1}]},{id:"meem_sakinah_ikhfa_shafawi",category:"Meem Sakinah",title:"Ikhfa Shafawi (Lip Hiding)",kidExplanation:"When meem sakinah () comes before '' (baa), you hide the meem sound slightly! Close your lips and make a soft nasal sound.",arabicExample:" ",exampleTranslation:"striking them with stones",surahReference:"Al-Feel 105:4",ruleHighlight:"The meem in 'tarmeehim' is hidden before the baa in 'bihijarah'",whyThisShowsRule:"The meem is softened and pronounced with the lips closed, creating a nasal sound.",quiz:[{question:"Which letter causes Ikhfa Shafawi?",options:["","","","All letters"],correct:1},{question:"How do you pronounce Ikhfa Shafawi?",options:["Clearly","Hidden with ghunnah","Merged","Changed"],correct:1},{question:"What does 'shafawi' mean?",options:["Throat","Lip","Tongue","Nose"],correct:1}]},{id:"qalqalah",category:"Qalqalah",title:"Qalqalah (Echoing Sound)",kidExplanation:"Qalqalah means a bouncing or echoing sound! When these 5 letters have sukoon (), they bounce:     . Remember: 'Qutb Jad'!",arabicExample:"",exampleTranslation:"One (Allah is One)",surahReference:"Al-Ikhlas 112:1",ruleHighlight:"The 'dal' () at the end has qalqalah",whyThisShowsRule:"The letter 'd' bounces when you stop on it, creating an echoing sound.",quiz:[{question:"Which letters have qalqalah?",options:["    ","   ","   ","   "],correct:0},{question:"What does qalqalah mean?",options:["Merging","Bouncing/Echoing","Hiding","Stretching"],correct:1},{question:"How do you remember qalqalah letters?",options:["Qutb Jad","Noon Wa Laam","Meem Baa","Raa Laam"],correct:0}]},{id:"madd_tabee'ee",category:"Madd (Elongation)",title:"Madd Tabee'ee (Natural Elongation)",kidExplanation:"Madd means to stretch or lengthen. Natural madd happens when you see alif (), waw (), or ya () - you stretch the sound for 2 counts!",arabicExample:"",exampleTranslation:"he said",surahReference:"Al-Baqarah 2:30",ruleHighlight:"The alif after 'qaf' creates natural madd",whyThisShowsRule:"The alif stretches the 'a' sound for 2 counts: qaaala.",quiz:[{question:"Which letters create madd?",options:["  ","  "," "," "],correct:0},{question:"How long is natural madd?",options:["1 count","2 counts","4 counts","6 counts"],correct:1},{question:"What does madd mean?",options:["Hiding","Bouncing","Stretching/Lengthening","Merging"],correct:2}]},{id:"laam_shamsiyyah",category:"Laam Rules",title:"Laam Shamsiyyah (Sun Letters)",kidExplanation:"When '' (al) comes before 14 'sun letters', the laam is hidden and the next letter is doubled! Like:  (ash-shams) not (al-shams).",arabicExample:"",exampleTranslation:"The Most Merciful",surahReference:"Al-Fatihah 1:3",ruleHighlight:"The laam in '' is hidden before '', making it 'ar-Rahman' not 'al-Rahman'",whyThisShowsRule:"The 'r' is a sun letter, so the laam is assimilated into it.",quiz:[{question:"How many sun letters are there?",options:["12","13","14","15"],correct:2},{question:"What happens to the laam before sun letters?",options:["It's pronounced clearly","It's hidden","It's changed","It's bounced"],correct:1},{question:"Is '' a sun letter?",options:["Yes","No"],correct:0}]},{id:"laam_qamariyyah",category:"Laam Rules",title:"Laam Qamariyyah (Moon Letters)",kidExplanation:"When '' (al) comes before 14 'moon letters', you pronounce the laam clearly! Like:  (al-qamar).",arabicExample:"",exampleTranslation:"the worlds",surahReference:"Al-Fatihah 1:2",ruleHighlight:"The laam in '' is pronounced clearly before '', making it 'al-'aalameen'",whyThisShowsRule:"The 'ayn' is a moon letter, so the laam is pronounced fully.",quiz:[{question:"How many moon letters are there?",options:["12","13","14","15"],correct:2},{question:"What happens to the laam before moon letters?",options:["It's hidden","It's pronounced clearly","It's merged","It's changed"],correct:1},{question:"Is '' a moon letter?",options:["Yes","No"],correct:0}]},{id:"raa_tafkheem",category:"Raa Rules",title:"Raa Tafkheem (Heavy R)",kidExplanation:"Sometimes the letter '' (raa) is pronounced heavy (with a full mouth). This happens when raa has fatha (), damma (), or comes after these vowels!",arabicExample:"",exampleTranslation:"Lord",surahReference:"Al-Fatihah 1:2",ruleHighlight:"The raa has fatha, so it's pronounced heavy: 'Rabb'",whyThisShowsRule:"The fatha makes the raa sound thick and full.",quiz:[{question:"When is raa heavy?",options:["With kasra always","With fatha or damma","Never","With sukoon always"],correct:1},{question:"What does tafkheem mean?",options:["Light","Heavy/Thick","Hidden","Merged"],correct:1},{question:"In '', is the raa heavy or light?",options:["Heavy","Light"],correct:0}]},{id:"raa_tarqeeq",category:"Raa Rules",title:"Raa Tarqeeq (Light R)",kidExplanation:"Sometimes the letter '' (raa) is pronounced light (with an empty mouth). This happens when raa has kasra () or comes after kasra!",arabicExample:"",exampleTranslation:"provision",surahReference:"Al-Baqarah 2:22",ruleHighlight:"The raa has kasra, so it's pronounced light: 'rizqan'",whyThisShowsRule:"The kasra makes the raa sound thin and light.",quiz:[{question:"When is raa light?",options:["With fatha","With kasra","Never","Always"],correct:1},{question:"What does tarqeeq mean?",options:["Heavy","Light/Thin","Hidden","Bouncing"],correct:1},{question:"In '', is the raa heavy or light?",options:["Heavy","Light"],correct:1}]}];function mF(){const[t,e]=v.useState("All"),[n,r]=v.useState(null),[i,a]=v.useState({}),[o,c]=v.useState(!1),[d,h]=v.useState(-1),[m,f]=v.useState(!1),g=["All","Noon Sakinah & Tanween","Meem Sakinah","Qalqalah","Madd (Elongation)","Laam Rules","Raa Rules"],x=t==="All"?zI:zI.filter(_=>_.category===t),N=(_,E)=>{a({...i,[_]:E})},w=()=>{if(!(n!=null&&n.quiz))return 0;let _=0;return n.quiz.forEach((E,k)=>{i[k]===E.correct&&_++}),_},j=()=>{a({}),c(!1)};return s.jsx("div",{className:"min-h-screen py-8 md:py-12 px-2 md:px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-gray-900 mb-4",children:"Learn Tajweed"}),s.jsx("p",{className:"text-base md:text-lg text-gray-600 max-w-2xl mx-auto",children:"Learn to recite the Quran beautifully with proper pronunciation rules"})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-8 justify-center",children:g.map(_=>s.jsx(G,{onClick:()=>{e(_),r(null)},variant:t===_?"default":"outline",size:"sm",className:t===_?"bg-teal-600":"",children:_},_))}),n?s.jsxs(ne.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},children:[s.jsx(G,{variant:"ghost",onClick:()=>{r(null),j(),h(-1)},className:"mb-4",children:" Back to Rules"}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2 space-y-6",children:s.jsxs(se,{className:"shadow-xl",children:[s.jsx(Fe,{className:"bg-gradient-to-r from-teal-500 to-cyan-500 text-white",children:s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[s.jsx(Ve,{className:"text-xl md:text-2xl",children:n.title}),s.jsx(_e,{className:"bg-white/20 text-white",children:n.category})]})}),s.jsxs(ae,{className:"p-4 md:p-6",children:[s.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 mb-6 border-l-4 border-blue-500",children:[s.jsxs("h4",{className:"font-semibold text-blue-900 mb-2 flex items-center gap-2",children:[" What is ",n.title,"?"]}),s.jsx("p",{className:"text-gray-800 leading-relaxed text-base",children:n.kidExplanation})]}),s.jsxs("div",{className:"bg-amber-50 rounded-lg p-6 mb-6 border-r-4 border-amber-500",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h4",{className:"font-semibold text-amber-900",children:" Quran Example:"}),s.jsxs(G,{variant:"outline",size:"sm",onClick:()=>f(!m),children:[m?"Hide":"Show"," Transliteration"]})]}),s.jsx("div",{className:"text-3xl md:text-4xl text-right mb-3 leading-relaxed",dir:"rtl",children:n.arabicExample}),s.jsx("p",{className:"text-gray-700 mb-2 italic",children:n.exampleTranslation}),s.jsx(_e,{variant:"outline",className:"mb-4",children:n.surahReference}),s.jsx("div",{className:"bg-white rounded-lg p-4 mb-4",children:s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("strong",{children:"Why this shows the rule:"})," ",n.whyThisShowsRule]})}),s.jsx("div",{className:"bg-teal-50 rounded-lg p-4",children:s.jsxs("p",{className:"text-sm text-teal-900",children:[s.jsx("strong",{children:" Focus:"})," ",n.ruleHighlight]})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"font-semibold mb-3 text-lg flex items-center gap-2",children:" Listen & Practice"}),s.jsx("div",{className:"bg-purple-50 rounded-lg p-4 mb-4",children:s.jsx("p",{className:"text-sm text-purple-900",children:"Note: Audio recitation coming soon. For now, practice with your teacher or use online Quran recitation resources!"})})]})]})]})}),s.jsx("div",{className:"space-y-6",children:s.jsxs(se,{className:"shadow-xl sticky top-24",children:[s.jsx(Fe,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white",children:s.jsxs(Ve,{className:"text-lg md:text-xl flex items-center gap-2",children:[s.jsx(Dd,{className:"w-5 h-5"}),"Test Your Knowledge"]})}),s.jsx(ae,{className:"p-4",children:o?s.jsxs(ne.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},children:[s.jsxs("div",{className:"text-center mb-4",children:[s.jsx("div",{className:"text-5xl mb-3",children:w()===n.quiz.length?"":""}),s.jsxs("h3",{className:"text-xl font-bold mb-2",children:["Score: ",w()," / ",n.quiz.length]}),s.jsx("p",{className:"text-gray-600 text-sm",children:w()===n.quiz.length?"Masha'Allah! Perfect score!":"Good try! Review and try again."})]}),s.jsx("div",{className:"space-y-2 mb-4",children:n.quiz.map((_,E)=>{const k=i[E]===_.correct;return s.jsx("div",{className:`p-3 rounded-lg ${k?"bg-green-50":"bg-red-50"}`,children:s.jsxs("div",{className:"flex items-start gap-2",children:[k?s.jsx(th,{className:"w-4 h-4 text-green-600 flex-shrink-0 mt-0.5"}):s.jsx(my,{className:"w-4 h-4 text-red-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-xs",children:[s.jsx("p",{className:"font-semibold mb-1",children:_.question}),s.jsxs("p",{className:"text-gray-600",children:["Correct: ",_.options[_.correct]]})]})]})},E)})}),s.jsx(G,{onClick:j,className:"w-full",variant:"outline",children:"Try Again"})]}):s.jsxs("div",{className:"space-y-4",children:[n.quiz.map((_,E)=>s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("p",{className:"font-semibold mb-3 text-sm",children:[E+1,". ",_.question]}),s.jsx("div",{className:"space-y-2",children:_.options.map((k,C)=>s.jsx(G,{onClick:()=>N(E,C),variant:i[E]===C?"default":"outline",className:"w-full justify-start text-left h-auto py-2 text-xs",size:"sm",children:k},C))})]},E)),s.jsx(G,{onClick:()=>c(!0),disabled:Object.keys(i).length!==n.quiz.length,className:"w-full bg-green-600 hover:bg-green-700",children:"Check Answers"})]})})]})})]})]}):s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:s.jsx(ri,{children:x.map((_,E)=>s.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:E*.05},children:s.jsxs(se,{className:"h-full hover:shadow-xl transition-all duration-300 cursor-pointer group",onClick:()=>{r(_),j()},children:[s.jsxs(Fe,{className:"pb-3",children:[s.jsx(_e,{className:"mb-2 w-fit text-xs",children:_.category}),s.jsx(Ve,{className:"text-lg md:text-xl group-hover:text-teal-600 transition-colors leading-tight",children:_.title})]}),s.jsxs(ae,{children:[s.jsx("div",{className:"bg-amber-50 rounded-lg p-3 mb-3",children:s.jsx("p",{className:"text-2xl md:text-3xl text-right",dir:"rtl",children:_.arabicExample})}),s.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mb-3",children:_.kidExplanation}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(_e,{variant:"outline",className:"text-xs",children:[_.quiz.length," Quiz Questions"]}),s.jsx(G,{size:"sm",variant:"ghost",className:"text-xs",children:"Learn "})]})]})]})},_.id))})})]})})}function fF(){const t=[{id:"quran",title:"Qur'an Knowledge Quiz",icon:"",description:"Test knowledge of Surahs, verses, and Quranic stories",levels:["Easy","Medium","Hard"],color:"from-green-500 to-teal-500"},{id:"prophets",title:"Prophets & Messengers Quiz",icon:"",description:"Learn about the noble prophets mentioned in the Quran",levels:["Easy","Medium","Hard"],color:"from-blue-500 to-indigo-500"},{id:"seerah",title:"Life of Prophet Muhammad ",icon:"",description:"Questions about the Seerah and the Prophet's life",levels:["Easy","Medium","Hard"],color:"from-purple-500 to-pink-500"},{id:"fiqh",title:"Fiqh & Islamic Practices",icon:"",description:"Salah, fasting, Hajj, and daily Islamic practices",levels:["Easy","Medium","Hard"],color:"from-amber-500 to-orange-500"},{id:"akhlaq",title:"Islamic Manners & Character",icon:"",description:"Good character, honesty, kindness, and respect",levels:["Easy","Medium"],color:"from-rose-500 to-pink-500"},{id:"history",title:"Islamic History Quiz",icon:"",description:"Sahabah, battles, caliphs, and Islamic civilization",levels:["Medium","Hard"],color:"from-cyan-500 to-blue-500"}],e=(r,i)=>{alert(`Downloading ${r} - ${i} quiz... (Feature coming soon!)`)},n=(r,i)=>{alert(`Preparing to print ${r} - ${i} quiz... (Feature coming soon!)`)};return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Printable Islamic Quizzes"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Download and print Islamic quizzes for your children, students, or homeschool!"})]}),s.jsx(ne.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-12",children:s.jsx(se,{className:"border-4 border-blue-200 bg-gradient-to-r from-blue-50 to-purple-50",children:s.jsxs(ae,{className:"p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-blue-900 mb-3",children:"For Parents & Teachers"}),s.jsxs("ul",{className:"space-y-2 text-blue-800",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"All quizzes are designed for kids ages 5-12"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"Answer keys included for easy grading"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"Perfect for homeschooling, Islamic schools, or weekend classes"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"Free to download and print!"})]})]})]})})}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12",children:t.map((r,i)=>s.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:i*.1},children:s.jsxs(se,{className:"h-full hover:shadow-xl transition-all duration-300 border-2 border-gray-100",children:[s.jsx(Fe,{className:`bg-gradient-to-br ${r.color} text-white`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"text-5xl",children:r.icon}),s.jsx(Ve,{className:"text-xl",children:r.title})]})}),s.jsxs(ae,{className:"p-6",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:r.description}),s.jsx("div",{className:"space-y-2",children:r.levels.map(a=>s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(G,{onClick:()=>e(r.title,a),className:"flex-1 bg-blue-600 hover:bg-blue-700",size:"sm",children:[s.jsx(xo,{className:"w-4 h-4 mr-2"}),a]}),s.jsx(G,{onClick:()=>n(r.title,a),variant:"outline",size:"sm",children:s.jsx(FR,{className:"w-4 h-4"})})]},a))})]})]})},r.id))}),s.jsx(ne.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:s.jsx(se,{className:"border-4 border-green-300 bg-gradient-to-r from-green-50 to-teal-50",children:s.jsxs(ae,{className:"p-8 text-center",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Submit Your Own Quiz Questions!"}),s.jsx("p",{className:"text-lg text-gray-700 mb-6 max-w-2xl mx-auto",children:"Have great Islamic quiz questions or crosswords? Share them with us and they might be featured!"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsxs(G,{onClick:()=>window.location.href="mailto:huzaify786@gmail.com?subject=Islamic Quiz Submission",className:"bg-gradient-to-r from-green-500 to-teal-500 hover:from-green-600 hover:to-teal-600",size:"lg",children:[s.jsx(fy,{className:"w-5 h-5 mr-2"}),"Email Your Submission"]}),s.jsx(G,{onClick:()=>window.open("https://wa.me/447447999284?text=I'd like to submit Islamic quiz questions!","_blank"),className:"bg-green-600 hover:bg-green-700",size:"lg",children:" WhatsApp Us"})]})]})})})]})})}const oS=v.createContext(),pF=({children:t})=>{const[e,n]=v.useState(null),[r,i]=v.useState(!1),[a,o]=v.useState(null),c=m=>{a&&a.pause();const f=new Audio(m.url);f.play().catch(g=>{console.error("Error playing audio:",g),St.error("Could not play audio. Please try another.")}),o(f),n(m),i(!0),f.onended=()=>{i(!1)}},d=()=>{a&&(a.pause(),i(!1))},h=()=>{a&&(a.play(),i(!0))};return s.jsx(oS.Provider,{value:{currentAudio:e,isPlaying:r,playAudio:c,pauseAudio:d,resumeAudio:h},children:t})};pF.propTypes={children:At.node.isRequired};const Sfe={quran:[{id:"fatiha",title:"Surah Al-Fatiha",reciter:"Mishary Rashid Alafasy",url:"https://server8.mp3quran.net/afs/001.mp3",category:"Quran"},{id:"yaseen",title:"Surah Yaseen",reciter:"Mishary Rashid Alafasy",url:"https://server8.mp3quran.net/afs/036.mp3",category:"Quran"},{id:"mulk",title:"Surah Al-Mulk",reciter:"Mishary Rashid Alafasy",url:"https://server8.mp3quran.net/afs/067.mp3",category:"Quran"},{id:"rahman",title:"Surah Ar-Rahman",reciter:"Mishary Rashid Alafasy",url:"https://server8.mp3quran.net/afs/055.mp3",category:"Quran"},{id:"kahf",title:"Surah Al-Kahf",reciter:"Mishary Rashid Alafasy",url:"https://server8.mp3quran.net/afs/018.mp3",category:"Quran"}]},gF=({audio:t})=>{const{currentAudio:e,isPlaying:n,playAudio:r,pauseAudio:i,resumeAudio:a}=v.useContext(oS),o=(e==null?void 0:e.id)===t.id&&n;return s.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-5},children:s.jsx(se,{className:"hover:shadow-xl transition-all duration-300",children:s.jsxs(ae,{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:t.title}),t.reciter&&s.jsx("p",{className:"text-sm text-gray-600",children:t.reciter}),t.artist&&s.jsx("p",{className:"text-sm text-gray-600",children:t.artist}),t.narrator&&s.jsx("p",{className:"text-sm text-gray-600",children:t.narrator}),t.speaker&&s.jsx("p",{className:"text-sm text-gray-600",children:t.speaker})]}),s.jsx(_e,{className:"bg-gradient-to-r from-green-500 to-teal-500 text-white",children:t.category})]}),t.description&&s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:t.description}),s.jsx("div",{className:"flex gap-2",children:s.jsx(G,{onClick:()=>{o?i():(e==null?void 0:e.id)===t.id?a():r(t)},className:"flex-1 bg-gradient-to-r from-green-500 to-teal-500 hover:from-green-600 hover:to-teal-600",children:o?s.jsxs(s.Fragment,{children:[s.jsx(Fl,{className:"w-4 h-4 mr-2"}),"Pause"]}):s.jsxs(s.Fragment,{children:[s.jsx(dr,{className:"w-4 h-4 mr-2"}),(e==null?void 0:e.id)===t.id?"Resume":"Play"]})})})]})})})};gF.propTypes={audio:At.shape({id:At.string.isRequired,title:At.string.isRequired,url:At.string.isRequired,reciter:At.string,artist:At.string,narrator:At.string,speaker:At.string,category:At.string.isRequired,description:At.string}).isRequired};function Efe(){var r;const[t,e]=v.useState("quran"),n=[{id:"quran",name:"Quran Recitations",icon:"",description:"Listen to beautiful Quran recitations"}];return s.jsxs("div",{className:"min-h-screen py-12 px-4",children:[s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Islamic Multimedia"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Listen to beautiful Quran recitations"})]}),s.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-12",children:n.map(i=>s.jsxs(G,{onClick:()=>e(i.id),variant:t===i.id?"default":"outline",className:`${t===i.id?"bg-gradient-to-r from-green-500 to-teal-500 text-white":""}`,size:"lg",children:[s.jsx("span",{className:"text-2xl mr-2",children:i.icon}),i.name]},i.id))}),s.jsx(ne.div,{initial:{opacity:0},animate:{opacity:1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:(r=Sfe[t])==null?void 0:r.map(i=>s.jsx(gF,{audio:i},i.id))},t)]}),s.jsx(Cfe,{})]})}const Cfe=()=>{const{currentAudio:t,isPlaying:e,pauseAudio:n,resumeAudio:r}=v.useContext(oS);return t?s.jsx(ne.div,{initial:{y:100},animate:{y:0},className:"fixed bottom-0 left-0 right-0 bg-gradient-to-r from-green-600 to-teal-600 text-white p-4 shadow-2xl z-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Nl,{className:"w-6 h-6"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold",children:t.title}),t.reciter&&s.jsx("p",{className:"text-sm opacity-90",children:t.reciter})]})]}),s.jsx(G,{onClick:e?n:r,variant:"ghost",className:"text-white hover:bg-white/20",children:e?s.jsx(Fl,{className:"w-6 h-6"}):s.jsx(dr,{className:"w-6 h-6"})})]})}):null};function xF(){return s.jsx(pF,{children:s.jsx(Efe,{})})}const kfe="quran_hifz_db",Tfe=1,Wr={surahCache:"surahCache",juzCache:"juzCache",ayahProgress:"ayahProgress",settings:"settings"};function Afe(){return new Promise((t,e)=>{const n=indexedDB.open(kfe,Tfe);n.onupgradeneeded=r=>{const i=n.result;i.objectStoreNames.contains(Wr.surahCache)||i.createObjectStore(Wr.surahCache),i.objectStoreNames.contains(Wr.juzCache)||i.createObjectStore(Wr.juzCache),i.objectStoreNames.contains(Wr.ayahProgress)||i.createObjectStore(Wr.ayahProgress),i.objectStoreNames.contains(Wr.settings)||i.createObjectStore(Wr.settings)},n.onsuccess=()=>t(n.result),n.onerror=()=>e(n.error)})}async function hu(t,e,n){const r=await Afe();return new Promise((i,a)=>{const o=r.transaction(t,e),c=o.objectStore(t),d=n(c);o.oncomplete=()=>i(d),o.onerror=()=>a(o.error)})}async function BI(t,e){return hu(Wr.surahCache,"readwrite",n=>n.put(e,t))}async function Ife(t){return hu(Wr.surahCache,"readonly",e=>e.get(t))}async function zg(t,e){return hu(Wr.juzCache,"readwrite",n=>n.put(e,t))}async function Rfe(t){return hu(Wr.juzCache,"readonly",e=>e.get(t))}async function Pfe(t,e,n){const r=`${t}-${e}`,i={status:n,updatedAt:Date.now()};return hu(Wr.ayahProgress,"readwrite",a=>a.put(i,r))}async function Dfe(t,e){const n=`${t}-${e}`;return hu(Wr.ayahProgress,"readonly",r=>r.get(n))}async function Mfe(){return hu(Wr.ayahProgress,"readonly",t=>new Promise((e,n)=>{const r={},i=t.openCursor();i.onsuccess=a=>{const o=a.target.result;o?(r[o.key]=o.value,o.continue()):e(r)},i.onerror=()=>n(i.error)}))}const $I={memorised:{label:"Memorised",color:"bg-green-600",Icon:Bc},revision:{label:"Under Revision",color:"bg-yellow-500",Icon:Ej},new:{label:"Not Memorised",color:"bg-gray-500",Icon:Nj}};function yF({surahNumber:t,ayahNumber:e,onChange:n}){const[r,i]=v.useState("new");v.useEffect(()=>{let c=!0;return Dfe(t,e).then(d=>{c&&d!=null&&d.status&&i(d.status)}).catch(()=>{}),()=>{c=!1}},[t,e]);const a=async c=>{i(c);try{await Pfe(t,e,c)}catch{}n==null||n(c)},o=$I[r]||$I.new;return s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsxs(_e,{className:o.color,children:[s.jsx(o.Icon,{className:"w-4 h-4 mr-1"})," ",o.label]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(G,{size:"sm",variant:r==="memorised"?"default":"outline",onClick:()=>a("memorised"),children:[s.jsx(Bc,{className:"w-4 h-4 mr-1"})," Memorised"]}),s.jsxs(G,{size:"sm",variant:r==="revision"?"default":"outline",onClick:()=>a("revision"),children:[s.jsx(Ej,{className:"w-4 h-4 mr-1"})," Revision"]}),s.jsxs(G,{size:"sm",variant:r==="new"?"default":"outline",onClick:()=>a("new"),children:[s.jsx(Nj,{className:"w-4 h-4 mr-1"})," Not Yet"]})]})]})}yF.propTypes={surahNumber:At.number.isRequired,ayahNumber:At.number.isRequired,onChange:At.func};const lS="https://api.alquran.cloud/v1",qI=["quran-uthmani","quran-simple"],Ofe=[{id:"en.sahih",name:"Sahih International"},{id:"en.yusufali",name:"Yusuf Ali"},{id:"ur.junagarhi",name:"Junagarhi (Urdu)"},{id:"ur.maududi",name:"Maududi (Urdu)"}],HI={alafasy:"ar.alafasy",sudais:"ar.abdurrahmanalsudais",basit:"ar.abdulbasitmurattal",husary:"ar.husary"};function Lfe(t){return HI[t]||HI.alafasy}async function Ffe({juzNumber:t,translationId:e,audioEdition:n}){var g,x,N,w,j,_,E,k;const r=C=>{const R=[C,e];return n&&R.push(n),`${lS}/juz/${t}/editions/${R.join(",")}`};let i=await fetch(r(qI[0])),a=await i.json();if((a.status!=="OK"||!((N=(x=(g=a==null?void 0:a.data)==null?void 0:g[0])==null?void 0:x.ayahs)!=null&&N.length))&&(i=await fetch(r(qI[1])),a=await i.json()),a.status!=="OK")throw new Error("Failed to fetch juz");const o=((w=a.data[0])==null?void 0:w.ayahs)||[],c=((j=a.data[1])==null?void 0:j.ayahs)||[],d=((_=a.data[2])==null?void 0:_.ayahs)||[],h=new Map;for(const C of c){const R=`${(E=C==null?void 0:C.surah)==null?void 0:E.number}-${C==null?void 0:C.numberInSurah}`;R&&h.set(R,(C==null?void 0:C.text)??"")}const m=new Map;for(const C of d){const R=`${(k=C==null?void 0:C.surah)==null?void 0:k.number}-${C==null?void 0:C.numberInSurah}`;R&&m.set(R,(C==null?void 0:C.audio)??null)}return o.map(C=>{var F;const R=`${(F=C==null?void 0:C.surah)==null?void 0:F.number}-${C==null?void 0:C.numberInSurah}`;return{surahNumber:C.surah.number,surahName:C.surah.englishName||C.surah.name,numberInSurah:C.numberInSurah,arabic:C.text,translation:h.get(R)||"",audio:m.get(R)||null}})}async function Vfe(){var r;const e=await(await fetch(`${lS}/sajda`)).json();return e.status!=="OK"?[]:(((r=e==null?void 0:e.data)==null?void 0:r.ayahs)||(e==null?void 0:e.data)||[]).map(i=>{var a,o;return{surah:((a=i==null?void 0:i.surah)==null?void 0:a.number)||((o=i==null?void 0:i.surah)==null?void 0:o.number)||0,ayah:(i==null?void 0:i.numberInSurah)||(i==null?void 0:i.ayah)||0}}).filter(i=>i.surah&&i.ayah)}async function Ufe(){const e=await(await fetch(`${lS}/surah`)).json();return e.status!=="OK"?[]:((e==null?void 0:e.data)||[]).map(n=>({number:n.number,name:n.name,englishName:n.englishName,englishNameTranslation:n.englishNameTranslation,ayahs:n.numberOfAyahs,revelationType:n.revelationType}))}const zfe={1:[{surah:1,ayah:1},{surah:2,ayah:26},{surah:2,ayah:75},{surah:2,ayah:124},{surah:2,ayah:142},{surah:2,ayah:203},{surah:2,ayah:253},{surah:3,ayah:15}]};function Bfe(t,e){const n=zfe[t];return!n||e<1||e>n.length?null:n[e-1]||null}const WI=[{id:"alafasy",name:"Mishary Rashid Alafasy",url:"https://server8.mp3quran.net/afs/",flag:""},{id:"sudais",name:"Abdur-Rahman As-Sudais",url:"https://server11.mp3quran.net/sds/",flag:""},{id:"basit",name:"Abdul Basit",url:"https://server7.mp3quran.net/basit/",flag:""},{id:"husary",name:"Mahmoud Khalil Al-Husary",url:"https://server13.mp3quran.net/husr/",flag:""}],cw=[{number:1,name:"Al-Fatihah",englishName:"The Opening",verses:7,revelation:"Meccan"},{number:2,name:"Al-Baqarah",englishName:"The Cow",verses:286,revelation:"Medinan"},{number:3,name:"Ali 'Imran",englishName:"Family of Imran",verses:200,revelation:"Medinan"},{number:4,name:"An-Nisa",englishName:"The Women",verses:176,revelation:"Medinan"},{number:5,name:"Al-Ma'idah",englishName:"The Table Spread",verses:120,revelation:"Medinan"},{number:6,name:"Al-An'am",englishName:"The Cattle",verses:165,revelation:"Meccan"},{number:7,name:"Al-A'raf",englishName:"The Heights",verses:206,revelation:"Meccan"},{number:8,name:"Al-Anfal",englishName:"The Spoils of War",verses:75,revelation:"Medinan"},{number:9,name:"At-Tawbah",englishName:"The Repentance",verses:129,revelation:"Medinan"},{number:10,name:"Yunus",englishName:"Jonah",verses:109,revelation:"Meccan"},{number:36,name:"Ya-Sin",englishName:"Ya-Sin",verses:83,revelation:"Meccan"},{number:55,name:"Ar-Rahman",englishName:"The Beneficent",verses:78,revelation:"Medinan"},{number:67,name:"Al-Mulk",englishName:"The Sovereignty",verses:30,revelation:"Meccan"},{number:112,name:"Al-Ikhlas",englishName:"The Sincerity",verses:4,revelation:"Meccan"},{number:113,name:"Al-Falaq",englishName:"The Daybreak",verses:5,revelation:"Meccan"},{number:114,name:"An-Nas",englishName:"Mankind",verses:6,revelation:"Meccan"}],uw=Ofe,dw=[{number:1,name:"Alif Lm Mm"},{number:2,name:"Sayaql"},{number:3,name:"Tilka ar-Rusul"},{number:4,name:"Lan Tanlu"},{number:5,name:"Wal Musant"},{number:6,name:"L Yuibbullhu al-jahr"},{number:7,name:"Wa I Sami"},{number:8,name:"Wa Lau'ann"},{number:9,name:"Ql al-Mala'u"},{number:10,name:"Wa Alam"},{number:11,name:"Yataakkarn"},{number:12,name:"Wa M Ubarriu Nafsi"},{number:13,name:"Wa M Uttum"},{number:14,name:"Rubam"},{number:15,name:"Subnalladh"},{number:16,name:"Qla Alam"},{number:17,name:"Iqtaraba"},{number:18,name:"Qad Aflaha"},{number:19,name:"Wa Qlalladhna"},{number:20,name:"Amn"},{number:21,name:"Utlu M"},{number:22,name:"Wa Mli"},{number:23,name:"Wa M L"},{number:24,name:"Faman Alamu"},{number:25,name:"Ilayhi Yuraddu"},{number:26,name:" Mm"},{number:27,name:"Qla Fama"},{number:28,name:"Qad Samiallhu"},{number:29,name:"Tabrakalladh"},{number:30,name:"Amma"}],hw=[{number:1,name:""},{number:2,name:""},{number:3,name:" "},{number:4,name:" "},{number:5,name:""},{number:6,name:"   "},{number:7,name:" "},{number:8,name:" "},{number:9,name:" "},{number:10,name:""},{number:11,name:""},{number:12,name:"  "},{number:13,name:" "},{number:14,name:""},{number:15,name:" "},{number:16,name:" "},{number:17,name:""},{number:18,name:" "},{number:19,name:" "},{number:20,name:""},{number:21,name:" "},{number:22,name:""},{number:23,name:" "},{number:24,name:" "},{number:25,name:" "},{number:26,name:""},{number:27,name:" "},{number:28,name:"  "},{number:29,name:" "},{number:30,name:""}],vF=({verse:t,expanded:e,onToggle:n,onPlay:r,isHighlighted:i=!1})=>s.jsx(ne.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`bg-gradient-to-r from-green-50 to-teal-50 rounded-xl p-6 border-l-4 border-green-500 shadow-sm hover:shadow-md transition-shadow mb-4 ${i?"ring-2 ring-green-500 shadow-lg":""}`,children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[s.jsx(_e,{className:"bg-green-600 text-white text-sm px-3 py-1",children:t.numberInSurah}),t.isSajda&&s.jsxs(_e,{className:"bg-orange-500 text-white text-xs px-2 py-1",title:"Sajda Ayah",children:[s.jsx(gy,{className:"w-3 h-3 mr-1 inline"})," Sajda"]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{dir:"rtl",style:{fontFamily:"'Scheherazade New', 'Amiri', serif"},onClick:()=>r&&r(t),title:"Click to play ayah audio",role:"button",className:"text-right text-2xl md:text-3xl leading-loose mb-4 font-arabic cursor-pointer hover:text-green-700 text-green-900",children:t.arabic}),s.jsx("p",{className:"text-gray-700 leading-relaxed text-base",children:t.translation}),s.jsx("div",{className:"mt-3",children:s.jsx(yF,{surahNumber:t.surahNumber||(t==null?void 0:t.surahNumber)||0,ayahNumber:t.numberInSurah,onChange:()=>{}})}),t.tafsir&&s.jsxs("div",{className:"mt-4",children:[s.jsx(G,{variant:"ghost",size:"sm",onClick:()=>n(t.numberInSurah),className:"text-green-600 hover:text-green-700 hover:bg-green-50",children:e?s.jsxs(s.Fragment,{children:[s.jsx(PR,{className:"w-4 h-4 mr-2"}),"Hide Tafsir"]}):s.jsxs(s.Fragment,{children:[s.jsx(Qm,{className:"w-4 h-4 mr-2"}),"Show Tafsir"]})}),e&&s.jsxs(ne.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-3 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[s.jsx("p",{className:"text-sm font-semibold text-blue-900 mb-2",children:" Tafsir (Explanation):"}),s.jsx("p",{className:"text-sm text-blue-800 leading-relaxed",children:t.tafsir})]})]})]})]})});vF.propTypes={verse:At.object.isRequired,expanded:At.bool.isRequired,onToggle:At.func.isRequired,onPlay:At.func};function Hm(){var kt,xn;const t=go(),[e,n]=v.useState(cw[0]),[r,i]=v.useState(WI[0]),[a,o]=v.useState(uw[0]),[c,d]=v.useState(""),[h,m]=v.useState([]),[f,g]=v.useState([]),[x,N]=v.useState(!1),[w,j]=v.useState(!1),[_,E]=v.useState(null),[k,C]=v.useState(!1),[R,F]=v.useState(null),[M,P]=v.useState("translit"),[I,L]=v.useState(!1),[U,D]=v.useState(null),[V,J]=v.useState(!1),[ee,re]=v.useState(!1),[ie,Q]=v.useState(null),[q,B]=v.useState(new Set),[$,te]=v.useState(null);v.useEffect(()=>{const ge=new URLSearchParams(t.search||""),He=ge.get("surah"),et=ge.get("juz"),tt=ge.get("quarter");if(He){const gt=Number(He),ut=cw.find(Mt=>Mt.number===gt);ut&&(n(ut),C(!1))}else if(et){const gt=Number(et);if(gt>=1&&gt<=30&&(F(gt),C(!0)),tt){const ut=Number(tt);ut>=1&&ut<=8&&te(ut)}}},[t.search]),v.useEffect(()=>{var ge,He;if(k&&$&&Array.isArray(f)&&f.length>0){let et=null,tt=null;if(R){const ut=Bfe(R,$);if(ut){const Mt=f.findIndex(yn=>(yn==null?void 0:yn.surahNumber)===ut.surah&&(yn==null?void 0:yn.numberInSurah)===ut.ayah);Mt>=0&&(et=Mt,tt={surah:ut.surah,ayah:ut.ayah})}}if(et==null){const ut=f.length,Mt=Math.floor(ut/8)||1;et=Math.min(ut-1,Math.max(0,($-1)*Mt))}const gt=(He=(ge=we==null?void 0:we.current)==null?void 0:ge.byIndex)==null?void 0:He[et];if(gt&&gt.scrollIntoView){gt.scrollIntoView({behavior:"smooth",block:"center"});const ut=f[et];ut&&(fe({surah:ut.surahNumber,ayah:ut.numberInSurah}),setTimeout(()=>fe(null),2500),tt?St.success(`Jumped to Juz ${R} Q${$} start  Surah ${tt.surah}, Ayah ${tt.ayah}`):St.info(`Jumped to Juz ${R} Q${$} (approximate segment)`))}}},[k,$,R,f]);const[H,me]=v.useState("light"),we=v.useRef({}),[Ce,fe]=v.useState(null),[Se,De]=v.useState(null),ze=v.useRef(!1),qe=()=>{Se&&(Se.pause(),Se.currentTime=0,De(null),j(!1)),re(!1),Q(null)};v.useEffect(()=>()=>{qe()},[Se]),v.useEffect(()=>{let ge=!0;return Vfe().then(He=>{if(!ge)return;const et=new Set(He.map(tt=>`${tt.surah}-${tt.ayah}`));B(et)}).catch(()=>{}),()=>{ge=!1}},[]),v.useEffect(()=>{!k&&e&&kn(e.number,a.id)},[e,a,k]),v.useEffect(()=>{k&&R&&wr(R,a.id)},[k,R,a]),v.useEffect(()=>{k&&R&&V&&f.length>0&&!x&&(J(!1),Ri())},[k,R,V,f,x]);const ft={alafasy:"ar.alafasy",sudais:"ar.abdurrahmanalsudais",basit:"ar.abdulbasitmurattal",husary:"ar.husary"},Zt=()=>ft[r==null?void 0:r.id]||Lfe(r==null?void 0:r.id),kn=async(ge,He)=>{var et;N(!0),qe();try{const tt=Zt(),gt=`${ge}|${He}|${tt}`,ut=await Ife(gt);if((et=ut==null?void 0:ut.verses)!=null&&et.length)m(ut.verses.map(Mt=>({...Mt,isSajda:q.has(`${ge}-${Mt.numberInSurah}`),tafsir:Mt.tafsir||null})));else{const yn=await(await fetch(`https://api.alquran.cloud/v1/surah/${ge}/editions/quran-simple,${He},${tt}`)).json();if(yn.status==="OK"){const Yr=yn.data[0].ayahs,Lr=yn.data[1]?yn.data[1].ayahs:[],nn=yn.data[2]?yn.data[2].ayahs:[],ii=Yr.map((Fr,Vr)=>{var Pi;return{numberInSurah:Fr.numberInSurah,arabic:Fr.text,translation:Lr[Vr]?Lr[Vr].text:"Translation not available for this verse.",tafsir:null,audio:((Pi=nn[Vr])==null?void 0:Pi.audio)||null,surahNumber:ge,isSajda:q.has(`${ge}-${Fr.numberInSurah}`)}});m(ii),BI(gt,{verses:ii,cachedAt:Date.now()}).catch(()=>{})}else St.error("Failed to load surah details from API.")}}catch(tt){console.error("Error loading surah:",tt),St.error("Failed to load surah. Please check your internet connection.")}finally{N(!1)}},wr=async(ge,He)=>{var gt,ut,Mt,yn,Yr,Lr,nn,ii,Fr,Vr,Pi,Gl,ys,Ql,Di,ai,oi;N(!0),qe();const et=Zt(),tt=vs=>`https://api.alquran.cloud/v1/juz/${ge}/editions/${vs},${He}`;try{const vs=`${ge}|${He}|${et}`,Jr=await Rfe(vs);if((gt=Jr==null?void 0:Jr.verses)!=null&&gt.length)g(Jr.verses.map(jr=>({...jr,isSajda:q.has(`${jr.surahNumber}-${jr.numberInSurah}`)})));else try{const Xr=(await Ffe({juzNumber:ge,translationId:He})||[]).map(Gt=>({...Gt,isSajda:q.has(`${Gt.surahNumber}-${Gt.numberInSurah}`)}));if(g(Xr),zg(vs,{verses:Xr,cachedAt:Date.now()}).catch(()=>{}),!Xr.length){let Gt=await fetch(tt("quran-uthmani")),_r=await Gt.json();if((_r.status!=="OK"||!((yn=(Mt=(ut=_r==null?void 0:_r.data)==null?void 0:ut[0])==null?void 0:Mt.ayahs)!=null&&yn.length))&&(Gt=await fetch(tt("quran-simple")),_r=await Gt.json()),_r.status==="OK"){const No=((Yr=_r.data[0])==null?void 0:Yr.ayahs)||[],ka=((Lr=_r.data[1])==null?void 0:Lr.ayahs)||[],Nr=((nn=_r.data[2])==null?void 0:nn.ayahs)||[],li=new Map;for(const dt of ka){const Xn=`${(ii=dt==null?void 0:dt.surah)==null?void 0:ii.number}-${dt==null?void 0:dt.numberInSurah}`;Xn&&li.set(Xn,(dt==null?void 0:dt.text)??"")}const ci=new Map;for(const dt of Nr){const Xn=`${(Fr=dt==null?void 0:dt.surah)==null?void 0:Fr.number}-${dt==null?void 0:dt.numberInSurah}`;Xn&&ci.set(Xn,(dt==null?void 0:dt.audio)??null)}const wt=No.map(dt=>{var So;const Xn=`${(So=dt==null?void 0:dt.surah)==null?void 0:So.number}-${dt==null?void 0:dt.numberInSurah}`;return{surahNumber:dt.surah.number,surahName:dt.surah.englishName||dt.surah.name,numberInSurah:dt.numberInSurah,arabic:dt.text,translation:li.get(Xn)||"",audio:ci.get(Xn)||null,isSajda:q.has(`${dt.surah.number}-${dt.numberInSurah}`)}});g(wt),zg(vs,{verses:wt,cachedAt:Date.now()}).catch(()=>{}),wt.length||St.info("No verses loaded for this Juz. Try a different translation or check your network.")}else St.error("Failed to load Juz.")}}catch{let Xr=await fetch(tt("quran-uthmani")),Gt=await Xr.json();if((Gt.status!=="OK"||!((Gl=(Pi=(Vr=Gt==null?void 0:Gt.data)==null?void 0:Vr[0])==null?void 0:Pi.ayahs)!=null&&Gl.length))&&(Xr=await fetch(tt("quran-simple")),Gt=await Xr.json()),Gt.status==="OK"){const _r=((ys=Gt.data[0])==null?void 0:ys.ayahs)||[],No=((Ql=Gt.data[1])==null?void 0:Ql.ayahs)||[],ka=((Di=Gt.data[2])==null?void 0:Di.ayahs)||[],Nr=new Map;for(const wt of No){const dt=`${(ai=wt==null?void 0:wt.surah)==null?void 0:ai.number}-${wt==null?void 0:wt.numberInSurah}`;dt&&Nr.set(dt,(wt==null?void 0:wt.text)??"")}const li=new Map;for(const wt of ka){const dt=`${(oi=wt==null?void 0:wt.surah)==null?void 0:oi.number}-${wt==null?void 0:wt.numberInSurah}`;dt&&li.set(dt,(wt==null?void 0:wt.audio)??null)}const ci=_r.map(wt=>{var Xn;const dt=`${(Xn=wt==null?void 0:wt.surah)==null?void 0:Xn.number}-${wt==null?void 0:wt.numberInSurah}`;return{surahNumber:wt.surah.number,surahName:wt.surah.englishName||wt.surah.name,numberInSurah:wt.numberInSurah,arabic:wt.text,translation:Nr.get(dt)||"",audio:li.get(dt)||null,isSajda:q.has(`${wt.surah.number}-${wt.numberInSurah}`)}});g(ci),zg(vs,{verses:ci,cachedAt:Date.now()}).catch(()=>{}),ci.length||St.info("No verses loaded for this Juz. Try a different translation or check your network.")}else St.error("Failed to load Juz.")}}catch(vs){console.error("Error loading juz:",vs),St.error("Failed to load Juz. Please check your internet connection.")}finally{N(!1)}},Bn=async(ge,He=null,et=null)=>{if(!ge){St.error("No audio available for this selection.");return}if(!ze.current){ze.current=!0;try{qe();const tt=new Audio(ge);tt.loop=I,De(tt),await tt.play(),j(!0),D(He),tt.onended=()=>{if(typeof et=="function"){et();return}I||(j(!1),De(null),D(null))}}catch(tt){(tt==null?void 0:tt.name)==="AbortError"?console.debug("Audio play aborted (pause/stop triggered). Ignoring."):(console.error("Error playing audio:",tt),St.error("Unable to play audio. The reciter might not have audio for this ayah/surah, or there's a network issue.")),j(!1),D(null)}finally{ze.current=!1}}},Jn=()=>{if(!r||!e){St.error("Please select a Surah and Reciter first.");return}const ge=e.number.toString().padStart(3,"0"),He=`${r.url}${ge}.mp3`;Bn(He)},xs=()=>{qe(),re(!1)},zt=()=>{const ge=!I;L(ge),Se&&(Se.loop=ge)},en=ge=>{ge!=null&&ge.audio?Bn(ge.audio,ge.numberInSurah):(St.info("Ayah audio not available for this reciter. Playing full surah instead."),Jn())},Or=ge=>{const He=k?f.find(et=>et.numberInSurah===ge):h.find(et=>et.numberInSurah===ge);if(He){const et=we.current[ge];et&&et.scrollIntoView&&et.scrollIntoView({behavior:"smooth",block:"center"}),en(He)}},Ca=()=>{var He;const ge=(He=we.current)==null?void 0:He.juzStart;ge&&ge.scrollIntoView&&ge.scrollIntoView({behavior:"smooth",block:"start"})},Ii=(ge=0)=>{if(!k||!R){St.error("Please select a Juz first.");return}if(!f||f.length===0){St.error("No ayat loaded for this Juz yet. Please wait or reselect the Juz.");return}re(!0),Q(ge);const He=et=>{const tt=f[et];if(!tt){re(!1),D(null),De(null),j(!1);return}const gt=()=>{if(I)return;const ut=et+1;ut<f.length?(Q(ut),He(ut)):(re(!1),D(null),De(null),j(!1))};if(D(tt.numberInSurah),tt.audio)Bn(tt.audio,tt.numberInSurah,gt);else{const ut=String(tt.surahNumber).padStart(3,"0"),Mt=`${r.url}${ut}.mp3`;St.info(`Verse-level audio unavailable; playing Surah ${tt.surahNumber} audio as fallback.`),Bn(Mt,tt.numberInSurah,gt)}};He(ge)},Ri=()=>{Ii(0)},Fs=ge=>{qe(),i(ge)},pe=ge=>{qe(),n(ge)},Ie=ge=>{const He=uw.find(et=>et.id===ge);He&&o(He)},Ze=cw.filter(ge=>ge.name.toLowerCase().includes(c.toLowerCase())||ge.englishName.toLowerCase().includes(c.toLowerCase())||ge.number.toString().includes(c)),bt=async()=>{try{if(k&&R){const ge=Zt(),He=`${R}|${a.id}|${ge}`;f.length?await zg(He,{verses:f,cachedAt:Date.now()}):await wr(R,a.id),St.success(`Juz ${R} cached for offline use.`)}else if(e){const ge=Zt(),He=`${e.number}|${a.id}|${ge}`;h.length?await BI(He,{verses:h,cachedAt:Date.now()}):await kn(e.number,a.id),St.success(`Surah ${e.name} cached for offline use.`)}}catch{St.error("Failed to cache selection.")}};return s.jsxs("div",{className:"min-h-screen py-8 px-4",children:[s.jsx("style",{children:`
        @import url('https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Scheherazade+New:wght@400;700&display=swap');
        .custom-scrollbar::-webkit-scrollbar {
          width: 8px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: #f1f1f1;
          border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background: #888;
          border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background: #555;
        }
      `}),s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"The Noble Qur'an"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Read, listen, and understand Allah's words"})]}),s.jsxs(se,{className:"mb-8 border-2 border-green-200",children:[s.jsx(Fe,{className:"bg-gradient-to-r from-green-50 to-teal-50",children:s.jsx(Ve,{children:"Select Reciter, Surah & Translation"})}),s.jsxs(ae,{className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Choose Reciter"}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:WI.map(ge=>s.jsx(G,{onClick:()=>Fs(ge),variant:r.id===ge.id?"default":"outline",className:`h-auto py-3 px-4 ${r.id===ge.id?"bg-gradient-to-r from-purple-500 to-indigo-500 text-white hover:from-purple-600 hover:to-indigo-600":"hover:bg-gray-100"}`,children:s.jsxs("div",{className:"text-center w-full",children:[s.jsx("div",{className:"text-2xl mb-1",children:ge.flag}),s.jsx("p",{className:"text-xs font-semibold truncate",children:ge.name})]})},ge.id))})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Choose Translation"}),s.jsxs(Qt,{value:a.id,onValueChange:Ie,children:[s.jsx(qt,{className:"w-full",children:s.jsx(Yt,{placeholder:"Select a translation"})}),s.jsx(Ht,{children:uw.map(ge=>s.jsx(Re,{value:ge.id,children:ge.name},ge.id))})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Search & Choose Surah"}),s.jsxs("div",{className:"relative mb-3",children:[s.jsx(va,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500"}),s.jsx(Te,{type:"text",placeholder:"Search Surah by name or number...",value:c,onChange:ge=>d(ge.target.value),className:"pl-9 pr-3 py-2 w-full"})]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3 max-h-[250px] overflow-y-auto pr-2 custom-scrollbar",children:Ze.map(ge=>s.jsx(G,{onClick:()=>pe(ge),variant:(e==null?void 0:e.number)===ge.number?"default":"outline",className:`h-auto py-3 px-4 ${(e==null?void 0:e.number)===ge.number?"bg-gradient-to-r from-green-500 to-teal-500 text-white hover:from-green-600 hover:to-teal-600":"hover:bg-gray-100"}`,children:s.jsxs("div",{className:"text-center w-full",children:[s.jsx("p",{className:"text-sm font-semibold",children:ge.name}),s.jsxs("p",{className:"text-xs text-gray-500",children:["(",ge.englishName,")"]})]})},ge.number))}),Ze.length===0&&c&&s.jsxs("p",{className:"text-center text-gray-500 mt-4",children:['No surahs found for "',c,'"']})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-6",children:[s.jsx("div",{children:k?s.jsxs(s.Fragment,{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Select Ayah in Juz"}),s.jsxs(Qt,{onValueChange:ge=>{const He=Number(ge)-1,et=f[He];if(et){const tt=we.current[et.numberInSurah];tt&&tt.scrollIntoView&&tt.scrollIntoView({behavior:"smooth",block:"center"}),en(et)}},disabled:!R,children:[s.jsx(qt,{className:"w-full",children:s.jsx(Yt,{placeholder:"Choose Ayah index in Juz"})}),s.jsx(Ht,{children:f&&f.map((ge,He)=>s.jsx(Re,{value:String(He+1),children:He+1},He))})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Select Ayah (verse)"}),s.jsxs(Qt,{onValueChange:ge=>Or(Number(ge)),disabled:!e,children:[s.jsx(qt,{className:"w-full",children:s.jsx(Yt,{placeholder:"Choose Ayah number"})}),s.jsx(Ht,{children:e&&Array.from({length:e.verses},(ge,He)=>He+1).map(ge=>s.jsx(Re,{value:String(ge),children:ge},ge))})]})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Select Juz (Para)"}),s.jsxs(Qt,{value:R?String(R):void 0,onValueChange:ge=>{F(Number(ge)),C(!0)},children:[s.jsx(qt,{className:"w-full",children:s.jsx(Yt,{placeholder:"Choose Juz (e.g., Alif Lm Mm)"})}),s.jsx(Ht,{children:(M==="urdu"?hw:dw).map(ge=>s.jsxs(Re,{value:String(ge.number),children:["Juz ",ge.number,"  ",ge.name]},ge.number))})]}),s.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[s.jsx("span",{className:"text-xs text-gray-600",children:"Name style:"}),s.jsx(G,{size:"sm",variant:M==="translit"?"default":"outline",onClick:()=>P("translit"),children:"Transliteration"}),s.jsx(G,{size:"sm",variant:M==="urdu"?"default":"outline",onClick:()=>P("urdu"),children:""})]}),k&&s.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[s.jsxs(_e,{className:"bg-green-600",children:["Viewing: Juz ",R,"  ",((kt=(M==="urdu"?hw:dw).find(ge=>ge.number===R))==null?void 0:kt.name)||""]}),s.jsx(G,{variant:"outline",onClick:()=>{C(!1),F(null),g([])},children:"Exit Juz View"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Audio Controls"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(G,{onClick:xs,variant:"outline",className:"flex-1",children:[s.jsx(mg,{className:"w-4 h-4 mr-1"})," Stop"]}),s.jsxs(G,{onClick:zt,variant:I?"default":"outline",className:"flex-1",children:[s.jsx(Gv,{className:"w-4 h-4 mr-1"})," ",I?"Repeat: On":"Repeat: Off"]}),s.jsxs(G,{onClick:bt,variant:"outline",className:"flex-1",children:[s.jsx(xo,{className:"w-4 h-4 mr-1"})," Cache Offline"]})]})]})]}),s.jsx(G,{onClick:()=>{if(w){xs();return}k?x||!f.length?(J(!0),St.info("Loading Juz playback will start automatically.")):Ri():Jn()},className:"w-full bg-gradient-to-r from-green-600 to-teal-600 hover:from-green-700 hover:to-teal-700",size:"lg",disabled:!1,children:x?s.jsxs(s.Fragment,{children:[s.jsx(ml,{className:"w-5 h-5 mr-2 animate-spin"}),k?"Loading Juz...":"Loading Surah..."]}):w?s.jsxs(s.Fragment,{children:[s.jsx(Fl,{className:"w-5 h-5 mr-2"}),"Pause Audio"]}):s.jsxs(s.Fragment,{children:[s.jsx(dr,{className:"w-5 h-5 mr-2"}),k?"Play Full Juz":"Play Full Surah"]})}),k&&f.length>0&&s.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-4",children:[s.jsxs(G,{onClick:stopJuzSequence,variant:"destructive",className:"w-full",disabled:!w&&!ee,children:[s.jsx(mg,{className:"w-4 h-4 mr-1"}),"Stop Juz"]}),s.jsxs(G,{onClick:resumeJuzSequence,className:"w-full bg-blue-600 hover:bg-blue-700",disabled:w||ie===null,children:[s.jsx(dr,{className:"w-4 h-4 mr-1"}),"Resume Juz"]})]})]})]}),e&&s.jsx(se,{className:"mb-8 border-2 border-blue-200 bg-gradient-to-r from-blue-50 to-cyan-50",children:s.jsx(ae,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:e.name}),s.jsx("p",{className:"text-lg text-gray-700 mb-1",children:e.englishName}),s.jsxs("div",{className:"flex gap-3 flex-wrap",children:[s.jsxs(_e,{className:"bg-blue-600",children:[e.verses," Verses"]}),s.jsx(_e,{className:"bg-purple-600",children:e.revelation})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(jn,{className:"w-8 h-8 text-blue-600"}),s.jsx(Nl,{className:"w-8 h-8 text-green-600"}),s.jsx(G,{variant:"outline",onClick:()=>me(H==="light"?"dark":"light"),title:"Toggle theme",children:H==="light"?s.jsx(TB,{className:"w-4 h-4"}):s.jsx(a$,{className:"w-4 h-4"})})]})]})})}),e&&e.number!==9&&e.number!==1&&s.jsxs("div",{className:"text-center py-6 mb-6 border-b-2 border-green-200 bg-gradient-to-r from-green-50 to-teal-50 rounded-lg",children:[s.jsx("p",{className:"text-4xl md:text-5xl mb-3 font-arabic",dir:"rtl",style:{fontFamily:"'Scheherazade New', 'Amiri', serif"},children:"   "}),s.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"In the name of Allah, the Most Gracious, the Most Merciful"})]}),x&&!w?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(ml,{className:"w-12 h-12 animate-spin text-green-600 mb-4"}),s.jsx("p",{className:"text-gray-600",children:k?"Loading Juz Verses...":"Loading Surah Verses..."})]}):s.jsxs("div",{className:"space-y-4",children:[k&&R&&s.jsx(se,{className:"mb-4 border border-green-200 bg-green-50",children:s.jsx(ae,{className:"py-4 px-6",children:s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["Juz ",R,"  ",((xn=(M==="urdu"?hw:dw).find(ge=>ge.number===R))==null?void 0:xn.name)||""]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Displaying combined ayat across their surahs"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Gv,{className:"w-6 h-6 text-green-600"}),s.jsx(mg,{className:"w-6 h-6 text-red-600"}),s.jsxs(G,{variant:"outline",onClick:Ca,children:[s.jsx(jn,{className:"w-4 h-4 mr-1"})," Go to start"]}),s.jsxs(G,{className:"bg-green-600",onClick:Ri,children:[s.jsx(dr,{className:"w-4 h-4 mr-1"})," Play from start"]}),!w&&k&&(f==null?void 0:f.length)>0&&ie!=null&&s.jsxs(G,{className:"bg-green-600",onClick:()=>Ii(ie),children:[s.jsx(dr,{className:"w-4 h-4 mr-1"})," Resume Juz"]})]})]})})}),k&&!x&&R&&f.length===0&&s.jsx("p",{className:"text-center text-sm text-gray-600",children:"No ayat loaded for this Juz. Try a different translation or check your network."}),(k?f:h).map((ge,He)=>s.jsxs("div",{ref:et=>{we.current[ge.numberInSurah]=et,we.current.byIndex||(we.current.byIndex=[]),we.current.byIndex[He]=et,k&&He===0&&(we.current.juzStart=et)},children:[k&&s.jsxs("div",{className:"mb-1 text-sm text-gray-600",children:["Surah ",ge.surahName,"  Ayah ",ge.numberInSurah]}),s.jsx(vF,{verse:ge,expanded:_===ge.numberInSurah,onToggle:et=>E(_===et?null:et),onPlay:en,isHighlighted:!!(Ce&&Ce.surah===ge.surahNumber&&Ce.ayah===ge.numberInSurah)}),s.jsxs("div",{className:"flex gap-2 mb-6",children:[s.jsxs(G,{onClick:()=>en(ge),className:"bg-green-600",children:[s.jsx(dr,{className:"w-4 h-4 mr-1"})," Play Ayah"]}),s.jsxs(G,{onClick:xs,variant:"outline",children:[s.jsx(mg,{className:"w-4 h-4 mr-1"})," Stop"]}),s.jsxs(G,{onClick:zt,variant:I?"default":"outline",children:[s.jsx(Gv,{className:"w-4 h-4 mr-1"})," ",I?"Repeat On":"Repeat Off"]}),U===ge.numberInSurah&&w&&s.jsx(_e,{className:"bg-green-600",children:"Playing"})]})]},`${ge.surahNumber||(e==null?void 0:e.number)}-${ge.numberInSurah}`))]})]})]})}const $fe=[{number:1,range:[1,4],label:"Al-Fatihah  An-Nisa"},{number:2,range:[5,9],label:"Al-Maidah  At-Tawbah"},{number:3,range:[10,16],label:"Yunus  An-Nahl"},{number:4,range:[17,25],label:"Al-Isra  Al-Furqan"},{number:5,range:[26,36],label:"Ash-Shuara  Ya-Sin"},{number:6,range:[37,49],label:"As-Saffat  Al-Hujurat"},{number:7,range:[50,114],label:"Qaf  An-Nas"}];function bF(){const t=Yn(),e=v.useMemo(()=>$fe,[]);return s.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[s.jsxs(se,{className:"mb-6",children:[s.jsx(Fe,{children:s.jsx(Ve,{children:"Manzil (Weekly Recitation)"})}),s.jsx(ae,{children:s.jsx("p",{className:"text-sm text-gray-600",children:"Select a Manzil to review or recite. You can open the surahs in the Full Quran view and cache them for offline reading."})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.map(n=>s.jsxs(se,{className:"border-green-200",children:[s.jsxs(Fe,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Ve,{className:"flex items-center gap-2",children:[s.jsx(jn,{className:"w-5 h-5 text-green-600"})," Manzil ",n.number]}),s.jsxs(_e,{className:"bg-green-600",children:["Surah ",n.range[0],"  ",n.range[1]]})]}),s.jsx("p",{className:"text-sm text-gray-600 mt-2",children:n.label})]}),s.jsx(ae,{children:s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx(G,{onClick:()=>t(`/FullQuran?surah=${n.range[0]}`),variant:"outline",children:"Open start surah"}),s.jsx(G,{onClick:()=>t(`/FullQuran?surah=${n.range[1]}`),variant:"outline",children:"Open end surah"})]})})]},n.number))})]})}function qfe(t){const e=Math.ceil(t/8),n=(t-1)%8+1;return{juz:e,idx:n}}function wF(){const t=Yn(),[e,n]=v.useState(1),{juz:r,idx:i}=v.useMemo(()=>qfe(Math.min(240,Math.max(1,Number(e)||1))),[e]);return s.jsxs("div",{className:"max-w-3xl mx-auto p-6",children:[s.jsxs(se,{className:"mb-6",children:[s.jsx(Fe,{children:s.jsx(Ve,{children:"Hizb / Quarter-Hizb Selection"})}),s.jsx(ae,{children:s.jsx("p",{className:"text-sm text-gray-600",children:"Select a quarter (1240). Each Juz has 8 quarters. This navigator links you to the Juz in the Full Quran module and approximates the quarter position."})})]}),s.jsxs(se,{children:[s.jsx(Fe,{children:s.jsx(Ve,{children:"Choose Quarter"})}),s.jsxs(ae,{children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Te,{type:"number",min:1,max:240,value:e,onChange:a=>n(a.target.value),className:"w-32"}),s.jsxs(_e,{children:["Juz ",r,"  Quarter ",i," of 8"]}),s.jsxs(G,{onClick:()=>t(`/FullQuran?juz=${r}&quarter=${i}`),variant:"default",children:["Open Juz ",r]})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Note: Exact ayah ranges per quarter-hizb vary by script. Well refine per-ayah segment mapping in a subsequent update."})]})]})]})}function Hfe(t,e=[]){let n=[];function r(a,o){const c=v.createContext(o);c.displayName=a+"Context";const d=n.length;n=[...n,o];const h=f=>{var _;const{scope:g,children:x,...N}=f,w=((_=g==null?void 0:g[t])==null?void 0:_[d])||c,j=v.useMemo(()=>N,Object.values(N));return s.jsx(w.Provider,{value:j,children:x})};h.displayName=a+"Provider";function m(f,g){var w;const x=((w=g==null?void 0:g[t])==null?void 0:w[d])||c,N=v.useContext(x);if(N)return N;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[h,m]}const i=()=>{const a=n.map(o=>v.createContext(o));return function(c){const d=(c==null?void 0:c[t])||a;return v.useMemo(()=>({[`__scope${t}`]:{...c,[t]:d}}),[c,d])}};return i.scopeName=t,[r,Wfe(i,...e)]}function Wfe(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((c,{useScope:d,scopeName:h})=>{const f=d(a)[`__scope${h}`];return{...c,...f}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Kfe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],jF=Kfe.reduce((t,e)=>{const n=Dy(`Primitive.${e}`),r=v.forwardRef((i,a)=>{const{asChild:o,...c}=i,d=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(d,{...c,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),cS="Progress",uS=100,[Gfe]=Hfe(cS),[Qfe,Yfe]=Gfe(cS),_F=v.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:a=Jfe,...o}=t;(i||i===0)&&!KI(i)&&console.error(Xfe(`${i}`,"Progress"));const c=KI(i)?i:uS;r!==null&&!GI(r,c)&&console.error(Zfe(`${r}`,"Progress"));const d=GI(r,c)?r:null,h=ay(d)?a(d,c):void 0;return s.jsx(Qfe,{scope:n,value:d,max:c,children:s.jsx(jF.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":ay(d)?d:void 0,"aria-valuetext":h,role:"progressbar","data-state":EF(d,c),"data-value":d??void 0,"data-max":c,...o,ref:e})})});_F.displayName=cS;var NF="ProgressIndicator",SF=v.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,i=Yfe(NF,n);return s.jsx(jF.div,{"data-state":EF(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:e})});SF.displayName=NF;function Jfe(t,e){return`${Math.round(t/e*100)}%`}function EF(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function ay(t){return typeof t=="number"}function KI(t){return ay(t)&&!isNaN(t)&&t>0}function GI(t,e){return ay(t)&&!isNaN(t)&&t<=e&&t>=0}function Xfe(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${uS}\`.`}function Zfe(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${uS} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var CF=_F,epe=SF;const oy=v.forwardRef(({className:t,value:e,...n},r)=>s.jsx(CF,{ref:r,className:ct("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",t),...n,children:s.jsx(epe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));oy.displayName=CF.displayName;function QI(t,e){return e?Math.round(t/e*100):0}function kF(){const[t,e]=v.useState({total:0,memorised:0,revision:0,notMemorised:0}),[n,r]=v.useState([]);v.useEffect(()=>{(async()=>{const a=await Mfe(),o=Object.entries(a).map(([g,x])=>{const[N,w]=g.split("-").map(Number);return{surahNumber:N,ayahNumber:w,status:x==null?void 0:x.status}}),c=o.length,d=o.filter(g=>g.status==="memorised").length,h=o.filter(g=>g.status==="revision").length,m=o.filter(g=>g.status==="new"||!g.status).length,f=new Map;o.forEach(g=>{const x=g.surahNumber,N=f.get(x)||{surahNumber:x,total:0,memorised:0};N.total+=1,g.status==="memorised"&&(N.memorised+=1),f.set(x,N)}),e({total:c,memorised:d,revision:h,notMemorised:m}),r(Array.from(f.values()).sort((g,x)=>g.surahNumber-x.surahNumber))})()},[]);const i=v.useMemo(()=>QI(t.memorised,t.total),[t]);return s.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[s.jsxs(se,{className:"mb-6",children:[s.jsx(Fe,{children:s.jsx(Ve,{children:"Hifz Progress Dashboard"})}),s.jsxs(ae,{children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Total Ayahs Tracked"}),s.jsx("p",{className:"text-lg font-semibold",children:t.total})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Memorised"}),s.jsx("p",{className:"text-lg font-semibold",children:t.memorised})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Under Revision"}),s.jsx("p",{className:"text-lg font-semibold",children:t.revision})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Not Memorised"}),s.jsx("p",{className:"text-lg font-semibold",children:t.notMemorised})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("p",{className:"text-sm mb-1",children:"Overall Memorisation"}),s.jsx(oy,{value:i}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[i,"% complete"]})]})]})]}),s.jsxs(se,{children:[s.jsx(Fe,{children:s.jsx(Ve,{children:"By Surah"})}),s.jsx(ae,{children:s.jsxs("div",{className:"space-y-3",children:[n.length===0&&s.jsx("p",{className:"text-sm text-gray-600",children:"No memorisation data yet. Mark ayahs as memorised in the Full Quran page."}),n.map(a=>{const o=QI(a.memorised,a.total);return s.jsxs("div",{className:"border rounded p-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(_e,{children:["Surah ",a.surahNumber]}),s.jsxs("span",{className:"text-sm text-gray-600",children:["Memorised ",a.memorised,"/",a.total]})]}),s.jsxs("span",{className:"text-sm font-medium",children:[o,"%"]})]}),s.jsx(oy,{value:o,className:"mt-2"})]},a.surahNumber)})]})})]})]})}const tpe="https://api.quran.com/api/v4";function TF(){var a,o,c,d,h,m;const t=(o=(a=import.meta)==null?void 0:a.env)==null?void 0:o.VITE_QURAN_API_TOKEN,e=(d=(c=import.meta)==null?void 0:c.env)==null?void 0:d.VITE_QURAN_API_CLIENT_ID,n=(m=(h=import.meta)==null?void 0:h.env)==null?void 0:m.VITE_QURAN_API_BASE,r="https://apis-prelive.quran.foundation/content/api/v4",i=!!(t&&e);return{authed:i,base:n||(i?r:tpe),headers:i?{Accept:"application/json","x-auth-token":t,"x-client-id":e}:{Accept:"application/json"}}}async function YI(t,e="en"){var h;const{base:n,headers:r}=TF(),i=new URLSearchParams({language:e,words:"true",word_fields:["verse_key","location","text_uthmani","text_indopak","text_imlaei","code_v2","transliteration","translation","char_type_name"].join(",")}),a=`${n}/verses/by_key/${encodeURIComponent(t)}?${i.toString()}`,o=await fetch(a,{headers:r});if(!o.ok){const m=await o.text().catch(()=>"");throw new Error(`Failed to fetch verse words (${o.status}): ${m||o.statusText}`)}const c=await o.json(),d=(c==null?void 0:c.verse)||((h=c==null?void 0:c.verses)==null?void 0:h[0])||c;if(!d)throw new Error("Unexpected API response for verse words");return d}async function npe(t,e){const n=`${t}:${e}`,[r,i]=await Promise.all([YI(n,"en"),YI(n,"ur").catch(()=>null)]),a=f=>(f||[]).filter(g=>((g==null?void 0:g.char_type_name)||(g==null?void 0:g.char_type))==="word"),o=a((r==null?void 0:r.words)||[]),c=a((i==null?void 0:i.words)||[]),d=o.map(f=>{var g;return{text:(f==null?void 0:f.text_uthmani)||(f==null?void 0:f.text_indopak)||(f==null?void 0:f.text_imlaei)||(f==null?void 0:f.text)||(f==null?void 0:f.code_v2)||"",transliteration:((g=f==null?void 0:f.transliteration)==null?void 0:g.text)||(f==null?void 0:f.transliteration)||""}}),h=o.map(f=>{var g;return{translation:((g=f==null?void 0:f.translation)==null?void 0:g.text)||(f==null?void 0:f.translation)||""}}),m=(c.length?c:o).map(f=>{var g;return{translation:((g=f==null?void 0:f.translation)==null?void 0:g.text)||(f==null?void 0:f.translation)||""}});return{arabicWords:d,englishWords:h,urduWords:m}}function rpe(){const{authed:t}=TF();return t}const spe=[{key:"1:1",indices:[2,3],overrides:{2:{en:"The Entirely Merciful",ur:" "},3:{en:"Especially Merciful",ur:" "}}},{key:"1:2",indices:[1],overrides:{1:{en:"All praise and thanks",ur:" "}}},{key:"1:5",indices:[1,2]},{key:"1:7",indices:[3,4,5]},{key:"2:255",indices:[1,5,12],overrides:{1:{en:"Allah! There is no deity except Him",ur:"      "}}}],mw={entries:spe};function hj(){const[t,e]=v.useState([]),[n,r]=v.useState(""),[i,a]=v.useState(1),[o,c]=v.useState(1),[d,h]=v.useState(!1),[m,f]=v.useState(""),[g,x]=v.useState([]),[N,w]=v.useState(rpe()),[j,_]=v.useState(!1),[E,k]=v.useState({}),C="quranUserDifficultWords",R=v.useMemo(()=>{const D=new Map,V=new Map,J=(mw==null?void 0:mw.entries)||[];for(const ee of J)D.set(String(ee.key),new Set((ee.indices||[]).map(Number))),ee.overrides&&V.set(String(ee.key),ee.overrides);return{indicesMap:D,overridesMap:V}},[]);v.useEffect(()=>{try{const D=localStorage.getItem(C);if(D){const V=JSON.parse(D),J={};for(const ee of Object.keys(V))J[ee]=new Set((V[ee]||[]).map(Number));k(J)}}catch{}},[]);const F=D=>{const V={};for(const J of Object.keys(D))V[J]=Array.from(D[J]);try{localStorage.setItem(C,JSON.stringify(V))}catch{}};v.useEffect(()=>{let D=!0;return(async()=>{try{const J=await Ufe();if(!D||(e(J),!(J!=null&&J.length)))return;const ee=J.find(ie=>ie.number===i)||J[0],re=(ee==null?void 0:ee.ayahs)||7;c(ie=>Math.min(Math.max(1,ie||1),re))}catch{if(!D)return;f("Failed to load Surah list. Please check your internet connection.")}})(),()=>{D=!1}},[]);const M=v.useMemo(()=>{const D=(n||"").toLowerCase().trim();return D?t.filter(V=>{var J,ee,re;return String(V.number).includes(D)||((J=V.englishName)==null?void 0:J.toLowerCase().includes(D))||((ee=V.name)==null?void 0:ee.toLowerCase().includes(D))||((re=V.englishNameTranslation)==null?void 0:re.toLowerCase().includes(D))}):t},[t,n]),P=v.useMemo(()=>t.find(D=>D.number===i),[t,i]),I=v.useMemo(()=>`${i}:${o}`,[i,o]),L=async(D,V)=>{var J,ee,re,ie,Q;h(!0),f("");try{const{arabicWords:q,englishWords:B,urduWords:$}=await npe(D,V),te=Math.max(q.length,B.length,$.length),H=[];for(let me=0;me<te;me++){const we=me+1,Ce=R.indicesMap.get(`${D}:${V}`),fe=((J=R.overridesMap.get(`${D}:${V}`))==null?void 0:J[String(we)])||null;H.push({index:we,arabic:((ee=q[me])==null?void 0:ee.text)||"",transliteration:((re=q[me])==null?void 0:re.transliteration)||"",en:(fe==null?void 0:fe.en)||((ie=B[me])==null?void 0:ie.translation)||"",ur:(fe==null?void 0:fe.ur)||((Q=$[me])==null?void 0:Q.translation)||"",isCuratedDifficult:!!(Ce!=null&&Ce.has(we))})}x(H)}catch(q){console.error("Dictionary fetch error:",q),f(N?"Failed to load word-by-word data. Please try again.":"Word-by-word API now requires credentials. Please add VITE_QURAN_API_TOKEN and VITE_QURAN_API_CLIENT_ID to enable full dictionary.")}finally{h(!1)}};v.useEffect(()=>{i&&o&&L(i,o)},[i,o]);const U=(D,V)=>{k(J=>{const ee={...J},re=new Set(J[D]||[]);return re.has(V)?re.delete(V):re.add(V),ee[D]=re,F(ee),ee})};return s.jsx("div",{className:"max-w-6xl mx-auto p-4 md:p-6",children:s.jsxs(se,{className:"shadow-md",children:[s.jsxs(Fe,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(jn,{className:"h-5 w-5 text-blue-600"}),s.jsx(Ve,{className:"text-xl",children:"Quran Dictionary (Word-by-Word)"})]}),s.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Explore every ayah from Al-Fatiha to An-Nas. For each verse, see Arabic words with English and Urdu meanings."}),!N&&s.jsxs("div",{className:"mt-3 flex items-start gap-2 text-amber-700 bg-amber-50 border border-amber-200 p-2 rounded",children:[s.jsx(gy,{className:"h-4 w-4 mt-0.5"}),s.jsx("div",{className:"text-xs",children:"Full word-by-word data may require Quran Foundation API credentials. Add VITE_QURAN_API_TOKEN and VITE_QURAN_API_CLIENT_ID in your .env to ensure reliable access."})]})]}),s.jsxs(ae,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Search & Choose Surah"}),s.jsxs("div",{className:"relative",children:[s.jsx(va,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500"}),s.jsx(Te,{placeholder:"Search by number or name (e.g., 1 or Al-Fatihah)",className:"pl-9",value:n,onChange:D=>r(D.target.value)})]}),s.jsxs("div",{className:"mt-2 max-h-40 overflow-auto border rounded p-2 bg-white",children:[M.map(D=>s.jsxs("button",{className:`w-full text-left px-2 py-1 rounded hover:bg-blue-50 ${i===D.number?"bg-blue-100":""}`,onClick:()=>{a(D.number),c(1)},children:[s.jsxs("span",{className:"font-semibold",children:[D.number,". ",D.englishName]}),s.jsx("span",{className:"ml-2 text-gray-600",children:D.englishNameTranslation}),s.jsxs("span",{className:"ml-2 text-gray-500",children:["(",D.ayahs," ayahs)"]})]},D.number)),!M.length&&s.jsx("div",{className:"text-sm text-gray-500",children:"No surahs found."})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Select Ayah"}),s.jsxs(Qt,{value:String(o),onValueChange:D=>c(Number(D)),children:[s.jsx(qt,{children:s.jsx(Yt,{placeholder:"Ayah number"})}),s.jsx(Ht,{className:"max-h-64 overflow-auto",children:Array.from({length:(P==null?void 0:P.ayahs)||7},(D,V)=>V+1).map(D=>s.jsx(Re,{value:String(D),children:D},D))})]}),s.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:["Surah ",i,"  Ayah ",o]}),s.jsxs("div",{className:"mt-2 flex items-center gap-3 flex-wrap",children:[s.jsx(G,{onClick:()=>L(i,o),disabled:d,children:d?s.jsxs(s.Fragment,{children:[s.jsx(ml,{className:"mr-2 h-4 w-4 animate-spin"})," Loading"]}):"Reload"}),s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm cursor-pointer select-none",children:[s.jsx("input",{type:"checkbox",className:"accent-blue-600 cursor-pointer",checked:j,onChange:D=>_(D.target.checked)}),"Show difficult only"]})]})]})]}),m&&s.jsx("div",{className:"mb-4 text-sm text-red-700 bg-red-50 border border-red-200 p-3 rounded",children:m}),s.jsx("div",{className:"overflow-auto rounded border bg-white",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2 text-left text-gray-700",children:"#"}),s.jsx("th",{className:"px-3 py-2 text-right text-gray-700",children:"Arabic"}),s.jsx("th",{className:"px-3 py-2 text-left text-gray-700",children:"Transliteration"}),s.jsx("th",{className:"px-3 py-2 text-left text-gray-700",children:"English"}),s.jsx("th",{className:"px-3 py-2 text-left text-gray-700",children:"Urdu"}),s.jsx("th",{className:"px-3 py-2 text-left text-gray-700",children:"Mark"})]})}),s.jsx("tbody",{children:d?s.jsx("tr",{children:s.jsxs("td",{colSpan:6,className:"px-3 py-6 text-center text-gray-600",children:[s.jsx(ml,{className:"inline-block mr-2 h-4 w-4 animate-spin"})," Loading words..."]})}):(()=>{const D=R.indicesMap.get(I)||new Set,V=E[I]||new Set,J=g.map(re=>({...re,isCuratedDifficult:re.isCuratedDifficult||D.has(re.index),isUserDifficult:V.has(re.index)})),ee=j?J.filter(re=>re.isCuratedDifficult||re.isUserDifficult):J;return ee.length?ee.map(re=>s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"px-3 py-2 text-gray-600",children:re.index}),s.jsx("td",{className:"px-3 py-2 text-right text-xl leading-7",children:re.arabic}),s.jsx("td",{className:"px-3 py-2 text-gray-700",children:re.transliteration}),s.jsx("td",{className:"px-3 py-2",children:re.en}),s.jsx("td",{className:"px-3 py-2",children:re.ur}),s.jsx("td",{className:"px-3 py-2",children:s.jsxs("button",{className:"inline-flex items-center gap-1 text-blue-600 hover:opacity-80",title:re.isCuratedDifficult?"Curated difficult word":re.isUserDifficult?"Unmark difficult":"Mark as difficult",onClick:()=>U(I,re.index),children:[re.isCuratedDifficult||re.isUserDifficult?s.jsx(cn,{className:"h-4 w-4 fill-blue-600 text-blue-600"}):s.jsx(r$,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs",children:re.isCuratedDifficult?"Curated":re.isUserDifficult?"Marked":"Mark"})]})})]},re.index)):s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-3 py-6 text-center text-gray-500",children:"No data yet. Choose a surah and ayah to view word meanings."})})})()})]})}),s.jsxs("div",{className:"mt-4 text-xs text-gray-500 flex items-center gap-2",children:[s.jsx(iB,{className:"h-3.5 w-3.5"}),"Data powered by Quran Foundation/Quran.com APIs. Translations may vary by source."]})]})]})})}const ipe=zf("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),AF=v.forwardRef(({className:t,variant:e,...n},r)=>s.jsx("div",{ref:r,role:"alert",className:ct(ipe({variant:e}),t),...n}));AF.displayName="Alert";const ape=v.forwardRef(({className:t,...e},n)=>s.jsx("h5",{ref:n,className:ct("mb-1 font-medium leading-none tracking-tight",t),...e}));ape.displayName="AlertTitle";const IF=v.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:ct("text-sm [&_p]:leading-relaxed",t),...e}));IF.displayName="AlertDescription";const fw=t=>{const e=Number.isFinite(t)?t:0;return Math.max(0,Math.min(1500,Math.round(e)))};function xm(){try{const t=localStorage.getItem("ikz_leaderboard"),e=t?JSON.parse(t):[];return Array.isArray(e)?e:[]}catch{return[]}}function pw(t){try{localStorage.setItem("ikz_leaderboard",JSON.stringify(t))}catch{}}function ym(){try{const t=localStorage.getItem("users"),e=t?JSON.parse(t):[];return Array.isArray(e)?e:[]}catch{return[]}}function gw(t){try{localStorage.setItem("users",JSON.stringify(t))}catch{}}function RF(){const[t,e]=v.useState([]),[n,r]=v.useState([]),[i,a]=v.useState(400),[o,c]=v.useState(""),[d,h]=v.useState(400),[m,f]=v.useState(50),[g,x]=v.useState("");v.useEffect(()=>{e(xm()),r(ym())},[]);const N=v.useMemo(()=>{const C=new Map;return t.forEach(R=>{const F=(R.email||R.full_name||"").toLowerCase();C.set(F,{source:"leaderboard",...R})}),n.forEach(R=>{const F=(R.email||R.full_name||"").toLowerCase();C.has(F)||C.set(F,{source:"users",...R})}),Array.from(C.values())},[t,n]),w=()=>{e(xm()),r(ym())},j=()=>{const C=fw(Number(i)),F=xm().map(I=>({...I,points:C}));pw(F);const P=ym().map(I=>({...I,points:C}));gw(P),x(`Reset all learner points to ${C}.`),w()},_=()=>{const C=String(o||"").trim().toLowerCase();if(!C){x("Enter an email to set points.");return}const R=fw(Number(d));let F=0;const P=xm().map(U=>(U.email||"").toLowerCase()===C?(F++,{...U,points:R}):U);pw(P);const L=ym().map(U=>(U.email||"").toLowerCase()===C?(F++,{...U,points:R}):U);gw(L),x(F>0?`Set ${C} points to ${R}.`:`No user found for ${C}.`),w()},E=()=>{const C=String(o||"").trim().toLowerCase();if(!C){x("Enter an email to add points.");return}const R=Number(m);let F=0;const M=D=>({...D,points:fw((D.points||0)+R)}),I=xm().map(D=>(D.email||"").toLowerCase()===C?(F++,M(D)):D);pw(I);const U=ym().map(D=>(D.email||"").toLowerCase()===C?(F++,M(D)):D);gw(U),x(F>0?`Added ${R} points to ${C}.`:`No user found for ${C}.`),w()},k=()=>{try{localStorage.removeItem("ikz_leaderboard"),localStorage.removeItem("users"),localStorage.removeItem("gameScores"),x("Cleared local sample data: leaderboard, users, game scores.")}catch{x("Failed to clear local sample data.")}w()};return s.jsx("div",{className:"min-h-screen py-12 px-4 bg-gradient-to-br from-blue-50 to-purple-50",children:s.jsx("div",{className:"max-w-5xl mx-auto",children:s.jsxs(se,{className:"shadow-xl border-2 border-blue-200",children:[s.jsx(Fe,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:s.jsxs(Ve,{className:"text-2xl flex items-center gap-2",children:[s.jsx(Kr,{className:"w-6 h-6"}),"Points Tools: Reset or Add Points"]})}),s.jsxs(ae,{className:"p-6 space-y-6",children:[s.jsxs(AF,{className:"bg-blue-50 border-blue-200",children:[s.jsx(_j,{className:"w-4 h-4 text-blue-600"}),s.jsx(IF,{className:"text-blue-800",children:"These tools update local leaderboard and users data. Game logic caps points at 1500."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 items-end",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-700",children:"Reset all learners to"}),s.jsx(Te,{type:"number",value:i,onChange:C=>a(C.target.value)})]}),s.jsx("div",{className:"md:col-span-2 flex gap-2",children:s.jsx(G,{onClick:j,children:"Reset All"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 items-end",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-700",children:"Target email"}),s.jsx(Te,{placeholder:"student@example.com",value:o,onChange:C=>c(C.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-700",children:"Set points to"}),s.jsx(Te,{type:"number",value:d,onChange:C=>h(C.target.value)})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(G,{variant:"outline",onClick:_,children:"Set Exact"}),s.jsx(G,{onClick:E,children:"Add Points"})]})]}),g&&s.jsx("div",{className:"text-sm text-green-700",children:g}),s.jsxs("div",{className:"mt-4 p-4 border rounded-md bg-red-50 border-red-200",children:[s.jsx("div",{className:"font-semibold text-red-700 mb-2",children:"Danger Zone"}),s.jsx("p",{className:"text-sm text-red-700 mb-3",children:"Delete all local sample accounts and details (leaderboard, users, game scores)."}),s.jsx(G,{variant:"destructive",onClick:k,children:"Delete All Fake Accounts and Details"})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Current Learners"}),N.length===0?s.jsx("div",{className:"text-sm text-gray-600",children:"No learners found in local storage."}):s.jsx("div",{className:"divide-y divide-gray-100 bg-white border rounded-md overflow-hidden",children:N.map((C,R)=>{var F;return s.jsxs("div",{className:"p-3 sm:p-4 flex items-center gap-3",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"font-semibold text-gray-900 truncate",children:C.full_name||((F=C.email)==null?void 0:F.split("@")[0])||"Learner"}),s.jsx("div",{className:"text-xs text-gray-600 truncate",children:C.email||"no-email"})]}),s.jsxs("div",{className:"text-right flex-shrink-0",children:[s.jsx("div",{className:"text-amber-600 font-bold",children:C.points||0}),s.jsx("div",{className:"text-[10px] text-gray-500",children:"points"})]})]},`${C.email||C.full_name||"user"}-${R}`)})})]})]})]})})})}function mj(){const[t,e]=v.useState({totalUsers:1200,totalStories:500,totalAudio:300,totalVideos:150,totalQuestions:1e3,totalPaths:50}),n=[{title:"AI Agent / ChatGPT",description:"Ask questions or get admin edit suggestions",icon:eh,path:"Assistant",color:"from-purple-600 to-blue-600",stats:"Admin-only"},{title:"Users Management",description:"Manage users, view profiles, reset points",icon:Vl,path:"AdminUsers",color:"from-blue-500 to-cyan-500",stats:`${t.totalUsers} users`},{title:"Points Tools",description:"Reset or add points for learners",icon:Kr,path:"ResetPointsAdmin",color:"from-amber-500 to-orange-500",stats:"Adjust points"},{title:"Stories Management",description:"Add, edit, delete stories with images",icon:jn,path:"AdminStories",color:"from-green-500 to-teal-500",stats:`${t.totalStories} stories`},{title:"Audio Content",description:"Manage audio files and recordings",icon:Od,path:"AdminAudioContent",color:"from-purple-500 to-pink-500",stats:`${t.totalAudio} tracks`},{title:"Videos Management",description:"Add and manage video content",icon:pl,path:"AdminVideos",color:"from-red-500 to-orange-500",stats:`${t.totalVideos} videos`},{title:"Quiz Questions",description:"Create and edit quiz questions",icon:Lz,path:"AdminQuestions",color:"from-amber-500 to-yellow-500",stats:`${t.totalQuestions} questions`},{title:"Homepage Banners",description:"Manage rotating homepage banners",icon:yx,path:"AdminBanners",color:"from-teal-500 to-cyan-500",stats:"Edit slides"},{title:"Sponsors & Ads",description:"Manage sponsors and advertising tiles",icon:RB,path:"AdminSponsors",color:"from-amber-500 to-orange-500",stats:"Configure placements"},{title:"Media Library",description:"Upload and manage images",icon:io,path:"AdminMedia",color:"from-pink-500 to-rose-500",stats:"Upload files"},{title:"Recordings Review",description:"Review user submissions",icon:jl,path:"RecordingsAdmin",color:"from-cyan-500 to-blue-500",stats:"Pending review"},{title:"Analytics & Reports",description:"View site statistics and reports",icon:Ez,path:"AdminAnalytics",color:"from-violet-500 to-purple-500",stats:"View insights"},{title:"Site Settings",description:"Configure website settings",icon:Ld,path:"AdminSettings",color:"from-gray-500 to-slate-500",stats:"Configure"}];return s.jsx("div",{className:"min-h-screen py-12 px-4 bg-gradient-to-br from-gray-50 to-gray-100",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Admin Dashboard"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Manage all website content without using AI credits"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((r,i)=>{const a=r.icon;return s.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:i*.1},children:s.jsxs(Rt,{to:rt(r.path),children:[" ",s.jsxs(se,{className:"h-full hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 cursor-pointer border-2 hover:border-blue-300",children:[s.jsxs(Fe,{children:[s.jsx("div",{className:`w-14 h-14 rounded-xl bg-gradient-to-br ${r.color} flex items-center justify-center mb-3`,children:s.jsx(a,{className:"w-7 h-7 text-white"})}),s.jsx(Ve,{className:"text-xl",children:r.title})]}),s.jsxs(ae,{children:[s.jsx("p",{className:"text-gray-600 mb-2",children:r.description})," ",r.stats&&s.jsx("p",{className:"text-sm font-semibold text-gray-800",children:r.stats})]})]})]})},r.title)})}),s.jsx(ne.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-12 text-center",children:s.jsx(se,{className:"bg-blue-50 border-2 border-blue-200",children:s.jsxs(ae,{className:"p-6",children:[s.jsx(Ld,{className:"w-12 h-12 mx-auto mb-3 text-blue-600"}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No AI Credits Required"}),s.jsx("p",{className:"text-gray-600",children:"All admin pages use standard forms and database operations - no AI processing needed!"})]})})})]})})}function JI(){const t=Yn(),[e,n]=v.useState(""),[r,i]=v.useState(""),[a,o]=v.useState(""),[c,d]=v.useState(!1),[h,m]=v.useState(!1),f={apiKey:!0,authDomain:!0,projectId:!0,appId:!0},g={apiKey:"AIzaSyDLi7mVwWnHp_jFlo6KfIXMZEu1iGpA-YE",authDomain:"studio-1726517794-3d5f0.firebaseapp.com",projectId:"studio-1726517794-3d5f0",appId:"1:947105835283:web:b06706b15af28b4c3f12e6",storageBucket:"studio-1726517794-3d5f0.appspot.com",messagingSenderId:"947105835283"},x=(w,j=4,_=4)=>w?w.length<=j+_?w:`${w.slice(0,j)}${w.slice(-_)}`:"(empty)";v.useEffect(()=>{const{app:w}=Wt();m(!!w);const j=gh(async _=>{_&&await Zx()&&t(rt("AdminDashboard"))});return()=>j&&j()},[t]);const N=async w=>{w.preventDefault(),o(""),d(!0);try{if(!h)throw new Error("Firebase not configured");const j=await mO(e,r);if(!await Zx())throw await pO(),new Error("Access restricted to admin only");t(rt("AdminDashboard"))}catch(j){const _=(j==null?void 0:j.code)||"";let E=(j==null?void 0:j.message)||"Login failed";_==="auth/invalid-credential"&&(E="Invalid email or password. Please try again or reset your password."),_==="auth/user-not-found"&&(E="No account found for this email. Please sign up or ask an admin to create one."),_==="auth/wrong-password"&&(E="Incorrect password. Try again or reset your password."),_==="auth/too-many-requests"&&(E="Too many attempts. Please wait a minute, then try again."),_==="auth/operation-not-allowed"&&(E="Email/password sign-in is disabled. Enable it in Firebase Auth  Sign-in method."),o(E)}finally{d(!1)}};return s.jsx("div",{className:"min-h-screen py-12 px-4 bg-gradient-to-br from-slate-50 to-blue-50",children:s.jsx("div",{className:"max-w-md mx-auto",children:s.jsxs(se,{className:"shadow-xl border-2 border-blue-200",children:[s.jsx(Fe,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:s.jsxs(Ve,{className:"flex items-center gap-2",children:[s.jsx(su,{className:"w-5 h-5"})," Secure Admin Login"]})}),s.jsx(ae,{className:"p-6",children:h?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-xs text-gray-500 bg-gray-50 border rounded p-2 mb-4",children:[s.jsx("div",{className:"font-semibold mb-1",children:"Debug config (masked)"}),s.jsxs("ul",{className:"list-disc ml-4",children:[s.jsxs("li",{children:["apiKey: ",x(g.apiKey)]}),s.jsxs("li",{children:["authDomain: ",g.authDomain]}),s.jsxs("li",{children:["projectId: ",g.projectId]}),s.jsxs("li",{children:["appId: ",x(g.appId,3,6)]})]})]}),s.jsxs("form",{onSubmit:N,className:"space-y-4",children:[a&&s.jsx("div",{className:"p-2 rounded bg-red-50 text-red-700 text-sm",children:a}),s.jsxs("div",{children:[s.jsx(ye,{children:"Email"}),s.jsx(Te,{type:"email",value:e,onChange:w=>n(w.target.value),required:!0})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Password"}),s.jsx(Te,{type:"password",value:r,onChange:w=>i(w.target.value),required:!0})]}),s.jsx(G,{type:"submit",disabled:c,className:"w-full",children:c?"Signing in...":s.jsxs("span",{className:"inline-flex items-center gap-2",children:[s.jsx(OR,{className:"w-4 h-4"}),"Sign In"]})}),s.jsxs("div",{className:"flex items-center justify-between text-xs mt-2",children:[s.jsx("button",{type:"button",className:"text-blue-600 hover:underline",onClick:async()=>{o("");try{const{auth:w}=Wt();if(!w)throw new Error("Firebase not configured");if(!e)throw new Error("Enter your email above, then click reset.");await F_(w,e),o("Password reset email sent. Check your inbox.")}catch(w){const j=(w==null?void 0:w.code)||"";let _=(w==null?void 0:w.message)||"Failed to send reset email.";j==="auth/invalid-email"&&(_="Please enter a valid email address."),j==="auth/user-not-found"&&(_="No account found for this email."),o(_)}},children:"Forgot password?"}),s.jsxs("span",{className:"text-gray-500 flex items-center gap-1",children:[s.jsx(th,{className:"w-4 h-4 text-green-600"})," Access available to any signed-in user"]})]})]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-amber-600",children:[s.jsx(gy,{className:"w-5 h-5"}),s.jsx("span",{children:"Firebase is not configured."})]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Please set Firebase env vars in ",s.jsx("code",{children:".env"}),": ",s.jsx("code",{children:"VITE_FIREBASE_API_KEY"}),", ",s.jsx("code",{children:"VITE_FIREBASE_AUTH_DOMAIN"}),", ",s.jsx("code",{children:"VITE_FIREBASE_PROJECT_ID"}),", ",s.jsx("code",{children:"VITE_FIREBASE_APP_ID"}),". Optional: ",s.jsx("code",{children:"VITE_ADMIN_EMAIL"})," (exact match), ",s.jsx("code",{children:"VITE_ADMIN_EMAIL_DOMAIN"})," (e.g. ",s.jsx("code",{children:"imediackids.com"}),")."]}),s.jsxs("div",{className:"text-xs text-gray-500 bg-gray-50 border rounded p-2",children:[s.jsx("div",{className:"font-semibold mb-1",children:"Detected env flags (no secrets):"}),s.jsxs("ul",{className:"list-disc ml-4",children:[s.jsxs("li",{children:["VITE_FIREBASE_API_KEY: ",f.apiKey?"":""]}),s.jsxs("li",{children:["VITE_FIREBASE_AUTH_DOMAIN: ",f.authDomain?"":""]}),s.jsxs("li",{children:["VITE_FIREBASE_PROJECT_ID: ",f.projectId?"":""]}),s.jsxs("li",{children:["VITE_FIREBASE_APP_ID: ",f.appId?"":""]})]}),s.jsxs("div",{className:"mt-2",children:["After editing ",s.jsx("code",{children:".env"}),", fully restart the dev server (",s.jsx("code",{children:"Ctrl+C"})," then ",s.jsx("code",{children:"npm run dev"}),")."]})]}),s.jsxs("div",{className:"text-xs text-gray-500 bg-gray-50 border rounded p-2",children:[s.jsx("div",{className:"font-semibold mb-1",children:"Debug config (masked)"}),s.jsxs("ul",{className:"list-disc ml-4",children:[s.jsxs("li",{children:["apiKey: ",x(g.apiKey)]}),s.jsxs("li",{children:["authDomain: ",g.authDomain]}),s.jsxs("li",{children:["projectId: ",g.projectId]}),s.jsxs("li",{children:["appId: ",x(g.appId,3,6)]}),s.jsxs("li",{children:["storageBucket: ",g.storageBucket]}),s.jsxs("li",{children:["messagingSenderId: ",g.messagingSenderId]})]}),s.jsxs("div",{className:"mt-2",children:["If values show as ",s.jsx("code",{children:"(empty)"}),", ensure your ",s.jsx("code",{children:".env"})," exists at the project root and variables start with ",s.jsx("code",{children:"VITE_"}),"."]})]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Admin login requires Firebase configuration. Once configured, use your email/password to sign in."})]})})]})})})}function lr({children:t}){const e=Yn(),[n,r]=v.useState(!1),[i,a]=v.useState(!1);return v.useEffect(()=>{let o=()=>{};const{app:c}=Wt();return c?o=gh(async()=>{const d=await Zx();r(d),a(!0),d||e(rt("AdminLogin"))}):(r(!1),a(!0),e(rt("Home"))),()=>o&&o()},[e]),!i||!n?null:t}var f0="Switch",[ope]=bo(f0),[lpe,cpe]=ope(f0),PF=v.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:a,required:o,disabled:c,value:d="on",onCheckedChange:h,form:m,...f}=t,[g,x]=v.useState(null),N=Kt(e,k=>x(k)),w=v.useRef(!1),j=g?m||!!g.closest("form"):!0,[_,E]=$c({prop:i,defaultProp:a??!1,onChange:h,caller:f0});return s.jsxs(lpe,{scope:n,checked:_,disabled:c,children:[s.jsx(Ct.button,{type:"button",role:"switch","aria-checked":_,"aria-required":o,"data-state":LF(_),"data-disabled":c?"":void 0,disabled:c,value:d,...f,ref:N,onClick:Je(t.onClick,k=>{E(C=>!C),j&&(w.current=k.isPropagationStopped(),w.current||k.stopPropagation())})}),j&&s.jsx(OF,{control:g,bubbles:!w.current,name:r,value:d,checked:_,required:o,disabled:c,form:m,style:{transform:"translateX(-100%)"}})]})});PF.displayName=f0;var DF="SwitchThumb",MF=v.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=cpe(DF,n);return s.jsx(Ct.span,{"data-state":LF(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});MF.displayName=DF;var upe="SwitchBubbleInput",OF=v.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...i},a)=>{const o=v.useRef(null),c=Kt(o,a),d=tS(n),h=x_(e);return v.useEffect(()=>{const m=o.current;if(!m)return;const f=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(f,"checked").set;if(d!==n&&x){const N=new Event("click",{bubbles:r});x.call(m,n),m.dispatchEvent(N)}},[d,n,r]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:c,style:{...i.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});OF.displayName=upe;function LF(t){return t?"checked":"unchecked"}var FF=PF,dpe=MF;const Is=v.forwardRef(({className:t,...e},n)=>s.jsx(FF,{className:ct("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:s.jsx(dpe,{className:ct("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));Is.displayName=FF.displayName;const xw={siteTitle:"Islam Kids Zone",tagline:"Learn, Play & Grow",logoEmoji:"",headerGradient:"from-blue-600 to-purple-600",navActiveGradient:"from-blue-500 to-purple-500",backgroundGradient:"from-blue-50 via-purple-50 to-pink-50",darkModeDefault:!1,showTestBanner:!0,showRadioBar:!0,supportEmail:"imedia786@gmail.com",supportWhatsappNumber:"+971500000000",apiBaseUrl:"https://api.example.com",assetsCdnUrl:"https://cdn.example.com",radioUrl:"https://a4.asurahosting.com:7820/radio.mp3",maintenanceMode:!1,enableAnalytics:!1,enableMessages:!0,cacheTtlSeconds:600,recordingStudioText:"Welcome to Islam Media Central Recording Studio. Please record Quran recitation, nasheeds, or Islamic messages with clarity and respect."},XI=[{label:"Blue  Purple",value:"from-blue-600 to-purple-600"},{label:"Purple  Pink",value:"from-purple-600 to-pink-600"},{label:"Teal  Cyan",value:"from-teal-600 to-cyan-600"},{label:"Rose  Orange",value:"from-rose-600 to-orange-600"},{label:"Slate  Gray",value:"from-slate-700 to-gray-700"}],hpe=[{label:"Blue/Purple/Pink",value:"from-blue-50 via-purple-50 to-pink-50"},{label:"Teal/Cyan",value:"from-teal-50 via-cyan-50 to-blue-50"},{label:"Rose/Orange",value:"from-rose-50 via-orange-50 to-yellow-50"},{label:"Neutral",value:"from-gray-50 to-gray-100"}];function VF(){const[t,e]=v.useState(xw),[n,r]=v.useState(!1),[i,a]=v.useState(""),[o,c]=v.useState(""),[d,h]=v.useState(""),[m,f]=v.useState("");v.useEffect(()=>{try{const x=localStorage.getItem("siteSettings");if(x){const N=JSON.parse(x);e({...xw,...N})}}catch{}},[]);const g=()=>{localStorage.setItem("siteSettings",JSON.stringify(t)),r(!0),setTimeout(()=>r(!1),1500)};return s.jsx("div",{className:`min-h-screen py-8 px-4 bg-gradient-to-br ${t.backgroundGradient}`,children:s.jsx("div",{className:"max-w-5xl mx-auto",children:s.jsxs(se,{className:"shadow-xl border-2 border-blue-200",children:[s.jsx(Fe,{className:`text-white bg-gradient-to-r ${t.headerGradient}`,children:s.jsxs(Ve,{className:"flex items-center gap-2",children:[s.jsx(Ld,{className:"w-6 h-6"})," Site Settings"]})}),s.jsxs(ae,{className:"p-6 space-y-6",children:[n&&s.jsx("div",{className:"p-2 rounded bg-green-50 text-green-700 text-sm",children:"Settings saved"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Site Title"}),s.jsx(Te,{value:t.siteTitle,onChange:x=>e({...t,siteTitle:x.target.value})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Tagline"}),s.jsx(Te,{value:t.tagline,onChange:x=>e({...t,tagline:x.target.value})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Logo Emoji"}),s.jsx(Te,{value:t.logoEmoji,onChange:x=>e({...t,logoEmoji:x.target.value})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Header Gradient"}),s.jsxs(Qt,{value:t.headerGradient,onValueChange:x=>e({...t,headerGradient:x}),children:[s.jsx(qt,{children:s.jsx(Yt,{placeholder:"Select gradient"})}),s.jsx(Ht,{children:XI.map(x=>s.jsx(Re,{value:x.value,children:x.label},x.value))})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Active Nav Gradient"}),s.jsxs(Qt,{value:t.navActiveGradient,onValueChange:x=>e({...t,navActiveGradient:x}),children:[s.jsx(qt,{children:s.jsx(Yt,{placeholder:"Select gradient"})}),s.jsx(Ht,{children:XI.map(x=>s.jsx(Re,{value:x.value,children:x.label},x.value))})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Background Gradient"}),s.jsxs(Qt,{value:t.backgroundGradient,onValueChange:x=>e({...t,backgroundGradient:x}),children:[s.jsx(qt,{children:s.jsx(Yt,{placeholder:"Select background"})}),s.jsx(Ht,{children:hpe.map(x=>s.jsx(Re,{value:x.value,children:x.label},x.value))})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Dark Mode Default"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Is,{checked:t.darkModeDefault,onCheckedChange:x=>e({...t,darkModeDefault:x})}),s.jsx("span",{className:"text-sm text-gray-600",children:"Apply dark mode on load"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Show Test Mode Banner"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Is,{checked:t.showTestBanner,onCheckedChange:x=>e({...t,showTestBanner:x})}),s.jsx("span",{className:"text-sm text-gray-600",children:"Toggle info banner in Layout"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Show Radio Bar"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Is,{checked:t.showRadioBar,onCheckedChange:x=>e({...t,showRadioBar:x})}),s.jsx("span",{className:"text-sm text-gray-600",children:"Enable persistent radio player"})]})]})]}),s.jsxs("div",{className:"pt-6 border-t",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Backend Settings"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Support Email"}),s.jsx(Te,{type:"email",value:t.supportEmail,onChange:x=>e({...t,supportEmail:x.target.value})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Support WhatsApp Number"}),s.jsx(Te,{value:t.supportWhatsappNumber,onChange:x=>e({...t,supportWhatsappNumber:x.target.value})})]}),s.jsxs("div",{className:"space-y-3 md:col-span-2",children:[s.jsx(ye,{children:"API Base URL"}),s.jsx(Te,{value:t.apiBaseUrl,onChange:x=>e({...t,apiBaseUrl:x.target.value})}),s.jsx("p",{className:"text-xs text-gray-500",children:"Non-secret; use env for sensitive keys."})]}),s.jsxs("div",{className:"space-y-3 md:col-span-2",children:[s.jsx(ye,{children:"Assets CDN URL"}),s.jsx(Te,{value:t.assetsCdnUrl,onChange:x=>e({...t,assetsCdnUrl:x.target.value})})]}),s.jsxs("div",{className:"space-y-3 md:col-span-2",children:[s.jsx(ye,{children:"Radio Stream URL"}),s.jsx(Te,{value:t.radioUrl,onChange:x=>e({...t,radioUrl:x.target.value})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Maintenance Mode"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Is,{checked:t.maintenanceMode,onCheckedChange:x=>e({...t,maintenanceMode:x})}),s.jsx("span",{className:"text-sm text-gray-600",children:"Show site-wide maintenance banner"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Enable Analytics"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Is,{checked:t.enableAnalytics,onCheckedChange:x=>e({...t,enableAnalytics:x})}),s.jsx("span",{className:"text-sm text-gray-600",children:"Toggle client-side telemetry hooks"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Enable Messages"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Is,{checked:t.enableMessages,onCheckedChange:x=>e({...t,enableMessages:x})}),s.jsx("span",{className:"text-sm text-gray-600",children:"Toggle AdminMessages/Netlify function usage"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Cache TTL (seconds)"}),s.jsx(Te,{type:"number",min:"0",value:t.cacheTtlSeconds,onChange:x=>e({...t,cacheTtlSeconds:parseInt(x.target.value||0,10)})})]}),s.jsxs("div",{className:"space-y-3 md:col-span-2",children:[s.jsx(ye,{children:"Recording Studio Page Text"}),s.jsx(Rn,{value:t.recordingStudioText,onChange:x=>e({...t,recordingStudioText:x.target.value}),className:"min-h-[120px]",placeholder:"Write instructions, motivational messages, or Quran/Nasheed guidelines for users..."}),s.jsx("p",{className:"text-xs text-gray-500",children:"This appears at the top of the Recording Studio page."})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3 pt-4",children:[s.jsx(G,{onClick:g,children:"Save Settings"}),s.jsx(G,{variant:"outline",onClick:()=>e(xw),children:"Reset to Defaults"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Stored locally for now. For production, persist in Firestore or your backend (Netlify functions), with secure server-side enforcement."}),s.jsxs("div",{className:"pt-8 border-t",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Admin Auth Tools"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 items-end",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Check if Auth Email Exists"}),s.jsx(Te,{type:"email",placeholder:"user@example.com",value:i,onChange:x=>a(x.target.value)})]}),s.jsx("div",{className:"space-y-3",children:s.jsx(G,{onClick:async()=>{var x,N;c("");try{const{auth:w}=(await sn(async()=>{const{getFirebase:k}=await Promise.resolve().then(()=>jA);return{getFirebase:k}},void 0)).getFirebase(),j=await((N=(x=w==null?void 0:w.currentUser)==null?void 0:x.getIdToken)==null?void 0:N.call(x));if(!j)throw new Error("Admin login required");const _=await fetch("/.netlify/functions/authLookup",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${j}`},body:JSON.stringify({email:i.trim().toLowerCase()})}),E=await _.json().catch(()=>({}));if(!_.ok)throw new Error((E==null?void 0:E.error)||`Error ${_.status}`);c(E.exists?`Exists (uid: ${E.uid})`:"Not found in Auth")}catch(w){c(`Lookup failed: ${w.message||w}`)}},children:"Check Email"})})]}),o&&s.jsx("div",{className:"mt-3 text-sm p-2 rounded border bg-white/60",children:o}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:'Requires admin login and server-side verification. Useful when signup says "email already in use" but no user appears in Firestore.'}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-6 items-end",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Delete Test Account (Email or UID)"}),s.jsx(Te,{placeholder:"user@example.com or UID",value:d,onChange:x=>h(x.target.value)})]}),s.jsx("div",{className:"space-y-3",children:s.jsx(G,{variant:"destructive",onClick:async()=>{var N,w;f("");const x=d.trim();if(!x){f("Provide email or UID");return}try{const{auth:j}=(await sn(async()=>{const{getFirebase:R}=await Promise.resolve().then(()=>jA);return{getFirebase:R}},void 0)).getFirebase(),_=await((w=(N=j==null?void 0:j.currentUser)==null?void 0:N.getIdToken)==null?void 0:w.call(N));if(!_)throw new Error("Admin login required");const E=/@/.test(x),k=await fetch("/.netlify/functions/deleteUser",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${_}`},body:JSON.stringify(E?{email:x.toLowerCase()}:{uid:x})}),C=await k.json().catch(()=>({}));if(!k.ok)throw new Error((C==null?void 0:C.error)||`Error ${k.status}`);f(`Deleted: uid=${C.uid}${C.email?`, email=${C.email}`:""}`)}catch(j){f(`Delete failed: ${j.message||j}`)}},children:"Delete Account"})})]}),m&&s.jsx("div",{className:"mt-3 text-sm p-2 rounded border bg-white/60",children:m})]})]})]})})})}function UF(){const[t,e]=v.useState(null),[n,r]=v.useState(!1),[i,a]=v.useState(""),[o,c]=v.useState("all"),d=si();Yn();const[h,m]=v.useState({title:"",content:"",moral:"",image_url:"",audio_url:"",age_range:"5-12",category:"prophets"}),{data:f=[],isLoading:g}=Un({queryKey:["admin-stories"],queryFn:async()=>await base44.entities.Story.list("-created_date"),initialData:[]}),x=Sn({mutationFn:async R=>await base44.entities.Story.create(R),onSuccess:()=>{d.invalidateQueries({queryKey:["admin-stories"]}),r(!1),j()}}),N=Sn({mutationFn:async({id:R,storyData:F})=>await base44.entities.Story.update(R,F),onSuccess:()=>{d.invalidateQueries({queryKey:["admin-stories"]}),e(null),r(!1),j()}}),w=Sn({mutationFn:async R=>await base44.entities.Story.delete(R),onSuccess:()=>{d.invalidateQueries({queryKey:["admin-stories"]})}}),j=()=>{m({title:"",content:"",moral:"",image_url:"",audio_url:"",age_range:"5-12",category:"prophets"})},_=R=>{e(R),m({title:R.title,content:R.content,moral:R.moral,image_url:R.image_url||"",audio_url:R.audio_url||"",age_range:R.age_range||"5-12",category:R.category}),r(!0)},E=async R=>{window.confirm("Are you sure you want to delete this story?")&&await w.mutateAsync(R)},k=async R=>{R.preventDefault(),t?await N.mutateAsync({id:t.id,storyData:h}):await x.mutateAsync(h)},C=f.filter(R=>{const F=R.title.toLowerCase().includes(i.toLowerCase())||R.content.toLowerCase().includes(i.toLowerCase()),M=o==="all"||R.category===o;return F&&M});return s.jsx("div",{className:"min-h-screen py-8 px-4 bg-gradient-to-br from-slate-50 to-blue-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Rt,{to:rt("AdminDashboard"),children:s.jsxs(G,{variant:"outline",children:[s.jsx(Ll,{className:"w-4 h-4 mr-2"}),"Back"]})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Stories Management"}),s.jsx("p",{className:"text-gray-600",children:"Create and manage Islamic stories"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Rt,{to:rt("Assistant"),children:s.jsxs(G,{variant:"outline",children:[s.jsx(eh,{className:"w-4 h-4 mr-2"}),"Open AI Agent"]})}),s.jsx(Rt,{to:rt("AdminMedia"),children:s.jsxs(G,{variant:"outline",children:[s.jsx(io,{className:"w-4 h-4 mr-2"}),"Media Library"]})}),s.jsxs(G,{onClick:()=>{r(!0),e(null),j()},className:"bg-green-600 hover:bg-green-700",children:[s.jsx(Os,{className:"w-4 h-4 mr-2"}),"Add New Story"]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(va,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx(Te,{type:"text",placeholder:"Search stories...",value:i,onChange:R=>a(R.target.value),className:"pl-10"})]}),s.jsxs(Qt,{value:o,onValueChange:c,children:[s.jsx(qt,{className:"w-full sm:w-48",children:s.jsx(Yt,{placeholder:"Filter by category"})}),s.jsxs(Ht,{children:[s.jsx(Re,{value:"all",children:"All Categories"}),s.jsx(Re,{value:"prophets",children:"Prophets"}),s.jsx(Re,{value:"sahabah",children:"Sahabah"}),s.jsx(Re,{value:"manners",children:"Manners"}),s.jsx(Re,{value:"kindness",children:"Kindness"}),s.jsx(Re,{value:"honesty",children:"Honesty"}),s.jsx(Re,{value:"gratitude",children:"Gratitude"}),s.jsx(Re,{value:"bedtime",children:"Bedtime"})]})]})]}),s.jsx(ri,{children:n&&s.jsx(ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:s.jsxs(ne.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"sticky top-0 bg-white border-b p-6 z-10",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl font-bold",children:t?"Edit Story":"Create New Story"}),s.jsx(G,{variant:"ghost",size:"icon",onClick:()=>{r(!1),e(null),j()},children:s.jsx(ps,{className:"w-6 h-6"})})]})}),s.jsxs("form",{onSubmit:k,className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Title *"}),s.jsx(Te,{value:h.title,onChange:R=>m({...h,title:R.target.value}),required:!0,placeholder:"e.g., The Story of Prophet Yusuf"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Category *"}),s.jsxs(Qt,{value:h.category,onValueChange:R=>m({...h,category:R}),children:[s.jsx(qt,{children:s.jsx(Yt,{})}),s.jsxs(Ht,{children:[s.jsx(Re,{value:"prophets",children:"Prophets"}),s.jsx(Re,{value:"sahabah",children:"Sahabah"}),s.jsx(Re,{value:"manners",children:"Manners"}),s.jsx(Re,{value:"kindness",children:"Kindness"}),s.jsx(Re,{value:"honesty",children:"Honesty"}),s.jsx(Re,{value:"gratitude",children:"Gratitude"}),s.jsx(Re,{value:"bedtime",children:"Bedtime"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Age Range"}),s.jsxs(Qt,{value:h.age_range,onValueChange:R=>m({...h,age_range:R}),children:[s.jsx(qt,{children:s.jsx(Yt,{})}),s.jsxs(Ht,{children:[s.jsx(Re,{value:"3-6",children:"3-6 years"}),s.jsx(Re,{value:"5-12",children:"5-12 years"}),s.jsx(Re,{value:"7-10",children:"7-10 years"}),s.jsx(Re,{value:"11+",children:"11+ years"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Story Content * (Markdown supported)"}),s.jsx(Rn,{value:h.content,onChange:R=>m({...h,content:R.target.value}),required:!0,rows:12,placeholder:"Write your story here... You can use **bold**, *italic*, and # headings",className:"font-mono"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Tip: Use markdown formatting for better text styling"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Moral/Lesson *"}),s.jsx(Rn,{value:h.moral,onChange:R=>m({...h,moral:R.target.value}),required:!0,rows:3,placeholder:"What should children learn from this story?"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Image URL (optional)"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Te,{value:h.image_url,onChange:R=>m({...h,image_url:R.target.value}),placeholder:"https://... or upload via Media Library"}),s.jsx(Rt,{to:rt("AdminMedia"),target:"_blank",children:s.jsx(G,{type:"button",variant:"outline",children:s.jsx(io,{className:"w-4 h-4"})})})]}),h.image_url&&s.jsx("img",{src:h.image_url,alt:"Preview",className:"mt-2 h-32 object-cover rounded-lg",onError:R=>R.target.style.display="none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Audio URL (optional)"}),s.jsx(Te,{value:h.audio_url,onChange:R=>m({...h,audio_url:R.target.value}),placeholder:"https://... (MP3 audio narration)"})]}),s.jsxs("div",{className:"flex gap-4 justify-end border-t pt-6",children:[s.jsx(G,{type:"button",variant:"outline",onClick:()=>{r(!1),e(null),j()},children:"Cancel"}),s.jsxs(G,{type:"submit",className:"bg-green-600 hover:bg-green-700",children:[s.jsx(ya,{className:"w-4 h-4 mr-2"}),t?"Update Story":"Create Story"]})]})]})]})})}),g?s.jsx("div",{className:"text-center py-12",children:"Loading stories..."}):C.length===0?s.jsxs(se,{className:"p-12 text-center",children:[s.jsx(jn,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-gray-600",children:f.length===0?"No stories created yet.":"No stories match your search."}),s.jsx(G,{onClick:()=>r(!0),className:"mt-4",children:"Create Your First Story"})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:C.map(R=>s.jsxs(se,{className:"hover:shadow-lg transition-shadow",children:[s.jsxs(Fe,{className:"pb-3",children:[R.image_url&&s.jsx("div",{className:"h-48 -mx-6 -mt-6 mb-4 rounded-t-lg overflow-hidden",children:s.jsx("img",{src:R.image_url,alt:R.title,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsx(Ve,{className:"text-lg line-clamp-2",children:R.title}),s.jsx(_e,{children:R.category})]})]}),s.jsxs(ae,{children:[s.jsxs("p",{className:"text-sm text-gray-600 mb-4 line-clamp-3",children:[R.content.substring(0,150),"..."]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 mb-4",children:[s.jsx("span",{children:R.age_range}),R.audio_url&&s.jsx("span",{children:"  Audio"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(G,{onClick:()=>_(R),size:"sm",className:"flex-1 bg-blue-600 hover:bg-blue-700",children:[s.jsx(yo,{className:"w-4 h-4 mr-1"}),"Edit"]}),s.jsx(G,{onClick:()=>E(R.id),size:"sm",variant:"outline",className:"text-red-600 border-red-600 hover:bg-red-50",children:s.jsx(hr,{className:"w-4 h-4"})})]})]})]},R.id))}),s.jsxs("div",{className:"mt-8 grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsx(se,{children:s.jsxs(ae,{className:"p-4 text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:f.length}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total Stories"})]})}),s.jsx(se,{children:s.jsxs(ae,{className:"p-4 text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-green-600",children:f.filter(R=>R.image_url).length}),s.jsx("p",{className:"text-sm text-gray-600",children:"With Images"})]})}),s.jsx(se,{children:s.jsxs(ae,{className:"p-4 text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-purple-600",children:f.filter(R=>R.audio_url).length}),s.jsx("p",{className:"text-sm text-gray-600",children:"With Audio"})]})})]})]})})}function mpe(t){const e=fpe(t),n=v.forwardRef((r,i)=>{const{children:a,...o}=r,c=v.Children.toArray(a),d=c.find(gpe);if(d){const h=d.props.children,m=c.map(f=>f===d?v.Children.count(h)>1?v.Children.only(null):v.isValidElement(h)?h.props.children:null:f);return s.jsx(e,{...o,ref:i,children:v.isValidElement(h)?v.cloneElement(h,void 0,m):null})}return s.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function fpe(t){const e=v.forwardRef((n,r)=>{const{children:i,...a}=n;if(v.isValidElement(i)){const o=ype(i),c=xpe(a,i.props);return i.type!==v.Fragment&&(c.ref=r?vo(r,o):o),v.cloneElement(i,c)}return v.Children.count(i)>1?v.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var ppe=Symbol("radix.slottable");function gpe(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===ppe}function xpe(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...c)=>{const d=a(...c);return i(...c),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function ype(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var p0="Dialog",[zF]=bo(p0),[vpe,Ai]=zF(p0),BF=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:o=!0}=t,c=v.useRef(null),d=v.useRef(null),[h,m]=$c({prop:r,defaultProp:i??!1,onChange:a,caller:p0});return s.jsx(vpe,{scope:e,triggerRef:c,contentRef:d,contentId:eo(),titleId:eo(),descriptionId:eo(),open:h,onOpenChange:m,onOpenToggle:v.useCallback(()=>m(f=>!f),[m]),modal:o,children:n})};BF.displayName=p0;var $F="DialogTrigger",bpe=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ai($F,n),a=Kt(e,i.triggerRef);return s.jsx(Ct.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":mS(i.open),...r,ref:a,onClick:Je(t.onClick,i.onOpenToggle)})});bpe.displayName=$F;var dS="DialogPortal",[wpe,qF]=zF(dS,{forceMount:void 0}),HF=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,a=Ai(dS,e);return s.jsx(wpe,{scope:e,forceMount:n,children:v.Children.map(r,o=>s.jsx(wo,{present:n||a.open,children:s.jsx(ky,{asChild:!0,container:i,children:o})}))})};HF.displayName=dS;var ly="DialogOverlay",WF=v.forwardRef((t,e)=>{const n=qF(ly,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,a=Ai(ly,t.__scopeDialog);return a.modal?s.jsx(wo,{present:r||a.open,children:s.jsx(_pe,{...i,ref:e})}):null});WF.displayName=ly;var jpe=mpe("DialogOverlay.RemoveScroll"),_pe=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ai(ly,n);return s.jsx(Ay,{as:jpe,allowPinchZoom:!0,shards:[i.contentRef],children:s.jsx(Ct.div,{"data-state":mS(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),ru="DialogContent",KF=v.forwardRef((t,e)=>{const n=qF(ru,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,a=Ai(ru,t.__scopeDialog);return s.jsx(wo,{present:r||a.open,children:a.modal?s.jsx(Npe,{...i,ref:e}):s.jsx(Spe,{...i,ref:e})})});KF.displayName=ru;var Npe=v.forwardRef((t,e)=>{const n=Ai(ru,t.__scopeDialog),r=v.useRef(null),i=Kt(e,n.contentRef,r);return v.useEffect(()=>{const a=r.current;if(a)return b_(a)},[]),s.jsx(GF,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Je(t.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Je(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0;(o.button===2||c)&&a.preventDefault()}),onFocusOutside:Je(t.onFocusOutside,a=>a.preventDefault())})}),Spe=v.forwardRef((t,e)=>{const n=Ai(ru,t.__scopeDialog),r=v.useRef(!1),i=v.useRef(!1);return s.jsx(GF,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,c;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(r.current||(c=n.triggerRef.current)==null||c.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var d,h;(d=t.onInteractOutside)==null||d.call(t,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((h=n.triggerRef.current)==null?void 0:h.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),GF=v.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=t,c=Ai(ru,n),d=v.useRef(null),h=Kt(e,d);return u_(),s.jsxs(s.Fragment,{children:[s.jsx(jy,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:s.jsx(wy,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":mS(c.open),...o,ref:h,onDismiss:()=>c.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(Epe,{titleId:c.titleId}),s.jsx(kpe,{contentRef:d,descriptionId:c.descriptionId})]})]})}),hS="DialogTitle",QF=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ai(hS,n);return s.jsx(Ct.h2,{id:i.titleId,...r,ref:e})});QF.displayName=hS;var YF="DialogDescription",JF=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ai(YF,n);return s.jsx(Ct.p,{id:i.descriptionId,...r,ref:e})});JF.displayName=YF;var XF="DialogClose",ZF=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ai(XF,n);return s.jsx(Ct.button,{type:"button",...r,ref:e,onClick:Je(t.onClick,()=>i.onOpenChange(!1))})});ZF.displayName=XF;function mS(t){return t?"open":"closed"}var eV="DialogTitleWarning",[_ge,tV]=sW(eV,{contentName:ru,titleName:hS,docsSlug:"dialog"}),Epe=({titleId:t})=>{const e=tV(eV),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return v.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Cpe="DialogDescriptionWarning",kpe=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${tV(Cpe).contentName}}.`;return v.useEffect(()=>{var a;const i=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},Tpe=BF,Ape=HF,nV=WF,rV=KF,sV=QF,iV=JF,Ipe=ZF;const _f=Tpe,Rpe=Ape,aV=v.forwardRef(({className:t,...e},n)=>s.jsx(nV,{ref:n,className:ct("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));aV.displayName=nV.displayName;const Gd=v.forwardRef(({className:t,children:e,...n},r)=>s.jsxs(Rpe,{children:[s.jsx(aV,{}),s.jsxs(rV,{ref:r,className:ct("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,s.jsxs(Ipe,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(ps,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Gd.displayName=rV.displayName;const Qd=({className:t,...e})=>s.jsx("div",{className:ct("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Qd.displayName="DialogHeader";const Yd=v.forwardRef(({className:t,...e},n)=>s.jsx(sV,{ref:n,className:ct("text-lg font-semibold leading-none tracking-tight",t),...e}));Yd.displayName=sV.displayName;const Ppe=v.forwardRef(({className:t,...e},n)=>s.jsx(iV,{ref:n,className:ct("text-sm text-muted-foreground",t),...e}));Ppe.displayName=iV.displayName;function oV(){const[t,e]=v.useState(!1),[n,r]=v.useState(null),[i,a]=v.useState(!1),[o,c]=v.useState({title:"",mp3_url:"",cover_image:"",description:"",transcript:"",moral_lesson:"",duration:"",age_group:"all",category:"story",subcategory:"",language:"English",allow_download:!1,featured:!1}),d=si(),{data:h=[],isLoading:m}=Un({queryKey:["admin-audio"],queryFn:()=>base44.entities.AudioContent.list("-created_date"),initialData:[]}),f=Sn({mutationFn:E=>base44.entities.AudioContent.create(E),onSuccess:()=>{d.invalidateQueries({queryKey:["admin-audio"]}),e(!1),N()}}),g=Sn({mutationFn:({id:E,data:k})=>base44.entities.AudioContent.update(E,k),onSuccess:()=>{d.invalidateQueries({queryKey:["admin-audio"]}),e(!1),N()}}),x=Sn({mutationFn:E=>base44.entities.AudioContent.delete(E),onSuccess:()=>{d.invalidateQueries({queryKey:["admin-audio"]})}}),N=()=>{c({title:"",mp3_url:"",cover_image:"",description:"",transcript:"",moral_lesson:"",duration:"",age_group:"all",category:"story",subcategory:"",language:"English",allow_download:!1,featured:!1}),r(null)},w=E=>{r(E),c({title:E.title||"",mp3_url:E.mp3_url||"",cover_image:E.cover_image||"",description:E.description||"",transcript:E.transcript||"",moral_lesson:E.moral_lesson||"",duration:E.duration||"",age_group:E.age_group||"all",category:E.category||"story",subcategory:E.subcategory||"",language:E.language||"English",allow_download:E.allow_download||!1,featured:E.featured||!1}),e(!0)},j=E=>{E.preventDefault(),n?g.mutate({id:n.id,data:o}):f.mutate(o)},_=async(E,k)=>{const C=E.target.files[0];if(C){a(!0);try{const{file_url:R}=await base44.integrations.Core.UploadFile({file:C});c({...o,[k]:R})}catch(R){console.error("Error uploading file:",R),alert("Failed to upload file")}finally{a(!1)}}};return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"Audio Content Management"}),s.jsxs(G,{onClick:()=>{N(),e(!0)},className:"bg-green-600 hover:bg-green-700",children:[s.jsx(Os,{className:"w-4 h-4 mr-2"}),"Add New Audio"]})]}),m?s.jsx("p",{className:"text-center py-12 text-gray-500",children:"Loading audio content..."}):s.jsx("div",{className:"grid gap-6",children:h.map((E,k)=>s.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:k*.05},children:s.jsxs(se,{children:[s.jsx(Fe,{children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex gap-4 flex-1",children:[E.cover_image&&s.jsx("img",{src:E.cover_image,alt:E.title,className:"w-20 h-20 rounded object-cover"}),s.jsxs("div",{className:"flex-1",children:[s.jsx(Ve,{className:"text-xl mb-2",children:E.title}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:E.category}),s.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:E.age_group}),E.duration&&s.jsx("span",{className:"text-xs bg-gray-100 text-gray-800 px-2 py-1 rounded",children:E.duration}),E.featured&&s.jsx("span",{className:"text-xs bg-amber-100 text-amber-800 px-2 py-1 rounded",children:" Featured"})]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[E.mp3_url&&s.jsx(G,{variant:"outline",size:"sm",onClick:()=>window.open(E.mp3_url,"_blank"),children:s.jsx(dr,{className:"w-4 h-4"})}),s.jsx(G,{variant:"outline",size:"sm",onClick:()=>w(E),children:s.jsx(UB,{className:"w-4 h-4"})}),s.jsx(G,{variant:"outline",size:"sm",onClick:()=>{confirm("Are you sure you want to delete this audio?")&&x.mutate(E.id)},className:"text-red-600 hover:text-red-700",children:s.jsx(hr,{className:"w-4 h-4"})})]})]})}),E.description&&s.jsx(ae,{children:s.jsx("p",{className:"text-gray-600 text-sm line-clamp-2",children:E.description})})]})},E.id))}),s.jsx(_f,{open:t,onOpenChange:e,children:s.jsxs(Gd,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Qd,{children:s.jsx(Yd,{children:n?"Edit Audio":"Add New Audio"})}),s.jsxs("form",{onSubmit:j,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"title",children:"Title *"}),s.jsx(Te,{id:"title",value:o.title,onChange:E=>c({...o,title:E.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"duration",children:"Duration (MM:SS)"}),s.jsx(Te,{id:"duration",value:o.duration,onChange:E=>c({...o,duration:E.target.value}),placeholder:"05:30"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"category",children:"Category *"}),s.jsxs(Qt,{value:o.category,onValueChange:E=>c({...o,category:E}),children:[s.jsx(qt,{children:s.jsx(Yt,{})}),s.jsxs(Ht,{children:[s.jsx(Re,{value:"story",children:"Story"}),s.jsx(Re,{value:"hadith",children:"Hadith"}),s.jsx(Re,{value:"history",children:"History"}),s.jsx(Re,{value:"nasheed",children:"Nasheed"}),s.jsx(Re,{value:"tajweed",children:"Tajweed"}),s.jsx(Re,{value:"fiqh",children:"Fiqh"}),s.jsx(Re,{value:"quran",children:"Quran"})]})]})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"age_group",children:"Age Group"}),s.jsxs(Qt,{value:o.age_group,onValueChange:E=>c({...o,age_group:E}),children:[s.jsx(qt,{children:s.jsx(Yt,{})}),s.jsxs(Ht,{children:[s.jsx(Re,{value:"3-6",children:"3-6 years"}),s.jsx(Re,{value:"7-10",children:"7-10 years"}),s.jsx(Re,{value:"11+",children:"11+ years"}),s.jsx(Re,{value:"all",children:"All Ages"})]})]})]})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"description",children:"Description"}),s.jsx(Rn,{id:"description",value:o.description,onChange:E=>c({...o,description:E.target.value}),rows:3})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"mp3",children:"Audio File (MP3) *"}),s.jsxs("div",{className:"flex gap-2 items-end",children:[s.jsx("div",{className:"flex-1",children:s.jsx(Te,{id:"mp3",value:o.mp3_url,onChange:E=>c({...o,mp3_url:E.target.value}),placeholder:"MP3 URL or upload below",required:!0})}),s.jsxs(G,{type:"button",variant:"outline",onClick:()=>document.getElementById("mp3-upload").click(),disabled:i,children:[s.jsx(_l,{className:"w-4 h-4 mr-2"}),i?"Uploading...":"Upload"]}),s.jsx("input",{id:"mp3-upload",type:"file",accept:"audio/*",className:"hidden",onChange:E=>_(E,"mp3_url")})]})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"cover",children:"Cover Image"}),s.jsxs("div",{className:"flex gap-2 items-end",children:[s.jsx("div",{className:"flex-1",children:s.jsx(Te,{id:"cover",value:o.cover_image,onChange:E=>c({...o,cover_image:E.target.value}),placeholder:"Image URL or upload below"})}),s.jsxs(G,{type:"button",variant:"outline",onClick:()=>document.getElementById("cover-upload").click(),disabled:i,children:[s.jsx(_l,{className:"w-4 h-4 mr-2"}),i?"Uploading...":"Upload"]}),s.jsx("input",{id:"cover-upload",type:"file",accept:"image/*",className:"hidden",onChange:E=>_(E,"cover_image")})]})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"transcript",children:"Transcript"}),s.jsx(Rn,{id:"transcript",value:o.transcript,onChange:E=>c({...o,transcript:E.target.value}),rows:6,placeholder:"Full text transcript of the audio..."})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"moral",children:"Moral Lesson"}),s.jsx(Rn,{id:"moral",value:o.moral_lesson,onChange:E=>c({...o,moral_lesson:E.target.value}),rows:2})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"featured",checked:o.featured,onChange:E=>c({...o,featured:E.target.checked}),className:"w-4 h-4"}),s.jsx(ye,{htmlFor:"featured",className:"cursor-pointer",children:"Featured Content"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"allow_download",checked:o.allow_download,onChange:E=>c({...o,allow_download:E.target.checked}),className:"w-4 h-4"}),s.jsx(ye,{htmlFor:"allow_download",className:"cursor-pointer",children:"Allow Downloads"})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx(G,{type:"button",variant:"outline",onClick:()=>e(!1),className:"flex-1",children:"Cancel"}),s.jsx(G,{type:"submit",disabled:f.isPending||g.isPending,className:"flex-1 bg-green-600 hover:bg-green-700",children:n?"Update Audio":"Create Audio"})]})]})]})})]})})}function lV(){const[t,e]=v.useState(null),[n,r]=v.useState(!1),[i,a]=v.useState([]),[o,c]=v.useState(null),[d,h]=v.useState(""),[m,f]=v.useState(!1),[g,x]=v.useState([]);Yn(),v.useEffect(()=>{N()},[]);const N=()=>{const I=localStorage.getItem("uploaded_media_files");I&&a(JSON.parse(I))},w=I=>{localStorage.setItem("uploaded_media_files",JSON.stringify(I)),a(I)},j=v.useCallback(I=>{I.preventDefault(),I.stopPropagation(),I.type==="dragenter"||I.type==="dragover"?f(!0):I.type==="dragleave"&&f(!1)},[]),_=v.useCallback(I=>{I.preventDefault(),I.stopPropagation(),f(!1),I.dataTransfer.files&&I.dataTransfer.files[0]&&k(I.dataTransfer.files)},[]),E=I=>{I.target.files&&I.target.files[0]&&k(I.target.files)},k=async I=>{r(!0);const L=[];for(let D=0;D<I.length;D++){const V=I[D];try{const J=await yt.integrations.Core.UploadFile({file:V});L.push({id:Date.now()+D,name:V.name,url:J.file_url,type:V.type,size:V.size,uploadedAt:new Date().toISOString()})}catch(J){console.error("Upload failed:",J),alert(`Failed to upload ${V.name}`)}}const U=[...L,...i];w(U),r(!1)},C=I=>{navigator.clipboard.writeText(I),c(I),setTimeout(()=>c(null),2e3)},R=I=>{if(window.confirm("Delete this file? This won't delete it from storage but removes it from this list.")){const L=i.filter(U=>U.id!==I);w(L)}},F=I=>{g.includes(I)?x(g.filter(L=>L!==I)):x([...g,I])},M=()=>{if(window.confirm(`Delete ${g.length} selected files?`)){const I=i.filter(L=>!g.includes(L.id));w(I),x([])}},P=i.filter(I=>I.name.toLowerCase().includes(d.toLowerCase()));return s.jsx("div",{className:"min-h-screen py-8 px-4 bg-gradient-to-br from-slate-50 to-blue-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Rt,{to:rt("AdminDashboard"),children:s.jsxs(G,{variant:"outline",children:[s.jsx(Ll,{className:"w-4 h-4 mr-2"}),"Back"]})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Media Library"}),s.jsx("p",{className:"text-gray-600",children:"Upload and manage images & files"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Rt,{to:rt("Assistant"),children:s.jsxs(G,{variant:"outline",children:[s.jsx(eh,{className:"w-4 h-4 mr-2"}),"Open AI Agent"]})}),g.length>0&&s.jsxs(G,{onClick:M,variant:"destructive",children:[s.jsx(hr,{className:"w-4 h-4 mr-2"}),"Delete ",g.length," Selected"]})]})]}),s.jsxs(se,{className:"mb-8",children:[s.jsx(Fe,{children:s.jsxs(Ve,{className:"flex items-center gap-2",children:[s.jsx(_l,{className:"w-6 h-6"}),"Upload Files"]})}),s.jsx(ae,{children:s.jsx("div",{className:`border-4 border-dashed rounded-xl p-12 text-center transition-all ${m?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:j,onDragLeave:j,onDragOver:j,onDrop:_,children:n?s.jsxs("div",{children:[s.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Uploading..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(io,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Drag & Drop Files Here"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"or click to browse (supports multiple files)"}),s.jsx("input",{type:"file",multiple:!0,onChange:E,className:"hidden",id:"file-input",accept:"image/*,audio/*,video/*"}),s.jsx("label",{htmlFor:"file-input",children:s.jsx(G,{type:"button",className:"cursor-pointer",asChild:!0,children:s.jsxs("span",{children:[s.jsx(_l,{className:"w-4 h-4 mr-2"}),"Choose Files"]})})}),s.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Supported: Images, Audio, Video files"})]})})})]}),s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(va,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx(Te,{type:"text",placeholder:"Search files...",value:d,onChange:I=>h(I.target.value),className:"pl-10"})]}),s.jsxs("div",{className:"text-sm text-gray-600",children:[P.length," files"]})]})}),P.length===0?s.jsxs(se,{className:"p-12 text-center",children:[s.jsx(io,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-gray-600",children:i.length===0?"No files uploaded yet. Upload your first file above!":"No files match your search."})]}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:s.jsx(ri,{children:P.map(I=>{var L,U,D;return s.jsx(ne.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},children:s.jsx(se,{className:`hover:shadow-lg transition-all cursor-pointer ${g.includes(I.id)?"ring-2 ring-blue-500":""}`,children:s.jsxs(ae,{className:"p-0",children:[s.jsxs("div",{className:"relative h-48 bg-gray-100 rounded-t-lg overflow-hidden",onClick:()=>F(I.id),children:[(L=I.type)!=null&&L.startsWith("image/")?s.jsx("img",{src:I.url,alt:I.name,className:"w-full h-full object-cover"}):(U=I.type)!=null&&U.startsWith("audio/")?s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx("div",{className:"text-6xl",children:""})}):(D=I.type)!=null&&D.startsWith("video/")?s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx("div",{className:"text-6xl",children:""})}):s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx("div",{className:"text-6xl",children:""})}),g.includes(I.id)&&s.jsx("div",{className:"absolute top-2 right-2 bg-blue-500 text-white rounded-full p-1",children:s.jsx(Gm,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("p",{className:"font-semibold text-sm mb-2 truncate",title:I.name,children:I.name}),s.jsxs("p",{className:"text-xs text-gray-500 mb-3",children:[(I.size/1024).toFixed(1)," KB  ",new Date(I.uploadedAt).toLocaleDateString()]}),s.jsx("div",{className:"flex items-center gap-2 mb-3",children:s.jsx(Te,{value:I.url,readOnly:!0,className:"text-xs flex-1",onClick:V=>V.target.select()})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(G,{size:"sm",className:"flex-1",onClick:()=>C(I.url),children:o===I.url?s.jsxs(s.Fragment,{children:[s.jsx(Gm,{className:"w-3 h-3 mr-1"}),"Copied!"]}):s.jsxs(s.Fragment,{children:[s.jsx($z,{className:"w-3 h-3 mr-1"}),"Copy URL"]})}),s.jsx(G,{size:"sm",variant:"outline",onClick:()=>R(I.id),className:"text-red-600 hover:bg-red-50",children:s.jsx(hr,{className:"w-3 h-3"})})]})]})]})})},I.id)})})}),s.jsx(se,{className:"mt-8 bg-blue-50 border-blue-200",children:s.jsxs(ae,{className:"p-6",children:[s.jsx("h3",{className:"font-bold text-lg mb-3",children:" How to Use Uploaded Files"}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[s.jsxs("p",{children:["1. ",s.jsx("strong",{children:"Copy the URL"})," from any file above"]}),s.jsxs("p",{children:["2. ",s.jsx("strong",{children:"Paste it"})," into Story Image URL, Audio URL, or Video fields"]}),s.jsx("p",{children:"3. The file will be displayed in your content"}),s.jsxs("p",{children:["4. ",s.jsx("strong",{children:"Tip:"})," Upload images for stories, audio for lessons, videos for tutorials"]})]})]})})]})})}function cV(){const t=[{icon:DR,title:"Information We Collect",color:"from-blue-500 to-cyan-500",content:[{subtitle:"Personal Information",text:"When you create an account, we collect basic information such as your child's name, age, city, and email address. We only collect the minimum information necessary to provide our services."},{subtitle:"Usage Data",text:"We collect information about how you use our website, including pages visited, games played, and learning progress. This helps us improve our services and provide a better experience."},{subtitle:"Recordings and Submissions",text:"If your child submits audio recordings, drawings, or writings through our platform, we store this content along with the associated user information."}]},{icon:OR,title:"How We Use Your Information",color:"from-green-500 to-emerald-500",content:[{subtitle:"Service Delivery",text:"We use your information to provide access to educational content, games, and learning materials on our platform."},{subtitle:"Progress Tracking",text:"We track learning progress, points, and achievements to motivate children and provide personalized learning experiences."},{subtitle:"Communication",text:"We may send important updates about the platform, new features, or educational content. We will never send spam or share your email with third parties."},{subtitle:"Improvement",text:"We analyze usage patterns to improve our content and make the learning experience better for all children."}]},{icon:qC,title:"Children's Privacy",color:"from-purple-500 to-pink-500",content:[{subtitle:"Age Requirements",text:"Our service is designed for children aged 3-18. We take children's privacy very seriously and comply with applicable children's privacy laws."},{subtitle:"Parental Consent",text:"We encourage parents to be involved in their children's online activities. Parents can request to review, update, or delete their child's information at any time."},{subtitle:"Safe Environment",text:"We maintain a safe, ad-free environment. We never show advertisements or share children's information with third-party advertisers."},{subtitle:"No Public Profiles",text:"Children's profiles and personal information are not publicly visible. Only usernames and points appear on leaderboards."}]},{icon:su,title:"Data Protection & Security",color:"from-amber-500 to-orange-500",content:[{subtitle:"Secure Storage",text:"We use industry-standard security measures to protect your information. All data is stored securely using encryption."},{subtitle:"Access Control",text:"Access to personal information is restricted to authorized personnel only, and only when necessary for service delivery."},{subtitle:"No Data Selling",text:"We will never sell, rent, or trade your personal information or your child's information to third parties."}]},{icon:_j,title:"Third-Party Services",color:"from-red-500 to-rose-500",content:[{subtitle:"External Links",text:"Our website may contain links to external websites (e.g., SearchTruth.com for Hadith search). We are not responsible for the privacy practices of these external sites."},{subtitle:"Analytics",text:"We may use basic analytics to understand how our service is used, but we do not share personal information with analytics providers."},{subtitle:"Content Delivery",text:"We use secure content delivery networks (CDNs) to serve Quran audio and other educational content."}]},{icon:qC,title:"Your Rights",color:"from-indigo-500 to-purple-500",content:[{subtitle:"Access Your Data",text:"You have the right to access all personal information we hold about you or your child."},{subtitle:"Update Information",text:"You can update your profile information at any time through your account settings."},{subtitle:"Delete Account",text:"You can request deletion of your account and all associated data at any time by contacting us."},{subtitle:"Data Portability",text:"You can request a copy of your data in a portable format."}]}];return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-5xl mx-auto",children:[s.jsxs(ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Privacy Policy"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Your privacy and your child's safety are our top priorities"}),s.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Last Updated: January 2025"})]}),s.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-12",children:s.jsx(se,{className:"border-2 border-blue-300 shadow-xl bg-gradient-to-br from-blue-50 to-purple-50",children:s.jsxs(ae,{className:"p-8",children:[s.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"Welcome to Islam Kids Zone. We are committed to protecting your privacy and ensuring a safe online environment for children. This Privacy Policy explains how we collect, use, and protect your information."}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:"By using our website, you agree to the collection and use of information in accordance with this policy. If you do not agree with our policies, please do not use our service."})]})})}),s.jsx("div",{className:"space-y-8 mb-12",children:t.map((e,n)=>{const r=e.icon;return s.jsx(ne.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:n*.1},children:s.jsxs(se,{className:"border-2 border-gray-200 shadow-lg hover:shadow-xl transition-all",children:[s.jsx(Fe,{children:s.jsxs(Ve,{className:"flex items-center gap-3 text-2xl",children:[s.jsx("div",{className:`w-12 h-12 rounded-xl bg-gradient-to-br ${e.color} flex items-center justify-center`,children:s.jsx(r,{className:"w-6 h-6 text-white"})}),e.title]})}),s.jsx(ae,{className:"space-y-6",children:e.content.map((i,a)=>s.jsxs("div",{className:"bg-gray-50 p-5 rounded-lg border-l-4 border-blue-400",children:[s.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:i.subtitle}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:i.text})]},a))})]})},e.title)})}),s.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"mb-12",children:s.jsxs(se,{className:"border-2 border-amber-300 shadow-xl",children:[s.jsx(Fe,{className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white",children:s.jsx(Ve,{className:"text-2xl",children:" Cookies & Tracking"})}),s.jsxs(ae,{className:"p-6 space-y-4",children:[s.jsxs("p",{className:"text-gray-700",children:[s.jsx("strong",{children:"What are cookies?"})," Cookies are small text files stored on your device that help us remember your preferences and provide a better experience."]}),s.jsxs("div",{className:"bg-amber-50 p-4 rounded-lg",children:[s.jsxs("p",{className:"text-gray-700 mb-2",children:[s.jsx("strong",{children:"Essential Cookies:"})," Required for the website to function properly (e.g., login sessions)."]}),s.jsxs("p",{className:"text-gray-700",children:[s.jsx("strong",{children:"Analytics Cookies:"})," Help us understand how visitors use our site to improve it."]})]}),s.jsx("p",{className:"text-gray-700",children:"You can disable cookies in your browser settings, but this may affect your ability to use certain features of our website."})]})]})}),s.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"mb-12",children:s.jsxs(se,{className:"border-2 border-green-300 shadow-xl",children:[s.jsx(Fe,{className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white",children:s.jsx(Ve,{className:"text-2xl",children:" Data Retention"})}),s.jsxs(ae,{className:"p-6",children:[s.jsx("p",{className:"text-gray-700 mb-4",children:"We retain your personal information only for as long as necessary to provide our services and comply with legal obligations."}),s.jsxs("ul",{className:"space-y-2 text-gray-700",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-green-600 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Active Accounts:"})," Data is retained while your account is active."]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-green-600 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Inactive Accounts:"})," Accounts inactive for 2 years may be deleted after notification."]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-green-600 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Deleted Accounts:"})," Upon request, we delete all personal data within 30 days."]})]})]})]})]})}),s.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"mb-12",children:s.jsxs(se,{className:"border-2 border-purple-300 shadow-xl",children:[s.jsx(Fe,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white",children:s.jsx(Ve,{className:"text-2xl",children:" Changes to This Policy"})}),s.jsxs(ae,{className:"p-6",children:[s.jsx("p",{className:"text-gray-700 mb-4",children:'We may update our Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page and updating the "Last Updated" date.'}),s.jsx("p",{className:"text-gray-700",children:"We encourage you to review this Privacy Policy periodically for any changes. Changes to this Privacy Policy are effective when they are posted on this page."})]})]})}),s.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},children:s.jsxs(se,{className:"border-2 border-blue-300 shadow-2xl bg-gradient-to-br from-blue-50 to-cyan-50",children:[s.jsx(Fe,{children:s.jsxs(Ve,{className:"text-2xl flex items-center gap-2",children:[s.jsx(fy,{className:"w-6 h-6 text-blue-600"}),"Contact Us"]})}),s.jsxs(ae,{className:"p-6",children:[s.jsx("p",{className:"text-gray-700 mb-4",children:"If you have any questions about this Privacy Policy, or if you want to exercise your rights regarding your personal information, please contact us:"}),s.jsx("div",{className:"bg-white p-6 rounded-xl border-2 border-blue-200",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("p",{className:"text-gray-700",children:[s.jsx("strong",{children:"Email:"})," ",s.jsx("a",{href:"mailto:huzaify786@gmail.com",className:"text-blue-600 hover:text-blue-700 underline",children:"huzaify786@gmail.com"})]}),s.jsxs("p",{className:"text-gray-700",children:[s.jsx("strong",{children:"WhatsApp:"})," ",s.jsx("a",{href:"https://wa.me/447447999284",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-700 underline",children:"+44 744 799 9284"})]}),s.jsxs("p",{className:"text-gray-700",children:[s.jsx("strong",{children:"Contact Page:"})," ",s.jsx(Rt,{to:rt("ContactUs"),className:"text-blue-600 hover:text-blue-700 underline",children:"Visit our Contact Page"})]})]})}),s.jsx("p",{className:"text-sm text-gray-600 mt-4",children:"We aim to respond to all privacy-related inquiries within 48 hours."})]})]})}),s.jsx(ne.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"mt-12 text-center",children:s.jsx("p",{className:"text-gray-600 text-sm",children:"Islam Kids Zone is committed to creating a safe, educational, and enjoyable online experience for Muslim children worldwide. "})})]})})}const yw=[{id:"islamic_quiz",name:"Islamic Quiz",icon:""},{id:"word_search",name:"Word Search",icon:""},{id:"memory_match",name:"Memory Match",icon:""},{id:"seerah",name:"Seerah Quiz",icon:""},{id:"quran",name:"Quran Quiz",icon:""},{id:"hadith",name:"Hadith Match",icon:""}];function uV(){const t=Yn(),e=si(),[n,r]=v.useState(null),[i,a]=v.useState(!1),[o,c]=v.useState(yw[0].id),[d,h]=v.useState(""),[m,f]=v.useState("all");v.useEffect(()=>{g()},[]);const g=async()=>{try{if(await base44.auth.isAuthenticated()){const L=await base44.auth.me();r(L)}else t(rt("Games"))}catch(I){console.error("Error loading user:",I),t(rt("Games"))}},{data:x=[]}=Un({queryKey:["all-users"],queryFn:async()=>(await base44.entities.User.list("-points",100)).filter(L=>L.id!==(n==null?void 0:n.id)&&L.email),enabled:!!n,initialData:[]}),{data:N=[],isLoading:w}=Un({queryKey:["challenges",n==null?void 0:n.id],queryFn:async()=>{if(!n)return[];const I=await base44.entities.Challenge.filter({challenger_id:n.id},"-created_date",100),L=await base44.entities.Challenge.filter({opponent_id:n.id},"-created_date",100);return[...I,...L]},enabled:!!n,initialData:[]}),j=Sn({mutationFn:async I=>await base44.entities.Challenge.create(I),onSuccess:()=>{e.invalidateQueries({queryKey:["challenges"]}),a(!1),h("")}}),_=Sn({mutationFn:async I=>await base44.entities.Challenge.update(I,{status:"accepted"}),onSuccess:()=>{e.invalidateQueries({queryKey:["challenges"]})}}),E=Sn({mutationFn:async I=>await base44.entities.Challenge.update(I,{status:"declined"}),onSuccess:()=>{e.invalidateQueries({queryKey:["challenges"]})}}),k=async()=>{if(!d||!n)return;const I=x.find(U=>U.email===d);if(!I){alert("User not found. Please check the email address.");return}const L=new Date;L.setDate(L.getDate()+7),await j.mutateAsync({challenger_id:n.id,challenger_name:n.full_name||n.email,opponent_id:I.id,opponent_name:I.full_name||I.email,game_type:o,status:"pending",expires_at:L.toISOString()}),alert(`Challenge sent to ${I.full_name||I.email}!`)},C=async I=>{await _.mutateAsync(I.id),t(rt("Games")+`?challenge=${I.id}`)},R=I=>{t(rt("Games")+`?challenge=${I.id}`)},F=N.filter(I=>m==="all"?!0:m==="sent"?I.challenger_id===(n==null?void 0:n.id):m==="received"?I.opponent_id===(n==null?void 0:n.id)&&I.status==="pending":m==="completed"?I.status==="completed":!0),M=I=>{const L=I.challenger_id===(n==null?void 0:n.id);switch(I.status){case"pending":return s.jsx(_e,{className:"bg-yellow-500",children:L?"Waiting":"New!"});case"accepted":return s.jsx(_e,{className:"bg-blue-500",children:"In Progress"});case"completed":return s.jsx(_e,{className:"bg-green-500",children:"Completed"});case"declined":return s.jsx(_e,{className:"bg-red-500",children:"Declined"});default:return null}},P=I=>{if(I.status!=="completed"||!I.winner_id)return null;const L=I.winner_id===(n==null?void 0:n.id);return I.challenger_score===I.opponent_score?s.jsx(_e,{className:"bg-gray-500",children:"Draw"}):L?s.jsxs(_e,{className:"bg-green-500 flex items-center gap-1",children:[s.jsx(Kr,{className:"w-3 h-3"})," You Won!"]}):s.jsx(_e,{className:"bg-red-500",children:"You Lost"})};return n?s.jsx("div",{className:"min-h-screen py-8 px-4 bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx("div",{className:"flex items-center justify-between mb-8",children:s.jsxs(G,{variant:"ghost",onClick:()=>t(rt("Games")),className:"text-gray-600",children:[s.jsx(Ll,{className:"w-4 h-4 mr-2"}),"Back to Games"]})}),s.jsxs(ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Challenge Arena"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Challenge friends and compete for glory!"})]}),s.jsx("div",{className:"mb-8",children:s.jsxs(G,{onClick:()=>a(!i),size:"lg",className:"w-full md:w-auto bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:[s.jsx(l$,{className:"w-5 h-5 mr-2"}),"Send New Challenge"]})}),s.jsx(ri,{children:i&&s.jsx(ne.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mb-8",children:s.jsxs(se,{className:"border-2 border-purple-300 shadow-xl",children:[s.jsx(Fe,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white",children:s.jsx(Ve,{children:"Create New Challenge"})}),s.jsx(ae,{className:"p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Select Game Type"}),s.jsxs(Qt,{value:o,onValueChange:c,children:[s.jsx(qt,{children:s.jsx(Yt,{})}),s.jsx(Ht,{children:yw.map(I=>s.jsxs(Re,{value:I.id,children:[I.icon," ",I.name]},I.id))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Opponent's Email"}),s.jsx(Te,{type:"email",value:d,onChange:I=>h(I.target.value),placeholder:"friend@example.com",list:"users-list"}),s.jsx("datalist",{id:"users-list",children:x.map(I=>s.jsx("option",{value:I.email,children:I.full_name||I.email},I.id))})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(G,{onClick:k,disabled:!d||j.isPending,className:"flex-1 bg-gradient-to-r from-green-500 to-teal-500",children:[s.jsx(vx,{className:"w-4 h-4 mr-2"}),j.isPending?"Sending...":"Send Challenge"]}),s.jsx(G,{onClick:()=>a(!1),variant:"outline",className:"flex-1",children:"Cancel"})]})]})})]})})}),s.jsx("div",{className:"flex gap-2 mb-6 overflow-x-auto",children:[{id:"all",label:"All Challenges",icon:Vl},{id:"received",label:"New Challenges",icon:hl},{id:"sent",label:"Sent",icon:vx},{id:"completed",label:"Completed",icon:Kr}].map(I=>{const L=I.icon;return s.jsxs(G,{onClick:()=>f(I.id),variant:m===I.id?"default":"outline",className:m===I.id?"bg-purple-500":"",children:[s.jsx(L,{className:"w-4 h-4 mr-2"}),I.label]},I.id)})}),w?s.jsx("div",{className:"text-center py-12",children:"Loading challenges..."}):F.length===0?s.jsx(se,{className:"border-2 border-gray-200",children:s.jsxs(ae,{className:"p-12 text-center",children:[s.jsx(jl,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-gray-600",children:"No challenges yet. Send one to get started!"})]})}):s.jsx("div",{className:"grid gap-4",children:F.map((I,L)=>{const U=I.challenger_id===n.id,D=U?I.opponent_name:I.challenger_name,V=yw.find(ee=>ee.id===I.game_type),J=new Date(I.expires_at)<new Date;return s.jsx(ne.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:L*.1},children:s.jsx(se,{className:"border-2 hover:shadow-xl transition-all",children:s.jsx(ae,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"text-3xl",children:V==null?void 0:V.icon}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg text-gray-900",children:V==null?void 0:V.name}),s.jsxs("p",{className:"text-sm text-gray-600",children:[U?"vs":"from"," ",D]})]})]}),I.status==="completed"&&s.jsxs("div",{className:"flex gap-4 mt-3 text-sm",children:[s.jsxs("div",{className:"bg-blue-50 px-3 py-2 rounded-lg",children:[s.jsx("span",{className:"text-gray-600",children:"Your score: "}),s.jsx("span",{className:"font-bold text-blue-600",children:U?I.challenger_score:I.opponent_score})]}),s.jsxs("div",{className:"bg-purple-50 px-3 py-2 rounded-lg",children:[s.jsx("span",{className:"text-gray-600",children:"Their score: "}),s.jsx("span",{className:"font-bold text-purple-600",children:U?I.opponent_score:I.challenger_score})]})]}),J&&I.status==="pending"&&s.jsx(_e,{className:"bg-gray-500 mt-2",children:"Expired"})]}),s.jsxs("div",{className:"flex flex-col items-end gap-2",children:[M(I),P(I),I.status==="pending"&&!U&&!J&&s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsxs(G,{onClick:()=>C(I),size:"sm",className:"bg-green-500 hover:bg-green-600",children:[s.jsx(th,{className:"w-4 h-4 mr-1"}),"Accept"]}),s.jsxs(G,{onClick:()=>E.mutate(I.id),size:"sm",variant:"outline",className:"text-red-500 border-red-500",children:[s.jsx(my,{className:"w-4 h-4 mr-1"}),"Decline"]})]}),I.status==="accepted"&&s.jsxs(G,{onClick:()=>R(I),size:"sm",className:"bg-blue-500 hover:bg-blue-600 mt-2",children:[s.jsx(jl,{className:"w-4 h-4 mr-1"}),"Play Now"]})]})]})})})},I.id)})})]})}):s.jsx("div",{className:"text-center py-12",children:"Loading..."})}function dV(){const t=si(),[e,n]=v.useState(!1),[r,i]=v.useState(null),[a,o]=v.useState(""),[c,d]=v.useState("all"),[h,m]=v.useState("all"),[f,g]=v.useState({category:"Quran",difficulty:"easy",question:"",options:["","","",""],correct_answer_index:0,explanation:"",source:"",age_group:"all",is_active:!0}),x=["Quran","Hadith","Seerah","Fiqh","Prophets","Sahabah","Akhlaq","History","Arabic","Beliefs"],N=["easy","medium","hard"],w=["5-8","9-12","13+","all"],{data:j=[],isLoading:_}=Un({queryKey:["quiz-questions"],queryFn:()=>base44.entities.QuizQuestion.list("-date_added",500),initialData:[]}),E=Sn({mutationFn:D=>base44.entities.QuizQuestion.create(D),onSuccess:()=>{t.invalidateQueries({queryKey:["quiz-questions"]}),P()}}),k=Sn({mutationFn:({id:D,data:V})=>base44.entities.QuizQuestion.update(D,V),onSuccess:()=>{t.invalidateQueries({queryKey:["quiz-questions"]}),P()}}),C=Sn({mutationFn:D=>base44.entities.QuizQuestion.delete(D),onSuccess:()=>{t.invalidateQueries({queryKey:["quiz-questions"]})}}),R=async D=>{D.preventDefault();const V={...f,date_added:new Date().toISOString().split("T")[0]};r?await k.mutateAsync({id:r.id,data:V}):await E.mutateAsync(V)},F=D=>{i(D),g({category:D.category,difficulty:D.difficulty,question:D.question,options:D.options,correct_answer_index:D.correct_answer_index,explanation:D.explanation,source:D.source||"",age_group:D.age_group||"all",is_active:D.is_active??!0}),n(!0)},M=async D=>{window.confirm("Are you sure you want to delete this question?")&&await C.mutateAsync(D)},P=()=>{g({category:"Quran",difficulty:"easy",question:"",options:["","","",""],correct_answer_index:0,explanation:"",source:"",age_group:"all",is_active:!0}),i(null),n(!1)},I=(D,V)=>{const J=[...f.options];J[D]=V,g({...f,options:J})},L=j.filter(D=>{const V=D.question.toLowerCase().includes(a.toLowerCase())||D.explanation.toLowerCase().includes(a.toLowerCase()),J=c==="all"||D.category===c,ee=h==="all"||D.difficulty===h;return V&&J&&ee}),U={total:j.length,active:j.filter(D=>D.is_active).length,byCategory:x.reduce((D,V)=>(D[V]=j.filter(J=>J.category===V).length,D),{}),byDifficulty:N.reduce((D,V)=>(D[V]=j.filter(J=>J.difficulty===V).length,D),{})};return _?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("p",{className:"text-gray-600",children:"Loading questions..."})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 py-8 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Quiz Questions Manager"}),s.jsx("p",{className:"text-gray-600",children:"Manage questions for Islamic Knowledge Quiz"})]}),s.jsxs(G,{onClick:()=>n(!e),className:"bg-blue-600 hover:bg-blue-700",children:[e?s.jsx(ps,{className:"w-4 h-4 mr-2"}):s.jsx(Os,{className:"w-4 h-4 mr-2"}),e?"Cancel":"Add New Question"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[s.jsx(se,{children:s.jsx(ae,{className:"p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Questions"}),s.jsx("p",{className:"text-3xl font-bold text-blue-600",children:U.total})]})})}),s.jsx(se,{children:s.jsx(ae,{className:"p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Active"}),s.jsx("p",{className:"text-3xl font-bold text-green-600",children:U.active})]})})}),s.jsx(se,{children:s.jsx(ae,{className:"p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Easy"}),s.jsx("p",{className:"text-3xl font-bold text-green-500",children:U.byDifficulty.easy||0})]})})}),s.jsx(se,{children:s.jsx(ae,{className:"p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Hard"}),s.jsx("p",{className:"text-3xl font-bold text-red-500",children:U.byDifficulty.hard||0})]})})})]}),s.jsx(ri,{children:e&&s.jsx(ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:s.jsxs(se,{className:"mb-8 border-2 border-blue-300",children:[s.jsx(Fe,{className:"bg-gradient-to-r from-blue-50 to-purple-50",children:s.jsx(Ve,{children:r?"Edit Question":"Add New Question"})}),s.jsx(ae,{className:"p-6",children:s.jsxs("form",{onSubmit:R,className:"space-y-4",children:[s.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"Category"}),s.jsxs(Qt,{value:f.category,onValueChange:D=>g({...f,category:D}),children:[s.jsx(qt,{children:s.jsx(Yt,{})}),s.jsx(Ht,{children:x.map(D=>s.jsx(Re,{value:D,children:D},D))})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Difficulty"}),s.jsxs(Qt,{value:f.difficulty,onValueChange:D=>g({...f,difficulty:D}),children:[s.jsx(qt,{children:s.jsx(Yt,{})}),s.jsx(Ht,{children:N.map(D=>s.jsx(Re,{value:D,children:D.charAt(0).toUpperCase()+D.slice(1)},D))})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Age Group"}),s.jsxs(Qt,{value:f.age_group,onValueChange:D=>g({...f,age_group:D}),children:[s.jsx(qt,{children:s.jsx(Yt,{})}),s.jsx(Ht,{children:w.map(D=>s.jsx(Re,{value:D,children:D},D))})]})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Question"}),s.jsx(Rn,{value:f.question,onChange:D=>g({...f,question:D.target.value}),placeholder:"Enter your question...",required:!0,rows:2})]}),s.jsxs("div",{children:[s.jsx(ye,{className:"mb-2 block",children:"Answer Options"}),f.options.map((D,V)=>s.jsxs("div",{className:"flex gap-2 mb-2",children:[s.jsx(_e,{className:f.correct_answer_index===V?"bg-green-500":"bg-gray-400",children:V+1}),s.jsx(Te,{value:D,onChange:J=>I(V,J.target.value),placeholder:`Option ${V+1}`,required:!0}),s.jsxs(G,{type:"button",variant:f.correct_answer_index===V?"default":"outline",onClick:()=>g({...f,correct_answer_index:V}),className:"whitespace-nowrap",children:[f.correct_answer_index===V?s.jsx(Bc,{className:"w-4 h-4 mr-1"}):null,"Correct"]})]},V))]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Explanation"}),s.jsx(Rn,{value:f.explanation,onChange:D=>g({...f,explanation:D.target.value}),placeholder:"Explain the correct answer...",required:!0,rows:3})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Source (Optional)"}),s.jsx(Te,{value:f.source,onChange:D=>g({...f,source:D.target.value}),placeholder:"e.g., Quran 2:255, Sahih Bukhari 1234"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Is,{checked:f.is_active,onCheckedChange:D=>g({...f,is_active:D})}),s.jsx(ye,{children:"Active (Show in quiz)"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(G,{type:"submit",className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(ya,{className:"w-4 h-4 mr-2"}),r?"Update":"Create"," Question"]}),s.jsx(G,{type:"button",variant:"outline",onClick:P,children:"Cancel"})]})]})})]})})}),s.jsx(se,{className:"mb-6",children:s.jsx(ae,{className:"p-4",children:s.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsxs(ye,{className:"mb-2 flex items-center gap-2",children:[s.jsx(va,{className:"w-4 h-4"}),"Search"]}),s.jsx(Te,{value:a,onChange:D=>o(D.target.value),placeholder:"Search questions..."})]}),s.jsxs("div",{children:[s.jsxs(ye,{className:"mb-2 flex items-center gap-2",children:[s.jsx(VC,{className:"w-4 h-4"}),"Category"]}),s.jsxs(Qt,{value:c,onValueChange:d,children:[s.jsx(qt,{children:s.jsx(Yt,{})}),s.jsxs(Ht,{children:[s.jsx(Re,{value:"all",children:"All Categories"}),x.map(D=>s.jsx(Re,{value:D,children:D},D))]})]})]}),s.jsxs("div",{children:[s.jsxs(ye,{className:"mb-2 flex items-center gap-2",children:[s.jsx(VC,{className:"w-4 h-4"}),"Difficulty"]}),s.jsxs(Qt,{value:h,onValueChange:m,children:[s.jsx(qt,{children:s.jsx(Yt,{})}),s.jsxs(Ht,{children:[s.jsx(Re,{value:"all",children:"All Difficulties"}),N.map(D=>s.jsx(Re,{value:D,children:D.charAt(0).toUpperCase()+D.slice(1)},D))]})]})]})]})})}),s.jsx("div",{className:"space-y-4",children:L.map((D,V)=>s.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:V*.05},children:s.jsx(se,{className:D.is_active?"":"opacity-60",children:s.jsx(ae,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(_e,{children:D.category}),s.jsx(_e,{variant:"outline",className:D.difficulty==="easy"?"bg-green-100":D.difficulty==="medium"?"bg-yellow-100":"bg-red-100",children:D.difficulty}),s.jsx(_e,{variant:"outline",children:D.age_group}),!D.is_active&&s.jsx(_e,{variant:"destructive",children:"Inactive"})]}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:D.question}),s.jsx("div",{className:"space-y-1 mb-3",children:D.options.map((J,ee)=>s.jsxs("div",{className:`text-sm ${ee===D.correct_answer_index?"text-green-600 font-semibold":"text-gray-600"}`,children:[ee===D.correct_answer_index&&s.jsx(Bc,{className:"w-3 h-3 inline mr-1"}),ee+1,". ",J]},ee))}),s.jsxs("p",{className:"text-sm text-gray-700 bg-blue-50 p-2 rounded",children:[s.jsx("strong",{children:"Explanation:"})," ",D.explanation]}),D.source&&s.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Source: ",D.source]})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx(G,{onClick:()=>F(D),variant:"outline",size:"sm",children:s.jsx(yo,{className:"w-4 h-4"})}),s.jsx(G,{onClick:()=>M(D.id),variant:"outline",size:"sm",className:"text-red-600 hover:bg-red-50",children:s.jsx(hr,{className:"w-4 h-4"})})]})]})})})},D.id))}),L.length===0&&s.jsx(se,{children:s.jsx(ae,{className:"p-12 text-center",children:s.jsx("p",{className:"text-gray-500",children:"No questions found. Add some questions to get started!"})})})]})})}function hV(){const[t,e]=v.useState(null),[n,r]=v.useState(""),[i,a]=v.useState("all"),[o,c]=v.useState("all"),{data:d=[],isLoading:h}=Un({queryKey:["videos"],queryFn:()=>yt.entities.Video.list("-created_date"),initialData:[]}),m=[{id:"all",name:"All Videos",emoji:""},{id:"prophets",name:"Prophets",emoji:""},{id:"manners",name:"Manners",emoji:""},{id:"duas",name:"Duas",emoji:""},{id:"facts",name:"Islamic Facts",emoji:""},{id:"series",name:"Series",emoji:""}],f={prophets:"bg-blue-100 text-blue-800",manners:"bg-green-100 text-green-800",duas:"bg-purple-100 text-purple-800",facts:"bg-amber-100 text-amber-800",series:"bg-pink-100 text-pink-800"},g=w=>{if(!w)return null;const j=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,_=w.match(j);return _&&_[2].length===11?_[2]:null},x=w=>{const j=g(w);return j?`https://img.youtube.com/vi/${j}/hqdefault.jpg`:null},N=d.filter(w=>{const j=w.title.toLowerCase().includes(n.toLowerCase())||w.description&&w.description.toLowerCase().includes(n.toLowerCase()),_=i==="all"||w.category===i,E=o==="all"||w.filter_tag===o;return j&&_&&E});return s.jsx("div",{className:"min-h-screen py-8 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Islamic Video Library"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Watch educational Islamic videos, stories, and lessons!"})]}),s.jsxs("div",{className:"mb-8 space-y-4",children:[s.jsxs("div",{className:"relative max-w-2xl mx-auto",children:[s.jsx(va,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx(Te,{type:"text",placeholder:"Search videos...",value:n,onChange:w=>r(w.target.value),className:"pl-10 pr-4 py-6 text-lg"})]}),s.jsxs("div",{className:"flex flex-wrap gap-3 justify-center",children:[s.jsxs(Qt,{value:i,onValueChange:a,children:[s.jsx(qt,{className:"w-48",children:s.jsx(Yt,{placeholder:"Category"})}),s.jsx(Ht,{children:m.map(w=>s.jsxs(Re,{value:w.id,children:[w.emoji," ",w.name]},w.id))})]}),s.jsxs(Qt,{value:o,onValueChange:c,children:[s.jsx(qt,{className:"w-48",children:s.jsx(Yt,{placeholder:"Video Length"})}),s.jsxs(Ht,{children:[s.jsx(Re,{value:"all",children:"All Lengths"}),s.jsx(Re,{value:"short",children:"Short (0-5 min)"}),s.jsx(Re,{value:"lesson",children:"Lesson (5-15 min)"}),s.jsx(Re,{value:"series",children:"Series (15+ min)"})]})]})]})]}),h?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(pl,{className:"w-16 h-16 mx-auto mb-4 text-gray-300 animate-pulse"}),s.jsx("p",{className:"text-gray-500",children:"Loading videos..."})]}):N.length===0?s.jsx(se,{className:"border-2 border-gray-200",children:s.jsxs(ae,{className:"p-12 text-center",children:[s.jsx(pl,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-gray-600",children:n||i!=="all"?"No videos found matching your criteria.":"No videos available yet. Check back soon!"})]})}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:N.map((w,j)=>{const _=w.thumbnail_url||x(w.video_url);return s.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:j*.1},children:s.jsx(se,{className:"h-full hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 cursor-pointer group overflow-hidden",children:s.jsxs("div",{onClick:()=>e(w),className:"relative",children:[s.jsxs("div",{className:"h-48 overflow-hidden bg-gradient-to-br from-purple-100 to-blue-100 relative",children:[_?s.jsx("img",{src:_,alt:w.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300",onError:E=>{E.target.style.display="none"}}):s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx(pl,{className:"w-16 h-16 text-gray-400"})}),s.jsx("div",{className:"absolute inset-0 bg-black/30 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:s.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center",children:s.jsx(dr,{className:"w-8 h-8 text-blue-600 ml-1"})})})]}),s.jsxs(Fe,{children:[s.jsx("div",{className:"flex items-start justify-between gap-2 mb-2",children:s.jsx(Ve,{className:"text-lg group-hover:text-blue-600 transition-colors line-clamp-2",children:w.title})}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[w.category&&s.jsx(_e,{className:f[w.category],children:w.category}),w.duration&&s.jsxs(_e,{variant:"outline",className:"flex items-center gap-1",children:[s.jsx(hl,{className:"w-3 h-3"}),w.duration]}),w.filter_tag&&s.jsx(_e,{variant:"outline",children:w.filter_tag})]})]}),w.description&&s.jsx(ae,{children:s.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:w.description})})]})})},w.id)})}),s.jsx(_f,{open:t!==null,onOpenChange:()=>e(null),children:s.jsxs(Gd,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Qd,{children:[s.jsx(Yd,{className:"text-2xl font-bold pr-8",children:t==null?void 0:t.title}),s.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[(t==null?void 0:t.category)&&s.jsx(_e,{className:f[t.category],children:t.category}),(t==null?void 0:t.duration)&&s.jsxs(_e,{variant:"outline",className:"flex items-center gap-1",children:[s.jsx(hl,{className:"w-3 h-3"}),t.duration]})]})]}),t&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"aspect-video w-full rounded-lg overflow-hidden bg-black",children:s.jsx("iframe",{width:"100%",height:"100%",src:`https://www.youtube.com/embed/${g(t.video_url)}?autoplay=1`,title:t.title,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-full"})}),t.description&&s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"About this video:"}),s.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:t.description})]})]})]})})]})})}function mV(){const t=si(),[e,n]=v.useState(!1),[r,i]=v.useState(null),[a,o]=v.useState({title:"",video_url:"",thumbnail_url:"",category:"prophets",duration:"",filter_tag:"lesson",description:""}),{data:c=[],isLoading:d}=Un({queryKey:["videos"],queryFn:()=>base44.entities.Video.list("-created_date"),initialData:[]}),h=Sn({mutationFn:j=>base44.entities.Video.create(j),onSuccess:()=>{t.invalidateQueries({queryKey:["videos"]}),g(),alert("Video added successfully!")}}),m=Sn({mutationFn:({id:j,data:_})=>base44.entities.Video.update(j,_),onSuccess:()=>{t.invalidateQueries({queryKey:["videos"]}),g(),alert("Video updated successfully!")}}),f=Sn({mutationFn:j=>base44.entities.Video.delete(j),onSuccess:()=>{t.invalidateQueries({queryKey:["videos"]}),alert("Video deleted successfully!")}}),g=()=>{o({title:"",video_url:"",thumbnail_url:"",category:"prophets",duration:"",filter_tag:"lesson",description:""}),i(null),n(!1)},x=j=>{o({title:j.title||"",video_url:j.video_url||"",thumbnail_url:j.thumbnail_url||"",category:j.category||"prophets",duration:j.duration||"",filter_tag:j.filter_tag||"lesson",description:j.description||""}),i(j),n(!0)},N=j=>{if(j.preventDefault(),!a.title||!a.video_url){alert("Please fill in title and video URL");return}let _={...a};if(!_.thumbnail_url&&a.video_url.includes("youtube")){const E=w(a.video_url);E&&(_.thumbnail_url=`https://img.youtube.com/vi/${E}/hqdefault.jpg`)}r?m.mutate({id:r.id,data:_}):h.mutate(_)},w=j=>{const _=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,E=j.match(_);return E&&E[2].length===11?E[2]:null};return s.jsx("div",{className:"min-h-screen py-8 px-4 bg-gradient-to-br from-purple-50 to-blue-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Manage Videos"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Add and manage YouTube videos for the video library"})]}),s.jsx("div",{className:"mb-6",children:s.jsxs(G,{onClick:()=>n(!0),size:"lg",className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600",children:[s.jsx(Os,{className:"w-5 h-5 mr-2"}),"Add New Video"]})}),s.jsx(_f,{open:e,onOpenChange:j=>!j&&g(),children:s.jsxs(Gd,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Qd,{children:s.jsx(Yd,{children:r?"Edit Video":"Add New Video"})}),s.jsxs("form",{onSubmit:N,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"title",children:"Video Title *"}),s.jsx(Te,{id:"title",value:a.title,onChange:j=>o({...a,title:j.target.value}),placeholder:"e.g., Story of Prophet Muhammad ",required:!0})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"video_url",children:"YouTube URL *"}),s.jsx(Te,{id:"video_url",value:a.video_url,onChange:j=>o({...a,video_url:j.target.value}),placeholder:"https://www.youtube.com/watch?v=...",required:!0}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Thumbnail will be auto-generated from YouTube"})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"category",children:"Category"}),s.jsxs(Qt,{value:a.category,onValueChange:j=>o({...a,category:j}),children:[s.jsx(qt,{children:s.jsx(Yt,{})}),s.jsxs(Ht,{children:[s.jsx(Re,{value:"prophets",children:"Prophets"}),s.jsx(Re,{value:"manners",children:"Manners"}),s.jsx(Re,{value:"duas",children:"Duas"}),s.jsx(Re,{value:"facts",children:"Islamic Facts"}),s.jsx(Re,{value:"series",children:"Series"})]})]})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"filter_tag",children:"Video Length"}),s.jsxs(Qt,{value:a.filter_tag,onValueChange:j=>o({...a,filter_tag:j}),children:[s.jsx(qt,{children:s.jsx(Yt,{})}),s.jsxs(Ht,{children:[s.jsx(Re,{value:"short",children:"Short (0-5 min)"}),s.jsx(Re,{value:"lesson",children:"Lesson (5-15 min)"}),s.jsx(Re,{value:"series",children:"Series (15+ min)"})]})]})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"duration",children:"Duration"}),s.jsx(Te,{id:"duration",value:a.duration,onChange:j=>o({...a,duration:j.target.value}),placeholder:"e.g., 10:25"})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"description",children:"Description"}),s.jsx(Rn,{id:"description",value:a.description,onChange:j=>o({...a,description:j.target.value}),placeholder:"Brief description of the video content...",rows:4})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsxs(G,{type:"submit",disabled:h.isPending||m.isPending,className:"flex-1 bg-green-500 hover:bg-green-600",children:[s.jsx(ya,{className:"w-4 h-4 mr-2"}),r?"Update":"Add"," Video"]}),s.jsxs(G,{type:"button",onClick:g,variant:"outline",className:"flex-1",children:[s.jsx(ps,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]})]})}),d?s.jsx("div",{className:"text-center py-12",children:"Loading videos..."}):c.length===0?s.jsx(se,{children:s.jsxs(ae,{className:"p-12 text-center",children:[s.jsx(pl,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-gray-600",children:"No videos yet. Add your first video!"})]})}):s.jsx("div",{className:"grid gap-4",children:c.map((j,_)=>s.jsx(ne.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:_*.05},children:s.jsx(se,{children:s.jsx(ae,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-32 h-20 bg-gray-200 rounded-lg overflow-hidden flex-shrink-0",children:j.thumbnail_url?s.jsx("img",{src:j.thumbnail_url,alt:j.title,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx(pl,{className:"w-8 h-8 text-gray-400"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-2 truncate",children:j.title}),s.jsxs("div",{className:"flex flex-wrap gap-2 mb-2",children:[s.jsx(_e,{children:j.category}),j.filter_tag&&s.jsx(_e,{variant:"outline",children:j.filter_tag}),j.duration&&s.jsx(_e,{variant:"outline",children:j.duration})]}),j.description&&s.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:j.description})]}),s.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[s.jsx(G,{onClick:()=>x(j),size:"sm",variant:"outline",children:s.jsx(yo,{className:"w-4 h-4"})}),s.jsx(G,{onClick:()=>{confirm("Are you sure you want to delete this video?")&&f.mutate(j.id)},size:"sm",variant:"outline",className:"text-red-500 border-red-500 hover:bg-red-50",children:s.jsx(hr,{className:"w-4 h-4"})})]})]})})})},j.id))})]})})}function fV(){si();const[t,e]=v.useState(!1),[n,r]=v.useState(!1),[i,a]=v.useState(null),[o,c]=v.useState(!1),[d,h]=v.useState({audio:!1,image:!1}),m=v.useRef(null),f=v.useRef(null),[g,x]=v.useState({title:"",slug:"",mp3_url:"",youtube_id:"",cover_image:"",description:"",transcript:"",moral_lesson:"",duration:"",age_group:"all",category:"story",subcategory:"",language:"English",tags:[],license_source:"",allow_download:!1,featured:!1}),N=()=>{if(!g.title||!g.category){alert("Please fill in at least the title and category");return}g.slug||(g.slug=g.title.toLowerCase().replace(/[^a-z0-9]+/g,"-")),typeof g.tags=="string"&&(g.tags=g.tags.split(",").map(C=>C.trim()).filter(C=>C)),createAudioMutation.mutate(g)},w=C=>{a(C),x({title:C.title||"",slug:C.slug||"",mp3_url:C.mp3_url||"",youtube_id:C.youtube_id||"",cover_image:C.cover_image||"",description:C.description||"",transcript:C.transcript||"",moral_lesson:C.moral_lesson||"",duration:C.duration||"",age_group:C.age_group||"all",category:C.category||"story",subcategory:C.subcategory||"",language:C.language||"English",tags:C.tags||[],license_source:C.license_source||"",allow_download:C.allow_download||!1,featured:C.featured||!1}),r(!0)},j=()=>{i&&(typeof g.tags=="string"&&(g.tags=g.tags.split(",").map(C=>C.trim()).filter(C=>C)),updateAudioMutation.mutate({id:i.id,data:g}))},_=C=>{confirm(`Are you sure you want to delete "${C.title}"? This action cannot be undone.`)&&deleteAudioMutation.mutate(C.id)},E=()=>{x({title:"",slug:"",mp3_url:"",youtube_id:"",cover_image:"",description:"",transcript:"",moral_lesson:"",duration:"",age_group:"all",category:"story",subcategory:"",language:"English",tags:[],license_source:"",allow_download:!1,featured:!1}),a(null)},k={story:"bg-blue-100 text-blue-800",hadith:"bg-green-100 text-green-800",history:"bg-purple-100 text-purple-800",nasheed:"bg-pink-100 text-pink-800",tajweed:"bg-amber-100 text-amber-800",fiqh:"bg-indigo-100 text-indigo-800",quran:"bg-emerald-100 text-emerald-800"};return s.jsx("div",{className:"min-h-screen py-8 px-4 bg-gradient-to-br from-purple-50 to-pink-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Audio Content Management"}),s.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"Upload and manage Islamic audio stories, lessons, and nasheeds"}),s.jsxs(G,{onClick:()=>e(!0),size:"lg",className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:[s.jsx(Os,{className:"w-5 h-5 mr-2"}),"Add New Audio"]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4 mb-6",children:[s.jsx(se,{children:s.jsxs(ae,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-purple-600",children:audioContent.length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Audio"})]})}),s.jsx(se,{children:s.jsxs(ae,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-green-600",children:audioContent.filter(C=>C.status==="active").length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Active"})]})}),s.jsx(se,{children:s.jsxs(ae,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-amber-600",children:audioContent.filter(C=>C.featured).length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Featured"})]})}),s.jsx(se,{children:s.jsxs(ae,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-blue-600",children:audioContent.reduce((C,R)=>C+(R.plays_count||0),0)}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Plays"})]})})]}),isLoading?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(_w,{className:"w-16 h-16 mx-auto mb-4 text-gray-300 animate-pulse"}),s.jsx("p",{className:"text-gray-500",children:"Loading audio content..."})]}):audioContent.length===0?s.jsx(se,{children:s.jsxs(ae,{className:"p-12 text-center",children:[s.jsx(Od,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"No audio content yet"}),s.jsxs(G,{onClick:()=>e(!0),children:[s.jsx(Os,{className:"w-4 h-4 mr-2"}),"Add First Audio"]})]})}):s.jsx("div",{className:"grid gap-4",children:audioContent.map((C,R)=>s.jsx(ne.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:R*.05},children:s.jsx(se,{className:"hover:shadow-lg transition-shadow",children:s.jsx(ae,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-purple-200 to-pink-200 rounded-lg flex-shrink-0 overflow-hidden",children:C.cover_image?s.jsx("img",{src:C.cover_image,alt:C.title,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx(_w,{className:"w-12 h-12 text-gray-400"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h3",{className:"font-bold text-lg text-gray-900 truncate pr-4",children:C.title}),s.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[s.jsx(G,{onClick:()=>w(C),size:"sm",variant:"outline",className:"text-blue-600",children:s.jsx(yo,{className:"w-4 h-4"})}),s.jsx(G,{onClick:()=>_(C),size:"sm",variant:"outline",className:"text-red-500",children:s.jsx(hr,{className:"w-4 h-4"})})]})]}),C.description&&s.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:C.description}),s.jsxs("div",{className:"flex flex-wrap gap-2 mb-2",children:[s.jsx(_e,{className:k[C.category],children:C.category}),C.subcategory&&s.jsx(_e,{variant:"outline",children:C.subcategory}),C.duration&&s.jsx(_e,{variant:"outline",children:C.duration}),C.age_group&&s.jsxs(_e,{variant:"outline",children:["Ages: ",C.age_group]}),C.featured&&s.jsx(_e,{className:"bg-amber-500",children:" Featured"})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[C.mp3_url&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Od,{className:"w-3 h-3"}),"Audio uploaded"]}),C.plays_count>0&&s.jsxs("span",{children:[C.plays_count," plays"]}),s.jsx("span",{children:C.language||"English"})]})]})]})})})},C.id))}),s.jsx(_f,{open:t,onOpenChange:C=>!C&&E(),children:s.jsxs(Gd,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Qd,{children:s.jsx(Yd,{className:"text-2xl",children:"Add New Audio Content"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx(ye,{htmlFor:"title",children:"Title *"}),s.jsx(Te,{id:"title",value:g.title,onChange:C=>x({...g,title:C.target.value}),placeholder:"e.g., Story of Prophet Ibrahim"})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"category",children:"Category *"}),s.jsxs(Qt,{value:g.category,onValueChange:C=>x({...g,category:C}),children:[s.jsx(qt,{children:s.jsx(Yt,{})}),s.jsxs(Ht,{children:[s.jsx(Re,{value:"story",children:"Story"}),s.jsx(Re,{value:"hadith",children:"Hadith"}),s.jsx(Re,{value:"history",children:"History"}),s.jsx(Re,{value:"nasheed",children:"Nasheed"}),s.jsx(Re,{value:"tajweed",children:"Tajweed"}),s.jsx(Re,{value:"fiqh",children:"Fiqh"}),s.jsx(Re,{value:"quran",children:"Quran"})]})]})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"age_group",children:"Age Group"}),s.jsxs(Qt,{value:g.age_group,onValueChange:C=>x({...g,age_group:C}),children:[s.jsx(qt,{children:s.jsx(Yt,{})}),s.jsxs(Ht,{children:[s.jsx(Re,{value:"3-6",children:"3-6 years"}),s.jsx(Re,{value:"7-10",children:"7-10 years"}),s.jsx(Re,{value:"11+",children:"11+ years"}),s.jsx(Re,{value:"all",children:"All ages"})]})]})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Audio File (MP3)"}),s.jsx("input",{ref:m,type:"file",accept:"audio/*",onChange:handleAudioUpload,className:"hidden"}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx(G,{type:"button",onClick:()=>{var C;return(C=m.current)==null?void 0:C.click()},variant:"outline",className:"flex-1",disabled:d.audio,children:d.audio?s.jsxs(s.Fragment,{children:[s.jsx(ml,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(_l,{className:"w-4 h-4 mr-2"}),"Upload Audio File"]})}),g.mp3_url&&s.jsx(_e,{className:"bg-green-500 px-4 py-2",children:" Uploaded"})]}),g.mp3_url&&s.jsx("p",{className:"text-xs text-gray-500 mt-1 truncate",children:g.mp3_url})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Cover Image"}),s.jsx("input",{ref:f,type:"file",accept:"image/*",onChange:handleImageUpload,className:"hidden"}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx(G,{type:"button",onClick:()=>{var C;return(C=f.current)==null?void 0:C.click()},variant:"outline",className:"flex-1",disabled:d.image,children:d.image?s.jsxs(s.Fragment,{children:[s.jsx(ml,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(io,{className:"w-4 h-4 mr-2"}),"Upload Cover Image"]})}),g.cover_image&&s.jsx(_e,{className:"bg-green-500 px-4 py-2",children:" Uploaded"})]}),g.cover_image&&s.jsx("div",{className:"mt-2",children:s.jsx("img",{src:g.cover_image,alt:"Cover preview",className:"w-32 h-32 object-cover rounded-lg"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"subcategory",children:"Subcategory"}),s.jsx(Te,{id:"subcategory",value:g.subcategory,onChange:C=>x({...g,subcategory:C.target.value}),placeholder:"e.g., Prophets, Sahabah"})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"duration",children:"Duration"}),s.jsx(Te,{id:"duration",value:g.duration,onChange:C=>x({...g,duration:C.target.value}),placeholder:"e.g., 05:30"})]})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"description",children:"Description"}),s.jsx(Rn,{id:"description",value:g.description,onChange:C=>x({...g,description:C.target.value}),placeholder:"Brief description of the audio content",rows:3})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"moral_lesson",children:"Moral Lesson"}),s.jsx(Rn,{id:"moral_lesson",value:g.moral_lesson,onChange:C=>x({...g,moral_lesson:C.target.value}),placeholder:"Key lesson or takeaway",rows:2})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"tags",children:"Tags (comma-separated)"}),s.jsx(Te,{id:"tags",value:Array.isArray(g.tags)?g.tags.join(", "):g.tags,onChange:C=>x({...g,tags:C.target.value}),placeholder:"e.g., prophets, kindness, patience"})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:g.featured,onChange:C=>x({...g,featured:C.target.checked}),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Featured"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:g.allow_download,onChange:C=>x({...g,allow_download:C.target.checked}),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Allow Download"})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsxs(G,{onClick:N,disabled:createAudioMutation.isPending,className:"flex-1 bg-gradient-to-r from-purple-500 to-pink-500",children:[s.jsx(ya,{className:"w-4 h-4 mr-2"}),"Create Audio"]}),s.jsxs(G,{onClick:()=>{e(!1),E()},variant:"outline",className:"flex-1",children:[s.jsx(ps,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]})]})}),s.jsx(_f,{open:n,onOpenChange:C=>!C&&E(),children:s.jsxs(Gd,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Qd,{children:s.jsx(Yd,{className:"text-2xl",children:"Edit Audio Content"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx(ye,{htmlFor:"edit-title",children:"Title *"}),s.jsx(Te,{id:"edit-title",value:g.title,onChange:C=>x({...g,title:C.target.value}),placeholder:"e.g., Story of Prophet Ibrahim"})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"edit-category",children:"Category *"}),s.jsxs(Qt,{value:g.category,onValueChange:C=>x({...g,category:C}),children:[s.jsx(qt,{children:s.jsx(Yt,{})}),s.jsxs(Ht,{children:[s.jsx(Re,{value:"story",children:"Story"}),s.jsx(Re,{value:"hadith",children:"Hadith"}),s.jsx(Re,{value:"history",children:"History"}),s.jsx(Re,{value:"nasheed",children:"Nasheed"}),s.jsx(Re,{value:"tajweed",children:"Tajweed"}),s.jsx(Re,{value:"fiqh",children:"Fiqh"}),s.jsx(Re,{value:"quran",children:"Quran"})]})]})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"edit-age",children:"Age Group"}),s.jsxs(Qt,{value:g.age_group,onValueChange:C=>x({...g,age_group:C}),children:[s.jsx(qt,{children:s.jsx(Yt,{})}),s.jsxs(Ht,{children:[s.jsx(Re,{value:"3-6",children:"3-6 years"}),s.jsx(Re,{value:"7-10",children:"7-10 years"}),s.jsx(Re,{value:"11+",children:"11+ years"}),s.jsx(Re,{value:"all",children:"All ages"})]})]})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Audio File (MP3)"}),s.jsx("input",{ref:m,type:"file",accept:"audio/*",onChange:handleAudioUpload,className:"hidden"}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx(G,{type:"button",onClick:()=>{var C;return(C=m.current)==null?void 0:C.click()},variant:"outline",className:"flex-1",disabled:d.audio,children:d.audio?s.jsxs(s.Fragment,{children:[s.jsx(ml,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(_l,{className:"w-4 h-4 mr-2"}),g.mp3_url?"Replace Audio":"Upload Audio File"]})}),g.mp3_url&&s.jsx(_e,{className:"bg-green-500 px-4 py-2",children:" Uploaded"})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Cover Image"}),s.jsx("input",{ref:f,type:"file",accept:"image/*",onChange:handleImageUpload,className:"hidden"}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx(G,{type:"button",onClick:()=>{var C;return(C=f.current)==null?void 0:C.click()},variant:"outline",className:"flex-1",disabled:d.image,children:d.image?s.jsxs(s.Fragment,{children:[s.jsx(ml,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(io,{className:"w-4 h-4 mr-2"}),g.cover_image?"Replace Image":"Upload Cover Image"]})}),g.cover_image&&s.jsx(_e,{className:"bg-green-500 px-4 py-2",children:" Uploaded"})]}),g.cover_image&&s.jsx("div",{className:"mt-2",children:s.jsx("img",{src:g.cover_image,alt:"Cover preview",className:"w-32 h-32 object-cover rounded-lg"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"edit-subcategory",children:"Subcategory"}),s.jsx(Te,{id:"edit-subcategory",value:g.subcategory,onChange:C=>x({...g,subcategory:C.target.value}),placeholder:"e.g., Prophets, Sahabah"})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"edit-duration",children:"Duration"}),s.jsx(Te,{id:"edit-duration",value:g.duration,onChange:C=>x({...g,duration:C.target.value}),placeholder:"e.g., 05:30"})]})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"edit-description",children:"Description"}),s.jsx(Rn,{id:"edit-description",value:g.description,onChange:C=>x({...g,description:C.target.value}),placeholder:"Brief description of the audio content",rows:3})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"edit-moral",children:"Moral Lesson"}),s.jsx(Rn,{id:"edit-moral",value:g.moral_lesson,onChange:C=>x({...g,moral_lesson:C.target.value}),placeholder:"Key lesson or takeaway",rows:2})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"edit-tags",children:"Tags (comma-separated)"}),s.jsx(Te,{id:"edit-tags",value:Array.isArray(g.tags)?g.tags.join(", "):g.tags,onChange:C=>x({...g,tags:C.target.value}),placeholder:"e.g., prophets, kindness, patience"})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:g.featured,onChange:C=>x({...g,featured:C.target.checked}),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Featured"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:g.allow_download,onChange:C=>x({...g,allow_download:C.target.checked}),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Allow Download"})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsxs(G,{onClick:j,disabled:updateAudioMutation.isPending,className:"flex-1 bg-gradient-to-r from-purple-500 to-pink-500",children:[s.jsx(ya,{className:"w-4 h-4 mr-2"}),"Update Audio"]}),s.jsxs(G,{onClick:()=>{r(!1),E()},variant:"outline",className:"flex-1",children:[s.jsx(ps,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]})]})})]})})}function pV(){const[t,e]=v.useState(""),[n,r]=v.useState([]),[i,a]=v.useState(null),[o,c]=v.useState(""),d=async()=>{c("");try{const m=await AN.list();if(Array.isArray(m)&&m.length>=0){const f=m.map(g=>({id:g.id||g.uid,uid:g.uid||g.id,name:g.fullName||g.name||"",email:g.email||"",role:g.role||"user",age:g.age||"",city:g.city||"",madrasah:g.madrasah||g.madrasah_maktab||"",points:Number(g.points||0),lastAward:g.lastAward||null}));r(f);return}}catch(m){console.warn("Backend users list failed:",(m==null?void 0:m.message)||m)}try{const{db:m}=Wt();if(!m)return;const f=Wd(m,"users"),x=(await bf(f)).docs.map(N=>{const w=N.data()||{};return{id:N.id,uid:N.id,name:w.fullName||w.name||"",email:w.email||"",role:w.role||"user",age:w.age||"",city:w.city||"",madrasah:w.madrasah||w.madrasah_maktab||"",points:Number(w.points||0),lastAward:w.lastAward||null}});r(x)}catch(m){console.warn("Failed to load users from Firestore:",(m==null?void 0:m.message)||m)}};v.useEffect(()=>{d()},[]);const h=n.filter(m=>{const f=t.toLowerCase();return m.name.toLowerCase().includes(f)||m.email.toLowerCase().includes(f)||m.role.toLowerCase().includes(f)});return s.jsx("div",{className:"min-h-screen py-8 px-4 bg-gradient-to-br from-blue-50 to-purple-50",children:s.jsx("div",{className:"max-w-6xl mx-auto",children:s.jsxs(se,{className:"shadow-xl border-2 border-blue-200",children:[s.jsx(Fe,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Ve,{className:"flex items-center gap-2",children:[s.jsx(Vl,{className:"w-6 h-6"})," Users Management"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Te,{placeholder:"Search users...",value:t,onChange:m=>e(m.target.value),className:"bg-white text-gray-900 w-56"}),s.jsxs(G,{variant:"secondary",className:"bg-white/20 text-white hover:bg-white/30",onClick:d,children:[s.jsx(va,{className:"w-4 h-4 mr-2"})," Find"]}),s.jsxs(G,{variant:"secondary",className:"bg-white/20 text-white hover:bg-white/30",onClick:d,children:[s.jsx(Ej,{className:"w-4 h-4 mr-2"})," Refresh"]}),s.jsxs(G,{onClick:()=>a({id:"new"}),children:[s.jsx(Os,{className:"w-4 h-4 mr-2"})," Add User"]})]})]})}),s.jsxs(ae,{className:"p-6",children:[o&&s.jsx("div",{className:"mb-4 text-sm text-blue-700 bg-blue-50 border border-blue-200 rounded p-2",children:o}),h.length===0?s.jsx("div",{className:"text-center text-gray-600 py-10",children:"No users yet. Ask users to sign up via the Signup page."}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map(m=>s.jsxs("div",{className:"border rounded-lg p-4 bg-white",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("div",{className:"font-semibold text-gray-900",children:m.name}),s.jsx(_e,{variant:m.role==="admin"?"default":"outline",className:m.role==="admin"?"bg-purple-600 text-white":"",children:m.role})]}),s.jsx("div",{className:"text-sm text-gray-600 mb-1",children:m.email}),s.jsxs("div",{className:"flex items-center gap-2 text-amber-700 mb-2",children:[s.jsx(cn,{className:"w-4 h-4 fill-amber-500 text-amber-500"}),s.jsxs("span",{className:"font-semibold",children:[m.points||0," points"]})]}),m.lastAward&&s.jsxs("div",{className:"text-xs text-gray-600 mb-2",children:["Last award: ",m.lastAward.game_type||""," (+",m.lastAward.points_awarded||0,")"]}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Age: ",m.age||"-"]}),s.jsxs("div",{className:"text-xs text-gray-500",children:["City: ",m.city||"-"]}),s.jsxs("div",{className:"text-xs text-gray-500 mb-4",children:["Madrasah: ",m.madrasah||"-"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(G,{size:"sm",variant:"outline",onClick:()=>a(m),children:[s.jsx(yo,{className:"w-4 h-4 mr-1"})," Edit"]}),s.jsxs(G,{size:"sm",variant:"destructive",onClick:()=>r(n.filter(f=>f.id!==m.id)),children:[s.jsx(hr,{className:"w-4 h-4 mr-1"})," Delete (local)"]}),s.jsxs(G,{size:"sm",variant:"destructive",onClick:async()=>{var f,g;try{const{auth:x}=Wt(),N=await((g=(f=x==null?void 0:x.currentUser)==null?void 0:f.getIdToken)==null?void 0:g.call(f)),j=await fetch("/api/deleteUser",{method:"POST",headers:{"Content-Type":"application/json",...N?{Authorization:`Bearer ${N}`}:{}},body:JSON.stringify({uid:m.uid,email:m.email})});if(!j.ok)throw new Error(`Delete failed: ${j.status}`);const _=await j.json();c(`Deleted user ${m.email} (uid=${m.uid||m.id}).`),await d()}catch(x){c(`Server delete failed for ${m.email}: ${(x==null?void 0:x.message)||x}`)}},children:[s.jsx(hr,{className:"w-4 h-4 mr-1"})," Delete (server)"]})]})]},m.id))}),i&&s.jsxs("div",{className:"mt-6 border-t pt-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:i.id==="new"?"Add New User":"Edit User"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsx(Te,{placeholder:"Name",value:i.name||"",onChange:m=>a({...i,name:m.target.value})}),s.jsx(Te,{placeholder:"Email",type:"email",value:i.email||"",onChange:m=>a({...i,email:m.target.value})}),s.jsx(Te,{placeholder:"Role (admin/user)",value:i.role||"user",onChange:m=>a({...i,role:m.target.value})})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[s.jsx(G,{onClick:()=>{if(i.id==="new"){const m=`u${Date.now()}`;r([...n,{id:m,name:i.name||"",email:i.email||"",role:i.role||"user"}])}else r(n.map(m=>m.id===i.id?i:m));a(null)},children:"Save Changes"}),s.jsx(G,{variant:"outline",onClick:()=>a(null),children:"Cancel"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:'Users are loaded from Firestore `users` collection. Editing is local-only. Use "Delete (server)" to remove accounts from Firebase Auth and Firestore.'})]})]})]})})})}function gV(){const t=Yn(),[e,n]=wn.useState(""),[r,i]=wn.useState(!1),a=encodeURIComponent("Account Deletion Request - Islam Kids Zone"),o=encodeURIComponent("Hi, I'd like to delete my account on Islam Kids Zone. My name is ____ and my contact details are ____."),c=()=>{window.location.href=`mailto:imediac786@gmail.com?subject=${a}&body=${o}`};return s.jsx("div",{className:"min-h-screen py-8 px-4",children:s.jsxs("div",{className:"max-w-2xl mx-auto",children:[s.jsxs(G,{variant:"outline",className:"mb-4",onClick:()=>t(rt("Home")),children:[s.jsx(Ll,{className:"w-4 h-4 mr-2"})," Back to Home"]}),s.jsxs(se,{className:"border-2 border-red-300 shadow-lg bg-gradient-to-br from-red-50 to-orange-50",children:[s.jsx(Fe,{children:s.jsxs(Ve,{className:"text-2xl flex items-center",children:[s.jsx(hr,{className:"w-6 h-6 mr-2 text-red-600"}),"Delete Account (Email-Only Mode)"]})}),s.jsx(ae,{children:s.jsxs(ne.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:[s.jsxs("div",{className:"mb-4 flex items-start gap-3",children:[s.jsx(gy,{className:"w-6 h-6 text-red-600 mt-1"}),s.jsx("p",{className:"text-gray-700",children:"Direct account deletion is disabled in this mode. To delete your account, please email our team. We'll process the request and confirm via email. You can include your name and contact details in the email."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type DELETE to confirm you understand this action"}),s.jsx(Te,{value:e,onChange:d=>n(d.target.value),placeholder:"DELETE"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(sS,{id:"agree",checked:r,onCheckedChange:d=>i(!!d)}),s.jsx("label",{htmlFor:"agree",className:"text-sm text-gray-700",children:"I understand this will permanently remove my account and associated content."})]})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx(G,{onClick:c,disabled:e!=="DELETE"||!r,className:"w-full bg-gradient-to-r from-red-500 to-orange-500",children:"Email Us to Delete My Account"}),s.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"We'll respond to confirm your account deletion request."})]})]})})]})]})})}function xV(){const[t,e]=v.useState(null),[n,r]=v.useState([]),[i,a]=v.useState(null),[o,c]=v.useState(!1);Yn();const[d,h]=v.useState({text:"",subtext:"",gradient:"from-blue-600 via-purple-600 to-pink-600",active:!0,order:1});v.useEffect(()=>{m()},[]);const m=()=>{const E=localStorage.getItem("homepage_banners");if(E)r(JSON.parse(E));else{const k=[{id:1,text:"Welcome to Islam Kids Zone",subtext:"Learn, Play & Grow in Faith",gradient:"from-blue-600 via-purple-600 to-pink-600",active:!0,order:1},{id:2,text:'"Whoever guides someone to goodness will have a reward like one who did it."',subtext:" Sahih Muslim",gradient:"from-green-600 via-teal-600 to-cyan-600",active:!0,order:2}];r(k),f(k)}},f=E=>{localStorage.setItem("homepage_banners",JSON.stringify(E)),r(E)},g=()=>{h({text:"",subtext:"",gradient:"from-blue-600 via-purple-600 to-pink-600",active:!0,order:1})},x=E=>{a(E),h(E),c(!0)},N=E=>{if(E.preventDefault(),i){const k=n.map(C=>C.id===i.id?{...d,id:C.id}:C);f(k)}else{const k={...d,id:Date.now()};f([...n,k])}c(!1),a(null),g()},w=E=>{window.confirm("Delete this banner?")&&f(n.filter(k=>k.id!==E))},j=E=>{const k=n.map(C=>C.id===E?{...C,active:!C.active}:C);f(k)},_=[{name:"Blue Purple",value:"from-blue-600 via-purple-600 to-pink-600"},{name:"Green Teal",value:"from-green-600 via-teal-600 to-cyan-600"},{name:"Orange Red",value:"from-amber-600 via-orange-600 to-red-600"},{name:"Purple Pink",value:"from-purple-600 via-pink-600 to-rose-600"},{name:"Indigo Blue",value:"from-indigo-600 via-blue-600 to-cyan-600"}];return s.jsx("div",{className:"min-h-screen py-8 px-4 bg-gradient-to-br from-slate-50 to-blue-50",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Rt,{to:rt("AdminDashboard"),children:s.jsxs(G,{variant:"outline",children:[s.jsx(Ll,{className:"w-4 h-4 mr-2"}),"Back"]})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Homepage Banners"}),s.jsx("p",{className:"text-gray-600",children:"Manage rotating homepage banner slides"})]})]}),s.jsxs(G,{onClick:()=>{c(!0),a(null),g()},children:[s.jsx(Os,{className:"w-4 h-4 mr-2"}),"Add Banner"]})]}),s.jsx(ri,{children:o&&s.jsx(ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:s.jsxs(ne.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"sticky top-0 bg-white border-b p-6 z-10",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl font-bold",children:i?"Edit Banner":"Create Banner"}),s.jsx(G,{variant:"ghost",size:"icon",onClick:()=>c(!1),children:s.jsx(ps,{className:"w-6 h-6"})})]})}),s.jsxs("form",{onSubmit:N,className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Main Text *"}),s.jsx(Te,{value:d.text,onChange:E=>h({...d,text:E.target.value}),required:!0,placeholder:"Welcome message or quote"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Subtext"}),s.jsx(Te,{value:d.subtext,onChange:E=>h({...d,subtext:E.target.value}),placeholder:"Optional subtitle or attribution"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Gradient Style"}),s.jsx("div",{className:"grid grid-cols-2 gap-2 mb-2",children:_.map(E=>s.jsx("button",{type:"button",onClick:()=>h({...d,gradient:E.value}),className:`p-3 rounded-lg bg-gradient-to-r ${E.value} text-white text-sm font-semibold ${d.gradient===E.value?"ring-4 ring-blue-500":""}`,children:E.name},E.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Display Order"}),s.jsx(Te,{type:"number",value:d.order,onChange:E=>h({...d,order:parseInt(E.target.value)}),min:"1"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"font-semibold",children:"Active"}),s.jsx(Is,{checked:d.active,onCheckedChange:E=>h({...d,active:E})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Preview"}),s.jsxs("div",{className:`p-8 rounded-xl bg-gradient-to-r ${d.gradient} text-white text-center`,children:[s.jsx("h3",{className:"text-2xl font-bold mb-2",children:d.text||"Your text here"}),d.subtext&&s.jsx("p",{className:"text-white/90",children:d.subtext})]})]}),s.jsxs("div",{className:"flex gap-4 justify-end border-t pt-6",children:[s.jsx(G,{type:"button",variant:"outline",onClick:()=>c(!1),children:"Cancel"}),s.jsxs(G,{type:"submit",children:[s.jsx(ya,{className:"w-4 h-4 mr-2"}),i?"Update":"Create"]})]})]})]})})}),s.jsx("div",{className:"space-y-4",children:n.sort((E,k)=>E.order-k.order).map(E=>s.jsx(se,{className:E.active?"":"opacity-50",children:s.jsx(ae,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:`p-6 rounded-xl bg-gradient-to-r ${E.gradient} text-white mb-4`,children:[s.jsx("h3",{className:"text-xl font-bold mb-1",children:E.text}),E.subtext&&s.jsx("p",{className:"text-sm text-white/90",children:E.subtext})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[s.jsxs("span",{children:["Order: ",E.order]}),s.jsx("span",{children:""}),s.jsx("span",{children:E.active?" Active":" Inactive"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(G,{size:"sm",variant:"outline",onClick:()=>j(E.id),children:E.active?s.jsx(Yz,{className:"w-4 h-4"}):s.jsx(DR,{className:"w-4 h-4"})}),s.jsx(G,{size:"sm",onClick:()=>x(E),children:s.jsx(yo,{className:"w-4 h-4"})}),s.jsx(G,{size:"sm",variant:"outline",onClick:()=>w(E.id),className:"text-red-600",children:s.jsx(hr,{className:"w-4 h-4"})})]})]})})},E.id))}),n.length===0&&s.jsxs(se,{className:"p-12 text-center",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"No banners created yet"}),s.jsx(G,{onClick:()=>c(!0),children:"Create First Banner"})]})]})})}function ZI(){Yn();const[t,e]=v.useState([]),[n,r]=v.useState(null),[i,a]=v.useState({name:"",linkUrl:"",imageUrl:"",type:"sponsor",placement:"home",order:0,active:!0}),[o,c]=v.useState(!1),[d,h]=v.useState(""),[m,f]=v.useState(null),[g,x]=v.useState(!1),N=()=>{try{const R=localStorage.getItem("homepage_sponsors"),F=R?JSON.parse(R):[];e(Array.isArray(F)?F:[])}catch{e([])}},w=R=>{localStorage.setItem("homepage_sponsors",JSON.stringify(R))},j=async()=>{c(!0),h("");try{const R=await dd.list();e(R.sort((F,M)=>(F.order??0)-(M.order??0)))}catch(R){console.warn("Sponsors list via Firestore failed, using localStorage",(R==null?void 0:R.message)||R),N()}finally{c(!1)}};v.useEffect(()=>{const{app:R}=Wt();x(!!R),j()},[]);const _=()=>{a({name:"",linkUrl:"",imageUrl:"",type:"sponsor",placement:"home",order:t.length,active:!0}),r(null),h("")},E=R=>{r(R.id||R._localId),a({name:R.name||"",linkUrl:R.linkUrl||"",imageUrl:R.imageUrl||"",type:R.type||"sponsor",placement:R.placement||"home",order:R.order??0,active:R.active??!0})},k=async R=>{R.preventDefault(),c(!0),h("");try{const F={...i,name:i.name.trim(),linkUrl:i.linkUrl.trim(),imageUrl:i.imageUrl.trim(),createdAt:new Date().toISOString()};if(n)try{await dd.update(n,F),await j()}catch{const P=t.map(I=>I.id===n||I._localId===n?{...I,...F}:I);e(P),w(P)}else try{const M=await dd.add(F),P=(M==null?void 0:M.id)||Math.random().toString(36).slice(2);e(I=>[...I,{id:P,...F}])}catch{const P={_localId:Math.random().toString(36).slice(2),...F},I=[...t,P];e(I),w(I)}_()}catch(F){h((F==null?void 0:F.message)||"Failed to save")}finally{c(!1)}},C=async R=>{if(window.confirm("Delete this item?")){c(!0);try{if(R.id)try{await dd.remove(R.id),await j()}catch{const M=t.filter(P=>P.id!==R.id);e(M),w(M)}else{const F=t.filter(M=>M._localId!==R._localId);e(F),w(F)}}finally{c(!1)}}};return s.jsx("div",{className:"min-h-screen py-8 px-4 bg-gradient-to-br from-slate-50 to-blue-50",children:s.jsx("div",{className:"max-w-5xl mx-auto",children:s.jsxs(se,{className:"shadow-xl border-2 border-blue-200",children:[s.jsx(Fe,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:s.jsxs(Ve,{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(Md,{className:"w-5 h-5"})," Manage Sponsors & Ads"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rt,{to:rt("Assistant"),className:"text-white/90 hover:text-white",children:s.jsxs(G,{variant:"ghost",className:"text-white",children:[s.jsx(eh,{className:"w-4 h-4 mr-2"})," Open AI Agent"]})}),s.jsx(Rt,{to:rt("AdminDashboard"),className:"text-white/90 hover:text-white",children:s.jsxs(G,{variant:"ghost",className:"text-white",children:[s.jsx(Ll,{className:"w-4 h-4 mr-2"})," Back to Dashboard"]})})]})]})}),s.jsxs(ae,{className:"p-6",children:[s.jsxs("form",{onSubmit:k,className:"space-y-4",children:[d&&s.jsx("div",{className:"text-red-600",children:d}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"Name"}),s.jsx(Te,{value:i.name,onChange:R=>a({...i,name:R.target.value}),placeholder:"Sponsor name",required:!0})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Link URL"}),s.jsx(Te,{value:i.linkUrl,onChange:R=>a({...i,linkUrl:R.target.value}),placeholder:"https://sponsor.com",type:"url",required:!0})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Logo/Image URL"}),s.jsx(Te,{value:i.imageUrl,onChange:R=>a({...i,imageUrl:R.target.value}),placeholder:"https://...logo.png"})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Upload Image (optional)"}),s.jsx(Te,{type:"file",accept:"image/*",onChange:R=>{var F;return f(((F=R.target.files)==null?void 0:F[0])||null)}}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:g?"Uploads go to Firebase Storage and auto-fill the Image URL.":"Upload disabled: configure Firebase env vars to enable Storage."}),s.jsxs("div",{className:"mt-2 flex gap-2",children:[s.jsx(G,{type:"button",variant:"outline",disabled:!m||!g||o,onClick:async()=>{if(h(""),!!m)try{const R=await vO(m,i.name||m.name);a({...i,imageUrl:R.url})}catch(R){h((R==null?void 0:R.message)||"Upload failed")}},children:"Upload to Storage"}),i.imageUrl&&s.jsx("a",{href:i.imageUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 text-sm",children:"Preview"})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Type"}),s.jsxs("select",{className:"border rounded px-3 py-2 w-full",value:i.type,onChange:R=>a({...i,type:R.target.value}),children:[s.jsx("option",{value:"sponsor",children:"Sponsor"}),s.jsx("option",{value:"ad",children:"Ad"})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Placement"}),s.jsx("select",{className:"border rounded px-3 py-2 w-full",value:i.placement,onChange:R=>a({...i,placement:R.target.value}),children:s.jsx("option",{value:"home",children:"Home"})})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Order"}),s.jsx(Te,{type:"number",value:i.order,onChange:R=>a({...i,order:Number(R.target.value)})})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Is,{checked:i.active,onCheckedChange:R=>a({...i,active:!!R})}),s.jsx(ye,{children:"Active"})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(G,{type:"submit",disabled:o,className:"bg-blue-600 text-white",children:[s.jsx(ya,{className:"w-4 h-4 mr-2"})," ",n?"Update":"Add"," Item"]}),n&&s.jsxs(G,{type:"button",variant:"outline",onClick:_,children:[s.jsx(ps,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]}),s.jsxs("div",{className:"mt-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-xl font-bold",children:"Current Items"}),s.jsxs(G,{variant:"outline",onClick:_,children:[s.jsx(Os,{className:"w-4 h-4 mr-2"}),"New"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.map(R=>s.jsx("div",{className:"border rounded-xl p-4 bg-white",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded flex items-center justify-center overflow-hidden",children:R.imageUrl?s.jsx(Dpe,{url:R.imageUrl,name:R.name}):s.jsx(io,{className:"w-8 h-8 text-gray-400"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold",children:R.name}),s.jsx("div",{className:"text-sm text-blue-600 break-all",children:s.jsx("a",{href:R.linkUrl,target:"_blank",rel:"noopener noreferrer",children:R.linkUrl})}),s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Type: ",R.type,"  Placement: ",R.placement,"  Order: ",R.order??0,"  Active: ",R.active?"Yes":"No"]}),s.jsxs("div",{className:"mt-3 flex gap-2",children:[s.jsxs(G,{size:"sm",variant:"outline",onClick:()=>E(R),children:[s.jsx(yo,{className:"w-4 h-4 mr-1"}),"Edit"]}),s.jsxs(G,{size:"sm",variant:"destructive",onClick:()=>C(R),children:[s.jsx(hr,{className:"w-4 h-4 mr-1"}),"Delete"]})]})]})]})},R.id||R._localId)),t.length===0&&s.jsx("div",{className:"text-gray-600",children:"No sponsors or ads yet. Add your first above."})]})]})]})]})})})}function Dpe({url:t,name:e}){const[n,r]=wn.useState(!1);return n?s.jsx(io,{className:"w-8 h-8 text-gray-400"}):s.jsx("img",{src:t,alt:e||"Sponsor",className:"object-contain w-full h-full",referrerPolicy:"no-referrer",onError:()=>r(!0)})}function yV(){const[t,e]=v.useState(null),[n,r]=v.useState(!1),[i,a]=v.useState(null),o=si();Yn();const[c,d]=v.useState({title:"",description:"",moral:"",image_url:"",category:"manners",age_range:"7-12",is_interactive:!0,starting_node:"start",story_nodes:[]}),[h,m]=v.useState({id:"",content:"",character:"",image_url:"",is_ending:!1,ending_type:"good",choices:[]}),{data:f=[],isLoading:g}=Un({queryKey:["admin-interactive-stories"],queryFn:async()=>(await yt.entities.Story.list("-created_date")).filter(U=>U.is_interactive),initialData:[]}),x=Sn({mutationFn:async L=>await yt.entities.Story.create(L),onSuccess:()=>{o.invalidateQueries({queryKey:["admin-interactive-stories"]}),r(!1),j()}}),N=Sn({mutationFn:async({id:L,storyData:U})=>await yt.entities.Story.update(L,U),onSuccess:()=>{o.invalidateQueries({queryKey:["admin-interactive-stories"]}),e(null),r(!1),j()}}),w=Sn({mutationFn:async L=>await yt.entities.Story.delete(L),onSuccess:()=>{o.invalidateQueries({queryKey:["admin-interactive-stories"]})}}),j=()=>{d({title:"",description:"",moral:"",image_url:"",category:"manners",age_range:"7-12",is_interactive:!0,starting_node:"start",story_nodes:[]}),a(null)},_=L=>{e(L),d({title:L.title,description:L.description||"",moral:L.moral,image_url:L.image_url||"",category:L.category,age_range:L.age_range||"7-12",is_interactive:!0,starting_node:L.starting_node||"start",story_nodes:L.story_nodes||[]}),r(!0)},E=async L=>{window.confirm("Are you sure you want to delete this interactive story?")&&await w.mutateAsync(L)},k=async L=>{L.preventDefault(),t?await N.mutateAsync({id:t.id,storyData:c}):await x.mutateAsync(c)},C=()=>{const L={id:`node_${Date.now()}`,content:"",character:"",image_url:"",is_ending:!1,ending_type:"good",choices:[]};d({...c,story_nodes:[...c.story_nodes,L]})},R=(L,U,D)=>{const V=[...c.story_nodes];V[L]={...V[L],[U]:D},d({...c,story_nodes:V})},F=L=>{if(window.confirm("Delete this story node?")){const U=c.story_nodes.filter((D,V)=>V!==L);d({...c,story_nodes:U})}},M=L=>{const U=[...c.story_nodes];U[L].choices||(U[L].choices=[]),U[L].choices.push({text:"",next_node:"",points:5}),d({...c,story_nodes:U})},P=(L,U,D,V)=>{const J=[...c.story_nodes];J[L].choices[U]={...J[L].choices[U],[D]:V},d({...c,story_nodes:J})},I=(L,U)=>{const D=[...c.story_nodes];D[L].choices=D[L].choices.filter((V,J)=>J!==U),d({...c,story_nodes:D})};return s.jsx("div",{className:"min-h-screen py-8 px-4 bg-gradient-to-br from-slate-50 to-blue-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Rt,{to:rt("AdminDashboard"),children:s.jsxs(G,{variant:"outline",children:[s.jsx(Ll,{className:"w-4 h-4 mr-2"}),"Back"]})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Interactive Story Builder"}),s.jsx("p",{className:"text-gray-600",children:"Create branching narrative stories"})]})]}),s.jsxs(G,{onClick:()=>{r(!0),e(null),j()},className:"bg-purple-600 hover:bg-purple-700",children:[s.jsx(Os,{className:"w-4 h-4 mr-2"}),"Create Interactive Story"]})]}),!n&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(L=>{var U;return s.jsxs(se,{className:"hover:shadow-lg transition-shadow",children:[s.jsx(Fe,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx(Ve,{className:"text-lg line-clamp-2",children:L.title}),s.jsxs(_e,{className:"bg-purple-100 text-purple-800",children:[s.jsx(rB,{className:"w-3 h-3 mr-1"}),((U=L.story_nodes)==null?void 0:U.length)||0," nodes"]})]})}),s.jsxs(ae,{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:L.description}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(G,{onClick:()=>_(L),size:"sm",className:"flex-1 bg-blue-600 hover:bg-blue-700",children:[s.jsx(yo,{className:"w-4 h-4 mr-1"}),"Edit"]}),s.jsx(G,{onClick:()=>E(L.id),size:"sm",variant:"outline",className:"text-red-600 border-red-600",children:s.jsx(hr,{className:"w-4 h-4"})})]})]})]},L.id)})}),n&&s.jsxs(se,{children:[s.jsx(Fe,{children:s.jsx(Ve,{children:t?"Edit Interactive Story":"Create New Interactive Story"})}),s.jsx(ae,{children:s.jsxs("form",{onSubmit:k,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Title *"}),s.jsx(Te,{value:c.title,onChange:L=>d({...c,title:L.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Category *"}),s.jsxs("select",{value:c.category,onChange:L=>d({...c,category:L.target.value}),className:"w-full border rounded-lg px-3 py-2",children:[s.jsx("option",{value:"prophets",children:"Prophets"}),s.jsx("option",{value:"sahabah",children:"Sahabah"}),s.jsx("option",{value:"manners",children:"Manners"}),s.jsx("option",{value:"kindness",children:"Kindness"}),s.jsx("option",{value:"honesty",children:"Honesty"}),s.jsx("option",{value:"gratitude",children:"Gratitude"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Description"}),s.jsx(Te,{value:c.description,onChange:L=>d({...c,description:L.target.value}),placeholder:"Brief description of the story"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Moral/Lesson *"}),s.jsx(Rn,{value:c.moral,onChange:L=>d({...c,moral:L.target.value}),required:!0,rows:2})]}),s.jsxs("div",{className:"border-t pt-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-xl font-bold",children:"Story Nodes"}),s.jsxs(G,{type:"button",onClick:C,size:"sm",children:[s.jsx(Os,{className:"w-4 h-4 mr-2"}),"Add Node"]})]}),s.jsx("div",{className:"space-y-4",children:c.story_nodes.map((L,U)=>{var D;return s.jsx(se,{className:"border-2 border-purple-200",children:s.jsxs(ae,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsxs(_e,{className:"mb-2",children:["Node ",U+1]}),s.jsxs("p",{className:"text-xs text-gray-500",children:["ID: ",L.id]})]}),s.jsx(G,{type:"button",variant:"ghost",size:"sm",onClick:()=>F(U),className:"text-red-600",children:s.jsx(hr,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Character Name"}),s.jsx(Te,{value:L.character,onChange:V=>R(U,"character",V.target.value),placeholder:"e.g., Ahmad (You)"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Content *"}),s.jsx(Rn,{value:L.content,onChange:V=>R(U,"content",V.target.value),rows:4,placeholder:"Story content (Markdown supported)"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:L.is_ending,onChange:V=>R(U,"is_ending",V.target.checked)}),s.jsx("span",{className:"text-sm font-semibold",children:"Is Ending Node"})]}),L.is_ending&&s.jsxs("select",{value:L.ending_type,onChange:V=>R(U,"ending_type",V.target.value),className:"border rounded px-2 py-1 text-sm",children:[s.jsx("option",{value:"excellent",children:"Excellent"}),s.jsx("option",{value:"great",children:"Great"}),s.jsx("option",{value:"good",children:"Good"}),s.jsx("option",{value:"bad",children:"Bad"})]})]}),!L.is_ending&&s.jsxs("div",{className:"border-t pt-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("label",{className:"text-sm font-semibold",children:"Choices"}),s.jsxs(G,{type:"button",onClick:()=>M(U),size:"sm",variant:"outline",children:[s.jsx(Os,{className:"w-3 h-3 mr-1"}),"Add Choice"]})]}),(D=L.choices)==null?void 0:D.map((V,J)=>s.jsxs("div",{className:"bg-gray-50 p-3 rounded mb-2",children:[s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsxs("span",{className:"text-xs font-bold",children:["Choice ",J+1]}),s.jsx(G,{type:"button",variant:"ghost",size:"sm",onClick:()=>I(U,J),children:s.jsx(ps,{className:"w-3 h-3"})})]}),s.jsx(Te,{value:V.text,onChange:ee=>P(U,J,"text",ee.target.value),placeholder:"Choice text",className:"mb-2"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx(Te,{value:V.next_node,onChange:ee=>P(U,J,"next_node",ee.target.value),placeholder:"Next node ID"}),s.jsx(Te,{type:"number",value:V.points,onChange:ee=>P(U,J,"points",parseInt(ee.target.value)),placeholder:"Points"})]})]},J))]})]})]})},U)})})]}),s.jsxs("div",{className:"flex gap-4 justify-end border-t pt-6",children:[s.jsx(G,{type:"button",variant:"outline",onClick:()=>{r(!1),j()},children:"Cancel"}),s.jsxs(G,{type:"submit",className:"bg-purple-600 hover:bg-purple-700",children:[s.jsx(ya,{className:"w-4 h-4 mr-2"}),t?"Update Story":"Create Story"]})]})]})})]})]})})}const eR=[{game_id:"ayat_explorer",game_name:"Ayat Explorer",emoji:""},{game_id:"word_search",game_name:"Islamic Word Search",emoji:""},{game_id:"memory_match",game_name:"Islamic Memory Match",emoji:""},{game_id:"memory",game_name:"Memory Game",emoji:""},{game_id:"matching_pairs",game_name:"Matching Pairs of Iman",emoji:""},{game_id:"islamic_quiz",game_name:"Islamic Knowledge Quiz",emoji:""},{game_id:"sahabah_arena",game_name:"Sahabah Arena",emoji:""},{game_id:"knowledge_race",game_name:"Islam Knowledge Race",emoji:""},{game_id:"sahabah_stories",game_name:"Sahabah Stories",emoji:""},{game_id:"maze_of_guidance",game_name:"Maze of Guidance",emoji:""},{game_id:"trivia",game_name:"Trivia",emoji:""},{game_id:"quran_quest",game_name:"Quran Quest",emoji:""},{game_id:"crossword",game_name:"Islamic Crossword",emoji:""},{game_id:"hadith_match",game_name:"Hadith Match",emoji:""},{game_id:"prophet_stories",game_name:"Prophet Stories",emoji:""},{game_id:"quran_memory",game_name:"Quran Memory Match",emoji:""},{game_id:"morals_maze",game_name:"Islamic Morals Maze",emoji:""},{game_id:"seerah_quiz",game_name:"Seerah Quiz",emoji:""},{game_id:"word_scramble",game_name:"Word Scramble Challenge",emoji:""},{game_id:"quest_for_ilm",game_name:"The Quest for Ilm",emoji:""},{game_id:"fiqh_game",game_name:"Fiqh Challenge",emoji:""}];function vV(){Yn();const t=si(),[e,n]=v.useState(!1),[r,i]=v.useState({}),{data:a=[],isLoading:o}=Un({queryKey:["game-settings"],queryFn:async()=>{const g=await yt.entities.GameSettings.list(),x=g.map(w=>w.game_id),N=eR.filter(w=>!x.includes(w.game_id));return N.length>0?(await Promise.all(N.map(w=>yt.entities.GameSettings.create({game_id:w.game_id,game_name:w.game_name,points_per_game:10,perfect_score_bonus:5,is_active:!0,min_points:5,max_points:20}))),await yt.entities.GameSettings.list()):g},enabled:!0}),c=Sn({mutationFn:({id:g,data:x})=>yt.entities.GameSettings.update(g,x),onSuccess:()=>{t.invalidateQueries({queryKey:["game-settings"]}),n(!0),setTimeout(()=>n(!1),3e3)}}),d=(g,x,N)=>{i(w=>({...w,[g]:{...w[g],[x]:N}}))},h=async g=>{const x=r[g.game_id]||{};Object.keys(x).length!==0&&(await c.mutateAsync({id:g.id,data:x}),i(N=>{const w={...N};return delete w[g.game_id],w}))},m=(g,x)=>{var N;return((N=r[g.game_id])==null?void 0:N[x])??g[x]},f=g=>r[g]&&Object.keys(r[g]).length>0;return o?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ld,{className:"w-12 h-12 mx-auto mb-4 animate-spin text-blue-600"}),s.jsx("p",{className:"text-gray-600",children:"Loading game settings..."})]})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 py-8 px-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx(ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Game Settings"}),s.jsx("p",{className:"text-gray-600",children:"Manage points and settings for all games"})]}),e&&s.jsxs(_e,{className:"bg-green-500 text-white",children:[s.jsx(Bc,{className:"w-4 h-4 mr-2"}),"Saved Successfully!"]})]})}),s.jsx("div",{className:"grid gap-6",children:a.map((g,x)=>{const N=eR.find(j=>j.game_id===g.game_id),w=f(g.game_id);return s.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:x*.05},children:s.jsxs(se,{className:`border-2 ${w?"border-blue-400 shadow-lg":"border-gray-200"}`,children:[s.jsx(Fe,{className:"bg-gradient-to-r from-blue-50 to-purple-50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"text-4xl",children:(N==null?void 0:N.emoji)||""}),s.jsxs("div",{children:[s.jsx(Ve,{className:"text-xl",children:g.game_name}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Game ID: ",g.game_id]})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[w&&s.jsx(_e,{variant:"outline",className:"bg-blue-100 text-blue-700",children:"Unsaved Changes"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ye,{htmlFor:`active-${g.id}`,children:"Active"}),s.jsx(Is,{id:`active-${g.id}`,checked:m(g,"is_active"),onCheckedChange:j=>d(g.game_id,"is_active",j)})]})]})]})}),s.jsxs(ae,{className:"p-6",children:[s.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{children:[s.jsxs(ye,{htmlFor:`points-${g.id}`,className:"flex items-center gap-2 mb-2",children:[s.jsx(Dd,{className:"w-4 h-4 text-blue-600"}),"Points Per Game"]}),s.jsx(Te,{id:`points-${g.id}`,type:"number",value:m(g,"points_per_game"),onChange:j=>d(g.game_id,"points_per_game",parseInt(j.target.value)),className:"text-center font-bold text-lg",min:m(g,"min_points"),max:m(g,"max_points")})]}),s.jsxs("div",{children:[s.jsxs(ye,{htmlFor:`bonus-${g.id}`,className:"flex items-center gap-2 mb-2",children:[s.jsx(Cj,{className:"w-4 h-4 text-green-600"}),"Perfect Score Bonus"]}),s.jsx(Te,{id:`bonus-${g.id}`,type:"number",value:m(g,"perfect_score_bonus"),onChange:j=>d(g.game_id,"perfect_score_bonus",parseInt(j.target.value)),className:"text-center font-bold text-lg",min:0,max:20})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:`min-${g.id}`,className:"mb-2 block",children:"Min Points"}),s.jsx(Te,{id:`min-${g.id}`,type:"number",value:m(g,"min_points"),onChange:j=>d(g.game_id,"min_points",parseInt(j.target.value)),className:"text-center",min:0})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:`max-${g.id}`,className:"mb-2 block",children:"Max Points"}),s.jsx(Te,{id:`max-${g.id}`,type:"number",value:m(g,"max_points"),onChange:j=>d(g.game_id,"max_points",parseInt(j.target.value)),className:"text-center",min:m(g,"min_points")})]})]}),s.jsxs("div",{className:"mt-4 flex items-center gap-3",children:[s.jsx("div",{className:"flex-1 bg-blue-50 rounded-lg p-3 border border-blue-200",children:s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("strong",{children:"Total Possible:"})," ",m(g,"points_per_game")," + ",m(g,"perfect_score_bonus")," bonus = ",s.jsxs("span",{className:"text-blue-600 font-bold",children:[m(g,"points_per_game")+m(g,"perfect_score_bonus")," points"]})]})}),s.jsxs(G,{onClick:()=>h(g),disabled:!w,className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(ya,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]})]})]})},g.id)})}),s.jsx(se,{className:"mt-8 border-2 border-amber-300 bg-amber-50",children:s.jsx(ae,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(_j,{className:"w-6 h-6 text-amber-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-amber-900 mb-2",children:"Important Notes:"}),s.jsxs("ul",{className:"text-sm text-amber-800 space-y-1",children:[s.jsx("li",{children:" Changes take effect immediately for all new games played"}),s.jsx("li",{children:" User points are capped at 1500 total regardless of individual game settings"}),s.jsx("li",{children:" Perfect score bonus is only awarded when users get 100% correct"}),s.jsx("li",{children:" Deactivating a game will hide it from the Games page"})]})]})]})})})]})})}async function Mpe(t,e,n={}){var o,c,d,h,m,f;const{isPerfect:r=!1,fallbackScore:i=10,metadata:a={}}=n;try{const g=await yt.entities.GameSettings.filter({game_id:e}),x=g&&g.length>0?g[0]:null,N=x?x.is_active!==!1:!0,w=x?Number(x.points_per_game??i):i,j=x?Number(x.perfect_score_bonus??0):0,_=x?Number(x.min_points??0):0,E=x?Number(x.max_points??99999):99999;let k=N?w+(r?j:0):0;k=Math.max(_,Math.min(k,E));const{auth:C}=Wt(),R=await((c=(o=C==null?void 0:C.currentUser)==null?void 0:o.getIdToken)==null?void 0:c.call(o));if(R){const L="/api/updatePoints";try{if((await fetch(L,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${R}`},body:JSON.stringify({game_type:e,points_awarded:k,isPerfect:r,metadata:a})})).ok)return k}catch{}}const{db:F,auth:M}=Wt(),P=(d=M==null?void 0:M.currentUser)==null?void 0:d.uid,I=((h=M==null?void 0:M.currentUser)==null?void 0:h.email)||null;if(F&&P)try{const L=Yc(F,"users",P),U=await H6(L),D=Number(U.exists()&&((m=U.data())==null?void 0:m.points)||0),J=Math.min(D+k,1500);await K6(L,{uid:P,email:I,points:J,lastAward:{game_type:e||null,points_awarded:k,perfect:r,at:new Date},updatedAt:new Date,createdAt:U.exists()?((f=U.data())==null?void 0:f.createdAt)||new Date:new Date},{merge:!0})}catch{}return k}catch(g){return console.error("awardPointsForGame error:",g),i}}function bV(){Yn();const[t,e]=v.useState(null),[n,r]=v.useState(null),[i,a]=v.useState(0),[o,c]=v.useState(null),[d,h]=v.useState(!1),[m,f]=v.useState([]),[g,x]=v.useState(null),[N,w]=v.useState(!1),[j,_]=v.useState(null),[E,k]=v.useState("all"),[C,R]=v.useState(null);v.useEffect(()=>{F()},[]),v.useEffect(()=>{const $=gh(te=>R(te));return()=>$&&$()},[]);const F=async()=>{try{if(await base44.auth.isAuthenticated()){const te=await base44.auth.me();e(te)}}catch{console.log("User not authenticated")}},{data:M=[],isLoading:P}=Un({queryKey:["quizzes"],queryFn:async()=>{const $=await base44.entities.Quiz.filter({is_active:!0},"-created_date",100),te=new Date;return $.filter(H=>{const me=H.start_date?new Date(H.start_date):null,we=H.end_date?new Date(H.end_date):null;return!(me&&te<me||we&&te>we)})},initialData:[]}),{data:I=[]}=Un({queryKey:["user-quiz-attempts",t==null?void 0:t.id],queryFn:()=>base44.entities.QuizAttempt.filter({user_id:t.id},"-created_date",100),enabled:!!t,initialData:[]}),{data:L=[]}=Un({queryKey:["quiz-questions",n==null?void 0:n.id],queryFn:async()=>{if(!n)return[];const $=n.questions||[];return(await Promise.all($.map(async H=>{try{return(await base44.entities.QuizQuestion.filter({id:H}))[0]}catch{return null}}))).filter(H=>H!==null)},enabled:!!n,initialData:[]}),U=$=>{r($),a(0),f([]),h(!1),w(!1),x(Date.now())},D=$=>{d||c($)},V=()=>{if(o===null)return;const $=L[i],te=o===$.correct_answer_index;f([...m,{question_id:$.id,selected_answer:o,is_correct:te}]),h(!0)},J=()=>{i<L.length-1?(a(i+1),c(null),h(!1)):ee()},ee=async()=>{var Se,De,ze;const $=Math.floor((Date.now()-g)/1e3),te=m.filter(qe=>qe.is_correct).length+(o===((Se=L[i])==null?void 0:Se.correct_answer_index)?1:0),H=L.length,me=Math.round(te/H*100),we=me>=(n.passing_score||70);let Ce=we?n.points_reward||20:0;if(me===100&&(Ce+=n.bonus_points||10),_({score:me,correct_answers:te,total_questions:H,time_taken:$,points_earned:Ce,passed:we}),w(!0),t)try{await base44.entities.QuizAttempt.create({user_id:t.id,quiz_id:n.id,score:me,points_earned:Ce,correct_answers:te,total_questions:H,time_taken_seconds:$,answers:[...m,{question_id:(De=L[i])==null?void 0:De.id,selected_answer:o,is_correct:o===((ze=L[i])==null?void 0:ze.correct_answer_index)}],passed:we,completed_at:new Date().toISOString()}),await base44.entities.Quiz.update(n.id,{total_attempts:(n.total_attempts||0)+1})}catch(qe){console.error("Error saving quiz attempt:",qe)}try{await Mpe(t,"quiz",{isPerfect:me===100,fallbackScore:Ce,metadata:{quiz_id:n.id,score_percentage:me,correct_answers:te,total_questions:H,time_taken_seconds:$,passed:we}})}catch(qe){console.warn("awardPointsForGame failed:",(qe==null?void 0:qe.message)||qe)}},re=()=>{r(null),a(0),c(null),h(!1),f([]),w(!1),_(null)},ie=$=>{const te=I.filter(H=>H.quiz_id===$);return te.length===0?null:Math.max(...te.map(H=>H.score))},Q=["all","Quran","Hadith","Seerah","Fiqh","Prophets","Sahabah","Akhlaq","History","Mixed"],q=E==="all"?M:M.filter($=>$.subject===E),B=M.filter($=>$.is_featured);if(P)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-purple-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx(eh,{className:"w-16 h-16 mx-auto mb-4 animate-bounce text-blue-600"}),s.jsx("p",{className:"text-gray-600 font-medium",children:"Loading quizzes..."})]})});if(n&&!N){if(L.length===0)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:s.jsx(se,{className:"max-w-md",children:s.jsxs(ae,{className:"p-8 text-center",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"Loading quiz questions..."}),s.jsx(G,{onClick:re,children:"Back to Quizzes"})]})})});const $=L[i],te=(i+1)/L.length*100;return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 py-8 px-4",children:s.jsx("div",{className:"max-w-3xl mx-auto",children:s.jsxs(se,{className:"shadow-2xl",children:[s.jsxs(Fe,{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx(Ve,{className:"text-2xl",children:n.title}),s.jsxs(_e,{className:"bg-white/20 text-white",children:[s.jsx(hl,{className:"w-4 h-4 mr-1"}),"Question ",i+1,"/",L.length]})]}),s.jsx(oy,{value:te,className:"bg-white/20"})]}),s.jsx(ae,{className:"p-8",children:d?s.jsxs(ne.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center",children:[s.jsx("div",{className:"text-6xl mb-6",children:o===$.correct_answer_index?"":""}),s.jsx("h3",{className:`text-3xl font-bold mb-4 ${o===$.correct_answer_index?"text-green-600":"text-red-600"}`,children:o===$.correct_answer_index?"Correct!":"Not Quite!"}),s.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 mb-6",children:[o!==$.correct_answer_index&&s.jsxs("p",{className:"text-lg mb-3",children:[s.jsx("strong",{children:"Correct Answer:"})," ",$.options[$.correct_answer_index]]}),s.jsxs("p",{className:"text-gray-700",children:[s.jsx("strong",{children:"Explanation:"})," ",$.explanation]}),$.source&&s.jsxs("p",{className:"text-sm text-gray-600 mt-3",children:[s.jsx("strong",{children:"Source:"})," ",$.source]})]}),s.jsx(G,{onClick:J,size:"lg",className:"bg-gradient-to-r from-blue-500 to-purple-500",children:i<L.length-1?"Next Question":"See Results"})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(_e,{className:"mb-4",children:$.category}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:$.question})]}),s.jsx("div",{className:"space-y-3",children:$.options.map((H,me)=>s.jsx(ne.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>D(me),className:`w-full p-4 rounded-xl border-2 text-left transition-all ${o===me?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300 bg-white"}`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold ${o===me?"bg-blue-500 text-white":"bg-gray-200 text-gray-600"}`,children:String.fromCharCode(65+me)}),s.jsx("span",{className:"flex-1 text-gray-900",children:H})]})},me))}),s.jsx(G,{onClick:V,disabled:o===null,className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 text-lg py-6",size:"lg",children:"Submit Answer"})]})})]})})})}return N&&j?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 py-8 px-4",children:s.jsx("div",{className:"max-w-2xl mx-auto",children:s.jsx(ne.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},children:s.jsx(se,{className:"shadow-2xl border-4 border-blue-300",children:s.jsxs(ae,{className:"p-12 text-center",children:[s.jsx("div",{className:"text-6xl mb-6",children:j.passed?"":""}),s.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:j.passed?"Congratulations!":"Keep Learning!"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[s.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 border-2 border-blue-200",children:[s.jsx(u$,{className:"w-8 h-8 mx-auto mb-2 text-blue-600"}),s.jsxs("p",{className:"text-4xl font-bold text-blue-600",children:[j.score,"%"]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Score"})]}),s.jsxs("div",{className:"bg-purple-50 rounded-xl p-6 border-2 border-purple-200",children:[s.jsx(Dd,{className:"w-8 h-8 mx-auto mb-2 text-purple-600"}),s.jsx("p",{className:"text-4xl font-bold text-purple-600",children:j.points_earned}),s.jsx("p",{className:"text-sm text-gray-600",children:"Points"})]})]}),s.jsx("div",{className:"bg-gray-50 rounded-xl p-6 mb-8",children:s.jsxs("div",{className:"flex justify-around text-center",children:[s.jsxs("div",{children:[s.jsx(th,{className:"w-6 h-6 mx-auto mb-1 text-green-600"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j.correct_answers}),s.jsx("p",{className:"text-xs text-gray-600",children:"Correct"})]}),s.jsxs("div",{children:[s.jsx(my,{className:"w-6 h-6 mx-auto mb-1 text-red-600"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j.total_questions-j.correct_answers}),s.jsx("p",{className:"text-xs text-gray-600",children:"Wrong"})]}),s.jsxs("div",{children:[s.jsx(hl,{className:"w-6 h-6 mx-auto mb-1 text-blue-600"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[Math.floor(j.time_taken/60),":",(j.time_taken%60).toString().padStart(2,"0")]}),s.jsx("p",{className:"text-xs text-gray-600",children:"Time"})]})]})}),j.score===100&&s.jsx("div",{className:"bg-gradient-to-r from-amber-100 to-yellow-100 border-2 border-amber-400 rounded-xl p-4 mb-6",children:s.jsxs("p",{className:"text-amber-900 font-bold",children:[" Perfect Score! +",n.bonus_points," Bonus Points!"]})}),s.jsxs("div",{className:"flex gap-4 justify-center",children:[s.jsx(G,{onClick:re,variant:"outline",size:"lg",children:"Back to Quizzes"}),s.jsx(G,{onClick:()=>U(n),className:"bg-gradient-to-r from-blue-500 to-purple-500",size:"lg",children:"Retry Quiz"})]})]})})})})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 py-8 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[!C&&s.jsx("div",{className:"mb-4",children:s.jsx(se,{className:"border-2 border-yellow-300 bg-yellow-50",children:s.jsx(ae,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsx("div",{className:"text-sm text-yellow-900",children:"To track your points on the Leaderboard, please sign in."}),s.jsx(Rt,{to:"/Signup",children:s.jsx(G,{className:"bg-blue-600 hover:bg-blue-700",children:"Sign in / Signup"})})]})})})}),s.jsxs(ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-5xl font-bold text-gray-900 mb-4",children:"Islamic Quizzes"}),s.jsx("p",{className:"text-xl text-gray-600",children:"Test your knowledge on various Islamic topics"})]}),s.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-8",children:Q.map($=>s.jsx(G,{onClick:()=>k($),variant:E===$?"default":"outline",className:E===$?"bg-blue-600":"",children:$==="all"?"All Subjects":$},$))}),B.length>0&&E==="all"&&s.jsxs("div",{className:"mb-12",children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[s.jsx(cn,{className:"w-6 h-6 text-amber-500 fill-amber-500"}),"Featured This Week"]}),s.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:B.map(($,te)=>{var H;return s.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:te*.1},children:s.jsxs(se,{className:"border-4 border-amber-400 hover:shadow-2xl transition-all cursor-pointer bg-gradient-to-br from-amber-50 to-yellow-50",children:[s.jsx(Fe,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"text-4xl",children:$.icon}),s.jsxs("div",{children:[s.jsx(Ve,{className:"text-2xl",children:$.title}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:$.description})]})]}),s.jsx(_e,{className:"bg-amber-500",children:"Featured"})]})}),s.jsxs(ae,{children:[s.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[s.jsx(_e,{children:$.subject}),s.jsxs(_e,{variant:"outline",children:[((H=$.questions)==null?void 0:H.length)||0," Questions"]}),s.jsxs(_e,{variant:"outline",children:[s.jsx(hl,{className:"w-3 h-3 mr-1"}),$.duration_minutes," min"]}),s.jsxs(_e,{variant:"outline",children:[s.jsx(Dd,{className:"w-3 h-3 mr-1"}),$.points_reward," pts"]})]}),t&&ie($.id)!==null&&s.jsx("div",{className:"bg-blue-100 rounded-lg p-2 mb-4",children:s.jsxs("p",{className:"text-sm text-blue-900",children:[s.jsx("strong",{children:"Your Best:"})," ",ie($.id),"%"]})}),s.jsx(G,{onClick:()=>U($),className:"w-full bg-gradient-to-r from-amber-500 to-orange-500",size:"lg",children:"Start Quiz"})]})]})},$.id)})})]}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:E==="all"?"All Quizzes":`${E} Quizzes`}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:q.map(($,te)=>{var H;return s.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:te*.1},children:s.jsxs(se,{className:"hover:shadow-xl transition-all cursor-pointer h-full",children:[s.jsxs(Fe,{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"text-4xl",children:$.icon}),s.jsx("div",{className:"flex-1",children:s.jsx(Ve,{className:"text-lg",children:$.title})})]}),s.jsx("p",{className:"text-sm text-gray-600",children:$.description})]}),s.jsxs(ae,{children:[s.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[s.jsx(_e,{children:$.subject}),s.jsxs(_e,{variant:"outline",children:[((H=$.questions)==null?void 0:H.length)||0," Qs"]}),s.jsxs(_e,{variant:"outline",children:[s.jsx(hl,{className:"w-3 h-3 mr-1"}),$.duration_minutes,"m"]})]}),t&&ie($.id)!==null&&s.jsx("div",{className:"bg-green-100 rounded-lg p-2 mb-4",children:s.jsxs("p",{className:"text-xs text-green-900",children:["Best: ",ie($.id),"%"]})}),s.jsx(G,{onClick:()=>U($),className:"w-full bg-blue-600",children:"Take Quiz"})]})]})},$.id)})}),q.length===0&&s.jsx(se,{children:s.jsxs(ae,{className:"p-12 text-center",children:[s.jsx(jn,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-gray-600",children:"No quizzes available in this category yet."})]})})]})})}function wV(){const t=si(),[e,n]=v.useState(!1),[r,i]=v.useState(null),[a,o]=v.useState([]),[c,d]=v.useState(""),[h,m]=v.useState(5),[f,g]=v.useState(!1),[x,N]=v.useState(""),[w,j]=v.useState(""),[_,E]=v.useState({title:"",description:"",subject:"Quran",difficulty:"mixed",duration_minutes:15,passing_score:70,points_reward:20,bonus_points:10,is_active:!0,is_featured:!1,age_group:"all",icon:"",start_date:"",end_date:""}),k=["Quran","Hadith","Seerah","Fiqh","Prophets","Sahabah","Akhlaq","History","Arabic","Beliefs","Mixed"],{data:C=[]}=Un({queryKey:["all-quizzes"],queryFn:()=>yt.entities.Quiz.list("-created_date",100),initialData:[]}),{data:R=[]}=Un({queryKey:["all-quiz-questions"],queryFn:()=>yt.entities.QuizQuestion.filter({is_active:!0},"-date_added",500),initialData:[]}),F=Sn({mutationFn:q=>yt.entities.Quiz.create(q),onSuccess:()=>{t.invalidateQueries({queryKey:["all-quizzes"]}),V()}}),M=Sn({mutationFn:({id:q,data:B})=>yt.entities.Quiz.update(q,B),onSuccess:()=>{t.invalidateQueries({queryKey:["all-quizzes"]}),V()}}),P=Sn({mutationFn:q=>yt.entities.Quiz.delete(q),onSuccess:()=>{t.invalidateQueries({queryKey:["all-quizzes"]})}}),I=async q=>{q.preventDefault();const B={..._,questions:a,week_number:_.start_date?L(new Date(_.start_date)):null};r?await M.mutateAsync({id:r.id,data:B}):await F.mutateAsync(B)},L=q=>{const B=new Date(q.getFullYear(),0,1),$=(q-B)/864e5;return Math.ceil(($+B.getDay()+1)/7)},U=q=>{i(q),E({title:q.title,description:q.description,subject:q.subject,difficulty:q.difficulty,duration_minutes:q.duration_minutes,passing_score:q.passing_score,points_reward:q.points_reward,bonus_points:q.bonus_points,is_active:q.is_active,is_featured:q.is_featured,age_group:q.age_group||"all",icon:q.icon||"",start_date:q.start_date||"",end_date:q.end_date||""}),o(q.questions||[]),n(!0)},D=async q=>{window.confirm("Are you sure you want to delete this quiz?")&&await P.mutateAsync(q)},V=()=>{E({title:"",description:"",subject:"Quran",difficulty:"mixed",duration_minutes:15,passing_score:70,points_reward:20,bonus_points:10,is_active:!0,is_featured:!1,age_group:"all",icon:"",start_date:"",end_date:""}),o([]),i(null),n(!1),d(""),m(5),g(!1),N(""),j("")},J=q=>{o(B=>B.includes(q)?B.filter($=>$!==q):[...B,q])},ee=R.filter(q=>_.subject==="Mixed"||q.category===_.subject),re=q=>{const B=String(q||"").toLowerCase();return["easy","medium","hard"].includes(B)?B:"easy"},ie=async()=>{if(N(""),j(""),!c.trim()){N("Enter a topic for AI generation");return}g(!0);try{const{auth:q}=Wt();if(!(q!=null&&q.currentUser))throw new Error("Please login to use AI agent");const B=await q.currentUser.getIdToken(),$=await fetch("/api/quizAgent",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${B}`},body:JSON.stringify({topic:c,subject:_.subject,difficulty:_.difficulty,count:h})});if(!$.ok)throw new Error(`Agent error: ${$.status}`);const te=await $.json(),H=Array.isArray(te.questions)?te.questions:[],me=[];for(const we of H)try{const Ce=Array.isArray(we.options)&&we.options.length>=2?we.options.slice(0,4):["A","B","C","D"],fe=Math.max(0,Ce.findIndex(ze=>String(ze).trim()===String(we.answer||"").trim())),Se={category:we.category||_.subject,difficulty:re(we.difficulty||_.difficulty),question:we.question||`Question about ${c}`,options:Ce,correct_answer_index:fe>=0?fe:0,explanation:"",source:"AI",age_group:_.age_group||"all",is_active:!0},De=await yt.entities.QuizQuestion.create(Se);De!=null&&De.id&&me.push(De.id)}catch{}me.length&&(o(we=>[...we,...me]),t.invalidateQueries({queryKey:["all-quiz-questions"]})),j(`Generated ${H.length} and added ${me.length} questions.`)}catch(q){N((q==null?void 0:q.message)||"Failed to generate with AI")}finally{g(!1)}},Q={total:C.length,active:C.filter(q=>q.is_active).length,featured:C.filter(q=>q.is_featured).length,totalAttempts:C.reduce((q,B)=>q+(B.total_attempts||0),0)};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 py-8 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Quiz Manager"}),s.jsx("p",{className:"text-gray-600",children:"Create and manage weekly quizzes"})]}),s.jsxs(G,{onClick:()=>n(!e),className:"bg-blue-600 hover:bg-blue-700",children:[e?s.jsx(ps,{className:"w-4 h-4 mr-2"}):s.jsx(Os,{className:"w-4 h-4 mr-2"}),e?"Cancel":"Create Quiz"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[s.jsx(se,{children:s.jsxs(ae,{className:"p-4 text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Quizzes"}),s.jsx("p",{className:"text-3xl font-bold text-blue-600",children:Q.total})]})}),s.jsx(se,{children:s.jsxs(ae,{className:"p-4 text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Active"}),s.jsx("p",{className:"text-3xl font-bold text-green-600",children:Q.active})]})}),s.jsx(se,{children:s.jsxs(ae,{className:"p-4 text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Featured"}),s.jsx("p",{className:"text-3xl font-bold text-amber-600",children:Q.featured})]})}),s.jsx(se,{children:s.jsxs(ae,{className:"p-4 text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Attempts"}),s.jsx("p",{className:"text-3xl font-bold text-purple-600",children:Q.totalAttempts})]})})]}),s.jsx(ri,{children:e&&s.jsx(ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:s.jsxs(se,{className:"mb-8 border-2 border-blue-300",children:[s.jsx(Fe,{className:"bg-gradient-to-r from-blue-50 to-purple-50",children:s.jsx(Ve,{children:r?"Edit Quiz":"Create New Quiz"})}),s.jsx(ae,{className:"p-6",children:s.jsxs("form",{onSubmit:I,className:"space-y-6",children:[s.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"AI Topic"}),s.jsx(Te,{value:c,onChange:q=>d(q.target.value),placeholder:"e.g., Ramadan, Salah, Wudu"})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"AI Count"}),s.jsx(Te,{type:"number",value:h,onChange:q=>m(parseInt(q.target.value||"5"))})]}),s.jsx("div",{className:"flex items-end",children:s.jsx(G,{type:"button",className:"bg-purple-600 hover:bg-purple-700",onClick:ie,disabled:f,children:f?"Generating":"Generate via AI"})})]}),(x||w)&&s.jsxs("div",{className:"text-sm",children:[x&&s.jsx("div",{className:"text-red-600",children:x}),w&&s.jsx("div",{className:"text-green-600",children:w})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"Quiz Title"}),s.jsx(Te,{value:_.title,onChange:q=>E({..._,title:q.target.value}),placeholder:"e.g., Ramadan Champions Quiz",required:!0})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Icon Emoji"}),s.jsx(Te,{value:_.icon,onChange:q=>E({..._,icon:q.target.value}),placeholder:""})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Description"}),s.jsx(Rn,{value:_.description,onChange:q=>E({..._,description:q.target.value}),placeholder:"Describe the quiz...",rows:2})]}),s.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"Subject"}),s.jsxs(Qt,{value:_.subject,onValueChange:q=>E({..._,subject:q}),children:[s.jsx(qt,{children:s.jsx(Yt,{})}),s.jsx(Ht,{children:k.map(q=>s.jsx(Re,{value:q,children:q},q))})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Duration (min)"}),s.jsx(Te,{type:"number",value:_.duration_minutes,onChange:q=>E({..._,duration_minutes:parseInt(q.target.value)})})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Points"}),s.jsx(Te,{type:"number",value:_.points_reward,onChange:q=>E({..._,points_reward:parseInt(q.target.value)})})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Bonus"}),s.jsx(Te,{type:"number",value:_.bonus_points,onChange:q=>E({..._,bonus_points:parseInt(q.target.value)})})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"Start Date"}),s.jsx(Te,{type:"date",value:_.start_date,onChange:q=>E({..._,start_date:q.target.value})})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"End Date"}),s.jsx(Te,{type:"date",value:_.end_date,onChange:q=>E({..._,end_date:q.target.value})})]})]}),s.jsxs("div",{className:"flex gap-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Is,{checked:_.is_active,onCheckedChange:q=>E({..._,is_active:q})}),s.jsx(ye,{children:"Active"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Is,{checked:_.is_featured,onCheckedChange:q=>E({..._,is_featured:q})}),s.jsx(ye,{children:"Featured"})]})]}),s.jsxs("div",{children:[s.jsxs(ye,{className:"mb-3 block",children:["Select Questions (",a.length," selected)"]}),s.jsx("div",{className:"max-h-96 overflow-y-auto border rounded-lg p-4 space-y-2",children:ee.map(q=>s.jsx("div",{onClick:()=>J(q.id),className:`p-3 rounded-lg border-2 cursor-pointer transition-all ${a.includes(q.id)?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("input",{type:"checkbox",checked:a.includes(q.id),onChange:()=>{},className:"mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-gray-900",children:q.question}),s.jsxs("div",{className:"flex gap-2 mt-1",children:[s.jsx(_e,{variant:"outline",className:"text-xs",children:q.category}),s.jsx(_e,{variant:"outline",className:"text-xs",children:q.difficulty})]})]})]})},q.id))})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(G,{type:"submit",className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(ya,{className:"w-4 h-4 mr-2"}),r?"Update":"Create"," Quiz"]}),s.jsx(G,{type:"button",variant:"outline",onClick:V,children:"Cancel"})]})]})})]})})}),s.jsx("div",{className:"space-y-4",children:C.map((q,B)=>{var $;return s.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:B*.05},children:s.jsx(se,{className:q.is_featured?"border-4 border-amber-400":"",children:s.jsx(ae,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"text-4xl",children:q.icon}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:q.title}),s.jsx("p",{className:"text-sm text-gray-600",children:q.description})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[s.jsx(_e,{children:q.subject}),s.jsxs(_e,{variant:"outline",children:[(($=q.questions)==null?void 0:$.length)||0," questions"]}),s.jsxs(_e,{variant:"outline",children:[q.duration_minutes," min"]}),s.jsxs(_e,{variant:"outline",children:[q.points_reward," pts"]}),q.is_featured&&s.jsxs(_e,{className:"bg-amber-500",children:[s.jsx(cn,{className:"w-3 h-3 mr-1"}),"Featured"]}),!q.is_active&&s.jsx(_e,{variant:"destructive",children:"Inactive"}),q.total_attempts>0&&s.jsxs(_e,{variant:"outline",children:[s.jsx(Cj,{className:"w-3 h-3 mr-1"}),q.total_attempts," attempts"]})]}),q.start_date&&s.jsxs("div",{className:"flex items-center gap-2 mt-2 text-sm text-gray-600",children:[s.jsx(hy,{className:"w-4 h-4"}),q.start_date," to ",q.end_date]})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx(G,{onClick:()=>U(q),variant:"outline",size:"sm",children:s.jsx(yo,{className:"w-4 h-4"})}),s.jsx(G,{onClick:()=>D(q.id),variant:"outline",size:"sm",className:"text-red-600 hover:bg-red-50",children:s.jsx(hr,{className:"w-4 h-4"})})]})]})})})},q.id)})})]})})}function Tm(){const[t,e]=v.useState(""),[n,r]=v.useState(""),[i,a]=v.useState(""),[o,c]=v.useState(""),[d,h]=v.useState(""),[m,f]=v.useState(""),[g,x]=v.useState({}),[N,w]=v.useState(!1),[j,_]=v.useState(!1),[E,k]=v.useState(""),[C,R]=v.useState(null),[F,M]=v.useState(""),[P,I]=v.useState(!1),[L,U]=v.useState(""),[D,V]=v.useState(!1),J=Yn();function ee(){const ie={};return t.trim()||(ie.fullName="Full name is required"),n.trim()?/^\d+$/.test(n.trim())||(ie.age="Age must be a number"):ie.age="Age is required",i.trim()||(ie.city="City is required"),o.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.trim())||(ie.email="Invalid email format"):ie.email="Email is required",m.trim()||(ie.madrasah="Madrasah name is required"),(!d.trim()||d.length<6)&&(ie.password="Password must be at least 6 characters"),x(ie),Object.keys(ie).length===0}async function re(ie){var Q,q,B,$;if(ie.preventDefault(),k(""),!!ee()){w(!0);try{const te=o.trim().toLowerCase(),H=await gO(te,d.trim());try{await yO(),V(!0)}catch{}_(!0),setTimeout(()=>J("/Login"),1500);try{await TN(H.uid,{fullName:t.trim(),age:n.trim(),city:i.trim(),madrasah:m.trim(),email:te}),R(!0);try{const{auth:me}=Wt(),we=await((q=(Q=me==null?void 0:me.currentUser)==null?void 0:Q.getIdToken)==null?void 0:q.call(Q));if(we){const fe=await fetch("/api/signupNotify",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${we}`},body:JSON.stringify({email:te,fullName:t.trim()})});if(fe.ok){const Se=await fe.json();Se!=null&&Se.notified&&M("Admin has been notified of your signup.")}}}catch{}}catch(me){const we=(me==null?void 0:me.code)||"";let Ce=(me==null?void 0:me.message)||"Profile save failed.";we==="permission-denied"&&(Ce="Profile save requires Firebase access. You can still log in."),R(!1),M(Ce);try{const{auth:fe}=Wt(),Se=await(($=(B=fe==null?void 0:fe.currentUser)==null?void 0:B.getIdToken)==null?void 0:$.call(B));if(Se){const ze=await fetch("/api/signupNotify",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Se}`},body:JSON.stringify({email:te,fullName:t.trim()})});if(ze.ok){const qe=await ze.json();qe!=null&&qe.ok&&M(ft=>ft||"Your account is registered on the backend.")}}}catch{}}}catch(te){const H=(te==null?void 0:te.code)||"";let me=(te==null?void 0:te.message)||"Signup failed";H==="auth/email-already-in-use"&&(me="Email already in use. Try logging in or reset your password.",I(!0),U(o.trim().toLowerCase())),H==="auth/invalid-email"&&(me="Invalid email address."),H==="auth/weak-password"&&(me="Password is too weak. Use at least 6 characters."),H==="auth/operation-not-allowed"&&(me="Email/password sign-up is disabled. Enable it in Firebase."),k(me)}finally{w(!1)}}}return s.jsxs("div",{className:"container mx-auto max-w-xl px-4 py-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Sign Up"}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Create your account and well register you in our backend. You can log in immediately after signing up."}),!1,s.jsxs("form",{onSubmit:re,className:"space-y-4 bg-white/50 rounded-lg p-6 shadow",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"fullName",children:"Full Name"}),s.jsx("input",{id:"fullName",type:"text",className:"w-full rounded border px-3 py-2 focus:outline-none focus:ring",value:t,onChange:ie=>e(ie.target.value),placeholder:"e.g., Aisha Khan"}),g.fullName&&s.jsx("div",{className:"text-red-600 text-xs mt-1",children:g.fullName})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"age",children:"Age"}),s.jsx("input",{id:"age",type:"text",className:"w-full rounded border px-3 py-2 focus:outline-none focus:ring",value:n,onChange:ie=>r(ie.target.value),placeholder:"e.g., 10"}),g.age&&s.jsx("div",{className:"text-red-600 text-xs mt-1",children:g.age})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"madrasah",children:"Madrasah Name"}),s.jsx("input",{id:"madrasah",type:"text",className:"w-full rounded border px-3 py-2 focus:outline-none focus:ring",value:m,onChange:ie=>f(ie.target.value),placeholder:"e.g., Darul Uloom Karachi"}),g.madrasah&&s.jsx("div",{className:"text-red-600 text-xs mt-1",children:g.madrasah})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"city",children:"City"}),s.jsx("input",{id:"city",type:"text",className:"w-full rounded border px-3 py-2 focus:outline-none focus:ring",value:i,onChange:ie=>a(ie.target.value),placeholder:"e.g., Karachi"}),g.city&&s.jsx("div",{className:"text-red-600 text-xs mt-1",children:g.city})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"email",children:"Email"}),s.jsx("input",{id:"email",type:"email",className:"w-full rounded border px-3 py-2 focus:outline-none focus:ring",value:o,onChange:ie=>c(ie.target.value),placeholder:"e.g., aisha@example.com"}),g.email&&s.jsx("div",{className:"text-red-600 text-xs mt-1",children:g.email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"password",children:"Password"}),s.jsx("input",{id:"password",type:"password",className:"w-full rounded border px-3 py-2 focus:outline-none focus:ring",value:d,onChange:ie=>h(ie.target.value),placeholder:"At least 6 characters"}),g.password&&s.jsx("div",{className:"text-red-600 text-xs mt-1",children:g.password})]}),E&&s.jsx("div",{className:"text-red-600 text-sm",children:E}),P&&s.jsx("div",{className:"mt-2 flex items-center gap-2 text-sm",children:s.jsx("button",{type:"button",className:"text-blue-700 underline",onClick:async()=>{M("");try{await xO(L),M("Password reset email sent. Check your inbox."),I(!1)}catch(ie){const Q=(ie==null?void 0:ie.code)||"";let q=(ie==null?void 0:ie.message)||"Failed to send reset email.";Q==="auth/invalid-email"&&(q="Please enter a valid email address."),Q==="auth/user-not-found"&&(q="No account found for this email."),M(q)}},children:"Send reset email"})}),j&&s.jsx("div",{className:"text-green-600 text-sm",children:"Account created! Redirecting to login"}),D&&s.jsx("div",{className:"text-green-700 bg-green-50 border border-green-200 rounded p-2 text-sm",children:"Verification email sent. Please check your inbox."}),C===!1&&s.jsx("div",{className:"text-yellow-700 bg-yellow-50 border border-yellow-200 rounded p-2 text-sm",children:F||"We couldnt save your profile right now, but your account is created. You can complete your profile after login."}),F&&C!==!1&&s.jsx("div",{className:"text-blue-700 bg-blue-50 border border-blue-200 rounded p-2 text-sm",children:F}),s.jsx("button",{type:"submit",className:"inline-flex items-center justify-center rounded bg-blue-600 px-4 py-2 text-white hover:bg-blue-700 disabled:opacity-60",disabled:N,children:N?"Creating":"Create Account"}),s.jsxs("div",{className:"mt-4 text-center",children:[s.jsx("span",{children:"Already have an account? "}),s.jsx("a",{href:"/Login",className:"text-blue-700 font-semibold",children:"Login"})]})]})]})}function fj(){const[t,e]=v.useState(""),[n,r]=v.useState(""),[i,a]=v.useState(""),[o,c]=v.useState(!1),d=Yn(),h=async m=>{m.preventDefault(),a(""),c(!0);try{const f=await fO(t,n);try{const{db:g}=Wt();if(g&&(f!=null&&f.uid)){const x=await tp(f.uid),N=!(x!=null&&x.fullName)||!(x!=null&&x.age)||!(x!=null&&x.city)||!(x!=null&&x.madrasah);d(N?"/CompleteProfile":"/Games")}else d("/Games")}catch{d("/Games")}}catch(f){const g=(f==null?void 0:f.code)||"";let x=(f==null?void 0:f.message)||"Login failed";g==="auth/invalid-credential"&&(x="Invalid email or password."),g==="auth/user-not-found"&&(x="No account found for this email. Please sign up."),g==="auth/wrong-password"&&(x="Incorrect password."),g==="auth/too-many-requests"&&(x="Too many attempts. Please wait and try again."),a(x)}finally{c(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-100 to-purple-100",children:s.jsxs("form",{onSubmit:h,className:"bg-white p-8 rounded-xl shadow-lg w-full max-w-md",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Login"}),i&&s.jsx("div",{className:"mb-4 text-red-600",children:i}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block mb-2 font-semibold",children:"Email"}),s.jsx("input",{type:"email",value:t,onChange:m=>e(m.target.value),className:"w-full p-2 border rounded",required:!0})]}),s.jsxs("div",{className:"mb-2",children:[s.jsx("label",{className:"block mb-2 font-semibold",children:"Password"}),s.jsx("input",{type:"password",value:n,onChange:m=>r(m.target.value),className:"w-full p-2 border rounded",required:!0})]}),s.jsx("div",{className:"text-right text-sm mb-6",children:s.jsx("button",{type:"button",className:"text-blue-600 hover:underline",onClick:async()=>{a("");try{const{auth:m}=Wt();if(!m)throw new Error("Firebase not configured");if(!t)throw new Error("Enter your email above, then click reset.");await F_(m,t),a("Password reset email sent. Check your inbox.")}catch(m){const f=(m==null?void 0:m.code)||"";let g=(m==null?void 0:m.message)||"Failed to send reset email.";f==="auth/invalid-email"&&(g="Please enter a valid email address."),f==="auth/user-not-found"&&(g="No account found for this email."),a(g)}},children:"Forgot password?"})}),s.jsx("button",{type:"submit",className:"w-full py-2 px-4 bg-gradient-to-r from-blue-500 to-purple-500 text-white font-bold rounded hover:scale-105 transition-transform",disabled:o,children:o?"Signing in":"Login"}),s.jsxs("div",{className:"mt-4 text-center",children:[s.jsx("span",{children:"Don't have an account? "}),s.jsx("a",{href:"/Signup",className:"text-blue-600 font-semibold",children:"Sign up"})]})]})})}function Ope(){const[t,e]=wn.useState([]),[n,r]=wn.useState(!1),[i,a]=wn.useState({text:"",status:"all"}),o=wn.useCallback(async()=>{r(!0);try{const h=await Xx.list();e(h)}catch(h){console.error("Failed to load messages:",h)}finally{r(!1)}},[]);wn.useEffect(()=>{o()},[o]);const c=async(h,m)=>{try{await Xx.markRead(h,!m),e(f=>f.map(g=>g.id===h?{...g,read:!m}:g))}catch(f){console.error("Failed to update read status:",f)}},d=t.filter(h=>{const m=i.status==="all"?!0:i.status==="read"?h.read:!h.read,f=(i.text||"").toLowerCase(),g=!f||[h.name,h.email,h.subject,h.message].some(x=>(x||"").toLowerCase().includes(f));return m&&g});return s.jsx("div",{className:"p-6",children:s.jsxs(se,{children:[s.jsx(Fe,{children:s.jsx(Ve,{children:"Messages"})}),s.jsxs(ae,{children:[s.jsxs("div",{className:"flex gap-2 mb-4 items-center",children:[s.jsx(Te,{placeholder:"Search by name, email, subject, message",value:i.text,onChange:h=>a({...i,text:h.target.value})}),s.jsxs("select",{className:"border rounded px-2 py-2",value:i.status,onChange:h=>a({...i,status:h.target.value}),children:[s.jsx("option",{value:"all",children:"All"}),s.jsx("option",{value:"unread",children:"Unread"}),s.jsx("option",{value:"read",children:"Read"})]}),s.jsx(G,{variant:"outline",onClick:o,disabled:n,children:n?"Loading...":"Refresh"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left border-b",children:[s.jsx("th",{className:"p-2",children:"Status"}),s.jsx("th",{className:"p-2",children:"Name"}),s.jsx("th",{className:"p-2",children:"Email"}),s.jsx("th",{className:"p-2",children:"Subject"}),s.jsx("th",{className:"p-2",children:"Message"}),s.jsx("th",{className:"p-2",children:"Date"}),s.jsx("th",{className:"p-2",children:"Actions"})]})}),s.jsxs("tbody",{children:[d.map(h=>s.jsxs("tr",{className:"border-b align-top",children:[s.jsx("td",{className:"p-2",children:h.read?"Read":"Unread"}),s.jsx("td",{className:"p-2",children:h.name}),s.jsx("td",{className:"p-2",children:h.email}),s.jsx("td",{className:"p-2",children:h.subject}),s.jsx("td",{className:"p-2 whitespace-pre-wrap max-w-xl",children:h.message}),s.jsx("td",{className:"p-2",children:h.createdAt?new Date(h.createdAt).toLocaleString():""}),s.jsx("td",{className:"p-2",children:s.jsx(G,{size:"sm",onClick:()=>c(h.id,h.read),children:h.read?"Mark Unread":"Mark Read"})})]},h.id)),d.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"p-4 text-center text-gray-500",children:"No messages found."})})]})]})})]})]})})}function jV(){const[t,e]=v.useState("chat"),[n,r]=v.useState([{role:"assistant",content:"Hi! Im your AI assistant. Ask me anything or request edits."}]),[i,a]=v.useState(""),[o,c]=v.useState(!1),[d,h]=v.useState(""),m=v.useRef(null),f=Yn(),g=()=>{m.current&&(m.current.scrollTop=m.current.scrollHeight)},x=async()=>{var j,_,E;h("");const w=i.trim();if(w){a(""),c(!0);try{const{auth:k}=Wt();let C=null;if(k!=null&&k.currentUser)C=await k.currentUser.getIdToken();else{f(rt("Login"));return}const R=["/api/assistant","/.netlify/functions/assistant"];let F;for(const L of R)try{if(F=await fetch(L,{method:"POST",headers:C?{"Content-Type":"application/json",Authorization:`Bearer ${C}`}:{"Content-Type":"application/json"},body:JSON.stringify({mode:t,messages:[...n,{role:"user",content:w}]})}),F.ok)break}catch{}if(!F||!F.ok)throw new Error(`Assistant error: ${F?F.status:"no response"}`);const M=await F.json();if(M!=null&&M.error){const L=(j=M.error)==null?void 0:j.code,U=(_=M.error)==null?void 0:_.type;let D=String(((E=M.error)==null?void 0:E.message)||"Assistant error");L===429&&(D=U==="quota"?"OpenAI quota exceeded for this API key. Check plan/billing or use a different key.":"OpenAI rate limit reached. Please slow down and retry shortly."),h(D)}const P=String(M.reply||""),I=[...n,{role:"user",content:w},{role:"assistant",content:P}];r(I),setTimeout(g,50)}catch(k){h((k==null?void 0:k.message)||"Failed to contact assistant")}finally{c(!1)}}},N=[{label:"Edit Stories",page:"AdminStories"},{label:"Edit Banners",page:"AdminBanners"},{label:"Manage Users",page:"AdminUsers"},{label:"Quiz Manager",page:"AdminQuizManager"}];return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 py-6 px-3",children:s.jsx("div",{className:"max-w-2xl mx-auto",children:s.jsxs(se,{className:"shadow-lg border-2 border-blue-200",children:[s.jsx(Fe,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:s.jsxs(Ve,{className:"flex items-center justify-between",children:[s.jsx("span",{children:"AI Agent / ChatGPT"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(G,{variant:t==="chat"?"default":"outline",size:"sm",onClick:()=>e("chat"),children:"ChatGPT"}),s.jsx(G,{variant:t==="admin"?"default":"outline",size:"sm",onClick:()=>e("admin"),children:"Admin Agent"})]})]})}),s.jsxs(ae,{className:"p-4",children:[d&&s.jsx("div",{className:"mb-3 text-red-600",children:d}),s.jsx("div",{ref:m,className:"h-[50vh] overflow-y-auto bg-white rounded-lg p-3 border",children:n.map((w,j)=>s.jsxs("div",{className:`mb-3 ${w.role==="assistant"?"text-gray-800":"text-gray-900"}`,children:[s.jsx(_e,{variant:w.role==="assistant"?"secondary":"outline",className:"mr-2",children:w.role==="assistant"?"Assistant":"You"}),s.jsx("span",{className:"whitespace-pre-wrap",children:w.content})]},j))}),s.jsxs("div",{className:"mt-3",children:[s.jsx(Rn,{value:i,onChange:w=>a(w.target.value),placeholder:"Ask a question or request an edit",rows:3,className:"w-full"}),s.jsxs("div",{className:"flex items-center justify-between mt-2",children:[s.jsx("div",{className:"flex flex-wrap gap-2",children:N.map(w=>s.jsx(G,{variant:"outline",size:"sm",onClick:()=>f(rt(w.page)),children:w.label},w.page))}),s.jsx(G,{onClick:x,disabled:o,children:o?"Sending":"Send"})]}),s.jsx("div",{className:"text-xs text-gray-500 mt-2",children:t==="admin"?"Admin Agent suggests exact pages and steps for edits. For full control, use the quick links.":"ChatGPT mode answers general questions. Switch to Admin Agent for site edits."})]})]})]})})})}function pj(){const t=Yn(),[e,n]=v.useState(!0),[r,i]=v.useState(!1),[a,o]=v.useState(""),[c,d]=v.useState(""),[h,m]=v.useState({fullName:"",age:"",city:"",madrasah:""});v.useEffect(()=>{(async()=>{o(""),d("");try{const{auth:w,db:j}=Wt(),_=w==null?void 0:w.currentUser;if(!_){t(rt("Login"));return}if(!j){d("Profile cannot be saved right now (Firebase not configured). You can still use the app."),n(!1);return}const E=await tp(_.uid);m({fullName:(E==null?void 0:E.fullName)||(E==null?void 0:E.name)||"",age:(E==null?void 0:E.age)||"",city:(E==null?void 0:E.city)||"",madrasah:(E==null?void 0:E.madrasah)||""})}catch(w){o((w==null?void 0:w.message)||"Failed to load profile")}finally{n(!1)}})()},[t]);const f=N=>w=>m(j=>({...j,[N]:w.target.value})),g=()=>{var N,w,j,_;return!((N=h.fullName)!=null&&N.trim())||!((w=h.age)!=null&&w.trim())||!((j=h.city)!=null&&j.trim())||!((_=h.madrasah)!=null&&_.trim())},x=async N=>{N.preventDefault(),i(!0),o(""),d("");try{const{auth:w,db:j}=Wt(),_=w==null?void 0:w.currentUser;if(!_){t(rt("Login"));return}if(!j){d("Profile cannot be saved (Firebase not configured). You can continue."),t(rt("Games"));return}await TN(_.uid,{fullName:h.fullName.trim(),age:h.age.trim(),city:h.city.trim(),madrasah:h.madrasah.trim(),email:String(_.email||"")}),t(rt("Games"))}catch(w){const j=(w==null?void 0:w.code)||"";let _=(w==null?void 0:w.message)||"Failed to save profile";j==="permission-denied"&&(_="Missing permissions to save profile. You can continue and try later."),o(_)}finally{i(!1)}};return e?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading"}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-purple-50 px-4",children:s.jsxs("form",{onSubmit:x,className:"bg-white p-6 rounded-xl shadow-lg w-full max-w-lg",children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Complete Your Profile"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Please fill the missing details to personalize your experience."}),a&&s.jsx("div",{className:"mb-3 text-red-700 bg-red-50 border border-red-200 rounded p-2 text-sm",children:a}),c&&s.jsx("div",{className:"mb-3 text-yellow-700 bg-yellow-50 border border-yellow-200 rounded p-2 text-sm",children:c}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"block mb-1 font-medium",children:"Full Name"}),s.jsx("input",{className:"w-full p-2 border rounded",value:h.fullName,onChange:f("fullName")})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"block mb-1 font-medium",children:"Age"}),s.jsx("input",{className:"w-full p-2 border rounded",value:h.age,onChange:f("age")})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"block mb-1 font-medium",children:"City"}),s.jsx("input",{className:"w-full p-2 border rounded",value:h.city,onChange:f("city")})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block mb-1 font-medium",children:"Madrasah"}),s.jsx("input",{className:"w-full p-2 border rounded",value:h.madrasah,onChange:f("madrasah")})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("button",{type:"submit",className:"px-4 py-2 rounded bg-blue-600 text-white hover:bg-blue-700",disabled:r||g(),children:r?"Saving":"Save and Continue"}),s.jsx("button",{type:"button",className:"px-4 py-2 rounded border",onClick:()=>t(rt("Games")),children:"Skip for now"})]})]})})}function tR(){const t="https://studio--studio-653801381-47983.us-central1.hosted.app/",[e,n]=v.useState(!1);return v.useEffect(()=>{const r=setTimeout(()=>{},2500);return()=>clearTimeout(r)},[e]),s.jsxs("div",{className:"w-full h-full flex flex-col",children:[s.jsx("div",{className:"w-full bg-white border-b sticky top-0 z-10",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-2 flex items-center justify-between",children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Welcome to Islam Media Central"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-blue-600 hover:text-blue-700 text-sm",children:["Open in new tab ",s.jsx(Md,{className:"w-4 h-4"})]}),s.jsx(Rt,{to:rt("Home"),className:"px-3 py-1.5 rounded bg-blue-600 text-white text-sm hover:bg-blue-700",children:"Kids Home"})]})]})}),s.jsx("div",{className:"flex-1 min-h-[60vh] bg-gray-50",children:s.jsx("iframe",{src:t,title:"Islam Media Central",className:"w-full h-[calc(100vh-56px)]",style:{border:"none"},onLoad:()=>n(!0)})}),!e&&s.jsx("div",{className:"absolute inset-0 pointer-events-none flex items-center justify-center",children:s.jsxs("div",{className:"bg-white/80 p-4 rounded shadow max-w-md text-center",children:[s.jsx("p",{className:"text-gray-700 mb-2",children:"Loading the landing page"}),s.jsx("p",{className:"text-gray-500 text-sm",children:'If this takes too long, the site may block embedding. Use the "Open in new tab" button above.'})]})})]})}const Lpe={Home:A1,Games:H1,Leaderboard:$O,Stories:JL,Learn:i3,ParentZone:a3,About:o3,Welcome:u3,ContactUs:d3,Duas:h3,RecordAndShare:J3,RecordingStudio:X3,RecordingsAdmin:Z3,CreativeCorner:eF,LearningLibrary:tF,ColoringPages:nF,DrawingBoard:rF,PoetryWriting:sF,MonthlyContest:iF,IslamicEncyclopedia:aF,AudioTafsir:oF,IslamicFacts:lF,Worksheets:cF,AudioNew:uF,Hadith:dF,History:hF,Tajweed:mF,PrintableQuizzes:fF,Multimedia:xF,FullQuran:Hm,Quran:Hm,QuranDictionary:hj,Manzil:bF,Hizb:wF,HifzDashboard:kF,ResetPointsAdmin:RF,AdminDashboard:mj,AdminSettings:VF,AdminStories:UF,AdminAudio:oV,AdminMedia:lV,PrivacyPolicy:cV,Challenges:uV,AdminQuestions:dV,Videos:hV,AdminVideos:mV,AdminAudioContent:fV,AdminUsers:pV,DeleteAccount:gV,AdminBanners:xV,AdminStoryBuilder:yV,AdminGameSettings:vV,Quizzes:bV,AdminQuizManager:wV,Signup:Tm,Login:fj,Assistant:jV,CompleteProfile:pj};function Fpe(t){t.endsWith("/")&&(t=t.slice(0,-1));let e=t.split("/").pop();e.includes("?")&&(e=e.split("?")[0]);const n=Object.keys(Lpe).find(r=>r.toLowerCase()===e.toLowerCase());return!n||n==="Layout"?"Home":n}function Vpe(){const t=go(),e=Fpe(t.pathname),n=s.jsx(lr,{children:s.jsx(jV,{})});return s.jsx(wO,{currentPageName:e,children:s.jsxs(D9,{children:[s.jsx(Me,{path:"/",element:s.jsx(tR,{})}),s.jsx(Me,{path:"/Home",element:s.jsx(A1,{})}),s.jsx(Me,{path:"/kids",element:s.jsx(A1,{})}),s.jsx(Me,{path:"/Games",element:s.jsx(H1,{})}),s.jsx(Me,{path:"/games",element:s.jsx(H1,{})}),s.jsx(Me,{path:"/Leaderboard",element:s.jsx($O,{})}),s.jsx(Me,{path:"/Stories",element:s.jsx(JL,{})}),s.jsx(Me,{path:"/Learn",element:s.jsx(i3,{})}),s.jsx(Me,{path:"/ParentZone",element:s.jsx(a3,{})}),s.jsx(Me,{path:"/About",element:s.jsx(o3,{})}),s.jsx(Me,{path:"/Welcome",element:s.jsx(u3,{})}),s.jsx(Me,{path:"/ContactUs",element:s.jsx(d3,{})}),s.jsx(Me,{path:"/Duas",element:s.jsx(h3,{})}),s.jsx(Me,{path:"/RecordAndShare",element:s.jsx(J3,{})}),s.jsx(Me,{path:"/RecordingStudio",element:s.jsx(X3,{})}),s.jsx(Me,{path:"/RecordingsAdmin",element:s.jsx(lr,{children:s.jsx(Z3,{})})}),s.jsx(Me,{path:"/CreativeCorner",element:s.jsx(eF,{})}),s.jsx(Me,{path:"/LearningLibrary",element:s.jsx(tF,{})}),s.jsx(Me,{path:"/ColoringPages",element:s.jsx(nF,{})}),s.jsx(Me,{path:"/DrawingBoard",element:s.jsx(rF,{})}),s.jsx(Me,{path:"/PoetryWriting",element:s.jsx(sF,{})}),s.jsx(Me,{path:"/MonthlyContest",element:s.jsx(iF,{})}),s.jsx(Me,{path:"/IslamicEncyclopedia",element:s.jsx(aF,{})}),s.jsx(Me,{path:"/AudioTafsir",element:s.jsx(oF,{})}),s.jsx(Me,{path:"/IslamicFacts",element:s.jsx(lF,{})}),s.jsx(Me,{path:"/Worksheets",element:s.jsx(cF,{})}),s.jsx(Me,{path:"/AudioNew",element:s.jsx(uF,{})}),s.jsx(Me,{path:"/Hadith",element:s.jsx(dF,{})}),s.jsx(Me,{path:"/History",element:s.jsx(hF,{})}),s.jsx(Me,{path:"/Tajweed",element:s.jsx(mF,{})}),s.jsx(Me,{path:"/PrintableQuizzes",element:s.jsx(fF,{})}),s.jsx(Me,{path:"/Multimedia",element:s.jsx(xF,{})}),s.jsx(Me,{path:"/FullQuran",element:s.jsx(Hm,{})}),s.jsx(Me,{path:"/Quran",element:s.jsx(Hm,{})}),s.jsx(Me,{path:"/quran",element:s.jsx(Hm,{})}),s.jsx(Me,{path:"/QuranDictionary",element:s.jsx(hj,{})}),s.jsx(Me,{path:"/dictionary",element:s.jsx(hj,{})}),s.jsx(Me,{path:"/Manzil",element:s.jsx(bF,{})}),s.jsx(Me,{path:"/Hizb",element:s.jsx(wF,{})}),s.jsx(Me,{path:"/HifzDashboard",element:s.jsx(kF,{})}),s.jsx(Me,{path:"/ResetPointsAdmin",element:s.jsx(RF,{})}),s.jsx(Me,{path:"/AdminLogin",element:s.jsx(JI,{})}),s.jsx(Me,{path:"/adminlogin",element:s.jsx(JI,{})}),s.jsx(Me,{path:"/AdminDashboard",element:s.jsx(lr,{children:s.jsx(mj,{})})}),s.jsx(Me,{path:"/admindashboard",element:s.jsx(lr,{children:s.jsx(mj,{})})}),s.jsx(Me,{path:"/AdminSettings",element:s.jsx(lr,{children:s.jsx(VF,{})})}),s.jsx(Me,{path:"/AdminStories",element:s.jsx(lr,{children:s.jsx(UF,{})})}),s.jsx(Me,{path:"/AdminAudio",element:s.jsx(lr,{children:s.jsx(oV,{})})}),s.jsx(Me,{path:"/AdminMedia",element:s.jsx(lr,{children:s.jsx(lV,{})})}),s.jsx(Me,{path:"/PrivacyPolicy",element:s.jsx(cV,{})}),s.jsx(Me,{path:"/Challenges",element:s.jsx(uV,{})}),s.jsx(Me,{path:"/AdminQuestions",element:s.jsx(lr,{children:s.jsx(dV,{})})}),s.jsx(Me,{path:"/Videos",element:s.jsx(hV,{})}),s.jsx(Me,{path:"/AdminVideos",element:s.jsx(lr,{children:s.jsx(mV,{})})}),s.jsx(Me,{path:"/AdminAudioContent",element:s.jsx(lr,{children:s.jsx(fV,{})})}),s.jsx(Me,{path:"/AdminUsers",element:s.jsx(lr,{children:s.jsx(pV,{})})}),s.jsx(Me,{path:"/DeleteAccount",element:s.jsx(gV,{})}),s.jsx(Me,{path:"/AdminBanners",element:s.jsx(lr,{children:s.jsx(xV,{})})}),s.jsx(Me,{path:"/AdminSponsors",element:s.jsx(lr,{children:s.jsx(ZI,{})})}),s.jsx(Me,{path:"/adminsponsors",element:s.jsx(lr,{children:s.jsx(ZI,{})})}),s.jsx(Me,{path:"/AdminStoryBuilder",element:s.jsx(lr,{children:s.jsx(yV,{})})}),s.jsx(Me,{path:"/AdminGameSettings",element:s.jsx(lr,{children:s.jsx(vV,{})})}),s.jsx(Me,{path:"/AdminMessages",element:s.jsx(lr,{children:s.jsx(Ope,{})})}),s.jsx(Me,{path:"/Quizzes",element:s.jsx(bV,{})}),s.jsx(Me,{path:"/AdminQuizManager",element:s.jsx(wV,{})}),s.jsx(Me,{path:"/signup",element:s.jsx(Tm,{})}),s.jsx(Me,{path:"/Signup",element:s.jsx(Tm,{})}),s.jsx(Me,{path:"/Signin",element:s.jsx(Tm,{})}),s.jsx(Me,{path:"/signin",element:s.jsx(Tm,{})}),s.jsx(Me,{path:"/Login",element:s.jsx(fj,{})}),s.jsx(Me,{path:"/login",element:s.jsx(fj,{})}),s.jsx(Me,{path:"/CompleteProfile",element:s.jsx(pj,{})}),s.jsx(Me,{path:"/completeprofile",element:s.jsx(pj,{})}),s.jsx(Me,{path:"/Assistant",element:n}),s.jsx(Me,{path:"/assistant",element:n}),s.jsx(Me,{path:"*",element:s.jsx(tR,{})})]})})}function Upe(){return s.jsx(Vpe,{})}const zpe=20,Bpe=1e6,Xa={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let vw=0;function $pe(){return vw=(vw+1)%Number.MAX_VALUE,vw.toString()}const bw=new Map,nR=t=>{if(bw.has(t))return;const e=setTimeout(()=>{bw.delete(t),Wm({type:Xa.REMOVE_TOAST,toastId:t})},Bpe);bw.set(t,e)},qpe=(t,e)=>{switch(e.type){case Xa.ADD_TOAST:return{...t,toasts:[e.toast,...t.toasts].slice(0,zpe)};case Xa.UPDATE_TOAST:return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case Xa.DISMISS_TOAST:{const{toastId:n}=e;return n?nR(n):t.toasts.forEach(r=>{nR(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case Xa.REMOVE_TOAST:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},px=[];let gx={toasts:[]};function Wm(t){gx=qpe(gx,t),px.forEach(e=>{e(gx)})}function Hpe({...t}){const e=$pe(),n=i=>Wm({type:Xa.UPDATE_TOAST,toast:{...i,id:e}}),r=()=>Wm({type:Xa.DISMISS_TOAST,toastId:e});return Wm({type:Xa.ADD_TOAST,toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function Wpe(){const[t,e]=v.useState(gx);return v.useEffect(()=>(px.push(e),()=>{const n=px.indexOf(e);n>-1&&px.splice(n,1)}),[t]),{...t,toast:Hpe,dismiss:n=>Wm({type:Xa.DISMISS_TOAST,toastId:n})}}const _V=v.forwardRef(({...t},e)=>s.jsx("div",{ref:e,className:"fixed top-0 z-[100] pointer-events-none flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));_V.displayName="ToastProvider";const NV=v.forwardRef(({...t},e)=>s.jsx("div",{ref:e,className:"fixed top-0 z-[100] pointer-events-none flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));NV.displayName="ToastViewport";const Kpe=zf("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),SV=v.forwardRef(({className:t,variant:e,...n},r)=>s.jsx("div",{ref:r,className:ct(Kpe({variant:e}),t),...n}));SV.displayName="Toast";const Gpe=v.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:ct("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Gpe.displayName="ToastAction";const EV=v.forwardRef(({className:t,...e},n)=>s.jsx("button",{ref:n,className:ct("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:s.jsx(ps,{className:"h-4 w-4"})}));EV.displayName="ToastClose";const CV=v.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:ct("text-sm font-semibold",t),...e}));CV.displayName="ToastTitle";const kV=v.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:ct("text-sm opacity-90",t),...e}));kV.displayName="ToastDescription";function Qpe(){const{toasts:t}=Wpe();return s.jsxs(_V,{children:[t.map(function({id:e,title:n,description:r,action:i,...a}){return s.jsxs(SV,{...a,children:[s.jsxs("div",{className:"grid gap-1",children:[n&&s.jsx(CV,{children:n}),r&&s.jsx(kV,{children:r})]}),i,s.jsx(EV,{})]},e)}),s.jsx(NV,{})]})}function Ype(){return s.jsxs(s.Fragment,{children:[s.jsx(Upe,{}),s.jsx(Qpe,{})]})}const Jpe=new jae;qU.createRoot(document.getElementById("root")).render(s.jsx(wn.StrictMode,{children:s.jsx(_ae,{client:Jpe,children:s.jsx(rz,{children:s.jsx(Ype,{})})})}));export{ri as A,G as B,se as C,MR as G,nh as H,Te as I,pB as L,oy as P,$C as R,cn as S,Kr as T,Fe as a,Ve as b,ae as c,_e as d,_i as e,At as f,yt as g,eh as h,th as i,s as j,my as k,Mpe as l,ne as m,_j as n,Kv as o,jn as p,Ee as q,v as r,vz as s,LC as t};
