const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/SahabahArena.P5dDFjjb.js","assets/zap.Cxje9chF.js","assets/IslamKnowledgeRaceGame.qw2JuUlj.js","assets/SpinToWinWheel.NhBvbuY3.js"])))=>i.map(i=>d[i]);
var vC=t=>{throw TypeError(t)};var Vv=(t,e,n)=>e.has(t)||vC("Cannot "+n);var Y=(t,e,n)=>(Vv(t,e,"read from private field"),n?n.call(t):e.get(t)),Xe=(t,e,n)=>e.has(t)?vC("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Le=(t,e,n,r)=>(Vv(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Nt=(t,e,n)=>(Vv(t,e,"access private method"),n);var ug=(t,e,n,r)=>({set _(i){Le(t,e,i,n)},get _(){return Y(t,e,r)}});function AU(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Yd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Uv={exports:{}},am={},zv={exports:{}},Tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bC;function IU(){if(bC)return Tt;bC=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),f=Symbol.iterator;function g($){return $===null||typeof $!="object"?null:($=f&&$[f]||$["@@iterator"],typeof $=="function"?$:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,w={};function j($,Z,H){this.props=$,this.context=Z,this.refs=w,this.updater=H||x}j.prototype.isReactComponent={},j.prototype.setState=function($,Z){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,Z,"setState")},j.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function _(){}_.prototype=j.prototype;function E($,Z,H){this.props=$,this.context=Z,this.refs=w,this.updater=H||x}var k=E.prototype=new _;k.constructor=E,N(k,j.prototype),k.isPureReactComponent=!0;var C=Array.isArray,R=Object.prototype.hasOwnProperty,F={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function P($,Z,H){var me,je={},Ae=null,ge=null;if(Z!=null)for(me in Z.ref!==void 0&&(ge=Z.ref),Z.key!==void 0&&(Ae=""+Z.key),Z)R.call(Z,me)&&!D.hasOwnProperty(me)&&(je[me]=Z[me]);var Se=arguments.length-2;if(Se===1)je.children=H;else if(1<Se){for(var De=Array(Se),ze=0;ze<Se;ze++)De[ze]=arguments[ze+2];je.children=De}if($&&$.defaultProps)for(me in Se=$.defaultProps,Se)je[me]===void 0&&(je[me]=Se[me]);return{$$typeof:t,type:$,key:Ae,ref:ge,props:je,_owner:F.current}}function I($,Z){return{$$typeof:t,type:$.type,key:Z,ref:$.ref,props:$.props,_owner:$._owner}}function O($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function V($){var Z={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(H){return Z[H]})}var L=/\/+/g;function U($,Z){return typeof $=="object"&&$!==null&&$.key!=null?V(""+$.key):Z.toString(36)}function ee($,Z,H,me,je){var Ae=typeof $;(Ae==="undefined"||Ae==="boolean")&&($=null);var ge=!1;if($===null)ge=!0;else switch(Ae){case"string":case"number":ge=!0;break;case"object":switch($.$$typeof){case t:case e:ge=!0}}if(ge)return ge=$,je=je(ge),$=me===""?"."+U(ge,0):me,C(je)?(H="",$!=null&&(H=$.replace(L,"$&/")+"/"),ee(je,Z,H,"",function(ze){return ze})):je!=null&&(O(je)&&(je=I(je,H+(!je.key||ge&&ge.key===je.key?"":(""+je.key).replace(L,"$&/")+"/")+$)),Z.push(je)),1;if(ge=0,me=me===""?".":me+":",C($))for(var Se=0;Se<$.length;Se++){Ae=$[Se];var De=me+U(Ae,Se);ge+=ee(Ae,Z,H,De,je)}else if(De=g($),typeof De=="function")for($=De.call($),Se=0;!(Ae=$.next()).done;)Ae=Ae.value,De=me+U(Ae,Se++),ge+=ee(Ae,Z,H,De,je);else if(Ae==="object")throw Z=String($),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return ge}function re($,Z,H){if($==null)return $;var me=[],je=0;return ee($,me,"","",function(Ae){return Z.call(H,Ae,je++)}),me}function he($){if($._status===-1){var Z=$._result;Z=Z(),Z.then(function(H){($._status===0||$._status===-1)&&($._status=1,$._result=H)},function(H){($._status===0||$._status===-1)&&($._status=2,$._result=H)}),$._status===-1&&($._status=0,$._result=Z)}if($._status===1)return $._result.default;throw $._result}var ae={current:null},Q={transition:null},q={ReactCurrentDispatcher:ae,ReactCurrentBatchConfig:Q,ReactCurrentOwner:F};function B(){throw Error("act(...) is not supported in production builds of React.")}return Tt.Children={map:re,forEach:function($,Z,H){re($,function(){Z.apply(this,arguments)},H)},count:function($){var Z=0;return re($,function(){Z++}),Z},toArray:function($){return re($,function(Z){return Z})||[]},only:function($){if(!O($))throw Error("React.Children.only expected to receive a single React element child.");return $}},Tt.Component=j,Tt.Fragment=n,Tt.Profiler=i,Tt.PureComponent=E,Tt.StrictMode=r,Tt.Suspense=d,Tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q,Tt.act=B,Tt.cloneElement=function($,Z,H){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var me=N({},$.props),je=$.key,Ae=$.ref,ge=$._owner;if(Z!=null){if(Z.ref!==void 0&&(Ae=Z.ref,ge=F.current),Z.key!==void 0&&(je=""+Z.key),$.type&&$.type.defaultProps)var Se=$.type.defaultProps;for(De in Z)R.call(Z,De)&&!D.hasOwnProperty(De)&&(me[De]=Z[De]===void 0&&Se!==void 0?Se[De]:Z[De])}var De=arguments.length-2;if(De===1)me.children=H;else if(1<De){Se=Array(De);for(var ze=0;ze<De;ze++)Se[ze]=arguments[ze+2];me.children=Se}return{$$typeof:t,type:$.type,key:je,ref:Ae,props:me,_owner:ge}},Tt.createContext=function($){return $={$$typeof:o,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:a,_context:$},$.Consumer=$},Tt.createElement=P,Tt.createFactory=function($){var Z=P.bind(null,$);return Z.type=$,Z},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function($){return{$$typeof:c,render:$}},Tt.isValidElement=O,Tt.lazy=function($){return{$$typeof:m,_payload:{_status:-1,_result:$},_init:he}},Tt.memo=function($,Z){return{$$typeof:h,type:$,compare:Z===void 0?null:Z}},Tt.startTransition=function($){var Z=Q.transition;Q.transition={};try{$()}finally{Q.transition=Z}},Tt.unstable_act=B,Tt.useCallback=function($,Z){return ae.current.useCallback($,Z)},Tt.useContext=function($){return ae.current.useContext($)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function($){return ae.current.useDeferredValue($)},Tt.useEffect=function($,Z){return ae.current.useEffect($,Z)},Tt.useId=function(){return ae.current.useId()},Tt.useImperativeHandle=function($,Z,H){return ae.current.useImperativeHandle($,Z,H)},Tt.useInsertionEffect=function($,Z){return ae.current.useInsertionEffect($,Z)},Tt.useLayoutEffect=function($,Z){return ae.current.useLayoutEffect($,Z)},Tt.useMemo=function($,Z){return ae.current.useMemo($,Z)},Tt.useReducer=function($,Z,H){return ae.current.useReducer($,Z,H)},Tt.useRef=function($){return ae.current.useRef($)},Tt.useState=function($){return ae.current.useState($)},Tt.useSyncExternalStore=function($,Z,H){return ae.current.useSyncExternalStore($,Z,H)},Tt.useTransition=function(){return ae.current.useTransition()},Tt.version="18.3.1",Tt}var wC;function uy(){return wC||(wC=1,zv.exports=IU()),zv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jC;function RU(){if(jC)return am;jC=1;var t=uy(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(c,d,h){var m,f={},g=null,x=null;h!==void 0&&(g=""+h),d.key!==void 0&&(g=""+d.key),d.ref!==void 0&&(x=d.ref);for(m in d)r.call(d,m)&&!a.hasOwnProperty(m)&&(f[m]=d[m]);if(c&&c.defaultProps)for(m in d=c.defaultProps,d)f[m]===void 0&&(f[m]=d[m]);return{$$typeof:e,type:c,key:g,ref:x,props:f,_owner:i.current}}return am.Fragment=n,am.jsx=o,am.jsxs=o,am}var _C;function PU(){return _C||(_C=1,Uv.exports=RU()),Uv.exports}var s=PU(),v=uy();const wn=Yd(v),fj=AU({__proto__:null,default:wn},[v]);var dg={},Bv={exports:{}},ss={},$v={exports:{}},qv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NC;function DU(){return NC||(NC=1,(function(t){function e(Q,q){var B=Q.length;Q.push(q);e:for(;0<B;){var $=B-1>>>1,Z=Q[$];if(0<i(Z,q))Q[$]=q,Q[B]=Z,B=$;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var q=Q[0],B=Q.pop();if(B!==q){Q[0]=B;e:for(var $=0,Z=Q.length,H=Z>>>1;$<H;){var me=2*($+1)-1,je=Q[me],Ae=me+1,ge=Q[Ae];if(0>i(je,B))Ae<Z&&0>i(ge,je)?(Q[$]=ge,Q[Ae]=B,$=Ae):(Q[$]=je,Q[me]=B,$=me);else if(Ae<Z&&0>i(ge,B))Q[$]=ge,Q[Ae]=B,$=Ae;else break e}}return q}function i(Q,q){var B=Q.sortIndex-q.sortIndex;return B!==0?B:Q.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var d=[],h=[],m=1,f=null,g=3,x=!1,N=!1,w=!1,j=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(Q){for(var q=n(h);q!==null;){if(q.callback===null)r(h);else if(q.startTime<=Q)r(h),q.sortIndex=q.expirationTime,e(d,q);else break;q=n(h)}}function C(Q){if(w=!1,k(Q),!N)if(n(d)!==null)N=!0,he(R);else{var q=n(h);q!==null&&ae(C,q.startTime-Q)}}function R(Q,q){N=!1,w&&(w=!1,_(P),P=-1),x=!0;var B=g;try{for(k(q),f=n(d);f!==null&&(!(f.expirationTime>q)||Q&&!V());){var $=f.callback;if(typeof $=="function"){f.callback=null,g=f.priorityLevel;var Z=$(f.expirationTime<=q);q=t.unstable_now(),typeof Z=="function"?f.callback=Z:f===n(d)&&r(d),k(q)}else r(d);f=n(d)}if(f!==null)var H=!0;else{var me=n(h);me!==null&&ae(C,me.startTime-q),H=!1}return H}finally{f=null,g=B,x=!1}}var F=!1,D=null,P=-1,I=5,O=-1;function V(){return!(t.unstable_now()-O<I)}function L(){if(D!==null){var Q=t.unstable_now();O=Q;var q=!0;try{q=D(!0,Q)}finally{q?U():(F=!1,D=null)}}else F=!1}var U;if(typeof E=="function")U=function(){E(L)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,re=ee.port2;ee.port1.onmessage=L,U=function(){re.postMessage(null)}}else U=function(){j(L,0)};function he(Q){D=Q,F||(F=!0,U())}function ae(Q,q){P=j(function(){Q(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){N||x||(N=!0,he(R))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(Q){switch(g){case 1:case 2:case 3:var q=3;break;default:q=g}var B=g;g=q;try{return Q()}finally{g=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,q){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var B=g;g=Q;try{return q()}finally{g=B}},t.unstable_scheduleCallback=function(Q,q,B){var $=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?$+B:$):B=$,Q){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=B+Z,Q={id:m++,callback:q,priorityLevel:Q,startTime:B,expirationTime:Z,sortIndex:-1},B>$?(Q.sortIndex=B,e(h,Q),n(d)===null&&Q===n(h)&&(w?(_(P),P=-1):w=!0,ae(C,B-$))):(Q.sortIndex=Z,e(d,Q),N||x||(N=!0,he(R))),Q},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(Q){var q=g;return function(){var B=g;g=q;try{return Q.apply(this,arguments)}finally{g=B}}}})(qv)),qv}var SC;function MU(){return SC||(SC=1,$v.exports=DU()),$v.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EC;function OU(){if(EC)return ss;EC=1;var t=uy(),e=MU();function n(l){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+l,p=1;p<arguments.length;p++)u+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(l,u){o(l,u),o(l+"Capture",u)}function o(l,u){for(i[l]=u,l=0;l<u.length;l++)r.add(u[l])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},f={};function g(l){return d.call(f,l)?!0:d.call(m,l)?!1:h.test(l)?f[l]=!0:(m[l]=!0,!1)}function x(l,u,p,b){if(p!==null&&p.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return b?!1:p!==null?!p.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function N(l,u,p,b){if(u===null||typeof u>"u"||x(l,u,p,b))return!0;if(b)return!1;if(p!==null)switch(p.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function w(l,u,p,b,S,T,z){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=b,this.attributeNamespace=S,this.mustUseProperty=p,this.propertyName=l,this.type=u,this.sanitizeURL=T,this.removeEmptyString=z}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){j[l]=new w(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var u=l[0];j[u]=new w(u,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){j[l]=new w(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){j[l]=new w(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){j[l]=new w(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){j[l]=new w(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){j[l]=new w(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){j[l]=new w(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){j[l]=new w(l,5,!1,l.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function E(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var u=l.replace(_,E);j[u]=new w(u,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var u=l.replace(_,E);j[u]=new w(u,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var u=l.replace(_,E);j[u]=new w(u,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){j[l]=new w(l,1,!1,l.toLowerCase(),null,!1,!1)}),j.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){j[l]=new w(l,1,!1,l.toLowerCase(),null,!0,!0)});function k(l,u,p,b){var S=j.hasOwnProperty(u)?j[u]:null;(S!==null?S.type!==0:b||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(N(u,p,S,b)&&(p=null),b||S===null?g(u)&&(p===null?l.removeAttribute(u):l.setAttribute(u,""+p)):S.mustUseProperty?l[S.propertyName]=p===null?S.type===3?!1:"":p:(u=S.attributeName,b=S.attributeNamespace,p===null?l.removeAttribute(u):(S=S.type,p=S===3||S===4&&p===!0?"":""+p,b?l.setAttributeNS(b,u,p):l.setAttribute(u,p))))}var C=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,R=Symbol.for("react.element"),F=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),V=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),re=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),ae=Symbol.for("react.offscreen"),Q=Symbol.iterator;function q(l){return l===null||typeof l!="object"?null:(l=Q&&l[Q]||l["@@iterator"],typeof l=="function"?l:null)}var B=Object.assign,$;function Z(l){if($===void 0)try{throw Error()}catch(p){var u=p.stack.trim().match(/\n( *(at )?)/);$=u&&u[1]||""}return`
`+$+l}var H=!1;function me(l,u){if(!l||H)return"";H=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(ce){var b=ce}Reflect.construct(l,[],u)}else{try{u.call()}catch(ce){b=ce}l.call(u.prototype)}else{try{throw Error()}catch(ce){b=ce}l()}}catch(ce){if(ce&&b&&typeof ce.stack=="string"){for(var S=ce.stack.split(`
`),T=b.stack.split(`
`),z=S.length-1,K=T.length-1;1<=z&&0<=K&&S[z]!==T[K];)K--;for(;1<=z&&0<=K;z--,K--)if(S[z]!==T[K]){if(z!==1||K!==1)do if(z--,K--,0>K||S[z]!==T[K]){var J=`
`+S[z].replace(" at new "," at ");return l.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",l.displayName)),J}while(1<=z&&0<=K);break}}}finally{H=!1,Error.prepareStackTrace=p}return(l=l?l.displayName||l.name:"")?Z(l):""}function je(l){switch(l.tag){case 5:return Z(l.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return l=me(l.type,!1),l;case 11:return l=me(l.type.render,!1),l;case 1:return l=me(l.type,!0),l;default:return""}}function Ae(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case D:return"Fragment";case F:return"Portal";case I:return"Profiler";case P:return"StrictMode";case U:return"Suspense";case ee:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case V:return(l.displayName||"Context")+".Consumer";case O:return(l._context.displayName||"Context")+".Provider";case L:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case re:return u=l.displayName||null,u!==null?u:Ae(l.type)||"Memo";case he:u=l._payload,l=l._init;try{return Ae(l(u))}catch{}}return null}function ge(l){var u=l.type;switch(l.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=u.render,l=l.displayName||l.name||"",u.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ae(u);case 8:return u===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function Se(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function De(l){var u=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function ze(l){var u=De(l)?"checked":"value",p=Object.getOwnPropertyDescriptor(l.constructor.prototype,u),b=""+l[u];if(!l.hasOwnProperty(u)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var S=p.get,T=p.set;return Object.defineProperty(l,u,{configurable:!0,get:function(){return S.call(this)},set:function(z){b=""+z,T.call(this,z)}}),Object.defineProperty(l,u,{enumerable:p.enumerable}),{getValue:function(){return b},setValue:function(z){b=""+z},stopTracking:function(){l._valueTracker=null,delete l[u]}}}}function qe(l){l._valueTracker||(l._valueTracker=ze(l))}function ft(l){if(!l)return!1;var u=l._valueTracker;if(!u)return!0;var p=u.getValue(),b="";return l&&(b=De(l)?l.checked?"true":"false":l.value),l=b,l!==p?(u.setValue(l),!0):!1}function Jt(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function Cn(l,u){var p=u.checked;return B({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??l._wrapperState.initialChecked})}function wr(l,u){var p=u.defaultValue==null?"":u.defaultValue,b=u.checked!=null?u.checked:u.defaultChecked;p=Se(u.value!=null?u.value:p),l._wrapperState={initialChecked:b,initialValue:p,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function Bn(l,u){u=u.checked,u!=null&&k(l,"checked",u,!1)}function Jn(l,u){Bn(l,u);var p=Se(u.value),b=u.type;if(p!=null)b==="number"?(p===0&&l.value===""||l.value!=p)&&(l.value=""+p):l.value!==""+p&&(l.value=""+p);else if(b==="submit"||b==="reset"){l.removeAttribute("value");return}u.hasOwnProperty("value")?zt(l,u.type,p):u.hasOwnProperty("defaultValue")&&zt(l,u.type,Se(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(l.defaultChecked=!!u.defaultChecked)}function xs(l,u,p){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var b=u.type;if(!(b!=="submit"&&b!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+l._wrapperState.initialValue,p||u===l.value||(l.value=u),l.defaultValue=u}p=l.name,p!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,p!==""&&(l.name=p)}function zt(l,u,p){(u!=="number"||Jt(l.ownerDocument)!==l)&&(p==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+p&&(l.defaultValue=""+p))}var Xt=Array.isArray;function Or(l,u,p,b){if(l=l.options,u){u={};for(var S=0;S<p.length;S++)u["$"+p[S]]=!0;for(p=0;p<l.length;p++)S=u.hasOwnProperty("$"+l[p].value),l[p].selected!==S&&(l[p].selected=S),S&&b&&(l[p].defaultSelected=!0)}else{for(p=""+Se(p),u=null,S=0;S<l.length;S++){if(l[S].value===p){l[S].selected=!0,b&&(l[S].defaultSelected=!0);return}u!==null||l[S].disabled||(u=l[S])}u!==null&&(u.selected=!0)}}function Ea(l,u){if(u.dangerouslySetInnerHTML!=null)throw Error(n(91));return B({},u,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function Ii(l,u){var p=u.value;if(p==null){if(p=u.children,u=u.defaultValue,p!=null){if(u!=null)throw Error(n(92));if(Xt(p)){if(1<p.length)throw Error(n(93));p=p[0]}u=p}u==null&&(u=""),p=u}l._wrapperState={initialValue:Se(p)}}function Ri(l,u){var p=Se(u.value),b=Se(u.defaultValue);p!=null&&(p=""+p,p!==l.value&&(l.value=p),u.defaultValue==null&&l.defaultValue!==p&&(l.defaultValue=p)),b!=null&&(l.defaultValue=""+b)}function Fs(l){var u=l.textContent;u===l._wrapperState.initialValue&&u!==""&&u!==null&&(l.value=u)}function fe(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ie(l,u){return l==null||l==="http://www.w3.org/1999/xhtml"?fe(u):l==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var Ze,bt=(function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,p,b,S){MSApp.execUnsafeLocalFunction(function(){return l(u,p,b,S)})}:l})(function(l,u){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=u;else{for(Ze=Ze||document.createElement("div"),Ze.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=Ze.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;u.firstChild;)l.appendChild(u.firstChild)}});function kt(l,u){if(u){var p=l.firstChild;if(p&&p===l.lastChild&&p.nodeType===3){p.nodeValue=u;return}}l.textContent=u}var xn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];Object.keys(xn).forEach(function(l){pe.forEach(function(u){u=u+l.charAt(0).toUpperCase()+l.substring(1),xn[u]=xn[l]})});function He(l,u,p){return u==null||typeof u=="boolean"||u===""?"":p||typeof u!="number"||u===0||xn.hasOwnProperty(l)&&xn[l]?(""+u).trim():u+"px"}function et(l,u){l=l.style;for(var p in u)if(u.hasOwnProperty(p)){var b=p.indexOf("--")===0,S=He(p,u[p],b);p==="float"&&(p="cssFloat"),b?l.setProperty(p,S):l[p]=S}}var tt=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gt(l,u){if(u){if(tt[l]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(n(137,l));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(n(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(n(61))}if(u.style!=null&&typeof u.style!="object")throw Error(n(62))}}function ut(l,u){if(l.indexOf("-")===-1)return typeof u.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dt=null;function yn(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Yr=null,Lr=null,nn=null;function ii(l){if(l=Hh(l)){if(typeof Yr!="function")throw Error(n(280));var u=l.stateNode;u&&(u=Sp(u),Yr(l.stateNode,l.type,u))}}function Fr(l){Lr?nn?nn.push(l):nn=[l]:Lr=l}function Vr(){if(Lr){var l=Lr,u=nn;if(nn=Lr=null,ii(l),u)for(l=0;l<u.length;l++)ii(u[l])}}function Pi(l,u){return l(u)}function Kl(){}var ys=!1;function Gl(l,u,p){if(ys)return l(u,p);ys=!0;try{return Pi(l,u,p)}finally{ys=!1,(Lr!==null||nn!==null)&&(Kl(),Vr())}}function Di(l,u){var p=l.stateNode;if(p===null)return null;var b=Sp(p);if(b===null)return null;p=b[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(l=l.type,b=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!b;break e;default:l=!1}if(l)return null;if(p&&typeof p!="function")throw Error(n(231,u,typeof p));return p}var ai=!1;if(c)try{var oi={};Object.defineProperty(oi,"passive",{get:function(){ai=!0}}),window.addEventListener("test",oi,oi),window.removeEventListener("test",oi,oi)}catch{ai=!1}function vs(l,u,p,b,S,T,z,K,J){var ce=Array.prototype.slice.call(arguments,3);try{u.apply(p,ce)}catch(we){this.onError(we)}}var Jr=!1,jr=null,Xr=!1,Wt=null,_r={onError:function(l){Jr=!0,jr=l}};function No(l,u,p,b,S,T,z,K,J){Jr=!1,jr=null,vs.apply(_r,arguments)}function Ca(l,u,p,b,S,T,z,K,J){if(No.apply(this,arguments),Jr){if(Jr){var ce=jr;Jr=!1,jr=null}else throw Error(n(198));Xr||(Xr=!0,Wt=ce)}}function Nr(l){var u=l,p=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(p=u.return),l=u.return;while(l)}return u.tag===3?p:null}function li(l){if(l.tag===13){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function ci(l){if(Nr(l)!==l)throw Error(n(188))}function wt(l){var u=l.alternate;if(!u){if(u=Nr(l),u===null)throw Error(n(188));return u!==l?null:l}for(var p=l,b=u;;){var S=p.return;if(S===null)break;var T=S.alternate;if(T===null){if(b=S.return,b!==null){p=b;continue}break}if(S.child===T.child){for(T=S.child;T;){if(T===p)return ci(S),l;if(T===b)return ci(S),u;T=T.sibling}throw Error(n(188))}if(p.return!==b.return)p=S,b=T;else{for(var z=!1,K=S.child;K;){if(K===p){z=!0,p=S,b=T;break}if(K===b){z=!0,b=S,p=T;break}K=K.sibling}if(!z){for(K=T.child;K;){if(K===p){z=!0,p=T,b=S;break}if(K===b){z=!0,b=T,p=S;break}K=K.sibling}if(!z)throw Error(n(189))}}if(p.alternate!==b)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?l:u}function dt(l){return l=wt(l),l!==null?Xn(l):null}function Xn(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var u=Xn(l);if(u!==null)return u;l=l.sibling}return null}var So=e.unstable_scheduleCallback,hu=e.unstable_cancelCallback,Ql=e.unstable_shouldYield,ka=e.unstable_requestPaint,un=e.unstable_now,g0=e.unstable_getCurrentPriorityLevel,mu=e.unstable_ImmediatePriority,jh=e.unstable_UserBlockingPriority,Yl=e.unstable_NormalPriority,_h=e.unstable_LowPriority,fu=e.unstable_IdlePriority,Jl=null,bs=null;function lp(l){if(bs&&typeof bs.onCommitFiberRoot=="function")try{bs.onCommitFiberRoot(Jl,l,void 0,(l.current.flags&128)===128)}catch{}}var ws=Math.clz32?Math.clz32:Xl,Mi=Math.log,Vs=Math.LN2;function Xl(l){return l>>>=0,l===0?32:31-(Mi(l)/Vs|0)|0}var Oi=64,Eo=4194304;function Bt(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function Ta(l,u){var p=l.pendingLanes;if(p===0)return 0;var b=0,S=l.suspendedLanes,T=l.pingedLanes,z=p&268435455;if(z!==0){var K=z&~S;K!==0?b=Bt(K):(T&=z,T!==0&&(b=Bt(T)))}else z=p&~S,z!==0?b=Bt(z):T!==0&&(b=Bt(T));if(b===0)return 0;if(u!==0&&u!==b&&(u&S)===0&&(S=b&-b,T=u&-u,S>=T||S===16&&(T&4194240)!==0))return u;if((b&4)!==0&&(b|=p&16),u=l.entangledLanes,u!==0)for(l=l.entanglements,u&=b;0<u;)p=31-ws(u),S=1<<p,b|=l[p],u&=~S;return b}function Zl(l,u){switch(l){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ec(l,u){for(var p=l.suspendedLanes,b=l.pingedLanes,S=l.expirationTimes,T=l.pendingLanes;0<T;){var z=31-ws(T),K=1<<z,J=S[z];J===-1?((K&p)===0||(K&b)!==0)&&(S[z]=Zl(K,u)):J<=u&&(l.expiredLanes|=K),T&=~K}}function Nh(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function Sh(){var l=Oi;return Oi<<=1,(Oi&4194240)===0&&(Oi=64),l}function Eh(l){for(var u=[],p=0;31>p;p++)u.push(l);return u}function tc(l,u,p){l.pendingLanes|=u,u!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,u=31-ws(u),l[u]=p}function x0(l,u){var p=l.pendingLanes&~u;l.pendingLanes=u,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=u,l.mutableReadLanes&=u,l.entangledLanes&=u,u=l.entanglements;var b=l.eventTimes;for(l=l.expirationTimes;0<p;){var S=31-ws(p),T=1<<S;u[S]=0,b[S]=-1,l[S]=-1,p&=~T}}function Ch(l,u){var p=l.entangledLanes|=u;for(l=l.entanglements;p;){var b=31-ws(p),S=1<<b;S&u|l[b]&u&&(l[b]|=u),p&=~S}}var Mt=0;function Li(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var kh,pu,Th,Ah,Ih,Fi=!1,gu=[],Vi=null,Ui=null,mr=null,nc=new Map,Aa=new Map,js=[],cp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Co(l,u){switch(l){case"focusin":case"focusout":Vi=null;break;case"dragenter":case"dragleave":Ui=null;break;case"mouseover":case"mouseout":mr=null;break;case"pointerover":case"pointerout":nc.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Aa.delete(u.pointerId)}}function ui(l,u,p,b,S,T){return l===null||l.nativeEvent!==T?(l={blockedOn:u,domEventName:p,eventSystemFlags:b,nativeEvent:T,targetContainers:[S]},u!==null&&(u=Hh(u),u!==null&&pu(u)),l):(l.eventSystemFlags|=b,u=l.targetContainers,S!==null&&u.indexOf(S)===-1&&u.push(S),l)}function up(l,u,p,b,S){switch(u){case"focusin":return Vi=ui(Vi,l,u,p,b,S),!0;case"dragenter":return Ui=ui(Ui,l,u,p,b,S),!0;case"mouseover":return mr=ui(mr,l,u,p,b,S),!0;case"pointerover":var T=S.pointerId;return nc.set(T,ui(nc.get(T)||null,l,u,p,b,S)),!0;case"gotpointercapture":return T=S.pointerId,Aa.set(T,ui(Aa.get(T)||null,l,u,p,b,S)),!0}return!1}function xu(l){var u=ac(l.target);if(u!==null){var p=Nr(u);if(p!==null){if(u=p.tag,u===13){if(u=li(p),u!==null){l.blockedOn=u,Ih(l.priority,function(){Th(p)});return}}else if(u===3&&p.stateNode.current.memoizedState.isDehydrated){l.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}l.blockedOn=null}function rn(l){if(l.blockedOn!==null)return!1;for(var u=l.targetContainers;0<u.length;){var p=yu(l.domEventName,l.eventSystemFlags,u[0],l.nativeEvent);if(p===null){p=l.nativeEvent;var b=new p.constructor(p.type,p);Dt=b,p.target.dispatchEvent(b),Dt=null}else return u=Hh(p),u!==null&&pu(u),l.blockedOn=p,!1;u.shift()}return!0}function dp(l,u,p){rn(l)&&p.delete(u)}function y0(){Fi=!1,Vi!==null&&rn(Vi)&&(Vi=null),Ui!==null&&rn(Ui)&&(Ui=null),mr!==null&&rn(mr)&&(mr=null),nc.forEach(dp),Aa.forEach(dp)}function ko(l,u){l.blockedOn===u&&(l.blockedOn=null,Fi||(Fi=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,y0)))}function To(l){function u(S){return ko(S,l)}if(0<gu.length){ko(gu[0],l);for(var p=1;p<gu.length;p++){var b=gu[p];b.blockedOn===l&&(b.blockedOn=null)}}for(Vi!==null&&ko(Vi,l),Ui!==null&&ko(Ui,l),mr!==null&&ko(mr,l),nc.forEach(u),Aa.forEach(u),p=0;p<js.length;p++)b=js[p],b.blockedOn===l&&(b.blockedOn=null);for(;0<js.length&&(p=js[0],p.blockedOn===null);)xu(p),p.blockedOn===null&&js.shift()}var Ia=C.ReactCurrentBatchConfig,Ra=!0;function zi(l,u,p,b){var S=Mt,T=Ia.transition;Ia.transition=null;try{Mt=1,Rh(l,u,p,b)}finally{Mt=S,Ia.transition=T}}function hp(l,u,p,b){var S=Mt,T=Ia.transition;Ia.transition=null;try{Mt=4,Rh(l,u,p,b)}finally{Mt=S,Ia.transition=T}}function Rh(l,u,p,b){if(Ra){var S=yu(l,u,p,b);if(S===null)T0(l,u,b,Bi,p),Co(l,b);else if(up(S,l,u,p,b))b.stopPropagation();else if(Co(l,b),u&4&&-1<cp.indexOf(l)){for(;S!==null;){var T=Hh(S);if(T!==null&&kh(T),T=yu(l,u,p,b),T===null&&T0(l,u,b,Bi,p),T===S)break;S=T}S!==null&&b.stopPropagation()}else T0(l,u,b,null,p)}}var Bi=null;function yu(l,u,p,b){if(Bi=null,l=yn(b),l=ac(l),l!==null)if(u=Nr(l),u===null)l=null;else if(p=u.tag,p===13){if(l=li(u),l!==null)return l;l=null}else if(p===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;l=null}else u!==l&&(l=null);return Bi=l,null}function vu(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(g0()){case mu:return 1;case jh:return 4;case Yl:case _h:return 16;case fu:return 536870912;default:return 16}default:return 16}}var _s=null,bu=null,Pa=null;function mp(){if(Pa)return Pa;var l,u=bu,p=u.length,b,S="value"in _s?_s.value:_s.textContent,T=S.length;for(l=0;l<p&&u[l]===S[l];l++);var z=p-l;for(b=1;b<=z&&u[p-b]===S[T-b];b++);return Pa=S.slice(l,1<b?1-b:void 0)}function rc(l){var u=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&u===13&&(l=13)):l=u,l===10&&(l=13),32<=l||l===13?l:0}function $i(){return!0}function Ph(){return!1}function Sr(l){function u(p,b,S,T,z){this._reactName=p,this._targetInst=S,this.type=b,this.nativeEvent=T,this.target=z,this.currentTarget=null;for(var K in l)l.hasOwnProperty(K)&&(p=l[K],this[K]=p?p(T):T[K]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?$i:Ph,this.isPropagationStopped=Ph,this}return B(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),u}var qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sc=Sr(qi),Ao=B({},qi,{view:0,detail:0}),wu=Sr(Ao),ju,_u,Ns,ic=B({},Ao,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xt,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Ns&&(Ns&&l.type==="mousemove"?(ju=l.screenX-Ns.screenX,_u=l.screenY-Ns.screenY):_u=ju=0,Ns=l),ju)},movementY:function(l){return"movementY"in l?l.movementY:_u}}),Dh=Sr(ic),fp=B({},ic,{dataTransfer:0}),pp=Sr(fp),Nu=B({},Ao,{relatedTarget:0}),fr=Sr(Nu),gp=B({},qi,{animationName:0,elapsedTime:0,pseudoElement:0}),xp=Sr(gp),Io=B({},qi,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),y=Sr(Io),A=B({},qi,{data:0}),M=Sr(A),W={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ue={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pe(l){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(l):(l=ue[l])?!!u[l]:!1}function xt(){return Pe}var Dn=B({},Ao,{key:function(l){if(l.key){var u=W[l.key]||l.key;if(u!=="Unidentified")return u}return l.type==="keypress"?(l=rc(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?oe[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xt,charCode:function(l){return l.type==="keypress"?rc(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?rc(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),Zt=Sr(Dn),$n=B({},ic,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ss=Sr($n),Da=B({},Ao,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xt}),Hi=Sr(Da),Wi=B({},qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Su=Sr(Wi),Mh=B({},ic,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),NV=Sr(Mh),SV=[9,13,27,32],v0=c&&"CompositionEvent"in window,Oh=null;c&&"documentMode"in document&&(Oh=document.documentMode);var EV=c&&"TextEvent"in window&&!Oh,dS=c&&(!v0||Oh&&8<Oh&&11>=Oh),hS=" ",mS=!1;function fS(l,u){switch(l){case"keyup":return SV.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pS(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Eu=!1;function CV(l,u){switch(l){case"compositionend":return pS(u);case"keypress":return u.which!==32?null:(mS=!0,hS);case"textInput":return l=u.data,l===hS&&mS?null:l;default:return null}}function kV(l,u){if(Eu)return l==="compositionend"||!v0&&fS(l,u)?(l=mp(),Pa=bu=_s=null,Eu=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return dS&&u.locale!=="ko"?null:u.data;default:return null}}var TV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gS(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u==="input"?!!TV[l.type]:u==="textarea"}function xS(l,u,p,b){Fr(b),u=jp(u,"onChange"),0<u.length&&(p=new sc("onChange","change",null,p,b),l.push({event:p,listeners:u}))}var Lh=null,Fh=null;function AV(l){MS(l,0)}function yp(l){var u=Iu(l);if(ft(u))return l}function IV(l,u){if(l==="change")return u}var yS=!1;if(c){var b0;if(c){var w0="oninput"in document;if(!w0){var vS=document.createElement("div");vS.setAttribute("oninput","return;"),w0=typeof vS.oninput=="function"}b0=w0}else b0=!1;yS=b0&&(!document.documentMode||9<document.documentMode)}function bS(){Lh&&(Lh.detachEvent("onpropertychange",wS),Fh=Lh=null)}function wS(l){if(l.propertyName==="value"&&yp(Fh)){var u=[];xS(u,Fh,l,yn(l)),Gl(AV,u)}}function RV(l,u,p){l==="focusin"?(bS(),Lh=u,Fh=p,Lh.attachEvent("onpropertychange",wS)):l==="focusout"&&bS()}function PV(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return yp(Fh)}function DV(l,u){if(l==="click")return yp(u)}function MV(l,u){if(l==="input"||l==="change")return yp(u)}function OV(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var di=typeof Object.is=="function"?Object.is:OV;function Vh(l,u){if(di(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var p=Object.keys(l),b=Object.keys(u);if(p.length!==b.length)return!1;for(b=0;b<p.length;b++){var S=p[b];if(!d.call(u,S)||!di(l[S],u[S]))return!1}return!0}function jS(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function _S(l,u){var p=jS(l);l=0;for(var b;p;){if(p.nodeType===3){if(b=l+p.textContent.length,l<=u&&b>=u)return{node:p,offset:u-l};l=b}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=jS(p)}}function NS(l,u){return l&&u?l===u?!0:l&&l.nodeType===3?!1:u&&u.nodeType===3?NS(l,u.parentNode):"contains"in l?l.contains(u):l.compareDocumentPosition?!!(l.compareDocumentPosition(u)&16):!1:!1}function SS(){for(var l=window,u=Jt();u instanceof l.HTMLIFrameElement;){try{var p=typeof u.contentWindow.location.href=="string"}catch{p=!1}if(p)l=u.contentWindow;else break;u=Jt(l.document)}return u}function j0(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u&&(u==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||u==="textarea"||l.contentEditable==="true")}function LV(l){var u=SS(),p=l.focusedElem,b=l.selectionRange;if(u!==p&&p&&p.ownerDocument&&NS(p.ownerDocument.documentElement,p)){if(b!==null&&j0(p)){if(u=b.start,l=b.end,l===void 0&&(l=u),"selectionStart"in p)p.selectionStart=u,p.selectionEnd=Math.min(l,p.value.length);else if(l=(u=p.ownerDocument||document)&&u.defaultView||window,l.getSelection){l=l.getSelection();var S=p.textContent.length,T=Math.min(b.start,S);b=b.end===void 0?T:Math.min(b.end,S),!l.extend&&T>b&&(S=b,b=T,T=S),S=_S(p,T);var z=_S(p,b);S&&z&&(l.rangeCount!==1||l.anchorNode!==S.node||l.anchorOffset!==S.offset||l.focusNode!==z.node||l.focusOffset!==z.offset)&&(u=u.createRange(),u.setStart(S.node,S.offset),l.removeAllRanges(),T>b?(l.addRange(u),l.extend(z.node,z.offset)):(u.setEnd(z.node,z.offset),l.addRange(u)))}}for(u=[],l=p;l=l.parentNode;)l.nodeType===1&&u.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<u.length;p++)l=u[p],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var FV=c&&"documentMode"in document&&11>=document.documentMode,Cu=null,_0=null,Uh=null,N0=!1;function ES(l,u,p){var b=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;N0||Cu==null||Cu!==Jt(b)||(b=Cu,"selectionStart"in b&&j0(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),Uh&&Vh(Uh,b)||(Uh=b,b=jp(_0,"onSelect"),0<b.length&&(u=new sc("onSelect","select",null,u,p),l.push({event:u,listeners:b}),u.target=Cu)))}function vp(l,u){var p={};return p[l.toLowerCase()]=u.toLowerCase(),p["Webkit"+l]="webkit"+u,p["Moz"+l]="moz"+u,p}var ku={animationend:vp("Animation","AnimationEnd"),animationiteration:vp("Animation","AnimationIteration"),animationstart:vp("Animation","AnimationStart"),transitionend:vp("Transition","TransitionEnd")},S0={},CS={};c&&(CS=document.createElement("div").style,"AnimationEvent"in window||(delete ku.animationend.animation,delete ku.animationiteration.animation,delete ku.animationstart.animation),"TransitionEvent"in window||delete ku.transitionend.transition);function bp(l){if(S0[l])return S0[l];if(!ku[l])return l;var u=ku[l],p;for(p in u)if(u.hasOwnProperty(p)&&p in CS)return S0[l]=u[p];return l}var kS=bp("animationend"),TS=bp("animationiteration"),AS=bp("animationstart"),IS=bp("transitionend"),RS=new Map,PS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ro(l,u){RS.set(l,u),a(u,[l])}for(var E0=0;E0<PS.length;E0++){var C0=PS[E0],VV=C0.toLowerCase(),UV=C0[0].toUpperCase()+C0.slice(1);Ro(VV,"on"+UV)}Ro(kS,"onAnimationEnd"),Ro(TS,"onAnimationIteration"),Ro(AS,"onAnimationStart"),Ro("dblclick","onDoubleClick"),Ro("focusin","onFocus"),Ro("focusout","onBlur"),Ro(IS,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zV=new Set("cancel close invalid load scroll toggle".split(" ").concat(zh));function DS(l,u,p){var b=l.type||"unknown-event";l.currentTarget=p,Ca(b,u,void 0,l),l.currentTarget=null}function MS(l,u){u=(u&4)!==0;for(var p=0;p<l.length;p++){var b=l[p],S=b.event;b=b.listeners;e:{var T=void 0;if(u)for(var z=b.length-1;0<=z;z--){var K=b[z],J=K.instance,ce=K.currentTarget;if(K=K.listener,J!==T&&S.isPropagationStopped())break e;DS(S,K,ce),T=J}else for(z=0;z<b.length;z++){if(K=b[z],J=K.instance,ce=K.currentTarget,K=K.listener,J!==T&&S.isPropagationStopped())break e;DS(S,K,ce),T=J}}}if(Xr)throw l=Wt,Xr=!1,Wt=null,l}function dn(l,u){var p=u[M0];p===void 0&&(p=u[M0]=new Set);var b=l+"__bubble";p.has(b)||(OS(u,l,2,!1),p.add(b))}function k0(l,u,p){var b=0;u&&(b|=4),OS(p,l,b,u)}var wp="_reactListening"+Math.random().toString(36).slice(2);function Bh(l){if(!l[wp]){l[wp]=!0,r.forEach(function(p){p!=="selectionchange"&&(zV.has(p)||k0(p,!1,l),k0(p,!0,l))});var u=l.nodeType===9?l:l.ownerDocument;u===null||u[wp]||(u[wp]=!0,k0("selectionchange",!1,u))}}function OS(l,u,p,b){switch(vu(u)){case 1:var S=zi;break;case 4:S=hp;break;default:S=Rh}p=S.bind(null,u,p,l),S=void 0,!ai||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(S=!0),b?S!==void 0?l.addEventListener(u,p,{capture:!0,passive:S}):l.addEventListener(u,p,!0):S!==void 0?l.addEventListener(u,p,{passive:S}):l.addEventListener(u,p,!1)}function T0(l,u,p,b,S){var T=b;if((u&1)===0&&(u&2)===0&&b!==null)e:for(;;){if(b===null)return;var z=b.tag;if(z===3||z===4){var K=b.stateNode.containerInfo;if(K===S||K.nodeType===8&&K.parentNode===S)break;if(z===4)for(z=b.return;z!==null;){var J=z.tag;if((J===3||J===4)&&(J=z.stateNode.containerInfo,J===S||J.nodeType===8&&J.parentNode===S))return;z=z.return}for(;K!==null;){if(z=ac(K),z===null)return;if(J=z.tag,J===5||J===6){b=T=z;continue e}K=K.parentNode}}b=b.return}Gl(function(){var ce=T,we=yn(p),Ne=[];e:{var be=RS.get(l);if(be!==void 0){var Ue=sc,We=l;switch(l){case"keypress":if(rc(p)===0)break e;case"keydown":case"keyup":Ue=Zt;break;case"focusin":We="focus",Ue=fr;break;case"focusout":We="blur",Ue=fr;break;case"beforeblur":case"afterblur":Ue=fr;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ue=Dh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ue=pp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ue=Hi;break;case kS:case TS:case AS:Ue=xp;break;case IS:Ue=Su;break;case"scroll":Ue=wu;break;case"wheel":Ue=NV;break;case"copy":case"cut":case"paste":Ue=y;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ue=Ss}var Qe=(u&4)!==0,Mn=!Qe&&l==="scroll",se=Qe?be!==null?be+"Capture":null:be;Qe=[];for(var X=ce,le;X!==null;){le=X;var ke=le.stateNode;if(le.tag===5&&ke!==null&&(le=ke,se!==null&&(ke=Di(X,se),ke!=null&&Qe.push($h(X,ke,le)))),Mn)break;X=X.return}0<Qe.length&&(be=new Ue(be,We,null,p,we),Ne.push({event:be,listeners:Qe}))}}if((u&7)===0){e:{if(be=l==="mouseover"||l==="pointerover",Ue=l==="mouseout"||l==="pointerout",be&&p!==Dt&&(We=p.relatedTarget||p.fromElement)&&(ac(We)||We[Ma]))break e;if((Ue||be)&&(be=we.window===we?we:(be=we.ownerDocument)?be.defaultView||be.parentWindow:window,Ue?(We=p.relatedTarget||p.toElement,Ue=ce,We=We?ac(We):null,We!==null&&(Mn=Nr(We),We!==Mn||We.tag!==5&&We.tag!==6)&&(We=null)):(Ue=null,We=ce),Ue!==We)){if(Qe=Dh,ke="onMouseLeave",se="onMouseEnter",X="mouse",(l==="pointerout"||l==="pointerover")&&(Qe=Ss,ke="onPointerLeave",se="onPointerEnter",X="pointer"),Mn=Ue==null?be:Iu(Ue),le=We==null?be:Iu(We),be=new Qe(ke,X+"leave",Ue,p,we),be.target=Mn,be.relatedTarget=le,ke=null,ac(we)===ce&&(Qe=new Qe(se,X+"enter",We,p,we),Qe.target=le,Qe.relatedTarget=Mn,ke=Qe),Mn=ke,Ue&&We)t:{for(Qe=Ue,se=We,X=0,le=Qe;le;le=Tu(le))X++;for(le=0,ke=se;ke;ke=Tu(ke))le++;for(;0<X-le;)Qe=Tu(Qe),X--;for(;0<le-X;)se=Tu(se),le--;for(;X--;){if(Qe===se||se!==null&&Qe===se.alternate)break t;Qe=Tu(Qe),se=Tu(se)}Qe=null}else Qe=null;Ue!==null&&LS(Ne,be,Ue,Qe,!1),We!==null&&Mn!==null&&LS(Ne,Mn,We,Qe,!0)}}e:{if(be=ce?Iu(ce):window,Ue=be.nodeName&&be.nodeName.toLowerCase(),Ue==="select"||Ue==="input"&&be.type==="file")var Ye=IV;else if(gS(be))if(yS)Ye=MV;else{Ye=PV;var rt=RV}else(Ue=be.nodeName)&&Ue.toLowerCase()==="input"&&(be.type==="checkbox"||be.type==="radio")&&(Ye=DV);if(Ye&&(Ye=Ye(l,ce))){xS(Ne,Ye,p,we);break e}rt&&rt(l,be,ce),l==="focusout"&&(rt=be._wrapperState)&&rt.controlled&&be.type==="number"&&zt(be,"number",be.value)}switch(rt=ce?Iu(ce):window,l){case"focusin":(gS(rt)||rt.contentEditable==="true")&&(Cu=rt,_0=ce,Uh=null);break;case"focusout":Uh=_0=Cu=null;break;case"mousedown":N0=!0;break;case"contextmenu":case"mouseup":case"dragend":N0=!1,ES(Ne,p,we);break;case"selectionchange":if(FV)break;case"keydown":case"keyup":ES(Ne,p,we)}var st;if(v0)e:{switch(l){case"compositionstart":var ht="onCompositionStart";break e;case"compositionend":ht="onCompositionEnd";break e;case"compositionupdate":ht="onCompositionUpdate";break e}ht=void 0}else Eu?fS(l,p)&&(ht="onCompositionEnd"):l==="keydown"&&p.keyCode===229&&(ht="onCompositionStart");ht&&(dS&&p.locale!=="ko"&&(Eu||ht!=="onCompositionStart"?ht==="onCompositionEnd"&&Eu&&(st=mp()):(_s=we,bu="value"in _s?_s.value:_s.textContent,Eu=!0)),rt=jp(ce,ht),0<rt.length&&(ht=new M(ht,l,null,p,we),Ne.push({event:ht,listeners:rt}),st?ht.data=st:(st=pS(p),st!==null&&(ht.data=st)))),(st=EV?CV(l,p):kV(l,p))&&(ce=jp(ce,"onBeforeInput"),0<ce.length&&(we=new M("onBeforeInput","beforeinput",null,p,we),Ne.push({event:we,listeners:ce}),we.data=st))}MS(Ne,u)})}function $h(l,u,p){return{instance:l,listener:u,currentTarget:p}}function jp(l,u){for(var p=u+"Capture",b=[];l!==null;){var S=l,T=S.stateNode;S.tag===5&&T!==null&&(S=T,T=Di(l,p),T!=null&&b.unshift($h(l,T,S)),T=Di(l,u),T!=null&&b.push($h(l,T,S))),l=l.return}return b}function Tu(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function LS(l,u,p,b,S){for(var T=u._reactName,z=[];p!==null&&p!==b;){var K=p,J=K.alternate,ce=K.stateNode;if(J!==null&&J===b)break;K.tag===5&&ce!==null&&(K=ce,S?(J=Di(p,T),J!=null&&z.unshift($h(p,J,K))):S||(J=Di(p,T),J!=null&&z.push($h(p,J,K)))),p=p.return}z.length!==0&&l.push({event:u,listeners:z})}var BV=/\r\n?/g,$V=/\u0000|\uFFFD/g;function FS(l){return(typeof l=="string"?l:""+l).replace(BV,`
`).replace($V,"")}function _p(l,u,p){if(u=FS(u),FS(l)!==u&&p)throw Error(n(425))}function Np(){}var A0=null,I0=null;function R0(l,u){return l==="textarea"||l==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var P0=typeof setTimeout=="function"?setTimeout:void 0,qV=typeof clearTimeout=="function"?clearTimeout:void 0,VS=typeof Promise=="function"?Promise:void 0,HV=typeof queueMicrotask=="function"?queueMicrotask:typeof VS<"u"?function(l){return VS.resolve(null).then(l).catch(WV)}:P0;function WV(l){setTimeout(function(){throw l})}function D0(l,u){var p=u,b=0;do{var S=p.nextSibling;if(l.removeChild(p),S&&S.nodeType===8)if(p=S.data,p==="/$"){if(b===0){l.removeChild(S),To(u);return}b--}else p!=="$"&&p!=="$?"&&p!=="$!"||b++;p=S}while(p);To(u)}function Po(l){for(;l!=null;l=l.nextSibling){var u=l.nodeType;if(u===1||u===3)break;if(u===8){if(u=l.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return l}function US(l){l=l.previousSibling;for(var u=0;l;){if(l.nodeType===8){var p=l.data;if(p==="$"||p==="$!"||p==="$?"){if(u===0)return l;u--}else p==="/$"&&u++}l=l.previousSibling}return null}var Au=Math.random().toString(36).slice(2),Ki="__reactFiber$"+Au,qh="__reactProps$"+Au,Ma="__reactContainer$"+Au,M0="__reactEvents$"+Au,KV="__reactListeners$"+Au,GV="__reactHandles$"+Au;function ac(l){var u=l[Ki];if(u)return u;for(var p=l.parentNode;p;){if(u=p[Ma]||p[Ki]){if(p=u.alternate,u.child!==null||p!==null&&p.child!==null)for(l=US(l);l!==null;){if(p=l[Ki])return p;l=US(l)}return u}l=p,p=l.parentNode}return null}function Hh(l){return l=l[Ki]||l[Ma],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function Iu(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(n(33))}function Sp(l){return l[qh]||null}var O0=[],Ru=-1;function Do(l){return{current:l}}function hn(l){0>Ru||(l.current=O0[Ru],O0[Ru]=null,Ru--)}function an(l,u){Ru++,O0[Ru]=l.current,l.current=u}var Mo={},Er=Do(Mo),Zr=Do(!1),oc=Mo;function Pu(l,u){var p=l.type.contextTypes;if(!p)return Mo;var b=l.stateNode;if(b&&b.__reactInternalMemoizedUnmaskedChildContext===u)return b.__reactInternalMemoizedMaskedChildContext;var S={},T;for(T in p)S[T]=u[T];return b&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=u,l.__reactInternalMemoizedMaskedChildContext=S),S}function es(l){return l=l.childContextTypes,l!=null}function Ep(){hn(Zr),hn(Er)}function zS(l,u,p){if(Er.current!==Mo)throw Error(n(168));an(Er,u),an(Zr,p)}function BS(l,u,p){var b=l.stateNode;if(u=u.childContextTypes,typeof b.getChildContext!="function")return p;b=b.getChildContext();for(var S in b)if(!(S in u))throw Error(n(108,ge(l)||"Unknown",S));return B({},p,b)}function Cp(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||Mo,oc=Er.current,an(Er,l),an(Zr,Zr.current),!0}function $S(l,u,p){var b=l.stateNode;if(!b)throw Error(n(169));p?(l=BS(l,u,oc),b.__reactInternalMemoizedMergedChildContext=l,hn(Zr),hn(Er),an(Er,l)):hn(Zr),an(Zr,p)}var Oa=null,kp=!1,L0=!1;function qS(l){Oa===null?Oa=[l]:Oa.push(l)}function QV(l){kp=!0,qS(l)}function Oo(){if(!L0&&Oa!==null){L0=!0;var l=0,u=Mt;try{var p=Oa;for(Mt=1;l<p.length;l++){var b=p[l];do b=b(!0);while(b!==null)}Oa=null,kp=!1}catch(S){throw Oa!==null&&(Oa=Oa.slice(l+1)),So(mu,Oo),S}finally{Mt=u,L0=!1}}return null}var Du=[],Mu=0,Tp=null,Ap=0,Us=[],zs=0,lc=null,La=1,Fa="";function cc(l,u){Du[Mu++]=Ap,Du[Mu++]=Tp,Tp=l,Ap=u}function HS(l,u,p){Us[zs++]=La,Us[zs++]=Fa,Us[zs++]=lc,lc=l;var b=La;l=Fa;var S=32-ws(b)-1;b&=~(1<<S),p+=1;var T=32-ws(u)+S;if(30<T){var z=S-S%5;T=(b&(1<<z)-1).toString(32),b>>=z,S-=z,La=1<<32-ws(u)+S|p<<S|b,Fa=T+l}else La=1<<T|p<<S|b,Fa=l}function F0(l){l.return!==null&&(cc(l,1),HS(l,1,0))}function V0(l){for(;l===Tp;)Tp=Du[--Mu],Du[Mu]=null,Ap=Du[--Mu],Du[Mu]=null;for(;l===lc;)lc=Us[--zs],Us[zs]=null,Fa=Us[--zs],Us[zs]=null,La=Us[--zs],Us[zs]=null}var Es=null,Cs=null,pn=!1,hi=null;function WS(l,u){var p=Hs(5,null,null,0);p.elementType="DELETED",p.stateNode=u,p.return=l,u=l.deletions,u===null?(l.deletions=[p],l.flags|=16):u.push(p)}function KS(l,u){switch(l.tag){case 5:var p=l.type;return u=u.nodeType!==1||p.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(l.stateNode=u,Es=l,Cs=Po(u.firstChild),!0):!1;case 6:return u=l.pendingProps===""||u.nodeType!==3?null:u,u!==null?(l.stateNode=u,Es=l,Cs=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(p=lc!==null?{id:La,overflow:Fa}:null,l.memoizedState={dehydrated:u,treeContext:p,retryLane:1073741824},p=Hs(18,null,null,0),p.stateNode=u,p.return=l,l.child=p,Es=l,Cs=null,!0):!1;default:return!1}}function U0(l){return(l.mode&1)!==0&&(l.flags&128)===0}function z0(l){if(pn){var u=Cs;if(u){var p=u;if(!KS(l,u)){if(U0(l))throw Error(n(418));u=Po(p.nextSibling);var b=Es;u&&KS(l,u)?WS(b,p):(l.flags=l.flags&-4097|2,pn=!1,Es=l)}}else{if(U0(l))throw Error(n(418));l.flags=l.flags&-4097|2,pn=!1,Es=l}}}function GS(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;Es=l}function Ip(l){if(l!==Es)return!1;if(!pn)return GS(l),pn=!0,!1;var u;if((u=l.tag!==3)&&!(u=l.tag!==5)&&(u=l.type,u=u!=="head"&&u!=="body"&&!R0(l.type,l.memoizedProps)),u&&(u=Cs)){if(U0(l))throw QS(),Error(n(418));for(;u;)WS(l,u),u=Po(u.nextSibling)}if(GS(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));e:{for(l=l.nextSibling,u=0;l;){if(l.nodeType===8){var p=l.data;if(p==="/$"){if(u===0){Cs=Po(l.nextSibling);break e}u--}else p!=="$"&&p!=="$!"&&p!=="$?"||u++}l=l.nextSibling}Cs=null}}else Cs=Es?Po(l.stateNode.nextSibling):null;return!0}function QS(){for(var l=Cs;l;)l=Po(l.nextSibling)}function Ou(){Cs=Es=null,pn=!1}function B0(l){hi===null?hi=[l]:hi.push(l)}var YV=C.ReactCurrentBatchConfig;function Wh(l,u,p){if(l=p.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(n(309));var b=p.stateNode}if(!b)throw Error(n(147,l));var S=b,T=""+l;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===T?u.ref:(u=function(z){var K=S.refs;z===null?delete K[T]:K[T]=z},u._stringRef=T,u)}if(typeof l!="string")throw Error(n(284));if(!p._owner)throw Error(n(290,l))}return l}function Rp(l,u){throw l=Object.prototype.toString.call(u),Error(n(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l))}function YS(l){var u=l._init;return u(l._payload)}function JS(l){function u(se,X){if(l){var le=se.deletions;le===null?(se.deletions=[X],se.flags|=16):le.push(X)}}function p(se,X){if(!l)return null;for(;X!==null;)u(se,X),X=X.sibling;return null}function b(se,X){for(se=new Map;X!==null;)X.key!==null?se.set(X.key,X):se.set(X.index,X),X=X.sibling;return se}function S(se,X){return se=qo(se,X),se.index=0,se.sibling=null,se}function T(se,X,le){return se.index=le,l?(le=se.alternate,le!==null?(le=le.index,le<X?(se.flags|=2,X):le):(se.flags|=2,X)):(se.flags|=1048576,X)}function z(se){return l&&se.alternate===null&&(se.flags|=2),se}function K(se,X,le,ke){return X===null||X.tag!==6?(X=Pv(le,se.mode,ke),X.return=se,X):(X=S(X,le),X.return=se,X)}function J(se,X,le,ke){var Ye=le.type;return Ye===D?we(se,X,le.props.children,ke,le.key):X!==null&&(X.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===he&&YS(Ye)===X.type)?(ke=S(X,le.props),ke.ref=Wh(se,X,le),ke.return=se,ke):(ke=ng(le.type,le.key,le.props,null,se.mode,ke),ke.ref=Wh(se,X,le),ke.return=se,ke)}function ce(se,X,le,ke){return X===null||X.tag!==4||X.stateNode.containerInfo!==le.containerInfo||X.stateNode.implementation!==le.implementation?(X=Dv(le,se.mode,ke),X.return=se,X):(X=S(X,le.children||[]),X.return=se,X)}function we(se,X,le,ke,Ye){return X===null||X.tag!==7?(X=xc(le,se.mode,ke,Ye),X.return=se,X):(X=S(X,le),X.return=se,X)}function Ne(se,X,le){if(typeof X=="string"&&X!==""||typeof X=="number")return X=Pv(""+X,se.mode,le),X.return=se,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case R:return le=ng(X.type,X.key,X.props,null,se.mode,le),le.ref=Wh(se,null,X),le.return=se,le;case F:return X=Dv(X,se.mode,le),X.return=se,X;case he:var ke=X._init;return Ne(se,ke(X._payload),le)}if(Xt(X)||q(X))return X=xc(X,se.mode,le,null),X.return=se,X;Rp(se,X)}return null}function be(se,X,le,ke){var Ye=X!==null?X.key:null;if(typeof le=="string"&&le!==""||typeof le=="number")return Ye!==null?null:K(se,X,""+le,ke);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case R:return le.key===Ye?J(se,X,le,ke):null;case F:return le.key===Ye?ce(se,X,le,ke):null;case he:return Ye=le._init,be(se,X,Ye(le._payload),ke)}if(Xt(le)||q(le))return Ye!==null?null:we(se,X,le,ke,null);Rp(se,le)}return null}function Ue(se,X,le,ke,Ye){if(typeof ke=="string"&&ke!==""||typeof ke=="number")return se=se.get(le)||null,K(X,se,""+ke,Ye);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case R:return se=se.get(ke.key===null?le:ke.key)||null,J(X,se,ke,Ye);case F:return se=se.get(ke.key===null?le:ke.key)||null,ce(X,se,ke,Ye);case he:var rt=ke._init;return Ue(se,X,le,rt(ke._payload),Ye)}if(Xt(ke)||q(ke))return se=se.get(le)||null,we(X,se,ke,Ye,null);Rp(X,ke)}return null}function We(se,X,le,ke){for(var Ye=null,rt=null,st=X,ht=X=0,or=null;st!==null&&ht<le.length;ht++){st.index>ht?(or=st,st=null):or=st.sibling;var Ut=be(se,st,le[ht],ke);if(Ut===null){st===null&&(st=or);break}l&&st&&Ut.alternate===null&&u(se,st),X=T(Ut,X,ht),rt===null?Ye=Ut:rt.sibling=Ut,rt=Ut,st=or}if(ht===le.length)return p(se,st),pn&&cc(se,ht),Ye;if(st===null){for(;ht<le.length;ht++)st=Ne(se,le[ht],ke),st!==null&&(X=T(st,X,ht),rt===null?Ye=st:rt.sibling=st,rt=st);return pn&&cc(se,ht),Ye}for(st=b(se,st);ht<le.length;ht++)or=Ue(st,se,ht,le[ht],ke),or!==null&&(l&&or.alternate!==null&&st.delete(or.key===null?ht:or.key),X=T(or,X,ht),rt===null?Ye=or:rt.sibling=or,rt=or);return l&&st.forEach(function(Ho){return u(se,Ho)}),pn&&cc(se,ht),Ye}function Qe(se,X,le,ke){var Ye=q(le);if(typeof Ye!="function")throw Error(n(150));if(le=Ye.call(le),le==null)throw Error(n(151));for(var rt=Ye=null,st=X,ht=X=0,or=null,Ut=le.next();st!==null&&!Ut.done;ht++,Ut=le.next()){st.index>ht?(or=st,st=null):or=st.sibling;var Ho=be(se,st,Ut.value,ke);if(Ho===null){st===null&&(st=or);break}l&&st&&Ho.alternate===null&&u(se,st),X=T(Ho,X,ht),rt===null?Ye=Ho:rt.sibling=Ho,rt=Ho,st=or}if(Ut.done)return p(se,st),pn&&cc(se,ht),Ye;if(st===null){for(;!Ut.done;ht++,Ut=le.next())Ut=Ne(se,Ut.value,ke),Ut!==null&&(X=T(Ut,X,ht),rt===null?Ye=Ut:rt.sibling=Ut,rt=Ut);return pn&&cc(se,ht),Ye}for(st=b(se,st);!Ut.done;ht++,Ut=le.next())Ut=Ue(st,se,ht,Ut.value,ke),Ut!==null&&(l&&Ut.alternate!==null&&st.delete(Ut.key===null?ht:Ut.key),X=T(Ut,X,ht),rt===null?Ye=Ut:rt.sibling=Ut,rt=Ut);return l&&st.forEach(function(TU){return u(se,TU)}),pn&&cc(se,ht),Ye}function Mn(se,X,le,ke){if(typeof le=="object"&&le!==null&&le.type===D&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case R:e:{for(var Ye=le.key,rt=X;rt!==null;){if(rt.key===Ye){if(Ye=le.type,Ye===D){if(rt.tag===7){p(se,rt.sibling),X=S(rt,le.props.children),X.return=se,se=X;break e}}else if(rt.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===he&&YS(Ye)===rt.type){p(se,rt.sibling),X=S(rt,le.props),X.ref=Wh(se,rt,le),X.return=se,se=X;break e}p(se,rt);break}else u(se,rt);rt=rt.sibling}le.type===D?(X=xc(le.props.children,se.mode,ke,le.key),X.return=se,se=X):(ke=ng(le.type,le.key,le.props,null,se.mode,ke),ke.ref=Wh(se,X,le),ke.return=se,se=ke)}return z(se);case F:e:{for(rt=le.key;X!==null;){if(X.key===rt)if(X.tag===4&&X.stateNode.containerInfo===le.containerInfo&&X.stateNode.implementation===le.implementation){p(se,X.sibling),X=S(X,le.children||[]),X.return=se,se=X;break e}else{p(se,X);break}else u(se,X);X=X.sibling}X=Dv(le,se.mode,ke),X.return=se,se=X}return z(se);case he:return rt=le._init,Mn(se,X,rt(le._payload),ke)}if(Xt(le))return We(se,X,le,ke);if(q(le))return Qe(se,X,le,ke);Rp(se,le)}return typeof le=="string"&&le!==""||typeof le=="number"?(le=""+le,X!==null&&X.tag===6?(p(se,X.sibling),X=S(X,le),X.return=se,se=X):(p(se,X),X=Pv(le,se.mode,ke),X.return=se,se=X),z(se)):p(se,X)}return Mn}var Lu=JS(!0),XS=JS(!1),Pp=Do(null),Dp=null,Fu=null,$0=null;function q0(){$0=Fu=Dp=null}function H0(l){var u=Pp.current;hn(Pp),l._currentValue=u}function W0(l,u,p){for(;l!==null;){var b=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,b!==null&&(b.childLanes|=u)):b!==null&&(b.childLanes&u)!==u&&(b.childLanes|=u),l===p)break;l=l.return}}function Vu(l,u){Dp=l,$0=Fu=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&u)!==0&&(ts=!0),l.firstContext=null)}function Bs(l){var u=l._currentValue;if($0!==l)if(l={context:l,memoizedValue:u,next:null},Fu===null){if(Dp===null)throw Error(n(308));Fu=l,Dp.dependencies={lanes:0,firstContext:l}}else Fu=Fu.next=l;return u}var uc=null;function K0(l){uc===null?uc=[l]:uc.push(l)}function ZS(l,u,p,b){var S=u.interleaved;return S===null?(p.next=p,K0(u)):(p.next=S.next,S.next=p),u.interleaved=p,Va(l,b)}function Va(l,u){l.lanes|=u;var p=l.alternate;for(p!==null&&(p.lanes|=u),p=l,l=l.return;l!==null;)l.childLanes|=u,p=l.alternate,p!==null&&(p.childLanes|=u),p=l,l=l.return;return p.tag===3?p.stateNode:null}var Lo=!1;function G0(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function eE(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function Ua(l,u){return{eventTime:l,lane:u,tag:0,payload:null,callback:null,next:null}}function Fo(l,u,p){var b=l.updateQueue;if(b===null)return null;if(b=b.shared,(Vt&2)!==0){var S=b.pending;return S===null?u.next=u:(u.next=S.next,S.next=u),b.pending=u,Va(l,p)}return S=b.interleaved,S===null?(u.next=u,K0(b)):(u.next=S.next,S.next=u),b.interleaved=u,Va(l,p)}function Mp(l,u,p){if(u=u.updateQueue,u!==null&&(u=u.shared,(p&4194240)!==0)){var b=u.lanes;b&=l.pendingLanes,p|=b,u.lanes=p,Ch(l,p)}}function tE(l,u){var p=l.updateQueue,b=l.alternate;if(b!==null&&(b=b.updateQueue,p===b)){var S=null,T=null;if(p=p.firstBaseUpdate,p!==null){do{var z={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};T===null?S=T=z:T=T.next=z,p=p.next}while(p!==null);T===null?S=T=u:T=T.next=u}else S=T=u;p={baseState:b.baseState,firstBaseUpdate:S,lastBaseUpdate:T,shared:b.shared,effects:b.effects},l.updateQueue=p;return}l=p.lastBaseUpdate,l===null?p.firstBaseUpdate=u:l.next=u,p.lastBaseUpdate=u}function Op(l,u,p,b){var S=l.updateQueue;Lo=!1;var T=S.firstBaseUpdate,z=S.lastBaseUpdate,K=S.shared.pending;if(K!==null){S.shared.pending=null;var J=K,ce=J.next;J.next=null,z===null?T=ce:z.next=ce,z=J;var we=l.alternate;we!==null&&(we=we.updateQueue,K=we.lastBaseUpdate,K!==z&&(K===null?we.firstBaseUpdate=ce:K.next=ce,we.lastBaseUpdate=J))}if(T!==null){var Ne=S.baseState;z=0,we=ce=J=null,K=T;do{var be=K.lane,Ue=K.eventTime;if((b&be)===be){we!==null&&(we=we.next={eventTime:Ue,lane:0,tag:K.tag,payload:K.payload,callback:K.callback,next:null});e:{var We=l,Qe=K;switch(be=u,Ue=p,Qe.tag){case 1:if(We=Qe.payload,typeof We=="function"){Ne=We.call(Ue,Ne,be);break e}Ne=We;break e;case 3:We.flags=We.flags&-65537|128;case 0:if(We=Qe.payload,be=typeof We=="function"?We.call(Ue,Ne,be):We,be==null)break e;Ne=B({},Ne,be);break e;case 2:Lo=!0}}K.callback!==null&&K.lane!==0&&(l.flags|=64,be=S.effects,be===null?S.effects=[K]:be.push(K))}else Ue={eventTime:Ue,lane:be,tag:K.tag,payload:K.payload,callback:K.callback,next:null},we===null?(ce=we=Ue,J=Ne):we=we.next=Ue,z|=be;if(K=K.next,K===null){if(K=S.shared.pending,K===null)break;be=K,K=be.next,be.next=null,S.lastBaseUpdate=be,S.shared.pending=null}}while(!0);if(we===null&&(J=Ne),S.baseState=J,S.firstBaseUpdate=ce,S.lastBaseUpdate=we,u=S.shared.interleaved,u!==null){S=u;do z|=S.lane,S=S.next;while(S!==u)}else T===null&&(S.shared.lanes=0);mc|=z,l.lanes=z,l.memoizedState=Ne}}function nE(l,u,p){if(l=u.effects,u.effects=null,l!==null)for(u=0;u<l.length;u++){var b=l[u],S=b.callback;if(S!==null){if(b.callback=null,b=p,typeof S!="function")throw Error(n(191,S));S.call(b)}}}var Kh={},Gi=Do(Kh),Gh=Do(Kh),Qh=Do(Kh);function dc(l){if(l===Kh)throw Error(n(174));return l}function Q0(l,u){switch(an(Qh,u),an(Gh,l),an(Gi,Kh),l=u.nodeType,l){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:Ie(null,"");break;default:l=l===8?u.parentNode:u,u=l.namespaceURI||null,l=l.tagName,u=Ie(u,l)}hn(Gi),an(Gi,u)}function Uu(){hn(Gi),hn(Gh),hn(Qh)}function rE(l){dc(Qh.current);var u=dc(Gi.current),p=Ie(u,l.type);u!==p&&(an(Gh,l),an(Gi,p))}function Y0(l){Gh.current===l&&(hn(Gi),hn(Gh))}var vn=Do(0);function Lp(l){for(var u=l;u!==null;){if(u.tag===13){var p=u.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var J0=[];function X0(){for(var l=0;l<J0.length;l++)J0[l]._workInProgressVersionPrimary=null;J0.length=0}var Fp=C.ReactCurrentDispatcher,Z0=C.ReactCurrentBatchConfig,hc=0,bn=null,Zn=null,ir=null,Vp=!1,Yh=!1,Jh=0,JV=0;function Cr(){throw Error(n(321))}function ev(l,u){if(u===null)return!1;for(var p=0;p<u.length&&p<l.length;p++)if(!di(l[p],u[p]))return!1;return!0}function tv(l,u,p,b,S,T){if(hc=T,bn=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Fp.current=l===null||l.memoizedState===null?tU:nU,l=p(b,S),Yh){T=0;do{if(Yh=!1,Jh=0,25<=T)throw Error(n(301));T+=1,ir=Zn=null,u.updateQueue=null,Fp.current=rU,l=p(b,S)}while(Yh)}if(Fp.current=Bp,u=Zn!==null&&Zn.next!==null,hc=0,ir=Zn=bn=null,Vp=!1,u)throw Error(n(300));return l}function nv(){var l=Jh!==0;return Jh=0,l}function Qi(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ir===null?bn.memoizedState=ir=l:ir=ir.next=l,ir}function $s(){if(Zn===null){var l=bn.alternate;l=l!==null?l.memoizedState:null}else l=Zn.next;var u=ir===null?bn.memoizedState:ir.next;if(u!==null)ir=u,Zn=l;else{if(l===null)throw Error(n(310));Zn=l,l={memoizedState:Zn.memoizedState,baseState:Zn.baseState,baseQueue:Zn.baseQueue,queue:Zn.queue,next:null},ir===null?bn.memoizedState=ir=l:ir=ir.next=l}return ir}function Xh(l,u){return typeof u=="function"?u(l):u}function rv(l){var u=$s(),p=u.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=l;var b=Zn,S=b.baseQueue,T=p.pending;if(T!==null){if(S!==null){var z=S.next;S.next=T.next,T.next=z}b.baseQueue=S=T,p.pending=null}if(S!==null){T=S.next,b=b.baseState;var K=z=null,J=null,ce=T;do{var we=ce.lane;if((hc&we)===we)J!==null&&(J=J.next={lane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),b=ce.hasEagerState?ce.eagerState:l(b,ce.action);else{var Ne={lane:we,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null};J===null?(K=J=Ne,z=b):J=J.next=Ne,bn.lanes|=we,mc|=we}ce=ce.next}while(ce!==null&&ce!==T);J===null?z=b:J.next=K,di(b,u.memoizedState)||(ts=!0),u.memoizedState=b,u.baseState=z,u.baseQueue=J,p.lastRenderedState=b}if(l=p.interleaved,l!==null){S=l;do T=S.lane,bn.lanes|=T,mc|=T,S=S.next;while(S!==l)}else S===null&&(p.lanes=0);return[u.memoizedState,p.dispatch]}function sv(l){var u=$s(),p=u.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=l;var b=p.dispatch,S=p.pending,T=u.memoizedState;if(S!==null){p.pending=null;var z=S=S.next;do T=l(T,z.action),z=z.next;while(z!==S);di(T,u.memoizedState)||(ts=!0),u.memoizedState=T,u.baseQueue===null&&(u.baseState=T),p.lastRenderedState=T}return[T,b]}function sE(){}function iE(l,u){var p=bn,b=$s(),S=u(),T=!di(b.memoizedState,S);if(T&&(b.memoizedState=S,ts=!0),b=b.queue,iv(lE.bind(null,p,b,l),[l]),b.getSnapshot!==u||T||ir!==null&&ir.memoizedState.tag&1){if(p.flags|=2048,Zh(9,oE.bind(null,p,b,S,u),void 0,null),ar===null)throw Error(n(349));(hc&30)!==0||aE(p,u,S)}return S}function aE(l,u,p){l.flags|=16384,l={getSnapshot:u,value:p},u=bn.updateQueue,u===null?(u={lastEffect:null,stores:null},bn.updateQueue=u,u.stores=[l]):(p=u.stores,p===null?u.stores=[l]:p.push(l))}function oE(l,u,p,b){u.value=p,u.getSnapshot=b,cE(u)&&uE(l)}function lE(l,u,p){return p(function(){cE(u)&&uE(l)})}function cE(l){var u=l.getSnapshot;l=l.value;try{var p=u();return!di(l,p)}catch{return!0}}function uE(l){var u=Va(l,1);u!==null&&gi(u,l,1,-1)}function dE(l){var u=Qi();return typeof l=="function"&&(l=l()),u.memoizedState=u.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xh,lastRenderedState:l},u.queue=l,l=l.dispatch=eU.bind(null,bn,l),[u.memoizedState,l]}function Zh(l,u,p,b){return l={tag:l,create:u,destroy:p,deps:b,next:null},u=bn.updateQueue,u===null?(u={lastEffect:null,stores:null},bn.updateQueue=u,u.lastEffect=l.next=l):(p=u.lastEffect,p===null?u.lastEffect=l.next=l:(b=p.next,p.next=l,l.next=b,u.lastEffect=l)),l}function hE(){return $s().memoizedState}function Up(l,u,p,b){var S=Qi();bn.flags|=l,S.memoizedState=Zh(1|u,p,void 0,b===void 0?null:b)}function zp(l,u,p,b){var S=$s();b=b===void 0?null:b;var T=void 0;if(Zn!==null){var z=Zn.memoizedState;if(T=z.destroy,b!==null&&ev(b,z.deps)){S.memoizedState=Zh(u,p,T,b);return}}bn.flags|=l,S.memoizedState=Zh(1|u,p,T,b)}function mE(l,u){return Up(8390656,8,l,u)}function iv(l,u){return zp(2048,8,l,u)}function fE(l,u){return zp(4,2,l,u)}function pE(l,u){return zp(4,4,l,u)}function gE(l,u){if(typeof u=="function")return l=l(),u(l),function(){u(null)};if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function xE(l,u,p){return p=p!=null?p.concat([l]):null,zp(4,4,gE.bind(null,u,l),p)}function av(){}function yE(l,u){var p=$s();u=u===void 0?null:u;var b=p.memoizedState;return b!==null&&u!==null&&ev(u,b[1])?b[0]:(p.memoizedState=[l,u],l)}function vE(l,u){var p=$s();u=u===void 0?null:u;var b=p.memoizedState;return b!==null&&u!==null&&ev(u,b[1])?b[0]:(l=l(),p.memoizedState=[l,u],l)}function bE(l,u,p){return(hc&21)===0?(l.baseState&&(l.baseState=!1,ts=!0),l.memoizedState=p):(di(p,u)||(p=Sh(),bn.lanes|=p,mc|=p,l.baseState=!0),u)}function XV(l,u){var p=Mt;Mt=p!==0&&4>p?p:4,l(!0);var b=Z0.transition;Z0.transition={};try{l(!1),u()}finally{Mt=p,Z0.transition=b}}function wE(){return $s().memoizedState}function ZV(l,u,p){var b=Bo(l);if(p={lane:b,action:p,hasEagerState:!1,eagerState:null,next:null},jE(l))_E(u,p);else if(p=ZS(l,u,p,b),p!==null){var S=zr();gi(p,l,b,S),NE(p,u,b)}}function eU(l,u,p){var b=Bo(l),S={lane:b,action:p,hasEagerState:!1,eagerState:null,next:null};if(jE(l))_E(u,S);else{var T=l.alternate;if(l.lanes===0&&(T===null||T.lanes===0)&&(T=u.lastRenderedReducer,T!==null))try{var z=u.lastRenderedState,K=T(z,p);if(S.hasEagerState=!0,S.eagerState=K,di(K,z)){var J=u.interleaved;J===null?(S.next=S,K0(u)):(S.next=J.next,J.next=S),u.interleaved=S;return}}catch{}finally{}p=ZS(l,u,S,b),p!==null&&(S=zr(),gi(p,l,b,S),NE(p,u,b))}}function jE(l){var u=l.alternate;return l===bn||u!==null&&u===bn}function _E(l,u){Yh=Vp=!0;var p=l.pending;p===null?u.next=u:(u.next=p.next,p.next=u),l.pending=u}function NE(l,u,p){if((p&4194240)!==0){var b=u.lanes;b&=l.pendingLanes,p|=b,u.lanes=p,Ch(l,p)}}var Bp={readContext:Bs,useCallback:Cr,useContext:Cr,useEffect:Cr,useImperativeHandle:Cr,useInsertionEffect:Cr,useLayoutEffect:Cr,useMemo:Cr,useReducer:Cr,useRef:Cr,useState:Cr,useDebugValue:Cr,useDeferredValue:Cr,useTransition:Cr,useMutableSource:Cr,useSyncExternalStore:Cr,useId:Cr,unstable_isNewReconciler:!1},tU={readContext:Bs,useCallback:function(l,u){return Qi().memoizedState=[l,u===void 0?null:u],l},useContext:Bs,useEffect:mE,useImperativeHandle:function(l,u,p){return p=p!=null?p.concat([l]):null,Up(4194308,4,gE.bind(null,u,l),p)},useLayoutEffect:function(l,u){return Up(4194308,4,l,u)},useInsertionEffect:function(l,u){return Up(4,2,l,u)},useMemo:function(l,u){var p=Qi();return u=u===void 0?null:u,l=l(),p.memoizedState=[l,u],l},useReducer:function(l,u,p){var b=Qi();return u=p!==void 0?p(u):u,b.memoizedState=b.baseState=u,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:u},b.queue=l,l=l.dispatch=ZV.bind(null,bn,l),[b.memoizedState,l]},useRef:function(l){var u=Qi();return l={current:l},u.memoizedState=l},useState:dE,useDebugValue:av,useDeferredValue:function(l){return Qi().memoizedState=l},useTransition:function(){var l=dE(!1),u=l[0];return l=XV.bind(null,l[1]),Qi().memoizedState=l,[u,l]},useMutableSource:function(){},useSyncExternalStore:function(l,u,p){var b=bn,S=Qi();if(pn){if(p===void 0)throw Error(n(407));p=p()}else{if(p=u(),ar===null)throw Error(n(349));(hc&30)!==0||aE(b,u,p)}S.memoizedState=p;var T={value:p,getSnapshot:u};return S.queue=T,mE(lE.bind(null,b,T,l),[l]),b.flags|=2048,Zh(9,oE.bind(null,b,T,p,u),void 0,null),p},useId:function(){var l=Qi(),u=ar.identifierPrefix;if(pn){var p=Fa,b=La;p=(b&~(1<<32-ws(b)-1)).toString(32)+p,u=":"+u+"R"+p,p=Jh++,0<p&&(u+="H"+p.toString(32)),u+=":"}else p=JV++,u=":"+u+"r"+p.toString(32)+":";return l.memoizedState=u},unstable_isNewReconciler:!1},nU={readContext:Bs,useCallback:yE,useContext:Bs,useEffect:iv,useImperativeHandle:xE,useInsertionEffect:fE,useLayoutEffect:pE,useMemo:vE,useReducer:rv,useRef:hE,useState:function(){return rv(Xh)},useDebugValue:av,useDeferredValue:function(l){var u=$s();return bE(u,Zn.memoizedState,l)},useTransition:function(){var l=rv(Xh)[0],u=$s().memoizedState;return[l,u]},useMutableSource:sE,useSyncExternalStore:iE,useId:wE,unstable_isNewReconciler:!1},rU={readContext:Bs,useCallback:yE,useContext:Bs,useEffect:iv,useImperativeHandle:xE,useInsertionEffect:fE,useLayoutEffect:pE,useMemo:vE,useReducer:sv,useRef:hE,useState:function(){return sv(Xh)},useDebugValue:av,useDeferredValue:function(l){var u=$s();return Zn===null?u.memoizedState=l:bE(u,Zn.memoizedState,l)},useTransition:function(){var l=sv(Xh)[0],u=$s().memoizedState;return[l,u]},useMutableSource:sE,useSyncExternalStore:iE,useId:wE,unstable_isNewReconciler:!1};function mi(l,u){if(l&&l.defaultProps){u=B({},u),l=l.defaultProps;for(var p in l)u[p]===void 0&&(u[p]=l[p]);return u}return u}function ov(l,u,p,b){u=l.memoizedState,p=p(b,u),p=p==null?u:B({},u,p),l.memoizedState=p,l.lanes===0&&(l.updateQueue.baseState=p)}var $p={isMounted:function(l){return(l=l._reactInternals)?Nr(l)===l:!1},enqueueSetState:function(l,u,p){l=l._reactInternals;var b=zr(),S=Bo(l),T=Ua(b,S);T.payload=u,p!=null&&(T.callback=p),u=Fo(l,T,S),u!==null&&(gi(u,l,S,b),Mp(u,l,S))},enqueueReplaceState:function(l,u,p){l=l._reactInternals;var b=zr(),S=Bo(l),T=Ua(b,S);T.tag=1,T.payload=u,p!=null&&(T.callback=p),u=Fo(l,T,S),u!==null&&(gi(u,l,S,b),Mp(u,l,S))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var p=zr(),b=Bo(l),S=Ua(p,b);S.tag=2,u!=null&&(S.callback=u),u=Fo(l,S,b),u!==null&&(gi(u,l,b,p),Mp(u,l,b))}};function SE(l,u,p,b,S,T,z){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(b,T,z):u.prototype&&u.prototype.isPureReactComponent?!Vh(p,b)||!Vh(S,T):!0}function EE(l,u,p){var b=!1,S=Mo,T=u.contextType;return typeof T=="object"&&T!==null?T=Bs(T):(S=es(u)?oc:Er.current,b=u.contextTypes,T=(b=b!=null)?Pu(l,S):Mo),u=new u(p,T),l.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=$p,l.stateNode=u,u._reactInternals=l,b&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=S,l.__reactInternalMemoizedMaskedChildContext=T),u}function CE(l,u,p,b){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(p,b),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(p,b),u.state!==l&&$p.enqueueReplaceState(u,u.state,null)}function lv(l,u,p,b){var S=l.stateNode;S.props=p,S.state=l.memoizedState,S.refs={},G0(l);var T=u.contextType;typeof T=="object"&&T!==null?S.context=Bs(T):(T=es(u)?oc:Er.current,S.context=Pu(l,T)),S.state=l.memoizedState,T=u.getDerivedStateFromProps,typeof T=="function"&&(ov(l,u,T,p),S.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(u=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),u!==S.state&&$p.enqueueReplaceState(S,S.state,null),Op(l,p,S,b),S.state=l.memoizedState),typeof S.componentDidMount=="function"&&(l.flags|=4194308)}function zu(l,u){try{var p="",b=u;do p+=je(b),b=b.return;while(b);var S=p}catch(T){S=`
Error generating stack: `+T.message+`
`+T.stack}return{value:l,source:u,stack:S,digest:null}}function cv(l,u,p){return{value:l,source:null,stack:p??null,digest:u??null}}function uv(l,u){try{console.error(u.value)}catch(p){setTimeout(function(){throw p})}}var sU=typeof WeakMap=="function"?WeakMap:Map;function kE(l,u,p){p=Ua(-1,p),p.tag=3,p.payload={element:null};var b=u.value;return p.callback=function(){Yp||(Yp=!0,Sv=b),uv(l,u)},p}function TE(l,u,p){p=Ua(-1,p),p.tag=3;var b=l.type.getDerivedStateFromError;if(typeof b=="function"){var S=u.value;p.payload=function(){return b(S)},p.callback=function(){uv(l,u)}}var T=l.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(p.callback=function(){uv(l,u),typeof b!="function"&&(Uo===null?Uo=new Set([this]):Uo.add(this));var z=u.stack;this.componentDidCatch(u.value,{componentStack:z!==null?z:""})}),p}function AE(l,u,p){var b=l.pingCache;if(b===null){b=l.pingCache=new sU;var S=new Set;b.set(u,S)}else S=b.get(u),S===void 0&&(S=new Set,b.set(u,S));S.has(p)||(S.add(p),l=yU.bind(null,l,u,p),u.then(l,l))}function IE(l){do{var u;if((u=l.tag===13)&&(u=l.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return l;l=l.return}while(l!==null);return null}function RE(l,u,p,b,S){return(l.mode&1)===0?(l===u?l.flags|=65536:(l.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(u=Ua(-1,1),u.tag=2,Fo(p,u,1))),p.lanes|=1),l):(l.flags|=65536,l.lanes=S,l)}var iU=C.ReactCurrentOwner,ts=!1;function Ur(l,u,p,b){u.child=l===null?XS(u,null,p,b):Lu(u,l.child,p,b)}function PE(l,u,p,b,S){p=p.render;var T=u.ref;return Vu(u,S),b=tv(l,u,p,b,T,S),p=nv(),l!==null&&!ts?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~S,za(l,u,S)):(pn&&p&&F0(u),u.flags|=1,Ur(l,u,b,S),u.child)}function DE(l,u,p,b,S){if(l===null){var T=p.type;return typeof T=="function"&&!Rv(T)&&T.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(u.tag=15,u.type=T,ME(l,u,T,b,S)):(l=ng(p.type,null,b,u,u.mode,S),l.ref=u.ref,l.return=u,u.child=l)}if(T=l.child,(l.lanes&S)===0){var z=T.memoizedProps;if(p=p.compare,p=p!==null?p:Vh,p(z,b)&&l.ref===u.ref)return za(l,u,S)}return u.flags|=1,l=qo(T,b),l.ref=u.ref,l.return=u,u.child=l}function ME(l,u,p,b,S){if(l!==null){var T=l.memoizedProps;if(Vh(T,b)&&l.ref===u.ref)if(ts=!1,u.pendingProps=b=T,(l.lanes&S)!==0)(l.flags&131072)!==0&&(ts=!0);else return u.lanes=l.lanes,za(l,u,S)}return dv(l,u,p,b,S)}function OE(l,u,p){var b=u.pendingProps,S=b.children,T=l!==null?l.memoizedState:null;if(b.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},an($u,ks),ks|=p;else{if((p&1073741824)===0)return l=T!==null?T.baseLanes|p:p,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:l,cachePool:null,transitions:null},u.updateQueue=null,an($u,ks),ks|=l,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},b=T!==null?T.baseLanes:p,an($u,ks),ks|=b}else T!==null?(b=T.baseLanes|p,u.memoizedState=null):b=p,an($u,ks),ks|=b;return Ur(l,u,S,p),u.child}function LE(l,u){var p=u.ref;(l===null&&p!==null||l!==null&&l.ref!==p)&&(u.flags|=512,u.flags|=2097152)}function dv(l,u,p,b,S){var T=es(p)?oc:Er.current;return T=Pu(u,T),Vu(u,S),p=tv(l,u,p,b,T,S),b=nv(),l!==null&&!ts?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~S,za(l,u,S)):(pn&&b&&F0(u),u.flags|=1,Ur(l,u,p,S),u.child)}function FE(l,u,p,b,S){if(es(p)){var T=!0;Cp(u)}else T=!1;if(Vu(u,S),u.stateNode===null)Hp(l,u),EE(u,p,b),lv(u,p,b,S),b=!0;else if(l===null){var z=u.stateNode,K=u.memoizedProps;z.props=K;var J=z.context,ce=p.contextType;typeof ce=="object"&&ce!==null?ce=Bs(ce):(ce=es(p)?oc:Er.current,ce=Pu(u,ce));var we=p.getDerivedStateFromProps,Ne=typeof we=="function"||typeof z.getSnapshotBeforeUpdate=="function";Ne||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(K!==b||J!==ce)&&CE(u,z,b,ce),Lo=!1;var be=u.memoizedState;z.state=be,Op(u,b,z,S),J=u.memoizedState,K!==b||be!==J||Zr.current||Lo?(typeof we=="function"&&(ov(u,p,we,b),J=u.memoizedState),(K=Lo||SE(u,p,K,b,be,J,ce))?(Ne||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount()),typeof z.componentDidMount=="function"&&(u.flags|=4194308)):(typeof z.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=b,u.memoizedState=J),z.props=b,z.state=J,z.context=ce,b=K):(typeof z.componentDidMount=="function"&&(u.flags|=4194308),b=!1)}else{z=u.stateNode,eE(l,u),K=u.memoizedProps,ce=u.type===u.elementType?K:mi(u.type,K),z.props=ce,Ne=u.pendingProps,be=z.context,J=p.contextType,typeof J=="object"&&J!==null?J=Bs(J):(J=es(p)?oc:Er.current,J=Pu(u,J));var Ue=p.getDerivedStateFromProps;(we=typeof Ue=="function"||typeof z.getSnapshotBeforeUpdate=="function")||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(K!==Ne||be!==J)&&CE(u,z,b,J),Lo=!1,be=u.memoizedState,z.state=be,Op(u,b,z,S);var We=u.memoizedState;K!==Ne||be!==We||Zr.current||Lo?(typeof Ue=="function"&&(ov(u,p,Ue,b),We=u.memoizedState),(ce=Lo||SE(u,p,ce,b,be,We,J)||!1)?(we||typeof z.UNSAFE_componentWillUpdate!="function"&&typeof z.componentWillUpdate!="function"||(typeof z.componentWillUpdate=="function"&&z.componentWillUpdate(b,We,J),typeof z.UNSAFE_componentWillUpdate=="function"&&z.UNSAFE_componentWillUpdate(b,We,J)),typeof z.componentDidUpdate=="function"&&(u.flags|=4),typeof z.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof z.componentDidUpdate!="function"||K===l.memoizedProps&&be===l.memoizedState||(u.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||K===l.memoizedProps&&be===l.memoizedState||(u.flags|=1024),u.memoizedProps=b,u.memoizedState=We),z.props=b,z.state=We,z.context=J,b=ce):(typeof z.componentDidUpdate!="function"||K===l.memoizedProps&&be===l.memoizedState||(u.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||K===l.memoizedProps&&be===l.memoizedState||(u.flags|=1024),b=!1)}return hv(l,u,p,b,T,S)}function hv(l,u,p,b,S,T){LE(l,u);var z=(u.flags&128)!==0;if(!b&&!z)return S&&$S(u,p,!1),za(l,u,T);b=u.stateNode,iU.current=u;var K=z&&typeof p.getDerivedStateFromError!="function"?null:b.render();return u.flags|=1,l!==null&&z?(u.child=Lu(u,l.child,null,T),u.child=Lu(u,null,K,T)):Ur(l,u,K,T),u.memoizedState=b.state,S&&$S(u,p,!0),u.child}function VE(l){var u=l.stateNode;u.pendingContext?zS(l,u.pendingContext,u.pendingContext!==u.context):u.context&&zS(l,u.context,!1),Q0(l,u.containerInfo)}function UE(l,u,p,b,S){return Ou(),B0(S),u.flags|=256,Ur(l,u,p,b),u.child}var mv={dehydrated:null,treeContext:null,retryLane:0};function fv(l){return{baseLanes:l,cachePool:null,transitions:null}}function zE(l,u,p){var b=u.pendingProps,S=vn.current,T=!1,z=(u.flags&128)!==0,K;if((K=z)||(K=l!==null&&l.memoizedState===null?!1:(S&2)!==0),K?(T=!0,u.flags&=-129):(l===null||l.memoizedState!==null)&&(S|=1),an(vn,S&1),l===null)return z0(u),l=u.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((u.mode&1)===0?u.lanes=1:l.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(z=b.children,l=b.fallback,T?(b=u.mode,T=u.child,z={mode:"hidden",children:z},(b&1)===0&&T!==null?(T.childLanes=0,T.pendingProps=z):T=rg(z,b,0,null),l=xc(l,b,p,null),T.return=u,l.return=u,T.sibling=l,u.child=T,u.child.memoizedState=fv(p),u.memoizedState=mv,l):pv(u,z));if(S=l.memoizedState,S!==null&&(K=S.dehydrated,K!==null))return aU(l,u,z,b,K,S,p);if(T){T=b.fallback,z=u.mode,S=l.child,K=S.sibling;var J={mode:"hidden",children:b.children};return(z&1)===0&&u.child!==S?(b=u.child,b.childLanes=0,b.pendingProps=J,u.deletions=null):(b=qo(S,J),b.subtreeFlags=S.subtreeFlags&14680064),K!==null?T=qo(K,T):(T=xc(T,z,p,null),T.flags|=2),T.return=u,b.return=u,b.sibling=T,u.child=b,b=T,T=u.child,z=l.child.memoizedState,z=z===null?fv(p):{baseLanes:z.baseLanes|p,cachePool:null,transitions:z.transitions},T.memoizedState=z,T.childLanes=l.childLanes&~p,u.memoizedState=mv,b}return T=l.child,l=T.sibling,b=qo(T,{mode:"visible",children:b.children}),(u.mode&1)===0&&(b.lanes=p),b.return=u,b.sibling=null,l!==null&&(p=u.deletions,p===null?(u.deletions=[l],u.flags|=16):p.push(l)),u.child=b,u.memoizedState=null,b}function pv(l,u){return u=rg({mode:"visible",children:u},l.mode,0,null),u.return=l,l.child=u}function qp(l,u,p,b){return b!==null&&B0(b),Lu(u,l.child,null,p),l=pv(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function aU(l,u,p,b,S,T,z){if(p)return u.flags&256?(u.flags&=-257,b=cv(Error(n(422))),qp(l,u,z,b)):u.memoizedState!==null?(u.child=l.child,u.flags|=128,null):(T=b.fallback,S=u.mode,b=rg({mode:"visible",children:b.children},S,0,null),T=xc(T,S,z,null),T.flags|=2,b.return=u,T.return=u,b.sibling=T,u.child=b,(u.mode&1)!==0&&Lu(u,l.child,null,z),u.child.memoizedState=fv(z),u.memoizedState=mv,T);if((u.mode&1)===0)return qp(l,u,z,null);if(S.data==="$!"){if(b=S.nextSibling&&S.nextSibling.dataset,b)var K=b.dgst;return b=K,T=Error(n(419)),b=cv(T,b,void 0),qp(l,u,z,b)}if(K=(z&l.childLanes)!==0,ts||K){if(b=ar,b!==null){switch(z&-z){case 4:S=2;break;case 16:S=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:S=32;break;case 536870912:S=268435456;break;default:S=0}S=(S&(b.suspendedLanes|z))!==0?0:S,S!==0&&S!==T.retryLane&&(T.retryLane=S,Va(l,S),gi(b,l,S,-1))}return Iv(),b=cv(Error(n(421))),qp(l,u,z,b)}return S.data==="$?"?(u.flags|=128,u.child=l.child,u=vU.bind(null,l),S._reactRetry=u,null):(l=T.treeContext,Cs=Po(S.nextSibling),Es=u,pn=!0,hi=null,l!==null&&(Us[zs++]=La,Us[zs++]=Fa,Us[zs++]=lc,La=l.id,Fa=l.overflow,lc=u),u=pv(u,b.children),u.flags|=4096,u)}function BE(l,u,p){l.lanes|=u;var b=l.alternate;b!==null&&(b.lanes|=u),W0(l.return,u,p)}function gv(l,u,p,b,S){var T=l.memoizedState;T===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:b,tail:p,tailMode:S}:(T.isBackwards=u,T.rendering=null,T.renderingStartTime=0,T.last=b,T.tail=p,T.tailMode=S)}function $E(l,u,p){var b=u.pendingProps,S=b.revealOrder,T=b.tail;if(Ur(l,u,b.children,p),b=vn.current,(b&2)!==0)b=b&1|2,u.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&BE(l,p,u);else if(l.tag===19)BE(l,p,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}b&=1}if(an(vn,b),(u.mode&1)===0)u.memoizedState=null;else switch(S){case"forwards":for(p=u.child,S=null;p!==null;)l=p.alternate,l!==null&&Lp(l)===null&&(S=p),p=p.sibling;p=S,p===null?(S=u.child,u.child=null):(S=p.sibling,p.sibling=null),gv(u,!1,S,p,T);break;case"backwards":for(p=null,S=u.child,u.child=null;S!==null;){if(l=S.alternate,l!==null&&Lp(l)===null){u.child=S;break}l=S.sibling,S.sibling=p,p=S,S=l}gv(u,!0,p,null,T);break;case"together":gv(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Hp(l,u){(u.mode&1)===0&&l!==null&&(l.alternate=null,u.alternate=null,u.flags|=2)}function za(l,u,p){if(l!==null&&(u.dependencies=l.dependencies),mc|=u.lanes,(p&u.childLanes)===0)return null;if(l!==null&&u.child!==l.child)throw Error(n(153));if(u.child!==null){for(l=u.child,p=qo(l,l.pendingProps),u.child=p,p.return=u;l.sibling!==null;)l=l.sibling,p=p.sibling=qo(l,l.pendingProps),p.return=u;p.sibling=null}return u.child}function oU(l,u,p){switch(u.tag){case 3:VE(u),Ou();break;case 5:rE(u);break;case 1:es(u.type)&&Cp(u);break;case 4:Q0(u,u.stateNode.containerInfo);break;case 10:var b=u.type._context,S=u.memoizedProps.value;an(Pp,b._currentValue),b._currentValue=S;break;case 13:if(b=u.memoizedState,b!==null)return b.dehydrated!==null?(an(vn,vn.current&1),u.flags|=128,null):(p&u.child.childLanes)!==0?zE(l,u,p):(an(vn,vn.current&1),l=za(l,u,p),l!==null?l.sibling:null);an(vn,vn.current&1);break;case 19:if(b=(p&u.childLanes)!==0,(l.flags&128)!==0){if(b)return $E(l,u,p);u.flags|=128}if(S=u.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),an(vn,vn.current),b)break;return null;case 22:case 23:return u.lanes=0,OE(l,u,p)}return za(l,u,p)}var qE,xv,HE,WE;qE=function(l,u){for(var p=u.child;p!==null;){if(p.tag===5||p.tag===6)l.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===u)break;for(;p.sibling===null;){if(p.return===null||p.return===u)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},xv=function(){},HE=function(l,u,p,b){var S=l.memoizedProps;if(S!==b){l=u.stateNode,dc(Gi.current);var T=null;switch(p){case"input":S=Cn(l,S),b=Cn(l,b),T=[];break;case"select":S=B({},S,{value:void 0}),b=B({},b,{value:void 0}),T=[];break;case"textarea":S=Ea(l,S),b=Ea(l,b),T=[];break;default:typeof S.onClick!="function"&&typeof b.onClick=="function"&&(l.onclick=Np)}gt(p,b);var z;p=null;for(ce in S)if(!b.hasOwnProperty(ce)&&S.hasOwnProperty(ce)&&S[ce]!=null)if(ce==="style"){var K=S[ce];for(z in K)K.hasOwnProperty(z)&&(p||(p={}),p[z]="")}else ce!=="dangerouslySetInnerHTML"&&ce!=="children"&&ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&ce!=="autoFocus"&&(i.hasOwnProperty(ce)?T||(T=[]):(T=T||[]).push(ce,null));for(ce in b){var J=b[ce];if(K=S!=null?S[ce]:void 0,b.hasOwnProperty(ce)&&J!==K&&(J!=null||K!=null))if(ce==="style")if(K){for(z in K)!K.hasOwnProperty(z)||J&&J.hasOwnProperty(z)||(p||(p={}),p[z]="");for(z in J)J.hasOwnProperty(z)&&K[z]!==J[z]&&(p||(p={}),p[z]=J[z])}else p||(T||(T=[]),T.push(ce,p)),p=J;else ce==="dangerouslySetInnerHTML"?(J=J?J.__html:void 0,K=K?K.__html:void 0,J!=null&&K!==J&&(T=T||[]).push(ce,J)):ce==="children"?typeof J!="string"&&typeof J!="number"||(T=T||[]).push(ce,""+J):ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&(i.hasOwnProperty(ce)?(J!=null&&ce==="onScroll"&&dn("scroll",l),T||K===J||(T=[])):(T=T||[]).push(ce,J))}p&&(T=T||[]).push("style",p);var ce=T;(u.updateQueue=ce)&&(u.flags|=4)}},WE=function(l,u,p,b){p!==b&&(u.flags|=4)};function em(l,u){if(!pn)switch(l.tailMode){case"hidden":u=l.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?l.tail=null:p.sibling=null;break;case"collapsed":p=l.tail;for(var b=null;p!==null;)p.alternate!==null&&(b=p),p=p.sibling;b===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:b.sibling=null}}function kr(l){var u=l.alternate!==null&&l.alternate.child===l.child,p=0,b=0;if(u)for(var S=l.child;S!==null;)p|=S.lanes|S.childLanes,b|=S.subtreeFlags&14680064,b|=S.flags&14680064,S.return=l,S=S.sibling;else for(S=l.child;S!==null;)p|=S.lanes|S.childLanes,b|=S.subtreeFlags,b|=S.flags,S.return=l,S=S.sibling;return l.subtreeFlags|=b,l.childLanes=p,u}function lU(l,u,p){var b=u.pendingProps;switch(V0(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kr(u),null;case 1:return es(u.type)&&Ep(),kr(u),null;case 3:return b=u.stateNode,Uu(),hn(Zr),hn(Er),X0(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(l===null||l.child===null)&&(Ip(u)?u.flags|=4:l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,hi!==null&&(kv(hi),hi=null))),xv(l,u),kr(u),null;case 5:Y0(u);var S=dc(Qh.current);if(p=u.type,l!==null&&u.stateNode!=null)HE(l,u,p,b,S),l.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!b){if(u.stateNode===null)throw Error(n(166));return kr(u),null}if(l=dc(Gi.current),Ip(u)){b=u.stateNode,p=u.type;var T=u.memoizedProps;switch(b[Ki]=u,b[qh]=T,l=(u.mode&1)!==0,p){case"dialog":dn("cancel",b),dn("close",b);break;case"iframe":case"object":case"embed":dn("load",b);break;case"video":case"audio":for(S=0;S<zh.length;S++)dn(zh[S],b);break;case"source":dn("error",b);break;case"img":case"image":case"link":dn("error",b),dn("load",b);break;case"details":dn("toggle",b);break;case"input":wr(b,T),dn("invalid",b);break;case"select":b._wrapperState={wasMultiple:!!T.multiple},dn("invalid",b);break;case"textarea":Ii(b,T),dn("invalid",b)}gt(p,T),S=null;for(var z in T)if(T.hasOwnProperty(z)){var K=T[z];z==="children"?typeof K=="string"?b.textContent!==K&&(T.suppressHydrationWarning!==!0&&_p(b.textContent,K,l),S=["children",K]):typeof K=="number"&&b.textContent!==""+K&&(T.suppressHydrationWarning!==!0&&_p(b.textContent,K,l),S=["children",""+K]):i.hasOwnProperty(z)&&K!=null&&z==="onScroll"&&dn("scroll",b)}switch(p){case"input":qe(b),xs(b,T,!0);break;case"textarea":qe(b),Fs(b);break;case"select":case"option":break;default:typeof T.onClick=="function"&&(b.onclick=Np)}b=S,u.updateQueue=b,b!==null&&(u.flags|=4)}else{z=S.nodeType===9?S:S.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=fe(p)),l==="http://www.w3.org/1999/xhtml"?p==="script"?(l=z.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof b.is=="string"?l=z.createElement(p,{is:b.is}):(l=z.createElement(p),p==="select"&&(z=l,b.multiple?z.multiple=!0:b.size&&(z.size=b.size))):l=z.createElementNS(l,p),l[Ki]=u,l[qh]=b,qE(l,u,!1,!1),u.stateNode=l;e:{switch(z=ut(p,b),p){case"dialog":dn("cancel",l),dn("close",l),S=b;break;case"iframe":case"object":case"embed":dn("load",l),S=b;break;case"video":case"audio":for(S=0;S<zh.length;S++)dn(zh[S],l);S=b;break;case"source":dn("error",l),S=b;break;case"img":case"image":case"link":dn("error",l),dn("load",l),S=b;break;case"details":dn("toggle",l),S=b;break;case"input":wr(l,b),S=Cn(l,b),dn("invalid",l);break;case"option":S=b;break;case"select":l._wrapperState={wasMultiple:!!b.multiple},S=B({},b,{value:void 0}),dn("invalid",l);break;case"textarea":Ii(l,b),S=Ea(l,b),dn("invalid",l);break;default:S=b}gt(p,S),K=S;for(T in K)if(K.hasOwnProperty(T)){var J=K[T];T==="style"?et(l,J):T==="dangerouslySetInnerHTML"?(J=J?J.__html:void 0,J!=null&&bt(l,J)):T==="children"?typeof J=="string"?(p!=="textarea"||J!=="")&&kt(l,J):typeof J=="number"&&kt(l,""+J):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(i.hasOwnProperty(T)?J!=null&&T==="onScroll"&&dn("scroll",l):J!=null&&k(l,T,J,z))}switch(p){case"input":qe(l),xs(l,b,!1);break;case"textarea":qe(l),Fs(l);break;case"option":b.value!=null&&l.setAttribute("value",""+Se(b.value));break;case"select":l.multiple=!!b.multiple,T=b.value,T!=null?Or(l,!!b.multiple,T,!1):b.defaultValue!=null&&Or(l,!!b.multiple,b.defaultValue,!0);break;default:typeof S.onClick=="function"&&(l.onclick=Np)}switch(p){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}}b&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return kr(u),null;case 6:if(l&&u.stateNode!=null)WE(l,u,l.memoizedProps,b);else{if(typeof b!="string"&&u.stateNode===null)throw Error(n(166));if(p=dc(Qh.current),dc(Gi.current),Ip(u)){if(b=u.stateNode,p=u.memoizedProps,b[Ki]=u,(T=b.nodeValue!==p)&&(l=Es,l!==null))switch(l.tag){case 3:_p(b.nodeValue,p,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&_p(b.nodeValue,p,(l.mode&1)!==0)}T&&(u.flags|=4)}else b=(p.nodeType===9?p:p.ownerDocument).createTextNode(b),b[Ki]=u,u.stateNode=b}return kr(u),null;case 13:if(hn(vn),b=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(pn&&Cs!==null&&(u.mode&1)!==0&&(u.flags&128)===0)QS(),Ou(),u.flags|=98560,T=!1;else if(T=Ip(u),b!==null&&b.dehydrated!==null){if(l===null){if(!T)throw Error(n(318));if(T=u.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(n(317));T[Ki]=u}else Ou(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;kr(u),T=!1}else hi!==null&&(kv(hi),hi=null),T=!0;if(!T)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=p,u):(b=b!==null,b!==(l!==null&&l.memoizedState!==null)&&b&&(u.child.flags|=8192,(u.mode&1)!==0&&(l===null||(vn.current&1)!==0?er===0&&(er=3):Iv())),u.updateQueue!==null&&(u.flags|=4),kr(u),null);case 4:return Uu(),xv(l,u),l===null&&Bh(u.stateNode.containerInfo),kr(u),null;case 10:return H0(u.type._context),kr(u),null;case 17:return es(u.type)&&Ep(),kr(u),null;case 19:if(hn(vn),T=u.memoizedState,T===null)return kr(u),null;if(b=(u.flags&128)!==0,z=T.rendering,z===null)if(b)em(T,!1);else{if(er!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if(z=Lp(l),z!==null){for(u.flags|=128,em(T,!1),b=z.updateQueue,b!==null&&(u.updateQueue=b,u.flags|=4),u.subtreeFlags=0,b=p,p=u.child;p!==null;)T=p,l=b,T.flags&=14680066,z=T.alternate,z===null?(T.childLanes=0,T.lanes=l,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=z.childLanes,T.lanes=z.lanes,T.child=z.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=z.memoizedProps,T.memoizedState=z.memoizedState,T.updateQueue=z.updateQueue,T.type=z.type,l=z.dependencies,T.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),p=p.sibling;return an(vn,vn.current&1|2),u.child}l=l.sibling}T.tail!==null&&un()>qu&&(u.flags|=128,b=!0,em(T,!1),u.lanes=4194304)}else{if(!b)if(l=Lp(z),l!==null){if(u.flags|=128,b=!0,p=l.updateQueue,p!==null&&(u.updateQueue=p,u.flags|=4),em(T,!0),T.tail===null&&T.tailMode==="hidden"&&!z.alternate&&!pn)return kr(u),null}else 2*un()-T.renderingStartTime>qu&&p!==1073741824&&(u.flags|=128,b=!0,em(T,!1),u.lanes=4194304);T.isBackwards?(z.sibling=u.child,u.child=z):(p=T.last,p!==null?p.sibling=z:u.child=z,T.last=z)}return T.tail!==null?(u=T.tail,T.rendering=u,T.tail=u.sibling,T.renderingStartTime=un(),u.sibling=null,p=vn.current,an(vn,b?p&1|2:p&1),u):(kr(u),null);case 22:case 23:return Av(),b=u.memoizedState!==null,l!==null&&l.memoizedState!==null!==b&&(u.flags|=8192),b&&(u.mode&1)!==0?(ks&1073741824)!==0&&(kr(u),u.subtreeFlags&6&&(u.flags|=8192)):kr(u),null;case 24:return null;case 25:return null}throw Error(n(156,u.tag))}function cU(l,u){switch(V0(u),u.tag){case 1:return es(u.type)&&Ep(),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return Uu(),hn(Zr),hn(Er),X0(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 5:return Y0(u),null;case 13:if(hn(vn),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(n(340));Ou()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return hn(vn),null;case 4:return Uu(),null;case 10:return H0(u.type._context),null;case 22:case 23:return Av(),null;case 24:return null;default:return null}}var Wp=!1,Tr=!1,uU=typeof WeakSet=="function"?WeakSet:Set,$e=null;function Bu(l,u){var p=l.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(b){kn(l,u,b)}else p.current=null}function yv(l,u,p){try{p()}catch(b){kn(l,u,b)}}var KE=!1;function dU(l,u){if(A0=Ra,l=SS(),j0(l)){if("selectionStart"in l)var p={start:l.selectionStart,end:l.selectionEnd};else e:{p=(p=l.ownerDocument)&&p.defaultView||window;var b=p.getSelection&&p.getSelection();if(b&&b.rangeCount!==0){p=b.anchorNode;var S=b.anchorOffset,T=b.focusNode;b=b.focusOffset;try{p.nodeType,T.nodeType}catch{p=null;break e}var z=0,K=-1,J=-1,ce=0,we=0,Ne=l,be=null;t:for(;;){for(var Ue;Ne!==p||S!==0&&Ne.nodeType!==3||(K=z+S),Ne!==T||b!==0&&Ne.nodeType!==3||(J=z+b),Ne.nodeType===3&&(z+=Ne.nodeValue.length),(Ue=Ne.firstChild)!==null;)be=Ne,Ne=Ue;for(;;){if(Ne===l)break t;if(be===p&&++ce===S&&(K=z),be===T&&++we===b&&(J=z),(Ue=Ne.nextSibling)!==null)break;Ne=be,be=Ne.parentNode}Ne=Ue}p=K===-1||J===-1?null:{start:K,end:J}}else p=null}p=p||{start:0,end:0}}else p=null;for(I0={focusedElem:l,selectionRange:p},Ra=!1,$e=u;$e!==null;)if(u=$e,l=u.child,(u.subtreeFlags&1028)!==0&&l!==null)l.return=u,$e=l;else for(;$e!==null;){u=$e;try{var We=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(We!==null){var Qe=We.memoizedProps,Mn=We.memoizedState,se=u.stateNode,X=se.getSnapshotBeforeUpdate(u.elementType===u.type?Qe:mi(u.type,Qe),Mn);se.__reactInternalSnapshotBeforeUpdate=X}break;case 3:var le=u.stateNode.containerInfo;le.nodeType===1?le.textContent="":le.nodeType===9&&le.documentElement&&le.removeChild(le.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ke){kn(u,u.return,ke)}if(l=u.sibling,l!==null){l.return=u.return,$e=l;break}$e=u.return}return We=KE,KE=!1,We}function tm(l,u,p){var b=u.updateQueue;if(b=b!==null?b.lastEffect:null,b!==null){var S=b=b.next;do{if((S.tag&l)===l){var T=S.destroy;S.destroy=void 0,T!==void 0&&yv(u,p,T)}S=S.next}while(S!==b)}}function Kp(l,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var p=u=u.next;do{if((p.tag&l)===l){var b=p.create;p.destroy=b()}p=p.next}while(p!==u)}}function vv(l){var u=l.ref;if(u!==null){var p=l.stateNode;switch(l.tag){case 5:l=p;break;default:l=p}typeof u=="function"?u(l):u.current=l}}function GE(l){var u=l.alternate;u!==null&&(l.alternate=null,GE(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&(delete u[Ki],delete u[qh],delete u[M0],delete u[KV],delete u[GV])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function QE(l){return l.tag===5||l.tag===3||l.tag===4}function YE(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||QE(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function bv(l,u,p){var b=l.tag;if(b===5||b===6)l=l.stateNode,u?p.nodeType===8?p.parentNode.insertBefore(l,u):p.insertBefore(l,u):(p.nodeType===8?(u=p.parentNode,u.insertBefore(l,p)):(u=p,u.appendChild(l)),p=p._reactRootContainer,p!=null||u.onclick!==null||(u.onclick=Np));else if(b!==4&&(l=l.child,l!==null))for(bv(l,u,p),l=l.sibling;l!==null;)bv(l,u,p),l=l.sibling}function wv(l,u,p){var b=l.tag;if(b===5||b===6)l=l.stateNode,u?p.insertBefore(l,u):p.appendChild(l);else if(b!==4&&(l=l.child,l!==null))for(wv(l,u,p),l=l.sibling;l!==null;)wv(l,u,p),l=l.sibling}var pr=null,fi=!1;function Vo(l,u,p){for(p=p.child;p!==null;)JE(l,u,p),p=p.sibling}function JE(l,u,p){if(bs&&typeof bs.onCommitFiberUnmount=="function")try{bs.onCommitFiberUnmount(Jl,p)}catch{}switch(p.tag){case 5:Tr||Bu(p,u);case 6:var b=pr,S=fi;pr=null,Vo(l,u,p),pr=b,fi=S,pr!==null&&(fi?(l=pr,p=p.stateNode,l.nodeType===8?l.parentNode.removeChild(p):l.removeChild(p)):pr.removeChild(p.stateNode));break;case 18:pr!==null&&(fi?(l=pr,p=p.stateNode,l.nodeType===8?D0(l.parentNode,p):l.nodeType===1&&D0(l,p),To(l)):D0(pr,p.stateNode));break;case 4:b=pr,S=fi,pr=p.stateNode.containerInfo,fi=!0,Vo(l,u,p),pr=b,fi=S;break;case 0:case 11:case 14:case 15:if(!Tr&&(b=p.updateQueue,b!==null&&(b=b.lastEffect,b!==null))){S=b=b.next;do{var T=S,z=T.destroy;T=T.tag,z!==void 0&&((T&2)!==0||(T&4)!==0)&&yv(p,u,z),S=S.next}while(S!==b)}Vo(l,u,p);break;case 1:if(!Tr&&(Bu(p,u),b=p.stateNode,typeof b.componentWillUnmount=="function"))try{b.props=p.memoizedProps,b.state=p.memoizedState,b.componentWillUnmount()}catch(K){kn(p,u,K)}Vo(l,u,p);break;case 21:Vo(l,u,p);break;case 22:p.mode&1?(Tr=(b=Tr)||p.memoizedState!==null,Vo(l,u,p),Tr=b):Vo(l,u,p);break;default:Vo(l,u,p)}}function XE(l){var u=l.updateQueue;if(u!==null){l.updateQueue=null;var p=l.stateNode;p===null&&(p=l.stateNode=new uU),u.forEach(function(b){var S=bU.bind(null,l,b);p.has(b)||(p.add(b),b.then(S,S))})}}function pi(l,u){var p=u.deletions;if(p!==null)for(var b=0;b<p.length;b++){var S=p[b];try{var T=l,z=u,K=z;e:for(;K!==null;){switch(K.tag){case 5:pr=K.stateNode,fi=!1;break e;case 3:pr=K.stateNode.containerInfo,fi=!0;break e;case 4:pr=K.stateNode.containerInfo,fi=!0;break e}K=K.return}if(pr===null)throw Error(n(160));JE(T,z,S),pr=null,fi=!1;var J=S.alternate;J!==null&&(J.return=null),S.return=null}catch(ce){kn(S,u,ce)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)ZE(u,l),u=u.sibling}function ZE(l,u){var p=l.alternate,b=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(pi(u,l),Yi(l),b&4){try{tm(3,l,l.return),Kp(3,l)}catch(Qe){kn(l,l.return,Qe)}try{tm(5,l,l.return)}catch(Qe){kn(l,l.return,Qe)}}break;case 1:pi(u,l),Yi(l),b&512&&p!==null&&Bu(p,p.return);break;case 5:if(pi(u,l),Yi(l),b&512&&p!==null&&Bu(p,p.return),l.flags&32){var S=l.stateNode;try{kt(S,"")}catch(Qe){kn(l,l.return,Qe)}}if(b&4&&(S=l.stateNode,S!=null)){var T=l.memoizedProps,z=p!==null?p.memoizedProps:T,K=l.type,J=l.updateQueue;if(l.updateQueue=null,J!==null)try{K==="input"&&T.type==="radio"&&T.name!=null&&Bn(S,T),ut(K,z);var ce=ut(K,T);for(z=0;z<J.length;z+=2){var we=J[z],Ne=J[z+1];we==="style"?et(S,Ne):we==="dangerouslySetInnerHTML"?bt(S,Ne):we==="children"?kt(S,Ne):k(S,we,Ne,ce)}switch(K){case"input":Jn(S,T);break;case"textarea":Ri(S,T);break;case"select":var be=S._wrapperState.wasMultiple;S._wrapperState.wasMultiple=!!T.multiple;var Ue=T.value;Ue!=null?Or(S,!!T.multiple,Ue,!1):be!==!!T.multiple&&(T.defaultValue!=null?Or(S,!!T.multiple,T.defaultValue,!0):Or(S,!!T.multiple,T.multiple?[]:"",!1))}S[qh]=T}catch(Qe){kn(l,l.return,Qe)}}break;case 6:if(pi(u,l),Yi(l),b&4){if(l.stateNode===null)throw Error(n(162));S=l.stateNode,T=l.memoizedProps;try{S.nodeValue=T}catch(Qe){kn(l,l.return,Qe)}}break;case 3:if(pi(u,l),Yi(l),b&4&&p!==null&&p.memoizedState.isDehydrated)try{To(u.containerInfo)}catch(Qe){kn(l,l.return,Qe)}break;case 4:pi(u,l),Yi(l);break;case 13:pi(u,l),Yi(l),S=l.child,S.flags&8192&&(T=S.memoizedState!==null,S.stateNode.isHidden=T,!T||S.alternate!==null&&S.alternate.memoizedState!==null||(Nv=un())),b&4&&XE(l);break;case 22:if(we=p!==null&&p.memoizedState!==null,l.mode&1?(Tr=(ce=Tr)||we,pi(u,l),Tr=ce):pi(u,l),Yi(l),b&8192){if(ce=l.memoizedState!==null,(l.stateNode.isHidden=ce)&&!we&&(l.mode&1)!==0)for($e=l,we=l.child;we!==null;){for(Ne=$e=we;$e!==null;){switch(be=$e,Ue=be.child,be.tag){case 0:case 11:case 14:case 15:tm(4,be,be.return);break;case 1:Bu(be,be.return);var We=be.stateNode;if(typeof We.componentWillUnmount=="function"){b=be,p=be.return;try{u=b,We.props=u.memoizedProps,We.state=u.memoizedState,We.componentWillUnmount()}catch(Qe){kn(b,p,Qe)}}break;case 5:Bu(be,be.return);break;case 22:if(be.memoizedState!==null){nC(Ne);continue}}Ue!==null?(Ue.return=be,$e=Ue):nC(Ne)}we=we.sibling}e:for(we=null,Ne=l;;){if(Ne.tag===5){if(we===null){we=Ne;try{S=Ne.stateNode,ce?(T=S.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none"):(K=Ne.stateNode,J=Ne.memoizedProps.style,z=J!=null&&J.hasOwnProperty("display")?J.display:null,K.style.display=He("display",z))}catch(Qe){kn(l,l.return,Qe)}}}else if(Ne.tag===6){if(we===null)try{Ne.stateNode.nodeValue=ce?"":Ne.memoizedProps}catch(Qe){kn(l,l.return,Qe)}}else if((Ne.tag!==22&&Ne.tag!==23||Ne.memoizedState===null||Ne===l)&&Ne.child!==null){Ne.child.return=Ne,Ne=Ne.child;continue}if(Ne===l)break e;for(;Ne.sibling===null;){if(Ne.return===null||Ne.return===l)break e;we===Ne&&(we=null),Ne=Ne.return}we===Ne&&(we=null),Ne.sibling.return=Ne.return,Ne=Ne.sibling}}break;case 19:pi(u,l),Yi(l),b&4&&XE(l);break;case 21:break;default:pi(u,l),Yi(l)}}function Yi(l){var u=l.flags;if(u&2){try{e:{for(var p=l.return;p!==null;){if(QE(p)){var b=p;break e}p=p.return}throw Error(n(160))}switch(b.tag){case 5:var S=b.stateNode;b.flags&32&&(kt(S,""),b.flags&=-33);var T=YE(l);wv(l,T,S);break;case 3:case 4:var z=b.stateNode.containerInfo,K=YE(l);bv(l,K,z);break;default:throw Error(n(161))}}catch(J){kn(l,l.return,J)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function hU(l,u,p){$e=l,eC(l)}function eC(l,u,p){for(var b=(l.mode&1)!==0;$e!==null;){var S=$e,T=S.child;if(S.tag===22&&b){var z=S.memoizedState!==null||Wp;if(!z){var K=S.alternate,J=K!==null&&K.memoizedState!==null||Tr;K=Wp;var ce=Tr;if(Wp=z,(Tr=J)&&!ce)for($e=S;$e!==null;)z=$e,J=z.child,z.tag===22&&z.memoizedState!==null?rC(S):J!==null?(J.return=z,$e=J):rC(S);for(;T!==null;)$e=T,eC(T),T=T.sibling;$e=S,Wp=K,Tr=ce}tC(l)}else(S.subtreeFlags&8772)!==0&&T!==null?(T.return=S,$e=T):tC(l)}}function tC(l){for(;$e!==null;){var u=$e;if((u.flags&8772)!==0){var p=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:Tr||Kp(5,u);break;case 1:var b=u.stateNode;if(u.flags&4&&!Tr)if(p===null)b.componentDidMount();else{var S=u.elementType===u.type?p.memoizedProps:mi(u.type,p.memoizedProps);b.componentDidUpdate(S,p.memoizedState,b.__reactInternalSnapshotBeforeUpdate)}var T=u.updateQueue;T!==null&&nE(u,T,b);break;case 3:var z=u.updateQueue;if(z!==null){if(p=null,u.child!==null)switch(u.child.tag){case 5:p=u.child.stateNode;break;case 1:p=u.child.stateNode}nE(u,z,p)}break;case 5:var K=u.stateNode;if(p===null&&u.flags&4){p=K;var J=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":J.autoFocus&&p.focus();break;case"img":J.src&&(p.src=J.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var ce=u.alternate;if(ce!==null){var we=ce.memoizedState;if(we!==null){var Ne=we.dehydrated;Ne!==null&&To(Ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Tr||u.flags&512&&vv(u)}catch(be){kn(u,u.return,be)}}if(u===l){$e=null;break}if(p=u.sibling,p!==null){p.return=u.return,$e=p;break}$e=u.return}}function nC(l){for(;$e!==null;){var u=$e;if(u===l){$e=null;break}var p=u.sibling;if(p!==null){p.return=u.return,$e=p;break}$e=u.return}}function rC(l){for(;$e!==null;){var u=$e;try{switch(u.tag){case 0:case 11:case 15:var p=u.return;try{Kp(4,u)}catch(J){kn(u,p,J)}break;case 1:var b=u.stateNode;if(typeof b.componentDidMount=="function"){var S=u.return;try{b.componentDidMount()}catch(J){kn(u,S,J)}}var T=u.return;try{vv(u)}catch(J){kn(u,T,J)}break;case 5:var z=u.return;try{vv(u)}catch(J){kn(u,z,J)}}}catch(J){kn(u,u.return,J)}if(u===l){$e=null;break}var K=u.sibling;if(K!==null){K.return=u.return,$e=K;break}$e=u.return}}var mU=Math.ceil,Gp=C.ReactCurrentDispatcher,jv=C.ReactCurrentOwner,qs=C.ReactCurrentBatchConfig,Vt=0,ar=null,qn=null,gr=0,ks=0,$u=Do(0),er=0,nm=null,mc=0,Qp=0,_v=0,rm=null,ns=null,Nv=0,qu=1/0,Ba=null,Yp=!1,Sv=null,Uo=null,Jp=!1,zo=null,Xp=0,sm=0,Ev=null,Zp=-1,eg=0;function zr(){return(Vt&6)!==0?un():Zp!==-1?Zp:Zp=un()}function Bo(l){return(l.mode&1)===0?1:(Vt&2)!==0&&gr!==0?gr&-gr:YV.transition!==null?(eg===0&&(eg=Sh()),eg):(l=Mt,l!==0||(l=window.event,l=l===void 0?16:vu(l.type)),l)}function gi(l,u,p,b){if(50<sm)throw sm=0,Ev=null,Error(n(185));tc(l,p,b),((Vt&2)===0||l!==ar)&&(l===ar&&((Vt&2)===0&&(Qp|=p),er===4&&$o(l,gr)),rs(l,b),p===1&&Vt===0&&(u.mode&1)===0&&(qu=un()+500,kp&&Oo()))}function rs(l,u){var p=l.callbackNode;ec(l,u);var b=Ta(l,l===ar?gr:0);if(b===0)p!==null&&hu(p),l.callbackNode=null,l.callbackPriority=0;else if(u=b&-b,l.callbackPriority!==u){if(p!=null&&hu(p),u===1)l.tag===0?QV(iC.bind(null,l)):qS(iC.bind(null,l)),HV(function(){(Vt&6)===0&&Oo()}),p=null;else{switch(Li(b)){case 1:p=mu;break;case 4:p=jh;break;case 16:p=Yl;break;case 536870912:p=fu;break;default:p=Yl}p=mC(p,sC.bind(null,l))}l.callbackPriority=u,l.callbackNode=p}}function sC(l,u){if(Zp=-1,eg=0,(Vt&6)!==0)throw Error(n(327));var p=l.callbackNode;if(Hu()&&l.callbackNode!==p)return null;var b=Ta(l,l===ar?gr:0);if(b===0)return null;if((b&30)!==0||(b&l.expiredLanes)!==0||u)u=tg(l,b);else{u=b;var S=Vt;Vt|=2;var T=oC();(ar!==l||gr!==u)&&(Ba=null,qu=un()+500,pc(l,u));do try{gU();break}catch(K){aC(l,K)}while(!0);q0(),Gp.current=T,Vt=S,qn!==null?u=0:(ar=null,gr=0,u=er)}if(u!==0){if(u===2&&(S=Nh(l),S!==0&&(b=S,u=Cv(l,S))),u===1)throw p=nm,pc(l,0),$o(l,b),rs(l,un()),p;if(u===6)$o(l,b);else{if(S=l.current.alternate,(b&30)===0&&!fU(S)&&(u=tg(l,b),u===2&&(T=Nh(l),T!==0&&(b=T,u=Cv(l,T))),u===1))throw p=nm,pc(l,0),$o(l,b),rs(l,un()),p;switch(l.finishedWork=S,l.finishedLanes=b,u){case 0:case 1:throw Error(n(345));case 2:gc(l,ns,Ba);break;case 3:if($o(l,b),(b&130023424)===b&&(u=Nv+500-un(),10<u)){if(Ta(l,0)!==0)break;if(S=l.suspendedLanes,(S&b)!==b){zr(),l.pingedLanes|=l.suspendedLanes&S;break}l.timeoutHandle=P0(gc.bind(null,l,ns,Ba),u);break}gc(l,ns,Ba);break;case 4:if($o(l,b),(b&4194240)===b)break;for(u=l.eventTimes,S=-1;0<b;){var z=31-ws(b);T=1<<z,z=u[z],z>S&&(S=z),b&=~T}if(b=S,b=un()-b,b=(120>b?120:480>b?480:1080>b?1080:1920>b?1920:3e3>b?3e3:4320>b?4320:1960*mU(b/1960))-b,10<b){l.timeoutHandle=P0(gc.bind(null,l,ns,Ba),b);break}gc(l,ns,Ba);break;case 5:gc(l,ns,Ba);break;default:throw Error(n(329))}}}return rs(l,un()),l.callbackNode===p?sC.bind(null,l):null}function Cv(l,u){var p=rm;return l.current.memoizedState.isDehydrated&&(pc(l,u).flags|=256),l=tg(l,u),l!==2&&(u=ns,ns=p,u!==null&&kv(u)),l}function kv(l){ns===null?ns=l:ns.push.apply(ns,l)}function fU(l){for(var u=l;;){if(u.flags&16384){var p=u.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var b=0;b<p.length;b++){var S=p[b],T=S.getSnapshot;S=S.value;try{if(!di(T(),S))return!1}catch{return!1}}}if(p=u.child,u.subtreeFlags&16384&&p!==null)p.return=u,u=p;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function $o(l,u){for(u&=~_v,u&=~Qp,l.suspendedLanes|=u,l.pingedLanes&=~u,l=l.expirationTimes;0<u;){var p=31-ws(u),b=1<<p;l[p]=-1,u&=~b}}function iC(l){if((Vt&6)!==0)throw Error(n(327));Hu();var u=Ta(l,0);if((u&1)===0)return rs(l,un()),null;var p=tg(l,u);if(l.tag!==0&&p===2){var b=Nh(l);b!==0&&(u=b,p=Cv(l,b))}if(p===1)throw p=nm,pc(l,0),$o(l,u),rs(l,un()),p;if(p===6)throw Error(n(345));return l.finishedWork=l.current.alternate,l.finishedLanes=u,gc(l,ns,Ba),rs(l,un()),null}function Tv(l,u){var p=Vt;Vt|=1;try{return l(u)}finally{Vt=p,Vt===0&&(qu=un()+500,kp&&Oo())}}function fc(l){zo!==null&&zo.tag===0&&(Vt&6)===0&&Hu();var u=Vt;Vt|=1;var p=qs.transition,b=Mt;try{if(qs.transition=null,Mt=1,l)return l()}finally{Mt=b,qs.transition=p,Vt=u,(Vt&6)===0&&Oo()}}function Av(){ks=$u.current,hn($u)}function pc(l,u){l.finishedWork=null,l.finishedLanes=0;var p=l.timeoutHandle;if(p!==-1&&(l.timeoutHandle=-1,qV(p)),qn!==null)for(p=qn.return;p!==null;){var b=p;switch(V0(b),b.tag){case 1:b=b.type.childContextTypes,b!=null&&Ep();break;case 3:Uu(),hn(Zr),hn(Er),X0();break;case 5:Y0(b);break;case 4:Uu();break;case 13:hn(vn);break;case 19:hn(vn);break;case 10:H0(b.type._context);break;case 22:case 23:Av()}p=p.return}if(ar=l,qn=l=qo(l.current,null),gr=ks=u,er=0,nm=null,_v=Qp=mc=0,ns=rm=null,uc!==null){for(u=0;u<uc.length;u++)if(p=uc[u],b=p.interleaved,b!==null){p.interleaved=null;var S=b.next,T=p.pending;if(T!==null){var z=T.next;T.next=S,b.next=z}p.pending=b}uc=null}return l}function aC(l,u){do{var p=qn;try{if(q0(),Fp.current=Bp,Vp){for(var b=bn.memoizedState;b!==null;){var S=b.queue;S!==null&&(S.pending=null),b=b.next}Vp=!1}if(hc=0,ir=Zn=bn=null,Yh=!1,Jh=0,jv.current=null,p===null||p.return===null){er=1,nm=u,qn=null;break}e:{var T=l,z=p.return,K=p,J=u;if(u=gr,K.flags|=32768,J!==null&&typeof J=="object"&&typeof J.then=="function"){var ce=J,we=K,Ne=we.tag;if((we.mode&1)===0&&(Ne===0||Ne===11||Ne===15)){var be=we.alternate;be?(we.updateQueue=be.updateQueue,we.memoizedState=be.memoizedState,we.lanes=be.lanes):(we.updateQueue=null,we.memoizedState=null)}var Ue=IE(z);if(Ue!==null){Ue.flags&=-257,RE(Ue,z,K,T,u),Ue.mode&1&&AE(T,ce,u),u=Ue,J=ce;var We=u.updateQueue;if(We===null){var Qe=new Set;Qe.add(J),u.updateQueue=Qe}else We.add(J);break e}else{if((u&1)===0){AE(T,ce,u),Iv();break e}J=Error(n(426))}}else if(pn&&K.mode&1){var Mn=IE(z);if(Mn!==null){(Mn.flags&65536)===0&&(Mn.flags|=256),RE(Mn,z,K,T,u),B0(zu(J,K));break e}}T=J=zu(J,K),er!==4&&(er=2),rm===null?rm=[T]:rm.push(T),T=z;do{switch(T.tag){case 3:T.flags|=65536,u&=-u,T.lanes|=u;var se=kE(T,J,u);tE(T,se);break e;case 1:K=J;var X=T.type,le=T.stateNode;if((T.flags&128)===0&&(typeof X.getDerivedStateFromError=="function"||le!==null&&typeof le.componentDidCatch=="function"&&(Uo===null||!Uo.has(le)))){T.flags|=65536,u&=-u,T.lanes|=u;var ke=TE(T,K,u);tE(T,ke);break e}}T=T.return}while(T!==null)}cC(p)}catch(Ye){u=Ye,qn===p&&p!==null&&(qn=p=p.return);continue}break}while(!0)}function oC(){var l=Gp.current;return Gp.current=Bp,l===null?Bp:l}function Iv(){(er===0||er===3||er===2)&&(er=4),ar===null||(mc&268435455)===0&&(Qp&268435455)===0||$o(ar,gr)}function tg(l,u){var p=Vt;Vt|=2;var b=oC();(ar!==l||gr!==u)&&(Ba=null,pc(l,u));do try{pU();break}catch(S){aC(l,S)}while(!0);if(q0(),Vt=p,Gp.current=b,qn!==null)throw Error(n(261));return ar=null,gr=0,er}function pU(){for(;qn!==null;)lC(qn)}function gU(){for(;qn!==null&&!Ql();)lC(qn)}function lC(l){var u=hC(l.alternate,l,ks);l.memoizedProps=l.pendingProps,u===null?cC(l):qn=u,jv.current=null}function cC(l){var u=l;do{var p=u.alternate;if(l=u.return,(u.flags&32768)===0){if(p=lU(p,u,ks),p!==null){qn=p;return}}else{if(p=cU(p,u),p!==null){p.flags&=32767,qn=p;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{er=6,qn=null;return}}if(u=u.sibling,u!==null){qn=u;return}qn=u=l}while(u!==null);er===0&&(er=5)}function gc(l,u,p){var b=Mt,S=qs.transition;try{qs.transition=null,Mt=1,xU(l,u,p,b)}finally{qs.transition=S,Mt=b}return null}function xU(l,u,p,b){do Hu();while(zo!==null);if((Vt&6)!==0)throw Error(n(327));p=l.finishedWork;var S=l.finishedLanes;if(p===null)return null;if(l.finishedWork=null,l.finishedLanes=0,p===l.current)throw Error(n(177));l.callbackNode=null,l.callbackPriority=0;var T=p.lanes|p.childLanes;if(x0(l,T),l===ar&&(qn=ar=null,gr=0),(p.subtreeFlags&2064)===0&&(p.flags&2064)===0||Jp||(Jp=!0,mC(Yl,function(){return Hu(),null})),T=(p.flags&15990)!==0,(p.subtreeFlags&15990)!==0||T){T=qs.transition,qs.transition=null;var z=Mt;Mt=1;var K=Vt;Vt|=4,jv.current=null,dU(l,p),ZE(p,l),LV(I0),Ra=!!A0,I0=A0=null,l.current=p,hU(p),ka(),Vt=K,Mt=z,qs.transition=T}else l.current=p;if(Jp&&(Jp=!1,zo=l,Xp=S),T=l.pendingLanes,T===0&&(Uo=null),lp(p.stateNode),rs(l,un()),u!==null)for(b=l.onRecoverableError,p=0;p<u.length;p++)S=u[p],b(S.value,{componentStack:S.stack,digest:S.digest});if(Yp)throw Yp=!1,l=Sv,Sv=null,l;return(Xp&1)!==0&&l.tag!==0&&Hu(),T=l.pendingLanes,(T&1)!==0?l===Ev?sm++:(sm=0,Ev=l):sm=0,Oo(),null}function Hu(){if(zo!==null){var l=Li(Xp),u=qs.transition,p=Mt;try{if(qs.transition=null,Mt=16>l?16:l,zo===null)var b=!1;else{if(l=zo,zo=null,Xp=0,(Vt&6)!==0)throw Error(n(331));var S=Vt;for(Vt|=4,$e=l.current;$e!==null;){var T=$e,z=T.child;if(($e.flags&16)!==0){var K=T.deletions;if(K!==null){for(var J=0;J<K.length;J++){var ce=K[J];for($e=ce;$e!==null;){var we=$e;switch(we.tag){case 0:case 11:case 15:tm(8,we,T)}var Ne=we.child;if(Ne!==null)Ne.return=we,$e=Ne;else for(;$e!==null;){we=$e;var be=we.sibling,Ue=we.return;if(GE(we),we===ce){$e=null;break}if(be!==null){be.return=Ue,$e=be;break}$e=Ue}}}var We=T.alternate;if(We!==null){var Qe=We.child;if(Qe!==null){We.child=null;do{var Mn=Qe.sibling;Qe.sibling=null,Qe=Mn}while(Qe!==null)}}$e=T}}if((T.subtreeFlags&2064)!==0&&z!==null)z.return=T,$e=z;else e:for(;$e!==null;){if(T=$e,(T.flags&2048)!==0)switch(T.tag){case 0:case 11:case 15:tm(9,T,T.return)}var se=T.sibling;if(se!==null){se.return=T.return,$e=se;break e}$e=T.return}}var X=l.current;for($e=X;$e!==null;){z=$e;var le=z.child;if((z.subtreeFlags&2064)!==0&&le!==null)le.return=z,$e=le;else e:for(z=X;$e!==null;){if(K=$e,(K.flags&2048)!==0)try{switch(K.tag){case 0:case 11:case 15:Kp(9,K)}}catch(Ye){kn(K,K.return,Ye)}if(K===z){$e=null;break e}var ke=K.sibling;if(ke!==null){ke.return=K.return,$e=ke;break e}$e=K.return}}if(Vt=S,Oo(),bs&&typeof bs.onPostCommitFiberRoot=="function")try{bs.onPostCommitFiberRoot(Jl,l)}catch{}b=!0}return b}finally{Mt=p,qs.transition=u}}return!1}function uC(l,u,p){u=zu(p,u),u=kE(l,u,1),l=Fo(l,u,1),u=zr(),l!==null&&(tc(l,1,u),rs(l,u))}function kn(l,u,p){if(l.tag===3)uC(l,l,p);else for(;u!==null;){if(u.tag===3){uC(u,l,p);break}else if(u.tag===1){var b=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(Uo===null||!Uo.has(b))){l=zu(p,l),l=TE(u,l,1),u=Fo(u,l,1),l=zr(),u!==null&&(tc(u,1,l),rs(u,l));break}}u=u.return}}function yU(l,u,p){var b=l.pingCache;b!==null&&b.delete(u),u=zr(),l.pingedLanes|=l.suspendedLanes&p,ar===l&&(gr&p)===p&&(er===4||er===3&&(gr&130023424)===gr&&500>un()-Nv?pc(l,0):_v|=p),rs(l,u)}function dC(l,u){u===0&&((l.mode&1)===0?u=1:(u=Eo,Eo<<=1,(Eo&130023424)===0&&(Eo=4194304)));var p=zr();l=Va(l,u),l!==null&&(tc(l,u,p),rs(l,p))}function vU(l){var u=l.memoizedState,p=0;u!==null&&(p=u.retryLane),dC(l,p)}function bU(l,u){var p=0;switch(l.tag){case 13:var b=l.stateNode,S=l.memoizedState;S!==null&&(p=S.retryLane);break;case 19:b=l.stateNode;break;default:throw Error(n(314))}b!==null&&b.delete(u),dC(l,p)}var hC;hC=function(l,u,p){if(l!==null)if(l.memoizedProps!==u.pendingProps||Zr.current)ts=!0;else{if((l.lanes&p)===0&&(u.flags&128)===0)return ts=!1,oU(l,u,p);ts=(l.flags&131072)!==0}else ts=!1,pn&&(u.flags&1048576)!==0&&HS(u,Ap,u.index);switch(u.lanes=0,u.tag){case 2:var b=u.type;Hp(l,u),l=u.pendingProps;var S=Pu(u,Er.current);Vu(u,p),S=tv(null,u,b,l,S,p);var T=nv();return u.flags|=1,typeof S=="object"&&S!==null&&typeof S.render=="function"&&S.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,es(b)?(T=!0,Cp(u)):T=!1,u.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,G0(u),S.updater=$p,u.stateNode=S,S._reactInternals=u,lv(u,b,l,p),u=hv(null,u,b,!0,T,p)):(u.tag=0,pn&&T&&F0(u),Ur(null,u,S,p),u=u.child),u;case 16:b=u.elementType;e:{switch(Hp(l,u),l=u.pendingProps,S=b._init,b=S(b._payload),u.type=b,S=u.tag=jU(b),l=mi(b,l),S){case 0:u=dv(null,u,b,l,p);break e;case 1:u=FE(null,u,b,l,p);break e;case 11:u=PE(null,u,b,l,p);break e;case 14:u=DE(null,u,b,mi(b.type,l),p);break e}throw Error(n(306,b,""))}return u;case 0:return b=u.type,S=u.pendingProps,S=u.elementType===b?S:mi(b,S),dv(l,u,b,S,p);case 1:return b=u.type,S=u.pendingProps,S=u.elementType===b?S:mi(b,S),FE(l,u,b,S,p);case 3:e:{if(VE(u),l===null)throw Error(n(387));b=u.pendingProps,T=u.memoizedState,S=T.element,eE(l,u),Op(u,b,null,p);var z=u.memoizedState;if(b=z.element,T.isDehydrated)if(T={element:b,isDehydrated:!1,cache:z.cache,pendingSuspenseBoundaries:z.pendingSuspenseBoundaries,transitions:z.transitions},u.updateQueue.baseState=T,u.memoizedState=T,u.flags&256){S=zu(Error(n(423)),u),u=UE(l,u,b,p,S);break e}else if(b!==S){S=zu(Error(n(424)),u),u=UE(l,u,b,p,S);break e}else for(Cs=Po(u.stateNode.containerInfo.firstChild),Es=u,pn=!0,hi=null,p=XS(u,null,b,p),u.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(Ou(),b===S){u=za(l,u,p);break e}Ur(l,u,b,p)}u=u.child}return u;case 5:return rE(u),l===null&&z0(u),b=u.type,S=u.pendingProps,T=l!==null?l.memoizedProps:null,z=S.children,R0(b,S)?z=null:T!==null&&R0(b,T)&&(u.flags|=32),LE(l,u),Ur(l,u,z,p),u.child;case 6:return l===null&&z0(u),null;case 13:return zE(l,u,p);case 4:return Q0(u,u.stateNode.containerInfo),b=u.pendingProps,l===null?u.child=Lu(u,null,b,p):Ur(l,u,b,p),u.child;case 11:return b=u.type,S=u.pendingProps,S=u.elementType===b?S:mi(b,S),PE(l,u,b,S,p);case 7:return Ur(l,u,u.pendingProps,p),u.child;case 8:return Ur(l,u,u.pendingProps.children,p),u.child;case 12:return Ur(l,u,u.pendingProps.children,p),u.child;case 10:e:{if(b=u.type._context,S=u.pendingProps,T=u.memoizedProps,z=S.value,an(Pp,b._currentValue),b._currentValue=z,T!==null)if(di(T.value,z)){if(T.children===S.children&&!Zr.current){u=za(l,u,p);break e}}else for(T=u.child,T!==null&&(T.return=u);T!==null;){var K=T.dependencies;if(K!==null){z=T.child;for(var J=K.firstContext;J!==null;){if(J.context===b){if(T.tag===1){J=Ua(-1,p&-p),J.tag=2;var ce=T.updateQueue;if(ce!==null){ce=ce.shared;var we=ce.pending;we===null?J.next=J:(J.next=we.next,we.next=J),ce.pending=J}}T.lanes|=p,J=T.alternate,J!==null&&(J.lanes|=p),W0(T.return,p,u),K.lanes|=p;break}J=J.next}}else if(T.tag===10)z=T.type===u.type?null:T.child;else if(T.tag===18){if(z=T.return,z===null)throw Error(n(341));z.lanes|=p,K=z.alternate,K!==null&&(K.lanes|=p),W0(z,p,u),z=T.sibling}else z=T.child;if(z!==null)z.return=T;else for(z=T;z!==null;){if(z===u){z=null;break}if(T=z.sibling,T!==null){T.return=z.return,z=T;break}z=z.return}T=z}Ur(l,u,S.children,p),u=u.child}return u;case 9:return S=u.type,b=u.pendingProps.children,Vu(u,p),S=Bs(S),b=b(S),u.flags|=1,Ur(l,u,b,p),u.child;case 14:return b=u.type,S=mi(b,u.pendingProps),S=mi(b.type,S),DE(l,u,b,S,p);case 15:return ME(l,u,u.type,u.pendingProps,p);case 17:return b=u.type,S=u.pendingProps,S=u.elementType===b?S:mi(b,S),Hp(l,u),u.tag=1,es(b)?(l=!0,Cp(u)):l=!1,Vu(u,p),EE(u,b,S),lv(u,b,S,p),hv(null,u,b,!0,l,p);case 19:return $E(l,u,p);case 22:return OE(l,u,p)}throw Error(n(156,u.tag))};function mC(l,u){return So(l,u)}function wU(l,u,p,b){this.tag=l,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hs(l,u,p,b){return new wU(l,u,p,b)}function Rv(l){return l=l.prototype,!(!l||!l.isReactComponent)}function jU(l){if(typeof l=="function")return Rv(l)?1:0;if(l!=null){if(l=l.$$typeof,l===L)return 11;if(l===re)return 14}return 2}function qo(l,u){var p=l.alternate;return p===null?(p=Hs(l.tag,u,l.key,l.mode),p.elementType=l.elementType,p.type=l.type,p.stateNode=l.stateNode,p.alternate=l,l.alternate=p):(p.pendingProps=u,p.type=l.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=l.flags&14680064,p.childLanes=l.childLanes,p.lanes=l.lanes,p.child=l.child,p.memoizedProps=l.memoizedProps,p.memoizedState=l.memoizedState,p.updateQueue=l.updateQueue,u=l.dependencies,p.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},p.sibling=l.sibling,p.index=l.index,p.ref=l.ref,p}function ng(l,u,p,b,S,T){var z=2;if(b=l,typeof l=="function")Rv(l)&&(z=1);else if(typeof l=="string")z=5;else e:switch(l){case D:return xc(p.children,S,T,u);case P:z=8,S|=8;break;case I:return l=Hs(12,p,u,S|2),l.elementType=I,l.lanes=T,l;case U:return l=Hs(13,p,u,S),l.elementType=U,l.lanes=T,l;case ee:return l=Hs(19,p,u,S),l.elementType=ee,l.lanes=T,l;case ae:return rg(p,S,T,u);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case O:z=10;break e;case V:z=9;break e;case L:z=11;break e;case re:z=14;break e;case he:z=16,b=null;break e}throw Error(n(130,l==null?l:typeof l,""))}return u=Hs(z,p,u,S),u.elementType=l,u.type=b,u.lanes=T,u}function xc(l,u,p,b){return l=Hs(7,l,b,u),l.lanes=p,l}function rg(l,u,p,b){return l=Hs(22,l,b,u),l.elementType=ae,l.lanes=p,l.stateNode={isHidden:!1},l}function Pv(l,u,p){return l=Hs(6,l,null,u),l.lanes=p,l}function Dv(l,u,p){return u=Hs(4,l.children!==null?l.children:[],l.key,u),u.lanes=p,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}function _U(l,u,p,b,S){this.tag=u,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Eh(0),this.expirationTimes=Eh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Eh(0),this.identifierPrefix=b,this.onRecoverableError=S,this.mutableSourceEagerHydrationData=null}function Mv(l,u,p,b,S,T,z,K,J){return l=new _U(l,u,p,K,J),u===1?(u=1,T===!0&&(u|=8)):u=0,T=Hs(3,null,null,u),l.current=T,T.stateNode=l,T.memoizedState={element:b,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},G0(T),l}function NU(l,u,p){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:b==null?null:""+b,children:l,containerInfo:u,implementation:p}}function fC(l){if(!l)return Mo;l=l._reactInternals;e:{if(Nr(l)!==l||l.tag!==1)throw Error(n(170));var u=l;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(es(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(n(171))}if(l.tag===1){var p=l.type;if(es(p))return BS(l,p,u)}return u}function pC(l,u,p,b,S,T,z,K,J){return l=Mv(p,b,!0,l,S,T,z,K,J),l.context=fC(null),p=l.current,b=zr(),S=Bo(p),T=Ua(b,S),T.callback=u??null,Fo(p,T,S),l.current.lanes=S,tc(l,S,b),rs(l,b),l}function sg(l,u,p,b){var S=u.current,T=zr(),z=Bo(S);return p=fC(p),u.context===null?u.context=p:u.pendingContext=p,u=Ua(T,z),u.payload={element:l},b=b===void 0?null:b,b!==null&&(u.callback=b),l=Fo(S,u,z),l!==null&&(gi(l,S,z,T),Mp(l,S,z)),z}function ig(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function gC(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var p=l.retryLane;l.retryLane=p!==0&&p<u?p:u}}function Ov(l,u){gC(l,u),(l=l.alternate)&&gC(l,u)}function SU(){return null}var xC=typeof reportError=="function"?reportError:function(l){console.error(l)};function Lv(l){this._internalRoot=l}ag.prototype.render=Lv.prototype.render=function(l){var u=this._internalRoot;if(u===null)throw Error(n(409));sg(l,u,null,null)},ag.prototype.unmount=Lv.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var u=l.containerInfo;fc(function(){sg(null,l,null,null)}),u[Ma]=null}};function ag(l){this._internalRoot=l}ag.prototype.unstable_scheduleHydration=function(l){if(l){var u=Ah();l={blockedOn:null,target:l,priority:u};for(var p=0;p<js.length&&u!==0&&u<js[p].priority;p++);js.splice(p,0,l),p===0&&xu(l)}};function Fv(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function og(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function yC(){}function EU(l,u,p,b,S){if(S){if(typeof b=="function"){var T=b;b=function(){var ce=ig(z);T.call(ce)}}var z=pC(u,b,l,0,null,!1,!1,"",yC);return l._reactRootContainer=z,l[Ma]=z.current,Bh(l.nodeType===8?l.parentNode:l),fc(),z}for(;S=l.lastChild;)l.removeChild(S);if(typeof b=="function"){var K=b;b=function(){var ce=ig(J);K.call(ce)}}var J=Mv(l,0,!1,null,null,!1,!1,"",yC);return l._reactRootContainer=J,l[Ma]=J.current,Bh(l.nodeType===8?l.parentNode:l),fc(function(){sg(u,J,p,b)}),J}function lg(l,u,p,b,S){var T=p._reactRootContainer;if(T){var z=T;if(typeof S=="function"){var K=S;S=function(){var J=ig(z);K.call(J)}}sg(u,z,l,S)}else z=EU(p,u,l,S,b);return ig(z)}kh=function(l){switch(l.tag){case 3:var u=l.stateNode;if(u.current.memoizedState.isDehydrated){var p=Bt(u.pendingLanes);p!==0&&(Ch(u,p|1),rs(u,un()),(Vt&6)===0&&(qu=un()+500,Oo()))}break;case 13:fc(function(){var b=Va(l,1);if(b!==null){var S=zr();gi(b,l,1,S)}}),Ov(l,1)}},pu=function(l){if(l.tag===13){var u=Va(l,134217728);if(u!==null){var p=zr();gi(u,l,134217728,p)}Ov(l,134217728)}},Th=function(l){if(l.tag===13){var u=Bo(l),p=Va(l,u);if(p!==null){var b=zr();gi(p,l,u,b)}Ov(l,u)}},Ah=function(){return Mt},Ih=function(l,u){var p=Mt;try{return Mt=l,u()}finally{Mt=p}},Yr=function(l,u,p){switch(u){case"input":if(Jn(l,p),u=p.name,p.type==="radio"&&u!=null){for(p=l;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<p.length;u++){var b=p[u];if(b!==l&&b.form===l.form){var S=Sp(b);if(!S)throw Error(n(90));ft(b),Jn(b,S)}}}break;case"textarea":Ri(l,p);break;case"select":u=p.value,u!=null&&Or(l,!!p.multiple,u,!1)}},Pi=Tv,Kl=fc;var CU={usingClientEntryPoint:!1,Events:[Hh,Iu,Sp,Fr,Vr,Tv]},im={findFiberByHostInstance:ac,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kU={bundleType:im.bundleType,version:im.version,rendererPackageName:im.rendererPackageName,rendererConfig:im.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=dt(l),l===null?null:l.stateNode},findFiberByHostInstance:im.findFiberByHostInstance||SU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cg.isDisabled&&cg.supportsFiber)try{Jl=cg.inject(kU),bs=cg}catch{}}return ss.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CU,ss.createPortal=function(l,u){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fv(u))throw Error(n(200));return NU(l,u,null,p)},ss.createRoot=function(l,u){if(!Fv(l))throw Error(n(299));var p=!1,b="",S=xC;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(b=u.identifierPrefix),u.onRecoverableError!==void 0&&(S=u.onRecoverableError)),u=Mv(l,1,!1,null,null,p,!1,b,S),l[Ma]=u.current,Bh(l.nodeType===8?l.parentNode:l),new Lv(u)},ss.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(n(188)):(l=Object.keys(l).join(","),Error(n(268,l)));return l=dt(u),l=l===null?null:l.stateNode,l},ss.flushSync=function(l){return fc(l)},ss.hydrate=function(l,u,p){if(!og(u))throw Error(n(200));return lg(null,l,u,!0,p)},ss.hydrateRoot=function(l,u,p){if(!Fv(l))throw Error(n(405));var b=p!=null&&p.hydratedSources||null,S=!1,T="",z=xC;if(p!=null&&(p.unstable_strictMode===!0&&(S=!0),p.identifierPrefix!==void 0&&(T=p.identifierPrefix),p.onRecoverableError!==void 0&&(z=p.onRecoverableError)),u=pC(u,null,l,1,p??null,S,!1,T,z),l[Ma]=u.current,Bh(l),b)for(l=0;l<b.length;l++)p=b[l],S=p._getVersion,S=S(p._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[p,S]:u.mutableSourceEagerHydrationData.push(p,S);return new ag(u)},ss.render=function(l,u,p){if(!og(u))throw Error(n(200));return lg(null,l,u,!1,p)},ss.unmountComponentAtNode=function(l){if(!og(l))throw Error(n(40));return l._reactRootContainer?(fc(function(){lg(null,null,l,!1,function(){l._reactRootContainer=null,l[Ma]=null})}),!0):!1},ss.unstable_batchedUpdates=Tv,ss.unstable_renderSubtreeIntoContainer=function(l,u,p,b){if(!og(p))throw Error(n(200));if(l==null||l._reactInternals===void 0)throw Error(n(38));return lg(l,u,p,!1,b)},ss.version="18.3.1-next-f1338f8080-20240426",ss}var CC;function cR(){if(CC)return Bv.exports;CC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Bv.exports=OU(),Bv.exports}var kC;function LU(){if(kC)return dg;kC=1;var t=cR();return dg.createRoot=t.createRoot,dg.hydrateRoot=t.hydrateRoot,dg}var FU=LU();const VU=Yd(FU);/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var TC="popstate";function UU(t={}){function e(r,i){let{pathname:a,search:o,hash:c}=r.location;return bw("",{pathname:a,search:o,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Wm(i)}return BU(e,n,null,t)}function _n(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function xa(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zU(){return Math.random().toString(36).substring(2,10)}function AC(t,e){return{usr:t.state,key:t.key,idx:e}}function bw(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Jd(e):e,state:n,key:e&&e.key||r||zU()}}function Wm({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Jd(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function BU(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,c="POP",d=null,h=m();h==null&&(h=0,o.replaceState({...o.state,idx:h},""));function m(){return(o.state||{idx:null}).idx}function f(){c="POP";let j=m(),_=j==null?null:j-h;h=j,d&&d({action:c,location:w.location,delta:_})}function g(j,_){c="PUSH";let E=bw(w.location,j,_);h=m()+1;let k=AC(E,h),C=w.createHref(E);try{o.pushState(k,"",C)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(C)}a&&d&&d({action:c,location:w.location,delta:1})}function x(j,_){c="REPLACE";let E=bw(w.location,j,_);h=m();let k=AC(E,h),C=w.createHref(E);o.replaceState(k,"",C),a&&d&&d({action:c,location:w.location,delta:0})}function N(j){return $U(j)}let w={get action(){return c},get location(){return t(i,o)},listen(j){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(TC,f),d=j,()=>{i.removeEventListener(TC,f),d=null}},createHref(j){return e(i,j)},createURL:N,encodeLocation(j){let _=N(j);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:g,replace:x,go(j){return o.go(j)}};return w}function $U(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),_n(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Wm(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function uR(t,e,n="/"){return qU(t,e,n,!1)}function qU(t,e,n,r){let i=typeof e=="string"?Jd(e):e,a=ro(i.pathname||"/",n);if(a==null)return null;let o=dR(t);HU(o);let c=null;for(let d=0;c==null&&d<o.length;++d){let h=n9(a);c=e9(o[d],h,r)}return c}function dR(t,e=[],n=[],r="",i=!1){let a=(o,c,d=i,h)=>{let m={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&d)return;_n(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let f=Xa([r,m.relativePath]),g=n.concat(m);o.children&&o.children.length>0&&(_n(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),dR(o.children,e,g,f,d)),!(o.path==null&&!o.index)&&e.push({path:f,score:XU(f,o.index),routesMeta:g})};return t.forEach((o,c)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))a(o,c);else for(let h of hR(o.path))a(o,c,!0,h)}),e}function hR(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=hR(r.join("/")),c=[];return c.push(...o.map(d=>d===""?a:[a,d].join("/"))),i&&c.push(...o),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function HU(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ZU(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var WU=/^:[\w-]+$/,KU=3,GU=2,QU=1,YU=10,JU=-2,IC=t=>t==="*";function XU(t,e){let n=t.split("/"),r=n.length;return n.some(IC)&&(r+=JU),e&&(r+=GU),n.filter(i=>!IC(i)).reduce((i,a)=>i+(WU.test(a)?KU:a===""?QU:YU),r)}function ZU(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function e9(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",o=[];for(let c=0;c<r.length;++c){let d=r[c],h=c===r.length-1,m=a==="/"?e:e.slice(a.length)||"/",f=yx({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},m),g=d.route;if(!f&&h&&n&&!r[r.length-1].route.index&&(f=yx({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Xa([a,f.pathname]),pathnameBase:a9(Xa([a,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(a=Xa([a,f.pathnameBase]))}return o}function yx(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=t9(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((h,{paramName:m,isOptional:f},g)=>{if(m==="*"){let N=c[g]||"";o=a.slice(0,a.length-N.length).replace(/(.)\/+$/,"$1")}const x=c[g];return f&&!x?h[m]=void 0:h[m]=(x||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:o,pattern:t}}function t9(t,e=!1,n=!0){xa(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function n9(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xa(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ro(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function r9(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Jd(t):t;return{pathname:n?n.startsWith("/")?n:s9(n,e):e,search:o9(r),hash:l9(i)}}function s9(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Hv(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function i9(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function mR(t){let e=i9(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function fR(t,e,n,r=!1){let i;typeof t=="string"?i=Jd(t):(i={...t},_n(!i.pathname||!i.pathname.includes("?"),Hv("?","pathname","search",i)),_n(!i.pathname||!i.pathname.includes("#"),Hv("#","pathname","hash",i)),_n(!i.search||!i.search.includes("#"),Hv("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,c;if(o==null)c=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),f-=1;i.pathname=g.join("/")}c=f>=0?e[f]:"/"}let d=r9(i,c),h=o&&o!=="/"&&o.endsWith("/"),m=(a||o===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(h||m)&&(d.pathname+="/"),d}var Xa=t=>t.join("/").replace(/\/\/+/g,"/"),a9=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),o9=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,l9=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function c9(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var pR=["POST","PUT","PATCH","DELETE"];new Set(pR);var u9=["GET",...pR];new Set(u9);var Xd=v.createContext(null);Xd.displayName="DataRouter";var dy=v.createContext(null);dy.displayName="DataRouterState";v.createContext(!1);var gR=v.createContext({isTransitioning:!1});gR.displayName="ViewTransition";var d9=v.createContext(new Map);d9.displayName="Fetchers";var h9=v.createContext(null);h9.displayName="Await";var _a=v.createContext(null);_a.displayName="Navigation";var Tf=v.createContext(null);Tf.displayName="Location";var po=v.createContext({outlet:null,matches:[],isDataRoute:!1});po.displayName="Route";var pj=v.createContext(null);pj.displayName="RouteError";function m9(t,{relative:e}={}){_n(Af(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=v.useContext(_a),{hash:i,pathname:a,search:o}=If(t,{relative:e}),c=a;return n!=="/"&&(c=a==="/"?n:Xa([n,a])),r.createHref({pathname:c,search:o,hash:i})}function Af(){return v.useContext(Tf)!=null}function go(){return _n(Af(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(Tf).location}var xR="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function yR(t){v.useContext(_a).static||v.useLayoutEffect(t)}function Yn(){let{isDataRoute:t}=v.useContext(po);return t?E9():f9()}function f9(){_n(Af(),"useNavigate() may be used only in the context of a <Router> component.");let t=v.useContext(Xd),{basename:e,navigator:n}=v.useContext(_a),{matches:r}=v.useContext(po),{pathname:i}=go(),a=JSON.stringify(mR(r)),o=v.useRef(!1);return yR(()=>{o.current=!0}),v.useCallback((d,h={})=>{if(xa(o.current,xR),!o.current)return;if(typeof d=="number"){n.go(d);return}let m=fR(d,JSON.parse(a),i,h.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Xa([e,m.pathname])),(h.replace?n.replace:n.push)(m,h.state,h)},[e,n,a,i,t])}v.createContext(null);function If(t,{relative:e}={}){let{matches:n}=v.useContext(po),{pathname:r}=go(),i=JSON.stringify(mR(n));return v.useMemo(()=>fR(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function p9(t,e){return vR(t,e)}function vR(t,e,n,r,i){var E;_n(Af(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=v.useContext(_a),{matches:o}=v.useContext(po),c=o[o.length-1],d=c?c.params:{},h=c?c.pathname:"/",m=c?c.pathnameBase:"/",f=c&&c.route;{let k=f&&f.path||"";bR(h,!f||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let g=go(),x;if(e){let k=typeof e=="string"?Jd(e):e;_n(m==="/"||((E=k.pathname)==null?void 0:E.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${k.pathname}" was given in the \`location\` prop.`),x=k}else x=g;let N=x.pathname||"/",w=N;if(m!=="/"){let k=m.replace(/^\//,"").split("/");w="/"+N.replace(/^\//,"").split("/").slice(k.length).join("/")}let j=uR(t,{pathname:w});xa(f||j!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),xa(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=b9(j&&j.map(k=>Object.assign({},k,{params:Object.assign({},d,k.params),pathname:Xa([m,a.encodeLocation?a.encodeLocation(k.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?m:Xa([m,a.encodeLocation?a.encodeLocation(k.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathnameBase])})),o,n,r,i);return e&&_?v.createElement(Tf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},_):_}function g9(){let t=S9(),e=c9(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:a},"ErrorBoundary")," or"," ",v.createElement("code",{style:a},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),n?v.createElement("pre",{style:i},n):null,o)}var x9=v.createElement(g9,null),y9=class extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?v.createElement(po.Provider,{value:this.props.routeContext},v.createElement(pj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function v9({routeContext:t,match:e,children:n}){let r=v.useContext(Xd);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),v.createElement(po.Provider,{value:t},n)}function b9(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=n==null?void 0:n.errors;if(o!=null){let h=a.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);_n(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,d=-1;if(n)for(let h=0;h<a.length;h++){let m=a[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=h),m.route.id){let{loaderData:f,errors:g}=n,x=m.route.loader&&!f.hasOwnProperty(m.route.id)&&(!g||g[m.route.id]===void 0);if(m.route.lazy||x){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((h,m,f)=>{let g,x=!1,N=null,w=null;n&&(g=o&&m.route.id?o[m.route.id]:void 0,N=m.route.errorElement||x9,c&&(d<0&&f===0?(bR("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,w=null):d===f&&(x=!0,w=m.route.hydrateFallbackElement||null)));let j=e.concat(a.slice(0,f+1)),_=()=>{let E;return g?E=N:x?E=w:m.route.Component?E=v.createElement(m.route.Component,null):m.route.element?E=m.route.element:E=h,v.createElement(v9,{match:m,routeContext:{outlet:h,matches:j,isDataRoute:n!=null},children:E})};return n&&(m.route.ErrorBoundary||m.route.errorElement||f===0)?v.createElement(y9,{location:n.location,revalidation:n.revalidation,component:N,error:g,children:_(),routeContext:{outlet:null,matches:j,isDataRoute:!0},unstable_onError:r}):_()},null)}function gj(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function w9(t){let e=v.useContext(Xd);return _n(e,gj(t)),e}function j9(t){let e=v.useContext(dy);return _n(e,gj(t)),e}function _9(t){let e=v.useContext(po);return _n(e,gj(t)),e}function xj(t){let e=_9(t),n=e.matches[e.matches.length-1];return _n(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function N9(){return xj("useRouteId")}function S9(){var r;let t=v.useContext(pj),e=j9("useRouteError"),n=xj("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function E9(){let{router:t}=w9("useNavigate"),e=xj("useNavigate"),n=v.useRef(!1);return yR(()=>{n.current=!0}),v.useCallback(async(i,a={})=>{xa(n.current,xR),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var RC={};function bR(t,e,n){!e&&!RC[t]&&(RC[t]=!0,xa(!1,n))}v.memo(C9);function C9({routes:t,future:e,state:n,unstable_onError:r}){return vR(t,void 0,n,r,e)}function Oe(t){_n(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function k9({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){_n(!Af(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),c=v.useMemo(()=>({basename:o,navigator:i,static:a,future:{}}),[o,i,a]);typeof n=="string"&&(n=Jd(n));let{pathname:d="/",search:h="",hash:m="",state:f=null,key:g="default"}=n,x=v.useMemo(()=>{let N=ro(d,o);return N==null?null:{location:{pathname:N,search:h,hash:m,state:f,key:g},navigationType:r}},[o,d,h,m,f,g,r]);return xa(x!=null,`<Router basename="${o}"> is not able to match the URL "${d}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:v.createElement(_a.Provider,{value:c},v.createElement(Tf.Provider,{children:e,value:x}))}function T9({children:t,location:e}){return p9(ww(t),e)}function ww(t,e=[]){let n=[];return v.Children.forEach(t,(r,i)=>{if(!v.isValidElement(r))return;let a=[...e,i];if(r.type===v.Fragment){n.push.apply(n,ww(r.props.children,a));return}_n(r.type===Oe,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_n(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=ww(r.props.children,a)),n.push(o)}),n}var Bg="get",$g="application/x-www-form-urlencoded";function hy(t){return t!=null&&typeof t.tagName=="string"}function A9(t){return hy(t)&&t.tagName.toLowerCase()==="button"}function I9(t){return hy(t)&&t.tagName.toLowerCase()==="form"}function R9(t){return hy(t)&&t.tagName.toLowerCase()==="input"}function P9(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function D9(t,e){return t.button===0&&(!e||e==="_self")&&!P9(t)}var hg=null;function M9(){if(hg===null)try{new FormData(document.createElement("form"),0),hg=!1}catch{hg=!0}return hg}var O9=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wv(t){return t!=null&&!O9.has(t)?(xa(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$g}"`),null):t}function L9(t,e){let n,r,i,a,o;if(I9(t)){let c=t.getAttribute("action");r=c?ro(c,e):null,n=t.getAttribute("method")||Bg,i=Wv(t.getAttribute("enctype"))||$g,a=new FormData(t)}else if(A9(t)||R9(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||c.getAttribute("action");if(r=d?ro(d,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||Bg,i=Wv(t.getAttribute("formenctype"))||Wv(c.getAttribute("enctype"))||$g,a=new FormData(c,t),!M9()){let{name:h,type:m,value:f}=t;if(m==="image"){let g=h?`${h}.`:"";a.append(`${g}x`,"0"),a.append(`${g}y`,"0")}else h&&a.append(h,f)}}else{if(hy(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Bg,r=null,i=$g,o=t}return a&&i==="text/plain"&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function yj(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function F9(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&ro(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function V9(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function U9(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function z9(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let o=await V9(a,n);return o.links?o.links():[]}return[]}));return H9(r.flat(1).filter(U9).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function PC(t,e,n,r,i,a){let o=(d,h)=>n[h]?d.route.id!==n[h].route.id:!0,c=(d,h)=>{var m;return n[h].pathname!==d.pathname||((m=n[h].route.path)==null?void 0:m.endsWith("*"))&&n[h].params["*"]!==d.params["*"]};return a==="assets"?e.filter((d,h)=>o(d,h)||c(d,h)):a==="data"?e.filter((d,h)=>{var f;let m=r.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(o(d,h)||c(d,h))return!0;if(d.route.shouldRevalidate){let g=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function B9(t,e,{includeHydrateFallback:n}={}){return $9(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function $9(t){return[...new Set(t)]}function q9(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function H9(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(q9(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function wR(){let t=v.useContext(Xd);return yj(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function W9(){let t=v.useContext(dy);return yj(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var vj=v.createContext(void 0);vj.displayName="FrameworkContext";function jR(){let t=v.useContext(vj);return yj(t,"You must render this element inside a <HydratedRouter> element"),t}function K9(t,e){let n=v.useContext(vj),[r,i]=v.useState(!1),[a,o]=v.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:h,onMouseLeave:m,onTouchStart:f}=e,g=v.useRef(null);v.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let w=_=>{_.forEach(E=>{o(E.isIntersecting)})},j=new IntersectionObserver(w,{threshold:.5});return g.current&&j.observe(g.current),()=>{j.disconnect()}}},[t]),v.useEffect(()=>{if(r){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[r]);let x=()=>{i(!0)},N=()=>{i(!1),o(!1)};return n?t!=="intent"?[a,g,{}]:[a,g,{onFocus:om(c,x),onBlur:om(d,N),onMouseEnter:om(h,x),onMouseLeave:om(m,N),onTouchStart:om(f,x)}]:[!1,g,{}]}function om(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function G9({page:t,...e}){let{router:n}=wR(),r=v.useMemo(()=>uR(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?v.createElement(Y9,{page:t,matches:r,...e}):null}function Q9(t){let{manifest:e,routeModules:n}=jR(),[r,i]=v.useState([]);return v.useEffect(()=>{let a=!1;return z9(t,e,n).then(o=>{a||i(o)}),()=>{a=!0}},[t,e,n]),r}function Y9({page:t,matches:e,...n}){let r=go(),{manifest:i,routeModules:a}=jR(),{basename:o}=wR(),{loaderData:c,matches:d}=W9(),h=v.useMemo(()=>PC(t,e,d,i,r,"data"),[t,e,d,i,r]),m=v.useMemo(()=>PC(t,e,d,i,r,"assets"),[t,e,d,i,r]),f=v.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let N=new Set,w=!1;if(e.forEach(_=>{var k;let E=i.routes[_.route.id];!E||!E.hasLoader||(!h.some(C=>C.route.id===_.route.id)&&_.route.id in c&&((k=a[_.route.id])!=null&&k.shouldRevalidate)||E.hasClientLoader?w=!0:N.add(_.route.id))}),N.size===0)return[];let j=F9(t,o,"data");return w&&N.size>0&&j.searchParams.set("_routes",e.filter(_=>N.has(_.route.id)).map(_=>_.route.id).join(",")),[j.pathname+j.search]},[o,c,r,i,h,e,t,a]),g=v.useMemo(()=>B9(m,i),[m,i]),x=Q9(m);return v.createElement(v.Fragment,null,f.map(N=>v.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),g.map(N=>v.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),x.map(({key:N,link:w})=>v.createElement("link",{key:N,nonce:n.nonce,...w})))}function J9(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var _R=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_R&&(window.__reactRouterVersion="7.9.5")}catch{}function X9({basename:t,children:e,window:n}){let r=v.useRef();r.current==null&&(r.current=UU({window:n,v5Compat:!0}));let i=r.current,[a,o]=v.useState({action:i.action,location:i.location}),c=v.useCallback(d=>{v.startTransition(()=>o(d))},[o]);return v.useLayoutEffect(()=>i.listen(c),[i,c]),v.createElement(k9,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var NR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Lt=v.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:o,state:c,target:d,to:h,preventScrollReset:m,viewTransition:f,...g},x){let{basename:N}=v.useContext(_a),w=typeof h=="string"&&NR.test(h),j,_=!1;if(typeof h=="string"&&w&&(j=h,_R))try{let I=new URL(window.location.href),O=h.startsWith("//")?new URL(I.protocol+h):new URL(h),V=ro(O.pathname,N);O.origin===I.origin&&V!=null?h=V+O.search+O.hash:_=!0}catch{xa(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=m9(h,{relative:i}),[k,C,R]=K9(r,g),F=nz(h,{replace:o,state:c,target:d,preventScrollReset:m,relative:i,viewTransition:f});function D(I){e&&e(I),I.defaultPrevented||F(I)}let P=v.createElement("a",{...g,...R,href:j||E,onClick:_||a?e:D,ref:J9(x,C),target:d,"data-discover":!w&&n==="render"?"true":void 0});return k&&!w?v.createElement(v.Fragment,null,P,v.createElement(G9,{page:E})):P});Lt.displayName="Link";var Z9=v.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:o,viewTransition:c,children:d,...h},m){let f=If(o,{relative:h.relative}),g=go(),x=v.useContext(dy),{navigator:N,basename:w}=v.useContext(_a),j=x!=null&&oz(f)&&c===!0,_=N.encodeLocation?N.encodeLocation(f).pathname:f.pathname,E=g.pathname,k=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(E=E.toLowerCase(),k=k?k.toLowerCase():null,_=_.toLowerCase()),k&&w&&(k=ro(k,w)||k);const C=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let R=E===_||!i&&E.startsWith(_)&&E.charAt(C)==="/",F=k!=null&&(k===_||!i&&k.startsWith(_)&&k.charAt(_.length)==="/"),D={isActive:R,isPending:F,isTransitioning:j},P=R?e:void 0,I;typeof r=="function"?I=r(D):I=[r,R?"active":null,F?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let O=typeof a=="function"?a(D):a;return v.createElement(Lt,{...h,"aria-current":P,className:I,ref:m,style:O,to:o,viewTransition:c},typeof d=="function"?d(D):d)});Z9.displayName="NavLink";var ez=v.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:o=Bg,action:c,onSubmit:d,relative:h,preventScrollReset:m,viewTransition:f,...g},x)=>{let N=iz(),w=az(c,{relative:h}),j=o.toLowerCase()==="get"?"get":"post",_=typeof c=="string"&&NR.test(c),E=k=>{if(d&&d(k),k.defaultPrevented)return;k.preventDefault();let C=k.nativeEvent.submitter,R=(C==null?void 0:C.getAttribute("formmethod"))||o;N(C||k.currentTarget,{fetcherKey:e,method:R,navigate:n,replace:i,state:a,relative:h,preventScrollReset:m,viewTransition:f})};return v.createElement("form",{ref:x,method:j,action:w,onSubmit:r?d:E,...g,"data-discover":!_&&t==="render"?"true":void 0})});ez.displayName="Form";function tz(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function SR(t){let e=v.useContext(Xd);return _n(e,tz(t)),e}function nz(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:o}={}){let c=Yn(),d=go(),h=If(t,{relative:a});return v.useCallback(m=>{if(D9(m,e)){m.preventDefault();let f=n!==void 0?n:Wm(d)===Wm(h);c(t,{replace:f,state:r,preventScrollReset:i,relative:a,viewTransition:o})}},[d,c,h,n,r,e,t,i,a,o])}var rz=0,sz=()=>`__${String(++rz)}__`;function iz(){let{router:t}=SR("useSubmit"),{basename:e}=v.useContext(_a),n=N9();return v.useCallback(async(r,i={})=>{let{action:a,method:o,encType:c,formData:d,body:h}=L9(r,e);if(i.navigate===!1){let m=i.fetcherKey||sz();await t.fetch(m,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:h,formMethod:i.method||o,formEncType:i.encType||c,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:h,formMethod:i.method||o,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function az(t,{relative:e}={}){let{basename:n}=v.useContext(_a),r=v.useContext(po);_n(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...If(t||".",{relative:e})},o=go();if(t==null){a.search=o.search;let c=new URLSearchParams(a.search),d=c.getAll("index");if(d.some(m=>m==="")){c.delete("index"),d.filter(f=>f).forEach(f=>c.append("index",f));let m=c.toString();a.search=m?`?${m}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Xa([n,a.pathname])),Wm(a)}function oz(t,{relative:e}={}){let n=v.useContext(gR);_n(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=SR("useViewTransitionState"),i=If(t,{relative:e});if(!n.isTransitioning)return!1;let a=ro(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=ro(n.nextLocation.pathname,r)||n.nextLocation.pathname;return yx(i.pathname,o)!=null||yx(i.pathname,a)!=null}var Rf=cR();const lz=Yd(Rf);function it(t){return"/"+t.toLowerCase().replace(/ /g,"-")}/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cz=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ER=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dz=v.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...c},d)=>v.createElement("svg",{ref:d,...uz,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:ER("lucide",i),...c},[...o.map(([h,m])=>v.createElement(h,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=(t,e)=>{const n=v.forwardRef(({className:r,...i},a)=>v.createElement(dz,{ref:a,iconNode:e,className:ER(`lucide-${cz(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hz=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ol=Ce("ArrowLeft",hz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mz=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],fz=Ce("ArrowRight",mz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pz=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Dd=Ce("Award",pz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gz=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Fn=Ce("BookOpen",gz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xz=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],DC=Ce("Book",xz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yz=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],Zd=Ce("Brain",yz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vz=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],my=Ce("Calendar",vz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bz=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],wz=Ce("ChartColumn",bz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jz=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],_z=Ce("ChartNoAxesColumn",jz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nz=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Km=Ce("Check",Nz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sz=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Gm=Ce("ChevronDown",Sz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ez=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],CR=Ce("ChevronRight",Ez);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cz=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],kR=Ce("ChevronUp",Cz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],bj=Ce("CircleAlert",kz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tz=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],zc=Ce("CircleCheckBig",Tz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Az=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],eh=Ce("CircleCheck",Az);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Rz=Ce("CircleHelp",Iz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]],mg=Ce("CircleStop",Pz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],fy=Ce("CircleX",Dz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],wj=Ce("Circle",Mz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],hl=Ce("Clock",Oz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lz=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Fz=Ce("Copy",Lz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vz=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],MC=Ce("Crown",Vz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],xo=Ce("Download",Uz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]],Bz=Ce("Eraser",zz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $z=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Qm=Ce("ExternalLink",$z);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qz=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Hz=Ce("EyeOff",qz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],TR=Ce("Eye",Wz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kz=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],jj=Ce("FileText",Kz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gz=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],OC=Ce("Filter",Gz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qz=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],wl=Ce("Gamepad2",Qz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yz=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],AR=Ce("Gift",Yz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],Xz=Ce("GitBranch",Jz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zz=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],LC=Ce("GraduationCap",Zz);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],Md=Ce("Headphones",eB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],th=Ce("Heart",tB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],rB=Ce("House",nB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],so=Ce("Image",sB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Kv=Ce("Info",iB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],FC=Ce("Layers",aB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],lB=Ce("Lightbulb",oB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],rd=Ce("LoaderCircle",cB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uB=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],IR=Ce("Lock",uB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],RR=Ce("LogIn",dB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hB=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],VC=Ce("LogOut",hB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mB=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],py=Ce("Mail",mB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fB=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],sd=Ce("Medal",fB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pB=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],gB=Ce("Menu",pB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xB=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],yB=Ce("MessageCircle",xB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vB=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],vx=Ce("MessageSquare",vB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bB=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],Ym=Ce("Mic",bB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wB=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],jB=Ce("Moon",wB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _B=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],jw=Ce("Music",_B);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NB=[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]],SB=Ce("Newspaper",NB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EB=[["path",{d:"m14.622 17.897-10.68-2.913",key:"vj2p1u"}],["path",{d:"M18.376 2.622a1 1 0 1 1 3.002 3.002L17.36 9.643a.5.5 0 0 0 0 .707l.944.944a2.41 2.41 0 0 1 0 3.408l-.944.944a.5.5 0 0 1-.707 0L8.354 7.348a.5.5 0 0 1 0-.707l.944-.944a2.41 2.41 0 0 1 3.408 0l.944.944a.5.5 0 0 0 .707 0z",key:"18tc5c"}],["path",{d:"M9 8c-1.804 2.71-3.97 3.46-6.583 3.948a.507.507 0 0 0-.302.819l7.32 8.883a1 1 0 0 0 1.185.204C12.735 20.405 16 16.792 16 15",key:"ytzfxy"}]],CB=Ce("Paintbrush",EB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kB=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],gy=Ce("Palette",kB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TB=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],Ll=Ce("Pause",TB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AB=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],IB=Ce("PenTool",AB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RB=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],PB=Ce("Pencil",RB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DB=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],dr=Ce("Play",DB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Os=Ce("Plus",MB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],PR=Ce("Printer",OB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]],DR=Ce("Radio",LB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FB=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],_j=Ce("RefreshCw",FB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VB=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],Gv=Ce("Repeat",VB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UB=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],UC=Ce("RotateCcw",UB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zB=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],ya=Ce("Save",zB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],io=Ce("Search",BB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $B=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],bx=Ce("Send",$B);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Od=Ce("Settings",qB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HB=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ru=Ce("Shield",HB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WB=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],_i=Ce("Sparkles",WB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KB=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],yo=Ce("SquarePen",KB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GB=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],MR=Ce("Square",GB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QB=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],fn=Ce("Star",QB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],JB=Ce("Sun",YB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],ZB=Ce("Swords",XB);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],t$=Ce("Target",e$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n$=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],hr=Ce("Trash2",n$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r$=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Nj=Ce("TrendingUp",r$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s$=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Sj=Ce("TriangleAlert",s$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i$=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],Kr=Ce("Trophy",i$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a$=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],jl=Ce("Upload",a$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o$=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],zC=Ce("UserCheck",o$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l$=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],_w=Ce("UserPlus",l$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c$=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],OR=Ce("User",c$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u$=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Fl=Ce("Users",u$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d$=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],fl=Ce("Video",d$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h$=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],_l=Ce("Volume2",h$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m$=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],Jm=Ce("VolumeX",m$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f$=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ps=Ce("X",f$),Ej=v.createContext({});function Cj(t){const e=v.useRef(null);return e.current===null&&(e.current=t()),e.current}const kj=typeof window<"u",LR=kj?v.useLayoutEffect:v.useEffect,xy=v.createContext(null);function Tj(t,e){t.indexOf(e)===-1&&t.push(e)}function Aj(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ao=(t,e,n)=>n>e?e:n<t?t:n;let Ij=()=>{};const oo={},FR=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function VR(t){return typeof t=="object"&&t!==null}const UR=t=>/^0[^.\s]+$/u.test(t);function Rj(t){let e;return()=>(e===void 0&&(e=t()),e)}const ei=t=>t,p$=(t,e)=>n=>e(t(n)),Pf=(...t)=>t.reduce(p$),Xm=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Pj{constructor(){this.subscriptions=[]}add(e){return Tj(this.subscriptions,e),()=>Aj(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const oa=t=>t*1e3,Zs=t=>t/1e3;function zR(t,e){return e?t*(1e3/e):0}const BR=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,g$=1e-7,x$=12;function y$(t,e,n,r,i){let a,o,c=0;do o=e+(n-e)/2,a=BR(o,r,i)-t,a>0?n=o:e=o;while(Math.abs(a)>g$&&++c<x$);return o}function Df(t,e,n,r){if(t===e&&n===r)return ei;const i=a=>y$(a,0,1,t,n);return a=>a===0||a===1?a:BR(i(a),e,r)}const $R=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,qR=t=>e=>1-t(1-e),HR=Df(.33,1.53,.69,.99),Dj=qR(HR),WR=$R(Dj),KR=t=>(t*=2)<1?.5*Dj(t):.5*(2-Math.pow(2,-10*(t-1))),Mj=t=>1-Math.sin(Math.acos(t)),GR=qR(Mj),QR=$R(Mj),v$=Df(.42,0,1,1),b$=Df(0,0,.58,1),YR=Df(.42,0,.58,1),w$=t=>Array.isArray(t)&&typeof t[0]!="number",JR=t=>Array.isArray(t)&&typeof t[0]=="number",j$={linear:ei,easeIn:v$,easeInOut:YR,easeOut:b$,circIn:Mj,circInOut:QR,circOut:GR,backIn:Dj,backInOut:WR,backOut:HR,anticipate:KR},_$=t=>typeof t=="string",BC=t=>{if(JR(t)){Ij(t.length===4);const[e,n,r,i]=t;return Df(e,n,r,i)}else if(_$(t))return j$[t];return t},fg=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function N$(t,e){let n=new Set,r=new Set,i=!1,a=!1;const o=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(m){o.has(m)&&(h.schedule(m),t()),m(c)}const h={schedule:(m,f=!1,g=!1)=>{const N=g&&i?n:r;return f&&o.add(m),N.has(m)||N.add(m),m},cancel:m=>{r.delete(m),o.delete(m)},process:m=>{if(c=m,i){a=!0;return}i=!0,[n,r]=[r,n],n.forEach(d),n.clear(),i=!1,a&&(a=!1,h.process(m))}};return h}const S$=40;function XR(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=fg.reduce((k,C)=>(k[C]=N$(a),k),{}),{setup:c,read:d,resolveKeyframes:h,preUpdate:m,update:f,preRender:g,render:x,postRender:N}=o,w=()=>{const k=oo.useManualTiming?i.timestamp:performance.now();n=!1,oo.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(k-i.timestamp,S$),1)),i.timestamp=k,i.isProcessing=!0,c.process(i),d.process(i),h.process(i),m.process(i),f.process(i),g.process(i),x.process(i),N.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(w))},j=()=>{n=!0,r=!0,i.isProcessing||t(w)};return{schedule:fg.reduce((k,C)=>{const R=o[C];return k[C]=(F,D=!1,P=!1)=>(n||j(),R.schedule(F,D,P)),k},{}),cancel:k=>{for(let C=0;C<fg.length;C++)o[fg[C]].cancel(k)},state:i,steps:o}}const{schedule:gn,cancel:Nl,state:xr,steps:Qv}=XR(typeof requestAnimationFrame<"u"?requestAnimationFrame:ei,!0);let qg;function E$(){qg=void 0}const ds={now:()=>(qg===void 0&&ds.set(xr.isProcessing||oo.useManualTiming?xr.timestamp:performance.now()),qg),set:t=>{qg=t,queueMicrotask(E$)}},ZR=t=>e=>typeof e=="string"&&e.startsWith(t),Oj=ZR("--"),C$=ZR("var(--"),Lj=t=>C$(t)?k$.test(t.split("/*")[0].trim()):!1,k$=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,nh={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Zm={...nh,transform:t=>ao(0,1,t)},pg={...nh,default:1},Tm=t=>Math.round(t*1e5)/1e5,Fj=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function T$(t){return t==null}const A$=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Vj=(t,e)=>n=>!!(typeof n=="string"&&A$.test(n)&&n.startsWith(t)||e&&!T$(n)&&Object.prototype.hasOwnProperty.call(n,e)),eP=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,a,o,c]=r.match(Fj);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(o),alpha:c!==void 0?parseFloat(c):1}},I$=t=>ao(0,255,t),Yv={...nh,transform:t=>Math.round(I$(t))},jc={test:Vj("rgb","red"),parse:eP("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Yv.transform(t)+", "+Yv.transform(e)+", "+Yv.transform(n)+", "+Tm(Zm.transform(r))+")"};function R$(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Nw={test:Vj("#"),parse:R$,transform:jc.transform},Mf=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Qo=Mf("deg"),la=Mf("%"),lt=Mf("px"),P$=Mf("vh"),D$=Mf("vw"),$C={...la,parse:t=>la.parse(t)/100,transform:t=>la.transform(t*100)},id={test:Vj("hsl","hue"),parse:eP("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+la.transform(Tm(e))+", "+la.transform(Tm(n))+", "+Tm(Zm.transform(r))+")"},Kn={test:t=>jc.test(t)||Nw.test(t)||id.test(t),parse:t=>jc.test(t)?jc.parse(t):id.test(t)?id.parse(t):Nw.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?jc.transform(t):id.transform(t),getAnimatableNone:t=>{const e=Kn.parse(t);return e.alpha=0,Kn.transform(e)}},M$=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function O$(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Fj))==null?void 0:e.length)||0)+(((n=t.match(M$))==null?void 0:n.length)||0)>0}const tP="number",nP="color",L$="var",F$="var(",qC="${}",V$=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ef(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const c=e.replace(V$,d=>(Kn.test(d)?(r.color.push(a),i.push(nP),n.push(Kn.parse(d))):d.startsWith(F$)?(r.var.push(a),i.push(L$),n.push(d)):(r.number.push(a),i.push(tP),n.push(parseFloat(d))),++a,qC)).split(qC);return{values:n,split:c,indexes:r,types:i}}function rP(t){return ef(t).values}function sP(t){const{split:e,types:n}=ef(t),r=e.length;return i=>{let a="";for(let o=0;o<r;o++)if(a+=e[o],i[o]!==void 0){const c=n[o];c===tP?a+=Tm(i[o]):c===nP?a+=Kn.transform(i[o]):a+=i[o]}return a}}const U$=t=>typeof t=="number"?0:Kn.test(t)?Kn.getAnimatableNone(t):t;function z$(t){const e=rP(t);return sP(t)(e.map(U$))}const Sl={test:O$,parse:rP,createTransformer:sP,getAnimatableNone:z$};function Jv(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function B$({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,a=0,o=0;if(!e)i=a=o=n;else{const c=n<.5?n*(1+e):n+e-n*e,d=2*n-c;i=Jv(d,c,t+1/3),a=Jv(d,c,t),o=Jv(d,c,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}function wx(t,e){return n=>n>0?e:t}const jn=(t,e,n)=>t+(e-t)*n,Xv=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},$$=[Nw,jc,id],q$=t=>$$.find(e=>e.test(t));function HC(t){const e=q$(t);if(!e)return!1;let n=e.parse(t);return e===id&&(n=B$(n)),n}const WC=(t,e)=>{const n=HC(t),r=HC(e);if(!n||!r)return wx(t,e);const i={...n};return a=>(i.red=Xv(n.red,r.red,a),i.green=Xv(n.green,r.green,a),i.blue=Xv(n.blue,r.blue,a),i.alpha=jn(n.alpha,r.alpha,a),jc.transform(i))},Sw=new Set(["none","hidden"]);function H$(t,e){return Sw.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function W$(t,e){return n=>jn(t,e,n)}function Uj(t){return typeof t=="number"?W$:typeof t=="string"?Lj(t)?wx:Kn.test(t)?WC:Q$:Array.isArray(t)?iP:typeof t=="object"?Kn.test(t)?WC:K$:wx}function iP(t,e){const n=[...t],r=n.length,i=t.map((a,o)=>Uj(a)(a,e[o]));return a=>{for(let o=0;o<r;o++)n[o]=i[o](a);return n}}function K$(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Uj(t[i])(t[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function G$(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],o=t.indexes[a][r[a]],c=t.values[o]??0;n[i]=c,r[a]++}return n}const Q$=(t,e)=>{const n=Sl.createTransformer(e),r=ef(t),i=ef(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Sw.has(t)&&!i.values.length||Sw.has(e)&&!r.values.length?H$(t,e):Pf(iP(G$(r,i),i.values),n):wx(t,e)};function aP(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?jn(t,e,n):Uj(t)(t,e)}const Y$=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>gn.update(e,n),stop:()=>Nl(e),now:()=>xr.isProcessing?xr.timestamp:ds.now()}},oP=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)r+=Math.round(t(a/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},jx=2e4;function zj(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<jx;)e+=n,r=t.next(e);return e>=jx?1/0:e}function J$(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(zj(r),jx);return{type:"keyframes",ease:a=>r.next(i*a).value/e,duration:Zs(i)}}const X$=5;function lP(t,e,n){const r=Math.max(e-X$,0);return zR(n-t(r),e-r)}const An={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Zv=.001;function Z$({duration:t=An.duration,bounce:e=An.bounce,velocity:n=An.velocity,mass:r=An.mass}){let i,a,o=1-e;o=ao(An.minDamping,An.maxDamping,o),t=ao(An.minDuration,An.maxDuration,Zs(t)),o<1?(i=h=>{const m=h*o,f=m*t,g=m-n,x=Ew(h,o),N=Math.exp(-f);return Zv-g/x*N},a=h=>{const f=h*o*t,g=f*n+n,x=Math.pow(o,2)*Math.pow(h,2)*t,N=Math.exp(-f),w=Ew(Math.pow(h,2),o);return(-i(h)+Zv>0?-1:1)*((g-x)*N)/w}):(i=h=>{const m=Math.exp(-h*t),f=(h-n)*t+1;return-Zv+m*f},a=h=>{const m=Math.exp(-h*t),f=(n-h)*(t*t);return m*f});const c=5/t,d=t8(i,a,c);if(t=oa(t),isNaN(d))return{stiffness:An.stiffness,damping:An.damping,duration:t};{const h=Math.pow(d,2)*r;return{stiffness:h,damping:o*2*Math.sqrt(r*h),duration:t}}}const e8=12;function t8(t,e,n){let r=n;for(let i=1;i<e8;i++)r=r-t(r)/e(r);return r}function Ew(t,e){return t*Math.sqrt(1-e*e)}const n8=["duration","bounce"],r8=["stiffness","damping","mass"];function KC(t,e){return e.some(n=>t[n]!==void 0)}function s8(t){let e={velocity:An.velocity,stiffness:An.stiffness,damping:An.damping,mass:An.mass,isResolvedFromDuration:!1,...t};if(!KC(t,r8)&&KC(t,n8))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*ao(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:An.mass,stiffness:i,damping:a}}else{const n=Z$(t);e={...e,...n,mass:An.mass},e.isResolvedFromDuration=!0}return e}function _x(t=An.visualDuration,e=An.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],c={done:!1,value:a},{stiffness:d,damping:h,mass:m,duration:f,velocity:g,isResolvedFromDuration:x}=s8({...n,velocity:-Zs(n.velocity||0)}),N=g||0,w=h/(2*Math.sqrt(d*m)),j=o-a,_=Zs(Math.sqrt(d/m)),E=Math.abs(j)<5;r||(r=E?An.restSpeed.granular:An.restSpeed.default),i||(i=E?An.restDelta.granular:An.restDelta.default);let k;if(w<1){const R=Ew(_,w);k=F=>{const D=Math.exp(-w*_*F);return o-D*((N+w*_*j)/R*Math.sin(R*F)+j*Math.cos(R*F))}}else if(w===1)k=R=>o-Math.exp(-_*R)*(j+(N+_*j)*R);else{const R=_*Math.sqrt(w*w-1);k=F=>{const D=Math.exp(-w*_*F),P=Math.min(R*F,300);return o-D*((N+w*_*j)*Math.sinh(P)+R*j*Math.cosh(P))/R}}const C={calculatedDuration:x&&f||null,next:R=>{const F=k(R);if(x)c.done=R>=f;else{let D=R===0?N:0;w<1&&(D=R===0?oa(N):lP(k,R,F));const P=Math.abs(D)<=r,I=Math.abs(o-F)<=i;c.done=P&&I}return c.value=c.done?o:F,c},toString:()=>{const R=Math.min(zj(C),jx),F=oP(D=>C.next(R*D).value,R,30);return R+"ms "+F},toTransition:()=>{}};return C}_x.applyToOptions=t=>{const e=J$(t,100,_x);return t.ease=e.ease,t.duration=oa(e.duration),t.type="keyframes",t};function Cw({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:c,max:d,restDelta:h=.5,restSpeed:m}){const f=t[0],g={done:!1,value:f},x=P=>c!==void 0&&P<c||d!==void 0&&P>d,N=P=>c===void 0?d:d===void 0||Math.abs(c-P)<Math.abs(d-P)?c:d;let w=n*e;const j=f+w,_=o===void 0?j:o(j);_!==j&&(w=_-f);const E=P=>-w*Math.exp(-P/r),k=P=>_+E(P),C=P=>{const I=E(P),O=k(P);g.done=Math.abs(I)<=h,g.value=g.done?_:O};let R,F;const D=P=>{x(g.value)&&(R=P,F=_x({keyframes:[g.value,N(g.value)],velocity:lP(k,P,g.value),damping:i,stiffness:a,restDelta:h,restSpeed:m}))};return D(0),{calculatedDuration:null,next:P=>{let I=!1;return!F&&R===void 0&&(I=!0,C(P),D(P)),R!==void 0&&P>=R?F.next(P-R):(!I&&C(P),g)}}}function i8(t,e,n){const r=[],i=n||oo.mix||aP,a=t.length-1;for(let o=0;o<a;o++){let c=i(t[o],t[o+1]);if(e){const d=Array.isArray(e)?e[o]||ei:e;c=Pf(d,c)}r.push(c)}return r}function a8(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;if(Ij(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=i8(e,r,i),d=c.length,h=m=>{if(o&&m<t[0])return e[0];let f=0;if(d>1)for(;f<t.length-2&&!(m<t[f+1]);f++);const g=Xm(t[f],t[f+1],m);return c[f](g)};return n?m=>h(ao(t[0],t[a-1],m)):h}function o8(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Xm(0,e,r);t.push(jn(n,1,i))}}function l8(t){const e=[0];return o8(e,t.length-1),e}function c8(t,e){return t.map(n=>n*e)}function u8(t,e){return t.map(()=>e||YR).splice(0,t.length-1)}function Am({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=w$(r)?r.map(BC):BC(r),a={done:!1,value:e[0]},o=c8(n&&n.length===e.length?n:l8(e),t),c=a8(o,e,{ease:Array.isArray(i)?i:u8(e,i)});return{calculatedDuration:t,next:d=>(a.value=c(d),a.done=d>=t,a)}}const d8=t=>t!==null;function Bj(t,{repeat:e,repeatType:n="loop"},r,i=1){const a=t.filter(d8),c=i<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!c||r===void 0?a[c]:r}const h8={decay:Cw,inertia:Cw,tween:Am,keyframes:Am,spring:_x};function cP(t){typeof t.type=="string"&&(t.type=h8[t.type])}class $j{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const m8=t=>t/100;class qj extends $j{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==ds.now()&&this.tick(ds.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;cP(e);const{type:n=Am,repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=e;let{keyframes:c}=e;const d=n||Am;d!==Am&&typeof c[0]!="number"&&(this.mixKeyframes=Pf(m8,aP(c[0],c[1])),c=[0,100]);const h=d({...e,keyframes:c});a==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...c].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=zj(h));const{calculatedDuration:m}=h;this.calculatedDuration=m,this.resolvedDuration=m+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=h}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:c,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:h=0,keyframes:m,repeat:f,repeatType:g,repeatDelay:x,type:N,onUpdate:w,finalKeyframe:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const _=this.currentTime-h*(this.playbackSpeed>=0?1:-1),E=this.playbackSpeed>=0?_<0:_>i;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let k=this.currentTime,C=r;if(f){const P=Math.min(this.currentTime,i)/c;let I=Math.floor(P),O=P%1;!O&&P>=1&&(O=1),O===1&&I--,I=Math.min(I,f+1),!!(I%2)&&(g==="reverse"?(O=1-O,x&&(O-=x/c)):g==="mirror"&&(C=o)),k=ao(0,1,O)*c}const R=E?{done:!1,value:m[0]}:C.next(k);a&&(R.value=a(R.value));let{done:F}=R;!E&&d!==null&&(F=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&F);return D&&N!==Cw&&(R.value=Bj(m,this.options,j,this.speed)),w&&w(R.value),D&&this.finish(),R}then(e,n){return this.finished.then(e,n)}get duration(){return Zs(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Zs(e)}get time(){return Zs(this.currentTime)}set time(e){var n;e=oa(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ds.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Zs(this.currentTime))}play(){var i,a;if(this.isStopped)return;const{driver:e=Y$,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(a=(i=this.options).onPlay)==null||a.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ds.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function f8(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const _c=t=>t*180/Math.PI,kw=t=>{const e=_c(Math.atan2(t[1],t[0]));return Tw(e)},p8={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:kw,rotateZ:kw,skewX:t=>_c(Math.atan(t[1])),skewY:t=>_c(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Tw=t=>(t=t%360,t<0&&(t+=360),t),GC=kw,QC=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),YC=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),g8={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:QC,scaleY:YC,scale:t=>(QC(t)+YC(t))/2,rotateX:t=>Tw(_c(Math.atan2(t[6],t[5]))),rotateY:t=>Tw(_c(Math.atan2(-t[2],t[0]))),rotateZ:GC,rotate:GC,skewX:t=>_c(Math.atan(t[4])),skewY:t=>_c(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Aw(t){return t.includes("scale")?1:0}function Iw(t,e){if(!t||t==="none")return Aw(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=g8,i=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=p8,i=c}if(!i)return Aw(e);const a=r[e],o=i[1].split(",").map(y8);return typeof a=="function"?a(o):o[a]}const x8=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Iw(n,e)};function y8(t){return parseFloat(t.trim())}const rh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],sh=new Set(rh),JC=t=>t===nh||t===lt,v8=new Set(["x","y","z"]),b8=rh.filter(t=>!v8.has(t));function w8(t){const e=[];return b8.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Oc={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Iw(e,"x"),y:(t,{transform:e})=>Iw(e,"y")};Oc.translateX=Oc.x;Oc.translateY=Oc.y;const Lc=new Set;let Rw=!1,Pw=!1,Dw=!1;function uP(){if(Pw){const t=Array.from(Lc).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=w8(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,o])=>{var c;(c=r.getValue(a))==null||c.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Pw=!1,Rw=!1,Lc.forEach(t=>t.complete(Dw)),Lc.clear()}function dP(){Lc.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Pw=!0)})}function j8(){Dw=!0,dP(),uP(),Dw=!1}class Hj{constructor(e,n,r,i,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Lc.add(this),Rw||(Rw=!0,gn.read(dP),gn.resolveKeyframes(uP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const a=i==null?void 0:i.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const c=r.readValue(n,o);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=o),i&&a===void 0&&i.set(e[0])}f8(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Lc.delete(this)}cancel(){this.state==="scheduled"&&(Lc.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const _8=t=>t.startsWith("--");function N8(t,e,n){_8(e)?t.style.setProperty(e,n):t.style[e]=n}const S8=Rj(()=>window.ScrollTimeline!==void 0),E8={};function C8(t,e){const n=Rj(t);return()=>E8[e]??n()}const hP=C8(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ym=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,XC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ym([0,.65,.55,1]),circOut:ym([.55,0,1,.45]),backIn:ym([.31,.01,.66,-.59]),backOut:ym([.33,1.53,.69,.99])};function mP(t,e){if(t)return typeof t=="function"?hP()?oP(t,e):"ease-out":JR(t)?ym(t):Array.isArray(t)?t.map(n=>mP(n,e)||XC.easeOut):XC[t]}function k8(t,e,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:c="easeOut",times:d}={},h=void 0){const m={[e]:n};d&&(m.offset=d);const f=mP(c,i);Array.isArray(f)&&(m.easing=f);const g={delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return h&&(g.pseudoElement=h),t.animate(m,g)}function fP(t){return typeof t=="function"&&"applyToOptions"in t}function T8({type:t,...e}){return fP(t)&&hP()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class A8 extends $j{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:c,onComplete:d}=e;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=e,Ij(typeof e.type!="string");const h=T8(e);this.animation=k8(n,r,i,h,a),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const m=Bj(i,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(m):N8(n,r,m),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Zs(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Zs(e)}get time(){return Zs(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=oa(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&S8()?(this.animation.timeline=e,ei):n(this)}}const pP={anticipate:KR,backInOut:WR,circInOut:QR};function I8(t){return t in pP}function R8(t){typeof t.ease=="string"&&I8(t.ease)&&(t.ease=pP[t.ease])}const ZC=10;class P8 extends A8{constructor(e){R8(e),cP(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:a,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const c=new qj({...o,autoplay:!1}),d=oa(this.finishedTime??this.time);n.setWithVelocity(c.sample(d-ZC).value,c.sample(d).value,ZC),c.stop()}}const ek=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Sl.test(t)||t==="0")&&!t.startsWith("url("));function D8(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function M8(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],o=ek(i,e),c=ek(a,e);return!o||!c?!1:D8(t)||(n==="spring"||fP(n))&&r}function Mw(t){t.duration=0,t.type="keyframes"}const O8=new Set(["opacity","clipPath","filter","transform"]),L8=Rj(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function F8(t){var m;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:a,type:o}=t;if(!(((m=e==null?void 0:e.owner)==null?void 0:m.current)instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:h}=e.owner.getProps();return L8()&&n&&O8.has(n)&&(n!=="transform"||!h)&&!d&&!r&&i!=="mirror"&&a!==0&&o!=="inertia"}const V8=40;class U8 extends $j{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",keyframes:c,name:d,motionValue:h,element:m,...f}){var N;super(),this.stop=()=>{var w,j;this._animation&&(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)),(j=this.keyframeResolver)==null||j.cancel()},this.createdAt=ds.now();const g={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:o,name:d,motionValue:h,element:m,...f},x=(m==null?void 0:m.KeyframeResolver)||Hj;this.keyframeResolver=new x(c,(w,j,_)=>this.onKeyframesResolved(w,j,g,!_),d,h,m),(N=this.keyframeResolver)==null||N.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:a,type:o,velocity:c,delay:d,isHandoff:h,onUpdate:m}=r;this.resolvedAt=ds.now(),M8(e,a,o,c)||((oo.instantAnimations||!d)&&(m==null||m(Bj(e,r,n))),e[0]=e[e.length-1],Mw(r),r.repeat=0);const g={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>V8?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},x=!h&&F8(g)?new P8({...g,element:g.motionValue.owner.current}):new qj(g);x.finished.then(()=>this.notifyFinished()).catch(ei),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),j8()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const z8=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function B8(t){const e=z8.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function gP(t,e,n=1){const[r,i]=B8(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const o=a.trim();return FR(o)?parseFloat(o):o}return Lj(i)?gP(i,e,n+1):i}function Wj(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const xP=new Set(["width","height","top","left","right","bottom",...rh]),$8={test:t=>t==="auto",parse:t=>t},yP=t=>e=>e.test(t),vP=[nh,lt,la,Qo,D$,P$,$8],tk=t=>vP.find(yP(t));function q8(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||UR(t):!0}const H8=new Set(["brightness","contrast","saturate","opacity"]);function W8(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Fj)||[];if(!r)return t;const i=n.replace(r,"");let a=H8.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const K8=/\b([a-z-]*)\(.*?\)/gu,Ow={...Sl,getAnimatableNone:t=>{const e=t.match(K8);return e?e.map(W8).join(" "):t}},nk={...nh,transform:Math.round},G8={rotate:Qo,rotateX:Qo,rotateY:Qo,rotateZ:Qo,scale:pg,scaleX:pg,scaleY:pg,scaleZ:pg,skew:Qo,skewX:Qo,skewY:Qo,distance:lt,translateX:lt,translateY:lt,translateZ:lt,x:lt,y:lt,z:lt,perspective:lt,transformPerspective:lt,opacity:Zm,originX:$C,originY:$C,originZ:lt},Kj={borderWidth:lt,borderTopWidth:lt,borderRightWidth:lt,borderBottomWidth:lt,borderLeftWidth:lt,borderRadius:lt,radius:lt,borderTopLeftRadius:lt,borderTopRightRadius:lt,borderBottomRightRadius:lt,borderBottomLeftRadius:lt,width:lt,maxWidth:lt,height:lt,maxHeight:lt,top:lt,right:lt,bottom:lt,left:lt,padding:lt,paddingTop:lt,paddingRight:lt,paddingBottom:lt,paddingLeft:lt,margin:lt,marginTop:lt,marginRight:lt,marginBottom:lt,marginLeft:lt,backgroundPositionX:lt,backgroundPositionY:lt,...G8,zIndex:nk,fillOpacity:Zm,strokeOpacity:Zm,numOctaves:nk},Q8={...Kj,color:Kn,backgroundColor:Kn,outlineColor:Kn,fill:Kn,stroke:Kn,borderColor:Kn,borderTopColor:Kn,borderRightColor:Kn,borderBottomColor:Kn,borderLeftColor:Kn,filter:Ow,WebkitFilter:Ow},bP=t=>Q8[t];function wP(t,e){let n=bP(t);return n!==Ow&&(n=Sl),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Y8=new Set(["auto","none","0"]);function J8(t,e,n){let r=0,i;for(;r<t.length&&!i;){const a=t[r];typeof a=="string"&&!Y8.has(a)&&ef(a).values.length&&(i=t[r]),r++}if(i&&n)for(const a of e)t[a]=wP(n,i)}class X8 extends Hj{constructor(e,n,r,i,a){super(e,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let h=e[d];if(typeof h=="string"&&(h=h.trim(),Lj(h))){const m=gP(h,n.current);m!==void 0&&(e[d]=m),d===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!xP.has(r)||e.length!==2)return;const[i,a]=e,o=tk(i),c=tk(a);if(o!==c)if(JC(o)&&JC(c))for(let d=0;d<e.length;d++){const h=e[d];typeof h=="string"&&(e[d]=parseFloat(h))}else Oc[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||q8(e[i]))&&r.push(i);r.length&&J8(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Oc[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var c;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,o=r[a];r[a]=Oc[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([d,h])=>{e.getValue(d).set(h)}),this.resolveNoneKeyframes()}}function Z8(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const jP=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function _P(t){return VR(t)&&"offsetHeight"in t}const rk=30,e7=t=>!isNaN(parseFloat(t));class t7{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var a;const i=ds.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ds.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=e7(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Pj);const r=this.events[e].add(n);return e==="change"?()=>{r(),gn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ds.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>rk)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,rk);return zR(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ld(t,e){return new t7(t,e)}const{schedule:Gj}=XR(queueMicrotask,!1),xi={x:!1,y:!1};function NP(){return xi.x||xi.y}function n7(t){return t==="x"||t==="y"?xi[t]?null:(xi[t]=!0,()=>{xi[t]=!1}):xi.x||xi.y?null:(xi.x=xi.y=!0,()=>{xi.x=xi.y=!1})}function SP(t,e){const n=Z8(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function sk(t){return!(t.pointerType==="touch"||NP())}function r7(t,e,n={}){const[r,i,a]=SP(t,n),o=c=>{if(!sk(c))return;const{target:d}=c,h=e(d,c);if(typeof h!="function"||!d)return;const m=f=>{sk(f)&&(h(f),d.removeEventListener("pointerleave",m))};d.addEventListener("pointerleave",m,i)};return r.forEach(c=>{c.addEventListener("pointerenter",o,i)}),a}const EP=(t,e)=>e?t===e?!0:EP(t,e.parentElement):!1,Qj=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,s7=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function i7(t){return s7.has(t.tagName)||t.tabIndex!==-1}const Hg=new WeakSet;function ik(t){return e=>{e.key==="Enter"&&t(e)}}function eb(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const a7=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=ik(()=>{if(Hg.has(n))return;eb(n,"down");const i=ik(()=>{eb(n,"up")}),a=()=>eb(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function ak(t){return Qj(t)&&!NP()}function o7(t,e,n={}){const[r,i,a]=SP(t,n),o=c=>{const d=c.currentTarget;if(!ak(c))return;Hg.add(d);const h=e(d,c),m=(x,N)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",g),Hg.has(d)&&Hg.delete(d),ak(x)&&typeof h=="function"&&h(x,{success:N})},f=x=>{m(x,d===window||d===document||n.useGlobalTarget||EP(d,x.target))},g=x=>{m(x,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",g,i)};return r.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",o,i),_P(c)&&(c.addEventListener("focus",h=>a7(h,i)),!i7(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),a}function CP(t){return VR(t)&&"ownerSVGElement"in t}function l7(t){return CP(t)&&t.tagName==="svg"}const Pr=t=>!!(t&&t.getVelocity),c7=[...vP,Kn,Sl],u7=t=>c7.find(yP(t)),Yj=v.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function ok(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function d7(...t){return e=>{let n=!1;const r=t.map(i=>{const a=ok(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():ok(t[i],null)}}}}function h7(...t){return v.useCallback(d7(...t),t)}class m7 extends v.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=_P(r)&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function f7({children:t,isPresent:e,anchorX:n,root:r}){const i=v.useId(),a=v.useRef(null),o=v.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=v.useContext(Yj),d=h7(a,t==null?void 0:t.ref);return v.useInsertionEffect(()=>{const{width:h,height:m,top:f,left:g,right:x}=o.current;if(e||!a.current||!h||!m)return;const N=n==="left"?`left: ${g}`:`right: ${x}`;a.current.dataset.motionPopId=i;const w=document.createElement("style");c&&(w.nonce=c);const j=r??document.head;return j.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${m}px !important;
            ${N}px !important;
            top: ${f}px !important;
          }
        `),()=>{j.contains(w)&&j.removeChild(w)}},[e]),s.jsx(m7,{isPresent:e,childRef:a,sizeRef:o,children:v.cloneElement(t,{ref:d})})}const p7=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:o,anchorX:c,root:d})=>{const h=Cj(g7),m=v.useId();let f=!0,g=v.useMemo(()=>(f=!1,{id:m,initial:e,isPresent:n,custom:i,onExitComplete:x=>{h.set(x,!0);for(const N of h.values())if(!N)return;r&&r()},register:x=>(h.set(x,!1),()=>h.delete(x))}),[n,h,r]);return a&&f&&(g={...g}),v.useMemo(()=>{h.forEach((x,N)=>h.set(N,!1))},[n]),v.useEffect(()=>{!n&&!h.size&&r&&r()},[n]),o==="popLayout"&&(t=s.jsx(f7,{isPresent:n,anchorX:c,root:d,children:t})),s.jsx(xy.Provider,{value:g,children:t})};function g7(){return new Map}function kP(t=!0){const e=v.useContext(xy);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,a=v.useId();v.useEffect(()=>{if(t)return i(a)},[t]);const o=v.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,o]:[!0]}const gg=t=>t.key||"";function lk(t){const e=[];return v.Children.forEach(t,n=>{v.isValidElement(n)&&e.push(n)}),e}const ri=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:o=!1,anchorX:c="left",root:d})=>{const[h,m]=kP(o),f=v.useMemo(()=>lk(t),[t]),g=o&&!h?[]:f.map(gg),x=v.useRef(!0),N=v.useRef(f),w=Cj(()=>new Map),[j,_]=v.useState(f),[E,k]=v.useState(f);LR(()=>{x.current=!1,N.current=f;for(let F=0;F<E.length;F++){const D=gg(E[F]);g.includes(D)?w.delete(D):w.get(D)!==!0&&w.set(D,!1)}},[E,g.length,g.join("-")]);const C=[];if(f!==j){let F=[...f];for(let D=0;D<E.length;D++){const P=E[D],I=gg(P);g.includes(I)||(F.splice(D,0,P),C.push(P))}return a==="wait"&&C.length&&(F=C),k(lk(F)),_(f),null}const{forceRender:R}=v.useContext(Ej);return s.jsx(s.Fragment,{children:E.map(F=>{const D=gg(F),P=o&&!h?!1:f===E||g.includes(D),I=()=>{if(w.has(D))w.set(D,!0);else return;let O=!0;w.forEach(V=>{V||(O=!1)}),O&&(R==null||R(),k(N.current),o&&(m==null||m()),r&&r())};return s.jsx(p7,{isPresent:P,initial:!x.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:a,root:d,onExitComplete:P?void 0:I,anchorX:c,children:F},D)})})},TP=v.createContext({strict:!1}),ck={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Fd={};for(const t in ck)Fd[t]={isEnabled:e=>ck[t].some(n=>!!e[n])};function x7(t){for(const e in t)Fd[e]={...Fd[e],...t[e]}}const y7=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Nx(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||y7.has(t)}let AP=t=>!Nx(t);function v7(t){typeof t=="function"&&(AP=e=>e.startsWith("on")?!Nx(e):t(e))}try{v7(require("@emotion/is-prop-valid").default)}catch{}function b7(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(AP(i)||n===!0&&Nx(i)||!e&&!Nx(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const yy=v.createContext({});function vy(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function tf(t){return typeof t=="string"||Array.isArray(t)}const Jj=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Xj=["initial",...Jj];function by(t){return vy(t.animate)||Xj.some(e=>tf(t[e]))}function IP(t){return!!(by(t)||t.variants)}function w7(t,e){if(by(t)){const{initial:n,animate:r}=t;return{initial:n===!1||tf(n)?n:void 0,animate:tf(r)?r:void 0}}return t.inherit!==!1?e:{}}function j7(t){const{initial:e,animate:n}=w7(t,v.useContext(yy));return v.useMemo(()=>({initial:e,animate:n}),[uk(e),uk(n)])}function uk(t){return Array.isArray(t)?t.join(" "):t}const nf={};function _7(t){for(const e in t)nf[e]=t[e],Oj(e)&&(nf[e].isCSSVariable=!0)}function RP(t,{layout:e,layoutId:n}){return sh.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!nf[t]||t==="opacity")}const N7={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},S7=rh.length;function E7(t,e,n){let r="",i=!0;for(let a=0;a<S7;a++){const o=rh[a],c=t[o];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(o.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||n){const h=jP(c,Kj[o]);if(!d){i=!1;const m=N7[o]||o;r+=`${m}(${h}) `}n&&(e[o]=h)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function Zj(t,e,n){const{style:r,vars:i,transformOrigin:a}=t;let o=!1,c=!1;for(const d in e){const h=e[d];if(sh.has(d)){o=!0;continue}else if(Oj(d)){i[d]=h;continue}else{const m=jP(h,Kj[d]);d.startsWith("origin")?(c=!0,a[d]=m):r[d]=m}}if(e.transform||(o||n?r.transform=E7(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:d="50%",originY:h="50%",originZ:m=0}=a;r.transformOrigin=`${d} ${h} ${m}`}}const e_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function PP(t,e,n){for(const r in e)!Pr(e[r])&&!RP(r,n)&&(t[r]=e[r])}function C7({transformTemplate:t},e){return v.useMemo(()=>{const n=e_();return Zj(n,e,t),Object.assign({},n.vars,n.style)},[e])}function k7(t,e){const n=t.style||{},r={};return PP(r,n,t),Object.assign(r,C7(t,e)),r}function T7(t,e){const n={},r=k7(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const A7={offset:"stroke-dashoffset",array:"stroke-dasharray"},I7={offset:"strokeDashoffset",array:"strokeDasharray"};function R7(t,e,n=1,r=0,i=!0){t.pathLength=1;const a=i?A7:I7;t[a.offset]=lt.transform(-r);const o=lt.transform(e),c=lt.transform(n);t[a.array]=`${o} ${c}`}function DP(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:o=0,...c},d,h,m){if(Zj(t,c,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:g}=t;f.transform&&(g.transform=f.transform,delete f.transform),(g.transform||f.transformOrigin)&&(g.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),g.transform&&(g.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),i!==void 0&&R7(f,i,a,o,!1)}const MP=()=>({...e_(),attrs:{}}),OP=t=>typeof t=="string"&&t.toLowerCase()==="svg";function P7(t,e,n,r){const i=v.useMemo(()=>{const a=MP();return DP(a,e,OP(r),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};PP(a,t.style,t),i.style={...a,...i.style}}return i}const D7=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function t_(t){return typeof t!="string"||t.includes("-")?!1:!!(D7.indexOf(t)>-1||/[A-Z]/u.test(t))}function M7(t,e,n,{latestValues:r},i,a=!1){const c=(t_(t)?P7:T7)(e,r,i,t),d=b7(e,typeof t=="string",a),h=t!==v.Fragment?{...d,...c,ref:n}:{},{children:m}=e,f=v.useMemo(()=>Pr(m)?m.get():m,[m]);return v.createElement(t,{...h,children:f})}function dk(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function n_(t,e,n,r){if(typeof e=="function"){const[i,a]=dk(r);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=dk(r);e=e(n!==void 0?n:t.custom,i,a)}return e}function Wg(t){return Pr(t)?t.get():t}function O7({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:L7(n,r,i,t),renderState:e()}}function L7(t,e,n,r){const i={},a=r(t,{});for(const g in a)i[g]=Wg(a[g]);let{initial:o,animate:c}=t;const d=by(t),h=IP(t);e&&h&&!d&&t.inherit!==!1&&(o===void 0&&(o=e.initial),c===void 0&&(c=e.animate));let m=n?n.initial===!1:!1;m=m||o===!1;const f=m?c:o;if(f&&typeof f!="boolean"&&!vy(f)){const g=Array.isArray(f)?f:[f];for(let x=0;x<g.length;x++){const N=n_(t,g[x]);if(N){const{transitionEnd:w,transition:j,..._}=N;for(const E in _){let k=_[E];if(Array.isArray(k)){const C=m?k.length-1:0;k=k[C]}k!==null&&(i[E]=k)}for(const E in w)i[E]=w[E]}}}return i}const LP=t=>(e,n)=>{const r=v.useContext(yy),i=v.useContext(xy),a=()=>O7(t,e,r,i);return n?a():Cj(a)};function r_(t,e,n){var a;const{style:r}=t,i={};for(const o in r)(Pr(r[o])||e.style&&Pr(e.style[o])||RP(o,t)||((a=n==null?void 0:n.getValue(o))==null?void 0:a.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const F7=LP({scrapeMotionValuesFromProps:r_,createRenderState:e_});function FP(t,e,n){const r=r_(t,e,n);for(const i in t)if(Pr(t[i])||Pr(e[i])){const a=rh.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=t[i]}return r}const V7=LP({scrapeMotionValuesFromProps:FP,createRenderState:MP}),U7=Symbol.for("motionComponentSymbol");function ad(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function z7(t,e,n){return v.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ad(n)&&(n.current=r))},[e])}const s_=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),B7="framerAppearId",VP="data-"+s_(B7),UP=v.createContext({});function $7(t,e,n,r,i){var w,j;const{visualElement:a}=v.useContext(yy),o=v.useContext(TP),c=v.useContext(xy),d=v.useContext(Yj).reducedMotion,h=v.useRef(null);r=r||o.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const m=h.current,f=v.useContext(UP);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&q7(h.current,n,i,f);const g=v.useRef(!1);v.useInsertionEffect(()=>{m&&g.current&&m.update(n,c)});const x=n[VP],N=v.useRef(!!x&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,x))&&((j=window.MotionHasOptimisedAnimation)==null?void 0:j.call(window,x)));return LR(()=>{m&&(g.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),N.current&&m.animationState&&m.animationState.animateChanges())}),v.useEffect(()=>{m&&(!N.current&&m.animationState&&m.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)==null||_.call(window,x)}),N.current=!1),m.enteringChildren=void 0)}),m}function q7(t,e,n,r){const{layoutId:i,layout:a,drag:o,dragConstraints:c,layoutScroll:d,layoutRoot:h,layoutCrossfade:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:zP(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||c&&ad(c),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:m,layoutScroll:d,layoutRoot:h})}function zP(t){if(t)return t.options.allowProjection!==!1?t.projection:zP(t.parent)}function tb(t,{forwardMotionProps:e=!1}={},n,r){n&&x7(n);const i=t_(t)?V7:F7;function a(c,d){let h;const m={...v.useContext(Yj),...c,layoutId:H7(c)},{isStatic:f}=m,g=j7(c),x=i(c,f);if(!f&&kj){W7();const N=K7(m);h=N.MeasureLayout,g.visualElement=$7(t,x,m,r,N.ProjectionNode)}return s.jsxs(yy.Provider,{value:g,children:[h&&g.visualElement?s.jsx(h,{visualElement:g.visualElement,...m}):null,M7(t,c,z7(x,g.visualElement,d),x,f,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=v.forwardRef(a);return o[U7]=t,o}function H7({layoutId:t}){const e=v.useContext(Ej).id;return e&&t!==void 0?e+"-"+t:t}function W7(t,e){v.useContext(TP).strict}function K7(t){const{drag:e,layout:n}=Fd;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function G7(t,e){if(typeof Proxy>"u")return tb;const n=new Map,r=(a,o)=>tb(a,o,t,e),i=(a,o)=>r(a,o);return new Proxy(i,{get:(a,o)=>o==="create"?r:(n.has(o)||n.set(o,tb(o,void 0,t,e)),n.get(o))})}function BP({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Q7({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Y7(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function nb(t){return t===void 0||t===1}function Lw({scale:t,scaleX:e,scaleY:n}){return!nb(t)||!nb(e)||!nb(n)}function bc(t){return Lw(t)||$P(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function $P(t){return hk(t.x)||hk(t.y)}function hk(t){return t&&t!=="0%"}function Sx(t,e,n){const r=t-n,i=e*r;return n+i}function mk(t,e,n,r,i){return i!==void 0&&(t=Sx(t,i,r)),Sx(t,n,r)+e}function Fw(t,e=0,n=1,r,i){t.min=mk(t.min,e,n,r,i),t.max=mk(t.max,e,n,r,i)}function qP(t,{x:e,y:n}){Fw(t.x,e.translate,e.scale,e.originPoint),Fw(t.y,n.translate,n.scale,n.originPoint)}const fk=.999999999999,pk=1.0000000000001;function J7(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,o;for(let c=0;c<i;c++){a=n[c],o=a.projectionDelta;const{visualElement:d}=a.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&ld(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,qP(t,o)),r&&bc(a.latestValues)&&ld(t,a.latestValues))}e.x<pk&&e.x>fk&&(e.x=1),e.y<pk&&e.y>fk&&(e.y=1)}function od(t,e){t.min=t.min+e,t.max=t.max+e}function gk(t,e,n,r,i=.5){const a=jn(t.min,t.max,i);Fw(t,e,n,a,r)}function ld(t,e){gk(t.x,e.x,e.scaleX,e.scale,e.originX),gk(t.y,e.y,e.scaleY,e.scale,e.originY)}function HP(t,e){return BP(Y7(t.getBoundingClientRect(),e))}function X7(t,e,n){const r=HP(t,n),{scroll:i}=e;return i&&(od(r.x,i.offset.x),od(r.y,i.offset.y)),r}const xk=()=>({translate:0,scale:1,origin:0,originPoint:0}),cd=()=>({x:xk(),y:xk()}),yk=()=>({min:0,max:0}),On=()=>({x:yk(),y:yk()}),Vw={current:null},WP={current:!1};function Z7(){if(WP.current=!0,!!kj)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Vw.current=t.matches;t.addEventListener("change",e),e()}else Vw.current=!1}const eq=new WeakMap;function tq(t,e,n){for(const r in e){const i=e[r],a=n[r];if(Pr(i))t.addValue(r,i);else if(Pr(a))t.addValue(r,Ld(i,{owner:t}));else if(a!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Ld(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const vk=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class nq{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:o},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Hj,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=ds.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,gn.render(this.render,!1,!0))};const{latestValues:d,renderState:h}=o;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=by(n),this.isVariantNode=IP(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in f){const x=f[g];d[g]!==void 0&&Pr(x)&&x.set(d[g])}}mount(e){var n;this.current=e,eq.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),WP.current||Z7(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Vw.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Nl(this.notifyUpdate),Nl(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=sh.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&gn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Fd){const n=Fd[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):On()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<vk.length;r++){const i=vk[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=e[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=tq(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Ld(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(FR(r)||UR(r))?r=parseFloat(r):!u7(r)&&Sl.test(n)&&(r=wP(e,n)),this.setBaseTarget(e,Pr(r)?r.get():r)),Pr(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var a;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=n_(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Pr(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Pj),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Gj.render(this.render)}}class KP extends nq{constructor(){super(...arguments),this.KeyframeResolver=X8}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Pr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function GP(t,{style:e,vars:n},r,i){const a=t.style;let o;for(o in e)a[o]=e[o];i==null||i.applyProjectionStyles(a,r);for(o in n)a.setProperty(o,n[o])}function rq(t){return window.getComputedStyle(t)}class sq extends KP{constructor(){super(...arguments),this.type="html",this.renderInstance=GP}readValueFromInstance(e,n){var r;if(sh.has(n))return(r=this.projection)!=null&&r.isProjecting?Aw(n):x8(e,n);{const i=rq(e),a=(Oj(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return HP(e,n)}build(e,n,r){Zj(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return r_(e,n,r)}}const QP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function iq(t,e,n,r){GP(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(QP.has(i)?i:s_(i),e.attrs[i])}class aq extends KP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=On}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(sh.has(n)){const r=bP(n);return r&&r.default||0}return n=QP.has(n)?n:s_(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return FP(e,n,r)}build(e,n,r){DP(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){iq(e,n,r,i)}mount(e){this.isSVGTag=OP(e.tagName),super.mount(e)}}const oq=(t,e)=>t_(t)?new aq(e):new sq(e,{allowProjection:t!==v.Fragment});function hd(t,e,n){const r=t.getProps();return n_(r,e,n!==void 0?n:r.custom,t)}const Uw=t=>Array.isArray(t);function lq(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ld(n))}function cq(t){return Uw(t)?t[t.length-1]||0:t}function uq(t,e){const n=hd(t,e);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const o in a){const c=cq(a[o]);lq(t,o,c)}}function dq(t){return!!(Pr(t)&&t.add)}function zw(t,e){const n=t.getValue("willChange");if(dq(n))return n.add(e);if(!n&&oo.WillChange){const r=new oo.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function YP(t){return t.props[VP]}const hq=t=>t!==null;function mq(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(hq),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[a]}const fq={type:"spring",stiffness:500,damping:25,restSpeed:10},pq=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),gq={type:"keyframes",duration:.8},xq={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},yq=(t,{keyframes:e})=>e.length>2?gq:sh.has(t)?t.startsWith("scale")?pq(e[1]):fq:xq;function vq({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:c,from:d,elapsed:h,...m}){return!!Object.keys(m).length}const i_=(t,e,n,r={},i,a)=>o=>{const c=Wj(r,t)||{},d=c.delay||r.delay||0;let{elapsed:h=0}=r;h=h-oa(d);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-h,onUpdate:g=>{e.set(g),c.onUpdate&&c.onUpdate(g)},onComplete:()=>{o(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:a?void 0:i};vq(c)||Object.assign(m,yq(t,m)),m.duration&&(m.duration=oa(m.duration)),m.repeatDelay&&(m.repeatDelay=oa(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let f=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(Mw(m),m.delay===0&&(f=!0)),(oo.instantAnimations||oo.skipAnimations)&&(f=!0,Mw(m),m.delay=0),m.allowFlatten=!c.type&&!c.ease,f&&!a&&e.get()!==void 0){const g=mq(m.keyframes,c);if(g!==void 0){gn.update(()=>{m.onUpdate(g),m.onComplete()});return}}return c.isSync?new qj(m):new U8(m)};function bq({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function JP(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:o,...c}=e;r&&(a=r);const d=[],h=i&&t.animationState&&t.animationState.getState()[i];for(const m in c){const f=t.getValue(m,t.latestValues[m]??null),g=c[m];if(g===void 0||h&&bq(h,m))continue;const x={delay:n,...Wj(a||{},m)},N=f.get();if(N!==void 0&&!f.isAnimating&&!Array.isArray(g)&&g===N&&!x.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const _=YP(t);if(_){const E=window.MotionHandoffAnimation(_,m,gn);E!==null&&(x.startTime=E,w=!0)}}zw(t,m),f.start(i_(m,f,g,t.shouldReduceMotion&&xP.has(m)?{type:!1}:x,t,w));const j=f.animation;j&&d.push(j)}return o&&Promise.all(d).then(()=>{gn.update(()=>{o&&uq(t,o)})}),d}function XP(t,e,n,r=0,i=1){const a=Array.from(t).sort((h,m)=>h.sortNodePosition(m)).indexOf(e),o=t.size,c=(o-1)*r;return typeof n=="function"?n(a,o):i===1?a*r:c-a*r}function Bw(t,e,n={}){var d;const r=hd(t,e,n.type==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(JP(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:m=0,staggerChildren:f,staggerDirection:g}=i;return wq(t,e,h,m,f,g,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[h,m]=c==="beforeChildren"?[a,o]:[o,a];return h().then(()=>m())}else return Promise.all([a(),o(n.delay)])}function wq(t,e,n=0,r=0,i=0,a=1,o){const c=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),c.push(Bw(d,e,{...o,delay:n+(typeof r=="function"?0:r)+XP(t.variantChildren,d,r,i,a)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(c)}function jq(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>Bw(t,a,n));r=Promise.all(i)}else if(typeof e=="string")r=Bw(t,e,n);else{const i=typeof e=="function"?hd(t,e,n.custom):e;r=Promise.all(JP(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function ZP(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const _q=Xj.length;function e4(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?e4(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<_q;n++){const r=Xj[n],i=t.props[r];(tf(i)||i===!1)&&(e[r]=i)}return e}const Nq=[...Jj].reverse(),Sq=Jj.length;function Eq(t){return e=>Promise.all(e.map(({animation:n,options:r})=>jq(t,n,r)))}function Cq(t){let e=Eq(t),n=bk(),r=!0;const i=d=>(h,m)=>{var g;const f=hd(t,m,d==="exit"?(g=t.presenceContext)==null?void 0:g.custom:void 0);if(f){const{transition:x,transitionEnd:N,...w}=f;h={...h,...w,...N}}return h};function a(d){e=d(t)}function o(d){const{props:h}=t,m=e4(t.parent)||{},f=[],g=new Set;let x={},N=1/0;for(let j=0;j<Sq;j++){const _=Nq[j],E=n[_],k=h[_]!==void 0?h[_]:m[_],C=tf(k),R=_===d?E.isActive:null;R===!1&&(N=j);let F=k===m[_]&&k!==h[_]&&C;if(F&&r&&t.manuallyAnimateOnMount&&(F=!1),E.protectedKeys={...x},!E.isActive&&R===null||!k&&!E.prevProp||vy(k)||typeof k=="boolean")continue;const D=kq(E.prevProp,k);let P=D||_===d&&E.isActive&&!F&&C||j>N&&C,I=!1;const O=Array.isArray(k)?k:[k];let V=O.reduce(i(_),{});R===!1&&(V={});const{prevResolvedValues:L={}}=E,U={...L,...V},ee=ae=>{P=!0,g.has(ae)&&(I=!0,g.delete(ae)),E.needsAnimating[ae]=!0;const Q=t.getValue(ae);Q&&(Q.liveStyle=!1)};for(const ae in U){const Q=V[ae],q=L[ae];if(x.hasOwnProperty(ae))continue;let B=!1;Uw(Q)&&Uw(q)?B=!ZP(Q,q):B=Q!==q,B?Q!=null?ee(ae):g.add(ae):Q!==void 0&&g.has(ae)?ee(ae):E.protectedKeys[ae]=!0}E.prevProp=k,E.prevResolvedValues=V,E.isActive&&(x={...x,...V}),r&&t.blockInitialAnimation&&(P=!1);const re=F&&D;P&&(!re||I)&&f.push(...O.map(ae=>{const Q={type:_};if(typeof ae=="string"&&r&&!re&&t.manuallyAnimateOnMount&&t.parent){const{parent:q}=t,B=hd(q,ae);if(q.enteringChildren&&B){const{delayChildren:$}=B.transition||{};Q.delay=XP(q.enteringChildren,t,$)}}return{animation:ae,options:Q}}))}if(g.size){const j={};if(typeof h.initial!="boolean"){const _=hd(t,Array.isArray(h.initial)?h.initial[0]:h.initial);_&&_.transition&&(j.transition=_.transition)}g.forEach(_=>{const E=t.getBaseTarget(_),k=t.getValue(_);k&&(k.liveStyle=!0),j[_]=E??null}),f.push({animation:j})}let w=!!f.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(w=!1),r=!1,w?e(f):Promise.resolve()}function c(d,h){var f;if(n[d].isActive===h)return Promise.resolve();(f=t.variantChildren)==null||f.forEach(g=>{var x;return(x=g.animationState)==null?void 0:x.setActive(d,h)}),n[d].isActive=h;const m=o(d);for(const g in n)n[g].protectedKeys={};return m}return{animateChanges:o,setActive:c,setAnimateFunction:a,getState:()=>n,reset:()=>{n=bk()}}}function kq(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!ZP(e,t):!1}function yc(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function bk(){return{animate:yc(!0),whileInView:yc(),whileHover:yc(),whileTap:yc(),whileDrag:yc(),whileFocus:yc(),exit:yc()}}class Vl{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Tq extends Vl{constructor(e){super(e),e.animationState||(e.animationState=Cq(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();vy(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Aq=0;class Iq extends Vl{constructor(){super(...arguments),this.id=Aq++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Rq={animation:{Feature:Tq},exit:{Feature:Iq}};function rf(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Of(t){return{point:{x:t.pageX,y:t.pageY}}}const Pq=t=>e=>Qj(e)&&t(e,Of(e));function Im(t,e,n,r){return rf(t,e,Pq(n),r)}const t4=1e-4,Dq=1-t4,Mq=1+t4,n4=.01,Oq=0-n4,Lq=0+n4;function Gr(t){return t.max-t.min}function Fq(t,e,n){return Math.abs(t-e)<=n}function wk(t,e,n,r=.5){t.origin=r,t.originPoint=jn(e.min,e.max,t.origin),t.scale=Gr(n)/Gr(e),t.translate=jn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Dq&&t.scale<=Mq||isNaN(t.scale))&&(t.scale=1),(t.translate>=Oq&&t.translate<=Lq||isNaN(t.translate))&&(t.translate=0)}function Rm(t,e,n,r){wk(t.x,e.x,n.x,r?r.originX:void 0),wk(t.y,e.y,n.y,r?r.originY:void 0)}function jk(t,e,n){t.min=n.min+e.min,t.max=t.min+Gr(e)}function Vq(t,e,n){jk(t.x,e.x,n.x),jk(t.y,e.y,n.y)}function _k(t,e,n){t.min=e.min-n.min,t.max=t.min+Gr(e)}function Pm(t,e,n){_k(t.x,e.x,n.x),_k(t.y,e.y,n.y)}function Ks(t){return[t("x"),t("y")]}const r4=({current:t})=>t?t.ownerDocument.defaultView:null,Nk=(t,e)=>Math.abs(t-e);function Uq(t,e){const n=Nk(t.x,e.x),r=Nk(t.y,e.y);return Math.sqrt(n**2+r**2)}class s4{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=sb(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,N=Uq(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!N)return;const{point:w}=g,{timestamp:j}=xr;this.history.push({...w,timestamp:j});const{onStart:_,onMove:E}=this.handlers;x||(_&&_(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,g)},this.handlePointerMove=(g,x)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=rb(x,this.transformPagePoint),gn.update(this.updatePoint,!0)},this.handlePointerUp=(g,x)=>{this.end();const{onEnd:N,onSessionEnd:w,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=sb(g.type==="pointercancel"?this.lastMoveEventInfo:rb(x,this.transformPagePoint),this.history);this.startEvent&&N&&N(g,_),w&&w(g,_)},!Qj(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const c=Of(e),d=rb(c,this.transformPagePoint),{point:h}=d,{timestamp:m}=xr;this.history=[{...h,timestamp:m}];const{onSessionStart:f}=n;f&&f(e,sb(d,this.history)),this.removeListeners=Pf(Im(this.contextWindow,"pointermove",this.handlePointerMove),Im(this.contextWindow,"pointerup",this.handlePointerUp),Im(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Nl(this.updatePoint)}}function rb(t,e){return e?{point:e(t.point)}:t}function Sk(t,e){return{x:t.x-e.x,y:t.y-e.y}}function sb({point:t},e){return{point:t,delta:Sk(t,i4(e)),offset:Sk(t,zq(e)),velocity:Bq(e,.1)}}function zq(t){return t[0]}function i4(t){return t[t.length-1]}function Bq(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=i4(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>oa(e)));)n--;if(!r)return{x:0,y:0};const a=Zs(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function $q(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?jn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?jn(n,t,r.max):Math.min(t,n)),t}function Ek(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function qq(t,{top:e,left:n,bottom:r,right:i}){return{x:Ek(t.x,n,i),y:Ek(t.y,e,r)}}function Ck(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Hq(t,e){return{x:Ck(t.x,e.x),y:Ck(t.y,e.y)}}function Wq(t,e){let n=.5;const r=Gr(t),i=Gr(e);return i>r?n=Xm(e.min,e.max-r,t.min):r>i&&(n=Xm(t.min,t.max-i,e.min)),ao(0,1,n)}function Kq(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const $w=.35;function Gq(t=$w){return t===!1?t=0:t===!0&&(t=$w),{x:kk(t,"left","right"),y:kk(t,"top","bottom")}}function kk(t,e,n){return{min:Tk(t,e),max:Tk(t,n)}}function Tk(t,e){return typeof t=="number"?t:t[e]||0}const Qq=new WeakMap;class Yq{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=On(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=f=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Of(f).point)},o=(f,g)=>{const{drag:x,dragPropagation:N,onDragStart:w}=this.getProps();if(x&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=n7(x),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ks(_=>{let E=this.getAxisMotionValue(_).get()||0;if(la.test(E)){const{projection:k}=this.visualElement;if(k&&k.layout){const C=k.layout.layoutBox[_];C&&(E=Gr(C)*(parseFloat(E)/100))}}this.originPoint[_]=E}),w&&gn.postRender(()=>w(f,g)),zw(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},c=(f,g)=>{this.latestPointerEvent=f,this.latestPanInfo=g;const{dragPropagation:x,dragDirectionLock:N,onDirectionLock:w,onDrag:j}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:_}=g;if(N&&this.currentDirection===null){this.currentDirection=Jq(_),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",g.point,_),this.updateAxis("y",g.point,_),this.visualElement.render(),j&&j(f,g)},d=(f,g)=>{this.latestPointerEvent=f,this.latestPanInfo=g,this.stop(f,g),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>Ks(f=>{var g;return this.getAnimationState(f)==="paused"&&((g=this.getAxisMotionValue(f).animation)==null?void 0:g.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new s4(e,{onSessionStart:a,onStart:o,onMove:c,onSessionEnd:d,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:r,contextWindow:r4(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:c}=this.getProps();c&&gn.postRender(()=>c(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!xg(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=$q(o,this.constraints[e],this.elastic[e])),a.set(o)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,i=this.constraints;e&&ad(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=qq(r.layoutBox,e):this.constraints=!1,this.elastic=Gq(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ks(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Kq(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ad(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=X7(r,i.root,this.visualElement.getTransformPagePoint());let o=Hq(i.layout.layoutBox,a);if(n){const c=n(Q7(o));this.hasMutatedConstraints=!!c,c&&(o=BP(c))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},h=Ks(m=>{if(!xg(m,n,this.currentDirection))return;let f=d&&d[m]||{};o&&(f={min:0,max:0});const g=i?200:1e6,x=i?40:1e7,N={type:"inertia",velocity:r?e[m]:0,bounceStiffness:g,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(m,N)});return Promise.all(h).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return zw(this.visualElement,e),r.start(i_(e,r,0,n,this.visualElement,!1))}stopAnimation(){Ks(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ks(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Ks(n=>{const{drag:r}=this.getProps();if(!xg(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:c}=i.layout.layoutBox[n];a.set(e[n]-jn(o,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ad(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ks(o=>{const c=this.getAxisMotionValue(o);if(c&&this.constraints!==!1){const d=c.get();i[o]=Wq({min:d,max:d},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ks(o=>{if(!xg(o,e,null))return;const c=this.getAxisMotionValue(o),{min:d,max:h}=this.constraints[o];c.set(jn(d,h,i[o]))})}addListeners(){if(!this.visualElement.current)return;Qq.set(this.visualElement,this);const e=this.visualElement.current,n=Im(e,"pointerdown",d=>{const{drag:h,dragListener:m=!0}=this.getProps();h&&m&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();ad(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),gn.read(r);const o=rf(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:h})=>{this.isDragging&&h&&(Ks(m=>{const f=this.getAxisMotionValue(m);f&&(this.originPoint[m]+=d[m].translate,f.set(f.get()+d[m].translate))}),this.visualElement.render())}));return()=>{o(),n(),a(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=$w,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:c}}}function xg(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Jq(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Xq extends Vl{constructor(e){super(e),this.removeGroupControls=ei,this.removeListeners=ei,this.controls=new Yq(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ei}unmount(){this.removeGroupControls(),this.removeListeners()}}const Ak=t=>(e,n)=>{t&&gn.postRender(()=>t(e,n))};class Zq extends Vl{constructor(){super(...arguments),this.removePointerDownListener=ei}onPointerDown(e){this.session=new s4(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:r4(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Ak(e),onStart:Ak(n),onMove:r,onEnd:(a,o)=>{delete this.session,i&&gn.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=Im(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Kg={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ik(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const lm={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(lt.test(t))t=parseFloat(t);else return t;const n=Ik(t,e.target.x),r=Ik(t,e.target.y);return`${n}% ${r}%`}},eH={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Sl.parse(t);if(i.length>5)return r;const a=Sl.createTransformer(t),o=typeof i[0]!="number"?1:0,c=n.x.scale*e.x,d=n.y.scale*e.y;i[0+o]/=c,i[1+o]/=d;const h=jn(c,d,.5);return typeof i[2+o]=="number"&&(i[2+o]/=h),typeof i[3+o]=="number"&&(i[3+o]/=h),a(i)}};let ib=!1;class tH extends v.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;_7(nH),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),ib&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Kg.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,{projection:o}=r;return o&&(o.isPresent=a,ib=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==a?o.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?o.promote():o.relegate()||gn.postRender(()=>{const c=o.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Gj.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;ib=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function a4(t){const[e,n]=kP(),r=v.useContext(Ej);return s.jsx(tH,{...t,layoutGroup:r,switchLayoutGroup:v.useContext(UP),isPresent:e,safeToRemove:n})}const nH={borderRadius:{...lm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:lm,borderTopRightRadius:lm,borderBottomLeftRadius:lm,borderBottomRightRadius:lm,boxShadow:eH};function rH(t,e,n){const r=Pr(t)?t:Ld(t);return r.start(i_("",r,e,n)),r.animation}const sH=(t,e)=>t.depth-e.depth;class iH{constructor(){this.children=[],this.isDirty=!1}add(e){Tj(this.children,e),this.isDirty=!0}remove(e){Aj(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(sH),this.isDirty=!1,this.children.forEach(e)}}function aH(t,e){const n=ds.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(Nl(r),t(a-e))};return gn.setup(r,!0),()=>Nl(r)}const o4=["TopLeft","TopRight","BottomLeft","BottomRight"],oH=o4.length,Rk=t=>typeof t=="string"?parseFloat(t):t,Pk=t=>typeof t=="number"||lt.test(t);function lH(t,e,n,r,i,a){i?(t.opacity=jn(0,n.opacity??1,cH(r)),t.opacityExit=jn(e.opacity??1,0,uH(r))):a&&(t.opacity=jn(e.opacity??1,n.opacity??1,r));for(let o=0;o<oH;o++){const c=`border${o4[o]}Radius`;let d=Dk(e,c),h=Dk(n,c);if(d===void 0&&h===void 0)continue;d||(d=0),h||(h=0),d===0||h===0||Pk(d)===Pk(h)?(t[c]=Math.max(jn(Rk(d),Rk(h),r),0),(la.test(h)||la.test(d))&&(t[c]+="%")):t[c]=h}(e.rotate||n.rotate)&&(t.rotate=jn(e.rotate||0,n.rotate||0,r))}function Dk(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const cH=l4(0,.5,GR),uH=l4(.5,.95,ei);function l4(t,e,n){return r=>r<t?0:r>e?1:n(Xm(t,e,r))}function Mk(t,e){t.min=e.min,t.max=e.max}function Ws(t,e){Mk(t.x,e.x),Mk(t.y,e.y)}function Ok(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Lk(t,e,n,r,i){return t-=e,t=Sx(t,1/n,r),i!==void 0&&(t=Sx(t,1/i,r)),t}function dH(t,e=0,n=1,r=.5,i,a=t,o=t){if(la.test(e)&&(e=parseFloat(e),e=jn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let c=jn(a.min,a.max,r);t===a&&(c-=e),t.min=Lk(t.min,e,n,c,i),t.max=Lk(t.max,e,n,c,i)}function Fk(t,e,[n,r,i],a,o){dH(t,e[n],e[r],e[i],e.scale,a,o)}const hH=["x","scaleX","originX"],mH=["y","scaleY","originY"];function Vk(t,e,n,r){Fk(t.x,e,hH,n?n.x:void 0,r?r.x:void 0),Fk(t.y,e,mH,n?n.y:void 0,r?r.y:void 0)}function Uk(t){return t.translate===0&&t.scale===1}function c4(t){return Uk(t.x)&&Uk(t.y)}function zk(t,e){return t.min===e.min&&t.max===e.max}function fH(t,e){return zk(t.x,e.x)&&zk(t.y,e.y)}function Bk(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function u4(t,e){return Bk(t.x,e.x)&&Bk(t.y,e.y)}function $k(t){return Gr(t.x)/Gr(t.y)}function qk(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class pH{constructor(){this.members=[]}add(e){Tj(this.members,e),e.scheduleRender()}remove(e){if(Aj(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function gH(t,e,n){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||a||o)&&(r=`translate3d(${i}px, ${a}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:m,rotateX:f,rotateY:g,skewX:x,skewY:N}=n;h&&(r=`perspective(${h}px) ${r}`),m&&(r+=`rotate(${m}deg) `),f&&(r+=`rotateX(${f}deg) `),g&&(r+=`rotateY(${g}deg) `),x&&(r+=`skewX(${x}deg) `),N&&(r+=`skewY(${N}deg) `)}const c=t.x.scale*e.x,d=t.y.scale*e.y;return(c!==1||d!==1)&&(r+=`scale(${c}, ${d})`),r||"none"}const ab=["","X","Y","Z"],xH=1e3;let yH=0;function ob(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function d4(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=YP(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",gn,!(i||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&d4(r)}function h4({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},c=e==null?void 0:e()){this.id=yH++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(wH),this.nodes.forEach(SH),this.nodes.forEach(EH),this.nodes.forEach(jH)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new iH)}addEventListener(o,c){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Pj),this.eventHandlers.get(o).add(c)}notifyListeners(o,...c){const d=this.eventHandlers.get(o);d&&d.notify(...c)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=CP(o)&&!l7(o),this.instance=o;const{layoutId:c,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),t){let m,f=0;const g=()=>this.root.updateBlockedByResize=!1;gn.read(()=>{f=window.innerWidth}),t(o,()=>{const x=window.innerWidth;x!==f&&(f=x,this.root.updateBlockedByResize=!0,m&&m(),m=aH(g,250),Kg.hasAnimatedSinceResize&&(Kg.hasAnimatedSinceResize=!1,this.nodes.forEach(Kk)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||d)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:f,hasRelativeLayoutChanged:g,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||h.getDefaultTransition()||IH,{onLayoutAnimationStart:w,onLayoutAnimationComplete:j}=h.getProps(),_=!this.targetLayout||!u4(this.targetLayout,x),E=!f&&g;if(this.options.layoutRoot||this.resumeFrom||E||f&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const k={...Wj(N,"layout"),onPlay:w,onComplete:j};(h.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k),this.setAnimationOrigin(m,E)}else f||Kk(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Nl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(CH),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&d4(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const f=this.path[m];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Hk);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Wk);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(NH),this.nodes.forEach(vH),this.nodes.forEach(bH)):this.nodes.forEach(Wk),this.clearAllSnapshots();const c=ds.now();xr.delta=ao(0,1e3/60,c-xr.timestamp),xr.timestamp=c,xr.isProcessing=!0,Qv.update.process(xr),Qv.preRender.process(xr),Qv.render.process(xr),xr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Gj.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(_H),this.sharedNodes.forEach(kH)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,gn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){gn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Gr(this.snapshot.measuredBox.x)&&!Gr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=On(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(c=!1),c&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!c4(this.projectionDelta),d=this.getTransformTemplate(),h=d?d(this.latestValues,""):void 0,m=h!==this.prevTransformTemplateValue;o&&this.instance&&(c||bc(this.latestValues)||m)&&(i(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return o&&(d=this.removeTransform(d)),RH(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:o}=this.options;if(!o)return On();const c=o.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(PH))){const{scroll:m}=this.root;m&&(od(c.x,m.offset.x),od(c.y,m.offset.y))}return c}removeElementScroll(o){var d;const c=On();if(Ws(c,o),(d=this.scroll)!=null&&d.wasRoot)return c;for(let h=0;h<this.path.length;h++){const m=this.path[h],{scroll:f,options:g}=m;m!==this.root&&f&&g.layoutScroll&&(f.wasRoot&&Ws(c,o),od(c.x,f.offset.x),od(c.y,f.offset.y))}return c}applyTransform(o,c=!1){const d=On();Ws(d,o);for(let h=0;h<this.path.length;h++){const m=this.path[h];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&ld(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),bc(m.latestValues)&&ld(d,m.latestValues)}return bc(this.latestValues)&&ld(d,this.latestValues),d}removeTransform(o){const c=On();Ws(c,o);for(let d=0;d<this.path.length;d++){const h=this.path[d];if(!h.instance||!bc(h.latestValues))continue;Lw(h.latestValues)&&h.updateSnapshot();const m=On(),f=h.measurePageBox();Ws(m,f),Vk(c,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,m)}return bc(this.latestValues)&&Vk(c,this.latestValues),c}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==xr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var g;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:f}=this.options;if(!(!this.layout||!(m||f))){if(this.resolvedRelativeTargetAt=xr.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=On(),this.relativeTargetOrigin=On(),Pm(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),Ws(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=On(),this.targetWithTransforms=On()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Vq(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ws(this.target,this.layout.layoutBox),qP(this.target,this.targetDelta)):Ws(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=On(),this.relativeTargetOrigin=On(),Pm(this.relativeTargetOrigin,this.target,x.target),Ws(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Lw(this.parent.latestValues)||$P(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var N;const o=this.getLead(),c=!!this.resumingFrom||this!==o;let d=!0;if((this.isProjectionDirty||(N=this.parent)!=null&&N.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===xr.timestamp&&(d=!1),d)return;const{layout:h,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||m))return;Ws(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,g=this.treeScale.y;J7(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=On());const{target:x}=o;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Ok(this.prevProjectionDelta.x,this.projectionDelta.x),Ok(this.prevProjectionDelta.y,this.projectionDelta.y)),Rm(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==g||!qk(this.projectionDelta.x,this.prevProjectionDelta.x)||!qk(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),o){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=cd(),this.projectionDelta=cd(),this.projectionDeltaWithTransform=cd()}setAnimationOrigin(o,c=!1){const d=this.snapshot,h=d?d.latestValues:{},m={...this.latestValues},f=cd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const g=On(),x=d?d.source:void 0,N=this.layout?this.layout.source:void 0,w=x!==N,j=this.getStack(),_=!j||j.members.length<=1,E=!!(w&&!_&&this.options.crossfade===!0&&!this.path.some(AH));this.animationProgress=0;let k;this.mixTargetDelta=C=>{const R=C/1e3;Gk(f.x,o.x,R),Gk(f.y,o.y,R),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Pm(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),TH(this.relativeTarget,this.relativeTargetOrigin,g,R),k&&fH(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=On()),Ws(k,this.relativeTarget)),w&&(this.animationValues=m,lH(m,h,this.latestValues,R,E,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var c,d,h;this.notifyListeners("animationStart"),(c=this.currentAnimation)==null||c.stop(),(h=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||h.stop(),this.pendingAnimation&&(Nl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=gn.update(()=>{Kg.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ld(0)),this.currentAnimation=rH(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),o.onUpdate&&o.onUpdate(m)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(xH),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:c,target:d,layout:h,latestValues:m}=o;if(!(!c||!d||!h)){if(this!==o&&this.layout&&h&&m4(this.options.animationType,this.layout.layoutBox,h.layoutBox)){d=this.target||On();const f=Gr(this.layout.layoutBox.x);d.x.min=o.target.x.min,d.x.max=d.x.min+f;const g=Gr(this.layout.layoutBox.y);d.y.min=o.target.y.min,d.y.max=d.y.min+g}Ws(c,d),ld(c,m),Rm(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(o,c){this.sharedNodes.has(o)||this.sharedNodes.set(o,new pH),this.sharedNodes.get(o).add(c);const h=c.options.initialPromotionConfig;c.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(c):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var c;const{layoutId:o}=this.options;return o?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:o}=this.options;return o?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:c,preserveFollowOpacity:d}={}){const h=this.getStack();h&&h.promote(this,d),o&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let c=!1;const{latestValues:d}=o;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const h={};d.z&&ob("z",o,h,this.animationValues);for(let m=0;m<ab.length;m++)ob(`rotate${ab[m]}`,o,h,this.animationValues),ob(`skew${ab[m]}`,o,h,this.animationValues);o.render();for(const m in h)o.setStaticValue(m,h[m]),this.animationValues&&(this.animationValues[m]=h[m]);o.scheduleRender()}applyProjectionStyles(o,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Wg(c==null?void 0:c.pointerEvents)||"",o.transform=d?d(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Wg(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!bc(this.latestValues)&&(o.transform=d?d({},""):"none",this.hasProjected=!1);return}o.visibility="";const m=h.animationValues||h.latestValues;this.applyTransformsToTarget();let f=gH(this.projectionDeltaWithTransform,this.treeScale,m);d&&(f=d(m,f)),o.transform=f;const{x:g,y:x}=this.projectionDelta;o.transformOrigin=`${g.origin*100}% ${x.origin*100}% 0`,h.animationValues?o.opacity=h===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:o.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const N in nf){if(m[N]===void 0)continue;const{correct:w,applyTo:j,isCSSVariable:_}=nf[N],E=f==="none"?m[N]:w(m[N],h);if(j){const k=j.length;for(let C=0;C<k;C++)o[j[C]]=E}else _?this.options.visualElement.renderState.vars[N]=E:o[N]=E}this.options.layoutId&&(o.pointerEvents=h===this?Wg(c==null?void 0:c.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var c;return(c=o.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach(Hk),this.root.sharedNodes.clear()}}}function vH(t){t.updateLayout()}function bH(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:a}=t.options,o=e.source!==t.layout.source;a==="size"?Ks(f=>{const g=o?e.measuredBox[f]:e.layoutBox[f],x=Gr(g);g.min=r[f].min,g.max=g.min+x}):m4(a,e.layoutBox,r)&&Ks(f=>{const g=o?e.measuredBox[f]:e.layoutBox[f],x=Gr(r[f]);g.max=g.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+x)});const c=cd();Rm(c,r,e.layoutBox);const d=cd();o?Rm(d,t.applyTransform(i,!0),e.measuredBox):Rm(d,r,e.layoutBox);const h=!c4(c);let m=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:g,layout:x}=f;if(g&&x){const N=On();Pm(N,e.layoutBox,g.layoutBox);const w=On();Pm(w,r,x.layoutBox),u4(N,w)||(m=!0),f.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=N,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:d,layoutDelta:c,hasLayoutChanged:h,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function wH(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function jH(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function _H(t){t.clearSnapshot()}function Hk(t){t.clearMeasurements()}function Wk(t){t.isLayoutDirty=!1}function NH(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Kk(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function SH(t){t.resolveTargetDelta()}function EH(t){t.calcProjection()}function CH(t){t.resetSkewAndRotation()}function kH(t){t.removeLeadSnapshot()}function Gk(t,e,n){t.translate=jn(e.translate,0,n),t.scale=jn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Qk(t,e,n,r){t.min=jn(e.min,n.min,r),t.max=jn(e.max,n.max,r)}function TH(t,e,n,r){Qk(t.x,e.x,n.x,r),Qk(t.y,e.y,n.y,r)}function AH(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const IH={duration:.45,ease:[.4,0,.1,1]},Yk=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Jk=Yk("applewebkit/")&&!Yk("chrome/")?Math.round:ei;function Xk(t){t.min=Jk(t.min),t.max=Jk(t.max)}function RH(t){Xk(t.x),Xk(t.y)}function m4(t,e,n){return t==="position"||t==="preserve-aspect"&&!Fq($k(e),$k(n),.2)}function PH(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const DH=h4({attachResizeListener:(t,e)=>rf(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),lb={current:void 0},f4=h4({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!lb.current){const t=new DH({});t.mount(window),t.setOptions({layoutScroll:!0}),lb.current=t}return lb.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),MH={pan:{Feature:Zq},drag:{Feature:Xq,ProjectionNode:f4,MeasureLayout:a4}};function Zk(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&gn.postRender(()=>a(e,Of(e)))}class OH extends Vl{mount(){const{current:e}=this.node;e&&(this.unmount=r7(e,(n,r)=>(Zk(this.node,r,"Start"),i=>Zk(this.node,i,"End"))))}unmount(){}}class LH extends Vl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Pf(rf(this.node.current,"focus",()=>this.onFocus()),rf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function e2(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&gn.postRender(()=>a(e,Of(e)))}class FH extends Vl{mount(){const{current:e}=this.node;e&&(this.unmount=o7(e,(n,r)=>(e2(this.node,r,"Start"),(i,{success:a})=>e2(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const qw=new WeakMap,cb=new WeakMap,VH=t=>{const e=qw.get(t.target);e&&e(t)},UH=t=>{t.forEach(VH)};function zH({root:t,...e}){const n=t||document;cb.has(n)||cb.set(n,{});const r=cb.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(UH,{root:t,...e})),r[i]}function BH(t,e,n){const r=zH(e);return qw.set(t,n),r.observe(t),()=>{qw.delete(t),r.unobserve(t)}}const $H={some:0,all:1};class qH extends Vl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:$H[i]},c=d=>{const{isIntersecting:h}=d;if(this.isInView===h||(this.isInView=h,a&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:m,onViewportLeave:f}=this.node.getProps(),g=h?m:f;g&&g(d)};return BH(this.node.current,o,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(HH(e,n))&&this.startObserver()}unmount(){}}function HH({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const WH={inView:{Feature:qH},tap:{Feature:FH},focus:{Feature:LH},hover:{Feature:OH}},KH={layout:{ProjectionNode:f4,MeasureLayout:a4}},GH={...Rq,...WH,...MH,...KH},te=G7(GH,oq);function Je(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function t2(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function vo(...t){return e=>{let n=!1;const r=t.map(i=>{const a=t2(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():t2(t[i],null)}}}}function Ht(...t){return v.useCallback(vo(...t),t)}function QH(t,e){const n=v.createContext(e),r=a=>{const{children:o,...c}=a,d=v.useMemo(()=>c,Object.values(c));return s.jsx(n.Provider,{value:d,children:o})};r.displayName=t+"Provider";function i(a){const o=v.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[r,i]}function bo(t,e=[]){let n=[];function r(a,o){const c=v.createContext(o),d=n.length;n=[...n,o];const h=f=>{var _;const{scope:g,children:x,...N}=f,w=((_=g==null?void 0:g[t])==null?void 0:_[d])||c,j=v.useMemo(()=>N,Object.values(N));return s.jsx(w.Provider,{value:j,children:x})};h.displayName=a+"Provider";function m(f,g){var w;const x=((w=g==null?void 0:g[t])==null?void 0:w[d])||c,N=v.useContext(x);if(N)return N;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[h,m]}const i=()=>{const a=n.map(o=>v.createContext(o));return function(c){const d=(c==null?void 0:c[t])||a;return v.useMemo(()=>({[`__scope${t}`]:{...c,[t]:d}}),[c,d])}};return i.scopeName=t,[r,YH(i,...e)]}function YH(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((c,{useScope:d,scopeName:h})=>{const f=d(a)[`__scope${h}`];return{...c,...f}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var sr=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},JH=fj[" useInsertionEffect ".trim().toString()]||sr;function Bc({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,a,o]=XH({defaultProp:e,onChange:n}),c=t!==void 0,d=c?t:i;{const m=v.useRef(t!==void 0);v.useEffect(()=>{const f=m.current;f!==c&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=c},[c,r])}const h=v.useCallback(m=>{var f;if(c){const g=ZH(m)?m(t):m;g!==t&&((f=o.current)==null||f.call(o,g))}else a(m)},[c,t,a,o]);return[d,h]}function XH({defaultProp:t,onChange:e}){const[n,r]=v.useState(t),i=v.useRef(n),a=v.useRef(e);return JH(()=>{a.current=e},[e]),v.useEffect(()=>{var o;i.current!==n&&((o=a.current)==null||o.call(a,n),i.current=n)},[n,i]),[n,r,a]}function ZH(t){return typeof t=="function"}function eW(t){const e=tW(t),n=v.forwardRef((r,i)=>{const{children:a,...o}=r,c=v.Children.toArray(a),d=c.find(rW);if(d){const h=d.props.children,m=c.map(f=>f===d?v.Children.count(h)>1?v.Children.only(null):v.isValidElement(h)?h.props.children:null:f);return s.jsx(e,{...o,ref:i,children:v.isValidElement(h)?v.cloneElement(h,void 0,m):null})}return s.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function tW(t){const e=v.forwardRef((n,r)=>{const{children:i,...a}=n;if(v.isValidElement(i)){const o=iW(i),c=sW(a,i.props);return i.type!==v.Fragment&&(c.ref=r?vo(r,o):o),v.cloneElement(i,c)}return v.Children.count(i)>1?v.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var nW=Symbol("radix.slottable");function rW(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===nW}function sW(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...c)=>{const d=a(...c);return i(...c),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function iW(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var aW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ct=aW.reduce((t,e)=>{const n=eW(`Primitive.${e}`),r=v.forwardRef((i,a)=>{const{asChild:o,...c}=i,d=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(d,{...c,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function p4(t,e){t&&Rf.flushSync(()=>t.dispatchEvent(e))}function n2(t){const e=oW(t),n=v.forwardRef((r,i)=>{const{children:a,...o}=r,c=v.Children.toArray(a),d=c.find(cW);if(d){const h=d.props.children,m=c.map(f=>f===d?v.Children.count(h)>1?v.Children.only(null):v.isValidElement(h)?h.props.children:null:f);return s.jsx(e,{...o,ref:i,children:v.isValidElement(h)?v.cloneElement(h,void 0,m):null})}return s.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function oW(t){const e=v.forwardRef((n,r)=>{const{children:i,...a}=n;if(v.isValidElement(i)){const o=dW(i),c=uW(a,i.props);return i.type!==v.Fragment&&(c.ref=r?vo(r,o):o),v.cloneElement(i,c)}return v.Children.count(i)>1?v.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var lW=Symbol("radix.slottable");function cW(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===lW}function uW(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...c)=>{const d=a(...c);return i(...c),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function dW(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function a_(t){const e=t+"CollectionProvider",[n,r]=bo(e),[i,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=w=>{const{scope:j,children:_}=w,E=wn.useRef(null),k=wn.useRef(new Map).current;return s.jsx(i,{scope:j,itemMap:k,collectionRef:E,children:_})};o.displayName=e;const c=t+"CollectionSlot",d=n2(c),h=wn.forwardRef((w,j)=>{const{scope:_,children:E}=w,k=a(c,_),C=Ht(j,k.collectionRef);return s.jsx(d,{ref:C,children:E})});h.displayName=c;const m=t+"CollectionItemSlot",f="data-radix-collection-item",g=n2(m),x=wn.forwardRef((w,j)=>{const{scope:_,children:E,...k}=w,C=wn.useRef(null),R=Ht(j,C),F=a(m,_);return wn.useEffect(()=>(F.itemMap.set(C,{ref:C,...k}),()=>void F.itemMap.delete(C))),s.jsx(g,{[f]:"",ref:R,children:E})});x.displayName=m;function N(w){const j=a(t+"CollectionConsumer",w);return wn.useCallback(()=>{const E=j.collectionRef.current;if(!E)return[];const k=Array.from(E.querySelectorAll(`[${f}]`));return Array.from(j.itemMap.values()).sort((F,D)=>k.indexOf(F.ref.current)-k.indexOf(D.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:o,Slot:h,ItemSlot:x},N,r]}var hW=v.createContext(void 0);function o_(t){const e=v.useContext(hW);return t||e||"ltr"}function Ni(t){const e=v.useRef(t);return v.useEffect(()=>{e.current=t}),v.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function mW(t,e=globalThis==null?void 0:globalThis.document){const n=Ni(t);v.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var fW="DismissableLayer",Hw="dismissableLayer.update",pW="dismissableLayer.pointerDownOutside",gW="dismissableLayer.focusOutside",r2,g4=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),wy=v.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:c,...d}=t,h=v.useContext(g4),[m,f]=v.useState(null),g=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=v.useState({}),N=Ht(e,D=>f(D)),w=Array.from(h.layers),[j]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),_=w.indexOf(j),E=m?w.indexOf(m):-1,k=h.layersWithOutsidePointerEventsDisabled.size>0,C=E>=_,R=vW(D=>{const P=D.target,I=[...h.branches].some(O=>O.contains(P));!C||I||(i==null||i(D),o==null||o(D),D.defaultPrevented||c==null||c())},g),F=bW(D=>{const P=D.target;[...h.branches].some(O=>O.contains(P))||(a==null||a(D),o==null||o(D),D.defaultPrevented||c==null||c())},g);return mW(D=>{E===h.layers.size-1&&(r==null||r(D),!D.defaultPrevented&&c&&(D.preventDefault(),c()))},g),v.useEffect(()=>{if(m)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(r2=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(m)),h.layers.add(m),s2(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=r2)}},[m,g,n,h]),v.useEffect(()=>()=>{m&&(h.layers.delete(m),h.layersWithOutsidePointerEventsDisabled.delete(m),s2())},[m,h]),v.useEffect(()=>{const D=()=>x({});return document.addEventListener(Hw,D),()=>document.removeEventListener(Hw,D)},[]),s.jsx(Ct.div,{...d,ref:N,style:{pointerEvents:k?C?"auto":"none":void 0,...t.style},onFocusCapture:Je(t.onFocusCapture,F.onFocusCapture),onBlurCapture:Je(t.onBlurCapture,F.onBlurCapture),onPointerDownCapture:Je(t.onPointerDownCapture,R.onPointerDownCapture)})});wy.displayName=fW;var xW="DismissableLayerBranch",yW=v.forwardRef((t,e)=>{const n=v.useContext(g4),r=v.useRef(null),i=Ht(e,r);return v.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),s.jsx(Ct.div,{...t,ref:i})});yW.displayName=xW;function vW(t,e=globalThis==null?void 0:globalThis.document){const n=Ni(t),r=v.useRef(!1),i=v.useRef(()=>{});return v.useEffect(()=>{const a=c=>{if(c.target&&!r.current){let d=function(){x4(pW,n,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=d,e.addEventListener("click",i.current,{once:!0})):d()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function bW(t,e=globalThis==null?void 0:globalThis.document){const n=Ni(t),r=v.useRef(!1);return v.useEffect(()=>{const i=a=>{a.target&&!r.current&&x4(gW,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function s2(){const t=new CustomEvent(Hw);document.dispatchEvent(t)}function x4(t,e,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?p4(i,a):i.dispatchEvent(a)}var ub=0;function l_(){v.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??i2()),document.body.insertAdjacentElement("beforeend",t[1]??i2()),ub++,()=>{ub===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),ub--}},[])}function i2(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var db="focusScope.autoFocusOnMount",hb="focusScope.autoFocusOnUnmount",a2={bubbles:!1,cancelable:!0},wW="FocusScope",jy=v.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=t,[c,d]=v.useState(null),h=Ni(i),m=Ni(a),f=v.useRef(null),g=Ht(e,w=>d(w)),x=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(r){let w=function(k){if(x.paused||!c)return;const C=k.target;c.contains(C)?f.current=C:Yo(f.current,{select:!0})},j=function(k){if(x.paused||!c)return;const C=k.relatedTarget;C!==null&&(c.contains(C)||Yo(f.current,{select:!0}))},_=function(k){if(document.activeElement===document.body)for(const R of k)R.removedNodes.length>0&&Yo(c)};document.addEventListener("focusin",w),document.addEventListener("focusout",j);const E=new MutationObserver(_);return c&&E.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",j),E.disconnect()}}},[r,c,x.paused]),v.useEffect(()=>{if(c){l2.add(x);const w=document.activeElement;if(!c.contains(w)){const _=new CustomEvent(db,a2);c.addEventListener(db,h),c.dispatchEvent(_),_.defaultPrevented||(jW(CW(y4(c)),{select:!0}),document.activeElement===w&&Yo(c))}return()=>{c.removeEventListener(db,h),setTimeout(()=>{const _=new CustomEvent(hb,a2);c.addEventListener(hb,m),c.dispatchEvent(_),_.defaultPrevented||Yo(w??document.body,{select:!0}),c.removeEventListener(hb,m),l2.remove(x)},0)}}},[c,h,m,x]);const N=v.useCallback(w=>{if(!n&&!r||x.paused)return;const j=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,_=document.activeElement;if(j&&_){const E=w.currentTarget,[k,C]=_W(E);k&&C?!w.shiftKey&&_===C?(w.preventDefault(),n&&Yo(k,{select:!0})):w.shiftKey&&_===k&&(w.preventDefault(),n&&Yo(C,{select:!0})):_===E&&w.preventDefault()}},[n,r,x.paused]);return s.jsx(Ct.div,{tabIndex:-1,...o,ref:g,onKeyDown:N})});jy.displayName=wW;function jW(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Yo(r,{select:e}),document.activeElement!==n)return}function _W(t){const e=y4(t),n=o2(e,t),r=o2(e.reverse(),t);return[n,r]}function y4(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function o2(t,e){for(const n of t)if(!NW(n,{upTo:e}))return n}function NW(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function SW(t){return t instanceof HTMLInputElement&&"select"in t}function Yo(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&SW(t)&&e&&t.select()}}var l2=EW();function EW(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=c2(t,e),t.unshift(e)},remove(e){var n;t=c2(t,e),(n=t[0])==null||n.resume()}}}function c2(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function CW(t){return t.filter(e=>e.tagName!=="A")}var kW=fj[" useId ".trim().toString()]||(()=>{}),TW=0;function Za(t){const[e,n]=v.useState(kW());return sr(()=>{n(r=>r??String(TW++))},[t]),e?`radix-${e}`:""}const AW=["top","right","bottom","left"],El=Math.min,As=Math.max,Ex=Math.round,yg=Math.floor,ca=t=>({x:t,y:t}),IW={left:"right",right:"left",bottom:"top",top:"bottom"},RW={start:"end",end:"start"};function Ww(t,e,n){return As(t,El(e,n))}function lo(t,e){return typeof t=="function"?t(e):t}function co(t){return t.split("-")[0]}function ih(t){return t.split("-")[1]}function c_(t){return t==="x"?"y":"x"}function u_(t){return t==="y"?"height":"width"}const PW=new Set(["top","bottom"]);function ia(t){return PW.has(co(t))?"y":"x"}function d_(t){return c_(ia(t))}function DW(t,e,n){n===void 0&&(n=!1);const r=ih(t),i=d_(t),a=u_(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=Cx(o)),[o,Cx(o)]}function MW(t){const e=Cx(t);return[Kw(t),e,Kw(e)]}function Kw(t){return t.replace(/start|end/g,e=>RW[e])}const u2=["left","right"],d2=["right","left"],OW=["top","bottom"],LW=["bottom","top"];function FW(t,e,n){switch(t){case"top":case"bottom":return n?e?d2:u2:e?u2:d2;case"left":case"right":return e?OW:LW;default:return[]}}function VW(t,e,n,r){const i=ih(t);let a=FW(co(t),n==="start",r);return i&&(a=a.map(o=>o+"-"+i),e&&(a=a.concat(a.map(Kw)))),a}function Cx(t){return t.replace(/left|right|bottom|top/g,e=>IW[e])}function UW(t){return{top:0,right:0,bottom:0,left:0,...t}}function v4(t){return typeof t!="number"?UW(t):{top:t,right:t,bottom:t,left:t}}function kx(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function h2(t,e,n){let{reference:r,floating:i}=t;const a=ia(e),o=d_(e),c=u_(o),d=co(e),h=a==="y",m=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,g=r[c]/2-i[c]/2;let x;switch(d){case"top":x={x:m,y:r.y-i.height};break;case"bottom":x={x:m,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:f};break;case"left":x={x:r.x-i.width,y:f};break;default:x={x:r.x,y:r.y}}switch(ih(e)){case"start":x[o]-=g*(n&&h?-1:1);break;case"end":x[o]+=g*(n&&h?-1:1);break}return x}const zW=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,c=a.filter(Boolean),d=await(o.isRTL==null?void 0:o.isRTL(e));let h=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:m,y:f}=h2(h,r,d),g=r,x={},N=0;for(let w=0;w<c.length;w++){const{name:j,fn:_}=c[w],{x:E,y:k,data:C,reset:R}=await _({x:m,y:f,initialPlacement:r,placement:g,strategy:i,middlewareData:x,rects:h,platform:o,elements:{reference:t,floating:e}});m=E??m,f=k??f,x={...x,[j]:{...x[j],...C}},R&&N<=50&&(N++,typeof R=="object"&&(R.placement&&(g=R.placement),R.rects&&(h=R.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):R.rects),{x:m,y:f}=h2(h,g,d)),w=-1)}return{x:m,y:f,placement:g,strategy:i,middlewareData:x}};async function sf(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:o,elements:c,strategy:d}=t,{boundary:h="clippingAncestors",rootBoundary:m="viewport",elementContext:f="floating",altBoundary:g=!1,padding:x=0}=lo(e,t),N=v4(x),j=c[g?f==="floating"?"reference":"floating":f],_=kx(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(j)))==null||n?j:j.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:h,rootBoundary:m,strategy:d})),E=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,k=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),C=await(a.isElement==null?void 0:a.isElement(k))?await(a.getScale==null?void 0:a.getScale(k))||{x:1,y:1}:{x:1,y:1},R=kx(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:E,offsetParent:k,strategy:d}):E);return{top:(_.top-R.top+N.top)/C.y,bottom:(R.bottom-_.bottom+N.bottom)/C.y,left:(_.left-R.left+N.left)/C.x,right:(R.right-_.right+N.right)/C.x}}const BW=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:a,platform:o,elements:c,middlewareData:d}=e,{element:h,padding:m=0}=lo(t,e)||{};if(h==null)return{};const f=v4(m),g={x:n,y:r},x=d_(i),N=u_(x),w=await o.getDimensions(h),j=x==="y",_=j?"top":"left",E=j?"bottom":"right",k=j?"clientHeight":"clientWidth",C=a.reference[N]+a.reference[x]-g[x]-a.floating[N],R=g[x]-a.reference[x],F=await(o.getOffsetParent==null?void 0:o.getOffsetParent(h));let D=F?F[k]:0;(!D||!await(o.isElement==null?void 0:o.isElement(F)))&&(D=c.floating[k]||a.floating[N]);const P=C/2-R/2,I=D/2-w[N]/2-1,O=El(f[_],I),V=El(f[E],I),L=O,U=D-w[N]-V,ee=D/2-w[N]/2+P,re=Ww(L,ee,U),he=!d.arrow&&ih(i)!=null&&ee!==re&&a.reference[N]/2-(ee<L?O:V)-w[N]/2<0,ae=he?ee<L?ee-L:ee-U:0;return{[x]:g[x]+ae,data:{[x]:re,centerOffset:ee-re-ae,...he&&{alignmentOffset:ae}},reset:he}}}),$W=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:a,rects:o,initialPlacement:c,platform:d,elements:h}=e,{mainAxis:m=!0,crossAxis:f=!0,fallbackPlacements:g,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:N="none",flipAlignment:w=!0,...j}=lo(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const _=co(i),E=ia(c),k=co(c)===c,C=await(d.isRTL==null?void 0:d.isRTL(h.floating)),R=g||(k||!w?[Cx(c)]:MW(c)),F=N!=="none";!g&&F&&R.push(...VW(c,w,N,C));const D=[c,...R],P=await sf(e,j),I=[];let O=((r=a.flip)==null?void 0:r.overflows)||[];if(m&&I.push(P[_]),f){const ee=DW(i,o,C);I.push(P[ee[0]],P[ee[1]])}if(O=[...O,{placement:i,overflows:I}],!I.every(ee=>ee<=0)){var V,L;const ee=(((V=a.flip)==null?void 0:V.index)||0)+1,re=D[ee];if(re&&(!(f==="alignment"?E!==ia(re):!1)||O.every(Q=>ia(Q.placement)===E?Q.overflows[0]>0:!0)))return{data:{index:ee,overflows:O},reset:{placement:re}};let he=(L=O.filter(ae=>ae.overflows[0]<=0).sort((ae,Q)=>ae.overflows[1]-Q.overflows[1])[0])==null?void 0:L.placement;if(!he)switch(x){case"bestFit":{var U;const ae=(U=O.filter(Q=>{if(F){const q=ia(Q.placement);return q===E||q==="y"}return!0}).map(Q=>[Q.placement,Q.overflows.filter(q=>q>0).reduce((q,B)=>q+B,0)]).sort((Q,q)=>Q[1]-q[1])[0])==null?void 0:U[0];ae&&(he=ae);break}case"initialPlacement":he=c;break}if(i!==he)return{reset:{placement:he}}}return{}}}};function m2(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function f2(t){return AW.some(e=>t[e]>=0)}const qW=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=lo(t,e);switch(r){case"referenceHidden":{const a=await sf(e,{...i,elementContext:"reference"}),o=m2(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:f2(o)}}}case"escaped":{const a=await sf(e,{...i,altBoundary:!0}),o=m2(a,n.floating);return{data:{escapedOffsets:o,escaped:f2(o)}}}default:return{}}}}},b4=new Set(["left","top"]);async function HW(t,e){const{placement:n,platform:r,elements:i}=t,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=co(n),c=ih(n),d=ia(n)==="y",h=b4.has(o)?-1:1,m=a&&d?-1:1,f=lo(e,t);let{mainAxis:g,crossAxis:x,alignmentAxis:N}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return c&&typeof N=="number"&&(x=c==="end"?N*-1:N),d?{x:x*m,y:g*h}:{x:g*h,y:x*m}}const WW=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:a,placement:o,middlewareData:c}=e,d=await HW(e,t);return o===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:i+d.x,y:a+d.y,data:{...d,placement:o}}}}},KW=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:c={fn:j=>{let{x:_,y:E}=j;return{x:_,y:E}}},...d}=lo(t,e),h={x:n,y:r},m=await sf(e,d),f=ia(co(i)),g=c_(f);let x=h[g],N=h[f];if(a){const j=g==="y"?"top":"left",_=g==="y"?"bottom":"right",E=x+m[j],k=x-m[_];x=Ww(E,x,k)}if(o){const j=f==="y"?"top":"left",_=f==="y"?"bottom":"right",E=N+m[j],k=N-m[_];N=Ww(E,N,k)}const w=c.fn({...e,[g]:x,[f]:N});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[g]:a,[f]:o}}}}}},GW=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:a,middlewareData:o}=e,{offset:c=0,mainAxis:d=!0,crossAxis:h=!0}=lo(t,e),m={x:n,y:r},f=ia(i),g=c_(f);let x=m[g],N=m[f];const w=lo(c,e),j=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(d){const k=g==="y"?"height":"width",C=a.reference[g]-a.floating[k]+j.mainAxis,R=a.reference[g]+a.reference[k]-j.mainAxis;x<C?x=C:x>R&&(x=R)}if(h){var _,E;const k=g==="y"?"width":"height",C=b4.has(co(i)),R=a.reference[f]-a.floating[k]+(C&&((_=o.offset)==null?void 0:_[f])||0)+(C?0:j.crossAxis),F=a.reference[f]+a.reference[k]+(C?0:((E=o.offset)==null?void 0:E[f])||0)-(C?j.crossAxis:0);N<R?N=R:N>F&&(N=F)}return{[g]:x,[f]:N}}}},QW=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:a,platform:o,elements:c}=e,{apply:d=()=>{},...h}=lo(t,e),m=await sf(e,h),f=co(i),g=ih(i),x=ia(i)==="y",{width:N,height:w}=a.floating;let j,_;f==="top"||f==="bottom"?(j=f,_=g===(await(o.isRTL==null?void 0:o.isRTL(c.floating))?"start":"end")?"left":"right"):(_=f,j=g==="end"?"top":"bottom");const E=w-m.top-m.bottom,k=N-m.left-m.right,C=El(w-m[j],E),R=El(N-m[_],k),F=!e.middlewareData.shift;let D=C,P=R;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(P=k),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(D=E),F&&!g){const O=As(m.left,0),V=As(m.right,0),L=As(m.top,0),U=As(m.bottom,0);x?P=N-2*(O!==0||V!==0?O+V:As(m.left,m.right)):D=w-2*(L!==0||U!==0?L+U:As(m.top,m.bottom))}await d({...e,availableWidth:P,availableHeight:D});const I=await o.getDimensions(c.floating);return N!==I.width||w!==I.height?{reset:{rects:!0}}:{}}}};function _y(){return typeof window<"u"}function ah(t){return w4(t)?(t.nodeName||"").toLowerCase():"#document"}function Ls(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Na(t){var e;return(e=(w4(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function w4(t){return _y()?t instanceof Node||t instanceof Ls(t).Node:!1}function Si(t){return _y()?t instanceof Element||t instanceof Ls(t).Element:!1}function va(t){return _y()?t instanceof HTMLElement||t instanceof Ls(t).HTMLElement:!1}function p2(t){return!_y()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ls(t).ShadowRoot}const YW=new Set(["inline","contents"]);function Lf(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Ei(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!YW.has(i)}const JW=new Set(["table","td","th"]);function XW(t){return JW.has(ah(t))}const ZW=[":popover-open",":modal"];function Ny(t){return ZW.some(e=>{try{return t.matches(e)}catch{return!1}})}const eK=["transform","translate","scale","rotate","perspective"],tK=["transform","translate","scale","rotate","perspective","filter"],nK=["paint","layout","strict","content"];function h_(t){const e=m_(),n=Si(t)?Ei(t):t;return eK.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||tK.some(r=>(n.willChange||"").includes(r))||nK.some(r=>(n.contain||"").includes(r))}function rK(t){let e=Cl(t);for(;va(e)&&!Vd(e);){if(h_(e))return e;if(Ny(e))return null;e=Cl(e)}return null}function m_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const sK=new Set(["html","body","#document"]);function Vd(t){return sK.has(ah(t))}function Ei(t){return Ls(t).getComputedStyle(t)}function Sy(t){return Si(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Cl(t){if(ah(t)==="html")return t;const e=t.assignedSlot||t.parentNode||p2(t)&&t.host||Na(t);return p2(e)?e.host:e}function j4(t){const e=Cl(t);return Vd(e)?t.ownerDocument?t.ownerDocument.body:t.body:va(e)&&Lf(e)?e:j4(e)}function af(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=j4(t),a=i===((r=t.ownerDocument)==null?void 0:r.body),o=Ls(i);if(a){const c=Gw(o);return e.concat(o,o.visualViewport||[],Lf(i)?i:[],c&&n?af(c):[])}return e.concat(i,af(i,[],n))}function Gw(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function _4(t){const e=Ei(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=va(t),a=i?t.offsetWidth:n,o=i?t.offsetHeight:r,c=Ex(n)!==a||Ex(r)!==o;return c&&(n=a,r=o),{width:n,height:r,$:c}}function f_(t){return Si(t)?t:t.contextElement}function md(t){const e=f_(t);if(!va(e))return ca(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:a}=_4(e);let o=(a?Ex(n.width):n.width)/r,c=(a?Ex(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!c||!Number.isFinite(c))&&(c=1),{x:o,y:c}}const iK=ca(0);function N4(t){const e=Ls(t);return!m_()||!e.visualViewport?iK:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function aK(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ls(t)?!1:e}function $c(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),a=f_(t);let o=ca(1);e&&(r?Si(r)&&(o=md(r)):o=md(t));const c=aK(a,n,r)?N4(a):ca(0);let d=(i.left+c.x)/o.x,h=(i.top+c.y)/o.y,m=i.width/o.x,f=i.height/o.y;if(a){const g=Ls(a),x=r&&Si(r)?Ls(r):r;let N=g,w=Gw(N);for(;w&&r&&x!==N;){const j=md(w),_=w.getBoundingClientRect(),E=Ei(w),k=_.left+(w.clientLeft+parseFloat(E.paddingLeft))*j.x,C=_.top+(w.clientTop+parseFloat(E.paddingTop))*j.y;d*=j.x,h*=j.y,m*=j.x,f*=j.y,d+=k,h+=C,N=Ls(w),w=Gw(N)}}return kx({width:m,height:f,x:d,y:h})}function Ey(t,e){const n=Sy(t).scrollLeft;return e?e.left+n:$c(Na(t)).left+n}function S4(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Ey(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function oK(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const a=i==="fixed",o=Na(r),c=e?Ny(e.floating):!1;if(r===o||c&&a)return n;let d={scrollLeft:0,scrollTop:0},h=ca(1);const m=ca(0),f=va(r);if((f||!f&&!a)&&((ah(r)!=="body"||Lf(o))&&(d=Sy(r)),va(r))){const x=$c(r);h=md(r),m.x=x.x+r.clientLeft,m.y=x.y+r.clientTop}const g=o&&!f&&!a?S4(o,d):ca(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-d.scrollLeft*h.x+m.x+g.x,y:n.y*h.y-d.scrollTop*h.y+m.y+g.y}}function lK(t){return Array.from(t.getClientRects())}function cK(t){const e=Na(t),n=Sy(t),r=t.ownerDocument.body,i=As(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=As(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Ey(t);const c=-n.scrollTop;return Ei(r).direction==="rtl"&&(o+=As(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:c}}const g2=25;function uK(t,e){const n=Ls(t),r=Na(t),i=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,c=0,d=0;if(i){a=i.width,o=i.height;const m=m_();(!m||m&&e==="fixed")&&(c=i.offsetLeft,d=i.offsetTop)}const h=Ey(r);if(h<=0){const m=r.ownerDocument,f=m.body,g=getComputedStyle(f),x=m.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,N=Math.abs(r.clientWidth-f.clientWidth-x);N<=g2&&(a-=N)}else h<=g2&&(a+=h);return{width:a,height:o,x:c,y:d}}const dK=new Set(["absolute","fixed"]);function hK(t,e){const n=$c(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,a=va(t)?md(t):ca(1),o=t.clientWidth*a.x,c=t.clientHeight*a.y,d=i*a.x,h=r*a.y;return{width:o,height:c,x:d,y:h}}function x2(t,e,n){let r;if(e==="viewport")r=uK(t,n);else if(e==="document")r=cK(Na(t));else if(Si(e))r=hK(e,n);else{const i=N4(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return kx(r)}function E4(t,e){const n=Cl(t);return n===e||!Si(n)||Vd(n)?!1:Ei(n).position==="fixed"||E4(n,e)}function mK(t,e){const n=e.get(t);if(n)return n;let r=af(t,[],!1).filter(c=>Si(c)&&ah(c)!=="body"),i=null;const a=Ei(t).position==="fixed";let o=a?Cl(t):t;for(;Si(o)&&!Vd(o);){const c=Ei(o),d=h_(o);!d&&c.position==="fixed"&&(i=null),(a?!d&&!i:!d&&c.position==="static"&&!!i&&dK.has(i.position)||Lf(o)&&!d&&E4(t,o))?r=r.filter(m=>m!==o):i=c,o=Cl(o)}return e.set(t,r),r}function fK(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Ny(e)?[]:mK(e,this._c):[].concat(n),r],c=o[0],d=o.reduce((h,m)=>{const f=x2(e,m,i);return h.top=As(f.top,h.top),h.right=El(f.right,h.right),h.bottom=El(f.bottom,h.bottom),h.left=As(f.left,h.left),h},x2(e,c,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function pK(t){const{width:e,height:n}=_4(t);return{width:e,height:n}}function gK(t,e,n){const r=va(e),i=Na(e),a=n==="fixed",o=$c(t,!0,a,e);let c={scrollLeft:0,scrollTop:0};const d=ca(0);function h(){d.x=Ey(i)}if(r||!r&&!a)if((ah(e)!=="body"||Lf(i))&&(c=Sy(e)),r){const x=$c(e,!0,a,e);d.x=x.x+e.clientLeft,d.y=x.y+e.clientTop}else i&&h();a&&!r&&i&&h();const m=i&&!r&&!a?S4(i,c):ca(0),f=o.left+c.scrollLeft-d.x-m.x,g=o.top+c.scrollTop-d.y-m.y;return{x:f,y:g,width:o.width,height:o.height}}function mb(t){return Ei(t).position==="static"}function y2(t,e){if(!va(t)||Ei(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Na(t)===n&&(n=n.ownerDocument.body),n}function C4(t,e){const n=Ls(t);if(Ny(t))return n;if(!va(t)){let i=Cl(t);for(;i&&!Vd(i);){if(Si(i)&&!mb(i))return i;i=Cl(i)}return n}let r=y2(t,e);for(;r&&XW(r)&&mb(r);)r=y2(r,e);return r&&Vd(r)&&mb(r)&&!h_(r)?n:r||rK(t)||n}const xK=async function(t){const e=this.getOffsetParent||C4,n=this.getDimensions,r=await n(t.floating);return{reference:gK(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function yK(t){return Ei(t).direction==="rtl"}const vK={convertOffsetParentRelativeRectToViewportRelativeRect:oK,getDocumentElement:Na,getClippingRect:fK,getOffsetParent:C4,getElementRects:xK,getClientRects:lK,getDimensions:pK,getScale:md,isElement:Si,isRTL:yK};function k4(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function bK(t,e){let n=null,r;const i=Na(t);function a(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function o(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),a();const h=t.getBoundingClientRect(),{left:m,top:f,width:g,height:x}=h;if(c||e(),!g||!x)return;const N=yg(f),w=yg(i.clientWidth-(m+g)),j=yg(i.clientHeight-(f+x)),_=yg(m),k={rootMargin:-N+"px "+-w+"px "+-j+"px "+-_+"px",threshold:As(0,El(1,d))||1};let C=!0;function R(F){const D=F[0].intersectionRatio;if(D!==d){if(!C)return o();D?o(!1,D):r=setTimeout(()=>{o(!1,1e-7)},1e3)}D===1&&!k4(h,t.getBoundingClientRect())&&o(),C=!1}try{n=new IntersectionObserver(R,{...k,root:i.ownerDocument})}catch{n=new IntersectionObserver(R,k)}n.observe(t)}return o(!0),a}function wK(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,h=f_(t),m=i||a?[...h?af(h):[],...af(e)]:[];m.forEach(_=>{i&&_.addEventListener("scroll",n,{passive:!0}),a&&_.addEventListener("resize",n)});const f=h&&c?bK(h,n):null;let g=-1,x=null;o&&(x=new ResizeObserver(_=>{let[E]=_;E&&E.target===h&&x&&(x.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var k;(k=x)==null||k.observe(e)})),n()}),h&&!d&&x.observe(h),x.observe(e));let N,w=d?$c(t):null;d&&j();function j(){const _=$c(t);w&&!k4(w,_)&&n(),w=_,N=requestAnimationFrame(j)}return n(),()=>{var _;m.forEach(E=>{i&&E.removeEventListener("scroll",n),a&&E.removeEventListener("resize",n)}),f==null||f(),(_=x)==null||_.disconnect(),x=null,d&&cancelAnimationFrame(N)}}const jK=WW,_K=KW,NK=$W,SK=QW,EK=qW,v2=BW,CK=GW,kK=(t,e,n)=>{const r=new Map,i={platform:vK,...n},a={...i.platform,_c:r};return zW(t,e,{...i,platform:a})};var TK=typeof document<"u",AK=function(){},Gg=TK?v.useLayoutEffect:AK;function Tx(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Tx(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&t.$$typeof)&&!Tx(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function T4(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function b2(t,e){const n=T4(t);return Math.round(e*n)/n}function fb(t){const e=v.useRef(t);return Gg(()=>{e.current=t}),e}function IK(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:o}={},transform:c=!0,whileElementsMounted:d,open:h}=t,[m,f]=v.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[g,x]=v.useState(r);Tx(g,r)||x(r);const[N,w]=v.useState(null),[j,_]=v.useState(null),E=v.useCallback(Q=>{Q!==F.current&&(F.current=Q,w(Q))},[]),k=v.useCallback(Q=>{Q!==D.current&&(D.current=Q,_(Q))},[]),C=a||N,R=o||j,F=v.useRef(null),D=v.useRef(null),P=v.useRef(m),I=d!=null,O=fb(d),V=fb(i),L=fb(h),U=v.useCallback(()=>{if(!F.current||!D.current)return;const Q={placement:e,strategy:n,middleware:g};V.current&&(Q.platform=V.current),kK(F.current,D.current,Q).then(q=>{const B={...q,isPositioned:L.current!==!1};ee.current&&!Tx(P.current,B)&&(P.current=B,Rf.flushSync(()=>{f(B)}))})},[g,e,n,V,L]);Gg(()=>{h===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,f(Q=>({...Q,isPositioned:!1})))},[h]);const ee=v.useRef(!1);Gg(()=>(ee.current=!0,()=>{ee.current=!1}),[]),Gg(()=>{if(C&&(F.current=C),R&&(D.current=R),C&&R){if(O.current)return O.current(C,R,U);U()}},[C,R,U,O,I]);const re=v.useMemo(()=>({reference:F,floating:D,setReference:E,setFloating:k}),[E,k]),he=v.useMemo(()=>({reference:C,floating:R}),[C,R]),ae=v.useMemo(()=>{const Q={position:n,left:0,top:0};if(!he.floating)return Q;const q=b2(he.floating,m.x),B=b2(he.floating,m.y);return c?{...Q,transform:"translate("+q+"px, "+B+"px)",...T4(he.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:q,top:B}},[n,c,he.floating,m.x,m.y]);return v.useMemo(()=>({...m,update:U,refs:re,elements:he,floatingStyles:ae}),[m,U,re,he,ae])}const RK=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?v2({element:r.current,padding:i}).fn(n):{}:r?v2({element:r,padding:i}).fn(n):{}}}},PK=(t,e)=>({...jK(t),options:[t,e]}),DK=(t,e)=>({..._K(t),options:[t,e]}),MK=(t,e)=>({...CK(t),options:[t,e]}),OK=(t,e)=>({...NK(t),options:[t,e]}),LK=(t,e)=>({...SK(t),options:[t,e]}),FK=(t,e)=>({...EK(t),options:[t,e]}),VK=(t,e)=>({...RK(t),options:[t,e]});var UK="Arrow",A4=v.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...a}=t;return s.jsx(Ct.svg,{...a,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});A4.displayName=UK;var zK=A4;function p_(t){const[e,n]=v.useState(void 0);return sr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,c;if("borderBoxSize"in a){const d=a.borderBoxSize,h=Array.isArray(d)?d[0]:d;o=h.inlineSize,c=h.blockSize}else o=t.offsetWidth,c=t.offsetHeight;n({width:o,height:c})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var g_="Popper",[I4,Cy]=bo(g_),[BK,R4]=I4(g_),P4=t=>{const{__scopePopper:e,children:n}=t,[r,i]=v.useState(null);return s.jsx(BK,{scope:e,anchor:r,onAnchorChange:i,children:n})};P4.displayName=g_;var D4="PopperAnchor",M4=v.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,a=R4(D4,n),o=v.useRef(null),c=Ht(e,o),d=v.useRef(null);return v.useEffect(()=>{const h=d.current;d.current=(r==null?void 0:r.current)||o.current,h!==d.current&&a.onAnchorChange(d.current)}),r?null:s.jsx(Ct.div,{...i,ref:c})});M4.displayName=D4;var x_="PopperContent",[$K,qK]=I4(x_),O4=v.forwardRef((t,e)=>{var ge,Se,De,ze,qe,ft;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:h=[],collisionPadding:m=0,sticky:f="partial",hideWhenDetached:g=!1,updatePositionStrategy:x="optimized",onPlaced:N,...w}=t,j=R4(x_,n),[_,E]=v.useState(null),k=Ht(e,Jt=>E(Jt)),[C,R]=v.useState(null),F=p_(C),D=(F==null?void 0:F.width)??0,P=(F==null?void 0:F.height)??0,I=r+(a!=="center"?"-"+a:""),O=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},V=Array.isArray(h)?h:[h],L=V.length>0,U={padding:O,boundary:V.filter(WK),altBoundary:L},{refs:ee,floatingStyles:re,placement:he,isPositioned:ae,middlewareData:Q}=IK({strategy:"fixed",placement:I,whileElementsMounted:(...Jt)=>wK(...Jt,{animationFrame:x==="always"}),elements:{reference:j.anchor},middleware:[PK({mainAxis:i+P,alignmentAxis:o}),d&&DK({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?MK():void 0,...U}),d&&OK({...U}),LK({...U,apply:({elements:Jt,rects:Cn,availableWidth:wr,availableHeight:Bn})=>{const{width:Jn,height:xs}=Cn.reference,zt=Jt.floating.style;zt.setProperty("--radix-popper-available-width",`${wr}px`),zt.setProperty("--radix-popper-available-height",`${Bn}px`),zt.setProperty("--radix-popper-anchor-width",`${Jn}px`),zt.setProperty("--radix-popper-anchor-height",`${xs}px`)}}),C&&VK({element:C,padding:c}),KK({arrowWidth:D,arrowHeight:P}),g&&FK({strategy:"referenceHidden",...U})]}),[q,B]=V4(he),$=Ni(N);sr(()=>{ae&&($==null||$())},[ae,$]);const Z=(ge=Q.arrow)==null?void 0:ge.x,H=(Se=Q.arrow)==null?void 0:Se.y,me=((De=Q.arrow)==null?void 0:De.centerOffset)!==0,[je,Ae]=v.useState();return sr(()=>{_&&Ae(window.getComputedStyle(_).zIndex)},[_]),s.jsx("div",{ref:ee.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:ae?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:je,"--radix-popper-transform-origin":[(ze=Q.transformOrigin)==null?void 0:ze.x,(qe=Q.transformOrigin)==null?void 0:qe.y].join(" "),...((ft=Q.hide)==null?void 0:ft.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:s.jsx($K,{scope:n,placedSide:q,onArrowChange:R,arrowX:Z,arrowY:H,shouldHideArrow:me,children:s.jsx(Ct.div,{"data-side":q,"data-align":B,...w,ref:k,style:{...w.style,animation:ae?void 0:"none"}})})})});O4.displayName=x_;var L4="PopperArrow",HK={top:"bottom",right:"left",bottom:"top",left:"right"},F4=v.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,a=qK(L4,r),o=HK[a.placedSide];return s.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:s.jsx(zK,{...i,ref:n,style:{...i.style,display:"block"}})})});F4.displayName=L4;function WK(t){return t!==null}var KK=t=>({name:"transformOrigin",options:t,fn(e){var j,_,E;const{placement:n,rects:r,middlewareData:i}=e,o=((j=i.arrow)==null?void 0:j.centerOffset)!==0,c=o?0:t.arrowWidth,d=o?0:t.arrowHeight,[h,m]=V4(n),f={start:"0%",center:"50%",end:"100%"}[m],g=(((_=i.arrow)==null?void 0:_.x)??0)+c/2,x=(((E=i.arrow)==null?void 0:E.y)??0)+d/2;let N="",w="";return h==="bottom"?(N=o?f:`${g}px`,w=`${-d}px`):h==="top"?(N=o?f:`${g}px`,w=`${r.floating.height+d}px`):h==="right"?(N=`${-d}px`,w=o?f:`${x}px`):h==="left"&&(N=`${r.floating.width+d}px`,w=o?f:`${x}px`),{data:{x:N,y:w}}}});function V4(t){const[e,n="center"]=t.split("-");return[e,n]}var U4=P4,z4=M4,B4=O4,$4=F4,GK="Portal",ky=v.forwardRef((t,e)=>{var c;const{container:n,...r}=t,[i,a]=v.useState(!1);sr(()=>a(!0),[]);const o=n||i&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return o?lz.createPortal(s.jsx(Ct.div,{...r,ref:e}),o):null});ky.displayName=GK;function QK(t,e){return v.useReducer((n,r)=>e[n][r]??n,t)}var wo=t=>{const{present:e,children:n}=t,r=YK(e),i=typeof n=="function"?n({present:r.isPresent}):v.Children.only(n),a=Ht(r.ref,JK(i));return typeof n=="function"||r.isPresent?v.cloneElement(i,{ref:a}):null};wo.displayName="Presence";function YK(t){const[e,n]=v.useState(),r=v.useRef(null),i=v.useRef(t),a=v.useRef("none"),o=t?"mounted":"unmounted",[c,d]=QK(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const h=vg(r.current);a.current=c==="mounted"?h:"none"},[c]),sr(()=>{const h=r.current,m=i.current;if(m!==t){const g=a.current,x=vg(h);t?d("MOUNT"):x==="none"||(h==null?void 0:h.display)==="none"?d("UNMOUNT"):d(m&&g!==x?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,d]),sr(()=>{if(e){let h;const m=e.ownerDocument.defaultView??window,f=x=>{const w=vg(r.current).includes(CSS.escape(x.animationName));if(x.target===e&&w&&(d("ANIMATION_END"),!i.current)){const j=e.style.animationFillMode;e.style.animationFillMode="forwards",h=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=j)})}},g=x=>{x.target===e&&(a.current=vg(r.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{m.clearTimeout(h),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:v.useCallback(h=>{r.current=h?getComputedStyle(h):null,n(h)},[])}}function vg(t){return(t==null?void 0:t.animationName)||"none"}function JK(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var pb="rovingFocusGroup.onEntryFocus",XK={bubbles:!1,cancelable:!0},Ff="RovingFocusGroup",[Qw,q4,ZK]=a_(Ff),[eG,H4]=bo(Ff,[ZK]),[tG,nG]=eG(Ff),W4=v.forwardRef((t,e)=>s.jsx(Qw.Provider,{scope:t.__scopeRovingFocusGroup,children:s.jsx(Qw.Slot,{scope:t.__scopeRovingFocusGroup,children:s.jsx(rG,{...t,ref:e})})}));W4.displayName=Ff;var rG=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:h,preventScrollOnEntryFocus:m=!1,...f}=t,g=v.useRef(null),x=Ht(e,g),N=o_(a),[w,j]=Bc({prop:o,defaultProp:c??null,onChange:d,caller:Ff}),[_,E]=v.useState(!1),k=Ni(h),C=q4(n),R=v.useRef(!1),[F,D]=v.useState(0);return v.useEffect(()=>{const P=g.current;if(P)return P.addEventListener(pb,k),()=>P.removeEventListener(pb,k)},[k]),s.jsx(tG,{scope:n,orientation:r,dir:N,loop:i,currentTabStopId:w,onItemFocus:v.useCallback(P=>j(P),[j]),onItemShiftTab:v.useCallback(()=>E(!0),[]),onFocusableItemAdd:v.useCallback(()=>D(P=>P+1),[]),onFocusableItemRemove:v.useCallback(()=>D(P=>P-1),[]),children:s.jsx(Ct.div,{tabIndex:_||F===0?-1:0,"data-orientation":r,...f,ref:x,style:{outline:"none",...t.style},onMouseDown:Je(t.onMouseDown,()=>{R.current=!0}),onFocus:Je(t.onFocus,P=>{const I=!R.current;if(P.target===P.currentTarget&&I&&!_){const O=new CustomEvent(pb,XK);if(P.currentTarget.dispatchEvent(O),!O.defaultPrevented){const V=C().filter(he=>he.focusable),L=V.find(he=>he.active),U=V.find(he=>he.id===w),re=[L,U,...V].filter(Boolean).map(he=>he.ref.current);Q4(re,m)}}R.current=!1}),onBlur:Je(t.onBlur,()=>E(!1))})})}),K4="RovingFocusGroupItem",G4=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,children:o,...c}=t,d=Za(),h=a||d,m=nG(K4,n),f=m.currentTabStopId===h,g=q4(n),{onFocusableItemAdd:x,onFocusableItemRemove:N,currentTabStopId:w}=m;return v.useEffect(()=>{if(r)return x(),()=>N()},[r,x,N]),s.jsx(Qw.ItemSlot,{scope:n,id:h,focusable:r,active:i,children:s.jsx(Ct.span,{tabIndex:f?0:-1,"data-orientation":m.orientation,...c,ref:e,onMouseDown:Je(t.onMouseDown,j=>{r?m.onItemFocus(h):j.preventDefault()}),onFocus:Je(t.onFocus,()=>m.onItemFocus(h)),onKeyDown:Je(t.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){m.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const _=aG(j,m.orientation,m.dir);if(_!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let k=g().filter(C=>C.focusable).map(C=>C.ref.current);if(_==="last")k.reverse();else if(_==="prev"||_==="next"){_==="prev"&&k.reverse();const C=k.indexOf(j.currentTarget);k=m.loop?oG(k,C+1):k.slice(C+1)}setTimeout(()=>Q4(k))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:w!=null}):o})})});G4.displayName=K4;var sG={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function iG(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function aG(t,e,n){const r=iG(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return sG[r]}function Q4(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function oG(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var lG=W4,cG=G4;function uG(t){const e=dG(t),n=v.forwardRef((r,i)=>{const{children:a,...o}=r,c=v.Children.toArray(a),d=c.find(mG);if(d){const h=d.props.children,m=c.map(f=>f===d?v.Children.count(h)>1?v.Children.only(null):v.isValidElement(h)?h.props.children:null:f);return s.jsx(e,{...o,ref:i,children:v.isValidElement(h)?v.cloneElement(h,void 0,m):null})}return s.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function dG(t){const e=v.forwardRef((n,r)=>{const{children:i,...a}=n;if(v.isValidElement(i)){const o=pG(i),c=fG(a,i.props);return i.type!==v.Fragment&&(c.ref=r?vo(r,o):o),v.cloneElement(i,c)}return v.Children.count(i)>1?v.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var hG=Symbol("radix.slottable");function mG(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===hG}function fG(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...c)=>{const d=a(...c);return i(...c),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function pG(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var gG=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Wu=new WeakMap,bg=new WeakMap,wg={},gb=0,Y4=function(t){return t&&(t.host||Y4(t.parentNode))},xG=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=Y4(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},yG=function(t,e,n,r){var i=xG(e,Array.isArray(t)?t:[t]);wg[n]||(wg[n]=new WeakMap);var a=wg[n],o=[],c=new Set,d=new Set(i),h=function(f){!f||c.has(f)||(c.add(f),h(f.parentNode))};i.forEach(h);var m=function(f){!f||d.has(f)||Array.prototype.forEach.call(f.children,function(g){if(c.has(g))m(g);else try{var x=g.getAttribute(r),N=x!==null&&x!=="false",w=(Wu.get(g)||0)+1,j=(a.get(g)||0)+1;Wu.set(g,w),a.set(g,j),o.push(g),w===1&&N&&bg.set(g,!0),j===1&&g.setAttribute(n,"true"),N||g.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",g,_)}})};return m(e),c.clear(),gb++,function(){o.forEach(function(f){var g=Wu.get(f)-1,x=a.get(f)-1;Wu.set(f,g),a.set(f,x),g||(bg.has(f)||f.removeAttribute(r),bg.delete(f)),x||f.removeAttribute(n)}),gb--,gb||(Wu=new WeakMap,Wu=new WeakMap,bg=new WeakMap,wg={})}},y_=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=gG(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),yG(r,i,n,"aria-hidden")):function(){return null}},ra=function(){return ra=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ra.apply(this,arguments)};function J4(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function vG(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var Qg="right-scroll-bar-position",Yg="width-before-scroll-bar",bG="with-scroll-bars-hidden",wG="--removed-body-scroll-bar-size";function xb(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function jG(t,e){var n=v.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var _G=typeof window<"u"?v.useLayoutEffect:v.useEffect,w2=new WeakMap;function NG(t,e){var n=jG(null,function(r){return t.forEach(function(i){return xb(i,r)})});return _G(function(){var r=w2.get(n);if(r){var i=new Set(r),a=new Set(t),o=n.current;i.forEach(function(c){a.has(c)||xb(c,null)}),a.forEach(function(c){i.has(c)||xb(c,o)})}w2.set(n,t)},[t]),n}function SG(t){return t}function EG(t,e){e===void 0&&(e=SG);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var o=e(a,r);return n.push(o),function(){n=n.filter(function(c){return c!==o})}},assignSyncMedium:function(a){for(r=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(c){return a(c)},filter:function(){return n}}},assignMedium:function(a){r=!0;var o=[];if(n.length){var c=n;n=[],c.forEach(a),o=n}var d=function(){var m=o;o=[],m.forEach(a)},h=function(){return Promise.resolve().then(d)};h(),n={push:function(m){o.push(m),h()},filter:function(m){return o=o.filter(m),n}}}};return i}function CG(t){t===void 0&&(t={});var e=EG(null);return e.options=ra({async:!0,ssr:!1},t),e}var X4=function(t){var e=t.sideCar,n=J4(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return v.createElement(r,ra({},n))};X4.isSideCarExport=!0;function kG(t,e){return t.useMedium(e),X4}var Z4=CG(),yb=function(){},Ty=v.forwardRef(function(t,e){var n=v.useRef(null),r=v.useState({onScrollCapture:yb,onWheelCapture:yb,onTouchMoveCapture:yb}),i=r[0],a=r[1],o=t.forwardProps,c=t.children,d=t.className,h=t.removeScrollBar,m=t.enabled,f=t.shards,g=t.sideCar,x=t.noRelative,N=t.noIsolation,w=t.inert,j=t.allowPinchZoom,_=t.as,E=_===void 0?"div":_,k=t.gapMode,C=J4(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=g,F=NG([n,e]),D=ra(ra({},C),i);return v.createElement(v.Fragment,null,m&&v.createElement(R,{sideCar:Z4,removeScrollBar:h,shards:f,noRelative:x,noIsolation:N,inert:w,setCallbacks:a,allowPinchZoom:!!j,lockRef:n,gapMode:k}),o?v.cloneElement(v.Children.only(c),ra(ra({},D),{ref:F})):v.createElement(E,ra({},D,{className:d,ref:F}),c))});Ty.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ty.classNames={fullWidth:Yg,zeroRight:Qg};var TG=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function AG(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=TG();return e&&t.setAttribute("nonce",e),t}function IG(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function RG(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var PG=function(){var t=0,e=null;return{add:function(n){t==0&&(e=AG())&&(IG(e,n),RG(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},DG=function(){var t=PG();return function(e,n){v.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},eD=function(){var t=DG(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},MG={left:0,top:0,right:0,gap:0},vb=function(t){return parseInt(t||"",10)||0},OG=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[vb(n),vb(r),vb(i)]},LG=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return MG;var e=OG(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},FG=eD(),fd="data-scroll-locked",VG=function(t,e,n,r){var i=t.left,a=t.top,o=t.right,c=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(bG,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(fd,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Qg,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Yg,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Qg," .").concat(Qg,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Yg," .").concat(Yg,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(fd,`] {
    `).concat(wG,": ").concat(c,`px;
  }
`)},j2=function(){var t=parseInt(document.body.getAttribute(fd)||"0",10);return isFinite(t)?t:0},UG=function(){v.useEffect(function(){return document.body.setAttribute(fd,(j2()+1).toString()),function(){var t=j2()-1;t<=0?document.body.removeAttribute(fd):document.body.setAttribute(fd,t.toString())}},[])},zG=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;UG();var a=v.useMemo(function(){return LG(i)},[i]);return v.createElement(FG,{styles:VG(a,!e,i,n?"":"!important")})},Yw=!1;if(typeof window<"u")try{var jg=Object.defineProperty({},"passive",{get:function(){return Yw=!0,!0}});window.addEventListener("test",jg,jg),window.removeEventListener("test",jg,jg)}catch{Yw=!1}var Ku=Yw?{passive:!1}:!1,BG=function(t){return t.tagName==="TEXTAREA"},tD=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!BG(t)&&n[e]==="visible")},$G=function(t){return tD(t,"overflowY")},qG=function(t){return tD(t,"overflowX")},_2=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=nD(t,r);if(i){var a=rD(t,r),o=a[1],c=a[2];if(o>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},HG=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},WG=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},nD=function(t,e){return t==="v"?$G(e):qG(e)},rD=function(t,e){return t==="v"?HG(e):WG(e)},KG=function(t,e){return t==="h"&&e==="rtl"?-1:1},GG=function(t,e,n,r,i){var a=KG(t,window.getComputedStyle(e).direction),o=a*r,c=n.target,d=e.contains(c),h=!1,m=o>0,f=0,g=0;do{if(!c)break;var x=rD(t,c),N=x[0],w=x[1],j=x[2],_=w-j-a*N;(N||_)&&nD(t,c)&&(f+=_,g+=N);var E=c.parentNode;c=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!d&&c!==document.body||d&&(e.contains(c)||e===c));return(m&&Math.abs(f)<1||!m&&Math.abs(g)<1)&&(h=!0),h},_g=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},N2=function(t){return[t.deltaX,t.deltaY]},S2=function(t){return t&&"current"in t?t.current:t},QG=function(t,e){return t[0]===e[0]&&t[1]===e[1]},YG=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},JG=0,Gu=[];function XG(t){var e=v.useRef([]),n=v.useRef([0,0]),r=v.useRef(),i=v.useState(JG++)[0],a=v.useState(eD)[0],o=v.useRef(t);v.useEffect(function(){o.current=t},[t]),v.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var w=vG([t.lockRef.current],(t.shards||[]).map(S2),!0).filter(Boolean);return w.forEach(function(j){return j.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),w.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var c=v.useCallback(function(w,j){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!o.current.allowPinchZoom;var _=_g(w),E=n.current,k="deltaX"in w?w.deltaX:E[0]-_[0],C="deltaY"in w?w.deltaY:E[1]-_[1],R,F=w.target,D=Math.abs(k)>Math.abs(C)?"h":"v";if("touches"in w&&D==="h"&&F.type==="range")return!1;var P=_2(D,F);if(!P)return!0;if(P?R=D:(R=D==="v"?"h":"v",P=_2(D,F)),!P)return!1;if(!r.current&&"changedTouches"in w&&(k||C)&&(r.current=R),!R)return!0;var I=r.current||R;return GG(I,j,w,I==="h"?k:C)},[]),d=v.useCallback(function(w){var j=w;if(!(!Gu.length||Gu[Gu.length-1]!==a)){var _="deltaY"in j?N2(j):_g(j),E=e.current.filter(function(R){return R.name===j.type&&(R.target===j.target||j.target===R.shadowParent)&&QG(R.delta,_)})[0];if(E&&E.should){j.cancelable&&j.preventDefault();return}if(!E){var k=(o.current.shards||[]).map(S2).filter(Boolean).filter(function(R){return R.contains(j.target)}),C=k.length>0?c(j,k[0]):!o.current.noIsolation;C&&j.cancelable&&j.preventDefault()}}},[]),h=v.useCallback(function(w,j,_,E){var k={name:w,delta:j,target:_,should:E,shadowParent:ZG(_)};e.current.push(k),setTimeout(function(){e.current=e.current.filter(function(C){return C!==k})},1)},[]),m=v.useCallback(function(w){n.current=_g(w),r.current=void 0},[]),f=v.useCallback(function(w){h(w.type,N2(w),w.target,c(w,t.lockRef.current))},[]),g=v.useCallback(function(w){h(w.type,_g(w),w.target,c(w,t.lockRef.current))},[]);v.useEffect(function(){return Gu.push(a),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:g}),document.addEventListener("wheel",d,Ku),document.addEventListener("touchmove",d,Ku),document.addEventListener("touchstart",m,Ku),function(){Gu=Gu.filter(function(w){return w!==a}),document.removeEventListener("wheel",d,Ku),document.removeEventListener("touchmove",d,Ku),document.removeEventListener("touchstart",m,Ku)}},[]);var x=t.removeScrollBar,N=t.inert;return v.createElement(v.Fragment,null,N?v.createElement(a,{styles:YG(i)}):null,x?v.createElement(zG,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function ZG(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const eQ=kG(Z4,XG);var Ay=v.forwardRef(function(t,e){return v.createElement(Ty,ra({},t,{ref:e,sideCar:eQ}))});Ay.classNames=Ty.classNames;var Jw=["Enter"," "],tQ=["ArrowDown","PageUp","Home"],sD=["ArrowUp","PageDown","End"],nQ=[...tQ,...sD],rQ={ltr:[...Jw,"ArrowRight"],rtl:[...Jw,"ArrowLeft"]},sQ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Vf="Menu",[of,iQ,aQ]=a_(Vf),[su,iD]=bo(Vf,[aQ,Cy,H4]),Iy=Cy(),aD=H4(),[oQ,iu]=su(Vf),[lQ,Uf]=su(Vf),oD=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:a,modal:o=!0}=t,c=Iy(e),[d,h]=v.useState(null),m=v.useRef(!1),f=Ni(a),g=o_(i);return v.useEffect(()=>{const x=()=>{m.current=!0,document.addEventListener("pointerdown",N,{capture:!0,once:!0}),document.addEventListener("pointermove",N,{capture:!0,once:!0})},N=()=>m.current=!1;return document.addEventListener("keydown",x,{capture:!0}),()=>{document.removeEventListener("keydown",x,{capture:!0}),document.removeEventListener("pointerdown",N,{capture:!0}),document.removeEventListener("pointermove",N,{capture:!0})}},[]),s.jsx(U4,{...c,children:s.jsx(oQ,{scope:e,open:n,onOpenChange:f,content:d,onContentChange:h,children:s.jsx(lQ,{scope:e,onClose:v.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:m,dir:g,modal:o,children:r})})})};oD.displayName=Vf;var cQ="MenuAnchor",v_=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Iy(n);return s.jsx(z4,{...i,...r,ref:e})});v_.displayName=cQ;var b_="MenuPortal",[uQ,lD]=su(b_,{forceMount:void 0}),cD=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,a=iu(b_,e);return s.jsx(uQ,{scope:e,forceMount:n,children:s.jsx(wo,{present:n||a.open,children:s.jsx(ky,{asChild:!0,container:i,children:r})})})};cD.displayName=b_;var ti="MenuContent",[dQ,w_]=su(ti),uD=v.forwardRef((t,e)=>{const n=lD(ti,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,a=iu(ti,t.__scopeMenu),o=Uf(ti,t.__scopeMenu);return s.jsx(of.Provider,{scope:t.__scopeMenu,children:s.jsx(wo,{present:r||a.open,children:s.jsx(of.Slot,{scope:t.__scopeMenu,children:o.modal?s.jsx(hQ,{...i,ref:e}):s.jsx(mQ,{...i,ref:e})})})})}),hQ=v.forwardRef((t,e)=>{const n=iu(ti,t.__scopeMenu),r=v.useRef(null),i=Ht(e,r);return v.useEffect(()=>{const a=r.current;if(a)return y_(a)},[]),s.jsx(j_,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Je(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),mQ=v.forwardRef((t,e)=>{const n=iu(ti,t.__scopeMenu);return s.jsx(j_,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),fQ=uG("MenuContent.ScrollLock"),j_=v.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:c,onEntryFocus:d,onEscapeKeyDown:h,onPointerDownOutside:m,onFocusOutside:f,onInteractOutside:g,onDismiss:x,disableOutsideScroll:N,...w}=t,j=iu(ti,n),_=Uf(ti,n),E=Iy(n),k=aD(n),C=iQ(n),[R,F]=v.useState(null),D=v.useRef(null),P=Ht(e,D,j.onContentChange),I=v.useRef(0),O=v.useRef(""),V=v.useRef(0),L=v.useRef(null),U=v.useRef("right"),ee=v.useRef(0),re=N?Ay:v.Fragment,he=N?{as:fQ,allowPinchZoom:!0}:void 0,ae=q=>{var ge,Se;const B=O.current+q,$=C().filter(De=>!De.disabled),Z=document.activeElement,H=(ge=$.find(De=>De.ref.current===Z))==null?void 0:ge.textValue,me=$.map(De=>De.textValue),je=EQ(me,B,H),Ae=(Se=$.find(De=>De.textValue===je))==null?void 0:Se.ref.current;(function De(ze){O.current=ze,window.clearTimeout(I.current),ze!==""&&(I.current=window.setTimeout(()=>De(""),1e3))})(B),Ae&&setTimeout(()=>Ae.focus())};v.useEffect(()=>()=>window.clearTimeout(I.current),[]),l_();const Q=v.useCallback(q=>{var $,Z;return U.current===(($=L.current)==null?void 0:$.side)&&kQ(q,(Z=L.current)==null?void 0:Z.area)},[]);return s.jsx(dQ,{scope:n,searchRef:O,onItemEnter:v.useCallback(q=>{Q(q)&&q.preventDefault()},[Q]),onItemLeave:v.useCallback(q=>{var B;Q(q)||((B=D.current)==null||B.focus(),F(null))},[Q]),onTriggerLeave:v.useCallback(q=>{Q(q)&&q.preventDefault()},[Q]),pointerGraceTimerRef:V,onPointerGraceIntentChange:v.useCallback(q=>{L.current=q},[]),children:s.jsx(re,{...he,children:s.jsx(jy,{asChild:!0,trapped:i,onMountAutoFocus:Je(a,q=>{var B;q.preventDefault(),(B=D.current)==null||B.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(wy,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:h,onPointerDownOutside:m,onFocusOutside:f,onInteractOutside:g,onDismiss:x,children:s.jsx(lG,{asChild:!0,...k,dir:_.dir,orientation:"vertical",loop:r,currentTabStopId:R,onCurrentTabStopIdChange:F,onEntryFocus:Je(d,q=>{_.isUsingKeyboardRef.current||q.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(B4,{role:"menu","aria-orientation":"vertical","data-state":ED(j.open),"data-radix-menu-content":"",dir:_.dir,...E,...w,ref:P,style:{outline:"none",...w.style},onKeyDown:Je(w.onKeyDown,q=>{const $=q.target.closest("[data-radix-menu-content]")===q.currentTarget,Z=q.ctrlKey||q.altKey||q.metaKey,H=q.key.length===1;$&&(q.key==="Tab"&&q.preventDefault(),!Z&&H&&ae(q.key));const me=D.current;if(q.target!==me||!nQ.includes(q.key))return;q.preventDefault();const Ae=C().filter(ge=>!ge.disabled).map(ge=>ge.ref.current);sD.includes(q.key)&&Ae.reverse(),NQ(Ae)}),onBlur:Je(t.onBlur,q=>{q.currentTarget.contains(q.target)||(window.clearTimeout(I.current),O.current="")}),onPointerMove:Je(t.onPointerMove,lf(q=>{const B=q.target,$=ee.current!==q.clientX;if(q.currentTarget.contains(B)&&$){const Z=q.clientX>ee.current?"right":"left";U.current=Z,ee.current=q.clientX}}))})})})})})})});uD.displayName=ti;var pQ="MenuGroup",__=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return s.jsx(Ct.div,{role:"group",...r,ref:e})});__.displayName=pQ;var gQ="MenuLabel",dD=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return s.jsx(Ct.div,{...r,ref:e})});dD.displayName=gQ;var Ax="MenuItem",E2="menu.itemSelect",Ry=v.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,a=v.useRef(null),o=Uf(Ax,t.__scopeMenu),c=w_(Ax,t.__scopeMenu),d=Ht(e,a),h=v.useRef(!1),m=()=>{const f=a.current;if(!n&&f){const g=new CustomEvent(E2,{bubbles:!0,cancelable:!0});f.addEventListener(E2,x=>r==null?void 0:r(x),{once:!0}),p4(f,g),g.defaultPrevented?h.current=!1:o.onClose()}};return s.jsx(hD,{...i,ref:d,disabled:n,onClick:Je(t.onClick,m),onPointerDown:f=>{var g;(g=t.onPointerDown)==null||g.call(t,f),h.current=!0},onPointerUp:Je(t.onPointerUp,f=>{var g;h.current||(g=f.currentTarget)==null||g.click()}),onKeyDown:Je(t.onKeyDown,f=>{const g=c.searchRef.current!=="";n||g&&f.key===" "||Jw.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Ry.displayName=Ax;var hD=v.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...a}=t,o=w_(Ax,n),c=aD(n),d=v.useRef(null),h=Ht(e,d),[m,f]=v.useState(!1),[g,x]=v.useState("");return v.useEffect(()=>{const N=d.current;N&&x((N.textContent??"").trim())},[a.children]),s.jsx(of.ItemSlot,{scope:n,disabled:r,textValue:i??g,children:s.jsx(cG,{asChild:!0,...c,focusable:!r,children:s.jsx(Ct.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:h,onPointerMove:Je(t.onPointerMove,lf(N=>{r?o.onItemLeave(N):(o.onItemEnter(N),N.defaultPrevented||N.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Je(t.onPointerLeave,lf(N=>o.onItemLeave(N))),onFocus:Je(t.onFocus,()=>f(!0)),onBlur:Je(t.onBlur,()=>f(!1))})})})}),xQ="MenuCheckboxItem",mD=v.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return s.jsx(yD,{scope:t.__scopeMenu,checked:n,children:s.jsx(Ry,{role:"menuitemcheckbox","aria-checked":Ix(n)?"mixed":n,...i,ref:e,"data-state":S_(n),onSelect:Je(i.onSelect,()=>r==null?void 0:r(Ix(n)?!0:!n),{checkForDefaultPrevented:!1})})})});mD.displayName=xQ;var fD="MenuRadioGroup",[yQ,vQ]=su(fD,{value:void 0,onValueChange:()=>{}}),pD=v.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,a=Ni(r);return s.jsx(yQ,{scope:t.__scopeMenu,value:n,onValueChange:a,children:s.jsx(__,{...i,ref:e})})});pD.displayName=fD;var gD="MenuRadioItem",xD=v.forwardRef((t,e)=>{const{value:n,...r}=t,i=vQ(gD,t.__scopeMenu),a=n===i.value;return s.jsx(yD,{scope:t.__scopeMenu,checked:a,children:s.jsx(Ry,{role:"menuitemradio","aria-checked":a,...r,ref:e,"data-state":S_(a),onSelect:Je(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});xD.displayName=gD;var N_="MenuItemIndicator",[yD,bQ]=su(N_,{checked:!1}),vD=v.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,a=bQ(N_,n);return s.jsx(wo,{present:r||Ix(a.checked)||a.checked===!0,children:s.jsx(Ct.span,{...i,ref:e,"data-state":S_(a.checked)})})});vD.displayName=N_;var wQ="MenuSeparator",bD=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return s.jsx(Ct.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});bD.displayName=wQ;var jQ="MenuArrow",wD=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Iy(n);return s.jsx($4,{...i,...r,ref:e})});wD.displayName=jQ;var _Q="MenuSub",[Upe,jD]=su(_Q),vm="MenuSubTrigger",_D=v.forwardRef((t,e)=>{const n=iu(vm,t.__scopeMenu),r=Uf(vm,t.__scopeMenu),i=jD(vm,t.__scopeMenu),a=w_(vm,t.__scopeMenu),o=v.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:d}=a,h={__scopeMenu:t.__scopeMenu},m=v.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return v.useEffect(()=>m,[m]),v.useEffect(()=>{const f=c.current;return()=>{window.clearTimeout(f),d(null)}},[c,d]),s.jsx(v_,{asChild:!0,...h,children:s.jsx(hD,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":ED(n.open),...t,ref:vo(e,i.onTriggerChange),onClick:f=>{var g;(g=t.onClick)==null||g.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Je(t.onPointerMove,lf(f=>{a.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),m()},100))})),onPointerLeave:Je(t.onPointerLeave,lf(f=>{var x,N;m();const g=(x=n.content)==null?void 0:x.getBoundingClientRect();if(g){const w=(N=n.content)==null?void 0:N.dataset.side,j=w==="right",_=j?-5:5,E=g[j?"left":"right"],k=g[j?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+_,y:f.clientY},{x:E,y:g.top},{x:k,y:g.top},{x:k,y:g.bottom},{x:E,y:g.bottom}],side:w}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Je(t.onKeyDown,f=>{var x;const g=a.searchRef.current!=="";t.disabled||g&&f.key===" "||rQ[r.dir].includes(f.key)&&(n.onOpenChange(!0),(x=n.content)==null||x.focus(),f.preventDefault())})})})});_D.displayName=vm;var ND="MenuSubContent",SD=v.forwardRef((t,e)=>{const n=lD(ti,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,a=iu(ti,t.__scopeMenu),o=Uf(ti,t.__scopeMenu),c=jD(ND,t.__scopeMenu),d=v.useRef(null),h=Ht(e,d);return s.jsx(of.Provider,{scope:t.__scopeMenu,children:s.jsx(wo,{present:r||a.open,children:s.jsx(of.Slot,{scope:t.__scopeMenu,children:s.jsx(j_,{id:c.contentId,"aria-labelledby":c.triggerId,...i,ref:h,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{var f;o.isUsingKeyboardRef.current&&((f=d.current)==null||f.focus()),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:Je(t.onFocusOutside,m=>{m.target!==c.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Je(t.onEscapeKeyDown,m=>{o.onClose(),m.preventDefault()}),onKeyDown:Je(t.onKeyDown,m=>{var x;const f=m.currentTarget.contains(m.target),g=sQ[o.dir].includes(m.key);f&&g&&(a.onOpenChange(!1),(x=c.trigger)==null||x.focus(),m.preventDefault())})})})})})});SD.displayName=ND;function ED(t){return t?"open":"closed"}function Ix(t){return t==="indeterminate"}function S_(t){return Ix(t)?"indeterminate":t?"checked":"unchecked"}function NQ(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function SQ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function EQ(t,e,n){const i=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let o=SQ(t,Math.max(a,0));i.length===1&&(o=o.filter(h=>h!==n));const d=o.find(h=>h.toLowerCase().startsWith(i.toLowerCase()));return d!==n?d:void 0}function CQ(t,e){const{x:n,y:r}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const c=e[a],d=e[o],h=c.x,m=c.y,f=d.x,g=d.y;m>r!=g>r&&n<(f-h)*(r-m)/(g-m)+h&&(i=!i)}return i}function kQ(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return CQ(n,e)}function lf(t){return e=>e.pointerType==="mouse"?t(e):void 0}var TQ=oD,AQ=v_,IQ=cD,RQ=uD,PQ=__,DQ=dD,MQ=Ry,OQ=mD,LQ=pD,FQ=xD,VQ=vD,UQ=bD,zQ=wD,BQ=_D,$Q=SD,Py="DropdownMenu",[qQ]=bo(Py,[iD]),Qr=iD(),[HQ,CD]=qQ(Py),kD=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:a,onOpenChange:o,modal:c=!0}=t,d=Qr(e),h=v.useRef(null),[m,f]=Bc({prop:i,defaultProp:a??!1,onChange:o,caller:Py});return s.jsx(HQ,{scope:e,triggerId:Za(),triggerRef:h,contentId:Za(),open:m,onOpenChange:f,onOpenToggle:v.useCallback(()=>f(g=>!g),[f]),modal:c,children:s.jsx(TQ,{...d,open:m,onOpenChange:f,dir:r,modal:c,children:n})})};kD.displayName=Py;var TD="DropdownMenuTrigger",AD=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,a=CD(TD,n),o=Qr(n);return s.jsx(AQ,{asChild:!0,...o,children:s.jsx(Ct.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:vo(e,a.triggerRef),onPointerDown:Je(t.onPointerDown,c=>{!r&&c.button===0&&c.ctrlKey===!1&&(a.onOpenToggle(),a.open||c.preventDefault())}),onKeyDown:Je(t.onKeyDown,c=>{r||(["Enter"," "].includes(c.key)&&a.onOpenToggle(),c.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});AD.displayName=TD;var WQ="DropdownMenuPortal",ID=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Qr(e);return s.jsx(IQ,{...r,...n})};ID.displayName=WQ;var RD="DropdownMenuContent",PD=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=CD(RD,n),a=Qr(n),o=v.useRef(!1);return s.jsx(RQ,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...r,ref:e,onCloseAutoFocus:Je(t.onCloseAutoFocus,c=>{var d;o.current||(d=i.triggerRef.current)==null||d.focus(),o.current=!1,c.preventDefault()}),onInteractOutside:Je(t.onInteractOutside,c=>{const d=c.detail.originalEvent,h=d.button===0&&d.ctrlKey===!0,m=d.button===2||h;(!i.modal||m)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});PD.displayName=RD;var KQ="DropdownMenuGroup",GQ=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Qr(n);return s.jsx(PQ,{...i,...r,ref:e})});GQ.displayName=KQ;var QQ="DropdownMenuLabel",DD=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Qr(n);return s.jsx(DQ,{...i,...r,ref:e})});DD.displayName=QQ;var YQ="DropdownMenuItem",MD=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Qr(n);return s.jsx(MQ,{...i,...r,ref:e})});MD.displayName=YQ;var JQ="DropdownMenuCheckboxItem",OD=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Qr(n);return s.jsx(OQ,{...i,...r,ref:e})});OD.displayName=JQ;var XQ="DropdownMenuRadioGroup",ZQ=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Qr(n);return s.jsx(LQ,{...i,...r,ref:e})});ZQ.displayName=XQ;var eY="DropdownMenuRadioItem",LD=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Qr(n);return s.jsx(FQ,{...i,...r,ref:e})});LD.displayName=eY;var tY="DropdownMenuItemIndicator",FD=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Qr(n);return s.jsx(VQ,{...i,...r,ref:e})});FD.displayName=tY;var nY="DropdownMenuSeparator",VD=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Qr(n);return s.jsx(UQ,{...i,...r,ref:e})});VD.displayName=nY;var rY="DropdownMenuArrow",sY=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Qr(n);return s.jsx(zQ,{...i,...r,ref:e})});sY.displayName=rY;var iY="DropdownMenuSubTrigger",UD=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Qr(n);return s.jsx(BQ,{...i,...r,ref:e})});UD.displayName=iY;var aY="DropdownMenuSubContent",zD=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Qr(n);return s.jsx($Q,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});zD.displayName=aY;var oY=kD,lY=AD,cY=ID,BD=PD,$D=DD,qD=MD,HD=OD,WD=LD,KD=FD,GD=VD,QD=UD,YD=zD;function JD(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=JD(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function XD(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=JD(t))&&(r&&(r+=" "),r+=e);return r}const E_="-",uY=t=>{const e=hY(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const c=o.split(E_);return c[0]===""&&c.length!==1&&c.shift(),ZD(c,e)||dY(o)},getConflictingClassGroupIds:(o,c)=>{const d=n[o]||[];return c&&r[o]?[...d,...r[o]]:d}}},ZD=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?ZD(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(E_);return(o=e.validators.find(({validator:c})=>c(a)))==null?void 0:o.classGroupId},C2=/^\[(.+)\]$/,dY=t=>{if(C2.test(t)){const e=C2.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},hY=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const i in n)Xw(n[i],r,i,e);return r},Xw=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:k2(e,i);a.classGroupId=n;return}if(typeof i=="function"){if(mY(i)){Xw(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,o])=>{Xw(o,k2(e,a),n,r)})})},k2=(t,e)=>{let n=t;return e.split(E_).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},mY=t=>t.isThemeGetter,fY=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(a,o)=>{n.set(a,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=r.get(a))!==void 0)return i(a,o),o},set(a,o){n.has(a)?n.set(a,o):i(a,o)}}},Zw="!",e1=":",pY=e1.length,gY=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const a=[];let o=0,c=0,d=0,h;for(let N=0;N<i.length;N++){let w=i[N];if(o===0&&c===0){if(w===e1){a.push(i.slice(d,N)),d=N+pY;continue}if(w==="/"){h=N;continue}}w==="["?o++:w==="]"?o--:w==="("?c++:w===")"&&c--}const m=a.length===0?i:i.substring(d),f=xY(m),g=f!==m,x=h&&h>d?h-d:void 0;return{modifiers:a,hasImportantModifier:g,baseClassName:f,maybePostfixModifierPosition:x}};if(e){const i=e+e1,a=r;r=o=>o.startsWith(i)?a(o.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=a=>n({className:a,parseClassName:i})}return r},xY=t=>t.endsWith(Zw)?t.substring(0,t.length-1):t.startsWith(Zw)?t.substring(1):t,yY=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let a=[];return r.forEach(o=>{o[0]==="["||e[o]?(i.push(...a.sort(),o),a=[]):a.push(o)}),i.push(...a.sort()),i}},vY=t=>({cache:fY(t.cacheSize),parseClassName:gY(t),sortModifiers:yY(t),...uY(t)}),bY=/\s+/,wY=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:a}=e,o=[],c=t.trim().split(bY);let d="";for(let h=c.length-1;h>=0;h-=1){const m=c[h],{isExternal:f,modifiers:g,hasImportantModifier:x,baseClassName:N,maybePostfixModifierPosition:w}=n(m);if(f){d=m+(d.length>0?" "+d:d);continue}let j=!!w,_=r(j?N.substring(0,w):N);if(!_){if(!j){d=m+(d.length>0?" "+d:d);continue}if(_=r(N),!_){d=m+(d.length>0?" "+d:d);continue}j=!1}const E=a(g).join(":"),k=x?E+Zw:E,C=k+_;if(o.includes(C))continue;o.push(C);const R=i(_,j);for(let F=0;F<R.length;++F){const D=R[F];o.push(k+D)}d=m+(d.length>0?" "+d:d)}return d};function jY(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=eM(e))&&(r&&(r+=" "),r+=n);return r}const eM=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=eM(t[r]))&&(n&&(n+=" "),n+=e);return n};function _Y(t,...e){let n,r,i,a=o;function o(d){const h=e.reduce((m,f)=>f(m),t());return n=vY(h),r=n.cache.get,i=n.cache.set,a=c,c(d)}function c(d){const h=r(d);if(h)return h;const m=wY(d,n);return i(d,m),m}return function(){return a(jY.apply(null,arguments))}}const tr=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},tM=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,nM=/^\((?:(\w[\w-]*):)?(.+)\)$/i,NY=/^\d+\/\d+$/,SY=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,EY=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,CY=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,kY=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,TY=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qu=t=>NY.test(t),Et=t=>!!t&&!Number.isNaN(Number(t)),Wo=t=>!!t&&Number.isInteger(Number(t)),bb=t=>t.endsWith("%")&&Et(t.slice(0,-1)),$a=t=>SY.test(t),AY=()=>!0,IY=t=>EY.test(t)&&!CY.test(t),rM=()=>!1,RY=t=>kY.test(t),PY=t=>TY.test(t),DY=t=>!Ke(t)&&!Ge(t),MY=t=>oh(t,aM,rM),Ke=t=>tM.test(t),vc=t=>oh(t,oM,IY),wb=t=>oh(t,UY,Et),T2=t=>oh(t,sM,rM),OY=t=>oh(t,iM,PY),Ng=t=>oh(t,lM,RY),Ge=t=>nM.test(t),cm=t=>lh(t,oM),LY=t=>lh(t,zY),A2=t=>lh(t,sM),FY=t=>lh(t,aM),VY=t=>lh(t,iM),Sg=t=>lh(t,lM,!0),oh=(t,e,n)=>{const r=tM.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},lh=(t,e,n=!1)=>{const r=nM.exec(t);return r?r[1]?e(r[1]):n:!1},sM=t=>t==="position"||t==="percentage",iM=t=>t==="image"||t==="url",aM=t=>t==="length"||t==="size"||t==="bg-size",oM=t=>t==="length",UY=t=>t==="number",zY=t=>t==="family-name",lM=t=>t==="shadow",BY=()=>{const t=tr("color"),e=tr("font"),n=tr("text"),r=tr("font-weight"),i=tr("tracking"),a=tr("leading"),o=tr("breakpoint"),c=tr("container"),d=tr("spacing"),h=tr("radius"),m=tr("shadow"),f=tr("inset-shadow"),g=tr("text-shadow"),x=tr("drop-shadow"),N=tr("blur"),w=tr("perspective"),j=tr("aspect"),_=tr("ease"),E=tr("animate"),k=()=>["auto","avoid","all","avoid-page","page","left","right","column"],C=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],R=()=>[...C(),Ge,Ke],F=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto","contain","none"],P=()=>[Ge,Ke,d],I=()=>[Qu,"full","auto",...P()],O=()=>[Wo,"none","subgrid",Ge,Ke],V=()=>["auto",{span:["full",Wo,Ge,Ke]},Wo,Ge,Ke],L=()=>[Wo,"auto",Ge,Ke],U=()=>["auto","min","max","fr",Ge,Ke],ee=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],re=()=>["start","end","center","stretch","center-safe","end-safe"],he=()=>["auto",...P()],ae=()=>[Qu,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...P()],Q=()=>[t,Ge,Ke],q=()=>[...C(),A2,T2,{position:[Ge,Ke]}],B=()=>["no-repeat",{repeat:["","x","y","space","round"]}],$=()=>["auto","cover","contain",FY,MY,{size:[Ge,Ke]}],Z=()=>[bb,cm,vc],H=()=>["","none","full",h,Ge,Ke],me=()=>["",Et,cm,vc],je=()=>["solid","dashed","dotted","double"],Ae=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ge=()=>[Et,bb,A2,T2],Se=()=>["","none",N,Ge,Ke],De=()=>["none",Et,Ge,Ke],ze=()=>["none",Et,Ge,Ke],qe=()=>[Et,Ge,Ke],ft=()=>[Qu,"full",...P()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[$a],breakpoint:[$a],color:[AY],container:[$a],"drop-shadow":[$a],ease:["in","out","in-out"],font:[DY],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[$a],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[$a],shadow:[$a],spacing:["px",Et],text:[$a],"text-shadow":[$a],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Qu,Ke,Ge,j]}],container:["container"],columns:[{columns:[Et,Ke,Ge,c]}],"break-after":[{"break-after":k()}],"break-before":[{"break-before":k()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:R()}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:I()}],"inset-x":[{"inset-x":I()}],"inset-y":[{"inset-y":I()}],start:[{start:I()}],end:[{end:I()}],top:[{top:I()}],right:[{right:I()}],bottom:[{bottom:I()}],left:[{left:I()}],visibility:["visible","invisible","collapse"],z:[{z:[Wo,"auto",Ge,Ke]}],basis:[{basis:[Qu,"full","auto",c,...P()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Et,Qu,"auto","initial","none",Ke]}],grow:[{grow:["",Et,Ge,Ke]}],shrink:[{shrink:["",Et,Ge,Ke]}],order:[{order:[Wo,"first","last","none",Ge,Ke]}],"grid-cols":[{"grid-cols":O()}],"col-start-end":[{col:V()}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":O()}],"row-start-end":[{row:V()}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":U()}],"auto-rows":[{"auto-rows":U()}],gap:[{gap:P()}],"gap-x":[{"gap-x":P()}],"gap-y":[{"gap-y":P()}],"justify-content":[{justify:[...ee(),"normal"]}],"justify-items":[{"justify-items":[...re(),"normal"]}],"justify-self":[{"justify-self":["auto",...re()]}],"align-content":[{content:["normal",...ee()]}],"align-items":[{items:[...re(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...re(),{baseline:["","last"]}]}],"place-content":[{"place-content":ee()}],"place-items":[{"place-items":[...re(),"baseline"]}],"place-self":[{"place-self":["auto",...re()]}],p:[{p:P()}],px:[{px:P()}],py:[{py:P()}],ps:[{ps:P()}],pe:[{pe:P()}],pt:[{pt:P()}],pr:[{pr:P()}],pb:[{pb:P()}],pl:[{pl:P()}],m:[{m:he()}],mx:[{mx:he()}],my:[{my:he()}],ms:[{ms:he()}],me:[{me:he()}],mt:[{mt:he()}],mr:[{mr:he()}],mb:[{mb:he()}],ml:[{ml:he()}],"space-x":[{"space-x":P()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":P()}],"space-y-reverse":["space-y-reverse"],size:[{size:ae()}],w:[{w:[c,"screen",...ae()]}],"min-w":[{"min-w":[c,"screen","none",...ae()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[o]},...ae()]}],h:[{h:["screen","lh",...ae()]}],"min-h":[{"min-h":["screen","lh","none",...ae()]}],"max-h":[{"max-h":["screen","lh",...ae()]}],"font-size":[{text:["base",n,cm,vc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ge,wb]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",bb,Ke]}],"font-family":[{font:[LY,Ke,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Ge,Ke]}],"line-clamp":[{"line-clamp":[Et,"none",Ge,wb]}],leading:[{leading:[a,...P()]}],"list-image":[{"list-image":["none",Ge,Ke]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ge,Ke]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Q()}],"text-color":[{text:Q()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...je(),"wavy"]}],"text-decoration-thickness":[{decoration:[Et,"from-font","auto",Ge,vc]}],"text-decoration-color":[{decoration:Q()}],"underline-offset":[{"underline-offset":[Et,"auto",Ge,Ke]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ge,Ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ge,Ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:q()}],"bg-repeat":[{bg:B()}],"bg-size":[{bg:$()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Wo,Ge,Ke],radial:["",Ge,Ke],conic:[Wo,Ge,Ke]},VY,OY]}],"bg-color":[{bg:Q()}],"gradient-from-pos":[{from:Z()}],"gradient-via-pos":[{via:Z()}],"gradient-to-pos":[{to:Z()}],"gradient-from":[{from:Q()}],"gradient-via":[{via:Q()}],"gradient-to":[{to:Q()}],rounded:[{rounded:H()}],"rounded-s":[{"rounded-s":H()}],"rounded-e":[{"rounded-e":H()}],"rounded-t":[{"rounded-t":H()}],"rounded-r":[{"rounded-r":H()}],"rounded-b":[{"rounded-b":H()}],"rounded-l":[{"rounded-l":H()}],"rounded-ss":[{"rounded-ss":H()}],"rounded-se":[{"rounded-se":H()}],"rounded-ee":[{"rounded-ee":H()}],"rounded-es":[{"rounded-es":H()}],"rounded-tl":[{"rounded-tl":H()}],"rounded-tr":[{"rounded-tr":H()}],"rounded-br":[{"rounded-br":H()}],"rounded-bl":[{"rounded-bl":H()}],"border-w":[{border:me()}],"border-w-x":[{"border-x":me()}],"border-w-y":[{"border-y":me()}],"border-w-s":[{"border-s":me()}],"border-w-e":[{"border-e":me()}],"border-w-t":[{"border-t":me()}],"border-w-r":[{"border-r":me()}],"border-w-b":[{"border-b":me()}],"border-w-l":[{"border-l":me()}],"divide-x":[{"divide-x":me()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":me()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...je(),"hidden","none"]}],"divide-style":[{divide:[...je(),"hidden","none"]}],"border-color":[{border:Q()}],"border-color-x":[{"border-x":Q()}],"border-color-y":[{"border-y":Q()}],"border-color-s":[{"border-s":Q()}],"border-color-e":[{"border-e":Q()}],"border-color-t":[{"border-t":Q()}],"border-color-r":[{"border-r":Q()}],"border-color-b":[{"border-b":Q()}],"border-color-l":[{"border-l":Q()}],"divide-color":[{divide:Q()}],"outline-style":[{outline:[...je(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Et,Ge,Ke]}],"outline-w":[{outline:["",Et,cm,vc]}],"outline-color":[{outline:Q()}],shadow:[{shadow:["","none",m,Sg,Ng]}],"shadow-color":[{shadow:Q()}],"inset-shadow":[{"inset-shadow":["none",f,Sg,Ng]}],"inset-shadow-color":[{"inset-shadow":Q()}],"ring-w":[{ring:me()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Q()}],"ring-offset-w":[{"ring-offset":[Et,vc]}],"ring-offset-color":[{"ring-offset":Q()}],"inset-ring-w":[{"inset-ring":me()}],"inset-ring-color":[{"inset-ring":Q()}],"text-shadow":[{"text-shadow":["none",g,Sg,Ng]}],"text-shadow-color":[{"text-shadow":Q()}],opacity:[{opacity:[Et,Ge,Ke]}],"mix-blend":[{"mix-blend":[...Ae(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ae()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Et]}],"mask-image-linear-from-pos":[{"mask-linear-from":ge()}],"mask-image-linear-to-pos":[{"mask-linear-to":ge()}],"mask-image-linear-from-color":[{"mask-linear-from":Q()}],"mask-image-linear-to-color":[{"mask-linear-to":Q()}],"mask-image-t-from-pos":[{"mask-t-from":ge()}],"mask-image-t-to-pos":[{"mask-t-to":ge()}],"mask-image-t-from-color":[{"mask-t-from":Q()}],"mask-image-t-to-color":[{"mask-t-to":Q()}],"mask-image-r-from-pos":[{"mask-r-from":ge()}],"mask-image-r-to-pos":[{"mask-r-to":ge()}],"mask-image-r-from-color":[{"mask-r-from":Q()}],"mask-image-r-to-color":[{"mask-r-to":Q()}],"mask-image-b-from-pos":[{"mask-b-from":ge()}],"mask-image-b-to-pos":[{"mask-b-to":ge()}],"mask-image-b-from-color":[{"mask-b-from":Q()}],"mask-image-b-to-color":[{"mask-b-to":Q()}],"mask-image-l-from-pos":[{"mask-l-from":ge()}],"mask-image-l-to-pos":[{"mask-l-to":ge()}],"mask-image-l-from-color":[{"mask-l-from":Q()}],"mask-image-l-to-color":[{"mask-l-to":Q()}],"mask-image-x-from-pos":[{"mask-x-from":ge()}],"mask-image-x-to-pos":[{"mask-x-to":ge()}],"mask-image-x-from-color":[{"mask-x-from":Q()}],"mask-image-x-to-color":[{"mask-x-to":Q()}],"mask-image-y-from-pos":[{"mask-y-from":ge()}],"mask-image-y-to-pos":[{"mask-y-to":ge()}],"mask-image-y-from-color":[{"mask-y-from":Q()}],"mask-image-y-to-color":[{"mask-y-to":Q()}],"mask-image-radial":[{"mask-radial":[Ge,Ke]}],"mask-image-radial-from-pos":[{"mask-radial-from":ge()}],"mask-image-radial-to-pos":[{"mask-radial-to":ge()}],"mask-image-radial-from-color":[{"mask-radial-from":Q()}],"mask-image-radial-to-color":[{"mask-radial-to":Q()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":C()}],"mask-image-conic-pos":[{"mask-conic":[Et]}],"mask-image-conic-from-pos":[{"mask-conic-from":ge()}],"mask-image-conic-to-pos":[{"mask-conic-to":ge()}],"mask-image-conic-from-color":[{"mask-conic-from":Q()}],"mask-image-conic-to-color":[{"mask-conic-to":Q()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:q()}],"mask-repeat":[{mask:B()}],"mask-size":[{mask:$()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ge,Ke]}],filter:[{filter:["","none",Ge,Ke]}],blur:[{blur:Se()}],brightness:[{brightness:[Et,Ge,Ke]}],contrast:[{contrast:[Et,Ge,Ke]}],"drop-shadow":[{"drop-shadow":["","none",x,Sg,Ng]}],"drop-shadow-color":[{"drop-shadow":Q()}],grayscale:[{grayscale:["",Et,Ge,Ke]}],"hue-rotate":[{"hue-rotate":[Et,Ge,Ke]}],invert:[{invert:["",Et,Ge,Ke]}],saturate:[{saturate:[Et,Ge,Ke]}],sepia:[{sepia:["",Et,Ge,Ke]}],"backdrop-filter":[{"backdrop-filter":["","none",Ge,Ke]}],"backdrop-blur":[{"backdrop-blur":Se()}],"backdrop-brightness":[{"backdrop-brightness":[Et,Ge,Ke]}],"backdrop-contrast":[{"backdrop-contrast":[Et,Ge,Ke]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Et,Ge,Ke]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Et,Ge,Ke]}],"backdrop-invert":[{"backdrop-invert":["",Et,Ge,Ke]}],"backdrop-opacity":[{"backdrop-opacity":[Et,Ge,Ke]}],"backdrop-saturate":[{"backdrop-saturate":[Et,Ge,Ke]}],"backdrop-sepia":[{"backdrop-sepia":["",Et,Ge,Ke]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":P()}],"border-spacing-x":[{"border-spacing-x":P()}],"border-spacing-y":[{"border-spacing-y":P()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ge,Ke]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Et,"initial",Ge,Ke]}],ease:[{ease:["linear","initial",_,Ge,Ke]}],delay:[{delay:[Et,Ge,Ke]}],animate:[{animate:["none",E,Ge,Ke]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,Ge,Ke]}],"perspective-origin":[{"perspective-origin":R()}],rotate:[{rotate:De()}],"rotate-x":[{"rotate-x":De()}],"rotate-y":[{"rotate-y":De()}],"rotate-z":[{"rotate-z":De()}],scale:[{scale:ze()}],"scale-x":[{"scale-x":ze()}],"scale-y":[{"scale-y":ze()}],"scale-z":[{"scale-z":ze()}],"scale-3d":["scale-3d"],skew:[{skew:qe()}],"skew-x":[{"skew-x":qe()}],"skew-y":[{"skew-y":qe()}],transform:[{transform:[Ge,Ke,"","none","gpu","cpu"]}],"transform-origin":[{origin:R()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ft()}],"translate-x":[{"translate-x":ft()}],"translate-y":[{"translate-y":ft()}],"translate-z":[{"translate-z":ft()}],"translate-none":["translate-none"],accent:[{accent:Q()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Q()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ge,Ke]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ge,Ke]}],fill:[{fill:["none",...Q()]}],"stroke-w":[{stroke:[Et,cm,vc,wb]}],stroke:[{stroke:["none",...Q()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},$Y=_Y(BY);function ct(...t){return $Y(XD(t))}const I2=oY,R2=lY,qY=v.forwardRef(({className:t,inset:e,children:n,...r},i)=>s.jsxs(QD,{ref:i,className:ct("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,s.jsx(CR,{className:"ml-auto"})]}));qY.displayName=QD.displayName;const HY=v.forwardRef(({className:t,...e},n)=>s.jsx(YD,{ref:n,className:ct("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));HY.displayName=YD.displayName;const t1=v.forwardRef(({className:t,sideOffset:e=4,...n},r)=>s.jsx(cY,{children:s.jsx(BD,{ref:r,sideOffset:e,className:ct("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));t1.displayName=BD.displayName;const Jg=v.forwardRef(({className:t,inset:e,...n},r)=>s.jsx(qD,{ref:r,className:ct("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",t),...n}));Jg.displayName=qD.displayName;const WY=v.forwardRef(({className:t,children:e,checked:n,...r},i)=>s.jsxs(HD,{ref:i,className:ct("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(KD,{children:s.jsx(Km,{className:"h-4 w-4"})})}),e]}));WY.displayName=HD.displayName;const KY=v.forwardRef(({className:t,children:e,...n},r)=>s.jsxs(WD,{ref:r,className:ct("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(KD,{children:s.jsx(wj,{className:"h-2 w-2 fill-current"})})}),e]}));KY.displayName=WD.displayName;const GY=v.forwardRef(({className:t,inset:e,...n},r)=>s.jsx($D,{ref:r,className:ct("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));GY.displayName=$D.displayName;const QY=v.forwardRef(({className:t,...e},n)=>s.jsx(GD,{ref:n,className:ct("-mx-1 my-1 h-px bg-muted",t),...e}));QY.displayName=GD.displayName;var YY=Symbol.for("react.lazy"),Rx=fj[" use ".trim().toString()];function JY(t){return typeof t=="object"&&t!==null&&"then"in t}function cM(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===YY&&"_payload"in t&&JY(t._payload)}function Dy(t){const e=ZY(t),n=v.forwardRef((r,i)=>{let{children:a,...o}=r;cM(a)&&typeof Rx=="function"&&(a=Rx(a._payload));const c=v.Children.toArray(a),d=c.find(tJ);if(d){const h=d.props.children,m=c.map(f=>f===d?v.Children.count(h)>1?v.Children.only(null):v.isValidElement(h)?h.props.children:null:f);return s.jsx(e,{...o,ref:i,children:v.isValidElement(h)?v.cloneElement(h,void 0,m):null})}return s.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}var XY=Dy("Slot");function ZY(t){const e=v.forwardRef((n,r)=>{let{children:i,...a}=n;if(cM(i)&&typeof Rx=="function"&&(i=Rx(i._payload)),v.isValidElement(i)){const o=rJ(i),c=nJ(a,i.props);return i.type!==v.Fragment&&(c.ref=r?vo(r,o):o),v.cloneElement(i,c)}return v.Children.count(i)>1?v.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var eJ=Symbol("radix.slottable");function tJ(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===eJ}function nJ(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...c)=>{const d=a(...c);return i(...c),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function rJ(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const P2=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,D2=XD,zf=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return D2(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:a}=e,o=Object.keys(i).map(h=>{const m=n==null?void 0:n[h],f=a==null?void 0:a[h];if(m===null)return null;const g=P2(m)||P2(f);return i[h][g]}),c=n&&Object.entries(n).reduce((h,m)=>{let[f,g]=m;return g===void 0||(h[f]=g),h},{}),d=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((h,m)=>{let{class:f,className:g,...x}=m;return Object.entries(x).every(N=>{let[w,j]=N;return Array.isArray(j)?j.includes({...a,...c}[w]):{...a,...c}[w]===j})?[...h,f,g]:h},[]);return D2(t,o,d,n==null?void 0:n.class,n==null?void 0:n.className)},sJ=zf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),G=v.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},a)=>{const o=r?XY:"button";return s.jsx(o,{className:ct(sJ({variant:e,size:n,className:t})),ref:a,...i})});G.displayName="Button";var jb={exports:{}},_b,M2;function iJ(){if(M2)return _b;M2=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return _b=t,_b}var Nb,O2;function aJ(){if(O2)return Nb;O2=1;var t=iJ();function e(){}function n(){}return n.resetWarningCache=e,Nb=function(){function r(o,c,d,h,m,f){if(f!==t){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},Nb}var L2;function oJ(){return L2||(L2=1,jb.exports=aJ()()),jb.exports}var lJ=oJ();const At=Yd(lJ),cJ=()=>{};var F2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},uJ=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],o=t[n++],c=t[n++],d=((i&7)<<18|(a&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const a=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},dM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,c=o?t[i+1]:0,d=i+2<t.length,h=d?t[i+2]:0,m=a>>2,f=(a&3)<<4|c>>4;let g=(c&15)<<2|h>>6,x=h&63;d||(x=64,o||(g=64)),r.push(n[m],n[f],n[g],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(uM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):uJ(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||c==null||h==null||f==null)throw new dJ;const g=a<<2|c>>4;if(r.push(g),h!==64){const x=c<<4&240|h>>2;if(r.push(x),f!==64){const N=h<<6&192|f;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class dJ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hJ=function(t){const e=uM(t);return dM.encodeByteArray(e,!0)},Px=function(t){return hJ(t).replace(/\./g,"")},hM=function(t){try{return dM.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mJ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fJ=()=>mJ().__FIREBASE_DEFAULTS__,pJ=()=>{if(typeof process>"u"||typeof F2>"u")return;const t=F2.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},gJ=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&hM(t[1]);return e&&JSON.parse(e)},My=()=>{try{return cJ()||fJ()||pJ()||gJ()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},mM=t=>{var e,n;return(n=(e=My())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},xJ=t=>{const e=mM(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},fM=()=>{var t;return(t=My())==null?void 0:t.config},pM=t=>{var e;return(e=My())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yJ{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ul(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function C_(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vJ(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Px(JSON.stringify(n)),Px(JSON.stringify(o)),""].join(".")}const Dm={};function bJ(){const t={prod:[],emulator:[]};for(const e of Object.keys(Dm))Dm[e]?t.emulator.push(e):t.prod.push(e);return t}function wJ(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let V2=!1;function gM(t,e){if(typeof window>"u"||typeof document>"u"||!Ul(window.location.host)||Dm[t]===e||Dm[t]||V2)return;Dm[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",a=bJ().prod.length>0;function o(){const g=document.getElementById(r);g&&g.remove()}function c(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function d(g,x){g.setAttribute("width","24"),g.setAttribute("id",x),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function h(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{V2=!0,o()},g}function m(g,x){g.setAttribute("id",x),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function f(){const g=wJ(r),x=n("text"),N=document.getElementById(x)||document.createElement("span"),w=n("learnmore"),j=document.getElementById(w)||document.createElement("a"),_=n("preprendIcon"),E=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const k=g.element;c(k),m(j,w);const C=h();d(E,_),k.append(E,N,j,C),document.body.appendChild(k)}a?(N.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jJ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dr())}function _J(){var e;const t=(e=My())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function NJ(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function SJ(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function EJ(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CJ(){const t=Dr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function kJ(){return!_J()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function TJ(){try{return typeof indexedDB=="object"}catch{return!1}}function AJ(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IJ="FirebaseError";class Sa extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=IJ,Object.setPrototypeOf(this,Sa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bf.prototype.create)}}class Bf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?RJ(a,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new Sa(i,c,r)}}function RJ(t,e){return t.replace(PJ,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const PJ=/\{\$([^}]+)}/g;function DJ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function qc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],o=e[i];if(U2(a)&&U2(o)){if(!qc(a,o))return!1}else if(a!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function U2(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $f(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function bm(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function wm(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function MJ(t,e){const n=new OJ(t,e);return n.subscribe.bind(n)}class OJ{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");LJ(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Sb),i.error===void 0&&(i.error=Sb),i.complete===void 0&&(i.complete=Sb);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function LJ(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Sb(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(t){return t&&t._delegate?t._delegate:t}class kl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FJ{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new yJ;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(UJ(e))try{this.getOrInitializeService({instanceIdentifier:wc})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=wc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wc){return this.instances.has(e)}getOptions(e=wc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:VJ(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=wc){return this.component?this.component.multipleInstances?e:wc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function VJ(t){return t===wc?void 0:t}function UJ(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zJ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new FJ(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(It||(It={}));const BJ={debug:It.DEBUG,verbose:It.VERBOSE,info:It.INFO,warn:It.WARN,error:It.ERROR,silent:It.SILENT},$J=It.INFO,qJ={[It.DEBUG]:"log",[It.VERBOSE]:"log",[It.INFO]:"info",[It.WARN]:"warn",[It.ERROR]:"error"},HJ=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=qJ[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class k_{constructor(e){this.name=e,this._logLevel=$J,this._logHandler=HJ,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in It))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BJ[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,It.DEBUG,...e),this._logHandler(this,It.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,It.VERBOSE,...e),this._logHandler(this,It.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,It.INFO,...e),this._logHandler(this,It.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,It.WARN,...e),this._logHandler(this,It.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,It.ERROR,...e),this._logHandler(this,It.ERROR,...e)}}const WJ=(t,e)=>e.some(n=>t instanceof n);let z2,B2;function KJ(){return z2||(z2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GJ(){return B2||(B2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xM=new WeakMap,n1=new WeakMap,yM=new WeakMap,Eb=new WeakMap,T_=new WeakMap;function QJ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(pl(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&xM.set(n,t)}).catch(()=>{}),T_.set(e,t),e}function YJ(t){if(n1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});n1.set(t,e)}let r1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return n1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||yM.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pl(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function JJ(t){r1=t(r1)}function XJ(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Cb(this),e,...n);return yM.set(r,e.sort?e.sort():[e]),pl(r)}:GJ().includes(t)?function(...e){return t.apply(Cb(this),e),pl(xM.get(this))}:function(...e){return pl(t.apply(Cb(this),e))}}function ZJ(t){return typeof t=="function"?XJ(t):(t instanceof IDBTransaction&&YJ(t),WJ(t,KJ())?new Proxy(t,r1):t)}function pl(t){if(t instanceof IDBRequest)return QJ(t);if(Eb.has(t))return Eb.get(t);const e=ZJ(t);return e!==t&&(Eb.set(t,e),T_.set(e,t)),e}const Cb=t=>T_.get(t);function eX(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),c=pl(o);return r&&o.addEventListener("upgradeneeded",d=>{r(pl(o.result),d.oldVersion,d.newVersion,pl(o.transaction),d)}),n&&o.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{a&&d.addEventListener("close",()=>a()),i&&d.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const tX=["get","getKey","getAll","getAllKeys","count"],nX=["put","add","delete","clear"],kb=new Map;function $2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(kb.get(e))return kb.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=nX.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||tX.includes(n)))return;const a=async function(o,...c){const d=this.transaction(o,i?"readwrite":"readonly");let h=d.store;return r&&(h=h.index(c.shift())),(await Promise.all([h[n](...c),i&&d.done]))[0]};return kb.set(e,a),a}JJ(t=>({...t,get:(e,n,r)=>$2(e,n)||t.get(e,n,r),has:(e,n)=>!!$2(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rX{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(sX(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function sX(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const s1="@firebase/app",q2="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo=new k_("@firebase/app"),iX="@firebase/app-compat",aX="@firebase/analytics-compat",oX="@firebase/analytics",lX="@firebase/app-check-compat",cX="@firebase/app-check",uX="@firebase/auth",dX="@firebase/auth-compat",hX="@firebase/database",mX="@firebase/data-connect",fX="@firebase/database-compat",pX="@firebase/functions",gX="@firebase/functions-compat",xX="@firebase/installations",yX="@firebase/installations-compat",vX="@firebase/messaging",bX="@firebase/messaging-compat",wX="@firebase/performance",jX="@firebase/performance-compat",_X="@firebase/remote-config",NX="@firebase/remote-config-compat",SX="@firebase/storage",EX="@firebase/storage-compat",CX="@firebase/firestore",kX="@firebase/ai",TX="@firebase/firestore-compat",AX="firebase",IX="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1="[DEFAULT]",RX={[s1]:"fire-core",[iX]:"fire-core-compat",[oX]:"fire-analytics",[aX]:"fire-analytics-compat",[cX]:"fire-app-check",[lX]:"fire-app-check-compat",[uX]:"fire-auth",[dX]:"fire-auth-compat",[hX]:"fire-rtdb",[mX]:"fire-data-connect",[fX]:"fire-rtdb-compat",[pX]:"fire-fn",[gX]:"fire-fn-compat",[xX]:"fire-iid",[yX]:"fire-iid-compat",[vX]:"fire-fcm",[bX]:"fire-fcm-compat",[wX]:"fire-perf",[jX]:"fire-perf-compat",[_X]:"fire-rc",[NX]:"fire-rc-compat",[SX]:"fire-gcs",[EX]:"fire-gcs-compat",[CX]:"fire-fst",[TX]:"fire-fst-compat",[kX]:"fire-vertex","fire-js":"fire-js",[AX]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx=new Map,PX=new Map,a1=new Map;function H2(t,e){try{t.container.addComponent(e)}catch(n){uo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Hc(t){const e=t.name;if(a1.has(e))return uo.debug(`There were multiple attempts to register component ${e}.`),!1;a1.set(e,t);for(const n of Dx.values())H2(n,t);for(const n of PX.values())H2(n,t);return!0}function Oy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Rs(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DX={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gl=new Bf("app","Firebase",DX);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MX{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new kl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au=IX;function vM(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:i1,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw gl.create("bad-app-name",{appName:String(i)});if(n||(n=fM()),!n)throw gl.create("no-options");const a=Dx.get(i);if(a){if(qc(n,a.options)&&qc(r,a.config))return a;throw gl.create("duplicate-app",{appName:i})}const o=new zJ(i);for(const d of a1.values())o.addComponent(d);const c=new MX(n,r,o);return Dx.set(i,c),c}function bM(t=i1){const e=Dx.get(t);if(!e&&t===i1&&fM())return vM();if(!e)throw gl.create("no-app",{appName:t});return e}function ua(t,e,n){let r=RX[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),uo.warn(o.join(" "));return}Hc(new kl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OX="firebase-heartbeat-database",LX=1,cf="firebase-heartbeat-store";let Tb=null;function wM(){return Tb||(Tb=eX(OX,LX,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(cf)}catch(n){console.warn(n)}}}}).catch(t=>{throw gl.create("idb-open",{originalErrorMessage:t.message})})),Tb}async function FX(t){try{const n=(await wM()).transaction(cf),r=await n.objectStore(cf).get(jM(t));return await n.done,r}catch(e){if(e instanceof Sa)uo.warn(e.message);else{const n=gl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});uo.warn(n.message)}}}async function W2(t,e){try{const r=(await wM()).transaction(cf,"readwrite");await r.objectStore(cf).put(e,jM(t)),await r.done}catch(n){if(n instanceof Sa)uo.warn(n.message);else{const r=gl.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});uo.warn(r.message)}}}function jM(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VX=1024,UX=30;class zX{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $X(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=K2();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>UX){const o=qX(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){uo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=K2(),{heartbeatsToSend:r,unsentEntries:i}=BX(this._heartbeatsCache.heartbeats),a=Px(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return uo.warn(n),""}}}function K2(){return new Date().toISOString().substring(0,10)}function BX(t,e=VX){const n=[];let r=t.slice();for(const i of t){const a=n.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),G2(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),G2(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class $X{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TJ()?AJ().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await FX(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return W2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return W2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function G2(t){return Px(JSON.stringify({version:2,heartbeats:t})).length}function qX(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HX(t){Hc(new kl("platform-logger",e=>new rX(e),"PRIVATE")),Hc(new kl("heartbeat",e=>new zX(e),"PRIVATE")),ua(s1,q2,t),ua(s1,q2,"esm2020"),ua("fire-js","")}HX("");var WX="firebase",KX="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ua(WX,KX,"app");function _M(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GX=_M,NM=new Bf("auth","Firebase",_M());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx=new k_("@firebase/auth");function QX(t,...e){Mx.logLevel<=It.WARN&&Mx.warn(`Auth (${au}): ${t}`,...e)}function Xg(t,...e){Mx.logLevel<=It.ERROR&&Mx.error(`Auth (${au}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(t,...e){throw A_(t,...e)}function da(t,...e){return A_(t,...e)}function SM(t,e,n){const r={...GX(),[e]:n};return new Bf("auth","Firebase",r).create(e,{appName:t.name})}function eo(t){return SM(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function A_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return NM.create(t,...e)}function at(t,e,...n){if(!t)throw A_(e,...n)}function Qa(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Xg(e),new Error(e)}function ho(t,e){t||Qa(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function YX(){return Q2()==="http:"||Q2()==="https:"}function Q2(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JX(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YX()||SJ()||"connection"in navigator)?navigator.onLine:!0}function XX(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,n){this.shortDelay=e,this.longDelay=n,ho(n>e,"Short delay should be less than long delay!"),this.isMobile=jJ()||EJ()}get(){return JX()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_(t,e){ho(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZX={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eZ=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tZ=new qf(3e4,6e4);function jo(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function _o(t,e,n,r,i={}){return CM(t,i,async()=>{let a={},o={};r&&(e==="GET"?o=r:a={body:JSON.stringify(r)});const c=$f({key:t.config.apiKey,...o}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:d,...a};return NJ()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&Ul(t.emulatorConfig.host)&&(h.credentials="include"),EM.fetch()(await kM(t,t.config.apiHost,n,c),h)})}async function CM(t,e,n){t._canInitEmulator=!1;const r={...ZX,...e};try{const i=new rZ(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw Eg(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const c=a.ok?o.errorMessage:o.error.message,[d,h]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Eg(t,"credential-already-in-use",o);if(d==="EMAIL_EXISTS")throw Eg(t,"email-already-in-use",o);if(d==="USER_DISABLED")throw Eg(t,"user-disabled",o);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw SM(t,m,h);Ci(t,m)}}catch(i){if(i instanceof Sa)throw i;Ci(t,"network-request-failed",{message:String(i)})}}async function Hf(t,e,n,r,i={}){const a=await _o(t,e,n,r,i);return"mfaPendingCredential"in a&&Ci(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function kM(t,e,n,r){const i=`${e}${n}?${r}`,a=t,o=a.config.emulator?I_(t.config,i):`${t.config.apiScheme}://${i}`;return eZ.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function nZ(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class rZ{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(da(this.auth,"network-request-failed")),tZ.get())})}}function Eg(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=da(t,e,r);return i.customData._tokenResponse=n,i}function Y2(t){return t!==void 0&&t.enterprise!==void 0}class sZ{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return nZ(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function iZ(t,e){return _o(t,"GET","/v2/recaptchaConfig",jo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aZ(t,e){return _o(t,"POST","/v1/accounts:delete",e)}async function Ox(t,e){return _o(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function oZ(t,e=!1){const n=Sn(t),r=await n.getIdToken(e),i=R_(r);at(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Mm(Ab(i.auth_time)),issuedAtTime:Mm(Ab(i.iat)),expirationTime:Mm(Ab(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Ab(t){return Number(t)*1e3}function R_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Xg("JWT malformed, contained fewer than 3 sections"),null;try{const i=hM(n);return i?JSON.parse(i):(Xg("Failed to decode base64 JWT payload"),null)}catch(i){return Xg("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function J2(t){const e=R_(t);return at(e,"internal-error"),at(typeof e.exp<"u","internal-error"),at(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uf(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Sa&&lZ(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function lZ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cZ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mm(this.lastLoginAt),this.creationTime=Mm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lx(t){var f;const e=t.auth,n=await t.getIdToken(),r=await uf(t,Ox(e,{idToken:n}));at(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=(f=i.providerUserInfo)!=null&&f.length?TM(i.providerUserInfo):[],o=dZ(t.providerData,a),c=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),h=c?d:!1,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new l1(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,m)}async function uZ(t){const e=Sn(t);await Lx(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function dZ(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function TM(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hZ(t,e){const n=await CM(t,{},async()=>{const r=$f({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await kM(t,i,"/v1/token",`key=${a}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:c,body:r};return t.emulatorConfig&&Ul(t.emulatorConfig.host)&&(d.credentials="include"),EM.fetch()(o,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function mZ(t,e){return _o(t,"POST","/v2/accounts:revokeToken",jo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){at(e.idToken,"internal-error"),at(typeof e.idToken<"u","internal-error"),at(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):J2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){at(e.length!==0,"internal-error");const n=J2(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(at(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await hZ(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new pd;return r&&(at(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(at(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(at(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pd,this.toJSON())}_performRefresh(){return Qa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ko(t,e){at(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class wi{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new cZ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new l1(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await uf(this,this.stsTokenManager.getToken(this.auth,e));return at(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return oZ(this,e)}reload(){return uZ(this)}_assign(e){this!==e&&(at(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new wi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){at(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Lx(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rs(this.auth.app))return Promise.reject(eo(this.auth));const e=await this.getIdToken();return await uf(this,aZ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,o=n.photoURL??void 0,c=n.tenantId??void 0,d=n._redirectEventId??void 0,h=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:f,emailVerified:g,isAnonymous:x,providerData:N,stsTokenManager:w}=n;at(f&&w,e,"internal-error");const j=pd.fromJSON(this.name,w);at(typeof f=="string",e,"internal-error"),Ko(r,e.name),Ko(i,e.name),at(typeof g=="boolean",e,"internal-error"),at(typeof x=="boolean",e,"internal-error"),Ko(a,e.name),Ko(o,e.name),Ko(c,e.name),Ko(d,e.name),Ko(h,e.name),Ko(m,e.name);const _=new wi({uid:f,auth:e,email:i,emailVerified:g,displayName:r,isAnonymous:x,photoURL:o,phoneNumber:a,tenantId:c,stsTokenManager:j,createdAt:h,lastLoginAt:m});return N&&Array.isArray(N)&&(_.providerData=N.map(E=>({...E}))),d&&(_._redirectEventId=d),_}static async _fromIdTokenResponse(e,n,r=!1){const i=new pd;i.updateFromServerResponse(n);const a=new wi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Lx(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];at(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?TM(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),c=new pd;c.updateFromIdToken(r);const d=new wi({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new l1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2=new Map;function Ya(t){ho(t instanceof Function,"Expected a class definition");let e=X2.get(t);return e?(ho(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,X2.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}AM.type="NONE";const Z2=AM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zg(t,e,n){return`firebase:${t}:${e}:${n}`}class gd{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Zg(this.userKey,i.apiKey,a),this.fullPersistenceKey=Zg("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ox(this.auth,{idToken:e}).catch(()=>{});return n?wi._fromGetAccountInfoResponse(this.auth,n,e):null}return wi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new gd(Ya(Z2),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let a=i[0]||Ya(Z2);const o=Zg(r,e.config.apiKey,e.name);let c=null;for(const h of n)try{const m=await h._get(o);if(m){let f;if(typeof m=="string"){const g=await Ox(e,{idToken:m}).catch(()=>{});if(!g)break;f=await wi._fromGetAccountInfoResponse(e,g,m)}else f=wi._fromJSON(e,m);h!==a&&(c=f),a=h;break}}catch{}const d=i.filter(h=>h._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new gd(a,e,r):(a=d[0],c&&await a._set(o,c.toJSON()),await Promise.all(n.map(async h=>{if(h!==a)try{await h._remove(o)}catch{}})),new gd(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(DM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(IM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(OM(e))return"Blackberry";if(LM(e))return"Webos";if(RM(e))return"Safari";if((e.includes("chrome/")||PM(e))&&!e.includes("edge/"))return"Chrome";if(MM(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function IM(t=Dr()){return/firefox\//i.test(t)}function RM(t=Dr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function PM(t=Dr()){return/crios\//i.test(t)}function DM(t=Dr()){return/iemobile/i.test(t)}function MM(t=Dr()){return/android/i.test(t)}function OM(t=Dr()){return/blackberry/i.test(t)}function LM(t=Dr()){return/webos/i.test(t)}function P_(t=Dr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function fZ(t=Dr()){var e;return P_(t)&&!!((e=window.navigator)!=null&&e.standalone)}function pZ(){return CJ()&&document.documentMode===10}function FM(t=Dr()){return P_(t)||MM(t)||LM(t)||OM(t)||/windows phone/i.test(t)||DM(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VM(t,e=[]){let n;switch(t){case"Browser":n=eT(Dr());break;case"Worker":n=`${eT(Dr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${au}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gZ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((o,c)=>{try{const d=e(a);o(d)}catch(d){c(d)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xZ(t,e={}){return _o(t,"GET","/v2/passwordPolicy",jo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yZ=6;class vZ{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??yZ,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bZ{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tT(this),this.idTokenSubscription=new tT(this),this.beforeStateQueue=new gZ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ya(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await gd.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ox(this,{idToken:e}),r=await wi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(Rs(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(a=this.redirectUser)==null?void 0:a._redirectEventId,c=r==null?void 0:r._redirectEventId,d=await this.tryRedirectSignIn(e);(!o||o===c)&&(d!=null&&d.user)&&(r=d.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return at(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Lx(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=XX()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Rs(this.app))return Promise.reject(eo(this));const n=e?Sn(e):null;return n&&at(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&at(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Rs(this.app)?Promise.reject(eo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Rs(this.app)?Promise.reject(eo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ya(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await xZ(this),n=new vZ(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Bf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await mZ(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ya(e)||this._popupRedirectResolver;at(n,this,"argument-error"),this.redirectPersistenceManager=await gd.create(this,[Ya(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(at(c,this,"internal-error"),c.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,i);return()=>{o=!0,d()}}else{const d=e.addObserver(n);return()=>{o=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return at(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Rs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&QX(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function zl(t){return Sn(t)}class tT{constructor(e){this.auth=e,this.observer=null,this.addObserver=MJ(n=>this.observer=n)}get next(){return at(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ly={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wZ(t){Ly=t}function UM(t){return Ly.loadJS(t)}function jZ(){return Ly.recaptchaEnterpriseScript}function _Z(){return Ly.gapiScript}function NZ(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class SZ{constructor(){this.enterprise=new EZ}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class EZ{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const CZ="recaptcha-enterprise",zM="NO_RECAPTCHA";class kZ{constructor(e){this.type=CZ,this.auth=zl(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,c)=>{iZ(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const h=new sZ(d);return a.tenantId==null?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,o(h.siteKey)}}).catch(d=>{c(d)})})}function i(a,o,c){const d=window.grecaptcha;Y2(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(h=>{o(h)}).catch(()=>{o(zM)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new SZ().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{r(this.auth).then(c=>{if(!n&&Y2(window.grecaptcha))i(c,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let d=jZ();d.length!==0&&(d+=c),UM(d).then(()=>{i(c,a,o)}).catch(h=>{o(h)})}}).catch(c=>{o(c)})})}}async function nT(t,e,n,r=!1,i=!1){const a=new kZ(t);let o;if(i)o=zM;else try{o=await a.verify(n)}catch{o=await a.verify(n,!0)}const c={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,h=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:h,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:o}):Object.assign(c,{captchaResponse:o}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Fx(t,e,n,r,i){var a;if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await nT(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await nT(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TZ(t,e){const n=Oy(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(qc(a,e??{}))return i;Ci(i,"already-initialized")}return n.initialize({options:e})}function AZ(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ya);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function IZ(t,e,n){const r=zl(t);at(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=BM(e),{host:o,port:c}=RZ(e),d=c===null?"":`:${c}`,h={url:`${a}//${o}${d}/`},m=Object.freeze({host:o,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){at(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),at(qc(h,r.config.emulator)&&qc(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,Ul(o)?(C_(`${a}//${o}${d}`),gM("Auth",!0)):PZ()}function BM(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function RZ(t){const e=BM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:rT(r.substr(a.length+1))}}else{const[a,o]=r.split(":");return{host:a,port:rT(o)}}}function rT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function PZ(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Qa("not implemented")}_getIdTokenResponse(e){return Qa("not implemented")}_linkToIdToken(e,n){return Qa("not implemented")}_getReauthenticationResolver(e){return Qa("not implemented")}}async function DZ(t,e){return _o(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MZ(t,e){return Hf(t,"POST","/v1/accounts:signInWithPassword",jo(t,e))}async function $M(t,e){return _o(t,"POST","/v1/accounts:sendOobCode",jo(t,e))}async function OZ(t,e){return $M(t,e)}async function LZ(t,e){return $M(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FZ(t,e){return Hf(t,"POST","/v1/accounts:signInWithEmailLink",jo(t,e))}async function VZ(t,e){return Hf(t,"POST","/v1/accounts:signInWithEmailLink",jo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df extends D_{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new df(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new df(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fx(e,n,"signInWithPassword",MZ);case"emailLink":return FZ(e,{email:this._email,oobCode:this._password});default:Ci(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fx(e,r,"signUpPassword",DZ);case"emailLink":return VZ(e,{idToken:n,email:this._email,oobCode:this._password});default:Ci(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xd(t,e){return Hf(t,"POST","/v1/accounts:signInWithIdp",jo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UZ="http://localhost";class Wc extends D_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Wc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ci("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const o=new Wc(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return xd(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,xd(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xd(e,n)}buildRequest(){const e={requestUri:UZ,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=$f(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zZ(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function BZ(t){const e=bm(wm(t)).link,n=e?bm(wm(e)).deep_link_id:null,r=bm(wm(t)).deep_link_id;return(r?bm(wm(r)).link:null)||r||n||e||t}class M_{constructor(e){const n=bm(wm(e)),r=n.apiKey??null,i=n.oobCode??null,a=zZ(n.mode??null);at(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=BZ(e);try{return new M_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(){this.providerId=ch.PROVIDER_ID}static credential(e,n){return df._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=M_.parseLink(n);return at(r,"argument-error"),df._fromEmailAndCode(e,r.code,r.tenantId)}}ch.PROVIDER_ID="password";ch.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ch.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf extends qM{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo extends Wf{constructor(){super("facebook.com")}static credential(e){return Wc._fromParams({providerId:Xo.PROVIDER_ID,signInMethod:Xo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xo.credentialFromTaggedObject(e)}static credentialFromError(e){return Xo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xo.credential(e.oauthAccessToken)}catch{return null}}}Xo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo extends Wf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Wc._fromParams({providerId:Zo.PROVIDER_ID,signInMethod:Zo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Zo.credentialFromTaggedObject(e)}static credentialFromError(e){return Zo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Zo.credential(n,r)}catch{return null}}}Zo.GOOGLE_SIGN_IN_METHOD="google.com";Zo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el extends Wf{constructor(){super("github.com")}static credential(e){return Wc._fromParams({providerId:el.PROVIDER_ID,signInMethod:el.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return el.credentialFromTaggedObject(e)}static credentialFromError(e){return el.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return el.credential(e.oauthAccessToken)}catch{return null}}}el.GITHUB_SIGN_IN_METHOD="github.com";el.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl extends Wf{constructor(){super("twitter.com")}static credential(e,n){return Wc._fromParams({providerId:tl.PROVIDER_ID,signInMethod:tl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return tl.credentialFromTaggedObject(e)}static credentialFromError(e){return tl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return tl.credential(n,r)}catch{return null}}}tl.TWITTER_SIGN_IN_METHOD="twitter.com";tl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $Z(t,e){return Hf(t,"POST","/v1/accounts:signUp",jo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await wi._fromIdTokenResponse(e,r,i),o=sT(r);return new Kc({user:a,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=sT(r);return new Kc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function sT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx extends Sa{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Vx.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Vx(e,n,r,i)}}function HM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Vx._fromErrorAndOperation(t,a,e,r):a})}async function qZ(t,e,n=!1){const r=await uf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Kc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HZ(t,e,n=!1){const{auth:r}=t;if(Rs(r.app))return Promise.reject(eo(r));const i="reauthenticate";try{const a=await uf(t,HM(r,i,e,t),n);at(a.idToken,r,"internal-error");const o=R_(a.idToken);at(o,r,"internal-error");const{sub:c}=o;return at(t.uid===c,r,"user-mismatch"),Kc._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Ci(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WM(t,e,n=!1){if(Rs(t.app))return Promise.reject(eo(t));const r="signIn",i=await HM(t,r,e),a=await Kc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function WZ(t,e){return WM(zl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KM(t){const e=zl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function O_(t,e,n){const r=zl(t);await Fx(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",LZ)}async function KZ(t,e,n){if(Rs(t.app))return Promise.reject(eo(t));const r=zl(t),o=await Fx(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",$Z).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&KM(t),d}),c=await Kc._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(c.user),c}function GM(t,e,n){return Rs(t.app)?Promise.reject(eo(t)):WZ(Sn(t),ch.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&KM(t),r})}async function GZ(t,e){const n=Sn(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:a}=await OZ(n.auth,i);a!==t.email&&await t.reload()}function QZ(t,e,n,r){return Sn(t).onIdTokenChanged(e,n,r)}function YZ(t,e,n){return Sn(t).beforeAuthStateChanged(e,n)}function JZ(t,e,n,r){return Sn(t).onAuthStateChanged(e,n,r)}function XZ(t){return Sn(t).signOut()}const Ux="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ux,"1"),this.storage.removeItem(Ux),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZZ=1e3,eee=10;class YM extends QM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=FM(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,c,d)=>{this.notifyListeners(o,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},a=this.storage.getItem(r);pZ()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,eee):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},ZZ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}YM.type="LOCAL";const tee=YM;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM extends QM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}JM.type="SESSION";const XM=JM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nee(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Fy(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(o).map(async h=>h(n.origin,a)),d=await nee(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fy.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ree{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((c,d)=>{const h=L_("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const g=f;if(g.data.eventId===h)switch(g.data.status){case"ack":clearTimeout(m),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(g.data.response);break;default:clearTimeout(m),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ha(){return window}function see(t){ha().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZM(){return typeof ha().WorkerGlobalScope<"u"&&typeof ha().importScripts=="function"}async function iee(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function aee(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function oee(){return ZM()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e5="firebaseLocalStorageDb",lee=1,zx="firebaseLocalStorage",t5="fbase_key";class Kf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vy(t,e){return t.transaction([zx],e?"readwrite":"readonly").objectStore(zx)}function cee(){const t=indexedDB.deleteDatabase(e5);return new Kf(t).toPromise()}function c1(){const t=indexedDB.open(e5,lee);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(zx,{keyPath:t5})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(zx)?e(r):(r.close(),await cee(),e(await c1()))})})}async function iT(t,e,n){const r=Vy(t,!0).put({[t5]:e,value:n});return new Kf(r).toPromise()}async function uee(t,e){const n=Vy(t,!1).get(e),r=await new Kf(n).toPromise();return r===void 0?null:r.value}function aT(t,e){const n=Vy(t,!0).delete(e);return new Kf(n).toPromise()}const dee=800,hee=3;class n5{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await c1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>hee)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ZM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fy._getInstance(oee()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await iee(),!this.activeServiceWorker)return;this.sender=new ree(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||aee()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await c1();return await iT(e,Ux,"1"),await aT(e,Ux),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>iT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>uee(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>aT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Vy(i,!1).getAll();return new Kf(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}n5.type="LOCAL";const mee=n5;new qf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fee(t,e){return e?Ya(e):(at(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_ extends D_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xd(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xd(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xd(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function pee(t){return WM(t.auth,new F_(t),t.bypassAuthState)}function gee(t){const{auth:e,user:n}=t;return at(n,e,"internal-error"),HZ(n,new F_(t),t.bypassAuthState)}async function xee(t){const{auth:e,user:n}=t;return at(n,e,"internal-error"),qZ(n,new F_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:o,type:c}=e;if(o){this.reject(o);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pee;case"linkViaPopup":case"linkViaRedirect":return xee;case"reauthViaPopup":case"reauthViaRedirect":return gee;default:Ci(this.auth,"internal-error")}}resolve(e){ho(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ho(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yee=new qf(2e3,1e4);class ud extends r5{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,ud.currentPopupAction&&ud.currentPopupAction.cancel(),ud.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return at(e,this.auth,"internal-error"),e}async onExecution(){ho(this.filter.length===1,"Popup operations only handle one event");const e=L_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(da(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(da(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ud.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(da(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,yee.get())};e()}}ud.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vee="pendingRedirect",ex=new Map;class bee extends r5{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ex.get(this.auth._key());if(!e){try{const r=await wee(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ex.set(this.auth._key(),e)}return this.bypassAuthState||ex.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wee(t,e){const n=Nee(e),r=_ee(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function jee(t,e){ex.set(t._key(),e)}function _ee(t){return Ya(t._redirectPersistence)}function Nee(t){return Zg(vee,t.config.apiKey,t.name)}async function See(t,e,n=!1){if(Rs(t.app))return Promise.reject(eo(t));const r=zl(t),i=fee(r,e),o=await new bee(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eee=600*1e3;class Cee{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kee(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!s5(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(da(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Eee&&this.cachedEventUids.clear(),this.cachedEventUids.has(oT(e))}saveEventToCache(e){this.cachedEventUids.add(oT(e)),this.lastProcessedEventTime=Date.now()}}function oT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function s5({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function kee(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return s5(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tee(t,e={}){return _o(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aee=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Iee=/^https?/;async function Ree(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Tee(t);for(const n of e)try{if(Pee(n))return}catch{}Ci(t,"unauthorized-domain")}function Pee(t){const e=o1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Iee.test(n))return!1;if(Aee.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dee=new qf(3e4,6e4);function lT(){const t=ha().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Mee(t){return new Promise((e,n)=>{var i,a,o;function r(){lT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{lT(),n(da(t,"network-request-failed"))},timeout:Dee.get()})}if((a=(i=ha().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((o=ha().gapi)!=null&&o.load)r();else{const c=NZ("iframefcb");return ha()[c]=()=>{gapi.load?r():n(da(t,"network-request-failed"))},UM(`${_Z()}?onload=${c}`).catch(d=>n(d))}}).catch(e=>{throw tx=null,e})}let tx=null;function Oee(t){return tx=tx||Mee(t),tx}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lee=new qf(5e3,15e3),Fee="__/auth/iframe",Vee="emulator/auth/iframe",Uee={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zee=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Bee(t){const e=t.config;at(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?I_(e,Vee):`https://${t.config.authDomain}/${Fee}`,r={apiKey:e.apiKey,appName:t.name,v:au},i=zee.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${$f(r).slice(1)}`}async function $ee(t){const e=await Oee(t),n=ha().gapi;return at(n,t,"internal-error"),e.open({where:document.body,url:Bee(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Uee,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const o=da(t,"network-request-failed"),c=ha().setTimeout(()=>{a(o)},Lee.get());function d(){ha().clearTimeout(c),i(r)}r.ping(d).then(d,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qee={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Hee=500,Wee=600,Kee="_blank",Gee="http://localhost";class cT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Qee(t,e,n,r=Hee,i=Wee){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d={...qee,width:r.toString(),height:i.toString(),top:a,left:o},h=Dr().toLowerCase();n&&(c=PM(h)?Kee:n),IM(h)&&(e=e||Gee,d.scrollbars="yes");const m=Object.entries(d).reduce((g,[x,N])=>`${g}${x}=${N},`,"");if(fZ(h)&&c!=="_self")return Yee(e||"",c),new cT(null);const f=window.open(e||"",c,m);at(f,t,"popup-blocked");try{f.focus()}catch{}return new cT(f)}function Yee(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jee="__/auth/handler",Xee="emulator/auth/handler",Zee=encodeURIComponent("fac");async function uT(t,e,n,r,i,a){at(t.config.authDomain,t,"auth-domain-config-required"),at(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:au,eventId:i};if(e instanceof qM){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",DJ(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,f]of Object.entries({}))o[m]=f}if(e instanceof Wf){const m=e.getScopes().filter(f=>f!=="");m.length>0&&(o.scopes=m.join(","))}t.tenantId&&(o.tid=t.tenantId);const c=o;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const d=await t._getAppCheckToken(),h=d?`#${Zee}=${encodeURIComponent(d)}`:"";return`${ete(t)}?${$f(c).slice(1)}${h}`}function ete({config:t}){return t.emulator?I_(t,Xee):`https://${t.authDomain}/${Jee}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib="webStorageSupport";class tte{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=XM,this._completeRedirectFn=See,this._overrideRedirectResult=jee}async _openPopup(e,n,r,i){var o;ho((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await uT(e,n,r,o1(),i);return Qee(e,a,L_())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await uT(e,n,r,o1(),i);return see(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(ho(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await $ee(e),r=new Cee(e);return n.register("authEvent",i=>(at(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ib,{type:Ib},i=>{var o;const a=(o=i==null?void 0:i[0])==null?void 0:o[Ib];a!==void 0&&n(!!a),Ci(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Ree(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return FM()||RM()||P_()}}const nte=tte;var dT="@firebase/auth",hT="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rte{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){at(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ste(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ite(t){Hc(new kl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;at(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VM(t)},h=new bZ(r,i,a,d);return AZ(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Hc(new kl("auth-internal",e=>{const n=zl(e.getProvider("auth").getImmediate());return(r=>new rte(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ua(dT,hT,ste(t)),ua(dT,hT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ate=300,ote=pM("authIdTokenMaxAge")||ate;let mT=null;const lte=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>ote)return;const i=n==null?void 0:n.token;mT!==i&&(mT=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function cte(t=bM()){const e=Oy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=TZ(t,{popupRedirectResolver:nte,persistence:[mee,tee,XM]}),r=pM("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const o=lte(a.toString());YZ(n,o,()=>o(n.currentUser)),QZ(n,c=>o(c))}}const i=mM("auth");return i&&IZ(n,`http://${i}`),n}function ute(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}wZ({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=da("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",ute().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ite("Browser");var fT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xl,i5;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,P){function I(){}I.prototype=P.prototype,D.F=P.prototype,D.prototype=new I,D.prototype.constructor=D,D.D=function(O,V,L){for(var U=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)U[ee-2]=arguments[ee];return P.prototype[V].apply(O,U)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,P,I){I||(I=0);const O=Array(16);if(typeof P=="string")for(var V=0;V<16;++V)O[V]=P.charCodeAt(I++)|P.charCodeAt(I++)<<8|P.charCodeAt(I++)<<16|P.charCodeAt(I++)<<24;else for(V=0;V<16;++V)O[V]=P[I++]|P[I++]<<8|P[I++]<<16|P[I++]<<24;P=D.g[0],I=D.g[1],V=D.g[2];let L=D.g[3],U;U=P+(L^I&(V^L))+O[0]+3614090360&4294967295,P=I+(U<<7&4294967295|U>>>25),U=L+(V^P&(I^V))+O[1]+3905402710&4294967295,L=P+(U<<12&4294967295|U>>>20),U=V+(I^L&(P^I))+O[2]+606105819&4294967295,V=L+(U<<17&4294967295|U>>>15),U=I+(P^V&(L^P))+O[3]+3250441966&4294967295,I=V+(U<<22&4294967295|U>>>10),U=P+(L^I&(V^L))+O[4]+4118548399&4294967295,P=I+(U<<7&4294967295|U>>>25),U=L+(V^P&(I^V))+O[5]+1200080426&4294967295,L=P+(U<<12&4294967295|U>>>20),U=V+(I^L&(P^I))+O[6]+2821735955&4294967295,V=L+(U<<17&4294967295|U>>>15),U=I+(P^V&(L^P))+O[7]+4249261313&4294967295,I=V+(U<<22&4294967295|U>>>10),U=P+(L^I&(V^L))+O[8]+1770035416&4294967295,P=I+(U<<7&4294967295|U>>>25),U=L+(V^P&(I^V))+O[9]+2336552879&4294967295,L=P+(U<<12&4294967295|U>>>20),U=V+(I^L&(P^I))+O[10]+4294925233&4294967295,V=L+(U<<17&4294967295|U>>>15),U=I+(P^V&(L^P))+O[11]+2304563134&4294967295,I=V+(U<<22&4294967295|U>>>10),U=P+(L^I&(V^L))+O[12]+1804603682&4294967295,P=I+(U<<7&4294967295|U>>>25),U=L+(V^P&(I^V))+O[13]+4254626195&4294967295,L=P+(U<<12&4294967295|U>>>20),U=V+(I^L&(P^I))+O[14]+2792965006&4294967295,V=L+(U<<17&4294967295|U>>>15),U=I+(P^V&(L^P))+O[15]+1236535329&4294967295,I=V+(U<<22&4294967295|U>>>10),U=P+(V^L&(I^V))+O[1]+4129170786&4294967295,P=I+(U<<5&4294967295|U>>>27),U=L+(I^V&(P^I))+O[6]+3225465664&4294967295,L=P+(U<<9&4294967295|U>>>23),U=V+(P^I&(L^P))+O[11]+643717713&4294967295,V=L+(U<<14&4294967295|U>>>18),U=I+(L^P&(V^L))+O[0]+3921069994&4294967295,I=V+(U<<20&4294967295|U>>>12),U=P+(V^L&(I^V))+O[5]+3593408605&4294967295,P=I+(U<<5&4294967295|U>>>27),U=L+(I^V&(P^I))+O[10]+38016083&4294967295,L=P+(U<<9&4294967295|U>>>23),U=V+(P^I&(L^P))+O[15]+3634488961&4294967295,V=L+(U<<14&4294967295|U>>>18),U=I+(L^P&(V^L))+O[4]+3889429448&4294967295,I=V+(U<<20&4294967295|U>>>12),U=P+(V^L&(I^V))+O[9]+568446438&4294967295,P=I+(U<<5&4294967295|U>>>27),U=L+(I^V&(P^I))+O[14]+3275163606&4294967295,L=P+(U<<9&4294967295|U>>>23),U=V+(P^I&(L^P))+O[3]+4107603335&4294967295,V=L+(U<<14&4294967295|U>>>18),U=I+(L^P&(V^L))+O[8]+1163531501&4294967295,I=V+(U<<20&4294967295|U>>>12),U=P+(V^L&(I^V))+O[13]+2850285829&4294967295,P=I+(U<<5&4294967295|U>>>27),U=L+(I^V&(P^I))+O[2]+4243563512&4294967295,L=P+(U<<9&4294967295|U>>>23),U=V+(P^I&(L^P))+O[7]+1735328473&4294967295,V=L+(U<<14&4294967295|U>>>18),U=I+(L^P&(V^L))+O[12]+2368359562&4294967295,I=V+(U<<20&4294967295|U>>>12),U=P+(I^V^L)+O[5]+4294588738&4294967295,P=I+(U<<4&4294967295|U>>>28),U=L+(P^I^V)+O[8]+2272392833&4294967295,L=P+(U<<11&4294967295|U>>>21),U=V+(L^P^I)+O[11]+1839030562&4294967295,V=L+(U<<16&4294967295|U>>>16),U=I+(V^L^P)+O[14]+4259657740&4294967295,I=V+(U<<23&4294967295|U>>>9),U=P+(I^V^L)+O[1]+2763975236&4294967295,P=I+(U<<4&4294967295|U>>>28),U=L+(P^I^V)+O[4]+1272893353&4294967295,L=P+(U<<11&4294967295|U>>>21),U=V+(L^P^I)+O[7]+4139469664&4294967295,V=L+(U<<16&4294967295|U>>>16),U=I+(V^L^P)+O[10]+3200236656&4294967295,I=V+(U<<23&4294967295|U>>>9),U=P+(I^V^L)+O[13]+681279174&4294967295,P=I+(U<<4&4294967295|U>>>28),U=L+(P^I^V)+O[0]+3936430074&4294967295,L=P+(U<<11&4294967295|U>>>21),U=V+(L^P^I)+O[3]+3572445317&4294967295,V=L+(U<<16&4294967295|U>>>16),U=I+(V^L^P)+O[6]+76029189&4294967295,I=V+(U<<23&4294967295|U>>>9),U=P+(I^V^L)+O[9]+3654602809&4294967295,P=I+(U<<4&4294967295|U>>>28),U=L+(P^I^V)+O[12]+3873151461&4294967295,L=P+(U<<11&4294967295|U>>>21),U=V+(L^P^I)+O[15]+530742520&4294967295,V=L+(U<<16&4294967295|U>>>16),U=I+(V^L^P)+O[2]+3299628645&4294967295,I=V+(U<<23&4294967295|U>>>9),U=P+(V^(I|~L))+O[0]+4096336452&4294967295,P=I+(U<<6&4294967295|U>>>26),U=L+(I^(P|~V))+O[7]+1126891415&4294967295,L=P+(U<<10&4294967295|U>>>22),U=V+(P^(L|~I))+O[14]+2878612391&4294967295,V=L+(U<<15&4294967295|U>>>17),U=I+(L^(V|~P))+O[5]+4237533241&4294967295,I=V+(U<<21&4294967295|U>>>11),U=P+(V^(I|~L))+O[12]+1700485571&4294967295,P=I+(U<<6&4294967295|U>>>26),U=L+(I^(P|~V))+O[3]+2399980690&4294967295,L=P+(U<<10&4294967295|U>>>22),U=V+(P^(L|~I))+O[10]+4293915773&4294967295,V=L+(U<<15&4294967295|U>>>17),U=I+(L^(V|~P))+O[1]+2240044497&4294967295,I=V+(U<<21&4294967295|U>>>11),U=P+(V^(I|~L))+O[8]+1873313359&4294967295,P=I+(U<<6&4294967295|U>>>26),U=L+(I^(P|~V))+O[15]+4264355552&4294967295,L=P+(U<<10&4294967295|U>>>22),U=V+(P^(L|~I))+O[6]+2734768916&4294967295,V=L+(U<<15&4294967295|U>>>17),U=I+(L^(V|~P))+O[13]+1309151649&4294967295,I=V+(U<<21&4294967295|U>>>11),U=P+(V^(I|~L))+O[4]+4149444226&4294967295,P=I+(U<<6&4294967295|U>>>26),U=L+(I^(P|~V))+O[11]+3174756917&4294967295,L=P+(U<<10&4294967295|U>>>22),U=V+(P^(L|~I))+O[2]+718787259&4294967295,V=L+(U<<15&4294967295|U>>>17),U=I+(L^(V|~P))+O[9]+3951481745&4294967295,D.g[0]=D.g[0]+P&4294967295,D.g[1]=D.g[1]+(V+(U<<21&4294967295|U>>>11))&4294967295,D.g[2]=D.g[2]+V&4294967295,D.g[3]=D.g[3]+L&4294967295}r.prototype.v=function(D,P){P===void 0&&(P=D.length);const I=P-this.blockSize,O=this.C;let V=this.h,L=0;for(;L<P;){if(V==0)for(;L<=I;)i(this,D,L),L+=this.blockSize;if(typeof D=="string"){for(;L<P;)if(O[V++]=D.charCodeAt(L++),V==this.blockSize){i(this,O),V=0;break}}else for(;L<P;)if(O[V++]=D[L++],V==this.blockSize){i(this,O),V=0;break}}this.h=V,this.o+=P},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var P=1;P<D.length-8;++P)D[P]=0;P=this.o*8;for(var I=D.length-8;I<D.length;++I)D[I]=P&255,P/=256;for(this.v(D),D=Array(16),P=0,I=0;I<4;++I)for(let O=0;O<32;O+=8)D[P++]=this.g[I]>>>O&255;return D};function a(D,P){var I=c;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=P(D)}function o(D,P){this.h=P;const I=[];let O=!0;for(let V=D.length-1;V>=0;V--){const L=D[V]|0;O&&L==P||(I[V]=L,O=!1)}this.g=I}var c={};function d(D){return-128<=D&&D<128?a(D,function(P){return new o([P|0],P<0?-1:0)}):new o([D|0],D<0?-1:0)}function h(D){if(isNaN(D)||!isFinite(D))return f;if(D<0)return j(h(-D));const P=[];let I=1;for(let O=0;D>=I;O++)P[O]=D/I|0,I*=4294967296;return new o(P,0)}function m(D,P){if(D.length==0)throw Error("number format error: empty string");if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(D.charAt(0)=="-")return j(m(D.substring(1),P));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=h(Math.pow(P,8));let O=f;for(let L=0;L<D.length;L+=8){var V=Math.min(8,D.length-L);const U=parseInt(D.substring(L,L+V),P);V<8?(V=h(Math.pow(P,V)),O=O.j(V).add(h(U))):(O=O.j(I),O=O.add(h(U)))}return O}var f=d(0),g=d(1),x=d(16777216);t=o.prototype,t.m=function(){if(w(this))return-j(this).m();let D=0,P=1;for(let I=0;I<this.g.length;I++){const O=this.i(I);D+=(O>=0?O:4294967296+O)*P,P*=4294967296}return D},t.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(N(this))return"0";if(w(this))return"-"+j(this).toString(D);const P=h(Math.pow(D,6));var I=this;let O="";for(;;){const V=C(I,P).g;I=_(I,V.j(P));let L=((I.g.length>0?I.g[0]:I.h)>>>0).toString(D);if(I=V,N(I))return L+O;for(;L.length<6;)L="0"+L;O=L+O}},t.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function N(D){if(D.h!=0)return!1;for(let P=0;P<D.g.length;P++)if(D.g[P]!=0)return!1;return!0}function w(D){return D.h==-1}t.l=function(D){return D=_(this,D),w(D)?-1:N(D)?0:1};function j(D){const P=D.g.length,I=[];for(let O=0;O<P;O++)I[O]=~D.g[O];return new o(I,~D.h).add(g)}t.abs=function(){return w(this)?j(this):this},t.add=function(D){const P=Math.max(this.g.length,D.g.length),I=[];let O=0;for(let V=0;V<=P;V++){let L=O+(this.i(V)&65535)+(D.i(V)&65535),U=(L>>>16)+(this.i(V)>>>16)+(D.i(V)>>>16);O=U>>>16,L&=65535,U&=65535,I[V]=U<<16|L}return new o(I,I[I.length-1]&-2147483648?-1:0)};function _(D,P){return D.add(j(P))}t.j=function(D){if(N(this)||N(D))return f;if(w(this))return w(D)?j(this).j(j(D)):j(j(this).j(D));if(w(D))return j(this.j(j(D)));if(this.l(x)<0&&D.l(x)<0)return h(this.m()*D.m());const P=this.g.length+D.g.length,I=[];for(var O=0;O<2*P;O++)I[O]=0;for(O=0;O<this.g.length;O++)for(let V=0;V<D.g.length;V++){const L=this.i(O)>>>16,U=this.i(O)&65535,ee=D.i(V)>>>16,re=D.i(V)&65535;I[2*O+2*V]+=U*re,E(I,2*O+2*V),I[2*O+2*V+1]+=L*re,E(I,2*O+2*V+1),I[2*O+2*V+1]+=U*ee,E(I,2*O+2*V+1),I[2*O+2*V+2]+=L*ee,E(I,2*O+2*V+2)}for(D=0;D<P;D++)I[D]=I[2*D+1]<<16|I[2*D];for(D=P;D<2*P;D++)I[D]=0;return new o(I,0)};function E(D,P){for(;(D[P]&65535)!=D[P];)D[P+1]+=D[P]>>>16,D[P]&=65535,P++}function k(D,P){this.g=D,this.h=P}function C(D,P){if(N(P))throw Error("division by zero");if(N(D))return new k(f,f);if(w(D))return P=C(j(D),P),new k(j(P.g),j(P.h));if(w(P))return P=C(D,j(P)),new k(j(P.g),P.h);if(D.g.length>30){if(w(D)||w(P))throw Error("slowDivide_ only works with positive integers.");for(var I=g,O=P;O.l(D)<=0;)I=R(I),O=R(O);var V=F(I,1),L=F(O,1);for(O=F(O,2),I=F(I,2);!N(O);){var U=L.add(O);U.l(D)<=0&&(V=V.add(I),L=U),O=F(O,1),I=F(I,1)}return P=_(D,V.j(P)),new k(V,P)}for(V=f;D.l(P)>=0;){for(I=Math.max(1,Math.floor(D.m()/P.m())),O=Math.ceil(Math.log(I)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),L=h(I),U=L.j(P);w(U)||U.l(D)>0;)I-=O,L=h(I),U=L.j(P);N(L)&&(L=g),V=V.add(L),D=_(D,U)}return new k(V,D)}t.B=function(D){return C(this,D).h},t.and=function(D){const P=Math.max(this.g.length,D.g.length),I=[];for(let O=0;O<P;O++)I[O]=this.i(O)&D.i(O);return new o(I,this.h&D.h)},t.or=function(D){const P=Math.max(this.g.length,D.g.length),I=[];for(let O=0;O<P;O++)I[O]=this.i(O)|D.i(O);return new o(I,this.h|D.h)},t.xor=function(D){const P=Math.max(this.g.length,D.g.length),I=[];for(let O=0;O<P;O++)I[O]=this.i(O)^D.i(O);return new o(I,this.h^D.h)};function R(D){const P=D.g.length+1,I=[];for(let O=0;O<P;O++)I[O]=D.i(O)<<1|D.i(O-1)>>>31;return new o(I,D.h)}function F(D,P){const I=P>>5;P%=32;const O=D.g.length-I,V=[];for(let L=0;L<O;L++)V[L]=P>0?D.i(L+I)>>>P|D.i(L+I+1)<<32-P:D.i(L+I);return new o(V,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,i5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=m,xl=o}).apply(typeof fT<"u"?fT:typeof self<"u"?self:typeof window<"u"?window:{});var Cg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var a5,jm,o5,nx,u1,l5,c5,u5;(function(){var t,e=Object.defineProperty;function n(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cg=="object"&&Cg];for(var A=0;A<y.length;++A){var M=y[A];if(M&&M.Math==Math)return M}throw Error("Cannot find global object")}var r=n(this);function i(y,A){if(A)e:{var M=r;y=y.split(".");for(var W=0;W<y.length-1;W++){var oe=y[W];if(!(oe in M))break e;M=M[oe]}y=y[y.length-1],W=M[y],A=A(W),A!=W&&A!=null&&e(M,y,{configurable:!0,writable:!0,value:A})}}i("Symbol.dispose",function(y){return y||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(y){return y||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(y){return y||function(A){var M=[],W;for(W in A)Object.prototype.hasOwnProperty.call(A,W)&&M.push([W,A[W]]);return M}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function c(y){var A=typeof y;return A=="object"&&y!=null||A=="function"}function d(y,A,M){return y.call.apply(y.bind,arguments)}function h(y,A,M){return h=d,h.apply(null,arguments)}function m(y,A){var M=Array.prototype.slice.call(arguments,1);return function(){var W=M.slice();return W.push.apply(W,arguments),y.apply(this,W)}}function f(y,A){function M(){}M.prototype=A.prototype,y.Z=A.prototype,y.prototype=new M,y.prototype.constructor=y,y.Ob=function(W,oe,ue){for(var Pe=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)Pe[xt-2]=arguments[xt];return A.prototype[oe].apply(W,Pe)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?y=>y&&AsyncContext.Snapshot.wrap(y):y=>y;function x(y){const A=y.length;if(A>0){const M=Array(A);for(let W=0;W<A;W++)M[W]=y[W];return M}return[]}function N(y,A){for(let W=1;W<arguments.length;W++){const oe=arguments[W];var M=typeof oe;if(M=M!="object"?M:oe?Array.isArray(oe)?"array":M:"null",M=="array"||M=="object"&&typeof oe.length=="number"){M=y.length||0;const ue=oe.length||0;y.length=M+ue;for(let Pe=0;Pe<ue;Pe++)y[M+Pe]=oe[Pe]}else y.push(oe)}}class w{constructor(A,M){this.i=A,this.j=M,this.h=0,this.g=null}get(){let A;return this.h>0?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function j(y){o.setTimeout(()=>{throw y},0)}function _(){var y=D;let A=null;return y.g&&(A=y.g,y.g=y.g.next,y.g||(y.h=null),A.next=null),A}class E{constructor(){this.h=this.g=null}add(A,M){const W=k.get();W.set(A,M),this.h?this.h.next=W:this.g=W,this.h=W}}var k=new w(()=>new C,y=>y.reset());class C{constructor(){this.next=this.g=this.h=null}set(A,M){this.h=A,this.g=M,this.next=null}reset(){this.next=this.g=this.h=null}}let R,F=!1,D=new E,P=()=>{const y=Promise.resolve(void 0);R=()=>{y.then(I)}};function I(){for(var y;y=_();){try{y.h.call(y.g)}catch(M){j(M)}var A=k;A.j(y),A.h<100&&(A.h++,y.next=A.g,A.g=y)}F=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(y,A){this.type=y,this.g=this.target=A,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var y=!1,A=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const M=()=>{};o.addEventListener("test",M,A),o.removeEventListener("test",M,A)}catch{}return y})();function U(y){return/^[\s\xa0]*$/.test(y)}function ee(y,A){V.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y&&this.init(y,A)}f(ee,V),ee.prototype.init=function(y,A){const M=this.type=y.type,W=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;this.target=y.target||y.srcElement,this.g=A,A=y.relatedTarget,A||(M=="mouseover"?A=y.fromElement:M=="mouseout"&&(A=y.toElement)),this.relatedTarget=A,W?(this.clientX=W.clientX!==void 0?W.clientX:W.pageX,this.clientY=W.clientY!==void 0?W.clientY:W.pageY,this.screenX=W.screenX||0,this.screenY=W.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=y.pointerType,this.state=y.state,this.i=y,y.defaultPrevented&&ee.Z.h.call(this)},ee.prototype.h=function(){ee.Z.h.call(this);const y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var re="closure_listenable_"+(Math.random()*1e6|0),he=0;function ae(y,A,M,W,oe){this.listener=y,this.proxy=null,this.src=A,this.type=M,this.capture=!!W,this.ha=oe,this.key=++he,this.da=this.fa=!1}function Q(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function q(y,A,M){for(const W in y)A.call(M,y[W],W,y)}function B(y,A){for(const M in y)A.call(void 0,y[M],M,y)}function $(y){const A={};for(const M in y)A[M]=y[M];return A}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function H(y,A){let M,W;for(let oe=1;oe<arguments.length;oe++){W=arguments[oe];for(M in W)y[M]=W[M];for(let ue=0;ue<Z.length;ue++)M=Z[ue],Object.prototype.hasOwnProperty.call(W,M)&&(y[M]=W[M])}}function me(y){this.src=y,this.g={},this.h=0}me.prototype.add=function(y,A,M,W,oe){const ue=y.toString();y=this.g[ue],y||(y=this.g[ue]=[],this.h++);const Pe=Ae(y,A,W,oe);return Pe>-1?(A=y[Pe],M||(A.fa=!1)):(A=new ae(A,this.src,ue,!!W,oe),A.fa=M,y.push(A)),A};function je(y,A){const M=A.type;if(M in y.g){var W=y.g[M],oe=Array.prototype.indexOf.call(W,A,void 0),ue;(ue=oe>=0)&&Array.prototype.splice.call(W,oe,1),ue&&(Q(A),y.g[M].length==0&&(delete y.g[M],y.h--))}}function Ae(y,A,M,W){for(let oe=0;oe<y.length;++oe){const ue=y[oe];if(!ue.da&&ue.listener==A&&ue.capture==!!M&&ue.ha==W)return oe}return-1}var ge="closure_lm_"+(Math.random()*1e6|0),Se={};function De(y,A,M,W,oe){if(Array.isArray(A)){for(let ue=0;ue<A.length;ue++)De(y,A[ue],M,W,oe);return null}return M=xs(M),y&&y[re]?y.J(A,M,c(W)?!!W.capture:!1,oe):ze(y,A,M,!1,W,oe)}function ze(y,A,M,W,oe,ue){if(!A)throw Error("Invalid event type");const Pe=c(oe)?!!oe.capture:!!oe;let xt=Bn(y);if(xt||(y[ge]=xt=new me(y)),M=xt.add(A,M,W,Pe,ue),M.proxy)return M;if(W=qe(),M.proxy=W,W.src=y,W.listener=M,y.addEventListener)L||(oe=Pe),oe===void 0&&(oe=!1),y.addEventListener(A.toString(),W,oe);else if(y.attachEvent)y.attachEvent(Cn(A.toString()),W);else if(y.addListener&&y.removeListener)y.addListener(W);else throw Error("addEventListener and attachEvent are unavailable.");return M}function qe(){function y(M){return A.call(y.src,y.listener,M)}const A=wr;return y}function ft(y,A,M,W,oe){if(Array.isArray(A))for(var ue=0;ue<A.length;ue++)ft(y,A[ue],M,W,oe);else W=c(W)?!!W.capture:!!W,M=xs(M),y&&y[re]?(y=y.i,ue=String(A).toString(),ue in y.g&&(A=y.g[ue],M=Ae(A,M,W,oe),M>-1&&(Q(A[M]),Array.prototype.splice.call(A,M,1),A.length==0&&(delete y.g[ue],y.h--)))):y&&(y=Bn(y))&&(A=y.g[A.toString()],y=-1,A&&(y=Ae(A,M,W,oe)),(M=y>-1?A[y]:null)&&Jt(M))}function Jt(y){if(typeof y!="number"&&y&&!y.da){var A=y.src;if(A&&A[re])je(A.i,y);else{var M=y.type,W=y.proxy;A.removeEventListener?A.removeEventListener(M,W,y.capture):A.detachEvent?A.detachEvent(Cn(M),W):A.addListener&&A.removeListener&&A.removeListener(W),(M=Bn(A))?(je(M,y),M.h==0&&(M.src=null,A[ge]=null)):Q(y)}}}function Cn(y){return y in Se?Se[y]:Se[y]="on"+y}function wr(y,A){if(y.da)y=!0;else{A=new ee(A,this);const M=y.listener,W=y.ha||y.src;y.fa&&Jt(y),y=M.call(W,A)}return y}function Bn(y){return y=y[ge],y instanceof me?y:null}var Jn="__closure_events_fn_"+(Math.random()*1e9>>>0);function xs(y){return typeof y=="function"?y:(y[Jn]||(y[Jn]=function(A){return y.handleEvent(A)}),y[Jn])}function zt(){O.call(this),this.i=new me(this),this.M=this,this.G=null}f(zt,O),zt.prototype[re]=!0,zt.prototype.removeEventListener=function(y,A,M,W){ft(this,y,A,M,W)};function Xt(y,A){var M,W=y.G;if(W)for(M=[];W;W=W.G)M.push(W);if(y=y.M,W=A.type||A,typeof A=="string")A=new V(A,y);else if(A instanceof V)A.target=A.target||y;else{var oe=A;A=new V(W,y),H(A,oe)}oe=!0;let ue,Pe;if(M)for(Pe=M.length-1;Pe>=0;Pe--)ue=A.g=M[Pe],oe=Or(ue,W,!0,A)&&oe;if(ue=A.g=y,oe=Or(ue,W,!0,A)&&oe,oe=Or(ue,W,!1,A)&&oe,M)for(Pe=0;Pe<M.length;Pe++)ue=A.g=M[Pe],oe=Or(ue,W,!1,A)&&oe}zt.prototype.N=function(){if(zt.Z.N.call(this),this.i){var y=this.i;for(const A in y.g){const M=y.g[A];for(let W=0;W<M.length;W++)Q(M[W]);delete y.g[A],y.h--}}this.G=null},zt.prototype.J=function(y,A,M,W){return this.i.add(String(y),A,!1,M,W)},zt.prototype.K=function(y,A,M,W){return this.i.add(String(y),A,!0,M,W)};function Or(y,A,M,W){if(A=y.i.g[String(A)],!A)return!0;A=A.concat();let oe=!0;for(let ue=0;ue<A.length;++ue){const Pe=A[ue];if(Pe&&!Pe.da&&Pe.capture==M){const xt=Pe.listener,Dn=Pe.ha||Pe.src;Pe.fa&&je(y.i,Pe),oe=xt.call(Dn,W)!==!1&&oe}}return oe&&!W.defaultPrevented}function Ea(y,A){if(typeof y!="function")if(y&&typeof y.handleEvent=="function")y=h(y.handleEvent,y);else throw Error("Invalid listener argument");return Number(A)>2147483647?-1:o.setTimeout(y,A||0)}function Ii(y){y.g=Ea(()=>{y.g=null,y.i&&(y.i=!1,Ii(y))},y.l);const A=y.h;y.h=null,y.m.apply(null,A)}class Ri extends O{constructor(A,M){super(),this.m=A,this.l=M,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:Ii(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fs(y){O.call(this),this.h=y,this.g={}}f(Fs,O);var fe=[];function Ie(y){q(y.g,function(A,M){this.g.hasOwnProperty(M)&&Jt(A)},y),y.g={}}Fs.prototype.N=function(){Fs.Z.N.call(this),Ie(this)},Fs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ze=o.JSON.stringify,bt=o.JSON.parse,kt=class{stringify(y){return o.JSON.stringify(y,void 0)}parse(y){return o.JSON.parse(y,void 0)}};function xn(){}function pe(){}var He={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function et(){V.call(this,"d")}f(et,V);function tt(){V.call(this,"c")}f(tt,V);var gt={},ut=null;function Dt(){return ut=ut||new zt}gt.Ia="serverreachability";function yn(y){V.call(this,gt.Ia,y)}f(yn,V);function Yr(y){const A=Dt();Xt(A,new yn(A))}gt.STAT_EVENT="statevent";function Lr(y,A){V.call(this,gt.STAT_EVENT,y),this.stat=A}f(Lr,V);function nn(y){const A=Dt();Xt(A,new Lr(A,y))}gt.Ja="timingevent";function ii(y,A){V.call(this,gt.Ja,y),this.size=A}f(ii,V);function Fr(y,A){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){y()},A)}function Vr(){this.g=!0}Vr.prototype.ua=function(){this.g=!1};function Pi(y,A,M,W,oe,ue){y.info(function(){if(y.g)if(ue){var Pe="",xt=ue.split("&");for(let Zt=0;Zt<xt.length;Zt++){var Dn=xt[Zt].split("=");if(Dn.length>1){const $n=Dn[0];Dn=Dn[1];const Ss=$n.split("_");Pe=Ss.length>=2&&Ss[1]=="type"?Pe+($n+"="+Dn+"&"):Pe+($n+"=redacted&")}}}else Pe=null;else Pe=ue;return"XMLHTTP REQ ("+W+") [attempt "+oe+"]: "+A+`
`+M+`
`+Pe})}function Kl(y,A,M,W,oe,ue,Pe){y.info(function(){return"XMLHTTP RESP ("+W+") [ attempt "+oe+"]: "+A+`
`+M+`
`+ue+" "+Pe})}function ys(y,A,M,W){y.info(function(){return"XMLHTTP TEXT ("+A+"): "+Di(y,M)+(W?" "+W:"")})}function Gl(y,A){y.info(function(){return"TIMEOUT: "+A})}Vr.prototype.info=function(){};function Di(y,A){if(!y.g)return A;if(!A)return null;try{const ue=JSON.parse(A);if(ue){for(y=0;y<ue.length;y++)if(Array.isArray(ue[y])){var M=ue[y];if(!(M.length<2)){var W=M[1];if(Array.isArray(W)&&!(W.length<1)){var oe=W[0];if(oe!="noop"&&oe!="stop"&&oe!="close")for(let Pe=1;Pe<W.length;Pe++)W[Pe]=""}}}}return Ze(ue)}catch{return A}}var ai={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},oi={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},vs;function Jr(){}f(Jr,xn),Jr.prototype.g=function(){return new XMLHttpRequest},vs=new Jr;function jr(y){return encodeURIComponent(String(y))}function Xr(y){var A=1;y=y.split(":");const M=[];for(;A>0&&y.length;)M.push(y.shift()),A--;return y.length&&M.push(y.join(":")),M}function Wt(y,A,M,W){this.j=y,this.i=A,this.l=M,this.S=W||1,this.V=new Fs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new _r}function _r(){this.i=null,this.g="",this.h=!1}var No={},Ca={};function Nr(y,A,M){y.M=1,y.A=Ta(Vs(A)),y.u=M,y.R=!0,li(y,null)}function li(y,A){y.F=Date.now(),Xn(y),y.B=Vs(y.A);var M=y.B,W=y.S;Array.isArray(W)||(W=[String(W)]),Ah(M.i,"t",W),y.C=0,M=y.j.L,y.h=new _r,y.g=fp(y.j,M?A:null,!y.u),y.P>0&&(y.O=new Ri(h(y.Y,y,y.g),y.P)),A=y.V,M=y.g,W=y.ba;var oe="readystatechange";Array.isArray(oe)||(oe&&(fe[0]=oe.toString()),oe=fe);for(let ue=0;ue<oe.length;ue++){const Pe=De(M,oe[ue],W||A.handleEvent,!1,A.h||A);if(!Pe)break;A.g[Pe.key]=Pe}A=y.J?$(y.J):{},y.u?(y.v||(y.v="POST"),A["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.B,y.v,y.u,A)):(y.v="GET",y.g.ea(y.B,y.v,null,A)),Yr(),Pi(y.i,y.v,y.B,y.l,y.S,y.u)}Wt.prototype.ba=function(y){y=y.target;const A=this.O;A&&zi(y)==3?A.j():this.Y(y)},Wt.prototype.Y=function(y){try{if(y==this.g)e:{const xt=zi(this.g),Dn=this.g.ya(),Zt=this.g.ca();if(!(xt<3)&&(xt!=3||this.g&&(this.h.h||this.g.la()||hp(this.g)))){this.K||xt!=4||Dn==7||(Dn==8||Zt<=0?Yr(3):Yr(2)),hu(this);var A=this.g.ca();this.X=A;var M=ci(this);if(this.o=A==200,Kl(this.i,this.v,this.B,this.l,this.S,xt,A),this.o){if(this.U&&!this.L){t:{if(this.g){var W,oe=this.g;if((W=oe.g?oe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(W)){var ue=W;break t}}ue=null}if(y=ue)ys(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,un(this,y);else{this.o=!1,this.m=3,nn(12),ka(this),Ql(this);break e}}if(this.R){y=!0;let $n;for(;!this.K&&this.C<M.length;)if($n=dt(this,M),$n==Ca){xt==4&&(this.m=4,nn(14),y=!1),ys(this.i,this.l,null,"[Incomplete Response]");break}else if($n==No){this.m=4,nn(15),ys(this.i,this.l,M,"[Invalid Chunk]"),y=!1;break}else ys(this.i,this.l,$n,null),un(this,$n);if(wt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||M.length!=0||this.h.h||(this.m=1,nn(16),y=!1),this.o=this.o&&y,!y)ys(this.i,this.l,M,"[Invalid Chunked Response]"),ka(this),Ql(this);else if(M.length>0&&!this.W){this.W=!0;var Pe=this.j;Pe.g==this&&Pe.aa&&!Pe.P&&(Pe.j.info("Great, no buffering proxy detected. Bytes received: "+M.length),sc(Pe),Pe.P=!0,nn(11))}}else ys(this.i,this.l,M,null),un(this,M);xt==4&&ka(this),this.o&&!this.K&&(xt==4?ju(this.j,this):(this.o=!1,Xn(this)))}else Rh(this.g),A==400&&M.indexOf("Unknown SID")>0?(this.m=3,nn(12)):(this.m=0,nn(13)),ka(this),Ql(this)}}}catch{}finally{}};function ci(y){if(!wt(y))return y.g.la();const A=hp(y.g);if(A==="")return"";let M="";const W=A.length,oe=zi(y.g)==4;if(!y.h.i){if(typeof TextDecoder>"u")return ka(y),Ql(y),"";y.h.i=new o.TextDecoder}for(let ue=0;ue<W;ue++)y.h.h=!0,M+=y.h.i.decode(A[ue],{stream:!(oe&&ue==W-1)});return A.length=0,y.h.g+=M,y.C=0,y.h.g}function wt(y){return y.g?y.v=="GET"&&y.M!=2&&y.j.Aa:!1}function dt(y,A){var M=y.C,W=A.indexOf(`
`,M);return W==-1?Ca:(M=Number(A.substring(M,W)),isNaN(M)?No:(W+=1,W+M>A.length?Ca:(A=A.slice(W,W+M),y.C=W+M,A)))}Wt.prototype.cancel=function(){this.K=!0,ka(this)};function Xn(y){y.T=Date.now()+y.H,So(y,y.H)}function So(y,A){if(y.D!=null)throw Error("WatchDog timer not null");y.D=Fr(h(y.aa,y),A)}function hu(y){y.D&&(o.clearTimeout(y.D),y.D=null)}Wt.prototype.aa=function(){this.D=null;const y=Date.now();y-this.T>=0?(Gl(this.i,this.B),this.M!=2&&(Yr(),nn(17)),ka(this),this.m=2,Ql(this)):So(this,this.T-y)};function Ql(y){y.j.I==0||y.K||ju(y.j,y)}function ka(y){hu(y);var A=y.O;A&&typeof A.dispose=="function"&&A.dispose(),y.O=null,Ie(y.V),y.g&&(A=y.g,y.g=null,A.abort(),A.dispose())}function un(y,A){try{var M=y.j;if(M.I!=0&&(M.g==y||_h(M.h,y))){if(!y.L&&_h(M.h,y)&&M.I==3){try{var W=M.Ba.g.parse(A)}catch{W=null}if(Array.isArray(W)&&W.length==3){var oe=W;if(oe[0]==0){e:if(!M.v){if(M.g)if(M.g.F+3e3<y.F)wu(M),_s(M);else break e;qi(M),nn(18)}}else M.xa=oe[1],0<M.xa-M.K&&oe[2]<37500&&M.F&&M.A==0&&!M.C&&(M.C=Fr(h(M.Va,M),6e3));Yl(M.h)<=1&&M.ta&&(M.ta=void 0)}else Ns(M,11)}else if((y.L||M.g==y)&&wu(M),!U(A))for(oe=M.Ba.g.parse(A),A=0;A<oe.length;A++){let Zt=oe[A];const $n=Zt[0];if(!($n<=M.K))if(M.K=$n,Zt=Zt[1],M.I==2)if(Zt[0]=="c"){M.M=Zt[1],M.ba=Zt[2];const Ss=Zt[3];Ss!=null&&(M.ka=Ss,M.j.info("VER="+M.ka));const Da=Zt[4];Da!=null&&(M.za=Da,M.j.info("SVER="+M.za));const Hi=Zt[5];Hi!=null&&typeof Hi=="number"&&Hi>0&&(W=1.5*Hi,M.O=W,M.j.info("backChannelRequestTimeoutMs_="+W)),W=M;const Wi=y.g;if(Wi){const Su=Wi.g?Wi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Su){var ue=W.h;ue.g||Su.indexOf("spdy")==-1&&Su.indexOf("quic")==-1&&Su.indexOf("h2")==-1||(ue.j=ue.l,ue.g=new Set,ue.h&&(fu(ue,ue.h),ue.h=null))}if(W.G){const Mh=Wi.g?Wi.g.getResponseHeader("X-HTTP-Session-Id"):null;Mh&&(W.wa=Mh,Bt(W.J,W.G,Mh))}}M.I=3,M.l&&M.l.ra(),M.aa&&(M.T=Date.now()-y.F,M.j.info("Handshake RTT: "+M.T+"ms")),W=M;var Pe=y;if(W.na=Dh(W,W.L?W.ba:null,W.W),Pe.L){Jl(W.h,Pe);var xt=Pe,Dn=W.O;Dn&&(xt.H=Dn),xt.D&&(hu(xt),Xn(xt)),W.g=Pe}else Sr(W);M.i.length>0&&Pa(M)}else Zt[0]!="stop"&&Zt[0]!="close"||Ns(M,7);else M.I==3&&(Zt[0]=="stop"||Zt[0]=="close"?Zt[0]=="stop"?Ns(M,7):vu(M):Zt[0]!="noop"&&M.l&&M.l.qa(Zt),M.A=0)}}Yr(4)}catch{}}var g0=class{constructor(y,A){this.g=y,this.map=A}};function mu(y){this.l=y||10,o.PerformanceNavigationTiming?(y=o.performance.getEntriesByType("navigation"),y=y.length>0&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function jh(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function Yl(y){return y.h?1:y.g?y.g.size:0}function _h(y,A){return y.h?y.h==A:y.g?y.g.has(A):!1}function fu(y,A){y.g?y.g.add(A):y.h=A}function Jl(y,A){y.h&&y.h==A?y.h=null:y.g&&y.g.has(A)&&y.g.delete(A)}mu.prototype.cancel=function(){if(this.i=bs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function bs(y){if(y.h!=null)return y.i.concat(y.h.G);if(y.g!=null&&y.g.size!==0){let A=y.i;for(const M of y.g.values())A=A.concat(M.G);return A}return x(y.i)}var lp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ws(y,A){if(y){y=y.split("&");for(let M=0;M<y.length;M++){const W=y[M].indexOf("=");let oe,ue=null;W>=0?(oe=y[M].substring(0,W),ue=y[M].substring(W+1)):oe=y[M],A(oe,ue?decodeURIComponent(ue.replace(/\+/g," ")):"")}}}function Mi(y){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let A;y instanceof Mi?(this.l=y.l,Xl(this,y.j),this.o=y.o,this.g=y.g,Oi(this,y.u),this.h=y.h,Eo(this,Ih(y.i)),this.m=y.m):y&&(A=String(y).match(lp))?(this.l=!1,Xl(this,A[1]||"",!0),this.o=Zl(A[2]||""),this.g=Zl(A[3]||"",!0),Oi(this,A[4]),this.h=Zl(A[5]||"",!0),Eo(this,A[6]||"",!0),this.m=Zl(A[7]||"")):(this.l=!1,this.i=new Mt(null,this.l))}Mi.prototype.toString=function(){const y=[];var A=this.j;A&&y.push(ec(A,Sh,!0),":");var M=this.g;return(M||A=="file")&&(y.push("//"),(A=this.o)&&y.push(ec(A,Sh,!0),"@"),y.push(jr(M).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),M=this.u,M!=null&&y.push(":",String(M))),(M=this.h)&&(this.g&&M.charAt(0)!="/"&&y.push("/"),y.push(ec(M,M.charAt(0)=="/"?tc:Eh,!0))),(M=this.i.toString())&&y.push("?",M),(M=this.m)&&y.push("#",ec(M,Ch)),y.join("")},Mi.prototype.resolve=function(y){const A=Vs(this);let M=!!y.j;M?Xl(A,y.j):M=!!y.o,M?A.o=y.o:M=!!y.g,M?A.g=y.g:M=y.u!=null;var W=y.h;if(M)Oi(A,y.u);else if(M=!!y.h){if(W.charAt(0)!="/")if(this.g&&!this.h)W="/"+W;else{var oe=A.h.lastIndexOf("/");oe!=-1&&(W=A.h.slice(0,oe+1)+W)}if(oe=W,oe==".."||oe==".")W="";else if(oe.indexOf("./")!=-1||oe.indexOf("/.")!=-1){W=oe.lastIndexOf("/",0)==0,oe=oe.split("/");const ue=[];for(let Pe=0;Pe<oe.length;){const xt=oe[Pe++];xt=="."?W&&Pe==oe.length&&ue.push(""):xt==".."?((ue.length>1||ue.length==1&&ue[0]!="")&&ue.pop(),W&&Pe==oe.length&&ue.push("")):(ue.push(xt),W=!0)}W=ue.join("/")}else W=oe}return M?A.h=W:M=y.i.toString()!=="",M?Eo(A,Ih(y.i)):M=!!y.m,M&&(A.m=y.m),A};function Vs(y){return new Mi(y)}function Xl(y,A,M){y.j=M?Zl(A,!0):A,y.j&&(y.j=y.j.replace(/:$/,""))}function Oi(y,A){if(A){if(A=Number(A),isNaN(A)||A<0)throw Error("Bad port number "+A);y.u=A}else y.u=null}function Eo(y,A,M){A instanceof Mt?(y.i=A,gu(y.i,y.l)):(M||(A=ec(A,x0)),y.i=new Mt(A,y.l))}function Bt(y,A,M){y.i.set(A,M)}function Ta(y){return Bt(y,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),y}function Zl(y,A){return y?A?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function ec(y,A,M){return typeof y=="string"?(y=encodeURI(y).replace(A,Nh),M&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function Nh(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var Sh=/[#\/\?@]/g,Eh=/[#\?:]/g,tc=/[#\?]/g,x0=/[#\?@]/g,Ch=/#/g;function Mt(y,A){this.h=this.g=null,this.i=y||null,this.j=!!A}function Li(y){y.g||(y.g=new Map,y.h=0,y.i&&ws(y.i,function(A,M){y.add(decodeURIComponent(A.replace(/\+/g," ")),M)}))}t=Mt.prototype,t.add=function(y,A){Li(this),this.i=null,y=Fi(this,y);let M=this.g.get(y);return M||this.g.set(y,M=[]),M.push(A),this.h+=1,this};function kh(y,A){Li(y),A=Fi(y,A),y.g.has(A)&&(y.i=null,y.h-=y.g.get(A).length,y.g.delete(A))}function pu(y,A){return Li(y),A=Fi(y,A),y.g.has(A)}t.forEach=function(y,A){Li(this),this.g.forEach(function(M,W){M.forEach(function(oe){y.call(A,oe,W,this)},this)},this)};function Th(y,A){Li(y);let M=[];if(typeof A=="string")pu(y,A)&&(M=M.concat(y.g.get(Fi(y,A))));else for(y=Array.from(y.g.values()),A=0;A<y.length;A++)M=M.concat(y[A]);return M}t.set=function(y,A){return Li(this),this.i=null,y=Fi(this,y),pu(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[A]),this.h+=1,this},t.get=function(y,A){return y?(y=Th(this,y),y.length>0?String(y[0]):A):A};function Ah(y,A,M){kh(y,A),M.length>0&&(y.i=null,y.g.set(Fi(y,A),x(M)),y.h+=M.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],A=Array.from(this.g.keys());for(let W=0;W<A.length;W++){var M=A[W];const oe=jr(M);M=Th(this,M);for(let ue=0;ue<M.length;ue++){let Pe=oe;M[ue]!==""&&(Pe+="="+jr(M[ue])),y.push(Pe)}}return this.i=y.join("&")};function Ih(y){const A=new Mt;return A.i=y.i,y.g&&(A.g=new Map(y.g),A.h=y.h),A}function Fi(y,A){return A=String(A),y.j&&(A=A.toLowerCase()),A}function gu(y,A){A&&!y.j&&(Li(y),y.i=null,y.g.forEach(function(M,W){const oe=W.toLowerCase();W!=oe&&(kh(this,W),Ah(this,oe,M))},y)),y.j=A}function Vi(y,A){const M=new Vr;if(o.Image){const W=new Image;W.onload=m(mr,M,"TestLoadImage: loaded",!0,A,W),W.onerror=m(mr,M,"TestLoadImage: error",!1,A,W),W.onabort=m(mr,M,"TestLoadImage: abort",!1,A,W),W.ontimeout=m(mr,M,"TestLoadImage: timeout",!1,A,W),o.setTimeout(function(){W.ontimeout&&W.ontimeout()},1e4),W.src=y}else A(!1)}function Ui(y,A){const M=new Vr,W=new AbortController,oe=setTimeout(()=>{W.abort(),mr(M,"TestPingServer: timeout",!1,A)},1e4);fetch(y,{signal:W.signal}).then(ue=>{clearTimeout(oe),ue.ok?mr(M,"TestPingServer: ok",!0,A):mr(M,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(oe),mr(M,"TestPingServer: error",!1,A)})}function mr(y,A,M,W,oe){try{oe&&(oe.onload=null,oe.onerror=null,oe.onabort=null,oe.ontimeout=null),W(M)}catch{}}function nc(){this.g=new kt}function Aa(y){this.i=y.Sb||null,this.h=y.ab||!1}f(Aa,xn),Aa.prototype.g=function(){return new js(this.i,this.h)};function js(y,A){zt.call(this),this.H=y,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(js,zt),t=js.prototype,t.open=function(y,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=y,this.D=A,this.readyState=1,ui(this)},t.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const A={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};y&&(A.body=y),(this.H||o).fetch(new Request(this.D,A)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Co(this)),this.readyState=0},t.Pa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,ui(this)),this.g&&(this.readyState=3,ui(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;cp(this)}else y.text().then(this.Oa.bind(this),this.ga.bind(this))};function cp(y){y.j.read().then(y.Ma.bind(y)).catch(y.ga.bind(y))}t.Ma=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var A=y.value?y.value:new Uint8Array(0);(A=this.B.decode(A,{stream:!y.done}))&&(this.response=this.responseText+=A)}y.done?Co(this):ui(this),this.readyState==3&&cp(this)}},t.Oa=function(y){this.g&&(this.response=this.responseText=y,Co(this))},t.Na=function(y){this.g&&(this.response=y,Co(this))},t.ga=function(){this.g&&Co(this)};function Co(y){y.readyState=4,y.l=null,y.j=null,y.B=null,ui(y)}t.setRequestHeader=function(y,A){this.A.append(y,A)},t.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],A=this.h.entries();for(var M=A.next();!M.done;)M=M.value,y.push(M[0]+": "+M[1]),M=A.next();return y.join(`\r
`)};function ui(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(js.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function up(y){let A="";return q(y,function(M,W){A+=W,A+=":",A+=M,A+=`\r
`}),A}function xu(y,A,M){e:{for(W in M){var W=!1;break e}W=!0}W||(M=up(M),typeof y=="string"?M!=null&&jr(M):Bt(y,A,M))}function rn(y){zt.call(this),this.headers=new Map,this.L=y||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(rn,zt);var dp=/^https?$/i,y0=["POST","PUT"];t=rn.prototype,t.Fa=function(y){this.H=y},t.ea=function(y,A,M,W){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);A=A?A.toUpperCase():"GET",this.D=y,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():vs.g(),this.g.onreadystatechange=g(h(this.Ca,this));try{this.B=!0,this.g.open(A,String(y),!0),this.B=!1}catch(ue){ko(this,ue);return}if(y=M||"",M=new Map(this.headers),W)if(Object.getPrototypeOf(W)===Object.prototype)for(var oe in W)M.set(oe,W[oe]);else if(typeof W.keys=="function"&&typeof W.get=="function")for(const ue of W.keys())M.set(ue,W.get(ue));else throw Error("Unknown input type for opt_headers: "+String(W));W=Array.from(M.keys()).find(ue=>ue.toLowerCase()=="content-type"),oe=o.FormData&&y instanceof o.FormData,!(Array.prototype.indexOf.call(y0,A,void 0)>=0)||W||oe||M.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ue,Pe]of M)this.g.setRequestHeader(ue,Pe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(y),this.v=!1}catch(ue){ko(this,ue)}};function ko(y,A){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=A,y.o=5,To(y),Ra(y)}function To(y){y.A||(y.A=!0,Xt(y,"complete"),Xt(y,"error"))}t.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=y||7,Xt(this,"complete"),Xt(this,"abort"),Ra(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ra(this,!0)),rn.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Ia(this):this.Xa())},t.Xa=function(){Ia(this)};function Ia(y){if(y.h&&typeof a<"u"){if(y.v&&zi(y)==4)setTimeout(y.Ca.bind(y),0);else if(Xt(y,"readystatechange"),zi(y)==4){y.h=!1;try{const ue=y.ca();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var M;if(!(M=A)){var W;if(W=ue===0){let Pe=String(y.D).match(lp)[1]||null;!Pe&&o.self&&o.self.location&&(Pe=o.self.location.protocol.slice(0,-1)),W=!dp.test(Pe?Pe.toLowerCase():"")}M=W}if(M)Xt(y,"complete"),Xt(y,"success");else{y.o=6;try{var oe=zi(y)>2?y.g.statusText:""}catch{oe=""}y.l=oe+" ["+y.ca()+"]",To(y)}}finally{Ra(y)}}}}function Ra(y,A){if(y.g){y.m&&(clearTimeout(y.m),y.m=null);const M=y.g;y.g=null,A||Xt(y,"ready");try{M.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function zi(y){return y.g?y.g.readyState:0}t.ca=function(){try{return zi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(y){if(this.g){var A=this.g.responseText;return y&&A.indexOf(y)==0&&(A=A.substring(y.length)),bt(A)}};function hp(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.F){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function Rh(y){const A={};y=(y.g&&zi(y)>=2&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let W=0;W<y.length;W++){if(U(y[W]))continue;var M=Xr(y[W]);const oe=M[0];if(M=M[1],typeof M!="string")continue;M=M.trim();const ue=A[oe]||[];A[oe]=ue,ue.push(M)}B(A,function(W){return W.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bi(y,A,M){return M&&M.internalChannelParams&&M.internalChannelParams[y]||A}function yu(y){this.za=0,this.i=[],this.j=new Vr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Bi("failFast",!1,y),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Bi("baseRetryDelayMs",5e3,y),this.Za=Bi("retryDelaySeedMs",1e4,y),this.Ta=Bi("forwardChannelMaxRetries",2,y),this.va=Bi("forwardChannelRequestTimeoutMs",2e4,y),this.ma=y&&y.xmlHttpFactory||void 0,this.Ua=y&&y.Rb||void 0,this.Aa=y&&y.useFetchStreams||!1,this.O=void 0,this.L=y&&y.supportsCrossDomainXhr||!1,this.M="",this.h=new mu(y&&y.concurrentRequestLimit),this.Ba=new nc,this.S=y&&y.fastHandshake||!1,this.R=y&&y.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=y&&y.Pb||!1,y&&y.ua&&this.j.ua(),y&&y.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&y&&y.detectBufferingProxy||!1,this.ia=void 0,y&&y.longPollingTimeout&&y.longPollingTimeout>0&&(this.ia=y.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=yu.prototype,t.ka=8,t.I=1,t.connect=function(y,A,M,W){nn(0),this.W=y,this.H=A||{},M&&W!==void 0&&(this.H.OSID=M,this.H.OAID=W),this.F=this.X,this.J=Dh(this,null,this.W),Pa(this)};function vu(y){if(bu(y),y.I==3){var A=y.V++,M=Vs(y.J);if(Bt(M,"SID",y.M),Bt(M,"RID",A),Bt(M,"TYPE","terminate"),$i(y,M),A=new Wt(y,y.j,A),A.M=2,A.A=Ta(Vs(M)),M=!1,o.navigator&&o.navigator.sendBeacon)try{M=o.navigator.sendBeacon(A.A.toString(),"")}catch{}!M&&o.Image&&(new Image().src=A.A,M=!0),M||(A.g=fp(A.j,null),A.g.ea(A.A)),A.F=Date.now(),Xn(A)}ic(y)}function _s(y){y.g&&(sc(y),y.g.cancel(),y.g=null)}function bu(y){_s(y),y.v&&(o.clearTimeout(y.v),y.v=null),wu(y),y.h.cancel(),y.m&&(typeof y.m=="number"&&o.clearTimeout(y.m),y.m=null)}function Pa(y){if(!jh(y.h)&&!y.m){y.m=!0;var A=y.Ea;R||P(),F||(R(),F=!0),D.add(A,y),y.D=0}}function mp(y,A){return Yl(y.h)>=y.h.j-(y.m?1:0)?!1:y.m?(y.i=A.G.concat(y.i),!0):y.I==1||y.I==2||y.D>=(y.Sa?0:y.Ta)?!1:(y.m=Fr(h(y.Ea,y,A),_u(y,y.D)),y.D++,!0)}t.Ea=function(y){if(this.m)if(this.m=null,this.I==1){if(!y){this.V=Math.floor(Math.random()*1e5),y=this.V++;const oe=new Wt(this,this.j,y);let ue=this.o;if(this.U&&(ue?(ue=$(ue),H(ue,this.U)):ue=this.U),this.u!==null||this.R||(oe.J=ue,ue=null),this.S)e:{for(var A=0,M=0;M<this.i.length;M++){t:{var W=this.i[M];if("__data__"in W.map&&(W=W.map.__data__,typeof W=="string")){W=W.length;break t}W=void 0}if(W===void 0)break;if(A+=W,A>4096){A=M;break e}if(A===4096||M===this.i.length-1){A=M+1;break e}}A=1e3}else A=1e3;A=Ph(this,oe,A),M=Vs(this.J),Bt(M,"RID",y),Bt(M,"CVER",22),this.G&&Bt(M,"X-HTTP-Session-Id",this.G),$i(this,M),ue&&(this.R?A="headers="+jr(up(ue))+"&"+A:this.u&&xu(M,this.u,ue)),fu(this.h,oe),this.Ra&&Bt(M,"TYPE","init"),this.S?(Bt(M,"$req",A),Bt(M,"SID","null"),oe.U=!0,Nr(oe,M,null)):Nr(oe,M,A),this.I=2}}else this.I==3&&(y?rc(this,y):this.i.length==0||jh(this.h)||rc(this))};function rc(y,A){var M;A?M=A.l:M=y.V++;const W=Vs(y.J);Bt(W,"SID",y.M),Bt(W,"RID",M),Bt(W,"AID",y.K),$i(y,W),y.u&&y.o&&xu(W,y.u,y.o),M=new Wt(y,y.j,M,y.D+1),y.u===null&&(M.J=y.o),A&&(y.i=A.G.concat(y.i)),A=Ph(y,M,1e3),M.H=Math.round(y.va*.5)+Math.round(y.va*.5*Math.random()),fu(y.h,M),Nr(M,W,A)}function $i(y,A){y.H&&q(y.H,function(M,W){Bt(A,W,M)}),y.l&&q({},function(M,W){Bt(A,W,M)})}function Ph(y,A,M){M=Math.min(y.i.length,M);const W=y.l?h(y.l.Ka,y.l,y):null;e:{var oe=y.i;let xt=-1;for(;;){const Dn=["count="+M];xt==-1?M>0?(xt=oe[0].g,Dn.push("ofs="+xt)):xt=0:Dn.push("ofs="+xt);let Zt=!0;for(let $n=0;$n<M;$n++){var ue=oe[$n].g;const Ss=oe[$n].map;if(ue-=xt,ue<0)xt=Math.max(0,oe[$n].g-100),Zt=!1;else try{ue="req"+ue+"_"||"";try{var Pe=Ss instanceof Map?Ss:Object.entries(Ss);for(const[Da,Hi]of Pe){let Wi=Hi;c(Hi)&&(Wi=Ze(Hi)),Dn.push(ue+Da+"="+encodeURIComponent(Wi))}}catch(Da){throw Dn.push(ue+"type="+encodeURIComponent("_badmap")),Da}}catch{W&&W(Ss)}}if(Zt){Pe=Dn.join("&");break e}}Pe=void 0}return y=y.i.splice(0,M),A.G=y,Pe}function Sr(y){if(!y.g&&!y.v){y.Y=1;var A=y.Da;R||P(),F||(R(),F=!0),D.add(A,y),y.A=0}}function qi(y){return y.g||y.v||y.A>=3?!1:(y.Y++,y.v=Fr(h(y.Da,y),_u(y,y.A)),y.A++,!0)}t.Da=function(){if(this.v=null,Ao(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var y=4*this.T;this.j.info("BP detection timer enabled: "+y),this.B=Fr(h(this.Wa,this),y)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,nn(10),_s(this),Ao(this))};function sc(y){y.B!=null&&(o.clearTimeout(y.B),y.B=null)}function Ao(y){y.g=new Wt(y,y.j,"rpc",y.Y),y.u===null&&(y.g.J=y.o),y.g.P=0;var A=Vs(y.na);Bt(A,"RID","rpc"),Bt(A,"SID",y.M),Bt(A,"AID",y.K),Bt(A,"CI",y.F?"0":"1"),!y.F&&y.ia&&Bt(A,"TO",y.ia),Bt(A,"TYPE","xmlhttp"),$i(y,A),y.u&&y.o&&xu(A,y.u,y.o),y.O&&(y.g.H=y.O);var M=y.g;y=y.ba,M.M=1,M.A=Ta(Vs(A)),M.u=null,M.R=!0,li(M,y)}t.Va=function(){this.C!=null&&(this.C=null,_s(this),qi(this),nn(19))};function wu(y){y.C!=null&&(o.clearTimeout(y.C),y.C=null)}function ju(y,A){var M=null;if(y.g==A){wu(y),sc(y),y.g=null;var W=2}else if(_h(y.h,A))M=A.G,Jl(y.h,A),W=1;else return;if(y.I!=0){if(A.o)if(W==1){M=A.u?A.u.length:0,A=Date.now()-A.F;var oe=y.D;W=Dt(),Xt(W,new ii(W,M)),Pa(y)}else Sr(y);else if(oe=A.m,oe==3||oe==0&&A.X>0||!(W==1&&mp(y,A)||W==2&&qi(y)))switch(M&&M.length>0&&(A=y.h,A.i=A.i.concat(M)),oe){case 1:Ns(y,5);break;case 4:Ns(y,10);break;case 3:Ns(y,6);break;default:Ns(y,2)}}}function _u(y,A){let M=y.Qa+Math.floor(Math.random()*y.Za);return y.isActive()||(M*=2),M*A}function Ns(y,A){if(y.j.info("Error code "+A),A==2){var M=h(y.bb,y),W=y.Ua;const oe=!W;W=new Mi(W||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Xl(W,"https"),Ta(W),oe?Vi(W.toString(),M):Ui(W.toString(),M)}else nn(2);y.I=0,y.l&&y.l.pa(A),ic(y),bu(y)}t.bb=function(y){y?(this.j.info("Successfully pinged google.com"),nn(2)):(this.j.info("Failed to ping google.com"),nn(1))};function ic(y){if(y.I=0,y.ja=[],y.l){const A=bs(y.h);(A.length!=0||y.i.length!=0)&&(N(y.ja,A),N(y.ja,y.i),y.h.i.length=0,x(y.i),y.i.length=0),y.l.oa()}}function Dh(y,A,M){var W=M instanceof Mi?Vs(M):new Mi(M);if(W.g!="")A&&(W.g=A+"."+W.g),Oi(W,W.u);else{var oe=o.location;W=oe.protocol,A=A?A+"."+oe.hostname:oe.hostname,oe=+oe.port;const ue=new Mi(null);W&&Xl(ue,W),A&&(ue.g=A),oe&&Oi(ue,oe),M&&(ue.h=M),W=ue}return M=y.G,A=y.wa,M&&A&&Bt(W,M,A),Bt(W,"VER",y.ka),$i(y,W),W}function fp(y,A,M){if(A&&!y.L)throw Error("Can't create secondary domain capable XhrIo object.");return A=y.Aa&&!y.ma?new rn(new Aa({ab:M})):new rn(y.ma),A.Fa(y.L),A}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function pp(){}t=pp.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Nu(){}Nu.prototype.g=function(y,A){return new fr(y,A)};function fr(y,A){zt.call(this),this.g=new yu(A),this.l=y,this.h=A&&A.messageUrlParams||null,y=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(y?y["X-WebChannel-Content-Type"]=A.messageContentType:y={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.sa&&(y?y["X-WebChannel-Client-Profile"]=A.sa:y={"X-WebChannel-Client-Profile":A.sa}),this.g.U=y,(y=A&&A.Qb)&&!U(y)&&(this.g.u=y),this.A=A&&A.supportsCrossDomainXhr||!1,this.v=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!U(A)&&(this.g.G=A,y=this.h,y!==null&&A in y&&(y=this.h,A in y&&delete y[A])),this.j=new Io(this)}f(fr,zt),fr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},fr.prototype.close=function(){vu(this.g)},fr.prototype.o=function(y){var A=this.g;if(typeof y=="string"){var M={};M.__data__=y,y=M}else this.v&&(M={},M.__data__=Ze(y),y=M);A.i.push(new g0(A.Ya++,y)),A.I==3&&Pa(A)},fr.prototype.N=function(){this.g.l=null,delete this.j,vu(this.g),delete this.g,fr.Z.N.call(this)};function gp(y){et.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var A=y.__sm__;if(A){e:{for(const M in A){y=M;break e}y=void 0}(this.i=y)&&(y=this.i,A=A!==null&&y in A?A[y]:void 0),this.data=A}else this.data=y}f(gp,et);function xp(){tt.call(this),this.status=1}f(xp,tt);function Io(y){this.g=y}f(Io,pp),Io.prototype.ra=function(){Xt(this.g,"a")},Io.prototype.qa=function(y){Xt(this.g,new gp(y))},Io.prototype.pa=function(y){Xt(this.g,new xp)},Io.prototype.oa=function(){Xt(this.g,"b")},Nu.prototype.createWebChannel=Nu.prototype.g,fr.prototype.send=fr.prototype.o,fr.prototype.open=fr.prototype.m,fr.prototype.close=fr.prototype.close,u5=function(){return new Nu},c5=function(){return Dt()},l5=gt,u1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ai.NO_ERROR=0,ai.TIMEOUT=8,ai.HTTP_ERROR=6,nx=ai,oi.COMPLETE="complete",o5=oi,pe.EventType=He,He.OPEN="a",He.CLOSE="b",He.ERROR="c",He.MESSAGE="d",zt.prototype.listen=zt.prototype.J,jm=pe,rn.prototype.listenOnce=rn.prototype.K,rn.prototype.getLastError=rn.prototype.Ha,rn.prototype.getLastErrorCode=rn.prototype.ya,rn.prototype.getStatus=rn.prototype.ca,rn.prototype.getResponseJson=rn.prototype.La,rn.prototype.getResponseText=rn.prototype.la,rn.prototype.send=rn.prototype.ea,rn.prototype.setWithCredentials=rn.prototype.Fa,a5=rn}).apply(typeof Cg<"u"?Cg:typeof self<"u"?self:typeof window<"u"?window:{});const pT="@firebase/firestore",gT="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ls.UNAUTHENTICATED=new ls(null),ls.GOOGLE_CREDENTIALS=new ls("google-credentials-uid"),ls.FIRST_PARTY=new ls("first-party-uid"),ls.MOCK_USER=new ls("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uh="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tl=new k_("@firebase/firestore");function Zu(){return Tl.logLevel}function dte(t){Tl.setLogLevel(t)}function Be(t,...e){if(Tl.logLevel<=It.DEBUG){const n=e.map(V_);Tl.debug(`Firestore (${uh}): ${t}`,...n)}}function mo(t,...e){if(Tl.logLevel<=It.ERROR){const n=e.map(V_);Tl.error(`Firestore (${uh}): ${t}`,...n)}}function hf(t,...e){if(Tl.logLevel<=It.WARN){const n=e.map(V_);Tl.warn(`Firestore (${uh}): ${t}`,...n)}}function V_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,d5(t,r,n)}function d5(t,e,n){let r=`FIRESTORE (${uh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw mo(r),new Error(r)}function Yt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||d5(e,i,r)}function vt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Me extends Sa{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hte{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mte{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(ls.UNAUTHENTICATED)))}shutdown(){}}class fte{constructor(e){this.t=e,this.currentUser=ls.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Yt(this.o===void 0,42304);let r=this.i;const i=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let a=new to;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new to,e.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const d=a;e.enqueueRetryable((async()=>{await d.promise,await i(this.currentUser)}))},c=d=>{Be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((d=>c(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(Be("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new to)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Yt(typeof r.accessToken=="string",31837,{l:r}),new hte(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Yt(e===null||typeof e=="string",2055,{h:e}),new ls(e)}}class pte{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ls.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class gte{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new pte(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(ls.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class xT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xte{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Rs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Yt(this.o===void 0,3512);const r=a=>{a.error!=null&&Be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,Be("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{Be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new xT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Yt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new xT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yte(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=yte(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function Rt(t,e){return t<e?-1:t>e?1:0}function d1(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return Rb(i)===Rb(a)?Rt(i,a):Rb(i)?1:-1}return Rt(t.length,e.length)}const vte=55296,bte=57343;function Rb(t){const e=t.charCodeAt(0);return e>=vte&&e<=bte}function Ud(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="__name__";class Zi{constructor(e,n,r){n===void 0?n=0:n>e.length&&ot(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ot(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Zi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Zi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Zi.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return Rt(e.length,n.length)}static compareSegments(e,n){const r=Zi.isNumericId(e),i=Zi.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Zi.extractNumericId(e).compare(Zi.extractNumericId(n)):d1(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xl.fromString(e.substring(4,e.length-2))}}class ln extends Zi{construct(e,n,r){return new ln(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Me(xe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new ln(n)}static emptyPath(){return new ln([])}}const wte=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vr extends Zi{construct(e,n,r){return new vr(e,n,r)}static isValidIdentifier(e){return wte.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===yT}static keyField(){return new vr([yT])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Me(xe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new Me(xe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Me(xe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(r+=c,i++):(a(),i++)}if(a(),o)throw new Me(xe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vr(n)}static emptyPath(){return new vr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e){this.path=e}static fromPath(e){return new nt(ln.fromString(e))}static fromName(e){return new nt(ln.fromString(e).popFirst(5))}static empty(){return new nt(ln.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ln.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ln.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new nt(new ln(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h5(t,e,n){if(!n)throw new Me(xe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function jte(t,e,n,r){if(e===!0&&r===!0)throw new Me(xe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function vT(t){if(!nt.isDocumentKey(t))throw new Me(xe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function bT(t){if(nt.isDocumentKey(t))throw new Me(xe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function m5(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Uy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ot(12329,{type:typeof t})}function ba(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Me(xe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Uy(t);throw new Me(xe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Gf(t,e){if(!m5(t))throw new Me(xe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new Me(xe.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT=-62135596800,jT=1e6;class mn{static now(){return mn.fromMillis(Date.now())}static fromDate(e){return mn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*jT);return new mn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Me(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Me(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<wT)throw new Me(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Me(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/jT}_compareTo(e){return this.seconds===e.seconds?Rt(this.nanoseconds,e.nanoseconds):Rt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Gf(e,mn._jsonSchema))return new mn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-wT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mn._jsonSchemaVersion="firestore/timestamp/1.0",mn._jsonSchema={type:Qn("string",mn._jsonSchemaVersion),seconds:Qn("number"),nanoseconds:Qn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{static fromTimestamp(e){return new pt(e)}static min(){return new pt(new mn(0,0))}static max(){return new pt(new mn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mf=-1;function _te(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=pt.fromTimestamp(r===1e9?new mn(n+1,0):new mn(n,r));return new Al(i,nt.empty(),e)}function Nte(t){return new Al(t.readTime,t.key,mf)}class Al{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Al(pt.min(),nt.empty(),mf)}static max(){return new Al(pt.max(),nt.empty(),mf)}}function Ste(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=nt.comparator(t.documentKey,e.documentKey),n!==0?n:Rt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ete="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Cte{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dh(t){if(t.code!==xe.FAILED_PRECONDITION||t.message!==Ete)throw t;Be("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ot(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ve(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ve?n:ve.resolve(n)}catch(n){return ve.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ve.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ve.reject(n)}static resolve(e){return new ve(((n,r)=>{n(e)}))}static reject(e){return new ve(((n,r)=>{r(e)}))}static waitFor(e){return new ve(((n,r)=>{let i=0,a=0,o=!1;e.forEach((c=>{++i,c.next((()=>{++a,o&&a===i&&n()}),(d=>r(d)))})),o=!0,a===i&&n()}))}static or(e){let n=ve.resolve(!1);for(const r of e)n=n.next((i=>i?ve.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new ve(((r,i)=>{const a=e.length,o=new Array(a);let c=0;for(let d=0;d<a;d++){const h=d;n(e[h]).next((m=>{o[h]=m,++c,c===a&&r(o)}),(m=>i(m)))}}))}static doWhile(e,n){return new ve(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function kte(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function hh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}zy.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_=-1;function By(t){return t==null}function Bx(t){return t===0&&1/t==-1/0}function Tte(t){return typeof t=="number"&&Number.isInteger(t)&&!Bx(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f5="";function Ate(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=_T(e)),e=Ite(t.get(n),e);return _T(e)}function Ite(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case f5:n+="";break;default:n+=a}}return n}function _T(t){return t+f5+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Bl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function p5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,n){this.comparator=e,this.root=n||yr.EMPTY}insert(e,n){return new En(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,yr.BLACK,null,null))}remove(e){return new En(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kg(this.root,e,this.comparator,!1)}getReverseIterator(){return new kg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kg(this.root,e,this.comparator,!0)}}class kg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yr{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??yr.RED,this.left=i??yr.EMPTY,this.right=a??yr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new yr(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return yr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return yr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ot(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ot(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ot(27949);return e+(this.isRed()?0:1)}}yr.EMPTY=null,yr.RED=!0,yr.BLACK=!1;yr.EMPTY=new class{constructor(){this.size=0}get key(){throw ot(57766)}get value(){throw ot(16141)}get color(){throw ot(16727)}get left(){throw ot(29726)}get right(){throw ot(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new yr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.comparator=e,this.data=new En(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ST(this.data.getIterator())}getIteratorFrom(e){return new ST(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof rr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new rr(this.comparator);return n.data=e,n}}class ST{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e){this.fields=e,e.sort(vr.comparator)}static empty(){return new Ps([])}unionWith(e){let n=new rr(vr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ps(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ud(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new g5("Invalid base64 string: "+a):a}})(e);return new br(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a})(e);return new br(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Rt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}br.EMPTY_BYTE_STRING=new br("");const Rte=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Il(t){if(Yt(!!t,39018),typeof t=="string"){let e=0;const n=Rte.exec(t);if(Yt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ln(t.seconds),nanos:Ln(t.nanos)}}function Ln(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Rl(t){return typeof t=="string"?br.fromBase64String(t):br.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5="server_timestamp",y5="__type__",v5="__previous_value__",b5="__local_write_time__";function B_(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[y5])==null?void 0:r.stringValue)===x5}function $y(t){const e=t.mapValue.fields[v5];return B_(e)?$y(e):e}function ff(t){const e=Il(t.mapValue.fields[b5].timestampValue);return new mn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pte{constructor(e,n,r,i,a,o,c,d,h,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=h,this.isUsingEmulator=m}}const $x="(default)";class pf{constructor(e,n){this.projectId=e,this.database=n||$x}static empty(){return new pf("","")}get isDefaultDatabase(){return this.database===$x}isEqual(e){return e instanceof pf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w5="__type__",Dte="__max__",Tg={mapValue:{}},j5="__vector__",qx="value";function Pl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?B_(t)?4:Ote(t)?9007199254740991:Mte(t)?10:11:ot(28295,{value:t})}function wa(t,e){if(t===e)return!0;const n=Pl(t);if(n!==Pl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ff(t).isEqual(ff(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=Il(i.timestampValue),c=Il(a.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return Rl(i.bytesValue).isEqual(Rl(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return Ln(i.geoPointValue.latitude)===Ln(a.geoPointValue.latitude)&&Ln(i.geoPointValue.longitude)===Ln(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return Ln(i.integerValue)===Ln(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=Ln(i.doubleValue),c=Ln(a.doubleValue);return o===c?Bx(o)===Bx(c):isNaN(o)&&isNaN(c)}return!1})(t,e);case 9:return Ud(t.arrayValue.values||[],e.arrayValue.values||[],wa);case 10:case 11:return(function(i,a){const o=i.mapValue.fields||{},c=a.mapValue.fields||{};if(NT(o)!==NT(c))return!1;for(const d in o)if(o.hasOwnProperty(d)&&(c[d]===void 0||!wa(o[d],c[d])))return!1;return!0})(t,e);default:return ot(52216,{left:t})}}function gf(t,e){return(t.values||[]).find((n=>wa(n,e)))!==void 0}function zd(t,e){if(t===e)return 0;const n=Pl(t),r=Pl(e);if(n!==r)return Rt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Rt(t.booleanValue,e.booleanValue);case 2:return(function(a,o){const c=Ln(a.integerValue||a.doubleValue),d=Ln(o.integerValue||o.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1})(t,e);case 3:return ET(t.timestampValue,e.timestampValue);case 4:return ET(ff(t),ff(e));case 5:return d1(t.stringValue,e.stringValue);case 6:return(function(a,o){const c=Rl(a),d=Rl(o);return c.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(a,o){const c=a.split("/"),d=o.split("/");for(let h=0;h<c.length&&h<d.length;h++){const m=Rt(c[h],d[h]);if(m!==0)return m}return Rt(c.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,o){const c=Rt(Ln(a.latitude),Ln(o.latitude));return c!==0?c:Rt(Ln(a.longitude),Ln(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return CT(t.arrayValue,e.arrayValue);case 10:return(function(a,o){var g,x,N,w;const c=a.fields||{},d=o.fields||{},h=(g=c[qx])==null?void 0:g.arrayValue,m=(x=d[qx])==null?void 0:x.arrayValue,f=Rt(((N=h==null?void 0:h.values)==null?void 0:N.length)||0,((w=m==null?void 0:m.values)==null?void 0:w.length)||0);return f!==0?f:CT(h,m)})(t.mapValue,e.mapValue);case 11:return(function(a,o){if(a===Tg.mapValue&&o===Tg.mapValue)return 0;if(a===Tg.mapValue)return 1;if(o===Tg.mapValue)return-1;const c=a.fields||{},d=Object.keys(c),h=o.fields||{},m=Object.keys(h);d.sort(),m.sort();for(let f=0;f<d.length&&f<m.length;++f){const g=d1(d[f],m[f]);if(g!==0)return g;const x=zd(c[d[f]],h[m[f]]);if(x!==0)return x}return Rt(d.length,m.length)})(t.mapValue,e.mapValue);default:throw ot(23264,{he:n})}}function ET(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Rt(t,e);const n=Il(t),r=Il(e),i=Rt(n.seconds,r.seconds);return i!==0?i:Rt(n.nanos,r.nanos)}function CT(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=zd(n[i],r[i]);if(a)return a}return Rt(n.length,r.length)}function Bd(t){return h1(t)}function h1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Il(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Rl(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return nt.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=h1(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const o of r)a?a=!1:i+=",",i+=`${o}:${h1(n.fields[o])}`;return i+"}"})(t.mapValue):ot(61005,{value:t})}function rx(t){switch(Pl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$y(t);return e?16+rx(e):16;case 5:return 2*t.stringValue.length;case 6:return Rl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+rx(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Bl(r.fields,((a,o)=>{i+=a.length+rx(o)})),i})(t.mapValue);default:throw ot(13486,{value:t})}}function kT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function m1(t){return!!t&&"integerValue"in t}function $_(t){return!!t&&"arrayValue"in t}function TT(t){return!!t&&"nullValue"in t}function AT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function sx(t){return!!t&&"mapValue"in t}function Mte(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[w5])==null?void 0:r.stringValue)===j5}function Om(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Bl(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Om(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Om(t.arrayValue.values[n]);return e}return{...t}}function Ote(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Dte}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e){this.value=e}static empty(){return new us({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!sx(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Om(n)}setAll(e){let n=vr.emptyPath(),r={},i=[];e.forEach(((o,c)=>{if(!n.isImmediateParentOf(c)){const d=this.getFieldsMap(n);this.applyChanges(d,r,i),r={},i=[],n=c.popLast()}o?r[c.lastSegment()]=Om(o):i.push(c.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());sx(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return wa(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];sx(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Bl(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new us(Om(this.value))}}function _5(t){const e=[];return Bl(t.fields,((n,r)=>{const i=new vr([n]);if(sx(r)){const a=_5(r.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)})),new Ps(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e,n,r,i,a,o,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=c}static newInvalidDocument(e){return new Ir(e,0,pt.min(),pt.min(),pt.min(),us.empty(),0)}static newFoundDocument(e,n,r,i){return new Ir(e,1,n,pt.min(),r,i,0)}static newNoDocument(e,n){return new Ir(e,2,n,pt.min(),pt.min(),us.empty(),0)}static newUnknownDocument(e,n){return new Ir(e,3,n,pt.min(),pt.min(),us.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=us.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=us.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ir&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ir(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e,n){this.position=e,this.inclusive=n}}function IT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?r=nt.comparator(nt.fromName(o.referenceValue),n.key):r=zd(o,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function RT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!wa(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,n="asc"){this.field=e,this.dir=n}}function Lte(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{}class Gn extends N5{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Vte(e,n,r):n==="array-contains"?new Bte(e,r):n==="in"?new $te(e,r):n==="not-in"?new qte(e,r):n==="array-contains-any"?new Hte(e,r):new Gn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Ute(e,r):new zte(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(zd(n,this.value)):n!==null&&Pl(this.value)===Pl(n)&&this.matchesComparison(zd(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ot(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ki extends N5{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ki(e,n)}matches(e){return S5(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function S5(t){return t.op==="and"}function E5(t){return Fte(t)&&S5(t)}function Fte(t){for(const e of t.filters)if(e instanceof ki)return!1;return!0}function f1(t){if(t instanceof Gn)return t.field.canonicalString()+t.op.toString()+Bd(t.value);if(E5(t))return t.filters.map((e=>f1(e))).join(",");{const e=t.filters.map((n=>f1(n))).join(",");return`${t.op}(${e})`}}function C5(t,e){return t instanceof Gn?(function(r,i){return i instanceof Gn&&r.op===i.op&&r.field.isEqual(i.field)&&wa(r.value,i.value)})(t,e):t instanceof ki?(function(r,i){return i instanceof ki&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,o,c)=>a&&C5(o,i.filters[c])),!0):!1})(t,e):void ot(19439)}function k5(t){return t instanceof Gn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Bd(n.value)}`})(t):t instanceof ki?(function(n){return n.op.toString()+" {"+n.getFilters().map(k5).join(" ,")+"}"})(t):"Filter"}class Vte extends Gn{constructor(e,n,r){super(e,n,r),this.key=nt.fromName(r.referenceValue)}matches(e){const n=nt.comparator(e.key,this.key);return this.matchesComparison(n)}}class Ute extends Gn{constructor(e,n){super(e,"in",n),this.keys=T5("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class zte extends Gn{constructor(e,n){super(e,"not-in",n),this.keys=T5("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function T5(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>nt.fromName(r.referenceValue)))}class Bte extends Gn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return $_(n)&&gf(n.arrayValue,this.value)}}class $te extends Gn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&gf(this.value.arrayValue,n)}}class qte extends Gn{constructor(e,n){super(e,"not-in",n)}matches(e){if(gf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!gf(this.value.arrayValue,n)}}class Hte extends Gn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!$_(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>gf(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wte{constructor(e,n=null,r=[],i=[],a=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=c,this.Te=null}}function PT(t,e=null,n=[],r=[],i=null,a=null,o=null){return new Wte(t,e,n,r,i,a,o)}function q_(t){const e=vt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>f1(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),By(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Bd(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Bd(r))).join(",")),e.Te=n}return e.Te}function H_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Lte(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!C5(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!RT(t.startAt,e.startAt)&&RT(t.endAt,e.endAt)}function p1(t){return nt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,n=null,r=[],i=[],a=null,o="F",c=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=c,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Kte(t,e,n,r,i,a,o,c){return new mh(t,e,n,r,i,a,o,c)}function W_(t){return new mh(t)}function DT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function A5(t){return t.collectionGroup!==null}function Lm(t){const e=vt(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new rr(vr.comparator);return o.filters.forEach((d=>{d.getFlattenedFilters().forEach((h=>{h.isInequality()&&(c=c.add(h.field))}))})),c})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new xf(a,r))})),n.has(vr.keyField().canonicalString())||e.Ie.push(new xf(vr.keyField(),r))}return e.Ie}function ma(t){const e=vt(t);return e.Ee||(e.Ee=Gte(e,Lm(t))),e.Ee}function Gte(t,e){if(t.limitType==="F")return PT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new xf(i.field,a)}));const n=t.endAt?new Hx(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Hx(t.startAt.position,t.startAt.inclusive):null;return PT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function g1(t,e){const n=t.filters.concat([e]);return new mh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function x1(t,e,n){return new mh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function qy(t,e){return H_(ma(t),ma(e))&&t.limitType===e.limitType}function I5(t){return`${q_(ma(t))}|lt:${t.limitType}`}function ed(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>k5(i))).join(", ")}]`),By(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Bd(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Bd(i))).join(",")),`Target(${r})`})(ma(t))}; limitType=${t.limitType})`}function Hy(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):nt.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of Lm(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(o,c,d){const h=IT(o,c,d);return o.inclusive?h<=0:h<0})(r.startAt,Lm(r),i)||r.endAt&&!(function(o,c,d){const h=IT(o,c,d);return o.inclusive?h>=0:h>0})(r.endAt,Lm(r),i))})(t,e)}function Qte(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function R5(t){return(e,n)=>{let r=!1;for(const i of Lm(t)){const a=Yte(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function Yte(t,e,n){const r=t.field.isKeyField()?nt.comparator(e.key,n.key):(function(a,o,c){const d=o.data.field(a),h=c.data.field(a);return d!==null&&h!==null?zd(d,h):ot(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ot(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Bl(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return p5(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jte=new En(nt.comparator);function fo(){return Jte}const P5=new En(nt.comparator);function _m(...t){let e=P5;for(const n of t)e=e.insert(n.key,n);return e}function D5(t){let e=P5;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Nc(){return Fm()}function M5(){return Fm()}function Fm(){return new ou((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Xte=new En(nt.comparator),Zte=new rr(nt.comparator);function Pt(...t){let e=Zte;for(const n of t)e=e.add(n);return e}const ene=new rr(Rt);function tne(){return ene}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bx(e)?"-0":e}}function O5(t){return{integerValue:""+t}}function nne(t,e){return Tte(e)?O5(e):K_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(){this._=void 0}}function rne(t,e,n){return t instanceof Wx?(function(i,a){const o={fields:{[y5]:{stringValue:x5},[b5]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&B_(a)&&(a=$y(a)),a&&(o.fields[v5]=a),{mapValue:o}})(n,e):t instanceof yf?F5(t,e):t instanceof vf?V5(t,e):(function(i,a){const o=L5(i,a),c=MT(o)+MT(i.Ae);return m1(o)&&m1(i.Ae)?O5(c):K_(i.serializer,c)})(t,e)}function sne(t,e,n){return t instanceof yf?F5(t,e):t instanceof vf?V5(t,e):n}function L5(t,e){return t instanceof Kx?(function(r){return m1(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Wx extends Wy{}class yf extends Wy{constructor(e){super(),this.elements=e}}function F5(t,e){const n=U5(e);for(const r of t.elements)n.some((i=>wa(i,r)))||n.push(r);return{arrayValue:{values:n}}}class vf extends Wy{constructor(e){super(),this.elements=e}}function V5(t,e){let n=U5(e);for(const r of t.elements)n=n.filter((i=>!wa(i,r)));return{arrayValue:{values:n}}}class Kx extends Wy{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function MT(t){return Ln(t.integerValue||t.doubleValue)}function U5(t){return $_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function ine(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof yf&&i instanceof yf||r instanceof vf&&i instanceof vf?Ud(r.elements,i.elements,wa):r instanceof Kx&&i instanceof Kx?wa(r.Ae,i.Ae):r instanceof Wx&&i instanceof Wx})(t.transform,e.transform)}class ane{constructor(e,n){this.version=e,this.transformResults=n}}class ni{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ni}static exists(e){return new ni(void 0,e)}static updateTime(e){return new ni(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ix(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}let Ky=class{};function z5(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new G_(t.key,ni.none()):new Qf(t.key,t.data,ni.none());{const n=t.data,r=us.empty();let i=new rr(vr.comparator);for(let a of e.fields)if(!i.has(a)){let o=n.field(a);o===null&&a.length>1&&(a=a.popLast(),o=n.field(a)),o===null?r.delete(a):r.set(a,o),i=i.add(a)}return new $l(t.key,r,new Ps(i.toArray()),ni.none())}}function one(t,e,n){t instanceof Qf?(function(i,a,o){const c=i.value.clone(),d=LT(i.fieldTransforms,a,o.transformResults);c.setAll(d),a.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(t,e,n):t instanceof $l?(function(i,a,o){if(!ix(i.precondition,a))return void a.convertToUnknownDocument(o.version);const c=LT(i.fieldTransforms,a,o.transformResults),d=a.data;d.setAll(B5(i)),d.setAll(c),a.convertToFoundDocument(o.version,d).setHasCommittedMutations()})(t,e,n):(function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function Vm(t,e,n,r){return t instanceof Qf?(function(a,o,c,d){if(!ix(a.precondition,o))return c;const h=a.value.clone(),m=FT(a.fieldTransforms,d,o);return h.setAll(m),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof $l?(function(a,o,c,d){if(!ix(a.precondition,o))return c;const h=FT(a.fieldTransforms,d,o),m=o.data;return m.setAll(B5(a)),m.setAll(h),o.convertToFoundDocument(o.version,m).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((f=>f.field)))})(t,e,n,r):(function(a,o,c){return ix(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c})(t,e,n)}function lne(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=L5(r.transform,i||null);a!=null&&(n===null&&(n=us.empty()),n.set(r.field,a))}return n||null}function OT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ud(r,i,((a,o)=>ine(a,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Qf extends Ky{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class $l extends Ky{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function B5(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function LT(t,e,n){const r=new Map;Yt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],o=a.transform,c=e.data.field(a.field);r.set(a.field,sne(o,c,n[i]))}return r}function FT(t,e,n){const r=new Map;for(const i of t){const a=i.transform,o=n.data.field(i.field);r.set(i.field,rne(a,o,e))}return r}class G_ extends Ky{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cne extends Ky{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class une{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&one(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Vm(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Vm(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=M5();return this.mutations.forEach((i=>{const a=e.get(i.key),o=a.overlayedDocument;let c=this.applyToLocalView(o,a.mutatedFields);c=n.has(i.key)?null:c;const d=z5(o,c);d!==null&&r.set(i.key,d),o.isValidDocument()||o.convertToNoDocument(pt.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Pt())}isEqual(e){return this.batchId===e.batchId&&Ud(this.mutations,e.mutations,((n,r)=>OT(n,r)))&&Ud(this.baseMutations,e.baseMutations,((n,r)=>OT(n,r)))}}class Q_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Yt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return Xte})();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new Q_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dne=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hne{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hn,Ft;function mne(t){switch(t){case xe.OK:return ot(64938);case xe.CANCELLED:case xe.UNKNOWN:case xe.DEADLINE_EXCEEDED:case xe.RESOURCE_EXHAUSTED:case xe.INTERNAL:case xe.UNAVAILABLE:case xe.UNAUTHENTICATED:return!1;case xe.INVALID_ARGUMENT:case xe.NOT_FOUND:case xe.ALREADY_EXISTS:case xe.PERMISSION_DENIED:case xe.FAILED_PRECONDITION:case xe.ABORTED:case xe.OUT_OF_RANGE:case xe.UNIMPLEMENTED:case xe.DATA_LOSS:return!0;default:return ot(15467,{code:t})}}function $5(t){if(t===void 0)return mo("GRPC error has no .code"),xe.UNKNOWN;switch(t){case Hn.OK:return xe.OK;case Hn.CANCELLED:return xe.CANCELLED;case Hn.UNKNOWN:return xe.UNKNOWN;case Hn.DEADLINE_EXCEEDED:return xe.DEADLINE_EXCEEDED;case Hn.RESOURCE_EXHAUSTED:return xe.RESOURCE_EXHAUSTED;case Hn.INTERNAL:return xe.INTERNAL;case Hn.UNAVAILABLE:return xe.UNAVAILABLE;case Hn.UNAUTHENTICATED:return xe.UNAUTHENTICATED;case Hn.INVALID_ARGUMENT:return xe.INVALID_ARGUMENT;case Hn.NOT_FOUND:return xe.NOT_FOUND;case Hn.ALREADY_EXISTS:return xe.ALREADY_EXISTS;case Hn.PERMISSION_DENIED:return xe.PERMISSION_DENIED;case Hn.FAILED_PRECONDITION:return xe.FAILED_PRECONDITION;case Hn.ABORTED:return xe.ABORTED;case Hn.OUT_OF_RANGE:return xe.OUT_OF_RANGE;case Hn.UNIMPLEMENTED:return xe.UNIMPLEMENTED;case Hn.DATA_LOSS:return xe.DATA_LOSS;default:return ot(39323,{code:t})}}(Ft=Hn||(Hn={}))[Ft.OK=0]="OK",Ft[Ft.CANCELLED=1]="CANCELLED",Ft[Ft.UNKNOWN=2]="UNKNOWN",Ft[Ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ft[Ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ft[Ft.NOT_FOUND=5]="NOT_FOUND",Ft[Ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ft[Ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ft[Ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ft[Ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ft[Ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ft[Ft.ABORTED=10]="ABORTED",Ft[Ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ft[Ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ft[Ft.INTERNAL=13]="INTERNAL",Ft[Ft.UNAVAILABLE=14]="UNAVAILABLE",Ft[Ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fne(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pne=new xl([4294967295,4294967295],0);function VT(t){const e=fne().encode(t),n=new i5;return n.update(e),new Uint8Array(n.digest())}function UT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new xl([n,r],0),new xl([i,a],0)]}class Y_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Nm(`Invalid padding: ${n}`);if(r<0)throw new Nm(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Nm(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Nm(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=xl.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(xl.fromNumber(r)));return i.compare(pne)===1&&(i=new xl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=VT(e),[r,i]=UT(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new Y_(a,i,n);return r.forEach((c=>o.insert(c))),o}insert(e){if(this.ge===0)return;const n=VT(e),[r,i]=UT(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Nm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Yf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Gy(pt.min(),i,new En(Rt),fo(),Pt())}}class Yf{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Yf(r,n,Pt(),Pt(),Pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class q5{constructor(e,n){this.targetId=e,this.Ce=n}}class H5{constructor(e,n,r=br.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class zT{constructor(){this.ve=0,this.Fe=BT(),this.Me=br.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pt(),n=Pt(),r=Pt();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ot(38017,{changeType:a})}})),new Yf(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=BT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Yt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class gne{constructor(e){this.Ge=e,this.ze=new Map,this.je=fo(),this.Je=Ag(),this.He=Ag(),this.Ye=new En(Rt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ot(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(p1(a))if(r===0){const o=new nt(a.path);this.et(n,o,Ir.newNoDocument(o,pt.min()))}else Yt(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const c=this.ut(e),d=c?this.ct(c,e,o):1;if(d!==0){this.it(n);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let o,c;try{o=Rl(r).toUint8Array()}catch(d){if(d instanceof g5)return hf("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new Y_(o,i,a)}catch(d){return hf(d instanceof Nm?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const o=this.Ge.ht(),c=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,o)=>{const c=this.ot(o);if(c){if(a.current&&p1(c.target)){const d=new nt(c.target.path);this.It(d).has(o)||this.Et(o,d)||this.et(o,d,Ir.newNoDocument(d,e))}a.Be&&(n.set(o,a.ke()),a.qe())}}));let r=Pt();this.He.forEach(((a,o)=>{let c=!0;o.forEachWhile((d=>{const h=this.ot(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(a))})),this.je.forEach(((a,o)=>o.setReadTime(e)));const i=new Gy(e,n,this.Ye,this.je,r);return this.je=fo(),this.Je=Ag(),this.He=Ag(),this.Ye=new En(Rt),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new zT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new rr(Rt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new rr(Rt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Be("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new zT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ag(){return new En(nt.comparator)}function BT(){return new En(nt.comparator)}const xne={asc:"ASCENDING",desc:"DESCENDING"},yne={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vne={and:"AND",or:"OR"};class bne{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function y1(t,e){return t.useProto3Json||By(e)?e:{value:e}}function Gx(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function W5(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function wne(t,e){return Gx(t,e.toTimestamp())}function fa(t){return Yt(!!t,49232),pt.fromTimestamp((function(n){const r=Il(n);return new mn(r.seconds,r.nanos)})(t))}function J_(t,e){return v1(t,e).canonicalString()}function v1(t,e){const n=(function(i){return new ln(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function K5(t){const e=ln.fromString(t);return Yt(X5(e),10190,{key:e.toString()}),e}function b1(t,e){return J_(t.databaseId,e.path)}function Pb(t,e){const n=K5(e);if(n.get(1)!==t.databaseId.projectId)throw new Me(xe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Me(xe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new nt(Q5(n))}function G5(t,e){return J_(t.databaseId,e)}function jne(t){const e=K5(t);return e.length===4?ln.emptyPath():Q5(e)}function w1(t){return new ln(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Q5(t){return Yt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function $T(t,e,n){return{name:b1(t,e),fields:n.value.mapValue.fields}}function _ne(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:ot(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(h,m){return h.useProto3Json?(Yt(m===void 0||typeof m=="string",58123),br.fromBase64String(m||"")):(Yt(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),br.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&(function(h){const m=h.code===void 0?xe.UNKNOWN:$5(h.code);return new Me(m,h.message||"")})(o);n=new H5(r,i,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Pb(t,r.document.name),a=fa(r.document.updateTime),o=r.document.createTime?fa(r.document.createTime):pt.min(),c=new us({mapValue:{fields:r.document.fields}}),d=Ir.newFoundDocument(i,a,o,c),h=r.targetIds||[],m=r.removedTargetIds||[];n=new ax(h,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Pb(t,r.document),a=r.readTime?fa(r.readTime):pt.min(),o=Ir.newNoDocument(i,a),c=r.removedTargetIds||[];n=new ax([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Pb(t,r.document),a=r.removedTargetIds||[];n=new ax([],a,i,null)}else{if(!("filter"in e))return ot(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,o=new hne(i,a),c=r.targetId;n=new q5(c,o)}}return n}function Nne(t,e){let n;if(e instanceof Qf)n={update:$T(t,e.key,e.value)};else if(e instanceof G_)n={delete:b1(t,e.key)};else if(e instanceof $l)n={update:$T(t,e.key,e.data),updateMask:Pne(e.fieldMask)};else{if(!(e instanceof cne))return ot(16599,{Vt:e.type});n={verify:b1(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,o){const c=o.transform;if(c instanceof Wx)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof yf)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof vf)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Kx)return{fieldPath:o.field.canonicalString(),increment:c.Ae};throw ot(20930,{transform:o.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:wne(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ot(27497)})(t,e.precondition)),n}function Sne(t,e){return t&&t.length>0?(Yt(e!==void 0,14353),t.map((n=>(function(i,a){let o=i.updateTime?fa(i.updateTime):fa(a);return o.isEqual(pt.min())&&(o=fa(a)),new ane(o,i.transformResults||[])})(n,e)))):[]}function Ene(t,e){return{documents:[G5(t,e.path)]}}function Cne(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=G5(t,i);const a=(function(h){if(h.length!==0)return J5(ki.create(h,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const o=(function(h){if(h.length!==0)return h.map((m=>(function(g){return{field:td(g.field),direction:Ane(g.dir)}})(m)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const c=y1(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:i}}function kne(t){let e=jne(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Yt(r===1,65062);const m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let a=[];n.where&&(a=(function(f){const g=Y5(f);return g instanceof ki&&E5(g)?g.getFilters():[g]})(n.where));let o=[];n.orderBy&&(o=(function(f){return f.map((g=>(function(N){return new xf(nd(N.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(g)))})(n.orderBy));let c=null;n.limit&&(c=(function(f){let g;return g=typeof f=="object"?f.value:f,By(g)?null:g})(n.limit));let d=null;n.startAt&&(d=(function(f){const g=!!f.before,x=f.values||[];return new Hx(x,g)})(n.startAt));let h=null;return n.endAt&&(h=(function(f){const g=!f.before,x=f.values||[];return new Hx(x,g)})(n.endAt)),Kte(e,i,o,a,c,"F",d,h)}function Tne(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ot(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Y5(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=nd(n.unaryFilter.field);return Gn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=nd(n.unaryFilter.field);return Gn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=nd(n.unaryFilter.field);return Gn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=nd(n.unaryFilter.field);return Gn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ot(61313);default:return ot(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Gn.create(nd(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ot(58110);default:return ot(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ki.create(n.compositeFilter.filters.map((r=>Y5(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ot(1026)}})(n.compositeFilter.op))})(t):ot(30097,{filter:t})}function Ane(t){return xne[t]}function Ine(t){return yne[t]}function Rne(t){return vne[t]}function td(t){return{fieldPath:t.canonicalString()}}function nd(t){return vr.fromServerFormat(t.fieldPath)}function J5(t){return t instanceof Gn?(function(n){if(n.op==="=="){if(AT(n.value))return{unaryFilter:{field:td(n.field),op:"IS_NAN"}};if(TT(n.value))return{unaryFilter:{field:td(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(AT(n.value))return{unaryFilter:{field:td(n.field),op:"IS_NOT_NAN"}};if(TT(n.value))return{unaryFilter:{field:td(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:td(n.field),op:Ine(n.op),value:n.value}}})(t):t instanceof ki?(function(n){const r=n.getFilters().map((i=>J5(i)));return r.length===1?r[0]:{compositeFilter:{op:Rne(n.op),filters:r}}})(t):ot(54877,{filter:t})}function Pne(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function X5(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e,n,r,i,a=pt.min(),o=pt.min(),c=br.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new ml(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ml(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ml(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ml(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dne{constructor(e){this.yt=e}}function Mne(t){const e=kne({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?x1(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class One{constructor(){this.Cn=new Lne}addToCollectionParentIndex(e,n){return this.Cn.add(n),ve.resolve()}getCollectionParents(e,n){return ve.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ve.resolve()}deleteFieldIndex(e,n){return ve.resolve()}deleteAllFieldIndexes(e){return ve.resolve()}createTargetIndexes(e,n){return ve.resolve()}getDocumentsMatchingTarget(e,n){return ve.resolve(null)}getIndexType(e,n){return ve.resolve(0)}getFieldIndexes(e,n){return ve.resolve([])}getNextCollectionGroupToUpdate(e){return ve.resolve(null)}getMinOffset(e,n){return ve.resolve(Al.min())}getMinOffsetFromCollectionGroup(e,n){return ve.resolve(Al.min())}updateCollectionGroup(e,n,r){return ve.resolve()}updateIndexEntries(e,n){return ve.resolve()}}class Lne{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new rr(ln.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new rr(ln.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Z5=41943040;class cs{static withCacheSize(e){return new cs(e,cs.DEFAULT_COLLECTION_PERCENTILE,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cs.DEFAULT_COLLECTION_PERCENTILE=10,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cs.DEFAULT=new cs(Z5,cs.DEFAULT_COLLECTION_PERCENTILE,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cs.DISABLED=new cs(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new $d(0)}static cr(){return new $d(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="LruGarbageCollector",e6=1048576;function WT([t,e],[n,r]){const i=Rt(t,n);return i===0?Rt(e,r):i}class Fne{constructor(e){this.Ir=e,this.buffer=new rr(WT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();WT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Vne{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Be(HT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){hh(n)?Be(HT,"Ignoring IndexedDB error during garbage collection: ",n):await dh(n)}await this.Vr(3e5)}))}}class Une{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ve.resolve(zy.ce);const r=new Fne(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Be("LruGarbageCollector","Garbage collection skipped; disabled"),ve.resolve(qT)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Be("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,o,c,d,h;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((f=>(f>this.params.maximumSequenceNumbersToCollect?(Be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i)))).next((f=>(r=f,c=Date.now(),this.removeTargets(e,r,n)))).next((f=>(a=f,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((f=>(h=Date.now(),Zu()<=It.DEBUG&&Be("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-m}ms
	Determined least recently used ${i} in `+(c-o)+`ms
	Removed ${a} targets in `+(d-c)+`ms
	Removed ${f} documents in `+(h-d)+`ms
Total Duration: ${h-m}ms`),ve.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:f}))))}}function zne(t,e){return new Une(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bne{constructor(){this.changes=new ou((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ir.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ve.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ne{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qne{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Vm(r.mutation,i,Ps.empty(),mn.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Pt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Pt()){const i=Nc();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let o=_m();return a.forEach(((c,d)=>{o=o.insert(c,d.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const r=Nc();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Pt())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((o,c)=>{n.set(o,c)}))}))}computeViews(e,n,r,i){let a=fo();const o=Fm(),c=(function(){return Fm()})();return n.forEach(((d,h)=>{const m=r.get(h.key);i.has(h.key)&&(m===void 0||m.mutation instanceof $l)?a=a.insert(h.key,h):m!==void 0?(o.set(h.key,m.mutation.getFieldMask()),Vm(m.mutation,h,m.mutation.getFieldMask(),mn.now())):o.set(h.key,Ps.empty())})),this.recalculateAndSaveOverlays(e,a).next((d=>(d.forEach(((h,m)=>o.set(h,m))),n.forEach(((h,m)=>c.set(h,new $ne(m,o.get(h)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=Fm();let i=new En(((o,c)=>o-c)),a=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const c of o)c.keys().forEach((d=>{const h=n.get(d);if(h===null)return;let m=r.get(d)||Ps.empty();m=c.applyToLocalView(h,m),r.set(d,m);const f=(i.get(c.batchId)||Pt()).add(d);i=i.insert(c.batchId,f)}))})).next((()=>{const o=[],c=i.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),h=d.key,m=d.value,f=M5();m.forEach((g=>{if(!a.has(g)){const x=z5(n.get(g),r.get(g));x!==null&&f.set(g,x),a=a.add(g)}})),o.push(this.documentOverlayCache.saveOverlays(e,h,f))}return ve.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(o){return nt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):A5(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):ve.resolve(Nc());let c=mf,d=a;return o.next((h=>ve.forEach(h,((m,f)=>(c<f.largestBatchId&&(c=f.largestBatchId),a.get(m)?ve.resolve():this.remoteDocumentCache.getEntry(e,m).next((g=>{d=d.insert(m,g)}))))).next((()=>this.populateOverlays(e,h,a))).next((()=>this.computeViews(e,d,h,Pt()))).next((m=>({batchId:c,changes:D5(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new nt(n)).next((r=>{let i=_m();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let o=_m();return this.indexManager.getCollectionParents(e,a).next((c=>ve.forEach(c,(d=>{const h=(function(f,g){return new mh(g,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)})(n,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next((m=>{m.forEach(((f,g)=>{o=o.insert(f,g)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((o=>{a.forEach(((d,h)=>{const m=h.getKey();o.get(m)===null&&(o=o.insert(m,Ir.newInvalidDocument(m)))}));let c=_m();return o.forEach(((d,h)=>{const m=a.get(d);m!==void 0&&Vm(m.mutation,h,Ps.empty(),mn.now()),Hy(n,h)&&(c=c.insert(d,h))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hne{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ve.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:fa(i.createTime)}})(n)),ve.resolve()}getNamedQuery(e,n){return ve.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:Mne(i.bundledQuery),readTime:fa(i.readTime)}})(n)),ve.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wne{constructor(){this.overlays=new En(nt.comparator),this.qr=new Map}getOverlay(e,n){return ve.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Nc();return ve.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.St(e,n,a)})),ve.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),ve.resolve()}getOverlaysForCollection(e,n,r){const i=Nc(),a=n.length+1,o=new nt(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const d=c.getNext().value,h=d.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===a&&d.largestBatchId>r&&i.set(d.getKey(),d)}return ve.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new En(((h,m)=>h-m));const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let m=a.get(h.largestBatchId);m===null&&(m=Nc(),a=a.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}const c=Nc(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((h,m)=>c.set(h,m))),!(c.size()>=i)););return ve.resolve(c)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new dne(n,r));let a=this.qr.get(n);a===void 0&&(a=Pt(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kne{constructor(){this.sessionToken=br.EMPTY_BYTE_STRING}getSessionToken(e){return ve.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ve.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(){this.Qr=new rr(ur.$r),this.Ur=new rr(ur.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new ur(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new ur(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new nt(new ln([])),r=new ur(n,e),i=new ur(n,e+1),a=[];return this.Ur.forEachInRange([r,i],(o=>{this.Gr(o),a.push(o.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new nt(new ln([])),r=new ur(n,e),i=new ur(n,e+1);let a=Pt();return this.Ur.forEachInRange([r,i],(o=>{a=a.add(o.key)})),a}containsKey(e){const n=new ur(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ur{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return nt.comparator(e.key,n.key)||Rt(e.Yr,n.Yr)}static Kr(e,n){return Rt(e.Yr,n.Yr)||nt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gne{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new rr(ur.$r)}checkEmpty(e){return ve.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new une(a,n,r,i);this.mutationQueue.push(o);for(const c of i)this.Zr=this.Zr.add(new ur(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return ve.resolve(o)}lookupMutationBatch(e,n){return ve.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return ve.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ve.resolve(this.mutationQueue.length===0?z_:this.tr-1)}getAllMutationBatches(e){return ve.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ur(n,0),i=new ur(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(o=>{const c=this.Xr(o.Yr);a.push(c)})),ve.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new rr(Rt);return n.forEach((i=>{const a=new ur(i,0),o=new ur(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,o],(c=>{r=r.add(c.Yr)}))})),ve.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;nt.isDocumentKey(a)||(a=a.child(""));const o=new ur(new nt(a),0);let c=new rr(Rt);return this.Zr.forEachWhile((d=>{const h=d.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(c=c.add(d.Yr)),!0)}),o),ve.resolve(this.ti(c))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Yt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ve.forEach(n.mutations,(i=>{const a=new ur(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new ur(n,0),i=this.Zr.firstAfterOrEqual(r);return ve.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ve.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qne{constructor(e){this.ri=e,this.docs=(function(){return new En(nt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ve.resolve(r?r.document.mutableCopy():Ir.newInvalidDocument(n))}getEntries(e,n){let r=fo();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Ir.newInvalidDocument(i))})),ve.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=fo();const o=n.path,c=new nt(o.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:h,value:{document:m}}=d.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||Ste(Nte(m),r)<=0||(i.has(m.key)||Hy(n,m))&&(a=a.insert(m.key,m.mutableCopy()))}return ve.resolve(a)}getAllFromCollectionGroup(e,n,r,i){ot(9500)}ii(e,n){return ve.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new Yne(this)}getSize(e){return ve.resolve(this.size)}}class Yne extends Bne{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),ve.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jne{constructor(e){this.persistence=e,this.si=new ou((n=>q_(n)),H_),this.lastRemoteSnapshotVersion=pt.min(),this.highestTargetId=0,this.oi=0,this._i=new X_,this.targetCount=0,this.ai=$d.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),ve.resolve()}getLastRemoteSnapshotVersion(e){return ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ve.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ve.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ve.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new $d(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ve.resolve()}updateTargetData(e,n){return this.Pr(n),ve.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ve.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach(((o,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(o),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),ve.waitFor(a).next((()=>i))}getTargetCount(e){return ve.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ve.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ve.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((o=>{a.push(i.markPotentiallyOrphaned(e,o))})),ve.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ve.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ve.resolve(r)}containsKey(e,n){return ve.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(e,n){this.ui={},this.overlays={},this.ci=new zy(0),this.li=!1,this.li=!0,this.hi=new Kne,this.referenceDelegate=e(this),this.Pi=new Jne(this),this.indexManager=new One,this.remoteDocumentCache=(function(i){return new Qne(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Dne(n),this.Ii=new Hne(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Wne,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new Gne(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Be("MemoryPersistence","Starting transaction:",e);const i=new Xne(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,n){return ve.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class Xne extends Cte{constructor(e){super(),this.currentSequenceNumber=e}}class Z_{constructor(e){this.persistence=e,this.Ri=new X_,this.Vi=null}static mi(e){return new Z_(e)}get fi(){if(this.Vi)return this.Vi;throw ot(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ve.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ve.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ve.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ve.forEach(this.fi,(r=>{const i=nt.fromPath(r);return this.gi(e,i).next((a=>{a||n.removeEntry(i,pt.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ve.or([()=>ve.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Qx{constructor(e,n){this.persistence=e,this.pi=new ou((r=>Ate(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=zne(this,n)}static mi(e,n){return new Qx(e,n)}Ei(){}di(e){return ve.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ve.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?ve.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(o=>this.br(e,o,n).next((c=>{c||(r++,a.removeEntry(o,pt.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ve.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ve.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ve.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ve.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=rx(e.data.value)),n}br(e,n,r){return ve.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return ve.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Pt(),i=Pt();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new eN(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zne{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ere{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return kJ()?8:kte(Dr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next((o=>{a.result=o})).next((()=>{if(!a.result)return this.ws(e,n,i,r).next((o=>{a.result=o}))})).next((()=>{if(a.result)return;const o=new Zne;return this.Ss(e,n,o).next((c=>{if(a.result=c,this.Vs)return this.bs(e,n,o,c.size)}))})).next((()=>a.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Zu()<=It.DEBUG&&Be("QueryEngine","SDK will not create cache indexes for query:",ed(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ve.resolve()):(Zu()<=It.DEBUG&&Be("QueryEngine","Query:",ed(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Zu()<=It.DEBUG&&Be("QueryEngine","The SDK decides to create cache indexes for query:",ed(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ma(n))):ve.resolve())}ys(e,n){if(DT(n))return ve.resolve(null);let r=ma(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=x1(n,null,"F"),r=ma(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const o=Pt(...a);return this.ps.getDocuments(e,o).next((c=>this.indexManager.getMinOffset(e,r).next((d=>{const h=this.Ds(n,c);return this.Cs(n,h,o,d.readTime)?this.ys(e,x1(n,null,"F")):this.vs(e,h,n,d)}))))})))))}ws(e,n,r,i){return DT(n)||i.isEqual(pt.min())?ve.resolve(null):this.ps.getDocuments(e,r).next((a=>{const o=this.Ds(n,a);return this.Cs(n,o,r,i)?ve.resolve(null):(Zu()<=It.DEBUG&&Be("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ed(n)),this.vs(e,o,n,_te(i,mf)).next((c=>c)))}))}Ds(e,n){let r=new rr(R5(e));return n.forEach(((i,a)=>{Hy(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return Zu()<=It.DEBUG&&Be("QueryEngine","Using full collection scan to execute query:",ed(n)),this.ps.getDocumentsMatchingQuery(e,n,Al.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((o=>{a=a.insert(o.key,o)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN="LocalStore",tre=3e8;class nre{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new En(Rt),this.xs=new ou((a=>q_(a)),H_),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qne(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function rre(t,e,n,r){return new nre(t,e,n,r)}async function n6(t,e){const n=vt(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const o=[],c=[];let d=Pt();for(const h of i){o.push(h.batchId);for(const m of h.mutations)d=d.add(m.key)}for(const h of a){c.push(h.batchId);for(const m of h.mutations)d=d.add(m.key)}return n.localDocuments.getDocuments(r,d).next((h=>({Ls:h,removedBatchIds:o,addedBatchIds:c})))}))}))}function sre(t,e){const n=vt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,d,h,m){const f=h.batch,g=f.keys();let x=ve.resolve();return g.forEach((N=>{x=x.next((()=>m.getEntry(d,N))).next((w=>{const j=h.docVersions.get(N);Yt(j!==null,48541),w.version.compareTo(j)<0&&(f.applyToRemoteDocument(w,h),w.isValidDocument()&&(w.setReadTime(h.commitVersion),m.addEntry(w)))}))})),x.next((()=>c.mutationQueue.removeMutationBatch(d,f)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let d=Pt();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(d=d.add(c.batch.mutations[h].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function r6(t){const e=vt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function ire(t,e){const n=vt(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const c=[];e.targetChanges.forEach(((m,f)=>{const g=i.get(f);if(!g)return;c.push(n.Pi.removeMatchingKeys(a,m.removedDocuments,f).next((()=>n.Pi.addMatchingKeys(a,m.addedDocuments,f))));let x=g.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(f)!==null?x=x.withResumeToken(br.EMPTY_BYTE_STRING,pt.min()).withLastLimboFreeSnapshotVersion(pt.min()):m.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(m.resumeToken,r)),i=i.insert(f,x),(function(w,j,_){return w.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=tre?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0})(g,x,m)&&c.push(n.Pi.updateTargetData(a,x))}));let d=fo(),h=Pt();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(a,m))})),c.push(are(a,o,e.documentUpdates).next((m=>{d=m.ks,h=m.qs}))),!r.isEqual(pt.min())){const m=n.Pi.getLastRemoteSnapshotVersion(a).next((f=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));c.push(m)}return ve.waitFor(c).next((()=>o.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,d,h))).next((()=>d))})).then((a=>(n.Ms=i,a)))}function are(t,e,n){let r=Pt(),i=Pt();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let o=fo();return n.forEach(((c,d)=>{const h=a.get(c);d.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(c)),d.isNoDocument()&&d.version.isEqual(pt.min())?(e.removeEntry(c,d.readTime),o=o.insert(c,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),o=o.insert(c,d)):Be(tN,"Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",d.version)})),{ks:o,qs:i}}))}function ore(t,e){const n=vt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=z_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function lre(t,e){const n=vt(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((a=>a?(i=a,ve.resolve(i)):n.Pi.allocateTargetId(r).next((o=>(i=new ml(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function j1(t,e,n){const r=vt(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!hh(o))throw o;Be(tN,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function KT(t,e,n){const r=vt(t);let i=pt.min(),a=Pt();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(d,h,m){const f=vt(d),g=f.xs.get(m);return g!==void 0?ve.resolve(f.Ms.get(g)):f.Pi.getTargetData(h,m)})(r,o,ma(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,c.targetId).next((d=>{a=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:pt.min(),n?a:Pt()))).next((c=>(cre(r,Qte(e),c),{documents:c,Qs:a})))))}function cre(t,e,n){let r=t.Os.get(e)||pt.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class GT{constructor(){this.activeTargetIds=tne()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ure{constructor(){this.Mo=new GT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new GT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dre{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="ConnectivityMonitor";class YT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Be(QT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Be(QT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ig=null;function _1(){return Ig===null?Ig=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ig++,"0x"+Ig.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db="RestConnection",hre={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mre{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===$x?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const o=_1(),c=this.zo(e,n.toUriEncodedString());Be(Db,`Sending RPC '${e}' ${o}:`,c,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,i,a);const{host:h}=new URL(c),m=Ul(h);return this.Jo(e,c,d,r,m).then((f=>(Be(Db,`Received RPC '${e}' ${o}: `,f),f)),(f=>{throw hf(Db,`RPC '${e}' ${o} failed with error: `,f,"url: ",c,"request:",r),f}))}Ho(e,n,r,i,a,o){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+uh})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,n){const r=hre[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fre{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar="WebChannelConnection";class pre extends mre{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const o=_1();return new Promise(((c,d)=>{const h=new a5;h.setWithCredentials(!0),h.listenOnce(o5.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case nx.NO_ERROR:const f=h.getResponseJson();Be(Ar,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),c(f);break;case nx.TIMEOUT:Be(Ar,`RPC '${e}' ${o} timed out`),d(new Me(xe.DEADLINE_EXCEEDED,"Request time out"));break;case nx.HTTP_ERROR:const g=h.getStatus();if(Be(Ar,`RPC '${e}' ${o} failed with status:`,g,"response text:",h.getResponseText()),g>0){let x=h.getResponseJson();Array.isArray(x)&&(x=x[0]);const N=x==null?void 0:x.error;if(N&&N.status&&N.message){const w=(function(_){const E=_.toLowerCase().replace(/_/g,"-");return Object.values(xe).indexOf(E)>=0?E:xe.UNKNOWN})(N.status);d(new Me(w,N.message))}else d(new Me(xe.UNKNOWN,"Server responded with status "+h.getStatus()))}else d(new Me(xe.UNAVAILABLE,"Connection failed."));break;default:ot(9055,{l_:e,streamId:o,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{Be(Ar,`RPC '${e}' ${o} completed.`)}}));const m=JSON.stringify(i);Be(Ar,`RPC '${e}' ${o} sending request:`,i),h.send(n,"POST",m,r,15)}))}T_(e,n,r){const i=_1(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=u5(),c=c5(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const m=a.join("");Be(Ar,`Creating RPC '${e}' stream ${i}: ${m}`,d);const f=o.createWebChannel(m,d);this.I_(f);let g=!1,x=!1;const N=new fre({Yo:j=>{x?Be(Ar,`Not sending because RPC '${e}' stream ${i} is closed:`,j):(g||(Be(Ar,`Opening RPC '${e}' stream ${i} transport.`),f.open(),g=!0),Be(Ar,`RPC '${e}' stream ${i} sending:`,j),f.send(j))},Zo:()=>f.close()}),w=(j,_,E)=>{j.listen(_,(k=>{try{E(k)}catch(C){setTimeout((()=>{throw C}),0)}}))};return w(f,jm.EventType.OPEN,(()=>{x||(Be(Ar,`RPC '${e}' stream ${i} transport opened.`),N.o_())})),w(f,jm.EventType.CLOSE,(()=>{x||(x=!0,Be(Ar,`RPC '${e}' stream ${i} transport closed`),N.a_(),this.E_(f))})),w(f,jm.EventType.ERROR,(j=>{x||(x=!0,hf(Ar,`RPC '${e}' stream ${i} transport errored. Name:`,j.name,"Message:",j.message),N.a_(new Me(xe.UNAVAILABLE,"The operation could not be completed")))})),w(f,jm.EventType.MESSAGE,(j=>{var _;if(!x){const E=j.data[0];Yt(!!E,16349);const k=E,C=(k==null?void 0:k.error)||((_=k[0])==null?void 0:_.error);if(C){Be(Ar,`RPC '${e}' stream ${i} received error:`,C);const R=C.status;let F=(function(I){const O=Hn[I];if(O!==void 0)return $5(O)})(R),D=C.message;F===void 0&&(F=xe.INTERNAL,D="Unknown error status: "+R+" with message "+C.message),x=!0,N.a_(new Me(F,D)),f.close()}else Be(Ar,`RPC '${e}' stream ${i} received:`,E),N.u_(E)}})),w(c,l5.STAT_EVENT,(j=>{j.stat===u1.PROXY?Be(Ar,`RPC '${e}' stream ${i} detected buffering proxy`):j.stat===u1.NOPROXY&&Be(Ar,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{N.__()}),0),N}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Mb(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qy(t){return new bne(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Be("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT="PersistentStream";class i6{constructor(e,n,r,i,a,o,c,d){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new s6(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===xe.RESOURCE_EXHAUSTED?(mo(n.toString()),mo("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===xe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Me(xe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Be(JT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Be(JT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class gre extends i6{constructor(e,n,r,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=_ne(this.serializer,e),r=(function(a){if(!("targetChange"in a))return pt.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?pt.min():o.readTime?fa(o.readTime):pt.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=w1(this.serializer),n.addTarget=(function(a,o){let c;const d=o.target;if(c=p1(d)?{documents:Ene(a,d)}:{query:Cne(a,d).ft},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=W5(a,o.resumeToken);const h=y1(a,o.expectedCount);h!==null&&(c.expectedCount=h)}else if(o.snapshotVersion.compareTo(pt.min())>0){c.readTime=Gx(a,o.snapshotVersion.toTimestamp());const h=y1(a,o.expectedCount);h!==null&&(c.expectedCount=h)}return c})(this.serializer,e);const r=Tne(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=w1(this.serializer),n.removeTarget=e,this.q_(n)}}class xre extends i6{constructor(e,n,r,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Yt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Yt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Yt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Sne(e.writeResults,e.commitTime),r=fa(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=w1(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Nne(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yre{}class vre extends yre{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Me(xe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Go(e,v1(n,r),i,a,o))).catch((a=>{throw a.name==="FirebaseError"?(a.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Me(xe.UNKNOWN,a.toString())}))}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Ho(e,v1(n,r),i,o,c,a))).catch((o=>{throw o.name==="FirebaseError"?(o.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Me(xe.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class bre{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(mo(n),this.aa=!1):Be("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc="RemoteStore";class wre{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{lu(this)&&(Be(Gc,"Restarting streams for network reachability change."),await(async function(d){const h=vt(d);h.Ea.add(4),await Jf(h),h.Ra.set("Unknown"),h.Ea.delete(4),await Yy(h)})(this))}))})),this.Ra=new bre(r,i)}}async function Yy(t){if(lu(t))for(const e of t.da)await e(!0)}async function Jf(t){for(const e of t.da)await e(!1)}function a6(t,e){const n=vt(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),iN(n)?sN(n):fh(n).O_()&&rN(n,e))}function nN(t,e){const n=vt(t),r=fh(n);n.Ia.delete(e),r.O_()&&o6(n,e),n.Ia.size===0&&(r.O_()?r.L_():lu(n)&&n.Ra.set("Unknown"))}function rN(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}fh(t).Y_(e)}function o6(t,e){t.Va.Ue(e),fh(t).Z_(e)}function sN(t){t.Va=new gne({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),fh(t).start(),t.Ra.ua()}function iN(t){return lu(t)&&!fh(t).x_()&&t.Ia.size>0}function lu(t){return vt(t).Ea.size===0}function l6(t){t.Va=void 0}async function jre(t){t.Ra.set("Online")}async function _re(t){t.Ia.forEach(((e,n)=>{rN(t,e)}))}async function Nre(t,e){l6(t),iN(t)?(t.Ra.ha(e),sN(t)):t.Ra.set("Unknown")}async function Sre(t,e,n){if(t.Ra.set("Online"),e instanceof H5&&e.state===2&&e.cause)try{await(async function(i,a){const o=a.cause;for(const c of a.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,o),i.Ia.delete(c),i.Va.removeTarget(c))})(t,e)}catch(r){Be(Gc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Yx(t,r)}else if(e instanceof ax?t.Va.Ze(e):e instanceof q5?t.Va.st(e):t.Va.tt(e),!n.isEqual(pt.min()))try{const r=await r6(t.localStore);n.compareTo(r)>=0&&await(function(a,o){const c=a.Va.Tt(o);return c.targetChanges.forEach(((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const m=a.Ia.get(h);m&&a.Ia.set(h,m.withResumeToken(d.resumeToken,o))}})),c.targetMismatches.forEach(((d,h)=>{const m=a.Ia.get(d);if(!m)return;a.Ia.set(d,m.withResumeToken(br.EMPTY_BYTE_STRING,m.snapshotVersion)),o6(a,d);const f=new ml(m.target,d,h,m.sequenceNumber);rN(a,f)})),a.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){Be(Gc,"Failed to raise snapshot:",r),await Yx(t,r)}}async function Yx(t,e,n){if(!hh(e))throw e;t.Ea.add(1),await Jf(t),t.Ra.set("Offline"),n||(n=()=>r6(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Be(Gc,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Yy(t)}))}function c6(t,e){return e().catch((n=>Yx(t,n,e)))}async function Jy(t){const e=vt(t),n=Dl(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:z_;for(;Ere(e);)try{const i=await ore(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,Cre(e,i)}catch(i){await Yx(e,i)}u6(e)&&d6(e)}function Ere(t){return lu(t)&&t.Ta.length<10}function Cre(t,e){t.Ta.push(e);const n=Dl(t);n.O_()&&n.X_&&n.ea(e.mutations)}function u6(t){return lu(t)&&!Dl(t).x_()&&t.Ta.length>0}function d6(t){Dl(t).start()}async function kre(t){Dl(t).ra()}async function Tre(t){const e=Dl(t);for(const n of t.Ta)e.ea(n.mutations)}async function Are(t,e,n){const r=t.Ta.shift(),i=Q_.from(r,e,n);await c6(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Jy(t)}async function Ire(t,e){e&&Dl(t).X_&&await(async function(r,i){if((function(o){return mne(o)&&o!==xe.ABORTED})(i.code)){const a=r.Ta.shift();Dl(r).B_(),await c6(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await Jy(r)}})(t,e),u6(t)&&d6(t)}async function XT(t,e){const n=vt(t);n.asyncQueue.verifyOperationInProgress(),Be(Gc,"RemoteStore received new credentials");const r=lu(n);n.Ea.add(3),await Jf(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Yy(n)}async function Rre(t,e){const n=vt(t);e?(n.Ea.delete(2),await Yy(n)):e||(n.Ea.add(2),await Jf(n),n.Ra.set("Unknown"))}function fh(t){return t.ma||(t.ma=(function(n,r,i){const a=vt(n);return a.sa(),new gre(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:jre.bind(null,t),t_:_re.bind(null,t),r_:Nre.bind(null,t),H_:Sre.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),iN(t)?sN(t):t.Ra.set("Unknown")):(await t.ma.stop(),l6(t))}))),t.ma}function Dl(t){return t.fa||(t.fa=(function(n,r,i){const a=vt(n);return a.sa(),new xre(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:kre.bind(null,t),r_:Ire.bind(null,t),ta:Tre.bind(null,t),na:Are.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Jy(t)):(await t.fa.stop(),t.Ta.length>0&&(Be(Gc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new to,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const o=Date.now()+r,c=new aN(e,n,o,i,a);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Me(xe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function oN(t,e){if(mo("AsyncQueue",`${e}: ${t}`),hh(t))return new Me(xe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{static emptySet(e){return new yd(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||nt.comparator(n.key,r.key):(n,r)=>nt.comparator(n.key,r.key),this.keyedMap=_m(),this.sortedSet=new En(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof yd)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new yd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(){this.ga=new En(nt.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ot(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class qd{constructor(e,n,r,i,a,o,c,d,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,a){const o=[];return n.forEach((c=>{o.push({type:0,doc:c})})),new qd(e,n,yd.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pre{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Dre{constructor(){this.queries=eA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=vt(n),a=i.queries;i.queries=eA(),a.forEach(((o,c)=>{for(const d of c.Sa)d.onError(r)}))})(this,new Me(xe.ABORTED,"Firestore shutting down"))}}function eA(){return new ou((t=>I5(t)),qy)}async function h6(t,e){const n=vt(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new Pre,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const c=oN(o,`Initialization of query '${ed(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&lN(n)}async function m6(t,e){const n=vt(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const o=a.Sa.indexOf(e);o>=0&&(a.Sa.splice(o,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Mre(t,e){const n=vt(t);let r=!1;for(const i of e){const a=i.query,o=n.queries.get(a);if(o){for(const c of o.Sa)c.Fa(i)&&(r=!0);o.wa=i}}r&&lN(n)}function Ore(t,e,n){const r=vt(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function lN(t){t.Ca.forEach((e=>{e.next()}))}var N1,tA;(tA=N1||(N1={})).Ma="default",tA.Cache="cache";class f6{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new qd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=qd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==N1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(e){this.key=e}}class g6{constructor(e){this.key=e}}class Lre{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pt(),this.mutatedKeys=Pt(),this.eu=R5(e),this.tu=new yd(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new ZT,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,o=i,c=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((m,f)=>{const g=i.get(m),x=Hy(this.query,f)?f:null,N=!!g&&this.mutatedKeys.has(g.key),w=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let j=!1;g&&x?g.data.isEqual(x.data)?N!==w&&(r.track({type:3,doc:x}),j=!0):this.su(g,x)||(r.track({type:2,doc:x}),j=!0,(d&&this.eu(x,d)>0||h&&this.eu(x,h)<0)&&(c=!0)):!g&&x?(r.track({type:0,doc:x}),j=!0):g&&!x&&(r.track({type:1,doc:g}),j=!0,(d||h)&&(c=!0)),j&&(x?(o=o.add(x),a=w?a.add(m):a.delete(m)):(o=o.delete(m),a=a.delete(m)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const m=this.query.limitType==="F"?o.last():o.first();o=o.delete(m.key),a=a.delete(m.key),r.track({type:1,doc:m})}return{tu:o,iu:r,Cs:c,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((m,f)=>(function(x,N){const w=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ot(20277,{Rt:j})}};return w(x)-w(N)})(m.type,f.type)||this.eu(m.doc,f.doc))),this.ou(r),i=i??!1;const c=n&&!i?this._u():[],d=this.Xa.size===0&&this.current&&!i?1:0,h=d!==this.Za;return this.Za=d,o.length!==0||h?{snapshot:new qd(this.query,e.tu,a,o,e.mutatedKeys,d===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ZT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Pt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new g6(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new p6(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Pt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return qd.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const cN="SyncEngine";class Fre{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Vre{constructor(e){this.key=e,this.hu=!1}}class Ure{constructor(e,n,r,i,a,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new ou((c=>I5(c)),qy),this.Iu=new Map,this.Eu=new Set,this.du=new En(nt.comparator),this.Au=new Map,this.Ru=new X_,this.Vu={},this.mu=new Map,this.fu=$d.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function zre(t,e,n=!0){const r=j6(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await x6(r,e,n,!0),i}async function Bre(t,e){const n=j6(t);await x6(n,e,!0,!1)}async function x6(t,e,n,r){const i=await lre(t.localStore,ma(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,n);let c;return r&&(c=await $re(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&a6(t.remoteStore,i),c}async function $re(t,e,n,r,i){t.pu=(f,g,x)=>(async function(w,j,_,E){let k=j.view.ru(_);k.Cs&&(k=await KT(w.localStore,j.query,!1).then((({documents:D})=>j.view.ru(D,k))));const C=E&&E.targetChanges.get(j.targetId),R=E&&E.targetMismatches.get(j.targetId)!=null,F=j.view.applyChanges(k,w.isPrimaryClient,C,R);return rA(w,j.targetId,F.au),F.snapshot})(t,f,g,x);const a=await KT(t.localStore,e,!0),o=new Lre(e,a.Qs),c=o.ru(a.documents),d=Yf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=o.applyChanges(c,t.isPrimaryClient,d);rA(t,n,h.au);const m=new Fre(e,n,o);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function qre(t,e,n){const r=vt(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((o=>!qy(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await j1(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&nN(r.remoteStore,i.targetId),S1(r,i.targetId)})).catch(dh)):(S1(r,i.targetId),await j1(r.localStore,i.targetId,!0))}async function Hre(t,e){const n=vt(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),nN(n.remoteStore,r.targetId))}async function Wre(t,e,n){const r=Zre(t);try{const i=await(function(o,c){const d=vt(o),h=mn.now(),m=c.reduce(((x,N)=>x.add(N.key)),Pt());let f,g;return d.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let N=fo(),w=Pt();return d.Ns.getEntries(x,m).next((j=>{N=j,N.forEach(((_,E)=>{E.isValidDocument()||(w=w.add(_))}))})).next((()=>d.localDocuments.getOverlayedDocuments(x,N))).next((j=>{f=j;const _=[];for(const E of c){const k=lne(E,f.get(E.key).overlayedDocument);k!=null&&_.push(new $l(E.key,k,_5(k.value.mapValue),ni.exists(!0)))}return d.mutationQueue.addMutationBatch(x,h,_,c)})).next((j=>{g=j;const _=j.applyToLocalDocumentSet(f,w);return d.documentOverlayCache.saveOverlays(x,j.batchId,_)}))})).then((()=>({batchId:g.batchId,changes:D5(f)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(o,c,d){let h=o.Vu[o.currentUser.toKey()];h||(h=new En(Rt)),h=h.insert(c,d),o.Vu[o.currentUser.toKey()]=h})(r,i.batchId,n),await Xf(r,i.changes),await Jy(r.remoteStore)}catch(i){const a=oN(i,"Failed to persist write");n.reject(a)}}async function y6(t,e){const n=vt(t);try{const r=await ire(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const o=n.Au.get(a);o&&(Yt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Yt(o.hu,14607):i.removedDocuments.size>0&&(Yt(o.hu,42227),o.hu=!1))})),await Xf(n,r,e)}catch(r){await dh(r)}}function nA(t,e,n){const r=vt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,o)=>{const c=o.view.va(e);c.snapshot&&i.push(c.snapshot)})),(function(o,c){const d=vt(o);d.onlineState=c;let h=!1;d.queries.forEach(((m,f)=>{for(const g of f.Sa)g.va(c)&&(h=!0)})),h&&lN(d)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Kre(t,e,n){const r=vt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let o=new En(nt.comparator);o=o.insert(a,Ir.newNoDocument(a,pt.min()));const c=Pt().add(a),d=new Gy(pt.min(),new Map,new En(Rt),o,c);await y6(r,d),r.du=r.du.remove(a),r.Au.delete(e),uN(r)}else await j1(r.localStore,e,!1).then((()=>S1(r,e,n))).catch(dh)}async function Gre(t,e){const n=vt(t),r=e.batch.batchId;try{const i=await sre(n.localStore,e);b6(n,r,null),v6(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Xf(n,i)}catch(i){await dh(i)}}async function Qre(t,e,n){const r=vt(t);try{const i=await(function(o,c){const d=vt(o);return d.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let m;return d.mutationQueue.lookupMutationBatch(h,c).next((f=>(Yt(f!==null,37113),m=f.keys(),d.mutationQueue.removeMutationBatch(h,f)))).next((()=>d.mutationQueue.performConsistencyCheck(h))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(h,m,c))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m))).next((()=>d.localDocuments.getDocuments(h,m)))}))})(r.localStore,e);b6(r,e,n),v6(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Xf(r,i)}catch(i){await dh(i)}}function v6(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function b6(t,e,n){const r=vt(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function S1(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||w6(t,r)}))}function w6(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(nN(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),uN(t))}function rA(t,e,n){for(const r of n)r instanceof p6?(t.Ru.addReference(r.key,e),Yre(t,r)):r instanceof g6?(Be(cN,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||w6(t,r.key)):ot(19791,{wu:r})}function Yre(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Be(cN,"New document in limbo: "+n),t.Eu.add(r),uN(t))}function uN(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new nt(ln.fromString(e)),r=t.fu.next();t.Au.set(r,new Vre(n)),t.du=t.du.insert(n,r),a6(t.remoteStore,new ml(ma(W_(n.path)),r,"TargetPurposeLimboResolution",zy.ce))}}async function Xf(t,e,n){const r=vt(t),i=[],a=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,d)=>{o.push(r.pu(d,e,n).then((h=>{var m;if((h||n)&&r.isPrimaryClient){const f=h?!h.fromCache:(m=n==null?void 0:n.targetChanges.get(d.targetId))==null?void 0:m.current;r.sharedClientState.updateQueryState(d.targetId,f?"current":"not-current")}if(h){i.push(h);const f=eN.As(d.targetId,h);a.push(f)}})))})),await Promise.all(o),r.Pu.H_(i),await(async function(d,h){const m=vt(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(f=>ve.forEach(h,(g=>ve.forEach(g.Es,(x=>m.persistence.referenceDelegate.addReference(f,g.targetId,x))).next((()=>ve.forEach(g.ds,(x=>m.persistence.referenceDelegate.removeReference(f,g.targetId,x)))))))))}catch(f){if(!hh(f))throw f;Be(tN,"Failed to update sequence numbers: "+f)}for(const f of h){const g=f.targetId;if(!f.fromCache){const x=m.Ms.get(g),N=x.snapshotVersion,w=x.withLastLimboFreeSnapshotVersion(N);m.Ms=m.Ms.insert(g,w)}}})(r.localStore,a))}async function Jre(t,e){const n=vt(t);if(!n.currentUser.isEqual(e)){Be(cN,"User change. New user:",e.toKey());const r=await n6(n.localStore,e);n.currentUser=e,(function(a,o){a.mu.forEach((c=>{c.forEach((d=>{d.reject(new Me(xe.CANCELLED,o))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Xf(n,r.Ls)}}function Xre(t,e){const n=vt(t),r=n.Au.get(e);if(r&&r.hu)return Pt().add(r.key);{let i=Pt();const a=n.Iu.get(e);if(!a)return i;for(const o of a){const c=n.Tu.get(o);i=i.unionWith(c.view.nu)}return i}}function j6(t){const e=vt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=y6.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Xre.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Kre.bind(null,e),e.Pu.H_=Mre.bind(null,e.eventManager),e.Pu.yu=Ore.bind(null,e.eventManager),e}function Zre(t){const e=vt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Gre.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Qre.bind(null,e),e}class Jx{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qy(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return rre(this.persistence,new ere,e.initialUser,this.serializer)}Cu(e){return new t6(Z_.mi,this.serializer)}Du(e){return new ure}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jx.provider={build:()=>new Jx};class ese extends Jx{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Yt(this.persistence.referenceDelegate instanceof Qx,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Vne(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?cs.withCacheSize(this.cacheSizeBytes):cs.DEFAULT;return new t6((r=>Qx.mi(r,n)),this.serializer)}}class E1{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>nA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Jre.bind(null,this.syncEngine),await Rre(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Dre})()}createDatastore(e){const n=Qy(e.databaseInfo.databaseId),r=(function(a){return new pre(a)})(e.databaseInfo);return(function(a,o,c,d){return new vre(a,o,c,d)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,o,c){return new wre(r,i,a,o,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>nA(this.syncEngine,n,0)),(function(){return YT.v()?new YT:new dre})())}createSyncEngine(e,n){return(function(i,a,o,c,d,h,m){const f=new Ure(i,a,o,c,d,h);return m&&(f.gu=!0),f})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const a=vt(i);Be(Gc,"RemoteStore shutting down."),a.Ea.add(5),await Jf(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}E1.provider={build:()=>new E1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):mo("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml="FirestoreClient";class tse{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ls.UNAUTHENTICATED,this.clientId=U_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async o=>{Be(Ml,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(Be(Ml,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new to;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=oN(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Ob(t,e){t.asyncQueue.verifyOperationInProgress(),Be(Ml,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await n6(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function sA(t,e){t.asyncQueue.verifyOperationInProgress();const n=await nse(t);Be(Ml,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>XT(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>XT(e.remoteStore,i))),t._onlineComponents=e}async function nse(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Be(Ml,"Using user provided OfflineComponentProvider");try{await Ob(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===xe.FAILED_PRECONDITION||i.code===xe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;hf("Error using user provided cache. Falling back to memory cache: "+n),await Ob(t,new Jx)}}else Be(Ml,"Using default OfflineComponentProvider"),await Ob(t,new ese(void 0));return t._offlineComponents}async function N6(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Be(Ml,"Using user provided OnlineComponentProvider"),await sA(t,t._uninitializedComponentsProvider._online)):(Be(Ml,"Using default OnlineComponentProvider"),await sA(t,new E1))),t._onlineComponents}function rse(t){return N6(t).then((e=>e.syncEngine))}async function S6(t){const e=await N6(t),n=e.eventManager;return n.onListen=zre.bind(null,e.syncEngine),n.onUnlisten=qre.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Bre.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Hre.bind(null,e.syncEngine),n}function sse(t,e,n={}){const r=new to;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,c,d,h){const m=new _6({next:g=>{m.Nu(),o.enqueueAndForget((()=>m6(a,f)));const x=g.docs.has(c);!x&&g.fromCache?h.reject(new Me(xe.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&g.fromCache&&d&&d.source==="server"?h.reject(new Me(xe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(g)},error:g=>h.reject(g)}),f=new f6(W_(c.path),m,{includeMetadataChanges:!0,qa:!0});return h6(a,f)})(await S6(t),t.asyncQueue,e,n,r))),r.promise}function ise(t,e,n={}){const r=new to;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,c,d,h){const m=new _6({next:g=>{m.Nu(),o.enqueueAndForget((()=>m6(a,f))),g.fromCache&&d.source==="server"?h.reject(new Me(xe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(g)},error:g=>h.reject(g)}),f=new f6(c,m,{includeMetadataChanges:!0,qa:!0});return h6(a,f)})(await S6(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E6(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ase="firestore.googleapis.com",aA=!0;class oA{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Me(xe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ase,this.ssl=aA}else this.host=e.host,this.ssl=e.ssl??aA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Z5;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<e6)throw new Me(xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jte("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=E6(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Me(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Me(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Me(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dN{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Me(xe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Me(xe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oA(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new mte;switch(r.type){case"firstParty":return new gte(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Me(xe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=iA.get(n);r&&(Be("ComponentProvider","Removing Datastore"),iA.delete(n),r.terminate())})(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zf=class C6{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new C6(this.firestore,e,this._query)}};class Vn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vn(this.firestore,e,this._key)}toJSON(){return{type:Vn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Gf(n,Vn._jsonSchema))return new Vn(e,r||null,new nt(ln.fromString(n.referencePath)))}}Vn._jsonSchemaVersion="firestore/documentReference/1.0",Vn._jsonSchema={type:Qn("string",Vn._jsonSchemaVersion),referencePath:Qn("string")};class yl extends Zf{constructor(e,n,r){super(e,n,W_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vn(this.firestore,null,new nt(e))}withConverter(e){return new yl(this.firestore,e,this._path)}}function Hd(t,e,...n){if(t=Sn(t),h5("collection","path",e),t instanceof dN){const r=ln.fromString(e,...n);return bT(r),new yl(t,null,r)}{if(!(t instanceof Vn||t instanceof yl))throw new Me(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ln.fromString(e,...n));return bT(r),new yl(t.firestore,null,r)}}function Qc(t,e,...n){if(t=Sn(t),arguments.length===1&&(e=U_.newId()),h5("doc","path",e),t instanceof dN){const r=ln.fromString(e,...n);return vT(r),new Vn(t,null,new nt(r))}{if(!(t instanceof Vn||t instanceof yl))throw new Me(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ln.fromString(e,...n));return vT(r),new Vn(t.firestore,t instanceof yl?t.converter:null,new nt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA="AsyncQueue";class cA{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new s6(this,"async_queue_retry"),this._c=()=>{const r=Mb();r&&Be(lA,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Mb();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Mb();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new to;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!hh(e))throw e;Be(lA,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,mo("INTERNAL UNHANDLED ERROR: ",uA(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=aN.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&ot(47125,{Pc:uA(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function uA(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class cu extends dN{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new cA,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new cA(e),this._firestoreClient=void 0,await e}}}function ose(t,e,n){n||(n=$x);const r=Oy(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),a=r.getOptions(n);if(qc(a,e))return i;throw new Me(xe.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new Me(xe.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<e6)throw new Me(xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&Ul(e.host)&&C_(e.host),r.initialize({options:e,instanceIdentifier:n})}function hN(t){if(t._terminated)throw new Me(xe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||lse(t),t._firestoreClient}function lse(t){var r,i,a;const e=t._freezeSettings(),n=(function(c,d,h,m){return new Pte(c,d,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,E6(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new tse(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(c){const d=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(d),_online:d}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xs(br.fromBase64String(e))}catch(n){throw new Me(xe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xs(br.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Xs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Gf(e,Xs._jsonSchema))return Xs.fromBase64String(e.bytes)}}Xs._jsonSchemaVersion="firestore/bytes/1.0",Xs._jsonSchema={type:Qn("string",Xs._jsonSchemaVersion),bytes:Qn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Me(xe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Me(xe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Me(xe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Rt(this._lat,e._lat)||Rt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:pa._jsonSchemaVersion}}static fromJSON(e){if(Gf(e,pa._jsonSchema))return new pa(e.latitude,e.longitude)}}pa._jsonSchemaVersion="firestore/geoPoint/1.0",pa._jsonSchema={type:Qn("string",pa._jsonSchemaVersion),latitude:Qn("number"),longitude:Qn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ga._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Gf(e,ga._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ga(e.vectorValues);throw new Me(xe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ga._jsonSchemaVersion="firestore/vectorValue/1.0",ga._jsonSchema={type:Qn("string",ga._jsonSchemaVersion),vectorValues:Qn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cse=/^__.*__$/;class use{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new $l(e,this.data,this.fieldMask,n,this.fieldTransforms):new Qf(e,this.data,n,this.fieldTransforms)}}class k6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new $l(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function T6(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ot(40011,{Ac:t})}}class fN{constructor(e,n,r,i,a,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new fN({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Xx(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(T6(this.Ac)&&cse.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class dse{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Qy(e)}Cc(e,n,r,i=!1){return new fN({Ac:e,methodName:n,Dc:r,path:vr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zy(t){const e=t._freezeSettings(),n=Qy(t._databaseId);return new dse(t._databaseId,!!e.ignoreUndefinedProperties,n)}function A6(t,e,n,r,i,a={}){const o=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);pN("Data must be an object, but it was:",o,r);const c=I6(r,o);let d,h;if(a.merge)d=new Ps(o.fieldMask),h=o.fieldTransforms;else if(a.mergeFields){const m=[];for(const f of a.mergeFields){const g=C1(e,f,n);if(!o.contains(g))throw new Me(xe.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);P6(m,g)||m.push(g)}d=new Ps(m),h=o.fieldTransforms.filter((f=>d.covers(f.field)))}else d=null,h=o.fieldTransforms;return new use(new us(c),d,h)}class e0 extends mN{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof e0}}function hse(t,e,n,r){const i=t.Cc(1,e,n);pN("Data must be an object, but it was:",i,r);const a=[],o=us.empty();Bl(r,((d,h)=>{const m=gN(e,d,n);h=Sn(h);const f=i.yc(m);if(h instanceof e0)a.push(m);else{const g=ep(h,f);g!=null&&(a.push(m),o.set(m,g))}}));const c=new Ps(a);return new k6(o,c,i.fieldTransforms)}function mse(t,e,n,r,i,a){const o=t.Cc(1,e,n),c=[C1(e,r,n)],d=[i];if(a.length%2!=0)throw new Me(xe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<a.length;g+=2)c.push(C1(e,a[g])),d.push(a[g+1]);const h=[],m=us.empty();for(let g=c.length-1;g>=0;--g)if(!P6(h,c[g])){const x=c[g];let N=d[g];N=Sn(N);const w=o.yc(x);if(N instanceof e0)h.push(x);else{const j=ep(N,w);j!=null&&(h.push(x),m.set(x,j))}}const f=new Ps(h);return new k6(m,f,o.fieldTransforms)}function fse(t,e,n,r=!1){return ep(n,t.Cc(r?4:3,e))}function ep(t,e){if(R6(t=Sn(t)))return pN("Unsupported field value:",e,t),I6(t,e);if(t instanceof mN)return(function(r,i){if(!T6(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let o=0;for(const c of r){let d=ep(c,i.wc(o));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),o++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=Sn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return nne(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=mn.fromDate(r);return{timestampValue:Gx(i.serializer,a)}}if(r instanceof mn){const a=new mn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Gx(i.serializer,a)}}if(r instanceof pa)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Xs)return{bytesValue:W5(i.serializer,r._byteString)};if(r instanceof Vn){const a=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(a))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:J_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ga)return(function(o,c){return{mapValue:{fields:{[w5]:{stringValue:j5},[qx]:{arrayValue:{values:o.toArray().map((h=>{if(typeof h!="number")throw c.Sc("VectorValues must only contain numeric values.");return K_(c.serializer,h)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Uy(r)}`)})(t,e)}function I6(t,e){const n={};return p5(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bl(t,((r,i)=>{const a=ep(i,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function R6(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof mn||t instanceof pa||t instanceof Xs||t instanceof Vn||t instanceof mN||t instanceof ga)}function pN(t,e,n){if(!R6(n)||!m5(n)){const r=Uy(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function C1(t,e,n){if((e=Sn(e))instanceof Xy)return e._internalPath;if(typeof e=="string")return gN(t,e);throw Xx("Field path arguments must be of type string or ",t,!1,void 0,n)}const pse=new RegExp("[~\\*/\\[\\]]");function gN(t,e,n){if(e.search(pse)>=0)throw Xx(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Xy(...e.split("."))._internalPath}catch{throw Xx(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Xx(t,e,n,r,i){const a=r&&!r.isEmpty(),o=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(a||o)&&(d+=" (found",a&&(d+=` in field ${r}`),o&&(d+=` in document ${i}`),d+=")"),new Me(xe.INVALID_ARGUMENT,c+t+d)}function P6(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new gse(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(xN("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class gse extends D6{data(){return super.data()}}function xN(t,e){return typeof e=="string"?gN(t,e):e instanceof Xy?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xse(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Me(xe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yN{}class M6 extends yN{}function O6(t,e,...n){let r=[];e instanceof yN&&r.push(e),r=r.concat(n),(function(a){const o=a.filter((d=>d instanceof bN)).length,c=a.filter((d=>d instanceof vN)).length;if(o>1||o>0&&c>0)throw new Me(xe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class vN extends M6{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new vN(e,n,r)}_apply(e){const n=this._parse(e);return F6(e._query,n),new Zf(e.firestore,e.converter,g1(e._query,n))}_parse(e){const n=Zy(e.firestore);return(function(a,o,c,d,h,m,f){let g;if(h.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new Me(xe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){hA(f,m);const N=[];for(const w of f)N.push(dA(d,a,w));g={arrayValue:{values:N}}}else g=dA(d,a,f)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||hA(f,m),g=fse(c,o,f,m==="in"||m==="not-in");return Gn.create(h,m,g)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class bN extends yN{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new bN(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ki.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let o=i;const c=a.getFlattenedFilters();for(const d of c)F6(o,d),o=g1(o,d)})(e._query,n),new Zf(e.firestore,e.converter,g1(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class wN extends M6{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new wN(e,n)}_apply(e){const n=(function(i,a,o){if(i.startAt!==null)throw new Me(xe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Me(xe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new xf(a,o)})(e._query,this._field,this._direction);return new Zf(e.firestore,e.converter,(function(i,a){const o=i.explicitOrderBy.concat([a]);return new mh(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function L6(t,e="asc"){const n=e,r=xN("orderBy",t);return wN._create(r,n)}function dA(t,e,n){if(typeof(n=Sn(n))=="string"){if(n==="")throw new Me(xe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!A5(e)&&n.indexOf("/")!==-1)throw new Me(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ln.fromString(n));if(!nt.isDocumentKey(r))throw new Me(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return kT(t,new nt(r))}if(n instanceof Vn)return kT(t,n._key);throw new Me(xe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Uy(n)}.`)}function hA(t,e){if(!Array.isArray(t)||t.length===0)throw new Me(xe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function F6(t,e){const n=(function(i,a){for(const o of i)for(const c of o.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Me(xe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Me(xe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class yse{convertValue(e,n="none"){switch(Pl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ln(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Rl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ot(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Bl(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){var r,i,a;const n=(a=(i=(r=e.fields)==null?void 0:r[qx].arrayValue)==null?void 0:i.values)==null?void 0:a.map((o=>Ln(o.doubleValue)));return new ga(n)}convertGeoPoint(e){return new pa(Ln(e.latitude),Ln(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=$y(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ff(e));default:return null}}convertTimestamp(e){const n=Il(e);return new mn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ln.fromString(e);Yt(X5(r),9688,{name:e});const i=new pf(r.get(1),r.get(3)),a=new nt(r.popFirst(5));return i.isEqual(n)||mo(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V6(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Sm{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fc extends D6{constructor(e,n,r,i,a,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ox(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(xN("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Me(xe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Fc._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Fc._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fc._jsonSchema={type:Qn("string",Fc._jsonSchemaVersion),bundleSource:Qn("string","DocumentSnapshot"),bundleName:Qn("string"),bundle:Qn("string")};class ox extends Fc{data(e={}){return super.data(e)}}class vd{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Sm(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new ox(this._firestore,this._userDataWriter,r.key,r,new Sm(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Me(xe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((c=>{const d=new ox(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Sm(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>a||c.type!==3)).map((c=>{const d=new ox(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Sm(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,m=-1;return c.type!==0&&(h=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),m=o.indexOf(c.doc.key)),{type:vse(c.type),doc:d,oldIndex:h,newIndex:m}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Me(xe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=vd._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=U_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function vse(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ot(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U6(t){t=ba(t,Vn);const e=ba(t.firestore,cu);return sse(hN(e),t._key).then((n=>wse(e,t,n)))}vd._jsonSchemaVersion="firestore/querySnapshot/1.0",vd._jsonSchema={type:Qn("string",vd._jsonSchemaVersion),bundleSource:Qn("string","QuerySnapshot"),bundleName:Qn("string"),bundle:Qn("string")};class z6 extends yse{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vn(this.firestore,null,n)}}function bf(t){t=ba(t,Zf);const e=ba(t.firestore,cu),n=hN(e),r=new z6(e);return xse(t._query),ise(n,t._query).then((i=>new vd(e,r,t,i)))}function B6(t,e,n){t=ba(t,Vn);const r=ba(t.firestore,cu),i=V6(t.converter,e,n);return t0(r,[A6(Zy(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ni.none())])}function $6(t,e,n,...r){t=ba(t,Vn);const i=ba(t.firestore,cu),a=Zy(i);let o;return o=typeof(e=Sn(e))=="string"||e instanceof Xy?mse(a,"updateDoc",t._key,e,n,r):hse(a,"updateDoc",t._key,e),t0(i,[o.toMutation(t._key,ni.exists(!0))])}function bse(t){return t0(ba(t.firestore,cu),[new G_(t._key,ni.none())])}function q6(t,e){const n=ba(t.firestore,cu),r=Qc(t),i=V6(t.converter,e);return t0(n,[A6(Zy(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ni.exists(!1))]).then((()=>r))}function t0(t,e){return(function(r,i){const a=new to;return r.asyncQueue.enqueueAndForget((async()=>Wre(await rse(r),i,a))),a.promise})(hN(t),e)}function wse(t,e,n){const r=n.docs.get(e._key),i=new z6(t);return new Fc(t,i,e._key,r,new Sm(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){uh=i})(au),Hc(new kl("firestore",((r,{instanceIdentifier:i,options:a})=>{const o=r.getProvider("app").getImmediate(),c=new cu(new fte(r.getProvider("auth-internal")),new xte(o,r.getProvider("app-check-internal")),(function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Me(xe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pf(h.options.projectId,m)})(o,i),o);return a={useFetchStreams:n,...a},c._setSettings(a),c}),"PUBLIC").setMultipleInstances(!0)),ua(pT,gT,e),ua(pT,gT,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6="firebasestorage.googleapis.com",W6="storageBucket",jse=120*1e3,_se=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn extends Sa{constructor(e,n,r=0){super(Lb(e),`Firebase Storage: ${n} (${Lb(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Pn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Lb(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Rn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Rn||(Rn={}));function Lb(t){return"storage/"+t}function jN(){const t="An unknown error occurred, please check the error payload for server response.";return new Pn(Rn.UNKNOWN,t)}function Nse(t){return new Pn(Rn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Sse(t){return new Pn(Rn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Ese(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Pn(Rn.UNAUTHENTICATED,t)}function Cse(){return new Pn(Rn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function kse(t){return new Pn(Rn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Tse(){return new Pn(Rn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ase(){return new Pn(Rn.CANCELED,"User canceled the upload/download.")}function Ise(t){return new Pn(Rn.INVALID_URL,"Invalid URL '"+t+"'.")}function Rse(t){return new Pn(Rn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Pse(){return new Pn(Rn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+W6+"' property when initializing the app?")}function Dse(){return new Pn(Rn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Mse(){return new Pn(Rn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Ose(t){return new Pn(Rn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function k1(t){return new Pn(Rn.INVALID_ARGUMENT,t)}function K6(){return new Pn(Rn.APP_DELETED,"The Firebase app was deleted.")}function Lse(t){return new Pn(Rn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Um(t,e){return new Pn(Rn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function um(t){throw new Pn(Rn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ds.makeFromUrl(e,n)}catch{return new Ds(e,"")}if(r.path==="")return r;throw Rse(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const o="(/(.*))?$",c=new RegExp("^gs://"+i+o,"i"),d={bucket:1,path:3};function h(C){C.path_=decodeURIComponent(C.path)}const m="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",x=new RegExp(`^https?://${f}/${m}/b/${i}/o${g}`,"i"),N={bucket:1,path:3},w=n===H6?"(?:storage.googleapis.com|storage.cloud.google.com)":n,j="([^?#]*)",_=new RegExp(`^https?://${w}/${i}/${j}`,"i"),k=[{regex:c,indices:d,postModify:a},{regex:x,indices:N,postModify:h},{regex:_,indices:{bucket:1,path:2},postModify:h}];for(let C=0;C<k.length;C++){const R=k[C],F=R.regex.exec(e);if(F){const D=F[R.indices.bucket];let P=F[R.indices.path];P||(P=""),r=new Ds(D,P),R.postModify(r);break}}if(r==null)throw Ise(e);return r}}class Fse{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vse(t,e,n){let r=1,i=null,a=null,o=!1,c=0;function d(){return c===2}let h=!1;function m(...j){h||(h=!0,e.apply(null,j))}function f(j){i=setTimeout(()=>{i=null,t(x,d())},j)}function g(){a&&clearTimeout(a)}function x(j,..._){if(h){g();return}if(j){g(),m.call(null,j,..._);return}if(d()||o){g(),m.call(null,j,..._);return}r<64&&(r*=2);let k;c===1?(c=2,k=0):k=(r+Math.random())*1e3,f(k)}let N=!1;function w(j){N||(N=!0,g(),!h&&(i!==null?(j||(c=2),clearTimeout(i),f(0)):j||(c=1)))}return f(0),a=setTimeout(()=>{o=!0,w(!0)},n),w}function Use(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zse(t){return t!==void 0}function Bse(t){return typeof t=="object"&&!Array.isArray(t)}function _N(t){return typeof t=="string"||t instanceof String}function mA(t){return NN()&&t instanceof Blob}function NN(){return typeof Blob<"u"}function fA(t,e,n,r){if(r<e)throw k1(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw k1(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function G6(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Vc;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Vc||(Vc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $se(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qse{constructor(e,n,r,i,a,o,c,d,h,m,f,g=!0,x=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=c,this.errorCallback_=d,this.timeout_=h,this.progressCallback_=m,this.connectionFactory_=f,this.retry=g,this.isUsingEmulator=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,w)=>{this.resolve_=N,this.reject_=w,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Rg(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=c=>{const d=c.loaded,h=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,h)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const c=a.getErrorCode()===Vc.NO_ERROR,d=a.getStatus();if(!c||$se(d,this.additionalRetryCodes_)&&this.retry){const m=a.getErrorCode()===Vc.ABORT;r(!1,new Rg(!1,null,m));return}const h=this.successCodes_.indexOf(d)!==-1;r(!0,new Rg(h,a))})},n=(r,i)=>{const a=this.resolve_,o=this.reject_,c=i.connection;if(i.wasSuccessCode)try{const d=this.callback_(c,c.getResponse());zse(d)?a(d):a()}catch(d){o(d)}else if(c!==null){const d=jN();d.serverResponse=c.getErrorText(),this.errorCallback_?o(this.errorCallback_(c,d)):o(d)}else if(i.canceled){const d=this.appDelete_?K6():Ase();o(d)}else{const d=Tse();o(d)}};this.canceled_?n(!1,new Rg(!1,null,!0)):this.backoffId_=Vse(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Use(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Rg{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Hse(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Wse(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Kse(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Gse(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Qse(t,e,n,r,i,a,o=!0,c=!1){const d=G6(t.urlParams),h=t.url+d,m=Object.assign({},t.headers);return Kse(m,e),Hse(m,n),Wse(m,a),Gse(m,r),new qse(h,t.method,m,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yse(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Jse(...t){const e=Yse();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(NN())return new Blob(t);throw new Pn(Rn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Xse(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zse(t){if(typeof atob>"u")throw Ose("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Fb{constructor(e,n){this.data=e,this.contentType=n||null}}function eie(t,e){switch(t){case aa.RAW:return new Fb(Q6(e));case aa.BASE64:case aa.BASE64URL:return new Fb(Y6(t,e));case aa.DATA_URL:return new Fb(nie(e),rie(e))}throw jN()}function Q6(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,o=t.charCodeAt(++n);r=65536|(a&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function tie(t){let e;try{e=decodeURIComponent(t)}catch{throw Um(aa.DATA_URL,"Malformed data URL.")}return Q6(e)}function Y6(t,e){switch(t){case aa.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw Um(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case aa.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw Um(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Zse(e)}catch(i){throw i.message.includes("polyfill")?i:Um(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class J6{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Um(aa.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=sie(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function nie(t){const e=new J6(t);return e.base64?Y6(aa.BASE64,e.rest):tie(e.rest)}function rie(t){return new J6(t).contentType}function sie(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,n){let r=0,i="";mA(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(mA(this.data_)){const r=this.data_,i=Xse(r,e,n);return i===null?null:new nl(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new nl(r,!0)}}static getBlob(...e){if(NN()){const n=e.map(r=>r instanceof nl?r.data_:r);return new nl(Jse.apply(null,n))}else{const n=e.map(o=>_N(o)?eie(aa.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let a=0;return n.forEach(o=>{for(let c=0;c<o.length;c++)i[a++]=o[c]}),new nl(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X6(t){let e;try{e=JSON.parse(t)}catch{return null}return Bse(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iie(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function aie(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function Z6(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oie(t,e){return e}class Br{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||oie}}let Pg=null;function lie(t){return!_N(t)||t.length<2?t:Z6(t)}function eO(){if(Pg)return Pg;const t=[];t.push(new Br("bucket")),t.push(new Br("generation")),t.push(new Br("metageneration")),t.push(new Br("name","fullPath",!0));function e(a,o){return lie(o)}const n=new Br("name");n.xform=e,t.push(n);function r(a,o){return o!==void 0?Number(o):o}const i=new Br("size");return i.xform=r,t.push(i),t.push(new Br("timeCreated")),t.push(new Br("updated")),t.push(new Br("md5Hash",null,!0)),t.push(new Br("cacheControl",null,!0)),t.push(new Br("contentDisposition",null,!0)),t.push(new Br("contentEncoding",null,!0)),t.push(new Br("contentLanguage",null,!0)),t.push(new Br("contentType",null,!0)),t.push(new Br("metadata","customMetadata",!0)),Pg=t,Pg}function cie(t,e){function n(){const r=t.bucket,i=t.fullPath,a=new Ds(r,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function uie(t,e,n){const r={};r.type="file";const i=n.length;for(let a=0;a<i;a++){const o=n[a];r[o.local]=o.xform(r,e[o.server])}return cie(r,t),r}function tO(t,e,n){const r=X6(e);return r===null?null:uie(t,r,n)}function die(t,e,n,r){const i=X6(e);if(i===null||!_N(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const o=encodeURIComponent;return a.split(",").map(h=>{const m=t.bucket,f=t.fullPath,g="/b/"+o(m)+"/o/"+o(f),x=SN(g,n,r),N=G6({alt:"media",token:h});return x+N})[0]}function hie(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class nO{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(t){if(!t)throw jN()}function mie(t,e){function n(r,i){const a=tO(t,i,e);return rO(a!==null),a}return n}function fie(t,e){function n(r,i){const a=tO(t,i,e);return rO(a!==null),die(a,i,t.host,t._protocol)}return n}function sO(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Cse():i=Ese():n.getStatus()===402?i=Sse(t.bucket):n.getStatus()===403?i=kse(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function pie(t){const e=sO(t);function n(r,i){let a=e(r,i);return r.getStatus()===404&&(a=Nse(t.path)),a.serverResponse=i.serverResponse,a}return n}function gie(t,e,n){const r=e.fullServerUrl(),i=SN(r,t.host,t._protocol),a="GET",o=t.maxOperationRetryTime,c=new nO(i,a,fie(t,n),o);return c.errorHandler=pie(e),c}function xie(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function yie(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=xie(null,e)),r}function vie(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function c(){let k="";for(let C=0;C<2;C++)k=k+Math.random().toString().slice(2);return k}const d=c();o["Content-Type"]="multipart/related; boundary="+d;const h=yie(e,r,i),m=hie(h,n),f="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+m+`\r
--`+d+`\r
Content-Type: `+h.contentType+`\r
\r
`,g=`\r
--`+d+"--",x=nl.getBlob(f,r,g);if(x===null)throw Dse();const N={name:h.fullPath},w=SN(a,t.host,t._protocol),j="POST",_=t.maxUploadRetryTime,E=new nO(w,j,mie(t,n),_);return E.urlParams=N,E.headers=o,E.body=x.uploadData(),E.errorHandler=sO(e),E}class bie{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Vc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Vc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Vc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,a){if(this.sent_)throw um("cannot .send() more than once");if(Ul(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const o in a)a.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,a[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw um("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw um("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw um("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw um("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class wie extends bie{initXhr(){this.xhr_.responseType="text"}}function iO(){return new wie}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,n){this._service=e,n instanceof Ds?this._location=n:this._location=Ds.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Yc(e,n)}get root(){const e=new Ds(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Z6(this._location.path)}get storage(){return this._service}get parent(){const e=iie(this._location.path);if(e===null)return null;const n=new Ds(this._location.bucket,e);return new Yc(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Lse(e)}}function jie(t,e,n){t._throwIfRoot("uploadBytes");const r=vie(t.storage,t._location,eO(),new nl(e,!0),n);return t.storage.makeRequestWithTokens(r,iO).then(i=>({metadata:i,ref:t}))}function _ie(t){t._throwIfRoot("getDownloadURL");const e=gie(t.storage,t._location,eO());return t.storage.makeRequestWithTokens(e,iO).then(n=>{if(n===null)throw Mse();return n})}function Nie(t,e){const n=aie(t._location.path,e),r=new Ds(t._location.bucket,n);return new Yc(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sie(t){return/^[A-Za-z]+:\/\//.test(t)}function Eie(t,e){return new Yc(t,e)}function aO(t,e){if(t instanceof EN){const n=t;if(n._bucket==null)throw Pse();const r=new Yc(n,n._bucket);return e!=null?aO(r,e):r}else return e!==void 0?Nie(t,e):t}function Cie(t,e){if(e&&Sie(e)){if(t instanceof EN)return Eie(t,e);throw k1("To use ref(service, url), the first argument must be a Storage instance.")}else return aO(t,e)}function pA(t,e){const n=e==null?void 0:e[W6];return n==null?null:Ds.makeFromBucketSpec(n,t)}function kie(t,e,n,r={}){t.host=`${e}:${n}`;const i=Ul(e);i&&(C_(`https://${t.host}/b`),gM("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:vJ(a,t.app.options.projectId))}class EN{constructor(e,n,r,i,a,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=o,this._bucket=null,this._host=H6,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=jse,this._maxUploadRetryTime=_se,this._requests=new Set,i!=null?this._bucket=Ds.makeFromBucketSpec(i,this._host):this._bucket=pA(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ds.makeFromBucketSpec(this._url,e):this._bucket=pA(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){fA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){fA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Rs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Yc(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new Fse(K6());{const o=Qse(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const gA="@firebase/storage",xA="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO="storage";function Tie(t,e,n){return t=Sn(t),jie(t,e,n)}function Aie(t){return t=Sn(t),_ie(t)}function Iie(t,e){return t=Sn(t),Cie(t,e)}function Rie(t=bM(),e){t=Sn(t);const r=Oy(t,oO).getImmediate({identifier:e}),i=xJ("storage");return i&&Pie(r,...i),r}function Pie(t,e,n,r={}){kie(t,e,n,r)}function Die(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new EN(n,r,i,e,au)}function Mie(){Hc(new kl(oO,Die,"PUBLIC").setMultipleInstances(!0)),ua(gA,xA,""),ua(gA,xA,"esm2020")}Mie();const Oie={BASE_URL:"/imediaweb/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_ADMIN_EMAIL:"huzaify786@gmail.com",VITE_BASE_PATH:"/imediaweb/",VITE_FIREBASE_API_KEY:"AIzaSyDLi7mVwWnHp_jFlo6KfIXMZEu1iGpA-YE",VITE_FIREBASE_APP_ID:"1:947105835283:web:b06706b15af28b4c3f12e6",VITE_FIREBASE_AUTH_DOMAIN:"studio-1726517794-3d5f0.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"947105835283",VITE_FIREBASE_PROJECT_ID:"studio-1726517794-3d5f0",VITE_FIREBASE_STORAGE_BUCKET:"studio-1726517794-3d5f0.appspot.com",VITE_USE_BACKEND:"false"};let Dg,yA,lx;const cx="false".toLowerCase()==="true"||!1,Vb={apiKey:"AIzaSyDLi7mVwWnHp_jFlo6KfIXMZEu1iGpA-YE",authDomain:"studio-1726517794-3d5f0.firebaseapp.com",projectId:"studio-1726517794-3d5f0",storageBucket:"studio-1726517794-3d5f0.appspot.com",messagingSenderId:"947105835283",appId:"1:947105835283:web:b06706b15af28b4c3f12e6"};function qt(){if(!Dg&&Vb.apiKey&&Vb.projectId){Dg=vM(Vb),yA=cte(Dg);const t=typeof import.meta<"u"&&Oie&&!1;try{dte(t?"error":"silent")}catch{}}return{app:Dg,auth:yA,db:lx}}function ji(){const{app:t}=qt();if(!t)throw new Error("Firebase not configured");return lx||(lx=ose(t,{experimentalAutoDetectLongPolling:!0,useFetchStreams:!1})),lx}async function lO(t,e){const{auth:n}=qt();if(!n)throw new Error("Firebase not configured");return(await GM(n,t,e)).user}async function cO(t,e){const{auth:n}=qt();if(!n)throw new Error("Firebase not configured");return(await GM(n,t,e)).user}async function uO(){const{auth:t}=qt();t&&await XZ(t)}async function dO(t,e){const{auth:n}=qt();if(!n)throw new Error("Firebase not configured");return(await KZ(n,t,e)).user}async function CN(t,e){const n=ji(),r=Qc(n,"users",t);await B6(r,{uid:t,...e||{},updatedAt:new Date},{merge:!0})}async function tp(t){const e=ji(),n=Qc(e,"users",t),r=await U6(n);return r.exists()?r.data():null}function ph(t){const{auth:e}=qt();return e?JZ(e,t):()=>{}}async function hO(t){const{auth:e}=qt();if(!e)throw new Error("Firebase not configured");return O_(e,t)}async function mO(){const{auth:t}=qt(),e=t==null?void 0:t.currentUser;if(!e)throw new Error("No authenticated user to verify");await GZ(e)}const Zx={async add(t){var r,i;if(cx)try{const{auth:a}=qt(),o=await((i=(r=a==null?void 0:a.currentUser)==null?void 0:r.getIdToken)==null?void 0:i.call(r)),d=await fetch("/api/messages",{method:"POST",headers:{"Content-Type":"application/json",...o?{Authorization:`Bearer ${o}`}:{}},body:JSON.stringify({message:t})});if(!d.ok)throw new Error(`Backend error: ${d.status}`);return await d.json()}catch(a){console.warn("Backend add failed, falling back to Firestore:",(a==null?void 0:a.message)||a)}const e=ji(),n=Hd(e,"messages");return q6(n,t)},async list(){var i,a;if(cx)try{const{auth:o}=qt(),c=await((a=(i=o==null?void 0:o.currentUser)==null?void 0:i.getIdToken)==null?void 0:a.call(i)),h=await fetch("/api/messages",{headers:{...c?{Authorization:`Bearer ${c}`}:{}}});if(!h.ok)throw new Error(`Backend error: ${h.status}`);return await h.json()}catch(o){console.warn("Backend list failed, falling back to Firestore:",(o==null?void 0:o.message)||o)}const t=ji(),e=Hd(t,"messages"),n=O6(e,L6("createdAt","desc"));return(await bf(n)).docs.map(o=>({id:o.id,...o.data()}))},async markRead(t,e=!0){var i,a;if(cx)try{const{auth:o}=qt(),c=await((a=(i=o==null?void 0:o.currentUser)==null?void 0:i.getIdToken)==null?void 0:a.call(i)),h=await fetch("/api/messages",{method:"PATCH",headers:{"Content-Type":"application/json",...c?{Authorization:`Bearer ${c}`}:{}},body:JSON.stringify({id:t,read:e})});if(!h.ok)throw new Error(`Backend error: ${h.status}`);return await h.json()}catch(o){console.warn("Backend markRead failed, falling back to Firestore:",(o==null?void 0:o.message)||o)}const n=ji(),r=Qc(n,"messages",t);await $6(r,{read:e})}},kN={async list(){var r,i;if(cx)try{const{auth:a}=qt(),o=await((i=(r=a==null?void 0:a.currentUser)==null?void 0:r.getIdToken)==null?void 0:i.call(r)),d=await fetch("/api/users",{headers:{...o?{Authorization:`Bearer ${o}`}:{}}});if(!d.ok)throw new Error(`Backend error: ${d.status}`);return await d.json()}catch(a){console.warn("Backend users list failed, falling back to Firestore:",(a==null?void 0:a.message)||a)}const t=ji(),e=Hd(t,"users");return(await bf(e)).docs.map(a=>({id:a.id,...a.data()}))}};function Mg(){try{const t=localStorage.getItem("local_sponsors");return t?JSON.parse(t):[]}catch{return[]}}function Ub(t){try{localStorage.setItem("local_sponsors",JSON.stringify(t))}catch{}}const Lie=()=>{var t,e;return((e=(t=globalThis.crypto)==null?void 0:t.randomUUID)==null?void 0:e.call(t))||`local_${Date.now()}`},dd={async add(t){let e;try{e=ji()}catch{}if(!e){const i=Mg(),a=Lie(),o=[...i,{...t,_localId:a}];return Ub(o),{id:a}}const n=Hd(e,"sponsors");return{id:(await q6(n,t)).id}},async list(){let t;try{t=ji()}catch{}if(!t)return Mg();const e=Hd(t,"sponsors");let n;try{const r=O6(e,L6("order","asc"));n=await bf(r)}catch{n=await bf(e)}return n.docs.map(r=>({id:r.id,...r.data()}))},async update(t,e){let n;try{n=ji()}catch{}if(!n){const a=Mg().map(o=>o.id===t||o._localId===t?{...o,...e}:o);return Ub(a),{ok:!0}}const r=Qc(n,"sponsors",t);await $6(r,e)},async remove(t){let e;try{e=ji()}catch{}if(!e){const r=Mg().filter(i=>i.id!==t&&i._localId!==t);return Ub(r),{ok:!0}}const n=Qc(e,"sponsors",t);await bse(n)}};async function fO(t,e=""){const{app:n}=qt();if(!n)throw new Error("Firebase not configured");if(!t)throw new Error("No file provided");const r=Rie(n),i=String(e||t.name||"image").replace(/[^a-z0-9._-]+/gi,"-").toLowerCase(),a=`sponsors/${Date.now()}_${i}`,o=Iie(r,a);return await Tie(o,t),{url:await Aie(o),path:a}}async function ey(){const{auth:t}=qt(),e=t==null?void 0:t.currentUser;if(!e)return!1;const n="huzaify786@gmail.com".toLowerCase(),r=String(e.email||"").toLowerCase();return n?r===n:!0}const vA=Object.freeze(Object.defineProperty({__proto__:null,adminSignIn:lO,adminSignOut:uO,getDb:ji,getFirebase:qt,getUserProfile:tp,isAdminUser:ey,messagesApi:Zx,resetPassword:hO,saveUserProfile:CN,sendVerification:mO,signIn:cO,signUp:dO,sponsorsApi:dd,uploadSponsorImage:fO,usersApi:kN,watchAuth:ph},Symbol.toStringTag,{value:"Module"})),pO=v.createContext(),Fie=()=>{const t=v.useContext(pO);return t||{isPlaying:!1,isMuted:!1,volume:.7,togglePlay:()=>{},toggleMute:()=>{},setVolume:()=>{}}};function gO({children:t,currentPageName:e}){const[n,r]=v.useState(!1),[i,a]=v.useState(null),[o,c]=v.useState(!1),[d,h]=v.useState(null),[m,f]=v.useState(!1),[g,x]=v.useState(!1),[N,w]=v.useState(.7),j=v.useRef(null),[_,E]=v.useState({siteTitle:"Islam Kids Zone",tagline:"Learn, Play & Grow",logoEmoji:"",headerGradient:"from-blue-600 to-purple-600",navActiveGradient:"from-blue-500 to-purple-500",backgroundGradient:"from-blue-50 via-purple-50 to-pink-50",darkModeDefault:!1,showTestBanner:!0,showRadioBar:!0});v.useEffect(()=>{try{const q=localStorage.getItem("siteSettings");if(q){const B=JSON.parse(q);E($=>({...$,...B}))}}catch{}},[]),v.useEffect(()=>{_.darkModeDefault?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[_.darkModeDefault]);const k=`min-h-screen bg-gradient-to-br ${_.backgroundGradient}`,C=`bg-gradient-to-r ${_.headerGradient} text-white shadow-lg sticky top-0 z-50`,R=_.supportEmail||"imedia786@gmail.com",F=_.radioUrl||"https://a4.asurahosting.com:7820/radio.mp3";v.useEffect(()=>{const q=["Home","About","ContactUs","Welcome","ParentZone","PrivacyPolicy","Games","Leaderboard","Stories","Learn","Quran","Duas","RecordAndShare","IslamicEncyclopedia","IslamicFacts","ColoringPages","PoetryWriting","Worksheets","MonthlyContest","CreativeCorner","Videos","History","Hadith","Tajweed","LearningLibrary"];console.log("currentPageName:",e),console.log("publicPages:",q)},[e]),v.useEffect(()=>{j.current&&(j.current.volume=N)},[N]),v.useEffect(()=>{const q=ph(async B=>{try{if(B){c(!0);let $=null;try{$=await tp(B.uid)}catch{}const Z=($==null?void 0:$.fullName)||($==null?void 0:$.name)||B.displayName||B.email||"User",H=($==null?void 0:$.points)||0;h({full_name:Z,points:H,email:B.email,uid:B.uid})}else c(!1),h(null)}catch($){console.warn("Auth/profile load failed:",($==null?void 0:$.message)||$),c(!!B),h(B?{full_name:B.email||"User",points:0,email:B.email,uid:B.uid}:null)}});return()=>q==null?void 0:q()},[]);const D=()=>{c(!1),h(null)},P=()=>{j.current&&(m?j.current.pause():j.current.play().catch(q=>{console.error("Error playing radio:",q)}),f(!m))},I=()=>{j.current&&(j.current.muted=!g,x(!g))},O=q=>{w(q),j.current&&(j.current.volume=q)},V=[{name:"Home",icon:rB,path:"Home"},{name:"Games",icon:wl,path:"Games"},{name:"Leaderboard",icon:Kr,path:"Leaderboard"},{name:"Stories",icon:Fn,path:"Stories"},{name:"Videos",icon:fl,path:"Videos"},{name:"Learn",icon:LC,dropdown:[{name:"Hadith",path:"Hadith",icon:Fn},{name:"History",path:"History",icon:DC},{name:"Tajweed",path:"Tajweed",icon:LC}]},{name:"Quran",icon:Fn,dropdown:[{name:"Learn Quran",path:"Quran",icon:Fn},{name:"Full Quran",path:"FullQuran",icon:DC},{name:"Manzil (17)",path:"Manzil",icon:FC},{name:"Hizb (1240)",path:"Hizb",icon:FC},{name:"Hifz Dashboard",path:"HifzDashboard",icon:_z}]},{name:"Challenges",icon:Kr,path:"Challenges"},{name:"Parents",icon:Fl,path:"ParentZone"},{name:"Signup",icon:_w,path:"Signup"},{name:"About",icon:Kv,path:"About"}],ee=String(e||"").toLowerCase().startsWith("admin")||e==="Assistant"?[...V,{name:"AI Agent / ChatGPT",icon:Zd,path:"Assistant"}]:V,re=[...ee,{name:"Privacy Policy",icon:ru,external:!0,url:"https://studio--studio-653801381-47983.us-central1.hosted.app/privacy"}],he=re.filter(q=>q.name!=="Quran"&&q.name!=="Learn"),ae=()=>{r(!1),a(null)},Q={isPlaying:m,isMuted:g,volume:N,togglePlay:P,toggleMute:I,setVolume:O};return s.jsx(pO.Provider,{value:Q,children:s.jsxs("div",{className:k,children:[s.jsx("audio",{ref:j,src:F,preload:"none"}),s.jsx("header",{className:C,children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-6 py-3 md:py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Lt,{to:it("Home"),className:"flex items-center gap-2 md:gap-3 hover:opacity-90 transition-opacity",children:[s.jsx("div",{className:"text-3xl md:text-4xl",children:_.logoEmoji}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl md:text-2xl font-bold",children:_.siteTitle}),s.jsx("p",{className:"text-xs md:text-sm text-blue-100",children:_.tagline})]})]}),s.jsx("div",{className:"hidden md:flex items-center gap-3",children:o&&d?s.jsx(s.Fragment,{children:s.jsxs(I2,{children:[s.jsx(R2,{asChild:!0,children:s.jsxs("button",{className:"flex items-center gap-2 bg-white/20 px-4 py-2 rounded-full hover:bg-white/30 transition-colors",children:[s.jsx(OR,{className:"w-4 h-4"}),s.jsxs("div",{className:"text-sm text-left",children:[s.jsx("div",{className:"font-semibold",children:d.full_name||"User"}),s.jsxs("div",{className:"text-xs text-blue-100",children:[d.points||0," points"]})]}),s.jsx(Gm,{className:"w-4 h-4"})]})}),s.jsxs(t1,{align:"end",className:"w-48",children:[s.jsx(Jg,{asChild:!0,children:s.jsxs(Lt,{to:it("DeleteAccount"),className:"cursor-pointer text-red-600 hover:text-red-700 hover:bg-red-50",children:[s.jsx(Od,{className:"w-4 h-4 mr-2"}),"Delete Account"]})}),s.jsxs(Jg,{onClick:D,className:"cursor-pointer",children:[s.jsx(VC,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})}):null}),s.jsx(G,{variant:"ghost",size:"icon",className:"md:hidden text-white hover:bg-white/20",onClick:()=>r(!n),children:n?s.jsx(ps,{className:"w-6 h-6"}):s.jsx(gB,{className:"w-6 h-6"})})]})})}),s.jsx("nav",{className:"md:hidden bg-white/95 backdrop-blur-sm shadow-sm sticky top-[56px] z-40 border-b border-gray-100",children:s.jsx("div",{className:"max-w-7xl mx-auto px-2",children:s.jsx("div",{className:"flex items-center overflow-x-auto gap-1 py-1.5 scrollbar-hide",children:he.map(q=>{const B=q.icon,$=q.path&&e===q.path;return s.jsx(Lt,{to:q.path?it(q.path):"#",onClick:ae,"aria-label":q.name,title:q.name,className:`flex items-center justify-center w-7 h-7 rounded-full whitespace-nowrap transition-all flex-shrink-0 ${$?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow":"bg-white border border-gray-200 text-gray-700"}`,children:s.jsx(B,{className:"w-4 h-4"})},q.path||q.name)})})})}),s.jsx("nav",{className:"hidden md:block bg-white shadow-md sticky top-[68px] z-40",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4",children:s.jsx("div",{className:"flex overflow-x-auto scrollbar-hide gap-1 py-2",children:ee.map(q=>{const B=q.icon,$=q.path&&e===q.path;if(q.dropdown&&q.dropdown.length>0){const Z=q.dropdown.some(H=>e===H.path);return s.jsxs(I2,{children:[s.jsx(R2,{asChild:!0,children:s.jsxs("button",{type:"button",className:`flex items-center gap-1.5 px-3 py-2 rounded-lg whitespace-nowrap transition-all flex-shrink-0 ${Z?`bg-gradient-to-r ${_.navActiveGradient} text-white shadow-md`:"text-gray-700 hover:bg-gray-100"}`,children:[s.jsx(B,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:q.name}),s.jsx(Gm,{className:"w-3 h-3"})]})}),s.jsx(t1,{children:q.dropdown.map(H=>{const me=H.icon;return s.jsx(Jg,{asChild:!0,children:s.jsxs(Lt,{to:it(H.path),className:"cursor-pointer flex items-center gap-2",children:[me?s.jsx(me,{className:"w-4 h-4"}):null,s.jsx("span",{children:H.name})]})},H.path)})})]},q.name)}return s.jsxs(Lt,{to:it(q.path),className:`flex items-center gap-1.5 px-3 py-2 rounded-lg whitespace-nowrap transition-all flex-shrink-0 ${$?`bg-gradient-to-r ${_.navActiveGradient} text-white shadow-md`:"text-gray-700 hover:bg-gray-100"}`,children:[s.jsx(B,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:q.name})]},q.path)})})})}),n&&s.jsxs("div",{className:"fixed inset-0 z-[1000] md:hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>r(!1)}),s.jsx("div",{className:"absolute top-0 right-0 h-full w-[280px] bg-white shadow-2xl overflow-y-auto z-[1001]",children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Menu"}),s.jsx(G,{variant:"ghost",size:"icon",onClick:()=>r(!1),children:s.jsx(ps,{className:"w-5 h-5"})})]}),o&&d?s.jsxs("div",{className:"mb-4 pb-4 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3 bg-gradient-to-r from-blue-50 to-purple-500 p-3 rounded-lg",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-2xl",children:d.avatar||""}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-bold text-gray-900",children:d.full_name||"User"}),s.jsx("div",{className:"text-sm text-gray-600",children:d.email}),s.jsxs("div",{className:"text-xs text-blue-600 font-semibold mt-1",children:[" ",d.points||0," points"]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Lt,{to:it("DeleteAccount"),onClick:ae,children:s.jsxs(G,{variant:"outline",size:"sm",className:"w-full text-red-600 border-red-300 hover:bg-red-50",children:[s.jsx(Od,{className:"w-4 h-4 mr-2"}),"Delete Account"]})}),s.jsxs(G,{onClick:D,variant:"outline",size:"sm",className:"w-full",children:[s.jsx(VC,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]}):s.jsxs("div",{className:"mb-4 pb-4 border-b border-gray-200 space-y-2",children:[s.jsx(Lt,{to:it("Signup"),onClick:ae,children:s.jsxs(G,{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-blue-500 to-purple-500 text-white font-bold shadow hover:scale-105 transition-transform w-full",children:[s.jsx(_w,{className:"w-4 h-4 mr-2"}),"Sign up"]})}),s.jsx(Lt,{to:it("Login"),onClick:ae,children:s.jsxs(G,{variant:"outline",className:"flex items-center gap-2 px-4 py-2 rounded-lg w-full",children:[s.jsx(RR,{className:"w-4 h-4 mr-2"}),"Login"]})})]}),s.jsx("nav",{className:"flex flex-wrap gap-x-4 gap-y-2 items-center justify-center py-4",children:re.map(q=>{if(q.external){const $=q.icon;return s.jsxs("a",{href:q.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 rounded-lg text-base font-medium text-gray-800 bg-white hover:bg-blue-100 shadow transition-all duration-150",children:[$?s.jsx($,{className:"w-5 h-5 text-blue-600"}):null,q.name]},q.name)}if(q.dropdown&&q.dropdown.length>0)return q.dropdown.map($=>{const Z=$.icon;return s.jsxs(Lt,{to:it($.path),onClick:ae,className:"flex items-center gap-2 px-4 py-2 rounded-lg text-base font-medium text-gray-800 bg-white hover:bg-blue-100 shadow transition-all duration-150",children:[Z?s.jsx(Z,{className:"w-5 h-5 text-blue-600"}):null,$.name]},`${q.name}-${$.path}`)});const B=q.icon;return s.jsxs(Lt,{to:it(q.path),onClick:ae,className:"flex items-center gap-2 px-4 py-2 rounded-lg text-base font-medium text-gray-800 bg-white hover:bg-blue-100 shadow transition-all duration-150",children:[B?s.jsx(B,{className:"w-5 h-5 text-blue-600"}):null,q.name]},q.name)})})]})})]}),s.jsxs("main",{className:"max-w-7xl mx-auto px-4 md:px-6 py-4 md:py-6",style:{paddingBottom:m?"100px":"24px"},children:[_.maintenanceMode&&s.jsx("div",{className:"mb-4",children:s.jsx("div",{className:"bg-yellow-100 border-2 border-yellow-300 rounded-lg p-3 shadow-md",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Kv,{className:"w-5 h-5 text-yellow-700 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1 text-sm text-gray-800",children:[s.jsx("strong",{className:"text-yellow-700",children:"Maintenance Mode:"})," Some features may be temporarily unavailable. For support, email ",s.jsx("span",{className:"font-medium",children:R}),_.supportWhatsappNumber&&s.jsxs(s.Fragment,{children:[" or WhatsApp ",s.jsx("span",{className:"font-medium",children:_.supportWhatsappNumber})]}),"."]})]})})}),t,_.showTestBanner&&s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"mt-8 mb-4",children:s.jsx("div",{className:"bg-gradient-to-r from-blue-100 to-purple-100 border-2 border-blue-300 rounded-lg p-4 shadow-md",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Kv,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),s.jsx("div",{className:"flex-1",children:s.jsxs("p",{className:"text-sm text-gray-800 leading-relaxed",children:[s.jsx("strong",{className:"text-blue-600",children:" Test Mode:"})," We are currently testing the website. If you see any errors, please use the WhatsApp icon on the home page or contact page to message us.",s.jsx("br",{className:"hidden md:block"}),s.jsx("strong",{className:"text-purple-600",children:" Install as App:"}),' To install this website as an app on your device, click on the three dots () if using Chrome and scroll down to "Add to Home Screen."']})})]})})})]}),_.showRadioBar&&m&&s.jsx(te.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},className:"fixed bottom-0 left-0 right-0 bg-gradient-to-r from-purple-600 to-blue-600 text-white shadow-2xl z-50 border-t-4 border-purple-400",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-3",children:s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[s.jsx(DR,{className:"w-6 h-6 text-white flex-shrink-0 animate-pulse"}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"font-bold text-sm truncate",children:"Islamic Radio 24/7"}),s.jsx("p",{className:"text-xs text-purple-200 truncate",children:"Live Islamic Content"})]})]}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[s.jsxs("div",{className:"hidden sm:flex items-center gap-2 bg-white/20 px-3 py-2 rounded-full backdrop-blur-sm",children:[s.jsx(G,{onClick:I,size:"sm",variant:"ghost",className:"text-white hover:bg-white/20 p-1 h-8 w-8",children:g?s.jsx(Jm,{className:"w-4 h-4"}):s.jsx(_l,{className:"w-4 h-4"})}),s.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:N,onChange:q=>O(parseFloat(q.target.value)),className:"w-20 h-2 bg-white/30 rounded-lg appearance-none cursor-pointer accent-white"})]}),s.jsx(G,{onClick:P,size:"sm",className:"bg-white/20 hover:bg-white/30 text-white border-2 border-white/40 rounded-full w-10 h-10 p-0",children:m?s.jsx(Ll,{className:"w-5 h-5"}):s.jsx(dr,{className:"w-5 h-5 ml-0.5"})}),s.jsx(G,{onClick:I,size:"sm",variant:"ghost",className:"sm:hidden text-white hover:bg-white/20 p-2 h-10 w-10",children:g?s.jsx(Jm,{className:"w-5 h-5"}):s.jsx(_l,{className:"w-5 h-5"})})]})]})})})]})})}gO.propTypes={children:At.node.isRequired,currentPageName:At.string};const ne=v.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:ct("rounded-xl border bg-card text-card-foreground shadow",t),...e}));ne.displayName="Card";const Fe=v.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:ct("flex flex-col space-y-1.5 p-6",t),...e}));Fe.displayName="CardHeader";const Ve=v.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:ct("font-semibold leading-none tracking-tight",t),...e}));Ve.displayName="CardTitle";const Vie=v.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:ct("text-sm text-muted-foreground",t),...e}));Vie.displayName="CardDescription";const ie=v.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:ct("p-6 pt-0",t),...e}));ie.displayName="CardContent";const Uie=v.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:ct("flex items-center p-6 pt-0",t),...e}));Uie.displayName="CardFooter";const zie=[{title:"Islamic Games",description:"Fun educational games to learn about Islam",icon:wl,link:"Games",color:"from-blue-500 to-purple-500"},{title:"Stories",description:"Read inspiring stories from Islamic history",icon:Fn,link:"Stories",color:"from-green-500 to-teal-500"},{title:"Videos",description:"Watch educational Islamic videos for kids",icon:fl,link:"Videos",color:"from-red-500 to-orange-500"},{title:"Leaderboard",description:"Compete with friends and earn badges",icon:Kr,link:"Leaderboard",color:"from-amber-500 to-yellow-500"},{title:"Creative Corner",description:"Express yourself through Islamic art & poetry",icon:gy,link:"CreativeCorner",color:"from-pink-500 to-rose-500"}],Bie=[{icon:th,title:"Love & Compassion",description:"Teaching kindness and mercy to all",color:"text-red-500"},{icon:fn,title:"Knowledge & Wisdom",description:"Seeking knowledge is obligatory",color:"text-yellow-500"},{icon:ru,title:"Safety & Security",description:"A safe environment for children",color:"text-blue-500"}];function ux(){const{isPlaying:t,isMuted:e,volume:n,togglePlay:r,toggleMute:i,setVolume:a}=Fie(),[o,c]=v.useState(0),[d,h]=v.useState([]),m=[{id:1,text:"Welcome to Islam Kids Zone",subtext:"Learn, Play & Grow in Faith",gradient:"from-blue-600 via-purple-600 to-pink-600"},{id:2,text:'"Whoever guides someone to goodness will have a reward like one who did it."',subtext:" Sahih Muslim",gradient:"from-green-600 via-teal-600 to-cyan-600"},{id:3,text:`"The best among you are those who learn the Qur'an and teach it."`,subtext:" Sahih Bukhari",gradient:"from-amber-600 via-orange-600 to-red-600"},{id:4,text:'"Remember Allah much so that you may be successful."',subtext:" Qur'an 62:10",gradient:"from-purple-600 via-pink-600 to-rose-600"}];v.useEffect(()=>{const g=setInterval(()=>{c(x=>(x+1)%m.length)},5e3);return()=>clearInterval(g)},[]),v.useEffect(()=>{(async()=>{try{const N=(await dd.list()||[]).filter(w=>(w.active??!0)&&(w.placement||"home")==="home");N.sort((w,j)=>(w.order??0)-(j.order??0)),h(N)}catch{try{const N=localStorage.getItem("homepage_sponsors"),w=N?JSON.parse(N):[],j=(Array.isArray(w)?w:[]).filter(_=>(_.active??!0)&&(_.placement||"home")==="home");j.sort((_,E)=>(_.order??0)-(E.order??0)),h(j)}catch{h([])}}})()},[]);const f=g=>{const x=parseFloat(g.target.value);a(x)};return s.jsxs("div",{className:"min-h-screen",children:[s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"fixed bottom-6 left-4 md:left-6 z-50",children:s.jsx("a",{href:"https://wa.me/447447999284?text=Assalamu%20Alaikum!%20I%20have%20a%20question%20about%20Islam%20Kids%20Zone.",target:"_blank",rel:"noopener noreferrer",className:"block bg-green-500 hover:bg-green-600 text-white rounded-full p-3 md:p-4 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-110","aria-label":"Chat on WhatsApp",children:s.jsx(yB,{className:"w-6 h-6 md:w-8 md:h-8"})})}),s.jsxs("section",{className:"relative py-12 md:py-20 px-4 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-100 via-purple-100 to-pink-100 opacity-50"}),s.jsx("div",{className:"max-w-6xl mx-auto relative z-10",children:s.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[s.jsx(te.div,{className:"text-6xl md:text-8xl mb-6",animate:{rotate:[0,10,-10,0]},transition:{duration:3,repeat:1/0,repeatDelay:2},children:""}),s.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-gray-900 mb-4 md:mb-6",children:["Welcome to ",s.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600",children:"Islam Kids Zone"})]}),s.jsx("p",{className:"text-lg md:text-xl text-gray-700 mb-6 md:mb-8 max-w-3xl mx-auto",children:"A comprehensive Islamic learning platform designed for children. Learn through interactive games, stories, and engaging activities."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx(Lt,{to:it("Games"),children:s.jsxs(G,{size:"lg",className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white text-base md:text-lg px-6 md:px-8 py-4 md:py-6 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[s.jsx(_i,{className:"mr-2 w-5 h-5 md:w-6 md:h-6"}),"Start Learning"]})}),s.jsx(Lt,{to:it("Signup"),children:s.jsxs(G,{size:"lg",className:"bg-gradient-to-r from-green-500 to-teal-500 hover:from-green-600 hover:to-teal-600 text-white text-base md:text-lg px-6 md:px-8 py-4 md:py-6 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[s.jsx(_w,{className:"mr-2 w-5 h-5 md:w-6 md:h-6"}),"Signup"]})})]})]})})]}),s.jsx("section",{className:"py-4 px-4 bg-gradient-to-r from-amber-500 to-orange-500",children:s.jsx("div",{className:"max-w-6xl mx-auto",children:s.jsx(te.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl border-4 border-amber-400",children:s.jsx("div",{className:"p-6 md:p-8",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"text-4xl md:text-5xl flex-shrink-0 animate-bounce",children:""}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx(_i,{className:"w-6 h-6 text-amber-600"}),"Website Under Development"]}),s.jsxs("div",{className:"space-y-2 text-gray-700",children:[s.jsx("p",{className:"text-base md:text-lg font-semibold",children:" We are currently working on exciting website improvements!"}),s.jsxs("p",{className:"text-sm md:text-base",children:["Our team is enhancing your experience with new features, better performance, and more Islamic content. The website is under construction and testing for the next ",s.jsx("strong",{className:"text-amber-600",children:"two weeks"}),"."]}),s.jsxs("div",{className:"bg-amber-50 border-2 border-amber-200 rounded-lg p-4 mt-4",children:[s.jsxs("p",{className:"text-sm md:text-base font-semibold text-amber-900 flex items-center gap-2",children:[s.jsx(th,{className:"w-5 h-5 text-red-500 fill-red-500"}),"Please kindly support us during this time!"]}),s.jsx("p",{className:"text-xs md:text-sm text-amber-800 mt-2",children:"If you encounter any issues or have suggestions, please use the WhatsApp button or contact us. Thank you for your patience and understanding! "})]})]})]})]})})})})}),s.jsx("section",{className:"py-8 md:py-12 px-4",children:s.jsx("div",{className:"max-w-6xl mx-auto",children:s.jsxs("div",{className:"relative overflow-hidden rounded-2xl shadow-2xl",children:[s.jsx(ri,{mode:"wait",children:s.jsx(te.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:.5},className:`bg-gradient-to-r ${m[o].gradient} flex items-center justify-center p-8 md:p-12`,children:s.jsxs("div",{className:"text-center text-white",children:[s.jsx("h2",{className:"text-2xl md:text-4xl font-bold mb-2",children:m[o].text}),m[o].subtext&&s.jsx("p",{className:"text-sm md:text-lg text-white/90",children:m[o].subtext})]})},o)}),s.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex gap-2 z-10",children:m.map((g,x)=>s.jsx("button",{onClick:()=>c(x),className:`w-2 h-2 md:w-3 md:h-3 rounded-full transition-all ${x===o?"bg-white w-6 md:w-8":"bg-white/50"}`,"aria-label":`Go to slide ${x+1}`},x))})]})})}),s.jsx("section",{className:"py-8 md:py-12 px-4 bg-white",children:s.jsx("div",{className:"max-w-6xl mx-auto",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-center p-6 bg-gradient-to-br from-blue-50 to-purple-50 rounded-2xl border-2 border-blue-200",children:[s.jsx("div",{className:"text-5xl mb-4",children:""}),s.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-2",children:"12+"}),s.jsx("p",{className:"text-gray-600 font-medium",children:"Interactive Games"})]}),s.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-center p-6 bg-gradient-to-br from-green-50 to-teal-50 rounded-2xl border-2 border-green-200",children:[s.jsx("div",{className:"text-5xl mb-4",children:""}),s.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-2",children:"7"}),s.jsx("p",{className:"text-gray-600 font-medium",children:"Educational Modules"})]}),s.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-center p-6 bg-gradient-to-br from-amber-50 to-orange-50 rounded-2xl border-2 border-amber-200",children:[s.jsx("div",{className:"text-5xl mb-4",children:""}),s.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-2",children:"100+"}),s.jsx("p",{className:"text-gray-600 font-medium",children:"Active Learners"})]})]})})}),s.jsx("section",{className:"py-8 md:py-12 px-4 bg-gradient-to-br from-purple-50 to-blue-50",children:s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:s.jsx(ne,{className:"border-4 border-purple-300 shadow-2xl bg-gradient-to-r from-purple-600 to-blue-600",children:s.jsxs(ie,{className:"p-6 md:p-8",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[s.jsx(DR,{className:"w-10 h-10 md:w-12 md:h-12 text-white"}),s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white",children:"Islamic Radio "})]}),s.jsx("p",{className:"text-lg md:text-xl text-white/90",children:"Listen to Live Islamic Content 24/7"}),s.jsx("p",{className:"text-sm text-white/80 mt-2",children:"Radio continues playing as you browse the site!"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[s.jsx(G,{onClick:r,size:"lg",className:"bg-white/20 hover:bg-white/30 text-white border-4 border-white/40 rounded-full w-20 h-20 md:w-24 md:h-24 p-0 shadow-xl",children:t?s.jsx(Ll,{className:"w-10 h-10 md:w-12 md:h-12"}):s.jsx(dr,{className:"w-10 h-10 md:w-12 md:h-12 ml-1"})}),s.jsxs("div",{className:"flex items-center gap-4 bg-white/20 px-6 py-4 rounded-full backdrop-blur-sm w-full sm:w-auto sm:min-w-[300px]",children:[s.jsx(G,{onClick:i,size:"sm",variant:"ghost",className:"text-white hover:bg-white/20 p-2 h-10 w-10",children:e?s.jsx(Jm,{className:"w-6 h-6"}):s.jsx(_l,{className:"w-6 h-6"})}),s.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:n,onChange:f,className:"flex-1 h-3 bg-white/30 rounded-lg appearance-none cursor-pointer accent-white"})]})]}),s.jsx("div",{className:"text-center mt-6",children:s.jsx("p",{className:"text-sm text-white/80",children:t?" Now Playing - Islamic Radio":"Click play to start listening"})})]})})})})}),s.jsx("section",{className:"py-12 md:py-16 px-4 bg-white",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Our Core Values"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Building strong Islamic character and knowledge through engaging content"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8",children:Bie.map((g,x)=>s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*x},children:s.jsx(ne,{className:"h-full hover:shadow-xl transition-shadow duration-300 border-2 hover:border-purple-300",children:s.jsxs(ie,{className:"p-6 text-center",children:[s.jsx(g.icon,{className:`w-16 h-16 mx-auto mb-4 ${g.color}`}),s.jsx("h3",{className:"text-xl font-bold mb-2 text-gray-900",children:g.title}),s.jsx("p",{className:"text-gray-600",children:g.description})]})})},x))})]})}),s.jsx("section",{className:"py-12 md:py-16 px-4 bg-gradient-to-br from-blue-50 to-purple-50",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Comprehensive Islamic Learning"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Explore our wide range of educational resources designed for children"})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:zie.map((g,x)=>s.jsx(te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1*x},whileHover:{scale:1.05},children:s.jsx(Lt,{to:it(g.link),children:s.jsx(ne,{className:"h-full hover:shadow-2xl transition-all duration-300 cursor-pointer border-2 hover:border-purple-300",children:s.jsxs(ie,{className:"p-6 text-center",children:[s.jsx("div",{className:`w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-r ${g.color} flex items-center justify-center`,children:s.jsx(g.icon,{className:"w-8 h-8 text-white"})}),s.jsx("h3",{className:"text-lg font-bold mb-2 text-gray-900",children:g.title}),s.jsx("p",{className:"text-sm text-gray-600",children:g.description})]})})})},x))})]})}),s.jsx("section",{className:"py-12 md:py-16 px-4 bg-white",children:s.jsx("div",{className:"max-w-6xl mx-auto",children:s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:s.jsx(ne,{className:"border-4 border-amber-400 shadow-2xl bg-gradient-to-br from-amber-50 to-orange-50",children:s.jsx(ie,{className:"p-8 md:p-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-6xl mb-6",children:""}),s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Monthly Learning Competition"}),s.jsx("p",{className:"text-lg text-gray-700 mb-6 max-w-2xl mx-auto",children:"Compete with learners worldwide! Top 3 students each month win amazing prizes. Play games, complete challenges, and climb the leaderboard."}),s.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[s.jsx(Lt,{to:it("Leaderboard"),children:s.jsxs(G,{size:"lg",className:"bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600",children:[s.jsx(Kr,{className:"w-5 h-5 mr-2"}),"View Leaderboard"]})}),s.jsx(Lt,{to:it("Games"),children:s.jsxs(G,{size:"lg",variant:"outline",className:"border-2 border-amber-500",children:[s.jsx(wl,{className:"w-5 h-5 mr-2"}),"Start Playing"]})})]})]})})})})})}),s.jsx("section",{className:"py-12 md:py-16 px-4 bg-gradient-to-br from-purple-50 to-pink-50",children:s.jsx("div",{className:"max-w-4xl mx-auto text-center",children:s.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Join Our Community"}),s.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Follow us for daily Islamic inspiration and educational content"}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-4 md:gap-6",children:[s.jsxs("a",{href:"https://www.tiktok.com/@islamkidszone",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-black hover:bg-gray-800 text-white px-6 py-3 rounded-full transition-all duration-300 transform hover:scale-105 shadow-lg",children:[s.jsx(Qm,{className:"w-5 h-5"}),s.jsx("span",{className:"font-semibold",children:"TikTok"})]}),s.jsxs("a",{href:"https://www.instagram.com/islamkidszone",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-6 py-3 rounded-full transition-all duration-300 transform hover:scale-105 shadow-lg",children:[s.jsx(Qm,{className:"w-5 h-5"}),s.jsx("span",{className:"font-semibold",children:"Instagram"})]})]})]})})}),s.jsx("section",{className:"py-16 md:py-20 px-4 bg-gradient-to-r from-blue-600 to-purple-600",children:s.jsx("div",{className:"max-w-4xl mx-auto text-center",children:s.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[s.jsx("h2",{className:"text-3xl md:text-5xl font-bold text-white mb-6",children:"Start Your Islamic Learning Journey Today"}),s.jsx("p",{className:"text-lg md:text-xl text-blue-100 mb-8",children:"Join thousands of children learning about Islam through our engaging platform"}),s.jsx(Lt,{to:it("Games"),children:s.jsxs(G,{size:"lg",className:"bg-white text-purple-600 hover:bg-blue-50 text-base md:text-lg px-8 md:px-12 py-4 md:py-6 rounded-full shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105",children:[s.jsx(_i,{className:"mr-2 w-5 h-5 md:w-6 md:h-6"}),"Get Started Now"]})})]})})})]})}const $ie="modulepreload",qie=function(t){return"/imediaweb/"+t},bA={},sn=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let o=function(h){return Promise.all(h.map(m=>Promise.resolve(m).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));i=o(n.map(h=>{if(h=qie(h),h in bA)return;bA[h]=!0;const m=h.endsWith(".css"),f=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${f}`))return;const g=document.createElement("link");if(g.rel=m?"stylesheet":$ie,m||(g.as="script"),g.crossOrigin="",g.href=h,d&&g.setAttribute("nonce",d),document.head.appendChild(g),m)return new Promise((x,N)=>{g.addEventListener("load",x),g.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return i.then(o=>{for(const c of o||[])c.status==="rejected"&&a(c.reason);return e().catch(a)})};var gh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Hie={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},rl,mj,XI,Wie=(XI=class{constructor(){Xe(this,rl,Hie);Xe(this,mj,!1)}setTimeoutProvider(t){Le(this,rl,t)}setTimeout(t,e){return Y(this,rl).setTimeout(t,e)}clearTimeout(t){Y(this,rl).clearTimeout(t)}setInterval(t,e){return Y(this,rl).setInterval(t,e)}clearInterval(t){Y(this,rl).clearInterval(t)}},rl=new WeakMap,mj=new WeakMap,XI),Sc=new Wie;function Kie(t){setTimeout(t,0)}var Jc=typeof window>"u"||"Deno"in globalThis;function Hr(){}function Gie(t,e){return typeof t=="function"?t(e):t}function T1(t){return typeof t=="number"&&t>=0&&t!==1/0}function xO(t,e){return Math.max(t+(e||0)-Date.now(),0)}function vl(t,e){return typeof t=="function"?t(e):t}function Ys(t,e){return typeof t=="function"?t(e):t}function wA(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:o,stale:c}=t;if(o){if(r){if(e.queryHash!==TN(o,e.options))return!1}else if(!wf(e.queryKey,o))return!1}if(n!=="all"){const d=e.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||i&&i!==e.state.fetchStatus||a&&!a(e))}function jA(t,e){const{exact:n,status:r,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(n){if(Xc(e.options.mutationKey)!==Xc(a))return!1}else if(!wf(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function TN(t,e){return((e==null?void 0:e.queryKeyHashFn)||Xc)(t)}function Xc(t){return JSON.stringify(t,(e,n)=>A1(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function wf(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>wf(t[n],e[n])):!1}var Qie=Object.prototype.hasOwnProperty;function yO(t,e){if(t===e)return t;const n=_A(t)&&_A(e);if(!n&&!(A1(t)&&A1(e)))return e;const i=(n?t:Object.keys(t)).length,a=n?e:Object.keys(e),o=a.length,c=n?new Array(o):{};let d=0;for(let h=0;h<o;h++){const m=n?h:a[h],f=t[m],g=e[m];if(f===g){c[m]=f,(n?h<i:Qie.call(t,m))&&d++;continue}if(f===null||g===null||typeof f!="object"||typeof g!="object"){c[m]=g;continue}const x=yO(f,g);c[m]=x,x===f&&d++}return i===o&&d===i?t:c}function ty(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function _A(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function A1(t){if(!NA(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!NA(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function NA(t){return Object.prototype.toString.call(t)==="[object Object]"}function Yie(t){return new Promise(e=>{Sc.setTimeout(e,t)})}function I1(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?yO(t,e):e}function Jie(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Xie(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var AN=Symbol();function vO(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===AN?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function bO(t,e){return typeof t=="function"?t(...e):!!t}var Cc,sl,jd,ZI,Zie=(ZI=class extends gh{constructor(){super();Xe(this,Cc);Xe(this,sl);Xe(this,jd);Le(this,jd,e=>{if(!Jc&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Y(this,sl)||this.setEventListener(Y(this,jd))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,sl))==null||e.call(this),Le(this,sl,void 0))}setEventListener(e){var n;Le(this,jd,e),(n=Y(this,sl))==null||n.call(this),Le(this,sl,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){Y(this,Cc)!==e&&(Le(this,Cc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof Y(this,Cc)=="boolean"?Y(this,Cc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Cc=new WeakMap,sl=new WeakMap,jd=new WeakMap,ZI),IN=new Zie;function R1(){let t,e;const n=new Promise((i,a)=>{t=i,e=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var eae=Kie;function tae(){let t=[],e=0,n=c=>{c()},r=c=>{c()},i=eae;const a=c=>{e?t.push(c):i(()=>{n(c)})},o=()=>{const c=t;t=[],c.length&&i(()=>{r(()=>{c.forEach(d=>{n(d)})})})};return{batch:c=>{let d;e++;try{d=c()}finally{e--,e||o()}return d},batchCalls:c=>(...d)=>{a(()=>{c(...d)})},schedule:a,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{i=c}}}var nr=tae(),_d,il,Nd,eR,nae=(eR=class extends gh{constructor(){super();Xe(this,_d,!0);Xe(this,il);Xe(this,Nd);Le(this,Nd,e=>{if(!Jc&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Y(this,il)||this.setEventListener(Y(this,Nd))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,il))==null||e.call(this),Le(this,il,void 0))}setEventListener(e){var n;Le(this,Nd,e),(n=Y(this,il))==null||n.call(this),Le(this,il,e(this.setOnline.bind(this)))}setOnline(e){Y(this,_d)!==e&&(Le(this,_d,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return Y(this,_d)}},_d=new WeakMap,il=new WeakMap,Nd=new WeakMap,eR),ny=new nae;function rae(t){return Math.min(1e3*2**t,3e4)}function wO(t){return(t??"online")==="online"?ny.isOnline():!0}var P1=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function jO(t){let e=!1,n=0,r;const i=R1(),a=()=>i.status!=="pending",o=w=>{var j;if(!a()){const _=new P1(w);g(_),(j=t.onCancel)==null||j.call(t,_)}},c=()=>{e=!0},d=()=>{e=!1},h=()=>IN.isFocused()&&(t.networkMode==="always"||ny.isOnline())&&t.canRun(),m=()=>wO(t.networkMode)&&t.canRun(),f=w=>{a()||(r==null||r(),i.resolve(w))},g=w=>{a()||(r==null||r(),i.reject(w))},x=()=>new Promise(w=>{var j;r=_=>{(a()||h())&&w(_)},(j=t.onPause)==null||j.call(t)}).then(()=>{var w;r=void 0,a()||(w=t.onContinue)==null||w.call(t)}),N=()=>{if(a())return;let w;const j=n===0?t.initialPromise:void 0;try{w=j??t.fn()}catch(_){w=Promise.reject(_)}Promise.resolve(w).then(f).catch(_=>{var F;if(a())return;const E=t.retry??(Jc?0:3),k=t.retryDelay??rae,C=typeof k=="function"?k(n,_):k,R=E===!0||typeof E=="number"&&n<E||typeof E=="function"&&E(n,_);if(e||!R){g(_);return}n++,(F=t.onFail)==null||F.call(t,n,_),Yie(C).then(()=>h()?void 0:x()).then(()=>{e?g(_):N()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(r==null||r(),i),cancelRetry:c,continueRetry:d,canStart:m,start:()=>(m()?N():x().then(N),i)}}var kc,tR,_O=(tR=class{constructor(){Xe(this,kc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),T1(this.gcTime)&&Le(this,kc,Sc.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Jc?1/0:300*1e3))}clearGcTimeout(){Y(this,kc)&&(Sc.clearTimeout(Y(this,kc)),Le(this,kc,void 0))}},kc=new WeakMap,tR),Tc,Sd,Qs,Ac,cr,Nf,Ic,vi,qa,nR,sae=(nR=class extends _O{constructor(e){super();Xe(this,vi);Xe(this,Tc);Xe(this,Sd);Xe(this,Qs);Xe(this,Ac);Xe(this,cr);Xe(this,Nf);Xe(this,Ic);Le(this,Ic,!1),Le(this,Nf,e.defaultOptions),this.setOptions(e.options),this.observers=[],Le(this,Ac,e.client),Le(this,Qs,Y(this,Ac).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Le(this,Tc,EA(this.options)),this.state=e.state??Y(this,Tc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=Y(this,cr))==null?void 0:e.promise}setOptions(e){if(this.options={...Y(this,Nf),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=EA(this.options);n.data!==void 0&&(this.setState(SA(n.data,n.dataUpdatedAt)),Le(this,Tc,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Y(this,Qs).remove(this)}setData(e,n){const r=I1(this.state.data,e,this.options);return Nt(this,vi,qa).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Nt(this,vi,qa).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=Y(this,cr))==null?void 0:r.promise;return(i=Y(this,cr))==null||i.cancel(e),n?n.then(Hr).catch(Hr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Y(this,Tc))}isActive(){return this.observers.some(e=>Ys(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===AN||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>vl(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!xO(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=Y(this,cr))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=Y(this,cr))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Y(this,Qs).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(Y(this,cr)&&(Y(this,Ic)?Y(this,cr).cancel({revert:!0}):Y(this,cr).cancelRetry()),this.scheduleGc()),Y(this,Qs).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Nt(this,vi,qa).call(this,{type:"invalidate"})}async fetch(e,n){var d,h,m,f,g,x,N,w,j,_,E,k;if(this.state.fetchStatus!=="idle"&&((d=Y(this,cr))==null?void 0:d.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(Y(this,cr))return Y(this,cr).continueRetry(),Y(this,cr).promise}if(e&&this.setOptions(e),!this.options.queryFn){const C=this.observers.find(R=>R.options.queryFn);C&&this.setOptions(C.options)}const r=new AbortController,i=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(Le(this,Ic,!0),r.signal)})},a=()=>{const C=vO(this.options,n),F=(()=>{const D={client:Y(this,Ac),queryKey:this.queryKey,meta:this.meta};return i(D),D})();return Le(this,Ic,!1),this.options.persister?this.options.persister(C,F,this):C(F)},c=(()=>{const C={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:Y(this,Ac),state:this.state,fetchFn:a};return i(C),C})();(h=this.options.behavior)==null||h.onFetch(c,this),Le(this,Sd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((m=c.fetchOptions)==null?void 0:m.meta))&&Nt(this,vi,qa).call(this,{type:"fetch",meta:(f=c.fetchOptions)==null?void 0:f.meta}),Le(this,cr,jO({initialPromise:n==null?void 0:n.initialPromise,fn:c.fetchFn,onCancel:C=>{C instanceof P1&&C.revert&&this.setState({...Y(this,Sd),fetchStatus:"idle"}),r.abort()},onFail:(C,R)=>{Nt(this,vi,qa).call(this,{type:"failed",failureCount:C,error:R})},onPause:()=>{Nt(this,vi,qa).call(this,{type:"pause"})},onContinue:()=>{Nt(this,vi,qa).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0}));try{const C=await Y(this,cr).start();if(C===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(C),(x=(g=Y(this,Qs).config).onSuccess)==null||x.call(g,C,this),(w=(N=Y(this,Qs).config).onSettled)==null||w.call(N,C,this.state.error,this),C}catch(C){if(C instanceof P1){if(C.silent)return Y(this,cr).promise;if(C.revert){if(this.state.data===void 0)throw C;return this.state.data}}throw Nt(this,vi,qa).call(this,{type:"error",error:C}),(_=(j=Y(this,Qs).config).onError)==null||_.call(j,C,this),(k=(E=Y(this,Qs).config).onSettled)==null||k.call(E,this.state.data,C,this),C}finally{this.scheduleGc()}}},Tc=new WeakMap,Sd=new WeakMap,Qs=new WeakMap,Ac=new WeakMap,cr=new WeakMap,Nf=new WeakMap,Ic=new WeakMap,vi=new WeakSet,qa=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...NO(r.data,this.options),fetchMeta:e.meta??null};case"success":const i={...r,...SA(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Le(this,Sd,e.manual?i:void 0),i;case"error":const a=e.error;return{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),nr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Y(this,Qs).notify({query:this,type:"updated",action:e})})},nR);function NO(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:wO(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function SA(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function EA(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var as,Ot,Sf,$r,Rc,Ed,Ha,al,Ef,Cd,kd,Pc,Dc,ol,Td,Qt,Em,D1,M1,O1,L1,F1,V1,U1,SO,rR,iae=(rR=class extends gh{constructor(e,n){super();Xe(this,Qt);Xe(this,as);Xe(this,Ot);Xe(this,Sf);Xe(this,$r);Xe(this,Rc);Xe(this,Ed);Xe(this,Ha);Xe(this,al);Xe(this,Ef);Xe(this,Cd);Xe(this,kd);Xe(this,Pc);Xe(this,Dc);Xe(this,ol);Xe(this,Td,new Set);this.options=n,Le(this,as,e),Le(this,al,null),Le(this,Ha,R1()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Y(this,Ot).addObserver(this),CA(Y(this,Ot),this.options)?Nt(this,Qt,Em).call(this):this.updateResult(),Nt(this,Qt,L1).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return z1(Y(this,Ot),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return z1(Y(this,Ot),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Nt(this,Qt,F1).call(this),Nt(this,Qt,V1).call(this),Y(this,Ot).removeObserver(this)}setOptions(e){const n=this.options,r=Y(this,Ot);if(this.options=Y(this,as).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ys(this.options.enabled,Y(this,Ot))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Nt(this,Qt,U1).call(this),Y(this,Ot).setOptions(this.options),n._defaulted&&!ty(this.options,n)&&Y(this,as).getQueryCache().notify({type:"observerOptionsUpdated",query:Y(this,Ot),observer:this});const i=this.hasListeners();i&&kA(Y(this,Ot),r,this.options,n)&&Nt(this,Qt,Em).call(this),this.updateResult(),i&&(Y(this,Ot)!==r||Ys(this.options.enabled,Y(this,Ot))!==Ys(n.enabled,Y(this,Ot))||vl(this.options.staleTime,Y(this,Ot))!==vl(n.staleTime,Y(this,Ot)))&&Nt(this,Qt,D1).call(this);const a=Nt(this,Qt,M1).call(this);i&&(Y(this,Ot)!==r||Ys(this.options.enabled,Y(this,Ot))!==Ys(n.enabled,Y(this,Ot))||a!==Y(this,ol))&&Nt(this,Qt,O1).call(this,a)}getOptimisticResult(e){const n=Y(this,as).getQueryCache().build(Y(this,as),e),r=this.createResult(n,e);return oae(this,r)&&(Le(this,$r,r),Le(this,Ed,this.options),Le(this,Rc,Y(this,Ot).state)),r}getCurrentResult(){return Y(this,$r)}trackResult(e,n){return new Proxy(e,{get:(r,i)=>(this.trackProp(i),n==null||n(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&Y(this,Ha).status==="pending"&&Y(this,Ha).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,i))})}trackProp(e){Y(this,Td).add(e)}getCurrentQuery(){return Y(this,Ot)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=Y(this,as).defaultQueryOptions(e),r=Y(this,as).getQueryCache().build(Y(this,as),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return Nt(this,Qt,Em).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),Y(this,$r)))}createResult(e,n){var I;const r=Y(this,Ot),i=this.options,a=Y(this,$r),o=Y(this,Rc),c=Y(this,Ed),h=e!==r?e.state:Y(this,Sf),{state:m}=e;let f={...m},g=!1,x;if(n._optimisticResults){const O=this.hasListeners(),V=!O&&CA(e,n),L=O&&kA(e,r,n,i);(V||L)&&(f={...f,...NO(m.data,e.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:N,errorUpdatedAt:w,status:j}=f;x=f.data;let _=!1;if(n.placeholderData!==void 0&&x===void 0&&j==="pending"){let O;a!=null&&a.isPlaceholderData&&n.placeholderData===(c==null?void 0:c.placeholderData)?(O=a.data,_=!0):O=typeof n.placeholderData=="function"?n.placeholderData((I=Y(this,kd))==null?void 0:I.state.data,Y(this,kd)):n.placeholderData,O!==void 0&&(j="success",x=I1(a==null?void 0:a.data,O,n),g=!0)}if(n.select&&x!==void 0&&!_)if(a&&x===(o==null?void 0:o.data)&&n.select===Y(this,Ef))x=Y(this,Cd);else try{Le(this,Ef,n.select),x=n.select(x),x=I1(a==null?void 0:a.data,x,n),Le(this,Cd,x),Le(this,al,null)}catch(O){Le(this,al,O)}Y(this,al)&&(N=Y(this,al),x=Y(this,Cd),w=Date.now(),j="error");const E=f.fetchStatus==="fetching",k=j==="pending",C=j==="error",R=k&&E,F=x!==void 0,P={status:j,fetchStatus:f.fetchStatus,isPending:k,isSuccess:j==="success",isError:C,isInitialLoading:R,isLoading:R,data:x,dataUpdatedAt:f.dataUpdatedAt,error:N,errorUpdatedAt:w,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>h.dataUpdateCount||f.errorUpdateCount>h.errorUpdateCount,isFetching:E,isRefetching:E&&!k,isLoadingError:C&&!F,isPaused:f.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:C&&F,isStale:RN(e,n),refetch:this.refetch,promise:Y(this,Ha),isEnabled:Ys(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const O=U=>{P.status==="error"?U.reject(P.error):P.data!==void 0&&U.resolve(P.data)},V=()=>{const U=Le(this,Ha,P.promise=R1());O(U)},L=Y(this,Ha);switch(L.status){case"pending":e.queryHash===r.queryHash&&O(L);break;case"fulfilled":(P.status==="error"||P.data!==L.value)&&V();break;case"rejected":(P.status!=="error"||P.error!==L.reason)&&V();break}}return P}updateResult(){const e=Y(this,$r),n=this.createResult(Y(this,Ot),this.options);if(Le(this,Rc,Y(this,Ot).state),Le(this,Ed,this.options),Y(this,Rc).data!==void 0&&Le(this,kd,Y(this,Ot)),ty(n,e))return;Le(this,$r,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!Y(this,Td).size)return!0;const o=new Set(a??Y(this,Td));return this.options.throwOnError&&o.add("error"),Object.keys(Y(this,$r)).some(c=>{const d=c;return Y(this,$r)[d]!==e[d]&&o.has(d)})};Nt(this,Qt,SO).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Nt(this,Qt,L1).call(this)}},as=new WeakMap,Ot=new WeakMap,Sf=new WeakMap,$r=new WeakMap,Rc=new WeakMap,Ed=new WeakMap,Ha=new WeakMap,al=new WeakMap,Ef=new WeakMap,Cd=new WeakMap,kd=new WeakMap,Pc=new WeakMap,Dc=new WeakMap,ol=new WeakMap,Td=new WeakMap,Qt=new WeakSet,Em=function(e){Nt(this,Qt,U1).call(this);let n=Y(this,Ot).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Hr)),n},D1=function(){Nt(this,Qt,F1).call(this);const e=vl(this.options.staleTime,Y(this,Ot));if(Jc||Y(this,$r).isStale||!T1(e))return;const r=xO(Y(this,$r).dataUpdatedAt,e)+1;Le(this,Pc,Sc.setTimeout(()=>{Y(this,$r).isStale||this.updateResult()},r))},M1=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Y(this,Ot)):this.options.refetchInterval)??!1},O1=function(e){Nt(this,Qt,V1).call(this),Le(this,ol,e),!(Jc||Ys(this.options.enabled,Y(this,Ot))===!1||!T1(Y(this,ol))||Y(this,ol)===0)&&Le(this,Dc,Sc.setInterval(()=>{(this.options.refetchIntervalInBackground||IN.isFocused())&&Nt(this,Qt,Em).call(this)},Y(this,ol)))},L1=function(){Nt(this,Qt,D1).call(this),Nt(this,Qt,O1).call(this,Nt(this,Qt,M1).call(this))},F1=function(){Y(this,Pc)&&(Sc.clearTimeout(Y(this,Pc)),Le(this,Pc,void 0))},V1=function(){Y(this,Dc)&&(Sc.clearInterval(Y(this,Dc)),Le(this,Dc,void 0))},U1=function(){const e=Y(this,as).getQueryCache().build(Y(this,as),this.options);if(e===Y(this,Ot))return;const n=Y(this,Ot);Le(this,Ot,e),Le(this,Sf,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},SO=function(e){nr.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(Y(this,$r))}),Y(this,as).getQueryCache().notify({query:Y(this,Ot),type:"observerResultsUpdated"})})},rR);function aae(t,e){return Ys(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function CA(t,e){return aae(t,e)||t.state.data!==void 0&&z1(t,e,e.refetchOnMount)}function z1(t,e,n){if(Ys(e.enabled,t)!==!1&&vl(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&RN(t,e)}return!1}function kA(t,e,n,r){return(t!==e||Ys(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&RN(t,n)}function RN(t,e){return Ys(e.enabled,t)!==!1&&t.isStaleByTime(vl(e.staleTime,t))}function oae(t,e){return!ty(t.getCurrentResult(),e)}function TA(t){return{onFetch:(e,n)=>{var m,f,g,x,N;const r=e.options,i=(g=(f=(m=e.fetchOptions)==null?void 0:m.meta)==null?void 0:f.fetchMore)==null?void 0:g.direction,a=((x=e.state.data)==null?void 0:x.pages)||[],o=((N=e.state.data)==null?void 0:N.pageParams)||[];let c={pages:[],pageParams:[]},d=0;const h=async()=>{let w=!1;const j=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(e.signal.aborted?w=!0:e.signal.addEventListener("abort",()=>{w=!0}),e.signal)})},_=vO(e.options,e.fetchOptions),E=async(k,C,R)=>{if(w)return Promise.reject();if(C==null&&k.pages.length)return Promise.resolve(k);const D=(()=>{const V={client:e.client,queryKey:e.queryKey,pageParam:C,direction:R?"backward":"forward",meta:e.options.meta};return j(V),V})(),P=await _(D),{maxPages:I}=e.options,O=R?Xie:Jie;return{pages:O(k.pages,P,I),pageParams:O(k.pageParams,C,I)}};if(i&&a.length){const k=i==="backward",C=k?lae:AA,R={pages:a,pageParams:o},F=C(r,R);c=await E(R,F,k)}else{const k=t??a.length;do{const C=d===0?o[0]??r.initialPageParam:AA(r,c);if(d>0&&C==null)break;c=await E(c,C),d++}while(d<k)}return c};e.options.persister?e.fetchFn=()=>{var w,j;return(j=(w=e.options).persister)==null?void 0:j.call(w,h,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=h}}}function AA(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function lae(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Cf,ea,qr,Mc,ta,Jo,sR,cae=(sR=class extends _O{constructor(e){super();Xe(this,ta);Xe(this,Cf);Xe(this,ea);Xe(this,qr);Xe(this,Mc);Le(this,Cf,e.client),this.mutationId=e.mutationId,Le(this,qr,e.mutationCache),Le(this,ea,[]),this.state=e.state||EO(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Y(this,ea).includes(e)||(Y(this,ea).push(e),this.clearGcTimeout(),Y(this,qr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Le(this,ea,Y(this,ea).filter(n=>n!==e)),this.scheduleGc(),Y(this,qr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Y(this,ea).length||(this.state.status==="pending"?this.scheduleGc():Y(this,qr).remove(this))}continue(){var e;return((e=Y(this,Mc))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,c,d,h,m,f,g,x,N,w,j,_,E,k,C,R,F,D,P,I;const n=()=>{Nt(this,ta,Jo).call(this,{type:"continue"})},r={client:Y(this,Cf),meta:this.options.meta,mutationKey:this.options.mutationKey};Le(this,Mc,jO({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(O,V)=>{Nt(this,ta,Jo).call(this,{type:"failed",failureCount:O,error:V})},onPause:()=>{Nt(this,ta,Jo).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Y(this,qr).canRun(this)}));const i=this.state.status==="pending",a=!Y(this,Mc).canStart();try{if(i)n();else{Nt(this,ta,Jo).call(this,{type:"pending",variables:e,isPaused:a}),await((c=(o=Y(this,qr).config).onMutate)==null?void 0:c.call(o,e,this,r));const V=await((h=(d=this.options).onMutate)==null?void 0:h.call(d,e,r));V!==this.state.context&&Nt(this,ta,Jo).call(this,{type:"pending",context:V,variables:e,isPaused:a})}const O=await Y(this,Mc).start();return await((f=(m=Y(this,qr).config).onSuccess)==null?void 0:f.call(m,O,e,this.state.context,this,r)),await((x=(g=this.options).onSuccess)==null?void 0:x.call(g,O,e,this.state.context,r)),await((w=(N=Y(this,qr).config).onSettled)==null?void 0:w.call(N,O,null,this.state.variables,this.state.context,this,r)),await((_=(j=this.options).onSettled)==null?void 0:_.call(j,O,null,e,this.state.context,r)),Nt(this,ta,Jo).call(this,{type:"success",data:O}),O}catch(O){try{throw await((k=(E=Y(this,qr).config).onError)==null?void 0:k.call(E,O,e,this.state.context,this,r)),await((R=(C=this.options).onError)==null?void 0:R.call(C,O,e,this.state.context,r)),await((D=(F=Y(this,qr).config).onSettled)==null?void 0:D.call(F,void 0,O,this.state.variables,this.state.context,this,r)),await((I=(P=this.options).onSettled)==null?void 0:I.call(P,void 0,O,e,this.state.context,r)),O}finally{Nt(this,ta,Jo).call(this,{type:"error",error:O})}}finally{Y(this,qr).runNext(this)}}},Cf=new WeakMap,ea=new WeakMap,qr=new WeakMap,Mc=new WeakMap,ta=new WeakSet,Jo=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),nr.batch(()=>{Y(this,ea).forEach(r=>{r.onMutationUpdate(e)}),Y(this,qr).notify({mutation:this,type:"updated",action:e})})},sR);function EO(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Wa,bi,kf,iR,uae=(iR=class extends gh{constructor(e={}){super();Xe(this,Wa);Xe(this,bi);Xe(this,kf);this.config=e,Le(this,Wa,new Set),Le(this,bi,new Map),Le(this,kf,0)}build(e,n,r){const i=new cae({client:e,mutationCache:this,mutationId:++ug(this,kf)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){Y(this,Wa).add(e);const n=Og(e);if(typeof n=="string"){const r=Y(this,bi).get(n);r?r.push(e):Y(this,bi).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Y(this,Wa).delete(e)){const n=Og(e);if(typeof n=="string"){const r=Y(this,bi).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&Y(this,bi).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Og(e);if(typeof n=="string"){const r=Y(this,bi).get(n),i=r==null?void 0:r.find(a=>a.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=Og(e);if(typeof n=="string"){const i=(r=Y(this,bi).get(n))==null?void 0:r.find(a=>a!==e&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){nr.batch(()=>{Y(this,Wa).forEach(e=>{this.notify({type:"removed",mutation:e})}),Y(this,Wa).clear(),Y(this,bi).clear()})}getAll(){return Array.from(Y(this,Wa))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>jA(n,r))}findAll(e={}){return this.getAll().filter(n=>jA(e,n))}notify(e){nr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return nr.batch(()=>Promise.all(e.map(n=>n.continue().catch(Hr))))}},Wa=new WeakMap,bi=new WeakMap,kf=new WeakMap,iR);function Og(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Ka,ll,os,Ga,no,dx,B1,aR,dae=(aR=class extends gh{constructor(n,r){super();Xe(this,no);Xe(this,Ka);Xe(this,ll);Xe(this,os);Xe(this,Ga);Le(this,Ka,n),this.setOptions(r),this.bindMethods(),Nt(this,no,dx).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=Y(this,Ka).defaultMutationOptions(n),ty(this.options,r)||Y(this,Ka).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Y(this,os),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Xc(r.mutationKey)!==Xc(this.options.mutationKey)?this.reset():((i=Y(this,os))==null?void 0:i.state.status)==="pending"&&Y(this,os).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=Y(this,os))==null||n.removeObserver(this)}onMutationUpdate(n){Nt(this,no,dx).call(this),Nt(this,no,B1).call(this,n)}getCurrentResult(){return Y(this,ll)}reset(){var n;(n=Y(this,os))==null||n.removeObserver(this),Le(this,os,void 0),Nt(this,no,dx).call(this),Nt(this,no,B1).call(this)}mutate(n,r){var i;return Le(this,Ga,r),(i=Y(this,os))==null||i.removeObserver(this),Le(this,os,Y(this,Ka).getMutationCache().build(Y(this,Ka),this.options)),Y(this,os).addObserver(this),Y(this,os).execute(n)}},Ka=new WeakMap,ll=new WeakMap,os=new WeakMap,Ga=new WeakMap,no=new WeakSet,dx=function(){var r;const n=((r=Y(this,os))==null?void 0:r.state)??EO();Le(this,ll,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},B1=function(n){nr.batch(()=>{var r,i,a,o,c,d,h,m;if(Y(this,Ga)&&this.hasListeners()){const f=Y(this,ll).variables,g=Y(this,ll).context,x={client:Y(this,Ka),meta:this.options.meta,mutationKey:this.options.mutationKey};(n==null?void 0:n.type)==="success"?((i=(r=Y(this,Ga)).onSuccess)==null||i.call(r,n.data,f,g,x),(o=(a=Y(this,Ga)).onSettled)==null||o.call(a,n.data,null,f,g,x)):(n==null?void 0:n.type)==="error"&&((d=(c=Y(this,Ga)).onError)==null||d.call(c,n.error,f,g,x),(m=(h=Y(this,Ga)).onSettled)==null||m.call(h,void 0,n.error,f,g,x))}this.listeners.forEach(f=>{f(Y(this,ll))})})},aR),na,oR,hae=(oR=class extends gh{constructor(e={}){super();Xe(this,na);this.config=e,Le(this,na,new Map)}build(e,n,r){const i=n.queryKey,a=n.queryHash??TN(i,n);let o=this.get(a);return o||(o=new sae({client:e,queryKey:i,queryHash:a,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){Y(this,na).has(e.queryHash)||(Y(this,na).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=Y(this,na).get(e.queryHash);n&&(e.destroy(),n===e&&Y(this,na).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){nr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Y(this,na).get(e)}getAll(){return[...Y(this,na).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>wA(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>wA(e,r)):n}notify(e){nr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){nr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){nr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},na=new WeakMap,oR),Tn,cl,ul,Ad,Id,dl,Rd,Pd,lR,mae=(lR=class{constructor(t={}){Xe(this,Tn);Xe(this,cl);Xe(this,ul);Xe(this,Ad);Xe(this,Id);Xe(this,dl);Xe(this,Rd);Xe(this,Pd);Le(this,Tn,t.queryCache||new hae),Le(this,cl,t.mutationCache||new uae),Le(this,ul,t.defaultOptions||{}),Le(this,Ad,new Map),Le(this,Id,new Map),Le(this,dl,0)}mount(){ug(this,dl)._++,Y(this,dl)===1&&(Le(this,Rd,IN.subscribe(async t=>{t&&(await this.resumePausedMutations(),Y(this,Tn).onFocus())})),Le(this,Pd,ny.subscribe(async t=>{t&&(await this.resumePausedMutations(),Y(this,Tn).onOnline())})))}unmount(){var t,e;ug(this,dl)._--,Y(this,dl)===0&&((t=Y(this,Rd))==null||t.call(this),Le(this,Rd,void 0),(e=Y(this,Pd))==null||e.call(this),Le(this,Pd,void 0))}isFetching(t){return Y(this,Tn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Y(this,cl).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Y(this,Tn).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=Y(this,Tn).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(vl(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return Y(this,Tn).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=Y(this,Tn).get(r.queryHash),a=i==null?void 0:i.state.data,o=Gie(e,a);if(o!==void 0)return Y(this,Tn).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return nr.batch(()=>Y(this,Tn).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Y(this,Tn).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=Y(this,Tn);nr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=Y(this,Tn);return nr.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=nr.batch(()=>Y(this,Tn).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Hr).catch(Hr)}invalidateQueries(t,e={}){return nr.batch(()=>(Y(this,Tn).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=nr.batch(()=>Y(this,Tn).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(Hr)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Hr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=Y(this,Tn).build(this,e);return n.isStaleByTime(vl(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Hr).catch(Hr)}fetchInfiniteQuery(t){return t.behavior=TA(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Hr).catch(Hr)}ensureInfiniteQueryData(t){return t.behavior=TA(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return ny.isOnline()?Y(this,cl).resumePausedMutations():Promise.resolve()}getQueryCache(){return Y(this,Tn)}getMutationCache(){return Y(this,cl)}getDefaultOptions(){return Y(this,ul)}setDefaultOptions(t){Le(this,ul,t)}setQueryDefaults(t,e){Y(this,Ad).set(Xc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...Y(this,Ad).values()],n={};return e.forEach(r=>{wf(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){Y(this,Id).set(Xc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...Y(this,Id).values()],n={};return e.forEach(r=>{wf(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...Y(this,ul).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=TN(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===AN&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...Y(this,ul).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Y(this,Tn).clear(),Y(this,cl).clear()}},Tn=new WeakMap,cl=new WeakMap,ul=new WeakMap,Ad=new WeakMap,Id=new WeakMap,dl=new WeakMap,Rd=new WeakMap,Pd=new WeakMap,lR),CO=v.createContext(void 0),si=t=>{const e=v.useContext(CO);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},fae=({client:t,children:e})=>(v.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),s.jsx(CO.Provider,{value:t,children:e})),kO=v.createContext(!1),pae=()=>v.useContext(kO);kO.Provider;function gae(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var xae=v.createContext(gae()),yae=()=>v.useContext(xae),vae=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},bae=t=>{v.useEffect(()=>{t.clearReset()},[t])},wae=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||bO(n,[t.error,r])),jae=t=>{if(t.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},_ae=(t,e)=>t.isLoading&&t.isFetching&&!e,Nae=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,IA=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function Sae(t,e,n){var f,g,x,N,w;const r=pae(),i=yae(),a=si(),o=a.defaultQueryOptions(t);(g=(f=a.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||g.call(f,o),o._optimisticResults=r?"isRestoring":"optimistic",jae(o),vae(o,i),bae(i);const c=!a.getQueryCache().get(o.queryHash),[d]=v.useState(()=>new e(a,o)),h=d.getOptimisticResult(o),m=!r&&t.subscribed!==!1;if(v.useSyncExternalStore(v.useCallback(j=>{const _=m?d.subscribe(nr.batchCalls(j)):Hr;return d.updateResult(),_},[d,m]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),v.useEffect(()=>{d.setOptions(o)},[o,d]),Nae(o,h))throw IA(o,d,i);if(wae({result:h,errorResetBoundary:i,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw h.error;if((N=(x=a.getDefaultOptions().queries)==null?void 0:x._experimental_afterQuery)==null||N.call(x,o,h),o.experimental_prefetchInRender&&!Jc&&_ae(h,r)){const j=c?IA(o,d,i):(w=a.getQueryCache().get(o.queryHash))==null?void 0:w.promise;j==null||j.catch(Hr).finally(()=>{d.updateResult()})}return o.notifyOnChangeProps?h:d.trackResult(h)}function Un(t,e){return Sae(t,iae)}function Nn(t,e){const n=si(),[r]=v.useState(()=>new dae(n,t));v.useEffect(()=>{r.setOptions(t)},[r,t]);const i=v.useSyncExternalStore(v.useCallback(o=>r.subscribe(nr.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=v.useCallback((o,c)=>{r.mutate(o,c).catch(Hr)},[r]);if(i.error&&bO(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}const Eae=zf("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function _e({className:t,variant:e,...n}){return s.jsx("div",{className:ct(Eae({variant:e}),t),...n})}const Cae=v.lazy(()=>sn(()=>import("./WordScrambleGame.BGLmxwdF.js"),[])),kae=v.lazy(()=>sn(()=>import("./IslamicQuizGame.DpLAickj.js"),[])),Tae=v.lazy(()=>sn(()=>import("./IslamicWordSearchGame.BRc8w3l7.js"),[])),Aae=v.lazy(()=>sn(()=>import("./SeerahGame.BjCymYUp.js"),[])),Iae=v.lazy(()=>sn(()=>import("./QuranGame.BJVdAtlV.js"),[])),Rae=v.lazy(()=>sn(()=>import("./HadithGame.DcLqvA6n.js"),[])),Pae=v.lazy(()=>sn(()=>import("./FiqhGame.D_PYvUqi.js"),[])),Dae=v.lazy(()=>sn(()=>import("./MemoryMatchGame.DVvxWkTG.js"),[]));v.lazy(()=>sn(()=>import("./QuestForIlm.Ch07wkBP.js"),[]));const Mae=v.lazy(()=>sn(()=>import("./MatchingPairsOfIman.BRkdkoRZ.js"),[]));v.lazy(()=>sn(()=>import("./SahabahArena.P5dDFjjb.js"),__vite__mapDeps([0,1])));v.lazy(()=>sn(()=>import("./MazeOfGuidance.DeoDbxWG.js"),[]));const Oae=v.lazy(()=>sn(()=>import("./AyatExplorer.BIjOPjU7.js"),[]));v.lazy(()=>sn(()=>import("./AkhlaqChallengeGame.DivrLj0Q.js"),[]));v.lazy(()=>sn(()=>import("./DailySunnahGame.BPo4FRu4.js"),[]));v.lazy(()=>sn(()=>import("./IslamKnowledgeRaceGame.qw2JuUlj.js"),__vite__mapDeps([2,1])));v.lazy(()=>sn(()=>import("./IslamicCrosswordGame.B7WDVMyh.js"),[]));v.lazy(()=>sn(()=>import("./IslamicMoralsMazeGame.CA4WCHGQ.js"),[]));v.lazy(()=>sn(()=>import("./ProphetStoriesGame.BaGi2HvZ.js"),[]));v.lazy(()=>sn(()=>import("./QuranMemoryMatchGame.DJVcAPnv.js"),[]));v.lazy(()=>sn(()=>import("./QuranQuestGame.CNJx-VKc.js"),[]));v.lazy(()=>sn(()=>import("./SacredSitesJigsaw.YSb_RaSi.js"),[]));v.lazy(()=>sn(()=>import("./SahabahStoriesGame.Cws8V14K.js"),[]));v.lazy(()=>sn(()=>import("./SeerahAdventureGame.-kHjRm-M.js"),[]));v.lazy(()=>sn(()=>import("./SpinToWinWheel.NhBvbuY3.js"),__vite__mapDeps([3,1])));const zb=[{id:"word_scramble",title:" Word Scramble Challenge",description:"Unscramble Islamic words - Easy, Medium & Hard!",emoji:"",difficulty:"All Levels",points:"10 pts per game",allowPoints:!0,allowPrizes:!1,component:Cae},{id:"matching_pairs_iman",title:" Matching Pairs of Iman",description:"Match Islamic concepts and terms to strengthen your Iman!",emoji:"",difficulty:"All Levels",points:"10 pts per game",allowPoints:!0,allowPrizes:!1,component:Mae},{id:"ayat_explorer",title:" Ayat Explorer",description:"Explore Quranic knowledge through puzzles!",emoji:"",difficulty:"Medium",points:"10 pts per game",component:Oae},{id:"islamic_quiz",title:" Islamic Knowledge Quiz",description:"Test your knowledge of Quran, Hadith, Seerah & more!",emoji:"",difficulty:"All Levels",points:"10 pts per game",component:kae},{id:"word_search",title:" Islamic Word Search",description:"Find Islamic words hidden in the grid",emoji:"",difficulty:"All Levels",points:"10 pts per game",component:Tae},{id:"seerah_game",title:" Seerah Quiz",description:"Learn about the life of Prophet Muhammad ",emoji:"",difficulty:"All Levels",points:"10 pts per game",component:Aae},{id:"quran_game",title:" Quran Quiz",description:"Test your knowledge of the Holy Quran",emoji:"",difficulty:"All Levels",points:"10 pts per game",component:Iae},{id:"hadith_game",title:" Hadith Match",description:"Learn authentic sayings of Prophet ",emoji:"",difficulty:"All Levels",points:"10 pts per game",component:Rae},{id:"fiqh_game",title:" Fiqh Challenge",description:"Learn Islamic rulings and practices",emoji:"",difficulty:"All Levels",points:"10 pts per game",component:Pae},{id:"memory_match",title:" Islamic Memory Match",description:"Match pairs of Islamic terms",emoji:"",difficulty:"All Levels",points:"10 pts per game",component:Dae}],Lae=()=>s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:""}),s.jsx("p",{className:"text-gray-600 font-medium",children:"Loading game..."})]})});function $1(){var j;const t=Yn(),[e,n]=v.useState(null),[r,i]=v.useState(!1),[a,o]=v.useState(!0),[c,d]=v.useState(null),[h,m]=v.useState(!1);v.useEffect(()=>{const _=localStorage.getItem("user");_?(i(!0),d(JSON.parse(_))):(i(!1),d(null)),o(!1)},[t]);const{data:f=[]}=Un({queryKey:["monthly-leaderboard"],queryFn:async()=>{const _=new Date,E=new Date(_.getFullYear(),_.getMonth(),1),C=JSON.parse(localStorage.getItem("gameScores")||"[]").filter(I=>new Date(I.created_date)>=E),R={};C.forEach(I=>{R[I.user_id]||(R[I.user_id]={user_id:I.user_id,total_score:0,games_played:0}),R[I.user_id].total_score+=I.score||0,R[I.user_id].games_played+=1});const F=JSON.parse(localStorage.getItem("users")||"[]");return Object.keys(R).map(I=>({...F.find(V=>V.id===I)||{id:I,name:"Guest"},monthly_score:R[I].total_score,monthly_games:R[I].games_played})).filter(I=>I.monthly_score>0).sort((I,O)=>O.monthly_score-I.monthly_score).slice(0,10)},enabled:r,initialData:[]}),{data:g=[]}=Un({queryKey:["leaderboard"],queryFn:async()=>JSON.parse(localStorage.getItem("users")||"[]").filter(E=>E.points>0).sort((E,k)=>k.points-E.points).slice(0,10),enabled:r,initialData:[]}),x=_=>{n(_)},N=async _=>{if(r&&c&&e)try{const E=JSON.parse(localStorage.getItem("gameScores")||"[]");E.push({user_id:c.id,game_type:e.id,score:_,created_date:new Date().toISOString()}),localStorage.setItem("gameScores",JSON.stringify(E));const k=JSON.parse(localStorage.getItem("users")||"[]"),C=k.findIndex(F=>F.id===c.id);let R=Math.min((c.points||0)+_,1500);C!==-1&&(k[C].points=R,localStorage.setItem("users",JSON.stringify(k))),d(F=>({...F,points:R}))}catch(E){console.error("Error saving game score:",E)}setTimeout(()=>n(null),3e3)};if(a)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-100 via-purple-50 to-pink-100 p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:""}),s.jsx("p",{className:"text-gray-600 font-medium",children:"Loading games..."})]})});const w=e==null?void 0:e.component;return e?s.jsx("div",{className:"min-h-screen py-6 px-4 bg-gradient-to-br from-blue-100 via-purple-50 to-pink-100",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs(G,{variant:"ghost",onClick:()=>n(null),className:"mb-6 bg-white/80 backdrop-blur-sm hover:bg-white",size:"sm",children:[s.jsx(Ol,{className:"w-4 h-4 mr-2"}),"Back to Games"]}),s.jsx(v.Suspense,{fallback:s.jsx(Lae,{}),children:w&&s.jsx(w,{onComplete:N})})]})}):s.jsx("div",{className:"min-h-screen py-8 px-4 bg-gradient-to-br from-blue-100 via-purple-50 to-pink-100",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx(te.div,{className:"text-6xl mb-4",animate:{rotate:[0,10,-10,0]},transition:{duration:3,repeat:1/0,repeatDelay:2},children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Islamic Knowledge Games"}),s.jsxs("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:["Play fun games and test your Islamic knowledge!",r?" Each game earns you 10 points.":" Email us at imediac786@gmail.com to create your account and track your progress!"]})]}),!r&&s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8 max-w-2xl mx-auto",children:s.jsx(ne,{className:"border-2 border-blue-300 shadow-lg bg-gradient-to-br from-blue-50 to-purple-50",children:s.jsxs(ie,{className:"p-6 text-center",children:[s.jsx(Kr,{className:"w-12 h-12 mx-auto mb-4 text-blue-600"}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:" Playing as Guest"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"You can play all games for free! Email us to create your account, track your progress, earn points, and compete on the leaderboard."}),s.jsx("div",{className:"flex gap-3 justify-center",children:s.jsxs(G,{onClick:()=>{const _=encodeURIComponent("Access Request - Islam Kids Zone"),E=encodeURIComponent("Hi, I'd like to create an account for Islam Kids Zone. My name is ____ and my contact details are ____.");window.location.href=`mailto:imediac786@gmail.com?subject=${_}&body=${E}`},className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-blue-500 to-purple-500 text-white font-bold shadow hover:scale-105 transition-transform",children:[s.jsx(py,{className:"w-4 h-4 mr-2"}),"Request Access via Email"]})})]})})}),r&&s.jsxs(s.Fragment,{children:[s.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-wrap justify-center gap-3 mb-12",children:[s.jsxs(G,{onClick:()=>m(!h),className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white shadow-lg",children:[s.jsx(Kr,{className:"w-4 h-4 mr-2"}),"Monthly Champions"]}),s.jsx(Lt,{to:it("Challenges"),children:s.jsxs(G,{className:"bg-gradient-to-r from-red-500 to-pink-500 hover:from-red-600 hover:to-pink-600 text-white shadow-lg",children:[s.jsx(wl,{className:"w-4 h-4 mr-2"}),"Challenge Friends"]})})]}),s.jsx(ri,{children:h&&f.length>0&&s.jsx(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"mb-12 max-w-xl mx-auto",children:s.jsxs(ne,{className:"border-2 border-purple-300 shadow-xl bg-gradient-to-br from-purple-50 to-pink-50",children:[s.jsx(Fe,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-t-xl",children:s.jsxs(Ve,{className:"text-2xl flex items-center gap-2 justify-center",children:[s.jsx(Kr,{className:"w-6 h-6"}),"Monthly Champions"]})}),s.jsx(ie,{className:"p-6 pt-4",children:s.jsx("div",{className:"space-y-3",children:f.slice(0,10).map((_,E)=>{const C=[{icon:MC,color:"text-yellow-500",bg:"bg-yellow-50"},{icon:sd,color:"text-gray-400",bg:"bg-gray-50"},{icon:sd,color:"text-orange-600",bg:"bg-orange-50"}][E],R=(C==null?void 0:C.icon)||fn;return s.jsxs(te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:E*.1},className:`flex items-center gap-3 p-3 rounded-xl ${(C==null?void 0:C.bg)||"bg-white"} border-2 ${E===0?"border-amber-400":"border-gray-200"}`,children:[s.jsx("div",{className:`w-8 h-8 rounded-full ${(C==null?void 0:C.bg)||"bg-blue-50"} flex items-center justify-center ${(C==null?void 0:C.color)||"text-gray-600"}`,children:s.jsx(R,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-bold text-sm text-gray-900",children:_.full_name||"Anonymous"}),s.jsxs("p",{className:"text-xs text-gray-600",children:[_.monthly_games," games this month"]})]}),s.jsxs("div",{className:"flex items-center gap-1 bg-purple-100 px-2 py-1 rounded-full",children:[s.jsx(fn,{className:"w-4 h-4 text-purple-600 fill-purple-600"}),s.jsx("span",{className:"font-bold text-sm text-purple-900",children:_.monthly_score})]})]},_.id)})})})]})})})]}),s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:s.jsx(ne,{className:"border-4 border-amber-400 shadow-2xl",children:s.jsx(ie,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"text-5xl",children:""}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Win Prizes Every Month!"}),s.jsx("p",{className:"text-gray-800 font-medium",children:"Play games, earn points, compete! Top 3 players win prizes!"})]})]})})})}),g.length>0&&s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:s.jsxs(ne,{className:"border-2 border-purple-200 shadow-xl",children:[s.jsx(Fe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Ve,{className:"text-2xl flex items-center gap-2",children:[s.jsx(Fl,{className:"w-6 h-6 text-indigo-500"}),"Top Players (All Time)"]}),s.jsx(G,{onClick:()=>t(it("Leaderboard")),variant:"outline",size:"sm",children:"View All"})]})}),s.jsx(ie,{children:s.jsx("div",{className:"space-y-3",children:g.slice(0,3).map((_,E)=>{const C=[{icon:MC,color:"text-yellow-500",bg:"bg-yellow-50"},{icon:sd,color:"text-gray-400",bg:"bg-gray-50"},{icon:sd,color:"text-orange-600",bg:"bg-orange-50"}][E],R=(C==null?void 0:C.icon)||fn;return s.jsxs(te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:E*.1},className:`flex items-center gap-4 p-4 rounded-xl ${(C==null?void 0:C.bg)||"bg-white"} border-2 ${E===0?"border-amber-400":"border-gray-200"}`,children:[s.jsx("div",{className:`w-10 h-10 rounded-full ${(C==null?void 0:C.bg)||"bg-blue-50"} flex items-center justify-center ${(C==null?void 0:C.color)||"text-gray-600"}`,children:s.jsx(R,{className:"w-6 h-6"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-bold text-base text-gray-900",children:_.full_name||"Anonymous"}),s.jsx("p",{className:"text-sm text-gray-600",children:_.city||"Unknown"})]}),s.jsxs("div",{className:"flex items-center gap-1 bg-amber-100 px-2 py-1 rounded-full",children:[s.jsx(fn,{className:"w-4 h-4 text-amber-600 fill-amber-600"}),s.jsx("span",{className:"font-bold text-sm text-amber-900",children:_.points})]})]},_.id)})})})]})}),s.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-500 to-purple-500 rounded-2xl p-6 mb-12 text-white shadow-2xl",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[s.jsxs("div",{children:[s.jsx(wl,{className:"w-8 h-8 mx-auto mb-2"}),s.jsx("div",{className:"text-2xl font-bold",children:zb.length}),s.jsx("div",{className:"text-sm text-blue-100",children:"Games"})]}),s.jsxs("div",{children:[s.jsx(fn,{className:"w-8 h-8 mx-auto mb-2"}),s.jsx("div",{className:"text-2xl font-bold",children:(c==null?void 0:c.points)||0}),s.jsx("div",{className:"text-sm text-blue-100",children:"Your Points"})]}),s.jsxs("div",{children:[s.jsx(Kr,{className:"w-8 h-8 mx-auto mb-2"}),s.jsx("div",{className:"text-2xl font-bold",children:((j=c==null?void 0:c.badges)==null?void 0:j.length)||0}),s.jsx("div",{className:"text-sm text-blue-100",children:"Badges"})]})]}),r&&s.jsxs("div",{className:"mt-4 p-3 bg-white/20 rounded-lg backdrop-blur-sm",children:[s.jsxs("p",{className:"text-sm font-semibold mb-2 flex items-center justify-center gap-2",children:[s.jsx(AR,{className:"w-4 h-4"}),"Daily Challenge: Complete all ",zb.length," games for +10 bonus points!"]}),s.jsx("div",{className:"text-xs text-blue-100 text-center",children:"Perfect score on any game = +5 bonus points "})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-6xl mx-auto",children:s.jsx(ri,{children:zb.map((_,E)=>s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:E*.05},whileHover:{y:-5},children:s.jsxs(ne,{className:"h-full border-2 hover:border-blue-300 hover:shadow-2xl transition-all duration-300 cursor-pointer group",children:[s.jsxs(Fe,{className:"bg-gradient-to-br from-blue-50 to-purple-50",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx(te.div,{className:"text-5xl",whileHover:{scale:1.2,rotate:[0,-10,10,-10,0]},transition:{duration:.5},children:_.emoji}),s.jsx(_e,{className:"bg-amber-500 hover:bg-amber-600",children:_.points})]}),s.jsx(Ve,{className:"text-xl group-hover:text-blue-600 transition-colors",children:_.title})]}),s.jsxs(ie,{className:"pt-3",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:_.description}),s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[s.jsx(_e,{variant:"outline",className:"text-xs",children:_.difficulty}),s.jsx(G,{onClick:()=>x(_),className:"bg-blue-600 hover:bg-blue-700",size:"sm",children:"Play Now"})]})]})]})},_.id))})})]})})}function Fae(t,e=[]){let n=[];function r(a,o){const c=v.createContext(o);c.displayName=a+"Context";const d=n.length;n=[...n,o];const h=f=>{var _;const{scope:g,children:x,...N}=f,w=((_=g==null?void 0:g[t])==null?void 0:_[d])||c,j=v.useMemo(()=>N,Object.values(N));return s.jsx(w.Provider,{value:j,children:x})};h.displayName=a+"Provider";function m(f,g){var w;const x=((w=g==null?void 0:g[t])==null?void 0:w[d])||c,N=v.useContext(x);if(N)return N;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[h,m]}const i=()=>{const a=n.map(o=>v.createContext(o));return function(c){const d=(c==null?void 0:c[t])||a;return v.useMemo(()=>({[`__scope${t}`]:{...c,[t]:d}}),[c,d])}};return i.scopeName=t,[r,Vae(i,...e)]}function Vae(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((c,{useScope:d,scopeName:h})=>{const f=d(a)[`__scope${h}`];return{...c,...f}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Uae=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],PN=Uae.reduce((t,e)=>{const n=Dy(`Primitive.${e}`),r=v.forwardRef((i,a)=>{const{asChild:o,...c}=i,d=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(d,{...c,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),Bb={exports:{}},$b={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RA;function zae(){if(RA)return $b;RA=1;var t=uy();function e(f,g){return f===g&&(f!==0||1/f===1/g)||f!==f&&g!==g}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,o=t.useDebugValue;function c(f,g){var x=g(),N=r({inst:{value:x,getSnapshot:g}}),w=N[0].inst,j=N[1];return a(function(){w.value=x,w.getSnapshot=g,d(w)&&j({inst:w})},[f,x,g]),i(function(){return d(w)&&j({inst:w}),f(function(){d(w)&&j({inst:w})})},[f]),o(x),x}function d(f){var g=f.getSnapshot;f=f.value;try{var x=g();return!n(f,x)}catch{return!0}}function h(f,g){return g()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return $b.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,$b}var PA;function Bae(){return PA||(PA=1,Bb.exports=zae()),Bb.exports}var $ae=Bae();function qae(){return $ae.useSyncExternalStore(Hae,()=>!0,()=>!1)}function Hae(){return()=>{}}var DN="Avatar",[Wae]=Fae(DN),[Kae,TO]=Wae(DN),AO=v.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,a]=v.useState("idle");return s.jsx(Kae,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:s.jsx(PN.span,{...r,ref:e})})});AO.displayName=DN;var IO="AvatarImage",RO=v.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...a}=t,o=TO(IO,n),c=Gae(r,a),d=Ni(h=>{i(h),o.onImageLoadingStatusChange(h)});return sr(()=>{c!=="idle"&&d(c)},[c,d]),c==="loaded"?s.jsx(PN.img,{...a,ref:e,src:r}):null});RO.displayName=IO;var PO="AvatarFallback",DO=v.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,a=TO(PO,n),[o,c]=v.useState(r===void 0);return v.useEffect(()=>{if(r!==void 0){const d=window.setTimeout(()=>c(!0),r);return()=>window.clearTimeout(d)}},[r]),o&&a.imageLoadingStatus!=="loaded"?s.jsx(PN.span,{...i,ref:e}):null});DO.displayName=PO;function DA(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Gae(t,{referrerPolicy:e,crossOrigin:n}){const r=qae(),i=v.useRef(null),a=r?(i.current||(i.current=new window.Image),i.current):null,[o,c]=v.useState(()=>DA(a,t));return sr(()=>{c(DA(a,t))},[a,t]),sr(()=>{const d=f=>()=>{c(f)};if(!a)return;const h=d("loaded"),m=d("error");return a.addEventListener("load",h),a.addEventListener("error",m),e&&(a.referrerPolicy=e),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",h),a.removeEventListener("error",m)}},[a,n,e]),o}var MO=AO,OO=RO,LO=DO;const Qae=v.forwardRef(({className:t,...e},n)=>s.jsx(MO,{ref:n,className:ct("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Qae.displayName=MO.displayName;const Yae=v.forwardRef(({className:t,...e},n)=>s.jsx(OO,{ref:n,className:ct("aspect-square h-full w-full",t),...e}));Yae.displayName=OO.displayName;const Jae=v.forwardRef(({className:t,...e},n)=>s.jsx(LO,{ref:n,className:ct("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Jae.displayName=LO.displayName;function FO(){const[t,e]=v.useState(null),[n,r]=v.useState(!1);v.useEffect(()=>{const h=ph(async m=>{const f=!!m;if(r(f),f)try{const g=await tp(m.uid);e(g?{id:m.uid,...g}:{id:m.uid,email:m.email,points:0})}catch{e({id:m.uid,email:m.email,points:0})}else e(null)});return()=>{try{h==null||h()}catch{}}},[]);const{data:i=[],isLoading:a}=Un({queryKey:["leaderboard-users"],queryFn:async()=>{try{return(await kN.list()).sort((m,f)=>Number(f.points||0)-Number(m.points||0))}catch{return[]}},initialData:[]}),o=h=>{switch(h){case 0:return s.jsx(Kr,{className:"w-6 h-6 sm:w-8 sm:h-8 text-amber-500"});case 1:return s.jsx(sd,{className:"w-6 h-6 sm:w-8 sm:h-8 text-gray-400"});case 2:return s.jsx(sd,{className:"w-6 h-6 sm:w-8 sm:h-8 text-amber-600"});default:return s.jsxs("span",{className:"text-lg sm:text-2xl font-bold text-gray-400",children:["#",h+1]})}},c=h=>{switch(h){case 0:return"from-amber-400 to-amber-600";case 1:return"from-gray-300 to-gray-500";case 2:return"from-amber-500 to-amber-700";default:return"from-blue-100 to-purple-100"}},d=h=>{var f;const m=h.fullName||h.full_name||h.name||"";return m?m.split(" ")[0]:((f=h.email)==null?void 0:f.split("@")[0])||"Anonymous"};return s.jsx("div",{className:"min-h-screen py-6 sm:py-8 md:py-12 px-3 sm:px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8 sm:mb-12",children:[s.jsx("div",{className:"text-5xl sm:text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-gray-900 mb-3 sm:mb-4 px-2",children:"Top Young Learners"}),s.jsx("p",{className:"text-base sm:text-lg text-gray-600 px-2",children:"These amazing kids are learning and earning points!"})]}),!n&&s.jsx(te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-6 sm:mb-8",children:s.jsx(ne,{className:"border-2 border-blue-200 shadow-lg bg-gradient-to-br from-blue-50 to-purple-50",children:s.jsxs(ie,{className:"p-4 sm:p-6 text-center",children:[s.jsx(fn,{className:"w-8 h-8 sm:w-10 sm:h-10 mx-auto mb-3 sm:mb-4 text-blue-600"}),s.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-2",children:"Want to See Your Name Here?"}),s.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-3 sm:mb-4 px-2",children:"Join Islam Kids Zone to earn points, compete with friends, and climb the leaderboard!"}),s.jsxs(G,{onClick:()=>{const h=encodeURIComponent("Access Request - Islam Kids Zone"),m=encodeURIComponent("Hi, I'd like to create an account to join the leaderboard. My name is ____ and my contact details are ____.");window.location.href=`mailto:imediac786@gmail.com?subject=${h}&body=${m}`},className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600",children:[s.jsx(RR,{className:"w-4 h-4 mr-2"}),"Request Access via Email"]})]})})}),t&&s.jsx(te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-6 sm:mb-8",children:s.jsx(ne,{className:"border-2 border-blue-300 shadow-lg",children:s.jsx(ie,{className:"p-4 sm:p-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 w-full sm:w-auto",children:[s.jsx("div",{className:"text-3xl sm:text-4xl flex-shrink-0",children:t.avatar||""}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Your Progress"}),s.jsx("p",{className:"text-lg sm:text-xl font-bold text-gray-900 truncate",children:d(t)}),s.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[s.jsx(fn,{className:"w-4 h-4 text-amber-500 fill-amber-500 flex-shrink-0"}),s.jsxs("span",{className:"font-semibold text-amber-600 text-sm sm:text-base",children:[t.points||0," points"]}),t.madrasah_maktab&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-gray-400 hidden xs:inline",children:""}),s.jsxs("span",{className:"text-xs sm:text-sm text-gray-600 truncate",children:[" ",t.madrasah_maktab]})]})]})]})]}),s.jsxs("div",{className:"text-center flex-shrink-0",children:[s.jsx(Nj,{className:"w-6 h-6 sm:w-8 sm:h-8 text-green-500 mx-auto mb-1"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Keep going!"})]})]})})})}),s.jsxs(ne,{className:"shadow-xl",children:[s.jsx(Fe,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white p-4 sm:p-6",children:s.jsx(Ve,{className:"text-xl sm:text-2xl",children:"All-Time Leaderboard"})}),s.jsx(ie,{className:"p-0",children:a?s.jsx("div",{className:"p-8 sm:p-12 text-center text-gray-500",children:"Loading leaderboard..."}):i.length===0?s.jsxs("div",{className:"p-8 sm:p-12 text-center text-gray-500",children:[s.jsx(fn,{className:"w-12 h-12 sm:w-16 sm:h-16 mx-auto mb-4 text-gray-300"}),s.jsx("p",{children:"No learners yet. Be the first to earn points!"})]}):s.jsx("div",{className:"divide-y divide-gray-100",children:i.map((h,m)=>s.jsx(te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:m*.05},className:`p-4 sm:p-6 hover:bg-gray-50 transition-colors ${t!=null&&t.id&&t.id===(h.uid||h.id)?"bg-blue-50 border-l-4 border-blue-500":""}`,children:s.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[s.jsx("div",{className:"w-12 sm:w-16 flex justify-center flex-shrink-0",children:o(m)}),s.jsxs("div",{className:"flex-1 min-w-0 flex items-center gap-3 sm:gap-4",children:[s.jsx("div",{className:`w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-gradient-to-br ${c(m)} flex items-center justify-center text-xl sm:text-2xl shadow-lg flex-shrink-0`,children:h.avatar||""}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"font-bold text-sm sm:text-base text-gray-900 flex items-center gap-2 flex-wrap",children:[s.jsx("span",{className:"truncate",children:d(h)}),(t==null?void 0:t.id)&&t.id===(h.uid||h.id)&&s.jsx(_e,{className:"bg-blue-500 text-xs flex-shrink-0",children:"You"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-gray-500 flex-wrap",children:[h.city&&s.jsx("span",{className:"truncate",children:h.city}),h.madrasah_maktab&&s.jsxs(s.Fragment,{children:[h.city&&s.jsx("span",{className:"hidden xs:inline",children:""}),s.jsxs("span",{className:"flex items-center gap-1 truncate",children:[s.jsx("span",{className:"text-sm sm:text-base",children:""}),s.jsx("span",{className:"truncate",children:h.madrasah_maktab})]})]})]})]})]}),s.jsxs("div",{className:"text-right flex-shrink-0",children:[s.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 text-lg sm:text-xl font-bold text-amber-600",children:[s.jsx(fn,{className:"w-4 h-4 sm:w-5 sm:h-5 fill-amber-500 text-amber-500"}),s.jsx("span",{children:Number(h.points||0)})]}),s.jsx("p",{className:"text-[10px] sm:text-xs text-gray-500",children:"points"})]})]})},h.uid||h.id||`${h.email||h.full_name||"user"}-${m}`))})})]})]})})}function Xae(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Zae=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,eoe=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,toe={};function MA(t,e){return(toe.jsx?eoe:Zae).test(t)}const noe=/[ \t\n\f\r]/g;function roe(t){return typeof t=="object"?t.type==="text"?OA(t.value):!1:OA(t)}function OA(t){return t.replace(noe,"")===""}class np{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}np.prototype.normal={};np.prototype.property={};np.prototype.space=void 0;function VO(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new np(n,r,e)}function q1(t){return t.toLowerCase()}class gs{constructor(e,n){this.attribute=n,this.property=e}}gs.prototype.attribute="";gs.prototype.booleanish=!1;gs.prototype.boolean=!1;gs.prototype.commaOrSpaceSeparated=!1;gs.prototype.commaSeparated=!1;gs.prototype.defined=!1;gs.prototype.mustUseProperty=!1;gs.prototype.number=!1;gs.prototype.overloadedBoolean=!1;gs.prototype.property="";gs.prototype.spaceSeparated=!1;gs.prototype.space=void 0;let soe=0;const _t=uu(),Wn=uu(),H1=uu(),Ee=uu(),on=uu(),bd=uu(),Ts=uu();function uu(){return 2**++soe}const W1=Object.freeze(Object.defineProperty({__proto__:null,boolean:_t,booleanish:Wn,commaOrSpaceSeparated:Ts,commaSeparated:bd,number:Ee,overloadedBoolean:H1,spaceSeparated:on},Symbol.toStringTag,{value:"Module"})),qb=Object.keys(W1);class MN extends gs{constructor(e,n,r,i){let a=-1;if(super(e,n),LA(this,"space",i),typeof r=="number")for(;++a<qb.length;){const o=qb[a];LA(this,qb[a],(r&W1[o])===W1[o])}}}MN.prototype.defined=!0;function LA(t,e,n){n&&(t[e]=n)}function xh(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const a=new MN(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),e[r]=a,n[q1(r)]=r,n[q1(a.attribute)]=r}return new np(e,n,t.space)}const UO=xh({properties:{ariaActiveDescendant:null,ariaAtomic:Wn,ariaAutoComplete:null,ariaBusy:Wn,ariaChecked:Wn,ariaColCount:Ee,ariaColIndex:Ee,ariaColSpan:Ee,ariaControls:on,ariaCurrent:null,ariaDescribedBy:on,ariaDetails:null,ariaDisabled:Wn,ariaDropEffect:on,ariaErrorMessage:null,ariaExpanded:Wn,ariaFlowTo:on,ariaGrabbed:Wn,ariaHasPopup:null,ariaHidden:Wn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:on,ariaLevel:Ee,ariaLive:null,ariaModal:Wn,ariaMultiLine:Wn,ariaMultiSelectable:Wn,ariaOrientation:null,ariaOwns:on,ariaPlaceholder:null,ariaPosInSet:Ee,ariaPressed:Wn,ariaReadOnly:Wn,ariaRelevant:null,ariaRequired:Wn,ariaRoleDescription:on,ariaRowCount:Ee,ariaRowIndex:Ee,ariaRowSpan:Ee,ariaSelected:Wn,ariaSetSize:Ee,ariaSort:null,ariaValueMax:Ee,ariaValueMin:Ee,ariaValueNow:Ee,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function zO(t,e){return e in t?t[e]:e}function BO(t,e){return zO(t,e.toLowerCase())}const ioe=xh({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:bd,acceptCharset:on,accessKey:on,action:null,allow:null,allowFullScreen:_t,allowPaymentRequest:_t,allowUserMedia:_t,alt:null,as:null,async:_t,autoCapitalize:null,autoComplete:on,autoFocus:_t,autoPlay:_t,blocking:on,capture:null,charSet:null,checked:_t,cite:null,className:on,cols:Ee,colSpan:null,content:null,contentEditable:Wn,controls:_t,controlsList:on,coords:Ee|bd,crossOrigin:null,data:null,dateTime:null,decoding:null,default:_t,defer:_t,dir:null,dirName:null,disabled:_t,download:H1,draggable:Wn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:_t,formTarget:null,headers:on,height:Ee,hidden:H1,high:Ee,href:null,hrefLang:null,htmlFor:on,httpEquiv:on,id:null,imageSizes:null,imageSrcSet:null,inert:_t,inputMode:null,integrity:null,is:null,isMap:_t,itemId:null,itemProp:on,itemRef:on,itemScope:_t,itemType:on,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:_t,low:Ee,manifest:null,max:null,maxLength:Ee,media:null,method:null,min:null,minLength:Ee,multiple:_t,muted:_t,name:null,nonce:null,noModule:_t,noValidate:_t,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:_t,optimum:Ee,pattern:null,ping:on,placeholder:null,playsInline:_t,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:_t,referrerPolicy:null,rel:on,required:_t,reversed:_t,rows:Ee,rowSpan:Ee,sandbox:on,scope:null,scoped:_t,seamless:_t,selected:_t,shadowRootClonable:_t,shadowRootDelegatesFocus:_t,shadowRootMode:null,shape:null,size:Ee,sizes:null,slot:null,span:Ee,spellCheck:Wn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ee,step:null,style:null,tabIndex:Ee,target:null,title:null,translate:null,type:null,typeMustMatch:_t,useMap:null,value:Wn,width:Ee,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:on,axis:null,background:null,bgColor:null,border:Ee,borderColor:null,bottomMargin:Ee,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:_t,declare:_t,event:null,face:null,frame:null,frameBorder:null,hSpace:Ee,leftMargin:Ee,link:null,longDesc:null,lowSrc:null,marginHeight:Ee,marginWidth:Ee,noResize:_t,noHref:_t,noShade:_t,noWrap:_t,object:null,profile:null,prompt:null,rev:null,rightMargin:Ee,rules:null,scheme:null,scrolling:Wn,standby:null,summary:null,text:null,topMargin:Ee,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ee,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:_t,disableRemotePlayback:_t,prefix:null,property:null,results:Ee,security:null,unselectable:null},space:"html",transform:BO}),aoe=xh({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Ts,accentHeight:Ee,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ee,amplitude:Ee,arabicForm:null,ascent:Ee,attributeName:null,attributeType:null,azimuth:Ee,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ee,by:null,calcMode:null,capHeight:Ee,className:on,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ee,diffuseConstant:Ee,direction:null,display:null,dur:null,divisor:Ee,dominantBaseline:null,download:_t,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ee,enableBackground:null,end:null,event:null,exponent:Ee,externalResourcesRequired:null,fill:null,fillOpacity:Ee,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:bd,g2:bd,glyphName:bd,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ee,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ee,horizOriginX:Ee,horizOriginY:Ee,id:null,ideographic:Ee,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ee,k:Ee,k1:Ee,k2:Ee,k3:Ee,k4:Ee,kernelMatrix:Ts,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ee,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ee,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ee,overlineThickness:Ee,paintOrder:null,panose1:null,path:null,pathLength:Ee,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:on,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ee,pointsAtY:Ee,pointsAtZ:Ee,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ts,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ts,rev:Ts,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ts,requiredFeatures:Ts,requiredFonts:Ts,requiredFormats:Ts,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ee,specularExponent:Ee,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ee,strikethroughThickness:Ee,string:null,stroke:null,strokeDashArray:Ts,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ee,strokeOpacity:Ee,strokeWidth:null,style:null,surfaceScale:Ee,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ts,tabIndex:Ee,tableValues:null,target:null,targetX:Ee,targetY:Ee,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ts,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ee,underlineThickness:Ee,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ee,values:null,vAlphabetic:Ee,vMathematical:Ee,vectorEffect:null,vHanging:Ee,vIdeographic:Ee,version:null,vertAdvY:Ee,vertOriginX:Ee,vertOriginY:Ee,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ee,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:zO}),$O=xh({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),qO=xh({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:BO}),HO=xh({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),ooe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},loe=/[A-Z]/g,FA=/-[a-z]/g,coe=/^data[-\w.:]+$/i;function uoe(t,e){const n=q1(e);let r=e,i=gs;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&coe.test(e)){if(e.charAt(4)==="-"){const a=e.slice(5).replace(FA,hoe);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=e.slice(4);if(!FA.test(a)){let o=a.replace(loe,doe);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=MN}return new i(r,e)}function doe(t){return"-"+t.toLowerCase()}function hoe(t){return t.charAt(1).toUpperCase()}const moe=VO([UO,ioe,$O,qO,HO],"html"),ON=VO([UO,aoe,$O,qO,HO],"svg");function foe(t){return t.join(" ").trim()}var Yu={},Hb,VA;function poe(){if(VA)return Hb;VA=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,c=/^\s+|\s+$/g,d=`
`,h="/",m="*",f="",g="comment",x="declaration";function N(j,_){if(typeof j!="string")throw new TypeError("First argument must be a string");if(!j)return[];_=_||{};var E=1,k=1;function C(ee){var re=ee.match(e);re&&(E+=re.length);var he=ee.lastIndexOf(d);k=~he?ee.length-he:k+ee.length}function R(){var ee={line:E,column:k};return function(re){return re.position=new F(ee),I(),re}}function F(ee){this.start=ee,this.end={line:E,column:k},this.source=_.source}F.prototype.content=j;function D(ee){var re=new Error(_.source+":"+E+":"+k+": "+ee);if(re.reason=ee,re.filename=_.source,re.line=E,re.column=k,re.source=j,!_.silent)throw re}function P(ee){var re=ee.exec(j);if(re){var he=re[0];return C(he),j=j.slice(he.length),re}}function I(){P(n)}function O(ee){var re;for(ee=ee||[];re=V();)re!==!1&&ee.push(re);return ee}function V(){var ee=R();if(!(h!=j.charAt(0)||m!=j.charAt(1))){for(var re=2;f!=j.charAt(re)&&(m!=j.charAt(re)||h!=j.charAt(re+1));)++re;if(re+=2,f===j.charAt(re-1))return D("End of comment missing");var he=j.slice(2,re-2);return k+=2,C(he),j=j.slice(re),k+=2,ee({type:g,comment:he})}}function L(){var ee=R(),re=P(r);if(re){if(V(),!P(i))return D("property missing ':'");var he=P(a),ae=ee({type:x,property:w(re[0].replace(t,f)),value:he?w(he[0].replace(t,f)):f});return P(o),ae}}function U(){var ee=[];O(ee);for(var re;re=L();)re!==!1&&(ee.push(re),O(ee));return ee}return I(),U()}function w(j){return j?j.replace(c,f):f}return Hb=N,Hb}var UA;function goe(){if(UA)return Yu;UA=1;var t=Yu&&Yu.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Yu,"__esModule",{value:!0}),Yu.default=n;const e=t(poe());function n(r,i){let a=null;if(!r||typeof r!="string")return a;const o=(0,e.default)(r),c=typeof i=="function";return o.forEach(d=>{if(d.type!=="declaration")return;const{property:h,value:m}=d;c?i(h,m,d):m&&(a=a||{},a[h]=m)}),a}return Yu}var dm={},zA;function xoe(){if(zA)return dm;zA=1,Object.defineProperty(dm,"__esModule",{value:!0}),dm.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,a=function(h){return!h||n.test(h)||t.test(h)},o=function(h,m){return m.toUpperCase()},c=function(h,m){return"".concat(m,"-")},d=function(h,m){return m===void 0&&(m={}),a(h)?h:(h=h.toLowerCase(),m.reactCompat?h=h.replace(i,c):h=h.replace(r,c),h.replace(e,o))};return dm.camelCase=d,dm}var hm,BA;function yoe(){if(BA)return hm;BA=1;var t=hm&&hm.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},e=t(goe()),n=xoe();function r(i,a){var o={};return!i||typeof i!="string"||(0,e.default)(i,function(c,d){c&&d&&(o[(0,n.camelCase)(c,a)]=d)}),o}return r.default=r,hm=r,hm}var voe=yoe();const boe=Yd(voe),WO=KO("end"),LN=KO("start");function KO(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function woe(t){const e=LN(t),n=WO(t);if(e&&n)return{start:e,end:n}}function zm(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?$A(t.position):"start"in t||"end"in t?$A(t):"line"in t||"column"in t?K1(t):""}function K1(t){return qA(t&&t.line)+":"+qA(t&&t.column)}function $A(t){return K1(t&&t.start)+"-"+K1(t&&t.end)}function qA(t){return t&&typeof t=="number"?t:1}class Mr extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},o=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof e=="string"?i=e:!a.cause&&e&&(o=!0,i=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof r=="string"){const d=r.indexOf(":");d===-1?a.ruleId=r:(a.source=r.slice(0,d),a.ruleId=r.slice(d+1))}if(!a.place&&a.ancestors&&a.ancestors){const d=a.ancestors[a.ancestors.length-1];d&&(a.place=d.position)}const c=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=c?c.line:void 0,this.name=zm(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=o&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Mr.prototype.file="";Mr.prototype.name="";Mr.prototype.reason="";Mr.prototype.message="";Mr.prototype.stack="";Mr.prototype.column=void 0;Mr.prototype.line=void 0;Mr.prototype.ancestors=void 0;Mr.prototype.cause=void 0;Mr.prototype.fatal=void 0;Mr.prototype.place=void 0;Mr.prototype.ruleId=void 0;Mr.prototype.source=void 0;const FN={}.hasOwnProperty,joe=new Map,_oe=/[A-Z]/g,Noe=new Set(["table","tbody","thead","tfoot","tr"]),Soe=new Set(["td","th"]),GO="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Eoe(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Doe(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Poe(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?ON:moe,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},a=QO(i,t,void 0);return a&&typeof a!="string"?a:i.create(t,i.Fragment,{children:a||void 0},void 0)}function QO(t,e,n){if(e.type==="element")return Coe(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return koe(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return Aoe(t,e,n);if(e.type==="mdxjsEsm")return Toe(t,e);if(e.type==="root")return Ioe(t,e,n);if(e.type==="text")return Roe(t,e)}function Coe(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=ON,t.schema=i),t.ancestors.push(e);const a=JO(t,e.tagName,!1),o=Moe(t,e);let c=UN(t,e);return Noe.has(e.tagName)&&(c=c.filter(function(d){return typeof d=="string"?!roe(d):!0})),YO(t,o,a,e),VN(o,c),t.ancestors.pop(),t.schema=r,t.create(e,a,o,n)}function koe(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}jf(t,e.position)}function Toe(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);jf(t,e.position)}function Aoe(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=ON,t.schema=i),t.ancestors.push(e);const a=e.name===null?t.Fragment:JO(t,e.name,!0),o=Ooe(t,e),c=UN(t,e);return YO(t,o,a,e),VN(o,c),t.ancestors.pop(),t.schema=r,t.create(e,a,o,n)}function Ioe(t,e,n){const r={};return VN(r,UN(t,e)),t.create(e,t.Fragment,r,n)}function Roe(t,e){return e.value}function YO(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function VN(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function Poe(t,e,n){return r;function r(i,a,o,c){const h=Array.isArray(o.children)?n:e;return c?h(a,o,c):h(a,o)}}function Doe(t,e){return n;function n(r,i,a,o){const c=Array.isArray(a.children),d=LN(r);return e(i,a,o,c,{columnNumber:d?d.column-1:void 0,fileName:t,lineNumber:d?d.line:void 0},void 0)}}function Moe(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&FN.call(e.properties,i)){const a=Loe(t,i,e.properties[i]);if(a){const[o,c]=a;t.tableCellAlignToStyle&&o==="align"&&typeof c=="string"&&Soe.has(e.tagName)?r=c:n[o]=c}}if(r){const a=n.style||(n.style={});a[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Ooe(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const a=r.data.estree.body[0];a.type;const o=a.expression;o.type;const c=o.properties[0];c.type,Object.assign(n,t.evaluater.evaluateExpression(c.argument))}else jf(t,e.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const c=r.value.data.estree.body[0];c.type,a=t.evaluater.evaluateExpression(c.expression)}else jf(t,e.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function UN(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:joe;for(;++r<e.children.length;){const a=e.children[r];let o;if(t.passKeys){const d=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(d){const h=i.get(d)||0;o=d+"-"+h,i.set(d,h+1)}}const c=QO(t,a,o);c!==void 0&&n.push(c)}return n}function Loe(t,e,n){const r=uoe(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?Xae(n):foe(n)),r.property==="style"){let i=typeof n=="object"?n:Foe(t,String(n));return t.stylePropertyNameCase==="css"&&(i=Voe(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?ooe[r.property]||r.property:r.attribute,n]}}function Foe(t,e){try{return boe(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new Mr("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=GO+"#cannot-parse-style-attribute",i}}function JO(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let a=-1,o;for(;++a<i.length;){const c=MA(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};o=o?{type:"MemberExpression",object:o,property:c,computed:!!(a&&c.type==="Literal"),optional:!1}:c}r=o}else r=MA(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return FN.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);jf(t)}function jf(t,e){const n=new Mr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=GO+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Voe(t){const e={};let n;for(n in t)FN.call(t,n)&&(e[Uoe(n)]=t[n]);return e}function Uoe(t){let e=t.replace(_oe,zoe);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function zoe(t){return"-"+t.toLowerCase()}const Wb={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Boe={};function $oe(t,e){const n=Boe,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return XO(t,r,i)}function XO(t,e,n){if(qoe(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return HA(t.children,e,n)}return Array.isArray(t)?HA(t,e,n):""}function HA(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=XO(t[i],e,n);return r.join("")}function qoe(t){return!!(t&&typeof t=="object")}const WA=document.createElement("i");function zN(t){const e="&"+t+";";WA.innerHTML=e;const n=WA.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function ja(t,e,n,r){const i=t.length;let a=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(e,n),t.splice(...o);else for(n&&t.splice(e,n);a<r.length;)o=r.slice(a,a+1e4),o.unshift(e,0),t.splice(...o),a+=1e4,e+=1e4}function Js(t,e){return t.length>0?(ja(t,t.length,0,e),t):e}const KA={}.hasOwnProperty;function Hoe(t){const e={};let n=-1;for(;++n<t.length;)Woe(e,t[n]);return e}function Woe(t,e){let n;for(n in e){const i=(KA.call(t,n)?t[n]:void 0)||(t[n]={}),a=e[n];let o;if(a)for(o in a){KA.call(i,o)||(i[o]=[]);const c=a[o];Koe(i[o],Array.isArray(c)?c:c?[c]:[])}}}function Koe(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);ja(t,0,0,r)}function ZO(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function wd(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const sa=ql(/[A-Za-z]/),Ms=ql(/[\dA-Za-z]/),Goe=ql(/[#-'*+\--9=?A-Z^-~]/);function G1(t){return t!==null&&(t<32||t===127)}const Q1=ql(/\d/),Qoe=ql(/[\dA-Fa-f]/),Yoe=ql(/[!-/:-@[-`{-~]/);function mt(t){return t!==null&&t<-2}function hs(t){return t!==null&&(t<0||t===32)}function $t(t){return t===-2||t===-1||t===32}const Joe=ql(new RegExp("\\p{P}|\\p{S}","u")),Xoe=ql(/\s/);function ql(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function yh(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const a=t.charCodeAt(n);let o="";if(a===37&&Ms(t.charCodeAt(n+1))&&Ms(t.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(o=String.fromCharCode(a));else if(a>55295&&a<57344){const c=t.charCodeAt(n+1);a<56320&&c>56319&&c<57344?(o=String.fromCharCode(a,c),i=1):o=""}else o=String.fromCharCode(a);o&&(e.push(t.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function cn(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return o;function o(d){return $t(d)?(t.enter(n),c(d)):e(d)}function c(d){return $t(d)&&a++<i?(t.consume(d),c):(t.exit(n),e(d))}}const Zoe={tokenize:ele};function ele(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(c){if(c===null){t.consume(c);return}return t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),cn(t,e,"linePrefix")}function i(c){return t.enter("paragraph"),a(c)}function a(c){const d=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=d),n=d,o(c)}function o(c){if(c===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(c);return}return mt(c)?(t.consume(c),t.exit("chunkText"),a):(t.consume(c),o)}}const tle={tokenize:nle},GA={tokenize:rle};function nle(t){const e=this,n=[];let r=0,i,a,o;return c;function c(k){if(r<n.length){const C=n[r];return e.containerState=C[1],t.attempt(C[0].continuation,d,h)(k)}return h(k)}function d(k){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&E();const C=e.events.length;let R=C,F;for(;R--;)if(e.events[R][0]==="exit"&&e.events[R][1].type==="chunkFlow"){F=e.events[R][1].end;break}_(r);let D=C;for(;D<e.events.length;)e.events[D][1].end={...F},D++;return ja(e.events,R+1,0,e.events.slice(C)),e.events.length=D,h(k)}return c(k)}function h(k){if(r===n.length){if(!i)return g(k);if(i.currentConstruct&&i.currentConstruct.concrete)return N(k);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(GA,m,f)(k)}function m(k){return i&&E(),_(r),g(k)}function f(k){return e.parser.lazy[e.now().line]=r!==n.length,o=e.now().offset,N(k)}function g(k){return e.containerState={},t.attempt(GA,x,N)(k)}function x(k){return r++,n.push([e.currentConstruct,e.containerState]),g(k)}function N(k){if(k===null){i&&E(),_(0),t.consume(k);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),w(k)}function w(k){if(k===null){j(t.exit("chunkFlow"),!0),_(0),t.consume(k);return}return mt(k)?(t.consume(k),j(t.exit("chunkFlow")),r=0,e.interrupt=void 0,c):(t.consume(k),w)}function j(k,C){const R=e.sliceStream(k);if(C&&R.push(null),k.previous=a,a&&(a.next=k),a=k,i.defineSkip(k.start),i.write(R),e.parser.lazy[k.start.line]){let F=i.events.length;for(;F--;)if(i.events[F][1].start.offset<o&&(!i.events[F][1].end||i.events[F][1].end.offset>o))return;const D=e.events.length;let P=D,I,O;for(;P--;)if(e.events[P][0]==="exit"&&e.events[P][1].type==="chunkFlow"){if(I){O=e.events[P][1].end;break}I=!0}for(_(r),F=D;F<e.events.length;)e.events[F][1].end={...O},F++;ja(e.events,P+1,0,e.events.slice(D)),e.events.length=F}}function _(k){let C=n.length;for(;C-- >k;){const R=n[C];e.containerState=R[1],R[0].exit.call(e,t)}n.length=k}function E(){i.write([null]),a=void 0,i=void 0,e.containerState._closeFlow=void 0}}function rle(t,e,n){return cn(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function QA(t){if(t===null||hs(t)||Xoe(t))return 1;if(Joe(t))return 2}function BN(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const a=t[i].resolveAll;a&&!r.includes(a)&&(e=a(e,n),r.push(a))}return e}const Y1={name:"attention",resolveAll:sle,tokenize:ile};function sle(t,e){let n=-1,r,i,a,o,c,d,h,m;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;d=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const f={...t[r][1].end},g={...t[n][1].start};YA(f,-d),YA(g,d),o={type:d>1?"strongSequence":"emphasisSequence",start:f,end:{...t[r][1].end}},c={type:d>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:g},a={type:d>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:d>1?"strong":"emphasis",start:{...o.start},end:{...c.end}},t[r][1].end={...o.start},t[n][1].start={...c.end},h=[],t[r][1].end.offset-t[r][1].start.offset&&(h=Js(h,[["enter",t[r][1],e],["exit",t[r][1],e]])),h=Js(h,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",a,e]]),h=Js(h,BN(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),h=Js(h,[["exit",a,e],["enter",c,e],["exit",c,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(m=2,h=Js(h,[["enter",t[n][1],e],["exit",t[n][1],e]])):m=0,ja(t,r-1,n-r+3,h),n=r+h.length-m-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function ile(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=QA(r);let a;return o;function o(d){return a=d,t.enter("attentionSequence"),c(d)}function c(d){if(d===a)return t.consume(d),c;const h=t.exit("attentionSequence"),m=QA(d),f=!m||m===2&&i||n.includes(d),g=!i||i===2&&m||n.includes(r);return h._open=!!(a===42?f:f&&(i||!g)),h._close=!!(a===42?g:g&&(m||!f)),e(d)}}function YA(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const ale={name:"autolink",tokenize:ole};function ole(t,e,n){let r=0;return i;function i(x){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(x),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),a}function a(x){return sa(x)?(t.consume(x),o):x===64?n(x):h(x)}function o(x){return x===43||x===45||x===46||Ms(x)?(r=1,c(x)):h(x)}function c(x){return x===58?(t.consume(x),r=0,d):(x===43||x===45||x===46||Ms(x))&&r++<32?(t.consume(x),c):(r=0,h(x))}function d(x){return x===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(x),t.exit("autolinkMarker"),t.exit("autolink"),e):x===null||x===32||x===60||G1(x)?n(x):(t.consume(x),d)}function h(x){return x===64?(t.consume(x),m):Goe(x)?(t.consume(x),h):n(x)}function m(x){return Ms(x)?f(x):n(x)}function f(x){return x===46?(t.consume(x),r=0,m):x===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(x),t.exit("autolinkMarker"),t.exit("autolink"),e):g(x)}function g(x){if((x===45||Ms(x))&&r++<63){const N=x===45?g:f;return t.consume(x),N}return n(x)}}const n0={partial:!0,tokenize:lle};function lle(t,e,n){return r;function r(a){return $t(a)?cn(t,i,"linePrefix")(a):i(a)}function i(a){return a===null||mt(a)?e(a):n(a)}}const eL={continuation:{tokenize:ule},exit:dle,name:"blockQuote",tokenize:cle};function cle(t,e,n){const r=this;return i;function i(o){if(o===62){const c=r.containerState;return c.open||(t.enter("blockQuote",{_container:!0}),c.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),a}return n(o)}function a(o){return $t(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function ule(t,e,n){const r=this;return i;function i(o){return $t(o)?cn(t,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):a(o)}function a(o){return t.attempt(eL,e,n)(o)}}function dle(t){t.exit("blockQuote")}const tL={name:"characterEscape",tokenize:hle};function hle(t,e,n){return r;function r(a){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(a),t.exit("escapeMarker"),i}function i(a){return Yoe(a)?(t.enter("characterEscapeValue"),t.consume(a),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(a)}}const nL={name:"characterReference",tokenize:mle};function mle(t,e,n){const r=this;let i=0,a,o;return c;function c(f){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),d}function d(f){return f===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(f),t.exit("characterReferenceMarkerNumeric"),h):(t.enter("characterReferenceValue"),a=31,o=Ms,m(f))}function h(f){return f===88||f===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(f),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),a=6,o=Qoe,m):(t.enter("characterReferenceValue"),a=7,o=Q1,m(f))}function m(f){if(f===59&&i){const g=t.exit("characterReferenceValue");return o===Ms&&!zN(r.sliceSerialize(g))?n(f):(t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return o(f)&&i++<a?(t.consume(f),m):n(f)}}const JA={partial:!0,tokenize:ple},XA={concrete:!0,name:"codeFenced",tokenize:fle};function fle(t,e,n){const r=this,i={partial:!0,tokenize:R};let a=0,o=0,c;return d;function d(F){return h(F)}function h(F){const D=r.events[r.events.length-1];return a=D&&D[1].type==="linePrefix"?D[2].sliceSerialize(D[1],!0).length:0,c=F,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),m(F)}function m(F){return F===c?(o++,t.consume(F),m):o<3?n(F):(t.exit("codeFencedFenceSequence"),$t(F)?cn(t,f,"whitespace")(F):f(F))}function f(F){return F===null||mt(F)?(t.exit("codeFencedFence"),r.interrupt?e(F):t.check(JA,w,C)(F)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),g(F))}function g(F){return F===null||mt(F)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),f(F)):$t(F)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),cn(t,x,"whitespace")(F)):F===96&&F===c?n(F):(t.consume(F),g)}function x(F){return F===null||mt(F)?f(F):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),N(F))}function N(F){return F===null||mt(F)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),f(F)):F===96&&F===c?n(F):(t.consume(F),N)}function w(F){return t.attempt(i,C,j)(F)}function j(F){return t.enter("lineEnding"),t.consume(F),t.exit("lineEnding"),_}function _(F){return a>0&&$t(F)?cn(t,E,"linePrefix",a+1)(F):E(F)}function E(F){return F===null||mt(F)?t.check(JA,w,C)(F):(t.enter("codeFlowValue"),k(F))}function k(F){return F===null||mt(F)?(t.exit("codeFlowValue"),E(F)):(t.consume(F),k)}function C(F){return t.exit("codeFenced"),e(F)}function R(F,D,P){let I=0;return O;function O(re){return F.enter("lineEnding"),F.consume(re),F.exit("lineEnding"),V}function V(re){return F.enter("codeFencedFence"),$t(re)?cn(F,L,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(re):L(re)}function L(re){return re===c?(F.enter("codeFencedFenceSequence"),U(re)):P(re)}function U(re){return re===c?(I++,F.consume(re),U):I>=o?(F.exit("codeFencedFenceSequence"),$t(re)?cn(F,ee,"whitespace")(re):ee(re)):P(re)}function ee(re){return re===null||mt(re)?(F.exit("codeFencedFence"),D(re)):P(re)}}}function ple(t,e,n){const r=this;return i;function i(o){return o===null?n(o):(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),a)}function a(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}const Kb={name:"codeIndented",tokenize:xle},gle={partial:!0,tokenize:yle};function xle(t,e,n){const r=this;return i;function i(h){return t.enter("codeIndented"),cn(t,a,"linePrefix",5)(h)}function a(h){const m=r.events[r.events.length-1];return m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?o(h):n(h)}function o(h){return h===null?d(h):mt(h)?t.attempt(gle,o,d)(h):(t.enter("codeFlowValue"),c(h))}function c(h){return h===null||mt(h)?(t.exit("codeFlowValue"),o(h)):(t.consume(h),c)}function d(h){return t.exit("codeIndented"),e(h)}}function yle(t,e,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):mt(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i):cn(t,a,"linePrefix",5)(o)}function a(o){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(o):mt(o)?i(o):n(o)}}const vle={name:"codeText",previous:wle,resolve:ble,tokenize:jle};function ble(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function wle(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function jle(t,e,n){let r=0,i,a;return o;function o(f){return t.enter("codeText"),t.enter("codeTextSequence"),c(f)}function c(f){return f===96?(t.consume(f),r++,c):(t.exit("codeTextSequence"),d(f))}function d(f){return f===null?n(f):f===32?(t.enter("space"),t.consume(f),t.exit("space"),d):f===96?(a=t.enter("codeTextSequence"),i=0,m(f)):mt(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),d):(t.enter("codeTextData"),h(f))}function h(f){return f===null||f===32||f===96||mt(f)?(t.exit("codeTextData"),d(f)):(t.consume(f),h)}function m(f){return f===96?(t.consume(f),i++,m):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(f)):(a.type="codeTextData",h(f))}}class _le{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&mm(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),mm(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),mm(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);mm(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);mm(this.left,n.reverse())}}}function mm(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function rL(t){const e={};let n=-1,r,i,a,o,c,d,h;const m=new _le(t);for(;++n<m.length;){for(;n in e;)n=e[n];if(r=m.get(n),n&&r[1].type==="chunkFlow"&&m.get(n-1)[1].type==="listItemPrefix"&&(d=r[1]._tokenizer.events,a=0,a<d.length&&d[a][1].type==="lineEndingBlank"&&(a+=2),a<d.length&&d[a][1].type==="content"))for(;++a<d.length&&d[a][1].type!=="content";)d[a][1].type==="chunkText"&&(d[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,Nle(m,n)),n=e[n],h=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(o=m.get(a),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(m.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=a);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...m.get(i)[1].start},c=m.slice(i,n),c.unshift(r),m.splice(i,n-i+1,c))}}return ja(t,0,Number.POSITIVE_INFINITY,m.slice(0)),!h}function Nle(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const a=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const c=o.events,d=[],h={};let m,f,g=-1,x=n,N=0,w=0;const j=[w];for(;x;){for(;t.get(++i)[1]!==x;);a.push(i),x._tokenizer||(m=r.sliceStream(x),x.next||m.push(null),f&&o.defineSkip(x.start),x._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(m),x._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=x,x=x.next}for(x=n;++g<c.length;)c[g][0]==="exit"&&c[g-1][0]==="enter"&&c[g][1].type===c[g-1][1].type&&c[g][1].start.line!==c[g][1].end.line&&(w=g+1,j.push(w),x._tokenizer=void 0,x.previous=void 0,x=x.next);for(o.events=[],x?(x._tokenizer=void 0,x.previous=void 0):j.pop(),g=j.length;g--;){const _=c.slice(j[g],j[g+1]),E=a.pop();d.push([E,E+_.length-1]),t.splice(E,2,_)}for(d.reverse(),g=-1;++g<d.length;)h[N+d[g][0]]=N+d[g][1],N+=d[g][1]-d[g][0]-1;return h}const Sle={resolve:Cle,tokenize:kle},Ele={partial:!0,tokenize:Tle};function Cle(t){return rL(t),t}function kle(t,e){let n;return r;function r(c){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(c)}function i(c){return c===null?a(c):mt(c)?t.check(Ele,o,a)(c):(t.consume(c),i)}function a(c){return t.exit("chunkContent"),t.exit("content"),e(c)}function o(c){return t.consume(c),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Tle(t,e,n){const r=this;return i;function i(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),cn(t,a,"linePrefix")}function a(o){if(o===null||mt(o))return n(o);const c=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(o):t.interrupt(r.parser.constructs.flow,n,e)(o)}}function sL(t,e,n,r,i,a,o,c,d){const h=d||Number.POSITIVE_INFINITY;let m=0;return f;function f(_){return _===60?(t.enter(r),t.enter(i),t.enter(a),t.consume(_),t.exit(a),g):_===null||_===32||_===41||G1(_)?n(_):(t.enter(r),t.enter(o),t.enter(c),t.enter("chunkString",{contentType:"string"}),w(_))}function g(_){return _===62?(t.enter(a),t.consume(_),t.exit(a),t.exit(i),t.exit(r),e):(t.enter(c),t.enter("chunkString",{contentType:"string"}),x(_))}function x(_){return _===62?(t.exit("chunkString"),t.exit(c),g(_)):_===null||_===60||mt(_)?n(_):(t.consume(_),_===92?N:x)}function N(_){return _===60||_===62||_===92?(t.consume(_),x):x(_)}function w(_){return!m&&(_===null||_===41||hs(_))?(t.exit("chunkString"),t.exit(c),t.exit(o),t.exit(r),e(_)):m<h&&_===40?(t.consume(_),m++,w):_===41?(t.consume(_),m--,w):_===null||_===32||_===40||G1(_)?n(_):(t.consume(_),_===92?j:w)}function j(_){return _===40||_===41||_===92?(t.consume(_),w):w(_)}}function iL(t,e,n,r,i,a){const o=this;let c=0,d;return h;function h(x){return t.enter(r),t.enter(i),t.consume(x),t.exit(i),t.enter(a),m}function m(x){return c>999||x===null||x===91||x===93&&!d||x===94&&!c&&"_hiddenFootnoteSupport"in o.parser.constructs?n(x):x===93?(t.exit(a),t.enter(i),t.consume(x),t.exit(i),t.exit(r),e):mt(x)?(t.enter("lineEnding"),t.consume(x),t.exit("lineEnding"),m):(t.enter("chunkString",{contentType:"string"}),f(x))}function f(x){return x===null||x===91||x===93||mt(x)||c++>999?(t.exit("chunkString"),m(x)):(t.consume(x),d||(d=!$t(x)),x===92?g:f)}function g(x){return x===91||x===92||x===93?(t.consume(x),c++,f):f(x)}}function aL(t,e,n,r,i,a){let o;return c;function c(g){return g===34||g===39||g===40?(t.enter(r),t.enter(i),t.consume(g),t.exit(i),o=g===40?41:g,d):n(g)}function d(g){return g===o?(t.enter(i),t.consume(g),t.exit(i),t.exit(r),e):(t.enter(a),h(g))}function h(g){return g===o?(t.exit(a),d(o)):g===null?n(g):mt(g)?(t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),cn(t,h,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),m(g))}function m(g){return g===o||g===null||mt(g)?(t.exit("chunkString"),h(g)):(t.consume(g),g===92?f:m)}function f(g){return g===o||g===92?(t.consume(g),m):m(g)}}function Bm(t,e){let n;return r;function r(i){return mt(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):$t(i)?cn(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const Ale={name:"definition",tokenize:Rle},Ile={partial:!0,tokenize:Ple};function Rle(t,e,n){const r=this;let i;return a;function a(x){return t.enter("definition"),o(x)}function o(x){return iL.call(r,t,c,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(x)}function c(x){return i=wd(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),x===58?(t.enter("definitionMarker"),t.consume(x),t.exit("definitionMarker"),d):n(x)}function d(x){return hs(x)?Bm(t,h)(x):h(x)}function h(x){return sL(t,m,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(x)}function m(x){return t.attempt(Ile,f,f)(x)}function f(x){return $t(x)?cn(t,g,"whitespace")(x):g(x)}function g(x){return x===null||mt(x)?(t.exit("definition"),r.parser.defined.push(i),e(x)):n(x)}}function Ple(t,e,n){return r;function r(c){return hs(c)?Bm(t,i)(c):n(c)}function i(c){return aL(t,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function a(c){return $t(c)?cn(t,o,"whitespace")(c):o(c)}function o(c){return c===null||mt(c)?e(c):n(c)}}const Dle={name:"hardBreakEscape",tokenize:Mle};function Mle(t,e,n){return r;function r(a){return t.enter("hardBreakEscape"),t.consume(a),i}function i(a){return mt(a)?(t.exit("hardBreakEscape"),e(a)):n(a)}}const Ole={name:"headingAtx",resolve:Lle,tokenize:Fle};function Lle(t,e){let n=t.length-2,r=3,i,a;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},a={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},ja(t,r,n-r+1,[["enter",i,e],["enter",a,e],["exit",a,e],["exit",i,e]])),t}function Fle(t,e,n){let r=0;return i;function i(m){return t.enter("atxHeading"),a(m)}function a(m){return t.enter("atxHeadingSequence"),o(m)}function o(m){return m===35&&r++<6?(t.consume(m),o):m===null||hs(m)?(t.exit("atxHeadingSequence"),c(m)):n(m)}function c(m){return m===35?(t.enter("atxHeadingSequence"),d(m)):m===null||mt(m)?(t.exit("atxHeading"),e(m)):$t(m)?cn(t,c,"whitespace")(m):(t.enter("atxHeadingText"),h(m))}function d(m){return m===35?(t.consume(m),d):(t.exit("atxHeadingSequence"),c(m))}function h(m){return m===null||m===35||hs(m)?(t.exit("atxHeadingText"),c(m)):(t.consume(m),h)}}const Vle=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],ZA=["pre","script","style","textarea"],Ule={concrete:!0,name:"htmlFlow",resolveTo:$le,tokenize:qle},zle={partial:!0,tokenize:Wle},Ble={partial:!0,tokenize:Hle};function $le(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function qle(t,e,n){const r=this;let i,a,o,c,d;return h;function h(H){return m(H)}function m(H){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(H),f}function f(H){return H===33?(t.consume(H),g):H===47?(t.consume(H),a=!0,w):H===63?(t.consume(H),i=3,r.interrupt?e:B):sa(H)?(t.consume(H),o=String.fromCharCode(H),j):n(H)}function g(H){return H===45?(t.consume(H),i=2,x):H===91?(t.consume(H),i=5,c=0,N):sa(H)?(t.consume(H),i=4,r.interrupt?e:B):n(H)}function x(H){return H===45?(t.consume(H),r.interrupt?e:B):n(H)}function N(H){const me="CDATA[";return H===me.charCodeAt(c++)?(t.consume(H),c===me.length?r.interrupt?e:L:N):n(H)}function w(H){return sa(H)?(t.consume(H),o=String.fromCharCode(H),j):n(H)}function j(H){if(H===null||H===47||H===62||hs(H)){const me=H===47,je=o.toLowerCase();return!me&&!a&&ZA.includes(je)?(i=1,r.interrupt?e(H):L(H)):Vle.includes(o.toLowerCase())?(i=6,me?(t.consume(H),_):r.interrupt?e(H):L(H)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(H):a?E(H):k(H))}return H===45||Ms(H)?(t.consume(H),o+=String.fromCharCode(H),j):n(H)}function _(H){return H===62?(t.consume(H),r.interrupt?e:L):n(H)}function E(H){return $t(H)?(t.consume(H),E):O(H)}function k(H){return H===47?(t.consume(H),O):H===58||H===95||sa(H)?(t.consume(H),C):$t(H)?(t.consume(H),k):O(H)}function C(H){return H===45||H===46||H===58||H===95||Ms(H)?(t.consume(H),C):R(H)}function R(H){return H===61?(t.consume(H),F):$t(H)?(t.consume(H),R):k(H)}function F(H){return H===null||H===60||H===61||H===62||H===96?n(H):H===34||H===39?(t.consume(H),d=H,D):$t(H)?(t.consume(H),F):P(H)}function D(H){return H===d?(t.consume(H),d=null,I):H===null||mt(H)?n(H):(t.consume(H),D)}function P(H){return H===null||H===34||H===39||H===47||H===60||H===61||H===62||H===96||hs(H)?R(H):(t.consume(H),P)}function I(H){return H===47||H===62||$t(H)?k(H):n(H)}function O(H){return H===62?(t.consume(H),V):n(H)}function V(H){return H===null||mt(H)?L(H):$t(H)?(t.consume(H),V):n(H)}function L(H){return H===45&&i===2?(t.consume(H),he):H===60&&i===1?(t.consume(H),ae):H===62&&i===4?(t.consume(H),$):H===63&&i===3?(t.consume(H),B):H===93&&i===5?(t.consume(H),q):mt(H)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(zle,Z,U)(H)):H===null||mt(H)?(t.exit("htmlFlowData"),U(H)):(t.consume(H),L)}function U(H){return t.check(Ble,ee,Z)(H)}function ee(H){return t.enter("lineEnding"),t.consume(H),t.exit("lineEnding"),re}function re(H){return H===null||mt(H)?U(H):(t.enter("htmlFlowData"),L(H))}function he(H){return H===45?(t.consume(H),B):L(H)}function ae(H){return H===47?(t.consume(H),o="",Q):L(H)}function Q(H){if(H===62){const me=o.toLowerCase();return ZA.includes(me)?(t.consume(H),$):L(H)}return sa(H)&&o.length<8?(t.consume(H),o+=String.fromCharCode(H),Q):L(H)}function q(H){return H===93?(t.consume(H),B):L(H)}function B(H){return H===62?(t.consume(H),$):H===45&&i===2?(t.consume(H),B):L(H)}function $(H){return H===null||mt(H)?(t.exit("htmlFlowData"),Z(H)):(t.consume(H),$)}function Z(H){return t.exit("htmlFlow"),e(H)}}function Hle(t,e,n){const r=this;return i;function i(o){return mt(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),a):n(o)}function a(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}function Wle(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(n0,e,n)}}const Kle={name:"htmlText",tokenize:Gle};function Gle(t,e,n){const r=this;let i,a,o;return c;function c(B){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(B),d}function d(B){return B===33?(t.consume(B),h):B===47?(t.consume(B),R):B===63?(t.consume(B),k):sa(B)?(t.consume(B),P):n(B)}function h(B){return B===45?(t.consume(B),m):B===91?(t.consume(B),a=0,N):sa(B)?(t.consume(B),E):n(B)}function m(B){return B===45?(t.consume(B),x):n(B)}function f(B){return B===null?n(B):B===45?(t.consume(B),g):mt(B)?(o=f,ae(B)):(t.consume(B),f)}function g(B){return B===45?(t.consume(B),x):f(B)}function x(B){return B===62?he(B):B===45?g(B):f(B)}function N(B){const $="CDATA[";return B===$.charCodeAt(a++)?(t.consume(B),a===$.length?w:N):n(B)}function w(B){return B===null?n(B):B===93?(t.consume(B),j):mt(B)?(o=w,ae(B)):(t.consume(B),w)}function j(B){return B===93?(t.consume(B),_):w(B)}function _(B){return B===62?he(B):B===93?(t.consume(B),_):w(B)}function E(B){return B===null||B===62?he(B):mt(B)?(o=E,ae(B)):(t.consume(B),E)}function k(B){return B===null?n(B):B===63?(t.consume(B),C):mt(B)?(o=k,ae(B)):(t.consume(B),k)}function C(B){return B===62?he(B):k(B)}function R(B){return sa(B)?(t.consume(B),F):n(B)}function F(B){return B===45||Ms(B)?(t.consume(B),F):D(B)}function D(B){return mt(B)?(o=D,ae(B)):$t(B)?(t.consume(B),D):he(B)}function P(B){return B===45||Ms(B)?(t.consume(B),P):B===47||B===62||hs(B)?I(B):n(B)}function I(B){return B===47?(t.consume(B),he):B===58||B===95||sa(B)?(t.consume(B),O):mt(B)?(o=I,ae(B)):$t(B)?(t.consume(B),I):he(B)}function O(B){return B===45||B===46||B===58||B===95||Ms(B)?(t.consume(B),O):V(B)}function V(B){return B===61?(t.consume(B),L):mt(B)?(o=V,ae(B)):$t(B)?(t.consume(B),V):I(B)}function L(B){return B===null||B===60||B===61||B===62||B===96?n(B):B===34||B===39?(t.consume(B),i=B,U):mt(B)?(o=L,ae(B)):$t(B)?(t.consume(B),L):(t.consume(B),ee)}function U(B){return B===i?(t.consume(B),i=void 0,re):B===null?n(B):mt(B)?(o=U,ae(B)):(t.consume(B),U)}function ee(B){return B===null||B===34||B===39||B===60||B===61||B===96?n(B):B===47||B===62||hs(B)?I(B):(t.consume(B),ee)}function re(B){return B===47||B===62||hs(B)?I(B):n(B)}function he(B){return B===62?(t.consume(B),t.exit("htmlTextData"),t.exit("htmlText"),e):n(B)}function ae(B){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(B),t.exit("lineEnding"),Q}function Q(B){return $t(B)?cn(t,q,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(B):q(B)}function q(B){return t.enter("htmlTextData"),o(B)}}const $N={name:"labelEnd",resolveAll:Xle,resolveTo:Zle,tokenize:ece},Qle={tokenize:tce},Yle={tokenize:nce},Jle={tokenize:rce};function Xle(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&ja(t,0,t.length,n),t}function Zle(t,e){let n=t.length,r=0,i,a,o,c;for(;n--;)if(i=t[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const d={type:t[a][1].type==="labelLink"?"link":"image",start:{...t[a][1].start},end:{...t[t.length-1][1].end}},h={type:"label",start:{...t[a][1].start},end:{...t[o][1].end}},m={type:"labelText",start:{...t[a+r+2][1].end},end:{...t[o-2][1].start}};return c=[["enter",d,e],["enter",h,e]],c=Js(c,t.slice(a+1,a+r+3)),c=Js(c,[["enter",m,e]]),c=Js(c,BN(e.parser.constructs.insideSpan.null,t.slice(a+r+4,o-3),e)),c=Js(c,[["exit",m,e],t[o-2],t[o-1],["exit",h,e]]),c=Js(c,t.slice(o+1)),c=Js(c,[["exit",d,e]]),ja(t,a,t.length,c),t}function ece(t,e,n){const r=this;let i=r.events.length,a,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return c;function c(g){return a?a._inactive?f(g):(o=r.parser.defined.includes(wd(r.sliceSerialize({start:a.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(g),t.exit("labelMarker"),t.exit("labelEnd"),d):n(g)}function d(g){return g===40?t.attempt(Qle,m,o?m:f)(g):g===91?t.attempt(Yle,m,o?h:f)(g):o?m(g):f(g)}function h(g){return t.attempt(Jle,m,f)(g)}function m(g){return e(g)}function f(g){return a._balanced=!0,n(g)}}function tce(t,e,n){return r;function r(f){return t.enter("resource"),t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),i}function i(f){return hs(f)?Bm(t,a)(f):a(f)}function a(f){return f===41?m(f):sL(t,o,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function o(f){return hs(f)?Bm(t,d)(f):m(f)}function c(f){return n(f)}function d(f){return f===34||f===39||f===40?aL(t,h,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):m(f)}function h(f){return hs(f)?Bm(t,m)(f):m(f)}function m(f){return f===41?(t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),t.exit("resource"),e):n(f)}}function nce(t,e,n){const r=this;return i;function i(c){return iL.call(r,t,a,o,"reference","referenceMarker","referenceString")(c)}function a(c){return r.parser.defined.includes(wd(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(c):n(c)}function o(c){return n(c)}}function rce(t,e,n){return r;function r(a){return t.enter("reference"),t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),i}function i(a){return a===93?(t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),t.exit("reference"),e):n(a)}}const sce={name:"labelStartImage",resolveAll:$N.resolveAll,tokenize:ice};function ice(t,e,n){const r=this;return i;function i(c){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(c),t.exit("labelImageMarker"),a}function a(c){return c===91?(t.enter("labelMarker"),t.consume(c),t.exit("labelMarker"),t.exit("labelImage"),o):n(c)}function o(c){return c===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(c):e(c)}}const ace={name:"labelStartLink",resolveAll:$N.resolveAll,tokenize:oce};function oce(t,e,n){const r=this;return i;function i(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),a}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const Gb={name:"lineEnding",tokenize:lce};function lce(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),cn(t,e,"linePrefix")}}const hx={name:"thematicBreak",tokenize:cce};function cce(t,e,n){let r=0,i;return a;function a(h){return t.enter("thematicBreak"),o(h)}function o(h){return i=h,c(h)}function c(h){return h===i?(t.enter("thematicBreakSequence"),d(h)):r>=3&&(h===null||mt(h))?(t.exit("thematicBreak"),e(h)):n(h)}function d(h){return h===i?(t.consume(h),r++,d):(t.exit("thematicBreakSequence"),$t(h)?cn(t,c,"whitespace")(h):c(h))}}const is={continuation:{tokenize:mce},exit:pce,name:"list",tokenize:hce},uce={partial:!0,tokenize:gce},dce={partial:!0,tokenize:fce};function hce(t,e,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return c;function c(x){const N=r.containerState.type||(x===42||x===43||x===45?"listUnordered":"listOrdered");if(N==="listUnordered"?!r.containerState.marker||x===r.containerState.marker:Q1(x)){if(r.containerState.type||(r.containerState.type=N,t.enter(N,{_container:!0})),N==="listUnordered")return t.enter("listItemPrefix"),x===42||x===45?t.check(hx,n,h)(x):h(x);if(!r.interrupt||x===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),d(x)}return n(x)}function d(x){return Q1(x)&&++o<10?(t.consume(x),d):(!r.interrupt||o<2)&&(r.containerState.marker?x===r.containerState.marker:x===41||x===46)?(t.exit("listItemValue"),h(x)):n(x)}function h(x){return t.enter("listItemMarker"),t.consume(x),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||x,t.check(n0,r.interrupt?n:m,t.attempt(uce,g,f))}function m(x){return r.containerState.initialBlankLine=!0,a++,g(x)}function f(x){return $t(x)?(t.enter("listItemPrefixWhitespace"),t.consume(x),t.exit("listItemPrefixWhitespace"),g):n(x)}function g(x){return r.containerState.size=a+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(x)}}function mce(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(n0,i,a);function i(c){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,cn(t,e,"listItemIndent",r.containerState.size+1)(c)}function a(c){return r.containerState.furtherBlankLines||!$t(c)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(c)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(dce,e,o)(c))}function o(c){return r.containerState._closeFlow=!0,r.interrupt=void 0,cn(t,t.attempt(is,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}}function fce(t,e,n){const r=this;return cn(t,i,"listItemIndent",r.containerState.size+1);function i(a){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(a):n(a)}}function pce(t){t.exit(this.containerState.type)}function gce(t,e,n){const r=this;return cn(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const o=r.events[r.events.length-1];return!$t(a)&&o&&o[1].type==="listItemPrefixWhitespace"?e(a):n(a)}}const eI={name:"setextUnderline",resolveTo:xce,tokenize:yce};function xce(t,e){let n=t.length,r,i,a;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!a&&t[n][1].type==="definition"&&(a=n);const o={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",a?(t.splice(i,0,["enter",o,e]),t.splice(a+1,0,["exit",t[r][1],e]),t[r][1].end={...t[a][1].end}):t[r][1]=o,t.push(["exit",o,e]),t}function yce(t,e,n){const r=this;let i;return a;function a(h){let m=r.events.length,f;for(;m--;)if(r.events[m][1].type!=="lineEnding"&&r.events[m][1].type!=="linePrefix"&&r.events[m][1].type!=="content"){f=r.events[m][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(t.enter("setextHeadingLine"),i=h,o(h)):n(h)}function o(h){return t.enter("setextHeadingLineSequence"),c(h)}function c(h){return h===i?(t.consume(h),c):(t.exit("setextHeadingLineSequence"),$t(h)?cn(t,d,"lineSuffix")(h):d(h))}function d(h){return h===null||mt(h)?(t.exit("setextHeadingLine"),e(h)):n(h)}}const vce={tokenize:bce};function bce(t){const e=this,n=t.attempt(n0,r,t.attempt(this.parser.constructs.flowInitial,i,cn(t,t.attempt(this.parser.constructs.flow,i,t.attempt(Sle,i)),"linePrefix")));return n;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEndingBlank"),t.consume(a),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const wce={resolveAll:lL()},jce=oL("string"),_ce=oL("text");function oL(t){return{resolveAll:lL(t==="text"?Nce:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],a=n.attempt(i,o,c);return o;function o(m){return h(m)?a(m):c(m)}function c(m){if(m===null){n.consume(m);return}return n.enter("data"),n.consume(m),d}function d(m){return h(m)?(n.exit("data"),a(m)):(n.consume(m),d)}function h(m){if(m===null)return!0;const f=i[m];let g=-1;if(f)for(;++g<f.length;){const x=f[g];if(!x.previous||x.previous.call(r,r.previous))return!0}return!1}}}function lL(t){return e;function e(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return t?t(n,r):n}}function Nce(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let a=i.length,o=-1,c=0,d;for(;a--;){const h=i[a];if(typeof h=="string"){for(o=h.length;h.charCodeAt(o-1)===32;)c++,o--;if(o)break;o=-1}else if(h===-2)d=!0,c++;else if(h!==-1){a++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(c=0),c){const h={type:n===t.length||d||c<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?o:r.start._bufferIndex+o,_index:r.start._index+a,line:r.end.line,column:r.end.column-c,offset:r.end.offset-c},end:{...r.end}};r.end={...h.start},r.start.offset===r.end.offset?Object.assign(r,h):(t.splice(n,0,["enter",h,e],["exit",h,e]),n+=2)}n++}return t}const Sce={42:is,43:is,45:is,48:is,49:is,50:is,51:is,52:is,53:is,54:is,55:is,56:is,57:is,62:eL},Ece={91:Ale},Cce={[-2]:Kb,[-1]:Kb,32:Kb},kce={35:Ole,42:hx,45:[eI,hx],60:Ule,61:eI,95:hx,96:XA,126:XA},Tce={38:nL,92:tL},Ace={[-5]:Gb,[-4]:Gb,[-3]:Gb,33:sce,38:nL,42:Y1,60:[ale,Kle],91:ace,92:[Dle,tL],93:$N,95:Y1,96:vle},Ice={null:[Y1,wce]},Rce={null:[42,95]},Pce={null:[]},Dce=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Rce,contentInitial:Ece,disable:Pce,document:Sce,flow:kce,flowInitial:Cce,insideSpan:Ice,string:Tce,text:Ace},Symbol.toStringTag,{value:"Module"}));function Mce(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let o=[],c=[];const d={attempt:D(R),check:D(F),consume:E,enter:k,exit:C,interrupt:D(F,{interrupt:!0})},h={code:null,containerState:{},defineSkip:w,events:[],now:N,parser:t,previous:null,sliceSerialize:g,sliceStream:x,write:f};let m=e.tokenize.call(h,d);return e.resolveAll&&a.push(e),h;function f(V){return o=Js(o,V),j(),o[o.length-1]!==null?[]:(P(e,0),h.events=BN(a,h.events,h),h.events)}function g(V,L){return Lce(x(V),L)}function x(V){return Oce(o,V)}function N(){const{_bufferIndex:V,_index:L,line:U,column:ee,offset:re}=r;return{_bufferIndex:V,_index:L,line:U,column:ee,offset:re}}function w(V){i[V.line]=V.column,O()}function j(){let V;for(;r._index<o.length;){const L=o[r._index];if(typeof L=="string")for(V=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===V&&r._bufferIndex<L.length;)_(L.charCodeAt(r._bufferIndex));else _(L)}}function _(V){m=m(V)}function E(V){mt(V)?(r.line++,r.column=1,r.offset+=V===-3?2:1,O()):V!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),h.previous=V}function k(V,L){const U=L||{};return U.type=V,U.start=N(),h.events.push(["enter",U,h]),c.push(U),U}function C(V){const L=c.pop();return L.end=N(),h.events.push(["exit",L,h]),L}function R(V,L){P(V,L.from)}function F(V,L){L.restore()}function D(V,L){return U;function U(ee,re,he){let ae,Q,q,B;return Array.isArray(ee)?Z(ee):"tokenize"in ee?Z([ee]):$(ee);function $(Ae){return ge;function ge(Se){const De=Se!==null&&Ae[Se],ze=Se!==null&&Ae.null,qe=[...Array.isArray(De)?De:De?[De]:[],...Array.isArray(ze)?ze:ze?[ze]:[]];return Z(qe)(Se)}}function Z(Ae){return ae=Ae,Q=0,Ae.length===0?he:H(Ae[Q])}function H(Ae){return ge;function ge(Se){return B=I(),q=Ae,Ae.partial||(h.currentConstruct=Ae),Ae.name&&h.parser.constructs.disable.null.includes(Ae.name)?je():Ae.tokenize.call(L?Object.assign(Object.create(h),L):h,d,me,je)(Se)}}function me(Ae){return V(q,B),re}function je(Ae){return B.restore(),++Q<ae.length?H(ae[Q]):he}}}function P(V,L){V.resolveAll&&!a.includes(V)&&a.push(V),V.resolve&&ja(h.events,L,h.events.length-L,V.resolve(h.events.slice(L),h)),V.resolveTo&&(h.events=V.resolveTo(h.events,h))}function I(){const V=N(),L=h.previous,U=h.currentConstruct,ee=h.events.length,re=Array.from(c);return{from:ee,restore:he};function he(){r=V,h.previous=L,h.currentConstruct=U,h.events.length=ee,c=re,O()}}function O(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Oce(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,a=e.end._bufferIndex;let o;if(n===i)o=[t[n].slice(r,a)];else{if(o=t.slice(n,i),r>-1){const c=o[0];typeof c=="string"?o[0]=c.slice(r):o.shift()}a>0&&o.push(t[i].slice(0,a))}return o}function Lce(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const a=t[n];let o;if(typeof a=="string")o=a;else switch(a){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(a)}i=a===-2,r.push(o)}return r.join("")}function Fce(t){const r={constructs:Hoe([Dce,...(t||{}).extensions||[]]),content:i(Zoe),defined:[],document:i(tle),flow:i(vce),lazy:{},string:i(jce),text:i(_ce)};return r;function i(a){return o;function o(c){return Mce(r,a,c)}}}function Vce(t){for(;!rL(t););return t}const tI=/[\0\t\n\r]/g;function Uce(){let t=1,e="",n=!0,r;return i;function i(a,o,c){const d=[];let h,m,f,g,x;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(o||void 0).decode(a)),f=0,e="",n&&(a.charCodeAt(0)===65279&&f++,n=void 0);f<a.length;){if(tI.lastIndex=f,h=tI.exec(a),g=h&&h.index!==void 0?h.index:a.length,x=a.charCodeAt(g),!h){e=a.slice(f);break}if(x===10&&f===g&&r)d.push(-3),r=void 0;else switch(r&&(d.push(-5),r=void 0),f<g&&(d.push(a.slice(f,g)),t+=g-f),x){case 0:{d.push(65533),t++;break}case 9:{for(m=Math.ceil(t/4)*4,d.push(-2);t++<m;)d.push(-1);break}case 10:{d.push(-4),t=1;break}default:r=!0,t=1}f=g+1}return c&&(r&&d.push(-5),e&&d.push(e),d.push(null)),d}}const zce=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Bce(t){return t.replace(zce,$ce)}function $ce(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return ZO(n.slice(a?2:1),a?16:10)}return zN(n)||t}const cL={}.hasOwnProperty;function qce(t,e,n){return typeof e!="string"&&(n=e,e=void 0),Hce(n)(Vce(Fce(n).document().write(Uce()(t,e,!0))))}function Hce(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(zt),autolinkProtocol:I,autolinkEmail:I,atxHeading:a(wr),blockQuote:a(ze),characterEscape:I,characterReference:I,codeFenced:a(qe),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:a(qe,o),codeText:a(ft,o),codeTextData:I,data:I,codeFlowValue:I,definition:a(Jt),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:a(Cn),hardBreakEscape:a(Bn),hardBreakTrailing:a(Bn),htmlFlow:a(Jn,o),htmlFlowData:I,htmlText:a(Jn,o),htmlTextData:I,image:a(xs),label:o,link:a(zt),listItem:a(Or),listItemValue:g,listOrdered:a(Xt,f),listUnordered:a(Xt),paragraph:a(Ea),reference:H,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:a(wr),strong:a(Ii),thematicBreak:a(Fs)},exit:{atxHeading:d(),atxHeadingSequence:R,autolink:d(),autolinkEmail:De,autolinkProtocol:Se,blockQuote:d(),characterEscapeValue:O,characterReferenceMarkerHexadecimal:je,characterReferenceMarkerNumeric:je,characterReferenceValue:Ae,characterReference:ge,codeFenced:d(j),codeFencedFence:w,codeFencedFenceInfo:x,codeFencedFenceMeta:N,codeFlowValue:O,codeIndented:d(_),codeText:d(re),codeTextData:O,data:O,definition:d(),definitionDestinationString:C,definitionLabelString:E,definitionTitleString:k,emphasis:d(),hardBreakEscape:d(L),hardBreakTrailing:d(L),htmlFlow:d(U),htmlFlowData:O,htmlText:d(ee),htmlTextData:O,image:d(ae),label:q,labelText:Q,lineEnding:V,link:d(he),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:me,resourceDestinationString:B,resourceTitleString:$,resource:Z,setextHeading:d(P),setextHeadingLineSequence:D,setextHeadingText:F,strong:d(),thematicBreak:d()}};uL(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(fe){let Ie={type:"root",children:[]};const Ze={stack:[Ie],tokenStack:[],config:e,enter:c,exit:h,buffer:o,resume:m,data:n},bt=[];let kt=-1;for(;++kt<fe.length;)if(fe[kt][1].type==="listOrdered"||fe[kt][1].type==="listUnordered")if(fe[kt][0]==="enter")bt.push(kt);else{const xn=bt.pop();kt=i(fe,xn,kt)}for(kt=-1;++kt<fe.length;){const xn=e[fe[kt][0]];cL.call(xn,fe[kt][1].type)&&xn[fe[kt][1].type].call(Object.assign({sliceSerialize:fe[kt][2].sliceSerialize},Ze),fe[kt][1])}if(Ze.tokenStack.length>0){const xn=Ze.tokenStack[Ze.tokenStack.length-1];(xn[1]||nI).call(Ze,void 0,xn[0])}for(Ie.position={start:Go(fe.length>0?fe[0][1].start:{line:1,column:1,offset:0}),end:Go(fe.length>0?fe[fe.length-2][1].end:{line:1,column:1,offset:0})},kt=-1;++kt<e.transforms.length;)Ie=e.transforms[kt](Ie)||Ie;return Ie}function i(fe,Ie,Ze){let bt=Ie-1,kt=-1,xn=!1,pe,He,et,tt;for(;++bt<=Ze;){const gt=fe[bt];switch(gt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{gt[0]==="enter"?kt++:kt--,tt=void 0;break}case"lineEndingBlank":{gt[0]==="enter"&&(pe&&!tt&&!kt&&!et&&(et=bt),tt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:tt=void 0}if(!kt&&gt[0]==="enter"&&gt[1].type==="listItemPrefix"||kt===-1&&gt[0]==="exit"&&(gt[1].type==="listUnordered"||gt[1].type==="listOrdered")){if(pe){let ut=bt;for(He=void 0;ut--;){const Dt=fe[ut];if(Dt[1].type==="lineEnding"||Dt[1].type==="lineEndingBlank"){if(Dt[0]==="exit")continue;He&&(fe[He][1].type="lineEndingBlank",xn=!0),Dt[1].type="lineEnding",He=ut}else if(!(Dt[1].type==="linePrefix"||Dt[1].type==="blockQuotePrefix"||Dt[1].type==="blockQuotePrefixWhitespace"||Dt[1].type==="blockQuoteMarker"||Dt[1].type==="listItemIndent"))break}et&&(!He||et<He)&&(pe._spread=!0),pe.end=Object.assign({},He?fe[He][1].start:gt[1].end),fe.splice(He||bt,0,["exit",pe,gt[2]]),bt++,Ze++}if(gt[1].type==="listItemPrefix"){const ut={type:"listItem",_spread:!1,start:Object.assign({},gt[1].start),end:void 0};pe=ut,fe.splice(bt,0,["enter",ut,gt[2]]),bt++,Ze++,et=void 0,tt=!0}}}return fe[Ie][1]._spread=xn,Ze}function a(fe,Ie){return Ze;function Ze(bt){c.call(this,fe(bt),bt),Ie&&Ie.call(this,bt)}}function o(){this.stack.push({type:"fragment",children:[]})}function c(fe,Ie,Ze){this.stack[this.stack.length-1].children.push(fe),this.stack.push(fe),this.tokenStack.push([Ie,Ze||void 0]),fe.position={start:Go(Ie.start),end:void 0}}function d(fe){return Ie;function Ie(Ze){fe&&fe.call(this,Ze),h.call(this,Ze)}}function h(fe,Ie){const Ze=this.stack.pop(),bt=this.tokenStack.pop();if(bt)bt[0].type!==fe.type&&(Ie?Ie.call(this,fe,bt[0]):(bt[1]||nI).call(this,fe,bt[0]));else throw new Error("Cannot close `"+fe.type+"` ("+zm({start:fe.start,end:fe.end})+"): its not open");Ze.position.end=Go(fe.end)}function m(){return $oe(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function g(fe){if(this.data.expectingFirstListItemValue){const Ie=this.stack[this.stack.length-2];Ie.start=Number.parseInt(this.sliceSerialize(fe),10),this.data.expectingFirstListItemValue=void 0}}function x(){const fe=this.resume(),Ie=this.stack[this.stack.length-1];Ie.lang=fe}function N(){const fe=this.resume(),Ie=this.stack[this.stack.length-1];Ie.meta=fe}function w(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function j(){const fe=this.resume(),Ie=this.stack[this.stack.length-1];Ie.value=fe.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function _(){const fe=this.resume(),Ie=this.stack[this.stack.length-1];Ie.value=fe.replace(/(\r?\n|\r)$/g,"")}function E(fe){const Ie=this.resume(),Ze=this.stack[this.stack.length-1];Ze.label=Ie,Ze.identifier=wd(this.sliceSerialize(fe)).toLowerCase()}function k(){const fe=this.resume(),Ie=this.stack[this.stack.length-1];Ie.title=fe}function C(){const fe=this.resume(),Ie=this.stack[this.stack.length-1];Ie.url=fe}function R(fe){const Ie=this.stack[this.stack.length-1];if(!Ie.depth){const Ze=this.sliceSerialize(fe).length;Ie.depth=Ze}}function F(){this.data.setextHeadingSlurpLineEnding=!0}function D(fe){const Ie=this.stack[this.stack.length-1];Ie.depth=this.sliceSerialize(fe).codePointAt(0)===61?1:2}function P(){this.data.setextHeadingSlurpLineEnding=void 0}function I(fe){const Ze=this.stack[this.stack.length-1].children;let bt=Ze[Ze.length-1];(!bt||bt.type!=="text")&&(bt=Ri(),bt.position={start:Go(fe.start),end:void 0},Ze.push(bt)),this.stack.push(bt)}function O(fe){const Ie=this.stack.pop();Ie.value+=this.sliceSerialize(fe),Ie.position.end=Go(fe.end)}function V(fe){const Ie=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ze=Ie.children[Ie.children.length-1];Ze.position.end=Go(fe.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Ie.type)&&(I.call(this,fe),O.call(this,fe))}function L(){this.data.atHardBreak=!0}function U(){const fe=this.resume(),Ie=this.stack[this.stack.length-1];Ie.value=fe}function ee(){const fe=this.resume(),Ie=this.stack[this.stack.length-1];Ie.value=fe}function re(){const fe=this.resume(),Ie=this.stack[this.stack.length-1];Ie.value=fe}function he(){const fe=this.stack[this.stack.length-1];if(this.data.inReference){const Ie=this.data.referenceType||"shortcut";fe.type+="Reference",fe.referenceType=Ie,delete fe.url,delete fe.title}else delete fe.identifier,delete fe.label;this.data.referenceType=void 0}function ae(){const fe=this.stack[this.stack.length-1];if(this.data.inReference){const Ie=this.data.referenceType||"shortcut";fe.type+="Reference",fe.referenceType=Ie,delete fe.url,delete fe.title}else delete fe.identifier,delete fe.label;this.data.referenceType=void 0}function Q(fe){const Ie=this.sliceSerialize(fe),Ze=this.stack[this.stack.length-2];Ze.label=Bce(Ie),Ze.identifier=wd(Ie).toLowerCase()}function q(){const fe=this.stack[this.stack.length-1],Ie=this.resume(),Ze=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ze.type==="link"){const bt=fe.children;Ze.children=bt}else Ze.alt=Ie}function B(){const fe=this.resume(),Ie=this.stack[this.stack.length-1];Ie.url=fe}function $(){const fe=this.resume(),Ie=this.stack[this.stack.length-1];Ie.title=fe}function Z(){this.data.inReference=void 0}function H(){this.data.referenceType="collapsed"}function me(fe){const Ie=this.resume(),Ze=this.stack[this.stack.length-1];Ze.label=Ie,Ze.identifier=wd(this.sliceSerialize(fe)).toLowerCase(),this.data.referenceType="full"}function je(fe){this.data.characterReferenceType=fe.type}function Ae(fe){const Ie=this.sliceSerialize(fe),Ze=this.data.characterReferenceType;let bt;Ze?(bt=ZO(Ie,Ze==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):bt=zN(Ie);const kt=this.stack[this.stack.length-1];kt.value+=bt}function ge(fe){const Ie=this.stack.pop();Ie.position.end=Go(fe.end)}function Se(fe){O.call(this,fe);const Ie=this.stack[this.stack.length-1];Ie.url=this.sliceSerialize(fe)}function De(fe){O.call(this,fe);const Ie=this.stack[this.stack.length-1];Ie.url="mailto:"+this.sliceSerialize(fe)}function ze(){return{type:"blockquote",children:[]}}function qe(){return{type:"code",lang:null,meta:null,value:""}}function ft(){return{type:"inlineCode",value:""}}function Jt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Cn(){return{type:"emphasis",children:[]}}function wr(){return{type:"heading",depth:0,children:[]}}function Bn(){return{type:"break"}}function Jn(){return{type:"html",value:""}}function xs(){return{type:"image",title:null,url:"",alt:null}}function zt(){return{type:"link",title:null,url:"",children:[]}}function Xt(fe){return{type:"list",ordered:fe.type==="listOrdered",start:null,spread:fe._spread,children:[]}}function Or(fe){return{type:"listItem",spread:fe._spread,checked:null,children:[]}}function Ea(){return{type:"paragraph",children:[]}}function Ii(){return{type:"strong",children:[]}}function Ri(){return{type:"text",value:""}}function Fs(){return{type:"thematicBreak"}}}function Go(t){return{line:t.line,column:t.column,offset:t.offset}}function uL(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?uL(t,r):Wce(t,r)}}function Wce(t,e){let n;for(n in e)if(cL.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function nI(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+zm({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+zm({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+zm({start:e.start,end:e.end})+") is still open")}function Kce(t){const e=this;e.parser=n;function n(r){return qce(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function Gce(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function Qce(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function Yce(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function Jce(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Xce(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Zce(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=yh(r.toLowerCase()),a=t.footnoteOrder.indexOf(r);let o,c=t.footnoteCounts.get(r);c===void 0?(c=0,t.footnoteOrder.push(r),o=t.footnoteOrder.length):o=a+1,c+=1,t.footnoteCounts.set(r,c);const d={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(c>1?"-"+c:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};t.patch(e,d);const h={type:"element",tagName:"sup",properties:{},children:[d]};return t.patch(e,h),t.applyData(e,h)}function eue(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function tue(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function dL(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function nue(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return dL(t,e);const i={src:yh(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,a),t.applyData(e,a)}function rue(t,e){const n={src:yh(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function sue(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function iue(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return dL(t,e);const i={href:yh(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function aue(t,e){const n={href:yh(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function oue(t,e,n){const r=t.all(e),i=n?lue(n):hL(e),a={},o=[];if(typeof e.checked=="boolean"){const m=r[0];let f;m&&m.type==="element"&&m.tagName==="p"?f=m:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let c=-1;for(;++c<r.length;){const m=r[c];(i||c!==0||m.type!=="element"||m.tagName!=="p")&&o.push({type:"text",value:`
`}),m.type==="element"&&m.tagName==="p"&&!i?o.push(...m.children):o.push(m)}const d=r[r.length-1];d&&(i||d.type!=="element"||d.tagName!=="p")&&o.push({type:"text",value:`
`});const h={type:"element",tagName:"li",properties:a,children:o};return t.patch(e,h),t.applyData(e,h)}function lue(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=hL(n[r])}return e}function hL(t){const e=t.spread;return e??t.children.length>1}function cue(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,a),t.applyData(e,a)}function uue(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function due(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function hue(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function mue(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},c=LN(e.children[1]),d=WO(e.children[e.children.length-1]);c&&d&&(o.position={start:c,end:d}),i.push(o)}const a={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,a),t.applyData(e,a)}function fue(t,e,n){const r=n?n.children:void 0,a=(r?r.indexOf(e):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,c=o?o.length:e.children.length;let d=-1;const h=[];for(;++d<c;){const f=e.children[d],g={},x=o?o[d]:void 0;x&&(g.align=x);let N={type:"element",tagName:a,properties:g,children:[]};f&&(N.children=t.all(f),t.patch(f,N),N=t.applyData(f,N)),h.push(N)}const m={type:"element",tagName:"tr",properties:{},children:t.wrap(h,!0)};return t.patch(e,m),t.applyData(e,m)}function pue(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const rI=9,sI=32;function gue(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const a=[];for(;r;)a.push(iI(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return a.push(iI(e.slice(i),i>0,!1)),a.join("")}function iI(t,e,n){let r=0,i=t.length;if(e){let a=t.codePointAt(r);for(;a===rI||a===sI;)r++,a=t.codePointAt(r)}if(n){let a=t.codePointAt(i-1);for(;a===rI||a===sI;)i--,a=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function xue(t,e){const n={type:"text",value:gue(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function yue(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const vue={blockquote:Gce,break:Qce,code:Yce,delete:Jce,emphasis:Xce,footnoteReference:Zce,heading:eue,html:tue,imageReference:nue,image:rue,inlineCode:sue,linkReference:iue,link:aue,listItem:oue,list:cue,paragraph:uue,root:due,strong:hue,table:mue,tableCell:pue,tableRow:fue,text:xue,thematicBreak:yue,toml:Lg,yaml:Lg,definition:Lg,footnoteDefinition:Lg};function Lg(){}const mL=-1,r0=0,$m=1,ry=2,qN=3,HN=4,WN=5,KN=6,fL=7,pL=8,aI=typeof self=="object"?self:globalThis,bue=(t,e)=>{const n=(i,a)=>(t.set(a,i),i),r=i=>{if(t.has(i))return t.get(i);const[a,o]=e[i];switch(a){case r0:case mL:return n(o,i);case $m:{const c=n([],i);for(const d of o)c.push(r(d));return c}case ry:{const c=n({},i);for(const[d,h]of o)c[r(d)]=r(h);return c}case qN:return n(new Date(o),i);case HN:{const{source:c,flags:d}=o;return n(new RegExp(c,d),i)}case WN:{const c=n(new Map,i);for(const[d,h]of o)c.set(r(d),r(h));return c}case KN:{const c=n(new Set,i);for(const d of o)c.add(r(d));return c}case fL:{const{name:c,message:d}=o;return n(new aI[c](d),i)}case pL:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:c}=new Uint8Array(o);return n(new DataView(c),o)}}return n(new aI[a](o),i)};return r},oI=t=>bue(new Map,t)(0),Ju="",{toString:wue}={},{keys:jue}=Object,fm=t=>{const e=typeof t;if(e!=="object"||!t)return[r0,e];const n=wue.call(t).slice(8,-1);switch(n){case"Array":return[$m,Ju];case"Object":return[ry,Ju];case"Date":return[qN,Ju];case"RegExp":return[HN,Ju];case"Map":return[WN,Ju];case"Set":return[KN,Ju];case"DataView":return[$m,n]}return n.includes("Array")?[$m,n]:n.includes("Error")?[fL,n]:[ry,n]},Fg=([t,e])=>t===r0&&(e==="function"||e==="symbol"),_ue=(t,e,n,r)=>{const i=(o,c)=>{const d=r.push(o)-1;return n.set(c,d),d},a=o=>{if(n.has(o))return n.get(o);let[c,d]=fm(o);switch(c){case r0:{let m=o;switch(d){case"bigint":c=pL,m=o.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+d);m=null;break;case"undefined":return i([mL],o)}return i([c,m],o)}case $m:{if(d){let g=o;return d==="DataView"?g=new Uint8Array(o.buffer):d==="ArrayBuffer"&&(g=new Uint8Array(o)),i([d,[...g]],o)}const m=[],f=i([c,m],o);for(const g of o)m.push(a(g));return f}case ry:{if(d)switch(d){case"BigInt":return i([d,o.toString()],o);case"Boolean":case"Number":case"String":return i([d,o.valueOf()],o)}if(e&&"toJSON"in o)return a(o.toJSON());const m=[],f=i([c,m],o);for(const g of jue(o))(t||!Fg(fm(o[g])))&&m.push([a(g),a(o[g])]);return f}case qN:return i([c,o.toISOString()],o);case HN:{const{source:m,flags:f}=o;return i([c,{source:m,flags:f}],o)}case WN:{const m=[],f=i([c,m],o);for(const[g,x]of o)(t||!(Fg(fm(g))||Fg(fm(x))))&&m.push([a(g),a(x)]);return f}case KN:{const m=[],f=i([c,m],o);for(const g of o)(t||!Fg(fm(g)))&&m.push(a(g));return f}}const{message:h}=o;return i([c,{name:d,message:h}],o)};return a},lI=(t,{json:e,lossy:n}={})=>{const r=[];return _ue(!(e||n),!!e,new Map,r)(t),r},sy=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?oI(lI(t,e)):structuredClone(t):(t,e)=>oI(lI(t,e));function Nue(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function Sue(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function Eue(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||Nue,r=t.options.footnoteBackLabel||Sue,i=t.options.footnoteLabel||"Footnotes",a=t.options.footnoteLabelTagName||"h2",o=t.options.footnoteLabelProperties||{className:["sr-only"]},c=[];let d=-1;for(;++d<t.footnoteOrder.length;){const h=t.footnoteById.get(t.footnoteOrder[d]);if(!h)continue;const m=t.all(h),f=String(h.identifier).toUpperCase(),g=yh(f.toLowerCase());let x=0;const N=[],w=t.footnoteCounts.get(f);for(;w!==void 0&&++x<=w;){N.length>0&&N.push({type:"text",value:" "});let E=typeof n=="string"?n:n(d,x);typeof E=="string"&&(E={type:"text",value:E}),N.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+g+(x>1?"-"+x:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(d,x),className:["data-footnote-backref"]},children:Array.isArray(E)?E:[E]})}const j=m[m.length-1];if(j&&j.type==="element"&&j.tagName==="p"){const E=j.children[j.children.length-1];E&&E.type==="text"?E.value+=" ":j.children.push({type:"text",value:" "}),j.children.push(...N)}else m.push(...N);const _={type:"element",tagName:"li",properties:{id:e+"fn-"+g},children:t.wrap(m,!0)};t.patch(h,_),c.push(_)}if(c.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...sy(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(c,!0)},{type:"text",value:`
`}]}}const gL=(function(t){if(t==null)return Aue;if(typeof t=="function")return s0(t);if(typeof t=="object")return Array.isArray(t)?Cue(t):kue(t);if(typeof t=="string")return Tue(t);throw new Error("Expected function, string, or object as test")});function Cue(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=gL(t[n]);return s0(r);function r(...i){let a=-1;for(;++a<e.length;)if(e[a].apply(this,i))return!0;return!1}}function kue(t){const e=t;return s0(n);function n(r){const i=r;let a;for(a in t)if(i[a]!==e[a])return!1;return!0}}function Tue(t){return s0(e);function e(n){return n&&n.type===t}}function s0(t){return e;function e(n,r,i){return!!(Iue(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function Aue(){return!0}function Iue(t){return t!==null&&typeof t=="object"&&"type"in t}const xL=[],Rue=!0,cI=!1,Pue="skip";function Due(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const a=gL(i),o=r?-1:1;c(t,void 0,[])();function c(d,h,m){const f=d&&typeof d=="object"?d:{};if(typeof f.type=="string"){const x=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(d.type+(x?"<"+x+">":""))+")"})}return g;function g(){let x=xL,N,w,j;if((!e||a(d,h,m[m.length-1]||void 0))&&(x=Mue(n(d,m)),x[0]===cI))return x;if("children"in d&&d.children){const _=d;if(_.children&&x[0]!==Pue)for(w=(r?_.children.length:-1)+o,j=m.concat(_);w>-1&&w<_.children.length;){const E=_.children[w];if(N=c(E,w,j)(),N[0]===cI)return N;w=typeof N[1]=="number"?N[1]:w+o}}return x}}}function Mue(t){return Array.isArray(t)?t:typeof t=="number"?[Rue,t]:t==null?xL:[t]}function yL(t,e,n,r){let i,a,o;typeof e=="function"&&typeof n!="function"?(a=void 0,o=e,i=n):(a=e,o=n,i=r),Due(t,a,c,i);function c(d,h){const m=h[h.length-1],f=m?m.children.indexOf(d):void 0;return o(d,f,m)}}const J1={}.hasOwnProperty,Oue={};function Lue(t,e){const n=e||Oue,r=new Map,i=new Map,a=new Map,o={...vue,...n.handlers},c={all:h,applyData:Vue,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:o,one:d,options:n,patch:Fue,wrap:zue};return yL(t,function(m){if(m.type==="definition"||m.type==="footnoteDefinition"){const f=m.type==="definition"?r:i,g=String(m.identifier).toUpperCase();f.has(g)||f.set(g,m)}}),c;function d(m,f){const g=m.type,x=c.handlers[g];if(J1.call(c.handlers,g)&&x)return x(c,m,f);if(c.options.passThrough&&c.options.passThrough.includes(g)){if("children"in m){const{children:w,...j}=m,_=sy(j);return _.children=c.all(m),_}return sy(m)}return(c.options.unknownHandler||Uue)(c,m,f)}function h(m){const f=[];if("children"in m){const g=m.children;let x=-1;for(;++x<g.length;){const N=c.one(g[x],m);if(N){if(x&&g[x-1].type==="break"&&(!Array.isArray(N)&&N.type==="text"&&(N.value=uI(N.value)),!Array.isArray(N)&&N.type==="element")){const w=N.children[0];w&&w.type==="text"&&(w.value=uI(w.value))}Array.isArray(N)?f.push(...N):f.push(N)}}}return f}}function Fue(t,e){t.position&&(e.position=woe(t))}function Vue(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,a=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&a&&Object.assign(n.properties,sy(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function Uue(t,e){const n=e.data||{},r="value"in e&&!(J1.call(n,"hProperties")||J1.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function zue(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function uI(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function dI(t,e){const n=Lue(t,e),r=n.one(t,void 0),i=Eue(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function Bue(t,e){return t&&"run"in t?async function(n,r){const i=dI(n,{file:r,...e});await t.run(i,r)}:function(n,r){return dI(n,{file:r,...t||e})}}function hI(t){if(t)throw t}var Qb,mI;function $ue(){if(mI)return Qb;mI=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(h){return typeof Array.isArray=="function"?Array.isArray(h):e.call(h)==="[object Array]"},a=function(h){if(!h||e.call(h)!=="[object Object]")return!1;var m=t.call(h,"constructor"),f=h.constructor&&h.constructor.prototype&&t.call(h.constructor.prototype,"isPrototypeOf");if(h.constructor&&!m&&!f)return!1;var g;for(g in h);return typeof g>"u"||t.call(h,g)},o=function(h,m){n&&m.name==="__proto__"?n(h,m.name,{enumerable:!0,configurable:!0,value:m.newValue,writable:!0}):h[m.name]=m.newValue},c=function(h,m){if(m==="__proto__")if(t.call(h,m)){if(r)return r(h,m).value}else return;return h[m]};return Qb=function d(){var h,m,f,g,x,N,w=arguments[0],j=1,_=arguments.length,E=!1;for(typeof w=="boolean"&&(E=w,w=arguments[1]||{},j=2),(w==null||typeof w!="object"&&typeof w!="function")&&(w={});j<_;++j)if(h=arguments[j],h!=null)for(m in h)f=c(w,m),g=c(h,m),w!==g&&(E&&g&&(a(g)||(x=i(g)))?(x?(x=!1,N=f&&i(f)?f:[]):N=f&&a(f)?f:{},o(w,{name:m,newValue:d(E,N,g)})):typeof g<"u"&&o(w,{name:m,newValue:g}));return w},Qb}var que=$ue();const Yb=Yd(que);function X1(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Hue(){const t=[],e={run:n,use:r};return e;function n(...i){let a=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);c(null,...i);function c(d,...h){const m=t[++a];let f=-1;if(d){o(d);return}for(;++f<i.length;)(h[f]===null||h[f]===void 0)&&(h[f]=i[f]);i=h,m?Wue(m,c)(...h):o(null,...h)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function Wue(t,e){let n;return r;function r(...o){const c=t.length>o.length;let d;c&&o.push(i);try{d=t.apply(this,o)}catch(h){const m=h;if(c&&n)throw m;return i(m)}c||(d&&d.then&&typeof d.then=="function"?d.then(a,i):d instanceof Error?i(d):a(d))}function i(o,...c){n||(n=!0,e(o,...c))}function a(o){i(null,o)}}const Xi={basename:Kue,dirname:Gue,extname:Que,join:Yue,sep:"/"};function Kue(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');rp(t);let n=0,r=-1,i=t.length,a;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let o=-1,c=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else o<0&&(a=!0,o=i+1),c>-1&&(t.codePointAt(i)===e.codePointAt(c--)?c<0&&(r=i):(c=-1,r=o));return n===r?r=o:r<0&&(r=t.length),t.slice(n,r)}function Gue(t){if(rp(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function Que(t){rp(t);let e=t.length,n=-1,r=0,i=-1,a=0,o;for(;e--;){const c=t.codePointAt(e);if(c===47){if(o){r=e+1;break}continue}n<0&&(o=!0,n=e+1),c===46?i<0?i=e:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function Yue(...t){let e=-1,n;for(;++e<t.length;)rp(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":Jue(n)}function Jue(t){rp(t);const e=t.codePointAt(0)===47;let n=Xue(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function Xue(t,e){let n="",r=0,i=-1,a=0,o=-1,c,d;for(;++o<=t.length;){if(o<t.length)c=t.codePointAt(o);else{if(c===47)break;c=47}if(c===47){if(!(i===o-1||a===1))if(i!==o-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(d=n.lastIndexOf("/"),d!==n.length-1){d<0?(n="",r=0):(n=n.slice(0,d),r=n.length-1-n.lastIndexOf("/")),i=o,a=0;continue}}else if(n.length>0){n="",r=0,i=o,a=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,o):n=t.slice(i+1,o),r=o-i-1;i=o,a=0}else c===46&&a>-1?a++:a=-1}return n}function rp(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const Zue={cwd:ede};function ede(){return"/"}function Z1(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function tde(t){if(typeof t=="string")t=new URL(t);else if(!Z1(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return nde(t)}function nde(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const Jb=["history","path","basename","stem","extname","dirname"];class vL{constructor(e){let n;e?Z1(e)?n={path:e}:typeof e=="string"||rde(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":Zue.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Jb.length;){const a=Jb[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)Jb.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Xi.basename(this.path):void 0}set basename(e){Zb(e,"basename"),Xb(e,"basename"),this.path=Xi.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Xi.dirname(this.path):void 0}set dirname(e){fI(this.basename,"dirname"),this.path=Xi.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Xi.extname(this.path):void 0}set extname(e){if(Xb(e,"extname"),fI(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Xi.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Z1(e)&&(e=tde(e)),Zb(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Xi.basename(this.path,this.extname):void 0}set stem(e){Zb(e,"stem"),Xb(e,"stem"),this.path=Xi.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new Mr(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Xb(t,e){if(t&&t.includes(Xi.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Xi.sep+"`")}function Zb(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function fI(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function rde(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const sde=(function(t){const r=this.constructor.prototype,i=r[t],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a}),ide={}.hasOwnProperty;class GN extends sde{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Hue()}copy(){const e=new GN;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(Yb(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(nw("data",this.frozen),this.namespace[e]=n,this):ide.call(this.namespace,e)&&this.namespace[e]||void 0:e?(nw("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=Vg(e),r=this.parser||this.Parser;return ew("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),ew("process",this.parser||this.Parser),tw("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,o){const c=Vg(e),d=r.parse(c);r.run(d,c,function(m,f,g){if(m||!f||!g)return h(m);const x=f,N=r.stringify(x,g);lde(N)?g.value=N:g.result=N,h(m,g)});function h(m,f){m||!f?o(m):a?a(f):n(void 0,f)}}}processSync(e){let n=!1,r;return this.freeze(),ew("processSync",this.parser||this.Parser),tw("processSync",this.compiler||this.Compiler),this.process(e,i),gI("processSync","process",n),r;function i(a,o){n=!0,hI(a),r=o}}run(e,n,r){pI(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(o,c){const d=Vg(n);i.run(e,d,h);function h(m,f,g){const x=f||e;m?c(m):o?o(x):r(void 0,x,g)}}}runSync(e,n){let r=!1,i;return this.run(e,n,a),gI("runSync","run",r),i;function a(o,c){hI(o),i=c,r=!0}}stringify(e,n){this.freeze();const r=Vg(n),i=this.compiler||this.Compiler;return tw("stringify",i),pI(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(nw("use",this.frozen),e!=null)if(typeof e=="function")d(e,n);else if(typeof e=="object")Array.isArray(e)?c(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(h){if(typeof h=="function")d(h,[]);else if(typeof h=="object")if(Array.isArray(h)){const[m,...f]=h;d(m,f)}else o(h);else throw new TypeError("Expected usable value, not `"+h+"`")}function o(h){if(!("plugins"in h)&&!("settings"in h))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(h.plugins),h.settings&&(i.settings=Yb(!0,i.settings,h.settings))}function c(h){let m=-1;if(h!=null)if(Array.isArray(h))for(;++m<h.length;){const f=h[m];a(f)}else throw new TypeError("Expected a list of plugins, not `"+h+"`")}function d(h,m){let f=-1,g=-1;for(;++f<r.length;)if(r[f][0]===h){g=f;break}if(g===-1)r.push([h,...m]);else if(m.length>0){let[x,...N]=m;const w=r[g][1];X1(w)&&X1(x)&&(x=Yb(!0,w,x)),r[g]=[h,x,...N]}}}}const ade=new GN().freeze();function ew(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function tw(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function nw(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function pI(t){if(!X1(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function gI(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Vg(t){return ode(t)?t:new vL(t)}function ode(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function lde(t){return typeof t=="string"||cde(t)}function cde(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const ude="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",xI=[],yI={allowDangerousHtml:!0},dde=/^(https?|ircs?|mailto|xmpp)$/i,hde=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function bL(t){const e=mde(t),n=fde(t);return pde(e.runSync(e.parse(n),n),t)}function mde(t){const e=t.rehypePlugins||xI,n=t.remarkPlugins||xI,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...yI}:yI;return ade().use(Kce).use(n).use(Bue,r).use(e)}function fde(t){const e=t.children||"",n=new vL;return typeof e=="string"&&(n.value=e),n}function pde(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,a=e.disallowedElements,o=e.skipHtml,c=e.unwrapDisallowed,d=e.urlTransform||gde;for(const m of hde)Object.hasOwn(e,m.from)&&(""+m.from+(m.to?"use `"+m.to+"` instead":"remove it")+ude+m.id,void 0);return yL(t,h),Eoe(t,{Fragment:s.Fragment,components:i,ignoreInvalidStyle:!0,jsx:s.jsx,jsxs:s.jsxs,passKeys:!0,passNode:!0});function h(m,f,g){if(m.type==="raw"&&g&&typeof f=="number")return o?g.children.splice(f,1):g.children[f]={type:"text",value:m.value},f;if(m.type==="element"){let x;for(x in Wb)if(Object.hasOwn(Wb,x)&&Object.hasOwn(m.properties,x)){const N=m.properties[x],w=Wb[x];(w===null||w.includes(m.tagName))&&(m.properties[x]=d(String(N||""),x,m))}}if(m.type==="element"){let x=n?!n.includes(m.tagName):a?a.includes(m.tagName):!1;if(!x&&r&&typeof f=="number"&&(x=!r(m,f,g)),x&&g&&typeof f=="number")return c&&m.children?g.children.splice(f,1,...m.children):g.children.splice(f,1),f}}}function gde(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||dde.test(t.slice(0,e))?t:""}function wL(t,e){return function(){return t.apply(e,arguments)}}const{toString:xde}=Object.prototype,{getPrototypeOf:QN}=Object,{iterator:i0,toStringTag:jL}=Symbol,a0=(t=>e=>{const n=xde.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ti=t=>(t=t.toLowerCase(),e=>a0(e)===t),o0=t=>e=>typeof e===t,{isArray:vh}=Array,Wd=o0("undefined");function sp(t){return t!==null&&!Wd(t)&&t.constructor!==null&&!Wd(t.constructor)&&ms(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const _L=Ti("ArrayBuffer");function yde(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&_L(t.buffer),e}const vde=o0("string"),ms=o0("function"),NL=o0("number"),ip=t=>t!==null&&typeof t=="object",bde=t=>t===!0||t===!1,mx=t=>{if(a0(t)!=="object")return!1;const e=QN(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(jL in t)&&!(i0 in t)},wde=t=>{if(!ip(t)||sp(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},jde=Ti("Date"),_de=Ti("File"),Nde=Ti("Blob"),Sde=Ti("FileList"),Ede=t=>ip(t)&&ms(t.pipe),Cde=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||ms(t.append)&&((e=a0(t))==="formdata"||e==="object"&&ms(t.toString)&&t.toString()==="[object FormData]"))},kde=Ti("URLSearchParams"),[Tde,Ade,Ide,Rde]=["ReadableStream","Request","Response","Headers"].map(Ti),Pde=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ap(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),vh(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(sp(t))return;const a=n?Object.getOwnPropertyNames(t):Object.keys(t),o=a.length;let c;for(r=0;r<o;r++)c=a[r],e.call(null,t[c],c,t)}}function SL(t,e){if(sp(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Ec=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,EL=t=>!Wd(t)&&t!==Ec;function ej(){const{caseless:t,skipUndefined:e}=EL(this)&&this||{},n={},r=(i,a)=>{const o=t&&SL(n,a)||a;mx(n[o])&&mx(i)?n[o]=ej(n[o],i):mx(i)?n[o]=ej({},i):vh(i)?n[o]=i.slice():(!e||!Wd(i))&&(n[o]=i)};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&ap(arguments[i],r);return n}const Dde=(t,e,n,{allOwnKeys:r}={})=>(ap(e,(i,a)=>{n&&ms(i)?t[a]=wL(i,n):t[a]=i},{allOwnKeys:r}),t),Mde=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Ode=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Lde=(t,e,n,r)=>{let i,a,o;const c={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),a=i.length;a-- >0;)o=i[a],(!r||r(o,t,e))&&!c[o]&&(e[o]=t[o],c[o]=!0);t=n!==!1&&QN(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Fde=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},Vde=t=>{if(!t)return null;if(vh(t))return t;let e=t.length;if(!NL(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Ude=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&QN(Uint8Array)),zde=(t,e)=>{const r=(t&&t[i0]).call(t);let i;for(;(i=r.next())&&!i.done;){const a=i.value;e.call(t,a[0],a[1])}},Bde=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},$de=Ti("HTMLFormElement"),qde=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),vI=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Hde=Ti("RegExp"),CL=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};ap(n,(i,a)=>{let o;(o=e(i,a,t))!==!1&&(r[a]=o||i)}),Object.defineProperties(t,r)},Wde=t=>{CL(t,(e,n)=>{if(ms(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(ms(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Kde=(t,e)=>{const n={},r=i=>{i.forEach(a=>{n[a]=!0})};return vh(t)?r(t):r(String(t).split(e)),n},Gde=()=>{},Qde=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Yde(t){return!!(t&&ms(t.append)&&t[jL]==="FormData"&&t[i0])}const Jde=t=>{const e=new Array(10),n=(r,i)=>{if(ip(r)){if(e.indexOf(r)>=0)return;if(sp(r))return r;if(!("toJSON"in r)){e[i]=r;const a=vh(r)?[]:{};return ap(r,(o,c)=>{const d=n(o,i+1);!Wd(d)&&(a[c]=d)}),e[i]=void 0,a}}return r};return n(t,0)},Xde=Ti("AsyncFunction"),Zde=t=>t&&(ip(t)||ms(t))&&ms(t.then)&&ms(t.catch),kL=((t,e)=>t?setImmediate:e?((n,r)=>(Ec.addEventListener("message",({source:i,data:a})=>{i===Ec&&a===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Ec.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ms(Ec.postMessage)),ehe=typeof queueMicrotask<"u"?queueMicrotask.bind(Ec):typeof process<"u"&&process.nextTick||kL,the=t=>t!=null&&ms(t[i0]),de={isArray:vh,isArrayBuffer:_L,isBuffer:sp,isFormData:Cde,isArrayBufferView:yde,isString:vde,isNumber:NL,isBoolean:bde,isObject:ip,isPlainObject:mx,isEmptyObject:wde,isReadableStream:Tde,isRequest:Ade,isResponse:Ide,isHeaders:Rde,isUndefined:Wd,isDate:jde,isFile:_de,isBlob:Nde,isRegExp:Hde,isFunction:ms,isStream:Ede,isURLSearchParams:kde,isTypedArray:Ude,isFileList:Sde,forEach:ap,merge:ej,extend:Dde,trim:Pde,stripBOM:Mde,inherits:Ode,toFlatObject:Lde,kindOf:a0,kindOfTest:Ti,endsWith:Fde,toArray:Vde,forEachEntry:zde,matchAll:Bde,isHTMLForm:$de,hasOwnProperty:vI,hasOwnProp:vI,reduceDescriptors:CL,freezeMethods:Wde,toObjectSet:Kde,toCamelCase:qde,noop:Gde,toFiniteNumber:Qde,findKey:SL,global:Ec,isContextDefined:EL,isSpecCompliantForm:Yde,toJSONObject:Jde,isAsyncFn:Xde,isThenable:Zde,setImmediate:kL,asap:ehe,isIterable:the};function jt(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}de.inherits(jt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:de.toJSONObject(this.config),code:this.code,status:this.status}}});const TL=jt.prototype,AL={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{AL[t]={value:t}});Object.defineProperties(jt,AL);Object.defineProperty(TL,"isAxiosError",{value:!0});jt.from=(t,e,n,r,i,a)=>{const o=Object.create(TL);de.toFlatObject(t,o,function(m){return m!==Error.prototype},h=>h!=="isAxiosError");const c=t&&t.message?t.message:"Error",d=e==null&&t?t.code:e;return jt.call(o,c,d,n,r,i),t&&o.cause==null&&Object.defineProperty(o,"cause",{value:t,configurable:!0}),o.name=t&&t.name||"Error",a&&Object.assign(o,a),o};const nhe=null;function tj(t){return de.isPlainObject(t)||de.isArray(t)}function IL(t){return de.endsWith(t,"[]")?t.slice(0,-2):t}function bI(t,e,n){return t?t.concat(e).map(function(i,a){return i=IL(i),!n&&a?"["+i+"]":i}).join(n?".":""):e}function rhe(t){return de.isArray(t)&&!t.some(tj)}const she=de.toFlatObject(de,{},null,function(e){return/^is[A-Z]/.test(e)});function l0(t,e,n){if(!de.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=de.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,j){return!de.isUndefined(j[w])});const r=n.metaTokens,i=n.visitor||m,a=n.dots,o=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&de.isSpecCompliantForm(e);if(!de.isFunction(i))throw new TypeError("visitor must be a function");function h(N){if(N===null)return"";if(de.isDate(N))return N.toISOString();if(de.isBoolean(N))return N.toString();if(!d&&de.isBlob(N))throw new jt("Blob is not supported. Use a Buffer instead.");return de.isArrayBuffer(N)||de.isTypedArray(N)?d&&typeof Blob=="function"?new Blob([N]):Buffer.from(N):N}function m(N,w,j){let _=N;if(N&&!j&&typeof N=="object"){if(de.endsWith(w,"{}"))w=r?w:w.slice(0,-2),N=JSON.stringify(N);else if(de.isArray(N)&&rhe(N)||(de.isFileList(N)||de.endsWith(w,"[]"))&&(_=de.toArray(N)))return w=IL(w),_.forEach(function(k,C){!(de.isUndefined(k)||k===null)&&e.append(o===!0?bI([w],C,a):o===null?w:w+"[]",h(k))}),!1}return tj(N)?!0:(e.append(bI(j,w,a),h(N)),!1)}const f=[],g=Object.assign(she,{defaultVisitor:m,convertValue:h,isVisitable:tj});function x(N,w){if(!de.isUndefined(N)){if(f.indexOf(N)!==-1)throw Error("Circular reference detected in "+w.join("."));f.push(N),de.forEach(N,function(_,E){(!(de.isUndefined(_)||_===null)&&i.call(e,_,de.isString(E)?E.trim():E,w,g))===!0&&x(_,w?w.concat(E):[E])}),f.pop()}}if(!de.isObject(t))throw new TypeError("data must be an object");return x(t),e}function wI(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function YN(t,e){this._pairs=[],t&&l0(t,this,e)}const RL=YN.prototype;RL.append=function(e,n){this._pairs.push([e,n])};RL.toString=function(e){const n=e?function(r){return e.call(this,r,wI)}:wI;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function ihe(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function PL(t,e,n){if(!e)return t;const r=n&&n.encode||ihe;de.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let a;if(i?a=i(e,n):a=de.isURLSearchParams(e)?e.toString():new YN(e,n).toString(r),a){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class jI{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){de.forEach(this.handlers,function(r){r!==null&&e(r)})}}const DL={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ahe=typeof URLSearchParams<"u"?URLSearchParams:YN,ohe=typeof FormData<"u"?FormData:null,lhe=typeof Blob<"u"?Blob:null,che={isBrowser:!0,classes:{URLSearchParams:ahe,FormData:ohe,Blob:lhe},protocols:["http","https","file","blob","url","data"]},JN=typeof window<"u"&&typeof document<"u",nj=typeof navigator=="object"&&navigator||void 0,uhe=JN&&(!nj||["ReactNative","NativeScript","NS"].indexOf(nj.product)<0),dhe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",hhe=JN&&window.location.href||"http://localhost",mhe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:JN,hasStandardBrowserEnv:uhe,hasStandardBrowserWebWorkerEnv:dhe,navigator:nj,origin:hhe},Symbol.toStringTag,{value:"Module"})),Rr={...mhe,...che};function fhe(t,e){return l0(t,new Rr.classes.URLSearchParams,{visitor:function(n,r,i,a){return Rr.isNode&&de.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...e})}function phe(t){return de.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function ghe(t){const e={},n=Object.keys(t);let r;const i=n.length;let a;for(r=0;r<i;r++)a=n[r],e[a]=t[a];return e}function ML(t){function e(n,r,i,a){let o=n[a++];if(o==="__proto__")return!0;const c=Number.isFinite(+o),d=a>=n.length;return o=!o&&de.isArray(i)?i.length:o,d?(de.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!c):((!i[o]||!de.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],a)&&de.isArray(i[o])&&(i[o]=ghe(i[o])),!c)}if(de.isFormData(t)&&de.isFunction(t.entries)){const n={};return de.forEachEntry(t,(r,i)=>{e(phe(r),i,n,0)}),n}return null}function xhe(t,e,n){if(de.isString(t))try{return(e||JSON.parse)(t),de.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const op={transitional:DL,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,a=de.isObject(e);if(a&&de.isHTMLForm(e)&&(e=new FormData(e)),de.isFormData(e))return i?JSON.stringify(ML(e)):e;if(de.isArrayBuffer(e)||de.isBuffer(e)||de.isStream(e)||de.isFile(e)||de.isBlob(e)||de.isReadableStream(e))return e;if(de.isArrayBufferView(e))return e.buffer;if(de.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return fhe(e,this.formSerializer).toString();if((c=de.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return l0(c?{"files[]":e}:e,d&&new d,this.formSerializer)}}return a||i?(n.setContentType("application/json",!1),xhe(e)):e}],transformResponse:[function(e){const n=this.transitional||op.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(de.isResponse(e)||de.isReadableStream(e))return e;if(e&&de.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(c){if(o)throw c.name==="SyntaxError"?jt.from(c,jt.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Rr.classes.FormData,Blob:Rr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};de.forEach(["delete","get","head","post","put","patch"],t=>{op.headers[t]={}});const yhe=de.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),vhe=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&yhe[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},_I=Symbol("internals");function pm(t){return t&&String(t).trim().toLowerCase()}function fx(t){return t===!1||t==null?t:de.isArray(t)?t.map(fx):String(t)}function bhe(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const whe=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function rw(t,e,n,r,i){if(de.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!de.isString(e)){if(de.isString(r))return e.indexOf(r)!==-1;if(de.isRegExp(r))return r.test(e)}}function jhe(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function _he(t,e){const n=de.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,a,o){return this[r].call(this,e,i,a,o)},configurable:!0})})}let fs=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function a(c,d,h){const m=pm(d);if(!m)throw new Error("header name must be a non-empty string");const f=de.findKey(i,m);(!f||i[f]===void 0||h===!0||h===void 0&&i[f]!==!1)&&(i[f||d]=fx(c))}const o=(c,d)=>de.forEach(c,(h,m)=>a(h,m,d));if(de.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(de.isString(e)&&(e=e.trim())&&!whe(e))o(vhe(e),n);else if(de.isObject(e)&&de.isIterable(e)){let c={},d,h;for(const m of e){if(!de.isArray(m))throw TypeError("Object iterator must return a key-value pair");c[h=m[0]]=(d=c[h])?de.isArray(d)?[...d,m[1]]:[d,m[1]]:m[1]}o(c,n)}else e!=null&&a(n,e,r);return this}get(e,n){if(e=pm(e),e){const r=de.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return bhe(i);if(de.isFunction(n))return n.call(this,i,r);if(de.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=pm(e),e){const r=de.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||rw(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function a(o){if(o=pm(o),o){const c=de.findKey(r,o);c&&(!n||rw(r,r[c],c,n))&&(delete r[c],i=!0)}}return de.isArray(e)?e.forEach(a):a(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const a=n[r];(!e||rw(this,this[a],a,e,!0))&&(delete this[a],i=!0)}return i}normalize(e){const n=this,r={};return de.forEach(this,(i,a)=>{const o=de.findKey(r,a);if(o){n[o]=fx(i),delete n[a];return}const c=e?jhe(a):String(a).trim();c!==a&&delete n[a],n[c]=fx(i),r[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return de.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&de.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[_I]=this[_I]={accessors:{}}).accessors,i=this.prototype;function a(o){const c=pm(o);r[c]||(_he(i,o),r[c]=!0)}return de.isArray(e)?e.forEach(a):a(e),this}};fs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);de.reduceDescriptors(fs.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});de.freezeMethods(fs);function sw(t,e){const n=this||op,r=e||n,i=fs.from(r.headers);let a=r.data;return de.forEach(t,function(c){a=c.call(n,a,i.normalize(),e?e.status:void 0)}),i.normalize(),a}function OL(t){return!!(t&&t.__CANCEL__)}function bh(t,e,n){jt.call(this,t??"canceled",jt.ERR_CANCELED,e,n),this.name="CanceledError"}de.inherits(bh,jt,{__CANCEL__:!0});function LL(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new jt("Request failed with status code "+n.status,[jt.ERR_BAD_REQUEST,jt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Nhe(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function She(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,a=0,o;return e=e!==void 0?e:1e3,function(d){const h=Date.now(),m=r[a];o||(o=h),n[i]=d,r[i]=h;let f=a,g=0;for(;f!==i;)g+=n[f++],f=f%t;if(i=(i+1)%t,i===a&&(a=(a+1)%t),h-o<e)return;const x=m&&h-m;return x?Math.round(g*1e3/x):void 0}}function Ehe(t,e){let n=0,r=1e3/e,i,a;const o=(h,m=Date.now())=>{n=m,i=null,a&&(clearTimeout(a),a=null),t(...h)};return[(...h)=>{const m=Date.now(),f=m-n;f>=r?o(h,m):(i=h,a||(a=setTimeout(()=>{a=null,o(i)},r-f)))},()=>i&&o(i)]}const iy=(t,e,n=3)=>{let r=0;const i=She(50,250);return Ehe(a=>{const o=a.loaded,c=a.lengthComputable?a.total:void 0,d=o-r,h=i(d),m=o<=c;r=o;const f={loaded:o,total:c,progress:c?o/c:void 0,bytes:d,rate:h||void 0,estimated:h&&c&&m?(c-o)/h:void 0,event:a,lengthComputable:c!=null,[e?"download":"upload"]:!0};t(f)},n)},NI=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},SI=t=>(...e)=>de.asap(()=>t(...e)),Che=Rr.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Rr.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Rr.origin),Rr.navigator&&/(msie|trident)/i.test(Rr.navigator.userAgent)):()=>!0,khe=Rr.hasStandardBrowserEnv?{write(t,e,n,r,i,a,o){if(typeof document>"u")return;const c=[`${t}=${encodeURIComponent(e)}`];de.isNumber(n)&&c.push(`expires=${new Date(n).toUTCString()}`),de.isString(r)&&c.push(`path=${r}`),de.isString(i)&&c.push(`domain=${i}`),a===!0&&c.push("secure"),de.isString(o)&&c.push(`SameSite=${o}`),document.cookie=c.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function The(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Ahe(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function FL(t,e,n){let r=!The(e);return t&&(r||n==!1)?Ahe(t,e):e}const EI=t=>t instanceof fs?{...t}:t;function Zc(t,e){e=e||{};const n={};function r(h,m,f,g){return de.isPlainObject(h)&&de.isPlainObject(m)?de.merge.call({caseless:g},h,m):de.isPlainObject(m)?de.merge({},m):de.isArray(m)?m.slice():m}function i(h,m,f,g){if(de.isUndefined(m)){if(!de.isUndefined(h))return r(void 0,h,f,g)}else return r(h,m,f,g)}function a(h,m){if(!de.isUndefined(m))return r(void 0,m)}function o(h,m){if(de.isUndefined(m)){if(!de.isUndefined(h))return r(void 0,h)}else return r(void 0,m)}function c(h,m,f){if(f in e)return r(h,m);if(f in t)return r(void 0,h)}const d={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(h,m,f)=>i(EI(h),EI(m),f,!0)};return de.forEach(Object.keys({...t,...e}),function(m){const f=d[m]||i,g=f(t[m],e[m],m);de.isUndefined(g)&&f!==c||(n[m]=g)}),n}const VL=t=>{const e=Zc({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:c}=e;if(e.headers=o=fs.from(o),e.url=PL(FL(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),c&&o.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),de.isFormData(n)){if(Rr.hasStandardBrowserEnv||Rr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(de.isFunction(n.getHeaders)){const d=n.getHeaders(),h=["content-type","content-length"];Object.entries(d).forEach(([m,f])=>{h.includes(m.toLowerCase())&&o.set(m,f)})}}if(Rr.hasStandardBrowserEnv&&(r&&de.isFunction(r)&&(r=r(e)),r||r!==!1&&Che(e.url))){const d=i&&a&&khe.read(a);d&&o.set(i,d)}return e},Ihe=typeof XMLHttpRequest<"u",Rhe=Ihe&&function(t){return new Promise(function(n,r){const i=VL(t);let a=i.data;const o=fs.from(i.headers).normalize();let{responseType:c,onUploadProgress:d,onDownloadProgress:h}=i,m,f,g,x,N;function w(){x&&x(),N&&N(),i.cancelToken&&i.cancelToken.unsubscribe(m),i.signal&&i.signal.removeEventListener("abort",m)}let j=new XMLHttpRequest;j.open(i.method.toUpperCase(),i.url,!0),j.timeout=i.timeout;function _(){if(!j)return;const k=fs.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),R={data:!c||c==="text"||c==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:k,config:t,request:j};LL(function(D){n(D),w()},function(D){r(D),w()},R),j=null}"onloadend"in j?j.onloadend=_:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(_)},j.onabort=function(){j&&(r(new jt("Request aborted",jt.ECONNABORTED,t,j)),j=null)},j.onerror=function(C){const R=C&&C.message?C.message:"Network Error",F=new jt(R,jt.ERR_NETWORK,t,j);F.event=C||null,r(F),j=null},j.ontimeout=function(){let C=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const R=i.transitional||DL;i.timeoutErrorMessage&&(C=i.timeoutErrorMessage),r(new jt(C,R.clarifyTimeoutError?jt.ETIMEDOUT:jt.ECONNABORTED,t,j)),j=null},a===void 0&&o.setContentType(null),"setRequestHeader"in j&&de.forEach(o.toJSON(),function(C,R){j.setRequestHeader(R,C)}),de.isUndefined(i.withCredentials)||(j.withCredentials=!!i.withCredentials),c&&c!=="json"&&(j.responseType=i.responseType),h&&([g,N]=iy(h,!0),j.addEventListener("progress",g)),d&&j.upload&&([f,x]=iy(d),j.upload.addEventListener("progress",f),j.upload.addEventListener("loadend",x)),(i.cancelToken||i.signal)&&(m=k=>{j&&(r(!k||k.type?new bh(null,t,j):k),j.abort(),j=null)},i.cancelToken&&i.cancelToken.subscribe(m),i.signal&&(i.signal.aborted?m():i.signal.addEventListener("abort",m)));const E=Nhe(i.url);if(E&&Rr.protocols.indexOf(E)===-1){r(new jt("Unsupported protocol "+E+":",jt.ERR_BAD_REQUEST,t));return}j.send(a||null)})},Phe=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const a=function(h){if(!i){i=!0,c();const m=h instanceof Error?h:this.reason;r.abort(m instanceof jt?m:new bh(m instanceof Error?m.message:m))}};let o=e&&setTimeout(()=>{o=null,a(new jt(`timeout ${e} of ms exceeded`,jt.ETIMEDOUT))},e);const c=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(h=>{h.unsubscribe?h.unsubscribe(a):h.removeEventListener("abort",a)}),t=null)};t.forEach(h=>h.addEventListener("abort",a));const{signal:d}=r;return d.unsubscribe=()=>de.asap(c),d}},Dhe=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},Mhe=async function*(t,e){for await(const n of Ohe(t))yield*Dhe(n,e)},Ohe=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},CI=(t,e,n,r)=>{const i=Mhe(t,e);let a=0,o,c=d=>{o||(o=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:h,value:m}=await i.next();if(h){c(),d.close();return}let f=m.byteLength;if(n){let g=a+=f;n(g)}d.enqueue(new Uint8Array(m))}catch(h){throw c(h),h}},cancel(d){return c(d),i.return()}},{highWaterMark:2})},kI=64*1024,{isFunction:Ug}=de,Lhe=(({Request:t,Response:e})=>({Request:t,Response:e}))(de.global),{ReadableStream:TI,TextEncoder:AI}=de.global,II=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Fhe=t=>{t=de.merge.call({skipUndefined:!0},Lhe,t);const{fetch:e,Request:n,Response:r}=t,i=e?Ug(e):typeof fetch=="function",a=Ug(n),o=Ug(r);if(!i)return!1;const c=i&&Ug(TI),d=i&&(typeof AI=="function"?(N=>w=>N.encode(w))(new AI):async N=>new Uint8Array(await new n(N).arrayBuffer())),h=a&&c&&II(()=>{let N=!1;const w=new n(Rr.origin,{body:new TI,method:"POST",get duplex(){return N=!0,"half"}}).headers.has("Content-Type");return N&&!w}),m=o&&c&&II(()=>de.isReadableStream(new r("").body)),f={stream:m&&(N=>N.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(N=>{!f[N]&&(f[N]=(w,j)=>{let _=w&&w[N];if(_)return _.call(w);throw new jt(`Response type '${N}' is not supported`,jt.ERR_NOT_SUPPORT,j)})});const g=async N=>{if(N==null)return 0;if(de.isBlob(N))return N.size;if(de.isSpecCompliantForm(N))return(await new n(Rr.origin,{method:"POST",body:N}).arrayBuffer()).byteLength;if(de.isArrayBufferView(N)||de.isArrayBuffer(N))return N.byteLength;if(de.isURLSearchParams(N)&&(N=N+""),de.isString(N))return(await d(N)).byteLength},x=async(N,w)=>{const j=de.toFiniteNumber(N.getContentLength());return j??g(w)};return async N=>{let{url:w,method:j,data:_,signal:E,cancelToken:k,timeout:C,onDownloadProgress:R,onUploadProgress:F,responseType:D,headers:P,withCredentials:I="same-origin",fetchOptions:O}=VL(N),V=e||fetch;D=D?(D+"").toLowerCase():"text";let L=Phe([E,k&&k.toAbortSignal()],C),U=null;const ee=L&&L.unsubscribe&&(()=>{L.unsubscribe()});let re;try{if(F&&h&&j!=="get"&&j!=="head"&&(re=await x(P,_))!==0){let $=new n(w,{method:"POST",body:_,duplex:"half"}),Z;if(de.isFormData(_)&&(Z=$.headers.get("content-type"))&&P.setContentType(Z),$.body){const[H,me]=NI(re,iy(SI(F)));_=CI($.body,kI,H,me)}}de.isString(I)||(I=I?"include":"omit");const he=a&&"credentials"in n.prototype,ae={...O,signal:L,method:j.toUpperCase(),headers:P.normalize().toJSON(),body:_,duplex:"half",credentials:he?I:void 0};U=a&&new n(w,ae);let Q=await(a?V(U,O):V(w,ae));const q=m&&(D==="stream"||D==="response");if(m&&(R||q&&ee)){const $={};["status","statusText","headers"].forEach(je=>{$[je]=Q[je]});const Z=de.toFiniteNumber(Q.headers.get("content-length")),[H,me]=R&&NI(Z,iy(SI(R),!0))||[];Q=new r(CI(Q.body,kI,H,()=>{me&&me(),ee&&ee()}),$)}D=D||"text";let B=await f[de.findKey(f,D)||"text"](Q,N);return!q&&ee&&ee(),await new Promise(($,Z)=>{LL($,Z,{data:B,headers:fs.from(Q.headers),status:Q.status,statusText:Q.statusText,config:N,request:U})})}catch(he){throw ee&&ee(),he&&he.name==="TypeError"&&/Load failed|fetch/i.test(he.message)?Object.assign(new jt("Network Error",jt.ERR_NETWORK,N,U),{cause:he.cause||he}):jt.from(he,he&&he.code,N,U)}}},Vhe=new Map,UL=t=>{let e=t&&t.env||{};const{fetch:n,Request:r,Response:i}=e,a=[r,i,n];let o=a.length,c=o,d,h,m=Vhe;for(;c--;)d=a[c],h=m.get(d),h===void 0&&m.set(d,h=c?new Map:Fhe(e)),m=h;return h};UL();const XN={http:nhe,xhr:Rhe,fetch:{get:UL}};de.forEach(XN,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const RI=t=>`- ${t}`,Uhe=t=>de.isFunction(t)||t===null||t===!1;function zhe(t,e){t=de.isArray(t)?t:[t];const{length:n}=t;let r,i;const a={};for(let o=0;o<n;o++){r=t[o];let c;if(i=r,!Uhe(r)&&(i=XN[(c=String(r)).toLowerCase()],i===void 0))throw new jt(`Unknown adapter '${c}'`);if(i&&(de.isFunction(i)||(i=i.get(e))))break;a[c||"#"+o]=i}if(!i){const o=Object.entries(a).map(([d,h])=>`adapter ${d} `+(h===!1?"is not supported by the environment":"is not available in the build"));let c=n?o.length>1?`since :
`+o.map(RI).join(`
`):" "+RI(o[0]):"as no adapter specified";throw new jt("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return i}const zL={getAdapter:zhe,adapters:XN};function iw(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new bh(null,t)}function PI(t){return iw(t),t.headers=fs.from(t.headers),t.data=sw.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),zL.getAdapter(t.adapter||op.adapter,t)(t).then(function(r){return iw(t),r.data=sw.call(t,t.transformResponse,r),r.headers=fs.from(r.headers),r},function(r){return OL(r)||(iw(t),r&&r.response&&(r.response.data=sw.call(t,t.transformResponse,r.response),r.response.headers=fs.from(r.response.headers))),Promise.reject(r)})}const BL="1.13.2",c0={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{c0[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const DI={};c0.transitional=function(e,n,r){function i(a,o){return"[Axios v"+BL+"] Transitional option '"+a+"'"+o+(r?". "+r:"")}return(a,o,c)=>{if(e===!1)throw new jt(i(o," has been removed"+(n?" in "+n:"")),jt.ERR_DEPRECATED);return n&&!DI[o]&&(DI[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(a,o,c):!0}};c0.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function Bhe(t,e,n){if(typeof t!="object")throw new jt("options must be an object",jt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const a=r[i],o=e[a];if(o){const c=t[a],d=c===void 0||o(c,a,t);if(d!==!0)throw new jt("option "+a+" must be "+d,jt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new jt("Unknown option "+a,jt.ERR_BAD_OPTION)}}const px={assertOptions:Bhe,validators:c0},Ji=px.validators;let Uc=class{constructor(e){this.defaults=e||{},this.interceptors={request:new jI,response:new jI}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Zc(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:a}=n;r!==void 0&&px.assertOptions(r,{silentJSONParsing:Ji.transitional(Ji.boolean),forcedJSONParsing:Ji.transitional(Ji.boolean),clarifyTimeoutError:Ji.transitional(Ji.boolean)},!1),i!=null&&(de.isFunction(i)?n.paramsSerializer={serialize:i}:px.assertOptions(i,{encode:Ji.function,serialize:Ji.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),px.assertOptions(n,{baseUrl:Ji.spelling("baseURL"),withXsrfToken:Ji.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=a&&de.merge(a.common,a[n.method]);a&&de.forEach(["delete","get","head","post","put","patch","common"],N=>{delete a[N]}),n.headers=fs.concat(o,a);const c=[];let d=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(d=d&&w.synchronous,c.unshift(w.fulfilled,w.rejected))});const h=[];this.interceptors.response.forEach(function(w){h.push(w.fulfilled,w.rejected)});let m,f=0,g;if(!d){const N=[PI.bind(this),void 0];for(N.unshift(...c),N.push(...h),g=N.length,m=Promise.resolve(n);f<g;)m=m.then(N[f++],N[f++]);return m}g=c.length;let x=n;for(;f<g;){const N=c[f++],w=c[f++];try{x=N(x)}catch(j){w.call(this,j);break}}try{m=PI.call(this,x)}catch(N){return Promise.reject(N)}for(f=0,g=h.length;f<g;)m=m.then(h[f++],h[f++]);return m}getUri(e){e=Zc(this.defaults,e);const n=FL(e.baseURL,e.url,e.allowAbsoluteUrls);return PL(n,e.params,e.paramsSerializer)}};de.forEach(["delete","get","head","options"],function(e){Uc.prototype[e]=function(n,r){return this.request(Zc(r||{},{method:e,url:n,data:(r||{}).data}))}});de.forEach(["post","put","patch"],function(e){function n(r){return function(a,o,c){return this.request(Zc(c||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}Uc.prototype[e]=n(),Uc.prototype[e+"Form"]=n(!0)});let $he=class $L{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(c=>{r.subscribe(c),a=c}).then(i);return o.cancel=function(){r.unsubscribe(a)},o},e(function(a,o,c){r.reason||(r.reason=new bh(a,o,c),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new $L(function(i){e=i}),cancel:e}}};function qhe(t){return function(n){return t.apply(null,n)}}function Hhe(t){return de.isObject(t)&&t.isAxiosError===!0}const rj={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(rj).forEach(([t,e])=>{rj[e]=t});function qL(t){const e=new Uc(t),n=wL(Uc.prototype.request,e);return de.extend(n,Uc.prototype,e,{allOwnKeys:!0}),de.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return qL(Zc(t,i))},n}const zn=qL(op);zn.Axios=Uc;zn.CanceledError=bh;zn.CancelToken=$he;zn.isCancel=OL;zn.VERSION=BL;zn.toFormData=l0;zn.AxiosError=jt;zn.Cancel=zn.CanceledError;zn.all=function(e){return Promise.all(e)};zn.spread=qhe;zn.isAxiosError=Hhe;zn.mergeConfig=Zc;zn.AxiosHeaders=fs;zn.formToJSON=t=>ML(de.isHTMLForm(t)?new FormData(t):t);zn.getAdapter=zL.getAdapter;zn.HttpStatusCode=rj;zn.default=zn;const{Axios:Kpe,AxiosError:Gpe,CanceledError:Qpe,isCancel:Ype,CancelToken:Jpe,VERSION:Xpe,all:Zpe,Cancel:ege,isAxiosError:tge,spread:nge,toFormData:rge,AxiosHeaders:sge,HttpStatusCode:ige,formToJSON:age,getAdapter:oge,mergeConfig:lge}=zn;class Whe extends Error{constructor(e,n,r,i,a){super(e),this.name="Base44Error",this.status=n,this.code=r,this.data=i,this.originalError=a}toJSON(){return{name:this.name,message:this.message,status:this.status,code:this.code,data:this.data}}}function Khe(t){let{baseURL:e,headers:n={},token:r,requiresAuth:i=!1,appId:a,serverUrl:o}=t;const c=zn.create({baseURL:e,headers:{"Content-Type":"application/json",Accept:"application/json",...n}});return r&&(c.defaults.headers.common.Authorization=`Bearer ${r}`),c.interceptors.request.use((d=>(typeof window<"u"&&(d.headers={...d.headers,"X-Origin-URL":window.location.href}),d))),c.interceptors.response.use((d=>d.data),(d=>{var f,g,x,N,w,j,_,E,k,C;const h=((g=(f=d.response)==null?void 0:f.data)==null?void 0:g.message)||((N=(x=d.response)==null?void 0:x.data)==null?void 0:N.detail)||d.message,m=new Whe(h,(w=d.response)==null?void 0:w.status,(_=(j=d.response)==null?void 0:j.data)==null?void 0:_.code,(E=d.response)==null?void 0:E.data,d);return console.log(i,(k=d.response)==null?void 0:k.status,typeof window<"u"),i&&((C=d.response)==null?void 0:C.status)===403&&typeof window<"u"&&(console.log("Authentication required. Redirecting to login..."),setTimeout((()=>{(function(R,F){if(typeof window>"u")return;const D=`${R}/login?from_url=${encodeURIComponent(window.location.href)}&app_id=${F}`;window.location.href=D})(o,a)}),100)),Promise.reject(m)})),c}function Ghe(t,e){return new Proxy({},{get(n,r){if(typeof r=="string"&&r!=="then"&&!r.startsWith("_"))return(function(i,a,o){const c=`/apps/${a}/entities/${o}`;return{async list(d,h,m,f){const g={};return d&&(g.sort=d),h&&(g.limit=h),m&&(g.skip=m),f&&(g.fields=Array.isArray(f)?f.join(","):f),i.get(c,{params:g})},async filter(d,h,m,f,g){const x={q:JSON.stringify(d)};return h&&(x.sort=h),m&&(x.limit=m),f&&(x.skip=f),g&&(x.fields=Array.isArray(g)?g.join(","):g),i.get(c,{params:x})},get:async d=>i.get(`${c}/${d}`),create:async d=>i.post(c,d),update:async(d,h)=>i.put(`${c}/${d}`,h),delete:async d=>i.delete(`${c}/${d}`),deleteMany:async d=>i.delete(c,{data:d}),bulkCreate:async d=>i.post(`${c}/bulk`,d),async importEntities(d){const h=new FormData;return h.append("file",d,d.name),i.post(`${c}/import`,h,{headers:{"Content-Type":"multipart/form-data"}})}}})(t,e,r)}})}function Qhe(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{storageKey:e="base44_access_token",paramName:n="access_token",saveToStorage:r=!0,removeFromUrl:i=!0}=t;let a=null;if(typeof window<"u"&&window.location)try{const o=new URLSearchParams(window.location.search);if(a=o.get(n),a){if(r&&Yhe(a,{storageKey:e}),i){o.delete(n);const c=`${window.location.pathname}${o.toString()?`?${o.toString()}`:""}${window.location.hash}`;window.history.replaceState({},document.title,c)}return a}}catch(o){console.error("Error retrieving token from URL:",o)}if(typeof window<"u"&&window.localStorage)try{return a=window.localStorage.getItem(e),a}catch(o){console.error("Error retrieving token from localStorage:",o)}return null}function Yhe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{storageKey:n="base44_access_token"}=e;if(typeof window>"u"||!window.localStorage||!t)return!1;try{return window.localStorage.setItem(n,t),!0}catch(r){return console.error("Error saving token to localStorage:",r),!1}}function Jhe(t){if(!t||!t.appId)throw new Error("appId is required");const{serverUrl:e="https://base44.app",appId:n,env:r="prod",token:i,requiresAuth:a=!1}=t,o=Khe({baseURL:`${e}/api`,headers:{"X-App-Id":String(n),"X-Environment":r},token:i,requiresAuth:a,appId:n,serverUrl:e}),c=Ghe(o,n),d=(function(m,f){return new Proxy({},{get(g,x){if(typeof x=="string"&&x!=="then"&&!x.startsWith("_"))return new Proxy({},{get(N,w){if(typeof w=="string"&&w!=="then"&&!w.startsWith("_"))return async j=>{if(typeof j=="string")throw new Error(`Integration ${w} must receive an object with named parameters, received: ${j}`);let _,E;return j instanceof FormData||j&&Object.values(j).some((k=>k instanceof File))?(_=new FormData,Object.keys(j).forEach((k=>{j[k]instanceof File?_.append(k,j[k],j[k].name):typeof j[k]=="object"&&j[k]!==null?_.append(k,JSON.stringify(j[k])):_.append(k,j[k])})),E="multipart/form-data"):(_=j,E="application/json"),x==="Core"?m.post(`/apps/${f}/integration-endpoints/Core/${w}`,_||j,{headers:{"Content-Type":E}}):m.post(`/apps/${f}/integration-endpoints/installable/${x}/integration-endpoints/${w}`,_||j,{headers:{"Content-Type":E}})}}})}})})(o,n),h=(function(m,f,g){return{me:async()=>m.get(`/apps/${f}/entities/User/me`),updateMe:async x=>m.put(`/apps/${f}/entities/User/me`,x),login(x){if(typeof window>"u")throw new Error("Login method can only be used in a browser environment");const N=x||window.location.href,w=`${g}/login?from_url=${encodeURIComponent(N)}&app_id=${f}`;window.location.href=w},async logout(x){if(delete m.defaults.headers.common.Authorization,typeof window<"u"&&window.localStorage)try{window.localStorage.removeItem("base44_access_token")}catch(N){console.error("Failed to remove token from localStorage:",N)}return x&&typeof window<"u"&&(window.location.href=x),Promise.resolve()},setToken(x){let N=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(x&&(m.defaults.headers.common.Authorization=`Bearer ${x}`,N&&typeof window<"u"&&window.localStorage))try{window.localStorage.setItem("base44_access_token",x)}catch(w){console.error("Failed to save token to localStorage:",w)}},async isAuthenticated(){try{return await this.me(),!0}catch{return!1}}}})(o,n,e);if(typeof window<"u"){const m=i||Qhe();m&&h.setToken(m)}return a&&typeof window<"u"&&setTimeout((async()=>{try{await h.isAuthenticated()||h.login(window.location.href)}catch(m){console.error("Authentication check failed:",m),h.login(window.location.href)}}),0),{entities:c,integrations:d,auth:h,setToken(m){h.setToken(m)},getConfig:()=>({serverUrl:e,appId:n,env:r,requiresAuth:a})}}const yt=Jhe({appId:"68fcd301afef087bf759dba3",requiresAuth:!1});function HL({story:t,onComplete:e}){const[n,r]=v.useState(t.starting_node),[i,a]=v.useState([]),[o,c]=v.useState(0),[d,h]=v.useState(null),[m,f]=v.useState(!1);v.useEffect(()=>{g()},[]);const g=async()=>{try{if(await yt.auth.isAuthenticated()){const k=await yt.auth.me();h(k)}}catch{console.log("User not authenticated")}},x=()=>{var E;return(E=t.story_nodes)==null?void 0:E.find(k=>k.id===n)},N=async E=>{var C;E.points&&c(o+E.points),a([...i,n]);const k=(C=t.story_nodes)==null?void 0:C.find(R=>R.id===E.next_node);if(r(E.next_node),k!=null&&k.is_ending&&(f(!0),d))try{const F=Math.min((d.points||0)+10,1500);await yt.auth.updateMe({points:F})}catch(R){console.error("Error saving points:",R)}},w=()=>{r(t.starting_node),a([]),c(0),f(!1)},j=x();if(!j)return s.jsxs("div",{className:"text-center py-12",children:[s.jsx("p",{className:"text-gray-600",children:"Story node not found"}),s.jsxs(G,{onClick:w,className:"mt-4",children:[s.jsx(UC,{className:"w-4 h-4 mr-2"}),"Restart Story"]})]});const _={good:"from-green-500 to-teal-500",great:"from-blue-500 to-purple-500",excellent:"from-amber-500 to-orange-500",bad:"from-gray-500 to-slate-500"};return s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Fn,{className:"w-5 h-5 text-purple-600"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[i.length," decisions made"]})]}),s.jsxs("div",{className:"flex items-center gap-2 bg-amber-100 px-4 py-2 rounded-full",children:[s.jsx(fn,{className:"w-5 h-5 text-amber-600"}),s.jsxs("span",{className:"font-bold text-amber-900",children:[o," points"]})]})]}),s.jsx(ri,{mode:"wait",children:s.jsx(te.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:s.jsxs(ne,{className:`shadow-2xl overflow-hidden ${j.is_ending?`bg-gradient-to-br ${_[j.ending_type]||_.good}`:"bg-white"}`,children:[j.image_url&&s.jsx("div",{className:"h-64 md:h-80 overflow-hidden",children:s.jsx("img",{src:j.image_url,alt:"Story scene",className:"w-full h-full object-cover"})}),s.jsxs(ie,{className:`p-6 md:p-8 ${j.is_ending?"text-white":""}`,children:[j.character&&s.jsx(_e,{className:"mb-4 bg-purple-100 text-purple-800 px-4 py-1",children:j.character}),s.jsx("div",{className:`prose prose-lg max-w-none mb-6 ${j.is_ending?"prose-invert":"prose-slate"}`,children:s.jsx(bL,{children:j.content})}),j.is_ending&&s.jsxs("div",{className:"text-center mb-6",children:[s.jsxs("div",{className:"text-6xl mb-4",children:[j.ending_type==="excellent"&&"",j.ending_type==="great"&&"",j.ending_type==="good"&&"",j.ending_type==="bad"&&""]}),s.jsxs(_e,{className:"bg-white/20 text-white text-lg px-6 py-2",children:[j.ending_type==="excellent"&&"Excellent Ending!",j.ending_type==="great"&&"Great Ending!",j.ending_type==="good"&&"Good Ending!",j.ending_type==="bad"&&"Try Again!"]})]}),!j.is_ending&&j.choices&&j.choices.length>0&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-600 mb-4",children:"What will you do?"}),j.choices.map((E,k)=>s.jsx(te.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:k*.1},onClick:()=>N(E),className:"w-full p-4 bg-gradient-to-r from-blue-50 to-purple-50 hover:from-blue-100 hover:to-purple-100 border-2 border-blue-200 hover:border-purple-300 rounded-xl text-left transition-all duration-300 transform hover:scale-102 group",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium text-gray-900 group-hover:text-purple-900",children:E.text}),s.jsxs("div",{className:"flex items-center gap-2",children:[E.points>0&&s.jsxs(_e,{className:"bg-amber-100 text-amber-800",children:["+",E.points," pts"]}),s.jsx(fz,{className:"w-5 h-5 text-purple-600 group-hover:translate-x-1 transition-transform"})]})]})},k))]}),j.is_ending&&s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mt-8",children:[s.jsxs(G,{onClick:w,size:"lg",className:"bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white border-2 border-white/40",children:[s.jsx(UC,{className:"w-5 h-5 mr-2"}),"Try Different Choices"]}),e&&s.jsxs(G,{onClick:e,size:"lg",className:"bg-white text-purple-600 hover:bg-gray-100",children:[s.jsx(_i,{className:"w-5 h-5 mr-2"}),"Back to Stories"]})]}),j.is_ending&&t.moral&&s.jsxs("div",{className:"mt-8 p-6 bg-white/10 backdrop-blur-sm rounded-xl border-2 border-white/20",children:[s.jsx("h3",{className:"text-xl font-bold mb-2",children:" Moral of the Story:"}),s.jsx("p",{className:"text-lg",children:t.moral})]})]})]})},n)}),i.length>0&&!j.is_ending&&s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-sm text-gray-500",children:["Your journey: ",i.length," choices made"]})})]})}HL.propTypes={story:At.object.isRequired,onComplete:At.func};const aw=[{id:"all",name:"All Stories",icon:""},{id:"prophets",name:"Prophets",icon:""},{id:"sahabah",name:"Companions",icon:""},{id:"manners",name:"Good Manners",icon:""},{id:"kindness",name:"Kindness",icon:""},{id:"honesty",name:"Honesty",icon:""},{id:"gratitude",name:"Gratitude",icon:""},{id:"bedtime",name:"Bedtime",icon:""}];function WL(){var m;const[t,e]=v.useState("all"),[n,r]=v.useState(null),[i,a]=v.useState(null);v.useEffect(()=>{o()},[]);const o=async()=>{try{if(await base44.auth.isAuthenticated()){const g=await base44.auth.me();a(g)}else a(null)}catch{a(null)}},{data:c=[],isLoading:d}=Un({queryKey:["stories"],queryFn:async()=>await base44.entities.Story.list("-created_date"),initialData:[]}),h=t==="all"?c:c.filter(f=>f.category===t);return d?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:""}),s.jsx("p",{className:"text-gray-600",children:"Loading stories..."})]})}):s.jsxs("div",{className:"min-h-screen py-8 md:py-12 px-4",children:[s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8 md:mb-12",children:[s.jsx("div",{className:"text-5xl md:text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-gray-900 mb-4",children:"Islamic Stories"}),s.jsx("p",{className:"text-base md:text-lg text-gray-600 max-w-2xl mx-auto",children:"Read inspiring stories from Islamic history and learn valuable lessons"})]}),s.jsx("div",{className:"flex flex-wrap gap-2 md:gap-3 justify-center mb-8",children:aw.map(f=>s.jsxs(G,{onClick:()=>e(f.id),variant:t===f.id?"default":"outline",size:"sm",className:t===f.id?"bg-gradient-to-r from-blue-500 to-purple-500":"",children:[s.jsx("span",{className:"mr-2",children:f.icon}),f.name]},f.id))}),h.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("p",{className:"text-gray-600",children:"No stories available in this category yet."})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map((f,g)=>{var x;return s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:g*.1},children:s.jsxs(ne,{className:"h-full hover:shadow-2xl transition-all duration-300 cursor-pointer group",children:[s.jsxs(Fe,{className:"p-0 relative",children:[f.image_url&&s.jsx("div",{className:"h-48 bg-gradient-to-br from-blue-100 to-purple-100 rounded-t-xl overflow-hidden",children:s.jsx("img",{src:f.image_url,alt:f.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"})}),f.is_interactive&&s.jsx("div",{className:"absolute top-2 right-2",children:s.jsxs(_e,{className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white shadow-lg",children:[s.jsx(_i,{className:"w-3 h-3 mr-1"}),"Interactive"]})})]}),s.jsxs(ie,{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs(_e,{variant:"outline",className:"text-xs",children:[(x=aw.find(N=>N.id===f.category))==null?void 0:x.icon," ",f.category]}),f.age_range&&s.jsxs(_e,{variant:"outline",className:"text-xs",children:[f.age_range," years"]})]}),s.jsx(Ve,{className:"text-xl mb-3 line-clamp-2",children:f.title}),f.description&&s.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:f.description}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 mb-4",children:[f.audio_url&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Md,{className:"w-3 h-3"}),"Audio"]}),f.is_interactive&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(dr,{className:"w-3 h-3"}),"Make Choices"]})]}),s.jsxs(G,{onClick:()=>r(f),className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600",children:[s.jsx(Fn,{className:"w-4 h-4 mr-2"}),f.is_interactive?"Play Story":"Read Story"]})]})]})},f.id)})})]}),s.jsx(ri,{children:n&&s.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 overflow-y-auto",children:s.jsx("div",{className:"min-h-screen p-4 flex items-center justify-center",children:s.jsxs(te.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"w-full max-w-5xl",children:[s.jsx("div",{className:"flex justify-end mb-4",children:s.jsx(G,{onClick:()=>r(null),variant:"ghost",size:"icon",className:"bg-white/10 hover:bg-white/20 text-white rounded-full",children:s.jsx(ps,{className:"w-6 h-6"})})}),n.is_interactive?s.jsx(HL,{story:n,onComplete:()=>r(null)}):s.jsxs(ne,{className:"bg-white shadow-2xl",children:[n.image_url&&s.jsx("div",{className:"h-64 md:h-96 overflow-hidden rounded-t-xl",children:s.jsx("img",{src:n.image_url,alt:n.title,className:"w-full h-full object-cover"})}),s.jsxs(ie,{className:"p-6 md:p-10",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs(_e,{className:"mb-4",children:[(m=aw.find(f=>f.id===n.category))==null?void 0:m.icon," ",n.category]}),s.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:n.title})]}),n.audio_url&&s.jsx("div",{className:"mb-6 bg-purple-50 p-4 rounded-xl",children:s.jsxs("audio",{controls:!0,className:"w-full",children:[s.jsx("source",{src:n.audio_url,type:"audio/mpeg"}),"Your browser does not support audio."]})}),s.jsx("div",{className:"prose prose-lg max-w-none mb-8",children:s.jsx(bL,{children:n.content})}),n.moral&&s.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 border-l-4 border-amber-500 p-6 rounded-r-xl",children:[s.jsxs("h3",{className:"text-xl font-bold text-amber-900 mb-2 flex items-center gap-2",children:[s.jsx(_i,{className:"w-6 h-6"}),"Moral of the Story"]}),s.jsx("p",{className:"text-gray-700 text-lg",children:n.moral})]})]})]})]})})})})]})}function ZN(t){const e=v.useRef({value:t,previous:t});return v.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var u0="Checkbox",[Xhe]=bo(u0),[Zhe,eS]=Xhe(u0);function eme(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:i,disabled:a,form:o,name:c,onCheckedChange:d,required:h,value:m="on",internal_do_not_use_render:f}=t,[g,x]=Bc({prop:n,defaultProp:i??!1,onChange:d,caller:u0}),[N,w]=v.useState(null),[j,_]=v.useState(null),E=v.useRef(!1),k=N?!!o||!!N.closest("form"):!0,C={checked:g,disabled:a,setChecked:x,control:N,setControl:w,name:c,form:o,value:m,hasConsumerStoppedPropagationRef:E,required:h,defaultChecked:bl(i)?!1:i,isFormControl:k,bubbleInput:j,setBubbleInput:_};return s.jsx(Zhe,{scope:e,...C,children:tme(f)?f(C):r})}var KL="CheckboxTrigger",GL=v.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},i)=>{const{control:a,value:o,disabled:c,checked:d,required:h,setControl:m,setChecked:f,hasConsumerStoppedPropagationRef:g,isFormControl:x,bubbleInput:N}=eS(KL,t),w=Ht(i,m),j=v.useRef(d);return v.useEffect(()=>{const _=a==null?void 0:a.form;if(_){const E=()=>f(j.current);return _.addEventListener("reset",E),()=>_.removeEventListener("reset",E)}},[a,f]),s.jsx(Ct.button,{type:"button",role:"checkbox","aria-checked":bl(d)?"mixed":d,"aria-required":h,"data-state":ZL(d),"data-disabled":c?"":void 0,disabled:c,value:o,...r,ref:w,onKeyDown:Je(e,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:Je(n,_=>{f(E=>bl(E)?!0:!E),N&&x&&(g.current=_.isPropagationStopped(),g.current||_.stopPropagation())})})});GL.displayName=KL;var tS=v.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:a,required:o,disabled:c,value:d,onCheckedChange:h,form:m,...f}=t;return s.jsx(eme,{__scopeCheckbox:n,checked:i,defaultChecked:a,disabled:c,required:o,onCheckedChange:h,name:r,form:m,value:d,internal_do_not_use_render:({isFormControl:g})=>s.jsxs(s.Fragment,{children:[s.jsx(GL,{...f,ref:e,__scopeCheckbox:n}),g&&s.jsx(XL,{__scopeCheckbox:n})]})})});tS.displayName=u0;var QL="CheckboxIndicator",YL=v.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,a=eS(QL,n);return s.jsx(wo,{present:r||bl(a.checked)||a.checked===!0,children:s.jsx(Ct.span,{"data-state":ZL(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});YL.displayName=QL;var JL="CheckboxBubbleInput",XL=v.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:o,required:c,disabled:d,name:h,value:m,form:f,bubbleInput:g,setBubbleInput:x}=eS(JL,t),N=Ht(n,x),w=ZN(a),j=p_(r);v.useEffect(()=>{const E=g;if(!E)return;const k=window.HTMLInputElement.prototype,R=Object.getOwnPropertyDescriptor(k,"checked").set,F=!i.current;if(w!==a&&R){const D=new Event("click",{bubbles:F});E.indeterminate=bl(a),R.call(E,bl(a)?!1:a),E.dispatchEvent(D)}},[g,w,a,i]);const _=v.useRef(bl(a)?!1:a);return s.jsx(Ct.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??_.current,required:c,disabled:d,name:h,value:m,form:f,...e,tabIndex:-1,ref:N,style:{...e.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});XL.displayName=JL;function tme(t){return typeof t=="function"}function bl(t){return t==="indeterminate"}function ZL(t){return bl(t)?"indeterminate":t?"checked":"unchecked"}const nS=v.forwardRef(({className:t,...e},n)=>s.jsx(tS,{ref:n,className:ct("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:s.jsx(YL,{className:ct("flex items-center justify-center text-current"),children:s.jsx(Km,{className:"h-4 w-4"})})}));nS.displayName=tS.displayName;const nme=[{arabic:"   ",english:"In the name of Allah, the Most Gracious, the Most Merciful",transliteration:"Bismillah ir-Rahman ir-Rahim"},{arabic:" ",english:"All praise is due to Allah",transliteration:"Alhamdulillah"}],Xu=[{arabic:"",english:"Peace",transliteration:"Salaam"},{arabic:"",english:"Thank you",transliteration:"Shukran"},{arabic:"",english:"Patience",transliteration:"Sabr"},{arabic:"",english:"Mercy",transliteration:"Rahmah"}],rme=[{id:"helped_parents",label:"Helped my parents",emoji:""},{id:"prayed_on_time",label:"Prayed on time",emoji:""},{id:"shared_toys",label:"Shared my toys",emoji:""},{id:"read_quran",label:"Read Quran",emoji:""},{id:"said_bismillah",label:"Said Bismillah before eating",emoji:""},{id:"helped_friend",label:"Helped a friend",emoji:""},{id:"cleaned_room",label:"Cleaned my room",emoji:""},{id:"kind_words",label:"Used kind words",emoji:""}];function e3(){const[t,e]=v.useState([]),[n,r]=v.useState(null),[i,a]=v.useState(0);v.useEffect(()=>{o()},[]);const o=async()=>{try{if(await base44.auth.isAuthenticated()){const h=await base44.auth.me();r(h)}else r(null)}catch{r(null)}},c=async d=>{if(!t.includes(d)&&n)try{await base44.entities.GoodDeed.create({user_id:n.id,deed_type:d,date:new Date().toISOString().split("T")[0]}),await base44.auth.updateMe({points:(n.points||0)+5}),e([...t,d])}catch(m){console.error("Error saving good deed:",m)}else e(t.filter(m=>m!==d))};return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Learn & Grow"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Daily lessons, duas, and activities to help you grow as a Muslim"})]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[s.jsx(te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:s.jsxs(ne,{className:"shadow-lg border-2 border-blue-200",children:[s.jsx(Fe,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:s.jsxs(Ve,{className:"flex items-center gap-2",children:[s.jsx(fn,{className:"w-6 h-6"}),"Dua of the Day"]})}),s.jsx(ie,{className:"p-6",children:nme.map((d,h)=>s.jsxs("div",{className:"mb-6 last:mb-0",children:[s.jsxs("div",{className:"text-center mb-4",children:[s.jsx("p",{className:"text-3xl text-right mb-3",style:{fontFamily:"serif"},children:d.arabic}),s.jsxs(G,{variant:"outline",size:"sm",className:"mb-2",children:[s.jsx(_l,{className:"w-4 h-4 mr-2"}),"Listen"]})]}),s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[s.jsx("p",{className:"font-medium text-gray-700 mb-1",children:d.transliteration}),s.jsx("p",{className:"text-gray-600",children:d.english})]})]},h))})]})}),s.jsx(te.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},children:s.jsxs(ne,{className:"shadow-lg border-2 border-green-200",children:[s.jsx(Fe,{className:"bg-gradient-to-r from-green-500 to-teal-500 text-white",children:s.jsxs(Ve,{className:"flex items-center gap-2",children:[s.jsx(Fn,{className:"w-6 h-6"}),"Learn Arabic Words"]})}),s.jsxs(ie,{className:"p-6",children:[s.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-teal-50 rounded-xl p-8 text-center mb-4",children:[s.jsx("p",{className:"text-5xl mb-4",style:{fontFamily:"serif"},children:Xu[i].arabic}),s.jsx("p",{className:"text-xl font-semibold text-gray-700 mb-2",children:Xu[i].transliteration}),s.jsx("p",{className:"text-lg text-gray-600",children:Xu[i].english})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(G,{onClick:()=>a((i-1+Xu.length)%Xu.length),variant:"outline",className:"flex-1",children:"Previous"}),s.jsx(G,{onClick:()=>a((i+1)%Xu.length),className:"flex-1 bg-green-600 hover:bg-green-700",children:"Next"})]})]})]})}),s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"lg:col-span-2",children:s.jsxs(ne,{className:"shadow-lg border-2 border-amber-200",children:[s.jsx(Fe,{className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs(Ve,{className:"flex items-center gap-2",children:[s.jsx(eh,{className:"w-6 h-6"}),"Good Deeds Tracker"]}),s.jsx(_e,{className:"bg-white/20 text-white text-lg px-4 py-2",children:"+5 points each"})]})}),s.jsxs(ie,{className:"p-6",children:[s.jsx("p",{className:"text-gray-600 mb-6 text-center",children:"Check off the good deeds you did today and earn points! "}),s.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4",children:rme.map(d=>s.jsx(te.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:s.jsxs("label",{className:`flex items-start gap-3 p-4 rounded-xl border-2 cursor-pointer transition-all ${t.includes(d.id)?"bg-green-50 border-green-400":"bg-white border-gray-200 hover:border-gray-300"}`,children:[s.jsx(nS,{checked:t.includes(d.id),onCheckedChange:()=>c(d.id),className:"mt-1"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl mb-1",children:d.emoji}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:d.label})]})]})},d.id))})]})]})})]})]})})}const sme=[{title:"How to Teach Islam with Love",excerpt:"Creating a nurturing environment where children develop a genuine love for their faith...",icon:th,color:"from-pink-500 to-rose-500"},{title:"Digital Safety for Muslim Kids",excerpt:"Essential guidelines to ensure your children's online experience is safe and beneficial...",icon:ru,color:"from-blue-500 to-cyan-500"},{title:"Making Learning Fun",excerpt:"Creative ways to engage children in Islamic education through play and activities...",icon:Fn,color:"from-purple-500 to-violet-500"}];function t3(){return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Parent Guidance"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Resources and support for raising righteous children"})]}),s.jsx(te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-12",children:s.jsx(ne,{className:"border-2 border-green-300 shadow-lg",children:s.jsxs(ie,{className:"p-8 text-center",children:[s.jsx(ru,{className:"w-16 h-16 mx-auto mb-4 text-green-600"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Safe & Ad-Free Environment "}),s.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Islam Kids Zone is committed to providing a completely safe, ad-free learning environment. All content is carefully curated and monitored to ensure it aligns with Islamic values and is age-appropriate."})]})})}),s.jsxs("div",{className:"mb-12",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Parenting Resources"}),s.jsx("div",{className:"space-y-6",children:sme.map((t,e)=>{const n=t.icon;return s.jsx(te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:e*.1},children:s.jsxs(ne,{className:"hover:shadow-xl transition-all duration-300",children:[s.jsx(Fe,{children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`w-12 h-12 rounded-xl bg-gradient-to-br ${t.color} flex items-center justify-center flex-shrink-0`,children:s.jsx(n,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx(Ve,{className:"text-xl mb-2",children:t.title}),s.jsx("p",{className:"text-gray-600",children:t.excerpt})]})]})}),s.jsx(ie,{children:s.jsx(G,{variant:"outline",children:"Read More"})})]})},t.title)})})]}),s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:s.jsxs(ne,{className:"shadow-lg",children:[s.jsx(Fe,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:s.jsxs(Ve,{className:"flex items-center gap-2",children:[s.jsx(vx,{className:"w-6 h-6"}),"Send Us Your Feedback"]})}),s.jsxs(ie,{className:"p-6",children:[s.jsx("p",{className:"text-gray-600 mb-6",children:"We'd love to hear your thoughts, suggestions, or concerns about Islam Kids Zone. Your feedback helps us create a better experience for your children."}),s.jsxs(G,{className:"w-full bg-blue-600 hover:bg-blue-700",children:[s.jsx(vx,{className:"w-4 h-4 mr-2"}),"Share Your Feedback"]})]})]})})]})})}const ime=[{icon:th,title:"Learn with Love",description:"Every activity is designed to inspire love for Islam in young hearts"},{icon:fn,title:"Quality Content",description:"Carefully curated Islamic content that's both educational and engaging"},{icon:ru,title:"Safe Environment",description:"100% ad-free and child-safe platform monitored by caring educators"},{icon:_i,title:"Fun Learning",description:"Interactive games and activities that make learning enjoyable"}];function n3(){return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"About Islam Kids Zone"})]}),s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-12",children:s.jsx(ne,{className:"shadow-lg border-2 border-blue-200",children:s.jsxs(ie,{className:"p-8",children:[s.jsxs("p",{className:"text-lg text-gray-700 leading-relaxed mb-6",children:[s.jsx("strong",{children:"Islam Media Kids Zone"})," is part of ",s.jsx("strong",{children:"Islam Media Central"}),", built to inspire the next generation through games, stories, and educational media."]}),s.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:"Every activity is designed to teach Islamic manners, knowledge, and fun learning experiences  all in a safe and loving environment where children can explore their faith with joy and confidence."})]})})}),s.jsxs("div",{className:"mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8 text-center",children:"Our Values"}),s.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:ime.map((t,e)=>{const n=t.icon;return s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:e*.1},children:s.jsx(ne,{className:"h-full hover:shadow-xl transition-all duration-300",children:s.jsx(ie,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center flex-shrink-0",children:s.jsx(n,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:t.title}),s.jsx("p",{className:"text-gray-600",children:t.description})]})]})})})},t.title)})})]}),s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:s.jsx(ne,{className:"shadow-lg bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:s.jsxs(ie,{className:"p-8 text-center",children:[s.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Connect with Islam Media Central"}),s.jsx("p",{className:"text-blue-100 mb-6 text-lg",children:"Discover more Islamic content and resources for the whole family"}),s.jsxs(G,{onClick:()=>window.open("https://www.imediac.com","_blank"),className:"bg-white hover:bg-gray-100 text-blue-600",children:[s.jsx(Qm,{className:"w-4 h-4 mr-2"}),"Visit Website"]})]})})}),s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-8",children:s.jsx(ne,{className:"shadow border-2 border-green-200",children:s.jsxs(ie,{className:"p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Acknowledgements"}),s.jsxs("p",{className:"text-gray-700",children:["Quran text, translations, and audio in our Recitation & Hifz module are powered by the",s.jsx("a",{href:"https://alquran.cloud/api",target:"_blank",rel:"noreferrer",className:"text-green-700 font-semibold ml-1",children:"AlQuran.Cloud API"}),"by Islamic Network. We are grateful for their service to the community."]})]})})})]})})}const Te=v.forwardRef(({className:t,type:e,...n},r)=>s.jsx("input",{type:e,className:ct("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Te.displayName="Input";var ame=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ome=ame.reduce((t,e)=>{const n=Dy(`Primitive.${e}`),r=v.forwardRef((i,a)=>{const{asChild:o,...c}=i,d=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(d,{...c,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),lme="Label",r3=v.forwardRef((t,e)=>s.jsx(ome.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));r3.displayName=lme;var s3=r3;const cme=zf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ye=v.forwardRef(({className:t,...e},n)=>s.jsx(s3,{ref:n,className:ct(cme(),t),...e}));ye.displayName=s3.displayName;const ume=["","","","","","","","","","","",""];function i3(){const t=Yn(),[e,n]=v.useState(!1),[r,i]=v.useState(!1),[a,o]=v.useState({full_name:"",age:"",city:"",madrasah_maktab:"",avatar:""});v.useEffect(()=>{try{const x=localStorage.getItem("ikz_user");if(x){const N=JSON.parse(x);o(w=>({...w,full_name:N.full_name||w.full_name,age:N.age||w.age,city:N.city||w.city,madrasah_maktab:N.madrasah_maktab||w.madrasah_maktab,avatar:N.avatar||w.avatar}))}}catch{}i(!1)},[]);const[c,d]=v.useState(null),[h,m]=v.useState(!1),f=()=>{t(it("Games"))},g=x=>{x.preventDefault(),n(!0),setTimeout(()=>{d(a),m(!0),n(!1),localStorage.setItem("ikz_user",JSON.stringify(a)),t(it("Games"))},500)};return h?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 flex items-center justify-center p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:""}),s.jsx("p",{className:"text-white text-lg font-medium",children:"Signup successful! Welcome to Islam Kids Zone."})]})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 flex items-center justify-center p-4",children:s.jsx(te.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"w-full max-w-md",children:s.jsxs(ne,{className:"shadow-2xl border-4 border-white/50",children:[s.jsxs(Fe,{className:"text-center pb-4",children:[s.jsx(te.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200},className:"text-6xl mb-4",children:""}),s.jsx(Ve,{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Welcome to Islam Kids Zone!"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Sign up to personalize your experience!"})]}),s.jsx(ie,{children:s.jsxs("form",{onSubmit:g,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"full_name",children:"Full Name"}),s.jsx(Te,{id:"full_name",type:"text",value:a.full_name,onChange:x=>o({...a,full_name:x.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"age",children:"Age"}),s.jsx(Te,{id:"age",type:"number",min:"1",value:a.age,onChange:x=>o({...a,age:x.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"city",children:"City"}),s.jsx(Te,{id:"city",type:"text",value:a.city,onChange:x=>o({...a,city:x.target.value})})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"madrasah_maktab",children:"Madrasah/Maktab"}),s.jsx(Te,{id:"madrasah_maktab",type:"text",value:a.madrasah_maktab,onChange:x=>o({...a,madrasah_maktab:x.target.value})})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Choose an Avatar"}),s.jsx("div",{className:"flex gap-2 flex-wrap mt-2",children:ume.map(x=>s.jsx("button",{type:"button",className:`text-2xl px-2 py-1 rounded-lg border ${a.avatar===x?"border-blue-500 bg-blue-100":"border-gray-300 bg-white"}`,onClick:()=>o({...a,avatar:x}),children:x},x))})]}),s.jsxs("div",{className:"flex gap-4 mt-6",children:[s.jsx(G,{type:"submit",disabled:e,className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 text-white font-bold",children:e?"Saving...":"Save & Continue"}),s.jsx(G,{type:"button",variant:"outline",onClick:f,className:"w-full",children:"Skip & Explore"})]})]})})]})})})}const In=v.forwardRef(({className:t,...e},n)=>s.jsx("textarea",{className:ct("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));In.displayName="Textarea";function a3(){const[t,e]=v.useState({name:"",email:"",subject:"",message:""}),[n,r]=v.useState(!1),[i,a]=v.useState(!1),[o,c]=v.useState(null);wn.useEffect(()=>{d()},[]);const d=async()=>{try{if(await base44.auth.isAuthenticated()){const f=await base44.auth.me();c(f)}else c(null)}catch{c(null)}},h=async m=>{m.preventDefault(),r(!0);try{await base44.integrations.Core.SendEmail({from_name:"Islam Kids Zone - Contact Form",to:"huzaify786@gmail.com",subject:`Contact Form: ${t.subject}`,body:`
          <div style="font-family: Arial, sans-serif; padding: 20px; background-color: #f3f4f6; border-radius: 10px;">
            <h2 style="color: #3B82F6;"> New Contact Form Submission</h2>
            <div style="background-color: white; padding: 20px; border-radius: 8px; margin-top: 20px;">
              <p><strong> Name:</strong> ${t.name}</p>
              <p><strong> Email:</strong> ${t.email}</p>
              <p><strong> Subject:</strong> ${t.subject}</p>
              <hr style="margin: 20px 0; border: none; border-top: 1px solid #e5e7eb;">
              <p><strong> Message:</strong></p>
              <p style="background-color: #f9fafb; padding: 15px; border-radius: 5px; white-space: pre-wrap;">${t.message}</p>
            </div>
            <hr style="margin: 20px 0; border: none; border-top: 1px solid #e5e7eb;">
            <p style="color: #6b7280; font-size: 12px; text-align: center;">
               Sent on: ${new Date().toLocaleString()}
            </p>
          </div>
        `});try{await Zx.add({name:t.name,email:t.email,subject:t.subject,message:t.message,createdAt:new Date().toISOString(),read:!1})}catch(f){console.warn("Message not persisted (Firebase not configured or error)",(f==null?void 0:f.message)||f)}a(!0),e({name:(o==null?void 0:o.full_name)||"",email:(o==null?void 0:o.email)||"",subject:"",message:""}),setTimeout(()=>a(!1),5e3)}catch(f){console.error("Error sending message:",f),alert("Failed to send message. Please try again.")}finally{r(!1)}};return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Contact Us"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Have a question, suggestion, or feedback? We'd love to hear from you!"})]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[s.jsxs(te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"space-y-6",children:[s.jsx(ne,{className:"border-2 border-blue-200 shadow-lg hover:shadow-xl transition-all duration-300",children:s.jsx(ie,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center flex-shrink-0",children:s.jsx(py,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:"Email Us"}),s.jsx("a",{href:"mailto:huzaify786@gmail.com",className:"text-blue-600 hover:text-blue-700 text-sm break-all",children:"huzaify786@gmail.com"})]})]})})}),s.jsx(ne,{className:"border-2 border-green-200 shadow-lg",children:s.jsx(ie,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-green-500 to-teal-500 flex items-center justify-center flex-shrink-0",children:s.jsx(vx,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:"Quick Response"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"We typically respond within 24-48 hours"})]})]})})}),s.jsx(ne,{className:"border-2 border-amber-200 shadow-lg bg-gradient-to-br from-amber-50 to-orange-50",children:s.jsx(ie,{className:"p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl mb-3",children:""}),s.jsx("p",{className:"text-gray-700 italic text-sm mb-2",children:'"The best of people are those who are most beneficial to people."'}),s.jsx("p",{className:"text-gray-500 text-xs",children:"- Prophet Muhammad "})]})})})]}),s.jsx(te.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"md:col-span-2",children:s.jsxs(ne,{className:"shadow-2xl border-2 border-blue-300",children:[s.jsx(Fe,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:s.jsxs(Ve,{className:"text-2xl flex items-center gap-2",children:[s.jsx(_i,{className:"w-6 h-6"}),"Send us a Message"]})}),s.jsx(ie,{className:"p-6",children:i?s.jsxs(te.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"text-center py-12",children:[s.jsx(eh,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Message Sent! "}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Thank you for contacting us. We'll get back to you soon!"}),s.jsx(G,{onClick:()=>a(!1),variant:"outline",children:"Send Another Message"})]}):s.jsxs("form",{onSubmit:h,className:"space-y-5",children:[s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"name",className:"text-gray-700 font-semibold",children:"Your Name *"}),s.jsx(Te,{id:"name",type:"text",value:t.name,onChange:m=>e({...t,name:m.target.value}),placeholder:"Enter your name",required:!0,className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"email",className:"text-gray-700 font-semibold",children:"Your Email *"}),s.jsx(Te,{id:"email",type:"email",value:t.email,onChange:m=>e({...t,email:m.target.value}),placeholder:"your.email@example.com",required:!0,className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"subject",className:"text-gray-700 font-semibold",children:"Subject *"}),s.jsx(Te,{id:"subject",type:"text",value:t.subject,onChange:m=>e({...t,subject:m.target.value}),placeholder:"What is this about?",required:!0,className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"message",className:"text-gray-700 font-semibold",children:"Message *"}),s.jsx(In,{id:"message",value:t.message,onChange:m=>e({...t,message:m.target.value}),placeholder:"Tell us more about your question or feedback...",required:!0,rows:6,className:"mt-1"})]}),s.jsx(G,{type:"submit",disabled:n,className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-lg py-6",children:n?s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Sending..."]}):s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(bx,{className:"w-5 h-5"}),"Send Message"]})})]})})]})})]})]})})}const MI=[{id:"bismillah",category:"Daily",title:"Before Eating",arabic:" ",transliteration:"Bismillah",translation:"In the name of Allah",audio:null},{id:"alhamdulillah",category:"Daily",title:"After Eating",arabic:" ",transliteration:"Alhamdulillah",translation:"All praise is for Allah",audio:null},{id:"morning",category:"Morning",title:"Morning Dua",arabic:"          ",transliteration:"Allahumma bika asbahna, wa bika amsayna, wa bika nahya, wa bika namutu, wa ilayka an-nushur",translation:"O Allah, by You we enter the morning, by You we enter the evening, by You we live, by You we die, and to You is the resurrection",audio:null},{id:"sleep",category:"Bedtime",title:"Before Sleeping",arabic:"   ",transliteration:"Bismika Allahumma amutu wa ahya",translation:"In Your name O Allah, I die and I live",audio:null},{id:"travel",category:"Travel",title:"Traveling Dua",arabic:"        ",transliteration:"Subhanal-ladhi sakhkhara lana hadha wa ma kunna lahu muqrinin",translation:"Glory to Him who has subjected this to us, and we could not have done it ourselves",audio:null},{id:"entering_home",category:"Daily",title:"Entering Home",arabic:"      ",transliteration:"Allahumma inni as'aluka khayra al-mawliji wa khayra al-makhraji",translation:"O Allah, I ask You for the best entering and the best leaving",audio:null}],dme=["All","Daily","Morning","Bedtime","Travel"];function o3(){const[t,e]=v.useState("All"),[n,r]=v.useState([]),i=t==="All"?MI:MI.filter(o=>o.category===t),a=o=>{n.includes(o)?r(n.filter(c=>c!==o)):r([...n,o])};return s.jsx("div",{className:"min-h-screen py-8 md:py-12 px-2 md:px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8 px-2",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-gray-900 mb-4",children:"Daily Duas"}),s.jsx("p",{className:"text-base md:text-lg text-gray-600",children:"Learn and memorize essential Islamic supplications"})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-8 justify-center",children:dme.map(o=>s.jsx(G,{onClick:()=>e(o),variant:t===o?"default":"outline",className:t===o?"bg-blue-600":"",children:o},o))}),s.jsx("div",{className:"space-y-6",children:i.map((o,c)=>s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:c*.1},children:s.jsxs(ne,{className:"shadow-lg hover:shadow-xl transition-all duration-300",children:[s.jsx(Fe,{children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(_e,{className:"bg-blue-100 text-blue-800",children:o.category}),s.jsx(Ve,{className:"text-xl",children:o.title})]})}),s.jsx(G,{variant:"ghost",size:"icon",onClick:()=>a(o.id),className:n.includes(o.id)?"text-red-500":"text-gray-400",children:s.jsx(th,{className:`w-5 h-5 ${n.includes(o.id)?"fill-current":""}`})})]})}),s.jsxs(ie,{className:"space-y-4",children:[s.jsx("div",{className:"text-center",children:s.jsx("p",{className:"text-2xl md:text-3xl text-right mb-2",style:{fontFamily:"serif",lineHeight:"1.8"},children:o.arabic})}),s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[s.jsx("p",{className:"font-semibold text-gray-700 mb-1",children:"Transliteration:"}),s.jsx("p",{className:"text-gray-800 italic",children:o.transliteration})]}),s.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[s.jsx("p",{className:"font-semibold text-gray-700 mb-1",children:"Translation:"}),s.jsx("p",{className:"text-gray-800",children:o.translation})]})]})]})},o.id))}),s.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-12",children:s.jsx(ne,{className:"border-2 border-amber-200 bg-gradient-to-br from-amber-50 to-orange-50",children:s.jsxs(ie,{className:"p-8 text-center",children:[s.jsx("div",{className:"text-5xl mb-4",children:""}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Keep Making Dua!"}),s.jsx("p",{className:"text-gray-700 max-w-2xl mx-auto",children:'The Prophet Muhammad  said: "Dua is the essence of worship." Keep these duas in your daily routine and teach them to others!'})]})})})]})})}function hme(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}Array(12).fill(0);let sj=1;class mme{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...i}=e,a=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:sj++,o=this.toasts.find(d=>d.id===a),c=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),o?this.toasts=this.toasts.map(d=>d.id===a?(this.publish({...d,...e,id:a,title:r}),{...d,...e,id:a,dismissible:c,title:r}):d):this.addToast({title:r,...i,dismissible:c,id:a}),a},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let a=r!==void 0,o;const c=i.then(async h=>{if(o=["resolve",h],wn.isValidElement(h))a=!1,this.create({id:r,type:"default",message:h});else if(pme(h)&&!h.ok){a=!1;const f=typeof n.error=="function"?await n.error(`HTTP error! status: ${h.status}`):n.error,g=typeof n.description=="function"?await n.description(`HTTP error! status: ${h.status}`):n.description,N=typeof f=="object"&&!wn.isValidElement(f)?f:{message:f};this.create({id:r,type:"error",description:g,...N})}else if(h instanceof Error){a=!1;const f=typeof n.error=="function"?await n.error(h):n.error,g=typeof n.description=="function"?await n.description(h):n.description,N=typeof f=="object"&&!wn.isValidElement(f)?f:{message:f};this.create({id:r,type:"error",description:g,...N})}else if(n.success!==void 0){a=!1;const f=typeof n.success=="function"?await n.success(h):n.success,g=typeof n.description=="function"?await n.description(h):n.description,N=typeof f=="object"&&!wn.isValidElement(f)?f:{message:f};this.create({id:r,type:"success",description:g,...N})}}).catch(async h=>{if(o=["reject",h],n.error!==void 0){a=!1;const m=typeof n.error=="function"?await n.error(h):n.error,f=typeof n.description=="function"?await n.description(h):n.description,x=typeof m=="object"&&!wn.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:f,...x})}}).finally(()=>{a&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),d=()=>new Promise((h,m)=>c.then(()=>o[0]==="reject"?m(o[1]):h(o[1])).catch(m));return typeof r!="string"&&typeof r!="number"?{unwrap:d}:Object.assign(r,{unwrap:d})},this.custom=(e,n)=>{const r=(n==null?void 0:n.id)||sj++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Gs=new mme,fme=(t,e)=>{const n=(e==null?void 0:e.id)||sj++;return Gs.addToast({title:t,...e,id:n}),n},pme=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",gme=fme,xme=()=>Gs.toasts,yme=()=>Gs.getActiveToasts(),St=Object.assign(gme,{success:Gs.success,info:Gs.info,warning:Gs.warning,error:Gs.error,custom:Gs.custom,message:Gs.message,promise:Gs.promise,dismiss:Gs.dismiss,loading:Gs.loading},{getHistory:xme,getToasts:yme});hme("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function OI(t,[e,n]){return Math.min(n,Math.max(e,t))}function vme(t){const e=bme(t),n=v.forwardRef((r,i)=>{const{children:a,...o}=r,c=v.Children.toArray(a),d=c.find(jme);if(d){const h=d.props.children,m=c.map(f=>f===d?v.Children.count(h)>1?v.Children.only(null):v.isValidElement(h)?h.props.children:null:f);return s.jsx(e,{...o,ref:i,children:v.isValidElement(h)?v.cloneElement(h,void 0,m):null})}return s.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function bme(t){const e=v.forwardRef((n,r)=>{const{children:i,...a}=n;if(v.isValidElement(i)){const o=Nme(i),c=_me(a,i.props);return i.type!==v.Fragment&&(c.ref=r?vo(r,o):o),v.cloneElement(i,c)}return v.Children.count(i)>1?v.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var wme=Symbol("radix.slottable");function jme(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===wme}function _me(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...c)=>{const d=a(...c);return i(...c),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function Nme(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var l3=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Sme="VisuallyHidden",Eme=v.forwardRef((t,e)=>s.jsx(Ct.span,{...t,ref:e,style:{...l3,...t.style}}));Eme.displayName=Sme;var Cme=[" ","Enter","ArrowUp","ArrowDown"],kme=[" ","Enter"],eu="Select",[d0,h0,Tme]=a_(eu),[wh]=bo(eu,[Tme,Cy]),m0=Cy(),[Ame,Hl]=wh(eu),[Ime,Rme]=wh(eu),c3=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:a,value:o,defaultValue:c,onValueChange:d,dir:h,name:m,autoComplete:f,disabled:g,required:x,form:N}=t,w=m0(e),[j,_]=v.useState(null),[E,k]=v.useState(null),[C,R]=v.useState(!1),F=o_(h),[D,P]=Bc({prop:r,defaultProp:i??!1,onChange:a,caller:eu}),[I,O]=Bc({prop:o,defaultProp:c,onChange:d,caller:eu}),V=v.useRef(null),L=j?N||!!j.closest("form"):!0,[U,ee]=v.useState(new Set),re=Array.from(U).map(he=>he.props.value).join(";");return s.jsx(U4,{...w,children:s.jsxs(Ame,{required:x,scope:e,trigger:j,onTriggerChange:_,valueNode:E,onValueNodeChange:k,valueNodeHasChildren:C,onValueNodeHasChildrenChange:R,contentId:Za(),value:I,onValueChange:O,open:D,onOpenChange:P,dir:F,triggerPointerDownPosRef:V,disabled:g,children:[s.jsx(d0.Provider,{scope:e,children:s.jsx(Ime,{scope:t.__scopeSelect,onNativeOptionAdd:v.useCallback(he=>{ee(ae=>new Set(ae).add(he))},[]),onNativeOptionRemove:v.useCallback(he=>{ee(ae=>{const Q=new Set(ae);return Q.delete(he),Q})},[]),children:n})}),L?s.jsxs(P3,{"aria-hidden":!0,required:x,tabIndex:-1,name:m,autoComplete:f,value:I,onChange:he=>O(he.target.value),disabled:g,form:N,children:[I===void 0?s.jsx("option",{value:""}):null,Array.from(U)]},re):null]})})};c3.displayName=eu;var u3="SelectTrigger",d3=v.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,a=m0(n),o=Hl(u3,n),c=o.disabled||r,d=Ht(e,o.onTriggerChange),h=h0(n),m=v.useRef("touch"),[f,g,x]=M3(w=>{const j=h().filter(k=>!k.disabled),_=j.find(k=>k.value===o.value),E=O3(j,w,_);E!==void 0&&o.onValueChange(E.value)}),N=w=>{c||(o.onOpenChange(!0),x()),w&&(o.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return s.jsx(z4,{asChild:!0,...a,children:s.jsx(Ct.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":D3(o.value)?"":void 0,...i,ref:d,onClick:Je(i.onClick,w=>{w.currentTarget.focus(),m.current!=="mouse"&&N(w)}),onPointerDown:Je(i.onPointerDown,w=>{m.current=w.pointerType;const j=w.target;j.hasPointerCapture(w.pointerId)&&j.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(N(w),w.preventDefault())}),onKeyDown:Je(i.onKeyDown,w=>{const j=f.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&g(w.key),!(j&&w.key===" ")&&Cme.includes(w.key)&&(N(),w.preventDefault())})})})});d3.displayName=u3;var h3="SelectValue",m3=v.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:a,placeholder:o="",...c}=t,d=Hl(h3,n),{onValueNodeHasChildrenChange:h}=d,m=a!==void 0,f=Ht(e,d.onValueNodeChange);return sr(()=>{h(m)},[h,m]),s.jsx(Ct.span,{...c,ref:f,style:{pointerEvents:"none"},children:D3(d.value)?s.jsx(s.Fragment,{children:o}):a})});m3.displayName=h3;var Pme="SelectIcon",f3=v.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return s.jsx(Ct.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});f3.displayName=Pme;var Dme="SelectPortal",p3=t=>s.jsx(ky,{asChild:!0,...t});p3.displayName=Dme;var tu="SelectContent",g3=v.forwardRef((t,e)=>{const n=Hl(tu,t.__scopeSelect),[r,i]=v.useState();if(sr(()=>{i(new DocumentFragment)},[]),!n.open){const a=r;return a?Rf.createPortal(s.jsx(x3,{scope:t.__scopeSelect,children:s.jsx(d0.Slot,{scope:t.__scopeSelect,children:s.jsx("div",{children:t.children})})}),a):null}return s.jsx(y3,{...t,ref:e})});g3.displayName=tu;var yi=10,[x3,Wl]=wh(tu),Mme="SelectContentImpl",Ome=vme("SelectContent.RemoveScroll"),y3=v.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:c,sideOffset:d,align:h,alignOffset:m,arrowPadding:f,collisionBoundary:g,collisionPadding:x,sticky:N,hideWhenDetached:w,avoidCollisions:j,..._}=t,E=Hl(tu,n),[k,C]=v.useState(null),[R,F]=v.useState(null),D=Ht(e,ge=>C(ge)),[P,I]=v.useState(null),[O,V]=v.useState(null),L=h0(n),[U,ee]=v.useState(!1),re=v.useRef(!1);v.useEffect(()=>{if(k)return y_(k)},[k]),l_();const he=v.useCallback(ge=>{const[Se,...De]=L().map(ft=>ft.ref.current),[ze]=De.slice(-1),qe=document.activeElement;for(const ft of ge)if(ft===qe||(ft==null||ft.scrollIntoView({block:"nearest"}),ft===Se&&R&&(R.scrollTop=0),ft===ze&&R&&(R.scrollTop=R.scrollHeight),ft==null||ft.focus(),document.activeElement!==qe))return},[L,R]),ae=v.useCallback(()=>he([P,k]),[he,P,k]);v.useEffect(()=>{U&&ae()},[U,ae]);const{onOpenChange:Q,triggerPointerDownPosRef:q}=E;v.useEffect(()=>{if(k){let ge={x:0,y:0};const Se=ze=>{var qe,ft;ge={x:Math.abs(Math.round(ze.pageX)-(((qe=q.current)==null?void 0:qe.x)??0)),y:Math.abs(Math.round(ze.pageY)-(((ft=q.current)==null?void 0:ft.y)??0))}},De=ze=>{ge.x<=10&&ge.y<=10?ze.preventDefault():k.contains(ze.target)||Q(!1),document.removeEventListener("pointermove",Se),q.current=null};return q.current!==null&&(document.addEventListener("pointermove",Se),document.addEventListener("pointerup",De,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Se),document.removeEventListener("pointerup",De,{capture:!0})}}},[k,Q,q]),v.useEffect(()=>{const ge=()=>Q(!1);return window.addEventListener("blur",ge),window.addEventListener("resize",ge),()=>{window.removeEventListener("blur",ge),window.removeEventListener("resize",ge)}},[Q]);const[B,$]=M3(ge=>{const Se=L().filter(qe=>!qe.disabled),De=Se.find(qe=>qe.ref.current===document.activeElement),ze=O3(Se,ge,De);ze&&setTimeout(()=>ze.ref.current.focus())}),Z=v.useCallback((ge,Se,De)=>{const ze=!re.current&&!De;(E.value!==void 0&&E.value===Se||ze)&&(I(ge),ze&&(re.current=!0))},[E.value]),H=v.useCallback(()=>k==null?void 0:k.focus(),[k]),me=v.useCallback((ge,Se,De)=>{const ze=!re.current&&!De;(E.value!==void 0&&E.value===Se||ze)&&V(ge)},[E.value]),je=r==="popper"?ij:v3,Ae=je===ij?{side:c,sideOffset:d,align:h,alignOffset:m,arrowPadding:f,collisionBoundary:g,collisionPadding:x,sticky:N,hideWhenDetached:w,avoidCollisions:j}:{};return s.jsx(x3,{scope:n,content:k,viewport:R,onViewportChange:F,itemRefCallback:Z,selectedItem:P,onItemLeave:H,itemTextRefCallback:me,focusSelectedItem:ae,selectedItemText:O,position:r,isPositioned:U,searchRef:B,children:s.jsx(Ay,{as:Ome,allowPinchZoom:!0,children:s.jsx(jy,{asChild:!0,trapped:E.open,onMountAutoFocus:ge=>{ge.preventDefault()},onUnmountAutoFocus:Je(i,ge=>{var Se;(Se=E.trigger)==null||Se.focus({preventScroll:!0}),ge.preventDefault()}),children:s.jsx(wy,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:ge=>ge.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:s.jsx(je,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:ge=>ge.preventDefault(),..._,...Ae,onPlaced:()=>ee(!0),ref:D,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:Je(_.onKeyDown,ge=>{const Se=ge.ctrlKey||ge.altKey||ge.metaKey;if(ge.key==="Tab"&&ge.preventDefault(),!Se&&ge.key.length===1&&$(ge.key),["ArrowUp","ArrowDown","Home","End"].includes(ge.key)){let ze=L().filter(qe=>!qe.disabled).map(qe=>qe.ref.current);if(["ArrowUp","End"].includes(ge.key)&&(ze=ze.slice().reverse()),["ArrowUp","ArrowDown"].includes(ge.key)){const qe=ge.target,ft=ze.indexOf(qe);ze=ze.slice(ft+1)}setTimeout(()=>he(ze)),ge.preventDefault()}})})})})})})});y3.displayName=Mme;var Lme="SelectItemAlignedPosition",v3=v.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,a=Hl(tu,n),o=Wl(tu,n),[c,d]=v.useState(null),[h,m]=v.useState(null),f=Ht(e,D=>m(D)),g=h0(n),x=v.useRef(!1),N=v.useRef(!0),{viewport:w,selectedItem:j,selectedItemText:_,focusSelectedItem:E}=o,k=v.useCallback(()=>{if(a.trigger&&a.valueNode&&c&&h&&w&&j&&_){const D=a.trigger.getBoundingClientRect(),P=h.getBoundingClientRect(),I=a.valueNode.getBoundingClientRect(),O=_.getBoundingClientRect();if(a.dir!=="rtl"){const qe=O.left-P.left,ft=I.left-qe,Jt=D.left-ft,Cn=D.width+Jt,wr=Math.max(Cn,P.width),Bn=window.innerWidth-yi,Jn=OI(ft,[yi,Math.max(yi,Bn-wr)]);c.style.minWidth=Cn+"px",c.style.left=Jn+"px"}else{const qe=P.right-O.right,ft=window.innerWidth-I.right-qe,Jt=window.innerWidth-D.right-ft,Cn=D.width+Jt,wr=Math.max(Cn,P.width),Bn=window.innerWidth-yi,Jn=OI(ft,[yi,Math.max(yi,Bn-wr)]);c.style.minWidth=Cn+"px",c.style.right=Jn+"px"}const V=g(),L=window.innerHeight-yi*2,U=w.scrollHeight,ee=window.getComputedStyle(h),re=parseInt(ee.borderTopWidth,10),he=parseInt(ee.paddingTop,10),ae=parseInt(ee.borderBottomWidth,10),Q=parseInt(ee.paddingBottom,10),q=re+he+U+Q+ae,B=Math.min(j.offsetHeight*5,q),$=window.getComputedStyle(w),Z=parseInt($.paddingTop,10),H=parseInt($.paddingBottom,10),me=D.top+D.height/2-yi,je=L-me,Ae=j.offsetHeight/2,ge=j.offsetTop+Ae,Se=re+he+ge,De=q-Se;if(Se<=me){const qe=V.length>0&&j===V[V.length-1].ref.current;c.style.bottom="0px";const ft=h.clientHeight-w.offsetTop-w.offsetHeight,Jt=Math.max(je,Ae+(qe?H:0)+ft+ae),Cn=Se+Jt;c.style.height=Cn+"px"}else{const qe=V.length>0&&j===V[0].ref.current;c.style.top="0px";const Jt=Math.max(me,re+w.offsetTop+(qe?Z:0)+Ae)+De;c.style.height=Jt+"px",w.scrollTop=Se-me+w.offsetTop}c.style.margin=`${yi}px 0`,c.style.minHeight=B+"px",c.style.maxHeight=L+"px",r==null||r(),requestAnimationFrame(()=>x.current=!0)}},[g,a.trigger,a.valueNode,c,h,w,j,_,a.dir,r]);sr(()=>k(),[k]);const[C,R]=v.useState();sr(()=>{h&&R(window.getComputedStyle(h).zIndex)},[h]);const F=v.useCallback(D=>{D&&N.current===!0&&(k(),E==null||E(),N.current=!1)},[k,E]);return s.jsx(Vme,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:x,onScrollButtonChange:F,children:s.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:s.jsx(Ct.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});v3.displayName=Lme;var Fme="SelectPopperPosition",ij=v.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=yi,...a}=t,o=m0(n);return s.jsx(B4,{...o,...a,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ij.displayName=Fme;var[Vme,rS]=wh(tu,{}),aj="SelectViewport",b3=v.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,a=Wl(aj,n),o=rS(aj,n),c=Ht(e,a.onViewportChange),d=v.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),s.jsx(d0.Slot,{scope:n,children:s.jsx(Ct.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Je(i.onScroll,h=>{const m=h.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:g}=o;if(g!=null&&g.current&&f){const x=Math.abs(d.current-m.scrollTop);if(x>0){const N=window.innerHeight-yi*2,w=parseFloat(f.style.minHeight),j=parseFloat(f.style.height),_=Math.max(w,j);if(_<N){const E=_+x,k=Math.min(N,E),C=E-k;f.style.height=k+"px",f.style.bottom==="0px"&&(m.scrollTop=C>0?C:0,f.style.justifyContent="flex-end")}}}d.current=m.scrollTop})})})]})});b3.displayName=aj;var w3="SelectGroup",[Ume,zme]=wh(w3),Bme=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Za();return s.jsx(Ume,{scope:n,id:i,children:s.jsx(Ct.div,{role:"group","aria-labelledby":i,...r,ref:e})})});Bme.displayName=w3;var j3="SelectLabel",_3=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=zme(j3,n);return s.jsx(Ct.div,{id:i.id,...r,ref:e})});_3.displayName=j3;var ay="SelectItem",[$me,N3]=wh(ay),S3=v.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:a,...o}=t,c=Hl(ay,n),d=Wl(ay,n),h=c.value===r,[m,f]=v.useState(a??""),[g,x]=v.useState(!1),N=Ht(e,E=>{var k;return(k=d.itemRefCallback)==null?void 0:k.call(d,E,r,i)}),w=Za(),j=v.useRef("touch"),_=()=>{i||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx($me,{scope:n,value:r,disabled:i,textId:w,isSelected:h,onItemTextChange:v.useCallback(E=>{f(k=>k||((E==null?void 0:E.textContent)??"").trim())},[]),children:s.jsx(d0.ItemSlot,{scope:n,value:r,disabled:i,textValue:m,children:s.jsx(Ct.div,{role:"option","aria-labelledby":w,"data-highlighted":g?"":void 0,"aria-selected":h&&g,"data-state":h?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:N,onFocus:Je(o.onFocus,()=>x(!0)),onBlur:Je(o.onBlur,()=>x(!1)),onClick:Je(o.onClick,()=>{j.current!=="mouse"&&_()}),onPointerUp:Je(o.onPointerUp,()=>{j.current==="mouse"&&_()}),onPointerDown:Je(o.onPointerDown,E=>{j.current=E.pointerType}),onPointerMove:Je(o.onPointerMove,E=>{var k;j.current=E.pointerType,i?(k=d.onItemLeave)==null||k.call(d):j.current==="mouse"&&E.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Je(o.onPointerLeave,E=>{var k;E.currentTarget===document.activeElement&&((k=d.onItemLeave)==null||k.call(d))}),onKeyDown:Je(o.onKeyDown,E=>{var C;((C=d.searchRef)==null?void 0:C.current)!==""&&E.key===" "||(kme.includes(E.key)&&_(),E.key===" "&&E.preventDefault())})})})})});S3.displayName=ay;var Cm="SelectItemText",E3=v.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...a}=t,o=Hl(Cm,n),c=Wl(Cm,n),d=N3(Cm,n),h=Rme(Cm,n),[m,f]=v.useState(null),g=Ht(e,_=>f(_),d.onItemTextChange,_=>{var E;return(E=c.itemTextRefCallback)==null?void 0:E.call(c,_,d.value,d.disabled)}),x=m==null?void 0:m.textContent,N=v.useMemo(()=>s.jsx("option",{value:d.value,disabled:d.disabled,children:x},d.value),[d.disabled,d.value,x]),{onNativeOptionAdd:w,onNativeOptionRemove:j}=h;return sr(()=>(w(N),()=>j(N)),[w,j,N]),s.jsxs(s.Fragment,{children:[s.jsx(Ct.span,{id:d.textId,...a,ref:g}),d.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Rf.createPortal(a.children,o.valueNode):null]})});E3.displayName=Cm;var C3="SelectItemIndicator",k3=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return N3(C3,n).isSelected?s.jsx(Ct.span,{"aria-hidden":!0,...r,ref:e}):null});k3.displayName=C3;var oj="SelectScrollUpButton",T3=v.forwardRef((t,e)=>{const n=Wl(oj,t.__scopeSelect),r=rS(oj,t.__scopeSelect),[i,a]=v.useState(!1),o=Ht(e,r.onScrollButtonChange);return sr(()=>{if(n.viewport&&n.isPositioned){let c=function(){const h=d.scrollTop>0;a(h)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),i?s.jsx(I3,{...t,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});T3.displayName=oj;var lj="SelectScrollDownButton",A3=v.forwardRef((t,e)=>{const n=Wl(lj,t.__scopeSelect),r=rS(lj,t.__scopeSelect),[i,a]=v.useState(!1),o=Ht(e,r.onScrollButtonChange);return sr(()=>{if(n.viewport&&n.isPositioned){let c=function(){const h=d.scrollHeight-d.clientHeight,m=Math.ceil(d.scrollTop)<h;a(m)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),i?s.jsx(I3,{...t,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});A3.displayName=lj;var I3=v.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,a=Wl("SelectScrollButton",n),o=v.useRef(null),c=h0(n),d=v.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return v.useEffect(()=>()=>d(),[d]),sr(()=>{var m;const h=c().find(f=>f.ref.current===document.activeElement);(m=h==null?void 0:h.ref.current)==null||m.scrollIntoView({block:"nearest"})},[c]),s.jsx(Ct.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Je(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Je(i.onPointerMove,()=>{var h;(h=a.onItemLeave)==null||h.call(a),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Je(i.onPointerLeave,()=>{d()})})}),qme="SelectSeparator",R3=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return s.jsx(Ct.div,{"aria-hidden":!0,...r,ref:e})});R3.displayName=qme;var cj="SelectArrow",Hme=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=m0(n),a=Hl(cj,n),o=Wl(cj,n);return a.open&&o.position==="popper"?s.jsx($4,{...i,...r,ref:e}):null});Hme.displayName=cj;var Wme="SelectBubbleInput",P3=v.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=v.useRef(null),a=Ht(r,i),o=ZN(e);return v.useEffect(()=>{const c=i.current;if(!c)return;const d=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(o!==e&&m){const f=new Event("change",{bubbles:!0});m.call(c,e),c.dispatchEvent(f)}},[o,e]),s.jsx(Ct.select,{...n,style:{...l3,...n.style},ref:a,defaultValue:e})});P3.displayName=Wme;function D3(t){return t===""||t===void 0}function M3(t){const e=Ni(t),n=v.useRef(""),r=v.useRef(0),i=v.useCallback(o=>{const c=n.current+o;e(c),(function d(h){n.current=h,window.clearTimeout(r.current),h!==""&&(r.current=window.setTimeout(()=>d(""),1e3))})(c)},[e]),a=v.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,a]}function O3(t,e,n){const i=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let o=Kme(t,Math.max(a,0));i.length===1&&(o=o.filter(h=>h!==n));const d=o.find(h=>h.textValue.toLowerCase().startsWith(i.toLowerCase()));return d!==n?d:void 0}function Kme(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Gme=c3,L3=d3,Qme=m3,Yme=f3,Jme=p3,F3=g3,Xme=b3,V3=_3,U3=S3,Zme=E3,efe=k3,z3=T3,B3=A3,$3=R3;const en=Gme,tn=Qme,Kt=v.forwardRef(({className:t,children:e,...n},r)=>s.jsxs(L3,{ref:r,className:ct("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,s.jsx(Yme,{asChild:!0,children:s.jsx(Gm,{className:"h-4 w-4 opacity-50"})})]}));Kt.displayName=L3.displayName;const q3=v.forwardRef(({className:t,...e},n)=>s.jsx(z3,{ref:n,className:ct("flex cursor-default items-center justify-center py-1",t),...e,children:s.jsx(kR,{className:"h-4 w-4"})}));q3.displayName=z3.displayName;const H3=v.forwardRef(({className:t,...e},n)=>s.jsx(B3,{ref:n,className:ct("flex cursor-default items-center justify-center py-1",t),...e,children:s.jsx(Gm,{className:"h-4 w-4"})}));H3.displayName=B3.displayName;const Gt=v.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>s.jsx(Jme,{children:s.jsxs(F3,{ref:i,className:ct("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[s.jsx(q3,{}),s.jsx(Xme,{className:ct("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),s.jsx(H3,{})]})}));Gt.displayName=F3.displayName;const tfe=v.forwardRef(({className:t,...e},n)=>s.jsx(V3,{ref:n,className:ct("px-2 py-1.5 text-sm font-semibold",t),...e}));tfe.displayName=V3.displayName;const Re=v.forwardRef(({className:t,children:e,...n},r)=>s.jsxs(U3,{ref:r,className:ct("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[s.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(efe,{children:s.jsx(Km,{className:"h-4 w-4"})})}),s.jsx(Zme,{children:e})]}));Re.displayName=U3.displayName;const nfe=v.forwardRef(({className:t,...e},n)=>s.jsx($3,{ref:n,className:ct("-mx-1 my-1 h-px bg-muted",t),...e}));nfe.displayName=$3.displayName;function W3(){const[t,e]=v.useState(!1),[n,r]=v.useState(null),[i,a]=v.useState(null),[o,c]=v.useState(null),[d,h]=v.useState("quran"),[m,f]=v.useState(!1),[g,x]=v.useState(null),[N,w]=v.useState(!1),[j,_]=v.useState(null),[E,k]=v.useState(0),[C,R]=v.useState(null);v.useEffect(()=>{F()},[]),v.useEffect(()=>{if(i&&g&&g.pause(),i){const L=new Audio(i);x(L),L.onended=()=>{f(!1)}}},[i,g]);const F=async()=>{try{if(!await yt.auth.isAuthenticated()){St.error("Please log in to record and share");return}const U=await yt.auth.me();_(U)}catch(L){console.error("Error loading user:",L),St.error("Failed to load user data.")}},D=async()=>{try{const L=await navigator.mediaDevices.getUserMedia({audio:!0}),U=new MediaRecorder(L),ee=[];U.ondataavailable=he=>{ee.push(he.data)},U.onstop=()=>{const he=new Blob(ee,{type:"audio/webm"});r(he),a(URL.createObjectURL(he)),L.getTracks().forEach(ae=>ae.stop())},U.start(),c(U),e(!0),k(0);const re=setInterval(()=>{k(he=>he+1)},1e3);R(re),St.success("Recording started! ")}catch(L){console.error("Error accessing microphone:",L),St.error("Could not access microphone. Please check permissions.")}},P=()=>{o&&t&&(o.stop(),e(!1),C&&(clearInterval(C),R(null)),St.success("Recording stopped!"))},I=()=>{g&&(m?(g.pause(),f(!1)):(g.play(),f(!0)))},O=async()=>{if(!n||!j){St.error("Please record something first and make sure you're logged in");return}w(!0);try{const L=new File([n],`recording-${Date.now()}.webm`,{type:"audio/webm"}),{file_url:U}=await yt.integrations.Core.UploadFile({file:L});await yt.entities.Recording.create({user_id:j.id,user_name:j.full_name||j.email,user_email:j.email,recording_type:d,file_url:U,duration:Math.floor(E),status:"pending"});const ee=j.points||0;await yt.auth.updateMe({points:ee+10}),_({...j,points:ee+10}),r(null),a(null),k(0),g&&(g.pause(),x(null),f(!1)),St.success(" Recording submitted! You earned 10 points!",{duration:5e3,description:"Your recording will be reviewed by our team. Keep up the great work!"});try{await yt.integrations.Core.SendEmail({from_name:"Islam Kids Zone",to:"huzaify786@gmail.com",subject:" New Audio Recording Submitted",body:`
            <div style="font-family: Arial, sans-serif; padding: 20px; background-color: #f3f4f6; border-radius: 10px;">
              <h2 style="color: #3B82F6;"> New Recording Submitted!</h2>
              <div style="background-color: white; padding: 20px; border-radius: 8px; margin-top: 20px;">
                <p><strong> Submitted by:</strong> ${j.full_name||j.email}</p>
                <p><strong> Email:</strong> ${j.email}</p>
                <p><strong> Type:</strong> ${d}</p>
                <p><strong> Duration:</strong> ${Math.floor(E/60)}:${String(E%60).padStart(2,"0")}</p>
                <p><strong> File URL:</strong> <a href="${U}">${U}</a></p>
                <p><strong> Points Awarded:</strong> 10 points</p>
                <p><strong> Submitted:</strong> ${new Date().toLocaleString()}</p>
              </div>
              <hr style="margin: 20px 0; border: none; border-top: 1px solid #e5e7eb;">
              <p style="color: #6b7280; font-size: 12px; text-align: center;">
                Please review this recording in the admin dashboard.
              </p>
            </div>
          `})}catch(re){console.error("Error sending notification email:",re),St.warning("Notification email to admin failed, but recording was submitted.")}}catch(L){console.error("Error uploading recording:",L),St.error("Failed to upload recording. Please try again.")}finally{w(!1)}},V=L=>{const U=Math.floor(L/60),ee=L%60;return`${U}:${String(ee).padStart(2,"0")}`};return j?s.jsx("div",{className:"min-h-screen py-8 px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Record & Share"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Share your beautiful Quran recitation, nasheed, or Islamic story"})]}),s.jsx(te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-8",children:s.jsx(ne,{className:"border-4 border-amber-400 bg-gradient-to-r from-amber-50 to-yellow-50",children:s.jsx(ie,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-16 h-16 bg-amber-500 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx(Dd,{className:"w-8 h-8 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-2 flex items-center gap-2",children:[s.jsx(fn,{className:"w-6 h-6 text-amber-600 fill-amber-600"}),s.jsx("span",{children:"Earn 10 Points!"})]}),s.jsxs("p",{className:"text-gray-700 font-medium",children:["Submit a recording and earn ",s.jsx("strong",{children:"10 points"})," instantly! Your recordings help inspire other kids."]})]})]})})})}),s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:s.jsx(ne,{className:"bg-gradient-to-r from-blue-50 to-purple-50",children:s.jsx(ie,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Your Current Points"}),s.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[j.points||0," points"]})]}),s.jsx(fn,{className:"w-12 h-12 text-amber-500 fill-amber-500"})]})})})}),s.jsxs(ne,{className:"mb-8",children:[s.jsx(Fe,{children:s.jsx(Ve,{children:"What would you like to record?"})}),s.jsx(ie,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[s.jsxs("button",{onClick:()=>h("quran"),className:`p-6 rounded-xl border-2 transition-all ${d==="quran"?"border-green-500 bg-green-50":"border-gray-200 hover:border-green-300"}`,children:[s.jsx(Fn,{className:"w-8 h-8 mx-auto mb-3 text-green-600"}),s.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Quran Recitation"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Recite verses from the Quran"})]}),s.jsxs("button",{onClick:()=>h("nasheed"),className:`p-6 rounded-xl border-2 transition-all ${d==="nasheed"?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-purple-300"}`,children:[s.jsx(jw,{className:"w-8 h-8 mx-auto mb-3 text-purple-600"}),s.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Nasheed"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Sing an Islamic nasheed"})]}),s.jsxs("button",{onClick:()=>h("story"),className:`p-6 rounded-xl border-2 transition-all ${d==="story"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}`,children:[s.jsx(Fl,{className:"w-8 h-8 mx-auto mb-3 text-blue-600"}),s.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Islamic Story"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Tell an Islamic story"})]})]})})]}),s.jsxs(ne,{className:"mb-8",children:[s.jsx(Fe,{children:s.jsx(Ve,{children:"Recording Studio"})}),s.jsx(ie,{children:s.jsxs("div",{className:"text-center space-y-6",children:[(t||n)&&s.jsx("div",{className:"text-4xl font-mono font-bold text-gray-900",children:V(E)}),!n&&s.jsx(te.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:t?P:D,className:`w-24 h-24 rounded-full flex items-center justify-center transition-all shadow-xl ${t?"bg-red-500 hover:bg-red-600 animate-pulse":"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600"}`,"aria-label":t?"Stop Recording":"Start Recording",children:t?s.jsx(MR,{className:"w-10 h-10 text-white"}):s.jsx(Ym,{className:"w-10 h-10 text-white"})}),t&&s.jsx("p",{className:"text-red-500 font-semibold animate-pulse",children:" Recording in progress..."}),n&&s.jsxs("div",{className:"space-y-4",children:[s.jsx(_e,{className:"bg-green-500 text-white text-lg px-4 py-2",children:"Recording Complete! "}),s.jsxs("div",{className:"flex gap-4 justify-center",children:[s.jsx(G,{onClick:I,size:"lg",className:"bg-blue-600 hover:bg-blue-700","aria-label":m?"Pause Recording":"Play Recording",children:m?s.jsxs(s.Fragment,{children:[s.jsx(Ll,{className:"w-5 h-5 mr-2"}),"Pause"]}):s.jsxs(s.Fragment,{children:[s.jsx(dr,{className:"w-5 h-5 mr-2"}),"Play"]})}),s.jsx(G,{onClick:()=>{r(null),a(null),k(0),g&&(g.pause(),x(null),f(!1))},variant:"outline",size:"lg",children:"Record Again"})]}),s.jsx(G,{onClick:O,disabled:N,size:"lg",className:"w-full bg-gradient-to-r from-green-500 to-teal-500 hover:from-green-600 hover:to-teal-600 text-lg py-6",children:N?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Submitting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(jl,{className:"w-5 h-5 mr-2"}),"Submit & Earn 10 Points! "]})})]})]})})]}),s.jsxs(ne,{className:"border-2 border-blue-200",children:[s.jsx(Fe,{className:"bg-gradient-to-r from-blue-50 to-purple-50",children:s.jsx(Ve,{children:"Recording Tips "})}),s.jsx(ie,{className:"pt-6",children:s.jsxs("ul",{className:"space-y-3 text-gray-700",children:[s.jsxs("li",{className:"flex gap-3",children:[s.jsx("span",{className:"text-blue-600 font-bold",children:"1."}),s.jsx("span",{children:"Find a quiet place with no background noise"})]}),s.jsxs("li",{className:"flex gap-3",children:[s.jsx("span",{className:"text-blue-600 font-bold",children:"2."}),s.jsx("span",{children:"Speak clearly and at a comfortable pace"})]}),s.jsxs("li",{className:"flex gap-3",children:[s.jsx("span",{className:"text-blue-600 font-bold",children:"3."}),s.jsx("span",{children:"Hold your device about 6 inches from your mouth"})]}),s.jsxs("li",{className:"flex gap-3",children:[s.jsx("span",{className:"text-blue-600 font-bold",children:"4."}),s.jsx("span",{children:"Take your time and do your best - it's okay to record again!"})]}),s.jsxs("li",{className:"flex gap-3",children:[s.jsx("span",{className:"text-green-600 font-bold",children:"5."}),s.jsxs("span",{children:["Submit your recording and earn ",s.jsx("strong",{children:"10 points"})," automatically! "]})]})]})})]})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:s.jsx(ne,{className:"max-w-md",children:s.jsxs(ie,{className:"pt-6 text-center",children:[s.jsx(Ym,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Access Required"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Please email us to enable recording and sharing features."}),s.jsx(G,{onClick:()=>{const L=encodeURIComponent("Access Request - Record & Share"),U=encodeURIComponent("Hi, I'd like to enable recording features on Islam Kids Zone. My name is ____ and my contact details are ____.");window.location.href=`mailto:imediac786@gmail.com?subject=${L}&body=${U}`},children:"Email Us"})]})})})}function K3(){const[t,e]=v.useState(null),[n,r]=v.useState(!1),[i,a]=v.useState(!1),[o,c]=v.useState(null),[d,h]=v.useState(null),[m,f]=v.useState(!1),[g,x]=v.useState(!1),[N,w]=v.useState(""),j=v.useRef(null),_=v.useRef([]),E=v.useRef(null),k=v.useRef(null);v.useEffect(()=>{C(),R()},[]);const C=async()=>{try{if(await yt.auth.isAuthenticated()){const L=await yt.auth.me();e(L)}else e(null)}catch{e(null)}},R=()=>{try{const V=localStorage.getItem("siteSettings");if(V){const L=JSON.parse(V);w((L==null?void 0:L.recordingStudioText)||"Welcome to Islam Media Central Recording Studio. Please record Quran recitation, nasheeds, or Islamic messages with clarity and respect.")}else w("Welcome to Islam Media Central Recording Studio. Please record Quran recitation, nasheeds, or Islamic messages with clarity and respect.")}catch{w("Welcome to Islam Media Central Recording Studio. Please record Quran recitation, nasheeds, or Islamic messages with clarity and respect.")}},F=async()=>{try{a(!1);const V=await navigator.mediaDevices.getUserMedia({audio:!0}),L=new MediaRecorder(V);j.current=L,_.current=[],L.ondataavailable=U=>{U.data.size>0&&_.current.push(U.data)},L.onstop=()=>{const U=new Blob(_.current,{type:"audio/webm"});c(U);const ee=URL.createObjectURL(U);h(ee),V.getTracks().forEach(re=>re.stop())},E.current=Date.now(),L.start(),r(!0),St.success("Recording started")}catch(V){console.error("Error starting recording:",V),(V==null?void 0:V.name)==="NotAllowedError"&&a(!0),St.error("Could not access microphone. Please enable permissions.")}},D=()=>{j.current&&n&&(j.current.stop(),r(!1),St.success("Recording stopped"))},P=()=>{k.current&&d&&(k.current.currentTime=0,k.current.play())},I=()=>{c(null),h(null),_.current=[]},O=async()=>{if(!o){St.error("Please record audio first");return}if(!t){St.error("Please log in to submit your recording");return}f(!0);try{const V=E.current?Math.floor((Date.now()-E.current)/1e3):0,L=new File([o],`recording-${Date.now()}.webm`,{type:"audio/webm"}),{file_url:U}=await yt.integrations.Core.UploadFile({file:L}),ee=await yt.entities.Recording.create({user_id:t.id,user_name:t.full_name||t.email,user_email:t.email,recording_type:"studio",file_url:U,duration:V,status:"pending"});let re="imedia786@gmail.com";try{const he=localStorage.getItem("siteSettings");if(he){const ae=JSON.parse(he);ae!=null&&ae.supportEmail&&(re=ae.supportEmail)}}catch{}await yt.integrations.Core.SendEmail({from_name:"Islam Media Central",to:re,subject:" New Recording Submission",body:`
          <div style="font-family: Arial, sans-serif; max-width: 640px; margin: 0 auto; background: #ffffff; border-radius: 12px; overflow: hidden; border: 1px solid #e5e7eb;">
            <div style="padding: 24px; background: linear-gradient(135deg, #2563EB 0%, #60A5FA 100%); color: white;">
              <h2 style="margin: 0;">Islam Media Central Recording Studio</h2>
            </div>
            <div style="padding: 24px;">
              <p><strong>User:</strong> ${t.full_name||t.email}</p>
              <p><strong>Email:</strong> ${t.email}</p>
              <p><strong>Duration:</strong> ${Math.floor(V/60)}:${(V%60).toString().padStart(2,"0")} minutes</p>
              <p><strong>Recording ID:</strong> ${ee.id}</p>
              <div style="margin: 16px 0; padding: 12px; background: #EFF6FF; border-left: 4px solid #2563EB;">
                <a href="${U}" style="display:inline-block;padding:10px 16px;background:#2563EB;color:#fff;border-radius:8px;text-decoration:none;font-weight:bold">Download & Listen</a>
                <p style="margin-top:8px;font-size:12px;color:#6B7280">Direct link: ${U}</p>
              </div>
            </div>
          </div>
        `}),x(!0),St.success("Recording submitted successfully"),setTimeout(()=>{I(),x(!1)},2500)}catch(V){console.error("Error submitting recording:",V),St.error("Failed to submit recording")}finally{f(!1)}};return s.jsx("div",{className:"min-h-screen py-10 px-4 bg-gradient-to-br from-blue-50 to-white",children:s.jsxs("div",{className:"max-w-3xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("div",{className:"text-6xl mb-2",children:""}),s.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-blue-900",children:"Islam Media Central Recording Studio"}),s.jsx("p",{className:"text-blue-700",children:"Record directly in your browser and submit with one click."})]}),s.jsxs(ne,{className:"mb-6 border-blue-200",children:[s.jsx(Fe,{className:"bg-blue-600 text-white",children:s.jsx(Ve,{children:"Instructions & Guidelines"})}),s.jsx(ie,{className:"p-5",children:s.jsx("div",{className:"prose max-w-none",children:s.jsx("p",{className:"text-gray-800 whitespace-pre-line",children:N})})})]}),s.jsxs(ne,{className:"shadow-md border-blue-100",children:[s.jsx(Fe,{className:"bg-gradient-to-r from-blue-600 to-blue-500 text-white",children:s.jsxs(Ve,{className:"flex items-center gap-2",children:[s.jsx(Ym,{className:"w-5 h-5"})," Recording Controls"]})}),s.jsxs(ie,{className:"p-6",children:[i&&s.jsx("div",{className:"mb-4 p-3 rounded bg-red-50 text-red-700",children:"Microphone access denied. Please enable permissions in your browser settings."}),t?null:s.jsx("div",{className:"p-4 rounded bg-yellow-50 text-yellow-800 mb-4",children:"Please log in to submit recordings."}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsxs(G,{onClick:F,disabled:n,className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(Ym,{className:"w-4 h-4 mr-2"})," Start"]}),s.jsxs(G,{onClick:D,disabled:!n,variant:"outline",className:"border-blue-600 text-blue-600",children:[s.jsx(MR,{className:"w-4 h-4 mr-2"})," Stop"]}),s.jsxs(G,{onClick:P,disabled:!d,variant:"outline",className:"border-blue-600 text-blue-600",children:[s.jsx(dr,{className:"w-4 h-4 mr-2"})," Play"]}),s.jsxs(G,{onClick:O,disabled:!o||m||!t,className:"bg-green-600 hover:bg-green-700",children:[s.jsx(jl,{className:"w-4 h-4 mr-2"})," ",m?"Submitting...":"Submit"]})]}),s.jsx("div",{className:"mt-4",children:s.jsx("audio",{ref:k,src:d||void 0,controls:!0,className:"w-full"})}),g&&s.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},className:"mt-4 p-3 rounded bg-green-50 text-green-700",children:"Alhamdulillah! Your recording has been submitted."})]})]})]})})}function G3(){const[t,e]=v.useState(null),[n,r]=v.useState(null),[i,a]=v.useState(""),[o,c]=v.useState(50),[d,h]=v.useState(""),m=si(),{data:f=[],isLoading:g}=Un({queryKey:["recordings"],queryFn:()=>yt.entities.Recording.list("-created_date"),initialData:[]}),x=Nn({mutationFn:({id:F,data:D})=>yt.entities.Recording.update(F,D),onSuccess:()=>{m.invalidateQueries({queryKey:["recordings"]}),r(null)}});v.useEffect(()=>{try{const F=localStorage.getItem("siteSettings");if(F){const D=JSON.parse(F);h((D==null?void 0:D.recordingStudioText)||"")}}catch{}},[]);const N=()=>{try{const F=localStorage.getItem("siteSettings"),P={...F?JSON.parse(F):{},recordingStudioText:d};localStorage.setItem("siteSettings",JSON.stringify(P)),alert("Recording Studio text saved")}catch{alert("Failed to save text")}},w=async F=>{try{await x.mutateAsync({id:F.id,data:{status:"approved",admin_notes:i,points_awarded:o}});const P=(await yt.entities.User.list()).find(I=>I.id===F.user_id);P&&await yt.auth.updateMe({points:(P.points||0)+o}),await yt.integrations.Core.SendEmail({from_name:"Islam Kids Zone",to:F.user_email,subject:" Your Recording Has Been Approved!",body:`
          <div style="font-family: Arial, sans-serif; padding: 20px; background-color: #f3f4f6; border-radius: 10px;">
            <h2 style="color: #10B981;"> Masha'Allah! Your Recording is Approved!</h2>
            <div style="background-color: white; padding: 20px; border-radius: 8px; margin-top: 20px;">
              <p>Assalamu Alaikum <strong>${F.user_name}</strong>,</p>
              <p>Great news! Your ${F.recording_type} recording has been approved and featured on our website!</p>
              <p><strong> You've earned ${o} points!</strong></p>
              ${i?`<p><strong> Feedback:</strong> ${i}</p>`:""}
              <p>Keep up the amazing work! We can't wait to hear more from you.</p>
              <p style="margin-top: 20px;">Jazakallahu Khayran,<br>Islam Kids Zone Team</p>
            </div>
          </div>
        `}),alert("Recording approved and user notified!")}catch(D){console.error("Error approving recording:",D),alert("Error approving recording")}},j=async F=>{try{await x.mutateAsync({id:F.id,data:{status:"rejected",admin_notes:i}}),F.user_email&&await yt.integrations.Core.SendEmail({from_name:"Islam Kids Zone",to:F.user_email,subject:" Update on Your Recording Submission",body:`
            <div style="font-family: Arial, sans-serif; padding: 20px; background-color: #f3f4f6; border-radius: 10px;">
              <h2 style="color: #3B82F6;">Update on Your Recording</h2>
              <div style="background-color: white; padding: 20px; border-radius: 8px; margin-top: 20px;">
                <p>Assalamu Alaikum <strong>${F.user_name}</strong>,</p>
                <p>Thank you for submitting your ${F.recording_type} recording!</p>
                ${i?`<p><strong> Feedback:</strong> ${i}</p>`:""}
                <p>Don't be discouraged! Please feel free to submit another recording. We're here to help you improve!</p>
                <p style="margin-top: 20px;">Jazakallahu Khayran,<br>Islam Kids Zone Team</p>
              </div>
            </div>
          `}),alert("Recording rejected and user notified!")}catch(D){console.error("Error rejecting recording:",D),alert("Error rejecting recording")}},_=async F=>{var D,P;if(confirm("Delete this recording permanently?"))try{(P=(D=yt==null?void 0:yt.entities)==null?void 0:D.Recording)!=null&&P.delete?await yt.entities.Recording.delete(F.id):await x.mutateAsync({id:F.id,data:{status:"deleted"}}),m.invalidateQueries({queryKey:["recordings"]}),alert("Recording deleted")}catch(I){console.error("Error deleting recording:",I),alert("Failed to delete recording")}},E=F=>new Date(F).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),k=F=>{const D=Math.floor(F/60),P=F%60;return`${D}:${P.toString().padStart(2,"0")}`},C={pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",featured:"bg-purple-100 text-purple-800",rejected:"bg-red-100 text-red-800"},R={quran:"",nasheed:"",story:""};return s.jsx("div",{className:"min-h-screen py-12 px-4 bg-gradient-to-br from-blue-50 to-purple-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Recording Submissions"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Review and manage student recordings"})]}),s.jsxs(ne,{className:"mb-8",children:[s.jsx(Fe,{children:s.jsx(Ve,{children:"Recording Studio Page Text"})}),s.jsxs(ie,{className:"space-y-3",children:[s.jsx(In,{value:d,onChange:F=>h(F.target.value),className:"min-h-[120px]",placeholder:"Write instructions, motivational messages, or Quran/Nasheed guidelines for users..."}),s.jsx("div",{className:"flex gap-2",children:s.jsx(G,{onClick:N,className:"bg-blue-600 hover:bg-blue-700",children:"Save Text"})}),s.jsx("p",{className:"text-xs text-gray-500",children:"This text appears at the top of the Recording Studio page."})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsx(ne,{children:s.jsxs(ie,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl mb-2",children:""}),s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:f.length}),s.jsx("div",{className:"text-sm text-gray-500",children:"Total Submissions"})]})}),s.jsx(ne,{children:s.jsxs(ie,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl mb-2",children:""}),s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:f.filter(F=>F.status==="pending").length}),s.jsx("div",{className:"text-sm text-gray-500",children:"Pending Review"})]})}),s.jsx(ne,{children:s.jsxs(ie,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl mb-2",children:""}),s.jsx("div",{className:"text-2xl font-bold text-green-600",children:f.filter(F=>F.status==="approved"||F.status==="featured").length}),s.jsx("div",{className:"text-sm text-gray-500",children:"Approved"})]})}),s.jsx(ne,{children:s.jsxs(ie,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl mb-2",children:""}),s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:f.filter(F=>F.status==="featured").length}),s.jsx("div",{className:"text-sm text-gray-500",children:"Featured"})]})})]}),g?s.jsx("div",{className:"text-center py-12 text-gray-500",children:"Loading recordings..."}):f.length===0?s.jsx(ne,{children:s.jsxs(ie,{className:"p-12 text-center",children:[s.jsx(Ym,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),s.jsx("p",{className:"text-gray-500",children:"No recordings submitted yet"})]})}):s.jsx("div",{className:"space-y-4",children:f.map((F,D)=>s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:D*.05},children:s.jsx(ne,{className:"hover:shadow-lg transition-all duration-300",children:s.jsx(ie,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"text-5xl",children:R[F.recording_type]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:[F.recording_type.charAt(0).toUpperCase()+F.recording_type.slice(1)," Recording"]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-gray-500",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(OR,{className:"w-4 h-4"}),F.user_name]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(hl,{className:"w-4 h-4"}),k(F.duration)]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(my,{className:"w-4 h-4"}),E(F.created_date)]})]})]}),s.jsx(_e,{className:C[F.status],children:F.status})]}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-3",children:s.jsx("audio",{controls:!0,src:F.file_url,className:"w-full"})}),s.jsx("div",{className:"mb-3",children:s.jsxs("a",{href:F.file_url,download:!0,className:"text-blue-600 hover:text-blue-700 text-sm flex items-center gap-2",children:[s.jsx(xo,{className:"w-4 h-4"}),"Download Recording"]})}),F.admin_notes&&s.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-3 mb-3",children:s.jsxs("p",{className:"text-sm text-blue-900",children:[s.jsx("strong",{children:"Admin Notes:"})," ",F.admin_notes]})}),F.status==="pending"&&s.jsx("div",{className:"space-y-3",children:(n==null?void 0:n.id)===F.id?s.jsxs("div",{className:"space-y-3 border-t pt-3",children:[s.jsx(In,{placeholder:"Add feedback or notes...",value:i,onChange:P=>a(P.target.value),className:"min-h-[80px]"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Points to Award:"}),s.jsx(Te,{type:"number",value:o,onChange:P=>c(parseInt(P.target.value)||0),className:"w-24"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(G,{onClick:()=>w(F),className:"bg-green-600 hover:bg-green-700",children:[s.jsx(zc,{className:"w-4 h-4 mr-2"}),"Approve & Award Points"]}),s.jsxs(G,{onClick:()=>j(F),variant:"destructive",children:[s.jsx(fy,{className:"w-4 h-4 mr-2"}),"Reject"]}),s.jsx(G,{onClick:()=>{r(null),a(""),c(50)},variant:"outline",children:"Cancel"})]})]}):s.jsx(G,{onClick:()=>r(F),variant:"outline",className:"w-full",children:"Review & Take Action"})}),s.jsx("div",{className:"mt-3",children:s.jsxs(G,{onClick:()=>_(F),variant:"destructive",children:[s.jsx(hr,{className:"w-4 h-4 mr-2"})," Delete Recording"]})}),F.points_awarded>0&&s.jsxs("div",{className:"flex items-center gap-2 text-amber-600 font-semibold",children:[s.jsx(fn,{className:"w-5 h-5 fill-amber-500"}),F.points_awarded," points awarded"]})]})]})})})},F.id))})]})})}const rfe=[{id:"coloring",title:"Colouring Pages",description:"Print or colour online: mosques, Ka'bah, Islamic patterns",icon:gy,color:"from-pink-500 to-rose-500",emoji:"",link:"ColoringPages"},{id:"drawing",title:"Islamic Art Board",description:"Digital drawing pad for Islamic art and calligraphy",icon:IB,color:"from-purple-500 to-violet-500",emoji:"",link:"DrawingBoard"},{id:"writing",title:"Poem & Nasheed Writing",description:"Write and submit your Islamic poems and nasheeds",icon:jj,color:"from-blue-500 to-cyan-500",emoji:"",link:"PoetryWriting"},{id:"contest",title:"Monthly Contest",description:"Win prizes for best story, drawing, or recitation!",icon:Kr,color:"from-amber-500 to-orange-500",emoji:"",link:"MonthlyContest"}];function Q3(){return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Creative Corner"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Express your creativity through Islamic art, poetry, and more!"})]}),s.jsx(te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-12",children:s.jsx(ne,{className:"border-4 border-amber-400 shadow-2xl overflow-hidden",children:s.jsxs("div",{className:"bg-gradient-to-r from-amber-500 via-orange-500 to-red-500 p-8 text-white text-center",children:[s.jsx(Kr,{className:"w-16 h-16 mx-auto mb-4"}),s.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Monthly Creative Contest!"}),s.jsx("p",{className:"text-xl mb-4",children:"Submit your best work and win amazing prizes! "}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[s.jsx("div",{className:"bg-white/20 px-4 py-2 rounded-full",children:" Best Drawing"}),s.jsx("div",{className:"bg-white/20 px-4 py-2 rounded-full",children:" Best Story"}),s.jsx("div",{className:"bg-white/20 px-4 py-2 rounded-full",children:" Best Recitation"})]})]})})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:rfe.map((t,e)=>{const n=t.icon;return s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:e*.1},children:s.jsx(Lt,{to:it(t.link),children:s.jsxs(ne,{className:"h-full hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 cursor-pointer group overflow-hidden border-2 hover:border-blue-300",children:[s.jsx(Fe,{className:`bg-gradient-to-br ${t.color} text-white pb-6`,children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(te.div,{whileHover:{scale:1.1,rotate:5},className:"text-6xl",children:t.emoji}),s.jsxs("div",{children:[s.jsx(Ve,{className:"text-2xl mb-2",children:t.title}),s.jsx("p",{className:"text-sm text-white/90",children:t.description})]})]})}),s.jsx(ie,{className:"p-6",children:s.jsxs(G,{className:"w-full bg-white text-gray-900 hover:bg-gray-100 border-2 border-gray-200 group-hover:border-blue-500 transition-all",children:[s.jsx(n,{className:"w-5 h-5 mr-2"}),"Start Creating"]})})]})})},t.id)})}),s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"mt-12",children:s.jsx(ne,{className:"border-2 border-purple-200 bg-gradient-to-r from-purple-50 to-pink-50",children:s.jsxs(ie,{className:"p-8",children:[s.jsxs("h3",{className:"text-2xl font-bold text-purple-900 mb-4 flex items-center gap-2",children:[s.jsx(_i,{className:"w-6 h-6"}),"Creative Tips"]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-purple-800",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsx("p",{children:"Be original and express your unique creativity"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsx("p",{children:"Start with Bismillah before creating"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsx("p",{children:"Use bright colours and Islamic patterns"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsx("p",{children:"Create with love for Allah and Islam"})]})]})]})})})]})})}const sfe=[{id:"encyclopedia",title:"Islamic Encyclopedia",description:"Learn about prophets, angels, and Islamic months",icon:Fn,color:"from-blue-500 to-cyan-500",emoji:"",link:"IslamicEncyclopedia"},{id:"tafsir",title:"Audio Tafsir for Kids",description:"Easy explanations of short surahs",icon:Md,color:"from-green-500 to-teal-500",emoji:"",link:"AudioTafsir"},{id:"facts",title:"Did You Know?",description:"Fun and amazing Islamic facts",icon:lB,color:"from-amber-500 to-orange-500",emoji:"",link:"IslamicFacts"},{id:"worksheets",title:"Printable Worksheets",description:"Quran tracing, matching activities & more",icon:jj,color:"from-purple-500 to-pink-500",emoji:"",link:"Worksheets"}],ife=[{title:"25 Prophets",icon:Fl,count:"25 stories"},{title:"Islamic Months",icon:my,count:"12 months"},{title:"99 Names of Allah",icon:fn,count:"Learn all"}];function Y3(){return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Learning Library"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Explore Islamic knowledge through engaging resources and materials"})]}),s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-12",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:ife.map((t,e)=>{const n=t.icon;return s.jsx(te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:e*.1},children:s.jsx(ne,{className:"bg-gradient-to-br from-blue-500 to-purple-500 text-white hover:shadow-xl transition-all duration-300 cursor-pointer",children:s.jsxs(ie,{className:"p-6 text-center",children:[s.jsx(n,{className:"w-12 h-12 mx-auto mb-3"}),s.jsx("h3",{className:"text-xl font-bold mb-1",children:t.title}),s.jsx("p",{className:"text-sm text-blue-100",children:t.count})]})})},t.title)})})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12",children:sfe.map((t,e)=>{const n=t.icon;return s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:e*.1+.3},children:s.jsx(Lt,{to:it(t.link),children:s.jsxs(ne,{className:"h-full hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 cursor-pointer group overflow-hidden border-2 hover:border-green-300",children:[s.jsx(Fe,{className:`bg-gradient-to-br ${t.color} text-white pb-6`,children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(te.div,{whileHover:{scale:1.1,rotate:5},className:"text-6xl",children:t.emoji}),s.jsxs("div",{children:[s.jsx(Ve,{className:"text-2xl mb-2",children:t.title}),s.jsx("p",{className:"text-sm text-white/90",children:t.description})]})]})}),s.jsx(ie,{className:"p-6",children:s.jsxs(G,{className:"w-full bg-white text-gray-900 hover:bg-gray-100 border-2 border-gray-200 group-hover:border-green-500 transition-all",children:[s.jsx(n,{className:"w-5 h-5 mr-2"}),"Explore Now"]})})]})})},t.id)})}),s.jsx(te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.7},children:s.jsx(ne,{className:"border-4 border-green-400 shadow-2xl bg-gradient-to-r from-green-50 to-teal-50",children:s.jsxs(ie,{className:"p-8 text-center",children:[s.jsx(Fn,{className:"w-16 h-16 mx-auto mb-4 text-green-600"}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-3",children:'"Seek knowledge from the cradle to the grave"'}),s.jsx("p",{className:"text-lg text-gray-700 mb-4",children:"- Prophet Muhammad "}),s.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Our learning library is designed to make Islamic education easy, fun, and engaging for young learners."})]})})})]})})}const afe=[{id:1,title:"Kaaba",url:"https://images.unsplash.com/photo-1591604129939-f1efa4d9f7fa?w=800&h=800&fit=crop",description:"Color the Holy Kaaba"},{id:2,title:"Mosque",url:"https://images.unsplash.com/photo-1564769625905-50e93615e769?w=800&h=800&fit=crop",description:"Beautiful mosque design"},{id:3,title:"Islamic Pattern",url:"https://images.unsplash.com/photo-1583578702627-7c1e0618f0c4?w=800&h=800&fit=crop",description:"Geometric Islamic art"},{id:4,title:"Crescent Moon",url:"https://images.unsplash.com/photo-1532693322450-2cb5c511067d?w=800&h=800&fit=crop",description:"Islamic symbol"},{id:5,title:"Arabic Calligraphy",url:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=800&h=800&fit=crop",description:"Beautiful Arabic writing"},{id:6,title:"Lantern",url:"https://images.unsplash.com/photo-1586991879365-a8759d239cf1?w=800&h=800&fit=crop",description:"Ramadan lantern"}],ofe=({page:t,onClose:e})=>{const n=v.useRef(null),[r,i]=v.useState(!1),[a,o]=v.useState("#000000"),[c,d]=v.useState(5),[h,m]=v.useState(!1),f=["#000000","#FFFFFF","#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF","#FFA500","#800080","#FFC0CB","#8B4513","#808080","#FFD700","#40E0D0"];v.useEffect(()=>{const _=n.current;if(!_)return;const E=_.getContext("2d"),k=new Image;k.crossOrigin="anonymous",k.onload=()=>{_.width=800,_.height=800,E.fillStyle="#FFFFFF",E.fillRect(0,0,_.width,_.height),E.drawImage(k,0,0,_.width,_.height);const C=E.getImageData(0,0,_.width,_.height),R=C.data;for(let F=0;F<R.length;F+=4){const D=(R[F]+R[F+1]+R[F+2])/3;R[F]=D,R[F+1]=D,R[F+2]=D}E.putImageData(C,0,0),m(!0)},k.onerror=()=>{_.width=800,_.height=800,E.fillStyle="#FFFFFF",E.fillRect(0,0,_.width,_.height),E.strokeStyle="#000000",E.lineWidth=2,E.strokeRect(50,50,700,700),E.font="24px Arial",E.fillStyle="#000000",E.textAlign="center",E.fillText(t.title,_.width/2,_.height/2),m(!0)},k.src=t.url},[t]);const g=_=>{h&&(i(!0),N(_))},x=()=>{i(!1)},N=_=>{if(!r&&_.type!=="mousedown"&&_.type!=="touchstart"||!h)return;const E=n.current,k=E.getContext("2d"),C=E.getBoundingClientRect();let R,F;if(_.type.includes("touch")){const I=_.touches[0]||_.changedTouches[0];R=I.clientX-C.left,F=I.clientY-C.top}else R=_.clientX-C.left,F=_.clientY-C.top;const D=E.width/C.width,P=E.height/C.height;R*=D,F*=P,k.lineCap="round",k.lineJoin="round",k.strokeStyle=a,k.lineWidth=c,_.type==="mousedown"||_.type==="touchstart"?(k.beginPath(),k.moveTo(R,F)):(k.lineTo(R,F),k.stroke())},w=()=>{const _=n.current,E=_.getContext("2d"),k=new Image;k.crossOrigin="anonymous",k.onload=()=>{E.fillStyle="#FFFFFF",E.fillRect(0,0,_.width,_.height),E.drawImage(k,0,0,_.width,_.height);const C=E.getImageData(0,0,_.width,_.height),R=C.data;for(let F=0;F<R.length;F+=4){const D=(R[F]+R[F+1]+R[F+2])/3;R[F]=D,R[F+1]=D,R[F+2]=D}E.putImageData(C,0,0)},k.src=t.url},j=()=>{const _=n.current,E=document.createElement("a");E.download=`${t.title}-colored.png`,E.href=_.toDataURL(),E.click()};return s.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:e,children:s.jsxs(te.div,{initial:{scale:.9},animate:{scale:1},onClick:_=>_.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl max-w-6xl w-full max-h-[95vh] overflow-y-auto",children:[s.jsx("div",{className:"sticky top-0 bg-white border-b p-4 z-10",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h2",{className:"text-2xl font-bold",children:["Color: ",t.title]}),s.jsx(G,{variant:"ghost",onClick:e,children:"Close"})]})}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"grid md:grid-cols-[1fr,200px] gap-6",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("canvas",{ref:n,onMouseDown:g,onMouseMove:N,onMouseUp:x,onMouseLeave:x,onTouchStart:g,onTouchMove:N,onTouchEnd:x,className:"border-4 border-gray-300 rounded-lg cursor-crosshair max-w-full touch-none",style:{width:"100%",maxWidth:"600px",height:"auto",aspectRatio:"1/1"}}),!h&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("div",{className:"text-gray-500",children:"Loading..."})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-bold mb-3 flex items-center gap-2",children:[s.jsx(gy,{className:"w-5 h-5"}),"Colors"]}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:f.map(_=>s.jsx("button",{onClick:()=>o(_),className:`w-full h-12 rounded-lg border-4 transition-all ${a===_?"border-blue-500 scale-110":"border-gray-300"}`,style:{backgroundColor:_},title:_},_))}),s.jsx("input",{type:"color",value:a,onChange:_=>o(_.target.value),className:"w-full h-12 mt-2 rounded-lg cursor-pointer"})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-bold mb-3 flex items-center gap-2",children:[s.jsx(CB,{className:"w-5 h-5"}),"Brush Size"]}),s.jsx("input",{type:"range",min:"1",max:"50",value:c,onChange:_=>d(parseInt(_.target.value)),className:"w-full"}),s.jsxs("p",{className:"text-center text-sm text-gray-600 mt-2",children:[c,"px"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(G,{onClick:w,variant:"outline",className:"w-full",children:[s.jsx(hr,{className:"w-4 h-4 mr-2"}),"Clear"]}),s.jsxs(G,{onClick:j,className:"w-full bg-green-600 hover:bg-green-700",children:[s.jsx(xo,{className:"w-4 h-4 mr-2"}),"Download"]})]})]})]})})]})})};function J3(){const[t,e]=v.useState(null);return s.jsxs("div",{className:"min-h-screen py-12 px-4",children:[s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Islamic Coloring Pages"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Color beautiful Islamic designs online or download to print"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:afe.map((n,r)=>s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:r*.1},children:s.jsxs(ne,{className:"hover:shadow-2xl transition-all duration-300 cursor-pointer group",children:[s.jsx(Fe,{className:"p-0",children:s.jsx("div",{className:"h-64 bg-gradient-to-br from-blue-100 to-purple-100 rounded-t-xl overflow-hidden",children:s.jsx("img",{src:n.url,alt:n.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"})})}),s.jsxs(ie,{className:"p-6",children:[s.jsx(Ve,{className:"text-xl mb-2",children:n.title}),s.jsx("p",{className:"text-gray-600 mb-4",children:n.description}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(G,{onClick:()=>e(n),className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-500",children:[s.jsx(gy,{className:"w-4 h-4 mr-2"}),"Color Online"]}),s.jsx(G,{onClick:()=>{const i=document.createElement("a");i.href=n.url,i.download=`${n.title}.jpg`,i.click()},variant:"outline",children:s.jsx(xo,{className:"w-4 h-4"})})]})]})]})},n.id))}),s.jsx(ne,{className:"mt-12 bg-blue-50 border-blue-200",children:s.jsxs(ie,{className:"p-6",children:[s.jsx("h3",{className:"font-bold text-lg mb-3",children:" How to Use"}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[s.jsxs("p",{children:["1. ",s.jsx("strong",{children:"Color Online:"}),' Click "Color Online" to use our digital coloring tool']}),s.jsxs("p",{children:["2. ",s.jsx("strong",{children:"Download:"})," Click the download icon to print and color with crayons"]}),s.jsxs("p",{children:["3. ",s.jsx("strong",{children:"Save Your Work:"}),' After coloring online, click "Download" to save your artwork']}),s.jsxs("p",{children:["4. ",s.jsx("strong",{children:"Tips:"})," Use different brush sizes for details and filling large areas"]})]})]})})]}),t&&s.jsx(ofe,{page:t,onClose:()=>e(null)})]})}const lfe=["#000000","#FFFFFF","#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF","#FFA500","#800080","#FFC0CB","#A52A2A","#808080","#FFD700","#4B0082"],cfe=[2,5,10,15,20];function X3(){const t=v.useRef(null),[e,n]=v.useState(!1),[r,i]=v.useState("#000000"),[a,o]=v.useState(5),[c,d]=v.useState(!1);v.useEffect(()=>{const N=t.current;if(N){const w=N.getContext("2d");w.fillStyle="#FFFFFF",w.fillRect(0,0,N.width,N.height)}},[]);const h=N=>{const w=t.current,j=w.getContext("2d"),_=w.getBoundingClientRect(),E=N.clientX-_.left,k=N.clientY-_.top;j.beginPath(),j.moveTo(E,k),n(!0)},m=N=>{if(!e)return;const w=t.current,j=w.getContext("2d"),_=w.getBoundingClientRect(),E=N.clientX-_.left,k=N.clientY-_.top;j.lineTo(E,k),j.strokeStyle=c?"#FFFFFF":r,j.lineWidth=a,j.lineCap="round",j.stroke()},f=()=>{n(!1)},g=()=>{const N=t.current,w=N.getContext("2d");w.fillStyle="#FFFFFF",w.fillRect(0,0,N.width,N.height)},x=()=>{const w=t.current.toDataURL("image/png"),j=document.createElement("a");j.download="islamic-art.png",j.href=w,j.click()};return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Islamic Art Drawing Board"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Create beautiful Islamic art and calligraphy!"})]}),s.jsxs("div",{className:"grid lg:grid-cols-4 gap-6",children:[s.jsxs(ne,{className:"lg:col-span-1",children:[s.jsx(Fe,{children:s.jsx(Ve,{className:"text-lg",children:"Tools"})}),s.jsxs(ie,{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-3",children:"Colors"}),s.jsx("div",{className:"grid grid-cols-5 gap-2",children:lfe.map(N=>s.jsx("button",{onClick:()=>{i(N),d(!1)},className:`w-10 h-10 rounded-lg border-2 transition-all ${r===N&&!c?"border-blue-500 scale-110":"border-gray-300"}`,style:{backgroundColor:N}},N))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-3",children:"Brush Size"}),s.jsx("div",{className:"flex gap-2",children:cfe.map(N=>s.jsx("button",{onClick:()=>o(N),className:`px-3 py-2 rounded-lg border-2 transition-all ${a===N?"border-blue-500 bg-blue-50":"border-gray-300"}`,children:N},N))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(G,{onClick:()=>d(!c),variant:c?"default":"outline",className:"w-full",children:[s.jsx(Bz,{className:"w-4 h-4 mr-2"}),"Eraser"]}),s.jsxs(G,{onClick:g,variant:"outline",className:"w-full",children:[s.jsx(hr,{className:"w-4 h-4 mr-2"}),"Clear All"]}),s.jsxs(G,{onClick:x,className:"w-full bg-green-600 hover:bg-green-700",children:[s.jsx(xo,{className:"w-4 h-4 mr-2"}),"Save Art"]})]})]})]}),s.jsxs("div",{className:"lg:col-span-3",children:[s.jsx(ne,{children:s.jsx(ie,{className:"p-6",children:s.jsx("canvas",{ref:t,width:800,height:600,onMouseDown:h,onMouseMove:m,onMouseUp:f,onMouseLeave:f,className:"border-2 border-gray-300 rounded-lg cursor-crosshair w-full",style:{maxWidth:"100%",height:"auto"}})})}),s.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"mt-6",children:s.jsx(ne,{className:"border-2 border-purple-200 bg-purple-50",children:s.jsxs(ie,{className:"p-4",children:[s.jsxs("h3",{className:"font-bold text-purple-900 mb-2 flex items-center gap-2",children:[s.jsx(_i,{className:"w-5 h-5"}),"Drawing Tips"]}),s.jsxs("ul",{className:"text-sm text-purple-800 space-y-1",children:[s.jsx("li",{children:" Try drawing Islamic geometric patterns"}),s.jsx("li",{children:" Practice Arabic calligraphy"}),s.jsx("li",{children:" Draw your favorite mosque"}),s.jsx("li",{children:" Save and share your artwork!"})]})]})})})]})]})]})})}function Z3(){const[t,e]=v.useState({title:"",content:"",type:"poem"}),[n,r]=v.useState(!1),[i,a]=v.useState(!1),[o,c]=v.useState(null);v.useEffect(()=>{d()},[]);const d=async()=>{try{if(await base44.auth.isAuthenticated()){const f=await base44.auth.me();c(f)}else c(null)}catch{c(null)}},h=async m=>{if(m.preventDefault(),!o){alert("Please log in to submit your work!");return}r(!0);try{await base44.entities.Poetry.create({user_id:o.id,user_name:o.full_name||"Anonymous",title:t.title,content:t.content,type:t.type,status:"pending"}),await base44.integrations.Core.SendEmail({from_name:"Islam Kids Zone",to:"huzaify786@gmail.com",subject:` New ${t.type==="poem"?"Poem":"Nasheed"} Submission`,body:`
          <div style="font-family: Arial, sans-serif; padding: 20px;">
            <h2>New ${t.type==="poem"?"Poem":"Nasheed"} Submission</h2>
            <p><strong>Student:</strong> ${o.full_name||"Anonymous"}</p>
            <p><strong>Title:</strong> ${t.title}</p>
            <hr/>
            <pre style="background: #f5f5f5; padding: 15px; border-radius: 5px;">${t.content}</pre>
          </div>
        `}),a(!0),setTimeout(()=>{a(!1),e({title:"",content:"",type:"poem"})},5e3)}catch(f){console.error("Error submitting:",f),alert("Error submitting. Please try again.")}finally{r(!1)}};return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Write Islamic Poetry & Nasheeds"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Express your love for Islam through beautiful words!"})]}),i?s.jsx(te.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},children:s.jsx(ne,{className:"border-4 border-green-400 shadow-2xl",children:s.jsxs(ie,{className:"p-12 text-center",children:[s.jsx(zc,{className:"w-24 h-24 text-green-500 mx-auto mb-6"}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Masha'Allah! "}),s.jsxs("p",{className:"text-xl text-gray-600",children:["Your ",t.type," has been submitted successfully!"]})]})})}):s.jsxs(ne,{className:"shadow-2xl",children:[s.jsx(Fe,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white",children:s.jsxs(Ve,{className:"text-2xl flex items-center gap-2",children:[s.jsx(jj,{className:"w-6 h-6"}),"Submit Your Work"]})}),s.jsxs(ie,{className:"p-8",children:[s.jsxs("form",{onSubmit:h,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(ye,{className:"text-gray-700 font-semibold mb-3 block",children:"What are you writing?"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("button",{type:"button",onClick:()=>e({...t,type:"poem"}),className:`flex-1 p-4 rounded-xl border-2 transition-all ${t.type==="poem"?"border-purple-500 bg-purple-50":"border-gray-300"}`,children:[s.jsx("div",{className:"text-3xl mb-2",children:""}),s.jsx("div",{className:"font-bold",children:"Islamic Poem"})]}),s.jsxs("button",{type:"button",onClick:()=>e({...t,type:"nasheed"}),className:`flex-1 p-4 rounded-xl border-2 transition-all ${t.type==="nasheed"?"border-purple-500 bg-purple-50":"border-gray-300"}`,children:[s.jsx("div",{className:"text-3xl mb-2",children:""}),s.jsx("div",{className:"font-bold",children:"Nasheed"})]})]})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"title",className:"text-gray-700 font-semibold",children:"Title *"}),s.jsx(Te,{id:"title",value:t.title,onChange:m=>e({...t,title:m.target.value}),placeholder:"Give your work a beautiful title...",required:!0,className:"mt-2"})]}),s.jsxs("div",{children:[s.jsxs(ye,{htmlFor:"content",className:"text-gray-700 font-semibold",children:["Your ",t.type==="poem"?"Poem":"Nasheed"," *"]}),s.jsx(In,{id:"content",value:t.content,onChange:m=>e({...t,content:m.target.value}),placeholder:"Write your beautiful words here...",required:!0,rows:12,className:"mt-2 font-mono"})]}),s.jsx(G,{type:"submit",disabled:n,className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-xl py-6",children:n?"Submitting...":s.jsxs(s.Fragment,{children:[s.jsx(bx,{className:"w-5 h-5 mr-2"}),"Submit for Review"]})})]}),s.jsxs("div",{className:"mt-6 bg-purple-50 rounded-xl p-4 border-2 border-purple-200",children:[s.jsxs("h3",{className:"font-bold text-purple-900 mb-2 flex items-center gap-2",children:[s.jsx(_i,{className:"w-5 h-5"}),"Writing Tips"]}),s.jsxs("ul",{className:"text-sm text-purple-800 space-y-1",children:[s.jsx("li",{children:" Start with Bismillah"}),s.jsx("li",{children:" Write from your heart about Islam"}),s.jsx("li",{children:" Check spelling and grammar"}),s.jsx("li",{children:" Be creative and original!"})]})]})]})]})]})})}const ufe=[{id:"story",title:"Best Story",emoji:"",prize:"Islamic Story Book Set",color:"from-blue-500 to-cyan-500"},{id:"drawing",title:"Best Drawing",emoji:"",prize:"Art Supplies Kit",color:"from-pink-500 to-rose-500"},{id:"recitation",title:"Best Recitation",emoji:"",prize:"Special Islamic Gift",color:"from-green-500 to-teal-500"},{id:"poem",title:"Best Poem/Nasheed",emoji:"",prize:"Featured on Website + Prize",color:"from-purple-500 to-violet-500"}];function eF(){return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx(te.div,{animate:{rotate:[0,10,-10,0],scale:[1,1.2,1]},transition:{repeat:1/0,duration:3},className:"text-8xl mb-6",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Monthly Creative Contest"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Showcase your talents and win amazing prizes every month!"})]}),s.jsx(te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-12",children:s.jsx(ne,{className:"border-4 border-amber-400 shadow-2xl bg-gradient-to-r from-amber-50 to-orange-50",children:s.jsxs(ie,{className:"p-8 text-center",children:[s.jsx(my,{className:"w-16 h-16 mx-auto mb-4 text-amber-600"}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"December 2024 Contest"}),s.jsx("p",{className:"text-lg text-gray-700 mb-4",children:"Submit your entries before December 31st!"}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[s.jsxs("div",{className:"bg-white px-6 py-3 rounded-full shadow-lg",children:[s.jsx("span",{className:"font-bold text-amber-600",children:"Total Prizes:"})," 4 Winners"]}),s.jsxs("div",{className:"bg-white px-6 py-3 rounded-full shadow-lg",children:[s.jsx("span",{className:"font-bold text-amber-600",children:"Deadline:"})," Dec 31"]})]})]})})}),s.jsx("div",{className:"grid md:grid-cols-2 gap-6 mb-12",children:ufe.map((t,e)=>s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:e*.1},children:s.jsxs(ne,{className:"h-full hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 border-2",children:[s.jsx(Fe,{className:`bg-gradient-to-br ${t.color} text-white`,children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"text-6xl",children:t.emoji}),s.jsxs("div",{children:[s.jsx(Ve,{className:"text-2xl mb-2",children:t.title}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(AR,{className:"w-4 h-4"}),s.jsxs("span",{children:["Prize: ",t.prize]})]})]})]})}),s.jsx(ie,{className:"p-6",children:s.jsx(Lt,{to:it(t.id==="story"?"Stories":t.id==="drawing"?"DrawingBoard":t.id==="recitation"?"RecordAndShare":"PoetryWriting"),children:s.jsx(G,{className:"w-full bg-gray-900 hover:bg-gray-800",children:"Submit Entry"})})})]})},t.id))}),s.jsxs(ne,{className:"shadow-2xl border-2 border-blue-300",children:[s.jsx(Fe,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:s.jsxs(Ve,{className:"text-2xl flex items-center gap-2",children:[s.jsx(fn,{className:"w-6 h-6"}),"Contest Rules & Guidelines"]})}),s.jsx(ie,{className:"p-8",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg mb-4 text-blue-900",children:"How to Participate"}),s.jsxs("ul",{className:"space-y-2 text-gray-700",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-xl",children:""}),s.jsx("span",{children:"Create your best Islamic artwork, story, poem, or recitation"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-xl",children:""}),s.jsx("span",{children:"Submit before the monthly deadline"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-xl",children:""}),s.jsx("span",{children:"Winners announced at the start of each month"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-xl",children:""}),s.jsx("span",{children:"Prizes shipped to winners worldwide!"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg mb-4 text-purple-900",children:"Judging Criteria"}),s.jsxs("ul",{className:"space-y-2 text-gray-700",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-xl",children:""}),s.jsx("span",{children:"Originality and creativity"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-xl",children:""}),s.jsx("span",{children:"Islamic values and messages"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-xl",children:""}),s.jsx("span",{children:"Effort and presentation"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-xl",children:""}),s.jsx("span",{children:"Age-appropriate content"})]})]})]})]})})]}),s.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-12",children:s.jsx(ne,{className:"bg-gradient-to-r from-green-50 to-teal-50 border-2 border-green-300",children:s.jsxs(ie,{className:"p-8 text-center",children:[s.jsx(Dd,{className:"w-16 h-16 mx-auto mb-4 text-green-600"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Join Our Hall of Fame!"}),s.jsx("p",{className:"text-gray-700 max-w-2xl mx-auto",children:"All winners get featured on our website and receive special badges on their profiles. Start creating today and join the ranks of talented young Muslim artists!"})]})})})]})})}const dfe=[{id:"prophets",title:"25 Prophets",emoji:"",color:"from-blue-500 to-cyan-500",description:"Learn about all 25 prophets mentioned in the Quran"},{id:"angels",title:"Angels in Islam",emoji:"",color:"from-purple-500 to-pink-500",description:"Discover the angels and their important roles"},{id:"months",title:"Islamic Months",emoji:"",color:"from-green-500 to-teal-500",description:"Understand the 12 Islamic calendar months"},{id:"pillars",title:"5 Pillars of Islam",emoji:"",color:"from-amber-500 to-orange-500",description:"The foundation of Islamic practice"}],hfe=["Adam","Idris","Nuh (Noah)","Hud","Saleh","Ibrahim (Abraham)","Lut (Lot)","Ismail (Ishmael)","Ishaq (Isaac)","Yaqub (Jacob)","Yusuf (Joseph)","Ayyub (Job)","Shuaib","Musa (Moses)","Harun (Aaron)","Dhul-Kifl","Dawud (David)","Sulaiman (Solomon)","Ilyas (Elijah)","Al-Yasa (Elisha)","Yunus (Jonah)","Zakariya (Zechariah)","Yahya (John)","Isa (Jesus)","Muhammad "];function tF(){const[t,e]=v.useState(null);return t==="prophets"?s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx(G,{onClick:()=>e(null),variant:"outline",className:"mb-6",children:" Back to Encyclopedia"}),s.jsxs(ne,{className:"shadow-2xl",children:[s.jsx(Fe,{className:"bg-gradient-to-r from-blue-500 to-cyan-500 text-white",children:s.jsxs(Ve,{className:"text-3xl flex items-center gap-3",children:[s.jsx(Fl,{className:"w-8 h-8"}),"The 25 Prophets in the Quran"]})}),s.jsx(ie,{className:"p-8",children:s.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:hfe.map((n,r)=>s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:r*.05},children:s.jsx(ne,{className:"hover:shadow-lg transition-all hover:-translate-y-1 cursor-pointer",children:s.jsx(ie,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-bold",children:r+1}),s.jsx("span",{className:"font-semibold text-gray-900",children:n})]})})})},n))})})]})]})}):s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Mini Islamic Encyclopedia"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Learn about prophets, angels, Islamic months, and more!"})]}),s.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:dfe.map((n,r)=>s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:r*.1},children:s.jsxs(ne,{onClick:()=>e(n.id),className:"h-full hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 cursor-pointer group",children:[s.jsx(Fe,{className:`bg-gradient-to-br ${n.color} text-white pb-6`,children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"text-6xl",children:n.emoji}),s.jsxs("div",{children:[s.jsx(Ve,{className:"text-2xl mb-2",children:n.title}),s.jsx("p",{className:"text-sm text-white/90",children:n.description})]})]})}),s.jsx(ie,{className:"p-6",children:s.jsxs(G,{className:"w-full bg-gray-900 hover:bg-gray-800 group-hover:scale-105 transition-transform",children:[s.jsx(Fn,{className:"w-5 h-5 mr-2"}),"Explore Now"]})})]})},n.id))})]})})}const LI=[{id:1,surah:"Al-Fatiha",number:1,verses:7,duration:"8:30",mp3Url:"https://server8.mp3quran.net/afs/001.mp3",description:"The Opening - Learn the meaning of the most recited surah"},{id:2,surah:"Al-Ikhlas",number:112,verses:4,duration:"2:15",mp3Url:"https://server8.mp3quran.net/afs/112.mp3",description:"Sincerity - Understanding Allah's oneness"},{id:3,surah:"Al-Falaq",number:113,verses:5,duration:"1:50",mp3Url:"https://server8.mp3quran.net/afs/113.mp3",description:"The Daybreak - Seeking protection from evil"},{id:4,surah:"An-Nas",number:114,verses:6,duration:"1:40",mp3Url:"https://server8.mp3quran.net/afs/114.mp3",description:"Mankind - Protection from whispers"},{id:5,surah:"Al-Asr",number:103,verses:3,duration:"1:20",mp3Url:"https://server8.mp3quran.net/afs/103.mp3",description:"Time - The importance of faith and good deeds"},{id:6,surah:"Al-Kawthar",number:108,verses:3,duration:"1:15",mp3Url:"https://server8.mp3quran.net/afs/108.mp3",description:"Abundance - Allah's gift to the Prophet "}];function nF(){const[t,e]=v.useState(null),[n,r]=v.useState(.7),[i,a]=v.useState(!1),o=v.useRef({}),c=m=>{const f=o.current[m];if(Object.keys(o.current).forEach(g=>{g!==m.toString()&&o.current[g]&&o.current[g].pause()}),t===m)f.pause(),e(null);else{if(!f.src){const g=LI.find(x=>x.id===m);f.src=g.mp3Url}f.volume=i?0:n,f.play(),e(m)}f.onended=()=>{e(null)}},d=m=>{const f=parseFloat(m.target.value);r(f),a(f===0),Object.values(o.current).forEach(g=>{g&&(g.volume=f)})},h=()=>{const m=!i;a(m),Object.values(o.current).forEach(f=>{f&&(f.volume=m?0:n)})};return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Audio Tafsir for Kids"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Listen to recitations of short surahs"})]}),s.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},className:"mb-8 max-w-xs mx-auto",children:s.jsx(ne,{className:"bg-gradient-to-r from-blue-50 to-purple-50",children:s.jsx(ie,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:h,className:"text-blue-600 hover:text-blue-700",children:i||n===0?s.jsx(Jm,{className:"w-6 h-6"}):s.jsx(_l,{className:"w-6 h-6"})}),s.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:i?0:n,onChange:d,className:"flex-1 h-2 bg-blue-200 rounded-lg appearance-none cursor-pointer"}),s.jsxs("span",{className:"text-sm text-gray-600 w-12 text-right",children:[Math.round((i?0:n)*100),"%"]})]})})})}),s.jsx("div",{className:"grid gap-6",children:LI.map((m,f)=>s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:f*.1},children:s.jsx(ne,{className:"hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:s.jsxs(ie,{className:"p-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-4 md:gap-6",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-20 h-20 rounded-2xl bg-gradient-to-br from-green-500 to-teal-500 flex items-center justify-center text-white font-bold text-2xl",children:m.number})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-1",children:["Surah ",m.surah]}),s.jsx("p",{className:"text-gray-600 mb-2",children:m.description}),s.jsxs("div",{className:"flex gap-4 text-sm text-gray-500",children:[s.jsxs("span",{children:[" ",m.verses," verses"]}),s.jsxs("span",{children:[" ",m.duration]})]})]}),s.jsx(G,{onClick:()=>c(m.id),className:`${t===m.id?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"}`,children:t===m.id?s.jsxs(s.Fragment,{children:[s.jsx(Ll,{className:"w-5 h-5 mr-2"}),"Pause"]}):s.jsxs(s.Fragment,{children:[s.jsx(dr,{className:"w-5 h-5 mr-2"}),"Listen"]})})]}),s.jsx("audio",{ref:g=>o.current[m.id]=g,preload:"none"})]})})},m.id))}),s.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-12",children:s.jsx(ne,{className:"bg-gradient-to-r from-blue-50 to-purple-50 border-2 border-blue-300",children:s.jsxs(ie,{className:"p-8 text-center",children:[s.jsx(Md,{className:"w-16 h-16 mx-auto mb-4 text-blue-600"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"More Tafsir Lessons Coming Soon!"}),s.jsx("p",{className:"text-gray-700",children:"We're working on adding more surahs with simple, kid-friendly explanations."})]})})})]})})}const mfe=[{id:1,fact:"The Quran has 114 chapters (surahs) and over 6,000 verses!",emoji:"",category:"Quran"},{id:2,fact:"Muslims pray 5 times a day facing the Ka'bah in Mecca.",emoji:"",category:"Prayer"},{id:3,fact:"The month of Ramadan is when Muslims fast from sunrise to sunset.",emoji:"",category:"Ramadan"},{id:4,fact:"There are 25 prophets mentioned by name in the Quran.",emoji:"",category:"Prophets"},{id:5,fact:"Angel Jibreel (Gabriel) brought the Quran's revelations to Prophet Muhammad .",emoji:"",category:"Angels"},{id:6,fact:"Muslims greet each other with 'Assalamu Alaikum' which means 'Peace be upon you'.",emoji:"",category:"Manners"},{id:7,fact:"The Ka'bah was built by Prophet Ibrahim and his son Ismail (peace be upon them).",emoji:"",category:"History"},{id:8,fact:"Giving charity (Zakat) is one of the 5 pillars of Islam.",emoji:"",category:"Pillars"},{id:9,fact:"The Islamic calendar is based on the moon and has 12 months.",emoji:"",category:"Calendar"},{id:10,fact:"Prophet Muhammad  was known as 'Al-Amin' (The Trustworthy) even before prophethood.",emoji:"",category:"Seerah"}];function rF(){return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Did You Know?"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Fun and amazing Islamic facts for curious minds!"})]}),s.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:mfe.map((t,e)=>s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:e*.1},children:s.jsx(ne,{className:"h-full hover:shadow-xl transition-all duration-300 hover:-translate-y-1 border-2 border-amber-200 bg-gradient-to-br from-amber-50 to-orange-50",children:s.jsx(ie,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"text-5xl flex-shrink-0",children:t.emoji}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"mb-2",children:s.jsx("span",{className:"text-xs bg-amber-200 text-amber-800 px-3 py-1 rounded-full font-semibold",children:t.category})}),s.jsx("p",{className:"text-lg text-gray-800 leading-relaxed",children:t.fact})]})]})})})},t.id))}),s.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-12",children:s.jsx(ne,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white border-4 border-purple-300 shadow-2xl",children:s.jsxs(ie,{className:"p-8 text-center",children:[s.jsx(fn,{className:"w-16 h-16 mx-auto mb-4"}),s.jsx("h3",{className:"text-2xl font-bold mb-3",children:"Keep Learning Every Day!"}),s.jsx("p",{className:"text-lg",children:"Come back regularly to discover more amazing Islamic facts! "})]})})})]})})}const ffe=[{id:"quran_tracing_1",title:"Surah Al-Fatiha Tracing",category:"Quran Tracing",description:"Trace and learn Surah Al-Fatiha in Arabic",level:"Beginner",pages:3,fileUrl:"https://www.islamicfinder.org/islamic-content/",color:"from-green-500 to-teal-500",icon:""},{id:"arabic_alphabet",title:"Arabic Alphabet Workbook",category:"Arabic Learning",description:"Learn all 28 Arabic letters with tracing",level:"Beginner",pages:28,fileUrl:"https://www.arabicworksheets.com/",color:"from-blue-500 to-indigo-500",icon:""},{id:"99_names_coloring",title:"99 Names of Allah Coloring",category:"Coloring",description:"Color and memorize Allah's beautiful names",level:"All Ages",pages:10,fileUrl:"https://www.islamiccoloring.com/",color:"from-purple-500 to-pink-500",icon:""},{id:"prophet_stories",title:"Stories of Prophets Activity Book",category:"Seerah",description:"Activities and worksheets about Prophet stories",level:"Ages 7-12",pages:15,fileUrl:"https://www.islamicworksheets.net/",color:"from-amber-500 to-orange-500",icon:""},{id:"salah_guide",title:"How to Pray - Step by Step",category:"Fiqh",description:"Visual guide with pictures for each step of prayer",level:"All Ages",pages:8,fileUrl:"https://www.islamicposter.com/salah-guide",color:"from-rose-500 to-pink-500",icon:""},{id:"wudu_worksheet",title:"Wudu Step-by-Step Worksheet",category:"Fiqh",description:"Learn the steps of ablution with pictures",level:"Ages 5-10",pages:4,fileUrl:"https://www.muslimkidsactivities.com/",color:"from-cyan-500 to-blue-500",icon:""},{id:"dua_coloring",title:"Daily Duas Coloring Book",category:"Duas",description:"Beautiful duas with coloring illustrations",level:"Ages 5-10",pages:12,fileUrl:"https://www.islamickidsactivities.com/",color:"from-pink-500 to-purple-500",icon:""},{id:"hadith_matching",title:"Hadith Matching Game",category:"Hadith",description:"Match hadiths with their meanings",level:"Ages 8-12",pages:6,fileUrl:"https://www.hadithforkids.com/",color:"from-indigo-500 to-purple-500",icon:""},{id:"ramadan_activities",title:"Ramadan Activity Pack",category:"Special Occasions",description:"Fun activities for the blessed month",level:"All Ages",pages:20,fileUrl:"https://www.ramadanworksheets.com/",color:"from-amber-400 to-yellow-500",icon:""},{id:"hijri_calendar",title:"Islamic Months Learning Sheet",category:"General Knowledge",description:"Learn the names of Islamic months",level:"Ages 7-12",pages:4,fileUrl:"https://www.islamicmonths.com/",color:"from-gray-500 to-gray-700",icon:""},{id:"arabic_numbers",title:"Arabic Numbers Worksheet",category:"Arabic Learning",description:"Learn to write numbers 1-20 in Arabic",level:"Beginner",pages:5,fileUrl:"https://www.arabicnumbers.com/",color:"from-blue-400 to-cyan-500",icon:""},{id:"pillars_of_islam",title:"5 Pillars of Islam Worksheet",category:"Islamic Knowledge",description:"Learn about the 5 pillars with activities",level:"Ages 7-12",pages:8,fileUrl:"https://www.islamicpillars.com/",color:"from-green-400 to-emerald-500",icon:""}];function sF(){const[t,e]=v.useState(null),n=async i=>{e(i.id),await new Promise(a=>setTimeout(a,1e3)),St.success(`Downloaded: ${i.title}`),St.info("Note: This is a demo. Connect to actual worksheet files for production."),window.open(i.fileUrl,"_blank"),e(null)},r=i=>{St.info(`Opening ${i.title} for printing...`),window.open(i.fileUrl,"_blank")};return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Printable Islamic Worksheets"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Download and print Islamic worksheets for your children!"})]}),s.jsx(te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-12",children:s.jsx(ne,{className:"border-4 border-blue-200 bg-gradient-to-r from-blue-50 to-purple-50",children:s.jsxs(ie,{className:"p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-blue-900 mb-3",children:"For Parents & Teachers"}),s.jsxs("ul",{className:"space-y-2 text-blue-800",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"All worksheets are designed for kids ages 5-12"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"Perfect for homeschooling, Islamic schools, or weekend classes"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"Free to download and print!"})]})]})]})})}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12",children:ffe.map((i,a)=>s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:a*.1},children:s.jsxs(ne,{className:"h-full hover:shadow-xl transition-all duration-300 border-2 border-gray-100",children:[s.jsx(Fe,{className:`bg-gradient-to-br ${i.color} text-white`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"text-5xl",children:i.icon}),s.jsx(Ve,{className:"text-xl",children:i.title})]})}),s.jsxs(ie,{className:"p-6",children:[s.jsx("p",{className:"text-gray-600 mb-2",children:i.description}),s.jsxs("div",{className:"flex items-center gap-2 mb-4 text-sm text-gray-500",children:[s.jsx(Fn,{className:"w-4 h-4"}),s.jsxs("span",{children:[i.pages," pages  ",i.level]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(G,{onClick:()=>n(i),disabled:t===i.id,className:"flex-1 bg-blue-600 hover:bg-blue-700",size:"sm",children:t===i.id?s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Downloading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(xo,{className:"w-4 h-4 mr-2"}),"Download"]})}),s.jsx(G,{onClick:()=>r(i),variant:"outline",size:"sm",children:s.jsx(PR,{className:"w-4 h-4"})})]})]})]})},i.id))}),s.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:s.jsx(ne,{className:"border-4 border-amber-300 bg-gradient-to-r from-amber-50 to-yellow-50",children:s.jsxs(ie,{className:"p-8 text-center",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"More Worksheets Coming Soon!"}),s.jsx("p",{className:"text-lg text-gray-700 mb-6 max-w-2xl mx-auto",children:"We're constantly adding new Islamic worksheets and activities. Check back regularly for updates!"})]})})})]})})}function sS({title:t,mp3Url:e,coverImage:n,onPlayComplete:r,allowDownload:i=!0,autoplay:a=!1}){const[o,c]=v.useState(!1),[d,h]=v.useState(0),[m,f]=v.useState(0),[g,x]=v.useState(1),[N,w]=v.useState(null),[j,_]=v.useState(null);v.useEffect(()=>{if(!e){w("No audio URL provided");return}const C=new Audio(e);return _(C),C.addEventListener("loadedmetadata",()=>{f(C.duration)}),C.addEventListener("timeupdate",()=>{h(C.currentTime)}),C.addEventListener("ended",()=>{c(!1),r&&r()}),a&&(C.play(),c(!0)),()=>{C.pause(),C.src=""}},[e,a,r]);const E=()=>{j&&(o?j.pause():j.play(),c(!o))},k=()=>{if(e){const C=document.createElement("a");C.href=e,C.download=t||"audio",C.click()}};return N?s.jsxs("div",{className:"text-red-500",children:["Error: ",N]}):s.jsx(ne,{className:"p-6",children:s.jsxs(te.div,{initial:{opacity:0},animate:{opacity:1},children:[n&&s.jsx("img",{src:n,alt:t,className:"w-full h-48 object-cover rounded-lg mb-4"}),s.jsx("h3",{className:"text-xl font-bold mb-4",children:t}),s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsxs(G,{onClick:E,className:"flex-1",children:[o?s.jsx(Ll,{className:"w-4 h-4 mr-2"}):s.jsx(dr,{className:"w-4 h-4 mr-2"}),o?"Pause":"Play"]}),i&&s.jsx(G,{onClick:k,variant:"outline",children:s.jsx(xo,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[g>0?s.jsx(_l,{className:"w-4 h-4"}):s.jsx(Jm,{className:"w-4 h-4"}),s.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:g,onChange:C=>{const R=parseFloat(C.target.value);x(R),j&&(j.volume=R)},className:"flex-1"})]}),s.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[Math.floor(d/60),":",String(Math.floor(d%60)).padStart(2,"0")," /",Math.floor(m/60),":",String(Math.floor(m%60)).padStart(2,"0")]})]})})}sS.propTypes={title:At.string.isRequired,mp3Url:At.string,coverImage:At.string,onPlayComplete:At.func,allowDownload:At.bool,autoplay:At.bool};function iF(){const[t,e]=v.useState(""),[n,r]=v.useState("all"),[i,a]=v.useState("all"),[o,c]=v.useState(null),[d,h]=v.useState(null),{data:m=[],isLoading:f}=Un({queryKey:["audioContent"],queryFn:()=>yt.entities.AudioContent.list("-created_date"),initialData:[]}),{data:g=[]}=Un({queryKey:["featuredAudio"],queryFn:async()=>(await yt.entities.AudioContent.list("-plays_count",5)).filter(E=>E.featured),initialData:[]}),x=m.filter(_=>{var R,F;const E=_.title.toLowerCase().includes(t.toLowerCase())||((R=_.description)==null?void 0:R.toLowerCase().includes(t.toLowerCase()))||((F=_.tags)==null?void 0:F.some(D=>D.toLowerCase().includes(t.toLowerCase()))),k=n==="all"||_.category===n,C=i==="all"||_.age_group===i;return E&&k&&C}),N=async _=>{c(_),h(_.id);try{await yt.entities.AudioContent.update(_.id,{plays_count:(_.plays_count||0)+1})}catch(E){console.error("Error updating play count:",E)}},w=[{value:"all",label:"All Ages"},{value:"3-6",label:"Ages 3-6"},{value:"7-10",label:"Ages 7-10"},{value:"11+",label:"Ages 11+"}],j=[{value:"all",label:"All Categories"},{value:"story",label:"Stories"},{value:"hadith",label:"Hadith"},{value:"history",label:"History"},{value:"nasheed",label:"Nasheeds"},{value:"tajweed",label:"Tajweed"},{value:"fiqh",label:"Fiqh"},{value:"quran",label:"Quran"}];return s.jsx("div",{className:"min-h-screen py-8 md:py-12 px-2 md:px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8 md:mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-gray-900 mb-4",children:"Islamic Audio Library"}),s.jsx("p",{className:"text-base md:text-lg text-gray-600 max-w-2xl mx-auto",children:"Listen to stories, lessons, and nasheeds that teach Islamic values"})]}),g.length>0&&s.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(fn,{className:"w-6 h-6 text-amber-500"}),"Featured Content"]}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:g.slice(0,3).map((_,E)=>s.jsx(te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:E*.1},children:s.jsxs(ne,{className:"overflow-hidden hover:shadow-xl transition-shadow border-2 border-amber-200",children:[_.cover_image&&s.jsx("div",{className:"h-40 overflow-hidden",children:s.jsx("img",{src:_.cover_image,alt:_.title,className:"w-full h-full object-cover"})}),s.jsxs(ie,{className:"p-4",children:[s.jsx("h3",{className:"font-bold text-lg mb-2 line-clamp-1",children:_.title}),s.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:_.description}),s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsx(_e,{className:"text-xs",children:_.duration}),s.jsx(_e,{variant:"outline",className:"text-xs",children:_.age_group})]}),s.jsx(G,{onClick:()=>N(_),size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:s.jsx(dr,{className:"w-4 h-4"})})]})]})]})},_.id))})]}),s.jsx(ne,{className:"mb-8 shadow-lg",children:s.jsx(ie,{className:"p-4 md:p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(io,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx(Te,{placeholder:"Search by title, theme, or tags...",value:t,onChange:_=>e(_.target.value),className:"pl-10"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(en,{value:n,onValueChange:r,children:[s.jsx(Kt,{className:"w-full md:w-[180px]",children:s.jsx(tn,{placeholder:"Category"})}),s.jsx(Gt,{children:j.map(_=>s.jsx(Re,{value:_.value,children:_.label},_.value))})]}),s.jsxs(en,{value:i,onValueChange:a,children:[s.jsx(Kt,{className:"w-full md:w-[150px]",children:s.jsx(tn,{placeholder:"Age Group"})}),s.jsx(Gt,{children:w.map(_=>s.jsx(Re,{value:_.value,children:_.label},_.value))})]})]})]})})}),o&&s.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[s.jsx("h3",{className:"text-xl font-bold mb-4",children:"Now Playing"}),s.jsx(sS,{title:o.title,mp3Url:o.mp3_url,youtubeId:o.youtube_id,coverImage:o.cover_image,allowDownload:o.allow_download,onPlayComplete:()=>console.log("Audio completed")}),s.jsx(ne,{className:"mt-4 p-4",children:s.jsxs("div",{className:"space-y-4",children:[o.description&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"About"}),s.jsx("p",{className:"text-gray-700",children:o.description})]}),o.moral_lesson&&s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border-l-4 border-blue-500",children:[s.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Moral Lesson"}),s.jsx("p",{className:"text-blue-800",children:o.moral_lesson})]}),o.transcript&&s.jsxs("details",{className:"cursor-pointer",children:[s.jsxs("summary",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[s.jsx(Fn,{className:"w-4 h-4"}),"Read Transcript"]}),s.jsx("div",{className:"mt-2 p-4 bg-gray-50 rounded-lg whitespace-pre-wrap text-sm text-gray-700",children:o.transcript})]}),o.license_source&&s.jsx("div",{className:"text-xs text-gray-500",children:s.jsxs("p",{children:["Source: ",o.license_source]})})]})})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-2xl font-bold mb-6",children:["All Audio Content (",x.length,")"]}),f?s.jsx("div",{className:"text-center py-12 text-gray-500",children:"Loading audio content..."}):x.length===0?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"No audio content found. Try adjusting your filters."})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map((_,E)=>s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:E*.05},children:s.jsxs(ne,{className:`hover:shadow-xl transition-all ${d===_.id?"border-2 border-blue-500":""}`,children:[_.cover_image&&s.jsx("div",{className:"h-48 overflow-hidden",children:s.jsx("img",{src:_.cover_image,alt:_.title,className:"w-full h-full object-cover"})}),s.jsxs(ie,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[s.jsx("h3",{className:"font-bold text-lg line-clamp-2 flex-1",children:_.title}),_.status==="broken"&&s.jsx(_e,{variant:"destructive",className:"text-xs",children:"Unavailable"})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-3",children:_.description}),s.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[_.duration&&s.jsx(_e,{variant:"outline",className:"text-xs",children:_.duration}),_.age_group&&s.jsx(_e,{variant:"outline",className:"text-xs",children:_.age_group}),_.category&&s.jsx(_e,{className:"text-xs capitalize",children:_.category})]}),_.tags&&_.tags.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:_.tags.slice(0,3).map((k,C)=>s.jsxs("span",{className:"text-xs text-blue-600",children:["#",k]},C))}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(G,{onClick:()=>N(_),className:"flex-1 bg-blue-600 hover:bg-blue-700",disabled:_.status==="broken"&&!_.youtube_id,children:[s.jsx(dr,{className:"w-4 h-4 mr-2"}),d===_.id?"Playing":"Listen"]}),_.allow_download&&_.mp3_url&&s.jsx(G,{variant:"outline",size:"icon",onClick:()=>window.open(_.mp3_url,"_blank"),children:s.jsx(xo,{className:"w-4 h-4"})})]})]})]})},_.id))})]})]})})}const ow=[{value:"1",name:"Sahih Bukhari",color:"from-green-600 to-emerald-600"},{value:"2",name:"Sahih Muslim",color:"from-blue-600 to-cyan-600"},{value:"3",name:"Sunan Abu Dawud",color:"from-orange-600 to-amber-600"},{value:"4",name:"Jami' at-Tirmidhi",color:"from-purple-600 to-pink-600"},{value:"5",name:"Sunan an-Nasa'i",color:"from-red-600 to-rose-600"},{value:"6",name:"Sunan Ibn Majah",color:"from-indigo-600 to-purple-600"},{value:"7",name:"Muwatta Malik",color:"from-teal-600 to-cyan-600"},{value:"8",name:"Musnad Ahmad",color:"from-amber-600 to-orange-600"}],lw=[{id:1,arabic:"       ",english:"Actions are judged by intentions, and every person will get the reward according to what he intended.",reference:"Sahih Bukhari & Muslim",narrator:"Umar ibn Al-Khattab (RA)",kidsAdvice:"Always do good things because you want to make Allah happy, not to show off to others!"},{id:2,arabic:"    ",english:"The best among you are those who learn the Quran and teach it.",reference:"Sahih Bukhari",narrator:"Uthman (RA)",kidsAdvice:"Learning Quran is amazing! And when you help others learn it too, you become even more special to Allah."},{id:3,arabic:"    ",english:"Your smile in the face of your brother is charity.",reference:"Jami' at-Tirmidhi",narrator:"Abu Dharr (RA)",kidsAdvice:"Smiling at people is free but makes everyone happy! Even a smile counts as a good deed!"},{id:4,arabic:"        ",english:"None of you truly believes until he loves for his brother what he loves for himself.",reference:"Sahih Bukhari & Muslim",narrator:"Anas ibn Malik (RA)",kidsAdvice:"Want good things for your friends just like you want them for yourself. Share happiness and toys!"},{id:5,arabic:"        ",english:"A strong believer is better and more beloved to Allah than a weak believer.",reference:"Sahih Muslim",narrator:"Abu Hurairah (RA)",kidsAdvice:"Being strong means having strong faith, good character, and helping others - not just being physically strong!"},{id:6,arabic:"  ",english:"The best of you are those who are best to their families.",reference:"Sahih Muslim & Tirmidhi",narrator:"Abu Hurairah (RA)",kidsAdvice:"Be kind and helpful to your parents, brothers, and sisters. Your family is very special!"},{id:7,arabic:"  ",english:"A good word is charity.",reference:"Sahih Bukhari & Muslim",narrator:"Abu Hurairah (RA)",kidsAdvice:"Saying nice things to people like 'thank you' and 'please' is a good deed that Allah loves!"},{id:8,arabic:"       ",english:"He will not enter Paradise whose neighbor is not secure from his wrongful conduct.",reference:"Sahih Muslim",narrator:"Abu Hurairah (RA)",kidsAdvice:"Always be nice to your neighbors! Don't be noisy or do things that bother them."},{id:9,arabic:"         ",english:"Whoever believes in Allah and the Last Day should speak good or remain silent.",reference:"Sahih Bukhari & Muslim",narrator:"Abu Hurairah (RA)",kidsAdvice:"If you don't have something nice to say, it's better to stay quiet. Don't say mean things!"},{id:10,arabic:"      ",english:"Allah is Good and accepts only that which is good.",reference:"Sahih Muslim",narrator:"Abu Hurairah (RA)",kidsAdvice:"Always do things with a clean heart and good intentions. Allah loves when we are pure and honest!"}];function aF(){const[t,e]=v.useState(""),[n,r]=v.useState({1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!1,8:!1}),[i,a]=v.useState(null),o=()=>{const f=new Date,g=new Date(f.getFullYear(),0,1),x=f-g,N=1e3*60*60*24*7;return Math.floor(x/N)};v.useEffect(()=>{const g=o()%lw.length;a(lw[g])},[]);const c=f=>{f.preventDefault();const g=Object.entries(n).filter(([N,w])=>w).map(([N,w])=>N).join(","),x=`https://www.searchtruth.com/searchHadith.php?keyword=${encodeURIComponent(t)}&book=${g}&translator=1&search=1`;window.open(x,"_blank")},d=f=>{r(g=>({...g,[f]:!g[f]}))},h=()=>{const f={};ow.forEach(g=>{f[g.value]=!0}),r(f)},m=()=>{const f={};ow.forEach(g=>{f[g.value]=!1}),r(f)};return s.jsx("div",{className:"min-h-screen py-8 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Hadith Library"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Learn authentic hadiths from Prophet Muhammad () - Changes every week!"})]}),i&&s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-12",children:s.jsxs(ne,{className:"border-4 border-amber-400 shadow-2xl bg-gradient-to-br from-amber-50 to-orange-50",children:[s.jsxs(Fe,{className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white",children:[s.jsxs(Ve,{className:"text-2xl flex items-center gap-2 justify-center",children:[s.jsx(fn,{className:"w-6 h-6"}),"Hadith of This Week",s.jsx(fn,{className:"w-6 h-6"})]}),s.jsx("p",{className:"text-center text-amber-100 text-sm mt-2",children:"Changes every Monday!"})]}),s.jsxs(ie,{className:"p-8",children:[s.jsx("div",{className:"mb-6 text-center bg-white p-6 rounded-xl border-2 border-amber-200",children:s.jsx("p",{className:"text-3xl md:text-4xl lg:text-5xl leading-loose text-gray-900 mb-2",style:{fontFamily:"'Amiri', 'Scheherazade New', 'Traditional Arabic', 'Arabic Typesetting', serif",lineHeight:"2.5",direction:"rtl"},children:i.arabic})}),s.jsxs("div",{className:"mb-6 bg-white p-6 rounded-xl border-2 border-amber-200",children:[s.jsxs("p",{className:"text-lg md:text-xl text-gray-800 leading-relaxed italic",children:['"',i.english,'"']}),s.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[s.jsx(_e,{className:"bg-amber-600 text-white",children:i.reference}),s.jsxs(_e,{variant:"outline",className:"border-amber-600 text-amber-700",children:["Narrator: ",i.narrator]})]})]}),s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-6 rounded-xl border-2 border-blue-200",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(th,{className:"w-6 h-6 text-blue-600 flex-shrink-0 mt-1"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-lg text-gray-900 mb-2",children:" For Kids:"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:i.kidsAdvice})]})]})})]})]})}),s.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6 text-center",children:" Learn These 10 Beautiful Hadiths"}),s.jsx("div",{className:"grid gap-6",children:lw.map((f,g)=>s.jsx(te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:g*.1},children:s.jsx(ne,{className:"hover:shadow-xl transition-all border-2 border-gray-200 hover:border-blue-300",children:s.jsx(ie,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[s.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-purple-500 text-white w-10 h-10 rounded-full flex items-center justify-center font-bold flex-shrink-0",children:g+1}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-6 rounded-xl border-2 border-green-200 mb-4",children:s.jsx("p",{className:"text-2xl md:text-3xl lg:text-4xl leading-loose text-gray-900",style:{fontFamily:"'Amiri', 'Scheherazade New', 'Traditional Arabic', 'Arabic Typesetting', serif",lineHeight:"2.5",direction:"rtl",textAlign:"right"},children:f.arabic})}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-4",children:[s.jsxs("p",{className:"text-base md:text-lg text-gray-800 leading-relaxed italic",children:['"',f.english,'"']}),s.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[s.jsx(_e,{className:"bg-green-600",children:f.reference}),s.jsx(_e,{variant:"outline",children:f.narrator})]})]}),s.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border-l-4 border-blue-500",children:s.jsxs("p",{className:"text-sm md:text-base text-gray-700",children:[s.jsx("strong",{className:"text-blue-700",children:" Lesson:"})," ",f.kidsAdvice]})})]})]})})})},f.id))})]}),s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8",children:s.jsxs(ne,{className:"border-2 border-blue-200 shadow-xl",children:[s.jsxs(Fe,{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:[s.jsxs(Ve,{className:"text-2xl flex items-center gap-2",children:[s.jsx(io,{className:"w-6 h-6"}),"Search More Hadiths"]}),s.jsx("p",{className:"text-blue-100 text-sm mt-2",children:"Search thousands of authentic hadiths"})]}),s.jsx(ie,{className:"p-6",children:s.jsxs("form",{onSubmit:c,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Enter keyword or topic"}),s.jsx(Te,{type:"text",value:t,onChange:f=>e(f.target.value),placeholder:"e.g., prayer, charity, kindness...",className:"text-base",required:!0})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Select Hadith Books"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(G,{type:"button",variant:"outline",size:"sm",onClick:h,children:"Select All"}),s.jsx(G,{type:"button",variant:"outline",size:"sm",onClick:m,children:"Deselect All"})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:ow.map(f=>s.jsx("div",{onClick:()=>d(f.value),className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${n[f.value]?`bg-gradient-to-r ${f.color} text-white border-transparent shadow-lg`:"bg-white border-gray-200 hover:border-blue-300"}`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-6 h-6 rounded border-2 flex items-center justify-center ${n[f.value]?"bg-white border-white":"border-gray-300"}`,children:n[f.value]&&s.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{d:"M5 13l4 4L19 7"})})}),s.jsx("span",{className:"font-semibold",children:f.name})]})},f.value))})]}),s.jsxs(G,{type:"submit",size:"lg",className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-lg",disabled:!t.trim()||Object.values(n).every(f=>!f),children:[s.jsx(io,{className:"w-5 h-5 mr-2"}),"Search Hadiths",s.jsx(Qm,{className:"w-4 h-4 ml-2"})]}),s.jsx("p",{className:"text-sm text-gray-500 text-center",children:"Powered by SearchTruth.com"})]})})]})}),s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:s.jsxs(ne,{className:"bg-gradient-to-br from-green-50 to-emerald-50 border-2 border-green-200",children:[s.jsx(Fe,{children:s.jsx(Ve,{className:"text-2xl",children:"About Hadiths"})}),s.jsxs(ie,{className:"space-y-3",children:[s.jsxs("p",{className:"text-gray-700",children:[s.jsx("strong",{children:"Hadiths"})," are the sayings and actions of Prophet Muhammad (). They teach us how to be good Muslims and follow Allah's path."]}),s.jsxs("p",{className:"text-gray-700",children:["The most authentic collections are ",s.jsx("strong",{children:"Sahih Bukhari"})," and ",s.jsx("strong",{children:"Sahih Muslim"}),", which have been carefully verified by Islamic scholars."]}),s.jsx("p",{className:"text-gray-700",children:"Learning hadiths helps us understand the Quran better and know how to live like the Prophet () taught us."})]})]})})]})})}const pfe=[{id:1,category:"Prophets",title:"Prophet Ibrahim (AS) and the Idols",summary:"Learn about Prophet Ibrahim's bravery when he destroyed the idols",content:`Prophet Ibrahim (AS) lived among people who worshipped idols made of stone and wood. He knew this was wrong because only Allah deserves to be worshipped.

One day, when everyone went to a festival, Prophet Ibrahim (AS) went to the temple. He broke all the idols except the biggest one, and placed the axe in its hand!

When people returned and asked who did this, Prophet Ibrahim (AS) pointed to the biggest idol and said, "Ask him, if he can speak!" 

The people realized their idols couldn't speak, move, or do anything. This made them think about how foolish it was to worship them.`,moral:"We should worship only Allah and have courage to stand for what is right.",image:"https://images.unsplash.com/photo-1564769625905-50e93615e769?w=800",audioUrl:"",ageGroup:"7-10"},{id:2,category:"Prophets",title:"Prophet Yusuf (AS) in the Well",summary:"The story of Prophet Yusuf and his jealous brothers",content:`Prophet Yusuf (AS) was dearly loved by his father, Prophet Yaqub (AS). His brothers became jealous and made a plan to get rid of him.

They threw young Yusuf into a deep, dark well! But Allah protected him. Travelers found him and took him to Egypt.

Years later, after many trials, Prophet Yusuf (AS) became a powerful leader in Egypt. When his brothers came for help during a famine, he forgave them!`,moral:"Forgiveness is a beautiful quality. Allah always has a plan for us, even in difficult times.",image:"https://images.unsplash.com/photo-1542601906990-b4d3fb778b09?w=800",audioUrl:"",ageGroup:"7-10"},{id:3,category:"Sahabah",title:"Abu Bakr (RA) - The Best Friend",summary:"How Abu Bakr supported the Prophet ",content:`Abu Bakr (RA) was the Prophet Muhammad's  closest friend. When others doubted, he always believed.

When the Prophet  told about his night journey (Isra and Mi'raj), many people didn't believe him. But Abu Bakr (RA) said immediately: "If he said it, then it is true!"

He spent his wealth to help Islam and even accompanied the Prophet  on the dangerous journey to Madinah, hiding in a cave together.`,moral:"True friendship means standing by your friends and believing in them.",image:"https://images.unsplash.com/photo-1564769625905-50e93615e769?w=800",audioUrl:"",ageGroup:"7-10"},{id:4,category:"Makkah & Madinah",title:"The Building of the Kaaba",summary:"Learn about the sacred Kaaba's history",content:`The Kaaba was first built by Prophet Ibrahim (AS) and his son Ismail (AS) thousands of years ago. They built it as a house of worship for Allah.

Prophet Ibrahim (AS) would pray: "O our Lord! I have settled some of my family in a valley without cultivation near Your Sacred House..."

Today, millions of Muslims from around the world face the Kaaba when they pray, and visit it during Hajj.`,moral:"The Kaaba reminds us that all Muslims are united in worshipping Allah.",image:"https://images.unsplash.com/photo-1591604129939-f1efa4d9f7fa?w=800",audioUrl:"",ageGroup:"7-10"},{id:5,category:"Sahabah",title:"Bilal (RA) - The First Muezzin",summary:"The amazing story of Bilal's beautiful voice",content:`Bilal (RA) was once a slave who was tortured for accepting Islam. His master would leave him under the burning sun with a heavy rock on his chest.

But Bilal would only say: "Ahad, Ahad!" meaning "One God, One God!"

When Islam became strong, the Prophet  chose Bilal to be the first person ever to call Muslims to prayer! His beautiful, strong voice echoed through Madinah.`,moral:"No matter where you come from, if you have faith and patience, Allah will honor you.",image:"https://images.unsplash.com/photo-1542601906990-b4d3fb778b09?w=800",audioUrl:"",ageGroup:"7-10"}];function oF(){const[t,e]=v.useState("Prophets"),[n,r]=v.useState(null),i=["Prophets","Sahabah","Makkah & Madinah"],a=pfe.filter(o=>o.category===t);return s.jsx("div",{className:"min-h-screen py-8 md:py-12 px-2 md:px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-gray-900 mb-4",children:"Islamic History"}),s.jsx("p",{className:"text-base md:text-lg text-gray-600 max-w-2xl mx-auto",children:"Amazing stories from Islamic history"})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-8 justify-center",children:i.map(o=>s.jsx(G,{onClick:()=>{e(o),r(null)},variant:t===o?"default":"outline",className:t===o?"bg-blue-600":"",children:o},o))}),n?s.jsxs(te.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},children:[s.jsx(G,{variant:"ghost",onClick:()=>r(null),className:"mb-4",children:" Back to Stories"}),s.jsxs(ne,{className:"shadow-xl",children:[s.jsx(Fe,{className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white",children:s.jsx(Ve,{className:"text-2xl",children:n.title})}),s.jsxs(ie,{className:"p-6",children:[n.image&&s.jsx("div",{className:"mb-6",children:s.jsx("img",{src:n.image,alt:n.title,className:"w-full h-64 object-cover rounded-lg"})}),n.audioUrl&&s.jsx("div",{className:"mb-6",children:s.jsx(sS,{title:n.title,mp3Url:n.audioUrl,coverImage:n.image})}),s.jsx("div",{className:"prose max-w-none mb-6",children:s.jsx("p",{className:"text-gray-800 leading-relaxed whitespace-pre-line text-lg",children:n.content})}),s.jsxs("div",{className:"bg-green-50 rounded-lg p-6 border-l-4 border-green-500",children:[s.jsx("h4",{className:"font-semibold text-green-900 mb-2",children:" Moral of the Story:"}),s.jsx("p",{className:"text-green-800",children:n.moral})]})]})]})]}):s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map((o,c)=>s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:c*.1},children:s.jsxs(ne,{className:"h-full hover:shadow-xl transition-shadow cursor-pointer",onClick:()=>r(o),children:[o.image&&s.jsx("div",{className:"h-48 overflow-hidden",children:s.jsx("img",{src:o.image,alt:o.title,className:"w-full h-full object-cover"})}),s.jsxs(ie,{className:"p-4",children:[s.jsx(_e,{className:"mb-3",children:o.category}),s.jsx("h3",{className:"font-bold text-lg mb-2",children:o.title}),s.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:o.summary}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(_e,{variant:"outline",className:"text-xs",children:o.ageGroup}),s.jsx(CR,{className:"w-5 h-5 text-blue-600"})]})]})]})},o.id))})]})})}At.string,At.string,At.string,At.string,At.string,At.bool,At.bool,At.bool,At.func;const FI=[{id:"noon_sakinah_idgham",category:"Noon Sakinah & Tanween",title:"Idgham (Merging)",kidExplanation:"Idgham means merging or blending. When noon sakinah () or tanween (  ) comes before these 6 letters:       - you merge them together smoothly!",arabicExample:" ",exampleTranslation:"from their Lord",surahReference:"Al-Baqarah 2:5",ruleHighlight:"The noon in 'min' merges with the 'raa' in 'rabbihim'",whyThisShowsRule:"Notice how the noon sound blends smoothly into the 'r' sound without a pause.",quiz:[{question:"Which letters cause Idgham?",options:["     "," ","","   "],correct:0},{question:"What does Idgham mean?",options:["Hiding","Merging/Blending","Showing clearly","Changing"],correct:1},{question:"In ' ', which rule applies?",options:["Ikhfa","Idgham","Iqlab","Izhar"],correct:1}]},{id:"noon_sakinah_ikhfa",category:"Noon Sakinah & Tanween",title:"Ikhfa (Hiding)",kidExplanation:"Ikhfa means hiding. When noon sakinah or tanween comes before 15 specific letters, you hide the noon sound a little bit - it's between showing and merging!",arabicExample:" ",exampleTranslation:"whoever does",surahReference:"Az-Zalzalah 99:7",ruleHighlight:"The noon in 'man' is hidden before the 'ya' in 'ya'mal'",whyThisShowsRule:"The noon sound is softened and hidden with a slight nasal sound (ghunnah).",quiz:[{question:"How many letters cause Ikhfa?",options:["4","6","15","28"],correct:2},{question:"What does Ikhfa mean?",options:["Merging","Hiding","Showing","Changing"],correct:1},{question:"Is there ghunnah (nasal sound) in Ikhfa?",options:["Yes","No","Sometimes","Never"],correct:0}]},{id:"noon_sakinah_iqlab",category:"Noon Sakinah & Tanween",title:"Iqlab (Changing)",kidExplanation:"Iqlab means changing. When noon sakinah or tanween comes before the letter '' (baa), you change the noon sound to '' (meem) sound!",arabicExample:" ",exampleTranslation:"after",surahReference:"Al-Baqarah 2:27",ruleHighlight:"The noon in 'min' changes to a meem sound before 'ba'd'",whyThisShowsRule:"The noon completely transforms into a meem sound when followed by baa.",quiz:[{question:"Which letter causes Iqlab?",options:[" only"," only"," only"," and "],correct:0},{question:"What sound does noon change to?",options:["Baa","Meem","Noon","Laam"],correct:1},{question:"Is there ghunnah in Iqlab?",options:["Yes","No"],correct:0}]},{id:"noon_sakinah_izhar",category:"Noon Sakinah & Tanween",title:"Izhar (Clear Pronunciation)",kidExplanation:"Izhar means to show clearly. When noon sakinah or tanween comes before the 6 throat letters (     ), you pronounce the noon very clearly!",arabicExample:" ",exampleTranslation:"whoever believes",surahReference:"Al-Baqarah 2:62",ruleHighlight:"The noon in 'man' is pronounced clearly before the hamza () in 'aamana'",whyThisShowsRule:"The noon sound is fully pronounced without any hiding or merging.",quiz:[{question:"How many throat letters cause Izhar?",options:["4","5","6","7"],correct:2},{question:"What does Izhar mean?",options:["Hiding","Merging","Showing clearly","Changing"],correct:2},{question:"Is there ghunnah in Izhar?",options:["Yes","No"],correct:1}]},{id:"meem_sakinah_idgham_shafawi",category:"Meem Sakinah",title:"Idgham Shafawi (Lip Merging)",kidExplanation:"When meem sakinah () comes before another meem (), you merge them together! It's called 'shafawi' because you use your lips to pronounce it.",arabicExample:" ",exampleTranslation:"for them is what",surahReference:"Al-Baqarah 2:25",ruleHighlight:"The meem in 'lahum' merges with the meem in 'ma'",whyThisShowsRule:"Two meems come together and are pronounced as one long meem with ghunnah.",quiz:[{question:"When does Idgham Shafawi happen?",options:["Meem before meem","Meem before baa","Meem before noon","Meem before any letter"],correct:0},{question:"Is there ghunnah in Idgham Shafawi?",options:["Yes","No"],correct:0},{question:"Why is it called 'shafawi'?",options:["It's hidden","Uses the lips","Uses the throat","It's merged"],correct:1}]},{id:"meem_sakinah_ikhfa_shafawi",category:"Meem Sakinah",title:"Ikhfa Shafawi (Lip Hiding)",kidExplanation:"When meem sakinah () comes before '' (baa), you hide the meem sound slightly! Close your lips and make a soft nasal sound.",arabicExample:" ",exampleTranslation:"striking them with stones",surahReference:"Al-Feel 105:4",ruleHighlight:"The meem in 'tarmeehim' is hidden before the baa in 'bihijarah'",whyThisShowsRule:"The meem is softened and pronounced with the lips closed, creating a nasal sound.",quiz:[{question:"Which letter causes Ikhfa Shafawi?",options:["","","","All letters"],correct:1},{question:"How do you pronounce Ikhfa Shafawi?",options:["Clearly","Hidden with ghunnah","Merged","Changed"],correct:1},{question:"What does 'shafawi' mean?",options:["Throat","Lip","Tongue","Nose"],correct:1}]},{id:"qalqalah",category:"Qalqalah",title:"Qalqalah (Echoing Sound)",kidExplanation:"Qalqalah means a bouncing or echoing sound! When these 5 letters have sukoon (), they bounce:     . Remember: 'Qutb Jad'!",arabicExample:"",exampleTranslation:"One (Allah is One)",surahReference:"Al-Ikhlas 112:1",ruleHighlight:"The 'dal' () at the end has qalqalah",whyThisShowsRule:"The letter 'd' bounces when you stop on it, creating an echoing sound.",quiz:[{question:"Which letters have qalqalah?",options:["    ","   ","   ","   "],correct:0},{question:"What does qalqalah mean?",options:["Merging","Bouncing/Echoing","Hiding","Stretching"],correct:1},{question:"How do you remember qalqalah letters?",options:["Qutb Jad","Noon Wa Laam","Meem Baa","Raa Laam"],correct:0}]},{id:"madd_tabee'ee",category:"Madd (Elongation)",title:"Madd Tabee'ee (Natural Elongation)",kidExplanation:"Madd means to stretch or lengthen. Natural madd happens when you see alif (), waw (), or ya () - you stretch the sound for 2 counts!",arabicExample:"",exampleTranslation:"he said",surahReference:"Al-Baqarah 2:30",ruleHighlight:"The alif after 'qaf' creates natural madd",whyThisShowsRule:"The alif stretches the 'a' sound for 2 counts: qaaala.",quiz:[{question:"Which letters create madd?",options:["  ","  "," "," "],correct:0},{question:"How long is natural madd?",options:["1 count","2 counts","4 counts","6 counts"],correct:1},{question:"What does madd mean?",options:["Hiding","Bouncing","Stretching/Lengthening","Merging"],correct:2}]},{id:"laam_shamsiyyah",category:"Laam Rules",title:"Laam Shamsiyyah (Sun Letters)",kidExplanation:"When '' (al) comes before 14 'sun letters', the laam is hidden and the next letter is doubled! Like:  (ash-shams) not (al-shams).",arabicExample:"",exampleTranslation:"The Most Merciful",surahReference:"Al-Fatihah 1:3",ruleHighlight:"The laam in '' is hidden before '', making it 'ar-Rahman' not 'al-Rahman'",whyThisShowsRule:"The 'r' is a sun letter, so the laam is assimilated into it.",quiz:[{question:"How many sun letters are there?",options:["12","13","14","15"],correct:2},{question:"What happens to the laam before sun letters?",options:["It's pronounced clearly","It's hidden","It's changed","It's bounced"],correct:1},{question:"Is '' a sun letter?",options:["Yes","No"],correct:0}]},{id:"laam_qamariyyah",category:"Laam Rules",title:"Laam Qamariyyah (Moon Letters)",kidExplanation:"When '' (al) comes before 14 'moon letters', you pronounce the laam clearly! Like:  (al-qamar).",arabicExample:"",exampleTranslation:"the worlds",surahReference:"Al-Fatihah 1:2",ruleHighlight:"The laam in '' is pronounced clearly before '', making it 'al-'aalameen'",whyThisShowsRule:"The 'ayn' is a moon letter, so the laam is pronounced fully.",quiz:[{question:"How many moon letters are there?",options:["12","13","14","15"],correct:2},{question:"What happens to the laam before moon letters?",options:["It's hidden","It's pronounced clearly","It's merged","It's changed"],correct:1},{question:"Is '' a moon letter?",options:["Yes","No"],correct:0}]},{id:"raa_tafkheem",category:"Raa Rules",title:"Raa Tafkheem (Heavy R)",kidExplanation:"Sometimes the letter '' (raa) is pronounced heavy (with a full mouth). This happens when raa has fatha (), damma (), or comes after these vowels!",arabicExample:"",exampleTranslation:"Lord",surahReference:"Al-Fatihah 1:2",ruleHighlight:"The raa has fatha, so it's pronounced heavy: 'Rabb'",whyThisShowsRule:"The fatha makes the raa sound thick and full.",quiz:[{question:"When is raa heavy?",options:["With kasra always","With fatha or damma","Never","With sukoon always"],correct:1},{question:"What does tafkheem mean?",options:["Light","Heavy/Thick","Hidden","Merged"],correct:1},{question:"In '', is the raa heavy or light?",options:["Heavy","Light"],correct:0}]},{id:"raa_tarqeeq",category:"Raa Rules",title:"Raa Tarqeeq (Light R)",kidExplanation:"Sometimes the letter '' (raa) is pronounced light (with an empty mouth). This happens when raa has kasra () or comes after kasra!",arabicExample:"",exampleTranslation:"provision",surahReference:"Al-Baqarah 2:22",ruleHighlight:"The raa has kasra, so it's pronounced light: 'rizqan'",whyThisShowsRule:"The kasra makes the raa sound thin and light.",quiz:[{question:"When is raa light?",options:["With fatha","With kasra","Never","Always"],correct:1},{question:"What does tarqeeq mean?",options:["Heavy","Light/Thin","Hidden","Bouncing"],correct:1},{question:"In '', is the raa heavy or light?",options:["Heavy","Light"],correct:1}]}];function lF(){const[t,e]=v.useState("All"),[n,r]=v.useState(null),[i,a]=v.useState({}),[o,c]=v.useState(!1),[d,h]=v.useState(-1),[m,f]=v.useState(!1),g=["All","Noon Sakinah & Tanween","Meem Sakinah","Qalqalah","Madd (Elongation)","Laam Rules","Raa Rules"],x=t==="All"?FI:FI.filter(_=>_.category===t),N=(_,E)=>{a({...i,[_]:E})},w=()=>{if(!(n!=null&&n.quiz))return 0;let _=0;return n.quiz.forEach((E,k)=>{i[k]===E.correct&&_++}),_},j=()=>{a({}),c(!1)};return s.jsx("div",{className:"min-h-screen py-8 md:py-12 px-2 md:px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-gray-900 mb-4",children:"Learn Tajweed"}),s.jsx("p",{className:"text-base md:text-lg text-gray-600 max-w-2xl mx-auto",children:"Learn to recite the Quran beautifully with proper pronunciation rules"})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-8 justify-center",children:g.map(_=>s.jsx(G,{onClick:()=>{e(_),r(null)},variant:t===_?"default":"outline",size:"sm",className:t===_?"bg-teal-600":"",children:_},_))}),n?s.jsxs(te.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},children:[s.jsx(G,{variant:"ghost",onClick:()=>{r(null),j(),h(-1)},className:"mb-4",children:" Back to Rules"}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2 space-y-6",children:s.jsxs(ne,{className:"shadow-xl",children:[s.jsx(Fe,{className:"bg-gradient-to-r from-teal-500 to-cyan-500 text-white",children:s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[s.jsx(Ve,{className:"text-xl md:text-2xl",children:n.title}),s.jsx(_e,{className:"bg-white/20 text-white",children:n.category})]})}),s.jsxs(ie,{className:"p-4 md:p-6",children:[s.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 mb-6 border-l-4 border-blue-500",children:[s.jsxs("h4",{className:"font-semibold text-blue-900 mb-2 flex items-center gap-2",children:[" What is ",n.title,"?"]}),s.jsx("p",{className:"text-gray-800 leading-relaxed text-base",children:n.kidExplanation})]}),s.jsxs("div",{className:"bg-amber-50 rounded-lg p-6 mb-6 border-r-4 border-amber-500",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h4",{className:"font-semibold text-amber-900",children:" Quran Example:"}),s.jsxs(G,{variant:"outline",size:"sm",onClick:()=>f(!m),children:[m?"Hide":"Show"," Transliteration"]})]}),s.jsx("div",{className:"text-3xl md:text-4xl text-right mb-3 leading-relaxed",dir:"rtl",children:n.arabicExample}),s.jsx("p",{className:"text-gray-700 mb-2 italic",children:n.exampleTranslation}),s.jsx(_e,{variant:"outline",className:"mb-4",children:n.surahReference}),s.jsx("div",{className:"bg-white rounded-lg p-4 mb-4",children:s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("strong",{children:"Why this shows the rule:"})," ",n.whyThisShowsRule]})}),s.jsx("div",{className:"bg-teal-50 rounded-lg p-4",children:s.jsxs("p",{className:"text-sm text-teal-900",children:[s.jsx("strong",{children:" Focus:"})," ",n.ruleHighlight]})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"font-semibold mb-3 text-lg flex items-center gap-2",children:" Listen & Practice"}),s.jsx("div",{className:"bg-purple-50 rounded-lg p-4 mb-4",children:s.jsx("p",{className:"text-sm text-purple-900",children:"Note: Audio recitation coming soon. For now, practice with your teacher or use online Quran recitation resources!"})})]})]})]})}),s.jsx("div",{className:"space-y-6",children:s.jsxs(ne,{className:"shadow-xl sticky top-24",children:[s.jsx(Fe,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white",children:s.jsxs(Ve,{className:"text-lg md:text-xl flex items-center gap-2",children:[s.jsx(Dd,{className:"w-5 h-5"}),"Test Your Knowledge"]})}),s.jsx(ie,{className:"p-4",children:o?s.jsxs(te.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},children:[s.jsxs("div",{className:"text-center mb-4",children:[s.jsx("div",{className:"text-5xl mb-3",children:w()===n.quiz.length?"":""}),s.jsxs("h3",{className:"text-xl font-bold mb-2",children:["Score: ",w()," / ",n.quiz.length]}),s.jsx("p",{className:"text-gray-600 text-sm",children:w()===n.quiz.length?"Masha'Allah! Perfect score!":"Good try! Review and try again."})]}),s.jsx("div",{className:"space-y-2 mb-4",children:n.quiz.map((_,E)=>{const k=i[E]===_.correct;return s.jsx("div",{className:`p-3 rounded-lg ${k?"bg-green-50":"bg-red-50"}`,children:s.jsxs("div",{className:"flex items-start gap-2",children:[k?s.jsx(eh,{className:"w-4 h-4 text-green-600 flex-shrink-0 mt-0.5"}):s.jsx(fy,{className:"w-4 h-4 text-red-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-xs",children:[s.jsx("p",{className:"font-semibold mb-1",children:_.question}),s.jsxs("p",{className:"text-gray-600",children:["Correct: ",_.options[_.correct]]})]})]})},E)})}),s.jsx(G,{onClick:j,className:"w-full",variant:"outline",children:"Try Again"})]}):s.jsxs("div",{className:"space-y-4",children:[n.quiz.map((_,E)=>s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("p",{className:"font-semibold mb-3 text-sm",children:[E+1,". ",_.question]}),s.jsx("div",{className:"space-y-2",children:_.options.map((k,C)=>s.jsx(G,{onClick:()=>N(E,C),variant:i[E]===C?"default":"outline",className:"w-full justify-start text-left h-auto py-2 text-xs",size:"sm",children:k},C))})]},E)),s.jsx(G,{onClick:()=>c(!0),disabled:Object.keys(i).length!==n.quiz.length,className:"w-full bg-green-600 hover:bg-green-700",children:"Check Answers"})]})})]})})]})]}):s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:s.jsx(ri,{children:x.map((_,E)=>s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:E*.05},children:s.jsxs(ne,{className:"h-full hover:shadow-xl transition-all duration-300 cursor-pointer group",onClick:()=>{r(_),j()},children:[s.jsxs(Fe,{className:"pb-3",children:[s.jsx(_e,{className:"mb-2 w-fit text-xs",children:_.category}),s.jsx(Ve,{className:"text-lg md:text-xl group-hover:text-teal-600 transition-colors leading-tight",children:_.title})]}),s.jsxs(ie,{children:[s.jsx("div",{className:"bg-amber-50 rounded-lg p-3 mb-3",children:s.jsx("p",{className:"text-2xl md:text-3xl text-right",dir:"rtl",children:_.arabicExample})}),s.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mb-3",children:_.kidExplanation}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(_e,{variant:"outline",className:"text-xs",children:[_.quiz.length," Quiz Questions"]}),s.jsx(G,{size:"sm",variant:"ghost",className:"text-xs",children:"Learn "})]})]})]})},_.id))})})]})})}function cF(){const t=[{id:"quran",title:"Qur'an Knowledge Quiz",icon:"",description:"Test knowledge of Surahs, verses, and Quranic stories",levels:["Easy","Medium","Hard"],color:"from-green-500 to-teal-500"},{id:"prophets",title:"Prophets & Messengers Quiz",icon:"",description:"Learn about the noble prophets mentioned in the Quran",levels:["Easy","Medium","Hard"],color:"from-blue-500 to-indigo-500"},{id:"seerah",title:"Life of Prophet Muhammad ",icon:"",description:"Questions about the Seerah and the Prophet's life",levels:["Easy","Medium","Hard"],color:"from-purple-500 to-pink-500"},{id:"fiqh",title:"Fiqh & Islamic Practices",icon:"",description:"Salah, fasting, Hajj, and daily Islamic practices",levels:["Easy","Medium","Hard"],color:"from-amber-500 to-orange-500"},{id:"akhlaq",title:"Islamic Manners & Character",icon:"",description:"Good character, honesty, kindness, and respect",levels:["Easy","Medium"],color:"from-rose-500 to-pink-500"},{id:"history",title:"Islamic History Quiz",icon:"",description:"Sahabah, battles, caliphs, and Islamic civilization",levels:["Medium","Hard"],color:"from-cyan-500 to-blue-500"}],e=(r,i)=>{alert(`Downloading ${r} - ${i} quiz... (Feature coming soon!)`)},n=(r,i)=>{alert(`Preparing to print ${r} - ${i} quiz... (Feature coming soon!)`)};return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Printable Islamic Quizzes"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Download and print Islamic quizzes for your children, students, or homeschool!"})]}),s.jsx(te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-12",children:s.jsx(ne,{className:"border-4 border-blue-200 bg-gradient-to-r from-blue-50 to-purple-50",children:s.jsxs(ie,{className:"p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-blue-900 mb-3",children:"For Parents & Teachers"}),s.jsxs("ul",{className:"space-y-2 text-blue-800",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"All quizzes are designed for kids ages 5-12"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"Answer keys included for easy grading"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"Perfect for homeschooling, Islamic schools, or weekend classes"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"Free to download and print!"})]})]})]})})}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12",children:t.map((r,i)=>s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:i*.1},children:s.jsxs(ne,{className:"h-full hover:shadow-xl transition-all duration-300 border-2 border-gray-100",children:[s.jsx(Fe,{className:`bg-gradient-to-br ${r.color} text-white`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"text-5xl",children:r.icon}),s.jsx(Ve,{className:"text-xl",children:r.title})]})}),s.jsxs(ie,{className:"p-6",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:r.description}),s.jsx("div",{className:"space-y-2",children:r.levels.map(a=>s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(G,{onClick:()=>e(r.title,a),className:"flex-1 bg-blue-600 hover:bg-blue-700",size:"sm",children:[s.jsx(xo,{className:"w-4 h-4 mr-2"}),a]}),s.jsx(G,{onClick:()=>n(r.title,a),variant:"outline",size:"sm",children:s.jsx(PR,{className:"w-4 h-4"})})]},a))})]})]})},r.id))}),s.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:s.jsx(ne,{className:"border-4 border-green-300 bg-gradient-to-r from-green-50 to-teal-50",children:s.jsxs(ie,{className:"p-8 text-center",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Submit Your Own Quiz Questions!"}),s.jsx("p",{className:"text-lg text-gray-700 mb-6 max-w-2xl mx-auto",children:"Have great Islamic quiz questions or crosswords? Share them with us and they might be featured!"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsxs(G,{onClick:()=>window.location.href="mailto:huzaify786@gmail.com?subject=Islamic Quiz Submission",className:"bg-gradient-to-r from-green-500 to-teal-500 hover:from-green-600 hover:to-teal-600",size:"lg",children:[s.jsx(py,{className:"w-5 h-5 mr-2"}),"Email Your Submission"]}),s.jsx(G,{onClick:()=>window.open("https://wa.me/447447999284?text=I'd like to submit Islamic quiz questions!","_blank"),className:"bg-green-600 hover:bg-green-700",size:"lg",children:" WhatsApp Us"})]})]})})})]})})}const iS=v.createContext(),uF=({children:t})=>{const[e,n]=v.useState(null),[r,i]=v.useState(!1),[a,o]=v.useState(null),c=m=>{a&&a.pause();const f=new Audio(m.url);f.play().catch(g=>{console.error("Error playing audio:",g),St.error("Could not play audio. Please try another.")}),o(f),n(m),i(!0),f.onended=()=>{i(!1)}},d=()=>{a&&(a.pause(),i(!1))},h=()=>{a&&(a.play(),i(!0))};return s.jsx(iS.Provider,{value:{currentAudio:e,isPlaying:r,playAudio:c,pauseAudio:d,resumeAudio:h},children:t})};uF.propTypes={children:At.node.isRequired};const gfe={quran:[{id:"fatiha",title:"Surah Al-Fatiha",reciter:"Mishary Rashid Alafasy",url:"https://server8.mp3quran.net/afs/001.mp3",category:"Quran"},{id:"yaseen",title:"Surah Yaseen",reciter:"Mishary Rashid Alafasy",url:"https://server8.mp3quran.net/afs/036.mp3",category:"Quran"},{id:"mulk",title:"Surah Al-Mulk",reciter:"Mishary Rashid Alafasy",url:"https://server8.mp3quran.net/afs/067.mp3",category:"Quran"},{id:"rahman",title:"Surah Ar-Rahman",reciter:"Mishary Rashid Alafasy",url:"https://server8.mp3quran.net/afs/055.mp3",category:"Quran"},{id:"kahf",title:"Surah Al-Kahf",reciter:"Mishary Rashid Alafasy",url:"https://server8.mp3quran.net/afs/018.mp3",category:"Quran"}]},dF=({audio:t})=>{const{currentAudio:e,isPlaying:n,playAudio:r,pauseAudio:i,resumeAudio:a}=v.useContext(iS),o=(e==null?void 0:e.id)===t.id&&n;return s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-5},children:s.jsx(ne,{className:"hover:shadow-xl transition-all duration-300",children:s.jsxs(ie,{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:t.title}),t.reciter&&s.jsx("p",{className:"text-sm text-gray-600",children:t.reciter}),t.artist&&s.jsx("p",{className:"text-sm text-gray-600",children:t.artist}),t.narrator&&s.jsx("p",{className:"text-sm text-gray-600",children:t.narrator}),t.speaker&&s.jsx("p",{className:"text-sm text-gray-600",children:t.speaker})]}),s.jsx(_e,{className:"bg-gradient-to-r from-green-500 to-teal-500 text-white",children:t.category})]}),t.description&&s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:t.description}),s.jsx("div",{className:"flex gap-2",children:s.jsx(G,{onClick:()=>{o?i():(e==null?void 0:e.id)===t.id?a():r(t)},className:"flex-1 bg-gradient-to-r from-green-500 to-teal-500 hover:from-green-600 hover:to-teal-600",children:o?s.jsxs(s.Fragment,{children:[s.jsx(Ll,{className:"w-4 h-4 mr-2"}),"Pause"]}):s.jsxs(s.Fragment,{children:[s.jsx(dr,{className:"w-4 h-4 mr-2"}),(e==null?void 0:e.id)===t.id?"Resume":"Play"]})})})]})})})};dF.propTypes={audio:At.shape({id:At.string.isRequired,title:At.string.isRequired,url:At.string.isRequired,reciter:At.string,artist:At.string,narrator:At.string,speaker:At.string,category:At.string.isRequired,description:At.string}).isRequired};function xfe(){var r;const[t,e]=v.useState("quran"),n=[{id:"quran",name:"Quran Recitations",icon:"",description:"Listen to beautiful Quran recitations"}];return s.jsxs("div",{className:"min-h-screen py-12 px-4",children:[s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Islamic Multimedia"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Listen to beautiful Quran recitations"})]}),s.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-12",children:n.map(i=>s.jsxs(G,{onClick:()=>e(i.id),variant:t===i.id?"default":"outline",className:`${t===i.id?"bg-gradient-to-r from-green-500 to-teal-500 text-white":""}`,size:"lg",children:[s.jsx("span",{className:"text-2xl mr-2",children:i.icon}),i.name]},i.id))}),s.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:(r=gfe[t])==null?void 0:r.map(i=>s.jsx(dF,{audio:i},i.id))},t)]}),s.jsx(yfe,{})]})}const yfe=()=>{const{currentAudio:t,isPlaying:e,pauseAudio:n,resumeAudio:r}=v.useContext(iS);return t?s.jsx(te.div,{initial:{y:100},animate:{y:0},className:"fixed bottom-0 left-0 right-0 bg-gradient-to-r from-green-600 to-teal-600 text-white p-4 shadow-2xl z-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(_l,{className:"w-6 h-6"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold",children:t.title}),t.reciter&&s.jsx("p",{className:"text-sm opacity-90",children:t.reciter})]})]}),s.jsx(G,{onClick:e?n:r,variant:"ghost",className:"text-white hover:bg-white/20",children:e?s.jsx(Ll,{className:"w-6 h-6"}):s.jsx(dr,{className:"w-6 h-6"})})]})}):null};function hF(){return s.jsx(uF,{children:s.jsx(xfe,{})})}const vfe="quran_hifz_db",bfe=1,Wr={surahCache:"surahCache",juzCache:"juzCache",ayahProgress:"ayahProgress",settings:"settings"};function wfe(){return new Promise((t,e)=>{const n=indexedDB.open(vfe,bfe);n.onupgradeneeded=r=>{const i=n.result;i.objectStoreNames.contains(Wr.surahCache)||i.createObjectStore(Wr.surahCache),i.objectStoreNames.contains(Wr.juzCache)||i.createObjectStore(Wr.juzCache),i.objectStoreNames.contains(Wr.ayahProgress)||i.createObjectStore(Wr.ayahProgress),i.objectStoreNames.contains(Wr.settings)||i.createObjectStore(Wr.settings)},n.onsuccess=()=>t(n.result),n.onerror=()=>e(n.error)})}async function du(t,e,n){const r=await wfe();return new Promise((i,a)=>{const o=r.transaction(t,e),c=o.objectStore(t),d=n(c);o.oncomplete=()=>i(d),o.onerror=()=>a(o.error)})}async function VI(t,e){return du(Wr.surahCache,"readwrite",n=>n.put(e,t))}async function jfe(t){return du(Wr.surahCache,"readonly",e=>e.get(t))}async function zg(t,e){return du(Wr.juzCache,"readwrite",n=>n.put(e,t))}async function _fe(t){return du(Wr.juzCache,"readonly",e=>e.get(t))}async function Nfe(t,e,n){const r=`${t}-${e}`,i={status:n,updatedAt:Date.now()};return du(Wr.ayahProgress,"readwrite",a=>a.put(i,r))}async function Sfe(t,e){const n=`${t}-${e}`;return du(Wr.ayahProgress,"readonly",r=>r.get(n))}async function Efe(){return du(Wr.ayahProgress,"readonly",t=>new Promise((e,n)=>{const r={},i=t.openCursor();i.onsuccess=a=>{const o=a.target.result;o?(r[o.key]=o.value,o.continue()):e(r)},i.onerror=()=>n(i.error)}))}const UI={memorised:{label:"Memorised",color:"bg-green-600",Icon:zc},revision:{label:"Under Revision",color:"bg-yellow-500",Icon:_j},new:{label:"Not Memorised",color:"bg-gray-500",Icon:wj}};function mF({surahNumber:t,ayahNumber:e,onChange:n}){const[r,i]=v.useState("new");v.useEffect(()=>{let c=!0;return Sfe(t,e).then(d=>{c&&d!=null&&d.status&&i(d.status)}).catch(()=>{}),()=>{c=!1}},[t,e]);const a=async c=>{i(c);try{await Nfe(t,e,c)}catch{}n==null||n(c)},o=UI[r]||UI.new;return s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsxs(_e,{className:o.color,children:[s.jsx(o.Icon,{className:"w-4 h-4 mr-1"})," ",o.label]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(G,{size:"sm",variant:r==="memorised"?"default":"outline",onClick:()=>a("memorised"),children:[s.jsx(zc,{className:"w-4 h-4 mr-1"})," Memorised"]}),s.jsxs(G,{size:"sm",variant:r==="revision"?"default":"outline",onClick:()=>a("revision"),children:[s.jsx(_j,{className:"w-4 h-4 mr-1"})," Revision"]}),s.jsxs(G,{size:"sm",variant:r==="new"?"default":"outline",onClick:()=>a("new"),children:[s.jsx(wj,{className:"w-4 h-4 mr-1"})," Not Yet"]})]})]})}mF.propTypes={surahNumber:At.number.isRequired,ayahNumber:At.number.isRequired,onChange:At.func};const fF="https://api.alquran.cloud/v1",zI=["quran-uthmani","quran-simple"],Cfe=[{id:"en.sahih",name:"Sahih International"},{id:"en.yusufali",name:"Yusuf Ali"},{id:"ur.junagarhi",name:"Junagarhi (Urdu)"},{id:"ur.maududi",name:"Maududi (Urdu)"}],BI={alafasy:"ar.alafasy",sudais:"ar.abdurrahmanalsudais",basit:"ar.abdulbasitmurattal",husary:"ar.husary"};function kfe(t){return BI[t]||BI.alafasy}async function Tfe({juzNumber:t,translationId:e,audioEdition:n}){var g,x,N,w,j,_,E,k;const r=C=>{const R=[C,e];return n&&R.push(n),`${fF}/juz/${t}/editions/${R.join(",")}`};let i=await fetch(r(zI[0])),a=await i.json();if((a.status!=="OK"||!((N=(x=(g=a==null?void 0:a.data)==null?void 0:g[0])==null?void 0:x.ayahs)!=null&&N.length))&&(i=await fetch(r(zI[1])),a=await i.json()),a.status!=="OK")throw new Error("Failed to fetch juz");const o=((w=a.data[0])==null?void 0:w.ayahs)||[],c=((j=a.data[1])==null?void 0:j.ayahs)||[],d=((_=a.data[2])==null?void 0:_.ayahs)||[],h=new Map;for(const C of c){const R=`${(E=C==null?void 0:C.surah)==null?void 0:E.number}-${C==null?void 0:C.numberInSurah}`;R&&h.set(R,(C==null?void 0:C.text)??"")}const m=new Map;for(const C of d){const R=`${(k=C==null?void 0:C.surah)==null?void 0:k.number}-${C==null?void 0:C.numberInSurah}`;R&&m.set(R,(C==null?void 0:C.audio)??null)}return o.map(C=>{var F;const R=`${(F=C==null?void 0:C.surah)==null?void 0:F.number}-${C==null?void 0:C.numberInSurah}`;return{surahNumber:C.surah.number,surahName:C.surah.englishName||C.surah.name,numberInSurah:C.numberInSurah,arabic:C.text,translation:h.get(R)||"",audio:m.get(R)||null}})}async function Afe(){var r;const e=await(await fetch(`${fF}/sajda`)).json();return e.status!=="OK"?[]:(((r=e==null?void 0:e.data)==null?void 0:r.ayahs)||(e==null?void 0:e.data)||[]).map(i=>{var a,o;return{surah:((a=i==null?void 0:i.surah)==null?void 0:a.number)||((o=i==null?void 0:i.surah)==null?void 0:o.number)||0,ayah:(i==null?void 0:i.numberInSurah)||(i==null?void 0:i.ayah)||0}}).filter(i=>i.surah&&i.ayah)}const Ife={1:[{surah:1,ayah:1},{surah:2,ayah:26},{surah:2,ayah:75},{surah:2,ayah:124},{surah:2,ayah:142},{surah:2,ayah:203},{surah:2,ayah:253},{surah:3,ayah:15}]};function Rfe(t,e){const n=Ife[t];return!n||e<1||e>n.length?null:n[e-1]||null}const $I=[{id:"alafasy",name:"Mishary Rashid Alafasy",url:"https://server8.mp3quran.net/afs/",flag:""},{id:"sudais",name:"Abdur-Rahman As-Sudais",url:"https://server11.mp3quran.net/sds/",flag:""},{id:"basit",name:"Abdul Basit",url:"https://server7.mp3quran.net/basit/",flag:""},{id:"husary",name:"Mahmoud Khalil Al-Husary",url:"https://server13.mp3quran.net/husr/",flag:""}],cw=[{number:1,name:"Al-Fatihah",englishName:"The Opening",verses:7,revelation:"Meccan"},{number:2,name:"Al-Baqarah",englishName:"The Cow",verses:286,revelation:"Medinan"},{number:3,name:"Ali 'Imran",englishName:"Family of Imran",verses:200,revelation:"Medinan"},{number:4,name:"An-Nisa",englishName:"The Women",verses:176,revelation:"Medinan"},{number:5,name:"Al-Ma'idah",englishName:"The Table Spread",verses:120,revelation:"Medinan"},{number:6,name:"Al-An'am",englishName:"The Cattle",verses:165,revelation:"Meccan"},{number:7,name:"Al-A'raf",englishName:"The Heights",verses:206,revelation:"Meccan"},{number:8,name:"Al-Anfal",englishName:"The Spoils of War",verses:75,revelation:"Medinan"},{number:9,name:"At-Tawbah",englishName:"The Repentance",verses:129,revelation:"Medinan"},{number:10,name:"Yunus",englishName:"Jonah",verses:109,revelation:"Meccan"},{number:36,name:"Ya-Sin",englishName:"Ya-Sin",verses:83,revelation:"Meccan"},{number:55,name:"Ar-Rahman",englishName:"The Beneficent",verses:78,revelation:"Medinan"},{number:67,name:"Al-Mulk",englishName:"The Sovereignty",verses:30,revelation:"Meccan"},{number:112,name:"Al-Ikhlas",englishName:"The Sincerity",verses:4,revelation:"Meccan"},{number:113,name:"Al-Falaq",englishName:"The Daybreak",verses:5,revelation:"Meccan"},{number:114,name:"An-Nas",englishName:"Mankind",verses:6,revelation:"Meccan"}],uw=Cfe,dw=[{number:1,name:"Alif Lm Mm"},{number:2,name:"Sayaql"},{number:3,name:"Tilka ar-Rusul"},{number:4,name:"Lan Tanlu"},{number:5,name:"Wal Musant"},{number:6,name:"L Yuibbullhu al-jahr"},{number:7,name:"Wa I Sami"},{number:8,name:"Wa Lau'ann"},{number:9,name:"Ql al-Mala'u"},{number:10,name:"Wa Alam"},{number:11,name:"Yataakkarn"},{number:12,name:"Wa M Ubarriu Nafsi"},{number:13,name:"Wa M Uttum"},{number:14,name:"Rubam"},{number:15,name:"Subnalladh"},{number:16,name:"Qla Alam"},{number:17,name:"Iqtaraba"},{number:18,name:"Qad Aflaha"},{number:19,name:"Wa Qlalladhna"},{number:20,name:"Amn"},{number:21,name:"Utlu M"},{number:22,name:"Wa Mli"},{number:23,name:"Wa M L"},{number:24,name:"Faman Alamu"},{number:25,name:"Ilayhi Yuraddu"},{number:26,name:" Mm"},{number:27,name:"Qla Fama"},{number:28,name:"Qad Samiallhu"},{number:29,name:"Tabrakalladh"},{number:30,name:"Amma"}],hw=[{number:1,name:""},{number:2,name:""},{number:3,name:" "},{number:4,name:" "},{number:5,name:""},{number:6,name:"   "},{number:7,name:" "},{number:8,name:" "},{number:9,name:" "},{number:10,name:""},{number:11,name:""},{number:12,name:"  "},{number:13,name:" "},{number:14,name:""},{number:15,name:" "},{number:16,name:" "},{number:17,name:""},{number:18,name:" "},{number:19,name:" "},{number:20,name:""},{number:21,name:" "},{number:22,name:""},{number:23,name:" "},{number:24,name:" "},{number:25,name:" "},{number:26,name:""},{number:27,name:" "},{number:28,name:"  "},{number:29,name:" "},{number:30,name:""}],pF=({verse:t,expanded:e,onToggle:n,onPlay:r,isHighlighted:i=!1})=>s.jsx(te.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`bg-gradient-to-r from-green-50 to-teal-50 rounded-xl p-6 border-l-4 border-green-500 shadow-sm hover:shadow-md transition-shadow mb-4 ${i?"ring-2 ring-green-500 shadow-lg":""}`,children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[s.jsx(_e,{className:"bg-green-600 text-white text-sm px-3 py-1",children:t.numberInSurah}),t.isSajda&&s.jsxs(_e,{className:"bg-orange-500 text-white text-xs px-2 py-1",title:"Sajda Ayah",children:[s.jsx(Sj,{className:"w-3 h-3 mr-1 inline"})," Sajda"]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{dir:"rtl",style:{fontFamily:"'Scheherazade New', 'Amiri', serif"},onClick:()=>r&&r(t),title:"Click to play ayah audio",role:"button",className:"text-right text-2xl md:text-3xl leading-loose mb-4 font-arabic cursor-pointer hover:text-green-700 text-green-900",children:t.arabic}),s.jsx("p",{className:"text-gray-700 leading-relaxed text-base",children:t.translation}),s.jsx("div",{className:"mt-3",children:s.jsx(mF,{surahNumber:t.surahNumber||(t==null?void 0:t.surahNumber)||0,ayahNumber:t.numberInSurah,onChange:()=>{}})}),t.tafsir&&s.jsxs("div",{className:"mt-4",children:[s.jsx(G,{variant:"ghost",size:"sm",onClick:()=>n(t.numberInSurah),className:"text-green-600 hover:text-green-700 hover:bg-green-50",children:e?s.jsxs(s.Fragment,{children:[s.jsx(kR,{className:"w-4 h-4 mr-2"}),"Hide Tafsir"]}):s.jsxs(s.Fragment,{children:[s.jsx(Gm,{className:"w-4 h-4 mr-2"}),"Show Tafsir"]})}),e&&s.jsxs(te.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-3 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[s.jsx("p",{className:"text-sm font-semibold text-blue-900 mb-2",children:" Tafsir (Explanation):"}),s.jsx("p",{className:"text-sm text-blue-800 leading-relaxed",children:t.tafsir})]})]})]})]})});pF.propTypes={verse:At.object.isRequired,expanded:At.bool.isRequired,onToggle:At.func.isRequired,onPlay:At.func};function qm(){var kt,xn;const t=go(),[e,n]=v.useState(cw[0]),[r,i]=v.useState($I[0]),[a,o]=v.useState(uw[0]),[c,d]=v.useState(""),[h,m]=v.useState([]),[f,g]=v.useState([]),[x,N]=v.useState(!1),[w,j]=v.useState(!1),[_,E]=v.useState(null),[k,C]=v.useState(!1),[R,F]=v.useState(null),[D,P]=v.useState("translit"),[I,O]=v.useState(!1),[V,L]=v.useState(null),[U,ee]=v.useState(!1),[re,he]=v.useState(!1),[ae,Q]=v.useState(null),[q,B]=v.useState(new Set),[$,Z]=v.useState(null);v.useEffect(()=>{const pe=new URLSearchParams(t.search||""),He=pe.get("surah"),et=pe.get("juz"),tt=pe.get("quarter");if(He){const gt=Number(He),ut=cw.find(Dt=>Dt.number===gt);ut&&(n(ut),C(!1))}else if(et){const gt=Number(et);if(gt>=1&&gt<=30&&(F(gt),C(!0)),tt){const ut=Number(tt);ut>=1&&ut<=8&&Z(ut)}}},[t.search]),v.useEffect(()=>{var pe,He;if(k&&$&&Array.isArray(f)&&f.length>0){let et=null,tt=null;if(R){const ut=Rfe(R,$);if(ut){const Dt=f.findIndex(yn=>(yn==null?void 0:yn.surahNumber)===ut.surah&&(yn==null?void 0:yn.numberInSurah)===ut.ayah);Dt>=0&&(et=Dt,tt={surah:ut.surah,ayah:ut.ayah})}}if(et==null){const ut=f.length,Dt=Math.floor(ut/8)||1;et=Math.min(ut-1,Math.max(0,($-1)*Dt))}const gt=(He=(pe=je==null?void 0:je.current)==null?void 0:pe.byIndex)==null?void 0:He[et];if(gt&&gt.scrollIntoView){gt.scrollIntoView({behavior:"smooth",block:"center"});const ut=f[et];ut&&(ge({surah:ut.surahNumber,ayah:ut.numberInSurah}),setTimeout(()=>ge(null),2500),tt?St.success(`Jumped to Juz ${R} Q${$} start  Surah ${tt.surah}, Ayah ${tt.ayah}`):St.info(`Jumped to Juz ${R} Q${$} (approximate segment)`))}}},[k,$,R,f]);const[H,me]=v.useState("light"),je=v.useRef({}),[Ae,ge]=v.useState(null),[Se,De]=v.useState(null),ze=v.useRef(!1),qe=()=>{Se&&(Se.pause(),Se.currentTime=0,De(null),j(!1)),he(!1),Q(null)};v.useEffect(()=>()=>{qe()},[Se]),v.useEffect(()=>{let pe=!0;return Afe().then(He=>{if(!pe)return;const et=new Set(He.map(tt=>`${tt.surah}-${tt.ayah}`));B(et)}).catch(()=>{}),()=>{pe=!1}},[]),v.useEffect(()=>{!k&&e&&Cn(e.number,a.id)},[e,a,k]),v.useEffect(()=>{k&&R&&wr(R,a.id)},[k,R,a]),v.useEffect(()=>{k&&R&&U&&f.length>0&&!x&&(ee(!1),Ri())},[k,R,U,f,x]);const ft={alafasy:"ar.alafasy",sudais:"ar.abdurrahmanalsudais",basit:"ar.abdulbasitmurattal",husary:"ar.husary"},Jt=()=>ft[r==null?void 0:r.id]||kfe(r==null?void 0:r.id),Cn=async(pe,He)=>{var et;N(!0),qe();try{const tt=Jt(),gt=`${pe}|${He}|${tt}`,ut=await jfe(gt);if((et=ut==null?void 0:ut.verses)!=null&&et.length)m(ut.verses.map(Dt=>({...Dt,isSajda:q.has(`${pe}-${Dt.numberInSurah}`),tafsir:Dt.tafsir||null})));else{const yn=await(await fetch(`https://api.alquran.cloud/v1/surah/${pe}/editions/quran-simple,${He},${tt}`)).json();if(yn.status==="OK"){const Yr=yn.data[0].ayahs,Lr=yn.data[1]?yn.data[1].ayahs:[],nn=yn.data[2]?yn.data[2].ayahs:[],ii=Yr.map((Fr,Vr)=>{var Pi;return{numberInSurah:Fr.numberInSurah,arabic:Fr.text,translation:Lr[Vr]?Lr[Vr].text:"Translation not available for this verse.",tafsir:null,audio:((Pi=nn[Vr])==null?void 0:Pi.audio)||null,surahNumber:pe,isSajda:q.has(`${pe}-${Fr.numberInSurah}`)}});m(ii),VI(gt,{verses:ii,cachedAt:Date.now()}).catch(()=>{})}else St.error("Failed to load surah details from API.")}}catch(tt){console.error("Error loading surah:",tt),St.error("Failed to load surah. Please check your internet connection.")}finally{N(!1)}},wr=async(pe,He)=>{var gt,ut,Dt,yn,Yr,Lr,nn,ii,Fr,Vr,Pi,Kl,ys,Gl,Di,ai,oi;N(!0),qe();const et=Jt(),tt=vs=>`https://api.alquran.cloud/v1/juz/${pe}/editions/${vs},${He}`;try{const vs=`${pe}|${He}|${et}`,Jr=await _fe(vs);if((gt=Jr==null?void 0:Jr.verses)!=null&&gt.length)g(Jr.verses.map(jr=>({...jr,isSajda:q.has(`${jr.surahNumber}-${jr.numberInSurah}`)})));else try{const Xr=(await Tfe({juzNumber:pe,translationId:He})||[]).map(Wt=>({...Wt,isSajda:q.has(`${Wt.surahNumber}-${Wt.numberInSurah}`)}));if(g(Xr),zg(vs,{verses:Xr,cachedAt:Date.now()}).catch(()=>{}),!Xr.length){let Wt=await fetch(tt("quran-uthmani")),_r=await Wt.json();if((_r.status!=="OK"||!((yn=(Dt=(ut=_r==null?void 0:_r.data)==null?void 0:ut[0])==null?void 0:Dt.ayahs)!=null&&yn.length))&&(Wt=await fetch(tt("quran-simple")),_r=await Wt.json()),_r.status==="OK"){const No=((Yr=_r.data[0])==null?void 0:Yr.ayahs)||[],Ca=((Lr=_r.data[1])==null?void 0:Lr.ayahs)||[],Nr=((nn=_r.data[2])==null?void 0:nn.ayahs)||[],li=new Map;for(const dt of Ca){const Xn=`${(ii=dt==null?void 0:dt.surah)==null?void 0:ii.number}-${dt==null?void 0:dt.numberInSurah}`;Xn&&li.set(Xn,(dt==null?void 0:dt.text)??"")}const ci=new Map;for(const dt of Nr){const Xn=`${(Fr=dt==null?void 0:dt.surah)==null?void 0:Fr.number}-${dt==null?void 0:dt.numberInSurah}`;Xn&&ci.set(Xn,(dt==null?void 0:dt.audio)??null)}const wt=No.map(dt=>{var So;const Xn=`${(So=dt==null?void 0:dt.surah)==null?void 0:So.number}-${dt==null?void 0:dt.numberInSurah}`;return{surahNumber:dt.surah.number,surahName:dt.surah.englishName||dt.surah.name,numberInSurah:dt.numberInSurah,arabic:dt.text,translation:li.get(Xn)||"",audio:ci.get(Xn)||null,isSajda:q.has(`${dt.surah.number}-${dt.numberInSurah}`)}});g(wt),zg(vs,{verses:wt,cachedAt:Date.now()}).catch(()=>{}),wt.length||St.info("No verses loaded for this Juz. Try a different translation or check your network.")}else St.error("Failed to load Juz.")}}catch{let Xr=await fetch(tt("quran-uthmani")),Wt=await Xr.json();if((Wt.status!=="OK"||!((Kl=(Pi=(Vr=Wt==null?void 0:Wt.data)==null?void 0:Vr[0])==null?void 0:Pi.ayahs)!=null&&Kl.length))&&(Xr=await fetch(tt("quran-simple")),Wt=await Xr.json()),Wt.status==="OK"){const _r=((ys=Wt.data[0])==null?void 0:ys.ayahs)||[],No=((Gl=Wt.data[1])==null?void 0:Gl.ayahs)||[],Ca=((Di=Wt.data[2])==null?void 0:Di.ayahs)||[],Nr=new Map;for(const wt of No){const dt=`${(ai=wt==null?void 0:wt.surah)==null?void 0:ai.number}-${wt==null?void 0:wt.numberInSurah}`;dt&&Nr.set(dt,(wt==null?void 0:wt.text)??"")}const li=new Map;for(const wt of Ca){const dt=`${(oi=wt==null?void 0:wt.surah)==null?void 0:oi.number}-${wt==null?void 0:wt.numberInSurah}`;dt&&li.set(dt,(wt==null?void 0:wt.audio)??null)}const ci=_r.map(wt=>{var Xn;const dt=`${(Xn=wt==null?void 0:wt.surah)==null?void 0:Xn.number}-${wt==null?void 0:wt.numberInSurah}`;return{surahNumber:wt.surah.number,surahName:wt.surah.englishName||wt.surah.name,numberInSurah:wt.numberInSurah,arabic:wt.text,translation:Nr.get(dt)||"",audio:li.get(dt)||null,isSajda:q.has(`${wt.surah.number}-${wt.numberInSurah}`)}});g(ci),zg(vs,{verses:ci,cachedAt:Date.now()}).catch(()=>{}),ci.length||St.info("No verses loaded for this Juz. Try a different translation or check your network.")}else St.error("Failed to load Juz.")}}catch(vs){console.error("Error loading juz:",vs),St.error("Failed to load Juz. Please check your internet connection.")}finally{N(!1)}},Bn=async(pe,He=null,et=null)=>{if(!pe){St.error("No audio available for this selection.");return}if(!ze.current){ze.current=!0;try{qe();const tt=new Audio(pe);tt.loop=I,De(tt),await tt.play(),j(!0),L(He),tt.onended=()=>{if(typeof et=="function"){et();return}I||(j(!1),De(null),L(null))}}catch(tt){(tt==null?void 0:tt.name)==="AbortError"?console.debug("Audio play aborted (pause/stop triggered). Ignoring."):(console.error("Error playing audio:",tt),St.error("Unable to play audio. The reciter might not have audio for this ayah/surah, or there's a network issue.")),j(!1),L(null)}finally{ze.current=!1}}},Jn=()=>{if(!r||!e){St.error("Please select a Surah and Reciter first.");return}const pe=e.number.toString().padStart(3,"0"),He=`${r.url}${pe}.mp3`;Bn(He)},xs=()=>{qe(),he(!1)},zt=()=>{const pe=!I;O(pe),Se&&(Se.loop=pe)},Xt=pe=>{pe!=null&&pe.audio?Bn(pe.audio,pe.numberInSurah):(St.info("Ayah audio not available for this reciter. Playing full surah instead."),Jn())},Or=pe=>{const He=k?f.find(et=>et.numberInSurah===pe):h.find(et=>et.numberInSurah===pe);if(He){const et=je.current[pe];et&&et.scrollIntoView&&et.scrollIntoView({behavior:"smooth",block:"center"}),Xt(He)}},Ea=()=>{var He;const pe=(He=je.current)==null?void 0:He.juzStart;pe&&pe.scrollIntoView&&pe.scrollIntoView({behavior:"smooth",block:"start"})},Ii=(pe=0)=>{if(!k||!R){St.error("Please select a Juz first.");return}if(!f||f.length===0){St.error("No ayat loaded for this Juz yet. Please wait or reselect the Juz.");return}he(!0),Q(pe);const He=et=>{const tt=f[et];if(!tt){he(!1),L(null),De(null),j(!1);return}const gt=()=>{if(I)return;const ut=et+1;ut<f.length?(Q(ut),He(ut)):(he(!1),L(null),De(null),j(!1))};if(L(tt.numberInSurah),tt.audio)Bn(tt.audio,tt.numberInSurah,gt);else{const ut=String(tt.surahNumber).padStart(3,"0"),Dt=`${r.url}${ut}.mp3`;St.info(`Verse-level audio unavailable; playing Surah ${tt.surahNumber} audio as fallback.`),Bn(Dt,tt.numberInSurah,gt)}};He(pe)},Ri=()=>{Ii(0)},Fs=pe=>{qe(),i(pe)},fe=pe=>{qe(),n(pe)},Ie=pe=>{const He=uw.find(et=>et.id===pe);He&&o(He)},Ze=cw.filter(pe=>pe.name.toLowerCase().includes(c.toLowerCase())||pe.englishName.toLowerCase().includes(c.toLowerCase())||pe.number.toString().includes(c)),bt=async()=>{try{if(k&&R){const pe=Jt(),He=`${R}|${a.id}|${pe}`;f.length?await zg(He,{verses:f,cachedAt:Date.now()}):await wr(R,a.id),St.success(`Juz ${R} cached for offline use.`)}else if(e){const pe=Jt(),He=`${e.number}|${a.id}|${pe}`;h.length?await VI(He,{verses:h,cachedAt:Date.now()}):await Cn(e.number,a.id),St.success(`Surah ${e.name} cached for offline use.`)}}catch{St.error("Failed to cache selection.")}};return s.jsxs("div",{className:"min-h-screen py-8 px-4",children:[s.jsx("style",{children:`
        @import url('https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Scheherazade+New:wght@400;700&display=swap');
        .custom-scrollbar::-webkit-scrollbar {
          width: 8px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: #f1f1f1;
          border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background: #888;
          border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background: #555;
        }
      `}),s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"The Noble Qur'an"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Read, listen, and understand Allah's words"})]}),s.jsxs(ne,{className:"mb-8 border-2 border-green-200",children:[s.jsx(Fe,{className:"bg-gradient-to-r from-green-50 to-teal-50",children:s.jsx(Ve,{children:"Select Reciter, Surah & Translation"})}),s.jsxs(ie,{className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Choose Reciter"}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:$I.map(pe=>s.jsx(G,{onClick:()=>Fs(pe),variant:r.id===pe.id?"default":"outline",className:`h-auto py-3 px-4 ${r.id===pe.id?"bg-gradient-to-r from-purple-500 to-indigo-500 text-white hover:from-purple-600 hover:to-indigo-600":"hover:bg-gray-100"}`,children:s.jsxs("div",{className:"text-center w-full",children:[s.jsx("div",{className:"text-2xl mb-1",children:pe.flag}),s.jsx("p",{className:"text-xs font-semibold truncate",children:pe.name})]})},pe.id))})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Choose Translation"}),s.jsxs(en,{value:a.id,onValueChange:Ie,children:[s.jsx(Kt,{className:"w-full",children:s.jsx(tn,{placeholder:"Select a translation"})}),s.jsx(Gt,{children:uw.map(pe=>s.jsx(Re,{value:pe.id,children:pe.name},pe.id))})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Search & Choose Surah"}),s.jsxs("div",{className:"relative mb-3",children:[s.jsx(io,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500"}),s.jsx(Te,{type:"text",placeholder:"Search Surah by name or number...",value:c,onChange:pe=>d(pe.target.value),className:"pl-9 pr-3 py-2 w-full"})]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3 max-h-[250px] overflow-y-auto pr-2 custom-scrollbar",children:Ze.map(pe=>s.jsx(G,{onClick:()=>fe(pe),variant:(e==null?void 0:e.number)===pe.number?"default":"outline",className:`h-auto py-3 px-4 ${(e==null?void 0:e.number)===pe.number?"bg-gradient-to-r from-green-500 to-teal-500 text-white hover:from-green-600 hover:to-teal-600":"hover:bg-gray-100"}`,children:s.jsxs("div",{className:"text-center w-full",children:[s.jsx("p",{className:"text-sm font-semibold",children:pe.name}),s.jsxs("p",{className:"text-xs text-gray-500",children:["(",pe.englishName,")"]})]})},pe.number))}),Ze.length===0&&c&&s.jsxs("p",{className:"text-center text-gray-500 mt-4",children:['No surahs found for "',c,'"']})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-6",children:[s.jsx("div",{children:k?s.jsxs(s.Fragment,{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Select Ayah in Juz"}),s.jsxs(en,{onValueChange:pe=>{const He=Number(pe)-1,et=f[He];if(et){const tt=je.current[et.numberInSurah];tt&&tt.scrollIntoView&&tt.scrollIntoView({behavior:"smooth",block:"center"}),Xt(et)}},disabled:!R,children:[s.jsx(Kt,{className:"w-full",children:s.jsx(tn,{placeholder:"Choose Ayah index in Juz"})}),s.jsx(Gt,{children:f&&f.map((pe,He)=>s.jsx(Re,{value:String(He+1),children:He+1},He))})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Select Ayah (verse)"}),s.jsxs(en,{onValueChange:pe=>Or(Number(pe)),disabled:!e,children:[s.jsx(Kt,{className:"w-full",children:s.jsx(tn,{placeholder:"Choose Ayah number"})}),s.jsx(Gt,{children:e&&Array.from({length:e.verses},(pe,He)=>He+1).map(pe=>s.jsx(Re,{value:String(pe),children:pe},pe))})]})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Select Juz (Para)"}),s.jsxs(en,{value:R?String(R):void 0,onValueChange:pe=>{F(Number(pe)),C(!0)},children:[s.jsx(Kt,{className:"w-full",children:s.jsx(tn,{placeholder:"Choose Juz (e.g., Alif Lm Mm)"})}),s.jsx(Gt,{children:(D==="urdu"?hw:dw).map(pe=>s.jsxs(Re,{value:String(pe.number),children:["Juz ",pe.number,"  ",pe.name]},pe.number))})]}),s.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[s.jsx("span",{className:"text-xs text-gray-600",children:"Name style:"}),s.jsx(G,{size:"sm",variant:D==="translit"?"default":"outline",onClick:()=>P("translit"),children:"Transliteration"}),s.jsx(G,{size:"sm",variant:D==="urdu"?"default":"outline",onClick:()=>P("urdu"),children:""})]}),k&&s.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[s.jsxs(_e,{className:"bg-green-600",children:["Viewing: Juz ",R,"  ",((kt=(D==="urdu"?hw:dw).find(pe=>pe.number===R))==null?void 0:kt.name)||""]}),s.jsx(G,{variant:"outline",onClick:()=>{C(!1),F(null),g([])},children:"Exit Juz View"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Audio Controls"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(G,{onClick:xs,variant:"outline",className:"flex-1",children:[s.jsx(mg,{className:"w-4 h-4 mr-1"})," Stop"]}),s.jsxs(G,{onClick:zt,variant:I?"default":"outline",className:"flex-1",children:[s.jsx(Gv,{className:"w-4 h-4 mr-1"})," ",I?"Repeat: On":"Repeat: Off"]}),s.jsxs(G,{onClick:bt,variant:"outline",className:"flex-1",children:[s.jsx(xo,{className:"w-4 h-4 mr-1"})," Cache Offline"]})]})]})]}),s.jsx(G,{onClick:()=>{if(w){xs();return}k?x||!f.length?(ee(!0),St.info("Loading Juz playback will start automatically.")):Ri():Jn()},className:"w-full bg-gradient-to-r from-green-600 to-teal-600 hover:from-green-700 hover:to-teal-700",size:"lg",disabled:!1,children:x?s.jsxs(s.Fragment,{children:[s.jsx(rd,{className:"w-5 h-5 mr-2 animate-spin"}),k?"Loading Juz...":"Loading Surah..."]}):w?s.jsxs(s.Fragment,{children:[s.jsx(Ll,{className:"w-5 h-5 mr-2"}),"Pause Audio"]}):s.jsxs(s.Fragment,{children:[s.jsx(dr,{className:"w-5 h-5 mr-2"}),k?"Play Full Juz":"Play Full Surah"]})}),k&&f.length>0&&s.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-4",children:[s.jsxs(G,{onClick:stopJuzSequence,variant:"destructive",className:"w-full",disabled:!w&&!re,children:[s.jsx(mg,{className:"w-4 h-4 mr-1"}),"Stop Juz"]}),s.jsxs(G,{onClick:resumeJuzSequence,className:"w-full bg-blue-600 hover:bg-blue-700",disabled:w||ae===null,children:[s.jsx(dr,{className:"w-4 h-4 mr-1"}),"Resume Juz"]})]})]})]}),e&&s.jsx(ne,{className:"mb-8 border-2 border-blue-200 bg-gradient-to-r from-blue-50 to-cyan-50",children:s.jsx(ie,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:e.name}),s.jsx("p",{className:"text-lg text-gray-700 mb-1",children:e.englishName}),s.jsxs("div",{className:"flex gap-3 flex-wrap",children:[s.jsxs(_e,{className:"bg-blue-600",children:[e.verses," Verses"]}),s.jsx(_e,{className:"bg-purple-600",children:e.revelation})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Fn,{className:"w-8 h-8 text-blue-600"}),s.jsx(_l,{className:"w-8 h-8 text-green-600"}),s.jsx(G,{variant:"outline",onClick:()=>me(H==="light"?"dark":"light"),title:"Toggle theme",children:H==="light"?s.jsx(jB,{className:"w-4 h-4"}):s.jsx(JB,{className:"w-4 h-4"})})]})]})})}),e&&e.number!==9&&e.number!==1&&s.jsxs("div",{className:"text-center py-6 mb-6 border-b-2 border-green-200 bg-gradient-to-r from-green-50 to-teal-50 rounded-lg",children:[s.jsx("p",{className:"text-4xl md:text-5xl mb-3 font-arabic",dir:"rtl",style:{fontFamily:"'Scheherazade New', 'Amiri', serif"},children:"   "}),s.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"In the name of Allah, the Most Gracious, the Most Merciful"})]}),x&&!w?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(rd,{className:"w-12 h-12 animate-spin text-green-600 mb-4"}),s.jsx("p",{className:"text-gray-600",children:k?"Loading Juz Verses...":"Loading Surah Verses..."})]}):s.jsxs("div",{className:"space-y-4",children:[k&&R&&s.jsx(ne,{className:"mb-4 border border-green-200 bg-green-50",children:s.jsx(ie,{className:"py-4 px-6",children:s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["Juz ",R,"  ",((xn=(D==="urdu"?hw:dw).find(pe=>pe.number===R))==null?void 0:xn.name)||""]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Displaying combined ayat across their surahs"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Gv,{className:"w-6 h-6 text-green-600"}),s.jsx(mg,{className:"w-6 h-6 text-red-600"}),s.jsxs(G,{variant:"outline",onClick:Ea,children:[s.jsx(Fn,{className:"w-4 h-4 mr-1"})," Go to start"]}),s.jsxs(G,{className:"bg-green-600",onClick:Ri,children:[s.jsx(dr,{className:"w-4 h-4 mr-1"})," Play from start"]}),!w&&k&&(f==null?void 0:f.length)>0&&ae!=null&&s.jsxs(G,{className:"bg-green-600",onClick:()=>Ii(ae),children:[s.jsx(dr,{className:"w-4 h-4 mr-1"})," Resume Juz"]})]})]})})}),k&&!x&&R&&f.length===0&&s.jsx("p",{className:"text-center text-sm text-gray-600",children:"No ayat loaded for this Juz. Try a different translation or check your network."}),(k?f:h).map((pe,He)=>s.jsxs("div",{ref:et=>{je.current[pe.numberInSurah]=et,je.current.byIndex||(je.current.byIndex=[]),je.current.byIndex[He]=et,k&&He===0&&(je.current.juzStart=et)},children:[k&&s.jsxs("div",{className:"mb-1 text-sm text-gray-600",children:["Surah ",pe.surahName,"  Ayah ",pe.numberInSurah]}),s.jsx(pF,{verse:pe,expanded:_===pe.numberInSurah,onToggle:et=>E(_===et?null:et),onPlay:Xt,isHighlighted:!!(Ae&&Ae.surah===pe.surahNumber&&Ae.ayah===pe.numberInSurah)}),s.jsxs("div",{className:"flex gap-2 mb-6",children:[s.jsxs(G,{onClick:()=>Xt(pe),className:"bg-green-600",children:[s.jsx(dr,{className:"w-4 h-4 mr-1"})," Play Ayah"]}),s.jsxs(G,{onClick:xs,variant:"outline",children:[s.jsx(mg,{className:"w-4 h-4 mr-1"})," Stop"]}),s.jsxs(G,{onClick:zt,variant:I?"default":"outline",children:[s.jsx(Gv,{className:"w-4 h-4 mr-1"})," ",I?"Repeat On":"Repeat Off"]}),V===pe.numberInSurah&&w&&s.jsx(_e,{className:"bg-green-600",children:"Playing"})]})]},`${pe.surahNumber||(e==null?void 0:e.number)}-${pe.numberInSurah}`))]})]})]})}const Pfe=[{number:1,range:[1,4],label:"Al-Fatihah  An-Nisa"},{number:2,range:[5,9],label:"Al-Maidah  At-Tawbah"},{number:3,range:[10,16],label:"Yunus  An-Nahl"},{number:4,range:[17,25],label:"Al-Isra  Al-Furqan"},{number:5,range:[26,36],label:"Ash-Shuara  Ya-Sin"},{number:6,range:[37,49],label:"As-Saffat  Al-Hujurat"},{number:7,range:[50,114],label:"Qaf  An-Nas"}];function gF(){const t=Yn(),e=v.useMemo(()=>Pfe,[]);return s.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[s.jsxs(ne,{className:"mb-6",children:[s.jsx(Fe,{children:s.jsx(Ve,{children:"Manzil (Weekly Recitation)"})}),s.jsx(ie,{children:s.jsx("p",{className:"text-sm text-gray-600",children:"Select a Manzil to review or recite. You can open the surahs in the Full Quran view and cache them for offline reading."})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.map(n=>s.jsxs(ne,{className:"border-green-200",children:[s.jsxs(Fe,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Ve,{className:"flex items-center gap-2",children:[s.jsx(Fn,{className:"w-5 h-5 text-green-600"})," Manzil ",n.number]}),s.jsxs(_e,{className:"bg-green-600",children:["Surah ",n.range[0],"  ",n.range[1]]})]}),s.jsx("p",{className:"text-sm text-gray-600 mt-2",children:n.label})]}),s.jsx(ie,{children:s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx(G,{onClick:()=>t(`/FullQuran?surah=${n.range[0]}`),variant:"outline",children:"Open start surah"}),s.jsx(G,{onClick:()=>t(`/FullQuran?surah=${n.range[1]}`),variant:"outline",children:"Open end surah"})]})})]},n.number))})]})}function Dfe(t){const e=Math.ceil(t/8),n=(t-1)%8+1;return{juz:e,idx:n}}function xF(){const t=Yn(),[e,n]=v.useState(1),{juz:r,idx:i}=v.useMemo(()=>Dfe(Math.min(240,Math.max(1,Number(e)||1))),[e]);return s.jsxs("div",{className:"max-w-3xl mx-auto p-6",children:[s.jsxs(ne,{className:"mb-6",children:[s.jsx(Fe,{children:s.jsx(Ve,{children:"Hizb / Quarter-Hizb Selection"})}),s.jsx(ie,{children:s.jsx("p",{className:"text-sm text-gray-600",children:"Select a quarter (1240). Each Juz has 8 quarters. This navigator links you to the Juz in the Full Quran module and approximates the quarter position."})})]}),s.jsxs(ne,{children:[s.jsx(Fe,{children:s.jsx(Ve,{children:"Choose Quarter"})}),s.jsxs(ie,{children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Te,{type:"number",min:1,max:240,value:e,onChange:a=>n(a.target.value),className:"w-32"}),s.jsxs(_e,{children:["Juz ",r,"  Quarter ",i," of 8"]}),s.jsxs(G,{onClick:()=>t(`/FullQuran?juz=${r}&quarter=${i}`),variant:"default",children:["Open Juz ",r]})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Note: Exact ayah ranges per quarter-hizb vary by script. Well refine per-ayah segment mapping in a subsequent update."})]})]})]})}function Mfe(t,e=[]){let n=[];function r(a,o){const c=v.createContext(o);c.displayName=a+"Context";const d=n.length;n=[...n,o];const h=f=>{var _;const{scope:g,children:x,...N}=f,w=((_=g==null?void 0:g[t])==null?void 0:_[d])||c,j=v.useMemo(()=>N,Object.values(N));return s.jsx(w.Provider,{value:j,children:x})};h.displayName=a+"Provider";function m(f,g){var w;const x=((w=g==null?void 0:g[t])==null?void 0:w[d])||c,N=v.useContext(x);if(N)return N;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[h,m]}const i=()=>{const a=n.map(o=>v.createContext(o));return function(c){const d=(c==null?void 0:c[t])||a;return v.useMemo(()=>({[`__scope${t}`]:{...c,[t]:d}}),[c,d])}};return i.scopeName=t,[r,Ofe(i,...e)]}function Ofe(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((c,{useScope:d,scopeName:h})=>{const f=d(a)[`__scope${h}`];return{...c,...f}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Lfe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],yF=Lfe.reduce((t,e)=>{const n=Dy(`Primitive.${e}`),r=v.forwardRef((i,a)=>{const{asChild:o,...c}=i,d=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(d,{...c,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),aS="Progress",oS=100,[Ffe]=Mfe(aS),[Vfe,Ufe]=Ffe(aS),vF=v.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:a=zfe,...o}=t;(i||i===0)&&!qI(i)&&console.error(Bfe(`${i}`,"Progress"));const c=qI(i)?i:oS;r!==null&&!HI(r,c)&&console.error($fe(`${r}`,"Progress"));const d=HI(r,c)?r:null,h=oy(d)?a(d,c):void 0;return s.jsx(Vfe,{scope:n,value:d,max:c,children:s.jsx(yF.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":oy(d)?d:void 0,"aria-valuetext":h,role:"progressbar","data-state":jF(d,c),"data-value":d??void 0,"data-max":c,...o,ref:e})})});vF.displayName=aS;var bF="ProgressIndicator",wF=v.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,i=Ufe(bF,n);return s.jsx(yF.div,{"data-state":jF(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:e})});wF.displayName=bF;function zfe(t,e){return`${Math.round(t/e*100)}%`}function jF(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function oy(t){return typeof t=="number"}function qI(t){return oy(t)&&!isNaN(t)&&t>0}function HI(t,e){return oy(t)&&!isNaN(t)&&t<=e&&t>=0}function Bfe(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${oS}\`.`}function $fe(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${oS} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var _F=vF,qfe=wF;const ly=v.forwardRef(({className:t,value:e,...n},r)=>s.jsx(_F,{ref:r,className:ct("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",t),...n,children:s.jsx(qfe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));ly.displayName=_F.displayName;function WI(t,e){return e?Math.round(t/e*100):0}function NF(){const[t,e]=v.useState({total:0,memorised:0,revision:0,notMemorised:0}),[n,r]=v.useState([]);v.useEffect(()=>{(async()=>{const a=await Efe(),o=Object.entries(a).map(([g,x])=>{const[N,w]=g.split("-").map(Number);return{surahNumber:N,ayahNumber:w,status:x==null?void 0:x.status}}),c=o.length,d=o.filter(g=>g.status==="memorised").length,h=o.filter(g=>g.status==="revision").length,m=o.filter(g=>g.status==="new"||!g.status).length,f=new Map;o.forEach(g=>{const x=g.surahNumber,N=f.get(x)||{surahNumber:x,total:0,memorised:0};N.total+=1,g.status==="memorised"&&(N.memorised+=1),f.set(x,N)}),e({total:c,memorised:d,revision:h,notMemorised:m}),r(Array.from(f.values()).sort((g,x)=>g.surahNumber-x.surahNumber))})()},[]);const i=v.useMemo(()=>WI(t.memorised,t.total),[t]);return s.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[s.jsxs(ne,{className:"mb-6",children:[s.jsx(Fe,{children:s.jsx(Ve,{children:"Hifz Progress Dashboard"})}),s.jsxs(ie,{children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Total Ayahs Tracked"}),s.jsx("p",{className:"text-lg font-semibold",children:t.total})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Memorised"}),s.jsx("p",{className:"text-lg font-semibold",children:t.memorised})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Under Revision"}),s.jsx("p",{className:"text-lg font-semibold",children:t.revision})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Not Memorised"}),s.jsx("p",{className:"text-lg font-semibold",children:t.notMemorised})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("p",{className:"text-sm mb-1",children:"Overall Memorisation"}),s.jsx(ly,{value:i}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[i,"% complete"]})]})]})]}),s.jsxs(ne,{children:[s.jsx(Fe,{children:s.jsx(Ve,{children:"By Surah"})}),s.jsx(ie,{children:s.jsxs("div",{className:"space-y-3",children:[n.length===0&&s.jsx("p",{className:"text-sm text-gray-600",children:"No memorisation data yet. Mark ayahs as memorised in the Full Quran page."}),n.map(a=>{const o=WI(a.memorised,a.total);return s.jsxs("div",{className:"border rounded p-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(_e,{children:["Surah ",a.surahNumber]}),s.jsxs("span",{className:"text-sm text-gray-600",children:["Memorised ",a.memorised,"/",a.total]})]}),s.jsxs("span",{className:"text-sm font-medium",children:[o,"%"]})]}),s.jsx(ly,{value:o,className:"mt-2"})]},a.surahNumber)})]})})]})]})}const Hfe=zf("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),SF=v.forwardRef(({className:t,variant:e,...n},r)=>s.jsx("div",{ref:r,role:"alert",className:ct(Hfe({variant:e}),t),...n}));SF.displayName="Alert";const Wfe=v.forwardRef(({className:t,...e},n)=>s.jsx("h5",{ref:n,className:ct("mb-1 font-medium leading-none tracking-tight",t),...e}));Wfe.displayName="AlertTitle";const EF=v.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:ct("text-sm [&_p]:leading-relaxed",t),...e}));EF.displayName="AlertDescription";const mw=t=>{const e=Number.isFinite(t)?t:0;return Math.max(0,Math.min(1500,Math.round(e)))};function gm(){try{const t=localStorage.getItem("ikz_leaderboard"),e=t?JSON.parse(t):[];return Array.isArray(e)?e:[]}catch{return[]}}function fw(t){try{localStorage.setItem("ikz_leaderboard",JSON.stringify(t))}catch{}}function xm(){try{const t=localStorage.getItem("users"),e=t?JSON.parse(t):[];return Array.isArray(e)?e:[]}catch{return[]}}function pw(t){try{localStorage.setItem("users",JSON.stringify(t))}catch{}}function CF(){const[t,e]=v.useState([]),[n,r]=v.useState([]),[i,a]=v.useState(400),[o,c]=v.useState(""),[d,h]=v.useState(400),[m,f]=v.useState(50),[g,x]=v.useState("");v.useEffect(()=>{e(gm()),r(xm())},[]);const N=v.useMemo(()=>{const C=new Map;return t.forEach(R=>{const F=(R.email||R.full_name||"").toLowerCase();C.set(F,{source:"leaderboard",...R})}),n.forEach(R=>{const F=(R.email||R.full_name||"").toLowerCase();C.has(F)||C.set(F,{source:"users",...R})}),Array.from(C.values())},[t,n]),w=()=>{e(gm()),r(xm())},j=()=>{const C=mw(Number(i)),F=gm().map(I=>({...I,points:C}));fw(F);const P=xm().map(I=>({...I,points:C}));pw(P),x(`Reset all learner points to ${C}.`),w()},_=()=>{const C=String(o||"").trim().toLowerCase();if(!C){x("Enter an email to set points.");return}const R=mw(Number(d));let F=0;const P=gm().map(V=>(V.email||"").toLowerCase()===C?(F++,{...V,points:R}):V);fw(P);const O=xm().map(V=>(V.email||"").toLowerCase()===C?(F++,{...V,points:R}):V);pw(O),x(F>0?`Set ${C} points to ${R}.`:`No user found for ${C}.`),w()},E=()=>{const C=String(o||"").trim().toLowerCase();if(!C){x("Enter an email to add points.");return}const R=Number(m);let F=0;const D=L=>({...L,points:mw((L.points||0)+R)}),I=gm().map(L=>(L.email||"").toLowerCase()===C?(F++,D(L)):L);fw(I);const V=xm().map(L=>(L.email||"").toLowerCase()===C?(F++,D(L)):L);pw(V),x(F>0?`Added ${R} points to ${C}.`:`No user found for ${C}.`),w()},k=()=>{try{localStorage.removeItem("ikz_leaderboard"),localStorage.removeItem("users"),localStorage.removeItem("gameScores"),x("Cleared local sample data: leaderboard, users, game scores.")}catch{x("Failed to clear local sample data.")}w()};return s.jsx("div",{className:"min-h-screen py-12 px-4 bg-gradient-to-br from-blue-50 to-purple-50",children:s.jsx("div",{className:"max-w-5xl mx-auto",children:s.jsxs(ne,{className:"shadow-xl border-2 border-blue-200",children:[s.jsx(Fe,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:s.jsxs(Ve,{className:"text-2xl flex items-center gap-2",children:[s.jsx(Kr,{className:"w-6 h-6"}),"Points Tools: Reset or Add Points"]})}),s.jsxs(ie,{className:"p-6 space-y-6",children:[s.jsxs(SF,{className:"bg-blue-50 border-blue-200",children:[s.jsx(bj,{className:"w-4 h-4 text-blue-600"}),s.jsx(EF,{className:"text-blue-800",children:"These tools update local leaderboard and users data. Game logic caps points at 1500."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 items-end",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-700",children:"Reset all learners to"}),s.jsx(Te,{type:"number",value:i,onChange:C=>a(C.target.value)})]}),s.jsx("div",{className:"md:col-span-2 flex gap-2",children:s.jsx(G,{onClick:j,children:"Reset All"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 items-end",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-700",children:"Target email"}),s.jsx(Te,{placeholder:"student@example.com",value:o,onChange:C=>c(C.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-700",children:"Set points to"}),s.jsx(Te,{type:"number",value:d,onChange:C=>h(C.target.value)})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(G,{variant:"outline",onClick:_,children:"Set Exact"}),s.jsx(G,{onClick:E,children:"Add Points"})]})]}),g&&s.jsx("div",{className:"text-sm text-green-700",children:g}),s.jsxs("div",{className:"mt-4 p-4 border rounded-md bg-red-50 border-red-200",children:[s.jsx("div",{className:"font-semibold text-red-700 mb-2",children:"Danger Zone"}),s.jsx("p",{className:"text-sm text-red-700 mb-3",children:"Delete all local sample accounts and details (leaderboard, users, game scores)."}),s.jsx(G,{variant:"destructive",onClick:k,children:"Delete All Fake Accounts and Details"})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Current Learners"}),N.length===0?s.jsx("div",{className:"text-sm text-gray-600",children:"No learners found in local storage."}):s.jsx("div",{className:"divide-y divide-gray-100 bg-white border rounded-md overflow-hidden",children:N.map((C,R)=>{var F;return s.jsxs("div",{className:"p-3 sm:p-4 flex items-center gap-3",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"font-semibold text-gray-900 truncate",children:C.full_name||((F=C.email)==null?void 0:F.split("@")[0])||"Learner"}),s.jsx("div",{className:"text-xs text-gray-600 truncate",children:C.email||"no-email"})]}),s.jsxs("div",{className:"text-right flex-shrink-0",children:[s.jsx("div",{className:"text-amber-600 font-bold",children:C.points||0}),s.jsx("div",{className:"text-[10px] text-gray-500",children:"points"})]})]},`${C.email||C.full_name||"user"}-${R}`)})})]})]})]})})})}function uj(){const[t,e]=v.useState({totalUsers:1200,totalStories:500,totalAudio:300,totalVideos:150,totalQuestions:1e3,totalPaths:50}),n=[{title:"AI Agent / ChatGPT",description:"Ask questions or get admin edit suggestions",icon:Zd,path:"Assistant",color:"from-purple-600 to-blue-600",stats:"Admin-only"},{title:"Users Management",description:"Manage users, view profiles, reset points",icon:Fl,path:"AdminUsers",color:"from-blue-500 to-cyan-500",stats:`${t.totalUsers} users`},{title:"Points Tools",description:"Reset or add points for learners",icon:Kr,path:"ResetPointsAdmin",color:"from-amber-500 to-orange-500",stats:"Adjust points"},{title:"Stories Management",description:"Add, edit, delete stories with images",icon:Fn,path:"AdminStories",color:"from-green-500 to-teal-500",stats:`${t.totalStories} stories`},{title:"Audio Content",description:"Manage audio files and recordings",icon:Md,path:"AdminAudioContent",color:"from-purple-500 to-pink-500",stats:`${t.totalAudio} tracks`},{title:"Videos Management",description:"Add and manage video content",icon:fl,path:"AdminVideos",color:"from-red-500 to-orange-500",stats:`${t.totalVideos} videos`},{title:"Quiz Questions",description:"Create and edit quiz questions",icon:Rz,path:"AdminQuestions",color:"from-amber-500 to-yellow-500",stats:`${t.totalQuestions} questions`},{title:"Homepage Banners",description:"Manage rotating homepage banners",icon:vx,path:"AdminBanners",color:"from-teal-500 to-cyan-500",stats:"Edit slides"},{title:"Sponsors & Ads",description:"Manage sponsors and advertising tiles",icon:SB,path:"AdminSponsors",color:"from-amber-500 to-orange-500",stats:"Configure placements"},{title:"Media Library",description:"Upload and manage images",icon:so,path:"AdminMedia",color:"from-pink-500 to-rose-500",stats:"Upload files"},{title:"Recordings Review",description:"Review user submissions",icon:wl,path:"RecordingsAdmin",color:"from-cyan-500 to-blue-500",stats:"Pending review"},{title:"Analytics & Reports",description:"View site statistics and reports",icon:wz,path:"AdminAnalytics",color:"from-violet-500 to-purple-500",stats:"View insights"},{title:"Site Settings",description:"Configure website settings",icon:Od,path:"AdminSettings",color:"from-gray-500 to-slate-500",stats:"Configure"}];return s.jsx("div",{className:"min-h-screen py-12 px-4 bg-gradient-to-br from-gray-50 to-gray-100",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Admin Dashboard"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Manage all website content without using AI credits"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((r,i)=>{const a=r.icon;return s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:i*.1},children:s.jsxs(Lt,{to:it(r.path),children:[" ",s.jsxs(ne,{className:"h-full hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 cursor-pointer border-2 hover:border-blue-300",children:[s.jsxs(Fe,{children:[s.jsx("div",{className:`w-14 h-14 rounded-xl bg-gradient-to-br ${r.color} flex items-center justify-center mb-3`,children:s.jsx(a,{className:"w-7 h-7 text-white"})}),s.jsx(Ve,{className:"text-xl",children:r.title})]}),s.jsxs(ie,{children:[s.jsx("p",{className:"text-gray-600 mb-2",children:r.description})," ",r.stats&&s.jsx("p",{className:"text-sm font-semibold text-gray-800",children:r.stats})]})]})]})},r.title)})}),s.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-12 text-center",children:s.jsx(ne,{className:"bg-blue-50 border-2 border-blue-200",children:s.jsxs(ie,{className:"p-6",children:[s.jsx(Od,{className:"w-12 h-12 mx-auto mb-3 text-blue-600"}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No AI Credits Required"}),s.jsx("p",{className:"text-gray-600",children:"All admin pages use standard forms and database operations - no AI processing needed!"})]})})})]})})}function KI(){const t=Yn(),[e,n]=v.useState(""),[r,i]=v.useState(""),[a,o]=v.useState(""),[c,d]=v.useState(!1),[h,m]=v.useState(!1),f={apiKey:!0,authDomain:!0,projectId:!0,appId:!0},g={apiKey:"AIzaSyDLi7mVwWnHp_jFlo6KfIXMZEu1iGpA-YE",authDomain:"studio-1726517794-3d5f0.firebaseapp.com",projectId:"studio-1726517794-3d5f0",appId:"1:947105835283:web:b06706b15af28b4c3f12e6",storageBucket:"studio-1726517794-3d5f0.appspot.com",messagingSenderId:"947105835283"},x=(w,j=4,_=4)=>w?w.length<=j+_?w:`${w.slice(0,j)}${w.slice(-_)}`:"(empty)";v.useEffect(()=>{const{app:w}=qt();m(!!w);const j=ph(async _=>{_&&await ey()&&t(it("AdminDashboard"))});return()=>j&&j()},[t]);const N=async w=>{w.preventDefault(),o(""),d(!0);try{if(!h)throw new Error("Firebase not configured");const j=await lO(e,r);if(!await ey())throw await uO(),new Error("Access restricted to admin only");t(it("AdminDashboard"))}catch(j){const _=(j==null?void 0:j.code)||"";let E=(j==null?void 0:j.message)||"Login failed";_==="auth/invalid-credential"&&(E="Invalid email or password. Please try again or reset your password."),_==="auth/user-not-found"&&(E="No account found for this email. Please sign up or ask an admin to create one."),_==="auth/wrong-password"&&(E="Incorrect password. Try again or reset your password."),_==="auth/too-many-requests"&&(E="Too many attempts. Please wait a minute, then try again."),_==="auth/operation-not-allowed"&&(E="Email/password sign-in is disabled. Enable it in Firebase Auth  Sign-in method."),o(E)}finally{d(!1)}};return s.jsx("div",{className:"min-h-screen py-12 px-4 bg-gradient-to-br from-slate-50 to-blue-50",children:s.jsx("div",{className:"max-w-md mx-auto",children:s.jsxs(ne,{className:"shadow-xl border-2 border-blue-200",children:[s.jsx(Fe,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:s.jsxs(Ve,{className:"flex items-center gap-2",children:[s.jsx(ru,{className:"w-5 h-5"})," Secure Admin Login"]})}),s.jsx(ie,{className:"p-6",children:h?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-xs text-gray-500 bg-gray-50 border rounded p-2 mb-4",children:[s.jsx("div",{className:"font-semibold mb-1",children:"Debug config (masked)"}),s.jsxs("ul",{className:"list-disc ml-4",children:[s.jsxs("li",{children:["apiKey: ",x(g.apiKey)]}),s.jsxs("li",{children:["authDomain: ",g.authDomain]}),s.jsxs("li",{children:["projectId: ",g.projectId]}),s.jsxs("li",{children:["appId: ",x(g.appId,3,6)]})]})]}),s.jsxs("form",{onSubmit:N,className:"space-y-4",children:[a&&s.jsx("div",{className:"p-2 rounded bg-red-50 text-red-700 text-sm",children:a}),s.jsxs("div",{children:[s.jsx(ye,{children:"Email"}),s.jsx(Te,{type:"email",value:e,onChange:w=>n(w.target.value),required:!0})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Password"}),s.jsx(Te,{type:"password",value:r,onChange:w=>i(w.target.value),required:!0})]}),s.jsx(G,{type:"submit",disabled:c,className:"w-full",children:c?"Signing in...":s.jsxs("span",{className:"inline-flex items-center gap-2",children:[s.jsx(IR,{className:"w-4 h-4"}),"Sign In"]})}),s.jsxs("div",{className:"flex items-center justify-between text-xs mt-2",children:[s.jsx("button",{type:"button",className:"text-blue-600 hover:underline",onClick:async()=>{o("");try{const{auth:w}=qt();if(!w)throw new Error("Firebase not configured");if(!e)throw new Error("Enter your email above, then click reset.");await O_(w,e),o("Password reset email sent. Check your inbox.")}catch(w){const j=(w==null?void 0:w.code)||"";let _=(w==null?void 0:w.message)||"Failed to send reset email.";j==="auth/invalid-email"&&(_="Please enter a valid email address."),j==="auth/user-not-found"&&(_="No account found for this email."),o(_)}},children:"Forgot password?"}),s.jsxs("span",{className:"text-gray-500 flex items-center gap-1",children:[s.jsx(eh,{className:"w-4 h-4 text-green-600"})," Access available to any signed-in user"]})]})]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-amber-600",children:[s.jsx(Sj,{className:"w-5 h-5"}),s.jsx("span",{children:"Firebase is not configured."})]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Please set Firebase env vars in ",s.jsx("code",{children:".env"}),": ",s.jsx("code",{children:"VITE_FIREBASE_API_KEY"}),", ",s.jsx("code",{children:"VITE_FIREBASE_AUTH_DOMAIN"}),", ",s.jsx("code",{children:"VITE_FIREBASE_PROJECT_ID"}),", ",s.jsx("code",{children:"VITE_FIREBASE_APP_ID"}),". Optional: ",s.jsx("code",{children:"VITE_ADMIN_EMAIL"})," (exact match), ",s.jsx("code",{children:"VITE_ADMIN_EMAIL_DOMAIN"})," (e.g. ",s.jsx("code",{children:"imediackids.com"}),")."]}),s.jsxs("div",{className:"text-xs text-gray-500 bg-gray-50 border rounded p-2",children:[s.jsx("div",{className:"font-semibold mb-1",children:"Detected env flags (no secrets):"}),s.jsxs("ul",{className:"list-disc ml-4",children:[s.jsxs("li",{children:["VITE_FIREBASE_API_KEY: ",f.apiKey?"":""]}),s.jsxs("li",{children:["VITE_FIREBASE_AUTH_DOMAIN: ",f.authDomain?"":""]}),s.jsxs("li",{children:["VITE_FIREBASE_PROJECT_ID: ",f.projectId?"":""]}),s.jsxs("li",{children:["VITE_FIREBASE_APP_ID: ",f.appId?"":""]})]}),s.jsxs("div",{className:"mt-2",children:["After editing ",s.jsx("code",{children:".env"}),", fully restart the dev server (",s.jsx("code",{children:"Ctrl+C"})," then ",s.jsx("code",{children:"npm run dev"}),")."]})]}),s.jsxs("div",{className:"text-xs text-gray-500 bg-gray-50 border rounded p-2",children:[s.jsx("div",{className:"font-semibold mb-1",children:"Debug config (masked)"}),s.jsxs("ul",{className:"list-disc ml-4",children:[s.jsxs("li",{children:["apiKey: ",x(g.apiKey)]}),s.jsxs("li",{children:["authDomain: ",g.authDomain]}),s.jsxs("li",{children:["projectId: ",g.projectId]}),s.jsxs("li",{children:["appId: ",x(g.appId,3,6)]}),s.jsxs("li",{children:["storageBucket: ",g.storageBucket]}),s.jsxs("li",{children:["messagingSenderId: ",g.messagingSenderId]})]}),s.jsxs("div",{className:"mt-2",children:["If values show as ",s.jsx("code",{children:"(empty)"}),", ensure your ",s.jsx("code",{children:".env"})," exists at the project root and variables start with ",s.jsx("code",{children:"VITE_"}),"."]})]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Admin login requires Firebase configuration. Once configured, use your email/password to sign in."})]})})]})})})}function lr({children:t}){const e=Yn(),[n,r]=v.useState(!1),[i,a]=v.useState(!1);return v.useEffect(()=>{let o=()=>{};const{app:c}=qt();return c?o=ph(async()=>{const d=await ey();r(d),a(!0),d||e(it("AdminLogin"))}):(r(!1),a(!0),e(it("Home"))),()=>o&&o()},[e]),!i||!n?null:t}var f0="Switch",[Kfe]=bo(f0),[Gfe,Qfe]=Kfe(f0),kF=v.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:a,required:o,disabled:c,value:d="on",onCheckedChange:h,form:m,...f}=t,[g,x]=v.useState(null),N=Ht(e,k=>x(k)),w=v.useRef(!1),j=g?m||!!g.closest("form"):!0,[_,E]=Bc({prop:i,defaultProp:a??!1,onChange:h,caller:f0});return s.jsxs(Gfe,{scope:n,checked:_,disabled:c,children:[s.jsx(Ct.button,{type:"button",role:"switch","aria-checked":_,"aria-required":o,"data-state":RF(_),"data-disabled":c?"":void 0,disabled:c,value:d,...f,ref:N,onClick:Je(t.onClick,k=>{E(C=>!C),j&&(w.current=k.isPropagationStopped(),w.current||k.stopPropagation())})}),j&&s.jsx(IF,{control:g,bubbles:!w.current,name:r,value:d,checked:_,required:o,disabled:c,form:m,style:{transform:"translateX(-100%)"}})]})});kF.displayName=f0;var TF="SwitchThumb",AF=v.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=Qfe(TF,n);return s.jsx(Ct.span,{"data-state":RF(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});AF.displayName=TF;var Yfe="SwitchBubbleInput",IF=v.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...i},a)=>{const o=v.useRef(null),c=Ht(o,a),d=ZN(n),h=p_(e);return v.useEffect(()=>{const m=o.current;if(!m)return;const f=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(f,"checked").set;if(d!==n&&x){const N=new Event("click",{bubbles:r});x.call(m,n),m.dispatchEvent(N)}},[d,n,r]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:c,style:{...i.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});IF.displayName=Yfe;function RF(t){return t?"checked":"unchecked"}var PF=kF,Jfe=AF;const Is=v.forwardRef(({className:t,...e},n)=>s.jsx(PF,{className:ct("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:s.jsx(Jfe,{className:ct("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));Is.displayName=PF.displayName;const gw={siteTitle:"Islam Kids Zone",tagline:"Learn, Play & Grow",logoEmoji:"",headerGradient:"from-blue-600 to-purple-600",navActiveGradient:"from-blue-500 to-purple-500",backgroundGradient:"from-blue-50 via-purple-50 to-pink-50",darkModeDefault:!1,showTestBanner:!0,showRadioBar:!0,supportEmail:"imedia786@gmail.com",supportWhatsappNumber:"+971500000000",apiBaseUrl:"https://api.example.com",assetsCdnUrl:"https://cdn.example.com",radioUrl:"https://a4.asurahosting.com:7820/radio.mp3",maintenanceMode:!1,enableAnalytics:!1,enableMessages:!0,cacheTtlSeconds:600,recordingStudioText:"Welcome to Islam Media Central Recording Studio. Please record Quran recitation, nasheeds, or Islamic messages with clarity and respect."},GI=[{label:"Blue  Purple",value:"from-blue-600 to-purple-600"},{label:"Purple  Pink",value:"from-purple-600 to-pink-600"},{label:"Teal  Cyan",value:"from-teal-600 to-cyan-600"},{label:"Rose  Orange",value:"from-rose-600 to-orange-600"},{label:"Slate  Gray",value:"from-slate-700 to-gray-700"}],Xfe=[{label:"Blue/Purple/Pink",value:"from-blue-50 via-purple-50 to-pink-50"},{label:"Teal/Cyan",value:"from-teal-50 via-cyan-50 to-blue-50"},{label:"Rose/Orange",value:"from-rose-50 via-orange-50 to-yellow-50"},{label:"Neutral",value:"from-gray-50 to-gray-100"}];function DF(){const[t,e]=v.useState(gw),[n,r]=v.useState(!1),[i,a]=v.useState(""),[o,c]=v.useState(""),[d,h]=v.useState(""),[m,f]=v.useState("");v.useEffect(()=>{try{const x=localStorage.getItem("siteSettings");if(x){const N=JSON.parse(x);e({...gw,...N})}}catch{}},[]);const g=()=>{localStorage.setItem("siteSettings",JSON.stringify(t)),r(!0),setTimeout(()=>r(!1),1500)};return s.jsx("div",{className:`min-h-screen py-8 px-4 bg-gradient-to-br ${t.backgroundGradient}`,children:s.jsx("div",{className:"max-w-5xl mx-auto",children:s.jsxs(ne,{className:"shadow-xl border-2 border-blue-200",children:[s.jsx(Fe,{className:`text-white bg-gradient-to-r ${t.headerGradient}`,children:s.jsxs(Ve,{className:"flex items-center gap-2",children:[s.jsx(Od,{className:"w-6 h-6"})," Site Settings"]})}),s.jsxs(ie,{className:"p-6 space-y-6",children:[n&&s.jsx("div",{className:"p-2 rounded bg-green-50 text-green-700 text-sm",children:"Settings saved"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Site Title"}),s.jsx(Te,{value:t.siteTitle,onChange:x=>e({...t,siteTitle:x.target.value})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Tagline"}),s.jsx(Te,{value:t.tagline,onChange:x=>e({...t,tagline:x.target.value})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Logo Emoji"}),s.jsx(Te,{value:t.logoEmoji,onChange:x=>e({...t,logoEmoji:x.target.value})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Header Gradient"}),s.jsxs(en,{value:t.headerGradient,onValueChange:x=>e({...t,headerGradient:x}),children:[s.jsx(Kt,{children:s.jsx(tn,{placeholder:"Select gradient"})}),s.jsx(Gt,{children:GI.map(x=>s.jsx(Re,{value:x.value,children:x.label},x.value))})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Active Nav Gradient"}),s.jsxs(en,{value:t.navActiveGradient,onValueChange:x=>e({...t,navActiveGradient:x}),children:[s.jsx(Kt,{children:s.jsx(tn,{placeholder:"Select gradient"})}),s.jsx(Gt,{children:GI.map(x=>s.jsx(Re,{value:x.value,children:x.label},x.value))})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Background Gradient"}),s.jsxs(en,{value:t.backgroundGradient,onValueChange:x=>e({...t,backgroundGradient:x}),children:[s.jsx(Kt,{children:s.jsx(tn,{placeholder:"Select background"})}),s.jsx(Gt,{children:Xfe.map(x=>s.jsx(Re,{value:x.value,children:x.label},x.value))})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Dark Mode Default"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Is,{checked:t.darkModeDefault,onCheckedChange:x=>e({...t,darkModeDefault:x})}),s.jsx("span",{className:"text-sm text-gray-600",children:"Apply dark mode on load"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Show Test Mode Banner"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Is,{checked:t.showTestBanner,onCheckedChange:x=>e({...t,showTestBanner:x})}),s.jsx("span",{className:"text-sm text-gray-600",children:"Toggle info banner in Layout"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Show Radio Bar"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Is,{checked:t.showRadioBar,onCheckedChange:x=>e({...t,showRadioBar:x})}),s.jsx("span",{className:"text-sm text-gray-600",children:"Enable persistent radio player"})]})]})]}),s.jsxs("div",{className:"pt-6 border-t",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Backend Settings"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Support Email"}),s.jsx(Te,{type:"email",value:t.supportEmail,onChange:x=>e({...t,supportEmail:x.target.value})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Support WhatsApp Number"}),s.jsx(Te,{value:t.supportWhatsappNumber,onChange:x=>e({...t,supportWhatsappNumber:x.target.value})})]}),s.jsxs("div",{className:"space-y-3 md:col-span-2",children:[s.jsx(ye,{children:"API Base URL"}),s.jsx(Te,{value:t.apiBaseUrl,onChange:x=>e({...t,apiBaseUrl:x.target.value})}),s.jsx("p",{className:"text-xs text-gray-500",children:"Non-secret; use env for sensitive keys."})]}),s.jsxs("div",{className:"space-y-3 md:col-span-2",children:[s.jsx(ye,{children:"Assets CDN URL"}),s.jsx(Te,{value:t.assetsCdnUrl,onChange:x=>e({...t,assetsCdnUrl:x.target.value})})]}),s.jsxs("div",{className:"space-y-3 md:col-span-2",children:[s.jsx(ye,{children:"Radio Stream URL"}),s.jsx(Te,{value:t.radioUrl,onChange:x=>e({...t,radioUrl:x.target.value})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Maintenance Mode"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Is,{checked:t.maintenanceMode,onCheckedChange:x=>e({...t,maintenanceMode:x})}),s.jsx("span",{className:"text-sm text-gray-600",children:"Show site-wide maintenance banner"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Enable Analytics"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Is,{checked:t.enableAnalytics,onCheckedChange:x=>e({...t,enableAnalytics:x})}),s.jsx("span",{className:"text-sm text-gray-600",children:"Toggle client-side telemetry hooks"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Enable Messages"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Is,{checked:t.enableMessages,onCheckedChange:x=>e({...t,enableMessages:x})}),s.jsx("span",{className:"text-sm text-gray-600",children:"Toggle AdminMessages/Netlify function usage"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Cache TTL (seconds)"}),s.jsx(Te,{type:"number",min:"0",value:t.cacheTtlSeconds,onChange:x=>e({...t,cacheTtlSeconds:parseInt(x.target.value||0,10)})})]}),s.jsxs("div",{className:"space-y-3 md:col-span-2",children:[s.jsx(ye,{children:"Recording Studio Page Text"}),s.jsx(In,{value:t.recordingStudioText,onChange:x=>e({...t,recordingStudioText:x.target.value}),className:"min-h-[120px]",placeholder:"Write instructions, motivational messages, or Quran/Nasheed guidelines for users..."}),s.jsx("p",{className:"text-xs text-gray-500",children:"This appears at the top of the Recording Studio page."})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3 pt-4",children:[s.jsx(G,{onClick:g,children:"Save Settings"}),s.jsx(G,{variant:"outline",onClick:()=>e(gw),children:"Reset to Defaults"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Stored locally for now. For production, persist in Firestore or your backend (Netlify functions), with secure server-side enforcement."}),s.jsxs("div",{className:"pt-8 border-t",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Admin Auth Tools"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 items-end",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Check if Auth Email Exists"}),s.jsx(Te,{type:"email",placeholder:"user@example.com",value:i,onChange:x=>a(x.target.value)})]}),s.jsx("div",{className:"space-y-3",children:s.jsx(G,{onClick:async()=>{var x,N;c("");try{const{auth:w}=(await sn(async()=>{const{getFirebase:k}=await Promise.resolve().then(()=>vA);return{getFirebase:k}},void 0)).getFirebase(),j=await((N=(x=w==null?void 0:w.currentUser)==null?void 0:x.getIdToken)==null?void 0:N.call(x));if(!j)throw new Error("Admin login required");const _=await fetch("/.netlify/functions/authLookup",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${j}`},body:JSON.stringify({email:i.trim().toLowerCase()})}),E=await _.json().catch(()=>({}));if(!_.ok)throw new Error((E==null?void 0:E.error)||`Error ${_.status}`);c(E.exists?`Exists (uid: ${E.uid})`:"Not found in Auth")}catch(w){c(`Lookup failed: ${w.message||w}`)}},children:"Check Email"})})]}),o&&s.jsx("div",{className:"mt-3 text-sm p-2 rounded border bg-white/60",children:o}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:'Requires admin login and server-side verification. Useful when signup says "email already in use" but no user appears in Firestore.'}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-6 items-end",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(ye,{children:"Delete Test Account (Email or UID)"}),s.jsx(Te,{placeholder:"user@example.com or UID",value:d,onChange:x=>h(x.target.value)})]}),s.jsx("div",{className:"space-y-3",children:s.jsx(G,{variant:"destructive",onClick:async()=>{var N,w;f("");const x=d.trim();if(!x){f("Provide email or UID");return}try{const{auth:j}=(await sn(async()=>{const{getFirebase:R}=await Promise.resolve().then(()=>vA);return{getFirebase:R}},void 0)).getFirebase(),_=await((w=(N=j==null?void 0:j.currentUser)==null?void 0:N.getIdToken)==null?void 0:w.call(N));if(!_)throw new Error("Admin login required");const E=/@/.test(x),k=await fetch("/.netlify/functions/deleteUser",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${_}`},body:JSON.stringify(E?{email:x.toLowerCase()}:{uid:x})}),C=await k.json().catch(()=>({}));if(!k.ok)throw new Error((C==null?void 0:C.error)||`Error ${k.status}`);f(`Deleted: uid=${C.uid}${C.email?`, email=${C.email}`:""}`)}catch(j){f(`Delete failed: ${j.message||j}`)}},children:"Delete Account"})})]}),m&&s.jsx("div",{className:"mt-3 text-sm p-2 rounded border bg-white/60",children:m})]})]})]})})})}function MF(){const[t,e]=v.useState(null),[n,r]=v.useState(!1),[i,a]=v.useState(""),[o,c]=v.useState("all"),d=si();Yn();const[h,m]=v.useState({title:"",content:"",moral:"",image_url:"",audio_url:"",age_range:"5-12",category:"prophets"}),{data:f=[],isLoading:g}=Un({queryKey:["admin-stories"],queryFn:async()=>await base44.entities.Story.list("-created_date"),initialData:[]}),x=Nn({mutationFn:async R=>await base44.entities.Story.create(R),onSuccess:()=>{d.invalidateQueries({queryKey:["admin-stories"]}),r(!1),j()}}),N=Nn({mutationFn:async({id:R,storyData:F})=>await base44.entities.Story.update(R,F),onSuccess:()=>{d.invalidateQueries({queryKey:["admin-stories"]}),e(null),r(!1),j()}}),w=Nn({mutationFn:async R=>await base44.entities.Story.delete(R),onSuccess:()=>{d.invalidateQueries({queryKey:["admin-stories"]})}}),j=()=>{m({title:"",content:"",moral:"",image_url:"",audio_url:"",age_range:"5-12",category:"prophets"})},_=R=>{e(R),m({title:R.title,content:R.content,moral:R.moral,image_url:R.image_url||"",audio_url:R.audio_url||"",age_range:R.age_range||"5-12",category:R.category}),r(!0)},E=async R=>{window.confirm("Are you sure you want to delete this story?")&&await w.mutateAsync(R)},k=async R=>{R.preventDefault(),t?await N.mutateAsync({id:t.id,storyData:h}):await x.mutateAsync(h)},C=f.filter(R=>{const F=R.title.toLowerCase().includes(i.toLowerCase())||R.content.toLowerCase().includes(i.toLowerCase()),D=o==="all"||R.category===o;return F&&D});return s.jsx("div",{className:"min-h-screen py-8 px-4 bg-gradient-to-br from-slate-50 to-blue-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Lt,{to:it("AdminDashboard"),children:s.jsxs(G,{variant:"outline",children:[s.jsx(Ol,{className:"w-4 h-4 mr-2"}),"Back"]})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Stories Management"}),s.jsx("p",{className:"text-gray-600",children:"Create and manage Islamic stories"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Lt,{to:it("Assistant"),children:s.jsxs(G,{variant:"outline",children:[s.jsx(Zd,{className:"w-4 h-4 mr-2"}),"Open AI Agent"]})}),s.jsx(Lt,{to:it("AdminMedia"),children:s.jsxs(G,{variant:"outline",children:[s.jsx(so,{className:"w-4 h-4 mr-2"}),"Media Library"]})}),s.jsxs(G,{onClick:()=>{r(!0),e(null),j()},className:"bg-green-600 hover:bg-green-700",children:[s.jsx(Os,{className:"w-4 h-4 mr-2"}),"Add New Story"]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(io,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx(Te,{type:"text",placeholder:"Search stories...",value:i,onChange:R=>a(R.target.value),className:"pl-10"})]}),s.jsxs(en,{value:o,onValueChange:c,children:[s.jsx(Kt,{className:"w-full sm:w-48",children:s.jsx(tn,{placeholder:"Filter by category"})}),s.jsxs(Gt,{children:[s.jsx(Re,{value:"all",children:"All Categories"}),s.jsx(Re,{value:"prophets",children:"Prophets"}),s.jsx(Re,{value:"sahabah",children:"Sahabah"}),s.jsx(Re,{value:"manners",children:"Manners"}),s.jsx(Re,{value:"kindness",children:"Kindness"}),s.jsx(Re,{value:"honesty",children:"Honesty"}),s.jsx(Re,{value:"gratitude",children:"Gratitude"}),s.jsx(Re,{value:"bedtime",children:"Bedtime"})]})]})]}),s.jsx(ri,{children:n&&s.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:s.jsxs(te.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"sticky top-0 bg-white border-b p-6 z-10",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl font-bold",children:t?"Edit Story":"Create New Story"}),s.jsx(G,{variant:"ghost",size:"icon",onClick:()=>{r(!1),e(null),j()},children:s.jsx(ps,{className:"w-6 h-6"})})]})}),s.jsxs("form",{onSubmit:k,className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Title *"}),s.jsx(Te,{value:h.title,onChange:R=>m({...h,title:R.target.value}),required:!0,placeholder:"e.g., The Story of Prophet Yusuf"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Category *"}),s.jsxs(en,{value:h.category,onValueChange:R=>m({...h,category:R}),children:[s.jsx(Kt,{children:s.jsx(tn,{})}),s.jsxs(Gt,{children:[s.jsx(Re,{value:"prophets",children:"Prophets"}),s.jsx(Re,{value:"sahabah",children:"Sahabah"}),s.jsx(Re,{value:"manners",children:"Manners"}),s.jsx(Re,{value:"kindness",children:"Kindness"}),s.jsx(Re,{value:"honesty",children:"Honesty"}),s.jsx(Re,{value:"gratitude",children:"Gratitude"}),s.jsx(Re,{value:"bedtime",children:"Bedtime"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Age Range"}),s.jsxs(en,{value:h.age_range,onValueChange:R=>m({...h,age_range:R}),children:[s.jsx(Kt,{children:s.jsx(tn,{})}),s.jsxs(Gt,{children:[s.jsx(Re,{value:"3-6",children:"3-6 years"}),s.jsx(Re,{value:"5-12",children:"5-12 years"}),s.jsx(Re,{value:"7-10",children:"7-10 years"}),s.jsx(Re,{value:"11+",children:"11+ years"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Story Content * (Markdown supported)"}),s.jsx(In,{value:h.content,onChange:R=>m({...h,content:R.target.value}),required:!0,rows:12,placeholder:"Write your story here... You can use **bold**, *italic*, and # headings",className:"font-mono"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Tip: Use markdown formatting for better text styling"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Moral/Lesson *"}),s.jsx(In,{value:h.moral,onChange:R=>m({...h,moral:R.target.value}),required:!0,rows:3,placeholder:"What should children learn from this story?"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Image URL (optional)"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Te,{value:h.image_url,onChange:R=>m({...h,image_url:R.target.value}),placeholder:"https://... or upload via Media Library"}),s.jsx(Lt,{to:it("AdminMedia"),target:"_blank",children:s.jsx(G,{type:"button",variant:"outline",children:s.jsx(so,{className:"w-4 h-4"})})})]}),h.image_url&&s.jsx("img",{src:h.image_url,alt:"Preview",className:"mt-2 h-32 object-cover rounded-lg",onError:R=>R.target.style.display="none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Audio URL (optional)"}),s.jsx(Te,{value:h.audio_url,onChange:R=>m({...h,audio_url:R.target.value}),placeholder:"https://... (MP3 audio narration)"})]}),s.jsxs("div",{className:"flex gap-4 justify-end border-t pt-6",children:[s.jsx(G,{type:"button",variant:"outline",onClick:()=>{r(!1),e(null),j()},children:"Cancel"}),s.jsxs(G,{type:"submit",className:"bg-green-600 hover:bg-green-700",children:[s.jsx(ya,{className:"w-4 h-4 mr-2"}),t?"Update Story":"Create Story"]})]})]})]})})}),g?s.jsx("div",{className:"text-center py-12",children:"Loading stories..."}):C.length===0?s.jsxs(ne,{className:"p-12 text-center",children:[s.jsx(Fn,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-gray-600",children:f.length===0?"No stories created yet.":"No stories match your search."}),s.jsx(G,{onClick:()=>r(!0),className:"mt-4",children:"Create Your First Story"})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:C.map(R=>s.jsxs(ne,{className:"hover:shadow-lg transition-shadow",children:[s.jsxs(Fe,{className:"pb-3",children:[R.image_url&&s.jsx("div",{className:"h-48 -mx-6 -mt-6 mb-4 rounded-t-lg overflow-hidden",children:s.jsx("img",{src:R.image_url,alt:R.title,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsx(Ve,{className:"text-lg line-clamp-2",children:R.title}),s.jsx(_e,{children:R.category})]})]}),s.jsxs(ie,{children:[s.jsxs("p",{className:"text-sm text-gray-600 mb-4 line-clamp-3",children:[R.content.substring(0,150),"..."]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 mb-4",children:[s.jsx("span",{children:R.age_range}),R.audio_url&&s.jsx("span",{children:"  Audio"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(G,{onClick:()=>_(R),size:"sm",className:"flex-1 bg-blue-600 hover:bg-blue-700",children:[s.jsx(yo,{className:"w-4 h-4 mr-1"}),"Edit"]}),s.jsx(G,{onClick:()=>E(R.id),size:"sm",variant:"outline",className:"text-red-600 border-red-600 hover:bg-red-50",children:s.jsx(hr,{className:"w-4 h-4"})})]})]})]},R.id))}),s.jsxs("div",{className:"mt-8 grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsx(ne,{children:s.jsxs(ie,{className:"p-4 text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:f.length}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total Stories"})]})}),s.jsx(ne,{children:s.jsxs(ie,{className:"p-4 text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-green-600",children:f.filter(R=>R.image_url).length}),s.jsx("p",{className:"text-sm text-gray-600",children:"With Images"})]})}),s.jsx(ne,{children:s.jsxs(ie,{className:"p-4 text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-purple-600",children:f.filter(R=>R.audio_url).length}),s.jsx("p",{className:"text-sm text-gray-600",children:"With Audio"})]})})]})]})})}function Zfe(t){const e=epe(t),n=v.forwardRef((r,i)=>{const{children:a,...o}=r,c=v.Children.toArray(a),d=c.find(npe);if(d){const h=d.props.children,m=c.map(f=>f===d?v.Children.count(h)>1?v.Children.only(null):v.isValidElement(h)?h.props.children:null:f);return s.jsx(e,{...o,ref:i,children:v.isValidElement(h)?v.cloneElement(h,void 0,m):null})}return s.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function epe(t){const e=v.forwardRef((n,r)=>{const{children:i,...a}=n;if(v.isValidElement(i)){const o=spe(i),c=rpe(a,i.props);return i.type!==v.Fragment&&(c.ref=r?vo(r,o):o),v.cloneElement(i,c)}return v.Children.count(i)>1?v.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var tpe=Symbol("radix.slottable");function npe(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===tpe}function rpe(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...c)=>{const d=a(...c);return i(...c),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function spe(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var p0="Dialog",[OF]=bo(p0),[ipe,Ai]=OF(p0),LF=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:o=!0}=t,c=v.useRef(null),d=v.useRef(null),[h,m]=Bc({prop:r,defaultProp:i??!1,onChange:a,caller:p0});return s.jsx(ipe,{scope:e,triggerRef:c,contentRef:d,contentId:Za(),titleId:Za(),descriptionId:Za(),open:h,onOpenChange:m,onOpenToggle:v.useCallback(()=>m(f=>!f),[m]),modal:o,children:n})};LF.displayName=p0;var FF="DialogTrigger",ape=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ai(FF,n),a=Ht(e,i.triggerRef);return s.jsx(Ct.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":uS(i.open),...r,ref:a,onClick:Je(t.onClick,i.onOpenToggle)})});ape.displayName=FF;var lS="DialogPortal",[ope,VF]=OF(lS,{forceMount:void 0}),UF=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,a=Ai(lS,e);return s.jsx(ope,{scope:e,forceMount:n,children:v.Children.map(r,o=>s.jsx(wo,{present:n||a.open,children:s.jsx(ky,{asChild:!0,container:i,children:o})}))})};UF.displayName=lS;var cy="DialogOverlay",zF=v.forwardRef((t,e)=>{const n=VF(cy,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,a=Ai(cy,t.__scopeDialog);return a.modal?s.jsx(wo,{present:r||a.open,children:s.jsx(cpe,{...i,ref:e})}):null});zF.displayName=cy;var lpe=Zfe("DialogOverlay.RemoveScroll"),cpe=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ai(cy,n);return s.jsx(Ay,{as:lpe,allowPinchZoom:!0,shards:[i.contentRef],children:s.jsx(Ct.div,{"data-state":uS(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),nu="DialogContent",BF=v.forwardRef((t,e)=>{const n=VF(nu,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,a=Ai(nu,t.__scopeDialog);return s.jsx(wo,{present:r||a.open,children:a.modal?s.jsx(upe,{...i,ref:e}):s.jsx(dpe,{...i,ref:e})})});BF.displayName=nu;var upe=v.forwardRef((t,e)=>{const n=Ai(nu,t.__scopeDialog),r=v.useRef(null),i=Ht(e,n.contentRef,r);return v.useEffect(()=>{const a=r.current;if(a)return y_(a)},[]),s.jsx($F,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Je(t.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Je(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0;(o.button===2||c)&&a.preventDefault()}),onFocusOutside:Je(t.onFocusOutside,a=>a.preventDefault())})}),dpe=v.forwardRef((t,e)=>{const n=Ai(nu,t.__scopeDialog),r=v.useRef(!1),i=v.useRef(!1);return s.jsx($F,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,c;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(r.current||(c=n.triggerRef.current)==null||c.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var d,h;(d=t.onInteractOutside)==null||d.call(t,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((h=n.triggerRef.current)==null?void 0:h.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),$F=v.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=t,c=Ai(nu,n),d=v.useRef(null),h=Ht(e,d);return l_(),s.jsxs(s.Fragment,{children:[s.jsx(jy,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:s.jsx(wy,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":uS(c.open),...o,ref:h,onDismiss:()=>c.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(hpe,{titleId:c.titleId}),s.jsx(fpe,{contentRef:d,descriptionId:c.descriptionId})]})]})}),cS="DialogTitle",qF=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ai(cS,n);return s.jsx(Ct.h2,{id:i.titleId,...r,ref:e})});qF.displayName=cS;var HF="DialogDescription",WF=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ai(HF,n);return s.jsx(Ct.p,{id:i.descriptionId,...r,ref:e})});WF.displayName=HF;var KF="DialogClose",GF=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ai(KF,n);return s.jsx(Ct.button,{type:"button",...r,ref:e,onClick:Je(t.onClick,()=>i.onOpenChange(!1))})});GF.displayName=KF;function uS(t){return t?"open":"closed"}var QF="DialogTitleWarning",[cge,YF]=QH(QF,{contentName:nu,titleName:cS,docsSlug:"dialog"}),hpe=({titleId:t})=>{const e=YF(QF),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return v.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},mpe="DialogDescriptionWarning",fpe=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${YF(mpe).contentName}}.`;return v.useEffect(()=>{var a;const i=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},ppe=LF,gpe=UF,JF=zF,XF=BF,ZF=qF,eV=WF,xpe=GF;const _f=ppe,ype=gpe,tV=v.forwardRef(({className:t,...e},n)=>s.jsx(JF,{ref:n,className:ct("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));tV.displayName=JF.displayName;const Kd=v.forwardRef(({className:t,children:e,...n},r)=>s.jsxs(ype,{children:[s.jsx(tV,{}),s.jsxs(XF,{ref:r,className:ct("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,s.jsxs(xpe,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(ps,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Kd.displayName=XF.displayName;const Gd=({className:t,...e})=>s.jsx("div",{className:ct("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Gd.displayName="DialogHeader";const Qd=v.forwardRef(({className:t,...e},n)=>s.jsx(ZF,{ref:n,className:ct("text-lg font-semibold leading-none tracking-tight",t),...e}));Qd.displayName=ZF.displayName;const vpe=v.forwardRef(({className:t,...e},n)=>s.jsx(eV,{ref:n,className:ct("text-sm text-muted-foreground",t),...e}));vpe.displayName=eV.displayName;function nV(){const[t,e]=v.useState(!1),[n,r]=v.useState(null),[i,a]=v.useState(!1),[o,c]=v.useState({title:"",mp3_url:"",cover_image:"",description:"",transcript:"",moral_lesson:"",duration:"",age_group:"all",category:"story",subcategory:"",language:"English",allow_download:!1,featured:!1}),d=si(),{data:h=[],isLoading:m}=Un({queryKey:["admin-audio"],queryFn:()=>base44.entities.AudioContent.list("-created_date"),initialData:[]}),f=Nn({mutationFn:E=>base44.entities.AudioContent.create(E),onSuccess:()=>{d.invalidateQueries({queryKey:["admin-audio"]}),e(!1),N()}}),g=Nn({mutationFn:({id:E,data:k})=>base44.entities.AudioContent.update(E,k),onSuccess:()=>{d.invalidateQueries({queryKey:["admin-audio"]}),e(!1),N()}}),x=Nn({mutationFn:E=>base44.entities.AudioContent.delete(E),onSuccess:()=>{d.invalidateQueries({queryKey:["admin-audio"]})}}),N=()=>{c({title:"",mp3_url:"",cover_image:"",description:"",transcript:"",moral_lesson:"",duration:"",age_group:"all",category:"story",subcategory:"",language:"English",allow_download:!1,featured:!1}),r(null)},w=E=>{r(E),c({title:E.title||"",mp3_url:E.mp3_url||"",cover_image:E.cover_image||"",description:E.description||"",transcript:E.transcript||"",moral_lesson:E.moral_lesson||"",duration:E.duration||"",age_group:E.age_group||"all",category:E.category||"story",subcategory:E.subcategory||"",language:E.language||"English",allow_download:E.allow_download||!1,featured:E.featured||!1}),e(!0)},j=E=>{E.preventDefault(),n?g.mutate({id:n.id,data:o}):f.mutate(o)},_=async(E,k)=>{const C=E.target.files[0];if(C){a(!0);try{const{file_url:R}=await base44.integrations.Core.UploadFile({file:C});c({...o,[k]:R})}catch(R){console.error("Error uploading file:",R),alert("Failed to upload file")}finally{a(!1)}}};return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"Audio Content Management"}),s.jsxs(G,{onClick:()=>{N(),e(!0)},className:"bg-green-600 hover:bg-green-700",children:[s.jsx(Os,{className:"w-4 h-4 mr-2"}),"Add New Audio"]})]}),m?s.jsx("p",{className:"text-center py-12 text-gray-500",children:"Loading audio content..."}):s.jsx("div",{className:"grid gap-6",children:h.map((E,k)=>s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:k*.05},children:s.jsxs(ne,{children:[s.jsx(Fe,{children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex gap-4 flex-1",children:[E.cover_image&&s.jsx("img",{src:E.cover_image,alt:E.title,className:"w-20 h-20 rounded object-cover"}),s.jsxs("div",{className:"flex-1",children:[s.jsx(Ve,{className:"text-xl mb-2",children:E.title}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:E.category}),s.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:E.age_group}),E.duration&&s.jsx("span",{className:"text-xs bg-gray-100 text-gray-800 px-2 py-1 rounded",children:E.duration}),E.featured&&s.jsx("span",{className:"text-xs bg-amber-100 text-amber-800 px-2 py-1 rounded",children:" Featured"})]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[E.mp3_url&&s.jsx(G,{variant:"outline",size:"sm",onClick:()=>window.open(E.mp3_url,"_blank"),children:s.jsx(dr,{className:"w-4 h-4"})}),s.jsx(G,{variant:"outline",size:"sm",onClick:()=>w(E),children:s.jsx(PB,{className:"w-4 h-4"})}),s.jsx(G,{variant:"outline",size:"sm",onClick:()=>{confirm("Are you sure you want to delete this audio?")&&x.mutate(E.id)},className:"text-red-600 hover:text-red-700",children:s.jsx(hr,{className:"w-4 h-4"})})]})]})}),E.description&&s.jsx(ie,{children:s.jsx("p",{className:"text-gray-600 text-sm line-clamp-2",children:E.description})})]})},E.id))}),s.jsx(_f,{open:t,onOpenChange:e,children:s.jsxs(Kd,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Gd,{children:s.jsx(Qd,{children:n?"Edit Audio":"Add New Audio"})}),s.jsxs("form",{onSubmit:j,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"title",children:"Title *"}),s.jsx(Te,{id:"title",value:o.title,onChange:E=>c({...o,title:E.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"duration",children:"Duration (MM:SS)"}),s.jsx(Te,{id:"duration",value:o.duration,onChange:E=>c({...o,duration:E.target.value}),placeholder:"05:30"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"category",children:"Category *"}),s.jsxs(en,{value:o.category,onValueChange:E=>c({...o,category:E}),children:[s.jsx(Kt,{children:s.jsx(tn,{})}),s.jsxs(Gt,{children:[s.jsx(Re,{value:"story",children:"Story"}),s.jsx(Re,{value:"hadith",children:"Hadith"}),s.jsx(Re,{value:"history",children:"History"}),s.jsx(Re,{value:"nasheed",children:"Nasheed"}),s.jsx(Re,{value:"tajweed",children:"Tajweed"}),s.jsx(Re,{value:"fiqh",children:"Fiqh"}),s.jsx(Re,{value:"quran",children:"Quran"})]})]})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"age_group",children:"Age Group"}),s.jsxs(en,{value:o.age_group,onValueChange:E=>c({...o,age_group:E}),children:[s.jsx(Kt,{children:s.jsx(tn,{})}),s.jsxs(Gt,{children:[s.jsx(Re,{value:"3-6",children:"3-6 years"}),s.jsx(Re,{value:"7-10",children:"7-10 years"}),s.jsx(Re,{value:"11+",children:"11+ years"}),s.jsx(Re,{value:"all",children:"All Ages"})]})]})]})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"description",children:"Description"}),s.jsx(In,{id:"description",value:o.description,onChange:E=>c({...o,description:E.target.value}),rows:3})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"mp3",children:"Audio File (MP3) *"}),s.jsxs("div",{className:"flex gap-2 items-end",children:[s.jsx("div",{className:"flex-1",children:s.jsx(Te,{id:"mp3",value:o.mp3_url,onChange:E=>c({...o,mp3_url:E.target.value}),placeholder:"MP3 URL or upload below",required:!0})}),s.jsxs(G,{type:"button",variant:"outline",onClick:()=>document.getElementById("mp3-upload").click(),disabled:i,children:[s.jsx(jl,{className:"w-4 h-4 mr-2"}),i?"Uploading...":"Upload"]}),s.jsx("input",{id:"mp3-upload",type:"file",accept:"audio/*",className:"hidden",onChange:E=>_(E,"mp3_url")})]})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"cover",children:"Cover Image"}),s.jsxs("div",{className:"flex gap-2 items-end",children:[s.jsx("div",{className:"flex-1",children:s.jsx(Te,{id:"cover",value:o.cover_image,onChange:E=>c({...o,cover_image:E.target.value}),placeholder:"Image URL or upload below"})}),s.jsxs(G,{type:"button",variant:"outline",onClick:()=>document.getElementById("cover-upload").click(),disabled:i,children:[s.jsx(jl,{className:"w-4 h-4 mr-2"}),i?"Uploading...":"Upload"]}),s.jsx("input",{id:"cover-upload",type:"file",accept:"image/*",className:"hidden",onChange:E=>_(E,"cover_image")})]})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"transcript",children:"Transcript"}),s.jsx(In,{id:"transcript",value:o.transcript,onChange:E=>c({...o,transcript:E.target.value}),rows:6,placeholder:"Full text transcript of the audio..."})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"moral",children:"Moral Lesson"}),s.jsx(In,{id:"moral",value:o.moral_lesson,onChange:E=>c({...o,moral_lesson:E.target.value}),rows:2})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"featured",checked:o.featured,onChange:E=>c({...o,featured:E.target.checked}),className:"w-4 h-4"}),s.jsx(ye,{htmlFor:"featured",className:"cursor-pointer",children:"Featured Content"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"allow_download",checked:o.allow_download,onChange:E=>c({...o,allow_download:E.target.checked}),className:"w-4 h-4"}),s.jsx(ye,{htmlFor:"allow_download",className:"cursor-pointer",children:"Allow Downloads"})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx(G,{type:"button",variant:"outline",onClick:()=>e(!1),className:"flex-1",children:"Cancel"}),s.jsx(G,{type:"submit",disabled:f.isPending||g.isPending,className:"flex-1 bg-green-600 hover:bg-green-700",children:n?"Update Audio":"Create Audio"})]})]})]})})]})})}function rV(){const[t,e]=v.useState(null),[n,r]=v.useState(!1),[i,a]=v.useState([]),[o,c]=v.useState(null),[d,h]=v.useState(""),[m,f]=v.useState(!1),[g,x]=v.useState([]);Yn(),v.useEffect(()=>{N()},[]);const N=()=>{const I=localStorage.getItem("uploaded_media_files");I&&a(JSON.parse(I))},w=I=>{localStorage.setItem("uploaded_media_files",JSON.stringify(I)),a(I)},j=v.useCallback(I=>{I.preventDefault(),I.stopPropagation(),I.type==="dragenter"||I.type==="dragover"?f(!0):I.type==="dragleave"&&f(!1)},[]),_=v.useCallback(I=>{I.preventDefault(),I.stopPropagation(),f(!1),I.dataTransfer.files&&I.dataTransfer.files[0]&&k(I.dataTransfer.files)},[]),E=I=>{I.target.files&&I.target.files[0]&&k(I.target.files)},k=async I=>{r(!0);const O=[];for(let L=0;L<I.length;L++){const U=I[L];try{const ee=await yt.integrations.Core.UploadFile({file:U});O.push({id:Date.now()+L,name:U.name,url:ee.file_url,type:U.type,size:U.size,uploadedAt:new Date().toISOString()})}catch(ee){console.error("Upload failed:",ee),alert(`Failed to upload ${U.name}`)}}const V=[...O,...i];w(V),r(!1)},C=I=>{navigator.clipboard.writeText(I),c(I),setTimeout(()=>c(null),2e3)},R=I=>{if(window.confirm("Delete this file? This won't delete it from storage but removes it from this list.")){const O=i.filter(V=>V.id!==I);w(O)}},F=I=>{g.includes(I)?x(g.filter(O=>O!==I)):x([...g,I])},D=()=>{if(window.confirm(`Delete ${g.length} selected files?`)){const I=i.filter(O=>!g.includes(O.id));w(I),x([])}},P=i.filter(I=>I.name.toLowerCase().includes(d.toLowerCase()));return s.jsx("div",{className:"min-h-screen py-8 px-4 bg-gradient-to-br from-slate-50 to-blue-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Lt,{to:it("AdminDashboard"),children:s.jsxs(G,{variant:"outline",children:[s.jsx(Ol,{className:"w-4 h-4 mr-2"}),"Back"]})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Media Library"}),s.jsx("p",{className:"text-gray-600",children:"Upload and manage images & files"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Lt,{to:it("Assistant"),children:s.jsxs(G,{variant:"outline",children:[s.jsx(Zd,{className:"w-4 h-4 mr-2"}),"Open AI Agent"]})}),g.length>0&&s.jsxs(G,{onClick:D,variant:"destructive",children:[s.jsx(hr,{className:"w-4 h-4 mr-2"}),"Delete ",g.length," Selected"]})]})]}),s.jsxs(ne,{className:"mb-8",children:[s.jsx(Fe,{children:s.jsxs(Ve,{className:"flex items-center gap-2",children:[s.jsx(jl,{className:"w-6 h-6"}),"Upload Files"]})}),s.jsx(ie,{children:s.jsx("div",{className:`border-4 border-dashed rounded-xl p-12 text-center transition-all ${m?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:j,onDragLeave:j,onDragOver:j,onDrop:_,children:n?s.jsxs("div",{children:[s.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Uploading..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(so,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Drag & Drop Files Here"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"or click to browse (supports multiple files)"}),s.jsx("input",{type:"file",multiple:!0,onChange:E,className:"hidden",id:"file-input",accept:"image/*,audio/*,video/*"}),s.jsx("label",{htmlFor:"file-input",children:s.jsx(G,{type:"button",className:"cursor-pointer",asChild:!0,children:s.jsxs("span",{children:[s.jsx(jl,{className:"w-4 h-4 mr-2"}),"Choose Files"]})})}),s.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Supported: Images, Audio, Video files"})]})})})]}),s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(io,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx(Te,{type:"text",placeholder:"Search files...",value:d,onChange:I=>h(I.target.value),className:"pl-10"})]}),s.jsxs("div",{className:"text-sm text-gray-600",children:[P.length," files"]})]})}),P.length===0?s.jsxs(ne,{className:"p-12 text-center",children:[s.jsx(so,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-gray-600",children:i.length===0?"No files uploaded yet. Upload your first file above!":"No files match your search."})]}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:s.jsx(ri,{children:P.map(I=>{var O,V,L;return s.jsx(te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},children:s.jsx(ne,{className:`hover:shadow-lg transition-all cursor-pointer ${g.includes(I.id)?"ring-2 ring-blue-500":""}`,children:s.jsxs(ie,{className:"p-0",children:[s.jsxs("div",{className:"relative h-48 bg-gray-100 rounded-t-lg overflow-hidden",onClick:()=>F(I.id),children:[(O=I.type)!=null&&O.startsWith("image/")?s.jsx("img",{src:I.url,alt:I.name,className:"w-full h-full object-cover"}):(V=I.type)!=null&&V.startsWith("audio/")?s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx("div",{className:"text-6xl",children:""})}):(L=I.type)!=null&&L.startsWith("video/")?s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx("div",{className:"text-6xl",children:""})}):s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx("div",{className:"text-6xl",children:""})}),g.includes(I.id)&&s.jsx("div",{className:"absolute top-2 right-2 bg-blue-500 text-white rounded-full p-1",children:s.jsx(Km,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("p",{className:"font-semibold text-sm mb-2 truncate",title:I.name,children:I.name}),s.jsxs("p",{className:"text-xs text-gray-500 mb-3",children:[(I.size/1024).toFixed(1)," KB  ",new Date(I.uploadedAt).toLocaleDateString()]}),s.jsx("div",{className:"flex items-center gap-2 mb-3",children:s.jsx(Te,{value:I.url,readOnly:!0,className:"text-xs flex-1",onClick:U=>U.target.select()})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(G,{size:"sm",className:"flex-1",onClick:()=>C(I.url),children:o===I.url?s.jsxs(s.Fragment,{children:[s.jsx(Km,{className:"w-3 h-3 mr-1"}),"Copied!"]}):s.jsxs(s.Fragment,{children:[s.jsx(Fz,{className:"w-3 h-3 mr-1"}),"Copy URL"]})}),s.jsx(G,{size:"sm",variant:"outline",onClick:()=>R(I.id),className:"text-red-600 hover:bg-red-50",children:s.jsx(hr,{className:"w-3 h-3"})})]})]})]})})},I.id)})})}),s.jsx(ne,{className:"mt-8 bg-blue-50 border-blue-200",children:s.jsxs(ie,{className:"p-6",children:[s.jsx("h3",{className:"font-bold text-lg mb-3",children:" How to Use Uploaded Files"}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[s.jsxs("p",{children:["1. ",s.jsx("strong",{children:"Copy the URL"})," from any file above"]}),s.jsxs("p",{children:["2. ",s.jsx("strong",{children:"Paste it"})," into Story Image URL, Audio URL, or Video fields"]}),s.jsx("p",{children:"3. The file will be displayed in your content"}),s.jsxs("p",{children:["4. ",s.jsx("strong",{children:"Tip:"})," Upload images for stories, audio for lessons, videos for tutorials"]})]})]})})]})})}function sV(){const t=[{icon:TR,title:"Information We Collect",color:"from-blue-500 to-cyan-500",content:[{subtitle:"Personal Information",text:"When you create an account, we collect basic information such as your child's name, age, city, and email address. We only collect the minimum information necessary to provide our services."},{subtitle:"Usage Data",text:"We collect information about how you use our website, including pages visited, games played, and learning progress. This helps us improve our services and provide a better experience."},{subtitle:"Recordings and Submissions",text:"If your child submits audio recordings, drawings, or writings through our platform, we store this content along with the associated user information."}]},{icon:IR,title:"How We Use Your Information",color:"from-green-500 to-emerald-500",content:[{subtitle:"Service Delivery",text:"We use your information to provide access to educational content, games, and learning materials on our platform."},{subtitle:"Progress Tracking",text:"We track learning progress, points, and achievements to motivate children and provide personalized learning experiences."},{subtitle:"Communication",text:"We may send important updates about the platform, new features, or educational content. We will never send spam or share your email with third parties."},{subtitle:"Improvement",text:"We analyze usage patterns to improve our content and make the learning experience better for all children."}]},{icon:zC,title:"Children's Privacy",color:"from-purple-500 to-pink-500",content:[{subtitle:"Age Requirements",text:"Our service is designed for children aged 3-18. We take children's privacy very seriously and comply with applicable children's privacy laws."},{subtitle:"Parental Consent",text:"We encourage parents to be involved in their children's online activities. Parents can request to review, update, or delete their child's information at any time."},{subtitle:"Safe Environment",text:"We maintain a safe, ad-free environment. We never show advertisements or share children's information with third-party advertisers."},{subtitle:"No Public Profiles",text:"Children's profiles and personal information are not publicly visible. Only usernames and points appear on leaderboards."}]},{icon:ru,title:"Data Protection & Security",color:"from-amber-500 to-orange-500",content:[{subtitle:"Secure Storage",text:"We use industry-standard security measures to protect your information. All data is stored securely using encryption."},{subtitle:"Access Control",text:"Access to personal information is restricted to authorized personnel only, and only when necessary for service delivery."},{subtitle:"No Data Selling",text:"We will never sell, rent, or trade your personal information or your child's information to third parties."}]},{icon:bj,title:"Third-Party Services",color:"from-red-500 to-rose-500",content:[{subtitle:"External Links",text:"Our website may contain links to external websites (e.g., SearchTruth.com for Hadith search). We are not responsible for the privacy practices of these external sites."},{subtitle:"Analytics",text:"We may use basic analytics to understand how our service is used, but we do not share personal information with analytics providers."},{subtitle:"Content Delivery",text:"We use secure content delivery networks (CDNs) to serve Quran audio and other educational content."}]},{icon:zC,title:"Your Rights",color:"from-indigo-500 to-purple-500",content:[{subtitle:"Access Your Data",text:"You have the right to access all personal information we hold about you or your child."},{subtitle:"Update Information",text:"You can update your profile information at any time through your account settings."},{subtitle:"Delete Account",text:"You can request deletion of your account and all associated data at any time by contacting us."},{subtitle:"Data Portability",text:"You can request a copy of your data in a portable format."}]}];return s.jsx("div",{className:"min-h-screen py-12 px-4",children:s.jsxs("div",{className:"max-w-5xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Privacy Policy"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Your privacy and your child's safety are our top priorities"}),s.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Last Updated: January 2025"})]}),s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-12",children:s.jsx(ne,{className:"border-2 border-blue-300 shadow-xl bg-gradient-to-br from-blue-50 to-purple-50",children:s.jsxs(ie,{className:"p-8",children:[s.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"Welcome to Islam Kids Zone. We are committed to protecting your privacy and ensuring a safe online environment for children. This Privacy Policy explains how we collect, use, and protect your information."}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:"By using our website, you agree to the collection and use of information in accordance with this policy. If you do not agree with our policies, please do not use our service."})]})})}),s.jsx("div",{className:"space-y-8 mb-12",children:t.map((e,n)=>{const r=e.icon;return s.jsx(te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:n*.1},children:s.jsxs(ne,{className:"border-2 border-gray-200 shadow-lg hover:shadow-xl transition-all",children:[s.jsx(Fe,{children:s.jsxs(Ve,{className:"flex items-center gap-3 text-2xl",children:[s.jsx("div",{className:`w-12 h-12 rounded-xl bg-gradient-to-br ${e.color} flex items-center justify-center`,children:s.jsx(r,{className:"w-6 h-6 text-white"})}),e.title]})}),s.jsx(ie,{className:"space-y-6",children:e.content.map((i,a)=>s.jsxs("div",{className:"bg-gray-50 p-5 rounded-lg border-l-4 border-blue-400",children:[s.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:i.subtitle}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:i.text})]},a))})]})},e.title)})}),s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"mb-12",children:s.jsxs(ne,{className:"border-2 border-amber-300 shadow-xl",children:[s.jsx(Fe,{className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white",children:s.jsx(Ve,{className:"text-2xl",children:" Cookies & Tracking"})}),s.jsxs(ie,{className:"p-6 space-y-4",children:[s.jsxs("p",{className:"text-gray-700",children:[s.jsx("strong",{children:"What are cookies?"})," Cookies are small text files stored on your device that help us remember your preferences and provide a better experience."]}),s.jsxs("div",{className:"bg-amber-50 p-4 rounded-lg",children:[s.jsxs("p",{className:"text-gray-700 mb-2",children:[s.jsx("strong",{children:"Essential Cookies:"})," Required for the website to function properly (e.g., login sessions)."]}),s.jsxs("p",{className:"text-gray-700",children:[s.jsx("strong",{children:"Analytics Cookies:"})," Help us understand how visitors use our site to improve it."]})]}),s.jsx("p",{className:"text-gray-700",children:"You can disable cookies in your browser settings, but this may affect your ability to use certain features of our website."})]})]})}),s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"mb-12",children:s.jsxs(ne,{className:"border-2 border-green-300 shadow-xl",children:[s.jsx(Fe,{className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white",children:s.jsx(Ve,{className:"text-2xl",children:" Data Retention"})}),s.jsxs(ie,{className:"p-6",children:[s.jsx("p",{className:"text-gray-700 mb-4",children:"We retain your personal information only for as long as necessary to provide our services and comply with legal obligations."}),s.jsxs("ul",{className:"space-y-2 text-gray-700",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-green-600 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Active Accounts:"})," Data is retained while your account is active."]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-green-600 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Inactive Accounts:"})," Accounts inactive for 2 years may be deleted after notification."]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-green-600 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Deleted Accounts:"})," Upon request, we delete all personal data within 30 days."]})]})]})]})]})}),s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"mb-12",children:s.jsxs(ne,{className:"border-2 border-purple-300 shadow-xl",children:[s.jsx(Fe,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white",children:s.jsx(Ve,{className:"text-2xl",children:" Changes to This Policy"})}),s.jsxs(ie,{className:"p-6",children:[s.jsx("p",{className:"text-gray-700 mb-4",children:'We may update our Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page and updating the "Last Updated" date.'}),s.jsx("p",{className:"text-gray-700",children:"We encourage you to review this Privacy Policy periodically for any changes. Changes to this Privacy Policy are effective when they are posted on this page."})]})]})}),s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},children:s.jsxs(ne,{className:"border-2 border-blue-300 shadow-2xl bg-gradient-to-br from-blue-50 to-cyan-50",children:[s.jsx(Fe,{children:s.jsxs(Ve,{className:"text-2xl flex items-center gap-2",children:[s.jsx(py,{className:"w-6 h-6 text-blue-600"}),"Contact Us"]})}),s.jsxs(ie,{className:"p-6",children:[s.jsx("p",{className:"text-gray-700 mb-4",children:"If you have any questions about this Privacy Policy, or if you want to exercise your rights regarding your personal information, please contact us:"}),s.jsx("div",{className:"bg-white p-6 rounded-xl border-2 border-blue-200",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("p",{className:"text-gray-700",children:[s.jsx("strong",{children:"Email:"})," ",s.jsx("a",{href:"mailto:huzaify786@gmail.com",className:"text-blue-600 hover:text-blue-700 underline",children:"huzaify786@gmail.com"})]}),s.jsxs("p",{className:"text-gray-700",children:[s.jsx("strong",{children:"WhatsApp:"})," ",s.jsx("a",{href:"https://wa.me/447447999284",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-700 underline",children:"+44 744 799 9284"})]}),s.jsxs("p",{className:"text-gray-700",children:[s.jsx("strong",{children:"Contact Page:"})," ",s.jsx(Lt,{to:it("ContactUs"),className:"text-blue-600 hover:text-blue-700 underline",children:"Visit our Contact Page"})]})]})}),s.jsx("p",{className:"text-sm text-gray-600 mt-4",children:"We aim to respond to all privacy-related inquiries within 48 hours."})]})]})}),s.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"mt-12 text-center",children:s.jsx("p",{className:"text-gray-600 text-sm",children:"Islam Kids Zone is committed to creating a safe, educational, and enjoyable online experience for Muslim children worldwide. "})})]})})}const xw=[{id:"islamic_quiz",name:"Islamic Quiz",icon:""},{id:"word_search",name:"Word Search",icon:""},{id:"memory_match",name:"Memory Match",icon:""},{id:"seerah",name:"Seerah Quiz",icon:""},{id:"quran",name:"Quran Quiz",icon:""},{id:"hadith",name:"Hadith Match",icon:""}];function iV(){const t=Yn(),e=si(),[n,r]=v.useState(null),[i,a]=v.useState(!1),[o,c]=v.useState(xw[0].id),[d,h]=v.useState(""),[m,f]=v.useState("all");v.useEffect(()=>{g()},[]);const g=async()=>{try{if(await base44.auth.isAuthenticated()){const O=await base44.auth.me();r(O)}else t(it("Games"))}catch(I){console.error("Error loading user:",I),t(it("Games"))}},{data:x=[]}=Un({queryKey:["all-users"],queryFn:async()=>(await base44.entities.User.list("-points",100)).filter(O=>O.id!==(n==null?void 0:n.id)&&O.email),enabled:!!n,initialData:[]}),{data:N=[],isLoading:w}=Un({queryKey:["challenges",n==null?void 0:n.id],queryFn:async()=>{if(!n)return[];const I=await base44.entities.Challenge.filter({challenger_id:n.id},"-created_date",100),O=await base44.entities.Challenge.filter({opponent_id:n.id},"-created_date",100);return[...I,...O]},enabled:!!n,initialData:[]}),j=Nn({mutationFn:async I=>await base44.entities.Challenge.create(I),onSuccess:()=>{e.invalidateQueries({queryKey:["challenges"]}),a(!1),h("")}}),_=Nn({mutationFn:async I=>await base44.entities.Challenge.update(I,{status:"accepted"}),onSuccess:()=>{e.invalidateQueries({queryKey:["challenges"]})}}),E=Nn({mutationFn:async I=>await base44.entities.Challenge.update(I,{status:"declined"}),onSuccess:()=>{e.invalidateQueries({queryKey:["challenges"]})}}),k=async()=>{if(!d||!n)return;const I=x.find(V=>V.email===d);if(!I){alert("User not found. Please check the email address.");return}const O=new Date;O.setDate(O.getDate()+7),await j.mutateAsync({challenger_id:n.id,challenger_name:n.full_name||n.email,opponent_id:I.id,opponent_name:I.full_name||I.email,game_type:o,status:"pending",expires_at:O.toISOString()}),alert(`Challenge sent to ${I.full_name||I.email}!`)},C=async I=>{await _.mutateAsync(I.id),t(it("Games")+`?challenge=${I.id}`)},R=I=>{t(it("Games")+`?challenge=${I.id}`)},F=N.filter(I=>m==="all"?!0:m==="sent"?I.challenger_id===(n==null?void 0:n.id):m==="received"?I.opponent_id===(n==null?void 0:n.id)&&I.status==="pending":m==="completed"?I.status==="completed":!0),D=I=>{const O=I.challenger_id===(n==null?void 0:n.id);switch(I.status){case"pending":return s.jsx(_e,{className:"bg-yellow-500",children:O?"Waiting":"New!"});case"accepted":return s.jsx(_e,{className:"bg-blue-500",children:"In Progress"});case"completed":return s.jsx(_e,{className:"bg-green-500",children:"Completed"});case"declined":return s.jsx(_e,{className:"bg-red-500",children:"Declined"});default:return null}},P=I=>{if(I.status!=="completed"||!I.winner_id)return null;const O=I.winner_id===(n==null?void 0:n.id);return I.challenger_score===I.opponent_score?s.jsx(_e,{className:"bg-gray-500",children:"Draw"}):O?s.jsxs(_e,{className:"bg-green-500 flex items-center gap-1",children:[s.jsx(Kr,{className:"w-3 h-3"})," You Won!"]}):s.jsx(_e,{className:"bg-red-500",children:"You Lost"})};return n?s.jsx("div",{className:"min-h-screen py-8 px-4 bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx("div",{className:"flex items-center justify-between mb-8",children:s.jsxs(G,{variant:"ghost",onClick:()=>t(it("Games")),className:"text-gray-600",children:[s.jsx(Ol,{className:"w-4 h-4 mr-2"}),"Back to Games"]})}),s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Challenge Arena"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Challenge friends and compete for glory!"})]}),s.jsx("div",{className:"mb-8",children:s.jsxs(G,{onClick:()=>a(!i),size:"lg",className:"w-full md:w-auto bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:[s.jsx(ZB,{className:"w-5 h-5 mr-2"}),"Send New Challenge"]})}),s.jsx(ri,{children:i&&s.jsx(te.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mb-8",children:s.jsxs(ne,{className:"border-2 border-purple-300 shadow-xl",children:[s.jsx(Fe,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white",children:s.jsx(Ve,{children:"Create New Challenge"})}),s.jsx(ie,{className:"p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Select Game Type"}),s.jsxs(en,{value:o,onValueChange:c,children:[s.jsx(Kt,{children:s.jsx(tn,{})}),s.jsx(Gt,{children:xw.map(I=>s.jsxs(Re,{value:I.id,children:[I.icon," ",I.name]},I.id))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Opponent's Email"}),s.jsx(Te,{type:"email",value:d,onChange:I=>h(I.target.value),placeholder:"friend@example.com",list:"users-list"}),s.jsx("datalist",{id:"users-list",children:x.map(I=>s.jsx("option",{value:I.email,children:I.full_name||I.email},I.id))})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(G,{onClick:k,disabled:!d||j.isPending,className:"flex-1 bg-gradient-to-r from-green-500 to-teal-500",children:[s.jsx(bx,{className:"w-4 h-4 mr-2"}),j.isPending?"Sending...":"Send Challenge"]}),s.jsx(G,{onClick:()=>a(!1),variant:"outline",className:"flex-1",children:"Cancel"})]})]})})]})})}),s.jsx("div",{className:"flex gap-2 mb-6 overflow-x-auto",children:[{id:"all",label:"All Challenges",icon:Fl},{id:"received",label:"New Challenges",icon:hl},{id:"sent",label:"Sent",icon:bx},{id:"completed",label:"Completed",icon:Kr}].map(I=>{const O=I.icon;return s.jsxs(G,{onClick:()=>f(I.id),variant:m===I.id?"default":"outline",className:m===I.id?"bg-purple-500":"",children:[s.jsx(O,{className:"w-4 h-4 mr-2"}),I.label]},I.id)})}),w?s.jsx("div",{className:"text-center py-12",children:"Loading challenges..."}):F.length===0?s.jsx(ne,{className:"border-2 border-gray-200",children:s.jsxs(ie,{className:"p-12 text-center",children:[s.jsx(wl,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-gray-600",children:"No challenges yet. Send one to get started!"})]})}):s.jsx("div",{className:"grid gap-4",children:F.map((I,O)=>{const V=I.challenger_id===n.id,L=V?I.opponent_name:I.challenger_name,U=xw.find(re=>re.id===I.game_type),ee=new Date(I.expires_at)<new Date;return s.jsx(te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:O*.1},children:s.jsx(ne,{className:"border-2 hover:shadow-xl transition-all",children:s.jsx(ie,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"text-3xl",children:U==null?void 0:U.icon}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg text-gray-900",children:U==null?void 0:U.name}),s.jsxs("p",{className:"text-sm text-gray-600",children:[V?"vs":"from"," ",L]})]})]}),I.status==="completed"&&s.jsxs("div",{className:"flex gap-4 mt-3 text-sm",children:[s.jsxs("div",{className:"bg-blue-50 px-3 py-2 rounded-lg",children:[s.jsx("span",{className:"text-gray-600",children:"Your score: "}),s.jsx("span",{className:"font-bold text-blue-600",children:V?I.challenger_score:I.opponent_score})]}),s.jsxs("div",{className:"bg-purple-50 px-3 py-2 rounded-lg",children:[s.jsx("span",{className:"text-gray-600",children:"Their score: "}),s.jsx("span",{className:"font-bold text-purple-600",children:V?I.opponent_score:I.challenger_score})]})]}),ee&&I.status==="pending"&&s.jsx(_e,{className:"bg-gray-500 mt-2",children:"Expired"})]}),s.jsxs("div",{className:"flex flex-col items-end gap-2",children:[D(I),P(I),I.status==="pending"&&!V&&!ee&&s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsxs(G,{onClick:()=>C(I),size:"sm",className:"bg-green-500 hover:bg-green-600",children:[s.jsx(eh,{className:"w-4 h-4 mr-1"}),"Accept"]}),s.jsxs(G,{onClick:()=>E.mutate(I.id),size:"sm",variant:"outline",className:"text-red-500 border-red-500",children:[s.jsx(fy,{className:"w-4 h-4 mr-1"}),"Decline"]})]}),I.status==="accepted"&&s.jsxs(G,{onClick:()=>R(I),size:"sm",className:"bg-blue-500 hover:bg-blue-600 mt-2",children:[s.jsx(wl,{className:"w-4 h-4 mr-1"}),"Play Now"]})]})]})})})},I.id)})})]})}):s.jsx("div",{className:"text-center py-12",children:"Loading..."})}function aV(){const t=si(),[e,n]=v.useState(!1),[r,i]=v.useState(null),[a,o]=v.useState(""),[c,d]=v.useState("all"),[h,m]=v.useState("all"),[f,g]=v.useState({category:"Quran",difficulty:"easy",question:"",options:["","","",""],correct_answer_index:0,explanation:"",source:"",age_group:"all",is_active:!0}),x=["Quran","Hadith","Seerah","Fiqh","Prophets","Sahabah","Akhlaq","History","Arabic","Beliefs"],N=["easy","medium","hard"],w=["5-8","9-12","13+","all"],{data:j=[],isLoading:_}=Un({queryKey:["quiz-questions"],queryFn:()=>base44.entities.QuizQuestion.list("-date_added",500),initialData:[]}),E=Nn({mutationFn:L=>base44.entities.QuizQuestion.create(L),onSuccess:()=>{t.invalidateQueries({queryKey:["quiz-questions"]}),P()}}),k=Nn({mutationFn:({id:L,data:U})=>base44.entities.QuizQuestion.update(L,U),onSuccess:()=>{t.invalidateQueries({queryKey:["quiz-questions"]}),P()}}),C=Nn({mutationFn:L=>base44.entities.QuizQuestion.delete(L),onSuccess:()=>{t.invalidateQueries({queryKey:["quiz-questions"]})}}),R=async L=>{L.preventDefault();const U={...f,date_added:new Date().toISOString().split("T")[0]};r?await k.mutateAsync({id:r.id,data:U}):await E.mutateAsync(U)},F=L=>{i(L),g({category:L.category,difficulty:L.difficulty,question:L.question,options:L.options,correct_answer_index:L.correct_answer_index,explanation:L.explanation,source:L.source||"",age_group:L.age_group||"all",is_active:L.is_active??!0}),n(!0)},D=async L=>{window.confirm("Are you sure you want to delete this question?")&&await C.mutateAsync(L)},P=()=>{g({category:"Quran",difficulty:"easy",question:"",options:["","","",""],correct_answer_index:0,explanation:"",source:"",age_group:"all",is_active:!0}),i(null),n(!1)},I=(L,U)=>{const ee=[...f.options];ee[L]=U,g({...f,options:ee})},O=j.filter(L=>{const U=L.question.toLowerCase().includes(a.toLowerCase())||L.explanation.toLowerCase().includes(a.toLowerCase()),ee=c==="all"||L.category===c,re=h==="all"||L.difficulty===h;return U&&ee&&re}),V={total:j.length,active:j.filter(L=>L.is_active).length,byCategory:x.reduce((L,U)=>(L[U]=j.filter(ee=>ee.category===U).length,L),{}),byDifficulty:N.reduce((L,U)=>(L[U]=j.filter(ee=>ee.difficulty===U).length,L),{})};return _?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("p",{className:"text-gray-600",children:"Loading questions..."})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 py-8 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Quiz Questions Manager"}),s.jsx("p",{className:"text-gray-600",children:"Manage questions for Islamic Knowledge Quiz"})]}),s.jsxs(G,{onClick:()=>n(!e),className:"bg-blue-600 hover:bg-blue-700",children:[e?s.jsx(ps,{className:"w-4 h-4 mr-2"}):s.jsx(Os,{className:"w-4 h-4 mr-2"}),e?"Cancel":"Add New Question"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[s.jsx(ne,{children:s.jsx(ie,{className:"p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Questions"}),s.jsx("p",{className:"text-3xl font-bold text-blue-600",children:V.total})]})})}),s.jsx(ne,{children:s.jsx(ie,{className:"p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Active"}),s.jsx("p",{className:"text-3xl font-bold text-green-600",children:V.active})]})})}),s.jsx(ne,{children:s.jsx(ie,{className:"p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Easy"}),s.jsx("p",{className:"text-3xl font-bold text-green-500",children:V.byDifficulty.easy||0})]})})}),s.jsx(ne,{children:s.jsx(ie,{className:"p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Hard"}),s.jsx("p",{className:"text-3xl font-bold text-red-500",children:V.byDifficulty.hard||0})]})})})]}),s.jsx(ri,{children:e&&s.jsx(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:s.jsxs(ne,{className:"mb-8 border-2 border-blue-300",children:[s.jsx(Fe,{className:"bg-gradient-to-r from-blue-50 to-purple-50",children:s.jsx(Ve,{children:r?"Edit Question":"Add New Question"})}),s.jsx(ie,{className:"p-6",children:s.jsxs("form",{onSubmit:R,className:"space-y-4",children:[s.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"Category"}),s.jsxs(en,{value:f.category,onValueChange:L=>g({...f,category:L}),children:[s.jsx(Kt,{children:s.jsx(tn,{})}),s.jsx(Gt,{children:x.map(L=>s.jsx(Re,{value:L,children:L},L))})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Difficulty"}),s.jsxs(en,{value:f.difficulty,onValueChange:L=>g({...f,difficulty:L}),children:[s.jsx(Kt,{children:s.jsx(tn,{})}),s.jsx(Gt,{children:N.map(L=>s.jsx(Re,{value:L,children:L.charAt(0).toUpperCase()+L.slice(1)},L))})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Age Group"}),s.jsxs(en,{value:f.age_group,onValueChange:L=>g({...f,age_group:L}),children:[s.jsx(Kt,{children:s.jsx(tn,{})}),s.jsx(Gt,{children:w.map(L=>s.jsx(Re,{value:L,children:L},L))})]})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Question"}),s.jsx(In,{value:f.question,onChange:L=>g({...f,question:L.target.value}),placeholder:"Enter your question...",required:!0,rows:2})]}),s.jsxs("div",{children:[s.jsx(ye,{className:"mb-2 block",children:"Answer Options"}),f.options.map((L,U)=>s.jsxs("div",{className:"flex gap-2 mb-2",children:[s.jsx(_e,{className:f.correct_answer_index===U?"bg-green-500":"bg-gray-400",children:U+1}),s.jsx(Te,{value:L,onChange:ee=>I(U,ee.target.value),placeholder:`Option ${U+1}`,required:!0}),s.jsxs(G,{type:"button",variant:f.correct_answer_index===U?"default":"outline",onClick:()=>g({...f,correct_answer_index:U}),className:"whitespace-nowrap",children:[f.correct_answer_index===U?s.jsx(zc,{className:"w-4 h-4 mr-1"}):null,"Correct"]})]},U))]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Explanation"}),s.jsx(In,{value:f.explanation,onChange:L=>g({...f,explanation:L.target.value}),placeholder:"Explain the correct answer...",required:!0,rows:3})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Source (Optional)"}),s.jsx(Te,{value:f.source,onChange:L=>g({...f,source:L.target.value}),placeholder:"e.g., Quran 2:255, Sahih Bukhari 1234"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Is,{checked:f.is_active,onCheckedChange:L=>g({...f,is_active:L})}),s.jsx(ye,{children:"Active (Show in quiz)"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(G,{type:"submit",className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(ya,{className:"w-4 h-4 mr-2"}),r?"Update":"Create"," Question"]}),s.jsx(G,{type:"button",variant:"outline",onClick:P,children:"Cancel"})]})]})})]})})}),s.jsx(ne,{className:"mb-6",children:s.jsx(ie,{className:"p-4",children:s.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsxs(ye,{className:"mb-2 flex items-center gap-2",children:[s.jsx(io,{className:"w-4 h-4"}),"Search"]}),s.jsx(Te,{value:a,onChange:L=>o(L.target.value),placeholder:"Search questions..."})]}),s.jsxs("div",{children:[s.jsxs(ye,{className:"mb-2 flex items-center gap-2",children:[s.jsx(OC,{className:"w-4 h-4"}),"Category"]}),s.jsxs(en,{value:c,onValueChange:d,children:[s.jsx(Kt,{children:s.jsx(tn,{})}),s.jsxs(Gt,{children:[s.jsx(Re,{value:"all",children:"All Categories"}),x.map(L=>s.jsx(Re,{value:L,children:L},L))]})]})]}),s.jsxs("div",{children:[s.jsxs(ye,{className:"mb-2 flex items-center gap-2",children:[s.jsx(OC,{className:"w-4 h-4"}),"Difficulty"]}),s.jsxs(en,{value:h,onValueChange:m,children:[s.jsx(Kt,{children:s.jsx(tn,{})}),s.jsxs(Gt,{children:[s.jsx(Re,{value:"all",children:"All Difficulties"}),N.map(L=>s.jsx(Re,{value:L,children:L.charAt(0).toUpperCase()+L.slice(1)},L))]})]})]})]})})}),s.jsx("div",{className:"space-y-4",children:O.map((L,U)=>s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:U*.05},children:s.jsx(ne,{className:L.is_active?"":"opacity-60",children:s.jsx(ie,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(_e,{children:L.category}),s.jsx(_e,{variant:"outline",className:L.difficulty==="easy"?"bg-green-100":L.difficulty==="medium"?"bg-yellow-100":"bg-red-100",children:L.difficulty}),s.jsx(_e,{variant:"outline",children:L.age_group}),!L.is_active&&s.jsx(_e,{variant:"destructive",children:"Inactive"})]}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:L.question}),s.jsx("div",{className:"space-y-1 mb-3",children:L.options.map((ee,re)=>s.jsxs("div",{className:`text-sm ${re===L.correct_answer_index?"text-green-600 font-semibold":"text-gray-600"}`,children:[re===L.correct_answer_index&&s.jsx(zc,{className:"w-3 h-3 inline mr-1"}),re+1,". ",ee]},re))}),s.jsxs("p",{className:"text-sm text-gray-700 bg-blue-50 p-2 rounded",children:[s.jsx("strong",{children:"Explanation:"})," ",L.explanation]}),L.source&&s.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Source: ",L.source]})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx(G,{onClick:()=>F(L),variant:"outline",size:"sm",children:s.jsx(yo,{className:"w-4 h-4"})}),s.jsx(G,{onClick:()=>D(L.id),variant:"outline",size:"sm",className:"text-red-600 hover:bg-red-50",children:s.jsx(hr,{className:"w-4 h-4"})})]})]})})})},L.id))}),O.length===0&&s.jsx(ne,{children:s.jsx(ie,{className:"p-12 text-center",children:s.jsx("p",{className:"text-gray-500",children:"No questions found. Add some questions to get started!"})})})]})})}function oV(){const[t,e]=v.useState(null),[n,r]=v.useState(""),[i,a]=v.useState("all"),[o,c]=v.useState("all"),{data:d=[],isLoading:h}=Un({queryKey:["videos"],queryFn:()=>yt.entities.Video.list("-created_date"),initialData:[]}),m=[{id:"all",name:"All Videos",emoji:""},{id:"prophets",name:"Prophets",emoji:""},{id:"manners",name:"Manners",emoji:""},{id:"duas",name:"Duas",emoji:""},{id:"facts",name:"Islamic Facts",emoji:""},{id:"series",name:"Series",emoji:""}],f={prophets:"bg-blue-100 text-blue-800",manners:"bg-green-100 text-green-800",duas:"bg-purple-100 text-purple-800",facts:"bg-amber-100 text-amber-800",series:"bg-pink-100 text-pink-800"},g=w=>{if(!w)return null;const j=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,_=w.match(j);return _&&_[2].length===11?_[2]:null},x=w=>{const j=g(w);return j?`https://img.youtube.com/vi/${j}/hqdefault.jpg`:null},N=d.filter(w=>{const j=w.title.toLowerCase().includes(n.toLowerCase())||w.description&&w.description.toLowerCase().includes(n.toLowerCase()),_=i==="all"||w.category===i,E=o==="all"||w.filter_tag===o;return j&&_&&E});return s.jsx("div",{className:"min-h-screen py-8 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Islamic Video Library"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Watch educational Islamic videos, stories, and lessons!"})]}),s.jsxs("div",{className:"mb-8 space-y-4",children:[s.jsxs("div",{className:"relative max-w-2xl mx-auto",children:[s.jsx(io,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx(Te,{type:"text",placeholder:"Search videos...",value:n,onChange:w=>r(w.target.value),className:"pl-10 pr-4 py-6 text-lg"})]}),s.jsxs("div",{className:"flex flex-wrap gap-3 justify-center",children:[s.jsxs(en,{value:i,onValueChange:a,children:[s.jsx(Kt,{className:"w-48",children:s.jsx(tn,{placeholder:"Category"})}),s.jsx(Gt,{children:m.map(w=>s.jsxs(Re,{value:w.id,children:[w.emoji," ",w.name]},w.id))})]}),s.jsxs(en,{value:o,onValueChange:c,children:[s.jsx(Kt,{className:"w-48",children:s.jsx(tn,{placeholder:"Video Length"})}),s.jsxs(Gt,{children:[s.jsx(Re,{value:"all",children:"All Lengths"}),s.jsx(Re,{value:"short",children:"Short (0-5 min)"}),s.jsx(Re,{value:"lesson",children:"Lesson (5-15 min)"}),s.jsx(Re,{value:"series",children:"Series (15+ min)"})]})]})]})]}),h?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(fl,{className:"w-16 h-16 mx-auto mb-4 text-gray-300 animate-pulse"}),s.jsx("p",{className:"text-gray-500",children:"Loading videos..."})]}):N.length===0?s.jsx(ne,{className:"border-2 border-gray-200",children:s.jsxs(ie,{className:"p-12 text-center",children:[s.jsx(fl,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-gray-600",children:n||i!=="all"?"No videos found matching your criteria.":"No videos available yet. Check back soon!"})]})}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:N.map((w,j)=>{const _=w.thumbnail_url||x(w.video_url);return s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:j*.1},children:s.jsx(ne,{className:"h-full hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 cursor-pointer group overflow-hidden",children:s.jsxs("div",{onClick:()=>e(w),className:"relative",children:[s.jsxs("div",{className:"h-48 overflow-hidden bg-gradient-to-br from-purple-100 to-blue-100 relative",children:[_?s.jsx("img",{src:_,alt:w.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300",onError:E=>{E.target.style.display="none"}}):s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx(fl,{className:"w-16 h-16 text-gray-400"})}),s.jsx("div",{className:"absolute inset-0 bg-black/30 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:s.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center",children:s.jsx(dr,{className:"w-8 h-8 text-blue-600 ml-1"})})})]}),s.jsxs(Fe,{children:[s.jsx("div",{className:"flex items-start justify-between gap-2 mb-2",children:s.jsx(Ve,{className:"text-lg group-hover:text-blue-600 transition-colors line-clamp-2",children:w.title})}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[w.category&&s.jsx(_e,{className:f[w.category],children:w.category}),w.duration&&s.jsxs(_e,{variant:"outline",className:"flex items-center gap-1",children:[s.jsx(hl,{className:"w-3 h-3"}),w.duration]}),w.filter_tag&&s.jsx(_e,{variant:"outline",children:w.filter_tag})]})]}),w.description&&s.jsx(ie,{children:s.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:w.description})})]})})},w.id)})}),s.jsx(_f,{open:t!==null,onOpenChange:()=>e(null),children:s.jsxs(Kd,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Gd,{children:[s.jsx(Qd,{className:"text-2xl font-bold pr-8",children:t==null?void 0:t.title}),s.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[(t==null?void 0:t.category)&&s.jsx(_e,{className:f[t.category],children:t.category}),(t==null?void 0:t.duration)&&s.jsxs(_e,{variant:"outline",className:"flex items-center gap-1",children:[s.jsx(hl,{className:"w-3 h-3"}),t.duration]})]})]}),t&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"aspect-video w-full rounded-lg overflow-hidden bg-black",children:s.jsx("iframe",{width:"100%",height:"100%",src:`https://www.youtube.com/embed/${g(t.video_url)}?autoplay=1`,title:t.title,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-full"})}),t.description&&s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"About this video:"}),s.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:t.description})]})]})]})})]})})}function lV(){const t=si(),[e,n]=v.useState(!1),[r,i]=v.useState(null),[a,o]=v.useState({title:"",video_url:"",thumbnail_url:"",category:"prophets",duration:"",filter_tag:"lesson",description:""}),{data:c=[],isLoading:d}=Un({queryKey:["videos"],queryFn:()=>base44.entities.Video.list("-created_date"),initialData:[]}),h=Nn({mutationFn:j=>base44.entities.Video.create(j),onSuccess:()=>{t.invalidateQueries({queryKey:["videos"]}),g(),alert("Video added successfully!")}}),m=Nn({mutationFn:({id:j,data:_})=>base44.entities.Video.update(j,_),onSuccess:()=>{t.invalidateQueries({queryKey:["videos"]}),g(),alert("Video updated successfully!")}}),f=Nn({mutationFn:j=>base44.entities.Video.delete(j),onSuccess:()=>{t.invalidateQueries({queryKey:["videos"]}),alert("Video deleted successfully!")}}),g=()=>{o({title:"",video_url:"",thumbnail_url:"",category:"prophets",duration:"",filter_tag:"lesson",description:""}),i(null),n(!1)},x=j=>{o({title:j.title||"",video_url:j.video_url||"",thumbnail_url:j.thumbnail_url||"",category:j.category||"prophets",duration:j.duration||"",filter_tag:j.filter_tag||"lesson",description:j.description||""}),i(j),n(!0)},N=j=>{if(j.preventDefault(),!a.title||!a.video_url){alert("Please fill in title and video URL");return}let _={...a};if(!_.thumbnail_url&&a.video_url.includes("youtube")){const E=w(a.video_url);E&&(_.thumbnail_url=`https://img.youtube.com/vi/${E}/hqdefault.jpg`)}r?m.mutate({id:r.id,data:_}):h.mutate(_)},w=j=>{const _=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,E=j.match(_);return E&&E[2].length===11?E[2]:null};return s.jsx("div",{className:"min-h-screen py-8 px-4 bg-gradient-to-br from-purple-50 to-blue-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Manage Videos"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Add and manage YouTube videos for the video library"})]}),s.jsx("div",{className:"mb-6",children:s.jsxs(G,{onClick:()=>n(!0),size:"lg",className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600",children:[s.jsx(Os,{className:"w-5 h-5 mr-2"}),"Add New Video"]})}),s.jsx(_f,{open:e,onOpenChange:j=>!j&&g(),children:s.jsxs(Kd,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Gd,{children:s.jsx(Qd,{children:r?"Edit Video":"Add New Video"})}),s.jsxs("form",{onSubmit:N,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"title",children:"Video Title *"}),s.jsx(Te,{id:"title",value:a.title,onChange:j=>o({...a,title:j.target.value}),placeholder:"e.g., Story of Prophet Muhammad ",required:!0})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"video_url",children:"YouTube URL *"}),s.jsx(Te,{id:"video_url",value:a.video_url,onChange:j=>o({...a,video_url:j.target.value}),placeholder:"https://www.youtube.com/watch?v=...",required:!0}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Thumbnail will be auto-generated from YouTube"})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"category",children:"Category"}),s.jsxs(en,{value:a.category,onValueChange:j=>o({...a,category:j}),children:[s.jsx(Kt,{children:s.jsx(tn,{})}),s.jsxs(Gt,{children:[s.jsx(Re,{value:"prophets",children:"Prophets"}),s.jsx(Re,{value:"manners",children:"Manners"}),s.jsx(Re,{value:"duas",children:"Duas"}),s.jsx(Re,{value:"facts",children:"Islamic Facts"}),s.jsx(Re,{value:"series",children:"Series"})]})]})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"filter_tag",children:"Video Length"}),s.jsxs(en,{value:a.filter_tag,onValueChange:j=>o({...a,filter_tag:j}),children:[s.jsx(Kt,{children:s.jsx(tn,{})}),s.jsxs(Gt,{children:[s.jsx(Re,{value:"short",children:"Short (0-5 min)"}),s.jsx(Re,{value:"lesson",children:"Lesson (5-15 min)"}),s.jsx(Re,{value:"series",children:"Series (15+ min)"})]})]})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"duration",children:"Duration"}),s.jsx(Te,{id:"duration",value:a.duration,onChange:j=>o({...a,duration:j.target.value}),placeholder:"e.g., 10:25"})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"description",children:"Description"}),s.jsx(In,{id:"description",value:a.description,onChange:j=>o({...a,description:j.target.value}),placeholder:"Brief description of the video content...",rows:4})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsxs(G,{type:"submit",disabled:h.isPending||m.isPending,className:"flex-1 bg-green-500 hover:bg-green-600",children:[s.jsx(ya,{className:"w-4 h-4 mr-2"}),r?"Update":"Add"," Video"]}),s.jsxs(G,{type:"button",onClick:g,variant:"outline",className:"flex-1",children:[s.jsx(ps,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]})]})}),d?s.jsx("div",{className:"text-center py-12",children:"Loading videos..."}):c.length===0?s.jsx(ne,{children:s.jsxs(ie,{className:"p-12 text-center",children:[s.jsx(fl,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-gray-600",children:"No videos yet. Add your first video!"})]})}):s.jsx("div",{className:"grid gap-4",children:c.map((j,_)=>s.jsx(te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:_*.05},children:s.jsx(ne,{children:s.jsx(ie,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-32 h-20 bg-gray-200 rounded-lg overflow-hidden flex-shrink-0",children:j.thumbnail_url?s.jsx("img",{src:j.thumbnail_url,alt:j.title,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx(fl,{className:"w-8 h-8 text-gray-400"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-2 truncate",children:j.title}),s.jsxs("div",{className:"flex flex-wrap gap-2 mb-2",children:[s.jsx(_e,{children:j.category}),j.filter_tag&&s.jsx(_e,{variant:"outline",children:j.filter_tag}),j.duration&&s.jsx(_e,{variant:"outline",children:j.duration})]}),j.description&&s.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:j.description})]}),s.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[s.jsx(G,{onClick:()=>x(j),size:"sm",variant:"outline",children:s.jsx(yo,{className:"w-4 h-4"})}),s.jsx(G,{onClick:()=>{confirm("Are you sure you want to delete this video?")&&f.mutate(j.id)},size:"sm",variant:"outline",className:"text-red-500 border-red-500 hover:bg-red-50",children:s.jsx(hr,{className:"w-4 h-4"})})]})]})})})},j.id))})]})})}function cV(){si();const[t,e]=v.useState(!1),[n,r]=v.useState(!1),[i,a]=v.useState(null),[o,c]=v.useState(!1),[d,h]=v.useState({audio:!1,image:!1}),m=v.useRef(null),f=v.useRef(null),[g,x]=v.useState({title:"",slug:"",mp3_url:"",youtube_id:"",cover_image:"",description:"",transcript:"",moral_lesson:"",duration:"",age_group:"all",category:"story",subcategory:"",language:"English",tags:[],license_source:"",allow_download:!1,featured:!1}),N=()=>{if(!g.title||!g.category){alert("Please fill in at least the title and category");return}g.slug||(g.slug=g.title.toLowerCase().replace(/[^a-z0-9]+/g,"-")),typeof g.tags=="string"&&(g.tags=g.tags.split(",").map(C=>C.trim()).filter(C=>C)),createAudioMutation.mutate(g)},w=C=>{a(C),x({title:C.title||"",slug:C.slug||"",mp3_url:C.mp3_url||"",youtube_id:C.youtube_id||"",cover_image:C.cover_image||"",description:C.description||"",transcript:C.transcript||"",moral_lesson:C.moral_lesson||"",duration:C.duration||"",age_group:C.age_group||"all",category:C.category||"story",subcategory:C.subcategory||"",language:C.language||"English",tags:C.tags||[],license_source:C.license_source||"",allow_download:C.allow_download||!1,featured:C.featured||!1}),r(!0)},j=()=>{i&&(typeof g.tags=="string"&&(g.tags=g.tags.split(",").map(C=>C.trim()).filter(C=>C)),updateAudioMutation.mutate({id:i.id,data:g}))},_=C=>{confirm(`Are you sure you want to delete "${C.title}"? This action cannot be undone.`)&&deleteAudioMutation.mutate(C.id)},E=()=>{x({title:"",slug:"",mp3_url:"",youtube_id:"",cover_image:"",description:"",transcript:"",moral_lesson:"",duration:"",age_group:"all",category:"story",subcategory:"",language:"English",tags:[],license_source:"",allow_download:!1,featured:!1}),a(null)},k={story:"bg-blue-100 text-blue-800",hadith:"bg-green-100 text-green-800",history:"bg-purple-100 text-purple-800",nasheed:"bg-pink-100 text-pink-800",tajweed:"bg-amber-100 text-amber-800",fiqh:"bg-indigo-100 text-indigo-800",quran:"bg-emerald-100 text-emerald-800"};return s.jsx("div",{className:"min-h-screen py-8 px-4 bg-gradient-to-br from-purple-50 to-pink-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Audio Content Management"}),s.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"Upload and manage Islamic audio stories, lessons, and nasheeds"}),s.jsxs(G,{onClick:()=>e(!0),size:"lg",className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:[s.jsx(Os,{className:"w-5 h-5 mr-2"}),"Add New Audio"]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4 mb-6",children:[s.jsx(ne,{children:s.jsxs(ie,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-purple-600",children:audioContent.length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Audio"})]})}),s.jsx(ne,{children:s.jsxs(ie,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-green-600",children:audioContent.filter(C=>C.status==="active").length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Active"})]})}),s.jsx(ne,{children:s.jsxs(ie,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-amber-600",children:audioContent.filter(C=>C.featured).length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Featured"})]})}),s.jsx(ne,{children:s.jsxs(ie,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-blue-600",children:audioContent.reduce((C,R)=>C+(R.plays_count||0),0)}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Plays"})]})})]}),isLoading?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(jw,{className:"w-16 h-16 mx-auto mb-4 text-gray-300 animate-pulse"}),s.jsx("p",{className:"text-gray-500",children:"Loading audio content..."})]}):audioContent.length===0?s.jsx(ne,{children:s.jsxs(ie,{className:"p-12 text-center",children:[s.jsx(Md,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"No audio content yet"}),s.jsxs(G,{onClick:()=>e(!0),children:[s.jsx(Os,{className:"w-4 h-4 mr-2"}),"Add First Audio"]})]})}):s.jsx("div",{className:"grid gap-4",children:audioContent.map((C,R)=>s.jsx(te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:R*.05},children:s.jsx(ne,{className:"hover:shadow-lg transition-shadow",children:s.jsx(ie,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-purple-200 to-pink-200 rounded-lg flex-shrink-0 overflow-hidden",children:C.cover_image?s.jsx("img",{src:C.cover_image,alt:C.title,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx(jw,{className:"w-12 h-12 text-gray-400"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h3",{className:"font-bold text-lg text-gray-900 truncate pr-4",children:C.title}),s.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[s.jsx(G,{onClick:()=>w(C),size:"sm",variant:"outline",className:"text-blue-600",children:s.jsx(yo,{className:"w-4 h-4"})}),s.jsx(G,{onClick:()=>_(C),size:"sm",variant:"outline",className:"text-red-500",children:s.jsx(hr,{className:"w-4 h-4"})})]})]}),C.description&&s.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:C.description}),s.jsxs("div",{className:"flex flex-wrap gap-2 mb-2",children:[s.jsx(_e,{className:k[C.category],children:C.category}),C.subcategory&&s.jsx(_e,{variant:"outline",children:C.subcategory}),C.duration&&s.jsx(_e,{variant:"outline",children:C.duration}),C.age_group&&s.jsxs(_e,{variant:"outline",children:["Ages: ",C.age_group]}),C.featured&&s.jsx(_e,{className:"bg-amber-500",children:" Featured"})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[C.mp3_url&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Md,{className:"w-3 h-3"}),"Audio uploaded"]}),C.plays_count>0&&s.jsxs("span",{children:[C.plays_count," plays"]}),s.jsx("span",{children:C.language||"English"})]})]})]})})})},C.id))}),s.jsx(_f,{open:t,onOpenChange:C=>!C&&E(),children:s.jsxs(Kd,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Gd,{children:s.jsx(Qd,{className:"text-2xl",children:"Add New Audio Content"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx(ye,{htmlFor:"title",children:"Title *"}),s.jsx(Te,{id:"title",value:g.title,onChange:C=>x({...g,title:C.target.value}),placeholder:"e.g., Story of Prophet Ibrahim"})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"category",children:"Category *"}),s.jsxs(en,{value:g.category,onValueChange:C=>x({...g,category:C}),children:[s.jsx(Kt,{children:s.jsx(tn,{})}),s.jsxs(Gt,{children:[s.jsx(Re,{value:"story",children:"Story"}),s.jsx(Re,{value:"hadith",children:"Hadith"}),s.jsx(Re,{value:"history",children:"History"}),s.jsx(Re,{value:"nasheed",children:"Nasheed"}),s.jsx(Re,{value:"tajweed",children:"Tajweed"}),s.jsx(Re,{value:"fiqh",children:"Fiqh"}),s.jsx(Re,{value:"quran",children:"Quran"})]})]})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"age_group",children:"Age Group"}),s.jsxs(en,{value:g.age_group,onValueChange:C=>x({...g,age_group:C}),children:[s.jsx(Kt,{children:s.jsx(tn,{})}),s.jsxs(Gt,{children:[s.jsx(Re,{value:"3-6",children:"3-6 years"}),s.jsx(Re,{value:"7-10",children:"7-10 years"}),s.jsx(Re,{value:"11+",children:"11+ years"}),s.jsx(Re,{value:"all",children:"All ages"})]})]})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Audio File (MP3)"}),s.jsx("input",{ref:m,type:"file",accept:"audio/*",onChange:handleAudioUpload,className:"hidden"}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx(G,{type:"button",onClick:()=>{var C;return(C=m.current)==null?void 0:C.click()},variant:"outline",className:"flex-1",disabled:d.audio,children:d.audio?s.jsxs(s.Fragment,{children:[s.jsx(rd,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(jl,{className:"w-4 h-4 mr-2"}),"Upload Audio File"]})}),g.mp3_url&&s.jsx(_e,{className:"bg-green-500 px-4 py-2",children:" Uploaded"})]}),g.mp3_url&&s.jsx("p",{className:"text-xs text-gray-500 mt-1 truncate",children:g.mp3_url})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Cover Image"}),s.jsx("input",{ref:f,type:"file",accept:"image/*",onChange:handleImageUpload,className:"hidden"}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx(G,{type:"button",onClick:()=>{var C;return(C=f.current)==null?void 0:C.click()},variant:"outline",className:"flex-1",disabled:d.image,children:d.image?s.jsxs(s.Fragment,{children:[s.jsx(rd,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(so,{className:"w-4 h-4 mr-2"}),"Upload Cover Image"]})}),g.cover_image&&s.jsx(_e,{className:"bg-green-500 px-4 py-2",children:" Uploaded"})]}),g.cover_image&&s.jsx("div",{className:"mt-2",children:s.jsx("img",{src:g.cover_image,alt:"Cover preview",className:"w-32 h-32 object-cover rounded-lg"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"subcategory",children:"Subcategory"}),s.jsx(Te,{id:"subcategory",value:g.subcategory,onChange:C=>x({...g,subcategory:C.target.value}),placeholder:"e.g., Prophets, Sahabah"})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"duration",children:"Duration"}),s.jsx(Te,{id:"duration",value:g.duration,onChange:C=>x({...g,duration:C.target.value}),placeholder:"e.g., 05:30"})]})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"description",children:"Description"}),s.jsx(In,{id:"description",value:g.description,onChange:C=>x({...g,description:C.target.value}),placeholder:"Brief description of the audio content",rows:3})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"moral_lesson",children:"Moral Lesson"}),s.jsx(In,{id:"moral_lesson",value:g.moral_lesson,onChange:C=>x({...g,moral_lesson:C.target.value}),placeholder:"Key lesson or takeaway",rows:2})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"tags",children:"Tags (comma-separated)"}),s.jsx(Te,{id:"tags",value:Array.isArray(g.tags)?g.tags.join(", "):g.tags,onChange:C=>x({...g,tags:C.target.value}),placeholder:"e.g., prophets, kindness, patience"})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:g.featured,onChange:C=>x({...g,featured:C.target.checked}),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Featured"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:g.allow_download,onChange:C=>x({...g,allow_download:C.target.checked}),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Allow Download"})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsxs(G,{onClick:N,disabled:createAudioMutation.isPending,className:"flex-1 bg-gradient-to-r from-purple-500 to-pink-500",children:[s.jsx(ya,{className:"w-4 h-4 mr-2"}),"Create Audio"]}),s.jsxs(G,{onClick:()=>{e(!1),E()},variant:"outline",className:"flex-1",children:[s.jsx(ps,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]})]})}),s.jsx(_f,{open:n,onOpenChange:C=>!C&&E(),children:s.jsxs(Kd,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Gd,{children:s.jsx(Qd,{className:"text-2xl",children:"Edit Audio Content"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx(ye,{htmlFor:"edit-title",children:"Title *"}),s.jsx(Te,{id:"edit-title",value:g.title,onChange:C=>x({...g,title:C.target.value}),placeholder:"e.g., Story of Prophet Ibrahim"})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"edit-category",children:"Category *"}),s.jsxs(en,{value:g.category,onValueChange:C=>x({...g,category:C}),children:[s.jsx(Kt,{children:s.jsx(tn,{})}),s.jsxs(Gt,{children:[s.jsx(Re,{value:"story",children:"Story"}),s.jsx(Re,{value:"hadith",children:"Hadith"}),s.jsx(Re,{value:"history",children:"History"}),s.jsx(Re,{value:"nasheed",children:"Nasheed"}),s.jsx(Re,{value:"tajweed",children:"Tajweed"}),s.jsx(Re,{value:"fiqh",children:"Fiqh"}),s.jsx(Re,{value:"quran",children:"Quran"})]})]})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"edit-age",children:"Age Group"}),s.jsxs(en,{value:g.age_group,onValueChange:C=>x({...g,age_group:C}),children:[s.jsx(Kt,{children:s.jsx(tn,{})}),s.jsxs(Gt,{children:[s.jsx(Re,{value:"3-6",children:"3-6 years"}),s.jsx(Re,{value:"7-10",children:"7-10 years"}),s.jsx(Re,{value:"11+",children:"11+ years"}),s.jsx(Re,{value:"all",children:"All ages"})]})]})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Audio File (MP3)"}),s.jsx("input",{ref:m,type:"file",accept:"audio/*",onChange:handleAudioUpload,className:"hidden"}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx(G,{type:"button",onClick:()=>{var C;return(C=m.current)==null?void 0:C.click()},variant:"outline",className:"flex-1",disabled:d.audio,children:d.audio?s.jsxs(s.Fragment,{children:[s.jsx(rd,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(jl,{className:"w-4 h-4 mr-2"}),g.mp3_url?"Replace Audio":"Upload Audio File"]})}),g.mp3_url&&s.jsx(_e,{className:"bg-green-500 px-4 py-2",children:" Uploaded"})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Cover Image"}),s.jsx("input",{ref:f,type:"file",accept:"image/*",onChange:handleImageUpload,className:"hidden"}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx(G,{type:"button",onClick:()=>{var C;return(C=f.current)==null?void 0:C.click()},variant:"outline",className:"flex-1",disabled:d.image,children:d.image?s.jsxs(s.Fragment,{children:[s.jsx(rd,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(so,{className:"w-4 h-4 mr-2"}),g.cover_image?"Replace Image":"Upload Cover Image"]})}),g.cover_image&&s.jsx(_e,{className:"bg-green-500 px-4 py-2",children:" Uploaded"})]}),g.cover_image&&s.jsx("div",{className:"mt-2",children:s.jsx("img",{src:g.cover_image,alt:"Cover preview",className:"w-32 h-32 object-cover rounded-lg"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"edit-subcategory",children:"Subcategory"}),s.jsx(Te,{id:"edit-subcategory",value:g.subcategory,onChange:C=>x({...g,subcategory:C.target.value}),placeholder:"e.g., Prophets, Sahabah"})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"edit-duration",children:"Duration"}),s.jsx(Te,{id:"edit-duration",value:g.duration,onChange:C=>x({...g,duration:C.target.value}),placeholder:"e.g., 05:30"})]})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"edit-description",children:"Description"}),s.jsx(In,{id:"edit-description",value:g.description,onChange:C=>x({...g,description:C.target.value}),placeholder:"Brief description of the audio content",rows:3})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"edit-moral",children:"Moral Lesson"}),s.jsx(In,{id:"edit-moral",value:g.moral_lesson,onChange:C=>x({...g,moral_lesson:C.target.value}),placeholder:"Key lesson or takeaway",rows:2})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"edit-tags",children:"Tags (comma-separated)"}),s.jsx(Te,{id:"edit-tags",value:Array.isArray(g.tags)?g.tags.join(", "):g.tags,onChange:C=>x({...g,tags:C.target.value}),placeholder:"e.g., prophets, kindness, patience"})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:g.featured,onChange:C=>x({...g,featured:C.target.checked}),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Featured"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:g.allow_download,onChange:C=>x({...g,allow_download:C.target.checked}),className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Allow Download"})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsxs(G,{onClick:j,disabled:updateAudioMutation.isPending,className:"flex-1 bg-gradient-to-r from-purple-500 to-pink-500",children:[s.jsx(ya,{className:"w-4 h-4 mr-2"}),"Update Audio"]}),s.jsxs(G,{onClick:()=>{r(!1),E()},variant:"outline",className:"flex-1",children:[s.jsx(ps,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]})]})})]})})}function uV(){const[t,e]=v.useState(""),[n,r]=v.useState([]),[i,a]=v.useState(null),[o,c]=v.useState(""),d=async()=>{c("");try{const m=await kN.list();if(Array.isArray(m)&&m.length>=0){const f=m.map(g=>({id:g.id||g.uid,uid:g.uid||g.id,name:g.fullName||g.name||"",email:g.email||"",role:g.role||"user",age:g.age||"",city:g.city||"",madrasah:g.madrasah||g.madrasah_maktab||"",points:Number(g.points||0),lastAward:g.lastAward||null}));r(f);return}}catch(m){console.warn("Backend users list failed:",(m==null?void 0:m.message)||m)}try{const{db:m}=qt();if(!m)return;const f=Hd(m,"users"),x=(await bf(f)).docs.map(N=>{const w=N.data()||{};return{id:N.id,uid:N.id,name:w.fullName||w.name||"",email:w.email||"",role:w.role||"user",age:w.age||"",city:w.city||"",madrasah:w.madrasah||w.madrasah_maktab||"",points:Number(w.points||0),lastAward:w.lastAward||null}});r(x)}catch(m){console.warn("Failed to load users from Firestore:",(m==null?void 0:m.message)||m)}};v.useEffect(()=>{d()},[]);const h=n.filter(m=>{const f=t.toLowerCase();return m.name.toLowerCase().includes(f)||m.email.toLowerCase().includes(f)||m.role.toLowerCase().includes(f)});return s.jsx("div",{className:"min-h-screen py-8 px-4 bg-gradient-to-br from-blue-50 to-purple-50",children:s.jsx("div",{className:"max-w-6xl mx-auto",children:s.jsxs(ne,{className:"shadow-xl border-2 border-blue-200",children:[s.jsx(Fe,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Ve,{className:"flex items-center gap-2",children:[s.jsx(Fl,{className:"w-6 h-6"})," Users Management"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Te,{placeholder:"Search users...",value:t,onChange:m=>e(m.target.value),className:"bg-white text-gray-900 w-56"}),s.jsxs(G,{variant:"secondary",className:"bg-white/20 text-white hover:bg-white/30",onClick:d,children:[s.jsx(io,{className:"w-4 h-4 mr-2"})," Find"]}),s.jsxs(G,{variant:"secondary",className:"bg-white/20 text-white hover:bg-white/30",onClick:d,children:[s.jsx(_j,{className:"w-4 h-4 mr-2"})," Refresh"]}),s.jsxs(G,{onClick:()=>a({id:"new"}),children:[s.jsx(Os,{className:"w-4 h-4 mr-2"})," Add User"]})]})]})}),s.jsxs(ie,{className:"p-6",children:[o&&s.jsx("div",{className:"mb-4 text-sm text-blue-700 bg-blue-50 border border-blue-200 rounded p-2",children:o}),h.length===0?s.jsx("div",{className:"text-center text-gray-600 py-10",children:"No users yet. Ask users to sign up via the Signup page."}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map(m=>s.jsxs("div",{className:"border rounded-lg p-4 bg-white",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("div",{className:"font-semibold text-gray-900",children:m.name}),s.jsx(_e,{variant:m.role==="admin"?"default":"outline",className:m.role==="admin"?"bg-purple-600 text-white":"",children:m.role})]}),s.jsx("div",{className:"text-sm text-gray-600 mb-1",children:m.email}),s.jsxs("div",{className:"flex items-center gap-2 text-amber-700 mb-2",children:[s.jsx(fn,{className:"w-4 h-4 fill-amber-500 text-amber-500"}),s.jsxs("span",{className:"font-semibold",children:[m.points||0," points"]})]}),m.lastAward&&s.jsxs("div",{className:"text-xs text-gray-600 mb-2",children:["Last award: ",m.lastAward.game_type||""," (+",m.lastAward.points_awarded||0,")"]}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Age: ",m.age||"-"]}),s.jsxs("div",{className:"text-xs text-gray-500",children:["City: ",m.city||"-"]}),s.jsxs("div",{className:"text-xs text-gray-500 mb-4",children:["Madrasah: ",m.madrasah||"-"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(G,{size:"sm",variant:"outline",onClick:()=>a(m),children:[s.jsx(yo,{className:"w-4 h-4 mr-1"})," Edit"]}),s.jsxs(G,{size:"sm",variant:"destructive",onClick:()=>r(n.filter(f=>f.id!==m.id)),children:[s.jsx(hr,{className:"w-4 h-4 mr-1"})," Delete (local)"]}),s.jsxs(G,{size:"sm",variant:"destructive",onClick:async()=>{var f,g;try{const{auth:x}=qt(),N=await((g=(f=x==null?void 0:x.currentUser)==null?void 0:f.getIdToken)==null?void 0:g.call(f)),j=await fetch("/api/deleteUser",{method:"POST",headers:{"Content-Type":"application/json",...N?{Authorization:`Bearer ${N}`}:{}},body:JSON.stringify({uid:m.uid,email:m.email})});if(!j.ok)throw new Error(`Delete failed: ${j.status}`);const _=await j.json();c(`Deleted user ${m.email} (uid=${m.uid||m.id}).`),await d()}catch(x){c(`Server delete failed for ${m.email}: ${(x==null?void 0:x.message)||x}`)}},children:[s.jsx(hr,{className:"w-4 h-4 mr-1"})," Delete (server)"]})]})]},m.id))}),i&&s.jsxs("div",{className:"mt-6 border-t pt-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:i.id==="new"?"Add New User":"Edit User"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsx(Te,{placeholder:"Name",value:i.name||"",onChange:m=>a({...i,name:m.target.value})}),s.jsx(Te,{placeholder:"Email",type:"email",value:i.email||"",onChange:m=>a({...i,email:m.target.value})}),s.jsx(Te,{placeholder:"Role (admin/user)",value:i.role||"user",onChange:m=>a({...i,role:m.target.value})})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[s.jsx(G,{onClick:()=>{if(i.id==="new"){const m=`u${Date.now()}`;r([...n,{id:m,name:i.name||"",email:i.email||"",role:i.role||"user"}])}else r(n.map(m=>m.id===i.id?i:m));a(null)},children:"Save Changes"}),s.jsx(G,{variant:"outline",onClick:()=>a(null),children:"Cancel"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:'Users are loaded from Firestore `users` collection. Editing is local-only. Use "Delete (server)" to remove accounts from Firebase Auth and Firestore.'})]})]})]})})})}function dV(){const t=Yn(),[e,n]=wn.useState(""),[r,i]=wn.useState(!1),a=encodeURIComponent("Account Deletion Request - Islam Kids Zone"),o=encodeURIComponent("Hi, I'd like to delete my account on Islam Kids Zone. My name is ____ and my contact details are ____."),c=()=>{window.location.href=`mailto:imediac786@gmail.com?subject=${a}&body=${o}`};return s.jsx("div",{className:"min-h-screen py-8 px-4",children:s.jsxs("div",{className:"max-w-2xl mx-auto",children:[s.jsxs(G,{variant:"outline",className:"mb-4",onClick:()=>t(it("Home")),children:[s.jsx(Ol,{className:"w-4 h-4 mr-2"})," Back to Home"]}),s.jsxs(ne,{className:"border-2 border-red-300 shadow-lg bg-gradient-to-br from-red-50 to-orange-50",children:[s.jsx(Fe,{children:s.jsxs(Ve,{className:"text-2xl flex items-center",children:[s.jsx(hr,{className:"w-6 h-6 mr-2 text-red-600"}),"Delete Account (Email-Only Mode)"]})}),s.jsx(ie,{children:s.jsxs(te.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:[s.jsxs("div",{className:"mb-4 flex items-start gap-3",children:[s.jsx(Sj,{className:"w-6 h-6 text-red-600 mt-1"}),s.jsx("p",{className:"text-gray-700",children:"Direct account deletion is disabled in this mode. To delete your account, please email our team. We'll process the request and confirm via email. You can include your name and contact details in the email."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type DELETE to confirm you understand this action"}),s.jsx(Te,{value:e,onChange:d=>n(d.target.value),placeholder:"DELETE"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(nS,{id:"agree",checked:r,onCheckedChange:d=>i(!!d)}),s.jsx("label",{htmlFor:"agree",className:"text-sm text-gray-700",children:"I understand this will permanently remove my account and associated content."})]})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx(G,{onClick:c,disabled:e!=="DELETE"||!r,className:"w-full bg-gradient-to-r from-red-500 to-orange-500",children:"Email Us to Delete My Account"}),s.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"We'll respond to confirm your account deletion request."})]})]})})]})]})})}function hV(){const[t,e]=v.useState(null),[n,r]=v.useState([]),[i,a]=v.useState(null),[o,c]=v.useState(!1);Yn();const[d,h]=v.useState({text:"",subtext:"",gradient:"from-blue-600 via-purple-600 to-pink-600",active:!0,order:1});v.useEffect(()=>{m()},[]);const m=()=>{const E=localStorage.getItem("homepage_banners");if(E)r(JSON.parse(E));else{const k=[{id:1,text:"Welcome to Islam Kids Zone",subtext:"Learn, Play & Grow in Faith",gradient:"from-blue-600 via-purple-600 to-pink-600",active:!0,order:1},{id:2,text:'"Whoever guides someone to goodness will have a reward like one who did it."',subtext:" Sahih Muslim",gradient:"from-green-600 via-teal-600 to-cyan-600",active:!0,order:2}];r(k),f(k)}},f=E=>{localStorage.setItem("homepage_banners",JSON.stringify(E)),r(E)},g=()=>{h({text:"",subtext:"",gradient:"from-blue-600 via-purple-600 to-pink-600",active:!0,order:1})},x=E=>{a(E),h(E),c(!0)},N=E=>{if(E.preventDefault(),i){const k=n.map(C=>C.id===i.id?{...d,id:C.id}:C);f(k)}else{const k={...d,id:Date.now()};f([...n,k])}c(!1),a(null),g()},w=E=>{window.confirm("Delete this banner?")&&f(n.filter(k=>k.id!==E))},j=E=>{const k=n.map(C=>C.id===E?{...C,active:!C.active}:C);f(k)},_=[{name:"Blue Purple",value:"from-blue-600 via-purple-600 to-pink-600"},{name:"Green Teal",value:"from-green-600 via-teal-600 to-cyan-600"},{name:"Orange Red",value:"from-amber-600 via-orange-600 to-red-600"},{name:"Purple Pink",value:"from-purple-600 via-pink-600 to-rose-600"},{name:"Indigo Blue",value:"from-indigo-600 via-blue-600 to-cyan-600"}];return s.jsx("div",{className:"min-h-screen py-8 px-4 bg-gradient-to-br from-slate-50 to-blue-50",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Lt,{to:it("AdminDashboard"),children:s.jsxs(G,{variant:"outline",children:[s.jsx(Ol,{className:"w-4 h-4 mr-2"}),"Back"]})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Homepage Banners"}),s.jsx("p",{className:"text-gray-600",children:"Manage rotating homepage banner slides"})]})]}),s.jsxs(G,{onClick:()=>{c(!0),a(null),g()},children:[s.jsx(Os,{className:"w-4 h-4 mr-2"}),"Add Banner"]})]}),s.jsx(ri,{children:o&&s.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:s.jsxs(te.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"sticky top-0 bg-white border-b p-6 z-10",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl font-bold",children:i?"Edit Banner":"Create Banner"}),s.jsx(G,{variant:"ghost",size:"icon",onClick:()=>c(!1),children:s.jsx(ps,{className:"w-6 h-6"})})]})}),s.jsxs("form",{onSubmit:N,className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Main Text *"}),s.jsx(Te,{value:d.text,onChange:E=>h({...d,text:E.target.value}),required:!0,placeholder:"Welcome message or quote"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Subtext"}),s.jsx(Te,{value:d.subtext,onChange:E=>h({...d,subtext:E.target.value}),placeholder:"Optional subtitle or attribution"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Gradient Style"}),s.jsx("div",{className:"grid grid-cols-2 gap-2 mb-2",children:_.map(E=>s.jsx("button",{type:"button",onClick:()=>h({...d,gradient:E.value}),className:`p-3 rounded-lg bg-gradient-to-r ${E.value} text-white text-sm font-semibold ${d.gradient===E.value?"ring-4 ring-blue-500":""}`,children:E.name},E.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Display Order"}),s.jsx(Te,{type:"number",value:d.order,onChange:E=>h({...d,order:parseInt(E.target.value)}),min:"1"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"font-semibold",children:"Active"}),s.jsx(Is,{checked:d.active,onCheckedChange:E=>h({...d,active:E})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Preview"}),s.jsxs("div",{className:`p-8 rounded-xl bg-gradient-to-r ${d.gradient} text-white text-center`,children:[s.jsx("h3",{className:"text-2xl font-bold mb-2",children:d.text||"Your text here"}),d.subtext&&s.jsx("p",{className:"text-white/90",children:d.subtext})]})]}),s.jsxs("div",{className:"flex gap-4 justify-end border-t pt-6",children:[s.jsx(G,{type:"button",variant:"outline",onClick:()=>c(!1),children:"Cancel"}),s.jsxs(G,{type:"submit",children:[s.jsx(ya,{className:"w-4 h-4 mr-2"}),i?"Update":"Create"]})]})]})]})})}),s.jsx("div",{className:"space-y-4",children:n.sort((E,k)=>E.order-k.order).map(E=>s.jsx(ne,{className:E.active?"":"opacity-50",children:s.jsx(ie,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:`p-6 rounded-xl bg-gradient-to-r ${E.gradient} text-white mb-4`,children:[s.jsx("h3",{className:"text-xl font-bold mb-1",children:E.text}),E.subtext&&s.jsx("p",{className:"text-sm text-white/90",children:E.subtext})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[s.jsxs("span",{children:["Order: ",E.order]}),s.jsx("span",{children:""}),s.jsx("span",{children:E.active?" Active":" Inactive"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(G,{size:"sm",variant:"outline",onClick:()=>j(E.id),children:E.active?s.jsx(Hz,{className:"w-4 h-4"}):s.jsx(TR,{className:"w-4 h-4"})}),s.jsx(G,{size:"sm",onClick:()=>x(E),children:s.jsx(yo,{className:"w-4 h-4"})}),s.jsx(G,{size:"sm",variant:"outline",onClick:()=>w(E.id),className:"text-red-600",children:s.jsx(hr,{className:"w-4 h-4"})})]})]})})},E.id))}),n.length===0&&s.jsxs(ne,{className:"p-12 text-center",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"No banners created yet"}),s.jsx(G,{onClick:()=>c(!0),children:"Create First Banner"})]})]})})}function QI(){Yn();const[t,e]=v.useState([]),[n,r]=v.useState(null),[i,a]=v.useState({name:"",linkUrl:"",imageUrl:"",type:"sponsor",placement:"home",order:0,active:!0}),[o,c]=v.useState(!1),[d,h]=v.useState(""),[m,f]=v.useState(null),[g,x]=v.useState(!1),N=()=>{try{const R=localStorage.getItem("homepage_sponsors"),F=R?JSON.parse(R):[];e(Array.isArray(F)?F:[])}catch{e([])}},w=R=>{localStorage.setItem("homepage_sponsors",JSON.stringify(R))},j=async()=>{c(!0),h("");try{const R=await dd.list();e(R.sort((F,D)=>(F.order??0)-(D.order??0)))}catch(R){console.warn("Sponsors list via Firestore failed, using localStorage",(R==null?void 0:R.message)||R),N()}finally{c(!1)}};v.useEffect(()=>{const{app:R}=qt();x(!!R),j()},[]);const _=()=>{a({name:"",linkUrl:"",imageUrl:"",type:"sponsor",placement:"home",order:t.length,active:!0}),r(null),h("")},E=R=>{r(R.id||R._localId),a({name:R.name||"",linkUrl:R.linkUrl||"",imageUrl:R.imageUrl||"",type:R.type||"sponsor",placement:R.placement||"home",order:R.order??0,active:R.active??!0})},k=async R=>{R.preventDefault(),c(!0),h("");try{const F={...i,name:i.name.trim(),linkUrl:i.linkUrl.trim(),imageUrl:i.imageUrl.trim(),createdAt:new Date().toISOString()};if(n)try{await dd.update(n,F),await j()}catch{const P=t.map(I=>I.id===n||I._localId===n?{...I,...F}:I);e(P),w(P)}else try{const D=await dd.add(F),P=(D==null?void 0:D.id)||Math.random().toString(36).slice(2);e(I=>[...I,{id:P,...F}])}catch{const P={_localId:Math.random().toString(36).slice(2),...F},I=[...t,P];e(I),w(I)}_()}catch(F){h((F==null?void 0:F.message)||"Failed to save")}finally{c(!1)}},C=async R=>{if(window.confirm("Delete this item?")){c(!0);try{if(R.id)try{await dd.remove(R.id),await j()}catch{const D=t.filter(P=>P.id!==R.id);e(D),w(D)}else{const F=t.filter(D=>D._localId!==R._localId);e(F),w(F)}}finally{c(!1)}}};return s.jsx("div",{className:"min-h-screen py-8 px-4 bg-gradient-to-br from-slate-50 to-blue-50",children:s.jsx("div",{className:"max-w-5xl mx-auto",children:s.jsxs(ne,{className:"shadow-xl border-2 border-blue-200",children:[s.jsx(Fe,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:s.jsxs(Ve,{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(Qm,{className:"w-5 h-5"})," Manage Sponsors & Ads"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Lt,{to:it("Assistant"),className:"text-white/90 hover:text-white",children:s.jsxs(G,{variant:"ghost",className:"text-white",children:[s.jsx(Zd,{className:"w-4 h-4 mr-2"})," Open AI Agent"]})}),s.jsx(Lt,{to:it("AdminDashboard"),className:"text-white/90 hover:text-white",children:s.jsxs(G,{variant:"ghost",className:"text-white",children:[s.jsx(Ol,{className:"w-4 h-4 mr-2"})," Back to Dashboard"]})})]})]})}),s.jsxs(ie,{className:"p-6",children:[s.jsxs("form",{onSubmit:k,className:"space-y-4",children:[d&&s.jsx("div",{className:"text-red-600",children:d}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"Name"}),s.jsx(Te,{value:i.name,onChange:R=>a({...i,name:R.target.value}),placeholder:"Sponsor name",required:!0})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Link URL"}),s.jsx(Te,{value:i.linkUrl,onChange:R=>a({...i,linkUrl:R.target.value}),placeholder:"https://sponsor.com",type:"url",required:!0})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Logo/Image URL"}),s.jsx(Te,{value:i.imageUrl,onChange:R=>a({...i,imageUrl:R.target.value}),placeholder:"https://...logo.png"})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Upload Image (optional)"}),s.jsx(Te,{type:"file",accept:"image/*",onChange:R=>{var F;return f(((F=R.target.files)==null?void 0:F[0])||null)}}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:g?"Uploads go to Firebase Storage and auto-fill the Image URL.":"Upload disabled: configure Firebase env vars to enable Storage."}),s.jsxs("div",{className:"mt-2 flex gap-2",children:[s.jsx(G,{type:"button",variant:"outline",disabled:!m||!g||o,onClick:async()=>{if(h(""),!!m)try{const R=await fO(m,i.name||m.name);a({...i,imageUrl:R.url})}catch(R){h((R==null?void 0:R.message)||"Upload failed")}},children:"Upload to Storage"}),i.imageUrl&&s.jsx("a",{href:i.imageUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 text-sm",children:"Preview"})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Type"}),s.jsxs("select",{className:"border rounded px-3 py-2 w-full",value:i.type,onChange:R=>a({...i,type:R.target.value}),children:[s.jsx("option",{value:"sponsor",children:"Sponsor"}),s.jsx("option",{value:"ad",children:"Ad"})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Placement"}),s.jsx("select",{className:"border rounded px-3 py-2 w-full",value:i.placement,onChange:R=>a({...i,placement:R.target.value}),children:s.jsx("option",{value:"home",children:"Home"})})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Order"}),s.jsx(Te,{type:"number",value:i.order,onChange:R=>a({...i,order:Number(R.target.value)})})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Is,{checked:i.active,onCheckedChange:R=>a({...i,active:!!R})}),s.jsx(ye,{children:"Active"})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(G,{type:"submit",disabled:o,className:"bg-blue-600 text-white",children:[s.jsx(ya,{className:"w-4 h-4 mr-2"})," ",n?"Update":"Add"," Item"]}),n&&s.jsxs(G,{type:"button",variant:"outline",onClick:_,children:[s.jsx(ps,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]}),s.jsxs("div",{className:"mt-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-xl font-bold",children:"Current Items"}),s.jsxs(G,{variant:"outline",onClick:_,children:[s.jsx(Os,{className:"w-4 h-4 mr-2"}),"New"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.map(R=>s.jsx("div",{className:"border rounded-xl p-4 bg-white",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded flex items-center justify-center overflow-hidden",children:R.imageUrl?s.jsx(bpe,{url:R.imageUrl,name:R.name}):s.jsx(so,{className:"w-8 h-8 text-gray-400"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold",children:R.name}),s.jsx("div",{className:"text-sm text-blue-600 break-all",children:s.jsx("a",{href:R.linkUrl,target:"_blank",rel:"noopener noreferrer",children:R.linkUrl})}),s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Type: ",R.type,"  Placement: ",R.placement,"  Order: ",R.order??0,"  Active: ",R.active?"Yes":"No"]}),s.jsxs("div",{className:"mt-3 flex gap-2",children:[s.jsxs(G,{size:"sm",variant:"outline",onClick:()=>E(R),children:[s.jsx(yo,{className:"w-4 h-4 mr-1"}),"Edit"]}),s.jsxs(G,{size:"sm",variant:"destructive",onClick:()=>C(R),children:[s.jsx(hr,{className:"w-4 h-4 mr-1"}),"Delete"]})]})]})]})},R.id||R._localId)),t.length===0&&s.jsx("div",{className:"text-gray-600",children:"No sponsors or ads yet. Add your first above."})]})]})]})]})})})}function bpe({url:t,name:e}){const[n,r]=wn.useState(!1);return n?s.jsx(so,{className:"w-8 h-8 text-gray-400"}):s.jsx("img",{src:t,alt:e||"Sponsor",className:"object-contain w-full h-full",referrerPolicy:"no-referrer",onError:()=>r(!0)})}function mV(){const[t,e]=v.useState(null),[n,r]=v.useState(!1),[i,a]=v.useState(null),o=si();Yn();const[c,d]=v.useState({title:"",description:"",moral:"",image_url:"",category:"manners",age_range:"7-12",is_interactive:!0,starting_node:"start",story_nodes:[]}),[h,m]=v.useState({id:"",content:"",character:"",image_url:"",is_ending:!1,ending_type:"good",choices:[]}),{data:f=[],isLoading:g}=Un({queryKey:["admin-interactive-stories"],queryFn:async()=>(await yt.entities.Story.list("-created_date")).filter(V=>V.is_interactive),initialData:[]}),x=Nn({mutationFn:async O=>await yt.entities.Story.create(O),onSuccess:()=>{o.invalidateQueries({queryKey:["admin-interactive-stories"]}),r(!1),j()}}),N=Nn({mutationFn:async({id:O,storyData:V})=>await yt.entities.Story.update(O,V),onSuccess:()=>{o.invalidateQueries({queryKey:["admin-interactive-stories"]}),e(null),r(!1),j()}}),w=Nn({mutationFn:async O=>await yt.entities.Story.delete(O),onSuccess:()=>{o.invalidateQueries({queryKey:["admin-interactive-stories"]})}}),j=()=>{d({title:"",description:"",moral:"",image_url:"",category:"manners",age_range:"7-12",is_interactive:!0,starting_node:"start",story_nodes:[]}),a(null)},_=O=>{e(O),d({title:O.title,description:O.description||"",moral:O.moral,image_url:O.image_url||"",category:O.category,age_range:O.age_range||"7-12",is_interactive:!0,starting_node:O.starting_node||"start",story_nodes:O.story_nodes||[]}),r(!0)},E=async O=>{window.confirm("Are you sure you want to delete this interactive story?")&&await w.mutateAsync(O)},k=async O=>{O.preventDefault(),t?await N.mutateAsync({id:t.id,storyData:c}):await x.mutateAsync(c)},C=()=>{const O={id:`node_${Date.now()}`,content:"",character:"",image_url:"",is_ending:!1,ending_type:"good",choices:[]};d({...c,story_nodes:[...c.story_nodes,O]})},R=(O,V,L)=>{const U=[...c.story_nodes];U[O]={...U[O],[V]:L},d({...c,story_nodes:U})},F=O=>{if(window.confirm("Delete this story node?")){const V=c.story_nodes.filter((L,U)=>U!==O);d({...c,story_nodes:V})}},D=O=>{const V=[...c.story_nodes];V[O].choices||(V[O].choices=[]),V[O].choices.push({text:"",next_node:"",points:5}),d({...c,story_nodes:V})},P=(O,V,L,U)=>{const ee=[...c.story_nodes];ee[O].choices[V]={...ee[O].choices[V],[L]:U},d({...c,story_nodes:ee})},I=(O,V)=>{const L=[...c.story_nodes];L[O].choices=L[O].choices.filter((U,ee)=>ee!==V),d({...c,story_nodes:L})};return s.jsx("div",{className:"min-h-screen py-8 px-4 bg-gradient-to-br from-slate-50 to-blue-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Lt,{to:it("AdminDashboard"),children:s.jsxs(G,{variant:"outline",children:[s.jsx(Ol,{className:"w-4 h-4 mr-2"}),"Back"]})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Interactive Story Builder"}),s.jsx("p",{className:"text-gray-600",children:"Create branching narrative stories"})]})]}),s.jsxs(G,{onClick:()=>{r(!0),e(null),j()},className:"bg-purple-600 hover:bg-purple-700",children:[s.jsx(Os,{className:"w-4 h-4 mr-2"}),"Create Interactive Story"]})]}),!n&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(O=>{var V;return s.jsxs(ne,{className:"hover:shadow-lg transition-shadow",children:[s.jsx(Fe,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx(Ve,{className:"text-lg line-clamp-2",children:O.title}),s.jsxs(_e,{className:"bg-purple-100 text-purple-800",children:[s.jsx(Xz,{className:"w-3 h-3 mr-1"}),((V=O.story_nodes)==null?void 0:V.length)||0," nodes"]})]})}),s.jsxs(ie,{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:O.description}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(G,{onClick:()=>_(O),size:"sm",className:"flex-1 bg-blue-600 hover:bg-blue-700",children:[s.jsx(yo,{className:"w-4 h-4 mr-1"}),"Edit"]}),s.jsx(G,{onClick:()=>E(O.id),size:"sm",variant:"outline",className:"text-red-600 border-red-600",children:s.jsx(hr,{className:"w-4 h-4"})})]})]})]},O.id)})}),n&&s.jsxs(ne,{children:[s.jsx(Fe,{children:s.jsx(Ve,{children:t?"Edit Interactive Story":"Create New Interactive Story"})}),s.jsx(ie,{children:s.jsxs("form",{onSubmit:k,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Title *"}),s.jsx(Te,{value:c.title,onChange:O=>d({...c,title:O.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Category *"}),s.jsxs("select",{value:c.category,onChange:O=>d({...c,category:O.target.value}),className:"w-full border rounded-lg px-3 py-2",children:[s.jsx("option",{value:"prophets",children:"Prophets"}),s.jsx("option",{value:"sahabah",children:"Sahabah"}),s.jsx("option",{value:"manners",children:"Manners"}),s.jsx("option",{value:"kindness",children:"Kindness"}),s.jsx("option",{value:"honesty",children:"Honesty"}),s.jsx("option",{value:"gratitude",children:"Gratitude"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Description"}),s.jsx(Te,{value:c.description,onChange:O=>d({...c,description:O.target.value}),placeholder:"Brief description of the story"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Moral/Lesson *"}),s.jsx(In,{value:c.moral,onChange:O=>d({...c,moral:O.target.value}),required:!0,rows:2})]}),s.jsxs("div",{className:"border-t pt-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-xl font-bold",children:"Story Nodes"}),s.jsxs(G,{type:"button",onClick:C,size:"sm",children:[s.jsx(Os,{className:"w-4 h-4 mr-2"}),"Add Node"]})]}),s.jsx("div",{className:"space-y-4",children:c.story_nodes.map((O,V)=>{var L;return s.jsx(ne,{className:"border-2 border-purple-200",children:s.jsxs(ie,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsxs(_e,{className:"mb-2",children:["Node ",V+1]}),s.jsxs("p",{className:"text-xs text-gray-500",children:["ID: ",O.id]})]}),s.jsx(G,{type:"button",variant:"ghost",size:"sm",onClick:()=>F(V),className:"text-red-600",children:s.jsx(hr,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Character Name"}),s.jsx(Te,{value:O.character,onChange:U=>R(V,"character",U.target.value),placeholder:"e.g., Ahmad (You)"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Content *"}),s.jsx(In,{value:O.content,onChange:U=>R(V,"content",U.target.value),rows:4,placeholder:"Story content (Markdown supported)"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:O.is_ending,onChange:U=>R(V,"is_ending",U.target.checked)}),s.jsx("span",{className:"text-sm font-semibold",children:"Is Ending Node"})]}),O.is_ending&&s.jsxs("select",{value:O.ending_type,onChange:U=>R(V,"ending_type",U.target.value),className:"border rounded px-2 py-1 text-sm",children:[s.jsx("option",{value:"excellent",children:"Excellent"}),s.jsx("option",{value:"great",children:"Great"}),s.jsx("option",{value:"good",children:"Good"}),s.jsx("option",{value:"bad",children:"Bad"})]})]}),!O.is_ending&&s.jsxs("div",{className:"border-t pt-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("label",{className:"text-sm font-semibold",children:"Choices"}),s.jsxs(G,{type:"button",onClick:()=>D(V),size:"sm",variant:"outline",children:[s.jsx(Os,{className:"w-3 h-3 mr-1"}),"Add Choice"]})]}),(L=O.choices)==null?void 0:L.map((U,ee)=>s.jsxs("div",{className:"bg-gray-50 p-3 rounded mb-2",children:[s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsxs("span",{className:"text-xs font-bold",children:["Choice ",ee+1]}),s.jsx(G,{type:"button",variant:"ghost",size:"sm",onClick:()=>I(V,ee),children:s.jsx(ps,{className:"w-3 h-3"})})]}),s.jsx(Te,{value:U.text,onChange:re=>P(V,ee,"text",re.target.value),placeholder:"Choice text",className:"mb-2"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx(Te,{value:U.next_node,onChange:re=>P(V,ee,"next_node",re.target.value),placeholder:"Next node ID"}),s.jsx(Te,{type:"number",value:U.points,onChange:re=>P(V,ee,"points",parseInt(re.target.value)),placeholder:"Points"})]})]},ee))]})]})]})},V)})})]}),s.jsxs("div",{className:"flex gap-4 justify-end border-t pt-6",children:[s.jsx(G,{type:"button",variant:"outline",onClick:()=>{r(!1),j()},children:"Cancel"}),s.jsxs(G,{type:"submit",className:"bg-purple-600 hover:bg-purple-700",children:[s.jsx(ya,{className:"w-4 h-4 mr-2"}),t?"Update Story":"Create Story"]})]})]})})]})]})})}const YI=[{game_id:"ayat_explorer",game_name:"Ayat Explorer",emoji:""},{game_id:"word_search",game_name:"Islamic Word Search",emoji:""},{game_id:"memory_match",game_name:"Islamic Memory Match",emoji:""},{game_id:"memory",game_name:"Memory Game",emoji:""},{game_id:"matching_pairs",game_name:"Matching Pairs of Iman",emoji:""},{game_id:"islamic_quiz",game_name:"Islamic Knowledge Quiz",emoji:""},{game_id:"sahabah_arena",game_name:"Sahabah Arena",emoji:""},{game_id:"knowledge_race",game_name:"Islam Knowledge Race",emoji:""},{game_id:"sahabah_stories",game_name:"Sahabah Stories",emoji:""},{game_id:"maze_of_guidance",game_name:"Maze of Guidance",emoji:""},{game_id:"trivia",game_name:"Trivia",emoji:""},{game_id:"quran_quest",game_name:"Quran Quest",emoji:""},{game_id:"crossword",game_name:"Islamic Crossword",emoji:""},{game_id:"hadith_match",game_name:"Hadith Match",emoji:""},{game_id:"prophet_stories",game_name:"Prophet Stories",emoji:""},{game_id:"quran_memory",game_name:"Quran Memory Match",emoji:""},{game_id:"morals_maze",game_name:"Islamic Morals Maze",emoji:""},{game_id:"seerah_quiz",game_name:"Seerah Quiz",emoji:""},{game_id:"word_scramble",game_name:"Word Scramble Challenge",emoji:""},{game_id:"quest_for_ilm",game_name:"The Quest for Ilm",emoji:""},{game_id:"fiqh_game",game_name:"Fiqh Challenge",emoji:""}];function fV(){Yn();const t=si(),[e,n]=v.useState(!1),[r,i]=v.useState({}),{data:a=[],isLoading:o}=Un({queryKey:["game-settings"],queryFn:async()=>{const g=await yt.entities.GameSettings.list(),x=g.map(w=>w.game_id),N=YI.filter(w=>!x.includes(w.game_id));return N.length>0?(await Promise.all(N.map(w=>yt.entities.GameSettings.create({game_id:w.game_id,game_name:w.game_name,points_per_game:10,perfect_score_bonus:5,is_active:!0,min_points:5,max_points:20}))),await yt.entities.GameSettings.list()):g},enabled:!0}),c=Nn({mutationFn:({id:g,data:x})=>yt.entities.GameSettings.update(g,x),onSuccess:()=>{t.invalidateQueries({queryKey:["game-settings"]}),n(!0),setTimeout(()=>n(!1),3e3)}}),d=(g,x,N)=>{i(w=>({...w,[g]:{...w[g],[x]:N}}))},h=async g=>{const x=r[g.game_id]||{};Object.keys(x).length!==0&&(await c.mutateAsync({id:g.id,data:x}),i(N=>{const w={...N};return delete w[g.game_id],w}))},m=(g,x)=>{var N;return((N=r[g.game_id])==null?void 0:N[x])??g[x]},f=g=>r[g]&&Object.keys(r[g]).length>0;return o?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Od,{className:"w-12 h-12 mx-auto mb-4 animate-spin text-blue-600"}),s.jsx("p",{className:"text-gray-600",children:"Loading game settings..."})]})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 py-8 px-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Game Settings"}),s.jsx("p",{className:"text-gray-600",children:"Manage points and settings for all games"})]}),e&&s.jsxs(_e,{className:"bg-green-500 text-white",children:[s.jsx(zc,{className:"w-4 h-4 mr-2"}),"Saved Successfully!"]})]})}),s.jsx("div",{className:"grid gap-6",children:a.map((g,x)=>{const N=YI.find(j=>j.game_id===g.game_id),w=f(g.game_id);return s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:x*.05},children:s.jsxs(ne,{className:`border-2 ${w?"border-blue-400 shadow-lg":"border-gray-200"}`,children:[s.jsx(Fe,{className:"bg-gradient-to-r from-blue-50 to-purple-50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"text-4xl",children:(N==null?void 0:N.emoji)||""}),s.jsxs("div",{children:[s.jsx(Ve,{className:"text-xl",children:g.game_name}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Game ID: ",g.game_id]})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[w&&s.jsx(_e,{variant:"outline",className:"bg-blue-100 text-blue-700",children:"Unsaved Changes"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ye,{htmlFor:`active-${g.id}`,children:"Active"}),s.jsx(Is,{id:`active-${g.id}`,checked:m(g,"is_active"),onCheckedChange:j=>d(g.game_id,"is_active",j)})]})]})]})}),s.jsxs(ie,{className:"p-6",children:[s.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{children:[s.jsxs(ye,{htmlFor:`points-${g.id}`,className:"flex items-center gap-2 mb-2",children:[s.jsx(Dd,{className:"w-4 h-4 text-blue-600"}),"Points Per Game"]}),s.jsx(Te,{id:`points-${g.id}`,type:"number",value:m(g,"points_per_game"),onChange:j=>d(g.game_id,"points_per_game",parseInt(j.target.value)),className:"text-center font-bold text-lg",min:m(g,"min_points"),max:m(g,"max_points")})]}),s.jsxs("div",{children:[s.jsxs(ye,{htmlFor:`bonus-${g.id}`,className:"flex items-center gap-2 mb-2",children:[s.jsx(Nj,{className:"w-4 h-4 text-green-600"}),"Perfect Score Bonus"]}),s.jsx(Te,{id:`bonus-${g.id}`,type:"number",value:m(g,"perfect_score_bonus"),onChange:j=>d(g.game_id,"perfect_score_bonus",parseInt(j.target.value)),className:"text-center font-bold text-lg",min:0,max:20})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:`min-${g.id}`,className:"mb-2 block",children:"Min Points"}),s.jsx(Te,{id:`min-${g.id}`,type:"number",value:m(g,"min_points"),onChange:j=>d(g.game_id,"min_points",parseInt(j.target.value)),className:"text-center",min:0})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:`max-${g.id}`,className:"mb-2 block",children:"Max Points"}),s.jsx(Te,{id:`max-${g.id}`,type:"number",value:m(g,"max_points"),onChange:j=>d(g.game_id,"max_points",parseInt(j.target.value)),className:"text-center",min:m(g,"min_points")})]})]}),s.jsxs("div",{className:"mt-4 flex items-center gap-3",children:[s.jsx("div",{className:"flex-1 bg-blue-50 rounded-lg p-3 border border-blue-200",children:s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("strong",{children:"Total Possible:"})," ",m(g,"points_per_game")," + ",m(g,"perfect_score_bonus")," bonus = ",s.jsxs("span",{className:"text-blue-600 font-bold",children:[m(g,"points_per_game")+m(g,"perfect_score_bonus")," points"]})]})}),s.jsxs(G,{onClick:()=>h(g),disabled:!w,className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(ya,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]})]})]})},g.id)})}),s.jsx(ne,{className:"mt-8 border-2 border-amber-300 bg-amber-50",children:s.jsx(ie,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(bj,{className:"w-6 h-6 text-amber-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-amber-900 mb-2",children:"Important Notes:"}),s.jsxs("ul",{className:"text-sm text-amber-800 space-y-1",children:[s.jsx("li",{children:" Changes take effect immediately for all new games played"}),s.jsx("li",{children:" User points are capped at 1500 total regardless of individual game settings"}),s.jsx("li",{children:" Perfect score bonus is only awarded when users get 100% correct"}),s.jsx("li",{children:" Deactivating a game will hide it from the Games page"})]})]})]})})})]})})}async function wpe(t,e,n={}){var o,c,d,h,m,f;const{isPerfect:r=!1,fallbackScore:i=10,metadata:a={}}=n;try{const g=await yt.entities.GameSettings.filter({game_id:e}),x=g&&g.length>0?g[0]:null,N=x?x.is_active!==!1:!0,w=x?Number(x.points_per_game??i):i,j=x?Number(x.perfect_score_bonus??0):0,_=x?Number(x.min_points??0):0,E=x?Number(x.max_points??99999):99999;let k=N?w+(r?j:0):0;k=Math.max(_,Math.min(k,E));const{auth:C}=qt(),R=await((c=(o=C==null?void 0:C.currentUser)==null?void 0:o.getIdToken)==null?void 0:c.call(o));if(R){const O="/api/updatePoints";try{if((await fetch(O,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${R}`},body:JSON.stringify({game_type:e,points_awarded:k,isPerfect:r,metadata:a})})).ok)return k}catch{}}const{db:F,auth:D}=qt(),P=(d=D==null?void 0:D.currentUser)==null?void 0:d.uid,I=((h=D==null?void 0:D.currentUser)==null?void 0:h.email)||null;if(F&&P)try{const O=Qc(F,"users",P),V=await U6(O),L=Number(V.exists()&&((m=V.data())==null?void 0:m.points)||0),ee=Math.min(L+k,1500);await B6(O,{uid:P,email:I,points:ee,lastAward:{game_type:e||null,points_awarded:k,perfect:r,at:new Date},updatedAt:new Date,createdAt:V.exists()?((f=V.data())==null?void 0:f.createdAt)||new Date:new Date},{merge:!0})}catch{}return k}catch(g){return console.error("awardPointsForGame error:",g),i}}function pV(){Yn();const[t,e]=v.useState(null),[n,r]=v.useState(null),[i,a]=v.useState(0),[o,c]=v.useState(null),[d,h]=v.useState(!1),[m,f]=v.useState([]),[g,x]=v.useState(null),[N,w]=v.useState(!1),[j,_]=v.useState(null),[E,k]=v.useState("all"),[C,R]=v.useState(null);v.useEffect(()=>{F()},[]),v.useEffect(()=>{const $=ph(Z=>R(Z));return()=>$&&$()},[]);const F=async()=>{try{if(await base44.auth.isAuthenticated()){const Z=await base44.auth.me();e(Z)}}catch{console.log("User not authenticated")}},{data:D=[],isLoading:P}=Un({queryKey:["quizzes"],queryFn:async()=>{const $=await base44.entities.Quiz.filter({is_active:!0},"-created_date",100),Z=new Date;return $.filter(H=>{const me=H.start_date?new Date(H.start_date):null,je=H.end_date?new Date(H.end_date):null;return!(me&&Z<me||je&&Z>je)})},initialData:[]}),{data:I=[]}=Un({queryKey:["user-quiz-attempts",t==null?void 0:t.id],queryFn:()=>base44.entities.QuizAttempt.filter({user_id:t.id},"-created_date",100),enabled:!!t,initialData:[]}),{data:O=[]}=Un({queryKey:["quiz-questions",n==null?void 0:n.id],queryFn:async()=>{if(!n)return[];const $=n.questions||[];return(await Promise.all($.map(async H=>{try{return(await base44.entities.QuizQuestion.filter({id:H}))[0]}catch{return null}}))).filter(H=>H!==null)},enabled:!!n,initialData:[]}),V=$=>{r($),a(0),f([]),h(!1),w(!1),x(Date.now())},L=$=>{d||c($)},U=()=>{if(o===null)return;const $=O[i],Z=o===$.correct_answer_index;f([...m,{question_id:$.id,selected_answer:o,is_correct:Z}]),h(!0)},ee=()=>{i<O.length-1?(a(i+1),c(null),h(!1)):re()},re=async()=>{var Se,De,ze;const $=Math.floor((Date.now()-g)/1e3),Z=m.filter(qe=>qe.is_correct).length+(o===((Se=O[i])==null?void 0:Se.correct_answer_index)?1:0),H=O.length,me=Math.round(Z/H*100),je=me>=(n.passing_score||70);let Ae=je?n.points_reward||20:0;if(me===100&&(Ae+=n.bonus_points||10),_({score:me,correct_answers:Z,total_questions:H,time_taken:$,points_earned:Ae,passed:je}),w(!0),t)try{await base44.entities.QuizAttempt.create({user_id:t.id,quiz_id:n.id,score:me,points_earned:Ae,correct_answers:Z,total_questions:H,time_taken_seconds:$,answers:[...m,{question_id:(De=O[i])==null?void 0:De.id,selected_answer:o,is_correct:o===((ze=O[i])==null?void 0:ze.correct_answer_index)}],passed:je,completed_at:new Date().toISOString()}),await base44.entities.Quiz.update(n.id,{total_attempts:(n.total_attempts||0)+1})}catch(qe){console.error("Error saving quiz attempt:",qe)}try{await wpe(t,"quiz",{isPerfect:me===100,fallbackScore:Ae,metadata:{quiz_id:n.id,score_percentage:me,correct_answers:Z,total_questions:H,time_taken_seconds:$,passed:je}})}catch(qe){console.warn("awardPointsForGame failed:",(qe==null?void 0:qe.message)||qe)}},he=()=>{r(null),a(0),c(null),h(!1),f([]),w(!1),_(null)},ae=$=>{const Z=I.filter(H=>H.quiz_id===$);return Z.length===0?null:Math.max(...Z.map(H=>H.score))},Q=["all","Quran","Hadith","Seerah","Fiqh","Prophets","Sahabah","Akhlaq","History","Mixed"],q=E==="all"?D:D.filter($=>$.subject===E),B=D.filter($=>$.is_featured);if(P)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-purple-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Zd,{className:"w-16 h-16 mx-auto mb-4 animate-bounce text-blue-600"}),s.jsx("p",{className:"text-gray-600 font-medium",children:"Loading quizzes..."})]})});if(n&&!N){if(O.length===0)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:s.jsx(ne,{className:"max-w-md",children:s.jsxs(ie,{className:"p-8 text-center",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"Loading quiz questions..."}),s.jsx(G,{onClick:he,children:"Back to Quizzes"})]})})});const $=O[i],Z=(i+1)/O.length*100;return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 py-8 px-4",children:s.jsx("div",{className:"max-w-3xl mx-auto",children:s.jsxs(ne,{className:"shadow-2xl",children:[s.jsxs(Fe,{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx(Ve,{className:"text-2xl",children:n.title}),s.jsxs(_e,{className:"bg-white/20 text-white",children:[s.jsx(hl,{className:"w-4 h-4 mr-1"}),"Question ",i+1,"/",O.length]})]}),s.jsx(ly,{value:Z,className:"bg-white/20"})]}),s.jsx(ie,{className:"p-8",children:d?s.jsxs(te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center",children:[s.jsx("div",{className:"text-6xl mb-6",children:o===$.correct_answer_index?"":""}),s.jsx("h3",{className:`text-3xl font-bold mb-4 ${o===$.correct_answer_index?"text-green-600":"text-red-600"}`,children:o===$.correct_answer_index?"Correct!":"Not Quite!"}),s.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 mb-6",children:[o!==$.correct_answer_index&&s.jsxs("p",{className:"text-lg mb-3",children:[s.jsx("strong",{children:"Correct Answer:"})," ",$.options[$.correct_answer_index]]}),s.jsxs("p",{className:"text-gray-700",children:[s.jsx("strong",{children:"Explanation:"})," ",$.explanation]}),$.source&&s.jsxs("p",{className:"text-sm text-gray-600 mt-3",children:[s.jsx("strong",{children:"Source:"})," ",$.source]})]}),s.jsx(G,{onClick:ee,size:"lg",className:"bg-gradient-to-r from-blue-500 to-purple-500",children:i<O.length-1?"Next Question":"See Results"})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(_e,{className:"mb-4",children:$.category}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:$.question})]}),s.jsx("div",{className:"space-y-3",children:$.options.map((H,me)=>s.jsx(te.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>L(me),className:`w-full p-4 rounded-xl border-2 text-left transition-all ${o===me?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300 bg-white"}`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold ${o===me?"bg-blue-500 text-white":"bg-gray-200 text-gray-600"}`,children:String.fromCharCode(65+me)}),s.jsx("span",{className:"flex-1 text-gray-900",children:H})]})},me))}),s.jsx(G,{onClick:U,disabled:o===null,className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 text-lg py-6",size:"lg",children:"Submit Answer"})]})})]})})})}return N&&j?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 py-8 px-4",children:s.jsx("div",{className:"max-w-2xl mx-auto",children:s.jsx(te.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},children:s.jsx(ne,{className:"shadow-2xl border-4 border-blue-300",children:s.jsxs(ie,{className:"p-12 text-center",children:[s.jsx("div",{className:"text-6xl mb-6",children:j.passed?"":""}),s.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:j.passed?"Congratulations!":"Keep Learning!"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[s.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 border-2 border-blue-200",children:[s.jsx(t$,{className:"w-8 h-8 mx-auto mb-2 text-blue-600"}),s.jsxs("p",{className:"text-4xl font-bold text-blue-600",children:[j.score,"%"]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Score"})]}),s.jsxs("div",{className:"bg-purple-50 rounded-xl p-6 border-2 border-purple-200",children:[s.jsx(Dd,{className:"w-8 h-8 mx-auto mb-2 text-purple-600"}),s.jsx("p",{className:"text-4xl font-bold text-purple-600",children:j.points_earned}),s.jsx("p",{className:"text-sm text-gray-600",children:"Points"})]})]}),s.jsx("div",{className:"bg-gray-50 rounded-xl p-6 mb-8",children:s.jsxs("div",{className:"flex justify-around text-center",children:[s.jsxs("div",{children:[s.jsx(eh,{className:"w-6 h-6 mx-auto mb-1 text-green-600"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j.correct_answers}),s.jsx("p",{className:"text-xs text-gray-600",children:"Correct"})]}),s.jsxs("div",{children:[s.jsx(fy,{className:"w-6 h-6 mx-auto mb-1 text-red-600"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j.total_questions-j.correct_answers}),s.jsx("p",{className:"text-xs text-gray-600",children:"Wrong"})]}),s.jsxs("div",{children:[s.jsx(hl,{className:"w-6 h-6 mx-auto mb-1 text-blue-600"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[Math.floor(j.time_taken/60),":",(j.time_taken%60).toString().padStart(2,"0")]}),s.jsx("p",{className:"text-xs text-gray-600",children:"Time"})]})]})}),j.score===100&&s.jsx("div",{className:"bg-gradient-to-r from-amber-100 to-yellow-100 border-2 border-amber-400 rounded-xl p-4 mb-6",children:s.jsxs("p",{className:"text-amber-900 font-bold",children:[" Perfect Score! +",n.bonus_points," Bonus Points!"]})}),s.jsxs("div",{className:"flex gap-4 justify-center",children:[s.jsx(G,{onClick:he,variant:"outline",size:"lg",children:"Back to Quizzes"}),s.jsx(G,{onClick:()=>V(n),className:"bg-gradient-to-r from-blue-500 to-purple-500",size:"lg",children:"Retry Quiz"})]})]})})})})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 py-8 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[!C&&s.jsx("div",{className:"mb-4",children:s.jsx(ne,{className:"border-2 border-yellow-300 bg-yellow-50",children:s.jsx(ie,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsx("div",{className:"text-sm text-yellow-900",children:"To track your points on the Leaderboard, please sign in."}),s.jsx(Lt,{to:"/Signup",children:s.jsx(G,{className:"bg-blue-600 hover:bg-blue-700",children:"Sign in / Signup"})})]})})})}),s.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-5xl font-bold text-gray-900 mb-4",children:"Islamic Quizzes"}),s.jsx("p",{className:"text-xl text-gray-600",children:"Test your knowledge on various Islamic topics"})]}),s.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-8",children:Q.map($=>s.jsx(G,{onClick:()=>k($),variant:E===$?"default":"outline",className:E===$?"bg-blue-600":"",children:$==="all"?"All Subjects":$},$))}),B.length>0&&E==="all"&&s.jsxs("div",{className:"mb-12",children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[s.jsx(fn,{className:"w-6 h-6 text-amber-500 fill-amber-500"}),"Featured This Week"]}),s.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:B.map(($,Z)=>{var H;return s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Z*.1},children:s.jsxs(ne,{className:"border-4 border-amber-400 hover:shadow-2xl transition-all cursor-pointer bg-gradient-to-br from-amber-50 to-yellow-50",children:[s.jsx(Fe,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"text-4xl",children:$.icon}),s.jsxs("div",{children:[s.jsx(Ve,{className:"text-2xl",children:$.title}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:$.description})]})]}),s.jsx(_e,{className:"bg-amber-500",children:"Featured"})]})}),s.jsxs(ie,{children:[s.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[s.jsx(_e,{children:$.subject}),s.jsxs(_e,{variant:"outline",children:[((H=$.questions)==null?void 0:H.length)||0," Questions"]}),s.jsxs(_e,{variant:"outline",children:[s.jsx(hl,{className:"w-3 h-3 mr-1"}),$.duration_minutes," min"]}),s.jsxs(_e,{variant:"outline",children:[s.jsx(Dd,{className:"w-3 h-3 mr-1"}),$.points_reward," pts"]})]}),t&&ae($.id)!==null&&s.jsx("div",{className:"bg-blue-100 rounded-lg p-2 mb-4",children:s.jsxs("p",{className:"text-sm text-blue-900",children:[s.jsx("strong",{children:"Your Best:"})," ",ae($.id),"%"]})}),s.jsx(G,{onClick:()=>V($),className:"w-full bg-gradient-to-r from-amber-500 to-orange-500",size:"lg",children:"Start Quiz"})]})]})},$.id)})})]}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:E==="all"?"All Quizzes":`${E} Quizzes`}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:q.map(($,Z)=>{var H;return s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Z*.1},children:s.jsxs(ne,{className:"hover:shadow-xl transition-all cursor-pointer h-full",children:[s.jsxs(Fe,{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"text-4xl",children:$.icon}),s.jsx("div",{className:"flex-1",children:s.jsx(Ve,{className:"text-lg",children:$.title})})]}),s.jsx("p",{className:"text-sm text-gray-600",children:$.description})]}),s.jsxs(ie,{children:[s.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[s.jsx(_e,{children:$.subject}),s.jsxs(_e,{variant:"outline",children:[((H=$.questions)==null?void 0:H.length)||0," Qs"]}),s.jsxs(_e,{variant:"outline",children:[s.jsx(hl,{className:"w-3 h-3 mr-1"}),$.duration_minutes,"m"]})]}),t&&ae($.id)!==null&&s.jsx("div",{className:"bg-green-100 rounded-lg p-2 mb-4",children:s.jsxs("p",{className:"text-xs text-green-900",children:["Best: ",ae($.id),"%"]})}),s.jsx(G,{onClick:()=>V($),className:"w-full bg-blue-600",children:"Take Quiz"})]})]})},$.id)})}),q.length===0&&s.jsx(ne,{children:s.jsxs(ie,{className:"p-12 text-center",children:[s.jsx(Fn,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-gray-600",children:"No quizzes available in this category yet."})]})})]})})}function gV(){const t=si(),[e,n]=v.useState(!1),[r,i]=v.useState(null),[a,o]=v.useState([]),[c,d]=v.useState(""),[h,m]=v.useState(5),[f,g]=v.useState(!1),[x,N]=v.useState(""),[w,j]=v.useState(""),[_,E]=v.useState({title:"",description:"",subject:"Quran",difficulty:"mixed",duration_minutes:15,passing_score:70,points_reward:20,bonus_points:10,is_active:!0,is_featured:!1,age_group:"all",icon:"",start_date:"",end_date:""}),k=["Quran","Hadith","Seerah","Fiqh","Prophets","Sahabah","Akhlaq","History","Arabic","Beliefs","Mixed"],{data:C=[]}=Un({queryKey:["all-quizzes"],queryFn:()=>yt.entities.Quiz.list("-created_date",100),initialData:[]}),{data:R=[]}=Un({queryKey:["all-quiz-questions"],queryFn:()=>yt.entities.QuizQuestion.filter({is_active:!0},"-date_added",500),initialData:[]}),F=Nn({mutationFn:q=>yt.entities.Quiz.create(q),onSuccess:()=>{t.invalidateQueries({queryKey:["all-quizzes"]}),U()}}),D=Nn({mutationFn:({id:q,data:B})=>yt.entities.Quiz.update(q,B),onSuccess:()=>{t.invalidateQueries({queryKey:["all-quizzes"]}),U()}}),P=Nn({mutationFn:q=>yt.entities.Quiz.delete(q),onSuccess:()=>{t.invalidateQueries({queryKey:["all-quizzes"]})}}),I=async q=>{q.preventDefault();const B={..._,questions:a,week_number:_.start_date?O(new Date(_.start_date)):null};r?await D.mutateAsync({id:r.id,data:B}):await F.mutateAsync(B)},O=q=>{const B=new Date(q.getFullYear(),0,1),$=(q-B)/864e5;return Math.ceil(($+B.getDay()+1)/7)},V=q=>{i(q),E({title:q.title,description:q.description,subject:q.subject,difficulty:q.difficulty,duration_minutes:q.duration_minutes,passing_score:q.passing_score,points_reward:q.points_reward,bonus_points:q.bonus_points,is_active:q.is_active,is_featured:q.is_featured,age_group:q.age_group||"all",icon:q.icon||"",start_date:q.start_date||"",end_date:q.end_date||""}),o(q.questions||[]),n(!0)},L=async q=>{window.confirm("Are you sure you want to delete this quiz?")&&await P.mutateAsync(q)},U=()=>{E({title:"",description:"",subject:"Quran",difficulty:"mixed",duration_minutes:15,passing_score:70,points_reward:20,bonus_points:10,is_active:!0,is_featured:!1,age_group:"all",icon:"",start_date:"",end_date:""}),o([]),i(null),n(!1),d(""),m(5),g(!1),N(""),j("")},ee=q=>{o(B=>B.includes(q)?B.filter($=>$!==q):[...B,q])},re=R.filter(q=>_.subject==="Mixed"||q.category===_.subject),he=q=>{const B=String(q||"").toLowerCase();return["easy","medium","hard"].includes(B)?B:"easy"},ae=async()=>{if(N(""),j(""),!c.trim()){N("Enter a topic for AI generation");return}g(!0);try{const{auth:q}=qt();if(!(q!=null&&q.currentUser))throw new Error("Please login to use AI agent");const B=await q.currentUser.getIdToken(),$=await fetch("/api/quizAgent",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${B}`},body:JSON.stringify({topic:c,subject:_.subject,difficulty:_.difficulty,count:h})});if(!$.ok)throw new Error(`Agent error: ${$.status}`);const Z=await $.json(),H=Array.isArray(Z.questions)?Z.questions:[],me=[];for(const je of H)try{const Ae=Array.isArray(je.options)&&je.options.length>=2?je.options.slice(0,4):["A","B","C","D"],ge=Math.max(0,Ae.findIndex(ze=>String(ze).trim()===String(je.answer||"").trim())),Se={category:je.category||_.subject,difficulty:he(je.difficulty||_.difficulty),question:je.question||`Question about ${c}`,options:Ae,correct_answer_index:ge>=0?ge:0,explanation:"",source:"AI",age_group:_.age_group||"all",is_active:!0},De=await yt.entities.QuizQuestion.create(Se);De!=null&&De.id&&me.push(De.id)}catch{}me.length&&(o(je=>[...je,...me]),t.invalidateQueries({queryKey:["all-quiz-questions"]})),j(`Generated ${H.length} and added ${me.length} questions.`)}catch(q){N((q==null?void 0:q.message)||"Failed to generate with AI")}finally{g(!1)}},Q={total:C.length,active:C.filter(q=>q.is_active).length,featured:C.filter(q=>q.is_featured).length,totalAttempts:C.reduce((q,B)=>q+(B.total_attempts||0),0)};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 py-8 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Quiz Manager"}),s.jsx("p",{className:"text-gray-600",children:"Create and manage weekly quizzes"})]}),s.jsxs(G,{onClick:()=>n(!e),className:"bg-blue-600 hover:bg-blue-700",children:[e?s.jsx(ps,{className:"w-4 h-4 mr-2"}):s.jsx(Os,{className:"w-4 h-4 mr-2"}),e?"Cancel":"Create Quiz"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[s.jsx(ne,{children:s.jsxs(ie,{className:"p-4 text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Quizzes"}),s.jsx("p",{className:"text-3xl font-bold text-blue-600",children:Q.total})]})}),s.jsx(ne,{children:s.jsxs(ie,{className:"p-4 text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Active"}),s.jsx("p",{className:"text-3xl font-bold text-green-600",children:Q.active})]})}),s.jsx(ne,{children:s.jsxs(ie,{className:"p-4 text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Featured"}),s.jsx("p",{className:"text-3xl font-bold text-amber-600",children:Q.featured})]})}),s.jsx(ne,{children:s.jsxs(ie,{className:"p-4 text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Attempts"}),s.jsx("p",{className:"text-3xl font-bold text-purple-600",children:Q.totalAttempts})]})})]}),s.jsx(ri,{children:e&&s.jsx(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:s.jsxs(ne,{className:"mb-8 border-2 border-blue-300",children:[s.jsx(Fe,{className:"bg-gradient-to-r from-blue-50 to-purple-50",children:s.jsx(Ve,{children:r?"Edit Quiz":"Create New Quiz"})}),s.jsx(ie,{className:"p-6",children:s.jsxs("form",{onSubmit:I,className:"space-y-6",children:[s.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"AI Topic"}),s.jsx(Te,{value:c,onChange:q=>d(q.target.value),placeholder:"e.g., Ramadan, Salah, Wudu"})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"AI Count"}),s.jsx(Te,{type:"number",value:h,onChange:q=>m(parseInt(q.target.value||"5"))})]}),s.jsx("div",{className:"flex items-end",children:s.jsx(G,{type:"button",className:"bg-purple-600 hover:bg-purple-700",onClick:ae,disabled:f,children:f?"Generating":"Generate via AI"})})]}),(x||w)&&s.jsxs("div",{className:"text-sm",children:[x&&s.jsx("div",{className:"text-red-600",children:x}),w&&s.jsx("div",{className:"text-green-600",children:w})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"Quiz Title"}),s.jsx(Te,{value:_.title,onChange:q=>E({..._,title:q.target.value}),placeholder:"e.g., Ramadan Champions Quiz",required:!0})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Icon Emoji"}),s.jsx(Te,{value:_.icon,onChange:q=>E({..._,icon:q.target.value}),placeholder:""})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Description"}),s.jsx(In,{value:_.description,onChange:q=>E({..._,description:q.target.value}),placeholder:"Describe the quiz...",rows:2})]}),s.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"Subject"}),s.jsxs(en,{value:_.subject,onValueChange:q=>E({..._,subject:q}),children:[s.jsx(Kt,{children:s.jsx(tn,{})}),s.jsx(Gt,{children:k.map(q=>s.jsx(Re,{value:q,children:q},q))})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Duration (min)"}),s.jsx(Te,{type:"number",value:_.duration_minutes,onChange:q=>E({..._,duration_minutes:parseInt(q.target.value)})})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Points"}),s.jsx(Te,{type:"number",value:_.points_reward,onChange:q=>E({..._,points_reward:parseInt(q.target.value)})})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Bonus"}),s.jsx(Te,{type:"number",value:_.bonus_points,onChange:q=>E({..._,bonus_points:parseInt(q.target.value)})})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"Start Date"}),s.jsx(Te,{type:"date",value:_.start_date,onChange:q=>E({..._,start_date:q.target.value})})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"End Date"}),s.jsx(Te,{type:"date",value:_.end_date,onChange:q=>E({..._,end_date:q.target.value})})]})]}),s.jsxs("div",{className:"flex gap-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Is,{checked:_.is_active,onCheckedChange:q=>E({..._,is_active:q})}),s.jsx(ye,{children:"Active"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Is,{checked:_.is_featured,onCheckedChange:q=>E({..._,is_featured:q})}),s.jsx(ye,{children:"Featured"})]})]}),s.jsxs("div",{children:[s.jsxs(ye,{className:"mb-3 block",children:["Select Questions (",a.length," selected)"]}),s.jsx("div",{className:"max-h-96 overflow-y-auto border rounded-lg p-4 space-y-2",children:re.map(q=>s.jsx("div",{onClick:()=>ee(q.id),className:`p-3 rounded-lg border-2 cursor-pointer transition-all ${a.includes(q.id)?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("input",{type:"checkbox",checked:a.includes(q.id),onChange:()=>{},className:"mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-gray-900",children:q.question}),s.jsxs("div",{className:"flex gap-2 mt-1",children:[s.jsx(_e,{variant:"outline",className:"text-xs",children:q.category}),s.jsx(_e,{variant:"outline",className:"text-xs",children:q.difficulty})]})]})]})},q.id))})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(G,{type:"submit",className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(ya,{className:"w-4 h-4 mr-2"}),r?"Update":"Create"," Quiz"]}),s.jsx(G,{type:"button",variant:"outline",onClick:U,children:"Cancel"})]})]})})]})})}),s.jsx("div",{className:"space-y-4",children:C.map((q,B)=>{var $;return s.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:B*.05},children:s.jsx(ne,{className:q.is_featured?"border-4 border-amber-400":"",children:s.jsx(ie,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"text-4xl",children:q.icon}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:q.title}),s.jsx("p",{className:"text-sm text-gray-600",children:q.description})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[s.jsx(_e,{children:q.subject}),s.jsxs(_e,{variant:"outline",children:[(($=q.questions)==null?void 0:$.length)||0," questions"]}),s.jsxs(_e,{variant:"outline",children:[q.duration_minutes," min"]}),s.jsxs(_e,{variant:"outline",children:[q.points_reward," pts"]}),q.is_featured&&s.jsxs(_e,{className:"bg-amber-500",children:[s.jsx(fn,{className:"w-3 h-3 mr-1"}),"Featured"]}),!q.is_active&&s.jsx(_e,{variant:"destructive",children:"Inactive"}),q.total_attempts>0&&s.jsxs(_e,{variant:"outline",children:[s.jsx(Nj,{className:"w-3 h-3 mr-1"}),q.total_attempts," attempts"]})]}),q.start_date&&s.jsxs("div",{className:"flex items-center gap-2 mt-2 text-sm text-gray-600",children:[s.jsx(my,{className:"w-4 h-4"}),q.start_date," to ",q.end_date]})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx(G,{onClick:()=>V(q),variant:"outline",size:"sm",children:s.jsx(yo,{className:"w-4 h-4"})}),s.jsx(G,{onClick:()=>L(q.id),variant:"outline",size:"sm",className:"text-red-600 hover:bg-red-50",children:s.jsx(hr,{className:"w-4 h-4"})})]})]})})})},q.id)})})]})})}function km(){const[t,e]=v.useState(""),[n,r]=v.useState(""),[i,a]=v.useState(""),[o,c]=v.useState(""),[d,h]=v.useState(""),[m,f]=v.useState(""),[g,x]=v.useState({}),[N,w]=v.useState(!1),[j,_]=v.useState(!1),[E,k]=v.useState(""),[C,R]=v.useState(null),[F,D]=v.useState(""),[P,I]=v.useState(!1),[O,V]=v.useState(""),[L,U]=v.useState(!1),ee=Yn();function re(){const ae={};return t.trim()||(ae.fullName="Full name is required"),n.trim()?/^\d+$/.test(n.trim())||(ae.age="Age must be a number"):ae.age="Age is required",i.trim()||(ae.city="City is required"),o.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.trim())||(ae.email="Invalid email format"):ae.email="Email is required",m.trim()||(ae.madrasah="Madrasah name is required"),(!d.trim()||d.length<6)&&(ae.password="Password must be at least 6 characters"),x(ae),Object.keys(ae).length===0}async function he(ae){var Q,q,B,$;if(ae.preventDefault(),k(""),!!re()){w(!0);try{const Z=o.trim().toLowerCase(),H=await dO(Z,d.trim());try{await mO(),U(!0)}catch{}_(!0),setTimeout(()=>ee("/Login"),1500);try{await CN(H.uid,{fullName:t.trim(),age:n.trim(),city:i.trim(),madrasah:m.trim(),email:Z}),R(!0);try{const{auth:me}=qt(),je=await((q=(Q=me==null?void 0:me.currentUser)==null?void 0:Q.getIdToken)==null?void 0:q.call(Q));if(je){const ge=await fetch("/api/signupNotify",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${je}`},body:JSON.stringify({email:Z,fullName:t.trim()})});if(ge.ok){const Se=await ge.json();Se!=null&&Se.notified&&D("Admin has been notified of your signup.")}}}catch{}}catch(me){const je=(me==null?void 0:me.code)||"";let Ae=(me==null?void 0:me.message)||"Profile save failed.";je==="permission-denied"&&(Ae="Profile save requires Firebase access. You can still log in."),R(!1),D(Ae);try{const{auth:ge}=qt(),Se=await(($=(B=ge==null?void 0:ge.currentUser)==null?void 0:B.getIdToken)==null?void 0:$.call(B));if(Se){const ze=await fetch("/api/signupNotify",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Se}`},body:JSON.stringify({email:Z,fullName:t.trim()})});if(ze.ok){const qe=await ze.json();qe!=null&&qe.ok&&D(ft=>ft||"Your account is registered on the backend.")}}}catch{}}}catch(Z){const H=(Z==null?void 0:Z.code)||"";let me=(Z==null?void 0:Z.message)||"Signup failed";H==="auth/email-already-in-use"&&(me="Email already in use. Try logging in or reset your password.",I(!0),V(o.trim().toLowerCase())),H==="auth/invalid-email"&&(me="Invalid email address."),H==="auth/weak-password"&&(me="Password is too weak. Use at least 6 characters."),H==="auth/operation-not-allowed"&&(me="Email/password sign-up is disabled. Enable it in Firebase."),k(me)}finally{w(!1)}}}return s.jsxs("div",{className:"container mx-auto max-w-xl px-4 py-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Sign Up"}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Create your account and well register you in our backend. You can log in immediately after signing up."}),!1,s.jsxs("form",{onSubmit:he,className:"space-y-4 bg-white/50 rounded-lg p-6 shadow",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"fullName",children:"Full Name"}),s.jsx("input",{id:"fullName",type:"text",className:"w-full rounded border px-3 py-2 focus:outline-none focus:ring",value:t,onChange:ae=>e(ae.target.value),placeholder:"e.g., Aisha Khan"}),g.fullName&&s.jsx("div",{className:"text-red-600 text-xs mt-1",children:g.fullName})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"age",children:"Age"}),s.jsx("input",{id:"age",type:"text",className:"w-full rounded border px-3 py-2 focus:outline-none focus:ring",value:n,onChange:ae=>r(ae.target.value),placeholder:"e.g., 10"}),g.age&&s.jsx("div",{className:"text-red-600 text-xs mt-1",children:g.age})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"madrasah",children:"Madrasah Name"}),s.jsx("input",{id:"madrasah",type:"text",className:"w-full rounded border px-3 py-2 focus:outline-none focus:ring",value:m,onChange:ae=>f(ae.target.value),placeholder:"e.g., Darul Uloom Karachi"}),g.madrasah&&s.jsx("div",{className:"text-red-600 text-xs mt-1",children:g.madrasah})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"city",children:"City"}),s.jsx("input",{id:"city",type:"text",className:"w-full rounded border px-3 py-2 focus:outline-none focus:ring",value:i,onChange:ae=>a(ae.target.value),placeholder:"e.g., Karachi"}),g.city&&s.jsx("div",{className:"text-red-600 text-xs mt-1",children:g.city})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"email",children:"Email"}),s.jsx("input",{id:"email",type:"email",className:"w-full rounded border px-3 py-2 focus:outline-none focus:ring",value:o,onChange:ae=>c(ae.target.value),placeholder:"e.g., aisha@example.com"}),g.email&&s.jsx("div",{className:"text-red-600 text-xs mt-1",children:g.email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"password",children:"Password"}),s.jsx("input",{id:"password",type:"password",className:"w-full rounded border px-3 py-2 focus:outline-none focus:ring",value:d,onChange:ae=>h(ae.target.value),placeholder:"At least 6 characters"}),g.password&&s.jsx("div",{className:"text-red-600 text-xs mt-1",children:g.password})]}),E&&s.jsx("div",{className:"text-red-600 text-sm",children:E}),P&&s.jsx("div",{className:"mt-2 flex items-center gap-2 text-sm",children:s.jsx("button",{type:"button",className:"text-blue-700 underline",onClick:async()=>{D("");try{await hO(O),D("Password reset email sent. Check your inbox."),I(!1)}catch(ae){const Q=(ae==null?void 0:ae.code)||"";let q=(ae==null?void 0:ae.message)||"Failed to send reset email.";Q==="auth/invalid-email"&&(q="Please enter a valid email address."),Q==="auth/user-not-found"&&(q="No account found for this email."),D(q)}},children:"Send reset email"})}),j&&s.jsx("div",{className:"text-green-600 text-sm",children:"Account created! Redirecting to login"}),L&&s.jsx("div",{className:"text-green-700 bg-green-50 border border-green-200 rounded p-2 text-sm",children:"Verification email sent. Please check your inbox."}),C===!1&&s.jsx("div",{className:"text-yellow-700 bg-yellow-50 border border-yellow-200 rounded p-2 text-sm",children:F||"We couldnt save your profile right now, but your account is created. You can complete your profile after login."}),F&&C!==!1&&s.jsx("div",{className:"text-blue-700 bg-blue-50 border border-blue-200 rounded p-2 text-sm",children:F}),s.jsx("button",{type:"submit",className:"inline-flex items-center justify-center rounded bg-blue-600 px-4 py-2 text-white hover:bg-blue-700 disabled:opacity-60",disabled:N,children:N?"Creating":"Create Account"}),s.jsxs("div",{className:"mt-4 text-center",children:[s.jsx("span",{children:"Already have an account? "}),s.jsx("a",{href:"/Login",className:"text-blue-700 font-semibold",children:"Login"})]})]})]})}function dj(){const[t,e]=v.useState(""),[n,r]=v.useState(""),[i,a]=v.useState(""),[o,c]=v.useState(!1),d=Yn(),h=async m=>{m.preventDefault(),a(""),c(!0);try{const f=await cO(t,n);try{const{db:g}=qt();if(g&&(f!=null&&f.uid)){const x=await tp(f.uid),N=!(x!=null&&x.fullName)||!(x!=null&&x.age)||!(x!=null&&x.city)||!(x!=null&&x.madrasah);d(N?"/CompleteProfile":"/Games")}else d("/Games")}catch{d("/Games")}}catch(f){const g=(f==null?void 0:f.code)||"";let x=(f==null?void 0:f.message)||"Login failed";g==="auth/invalid-credential"&&(x="Invalid email or password."),g==="auth/user-not-found"&&(x="No account found for this email. Please sign up."),g==="auth/wrong-password"&&(x="Incorrect password."),g==="auth/too-many-requests"&&(x="Too many attempts. Please wait and try again."),a(x)}finally{c(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-100 to-purple-100",children:s.jsxs("form",{onSubmit:h,className:"bg-white p-8 rounded-xl shadow-lg w-full max-w-md",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Login"}),i&&s.jsx("div",{className:"mb-4 text-red-600",children:i}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block mb-2 font-semibold",children:"Email"}),s.jsx("input",{type:"email",value:t,onChange:m=>e(m.target.value),className:"w-full p-2 border rounded",required:!0})]}),s.jsxs("div",{className:"mb-2",children:[s.jsx("label",{className:"block mb-2 font-semibold",children:"Password"}),s.jsx("input",{type:"password",value:n,onChange:m=>r(m.target.value),className:"w-full p-2 border rounded",required:!0})]}),s.jsx("div",{className:"text-right text-sm mb-6",children:s.jsx("button",{type:"button",className:"text-blue-600 hover:underline",onClick:async()=>{a("");try{const{auth:m}=qt();if(!m)throw new Error("Firebase not configured");if(!t)throw new Error("Enter your email above, then click reset.");await O_(m,t),a("Password reset email sent. Check your inbox.")}catch(m){const f=(m==null?void 0:m.code)||"";let g=(m==null?void 0:m.message)||"Failed to send reset email.";f==="auth/invalid-email"&&(g="Please enter a valid email address."),f==="auth/user-not-found"&&(g="No account found for this email."),a(g)}},children:"Forgot password?"})}),s.jsx("button",{type:"submit",className:"w-full py-2 px-4 bg-gradient-to-r from-blue-500 to-purple-500 text-white font-bold rounded hover:scale-105 transition-transform",disabled:o,children:o?"Signing in":"Login"}),s.jsxs("div",{className:"mt-4 text-center",children:[s.jsx("span",{children:"Don't have an account? "}),s.jsx("a",{href:"/Signup",className:"text-blue-600 font-semibold",children:"Sign up"})]})]})})}function jpe(){const[t,e]=wn.useState([]),[n,r]=wn.useState(!1),[i,a]=wn.useState({text:"",status:"all"}),o=wn.useCallback(async()=>{r(!0);try{const h=await Zx.list();e(h)}catch(h){console.error("Failed to load messages:",h)}finally{r(!1)}},[]);wn.useEffect(()=>{o()},[o]);const c=async(h,m)=>{try{await Zx.markRead(h,!m),e(f=>f.map(g=>g.id===h?{...g,read:!m}:g))}catch(f){console.error("Failed to update read status:",f)}},d=t.filter(h=>{const m=i.status==="all"?!0:i.status==="read"?h.read:!h.read,f=(i.text||"").toLowerCase(),g=!f||[h.name,h.email,h.subject,h.message].some(x=>(x||"").toLowerCase().includes(f));return m&&g});return s.jsx("div",{className:"p-6",children:s.jsxs(ne,{children:[s.jsx(Fe,{children:s.jsx(Ve,{children:"Messages"})}),s.jsxs(ie,{children:[s.jsxs("div",{className:"flex gap-2 mb-4 items-center",children:[s.jsx(Te,{placeholder:"Search by name, email, subject, message",value:i.text,onChange:h=>a({...i,text:h.target.value})}),s.jsxs("select",{className:"border rounded px-2 py-2",value:i.status,onChange:h=>a({...i,status:h.target.value}),children:[s.jsx("option",{value:"all",children:"All"}),s.jsx("option",{value:"unread",children:"Unread"}),s.jsx("option",{value:"read",children:"Read"})]}),s.jsx(G,{variant:"outline",onClick:o,disabled:n,children:n?"Loading...":"Refresh"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left border-b",children:[s.jsx("th",{className:"p-2",children:"Status"}),s.jsx("th",{className:"p-2",children:"Name"}),s.jsx("th",{className:"p-2",children:"Email"}),s.jsx("th",{className:"p-2",children:"Subject"}),s.jsx("th",{className:"p-2",children:"Message"}),s.jsx("th",{className:"p-2",children:"Date"}),s.jsx("th",{className:"p-2",children:"Actions"})]})}),s.jsxs("tbody",{children:[d.map(h=>s.jsxs("tr",{className:"border-b align-top",children:[s.jsx("td",{className:"p-2",children:h.read?"Read":"Unread"}),s.jsx("td",{className:"p-2",children:h.name}),s.jsx("td",{className:"p-2",children:h.email}),s.jsx("td",{className:"p-2",children:h.subject}),s.jsx("td",{className:"p-2 whitespace-pre-wrap max-w-xl",children:h.message}),s.jsx("td",{className:"p-2",children:h.createdAt?new Date(h.createdAt).toLocaleString():""}),s.jsx("td",{className:"p-2",children:s.jsx(G,{size:"sm",onClick:()=>c(h.id,h.read),children:h.read?"Mark Unread":"Mark Read"})})]},h.id)),d.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"p-4 text-center text-gray-500",children:"No messages found."})})]})]})})]})]})})}function xV(){const[t,e]=v.useState("chat"),[n,r]=v.useState([{role:"assistant",content:"Hi! Im your AI assistant. Ask me anything or request edits."}]),[i,a]=v.useState(""),[o,c]=v.useState(!1),[d,h]=v.useState(""),m=v.useRef(null),f=Yn(),g=()=>{m.current&&(m.current.scrollTop=m.current.scrollHeight)},x=async()=>{var j,_,E;h("");const w=i.trim();if(w){a(""),c(!0);try{const{auth:k}=qt();let C=null;if(k!=null&&k.currentUser)C=await k.currentUser.getIdToken();else{f(it("Login"));return}const R=["/api/assistant","/.netlify/functions/assistant"];let F;for(const O of R)try{if(F=await fetch(O,{method:"POST",headers:C?{"Content-Type":"application/json",Authorization:`Bearer ${C}`}:{"Content-Type":"application/json"},body:JSON.stringify({mode:t,messages:[...n,{role:"user",content:w}]})}),F.ok)break}catch{}if(!F||!F.ok)throw new Error(`Assistant error: ${F?F.status:"no response"}`);const D=await F.json();if(D!=null&&D.error){const O=(j=D.error)==null?void 0:j.code,V=(_=D.error)==null?void 0:_.type;let L=String(((E=D.error)==null?void 0:E.message)||"Assistant error");O===429&&(L=V==="quota"?"OpenAI quota exceeded for this API key. Check plan/billing or use a different key.":"OpenAI rate limit reached. Please slow down and retry shortly."),h(L)}const P=String(D.reply||""),I=[...n,{role:"user",content:w},{role:"assistant",content:P}];r(I),setTimeout(g,50)}catch(k){h((k==null?void 0:k.message)||"Failed to contact assistant")}finally{c(!1)}}},N=[{label:"Edit Stories",page:"AdminStories"},{label:"Edit Banners",page:"AdminBanners"},{label:"Manage Users",page:"AdminUsers"},{label:"Quiz Manager",page:"AdminQuizManager"}];return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 py-6 px-3",children:s.jsx("div",{className:"max-w-2xl mx-auto",children:s.jsxs(ne,{className:"shadow-lg border-2 border-blue-200",children:[s.jsx(Fe,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:s.jsxs(Ve,{className:"flex items-center justify-between",children:[s.jsx("span",{children:"AI Agent / ChatGPT"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(G,{variant:t==="chat"?"default":"outline",size:"sm",onClick:()=>e("chat"),children:"ChatGPT"}),s.jsx(G,{variant:t==="admin"?"default":"outline",size:"sm",onClick:()=>e("admin"),children:"Admin Agent"})]})]})}),s.jsxs(ie,{className:"p-4",children:[d&&s.jsx("div",{className:"mb-3 text-red-600",children:d}),s.jsx("div",{ref:m,className:"h-[50vh] overflow-y-auto bg-white rounded-lg p-3 border",children:n.map((w,j)=>s.jsxs("div",{className:`mb-3 ${w.role==="assistant"?"text-gray-800":"text-gray-900"}`,children:[s.jsx(_e,{variant:w.role==="assistant"?"secondary":"outline",className:"mr-2",children:w.role==="assistant"?"Assistant":"You"}),s.jsx("span",{className:"whitespace-pre-wrap",children:w.content})]},j))}),s.jsxs("div",{className:"mt-3",children:[s.jsx(In,{value:i,onChange:w=>a(w.target.value),placeholder:"Ask a question or request an edit",rows:3,className:"w-full"}),s.jsxs("div",{className:"flex items-center justify-between mt-2",children:[s.jsx("div",{className:"flex flex-wrap gap-2",children:N.map(w=>s.jsx(G,{variant:"outline",size:"sm",onClick:()=>f(it(w.page)),children:w.label},w.page))}),s.jsx(G,{onClick:x,disabled:o,children:o?"Sending":"Send"})]}),s.jsx("div",{className:"text-xs text-gray-500 mt-2",children:t==="admin"?"Admin Agent suggests exact pages and steps for edits. For full control, use the quick links.":"ChatGPT mode answers general questions. Switch to Admin Agent for site edits."})]})]})]})})})}function hj(){const t=Yn(),[e,n]=v.useState(!0),[r,i]=v.useState(!1),[a,o]=v.useState(""),[c,d]=v.useState(""),[h,m]=v.useState({fullName:"",age:"",city:"",madrasah:""});v.useEffect(()=>{(async()=>{o(""),d("");try{const{auth:w,db:j}=qt(),_=w==null?void 0:w.currentUser;if(!_){t(it("Login"));return}if(!j){d("Profile cannot be saved right now (Firebase not configured). You can still use the app."),n(!1);return}const E=await tp(_.uid);m({fullName:(E==null?void 0:E.fullName)||(E==null?void 0:E.name)||"",age:(E==null?void 0:E.age)||"",city:(E==null?void 0:E.city)||"",madrasah:(E==null?void 0:E.madrasah)||""})}catch(w){o((w==null?void 0:w.message)||"Failed to load profile")}finally{n(!1)}})()},[t]);const f=N=>w=>m(j=>({...j,[N]:w.target.value})),g=()=>{var N,w,j,_;return!((N=h.fullName)!=null&&N.trim())||!((w=h.age)!=null&&w.trim())||!((j=h.city)!=null&&j.trim())||!((_=h.madrasah)!=null&&_.trim())},x=async N=>{N.preventDefault(),i(!0),o(""),d("");try{const{auth:w,db:j}=qt(),_=w==null?void 0:w.currentUser;if(!_){t(it("Login"));return}if(!j){d("Profile cannot be saved (Firebase not configured). You can continue."),t(it("Games"));return}await CN(_.uid,{fullName:h.fullName.trim(),age:h.age.trim(),city:h.city.trim(),madrasah:h.madrasah.trim(),email:String(_.email||"")}),t(it("Games"))}catch(w){const j=(w==null?void 0:w.code)||"";let _=(w==null?void 0:w.message)||"Failed to save profile";j==="permission-denied"&&(_="Missing permissions to save profile. You can continue and try later."),o(_)}finally{i(!1)}};return e?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading"}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-purple-50 px-4",children:s.jsxs("form",{onSubmit:x,className:"bg-white p-6 rounded-xl shadow-lg w-full max-w-lg",children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Complete Your Profile"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Please fill the missing details to personalize your experience."}),a&&s.jsx("div",{className:"mb-3 text-red-700 bg-red-50 border border-red-200 rounded p-2 text-sm",children:a}),c&&s.jsx("div",{className:"mb-3 text-yellow-700 bg-yellow-50 border border-yellow-200 rounded p-2 text-sm",children:c}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"block mb-1 font-medium",children:"Full Name"}),s.jsx("input",{className:"w-full p-2 border rounded",value:h.fullName,onChange:f("fullName")})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"block mb-1 font-medium",children:"Age"}),s.jsx("input",{className:"w-full p-2 border rounded",value:h.age,onChange:f("age")})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"block mb-1 font-medium",children:"City"}),s.jsx("input",{className:"w-full p-2 border rounded",value:h.city,onChange:f("city")})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block mb-1 font-medium",children:"Madrasah"}),s.jsx("input",{className:"w-full p-2 border rounded",value:h.madrasah,onChange:f("madrasah")})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("button",{type:"submit",className:"px-4 py-2 rounded bg-blue-600 text-white hover:bg-blue-700",disabled:r||g(),children:r?"Saving":"Save and Continue"}),s.jsx("button",{type:"button",className:"px-4 py-2 rounded border",onClick:()=>t(it("Games")),children:"Skip for now"})]})]})})}const _pe={Home:ux,Games:$1,Leaderboard:FO,Stories:WL,Learn:e3,ParentZone:t3,About:n3,Welcome:i3,ContactUs:a3,Duas:o3,RecordAndShare:W3,RecordingStudio:K3,RecordingsAdmin:G3,CreativeCorner:Q3,LearningLibrary:Y3,ColoringPages:J3,DrawingBoard:X3,PoetryWriting:Z3,MonthlyContest:eF,IslamicEncyclopedia:tF,AudioTafsir:nF,IslamicFacts:rF,Worksheets:sF,AudioNew:iF,Hadith:aF,History:oF,Tajweed:lF,PrintableQuizzes:cF,Multimedia:hF,FullQuran:qm,Quran:qm,Manzil:gF,Hizb:xF,HifzDashboard:NF,ResetPointsAdmin:CF,AdminDashboard:uj,AdminSettings:DF,AdminStories:MF,AdminAudio:nV,AdminMedia:rV,PrivacyPolicy:sV,Challenges:iV,AdminQuestions:aV,Videos:oV,AdminVideos:lV,AdminAudioContent:cV,AdminUsers:uV,DeleteAccount:dV,AdminBanners:hV,AdminStoryBuilder:mV,AdminGameSettings:fV,Quizzes:pV,AdminQuizManager:gV,Signup:km,Login:dj,Assistant:xV,CompleteProfile:hj};function Npe(t){t.endsWith("/")&&(t=t.slice(0,-1));let e=t.split("/").pop();e.includes("?")&&(e=e.split("?")[0]);const n=Object.keys(_pe).find(r=>r.toLowerCase()===e.toLowerCase());return!n||n==="Layout"?"Home":n}function Spe(){const t=go(),e=Npe(t.pathname),n=s.jsx(lr,{children:s.jsx(xV,{})});return s.jsx(gO,{currentPageName:e,children:s.jsxs(T9,{children:[s.jsx(Oe,{path:"/",element:s.jsx(ux,{})}),s.jsx(Oe,{path:"/Home",element:s.jsx(ux,{})}),s.jsx(Oe,{path:"/Games",element:s.jsx($1,{})}),s.jsx(Oe,{path:"/games",element:s.jsx($1,{})}),s.jsx(Oe,{path:"/Leaderboard",element:s.jsx(FO,{})}),s.jsx(Oe,{path:"/Stories",element:s.jsx(WL,{})}),s.jsx(Oe,{path:"/Learn",element:s.jsx(e3,{})}),s.jsx(Oe,{path:"/ParentZone",element:s.jsx(t3,{})}),s.jsx(Oe,{path:"/About",element:s.jsx(n3,{})}),s.jsx(Oe,{path:"/Welcome",element:s.jsx(i3,{})}),s.jsx(Oe,{path:"/ContactUs",element:s.jsx(a3,{})}),s.jsx(Oe,{path:"/Duas",element:s.jsx(o3,{})}),s.jsx(Oe,{path:"/RecordAndShare",element:s.jsx(W3,{})}),s.jsx(Oe,{path:"/RecordingStudio",element:s.jsx(K3,{})}),s.jsx(Oe,{path:"/RecordingsAdmin",element:s.jsx(lr,{children:s.jsx(G3,{})})}),s.jsx(Oe,{path:"/CreativeCorner",element:s.jsx(Q3,{})}),s.jsx(Oe,{path:"/LearningLibrary",element:s.jsx(Y3,{})}),s.jsx(Oe,{path:"/ColoringPages",element:s.jsx(J3,{})}),s.jsx(Oe,{path:"/DrawingBoard",element:s.jsx(X3,{})}),s.jsx(Oe,{path:"/PoetryWriting",element:s.jsx(Z3,{})}),s.jsx(Oe,{path:"/MonthlyContest",element:s.jsx(eF,{})}),s.jsx(Oe,{path:"/IslamicEncyclopedia",element:s.jsx(tF,{})}),s.jsx(Oe,{path:"/AudioTafsir",element:s.jsx(nF,{})}),s.jsx(Oe,{path:"/IslamicFacts",element:s.jsx(rF,{})}),s.jsx(Oe,{path:"/Worksheets",element:s.jsx(sF,{})}),s.jsx(Oe,{path:"/AudioNew",element:s.jsx(iF,{})}),s.jsx(Oe,{path:"/Hadith",element:s.jsx(aF,{})}),s.jsx(Oe,{path:"/History",element:s.jsx(oF,{})}),s.jsx(Oe,{path:"/Tajweed",element:s.jsx(lF,{})}),s.jsx(Oe,{path:"/PrintableQuizzes",element:s.jsx(cF,{})}),s.jsx(Oe,{path:"/Multimedia",element:s.jsx(hF,{})}),s.jsx(Oe,{path:"/FullQuran",element:s.jsx(qm,{})}),s.jsx(Oe,{path:"/Quran",element:s.jsx(qm,{})}),s.jsx(Oe,{path:"/quran",element:s.jsx(qm,{})}),s.jsx(Oe,{path:"/Manzil",element:s.jsx(gF,{})}),s.jsx(Oe,{path:"/Hizb",element:s.jsx(xF,{})}),s.jsx(Oe,{path:"/HifzDashboard",element:s.jsx(NF,{})}),s.jsx(Oe,{path:"/ResetPointsAdmin",element:s.jsx(CF,{})}),s.jsx(Oe,{path:"/AdminLogin",element:s.jsx(KI,{})}),s.jsx(Oe,{path:"/adminlogin",element:s.jsx(KI,{})}),s.jsx(Oe,{path:"/AdminDashboard",element:s.jsx(lr,{children:s.jsx(uj,{})})}),s.jsx(Oe,{path:"/admindashboard",element:s.jsx(lr,{children:s.jsx(uj,{})})}),s.jsx(Oe,{path:"/AdminSettings",element:s.jsx(lr,{children:s.jsx(DF,{})})}),s.jsx(Oe,{path:"/AdminStories",element:s.jsx(lr,{children:s.jsx(MF,{})})}),s.jsx(Oe,{path:"/AdminAudio",element:s.jsx(lr,{children:s.jsx(nV,{})})}),s.jsx(Oe,{path:"/AdminMedia",element:s.jsx(lr,{children:s.jsx(rV,{})})}),s.jsx(Oe,{path:"/PrivacyPolicy",element:s.jsx(sV,{})}),s.jsx(Oe,{path:"/Challenges",element:s.jsx(iV,{})}),s.jsx(Oe,{path:"/AdminQuestions",element:s.jsx(lr,{children:s.jsx(aV,{})})}),s.jsx(Oe,{path:"/Videos",element:s.jsx(oV,{})}),s.jsx(Oe,{path:"/AdminVideos",element:s.jsx(lr,{children:s.jsx(lV,{})})}),s.jsx(Oe,{path:"/AdminAudioContent",element:s.jsx(lr,{children:s.jsx(cV,{})})}),s.jsx(Oe,{path:"/AdminUsers",element:s.jsx(lr,{children:s.jsx(uV,{})})}),s.jsx(Oe,{path:"/DeleteAccount",element:s.jsx(dV,{})}),s.jsx(Oe,{path:"/AdminBanners",element:s.jsx(lr,{children:s.jsx(hV,{})})}),s.jsx(Oe,{path:"/AdminSponsors",element:s.jsx(lr,{children:s.jsx(QI,{})})}),s.jsx(Oe,{path:"/adminsponsors",element:s.jsx(lr,{children:s.jsx(QI,{})})}),s.jsx(Oe,{path:"/AdminStoryBuilder",element:s.jsx(lr,{children:s.jsx(mV,{})})}),s.jsx(Oe,{path:"/AdminGameSettings",element:s.jsx(lr,{children:s.jsx(fV,{})})}),s.jsx(Oe,{path:"/AdminMessages",element:s.jsx(lr,{children:s.jsx(jpe,{})})}),s.jsx(Oe,{path:"/Quizzes",element:s.jsx(pV,{})}),s.jsx(Oe,{path:"/AdminQuizManager",element:s.jsx(gV,{})}),s.jsx(Oe,{path:"/signup",element:s.jsx(km,{})}),s.jsx(Oe,{path:"/Signup",element:s.jsx(km,{})}),s.jsx(Oe,{path:"/Signin",element:s.jsx(km,{})}),s.jsx(Oe,{path:"/signin",element:s.jsx(km,{})}),s.jsx(Oe,{path:"/Login",element:s.jsx(dj,{})}),s.jsx(Oe,{path:"/login",element:s.jsx(dj,{})}),s.jsx(Oe,{path:"/CompleteProfile",element:s.jsx(hj,{})}),s.jsx(Oe,{path:"/completeprofile",element:s.jsx(hj,{})}),s.jsx(Oe,{path:"/Assistant",element:n}),s.jsx(Oe,{path:"/assistant",element:n}),s.jsx(Oe,{path:"*",element:s.jsx(ux,{})})]})})}function Epe(){return s.jsx(Spe,{})}const Cpe=20,kpe=1e6,Ja={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let yw=0;function Tpe(){return yw=(yw+1)%Number.MAX_VALUE,yw.toString()}const vw=new Map,JI=t=>{if(vw.has(t))return;const e=setTimeout(()=>{vw.delete(t),Hm({type:Ja.REMOVE_TOAST,toastId:t})},kpe);vw.set(t,e)},Ape=(t,e)=>{switch(e.type){case Ja.ADD_TOAST:return{...t,toasts:[e.toast,...t.toasts].slice(0,Cpe)};case Ja.UPDATE_TOAST:return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case Ja.DISMISS_TOAST:{const{toastId:n}=e;return n?JI(n):t.toasts.forEach(r=>{JI(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case Ja.REMOVE_TOAST:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},gx=[];let xx={toasts:[]};function Hm(t){xx=Ape(xx,t),gx.forEach(e=>{e(xx)})}function Ipe({...t}){const e=Tpe(),n=i=>Hm({type:Ja.UPDATE_TOAST,toast:{...i,id:e}}),r=()=>Hm({type:Ja.DISMISS_TOAST,toastId:e});return Hm({type:Ja.ADD_TOAST,toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function Rpe(){const[t,e]=v.useState(xx);return v.useEffect(()=>(gx.push(e),()=>{const n=gx.indexOf(e);n>-1&&gx.splice(n,1)}),[t]),{...t,toast:Ipe,dismiss:n=>Hm({type:Ja.DISMISS_TOAST,toastId:n})}}const yV=v.forwardRef(({...t},e)=>s.jsx("div",{ref:e,className:"fixed top-0 z-[100] pointer-events-none flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));yV.displayName="ToastProvider";const vV=v.forwardRef(({...t},e)=>s.jsx("div",{ref:e,className:"fixed top-0 z-[100] pointer-events-none flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));vV.displayName="ToastViewport";const Ppe=zf("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),bV=v.forwardRef(({className:t,variant:e,...n},r)=>s.jsx("div",{ref:r,className:ct(Ppe({variant:e}),t),...n}));bV.displayName="Toast";const Dpe=v.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:ct("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Dpe.displayName="ToastAction";const wV=v.forwardRef(({className:t,...e},n)=>s.jsx("button",{ref:n,className:ct("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:s.jsx(ps,{className:"h-4 w-4"})}));wV.displayName="ToastClose";const jV=v.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:ct("text-sm font-semibold",t),...e}));jV.displayName="ToastTitle";const _V=v.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:ct("text-sm opacity-90",t),...e}));_V.displayName="ToastDescription";function Mpe(){const{toasts:t}=Rpe();return s.jsxs(yV,{children:[t.map(function({id:e,title:n,description:r,action:i,...a}){return s.jsxs(bV,{...a,children:[s.jsxs("div",{className:"grid gap-1",children:[n&&s.jsx(jV,{children:n}),r&&s.jsx(_V,{children:r})]}),i,s.jsx(wV,{})]},e)}),s.jsx(vV,{})]})}function Ope(){return s.jsxs(s.Fragment,{children:[s.jsx(Epe,{}),s.jsx(Mpe,{})]})}const Lpe=new mae;VU.createRoot(document.getElementById("root")).render(s.jsx(wn.StrictMode,{children:s.jsx(fae,{client:Lpe,children:s.jsx(X9,{children:s.jsx(Ope,{})})})}));export{ri as A,G as B,ne as C,AR as G,th as H,Te as I,lB as L,ly as P,UC as R,fn as S,Kr as T,Fe as a,Ve as b,ie as c,_e as d,_i as e,At as f,yt as g,Zd as h,eh as i,s as j,fy as k,wpe as l,te as m,bj as n,Kv as o,Fn as p,Ce as q,v as r,fz as s,DC as t};
